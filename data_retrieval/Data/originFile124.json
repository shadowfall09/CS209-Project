{"items":[{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697381380,"post_id":77296946,"comment_id":136270094,"body_markdown":"Can you provide the code of the `com.bestteam.urlshorter.exception.ItemNotFoundException` class?","body":"Can you provide the code of the <code>com.bestteam.urlshorter.exception.ItemNotFoundException</code> class?"}],"answers":[{"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":1,"creation_date":1697392515,"post_id":77297823,"comment_id":136271379,"body_markdown":"...because `%d` means format a number here, but `id` is a String, so you must use `%s`","body":"...because <code>%d</code> means format a number here, but <code>id</code> is a String, so you must use <code>%s</code>"}],"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697391965,"creation_date":1697391965,"answer_id":77297823,"question_id":77296946,"body_markdown":"The problem is in one of the constructors of the `ItemNotFoundException` class:\r\n\r\n```java\r\npublic ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\r\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n}\r\n```\r\n\r\nInstead of `%d` you should use `%s`.","title":"IllegalFormatConversionException in rest api service spring boot","body":"<p>The problem is in one of the constructors of the <code>ItemNotFoundException</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n}\n</code></pre>\n<p>Instead of <code>%d</code> you should use <code>%s</code>.</p>\n"}],"owner":{"account_id":29340026,"reputation":13,"user_id":22479646,"display_name":"Foodi0_0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77297823,"answer_count":1,"score":1,"last_activity_date":1697391965,"creation_date":1697377799,"question_id":77296946,"body_markdown":"I am trying to write tests for my service, and some of them are not passing with desription Unexpected exception type thrown, expected: &lt;com.bestteam.urlshorter.exception.ItemNotFoundException&gt; but was: &lt;java.util.IllegalFormatConversionException&gt;\r\n\r\n```\r\n    @Test\r\n    public void testGetWhenLinkNotFoundThenThrowException() {\r\n        assertThrows(ItemNotFoundException.class, () -&gt; {\r\n            linkService.get(&quot;shortLink&quot;);\r\n        });\r\n        verify(linkRepository, times(0)).save(link);\r\n    }\r\n```\r\nand here is this get method \r\n\r\n```\r\n  public LinkDto get(String shortLink) {\r\n    Link linkEntity = linkRepository.findById(shortLink).orElseThrow(() -&gt; new ItemNotFoundException(Link.class, shortLink));\r\n    linkEntity.setOpenCount(\r\n      linkEntity.getOpenCount() + 1\r\n    );\r\n\r\n    linkRepository.save(linkEntity);\r\n    return linkMapper.toDto(linkEntity);\r\n  }\r\n```\r\nlinkMapper is a custom mapper \r\n\r\n```\r\n  public LinkDto toDto(Link link) {\r\n    if (link == null) {\r\n      return null;\r\n    }\r\n\r\n    LinkDto linkDto = new LinkDto();\r\n    linkDto.setLink(link.getLink());\r\n    linkDto.setShortLink(link.getShortLink());\r\n    linkDto.setOpenCount(link.getOpenCount());\r\n    linkDto.setIsActive(link.getIsActive());\r\n    linkDto.setCreationDateTime(link.getCreationDateTime());\r\n    linkDto.setExpirationDateTime(link.getExpirationDateTime());\r\n\r\n    if (link.getUser() != null) {\r\n      linkDto.setUserId(link.getUser().getId());\r\n    }\r\n\r\n    return linkDto;\r\n  }\r\n```\r\nThe ItemNotFoundException\r\n\r\n        @ResponseStatus(value = HttpStatus.NOT_FOUND)\r\n    public class ItemNotFoundException extends RuntimeException {\r\n      public static final String DEFAULT_MESSAGE = &quot;Entity not found&quot;;\r\n    \r\n      public ItemNotFoundException() {\r\n        super(DEFAULT_MESSAGE);\r\n      }\r\n    \r\n      public ItemNotFoundException(String message) {\r\n        super(message);\r\n      }\r\n    \r\n      public ItemNotFoundException(Class&lt;?&gt; entityClass, Long id) {\r\n        super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n      }\r\n    \r\n      public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\r\n        super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\r\n      }\r\n    }\r\n\r\n\r\nI tried to create global exception handler using AdviceController, but it did not help","title":"IllegalFormatConversionException in rest api service spring boot","body":"<p>I am trying to write tests for my service, and some of them are not passing with desription Unexpected exception type thrown, expected: &lt;com.bestteam.urlshorter.exception.ItemNotFoundException&gt; but was: &lt;java.util.IllegalFormatConversionException&gt;</p>\n<pre><code>    @Test\n    public void testGetWhenLinkNotFoundThenThrowException() {\n        assertThrows(ItemNotFoundException.class, () -&gt; {\n            linkService.get(&quot;shortLink&quot;);\n        });\n        verify(linkRepository, times(0)).save(link);\n    }\n</code></pre>\n<p>and here is this get method</p>\n<pre><code>  public LinkDto get(String shortLink) {\n    Link linkEntity = linkRepository.findById(shortLink).orElseThrow(() -&gt; new ItemNotFoundException(Link.class, shortLink));\n    linkEntity.setOpenCount(\n      linkEntity.getOpenCount() + 1\n    );\n\n    linkRepository.save(linkEntity);\n    return linkMapper.toDto(linkEntity);\n  }\n</code></pre>\n<p>linkMapper is a custom mapper</p>\n<pre><code>  public LinkDto toDto(Link link) {\n    if (link == null) {\n      return null;\n    }\n\n    LinkDto linkDto = new LinkDto();\n    linkDto.setLink(link.getLink());\n    linkDto.setShortLink(link.getShortLink());\n    linkDto.setOpenCount(link.getOpenCount());\n    linkDto.setIsActive(link.getIsActive());\n    linkDto.setCreationDateTime(link.getCreationDateTime());\n    linkDto.setExpirationDateTime(link.getExpirationDateTime());\n\n    if (link.getUser() != null) {\n      linkDto.setUserId(link.getUser().getId());\n    }\n\n    return linkDto;\n  }\n</code></pre>\n<p>The ItemNotFoundException</p>\n<pre><code>    @ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class ItemNotFoundException extends RuntimeException {\n  public static final String DEFAULT_MESSAGE = &quot;Entity not found&quot;;\n\n  public ItemNotFoundException() {\n    super(DEFAULT_MESSAGE);\n  }\n\n  public ItemNotFoundException(String message) {\n    super(message);\n  }\n\n  public ItemNotFoundException(Class&lt;?&gt; entityClass, Long id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n  }\n\n  public ItemNotFoundException(Class&lt;?&gt; entityClass, String id) {\n    super(String.format(&quot;%s: {%s, id=%d}&quot;, DEFAULT_MESSAGE, entityClass.getSimpleName(), id));\n  }\n}\n</code></pre>\n<p>I tried to create global exception handler using AdviceController, but it did not help</p>\n"},{"tags":["java","http","proxy","cxf","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":18859020,"reputation":1,"user_id":13756305,"display_name":"Aleksandrs"},"score":1,"creation_date":1592378579,"post_id":62418147,"comment_id":110400736,"body_markdown":"Correct me if I&#39;m wrong, but won&#39;t this change proxy for the whole JVM ?","body":"Correct me if I&#39;m wrong, but won&#39;t this change proxy for the whole JVM ?"},{"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"score":1,"creation_date":1592379488,"post_id":62418147,"comment_id":110401125,"body_markdown":"@aleksandrs ```public List&lt;Proxy&gt; select(URI uri) ``` takes a uri param. So I think you can return empty proxy list except for the target url you want to proxy. May be you do some url pattern matching inside that method","body":"@aleksandrs <code>public List&lt;Proxy&gt; select(URI uri) </code> takes a uri param. So I think you can return empty proxy list except for the target url you want to proxy. May be you do some url pattern matching inside that method"}],"tags":[],"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592344274,"creation_date":1592344274,"answer_id":62418147,"question_id":62409824,"body_markdown":"\r\nHere is an example without using 3rd party libraries. \r\n\r\n\r\n&gt; https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java\r\n\r\n```\r\npackage ch.schu.example.helloworld;\r\n\r\nimport java.net.ProxySelector;\r\n\r\nimport ch.schu.example.hello.HelloImpl;\r\nimport ch.schu.example.hello.HelloImplService;\r\n\r\npublic class Client {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ProxySelector.setDefault(new MyProxySelector());\r\n        \r\n        HelloImplService service = new HelloImplService();\r\n        HelloImpl hello = service.getHelloImplPort();\r\n        System.out.println(hello.sayHello(&quot;Howard Wollowitz&quot;));\r\n    }\r\n    \r\n}\r\n```\r\n\r\n&gt; https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java\r\n\r\n```\r\npackage ch.schu.example.helloworld;\r\n\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class MyProxySelector extends ProxySelector {\r\n\r\n    @Override\r\n    public List&lt;Proxy&gt; select(URI uri) \r\n    {\r\n        System.out.println(&quot;select for &quot; + uri.toString());\r\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;localhost&quot;, 9999));\r\n        ArrayList&lt;Proxy&gt; list = new ArrayList&lt;Proxy&gt;();\r\n        list.add(proxy);\r\n        return list;   \r\n    }\r\n\r\n    @Override\r\n    public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\r\n        System.err.println(&quot;Connection to &quot; + uri + &quot; failed.&quot;);\r\n    }\r\n}\r\n```","title":"How to add HTTP proxy to JAX-WS?","body":"<p>Here is an example without using 3rd party libraries. </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java\" rel=\"nofollow noreferrer\">https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/Client.java</a></p>\n</blockquote>\n\n<pre><code>package ch.schu.example.helloworld;\n\nimport java.net.ProxySelector;\n\nimport ch.schu.example.hello.HelloImpl;\nimport ch.schu.example.hello.HelloImplService;\n\npublic class Client {\n\n    public static void main(String[] args) {\n\n        ProxySelector.setDefault(new MyProxySelector());\n\n        HelloImplService service = new HelloImplService();\n        HelloImpl hello = service.getHelloImplPort();\n        System.out.println(hello.sayHello(\"Howard Wollowitz\"));\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java\" rel=\"nofollow noreferrer\">https://github.com/schuch/jaxws-proxy-example/blob/master/jaxws-client-with-proxy/src/main/java/ch/schu/example/helloworld/MyProxySelector.java</a></p>\n</blockquote>\n\n<pre><code>package ch.schu.example.helloworld;\n\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.*;\nimport java.util.*;\n\npublic class MyProxySelector extends ProxySelector {\n\n    @Override\n    public List&lt;Proxy&gt; select(URI uri) \n    {\n        System.out.println(\"select for \" + uri.toString());\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"localhost\", 9999));\n        ArrayList&lt;Proxy&gt; list = new ArrayList&lt;Proxy&gt;();\n        list.add(proxy);\n        return list;   \n    }\n\n    @Override\n    public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\n        System.err.println(\"Connection to \" + uri + \" failed.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29442839,"reputation":21,"user_id":22560709,"display_name":"Barguzin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697391158,"creation_date":1697194606,"answer_id":77287177,"question_id":62409824,"body_markdown":"Im find example near your thrid solution, on your semples it be:\r\n\r\n    HelloImplService service = new HelloImplService();\r\n    HelloImpl hello = service.getHelloImplPort();\r\n    ((BindingProvider) client).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;http://proxyIp:proxyPort&quot;);\r\n    hello.method(var1, var2);\r\n\r\nYou can look at your current endpoint address by:\r\n\r\n    System.out.println(((BindingProvider) hello).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY));\r\n\r\nI found this examples there: [*Changing WSDL url ( endpoint) in JAX-WS client*][1]\r\n\r\nBtw, i have the same problem, but in my case wsdl from my server have 127.0.0.1 endpoint address and i need to replace it. And this solution works on my case.\r\nMaybe you just put a wrong properties...\r\n\r\n\r\n  [1]: https://biemond.blogspot.com/2009/04/changing-wsdl-url-endpoint-in-jax-ws.html?m=1","title":"How to add HTTP proxy to JAX-WS?","body":"<p>Im find example near your thrid solution, on your semples it be:</p>\n<pre><code>HelloImplService service = new HelloImplService();\nHelloImpl hello = service.getHelloImplPort();\n((BindingProvider) client).getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;http://proxyIp:proxyPort&quot;);\nhello.method(var1, var2);\n</code></pre>\n<p>You can look at your current endpoint address by:</p>\n<pre><code>System.out.println(((BindingProvider) hello).getRequestContext().get(BindingProvider.ENDPOINT_ADDRESS_PROPERTY));\n</code></pre>\n<p>I found this examples there: <a href=\"https://biemond.blogspot.com/2009/04/changing-wsdl-url-endpoint-in-jax-ws.html?m=1\" rel=\"nofollow noreferrer\"><em>Changing WSDL url ( endpoint) in JAX-WS client</em></a></p>\n<p>Btw, i have the same problem, but in my case wsdl from my server have 127.0.0.1 endpoint address and i need to replace it. And this solution works on my case.\nMaybe you just put a wrong properties...</p>\n"}],"owner":{"account_id":18859020,"reputation":1,"user_id":13756305,"display_name":"Aleksandrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697391158,"creation_date":1592314542,"question_id":62409824,"body_markdown":"I have a WSDL file which I&#39;ve turned into Java code by using WSDL2Java inside SoapUI, it works fine, but now I need to add my company&#39;s proxy to it, so every SOAP http request would go through it (but not other http requests).\r\n\r\nI&#39;ve looked through multiple threads concerning the same issue and found these options:\r\n\r\n1. system wide proxy by adding \r\n\r\n    ```\r\n    System.getProperties().put(&quot;proxySet&quot;, &quot;true&quot;);\r\n    System.getProperties().put(&quot;https.proxyHost&quot;, &quot;10.10.10.10&quot;);\r\n    System.getProperties().put(&quot;https.proxyPort&quot;, &quot;8080&quot;); \r\n    ```\r\nwhich doesn&#39;t work for me, since it affect the whole jvm.\r\n\r\n2. adding the following code\r\n\r\n    ```\r\n   HelloService hello = new HelloService();\r\n   HelloPortType helloPort = cliente.getHelloPort();\r\n   org.apache.cxf.endpoint.Client client = ClientProxy.getClient(helloPort);\r\n   HTTPConduit http = (HTTPConduit) client.getConduit();\r\n   http.getClient().setProxyServer(&quot;proxy&quot;);\r\n   http.getClient().setProxyServerPort(8080);\r\n   http.getProxyAuthorization().setUserName(&quot;user proxy&quot;);\r\n   http.getProxyAuthorization().setPassword(&quot;password proxy&quot;);\r\n    ```\r\nwhich I don&#39;t get how to use. My generated code doesn&#39;t have any traces of **org.apache.cxf**, only **javax.xml.ws**.\r\n\r\n3. Adding this to my port configuration:\r\n\r\n    ```\r\n((BindingProvider) port).getRequestContext().put(&quot;http.proxyHost&quot;, &quot;proxy@example.com&quot;);\r\n((BindingProvider) port).getRequestContext().put(&quot;http.proxyPort&quot;, &quot;80&quot;);\r\n    ```\r\n\r\n Here I use a random non-existing proxy and expect to get an error of any sort(timeout, invalid proxy, etc.), but instead it goes through without any errors. \r\n\r\n","title":"How to add HTTP proxy to JAX-WS?","body":"<p>I have a WSDL file which I've turned into Java code by using WSDL2Java inside SoapUI, it works fine, but now I need to add my company's proxy to it, so every SOAP http request would go through it (but not other http requests).</p>\n\n<p>I've looked through multiple threads concerning the same issue and found these options:</p>\n\n<ol>\n<li><p>system wide proxy by adding </p>\n\n<pre><code>System.getProperties().put(\"proxySet\", \"true\");\nSystem.getProperties().put(\"https.proxyHost\", \"10.10.10.10\");\nSystem.getProperties().put(\"https.proxyPort\", \"8080\"); \n</code></pre>\n\n<p>which doesn't work for me, since it affect the whole jvm.</p></li>\n<li><p>adding the following code</p>\n\n<pre><code>HelloService hello = new HelloService();\nHelloPortType helloPort = cliente.getHelloPort();\norg.apache.cxf.endpoint.Client client = ClientProxy.getClient(helloPort);\nHTTPConduit http = (HTTPConduit) client.getConduit();\nhttp.getClient().setProxyServer(\"proxy\");\nhttp.getClient().setProxyServerPort(8080);\nhttp.getProxyAuthorization().setUserName(\"user proxy\");\nhttp.getProxyAuthorization().setPassword(\"password proxy\");\n</code></pre>\n\n<p>which I don't get how to use. My generated code doesn't have any traces of <strong>org.apache.cxf</strong>, only <strong>javax.xml.ws</strong>.</p></li>\n<li><p>Adding this to my port configuration:</p>\n\n<pre><code>((BindingProvider) port).getRequestContext().put(\"http.proxyHost\", \"proxy@example.com\");\n((BindingProvider) port).getRequestContext().put(\"http.proxyPort\", \"80\");\n</code></pre>\n\n<p>Here I use a random non-existing proxy and expect to get an error of any sort(timeout, invalid proxy, etc.), but instead it goes through without any errors. </p></li>\n</ol>\n"},{"tags":["java","reactjs","spring-boot"],"owner":{"account_id":29677782,"reputation":1,"user_id":22745257,"display_name":"Therese Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697391143,"creation_date":1697391143,"question_id":77297772,"body_markdown":"I&#39;m trying to learn ReactJS and SpringBoot. Now I&#39;m working on a small project. However I&#39;ve encountered an issue. I use Spring Security to generate JWT Tokens for authentication in my project. I have specified a certain email and password, when inputted into the login form will generate a token that has payload with Role defined as &quot;ADMIN&quot;. If any other data is inputted, it will generate token with Role defined as &quot;USER&quot;. Now the issue is if the admin credentials are entered the token is generated and it navigates to &quot;/dash&quot; in the frontend and if any user credentials are entered that is navigated to &quot;/dash&quot; as well. How do I set the page to navigate to &quot;/admin&quot; if the admin credentials are given\r\n\r\n\r\n```\r\nimport React, { useState } from &#39;react&#39;;\r\nimport { ToastContainer, toast } from &#39;react-toastify&#39;;\r\nimport &#39;react-toastify/dist/ReactToastify.css&#39;;\r\nimport &#39;../assets/css/login.css&#39;;\r\nimport { Link, useNavigate } from &#39;react-router-dom&#39;;\r\nimport { useDispatch } from &#39;react-redux&#39;;\r\nimport { setEmail } from &#39;../redux/Actions&#39;;\r\nimport Header from &#39;./Header/Header&#39;;\r\nimport axios from &#39;axios&#39;;\r\nconst Login = () =&gt; {\r\n  const [formData, setFormData] = useState({\r\n    email: &#39;&#39;,\r\n    password: &#39;&#39;,\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  \r\n  const handleChange = (e) =&gt; {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  \r\n  const isEmailValid = (email) =&gt; {\r\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n    return emailPattern.test(email);\r\n  };\r\n  \r\n  const isPasswordValid = (password) =&gt; {\r\n    return password.length &gt;= 8;\r\n  };\r\n  \r\n  const handleLogin = async () =&gt; {\r\n    const { email, password } = formData;\r\n    \r\n    if (!isEmailValid(email)) {\r\n      toast.error(&#39;Invalid email address&#39;, {\r\n        position: &#39;top-right&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (!isPasswordValid(password)) {\r\n      toast.error(&#39;Password must be at least 8 characters long&#39;, {\r\n        position: &#39;bottom-center&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await axios.post(&#39;http://localhost:8080/api/v1/auth/login&#39;, {\r\n        email: formData.email,\r\n        password: formData.password,\r\n      });\r\n      console.log(&#39;Login Response:&#39;, response);\r\n\r\n      if (response.status === 200) {\r\n        const token = response.data.token;\r\n        const userEmail = formData.email;\r\n        dispatch(setEmail(userEmail));\r\n        \r\n        localStorage.setItem(&#39;isLoggedIn&#39;, &#39;true&#39;);\r\n        localStorage.setItem(&#39;userEmail&#39;, userEmail);\r\n        localStorage.setItem(&#39;authToken&#39;, token);\r\n\r\n        toast.success(&#39;Login successful!&#39;, {\r\n          position: &#39;bottom-center&#39;,\r\n          autoClose: 3000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n        });\r\n\r\n        if (response.data.role === &#39;ADMIN&#39;) {\r\n          navigate(&#39;/admin&#39;);\r\n        } else {\r\n          navigate(&#39;/dash&#39;);\r\n        }\r\n      } else {\r\n        toast.error(&#39;Login failed. Please try again.&#39;, {\r\n          position: &#39;bottom-center&#39;,\r\n          autoClose: 3000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(&#39;An error occurred while logging in. Please try again.&#39;, {\r\n        position: &#39;bottom-center&#39;,\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    &lt;div className=&#39;main_login&#39;&gt;\r\n      &lt;Header /&gt;\r\n      &lt;div className=&quot;login_cont&quot;&gt;\r\n        &lt;h1 className=&#39;login_title&#39;&gt;Login&lt;/h1&gt;\r\n        &lt;form&gt;\r\n          &lt;input type=&#39;text&#39; name=&quot;email&quot; id=&quot;email&quot; className=&#39;input-fieldx&#39; placeholder=&#39;Email&#39; onChange={handleChange} required /&gt;\r\n          &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; className=&#39;input-fieldx&#39; placeholder=&#39;Password&#39; onChange={handleChange} required /&gt;\r\n          &lt;div className=&quot;form-button-container&quot;&gt;\r\n            &lt;button type=&quot;button&quot; className=&quot;login-btn&quot; onClick={handleLogin}&gt;\r\n              Login\r\n            &lt;/button&gt;\r\n          &lt;/div&gt;\r\n          &lt;p className=&#39;no_acc&#39;&gt; &lt;Link to=&quot;/register&quot;&gt;Don&#39;t have an account?&lt;/Link&gt;&lt;/p&gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n      &lt;ToastContainer /&gt;\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n```\r\n\r\n\r\nI have tried giving `response.data.role === &#39;ADMIN&#39;` but it doesn&#39;t seem to work.","title":"Navigation based on roles in ReactJs App with SpringBoot","body":"<p>I'm trying to learn ReactJS and SpringBoot. Now I'm working on a small project. However I've encountered an issue. I use Spring Security to generate JWT Tokens for authentication in my project. I have specified a certain email and password, when inputted into the login form will generate a token that has payload with Role defined as &quot;ADMIN&quot;. If any other data is inputted, it will generate token with Role defined as &quot;USER&quot;. Now the issue is if the admin credentials are entered the token is generated and it navigates to &quot;/dash&quot; in the frontend and if any user credentials are entered that is navigated to &quot;/dash&quot; as well. How do I set the page to navigate to &quot;/admin&quot; if the admin credentials are given</p>\n<pre><code>import React, { useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../assets/css/login.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { setEmail } from '../redux/Actions';\nimport Header from './Header/Header';\nimport axios from 'axios';\nconst Login = () =&gt; {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  \n  const handleChange = (e) =&gt; {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n  \n  const isEmailValid = (email) =&gt; {\n    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    return emailPattern.test(email);\n  };\n  \n  const isPasswordValid = (password) =&gt; {\n    return password.length &gt;= 8;\n  };\n  \n  const handleLogin = async () =&gt; {\n    const { email, password } = formData;\n    \n    if (!isEmailValid(email)) {\n      toast.error('Invalid email address', {\n        position: 'top-right',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n      return;\n    }\n    \n    if (!isPasswordValid(password)) {\n      toast.error('Password must be at least 8 characters long', {\n        position: 'bottom-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n      return;\n    }\n    \n    try {\n      const response = await axios.post('http://localhost:8080/api/v1/auth/login', {\n        email: formData.email,\n        password: formData.password,\n      });\n      console.log('Login Response:', response);\n\n      if (response.status === 200) {\n        const token = response.data.token;\n        const userEmail = formData.email;\n        dispatch(setEmail(userEmail));\n        \n        localStorage.setItem('isLoggedIn', 'true');\n        localStorage.setItem('userEmail', userEmail);\n        localStorage.setItem('authToken', token);\n\n        toast.success('Login successful!', {\n          position: 'bottom-center',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n        });\n\n        if (response.data.role === 'ADMIN') {\n          navigate('/admin');\n        } else {\n          navigate('/dash');\n        }\n      } else {\n        toast.error('Login failed. Please try again.', {\n          position: 'bottom-center',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n        });\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error('An error occurred while logging in. Please try again.', {\n        position: 'bottom-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n      });\n    }\n  };\n\n  return (\n    &lt;div className='main_login'&gt;\n      &lt;Header /&gt;\n      &lt;div className=&quot;login_cont&quot;&gt;\n        &lt;h1 className='login_title'&gt;Login&lt;/h1&gt;\n        &lt;form&gt;\n          &lt;input type='text' name=&quot;email&quot; id=&quot;email&quot; className='input-fieldx' placeholder='Email' onChange={handleChange} required /&gt;\n          &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; className='input-fieldx' placeholder='Password' onChange={handleChange} required /&gt;\n          &lt;div className=&quot;form-button-container&quot;&gt;\n            &lt;button type=&quot;button&quot; className=&quot;login-btn&quot; onClick={handleLogin}&gt;\n              Login\n            &lt;/button&gt;\n          &lt;/div&gt;\n          &lt;p className='no_acc'&gt; &lt;Link to=&quot;/register&quot;&gt;Don't have an account?&lt;/Link&gt;&lt;/p&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;ToastContainer /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Login;\n\n</code></pre>\n<p>I have tried giving <code>response.data.role === 'ADMIN'</code> but it doesn't seem to work.</p>\n"},{"tags":["java","exception","javafx","scenebuilder"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697383668,"post_id":77297257,"comment_id":136270331,"body_markdown":"Complete stacktrace please. And complete fxml file please. And the code which is calling changeSceneWelcome() please.","body":"Complete stacktrace please. And complete fxml file please. And the code which is calling changeSceneWelcome() please."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697397622,"post_id":77297257,"comment_id":136271883,"body_markdown":"In your start method, you have `Parent root = FXMLLoader.load`, which is correct.  In your changeSceneWelcome method, you have `FXMLLoader loader = FXMLLoader.load` which is the source of your problem.  FXMLLoader.load did not return a loader in the first call, so I’m not sure why you thought it would do so in the second call.  Perhaps you should just use `new FXMLLoader` instead of the static `load` method?","body":"In your start method, you have <code>Parent root = FXMLLoader.load</code>, which is correct.  In your changeSceneWelcome method, you have <code>FXMLLoader loader = FXMLLoader.load</code> which is the source of your problem.  FXMLLoader.load did not return a loader in the first call, so I’m not sure why you thought it would do so in the second call.  Perhaps you should just use <code>new FXMLLoader</code> instead of the static <code>load</code> method?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697689558,"post_id":77297257,"comment_id":136312072,"body_markdown":"May I introduce you to the JavaFX library &quot;SimpleJavaFxApplicationBase&quot;? Maybe the &quot;SceneAPI&quot; is something for you. You can Switch scenes easily and Pass values to the new scene. https://wedasoft.com/projects/simple-java-fx-application-base/","body":"May I introduce you to the JavaFX library &quot;SimpleJavaFxApplicationBase&quot;? Maybe the &quot;SceneAPI&quot; is something for you. You can Switch scenes easily and Pass values to the new scene. <a href=\"https://wedasoft.com/projects/simple-java-fx-application-base/\" rel=\"nofollow noreferrer\">wedasoft.com/projects/simple-java-fx-application-base</a>"}],"owner":{"account_id":28916138,"reputation":1,"user_id":22148060,"display_name":"Colony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697390538,"creation_date":1697383014,"question_id":77297257,"body_markdown":"I was using JavaFX to create a login form. After login, the username you wrote will be displayed on the screen as &quot;Welcome, username&quot;. But, when I clicked on the login button, there was an error with the message:\r\n\r\n```\r\nclass javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader (javafx.scene.layout.BorderPane is in module javafx.graphics of loader &#39;app&#39;; javafx.fxml.FXMLLoader is in module javafx.fxml of loader &#39;app&#39;)\r\n```\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class HelloApplication extends Application {\r\n    private static Stage stg;\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        try {\r\n            stg = stage;\r\n            stage.setResizable(false);\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;login.fxml&quot;));\r\n            stage.setTitle(&quot;Login&quot;);\r\n            stage.setScene(new Scene(root, 600, 340));\r\n            stage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void changeSceneWelcome(String fxml, String username) {\r\n        try {\r\n            FXMLLoader loader = FXMLLoader.load(getClass().getResource(fxml));\r\n            AfterLoginController afterLoginController = loader.getController();\r\n            afterLoginController.welcomeName(username);\r\n            Parent pane = loader.load();\r\n            stg.setResizable(false);\r\n            stg.setTitle(&quot;Welcome!&quot;);\r\n            stg.setScene(new Scene(pane, 800, 600));\r\n            stg.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error happenned at the `changeSceneWelcome` method.\r\n\r\nWhat should I do to fix this bug? Thanks for reading.","title":"&quot;Class javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader&quot;","body":"<p>I was using JavaFX to create a login form. After login, the username you wrote will be displayed on the screen as &quot;Welcome, username&quot;. But, when I clicked on the login button, there was an error with the message:</p>\n<pre><code>class javafx.scene.layout.BorderPane cannot be cast to class javafx.fxml.FXMLLoader (javafx.scene.layout.BorderPane is in module javafx.graphics of loader 'app'; javafx.fxml.FXMLLoader is in module javafx.fxml of loader 'app')\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>public class HelloApplication extends Application {\n    private static Stage stg;\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        try {\n            stg = stage;\n            stage.setResizable(false);\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;login.fxml&quot;));\n            stage.setTitle(&quot;Login&quot;);\n            stage.setScene(new Scene(root, 600, 340));\n            stage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void changeSceneWelcome(String fxml, String username) {\n        try {\n            FXMLLoader loader = FXMLLoader.load(getClass().getResource(fxml));\n            AfterLoginController afterLoginController = loader.getController();\n            afterLoginController.welcomeName(username);\n            Parent pane = loader.load();\n            stg.setResizable(false);\n            stg.setTitle(&quot;Welcome!&quot;);\n            stg.setScene(new Scene(pane, 800, 600));\n            stg.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error happenned at the <code>changeSceneWelcome</code> method.</p>\n<p>What should I do to fix this bug? Thanks for reading.</p>\n"},{"tags":["java","bouncycastle","des","fips"],"owner":{"account_id":17130699,"reputation":19,"user_id":12396866,"display_name":"Rajasekaran Iyanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697389917,"creation_date":1697389738,"question_id":77297696,"body_markdown":"Is the CMSAlgorithm.DES_CBC supported for encryption by BCFIPS provider ? In a standalone reproducer program, it seem to work fine while the following exception gets thrown in k8s-docker based environment. This occurs despite having the same versioned bc\\* jars in both the environments. Both the environments are having these properties set.\r\n\r\n    java.security.Security.addProvider(new BouncyCastleFipsProvider());\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.fips.approved_only&quot;, &quot;false&quot;);\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.rsa.allow_pkcs15_enc&quot;, &quot;true&quot;);\r\n    \r\n    System.setProperty(&quot;org.bouncycastle.rsa.allow_multi_use&quot;, &quot;true&quot;);\r\n\r\nAny clues on what could be the reason?\r\n\r\n    java.security.NoSuchAlgorithmException: no such algorithm: 1.3.14.3.2.7 for provider BCFIPS\r\n    \r\n    at java.base/sun.security.jca.GetInstance.getService(GetInstance.java:87)\r\n    \r\n    at java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:127)\r\n    \r\n    at java.base/javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:286)\r\n    \r\n    at org.bouncycastle.jcajce.util.NamedJcaJceHelper.createKeyGenerator(Unknown Source)\r\n    \r\n    ... 43 common\r\n\r\nStandalone reproducer program works fine\r\n","title":"desCBC algorithm supported by BouncyCastle FIPS in non-approved mode?","body":"<p>Is the CMSAlgorithm.DES_CBC supported for encryption by BCFIPS provider ? In a standalone reproducer program, it seem to work fine while the following exception gets thrown in k8s-docker based environment. This occurs despite having the same versioned bc* jars in both the environments. Both the environments are having these properties set.</p>\n<pre><code>java.security.Security.addProvider(new BouncyCastleFipsProvider());\n\nSystem.setProperty(&quot;org.bouncycastle.fips.approved_only&quot;, &quot;false&quot;);\n\nSystem.setProperty(&quot;org.bouncycastle.rsa.allow_pkcs15_enc&quot;, &quot;true&quot;);\n\nSystem.setProperty(&quot;org.bouncycastle.rsa.allow_multi_use&quot;, &quot;true&quot;);\n</code></pre>\n<p>Any clues on what could be the reason?</p>\n<pre><code>java.security.NoSuchAlgorithmException: no such algorithm: 1.3.14.3.2.7 for provider BCFIPS\n\nat java.base/sun.security.jca.GetInstance.getService(GetInstance.java:87)\n\nat java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:127)\n\nat java.base/javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:286)\n\nat org.bouncycastle.jcajce.util.NamedJcaJceHelper.createKeyGenerator(Unknown Source)\n\n... 43 common\n</code></pre>\n<p>Standalone reproducer program works fine</p>\n"},{"tags":["java","json","object","arraylist","arrayobject"],"comments":[{"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"score":0,"creation_date":1524734272,"post_id":50039189,"comment_id":87094476,"body_markdown":"It seems like you want one key (e.g., `poAccount`) to map to two different values (e.g., `050016` and `050017`). This isn&#39;t possible with a `Map&lt;String, Object&gt;`, you&#39;ll probably want `Map&lt;String, List&lt;Object&gt;&gt;`","body":"It seems like you want one key (e.g., <code>poAccount</code>) to map to two different values (e.g., <code>050016</code> and <code>050017</code>). This isn&#39;t possible with a <code>Map&lt;String, Object&gt;</code>, you&#39;ll probably want <code>Map&lt;String, List&lt;Object&gt;&gt;</code>"},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1524734520,"post_id":50039189,"comment_id":87094663,"body_markdown":"**{poAccount=050017, poAmount=12}** this is not a valid JSON format","body":"<b>{poAccount=050017, poAmount=12}</b> this is not a valid JSON format"}],"answers":[{"tags":[],"owner":{"account_id":3500892,"reputation":1750,"user_id":4141883,"accept_rate":57,"display_name":"Danila Zharenkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524734464,"creation_date":1524734464,"answer_id":50039311,"question_id":50039189,"body_markdown":"You shouldn&#39;t use map for your case. \r\nWhen your put the pair with existing in map key, the pair will be overwrited.\r\nFor example\r\n\r\n    map.put (&quot;k1&quot;,&quot;v1&quot;);\r\n\r\nMap contains one pair &quot;k1&quot;:&quot;v1&quot;\r\nThe next call\r\n\r\n    map.put (&quot;k1&quot;,&quot;newV1&quot;);\r\n\r\nThe first pair will be overwrited and map still contains 1 pair: &quot;k1&quot;:&quot;newV1&quot;\r\n\r\nFor your case it&#39;s better to define simple POJO class with 2 fields `poAccount` and `poAmount`. And add them to the JSONArray\r\n","title":"How to add object to JSONArray","body":"<p>You shouldn't use map for your case. \nWhen your put the pair with existing in map key, the pair will be overwrited.\nFor example</p>\n\n<pre><code>map.put (\"k1\",\"v1\");\n</code></pre>\n\n<p>Map contains one pair \"k1\":\"v1\"\nThe next call</p>\n\n<pre><code>map.put (\"k1\",\"newV1\");\n</code></pre>\n\n<p>The first pair will be overwrited and map still contains 1 pair: \"k1\":\"newV1\"</p>\n\n<p>For your case it's better to define simple POJO class with 2 fields <code>poAccount</code> and <code>poAmount</code>. And add them to the JSONArray</p>\n"},{"tags":[],"owner":{"account_id":5037825,"reputation":588,"user_id":4046145,"accept_rate":62,"display_name":"Mithun Debnath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524744819,"creation_date":1524744819,"answer_id":50042733,"question_id":50039189,"body_markdown":"The approach you are following, it will not serve your requirement. You should use pojo to store the records and then populate the Json Array. You can have a look at this code and modify as per your requirements.\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tMypojo mypojo = new Mypojo();\r\n\t\tGson gson = new Gson();\r\n\t\tJSONArray records = new JSONArray();\r\n\t\tfor (int i = 0; i &lt; 1; i++) {\r\n\t\t\tif (5 &gt; 0) {\r\n\t\t\t\tmypojo.setPoAccount(&quot;050017&quot;);\r\n\t\t\t\tmypojo.setPoAmount(&quot;12&quot;);\r\n\t\t\t\tJSONObject objects = new JSONObject(gson.toJson(mypojo));\r\n\t\t\t\trecords.put(objects);\r\n\t\t\t}\r\n\r\n\t\t\tmypojo.setPoAccount(&quot;050016&quot;);\r\n\t\t\tmypojo.setPoAmount(&quot;800&quot;);\r\n\t\t\tJSONObject objects = new JSONObject(gson.toJson(mypojo));\r\n\t\t\trecords.put(objects);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(records);\r\n\r\n\t}\r\n    \r\n    }\r\n\r\nMypojo Class :\r\n\r\n    public class Mypojo\r\n    {\r\n    private String poAmount;\r\n\r\n    private String poAccount;\r\n\r\n    public String getPoAmount ()\r\n    {\r\n        return poAmount;\r\n    }\r\n\r\n    public void setPoAmount (String poAmount)\r\n    {\r\n        this.poAmount = poAmount;\r\n    }\r\n\r\n    public String getPoAccount ()\r\n    {\r\n        return poAccount;\r\n    }\r\n\r\n    public void setPoAccount (String poAccount)\r\n    {\r\n        this.poAccount = poAccount;\r\n    }\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;ClassPojo [poAmount = &quot;+poAmount+&quot;, poAccount = &quot;+poAccount+&quot;]&quot;;\r\n    }\r\n    }","title":"How to add object to JSONArray","body":"<p>The approach you are following, it will not serve your requirement. You should use pojo to store the records and then populate the Json Array. You can have a look at this code and modify as per your requirements.</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    Mypojo mypojo = new Mypojo();\n    Gson gson = new Gson();\n    JSONArray records = new JSONArray();\n    for (int i = 0; i &lt; 1; i++) {\n        if (5 &gt; 0) {\n            mypojo.setPoAccount(\"050017\");\n            mypojo.setPoAmount(\"12\");\n            JSONObject objects = new JSONObject(gson.toJson(mypojo));\n            records.put(objects);\n        }\n\n        mypojo.setPoAccount(\"050016\");\n        mypojo.setPoAmount(\"800\");\n        JSONObject objects = new JSONObject(gson.toJson(mypojo));\n        records.put(objects);\n    }\n\n    System.out.println(records);\n\n}\n\n}\n</code></pre>\n\n<p>Mypojo Class :</p>\n\n<pre><code>public class Mypojo\n{\nprivate String poAmount;\n\nprivate String poAccount;\n\npublic String getPoAmount ()\n{\n    return poAmount;\n}\n\npublic void setPoAmount (String poAmount)\n{\n    this.poAmount = poAmount;\n}\n\npublic String getPoAccount ()\n{\n    return poAccount;\n}\n\npublic void setPoAccount (String poAccount)\n{\n    this.poAccount = poAccount;\n}\n\n@Override\npublic String toString()\n{\n    return \"ClassPojo [poAmount = \"+poAmount+\", poAccount = \"+poAccount+\"]\";\n}\n}\n</code></pre>\n"}],"owner":{"account_id":12715770,"reputation":21,"user_id":9237869,"display_name":"Math 277"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697389305,"creation_date":1524734079,"question_id":50039189,"body_markdown":"I want to add an object to an array. If the data of `other_amount` is more than zero I want to add one object more. If it&#39;s equal to zero, it should add nothing. This is my code:\r\n\r\n    JSONArray acc_data = new JSONArray();\r\n    Map&lt;String, Object&gt; myaccount = new LinkedHashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; mpay.size(); i++) {\r\n    \tif(other_amount&gt;0){\r\n    \t\tmyaccount.put(&quot;poAccount&quot;, other_account);\r\n    \t\tmyaccount.put(&quot;poAmount&quot;, other_amount);\r\n    \t\tsystem.out.println(myaccount);\r\n    \t\t//{poAccount=050017, poAmount=12}\r\n    \t}\r\n    \t\r\n    \tmyaccount.put(&quot;poAccount&quot;, amount_account);\r\n    \tmyaccount.put(&quot;poAmount&quot;, amount);\r\n    \tsystem.out.println(myaccount);\r\n    \t//{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;}\r\n    \t\r\n    \tacc_data.add(myaccount);\r\n    \tsystem.out.println(acc_data);\r\n    \t//[{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;}]\r\n    }\r\n\r\n But I need it like this: \r\n\r\n    //[{&quot;poAccount&quot;:&quot;050016&quot;,&quot;poAmount&quot;:&quot;800&quot;},{poAccount=050017, poAmount=12}]\r\n\r\nplease help me to resolve it.","title":"How to add object to JSONArray","body":"<p>I want to add an object to an array. If the data of <code>other_amount</code> is more than zero I want to add one object more. If it's equal to zero, it should add nothing. This is my code:</p>\n\n<pre><code>JSONArray acc_data = new JSONArray();\nMap&lt;String, Object&gt; myaccount = new LinkedHashMap&lt;&gt;();\nfor (int i = 0; i &lt; mpay.size(); i++) {\n    if(other_amount&gt;0){\n        myaccount.put(\"poAccount\", other_account);\n        myaccount.put(\"poAmount\", other_amount);\n        system.out.println(myaccount);\n        //{poAccount=050017, poAmount=12}\n    }\n\n    myaccount.put(\"poAccount\", amount_account);\n    myaccount.put(\"poAmount\", amount);\n    system.out.println(myaccount);\n    //{\"poAccount\":\"050016\",\"poAmount\":\"800\"}\n\n    acc_data.add(myaccount);\n    system.out.println(acc_data);\n    //[{\"poAccount\":\"050016\",\"poAmount\":\"800\"}]\n}\n</code></pre>\n\n<p>But I need it like this: </p>\n\n<pre><code>//[{\"poAccount\":\"050016\",\"poAmount\":\"800\"},{poAccount=050017, poAmount=12}]\n</code></pre>\n\n<p>please help me to resolve it.</p>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697388811,"creation_date":1697388811,"answer_id":77297653,"question_id":76614406,"body_markdown":"`FacesContext.getCurrentInstance()` is a static method. So `MockedStatic` can be used to test the required flow\r\n\r\n```   \r\n@Test\r\nvoid testCambiarNombre() {\r\n    try (MockedStatic&lt;FacesContext&gt; context = mockStatic(FacesContext.class)) {\r\n        FacesContext facesContext = mock(FacesContext.class);\r\n        context.when(FacesContext::getInstance()).thenReturn(facesContext);\r\n        when(facesContext.getExternalContext()..).thenReturn(..)\r\n        //...\r\n    }\r\n}\r\n```","title":"How to test a method that uses FacesContext.getCurrentInstance()","body":"<p><code>FacesContext.getCurrentInstance()</code> is a static method. So <code>MockedStatic</code> can be used to test the required flow</p>\n<pre><code>@Test\nvoid testCambiarNombre() {\n    try (MockedStatic&lt;FacesContext&gt; context = mockStatic(FacesContext.class)) {\n        FacesContext facesContext = mock(FacesContext.class);\n        context.when(FacesContext::getInstance()).thenReturn(facesContext);\n        when(facesContext.getExternalContext()..).thenReturn(..)\n        //...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25297861,"reputation":17,"user_id":19122683,"display_name":"Blrackerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697388811,"creation_date":1688487486,"question_id":76614406,"body_markdown":"I&#39;m trying to test a part of my code that in certain cases ends up calling `FacesContext.getCurrentInstance()` and we are not in a jsf context it gives null and I receive an NullPointerExcetption\r\n\r\nHow can I test that part?\r\n\r\n\r\nMy code\r\n\r\n\r\n*Test Method*\r\n\r\n    @Test\r\n\tvoid testCambiarNombre() {\r\n\t\t\r\n\t\tModificarUsuarioBean modificarUsuarioBean = new ModificarUsuarioBean();\r\n\t\tmodificarUsuarioBean.setFachada(fachada);\r\n\t\tmodificarUsuarioBean.init();\r\n\t\t\r\n\t\tmodificarUsuarioBean.getUsuario().setNombre(null);\r\n\t\tmodificarUsuarioBean.cambiarNombre(); // Here is the problem. See code of method below\r\n\t\t\r\n\t\tassertTrue(fachada.existeUsuario(&quot;admin&quot;, null));\r\n\t}\r\n\r\n*ModificarUsuarioBean.cambiarNombre*\r\n\r\n    public void cambiarNombre() {\r\n\t\tif(StringUtils.isBlank(usuario.getNombre())) {\r\n\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.VACIO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN); // Here is the problem. See code of method below\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tif(fachada.modificarNombreUsuario(usuario)) {\r\n\t\t\t\tFacesContext context = FacesContext.getCurrentInstance();\r\n\t\t\t\tUsuarioLogueadoBean usuarioLogueadoBean = (UsuarioLogueadoBean)context.getExternalContext().getSessionMap().get(&quot;usuarioLogueadoBean&quot;);\r\n\t\t\t\tusuarioLogueadoBean.getUsuario().setNombre(usuario.getNombre());\r\n\t\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.OK&quot;, &quot;comun.EXITO&quot;, FacesMessage.SEVERITY_INFO);\r\n\t\t\t} else {\r\n\t\t\t\tFacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.REPETIDO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*FacesMessagesUtils.mostrarMensajeDelProperties*\r\n\r\n    public static void mostrarMensajeDelProperties(String keyMensaje, String keyCabecera,\r\n\t\t\tFacesMessage.Severity severidad) {\r\n\t\tFacesMessage msg = new FacesMessage(severidad, MessageUtils.obtenerMensajeDelProperties(keyCabecera),\r\n\t\t\t\tMessageUtils.obtenerMensajeDelProperties(keyMensaje));\r\n\t\tFacesContext.getCurrentInstance().addMessage(null, msg); // Here is the NullPointerException\r\n\t}\r\n\r\n\r\n*pom.xml*\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.9.3&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nMy version os Java is 8","title":"How to test a method that uses FacesContext.getCurrentInstance()","body":"<p>I'm trying to test a part of my code that in certain cases ends up calling <code>FacesContext.getCurrentInstance()</code> and we are not in a jsf context it gives null and I receive an NullPointerExcetption</p>\n<p>How can I test that part?</p>\n<p>My code</p>\n<p><em>Test Method</em></p>\n<pre><code>@Test\nvoid testCambiarNombre() {\n    \n    ModificarUsuarioBean modificarUsuarioBean = new ModificarUsuarioBean();\n    modificarUsuarioBean.setFachada(fachada);\n    modificarUsuarioBean.init();\n    \n    modificarUsuarioBean.getUsuario().setNombre(null);\n    modificarUsuarioBean.cambiarNombre(); // Here is the problem. See code of method below\n    \n    assertTrue(fachada.existeUsuario(&quot;admin&quot;, null));\n}\n</code></pre>\n<p><em>ModificarUsuarioBean.cambiarNombre</em></p>\n<pre><code>public void cambiarNombre() {\n    if(StringUtils.isBlank(usuario.getNombre())) {\n        FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.VACIO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN); // Here is the problem. See code of method below\n    } else {\n        \n        if(fachada.modificarNombreUsuario(usuario)) {\n            FacesContext context = FacesContext.getCurrentInstance();\n            UsuarioLogueadoBean usuarioLogueadoBean = (UsuarioLogueadoBean)context.getExternalContext().getSessionMap().get(&quot;usuarioLogueadoBean&quot;);\n            usuarioLogueadoBean.getUsuario().setNombre(usuario.getNombre());\n            FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.OK&quot;, &quot;comun.EXITO&quot;, FacesMessage.SEVERITY_INFO);\n        } else {\n            FacesMessagesUtils.mostrarMensajeDelProperties(&quot;usuario.accion.cambiarNombre.error.REPETIDO&quot;, &quot;comun.ERROR&quot;, FacesMessage.SEVERITY_WARN);\n        }\n    }\n}\n</code></pre>\n<p><em>FacesMessagesUtils.mostrarMensajeDelProperties</em></p>\n<pre><code>public static void mostrarMensajeDelProperties(String keyMensaje, String keyCabecera,\n        FacesMessage.Severity severidad) {\n    FacesMessage msg = new FacesMessage(severidad, MessageUtils.obtenerMensajeDelProperties(keyCabecera),\n            MessageUtils.obtenerMensajeDelProperties(keyMensaje));\n    FacesContext.getCurrentInstance().addMessage(null, msg); // Here is the NullPointerException\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            \n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-junit-jupiter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My version os Java is 8</p>\n"},{"tags":["java","selenium","google-chrome","electron","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1590400466,"creation_date":1590393456,"answer_id":61998139,"question_id":61852540,"body_markdown":"Seems you were pretty close enough.\r\n\r\nApart from adding the preference of `download.prompt_for_download` to `false` you need to set a couple of more preferences as follows:\r\n\r\n- You need to add the type of file you wish you auto download. As an example to automatically download `xml` files you need to add:\r\n\r\n\t\tprefs.put(&quot;download.extensions_to_open&quot;, &quot;application/xml&quot;);\r\n\t\t\r\n- You need to enable/disable `safebrowsing.enabled` as follows:\r\n\r\n\t\tprefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\t\t\r\n- Now you need to add the argument to `safebrowsing-disable-download-protection`\r\n\r\n\t\toptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n\t\t\r\n- Next, you need to add the argument to `safebrowsing-disable-extension-blacklist`\r\n\r\n\t\toptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\n\r\n- Finally, to click on the element to initiate the download, you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()`.\r\n\r\n\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;element_xpath&quot;))).click();\r\n\r\nClubbing it up altogether, as a demonstration, to download a xml file from the [website](http://www.landxmlproject.org/file-cabinet) your effective code block will be:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n\tprefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\tprefs.put(&quot;download.default_directory&quot;, LocationUtil.getDownloadFolderPath());\r\n\tprefs.put(&quot;download.prompt_for_download&quot;, false);\r\n\tprefs.put(&quot;safebrowsing.enabled&quot;, true);\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\tChromeDriver chromeDriver= new ChromeDriver(options);\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\toptions.addArguments(&quot;--safebrowsing-disable-download-protection&quot;);\r\n\toptions.addArguments(&quot;safebrowsing-disable-extension-blacklist&quot;);\r\n\tWebDriver driver =  new ChromeDriver(options); \r\n\tdriver.get(&quot;http://www.landxmlproject.org/file-cabinet&quot;);\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;MntnRoad.xml&#39;]//following::span[1]//a[text()=&#39;Download&#39;]&quot;))).click();\r\n\t\r\nBrowser Snapshot:\r\n\r\n![ChromeDownload](https://i.stack.imgur.com/rlp0o.png)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant reference discussions in:\r\n\r\n- [How to hide the warning “This type of file can harm your computer” while downloading .xml file using Chrome Chromedriver 79 with Selenium Java](https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa/59841109#59841109)\r\n- [How to download XML files avoiding the popup This type of file may harm your computer through ChromeDriver and Chrome using Selenium in Python](https://stackoverflow.com/questions/55407388/how-to-download-xml-files-avoiding-the-popup-this-type-of-file-may-harm-your-com/55413305#55413305)","title":"Could not set download.prompt_for_download false for avoiding popup when downloading a file in an Electron application","body":"<p>Seems you were pretty close enough.</p>\n\n<p>Apart from adding the preference of <code>download.prompt_for_download</code> to <code>false</code> you need to set a couple of more preferences as follows:</p>\n\n<ul>\n<li><p>You need to add the type of file you wish you auto download. As an example to automatically download <code>xml</code> files you need to add:</p>\n\n<pre><code>prefs.put(\"download.extensions_to_open\", \"application/xml\");\n</code></pre></li>\n<li><p>You need to enable/disable <code>safebrowsing.enabled</code> as follows:</p>\n\n<pre><code>prefs.put(\"safebrowsing.enabled\", true);\n</code></pre></li>\n<li><p>Now you need to add the argument to <code>safebrowsing-disable-download-protection</code></p>\n\n<pre><code>options.addArguments(\"--safebrowsing-disable-download-protection\");\n</code></pre></li>\n<li><p>Next, you need to add the argument to <code>safebrowsing-disable-extension-blacklist</code></p>\n\n<pre><code>options.addArguments(\"safebrowsing-disable-extension-blacklist\");\n</code></pre></li>\n<li><p>Finally, to click on the element to initiate the download, you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code>.</p>\n\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(\"element_xpath\"))).click();\n</code></pre></li>\n</ul>\n\n<p>Clubbing it up altogether, as a demonstration, to download a xml file from the <a href=\"http://www.landxmlproject.org/file-cabinet\" rel=\"nofollow noreferrer\">website</a> your effective code block will be:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(\"profile.default_content_settings.popups\", 0);\nprefs.put(\"download.default_directory\", LocationUtil.getDownloadFolderPath());\nprefs.put(\"download.prompt_for_download\", false);\nprefs.put(\"safebrowsing.enabled\", true);\noptions.setExperimentalOption(\"prefs\", prefs);\nChromeDriver chromeDriver= new ChromeDriver(options);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"prefs\", prefs);\noptions.addArguments(\"start-maximized\");\noptions.addArguments(\"--safebrowsing-disable-download-protection\");\noptions.addArguments(\"safebrowsing-disable-extension-blacklist\");\nWebDriver driver =  new ChromeDriver(options); \ndriver.get(\"http://www.landxmlproject.org/file-cabinet\");\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//span[text()='MntnRoad.xml']//following::span[1]//a[text()='Download']\"))).click();\n</code></pre>\n\n<p>Browser Snapshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/rlp0o.png\" alt=\"ChromeDownload\"></p>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant reference discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/59840198/how-to-hide-the-warning-this-type-of-file-can-harm-your-computer-while-downloa/59841109#59841109\">How to hide the warning “This type of file can harm your computer” while downloading .xml file using Chrome Chromedriver 79 with Selenium Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55407388/how-to-download-xml-files-avoiding-the-popup-this-type-of-file-may-harm-your-com/55413305#55413305\">How to download XML files avoiding the popup This type of file may harm your computer through ChromeDriver and Chrome using Selenium in Python</a></li>\n</ul>\n"}],"owner":{"account_id":3091726,"reputation":1288,"user_id":2617690,"display_name":"Filosssof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61998139,"answer_count":1,"score":2,"last_activity_date":1697388712,"creation_date":1589721960,"question_id":61852540,"body_markdown":"I&#39;m trying to download a file with Selenium Chromedriver through Electron. As we could not handle the popup window with selecting folder to download in, I tried to avoid this popup in this way:\r\n\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\nBut it doesn&#39;t work. The full code is:\r\n\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    HashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    prefs.put(&quot;download.default_directory&quot;, LocationUtil.getDownloadFolderPath());\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    prefs.put(&quot;safebrowsing.enabled&quot;, false); // to disable security check eg. Keep or cancel button\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    ChromeDriver chromeDriver= new ChromeDriver(options);\r\n\r\nAlso tried to put these prefs through Capabilities but with no success.\r\n\r\n```((MutableCapabilities) chromeDriver.getCapabilities()).setCapability(ChromeOptions.CAPABILITY, options);```\r\nVersions are:\r\n\r\n - ChromeDriver 80.0.3987.16\r\n - Selenium Java 3.141.59\r\n\r\nHow could I download the file in a specific directory without popup window in an Electron app? \r\nUPD: Tested with browser Chrome - all things are fine.\r\n","title":"Could not set download.prompt_for_download false for avoiding popup when downloading a file in an Electron application","body":"<p>I'm trying to download a file with Selenium Chromedriver through Electron. As we could not handle the popup window with selecting folder to download in, I tried to avoid this popup in this way:</p>\n\n<pre><code>prefs.put(\"download.prompt_for_download\", false);\n</code></pre>\n\n<p>But it doesn't work. The full code is:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\nprefs.put(\"profile.default_content_settings.popups\", 0);\nprefs.put(\"download.default_directory\", LocationUtil.getDownloadFolderPath());\nprefs.put(\"download.prompt_for_download\", false);\nprefs.put(\"safebrowsing.enabled\", false); // to disable security check eg. Keep or cancel button\noptions.setExperimentalOption(\"prefs\", prefs);\nChromeDriver chromeDriver= new ChromeDriver(options);\n</code></pre>\n\n<p>Also tried to put these prefs through Capabilities but with no success.</p>\n\n<p><code>((MutableCapabilities) chromeDriver.getCapabilities()).setCapability(ChromeOptions.CAPABILITY, options);</code>\nVersions are:</p>\n\n<ul>\n<li>ChromeDriver 80.0.3987.16</li>\n<li>Selenium Java 3.141.59</li>\n</ul>\n\n<p>How could I download the file in a specific directory without popup window in an Electron app? \nUPD: Tested with browser Chrome - all things are fine.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697382586,"post_id":77296601,"comment_id":136270216,"body_markdown":"what is `includeBuild` doing here? Can&#39;t you just use a project dependency?","body":"what is <code>includeBuild</code> doing here? Can&#39;t you just use a project dependency?"},{"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"score":0,"creation_date":1697386729,"post_id":77296601,"comment_id":136270706,"body_markdown":"Isn&#39;t `settings.gradle` supposed to have `includeBuild` in order to create a composite build? I followed [`this Gradle documentation`](https://docs.gradle.org/current/samples/sample_composite_builds_basics.html).","body":"Isn&#39;t <code>settings.gradle</code> supposed to have <code>includeBuild</code> in order to create a composite build? I followed <a href=\"https://docs.gradle.org/current/samples/sample_composite_builds_basics.html\" rel=\"nofollow noreferrer\"><code>this Gradle documentation</code></a>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697390739,"post_id":77296601,"comment_id":136271190,"body_markdown":"Sure, but from what you&#39;ve described, I don&#39;t see a *need* for composite builds.","body":"Sure, but from what you&#39;ve described, I don&#39;t see a <i>need</i> for composite builds."}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697388598,"creation_date":1697372270,"question_id":77296601,"body_markdown":"I want to do the following Gradle folder structure in a project.\r\n\r\n```\r\n.\r\n├── project/\r\n│   ├── fruit/\r\n│   │   ├── banana/\r\n│   │   │   └── build.gradle.kts\r\n│   │   ├── apple/\r\n│   │   │   └── build.gradle.kts\r\n│   │   ├── build.gradle.kts\r\n│   │   └── settings.gradle.kts\r\n│   └── shared/\r\n│       ├── common/\r\n│       │   └── build.gradle.kts\r\n│       ├── util/\r\n│       │   └── build.gradle.kts\r\n│       └── build.gradle.kts\r\n├── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\n\r\n\r\nIn the outermost `build.gradle` I want to do `allprojects` and `subprojects` to consolidate dependencies. Then, each `build.gradle` will have the dependencies of its folder/subfolder.\r\n\r\nThis is the outermost `settings.gradle`:\r\n```kts\r\nrootProject.name = &quot;root&quot;\r\n\r\ninclude(&quot;fruit&quot;)\r\ninclude(&quot;fruit:apple&quot;)\r\ninclude(&quot;fruit:banana&quot;)\r\ninclude(&quot;shared&quot;)\r\ninclude(&quot;shared:common&quot;)\r\ninclude(&quot;shared:util&quot;)\r\n```\r\n\r\nFor `apple` and `banana`, I want to use `includeBuild` in the `fruit/settings.gradle` to include the `shared` modules.\r\n\r\nThis is the following `build.gradle` for the `fruit` folder (though it cannot be resolved and it doesn&#39;t work):\r\n\r\n```kts\r\ndependencies {\r\n  implementation(&quot;com.example.shared:common&quot;)\r\n  implementation(&quot;com.example.shared:util&quot;)\r\n}\r\n```\r\n\r\nThis is the following `settings.gradle.kts` for the `fruit` folder:\r\n\r\n```kts\r\nincludeBuild(&quot;../shared/common&quot;)\r\nincludeBuild(&quot;../shared/util&quot;)\r\n```\r\n\r\nThe dependencies in my `project/fruit/apple/src/com.example.fruit.apple/Main.java` file still do not get resolved.","title":"How to do a complex gradle composite build project with include, includeBuild, allProjects, and subProjects?","body":"<p>I want to do the following Gradle folder structure in a project.</p>\n<pre><code>.\n├── project/\n│   ├── fruit/\n│   │   ├── banana/\n│   │   │   └── build.gradle.kts\n│   │   ├── apple/\n│   │   │   └── build.gradle.kts\n│   │   ├── build.gradle.kts\n│   │   └── settings.gradle.kts\n│   └── shared/\n│       ├── common/\n│       │   └── build.gradle.kts\n│       ├── util/\n│       │   └── build.gradle.kts\n│       └── build.gradle.kts\n├── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>In the outermost <code>build.gradle</code> I want to do <code>allprojects</code> and <code>subprojects</code> to consolidate dependencies. Then, each <code>build.gradle</code> will have the dependencies of its folder/subfolder.</p>\n<p>This is the outermost <code>settings.gradle</code>:</p>\n<pre><code>rootProject.name = &quot;root&quot;\n\ninclude(&quot;fruit&quot;)\ninclude(&quot;fruit:apple&quot;)\ninclude(&quot;fruit:banana&quot;)\ninclude(&quot;shared&quot;)\ninclude(&quot;shared:common&quot;)\ninclude(&quot;shared:util&quot;)\n</code></pre>\n<p>For <code>apple</code> and <code>banana</code>, I want to use <code>includeBuild</code> in the <code>fruit/settings.gradle</code> to include the <code>shared</code> modules.</p>\n<p>This is the following <code>build.gradle</code> for the <code>fruit</code> folder (though it cannot be resolved and it doesn't work):</p>\n<pre><code>dependencies {\n  implementation(&quot;com.example.shared:common&quot;)\n  implementation(&quot;com.example.shared:util&quot;)\n}\n</code></pre>\n<p>This is the following <code>settings.gradle.kts</code> for the <code>fruit</code> folder:</p>\n<pre><code>includeBuild(&quot;../shared/common&quot;)\nincludeBuild(&quot;../shared/util&quot;)\n</code></pre>\n<p>The dependencies in my <code>project/fruit/apple/src/com.example.fruit.apple/Main.java</code> file still do not get resolved.</p>\n"},{"tags":["java","arrays","arraylist","indexing"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697237121,"creation_date":1697237121,"answer_id":77290993,"question_id":77290988,"body_markdown":"Yes. By using an **array**.\r\n\r\n    int[] array = {1, 2, 3, 4, 5};\r\n    return array[0]; // for 1, for 2 use array[1], etc.\r\n\r\nYou can *also* do it with a `List`. But there you need to call [`List.get(int)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-) instead of `[int]`. Like,\r\n\r\n    List&lt;String&gt; wordList = List.of(&quot;desk&quot;, &quot;monitor&quot;);\r\n    return wordList.get(1); // &quot;monitor&quot;\r\n\r\n**Or** with a `String[]` just like an `int[]`\r\n\r\n    String[] wordArray = { &quot;desk&quot;, &quot;monitor&quot; };\r\n    return wordArray[1]; // &quot;monitor&quot;","title":"Find the value of an array by referring to the index number in Java","body":"<p>Yes. By using an <strong>array</strong>.</p>\n<pre><code>int[] array = {1, 2, 3, 4, 5};\nreturn array[0]; // for 1, for 2 use array[1], etc.\n</code></pre>\n<p>You can <em>also</em> do it with a <code>List</code>. But there you need to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-\" rel=\"nofollow noreferrer\"><code>List.get(int)</code></a> instead of <code>[int]</code>. Like,</p>\n<pre><code>List&lt;String&gt; wordList = List.of(&quot;desk&quot;, &quot;monitor&quot;);\nreturn wordList.get(1); // &quot;monitor&quot;\n</code></pre>\n<p><strong>Or</strong> with a <code>String[]</code> just like an <code>int[]</code></p>\n<pre><code>String[] wordArray = { &quot;desk&quot;, &quot;monitor&quot; };\nreturn wordArray[1]; // &quot;monitor&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1958580,"reputation":79,"user_id":3235947,"accept_rate":83,"display_name":"code"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697237628,"creation_date":1697237628,"answer_id":77291011,"question_id":77290988,"body_markdown":"It is because your `wordList` is an Object of type ArrayList (ArrayList Object) and NOT an array.\r\n\r\nTry creating an array of type String: \r\n\r\n    String[] wordList = {&quot;array&quot;, &quot;items&quot;, &quot;here&quot;};\r\n    return wordList[2] //Would equal &quot;here&quot;","title":"Find the value of an array by referring to the index number in Java","body":"<p>It is because your <code>wordList</code> is an Object of type ArrayList (ArrayList Object) and NOT an array.</p>\n<p>Try creating an array of type String:</p>\n<pre><code>String[] wordList = {&quot;array&quot;, &quot;items&quot;, &quot;here&quot;};\nreturn wordList[2] //Would equal &quot;here&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697388104,"creation_date":1697238445,"answer_id":77291047,"question_id":77290988,"body_markdown":"You&#39;re confusing Java array with [`ArrayList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html). An `ArrayList` is a type of [`Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html) backed by an array. \r\n\r\nI don&#39;t know Python, so I&#39;ll address this only from a Java point of view.\r\n\r\n````\r\n// foo is an array of int, and contains 12 elements\r\nint [] foo = new foo [12]; \r\n\r\n// bar is an array of int, with 7 elements. \r\n// the initial values are specified\r\nint [] bar = {14, 92, -42, 48, 0, 0, 13};\r\n````\r\n\r\nAn element is addressed as you expect:  \r\n`System.out.println (bar [2]); // prints -42`\r\n\r\nIf you want to fix your example using an array, the code might look like this:\r\n````\r\nString [] wordList = {&quot;desk&quot;, &quot;monitor&quot;};\r\nSystem.out.println (wordList[1]); // monitor\r\n````\r\n\r\nCollections are more flexible than arrays. One consideration is that an array has a fixed size, while most Collection Objects will increase their sizes as needed. Suppose an array is used, and it is discovered it is too small. To continue, a new array would have to be created, the contents of the old array would be copied into the new array, and the old array discarded.\r\n\r\n\r\nIf you wanted to fix your Java example to use an ArrayList, it might look like this, with a call to [`get`][1]:\r\n\r\n````\r\nArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\r\nwordList.add(&quot;desk&quot;);\r\nwordList.add(&quot;monitor&quot;);\r\n\r\nreturn wordList.get(1);\r\n````\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#get(int)","title":"Find the value of an array by referring to the index number in Java","body":"<p>You're confusing Java array with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>. An <code>ArrayList</code> is a type of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> backed by an array.</p>\n<p>I don't know Python, so I'll address this only from a Java point of view.</p>\n<pre><code>// foo is an array of int, and contains 12 elements\nint [] foo = new foo [12]; \n\n// bar is an array of int, with 7 elements. \n// the initial values are specified\nint [] bar = {14, 92, -42, 48, 0, 0, 13};\n</code></pre>\n<p>An element is addressed as you expect:<br />\n<code>System.out.println (bar [2]); // prints -42</code></p>\n<p>If you want to fix your example using an array, the code might look like this:</p>\n<pre><code>String [] wordList = {&quot;desk&quot;, &quot;monitor&quot;};\nSystem.out.println (wordList[1]); // monitor\n</code></pre>\n<p>Collections are more flexible than arrays. One consideration is that an array has a fixed size, while most Collection Objects will increase their sizes as needed. Suppose an array is used, and it is discovered it is too small. To continue, a new array would have to be created, the contents of the old array would be copied into the new array, and the old array discarded.</p>\n<p>If you wanted to fix your Java example to use an ArrayList, it might look like this, with a call to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\"><code>get</code></a>:</p>\n<pre><code>ArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\nwordList.add(&quot;desk&quot;);\nwordList.add(&quot;monitor&quot;);\n\nreturn wordList.get(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697248690,"creation_date":1697248690,"answer_id":77291362,"question_id":77290988,"body_markdown":"&gt; _&quot;... Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf(). ...&quot;_\r\n\r\nNot for a _List_.&amp;nbsp; In _Java_, the _bracket syntax_ is used exclusively for _array notation_.","title":"Find the value of an array by referring to the index number in Java","body":"<blockquote>\n<p><em>&quot;... Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf(). ...&quot;</em></p>\n</blockquote>\n<p>Not for a <em>List</em>.  In <em>Java</em>, the <em>bracket syntax</em> is used exclusively for <em>array notation</em>.</p>\n"}],"owner":{"account_id":25996420,"reputation":7,"user_id":19707719,"display_name":"sentzs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1697388104,"creation_date":1697237020,"question_id":77290988,"body_markdown":"In python, calling the value of a list by only referring to its index number is done by\r\n\r\n```\r\narray = [1, 2, 3, 4, 5,]\r\nreturn array[0]\r\n```\r\nreturns \r\n&gt;1\r\n\r\nIs there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf().\r\n\r\n\r\n```\r\nArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\r\nwordList.add(&quot;desk&quot;);\r\nwordList.add(&quot;monitor&quot;);\r\n\r\nreturn wordList[1];\r\n```\r\nReturns error\r\n\r\n\r\n\r\n&gt; array required, but ArrayList&lt;String&gt; found\r\n        return wordList[1];\r\n                       ^\r\n\r\nI would want it to return the value that is in index 1, which is &#39;monitor&#39;","title":"Find the value of an array by referring to the index number in Java","body":"<p>In python, calling the value of a list by only referring to its index number is done by</p>\n<pre><code>array = [1, 2, 3, 4, 5,]\nreturn array[0]\n</code></pre>\n<p>returns</p>\n<blockquote>\n<p>1</p>\n</blockquote>\n<p>Is there a similar way to do this in java? I have only been able to find calling values of an array and getting their index using indexOf().</p>\n<pre><code>ArrayList&lt;String&gt; wordList = new ArrayList&lt;String&gt;();\nwordList.add(&quot;desk&quot;);\nwordList.add(&quot;monitor&quot;);\n\nreturn wordList[1];\n</code></pre>\n<p>Returns error</p>\n<blockquote>\n<p>array required, but ArrayList found\nreturn wordList[1];\n^</p>\n</blockquote>\n<p>I would want it to return the value that is in index 1, which is 'monitor'</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1697401939,"post_id":77297610,"comment_id":136272279,"body_markdown":"Welcome to Stack Overflow. \nMy matrix maths is basic but my first question, given you are calculating the determinate is can eigenvalue be calculated for all matrices. Second I would suggest starting with a small matrix and then expanding to your target matrix says. Good luck.","body":"Welcome to Stack Overflow.  My matrix maths is basic but my first question, given you are calculating the determinate is can eigenvalue be calculated for all matrices. Second I would suggest starting with a small matrix and then expanding to your target matrix says. Good luck."}],"owner":{"account_id":29677546,"reputation":1,"user_id":22745075,"display_name":"Евгений Алексндров"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697388040,"creation_date":1697388040,"question_id":77297610,"body_markdown":"There is a code in which the matrix class is implemented, for the convenience of working with operations, there are multiplication functions, differences. The eigenvalue of the matrix is found by the formula det(A - LAMBDA * E), where A is the given matrix, LAMBDA is the desired eigenvalue, E is the unit matrix. The value is found using the function &quot;FindingAnEigenValue&quot; written by me, in which the search goes through all the values with a certain step. The problem is that the value is not found\r\n\r\nBody:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Инициализируем переменные\r\n        Matrix _Matrix = new Matrix(3);\r\n        Matrix _DefaultMatrix = new Matrix(3);\r\n        Matrix _SingleMatrix = new Matrix(3);\r\n\r\n        // Задаем переменные матрицы\r\n        _Matrix.setMatrixElem();\r\n        _DefaultMatrix = _Matrix;\r\n\r\n        //Находим собственное значение\r\n        _Matrix.FindingAnEigenValue(_Matrix,_SingleMatrix, _DefaultMatrix);\r\n\r\n    }\r\n}\r\n```\r\n\r\nClass:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Matrix {\r\n    public Scanner _Scanner = new Scanner(System.in);\r\n    private double MatrixDeterminant;\r\n    private int MatrixSize;\r\n    private double[][] MatrixElem;\r\n    private double[][] MatrixToOperation;\r\n    private double EigenValue;\r\n    private double Lymbda;\r\n    Matrix(int MatrixSize){\r\n        this.MatrixSize = MatrixSize;\r\n        MatrixElem = new double[MatrixSize][MatrixSize];\r\n        MatrixToOperation = new double[MatrixSize][MatrixSize];\r\n\r\n    }\r\n    public void setMatrixElem(){\r\n\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] = _Scanner.nextDouble();\r\n            }\r\n        }\r\n\r\n    }\r\n    public void getMatrixElem(){\r\n        System.out.println(&quot;Матрица имеет вид: &quot;);\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                System.out.print(MatrixElem[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println();\r\n    }\r\n    public void MultiplyToConst(double Lym){\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] *=Lym;\r\n            }\r\n        }\r\n    }\r\n    public void MatrixSum(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] += MatrixToOperation[i][j];\r\n            }\r\n        }\r\n    }\r\n    public void MatrixDiff(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                MatrixElem[i][j] -= MatrixToOperation[i][j];\r\n            }\r\n        }\r\n    }\r\n    public void MatrixMultiply(Matrix B){\r\n        this.MatrixToOperation = B.MatrixElem;\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                for (int k=0;k&lt;MatrixSize;k++){\r\n                    MatrixElem[i][j] += MatrixElem[k][i] * MatrixToOperation[j][k];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public double MatrixDeterminant(){\r\n        MatrixDeterminant =\r\n                  MatrixElem[0][0] * MatrixElem[1][1] * MatrixElem[2][2]\r\n                + MatrixElem[1][0] * MatrixElem[2][1] * MatrixElem[0][2]\r\n                + MatrixElem[0][1] * MatrixElem[1][2] * MatrixElem[2][0]\r\n\r\n                -          (MatrixElem[2][0] * MatrixElem[1][1] * MatrixElem[0][2]\r\n                          + MatrixElem[1][0] * MatrixElem[0][1] * MatrixElem[2][2]\r\n                          + MatrixElem[1][2] * MatrixElem[2][1] * MatrixElem[0][0]);\r\n        return MatrixDeterminant;\r\n    }\r\n\r\n    public double getMatrixDeterminant() {\r\n        return MatrixDeterminant;\r\n    }\r\n    public void FindingAnEigenValue(Matrix A, Matrix SingleMatrix, Matrix DefaultMatrix){\r\n\r\n        // Заполняем единичную матрицу\r\n            SingleMatrix.setMatrixSingle();\r\n\r\n        for (double Lymbda = 0; Lymbda &lt;= 10; Lymbda+=0.00001){\r\n\r\n            // 1. Умножаем единичную матрицу на констранту Lym\r\n            // 2. Вычитаем из данной матрицы полученную матрицу\r\n\r\n            SingleMatrix.MultiplyToConst(Lymbda);\r\n            A.MatrixDiff(SingleMatrix);\r\n\r\n            // 1. Находим определитель матрицы, после всех операций, если равен 0, выводим подходящее значение Lymbda\r\n\r\n            if (A.MatrixDeterminant()==0){\r\n\r\n                System.out.println(Lymbda);\r\n\r\n            }\r\n\r\n            // 1. Если цикл продолжается, возвращаем все значение в исходное состояние\r\n\r\n            SingleMatrix.setMatrixSingle();\r\n            A.MatrixDeterminant = 0;\r\n            A = DefaultMatrix;\r\n        }\r\n\r\n    }\r\n    public void setMatrixSingle(){\r\n        for (int i=0;i&lt;MatrixSize;i++){\r\n            for (int j=0;j&lt;MatrixSize;j++){\r\n                if (i==j){\r\n                    MatrixElem[i][j] = 1;\r\n                }\r\n                else {\r\n                    MatrixElem[i][j] = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Finding the eigenvalues of the matrix, can&#39;t get the correct result","body":"<p>There is a code in which the matrix class is implemented, for the convenience of working with operations, there are multiplication functions, differences. The eigenvalue of the matrix is found by the formula det(A - LAMBDA * E), where A is the given matrix, LAMBDA is the desired eigenvalue, E is the unit matrix. The value is found using the function &quot;FindingAnEigenValue&quot; written by me, in which the search goes through all the values with a certain step. The problem is that the value is not found</p>\n<p>Body:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Инициализируем переменные\n        Matrix _Matrix = new Matrix(3);\n        Matrix _DefaultMatrix = new Matrix(3);\n        Matrix _SingleMatrix = new Matrix(3);\n\n        // Задаем переменные матрицы\n        _Matrix.setMatrixElem();\n        _DefaultMatrix = _Matrix;\n\n        //Находим собственное значение\n        _Matrix.FindingAnEigenValue(_Matrix,_SingleMatrix, _DefaultMatrix);\n\n    }\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Matrix {\n    public Scanner _Scanner = new Scanner(System.in);\n    private double MatrixDeterminant;\n    private int MatrixSize;\n    private double[][] MatrixElem;\n    private double[][] MatrixToOperation;\n    private double EigenValue;\n    private double Lymbda;\n    Matrix(int MatrixSize){\n        this.MatrixSize = MatrixSize;\n        MatrixElem = new double[MatrixSize][MatrixSize];\n        MatrixToOperation = new double[MatrixSize][MatrixSize];\n\n    }\n    public void setMatrixElem(){\n\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] = _Scanner.nextDouble();\n            }\n        }\n\n    }\n    public void getMatrixElem(){\n        System.out.println(&quot;Матрица имеет вид: &quot;);\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                System.out.print(MatrixElem[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println();\n    }\n    public void MultiplyToConst(double Lym){\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] *=Lym;\n            }\n        }\n    }\n    public void MatrixSum(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] += MatrixToOperation[i][j];\n            }\n        }\n    }\n    public void MatrixDiff(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                MatrixElem[i][j] -= MatrixToOperation[i][j];\n            }\n        }\n    }\n    public void MatrixMultiply(Matrix B){\n        this.MatrixToOperation = B.MatrixElem;\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                for (int k=0;k&lt;MatrixSize;k++){\n                    MatrixElem[i][j] += MatrixElem[k][i] * MatrixToOperation[j][k];\n                }\n            }\n        }\n    }\n\n    public double MatrixDeterminant(){\n        MatrixDeterminant =\n                  MatrixElem[0][0] * MatrixElem[1][1] * MatrixElem[2][2]\n                + MatrixElem[1][0] * MatrixElem[2][1] * MatrixElem[0][2]\n                + MatrixElem[0][1] * MatrixElem[1][2] * MatrixElem[2][0]\n\n                -          (MatrixElem[2][0] * MatrixElem[1][1] * MatrixElem[0][2]\n                          + MatrixElem[1][0] * MatrixElem[0][1] * MatrixElem[2][2]\n                          + MatrixElem[1][2] * MatrixElem[2][1] * MatrixElem[0][0]);\n        return MatrixDeterminant;\n    }\n\n    public double getMatrixDeterminant() {\n        return MatrixDeterminant;\n    }\n    public void FindingAnEigenValue(Matrix A, Matrix SingleMatrix, Matrix DefaultMatrix){\n\n        // Заполняем единичную матрицу\n            SingleMatrix.setMatrixSingle();\n\n        for (double Lymbda = 0; Lymbda &lt;= 10; Lymbda+=0.00001){\n\n            // 1. Умножаем единичную матрицу на констранту Lym\n            // 2. Вычитаем из данной матрицы полученную матрицу\n\n            SingleMatrix.MultiplyToConst(Lymbda);\n            A.MatrixDiff(SingleMatrix);\n\n            // 1. Находим определитель матрицы, после всех операций, если равен 0, выводим подходящее значение Lymbda\n\n            if (A.MatrixDeterminant()==0){\n\n                System.out.println(Lymbda);\n\n            }\n\n            // 1. Если цикл продолжается, возвращаем все значение в исходное состояние\n\n            SingleMatrix.setMatrixSingle();\n            A.MatrixDeterminant = 0;\n            A = DefaultMatrix;\n        }\n\n    }\n    public void setMatrixSingle(){\n        for (int i=0;i&lt;MatrixSize;i++){\n            for (int j=0;j&lt;MatrixSize;j++){\n                if (i==j){\n                    MatrixElem[i][j] = 1;\n                }\n                else {\n                    MatrixElem[i][j] = 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","refactoring","junit5"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1692119638,"post_id":76907706,"comment_id":135580139,"body_markdown":"What does _the map variable gets populated with extra values_ mean?  Based on the type, `map` cannot contain multiple values for the same key.  Also, based on the example, `buildMap()` is probably not thread safe.","body":"What does <i>the map variable gets populated with extra values</i> mean?  Based on the type, <code>map</code> cannot contain multiple values for the same key.  Also, based on the example, <code>buildMap()</code> is probably not thread safe."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692171272,"post_id":76907706,"comment_id":135586012,"body_markdown":"You are keeping state in a singleton, which is bad unless you need it then you need to design for it (which you didn&#39;t).","body":"You are keeping state in a singleton, which is bad unless you need it then you need to design for it (which you didn&#39;t)."},{"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"score":0,"creation_date":1692383731,"post_id":76907706,"comment_id":135620577,"body_markdown":"@M.Deinum Could you provide some brief points on how could one design for it? For now, to solve this issue I moved the local variable instantiation inside the `buildMap` method. Not sure if that too has some cons","body":"@M.Deinum Could you provide some brief points on how could one design for it? For now, to solve this issue I moved the local variable instantiation inside the <code>buildMap</code> method. Not sure if that too has some cons"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692607784,"post_id":76907706,"comment_id":135641404,"body_markdown":"That doesn&#39;t solve it unless you also removed the instance variable. You should create the hashmap inside the `genMetFiles` methyod and don&#39;t use an instance variable. You should only have a local variable inside that method.","body":"That doesn&#39;t solve it unless you also removed the instance variable. You should create the hashmap inside the <code>genMetFiles</code> methyod and don&#39;t use an instance variable. You should only have a local variable inside that method."}],"answers":[{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697387418,"creation_date":1697387418,"answer_id":77297577,"question_id":76907706,"body_markdown":"The suggestions in the comment section can be implemented to improvise your code. \r\n\r\n&gt; I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.\r\n\r\n`@InjectMocks` creates instance of the class and to initialize the other Autowired variables in the service class, `MockitoAnnotations.openMocks(this)` would inject the required mock variables.\r\n\r\n```\r\nclass MServiceTest {\r\n    @InjectMocks\r\n    MService service;\r\n\r\n    @Mock\r\n    Foo foo\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(...)\r\n    void testM(String ver) {\r\n        List&lt;File&gt; mFiles = service.geMetFiles(ver);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHope this helps","title":"Avoiding a method to repeatedly add values to a map on different calls","body":"<p>The suggestions in the comment section can be implemented to improvise your code.</p>\n<blockquote>\n<p>I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.</p>\n</blockquote>\n<p><code>@InjectMocks</code> creates instance of the class and to initialize the other Autowired variables in the service class, <code>MockitoAnnotations.openMocks(this)</code> would inject the required mock variables.</p>\n<pre><code>class MServiceTest {\n    @InjectMocks\n    MService service;\n\n    @Mock\n    Foo foo\n\n    @BeforeEach\n    void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @ParameterizedTest\n    @MethodSource(...)\n    void testM(String ver) {\n        List&lt;File&gt; mFiles = service.geMetFiles(ver);\n\n    }\n}\n</code></pre>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697387418,"creation_date":1692118005,"question_id":76907706,"body_markdown":"I have a service class that has a method :  \r\n\r\n    @Service\r\n    class MService {\r\n    private Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n    public List&lt;File&gt; genMetFiles(String ver){\r\n    .\r\n    .\r\n    .\r\n      buildMap(ver);\r\n    .\r\n    .\r\n    }  \r\n\r\nThe buildMap function makes some API calls and populates the map variable.\r\n\r\nRecently I encountered an issue:  \r\nI made a test class \r\n\r\n    class MServiceTest {\r\n    @Autowired\r\n    private MService service;\r\n    @ParameterizedTest\r\n    @MethodSource(...)\r\n    void testM(String ver) {\r\n    List&lt;File&gt; mFiles=service.geMetFiles(ver);\r\n    \r\n    }\r\n    }\r\n\r\nThe Method source has multiple arguments. So each time the testM method is called it calls the service.genMetFiles function which calls the buildMap which populates the map variable. Since there will be multiple calls the map variable gets populated with extra values then is required. It will hold all the previous values generated.  \r\nI discovered this issue while debugging.  \r\nI was wondering if I could have coded in a way so that this issue wouldn&#39;t have occurred.  \r\n\r\n**My Thoughts:**  \r\n- One way could be that I could have written a @pre condition on the method, and also inside the method, the first line could have been the initializer line -&gt; new HashMap&lt;&gt; rather than instantiating it at the top class level.   \r\n- Now since there are multiple Junit tests. I could make it so that each time a test is called it creates a new instance of service. I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.\r\n\r\nAny suggestions or thoughts on the above two approaches or any other ideas?  \r\n \r\n_________________________________________________\r\nREPHRASING THE QUESTION FROM A DIFFERENT DIRECTION:  \r\n\r\n    @Service\r\n    class MService {\r\n    private Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n    public List&lt;File&gt; genMetFiles(String ver){\r\n    .\r\n    .\r\n    .\r\n      buildMap(ver);\r\n    .\r\n    .\r\n    }  \r\n\r\nNow if some other class has an Autowired variable of this Mservice class say mService.   \r\nNow if I call mService.buildMap(&quot;1.2.0&quot;) map will get populated with some values, after this if I call mService.buildMap(&quot;1.3.0&quot;) The new values will get added to the map or the size of the map will increase.  \r\nThis is not what I want. Because if I call mService.someOtherMethod() the behavior will change.  \r\nThis method uses a map variable. And that has data generated by call with &quot;1.2.0&quot; and &quot;1.3.0&quot;.  \r\n","title":"Avoiding a method to repeatedly add values to a map on different calls","body":"<p>I have a service class that has a method :</p>\n<pre><code>@Service\nclass MService {\nprivate Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\npublic List&lt;File&gt; genMetFiles(String ver){\n.\n.\n.\n  buildMap(ver);\n.\n.\n}  \n</code></pre>\n<p>The buildMap function makes some API calls and populates the map variable.</p>\n<p>Recently I encountered an issue:<br />\nI made a test class</p>\n<pre><code>class MServiceTest {\n@Autowired\nprivate MService service;\n@ParameterizedTest\n@MethodSource(...)\nvoid testM(String ver) {\nList&lt;File&gt; mFiles=service.geMetFiles(ver);\n\n}\n}\n</code></pre>\n<p>The Method source has multiple arguments. So each time the testM method is called it calls the service.genMetFiles function which calls the buildMap which populates the map variable. Since there will be multiple calls the map variable gets populated with extra values then is required. It will hold all the previous values generated.<br />\nI discovered this issue while debugging.<br />\nI was wondering if I could have coded in a way so that this issue wouldn't have occurred.</p>\n<p><strong>My Thoughts:</strong></p>\n<ul>\n<li>One way could be that I could have written a @pre condition on the method, and also inside the method, the first line could have been the initializer line -&gt; new HashMap&lt;&gt; rather than instantiating it at the top class level.</li>\n<li>Now since there are multiple Junit tests. I could make it so that each time a test is called it creates a new instance of service. I can probably achieve this by removing the @Autowired annotation and making an init() method annotated with @BeforeEach. But not sure how to initialize MService inside this method, as the class MService has @Autowired variables.</li>\n</ul>\n<p>Any suggestions or thoughts on the above two approaches or any other ideas?</p>\n<hr />\n<p>REPHRASING THE QUESTION FROM A DIFFERENT DIRECTION:</p>\n<pre><code>@Service\nclass MService {\nprivate Map&lt;String,String&gt; map=new HashMap&lt;&gt;();\npublic List&lt;File&gt; genMetFiles(String ver){\n.\n.\n.\n  buildMap(ver);\n.\n.\n}  \n</code></pre>\n<p>Now if some other class has an Autowired variable of this Mservice class say mService.<br />\nNow if I call mService.buildMap(&quot;1.2.0&quot;) map will get populated with some values, after this if I call mService.buildMap(&quot;1.3.0&quot;) The new values will get added to the map or the size of the map will increase.<br />\nThis is not what I want. Because if I call mService.someOtherMethod() the behavior will change.<br />\nThis method uses a map variable. And that has data generated by call with &quot;1.2.0&quot; and &quot;1.3.0&quot;.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"score":0,"creation_date":1697386391,"post_id":77297490,"comment_id":136270664,"body_markdown":"Yes, you&#39;re right. I call machineRepository.save(machine);","body":"Yes, you&#39;re right. I call machineRepository.save(machine);"},{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":0,"creation_date":1697386510,"post_id":77297490,"comment_id":136270676,"body_markdown":"can i see the create method please?","body":"can i see the create method please?"},{"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"score":0,"creation_date":1697386623,"post_id":77297490,"comment_id":136270692,"body_markdown":"Yes, sure. This is create method:\n public Machine create(MachineMutation machineMutation) {\n    final var created = machineRepository.save(MachineMapper.INSTANCE.toEntity(machineMutation));\n    return MachineMapper.INSTANCE.toModel(created);\n  }","body":"Yes, sure. This is create method:  public Machine create(MachineMutation machineMutation) {     final var created = machineRepository.save(MachineMapper.INSTANCE.toEntity(machi&zwnj;&#8203;neMutation));     return MachineMapper.INSTANCE.toModel(created);   }"},{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":0,"creation_date":1697387596,"post_id":77297490,"comment_id":136270813,"body_markdown":"My observation is that the MachineEntity has a one to one relation with the User entity. I have faced this issue when I started using  JPA , you will have to check if the respective user is saved  the database first . Judging by your request structure you are rying to persist the user along with the machine entity which maybebe causing the issue. can we have a separate create method for user entity?","body":"My observation is that the MachineEntity has a one to one relation with the User entity. I have faced this issue when I started using  JPA , you will have to check if the respective user is saved  the database first . Judging by your request structure you are rying to persist the user along with the machine entity which maybebe causing the issue. can we have a separate create method for user entity?"},{"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"score":0,"creation_date":1697388208,"post_id":77297490,"comment_id":136270890,"body_markdown":"Well, the idea behind is that I can specify existing user upon creating Machine entity.","body":"Well, the idea behind is that I can specify existing user upon creating Machine entity."},{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":0,"creation_date":1697388576,"post_id":77297490,"comment_id":136270942,"body_markdown":"understood, lets try fetching the respective user entity     UserEntity user = userRepository.findById(machineMutation.getUserId()) based on Id then lets set it to the machine with     machineEntity.setCreatedBy(user); before  machineRepository.save() .","body":"understood, lets try fetching the respective user entity     UserEntity user = userRepository.findById(machineMutation.getUserId()) based on Id then lets set it to the machine with     machineEntity.setCreatedBy(user); before  machineRepository.save() ."},{"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"score":0,"creation_date":1697390081,"post_id":77297490,"comment_id":136271118,"body_markdown":"thanks, that approach works for me! I wonder if it&#39;s ok to prodice multiple db selects and one db insert in this approach?","body":"thanks, that approach works for me! I wonder if it&#39;s ok to prodice multiple db selects and one db insert in this approach?"},{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":0,"creation_date":1697390486,"post_id":77297490,"comment_id":136271167,"body_markdown":"glad it works, we can go along with this approach although I would suggest you to use mapStruct going forward. https://reflectoring.io/java-mapping-with-mapstruct. Also can you  upvote my answer please.","body":"glad it works, we can go along with this approach although I would suggest you to use mapStruct going forward. <a href=\"https://reflectoring.io/java-mapping-with-mapstruct\" rel=\"nofollow noreferrer\">reflectoring.io/java-mapping-with-mapstruct</a>. Also can you  upvote my answer please."},{"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"score":0,"creation_date":1697391215,"post_id":77297490,"comment_id":136271246,"body_markdown":"Yes, I&#39;m using MapStuct, when mapping Mutation Object to Model Object. Once again, much thanks for guidance, I will upvote.","body":"Yes, I&#39;m using MapStuct, when mapping Mutation Object to Model Object. Once again, much thanks for guidance, I will upvote."}],"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697386470,"creation_date":1697386311,"answer_id":77297490,"question_id":77297461,"body_markdown":"In the create method in your machine service are you calling machineRepository.save(machine) at the end? If adding this did not work we will need to see the implementation of the create method here. Also please refer this doc on entity states https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/.","title":"How to fix detached entity passed to persist thrown by JPA and Hibernate","body":"<p>In the create method in your machine service are you calling machineRepository.save(machine) at the end? If adding this did not work we will need to see the implementation of the create method here. Also please refer this doc on entity states <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/</a>.</p>\n"}],"owner":{"account_id":913255,"reputation":507,"user_id":946610,"display_name":"xeLL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77297490,"answer_count":1,"score":-1,"last_activity_date":1697386470,"creation_date":1697385935,"question_id":77297461,"body_markdown":"I have a JPA-persisted object model that contains a one-to-one relationship: a Machine has User, who created it. A Machine has one User.\r\n\r\nHere&#39;s a snippet of the code:\r\n```\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @EntityListeners({\r\n      AuditingEntityListener.class\r\n    })\r\n    @Table(name = &quot;machines&quot;)\r\n    public class MachineEntity implements Serializable {\r\n    \r\n      @Id\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n      @NotNull\r\n      @Column(name = &quot;uid&quot;)\r\n      private UUID uid;\r\n      @NotNull\r\n      @Column(name = &quot;status&quot;)\r\n      private Status status;\r\n      @CreatedDate\r\n      @Column(name = &quot;created_at&quot;)\r\n      private Instant createdAt;\r\n      @OneToOne\r\n      @MapsId\r\n      @JoinColumn(name = &quot;id&quot;)\r\n      private UserEntity createdBy;\r\n      @NotNull\r\n      @Column(name = &quot;active&quot;)\r\n      private Boolean active;\r\n    \r\n      public enum Status {\r\n        STOPPED,\r\n        RUNNING,\r\n      }\r\n    }\r\n```\r\n\r\n```\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Builder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @EntityListeners({\r\n      AuditingEntityListener.class\r\n    })\r\n    @Table(name = &quot;users&quot;)\r\n    public class UserEntity implements Serializable {\r\n    \r\n      private static final String EMAIL_REGEXP = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.(?:[a-zA-Z]{2,6})$&quot;;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n      @NotNull\r\n      @Length(max = 100)\r\n      @Pattern(regexp = EMAIL_REGEXP, message = &quot;Invalid User name, must be an E-Mail&quot;)\r\n      @Column(name = &quot;username&quot;, length = 100, unique = true)\r\n      private String username;\r\n      @NotNull\r\n      @Column(name = &quot;password&quot;)\r\n      private String password;\r\n      @Length(max = 100)\r\n      @Column(name = &quot;first_name&quot;, length = 100)\r\n      private String firstName;\r\n      @Length(max = 100)\r\n      @Column(name = &quot;last_name&quot;, length = 100)\r\n      private String lastName;\r\n      @OneToOne(mappedBy = &quot;createdBy&quot;, cascade = CascadeType.ALL)\r\n      @PrimaryKeyJoinColumn\r\n      private MachineEntity machine;\r\n    }\r\n```\r\n\r\nI am able to create an User object:\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;username&quot;: &quot;user@email.com&quot;,\r\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\r\n    &quot;firstName&quot;: &quot;UserName&quot;,\r\n    &quot;lastName&quot;: &quot;LastName&quot;\r\n}\r\n```\r\nAnd then, when I try to save Machine object, e.g calling my rest api endpoint:\r\n```\r\ncurl -X &#39;POST&#39; \\\r\n  &#39;http://localhost:8080/api/machines&#39; \\\r\n  -H &#39;accept: application/json&#39; \\\r\n  -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;{\r\n  &quot;uid&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;,\r\n  &quot;status&quot;: &quot;STOPPED&quot;,\r\n  &quot;createdBy&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;username&quot;: &quot;user@email.com&quot;,\r\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\r\n    &quot;firstName&quot;: &quot;FirstName&quot;,\r\n    &quot;lastName&quot;: &quot;LastName&quot;\r\n  },\r\n  &quot;createdAt&quot;: &quot;2023-10-15T15:21:22.079Z&quot;,\r\n  &quot;active&quot;: true\r\n}&#39;\r\n```\r\nMeanin I want to persist in my JPA repository, which is available by Spring Data, this object:\r\n```\r\nMachineEntity(id=null, uid=3fa85f64-5717-4562-b3fc-2c963f66afa6, status=STOPPED, createdAt=2023-10-15T15:21:22.079Z, createdBy=UserEntity(id=1, username=user@email.com, password=OJ1G-RV488965-1fEtIs8MIokIKaCA, firstName=FirstName, lastName=LastName, machine=null), active=true)\r\n```\r\nUnforunately, it fails with this error message and I&#39;m a bit lost in how to fix it. Error message:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.organization.blp.user.UserEntity; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy158.save(Unknown Source)\r\n\tat com.organization.blp.machine.MachineService.create(MachineService.java:16)\r\n\tat com.organization.blp.machine.MachineRestController.machineCreate(MachineRestController.java:25)\r\n\tat com.organization.blp.machine.MachineRestController$$FastClassBySpringCGLIB$$cd4b53ba.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat com.organization.blp.machine.MachineRestController$$EnhancerBySpringCGLIB$$7d8d90b4.machineCreate(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 82 common frames omitted\r\n```\r\n\r\nWhat is the correct way to persist Machine entity in my way?\r\n","title":"How to fix detached entity passed to persist thrown by JPA and Hibernate","body":"<p>I have a JPA-persisted object model that contains a one-to-one relationship: a Machine has User, who created it. A Machine has one User.</p>\n<p>Here's a snippet of the code:</p>\n<pre><code>    @Getter\n    @Setter\n    @ToString\n    @Builder(toBuilder = true)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Entity\n    @EntityListeners({\n      AuditingEntityListener.class\n    })\n    @Table(name = &quot;machines&quot;)\n    public class MachineEntity implements Serializable {\n    \n      @Id\n      @Column(name = &quot;id&quot;)\n      private Long id;\n      @NotNull\n      @Column(name = &quot;uid&quot;)\n      private UUID uid;\n      @NotNull\n      @Column(name = &quot;status&quot;)\n      private Status status;\n      @CreatedDate\n      @Column(name = &quot;created_at&quot;)\n      private Instant createdAt;\n      @OneToOne\n      @MapsId\n      @JoinColumn(name = &quot;id&quot;)\n      private UserEntity createdBy;\n      @NotNull\n      @Column(name = &quot;active&quot;)\n      private Boolean active;\n    \n      public enum Status {\n        STOPPED,\n        RUNNING,\n      }\n    }\n</code></pre>\n<pre><code>    @Getter\n    @Setter\n    @ToString\n    @Builder(toBuilder = true)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Entity\n    @EntityListeners({\n      AuditingEntityListener.class\n    })\n    @Table(name = &quot;users&quot;)\n    public class UserEntity implements Serializable {\n    \n      private static final String EMAIL_REGEXP = &quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.(?:[a-zA-Z]{2,6})$&quot;;\n    \n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      @Column(name = &quot;id&quot;)\n      private Long id;\n      @NotNull\n      @Length(max = 100)\n      @Pattern(regexp = EMAIL_REGEXP, message = &quot;Invalid User name, must be an E-Mail&quot;)\n      @Column(name = &quot;username&quot;, length = 100, unique = true)\n      private String username;\n      @NotNull\n      @Column(name = &quot;password&quot;)\n      private String password;\n      @Length(max = 100)\n      @Column(name = &quot;first_name&quot;, length = 100)\n      private String firstName;\n      @Length(max = 100)\n      @Column(name = &quot;last_name&quot;, length = 100)\n      private String lastName;\n      @OneToOne(mappedBy = &quot;createdBy&quot;, cascade = CascadeType.ALL)\n      @PrimaryKeyJoinColumn\n      private MachineEntity machine;\n    }\n</code></pre>\n<p>I am able to create an User object:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;user@email.com&quot;,\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\n    &quot;firstName&quot;: &quot;UserName&quot;,\n    &quot;lastName&quot;: &quot;LastName&quot;\n}\n</code></pre>\n<p>And then, when I try to save Machine object, e.g calling my rest api endpoint:</p>\n<pre><code>curl -X 'POST' \\\n  'http://localhost:8080/api/machines' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  &quot;uid&quot;: &quot;3fa85f64-5717-4562-b3fc-2c963f66afa6&quot;,\n  &quot;status&quot;: &quot;STOPPED&quot;,\n  &quot;createdBy&quot;: {\n    &quot;id&quot;: 1,\n    &quot;username&quot;: &quot;user@email.com&quot;,\n    &quot;password&quot;: &quot;OJ1G-RV488965-1fEtIs8MIokIKaCA&quot;,\n    &quot;firstName&quot;: &quot;FirstName&quot;,\n    &quot;lastName&quot;: &quot;LastName&quot;\n  },\n  &quot;createdAt&quot;: &quot;2023-10-15T15:21:22.079Z&quot;,\n  &quot;active&quot;: true\n}'\n</code></pre>\n<p>Meanin I want to persist in my JPA repository, which is available by Spring Data, this object:</p>\n<pre><code>MachineEntity(id=null, uid=3fa85f64-5717-4562-b3fc-2c963f66afa6, status=STOPPED, createdAt=2023-10-15T15:21:22.079Z, createdBy=UserEntity(id=1, username=user@email.com, password=OJ1G-RV488965-1fEtIs8MIokIKaCA, firstName=FirstName, lastName=LastName, machine=null), active=true)\n</code></pre>\n<p>Unforunately, it fails with this error message and I'm a bit lost in how to fix it. Error message:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.organization.blp.user.UserEntity; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy158.save(Unknown Source)\n    at com.organization.blp.machine.MachineService.create(MachineService.java:16)\n    at com.organization.blp.machine.MachineRestController.machineCreate(MachineRestController.java:25)\n    at com.organization.blp.machine.MachineRestController$$FastClassBySpringCGLIB$$cd4b53ba.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.organization.blp.machine.MachineRestController$$EnhancerBySpringCGLIB$$7d8d90b4.machineCreate(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.organization.blp.user.UserEntity\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:780)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:748)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeBeforeSave(AbstractSaveEventListener.java:427)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:264)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy155.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 82 common frames omitted\n</code></pre>\n<p>What is the correct way to persist Machine entity in my way?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"score":0,"creation_date":1595625868,"post_id":63081569,"comment_id":111550720,"body_markdown":"Can you add your quote entity?","body":"Can you add your quote entity?"},{"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"score":0,"creation_date":1595626542,"post_id":63081569,"comment_id":111550894,"body_markdown":"@Query(value=&quot;select top 1 * from sp_500 order by date desc&quot;, nativeQuery = true)","body":"@Query(value=&quot;select top 1 * from sp_500 order by date desc&quot;, nativeQuery = true)"},{"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"score":0,"creation_date":1595630233,"post_id":63081569,"comment_id":111551870,"body_markdown":"I tried your suggestion and it now compiles.  But when I run it gives &quot;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;1 * from sp_500 order by date desc&#39; at line 1&quot;","body":"I tried your suggestion and it now compiles.  But when I run it gives &quot;java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;1 * from sp_500 order by date desc&#39; at line 1&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16244742,"reputation":179,"user_id":11730191,"display_name":"farftech19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595629047,"creation_date":1595629047,"answer_id":63082147,"question_id":63081569,"body_markdown":"Can be done in two ways using the ORDER BY\r\n\r\n1) \r\n*Best practice\r\n\r\nYou can SELECT TOP 1 with the ORDER BY date desc.\r\n\r\nRemoving the MAX part of you QUERY \r\n\r\n//If you are using ORACLE i think is ROW COUNT = 1 \r\n\r\n\r\n2) \r\nYou can make the SELECT * ...  ORDER BY date desc\r\nand just grab the first register\r\n","title":"@query to get record with max date","body":"<p>Can be done in two ways using the ORDER BY</p>\n<p>1)\n*Best practice</p>\n<p>You can SELECT TOP 1 with the ORDER BY date desc.</p>\n<p>Removing the MAX part of you QUERY</p>\n<p>//If you are using ORACLE i think is ROW COUNT = 1</p>\n<p>2)\nYou can make the SELECT * ...  ORDER BY date desc\nand just grab the first register</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":1,"creation_date":1672156300,"post_id":63082416,"comment_id":132231767,"body_markdown":"For Oracle: `@Query(value=&quot;select * from sp_500 where date is not null order by date desc fetch first row only&quot;, nativeQuery = true)` (the `is not null` is required otherwise null dates appear first).","body":"For Oracle: <code>@Query(value=&quot;select * from sp_500 where date is not null order by date desc fetch first row only&quot;, nativeQuery = true)</code> (the <code>is not null</code> is required otherwise null dates appear first)."}],"tags":[],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595631092,"creation_date":1595631092,"answer_id":63082416,"question_id":63081569,"body_markdown":"Thanks to @Nick and @luisfa19.  You gave me valuable clues.  Here is what worked:\r\n\r\n    @Query(value=&quot;select * from sp_500 order by date desc limit 1&quot;, nativeQuery = true)","title":"@query to get record with max date","body":"<p>Thanks to @Nick and @luisfa19.  You gave me valuable clues.  Here is what worked:</p>\n<pre><code>@Query(value=&quot;select * from sp_500 order by date desc limit 1&quot;, nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8039247,"reputation":76,"user_id":6061468,"display_name":"ZeroOrOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241052,"creation_date":1677241052,"answer_id":75556478,"question_id":63081569,"body_markdown":"It would be something like this:\r\n\r\n```\r\nOptional&lt;Quote&gt; findFirstByOrderByDateDesc();\r\n```","title":"@query to get record with max date","body":"<p>It would be something like this:</p>\n<pre><code>Optional&lt;Quote&gt; findFirstByOrderByDateDesc();\n</code></pre>\n"}],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697385805,"creation_date":1595625406,"question_id":63081569,"body_markdown":"I have a mysql table called sp_500.  Each record has a unique date.  I want the last record in the table.  It will have the max date.  What is the best query to pull it?  I tried the following HQL:\r\n\r\n    public interface QuoteRepository extends JpaRepository&lt;Quote, Long&gt; {\r\n    \t\r\n    \t@Query(&quot;from sp_500 a where a.date in (select max(b.date) from sp_500 b)&quot;)\r\n    \tQuote getQuote(String symbol);\r\n    }\r\n\r\nbut when I run it, the following error is displayed:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException:\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: sp_500 is not\r\n&gt; mapped [from sp_500 a where a.date in (select max(b.date) from sp_500\r\n&gt; b)]\r\n\r\nSuggestions?","title":"@query to get record with max date","body":"<p>I have a mysql table called sp_500.  Each record has a unique date.  I want the last record in the table.  It will have the max date.  What is the best query to pull it?  I tried the following HQL:</p>\n<pre><code>public interface QuoteRepository extends JpaRepository&lt;Quote, Long&gt; {\n    \n    @Query(&quot;from sp_500 a where a.date in (select max(b.date) from sp_500 b)&quot;)\n    Quote getQuote(String symbol);\n}\n</code></pre>\n<p>but when I run it, the following error is displayed:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException:\norg.hibernate.hql.internal.ast.QuerySyntaxException: sp_500 is not\nmapped [from sp_500 a where a.date in (select max(b.date) from sp_500\nb)]</p>\n</blockquote>\n<p>Suggestions?</p>\n"},{"tags":["java","ubuntu","libgdx","alsa","pulseaudio"],"comments":[{"owner":{"account_id":66939,"reputation":915,"user_id":196133,"display_name":"xebeche"},"score":0,"creation_date":1673465271,"post_id":71407944,"comment_id":132507703,"body_markdown":"Using a Ubuntu based O/S, too, I see the same error using several audio programs **after** waking up from suspend/hibernation. As @londonBadger suggests, restarting the pulseaudio daemon helps.","body":"Using a Ubuntu based O/S, too, I see the same error using several audio programs <b>after</b> waking up from suspend/hibernation. As @londonBadger suggests, restarting the pulseaudio daemon helps."}],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649148951,"creation_date":1649148951,"answer_id":71748844,"question_id":71407944,"body_markdown":"check everything installed \r\n\r\n```sudo apt install libpulse-dev pulseaudio apulse```\r\n\r\ncheck its started\r\n\r\n```systemctl --user restart pulseaudio```\r\n\r\ncheck you have openJDK if you are using the Oracle one.\r\n\r\nIts not libGDX its a java to pulseaudio issue, or more specifically OpenAL sound that libGDX uses and how it interacts with linux audio.","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>check everything installed</p>\n<p><code>sudo apt install libpulse-dev pulseaudio apulse</code></p>\n<p>check its started</p>\n<p><code>systemctl --user restart pulseaudio</code></p>\n<p>check you have openJDK if you are using the Oracle one.</p>\n<p>Its not libGDX its a java to pulseaudio issue, or more specifically OpenAL sound that libGDX uses and how it interacts with linux audio.</p>\n"},{"tags":[],"owner":{"account_id":14940561,"reputation":579,"user_id":10787371,"display_name":"aurelia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697385751,"creation_date":1697385751,"answer_id":77297446,"question_id":71407944,"body_markdown":"I had the same problem, running on Fedora.\r\n\r\nApparently the issue might be cause by using `lwjgl` instead of `lwjgl3` ([this issue][1] seems like a usefull thread)\r\n\r\n[this post][2] explains how to switch to `lwjgl3`\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/issues/6426\r\n  [2]: https://gist.github.com/crykn/eb37cb4f7a03d006b3a0ecad27292a2d","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>I had the same problem, running on Fedora.</p>\n<p>Apparently the issue might be cause by using <code>lwjgl</code> instead of <code>lwjgl3</code> (<a href=\"https://github.com/libgdx/libgdx/issues/6426\" rel=\"nofollow noreferrer\">this issue</a> seems like a usefull thread)</p>\n<p><a href=\"https://gist.github.com/crykn/eb37cb4f7a03d006b3a0ecad27292a2d\" rel=\"nofollow noreferrer\">this post</a> explains how to switch to <code>lwjgl3</code></p>\n"}],"owner":{"account_id":24020483,"reputation":23,"user_id":18002860,"display_name":"Kuumin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697385751,"creation_date":1646822082,"question_id":71407944,"body_markdown":"I got this error in IntelliJ while trying to set up LibGDX. I&#39;m running PopOS (Ubuntu-based). Any help?\r\n\r\n    ALSA lib ../../pulse/pulse.c:242:(pulse_connect) PulseAudio: Unable to connect: Connection refused\r\n    \r\n    AL lib: (EE) ALCplaybackAlsa_open: Could not open playback device &#39;default&#39;: Connection refused","title":"PulseAudio: Unable to Connect: Connection refused in LibGDX","body":"<p>I got this error in IntelliJ while trying to set up LibGDX. I'm running PopOS (Ubuntu-based). Any help?</p>\n<pre><code>ALSA lib ../../pulse/pulse.c:242:(pulse_connect) PulseAudio: Unable to connect: Connection refused\n\nAL lib: (EE) ALCplaybackAlsa_open: Could not open playback device 'default': Connection refused\n</code></pre>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1697385562,"post_id":77297410,"comment_id":136270567,"body_markdown":"`catch (SomeException e) { System.exit(-1); }`","body":"<code>catch (SomeException e) { System.exit(-1); }</code>"}],"owner":{"account_id":27788048,"reputation":1,"user_id":21215053,"display_name":"ghostsushi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697385624,"answer_count":0,"score":0,"last_activity_date":1697385683,"creation_date":1697385165,"question_id":77297410,"body_markdown":"I want the program to end when the user puts in letters and words when they don&#39;t use numbers.\r\n\r\n```\r\ntry {\r\n      // The user is asked to enter a starting and ending number\r\n      System.out.print(&quot;\\n&quot;);\r\n      System.out.println(&quot;\\nNow type a starting number in digit form:&quot;);\r\n      int num1 = myObj.nextInt();\r\n      System.out.println(&quot;Now give an ending number:&quot;);\r\n      int num2 = myObj.nextInt();\r\n      \r\n      // If the first number is less than the second number this block will be used\r\n         if (num1 &lt; num2) {\r\n            for (;num1 &lt; num2; num1++) {\r\n               System.out.print(num1 + &quot; &quot;);\r\n            }\r\n         }\r\n      \r\n      // If the first number is more than the second number this block will be used\r\n         else {\r\n            for (;num1 &gt; num2; num2++) {\r\n               System.out.print(num2 + &quot; &quot;);\r\n            }\r\n         }\r\n      }\r\n      /*catch (InputMismatchException ime) {\r\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\r\n         }*/\r\n      // The user will enter a phrase here\r\n      myObj.nextLine();\r\n      System.out.println(&quot;\\n&quot;);\r\n      System.out.println(&quot;Write a phrase you want.&quot;);\r\n      phrase = myObj.nextLine();\r\n      \r\n      // The user will enter how many times the phrase should be printed\r\n      System.out.println(&quot;How many times would you like this printed?&quot;);\r\n      int rep = myObj.nextInt();\r\n      for (int i = 0; i &lt; rep; i++)\r\n         System.out.println(phrase);\r\n      \r\n      catch (InputMismatchException ime) {\r\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\r\n         }\r\n```\r\nThe first catch in this is commented out for the moment and it works, but the code continues on to the second function when I don&#39;t want it to. The second catch gives me two errors. One at the try saying it doesn&#39;t have a catch and at the catch at the bottom saying it doesn&#39;t have a try. The second catch isn&#39;t commented out. The second function after this does something else and it doesn&#39;t need a try/catch.\r\n\r\n\r\nI&#39;m not sure what else to put to make the catch end the program and not continue to the second function.","title":"Where should I put the catch in my try/catch?","body":"<p>I want the program to end when the user puts in letters and words when they don't use numbers.</p>\n<pre><code>try {\n      // The user is asked to enter a starting and ending number\n      System.out.print(&quot;\\n&quot;);\n      System.out.println(&quot;\\nNow type a starting number in digit form:&quot;);\n      int num1 = myObj.nextInt();\n      System.out.println(&quot;Now give an ending number:&quot;);\n      int num2 = myObj.nextInt();\n      \n      // If the first number is less than the second number this block will be used\n         if (num1 &lt; num2) {\n            for (;num1 &lt; num2; num1++) {\n               System.out.print(num1 + &quot; &quot;);\n            }\n         }\n      \n      // If the first number is more than the second number this block will be used\n         else {\n            for (;num1 &gt; num2; num2++) {\n               System.out.print(num2 + &quot; &quot;);\n            }\n         }\n      }\n      /*catch (InputMismatchException ime) {\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\n         }*/\n      // The user will enter a phrase here\n      myObj.nextLine();\n      System.out.println(&quot;\\n&quot;);\n      System.out.println(&quot;Write a phrase you want.&quot;);\n      phrase = myObj.nextLine();\n      \n      // The user will enter how many times the phrase should be printed\n      System.out.println(&quot;How many times would you like this printed?&quot;);\n      int rep = myObj.nextInt();\n      for (int i = 0; i &lt; rep; i++)\n         System.out.println(phrase);\n      \n      catch (InputMismatchException ime) {\n            System.out.println(&quot;You need to enter a number like 12.34. Try again.&quot;);\n         }\n</code></pre>\n<p>The first catch in this is commented out for the moment and it works, but the code continues on to the second function when I don't want it to. The second catch gives me two errors. One at the try saying it doesn't have a catch and at the catch at the bottom saying it doesn't have a try. The second catch isn't commented out. The second function after this does something else and it doesn't need a try/catch.</p>\n<p>I'm not sure what else to put to make the catch end the program and not continue to the second function.</p>\n"},{"tags":["java","maven","osgi","apache-felix","onos"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1696674382,"post_id":77240062,"comment_id":136185749,"body_markdown":"Where is the error message?","body":"Where is the error message?"},{"owner":{"account_id":29606855,"reputation":1,"user_id":22691095,"display_name":"aitorBoole"},"score":0,"creation_date":1697383602,"post_id":77240062,"comment_id":136270324,"body_markdown":"Sorry, I forgot to attach the file. I have already updated the question with the image of the logs.","body":"Sorry, I forgot to attach the file. I have already updated the question with the image of the logs."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1697419565,"post_id":77240062,"comment_id":136273505,"body_markdown":"Well done my friend, but try to upload as the plain text format. Images can&#39;t be copied, and it is the policy here :)","body":"Well done my friend, but try to upload as the plain text format. Images can&#39;t be copied, and it is the policy here :)"}],"owner":{"account_id":29606855,"reputation":1,"user_id":22691095,"display_name":"aitorBoole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697383551,"creation_date":1696534196,"question_id":77240062,"body_markdown":"I&#39;m trying to use [this](https://github.com/jatj/httpDetector) project for some lab tests. The fact is that when I activate the application on my ONOS controller the application crashes with the following error.\r\n\r\n[image-error-karaf][1]\r\n\r\nI have been investigating and searching in various forums but none of them clarify the solution to the error.\r\n\r\nAny help or clarification is appreciated.\r\n\r\nAll the best.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EV0G9.png","title":"ONOS does not find the generated .OAR","body":"<p>I'm trying to use <a href=\"https://github.com/jatj/httpDetector\" rel=\"nofollow noreferrer\">this</a> project for some lab tests. The fact is that when I activate the application on my ONOS controller the application crashes with the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/EV0G9.png\" rel=\"nofollow noreferrer\">image-error-karaf</a></p>\n<p>I have been investigating and searching in various forums but none of them clarify the solution to the error.</p>\n<p>Any help or clarification is appreciated.</p>\n<p>All the best.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1697377117,"post_id":77296833,"comment_id":136269644,"body_markdown":"Stop playing on your computer and procrastinating.  Just go and mow the lawn!!   :-)","body":"Stop playing on your computer and procrastinating.  Just go and mow the lawn!!   :-)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1697381585,"post_id":77296833,"comment_id":136270122,"body_markdown":"“my code isn`t coding” is not really a problem statement.  What input are you giving your program, and what output are you expecting to see?","body":"“my code isn`t coding” is not really a problem statement.  What input are you giving your program, and what output are you expecting to see?"},{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":0,"creation_date":1697388290,"post_id":77296833,"comment_id":136270899,"body_markdown":"Many thanks all for you comments and help  @user85421 I will reduce those empty lines","body":"Many thanks all for you comments and help  @user85421 I will reduce those empty lines"}],"answers":[{"comments":[{"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"score":1,"creation_date":1697387938,"post_id":77297150,"comment_id":136270856,"body_markdown":"Many thanks Rifat for correcting the code, I found when I experimented that if I only used Math.floor once on the 2nd else if, and not use .ceil or .floor anywhere else. The rest of the code would work as supposed to, why ? I also wanted to round up the numbers after the decimal with  (area)  so lgh 10 * wdt 45 = area 450.00m2 to 450m2","body":"Many thanks Rifat for correcting the code, I found when I experimented that if I only used Math.floor once on the 2nd else if, and not use .ceil or .floor anywhere else. The rest of the code would work as supposed to, why ? I also wanted to round up the numbers after the decimal with  (area)  so lgh 10 * wdt 45 = area 450.00m2 to 450m2"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697390400,"post_id":77297150,"comment_id":136271153,"body_markdown":"BTW, If you remove floor from first else if it should not work for cases where `mo_time = 90`. For example: `lgh = 45` and `wdt = 10`. @Chip","body":"BTW, If you remove floor from first else if it should not work for cases where <code>mo_time = 90</code>. For example: <code>lgh = 45</code> and <code>wdt = 10</code>. @Chip"}],"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697381390,"creation_date":1697381390,"answer_id":77297150,"question_id":77296833,"body_markdown":"Your problem is caused by this format specifier `Mowing time %.0f hour` which will round of your hour value with no digits after the decimal point. For example: \r\n\r\n`lgh = 50.0`, `wdt = 10.0`, So, `area = 500.0`, `mo_time = 500/5 = 100`.\r\n\r\nWhich will trigger the last else if case. Now, when it will try to print `100/60 = 1.6666666...` to 0 digits after decimal point. It would round up to `2`. You can use [Math.floor()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-) to get the floor value. That will be `1` in this example.\r\n\r\nAlso, in your current code, if the `area` is less than `mo`. It will print `0`. So, you can use [Math.ceil()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-) to take the ceiling of the minute value.\r\n\r\nHere is the modified code.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Tut3 {\r\n\r\n    public static void main(String[] args) {\r\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\r\n        Scanner key = new Scanner(System.in);\r\n        System.out.print(&quot;\\nPlease enter length in meters\\t&quot;);\r\n        lgh = key.nextDouble();\r\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\r\n        wdt = key.nextDouble();\r\n        area = lgh * wdt;\r\n        mo_time = area / mo;\r\n\r\n        //add mod to modulate any remaining numbers\r\n        if (mo_time &lt; 60) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area, Math.ceil(mo_time));\r\n        } else if (mo_time &lt;= 90) {\r\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.0f hour  %.0f  mins &quot;,\r\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\r\n        } else if (mo_time &gt; 90) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;,\r\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\r\n        }\r\n        key.close();\r\n    }\r\n}\r\n```\r\n\r\nHope this solves your problem.","title":"Using Mod correctly Java","body":"<p>Your problem is caused by this format specifier <code>Mowing time %.0f hour</code> which will round of your hour value with no digits after the decimal point. For example:</p>\n<p><code>lgh = 50.0</code>, <code>wdt = 10.0</code>, So, <code>area = 500.0</code>, <code>mo_time = 500/5 = 100</code>.</p>\n<p>Which will trigger the last else if case. Now, when it will try to print <code>100/60 = 1.6666666...</code> to 0 digits after decimal point. It would round up to <code>2</code>. You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floor-double-\" rel=\"nofollow noreferrer\">Math.floor()</a> to get the floor value. That will be <code>1</code> in this example.</p>\n<p>Also, in your current code, if the <code>area</code> is less than <code>mo</code>. It will print <code>0</code>. So, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-\" rel=\"nofollow noreferrer\">Math.ceil()</a> to take the ceiling of the minute value.</p>\n<p>Here is the modified code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Tut3 {\n\n    public static void main(String[] args) {\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\n        Scanner key = new Scanner(System.in);\n        System.out.print(&quot;\\nPlease enter length in meters\\t&quot;);\n        lgh = key.nextDouble();\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\n        wdt = key.nextDouble();\n        area = lgh * wdt;\n        mo_time = area / mo;\n\n        //add mod to modulate any remaining numbers\n        if (mo_time &lt; 60) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area, Math.ceil(mo_time));\n        } else if (mo_time &lt;= 90) {\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.0f hour  %.0f  mins &quot;,\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\n        } else if (mo_time &gt; 90) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;,\n                    area, Math.floor(mo_time/60), Math.ceil(mo_time%60));\n        }\n        key.close();\n    }\n}\n</code></pre>\n<p>Hope this solves your problem.</p>\n"}],"owner":{"account_id":29676405,"reputation":3,"user_id":22744236,"display_name":"Chip"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1697416797,"accepted_answer_id":77297150,"answer_count":1,"score":-4,"last_activity_date":1697382936,"creation_date":1697375788,"question_id":77296833,"body_markdown":"I am trying to use mod to round up my lawn area and mowing time. I am stuck and my code isn`t coding lol\r\n\r\nI tried a nested if but it wouldn&#39;t run either so I commented it out, if anyone can just fix the areas that need amending and not change the code to suit their style, but follow my way. That would help me understand my wrongs better. Thanks\r\n```java\r\npackage Tutorial;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Tut3 {\r\n\r\n    public static void main(String[] args) {\r\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\r\n        Scanner key = new Scanner(System.in);\r\n        System.out.print(&quot;\\nPlease enter lenght in meters\\t&quot;);\r\n        lgh = key.nextDouble();\r\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\r\n        wdt = key.nextDouble();\r\n        area = lgh * wdt;\r\n        mo_time = area / mo;\r\n        \r\n        //add mod to modulate any remaining numbers\r\n        if (mo_time &lt; 60) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area,\r\n                    (mo_time % 60));\r\n        } else if (mo_time &gt;= 60 &amp;&amp; mo_time &lt;= 90) {\r\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.1f hour  %.0f  mins &quot;,area, (mo_time /60  ), (mo_time % 60 ));\r\n        }\r\n            // if time is &gt;=60 use mod to round up in to hours and mins unless time is 60min then time reads 1 hour, not 1 hour 0 mins and so on, if areas sqm is 30.0 round up to 30sqm and so on\r\n            /*if (mo_time % 60 == 0) {\r\n    \t\t\tSystem.out.printf(&quot;\\n###Your lawn area = %.2fm2\\n\\nMowing time %.1f hour&quot;, area, (mo_time / 60));\r\n    \t\t}*/\r\n        else if (mo_time &gt; 90) {\r\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;, area, (mo_time / 60), (mo_time % 60));\r\n        }\r\n        key.close();\r\n    }\r\n}\r\n```","title":"Using Mod correctly Java","body":"<p>I am trying to use mod to round up my lawn area and mowing time. I am stuck and my code isn`t coding lol</p>\n<p>I tried a nested if but it wouldn't run either so I commented it out, if anyone can just fix the areas that need amending and not change the code to suit their style, but follow my way. That would help me understand my wrongs better. Thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Tutorial;\n\nimport java.util.Scanner;\n\npublic class Tut3 {\n\n    public static void main(String[] args) {\n        double lgh = 0.0, wdt = 0.0, area = 0.0, mo = 5, mo_time = 0.0;\n        Scanner key = new Scanner(System.in);\n        System.out.print(&quot;\\nPlease enter lenght in meters\\t&quot;);\n        lgh = key.nextDouble();\n        System.out.print(&quot;\\nPlease enter width in meters\\t&quot;);\n        wdt = key.nextDouble();\n        area = lgh * wdt;\n        mo_time = area / mo;\n        \n        //add mod to modulate any remaining numbers\n        if (mo_time &lt; 60) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f  mins &quot;, area,\n                    (mo_time % 60));\n        } else if (mo_time &gt;= 60 &amp;&amp; mo_time &lt;= 90) {\n            System.out.printf(&quot;\\n***Lawn area = %.2f m2\\n\\nMowing time %.1f hour  %.0f  mins &quot;,area, (mo_time /60  ), (mo_time % 60 ));\n        }\n            // if time is &gt;=60 use mod to round up in to hours and mins unless time is 60min then time reads 1 hour, not 1 hour 0 mins and so on, if areas sqm is 30.0 round up to 30sqm and so on\n            /*if (mo_time % 60 == 0) {\n                System.out.printf(&quot;\\n###Your lawn area = %.2fm2\\n\\nMowing time %.1f hour&quot;, area, (mo_time / 60));\n            }*/\n        else if (mo_time &gt; 90) {\n            System.out.printf(&quot;\\nLawn area = %.2f m2\\n\\nMowing time %.0f hour %.0f  mins \\n\\nTime to purchase a new lawnmower&quot;, area, (mo_time / 60), (mo_time % 60));\n        }\n        key.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring"],"answers":[{"comments":[{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1646724183,"post_id":53194358,"comment_id":126188341,"body_markdown":"I&#39;m facing issue on local. I tried making use of the POM changes `&lt;version&gt;5.1.6&lt;/version&gt;` but it did not work. My MySQL version is 5.7.","body":"I&#39;m facing issue on local. I tried making use of the POM changes <code>&lt;version&gt;5.1.6&lt;&#47;version&gt;</code> but it did not work. My MySQL version is 5.7."}],"tags":[],"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1639224885,"creation_date":1541610359,"answer_id":53194358,"question_id":53192560,"body_markdown":"I got it.\r\n\r\nStep 1.\r\nCreate an user on remote mysql server and grant all privileges.\r\n\r\nStep 2.\r\nChange datasource url\r\n\r\n    spring.datasource.url=jdbc:mysql://xxx.xxx.xxx.xxx:3306/dbtest\r\nStep 3.\r\nChange pom.xml mysql\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCheck that version is changed to `&lt;version&gt;5.1.6&lt;/version&gt;` from `&lt;scope&gt;runtime&lt;/scope&gt;`","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I got it.</p>\n<p>Step 1.\nCreate an user on remote mysql server and grant all privileges.</p>\n<p>Step 2.\nChange datasource url</p>\n<pre><code>spring.datasource.url=jdbc:mysql://xxx.xxx.xxx.xxx:3306/dbtest\n</code></pre>\n<p>Step 3.\nChange pom.xml mysql</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.6&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Check that version is changed to <code>&lt;version&gt;5.1.6&lt;/version&gt;</code> from <code>&lt;scope&gt;runtime&lt;/scope&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643717205,"creation_date":1558115116,"answer_id":56191236,"question_id":53192560,"body_markdown":"you need to find a compatible version for your MySQL installed version\r\n\r\nDefault one is\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nChange it to some version\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.46&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nNow remove the default dependency installed. &quot;package explorer&quot;&gt; your project &gt; &quot;Maven dependencies&quot;&gt;type MySql it will come, now delete it(mysql-connector-java-x.y.z.jar)\r\n\r\nTry to give a version nearer to your MySql version &amp; check [maven repository][1] and\r\nfind a nearer version having more usage\r\n\r\nFor me, MySql version is 5.0.27 which you can see from &quot;MySQL command-line client&quot; and the version I tried is 5.1.46 \r\n\r\n1 more thing is to add to the application.proerties\r\n\r\n    spring.datasource.driver-class-name= com.mysql.jdbc.Driver\r\n\r\nBut, if you are taking MySql dependency version nearer to 8 it is\r\n\r\n    spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\r\nwhich is not required as it takes internally\r\n\r\nNow do &quot;clean install&quot; your app, right-click &quot;run as&quot;&gt;mvn clean &amp; &quot;run as&quot;&gt;mvn install, then build your application using right-click &quot;maven&quot;&gt;update project(Alt+F5)\r\n\r\nNow to confirm version change, check maven dependency, mysql-connector-java-5.1.46.jar (whichever is your mentioned dependency)\r\n\r\nAnd, if still not working make sure you have checked with some applications having localhost server. Then check /etc/drivers/hosts file &amp; uncomment this line\r\n\r\n    #    127.0.0.1       localhost\r\n\r\n  [1]: https://mvnrepository.com/artifact/mysql/mysql-connector-java","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>you need to find a compatible version for your MySQL installed version</p>\n<p>Default one is</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Change it to some version</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.46&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Now remove the default dependency installed. &quot;package explorer&quot;&gt; your project &gt; &quot;Maven dependencies&quot;&gt;type MySql it will come, now delete it(mysql-connector-java-x.y.z.jar)</p>\n<p>Try to give a version nearer to your MySql version &amp; check <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">maven repository</a> and\nfind a nearer version having more usage</p>\n<p>For me, MySql version is 5.0.27 which you can see from &quot;MySQL command-line client&quot; and the version I tried is 5.1.46</p>\n<p>1 more thing is to add to the application.proerties</p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.jdbc.Driver\n</code></pre>\n<p>But, if you are taking MySql dependency version nearer to 8 it is</p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>which is not required as it takes internally</p>\n<p>Now do &quot;clean install&quot; your app, right-click &quot;run as&quot;&gt;mvn clean &amp; &quot;run as&quot;&gt;mvn install, then build your application using right-click &quot;maven&quot;&gt;update project(Alt+F5)</p>\n<p>Now to confirm version change, check maven dependency, mysql-connector-java-5.1.46.jar (whichever is your mentioned dependency)</p>\n<p>And, if still not working make sure you have checked with some applications having localhost server. Then check /etc/drivers/hosts file &amp; uncomment this line</p>\n<pre><code>#    127.0.0.1       localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9322069,"reputation":557,"user_id":6920526,"display_name":"Natty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569921195,"creation_date":1569919414,"answer_id":58181080,"question_id":53192560,"body_markdown":"Check if the following are configured correctly. This solved the problem for me. If you are new to Java environment then you should definitely look for these.\r\n\r\n1) Check if the MySQL-connector-java driver version is suitable for the PySpark version that you are using. If not try changing it.\r\n\r\n2) Make sure only one mysql-connector-java-&lt;version&gt;.jar driver file is present in the folder that you are looking into. Remove the other versions from this location. There is a possibility that the other version is taken by PySpark\r\n\r\n4) Verify if your environment variable SPARK_HOME is set correctly. To check this, copy the location that was given in the environment variable window and paste it in the file explorer (Windows). This should go to the correct location.\r\n\r\n3) Confirm if your environment is using the mysql-connector-java-&lt;version&gt;.jar driver file that you want it to use. One way to test this is to remove the file from this location and see if the error changes. If the same error (an error that was before deleting) occurs, then your environment is not using the driver file that you want it to use. Find the location of the file that your PySpark is using. Try changing this path (either by changing the environment variable or manually give the path in the code) or use this location and paste all the required driver files in that location\r\n\r\nThese were the checks I did and one of the above solutions should solve the issue provided there is nothing wrong with your code.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>Check if the following are configured correctly. This solved the problem for me. If you are new to Java environment then you should definitely look for these.</p>\n\n<p>1) Check if the MySQL-connector-java driver version is suitable for the PySpark version that you are using. If not try changing it.</p>\n\n<p>2) Make sure only one mysql-connector-java-.jar driver file is present in the folder that you are looking into. Remove the other versions from this location. There is a possibility that the other version is taken by PySpark</p>\n\n<p>4) Verify if your environment variable SPARK_HOME is set correctly. To check this, copy the location that was given in the environment variable window and paste it in the file explorer (Windows). This should go to the correct location.</p>\n\n<p>3) Confirm if your environment is using the mysql-connector-java-.jar driver file that you want it to use. One way to test this is to remove the file from this location and see if the error changes. If the same error (an error that was before deleting) occurs, then your environment is not using the driver file that you want it to use. Find the location of the file that your PySpark is using. Try changing this path (either by changing the environment variable or manually give the path in the code) or use this location and paste all the required driver files in that location</p>\n\n<p>These were the checks I did and one of the above solutions should solve the issue provided there is nothing wrong with your code.</p>\n"},{"comments":[{"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"score":0,"creation_date":1594342421,"post_id":62730400,"comment_id":111100032,"body_markdown":"I solved it, and I don&#39;t think your answer is correct, instead you are giving a wrong answer as &quot;How do not do it&quot;","body":"I solved it, and I don&#39;t think your answer is correct, instead you are giving a wrong answer as &quot;How do not do it&quot;"}],"tags":[],"owner":{"account_id":4980512,"reputation":39,"user_id":4005650,"display_name":"ianeperson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697382514,"creation_date":1593873213,"answer_id":62730400,"question_id":53192560,"body_markdown":"Check that you don&#39;t have a version issue.  \r\n\r\nThe Spring Boot project creator will download the latest MySQL connector (currently Version 8) so if you are running an older version of MySQL then the CLIENT_PLUGIN_AUTH error probably results from this.\r\n\r\nYou can convince maven to use an older version of the connector (as in Satish&#39;s reply) or add the connector outside of Spring Boot:\r\n\r\nRemove the  mysql-connector-java dependency from your pom.xml\r\n\r\nDownload the mysql-connector-java for your MySQL – usually the one from your distro.\r\n\r\nWith:\r\n \t\tProject -&gt; Properties -&gt; Java Build Path\r\n\r\nselect the Libraries tab.\r\n\r\nAnd add External JAR:\r\n\r\n \t\t/usr/share/java/mysql-connector-java-5.1.17.jar\r\n\r\nor something similar.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>Check that you don't have a version issue.</p>\n<p>The Spring Boot project creator will download the latest MySQL connector (currently Version 8) so if you are running an older version of MySQL then the CLIENT_PLUGIN_AUTH error probably results from this.</p>\n<p>You can convince maven to use an older version of the connector (as in Satish's reply) or add the connector outside of Spring Boot:</p>\n<p>Remove the  mysql-connector-java dependency from your pom.xml</p>\n<p>Download the mysql-connector-java for your MySQL – usually the one from your distro.</p>\n<p>With:\nProject -&gt; Properties -&gt; Java Build Path</p>\n<p>select the Libraries tab.</p>\n<p>And add External JAR:</p>\n<pre><code>    /usr/share/java/mysql-connector-java-5.1.17.jar\n</code></pre>\n<p>or something similar.</p>\n"},{"tags":[],"owner":{"account_id":3778959,"reputation":186,"user_id":3138963,"display_name":"Konki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637261168,"creation_date":1637261168,"answer_id":70025159,"question_id":53192560,"body_markdown":"I&#39;ve had similar problem just now.\r\nMy local code was working fine, while my remote code wasn&#39;t working.\r\n\r\nIn local machine I&#39;ve used \r\n- jar: mysql-connector-java-8.0.17.jar\r\n- driver: com.mysql.cj.jdbc.Driver\r\n\r\nWhen I&#39;ve changed jar and drived in remote server it started to work just fine.\r\nI&#39;ve used:\r\n- jar: mysql-connector-java-3.0.17-ga-bin.jar\r\n- driver: com.mysql.jdbc.Driver\r\n\r\nAfter that I didn&#39;t have any issues :) ","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I've had similar problem just now.\nMy local code was working fine, while my remote code wasn't working.</p>\n<p>In local machine I've used</p>\n<ul>\n<li>jar: mysql-connector-java-8.0.17.jar</li>\n<li>driver: com.mysql.cj.jdbc.Driver</li>\n</ul>\n<p>When I've changed jar and drived in remote server it started to work just fine.\nI've used:</p>\n<ul>\n<li>jar: mysql-connector-java-3.0.17-ga-bin.jar</li>\n<li>driver: com.mysql.jdbc.Driver</li>\n</ul>\n<p>After that I didn't have any issues :)</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1665085257,"post_id":73810154,"comment_id":130623187,"body_markdown":"Please don&#39;t add the same answer to multiple questions. Answer the best one and flag the rest as duplicates. See [Is it acceptable to add a duplicate answer to several questions?](//meta.stackexchange.com/q/104227)","body":"Please don&#39;t add the same answer to multiple questions. Answer the best one and flag the rest as duplicates. See <a href=\"//meta.stackexchange.com/q/104227\">Is it acceptable to add a duplicate answer to several questions?</a>"}],"tags":[],"owner":{"account_id":19128190,"reputation":11,"user_id":14041648,"display_name":"Venkata Siva Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663827670,"creation_date":1663827670,"answer_id":73810154,"question_id":53192560,"body_markdown":"This could be due to MySql database service itself. To resolve, just **Restart Your MySQL Database** &lt;br/&gt;\r\n\r\n**How to restart the MySQL service** &lt;br/&gt;\r\nOn Windows: https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql &lt;br/&gt;\r\nOn Linux: &amp;emsp;&amp;ensp; https://linuxhint.com/restart-mysql-in-ubuntu/\r\n","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>This could be due to MySql database service itself. To resolve, just <strong>Restart Your MySQL Database</strong> <br/></p>\n<p><strong>How to restart the MySQL service</strong> <br/>\nOn Windows: <a href=\"https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql\" rel=\"nofollow noreferrer\">https://www.mysqltutorial.org/mysql-adminsitration/restart-mysql</a> <br/>\nOn Linux:    <a href=\"https://linuxhint.com/restart-mysql-in-ubuntu/\" rel=\"nofollow noreferrer\">https://linuxhint.com/restart-mysql-in-ubuntu/</a></p>\n"},{"tags":[],"owner":{"account_id":27794474,"reputation":1,"user_id":21220308,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472707,"creation_date":1676472707,"answer_id":75461561,"question_id":53192560,"body_markdown":"This is just because of higher version,\r\nuse version 5.x.x instead of version 8.\r\n\r\nit will execute properly.","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>This is just because of higher version,\nuse version 5.x.x instead of version 8.</p>\n<p>it will execute properly.</p>\n"}],"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35389,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53194358,"answer_count":7,"score":6,"last_activity_date":1697382514,"creation_date":1541604446,"question_id":53192560,"body_markdown":"I have my app working fine on local, but when I tried to connect to remote server I get this error: CLIENT_PLUGIN_AUTH is required.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    server.port=8081\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    #local\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/dbtest\r\n    #spring.datasource.username=user\r\n    #spring.datasource.password=password\r\n    #remote\r\n    spring.datasource.url=jdbc:mysql://userssh:passwordssh@xxx.xxx.xxx.xxx:3306/dbtest\r\n    spring.datasource.username=userRemote\r\n    spring.datasource.password=passRemote\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring boot CLIENT_PLUGIN_AUTH is required","body":"<p>I have my app working fine on local, but when I tried to connect to remote server I get this error: CLIENT_PLUGIN_AUTH is required.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>server.port=8081\r\nspring.jpa.hibernate.ddl-auto=none\r\n#local\r\n#spring.datasource.url=jdbc:mysql://localhost:3306/dbtest\r\n#spring.datasource.username=user\r\n#spring.datasource.password=password\r\n#remote\r\nspring.datasource.url=jdbc:mysql://userssh:passwordssh@xxx.xxx.xxx.xxx:3306/dbtest\r\nspring.datasource.username=userRemote\r\nspring.datasource.password=passRemote\r\n\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","json","spring","rest","multipartform-data"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1447655777,"post_id":33729591,"comment_id":55228313,"body_markdown":"Could be a duplicate of http://stackoverflow.com/questions/4083702/posting-a-file-and-data-to-restful-webservice-as-json","body":"Could be a duplicate of <a href=\"http://stackoverflow.com/questions/4083702/posting-a-file-and-data-to-restful-webservice-as-json\" title=\"posting a file and data to restful webservice as json\">stackoverflow.com/questions/4083702/&hellip;</a>"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1447655821,"post_id":33729591,"comment_id":55228326,"body_markdown":"see also http://stackoverflow.com/questions/15502054/spring-mvc-requestbody-give-me-an-empty-string-when-use-with-requestparam-mult","body":"see also <a href=\"http://stackoverflow.com/questions/15502054/spring-mvc-requestbody-give-me-an-empty-string-when-use-with-requestparam-mult\" title=\"spring mvc requestbody give me an empty string when use with requestparam mult\">stackoverflow.com/questions/15502054/&hellip;</a>"},{"owner":{"account_id":173081,"reputation":14567,"user_id":401539,"accept_rate":100,"display_name":"tungd"},"score":1,"creation_date":1447656246,"post_id":33729591,"comment_id":55228471,"body_markdown":"The problem is `@RequestBody`, see http://stackoverflow.com/questions/29370143/spring-mvc-upload-file-with-other-fields","body":"The problem is <code>@RequestBody</code>, see <a href=\"http://stackoverflow.com/questions/29370143/spring-mvc-upload-file-with-other-fields\" title=\"spring mvc upload file with other fields\">stackoverflow.com/questions/29370143/&hellip;</a>"},{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":1,"creation_date":1447663519,"post_id":33729591,"comment_id":55231407,"body_markdown":"Without @RequestBody, objects fields are not getting mapped i.e. DTO&#39;s fields are set to null","body":"Without @RequestBody, objects fields are not getting mapped i.e. DTO&#39;s fields are set to null"}],"answers":[{"comments":[{"owner":{"display_name":"user4933349"},"score":0,"creation_date":1447747882,"post_id":33738012,"comment_id":55271527,"body_markdown":"Multipart request  is used to handle files , u can skip it off when u don&#39;t need it","body":"Multipart request  is used to handle files , u can skip it off when u don&#39;t need it"}],"tags":[],"owner":{"display_name":"user4933349"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447684978,"creation_date":1447684978,"answer_id":33738012,"question_id":33729591,"body_markdown":"Appending the values to the URL what u have been doing now using @RequestParam.\r\n\r\n@RequestParam annotation will not work for complex JSON Objects , it is specifi for Integer or String .\r\n\r\nIf it is a Http POST method , use of @RequestBody will make the Spring to map the incoming request to the POJO what u have created (condition: if the POJO maps the incoming JSON)","title":"Posting a file and JSON data to Spring rest service","body":"<p>Appending the values to the URL what u have been doing now using @RequestParam.</p>\n\n<p>@RequestParam annotation will not work for complex JSON Objects , it is specifi for Integer or String .</p>\n\n<p>If it is a Http POST method , use of @RequestBody will make the Spring to map the incoming request to the POJO what u have created (condition: if the POJO maps the incoming JSON)</p>\n"},{"tags":[],"owner":{"account_id":4219904,"reputation":2104,"user_id":3454928,"accept_rate":43,"display_name":"Kalaiselvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499150514,"creation_date":1499149664,"answer_id":44898409,"question_id":33729591,"body_markdown":"create FormData() and append your json and file \r\n\r\n            if (form.validate()) {\r\n            var file = $scope.file;\r\n            var fd = new FormData();\r\n            fd.append(&#39;jsondata&#39;, $scope.jsonData);  \r\n            fd.append(&#39;file&#39;, file);\r\n            MyService.submitFormWithFile(&#39;doc/store.html&#39;, fd, &#39;&#39;, (response){\r\n                 console.log(response)\r\n            });\r\n        }\r\n\r\n//Service called in above\r\n\r\n        MyService.submitFormWithFile = function(url, data, config, callback) {\r\n\t\t$http({\r\n\t\t\tmethod : &#39;POST&#39;,\r\n\t\t\turl : url,\r\n\t\t\theaders : {\r\n\t\t\t\t&#39;Content-Type&#39; : undefined\r\n\t\t\t},\r\n\t\t\tdata : data,\r\n\t\t\ttransformRequest : function(data, headersGetterFunction) {\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\t\t}).success(function(response, status, header, config) {\r\n\t\t\tif (status === 200) {\r\n\t\t\t\tcallback(response);\r\n\t\t\t} else {\r\n                console.log(&quot;error&quot;)\r\n\t\t\t}\r\n\t\t}).error(function(response, status, header, config) {\t\t\t\r\n                console.log(response);\r\n\t\t});\r\n\t};\r\n\r\n\r\n// in your java part using ObjectMapper\r\n\r\n    //it is like  string\r\n    fd.append(&#39;jsondata&#39;, JSON.stringify($scope.jsonData));\r\n\r\n      \r\n\r\n      @Autowired\r\n      private ObjectMapper mapper;\r\n\r\n     @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n       public void createCompany(@RequestParam String jsondata,\r\n\t\t\t@RequestParam(required = true) MultipartFile file){\r\n       \r\n      \r\n            CompanyDto companyDto=mapper.readValue(jsondata, CompanyDTO.class);\r\n           ......\r\n     }\r\n\r\n\r\n\r\n\r\n","title":"Posting a file and JSON data to Spring rest service","body":"<p>create FormData() and append your json and file </p>\n\n<pre><code>        if (form.validate()) {\n        var file = $scope.file;\n        var fd = new FormData();\n        fd.append('jsondata', $scope.jsonData);  \n        fd.append('file', file);\n        MyService.submitFormWithFile('doc/store.html', fd, '', (response){\n             console.log(response)\n        });\n    }\n</code></pre>\n\n<p>//Service called in above</p>\n\n<pre><code>    MyService.submitFormWithFile = function(url, data, config, callback) {\n    $http({\n        method : 'POST',\n        url : url,\n        headers : {\n            'Content-Type' : undefined\n        },\n        data : data,\n        transformRequest : function(data, headersGetterFunction) {\n            return data;\n        }\n    }).success(function(response, status, header, config) {\n        if (status === 200) {\n            callback(response);\n        } else {\n            console.log(\"error\")\n        }\n    }).error(function(response, status, header, config) {           \n            console.log(response);\n    });\n};\n</code></pre>\n\n<p>// in your java part using ObjectMapper</p>\n\n<pre><code>//it is like  string\nfd.append('jsondata', JSON.stringify($scope.jsonData));\n\n\n\n  @Autowired\n  private ObjectMapper mapper;\n\n @RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n   public void createCompany(@RequestParam String jsondata,\n        @RequestParam(required = true) MultipartFile file){\n\n\n        CompanyDto companyDto=mapper.readValue(jsondata, CompanyDTO.class);\n       ......\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1258769,"reputation":1436,"user_id":1217652,"display_name":"Ankit Adlakha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566510602,"creation_date":1566510602,"answer_id":57617434,"question_id":33729591,"body_markdown":"Use below code snippet:\r\n\r\n        @RequestMapping(value= &quot;/path&quot;, method=RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseObject methodName(MyData input, @RequestParam(required=false) MultipartFile file) {\r\n    \t\t// To Do\r\n    \t}","title":"Posting a file and JSON data to Spring rest service","body":"<p>Use below code snippet:</p>\n\n<pre><code>    @RequestMapping(value= \"/path\", method=RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\n    public ResponseObject methodName(MyData input, @RequestParam(required=false) MultipartFile file) {\n        // To Do\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29432242,"reputation":1,"user_id":22551716,"display_name":"Ashvin Rokade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694703711,"creation_date":1694623554,"answer_id":77099029,"question_id":33729591,"body_markdown":"While consuming a form-data input, the request parameters can only be in key-value format. Hence, you cannot directly use a POJO as a request parameter. \r\n\r\nFor your use case, you can do something like:\r\n\r\n```java\r\n// RequestBody will be the JSON body which can be mapped to a POJO.\r\npublic void createCompany(Multipart file, String requestBody) {\r\n  // Parse the requestBody into POJO.\r\n}\r\n```","title":"Posting a file and JSON data to Spring rest service","body":"<p>While consuming a form-data input, the request parameters can only be in key-value format. Hence, you cannot directly use a POJO as a request parameter.</p>\n<p>For your use case, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// RequestBody will be the JSON body which can be mapped to a POJO.\npublic void createCompany(Multipart file, String requestBody) {\n  // Parse the requestBody into POJO.\n}\n</code></pre>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12643,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1697382155,"creation_date":1447655273,"question_id":33729591,"body_markdown":"I am building a Spring rest service for uploading a file. There is a form that consists of various field and one field for uploading a file. On submitting that form, I am sending a multipart form request i.e. `Content-Type` as `multipart/form-data`.\r\n\r\nSo I tried with below\r\n\r\n    @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n    \tpublic void createCompany(@RequestBody CompanyDTO companyDTO, @RequestParam(value = &quot;image&quot;, required = false) MultipartFile image){\r\n    .................\t\r\n\r\nBut, the above didn&#39;t work. So for time being,i sent JSON data as String and forming Company Object from that String in rest service like \r\n\r\n   \r\n\r\n     @RequestMapping(value = &quot;/companies&quot;, method = RequestMethod.POST)\r\n        \tpublic void createCompany(@RequestParam(&quot;companyJson&quot;) String companyJson, @RequestParam(value = &quot;image&quot;,required = false) MultipartFile image) throws JsonParseException, JsonMappingException, IOException{\r\n        \t\tCompanyDTO companyDTO =  new ObjectMapper().readValue(companyJson, CompanyDTO.class);\r\n    .............................\r\n\r\nCan&#39;t I send JSON data with @RequestBody without passing JSON as String? ","title":"Posting a file and JSON data to Spring rest service","body":"<p>I am building a Spring rest service for uploading a file. There is a form that consists of various field and one field for uploading a file. On submitting that form, I am sending a multipart form request i.e. <code>Content-Type</code> as <code>multipart/form-data</code>.</p>\n\n<p>So I tried with below</p>\n\n<pre><code>@RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n    public void createCompany(@RequestBody CompanyDTO companyDTO, @RequestParam(value = \"image\", required = false) MultipartFile image){\n.................   \n</code></pre>\n\n<p>But, the above didn't work. So for time being,i sent JSON data as String and forming Company Object from that String in rest service like </p>\n\n<pre><code> @RequestMapping(value = \"/companies\", method = RequestMethod.POST)\n        public void createCompany(@RequestParam(\"companyJson\") String companyJson, @RequestParam(value = \"image\",required = false) MultipartFile image) throws JsonParseException, JsonMappingException, IOException{\n            CompanyDTO companyDTO =  new ObjectMapper().readValue(companyJson, CompanyDTO.class);\n.............................\n</code></pre>\n\n<p>Can't I send JSON data with @RequestBody without passing JSON as String? </p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697380577,"post_id":77297014,"comment_id":136270003,"body_markdown":"Please add the full stacktrace and the error isn&#39;t related to the methods you shown here. There appears to be a method like `@GetMapping(&quot;/racun/{id}&quot;)` which is being called. The `@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}` doesn&#39;t do what you think it does, there is no `type` nor `city` placeholder in your URL template, so it doesn&#39;t do anything. SHould be something like `@{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}` else it would generate parameters not path variables.","body":"Please add the full stacktrace and the error isn&#39;t related to the methods you shown here. There appears to be a method like <code>@GetMapping(&quot;&#47;racun&#47;{id}&quot;)</code> which is being called. The <code>@{&#47;racun&#47;new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}</code> doesn&#39;t do what you think it does, there is no <code>type</code> nor <code>city</code> placeholder in your URL template, so it doesn&#39;t do anything. SHould be something like <code>@{&#47;racun&#47;new&#47;{type}&#47;{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}</code> else it would generate parameters not path variables."},{"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"score":0,"creation_date":1697381480,"post_id":77297014,"comment_id":136270109,"body_markdown":"@M.Deinum Yes, you are right. The @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} worked as intented. Thank you so much...BTW The @GetMapping(&quot;/racun/{id}&quot;) is for calling all the bills (racuni). The &quot;racuni-template&quot;... Thanks for your help tho :)","body":"@M.Deinum Yes, you are right. The @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} worked as intented. Thank you so much...BTW The @GetMapping(&quot;/racun/{id}&quot;) is for calling all the bills (racuni). The &quot;racuni-template&quot;... Thanks for your help tho :)"}],"answers":[{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697381566,"creation_date":1697381566,"answer_id":77297161,"question_id":77297014,"body_markdown":"The error was in HTML:\r\nI wrote @{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)} but the correct way was @{/racun/new/{type}/{city}(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}\r\n\r\nCredit: M.Deinum\r\n\r\nThanks to M.Deinum","title":"Trying to pass arguments using PathVariable results in Error Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;","body":"<p>The error was in HTML:\nI wrote @{/racun/new(type='Čistoća', city='Rijeka')} but the correct way was @{/racun/new/{type}/{city}(type='Čistoća', city='Rijeka')}</p>\n<p>Credit: M.Deinum</p>\n<p>Thanks to M.Deinum</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697381566,"creation_date":1697378910,"question_id":77297014,"body_markdown":"I&#39;m building this simple application for my parents to have an easier &quot;check list&quot; of what bills have been paid. I&#39;ve taken it upon myself to build it (free of charge, duh), as a mean of practice and a real workflow role play. Everything went smoothly, except few minor errors, but this time I&#39;ve been stuck for a few days and just can&#39;t wrap my head around this problem...\r\n\r\nI try passing arguments using @PathVariable, to setup some default values such as type and city. Everything else is modifiable and should not have a default value. Now, I&#39;ve created 3 cards, each representing it&#39;s own city with a dropdown to select what type of bill you would like to save, write in, whatever you call it. Now, every `&lt;li&gt;` in the dropdown is a type. A type is the name of the bill, such as: water, internet, garbage collection etc. Standard stuff...Now my idea was to have each of the `&lt;li&gt;` be clickable and so that when you click on it, you would be redirected to a page that has already populated the type and city for you, and you only have to fill in the rest, such as price and description.\r\n\r\nI&#39;m using Java Spring Boot and Thymeleaf (I didn&#39;t want to bother using something else other than Thymeleaf because I wanted to try and learn it just a bit).\r\n\r\nHere is the code in question:\r\n\r\ncontroller:\r\n\r\n    @GetMapping(&quot;/racuni&quot;)\r\n        public String getRacuniTemplate(Model model){\r\n            return racunService.getTemplates(model);\r\n        }\r\n\r\n    @GetMapping(&quot;/racun/new/{type}/{city}&quot;)\r\n        public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\r\n            return racunService.createRacunForm(model, type, city);\r\n        }\r\n    \r\n    @PostMapping(&quot;/racun/new&quot;)\r\n        public String createRacun(@ModelAttribute racun racun){\r\n            return racunService.createNewRacun(racun);\r\n        }\r\n\r\nService:\r\n\r\n    public String getTemplates(Model model){\r\n            racun racunZagreb = new racun();\r\n            racun racunSplit = new racun();\r\n            racun racunRijeka = new racun();\r\n    \r\n            model.addAttribute(&quot;racunZagreb&quot;, racunZagreb);\r\n            model.addAttribute(&quot;racunSplit&quot;, racunSplit);\r\n            model.addAttribute(&quot;racunRijeka&quot;, racunRijeka);\r\n    \r\n            return &quot;racuni-template&quot;;\r\n        }\r\n\r\n    public String createRacunForm(Model model, String type, String city){\r\n            racun racun = new racun();\r\n            racun.setType(type);\r\n            racun.setCity(city);\r\n    \r\n            model.addAttribute(&quot;racun&quot;, racun);\r\n            return &quot;racun_new&quot;;\r\n        }\r\n    \r\n    public String createNewRacun(racun racun){\r\n            racunRepository.save(racun);\r\n    \r\n            return &quot;redirect:/racun/&quot; + racun.getId();\r\n        }\r\n\r\nThymeleaf template:\r\n\r\n    &lt;div&gt;\r\n      &lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Rijeka&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Rijeku&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Rijeka&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Zagreb&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Zagreb&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Maximus&#39;, city=&#39;Zagreb&#39;)}&quot;&gt;Maximus&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;h5 class=&quot;card-title&quot;&gt;Split&lt;/h5&gt;\r\n              &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Split&lt;/p&gt;\r\n              &lt;div class=&quot;dropdown&quot;&gt;\r\n                &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\r\n                &lt;div class=&quot;dropdown-content&quot;&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Čistoća&#39;, city=&#39;Split&#39;)}&quot;&gt;Čistoća&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Komunalije&#39;, city=&#39;Split&#39;)}&quot;&gt;Komunalije&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Voda&#39;, city=&#39;Split&#39;)}&quot;&gt;Voda&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Internet&#39;, city=&#39;Split&#39;)}&quot;&gt;Internet&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Struja&#39;, city=&#39;Split&#39;)}&quot;&gt;Struja&lt;/a&gt;\r\n                  &lt;a th:href=&quot;@{/racun/new(type=&#39;Ostalo&#39;, city=&#39;Split&#39;)}&quot;&gt;Ostalo&lt;/a&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nOnce I run this and try to acces any of the dropdown items, I get hit with this error:\r\n\r\nThere was an unexpected error (type=Bad Request, status=400).\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;new&quot;\r\norg.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: &quot;new&quot;\r\n\r\nI don&#39;t know why it insists there should be a required type &quot;long&quot; when I pass in String and expect a String. The only thing that comes to my mind is an ID, but I haven&#39;t exposed IDs, so yea...IDK... Please help, I&#39;d really really appreciate it. Thanks in advance\r\n\r\nEDIT: The template is &quot;racuni-template.html&quot;","title":"Trying to pass arguments using PathVariable results in Error Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;","body":"<p>I'm building this simple application for my parents to have an easier &quot;check list&quot; of what bills have been paid. I've taken it upon myself to build it (free of charge, duh), as a mean of practice and a real workflow role play. Everything went smoothly, except few minor errors, but this time I've been stuck for a few days and just can't wrap my head around this problem...</p>\n<p>I try passing arguments using @PathVariable, to setup some default values such as type and city. Everything else is modifiable and should not have a default value. Now, I've created 3 cards, each representing it's own city with a dropdown to select what type of bill you would like to save, write in, whatever you call it. Now, every <code>&lt;li&gt;</code> in the dropdown is a type. A type is the name of the bill, such as: water, internet, garbage collection etc. Standard stuff...Now my idea was to have each of the <code>&lt;li&gt;</code> be clickable and so that when you click on it, you would be redirected to a page that has already populated the type and city for you, and you only have to fill in the rest, such as price and description.</p>\n<p>I'm using Java Spring Boot and Thymeleaf (I didn't want to bother using something else other than Thymeleaf because I wanted to try and learn it just a bit).</p>\n<p>Here is the code in question:</p>\n<p>controller:</p>\n<pre><code>@GetMapping(&quot;/racuni&quot;)\n    public String getRacuniTemplate(Model model){\n        return racunService.getTemplates(model);\n    }\n\n@GetMapping(&quot;/racun/new/{type}/{city}&quot;)\n    public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\n        return racunService.createRacunForm(model, type, city);\n    }\n\n@PostMapping(&quot;/racun/new&quot;)\n    public String createRacun(@ModelAttribute racun racun){\n        return racunService.createNewRacun(racun);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>public String getTemplates(Model model){\n        racun racunZagreb = new racun();\n        racun racunSplit = new racun();\n        racun racunRijeka = new racun();\n\n        model.addAttribute(&quot;racunZagreb&quot;, racunZagreb);\n        model.addAttribute(&quot;racunSplit&quot;, racunSplit);\n        model.addAttribute(&quot;racunRijeka&quot;, racunRijeka);\n\n        return &quot;racuni-template&quot;;\n    }\n\npublic String createRacunForm(Model model, String type, String city){\n        racun racun = new racun();\n        racun.setType(type);\n        racun.setCity(city);\n\n        model.addAttribute(&quot;racun&quot;, racun);\n        return &quot;racun_new&quot;;\n    }\n\npublic String createNewRacun(racun racun){\n        racunRepository.save(racun);\n\n        return &quot;redirect:/racun/&quot; + racun.getId();\n    }\n</code></pre>\n<p>Thymeleaf template:</p>\n<pre><code>&lt;div&gt;\n  &lt;div class=&quot;row row-cols-1 row-cols-md-3 g-4&quot;&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Rijeka&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Rijeku&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Rijeka')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Rijeka')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Rijeka')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Rijeka')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Rijeka')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Rijeka')}&quot;&gt;Ostalo&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Zagreb&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Zagreb&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Zagreb')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Zagreb')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Zagreb')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Zagreb')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Zagreb')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Zagreb')}&quot;&gt;Ostalo&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Maximus', city='Zagreb')}&quot;&gt;Maximus&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;col&quot;&gt;\n      &lt;div class=&quot;card&quot;&gt;\n        &lt;div class=&quot;card-body&quot;&gt;\n          &lt;h5 class=&quot;card-title&quot;&gt;Split&lt;/h5&gt;\n          &lt;p class=&quot;card-text&quot;&gt;Ovdje možeš odabrati račune za Split&lt;/p&gt;\n          &lt;div class=&quot;dropdown&quot;&gt;\n            &lt;button class=&quot;dropbtn&quot;&gt;Dropdown&lt;/button&gt;\n            &lt;div class=&quot;dropdown-content&quot;&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Čistoća', city='Split')}&quot;&gt;Čistoća&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Komunalije', city='Split')}&quot;&gt;Komunalije&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Voda', city='Split')}&quot;&gt;Voda&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Internet', city='Split')}&quot;&gt;Internet&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Struja', city='Split')}&quot;&gt;Struja&lt;/a&gt;\n              &lt;a th:href=&quot;@{/racun/new(type='Ostalo', city='Split')}&quot;&gt;Ostalo&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Once I run this and try to acces any of the dropdown items, I get hit with this error:</p>\n<p>There was an unexpected error (type=Bad Request, status=400).\nFailed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;new&quot;\norg.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;new&quot;</p>\n<p>I don't know why it insists there should be a required type &quot;long&quot; when I pass in String and expect a String. The only thing that comes to my mind is an ID, but I haven't exposed IDs, so yea...IDK... Please help, I'd really really appreciate it. Thanks in advance</p>\n<p>EDIT: The template is &quot;racuni-template.html&quot;</p>\n"},{"tags":["java","jframe","location","resize","jlabel"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697321447,"post_id":77293153,"comment_id":136265879,"body_markdown":"Please edit your question and include code as text, not as images. Images are hard to read, cannot be copied into an editor, and prevent sight impaired users from helping you.","body":"Please edit your question and include code as text, not as images. Images are hard to read, cannot be copied into an editor, and prevent sight impaired users from helping you."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697430098,"post_id":77293153,"comment_id":136274162,"body_markdown":"I see that you’re adding tuesdayBackground to jPanel.  What is the layout of jPanel?","body":"I see that you’re adding tuesdayBackground to jPanel.  What is the layout of jPanel?"},{"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"score":0,"creation_date":1697929274,"post_id":77293153,"comment_id":136341438,"body_markdown":"Yes Thank you for replying sorry for the 6 day late reply, My JPanel&#39;s Layout is null. It should of worked since ive done this 2 times before this but i don&#39;t know.","body":"Yes Thank you for replying sorry for the 6 day late reply, My JPanel&#39;s Layout is null. It should of worked since ive done this 2 times before this but i don&#39;t know."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697930365,"post_id":77293153,"comment_id":136341485,"body_markdown":"setLayout(null) is something you are not supposed to do.  If you just want tuesdayBackground to take up all the space in jPanel, use `jPanel.setLayout(new BorderLayout())`.  It’s much easier to let a layout set position and size correctly, than to try to manage it yourself.","body":"setLayout(null) is something you are not supposed to do.  If you just want tuesdayBackground to take up all the space in jPanel, use <code>jPanel.setLayout(new BorderLayout())</code>.  It’s much easier to let a layout set position and size correctly, than to try to manage it yourself."},{"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"score":0,"creation_date":1698059029,"post_id":77293153,"comment_id":136352756,"body_markdown":"Thanks Alot , that worked never thought of that.","body":"Thanks Alot , that worked never thought of that."}],"owner":{"account_id":29671025,"reputation":1,"user_id":22740257,"display_name":"Zeeshan Moghal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697381350,"creation_date":1697292756,"question_id":77293153,"body_markdown":"So I have run into a issue in my jLabel. setSize for some reason is changing the location. I have no idea what&#39;s going on. I want to make my image bigger:\r\n\r\n    public void tuesdayOperator() {\r\n        ErrorOperator errorOperator = new ErrorOperator();\r\n\r\n        tuesdayButton.addActionListener(e -&gt; {\r\n            try {\r\n                setPage2ButtonsInvisible();\r\n                jButtonRemoveEvent();\r\n                //tuesdayBackground.setBounds(-500, -300, 1920, 1080);\r\n                tuesdayBackground.setSize(1920, 2080);\r\n                tuesdayBackground.setLocation(-500, -600);\r\n\r\n                jPanel.add(tuesdayBackground);\r\n                tuesdayBackground.setLayout(null);\r\n\r\n                jPanel.setBackground(Color.white);\r\n                System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\r\n            }catch (Exception exception) {\r\n\r\n                errorOperator.emergencyEvent();\r\n            }\r\n        });\r\n    }\r\n\r\nI have tried using `setPreferredSize `\r\n\r\nbut it has not worked. in reference, here&#39;s is the code with `setPreferredSize `. here is the code:\r\n\r\n    public void tuesdayOperator() {\r\n        ErrorOperator errorOperator = new ErrorOperator();\r\n\r\n        tuesdayButton.addActionListener(e -&gt; {\r\n            try {\r\n                setPage2ButtonsInvisible();\r\n                jButtonRemoveEvent();\r\n                tuesdayBackground.setPrefferredSize(new Dimension(1920, 1080));\r\n\r\n                jPanel.add(tuesdayBackground);\r\n                tuesdayBackground.setLayout(null);\r\n\r\n                jPanel.setBackground(Color.white);\r\n                System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\r\n            }catch (Exception exception) {\r\n\r\n                errorOperator.emergencyEvent();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrKz4.png\r\n  [2]: https://i.stack.imgur.com/S1pbx.png","title":"setSize, is changing the location of a JLabel","body":"<p>So I have run into a issue in my jLabel. setSize for some reason is changing the location. I have no idea what's going on. I want to make my image bigger:</p>\n<pre><code>public void tuesdayOperator() {\n    ErrorOperator errorOperator = new ErrorOperator();\n\n    tuesdayButton.addActionListener(e -&gt; {\n        try {\n            setPage2ButtonsInvisible();\n            jButtonRemoveEvent();\n            //tuesdayBackground.setBounds(-500, -300, 1920, 1080);\n            tuesdayBackground.setSize(1920, 2080);\n            tuesdayBackground.setLocation(-500, -600);\n\n            jPanel.add(tuesdayBackground);\n            tuesdayBackground.setLayout(null);\n\n            jPanel.setBackground(Color.white);\n            System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\n        }catch (Exception exception) {\n\n            errorOperator.emergencyEvent();\n        }\n    });\n}\n</code></pre>\n<p>I have tried using <code>setPreferredSize </code></p>\n<p>but it has not worked. in reference, here's is the code with <code>setPreferredSize </code>. here is the code:</p>\n<pre><code>public void tuesdayOperator() {\n    ErrorOperator errorOperator = new ErrorOperator();\n\n    tuesdayButton.addActionListener(e -&gt; {\n        try {\n            setPage2ButtonsInvisible();\n            jButtonRemoveEvent();\n            tuesdayBackground.setPrefferredSize(new Dimension(1920, 1080));\n\n            jPanel.add(tuesdayBackground);\n            tuesdayBackground.setLayout(null);\n\n            jPanel.setBackground(Color.white);\n            System.out.println(&quot;Tuesday Exercise&quot; + Message.success);\n        }catch (Exception exception) {\n\n            errorOperator.emergencyEvent();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":4,"creation_date":1434655158,"post_id":30923909,"comment_id":49884692,"body_markdown":"Create a project, then create a Java module. Put your class there and execute it. If you only want/need the IDE for editing the Java file, edit the file accordingly, then compile it using `javac` and execute the class using `java WhateverTheNameOfYourClass`.","body":"Create a project, then create a Java module. Put your class there and execute it. If you only want/need the IDE for editing the Java file, edit the file accordingly, then compile it using <code>javac</code> and execute the class using <code>java WhateverTheNameOfYourClass</code>."},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655194,"post_id":30923909,"comment_id":49884713,"body_markdown":"I also tried that, but when I did I was unable to create a Java file, the closest is a Java class file (its a small project so I will only need one file and not multiple classes) and it said unable to create class-file.","body":"I also tried that, but when I did I was unable to create a Java file, the closest is a Java class file (its a small project so I will only need one file and not multiple classes) and it said unable to create class-file."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1434655381,"post_id":30923909,"comment_id":49884824,"body_markdown":"Try adding a source root in your project. Put your java file under that","body":"Try adding a source root in your project. Put your java file under that"},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655503,"post_id":30923909,"comment_id":49884911,"body_markdown":"What is javac? It seems weird that I have to compile my program every time I want to run it, with other programming languages I&#39;ve been able to run the code in the IDE on the fly without compiling it. I have also put a source root in and it still won&#39;t let me run the file.","body":"What is javac? It seems weird that I have to compile my program every time I want to run it, with other programming languages I&#39;ve been able to run the code in the IDE on the fly without compiling it. I have also put a source root in and it still won&#39;t let me run the file."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1434655509,"post_id":30923909,"comment_id":49884913,"body_markdown":"Are you sure you have a Java **Module** and that the proper JDK is configured in this **Project**?","body":"Are you sure you have a Java <b>Module</b> and that the proper JDK is configured in this <b>Project</b>?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1434655542,"post_id":30923909,"comment_id":49884939,"body_markdown":"[javac](http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html)","body":"<a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">javac</a>"},{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":0,"creation_date":1434655812,"post_id":30923909,"comment_id":49885110,"body_markdown":"Do I really need to compile my code every time I want to run it using javac? I thought the point was to be able to test code on the fly?","body":"Do I really need to compile my code every time I want to run it using javac? I thought the point was to be able to test code on the fly?"}],"answers":[{"comments":[{"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"score":5,"creation_date":1434656311,"post_id":30924224,"comment_id":49885378,"body_markdown":"Done and I updated the screenshot to reflect the new file movement. However the run command is still unusable, you can&#39;t see it as I have not opened the menu so you can see my code instead.","body":"Done and I updated the screenshot to reflect the new file movement. However the run command is still unusable, you can&#39;t see it as I have not opened the menu so you can see my code instead."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1434657116,"post_id":30924224,"comment_id":49885874,"body_markdown":"Be sure that you have the module for the project set to the Java JDK.  Otherwise, try putting a break point on the only executable line in the code and enter debug mode.  If that works, then you&#39;re capable of running the code (and if you do run this you won&#39;t get any output since nothing&#39;s being printed).","body":"Be sure that you have the module for the project set to the Java JDK.  Otherwise, try putting a break point on the only executable line in the code and enter debug mode.  If that works, then you&#39;re capable of running the code (and if you do run this you won&#39;t get any output since nothing&#39;s being printed)."}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":2,"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1434656033,"creation_date":1434656033,"answer_id":30924224,"question_id":30923909,"body_markdown":"Move your code inside of the `src` folder.  Once it&#39;s there, it&#39;ll be compiled on-the-fly every time it&#39;s saved.\r\n\r\nIntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.\r\n\r\nAlso - while I can&#39;t see *all* of your source code - be sure that it&#39;s proper Java syntax, with a class declared the same as the file and that it has a `main` method (specifically `public static void main(String[] args)`).  IntelliJ won&#39;t run code without a `main` method (rather, it *can&#39;t* - neither it nor Java would know where to start).\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Move your code inside of the <code>src</code> folder.  Once it's there, it'll be compiled on-the-fly every time it's saved.</p>\n\n<p>IntelliJ only recognizes files in specific locations as part of the project - namely, anything inside of a blue folder is specifically considered to be source code.</p>\n\n<p>Also - while I can't see <em>all</em> of your source code - be sure that it's proper Java syntax, with a class declared the same as the file and that it has a <code>main</code> method (specifically <code>public static void main(String[] args)</code>).  IntelliJ won't run code without a <code>main</code> method (rather, it <em>can't</em> - neither it nor Java would know where to start).</p>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":5,"creation_date":1484238617,"post_id":39433031,"comment_id":70438013,"body_markdown":"The proper declaration of `main` is visible in the picture.","body":"The proper declaration of <code>main</code> is visible in the picture."},{"owner":{"account_id":99017,"reputation":3387,"user_id":267693,"display_name":"Ken Ratanachai S."},"score":2,"creation_date":1499642232,"post_id":39433031,"comment_id":76977889,"body_markdown":"Those are really really really small and I didn&#39;t see that.","body":"Those are really really really small and I didn&#39;t see that."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1499643268,"post_id":39433031,"comment_id":76978075,"body_markdown":"You could&#39;ve opened the image in a separate tab.  It&#39;s definitely there, though.","body":"You could&#39;ve opened the image in a separate tab.  It&#39;s definitely there, though."},{"owner":{"account_id":21068258,"reputation":537,"user_id":15485000,"display_name":"Azhar Uddin Sheikh"},"score":0,"creation_date":1629897900,"post_id":39433031,"comment_id":121808648,"body_markdown":"I am getting errors like\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.","body":"I am getting errors like To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging."}],"tags":[],"owner":{"account_id":99017,"reputation":3387,"user_id":267693,"display_name":"Ken Ratanachai S."},"comment_count":4,"down_vote_count":4,"up_vote_count":18,"is_accepted":false,"score":14,"last_activity_date":1580871940,"creation_date":1473570106,"answer_id":39433031,"question_id":30923909,"body_markdown":"Don&#39;t forget the `String[] args` in your main method. Otherwise, there&#39;s no option to run your program:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    }","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Don't forget the <code>String[] args</code> in your main method. Otherwise, there's no option to run your program:</p>\n\n<pre><code>public static void main(String[] args) {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2880041,"reputation":353,"user_id":2471170,"accept_rate":43,"display_name":"Conjecture"},"score":1,"creation_date":1588238233,"post_id":42953942,"comment_id":108824133,"body_markdown":"This should definitely be the accepted answer! Thank you!","body":"This should definitely be the accepted answer! Thank you!"}],"tags":[],"owner":{"account_id":10427809,"reputation":1136,"user_id":7688506,"display_name":"MamathaMacherla"},"comment_count":1,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1490217326,"creation_date":1490191452,"answer_id":42953942,"question_id":30923909,"body_markdown":"My classes contained a `main()` method yet I was unable to see the _Run_ option. That option was enabled once I marked a folder containing my class files as a source folder:\r\n\r\n1. Right click the folder containing your source\r\n1. Select Mark Directory as &amp;rarr; Test Source Root\r\n\r\nSome of the classes in my folder don&#39;t have a `main()` method, but I still see a Run option for those.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>My classes contained a <code>main()</code> method yet I was unable to see the <em>Run</em> option. That option was enabled once I marked a folder containing my class files as a source folder:</p>\n\n<ol>\n<li>Right click the folder containing your source</li>\n<li>Select Mark Directory as &rarr; Test Source Root</li>\n</ol>\n\n<p>Some of the classes in my folder don't have a <code>main()</code> method, but I still see a Run option for those.</p>\n"},{"tags":[],"owner":{"account_id":4864775,"reputation":35,"user_id":3923410,"display_name":"Niraj Kulkarni"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513073734,"creation_date":1513073734,"answer_id":47770084,"question_id":30923909,"body_markdown":"If you are just opened a new java project then **create a new folder src/** in the man project location.\r\n\r\nThen **cut and paste all your package in that folder.**\r\n\r\nThen **Right click on src directory and select option Mark Directory As &gt; Sources Root**.\r\n\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you are just opened a new java project then <strong>create a new folder src/</strong> in the man project location.</p>\n\n<p>Then <strong>cut and paste all your package in that folder.</strong></p>\n\n<p>Then <strong>Right click on src directory and select option Mark Directory As > Sources Root</strong>.</p>\n"},{"comments":[{"owner":{"account_id":3144114,"reputation":2334,"user_id":2658949,"accept_rate":41,"display_name":"arenaq"},"score":11,"creation_date":1542331390,"post_id":49707118,"comment_id":93540546,"body_markdown":"I think that &quot;src&quot; folder should be marked as &quot;Source root&quot; and not &quot;Resource root&quot;. But other than that, that is the correct answer.","body":"I think that &quot;src&quot; folder should be marked as &quot;Source root&quot; and not &quot;Resource root&quot;. But other than that, that is the correct answer."},{"owner":{"account_id":15154,"reputation":1400,"user_id":31707,"accept_rate":75,"display_name":"Ethan T"},"score":0,"creation_date":1563213460,"post_id":49707118,"comment_id":100617607,"body_markdown":"Actually I found that `src/main/java` should be marked as the Sources Root. Then `src/main/resources` is the Resources Root, and `src/test/java` and `src/test/resources` are the Test Sources Root and Test Resources Root, respectively.","body":"Actually I found that <code>src&#47;main&#47;java</code> should be marked as the Sources Root. Then <code>src&#47;main&#47;resources</code> is the Resources Root, and <code>src&#47;test&#47;java</code> and <code>src&#47;test&#47;resources</code> are the Test Sources Root and Test Resources Root, respectively."},{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":0,"creation_date":1641855585,"post_id":49707118,"comment_id":124912083,"body_markdown":"I cloned a project from Github and it didn&#39;t set the folder to source, so once I done it manually. Then I was able to configure the compiling options","body":"I cloned a project from Github and it didn&#39;t set the folder to source, so once I done it manually. Then I was able to configure the compiling options"}],"tags":[],"owner":{"account_id":2193271,"reputation":635,"user_id":8580327,"display_name":"Matthew E"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1523102066,"creation_date":1523102066,"answer_id":49707118,"question_id":30923909,"body_markdown":"right click on the &quot;SRC folder&quot;, select &quot;Mark directory as:, select &quot;Resource Root&quot;.\r\n\r\nThen Edit the run configuration. select Run, run, edit configuration, with the plus button add an application configuration, give it a name (could be any name), and in the main class write down the full name of the main java class for example, com.example.java.MaxValues.\r\n\r\nyou might also need to check file, project structure, project settings-project, give it a folder for the compiler output, preferably a separate folder, under the java folder,","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>right click on the \"SRC folder\", select \"Mark directory as:, select \"Resource Root\".</p>\n\n<p>Then Edit the run configuration. select Run, run, edit configuration, with the plus button add an application configuration, give it a name (could be any name), and in the main class write down the full name of the main java class for example, com.example.java.MaxValues.</p>\n\n<p>you might also need to check file, project structure, project settings-project, give it a folder for the compiler output, preferably a separate folder, under the java folder,</p>\n"},{"tags":[],"owner":{"account_id":15797466,"reputation":21,"user_id":11398918,"display_name":"HappySpaceBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560635662,"creation_date":1560635662,"answer_id":56614435,"question_id":30923909,"body_markdown":"Something else that worked for me:\r\n\r\n1. Right click the folder in src containing your main \r\n2. You&#39;ll see an option &quot;run &#39;file.main()&#39;&quot; with the run icon. \r\n3. Click it, and then the run icon in the top right and bottom left will turn green from then on.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Something else that worked for me:</p>\n\n<ol>\n<li>Right click the folder in src containing your main </li>\n<li>You'll see an option \"run 'file.main()'\" with the run icon. </li>\n<li>Click it, and then the run icon in the top right and bottom left will turn green from then on.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563441325,"creation_date":1563441325,"answer_id":57091062,"question_id":30923909,"body_markdown":"Sometimes, patience is key.\r\n\r\nI had the same problem with a java project with big node_modules / .m2 directories.  \r\nThe indexing was very long so I paused it and it prevented me from using Run Configurations.\r\n\r\nSo I waited for the indexing to finish and only then I was able to run my main class.\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Sometimes, patience is key.</p>\n\n<p>I had the same problem with a java project with big node_modules / .m2 directories.<br>\nThe indexing was very long so I paused it and it prevented me from using Run Configurations.</p>\n\n<p>So I waited for the indexing to finish and only then I was able to run my main class.</p>\n"},{"comments":[{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1576880036,"post_id":57123153,"comment_id":105049551,"body_markdown":"where is this add icon?","body":"where is this add icon?"}],"tags":[],"owner":{"account_id":15207965,"reputation":21,"user_id":10973725,"display_name":"Dipesh Chauhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563612505,"creation_date":1563612505,"answer_id":57123153,"question_id":30923909,"body_markdown":"If you can&#39;t run your correct program and you try all other answers.Click on Edit Configuration and just do following steps-:\r\n\r\n1. Click on add icon and select Application from the list.\r\n2. In configuration name your Main class: as your main class name.\r\n3. Set working directory to your project directory.\r\n4. Others: leave them default and click on apply.\r\nNow you can run your program.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AzFnj.jpg","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you can't run your correct program and you try all other answers.Click on Edit Configuration and just do following steps-:</p>\n\n<ol>\n<li>Click on add icon and select Application from the list.</li>\n<li>In configuration name your Main class: as your main class name.</li>\n<li>Set working directory to your project directory.</li>\n<li>Others: leave them default and click on apply.\nNow you can run your program.<a href=\"https://i.stack.imgur.com/AzFnj.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14747594,"reputation":1,"user_id":11953203,"display_name":"Uğur Abdioğlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566892797,"creation_date":1566892797,"answer_id":57670138,"question_id":30923909,"body_markdown":"If you use Maven, you must to declare your source and test folder in project directory. \r\n\r\nFor these, click F4 on Intellij Idea and Open Project Structure. Select your project name on the left panel and Mark As your &quot;Source&quot; and &quot;Test&quot; directory.","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>If you use Maven, you must to declare your source and test folder in project directory. </p>\n\n<p>For these, click F4 on Intellij Idea and Open Project Structure. Select your project name on the left panel and Mark As your \"Source\" and \"Test\" directory.</p>\n"},{"tags":[],"owner":{"account_id":1812306,"reputation":1726,"user_id":1648099,"display_name":"iampranabroy"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569396322,"creation_date":1569396322,"answer_id":58093200,"question_id":30923909,"body_markdown":"I had the similar issue and solved it by doing the below step.\r\n\r\n1. Go to &quot;Run&quot; menu and &quot;Edit configuration&quot;\r\n2. Click on add(+) icon and select Application from the list.\r\n3. In configuration name your Main class: name of your main class.\r\n4. Working Directory : **It should point till the src folder of your project.** *C:\\Users\\name\\Work\\ProjectName\\src*\r\n\r\n\t**This is where I had issue and after correcting this, I could see the run option for that class.**","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>I had the similar issue and solved it by doing the below step.</p>\n\n<ol>\n<li>Go to \"Run\" menu and \"Edit configuration\"</li>\n<li>Click on add(+) icon and select Application from the list.</li>\n<li>In configuration name your Main class: name of your main class.</li>\n<li><p>Working Directory : <strong>It should point till the src folder of your project.</strong> <em>C:\\Users\\name\\Work\\ProjectName\\src</em></p>\n\n<p><strong>This is where I had issue and after correcting this, I could see the run option for that class.</strong></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7180435,"reputation":1104,"user_id":5484609,"accept_rate":80,"display_name":"Kartik Chugh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587069583,"creation_date":1587069583,"answer_id":61259663,"question_id":30923909,"body_markdown":"Last resort option when nothing else seems to work: close and reopen IntelliJ.\r\n\r\nMy issue was with reverting a Git commit, which happened to change the Java SDK configured for the Project to a no longer installed version of the JDK. But fixing that back still didn&#39;t allow me to run the program. Restarting IntelliJ fixed this","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Last resort option when nothing else seems to work: close and reopen IntelliJ.</p>\n\n<p>My issue was with reverting a Git commit, which happened to change the Java SDK configured for the Project to a no longer installed version of the JDK. But fixing that back still didn't allow me to run the program. Restarting IntelliJ fixed this</p>\n"},{"comments":[{"owner":{"account_id":960465,"reputation":1762,"user_id":984936,"accept_rate":79,"display_name":"Nathan"},"score":0,"creation_date":1615944419,"post_id":61974829,"comment_id":117847818,"body_markdown":"This was a good hint for me but it seems like this may be for a different version than I have but I&#39;m not sure. I clicked an &quot;Add Configuration&quot; button near the top right of the app. From there I selected &quot;Application&quot; then filled out the project name and the specified the `main` class. I also checked the &quot;store as project file&quot; option (to save the settings, perhaps). After clicking Apply I am now able to run the project. Yay!","body":"This was a good hint for me but it seems like this may be for a different version than I have but I&#39;m not sure. I clicked an &quot;Add Configuration&quot; button near the top right of the app. From there I selected &quot;Application&quot; then filled out the project name and the specified the <code>main</code> class. I also checked the &quot;store as project file&quot; option (to save the settings, perhaps). After clicking Apply I am now able to run the project. Yay!"}],"tags":[],"owner":{"display_name":"user12786901"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590260448,"creation_date":1590249781,"answer_id":61974829,"question_id":30923909,"body_markdown":"-First Move Your Code Files in side the &quot;src&quot; Folder\r\n\r\n-Make sure your Main method is declared like the following\r\n\r\n \r\n\r\n       public class Main {\r\n             public static void main(String []args){\r\n        \r\n                   \r\n           }\r\n        }\r\nthen: \r\n\r\n-  Go to Project configurations\r\n-  select Java application,\r\n-  check allow parallel run\r\n-  and select your main class\r\n\r\nand it should work\r\n\r\n\r\n    ","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>-First Move Your Code Files in side the \"src\" Folder</p>\n\n<p>-Make sure your Main method is declared like the following</p>\n\n<pre><code>   public class Main {\n         public static void main(String []args){\n\n\n       }\n    }\n</code></pre>\n\n<p>then: </p>\n\n<ul>\n<li>Go to Project configurations</li>\n<li>select Java application,</li>\n<li>check allow parallel run</li>\n<li>and select your main class</li>\n</ul>\n\n<p>and it should work</p>\n"},{"tags":[],"owner":{"account_id":28418348,"reputation":1,"user_id":21740764,"display_name":"Kritika Gupta sp1 Kritika Gupt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682477604,"creation_date":1682477604,"answer_id":76106831,"question_id":30923909,"body_markdown":"Go to file- Project Structure - Project and in sdk select your Java jdk file","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>Go to file- Project Structure - Project and in sdk select your Java jdk file</p>\n"},{"tags":[],"owner":{"account_id":28906504,"reputation":1,"user_id":22140443,"display_name":"Lala Sabuhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697380087,"creation_date":1697380087,"answer_id":77297077,"question_id":30923909,"body_markdown":"File--&gt;Settings--&gt;Build, Execution, Deployment --&gt;Compiler--&gt; Java Compiler and \r\nchange &quot;target bytecode version&quot;. in my case, this is 11\r\n","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>File--&gt;Settings--&gt;Build, Execution, Deployment --&gt;Compiler--&gt; Java Compiler and\nchange &quot;target bytecode version&quot;. in my case, this is 11</p>\n"}],"owner":{"account_id":5466090,"reputation":580,"user_id":4346886,"accept_rate":74,"display_name":"Adam Griffiths"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328825,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":30924224,"answer_count":14,"score":88,"last_activity_date":1697380087,"creation_date":1434655031,"question_id":30923909,"body_markdown":"I have just downloaded the IntelliJ IDEA, and I want to edit my first Java file with it, I&#39;m not interested in creating a whole project, just editing the single file.\r\n\r\nSo I opened the file from my desktop with Intellij IDEA as I set it as my default program for opening .java files.\r\n\r\nI write some code and the main run and debug buttons are greyed out! I can&#39;t run my code!\r\n\r\nI have already installed Java 8 update 45 64-bit (I have a 64 bit OS) as well as the Java Development Kit (J8U45). I have set my global IDE SDK as my JDK installation, and when it prompts me I also set this as my project SDK, but still the run and debug buttons are unable to be used!\r\n\r\nEdit 1:  \r\nI am also unable to run my file regardless of if its in a project or not.\r\n\r\nEdit 2:  \r\nScreenshot of my project setup.\r\n[![Larger Project Setup][1]][1]\r\n[![Run Icons][2]][2]\r\n[![Project Setup][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q1Drq.png\r\n  [2]: https://i.stack.imgur.com/dPR1f.png\r\n  [3]: https://i.stack.imgur.com/699yz.png","title":"Unable to run Java code with IntelliJ IDEA","body":"<p>I have just downloaded the IntelliJ IDEA, and I want to edit my first Java file with it, I'm not interested in creating a whole project, just editing the single file.</p>\n<p>So I opened the file from my desktop with Intellij IDEA as I set it as my default program for opening .java files.</p>\n<p>I write some code and the main run and debug buttons are greyed out! I can't run my code!</p>\n<p>I have already installed Java 8 update 45 64-bit (I have a 64 bit OS) as well as the Java Development Kit (J8U45). I have set my global IDE SDK as my JDK installation, and when it prompts me I also set this as my project SDK, but still the run and debug buttons are unable to be used!</p>\n<p>Edit 1:<br />\nI am also unable to run my file regardless of if its in a project or not.</p>\n<p>Edit 2:<br />\nScreenshot of my project setup.\n<a href=\"https://i.stack.imgur.com/Q1Drq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1Drq.png\" alt=\"Larger Project Setup\" /></a>\n<a href=\"https://i.stack.imgur.com/dPR1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dPR1f.png\" alt=\"Run Icons\" /></a>\n<a href=\"https://i.stack.imgur.com/699yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/699yz.png\" alt=\"Project Setup\" /></a></p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603097187,"post_id":64423822,"comment_id":113917922,"body_markdown":"From what I understood you don&#39;t need the fields on the `dtos`s, right?","body":"From what I understood you don&#39;t need the fields on the <code>dtos</code>s, right?"},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603097511,"post_id":64423822,"comment_id":113918056,"body_markdown":"Yes, this field is specific for db model.\nE.g:\nDto has fields name, desc and status, db model has id, name, desc, status and version.\nI&#39;d like to map only name, desc and status and ignore id and version in whole project, as they are managed by JPA.","body":"Yes, this field is specific for db model. E.g: Dto has fields name, desc and status, db model has id, name, desc, status and version. I&#39;d like to map only name, desc and status and ignore id and version in whole project, as they are managed by JPA."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603098043,"post_id":64423822,"comment_id":113918290,"body_markdown":"`@Mapping(target = &quot;version&quot;, ignore = true)` is when you have the field in both classes and don&#39;t want to map it. If a filed is **missing** from one side, it is automatically ignored. So, you don&#39;t have to do anything.","body":"<code>@Mapping(target = &quot;version&quot;, ignore = true)</code> is when you have the field in both classes and don&#39;t want to map it. If a filed is <b>missing</b> from one side, it is automatically ignored. So, you don&#39;t have to do anything."},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603102191,"post_id":64423822,"comment_id":113920124,"body_markdown":"I cannot agree - just built project, got warning `warning: Unmapped target properties: &quot;createdAt, modifiedAt, id,` from my mapper dto -&gt; db.","body":"I cannot agree - just built project, got warning <code>warning: Unmapped target properties: &quot;createdAt, modifiedAt, id,</code> from my mapper dto -&gt; db."},{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":0,"creation_date":1603102473,"post_id":64423822,"comment_id":113920237,"body_markdown":"Although, I noticed that when I don&#39;t provide setter for given field, the warning omits scecific field in warning message. It may partially solve the problem, but then there may be trouble with tests, where somewhere I set e.g. id manually.\n\nI believe that automatic ignore is enabled for unmapped source property, for a while I&#39;d have been thinging about enabling property `Amapstruct.unmappedSourcePolicy=WARN&#39;, but decided that it won&#39;t be necessary.","body":"Although, I noticed that when I don&#39;t provide setter for given field, the warning omits scecific field in warning message. It may partially solve the problem, but then there may be trouble with tests, where somewhere I set e.g. id manually.  I believe that automatic ignore is enabled for unmapped source property, for a while I&#39;d have been thinging about enabling property `Amapstruct.unmappedSourcePolicy=WARN&#39;, but decided that it won&#39;t be necessary."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603104205,"post_id":64423822,"comment_id":113920969,"body_markdown":"Sorry I&#39;m not following, but in case of a test, why don&#39;t you set it manually? btw, `unmappedSourcePolicy` is `WARN`, you don;t have to set this too.","body":"Sorry I&#39;m not following, but in case of a test, why don&#39;t you set it manually? btw, <code>unmappedSourcePolicy</code> is <code>WARN</code>, you don;t have to set this too."}],"answers":[{"comments":[{"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"score":1,"creation_date":1603171041,"post_id":64430199,"comment_id":113943690,"body_markdown":"I like this solution, looks as elegant as I dreamt :)","body":"I like this solution, looks as elegant as I dreamt :)"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1603210858,"post_id":64430199,"comment_id":113962440,"body_markdown":"On top of that you&#39;ll get an error if you are using a field that does not exist in the target / source mapping","body":"On top of that you&#39;ll get an error if you are using a field that does not exist in the target / source mapping"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1603225900,"post_id":64430199,"comment_id":113968993,"body_markdown":"Behind the scenes it is like you have defined the `@Mapping` on the method itself. Maybe you haven&#39;t made a mistake in your definitions :). Anyways, if you find anything that we can improve there, you know what to do","body":"Behind the scenes it is like you have defined the <code>@Mapping</code> on the method itself. Maybe you haven&#39;t made a mistake in your definitions :). Anyways, if you find anything that we can improve there, you know what to do"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1697379871,"creation_date":1603120379,"answer_id":64430199,"question_id":64423822,"body_markdown":"&gt; Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.\r\n\r\nFirst of all, I am glad you don&#39;t ignore warnings.\r\n\r\nAs of MapStruct 1.4 you can create an annotation that is composed of multiple mappings. Read more at the documentation of MapStruct 1.4.1. [3.2. Mapping Composition (experimental)][1]. This configuration can also be *shared* ([11.3. Shared configurations][2]).\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;version&quot;, ignore = true)\r\npublic @interface WithoutVersion { }\r\n```\r\n```\r\n@Mapper\r\npublic interface DtoMapper {\r\n   \r\n   @WithoutVersion\r\n   Dto entityToDto(Entity entity)\r\n}\r\n```\r\n\r\nThis becomes useful for example in the case of multiple fields to be ignored. The biggest advantage is that you take a control over mapping through the explicit use of the annotation and not a global configuration.\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Mapping(target = &quot;version&quot;, ignore = true)\r\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\r\n@Mapping(target = &quot;modifiedAt&quot;, ignore = true)\r\n@Mapping(target = &quot;id&quot;, ignore = true)\r\npublic @interface WithoutMetadata { }\r\n```\r\n```\r\n@Mapper\r\npublic interface DtoMapper {\r\n   \r\n   @WithoutMetadata \r\n   Dto entityToDto(Entity entity)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#shared-configurations","title":"Mapstruct - ignore field by name in whole project","body":"<blockquote>\n<p>Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.</p>\n</blockquote>\n<p>First of all, I am glad you don't ignore warnings.</p>\n<p>As of MapStruct 1.4 you can create an annotation that is composed of multiple mappings. Read more at the documentation of MapStruct 1.4.1. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-composition\" rel=\"nofollow noreferrer\">3.2. Mapping Composition (experimental)</a>. This configuration can also be <em>shared</em> (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"nofollow noreferrer\">11.3. Shared configurations</a>).</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;version&quot;, ignore = true)\npublic @interface WithoutVersion { }\n</code></pre>\n<pre><code>@Mapper\npublic interface DtoMapper {\n   \n   @WithoutVersion\n   Dto entityToDto(Entity entity)\n}\n</code></pre>\n<p>This becomes useful for example in the case of multiple fields to be ignored. The biggest advantage is that you take a control over mapping through the explicit use of the annotation and not a global configuration.</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Mapping(target = &quot;version&quot;, ignore = true)\n@Mapping(target = &quot;createdAt&quot;, ignore = true)\n@Mapping(target = &quot;modifiedAt&quot;, ignore = true)\n@Mapping(target = &quot;id&quot;, ignore = true)\npublic @interface WithoutMetadata { }\n</code></pre>\n<pre><code>@Mapper\npublic interface DtoMapper {\n   \n   @WithoutMetadata \n   Dto entityToDto(Entity entity)\n}\n</code></pre>\n"}],"owner":{"account_id":10966315,"reputation":83,"user_id":8057942,"display_name":"rav137"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7937,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64430199,"answer_count":1,"score":8,"last_activity_date":1697379871,"creation_date":1603096589,"question_id":64423822,"body_markdown":"I&#39;ve got project, where I often map dto -&gt; db model. Almost all my db models have some additional fields, like version, which are never mapped from dto.\r\n\r\nIs there any possibility or elegant workaround to ignore target fields globally only by theirs names?\r\n\r\nFor now I have to use `@Mapping(target = &quot;version&quot;, ignore = true)`. Cannot use `@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)`, because I&#39;d like to get warns or errors when I accidentally omit any important property. I control default behavior with `&#39;-Amapstruct.unmappedTargetPolicy=WARN&#39;`, which I change for ERROR during developing new functions.\r\n\r\nSome people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.\r\n\r\nMapstruct 1.3.1.Final, probably will move to 1.4.1.Final in nearest future. Searched through the [docs][1], but couldn&#39;t find anything useful.\r\n\r\nThanks in advance for your answers :)\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/","title":"Mapstruct - ignore field by name in whole project","body":"<p>I've got project, where I often map dto -&gt; db model. Almost all my db models have some additional fields, like version, which are never mapped from dto.</p>\n<p>Is there any possibility or elegant workaround to ignore target fields globally only by theirs names?</p>\n<p>For now I have to use <code>@Mapping(target = &quot;version&quot;, ignore = true)</code>. Cannot use <code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)</code>, because I'd like to get warns or errors when I accidentally omit any important property. I control default behavior with <code>'-Amapstruct.unmappedTargetPolicy=WARN'</code>, which I change for ERROR during developing new functions.</p>\n<p>Some people may say that these are just warnings, but when there are many of them, it makes it harder to spot mistakes.</p>\n<p>Mapstruct 1.3.1.Final, probably will move to 1.4.1.Final in nearest future. Searched through the <a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\">docs</a>, but couldn't find anything useful.</p>\n<p>Thanks in advance for your answers :)</p>\n"},{"tags":["java","regex","string","datetime"],"comments":[{"owner":{"account_id":9660097,"reputation":172,"user_id":7168457,"display_name":"LenosV"},"score":0,"creation_date":1522737245,"post_id":49623597,"comment_id":86254278,"body_markdown":"is valid based on what format? also, what did you tried?","body":"is valid based on what format? also, what did you tried?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1522748894,"post_id":49623597,"comment_id":86260862,"body_markdown":"Does it have to be a UTC time or are timezone offsets also allowed? What are your validation rules?","body":"Does it have to be a UTC time or are timezone offsets also allowed? What are your validation rules?"}],"answers":[{"tags":[],"owner":{"account_id":4001488,"reputation":137,"user_id":3297419,"display_name":"Akshay Batra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522737393,"creation_date":1522737393,"answer_id":49623685,"question_id":49623597,"body_markdown":"Create a String called &quot;format&quot;, and put the required format there. After that try below code and check if dt returns anything\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(format);//required format\r\n    LocalDateTime dt = formatter.parse(oldstring);","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p>Create a String called \"format\", and put the required format there. After that try below code and check if dt returns anything</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormat.forPattern(format);//required format\nLocalDateTime dt = formatter.parse(oldstring);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2557734,"reputation":1911,"user_id":2219361,"accept_rate":88,"display_name":"Taoufik Mohdit"},"score":1,"creation_date":1620641711,"post_id":49625140,"comment_id":119251622,"body_markdown":"This method didn&#39;t work for me when I&#39;ve applied it to the instant with minute precision: e.g. `2018-01-22T18:23Z`. It did work fine for nanoseconds, milliseconds and seconds precision","body":"This method didn&#39;t work for me when I&#39;ve applied it to the instant with minute precision: e.g. <code>2018-01-22T18:23Z</code>. It did work fine for nanoseconds, milliseconds and seconds precision"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669057233,"post_id":49625140,"comment_id":131551976,"body_markdown":"Right you are, @TaoufikMohdit. A quick solution is `OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()`. It doesn’t validate that the offset in the string is `Z`, though.","body":"Right you are, @TaoufikMohdit. A quick solution is <code>OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()</code>. It doesn’t validate that the offset in the string is <code>Z</code>, though."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697379755,"creation_date":1522742714,"answer_id":49625140,"question_id":49623597,"body_markdown":"`2018-01-22T18:23:00.000Z` is the ISO 8601 format for an instant. So you may just use `Instant.parse(&quot;2018-01-22T18:23:00.000Z&quot;)`. Catch a `DateTimeParseException` from the case where the string isn’t valid, either because it’s in the wrong format or the date and time is not valid (like month 13 or hour 25). It will accept `2018-01-22T18:23:00Z` and `2018-01-22T18:23:00.000000000Z` too. This should be OK for most purposes since it is still allowed within the ISO 8601 standard. It will require that seconds are present, though: It will not accept `2018-01-22T18:23Z`. A quick solution if you need this is `OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()`. It doesn’t validate that the offset in the string is `Z`, though.\r\n\r\nYou may want to add a range check. Probably instants that are too far into the past or the future should be considered invalid for your application. Use `Instant.isBefore()` and/or `Instant.isAfter()`.\r\n\r\nDon’t use a regular expression. It will be complicated to write and *very, very* complicated to read for those maintaining your code. If you do need more detailed syntax validation, including the case where you need to accept minutes precision with no seconds, use a `DateTimeFormatter` as already mentioned in [Akshay Batra’s answer](https://stackoverflow.com/a/49623685/5772882).","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p><code>2018-01-22T18:23:00.000Z</code> is the ISO 8601 format for an instant. So you may just use <code>Instant.parse(&quot;2018-01-22T18:23:00.000Z&quot;)</code>. Catch a <code>DateTimeParseException</code> from the case where the string isn’t valid, either because it’s in the wrong format or the date and time is not valid (like month 13 or hour 25). It will accept <code>2018-01-22T18:23:00Z</code> and <code>2018-01-22T18:23:00.000000000Z</code> too. This should be OK for most purposes since it is still allowed within the ISO 8601 standard. It will require that seconds are present, though: It will not accept <code>2018-01-22T18:23Z</code>. A quick solution if you need this is <code>OffsetDateTime.parse(&quot;2018-01-22T18:23Z&quot;).toInstant()</code>. It doesn’t validate that the offset in the string is <code>Z</code>, though.</p>\n<p>You may want to add a range check. Probably instants that are too far into the past or the future should be considered invalid for your application. Use <code>Instant.isBefore()</code> and/or <code>Instant.isAfter()</code>.</p>\n<p>Don’t use a regular expression. It will be complicated to write and <em>very, very</em> complicated to read for those maintaining your code. If you do need more detailed syntax validation, including the case where you need to accept minutes precision with no seconds, use a <code>DateTimeFormatter</code> as already mentioned in <a href=\"https://stackoverflow.com/a/49623685/5772882\">Akshay Batra’s answer</a>.</p>\n"}],"owner":{"account_id":2880906,"reputation":165,"user_id":4673307,"accept_rate":75,"display_name":"Jeevika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2768,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":49625140,"answer_count":2,"score":3,"last_activity_date":1697379755,"creation_date":1522737011,"question_id":49623597,"body_markdown":"I need to validate in my code if the format of the `DateTime` string `2018-01-22T18:23:00.000Z` is a valid one or not.\r\n\r\nRegex solution or any other solution is fine.Can someone help me doing this?\r\n","title":"How to validate the DateTime string format &quot;2018-01-22T18:23:00.000Z&quot; in Java?","body":"<p>I need to validate in my code if the format of the <code>DateTime</code> string <code>2018-01-22T18:23:00.000Z</code> is a valid one or not.</p>\n\n<p>Regex solution or any other solution is fine.Can someone help me doing this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-firefoxdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697413772,"post_id":77295858,"comment_id":136273121,"body_markdown":"This sounds like a duplicate. Instead of [40067849](https://stackoverflow.com/questions/40067849/org-openqa-selenium-sessionnotcreatedexception-session-not-created-exception) (&quot;upgrade!&quot; 2016 and for [Google Chrome](https://en.wikipedia.org/wiki/Google_Chrome), not Firefox), *[SessionNotCreatedException: Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39;](https://stackoverflow.com/questions/64908154/)* (2020) might be more reasonable.","body":"This sounds like a duplicate. Instead of <a href=\"https://stackoverflow.com/questions/40067849/org-openqa-selenium-sessionnotcreatedexception-session-not-created-exception\">40067849</a> (&quot;upgrade!&quot; 2016 and for <a href=\"https://en.wikipedia.org/wiki/Google_Chrome\" rel=\"nofollow noreferrer\">Google Chrome</a>, not Firefox), <i><a href=\"https://stackoverflow.com/questions/64908154/\">SessionNotCreatedException: Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39;</a></i> (2020) might be more reasonable."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697413924,"post_id":77295858,"comment_id":136273129,"body_markdown":"cont&#39; - [An answer](https://stackoverflow.com/questions/64908154/sessionnotcreatedexception-message-expected-browser-binary-location-but-unabl/64908883#64908883) also references [three other](https://stackoverflow.com/a/64035303) [Stack Overflow](https://stackoverflow.com/a/66000618) [questions](https://stackoverflow.com/a/65322308).","body":"cont&#39; - <a href=\"https://stackoverflow.com/questions/64908154/sessionnotcreatedexception-message-expected-browser-binary-location-but-unabl/64908883#64908883\">An answer</a> also references <a href=\"https://stackoverflow.com/a/64035303\">three other</a> <a href=\"https://stackoverflow.com/a/66000618\">Stack Overflow</a> <a href=\"https://stackoverflow.com/a/65322308\">questions</a>."}],"answers":[{"tags":[],"owner":{"account_id":29674965,"reputation":1,"user_id":22743168,"display_name":"Rahul Kant Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697367446,"creation_date":1697364428,"answer_id":77296154,"question_id":77295858,"body_markdown":"1. Check if you have the Firefox browser installed\r\n2. Use the Boni Garcia WebDriverManager\r\n3. Update your Selenium version to the latest ","title":"Web application cannot be launched with Firefox","body":"<ol>\n<li>Check if you have the Firefox browser installed</li>\n<li>Use the Boni Garcia WebDriverManager</li>\n<li>Update your Selenium version to the latest</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697650532,"post_id":77297048,"comment_id":136307844,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77297048/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":29610331,"reputation":36,"user_id":22693750,"display_name":"Rakshasa"},"score":0,"creation_date":1697908213,"post_id":77297048,"comment_id":136339665,"body_markdown":"Firefox browser is updated so you need to update Firefox driver","body":"Firefox browser is updated so you need to update Firefox driver"}],"tags":[],"owner":{"account_id":29610331,"reputation":36,"user_id":22693750,"display_name":"Rakshasa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697379574,"creation_date":1697379484,"answer_id":77297048,"question_id":77295858,"body_markdown":"1. Please upgrade your firefox driver with latest version.\r\n\r\nFireFox driver link : [Firefox driver download link][1]\r\n\r\n\r\n  [1]: https://github.com/mozilla/geckodriver/releases\r\n\r\nNote: Firefox browser version is same as firefox driver version ","title":"Web application cannot be launched with Firefox","body":"<ol>\n<li>Please upgrade your firefox driver with latest version.</li>\n</ol>\n<p>FireFox driver link : <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">Firefox driver download link</a></p>\n<p>Note: Firefox browser version is same as firefox driver version</p>\n"}],"owner":{"account_id":15344797,"reputation":1,"user_id":11070560,"display_name":"Achini Meekanda Wattage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697379574,"creation_date":1697359259,"question_id":77295858,"body_markdown":"I have given following code to launch the application with Firefox\r\n\r\n```java\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,\r\n&quot;C:/Work/Assessment/Automation/Test_2/src/main/resources/geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.get(&quot;https://google.com&quot;);\r\n```\r\n\r\nI get below error:\r\n\r\n&gt; `org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Expected browser binary location, but unable to find binary in default location, no &#39;moz:firefoxOptions.binary&#39; capability provided, and no binary flag set on the command line`\r\n\r\nI want to launch the application with the Firefox browser","title":"Web application cannot be launched with Firefox","body":"<p>I have given following code to launch the application with Firefox</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,\n&quot;C:/Work/Assessment/Automation/Test_2/src/main/resources/geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://google.com&quot;);\n</code></pre>\n<p>I get below error:</p>\n<blockquote>\n<p><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Expected browser binary location, but unable to find binary in default location, no 'moz:firefoxOptions.binary' capability provided, and no binary flag set on the command line</code></p>\n</blockquote>\n<p>I want to launch the application with the Firefox browser</p>\n"},{"tags":["java","spring","transactional"],"comments":[{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":1,"creation_date":1451316512,"post_id":34496105,"comment_id":56733825,"body_markdown":"This question looks similar to my problem, http://stackoverflow.com/questions/31876975/spring-transactional-timeout-not-working-as-expected","body":"This question looks similar to my problem, <a href=\"http://stackoverflow.com/questions/31876975/spring-transactional-timeout-not-working-as-expected\" title=\"spring transactional timeout not working as expected\">stackoverflow.com/questions/31876975/&hellip;</a>"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1451332302,"post_id":34496105,"comment_id":56741112,"body_markdown":"What transaction system are you using?","body":"What transaction system are you using?"},{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":0,"creation_date":1451370862,"post_id":34496105,"comment_id":56753096,"body_markdown":"I am using JDBC transaction system for db operations.","body":"I am using JDBC transaction system for db operations."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1635423867,"post_id":34496105,"comment_id":123297793,"body_markdown":"it works for me, the application throws an exception after the specified timeout time has passed: org.springframework.transaction.TransactionTimedOutException: Transaction timed out: deadline was Thu Oct 28 ...","body":"it works for me, the application throws an exception after the specified timeout time has passed: org.springframework.transaction.TransactionTimedOutException&zwnj;&#8203;: Transaction timed out: deadline was Thu Oct 28 ..."}],"answers":[{"comments":[{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":0,"creation_date":1451481127,"post_id":34519113,"comment_id":56801646,"body_markdown":"I have `org.springframework.jdbc.datasource.DataSourceTransactionManager` bean and `org.springframework.jdbc.datasource.DriverManagerDataSource` bean and `annotation-driven transaction-manager` in my datasource context. I do not use hibernate. I tested this case with `DBMS_LOCK.sleep(10);` and set my transactional timeout 5 seconds but i didn&#39;t get any exception. When i debug the code, if i wait or add thread.sleep code, i get timeout exception. DB transaction time does not effect my transactional timeout.","body":"I have <code>org.springframework.jdbc.datasource.DataSourceTransactionMan&zwnj;&#8203;ager</code> bean and <code>org.springframework.jdbc.datasource.DriverManagerDataSource</code> bean and <code>annotation-driven transaction-manager</code> in my datasource context. I do not use hibernate. I tested this case with <code>DBMS_LOCK.sleep(10);</code> and set my transactional timeout 5 seconds but i didn&#39;t get any exception. When i debug the code, if i wait or add thread.sleep code, i get timeout exception. DB transaction time does not effect my transactional timeout."},{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":0,"creation_date":1451485689,"post_id":34519113,"comment_id":56804101,"body_markdown":"Here is my question as i undestand but not JTS.`http://stackoverflow.com/questions/7469661/how-jta-jts-handle-transaction-time-out-issue` . Is the answer rigth? But how can i control this issue.","body":"Here is my question as i undestand but not JTS.<code>http:&#47;&#47;stackoverflow.com&#47;questions&#47;7469661&#47;how-jta-jts-h&zwnj;&#8203;andle-transaction-ti&zwnj;&#8203;me-out-issue</code> . Is the answer rigth? But how can i control this issue."},{"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"score":0,"creation_date":1451487786,"post_id":34519113,"comment_id":56805210,"body_markdown":"If you try below code, probably you will encounter my situation. I think java control time only in java code. It does not take jdbc time into account.\n@Transactional(timeout=10)\npublic void mysqlWait() {\n    System.out.println(&quot;timeout: &quot; + sessionFactory.getCurrentSession().getTransaction().getTimeout());\n\nSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(&quot;select sleep(15)&quot;);\nSystem.out.println(&quot;executed (&quot; + i + &quot;): &quot; + query.uniqueResult());    \n}","body":"If you try below code, probably you will encounter my situation. I think java control time only in java code. It does not take jdbc time into account. @Transactional(timeout=10) public void mysqlWait() {     System.out.println(&quot;timeout: &quot; + sessionFactory.getCurrentSession().getTransaction().getTimeo&zwnj;&#8203;ut());  SQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(&quot;select sleep(15)&quot;); System.out.println(&quot;executed (&quot; + i + &quot;): &quot; + query.uniqueResult());     }"},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1667394041,"post_id":34519113,"comment_id":131155863,"body_markdown":"That is unrelated to the problem.","body":"That is unrelated to the problem."}],"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1532422340,"creation_date":1451423273,"answer_id":34519113,"question_id":34496105,"body_markdown":"Finally I found the solution...\r\n\r\nShort answer is, that the problem is in a way how you are testing the timeout - `Thread.sleep()` cannot be used...\r\n\r\nLong answer:\r\n\r\nWhat I had to use (because I tested with MySQL) was a real statement - `select sleep(5)`. This call ended with:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\tException in thread &quot;main&quot; org.hibernate.TransactionException: transaction timeout expired\r\n\t\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.determineRemainingTransactionTimeOutPeriod(JdbcCoordinatorImpl.java:271)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:187)\r\n\t\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n\t\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\t\tat test.Dao.mysqlWait(Dao.java:41)\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$da2836b3.mysqlWait(&lt;generated&gt;)\r\n\t\tat test.Main.main(Main.java:16)\r\n\r\nFrom stack this got my attention:\r\n   `StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)`\r\n\r\n...so I wanted to try with a different use case\r\n\r\n\t@Transactional(timeout=10)\r\n\tpublic void mysqlWait() {\r\n\t\tSystem.out.println(&quot;timeout: &quot; + sessionFactory.getCurrentSession().getTransaction().getTimeout());\r\n\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tSQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(&quot;select sleep(2)&quot;);\r\n\t\t\tSystem.out.println(&quot;executed (&quot; + i + &quot;): &quot; + query.uniqueResult());\r\n\t\t}\r\n\t}\r\n\r\nand it resulted in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\tException in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not extract ResultSet\r\n\t\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n\t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n\t\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\t\tat test.Dao.mysqlWait(Dao.java:46)\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;)\r\n\t\tat test.Main.main(Main.java:16)\r\n\tCaused by: com.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881)\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n\t\t... 26 more\r\n\r\nand in log is also:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\t22:05:49.322 [main] DEBUG o.h.e.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\r\n\tcom.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\t\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\t\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2066) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doQuery(Loader.java:910) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2554) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.doList(Loader.java:2540) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.Loader.list(Loader.java:2365) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\t\tat test.Dao.mysqlWait(Dao.java:46) [classes/:na]\r\n\t\tat test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;) [classes/:na]\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n\t\tat test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;) [classes/:na]\r\n\t\tat test.Main.main(Main.java:16) [classes/:na]\r\n\r\nimportant part of spring configuration is (do not expect something special):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/so&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;hibernateSessionFactory&quot;\r\n\t    class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t    &lt;property name=&quot;packagesToScan&quot; value=&quot;test&quot; /&gt;\r\n\t    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t        &lt;props&gt;\r\n\t            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t        &lt;/props&gt;\r\n\t    &lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;\r\n\r\n\t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t    &lt;property name=&quot;sessionFactory&quot; ref=&quot;hibernateSessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n","title":"Spring Transactional TimeOut","body":"<p>Finally I found the solution...</p>\n\n<p>Short answer is, that the problem is in a way how you are testing the timeout - <code>Thread.sleep()</code> cannot be used...</p>\n\n<p>Long answer:</p>\n\n<p>What I had to use (because I tested with MySQL) was a real statement - <code>select sleep(5)</code>. This call ended with:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.hibernate.TransactionException: transaction timeout expired\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.determineRemainingTransactionTimeOutPeriod(JdbcCoordinatorImpl.java:271)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:187)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1885)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\n    at test.Dao.mysqlWait(Dao.java:41)\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    at test.Dao$$EnhancerBySpringCGLIB$$da2836b3.mysqlWait(&lt;generated&gt;)\n    at test.Main.main(Main.java:16)\n</code></pre>\n\n<p>From stack this got my attention:\n   <code>StatementPreparerImpl$StatementPreparationTemplate.setStatementTimeout(StatementPreparerImpl.java:208)</code></p>\n\n<p>...so I wanted to try with a different use case</p>\n\n<pre><code>@Transactional(timeout=10)\npublic void mysqlWait() {\n    System.out.println(\"timeout: \" + sessionFactory.getCurrentSession().getTransaction().getTimeout());\n\n    for (int i = 0; i &lt; 6; i++) {\n        SQLQuery query = sessionFactory.getCurrentSession().createSQLQuery(\"select sleep(2)\");\n        System.out.println(\"executed (\" + i + \"): \" + query.uniqueResult());\n    }\n}\n</code></pre>\n\n<p>and it resulted in:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" org.hibernate.exception.GenericJDBCException: could not extract ResultSet\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\n    at test.Dao.mysqlWait(Dao.java:46)\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    at test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;)\n    at test.Main.main(Main.java:16)\nCaused by: com.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    ... 26 more\n</code></pre>\n\n<p>and in log is also:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>22:05:49.322 [main] DEBUG o.h.e.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\ncom.mysql.jdbc.exceptions.MySQLTimeoutException: Statement cancelled due to timeout or client request\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1881) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1962) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2066) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2554) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2540) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2365) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966) [hibernate-core-4.3.11.Final.jar:4.3.11.Final]\n    at test.Dao.mysqlWait(Dao.java:46) [classes/:na]\n    at test.Dao$$FastClassBySpringCGLIB$$bb93a016.invoke(&lt;generated&gt;) [classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) [spring-aop-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at test.Dao$$EnhancerBySpringCGLIB$$df6a7e0b.mysqlWait(&lt;generated&gt;) [classes/:na]\n    at test.Main.main(Main.java:16) [classes/:na]\n</code></pre>\n\n<p>important part of spring configuration is (do not expect something special):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/so\" /&gt;\n    &lt;property name=\"username\" value=\"root\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateSessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"packagesToScan\" value=\"test\" /&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"txManager\"/&gt;\n\n&lt;bean id=\"txManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"hibernateSessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452586985,"creation_date":1452586985,"answer_id":34738649,"question_id":34496105,"body_markdown":"I solved my problem using `oracle.jdbc.ReadTimeout=60000` on application context. `@Transactional` annotation do not work on jdbc read timeout exception.","title":"Spring Transactional TimeOut","body":"<p>I solved my problem using <code>oracle.jdbc.ReadTimeout=60000</code> on application context. <code>@Transactional</code> annotation do not work on jdbc read timeout exception.</p>\n"},{"tags":[],"owner":{"account_id":23699447,"reputation":11,"user_id":17722795,"display_name":"Sepehr Asadiyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697378891,"creation_date":1697378891,"answer_id":77297013,"question_id":34496105,"body_markdown":"The problem doesn&#39;t seem to be related to the **@Transactional(timeout=20)** or any time-related configuration. In the Spring framework, each transaction requires a database connection to start. If you set **spring.datasource.hikari.maximum-pool-size** to 20 (or its equivalent, **spring.datasource.hikari.maximumPoolSize=20**), and there are already 20 requests using connections, any new request will be stuck waiting for a connection to become available. No error will be raised until a connection is free to process the new request.\r\n\r\nIn this scenario, it&#39;s not a matter of multiple requests coming in and out quickly. The issue is that when all 20 connections are in use, any additional requests must wait until a connection is released, which can cause delays in the processing of those requests. This situation can be mitigated by either adjusting the connection pool size or optimizing the use of database connections in your application.\r\nyou can use AOP to calculate exact time of hole process. and we have another config **spring.datasource.hikari.connection-timeout=20000**. NOTE: the time you wait to connection be released does not count in transaction timeout.","title":"Spring Transactional TimeOut","body":"<p>The problem doesn't seem to be related to the <strong>@Transactional(timeout=20)</strong> or any time-related configuration. In the Spring framework, each transaction requires a database connection to start. If you set <strong>spring.datasource.hikari.maximum-pool-size</strong> to 20 (or its equivalent, <strong>spring.datasource.hikari.maximumPoolSize=20</strong>), and there are already 20 requests using connections, any new request will be stuck waiting for a connection to become available. No error will be raised until a connection is free to process the new request.</p>\n<p>In this scenario, it's not a matter of multiple requests coming in and out quickly. The issue is that when all 20 connections are in use, any additional requests must wait until a connection is released, which can cause delays in the processing of those requests. This situation can be mitigated by either adjusting the connection pool size or optimizing the use of database connections in your application.\nyou can use AOP to calculate exact time of hole process. and we have another config <strong>spring.datasource.hikari.connection-timeout=20000</strong>. NOTE: the time you wait to connection be released does not count in transaction timeout.</p>\n"}],"owner":{"account_id":7333894,"reputation":1329,"user_id":5585923,"accept_rate":100,"display_name":"Uğur Yeşilyurt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49176,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34738649,"answer_count":3,"score":9,"last_activity_date":1697378891,"creation_date":1451315949,"question_id":34496105,"body_markdown":"I am trying to use spring `@Transactional` annotation and `timeout` parameter. I basically test the code with put some `Thread.sleep()` codes. Then i get timeout exception as i expected. Also i want to get timeout exception when database operations take longer than my timeout period. I lock a record in a table in my database with for update select statement. I try to update that record. But program wait and do nothing. Here my sample code.\r\n\r\n    @Transactional(rollbackFor = Exception.class, timeout=5)\r\n    public void executeService(List&lt;sendData&gt; list) throws Exception{\r\n        List&lt;sendData&gt; newList = gDAO.updateSentList(list);\r\n        \r\n    } \r\n\r\nIn this case the program should throw timeout exception. How can i fix it?","title":"Spring Transactional TimeOut","body":"<p>I am trying to use spring <code>@Transactional</code> annotation and <code>timeout</code> parameter. I basically test the code with put some <code>Thread.sleep()</code> codes. Then i get timeout exception as i expected. Also i want to get timeout exception when database operations take longer than my timeout period. I lock a record in a table in my database with for update select statement. I try to update that record. But program wait and do nothing. Here my sample code.</p>\n\n<pre><code>@Transactional(rollbackFor = Exception.class, timeout=5)\npublic void executeService(List&lt;sendData&gt; list) throws Exception{\n    List&lt;sendData&gt; newList = gDAO.updateSentList(list);\n\n} \n</code></pre>\n\n<p>In this case the program should throw timeout exception. How can i fix it?</p>\n"},{"tags":["java","spring","validation"],"answers":[{"comments":[{"owner":{"account_id":13398894,"reputation":129,"user_id":9669026,"display_name":"Garam Choi"},"score":1,"creation_date":1595678314,"post_id":62896541,"comment_id":111561310,"body_markdown":"I appreciate it! Your approach gives me insight :)","body":"I appreciate it! Your approach gives me insight :)"},{"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"score":1,"creation_date":1643531668,"post_id":62896541,"comment_id":125361248,"body_markdown":"Hi @Edvin,\nIs there any solution to get rid of &quot;BindingResult errors&quot; as argument and additional code in controller method?","body":"Hi @Edvin, Is there any solution to get rid of &quot;BindingResult errors&quot; as argument and additional code in controller method?"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1683070437,"post_id":62896541,"comment_id":134309438,"body_markdown":"The line `map(ValidationException::getValidationMessage)` is failing with &quot;Compilation failing: not a statement&quot;","body":"The line <code>map(ValidationException::getValidationMessage)</code> is failing with &quot;Compilation failing: not a statement&quot;"}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1594734320,"creation_date":1594733926,"answer_id":62896541,"question_id":62896233,"body_markdown":"Consider the example below where I implemented something like what you asking for:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/accounts&quot;)\r\n    public class SavingsAccountController {\r\n    \r\n       private final BankAccountService accountService;\r\n    \r\n       @Autowired\r\n       public SavingsAccountController(SavingsAccountService accountService) {\r\n           this.accountService = accountService;\r\n       }\r\n    \r\n       @PutMapping(&quot;withdraw&quot;)\r\n       public ResponseEntity&lt;AccountBalance&gt; onMoneyWithdrawal(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\r\n    \r\n           //this is the validation barrier\r\n           if (errors.hasErrors()) {\r\n               throw new ValidationException(errors);\r\n           }\r\n    \r\n           double balance = accountService.withdrawMoney(withdrawal);\r\n           return ResponseEntity.ok(new AccountBalance(\r\n                   withdrawal.getAccountNumber(), balance));\r\n       }\r\n    \r\n       @PutMapping(&quot;save&quot;)\r\n       public ResponseEntity&lt;AccountBalance&gt; onMoneySaving(@RequestBody @Validated SaveMoney savings, BindingResult errors) {\r\n    \r\n           //this is the validation barrier\r\n           if (errors.hasErrors()) {\r\n               throw new ValidationException(errors);\r\n           }\r\n    \r\n           double balance = accountService.saveMoney(savings);\r\n           return ResponseEntity.ok(new AccountBalance(\r\n                   savings.getAccountNumber(), balance));\r\n       }\r\n    }\r\n\r\nIn the code above, we&#39;re using Bean Validation to check that the user&#39;s DTO contains valid information. Any errors found in the DTO are provided through the `BindingResult` errors variable, from where the developer can extract all the details of what went wrong during the validation phase. \r\n\r\nTo make it easier for the developers to deal with this pattern, in the code above, I simply wrap the `BindingResult` into a custom `ValidationException` which knows how to extract the validation error details.\r\n\r\n    public class ValidationException extends RuntimeException {\r\n    \r\n       private final BindingResult errors;\r\n    \r\n       public ValidationException(BindingResult errors) {\r\n           this.errors = errors;\r\n       }\r\n    \r\n       public List&lt;String&gt; getMessages() {\r\n           return getValidationMessage(this.errors);\r\n       }\r\n    \r\n    \r\n       @Override\r\n       public String getMessage() {\r\n           return this.getMessages().toString();\r\n       }\r\n    \r\n    \r\n       //demonstrate how to extract a message from the binging result\r\n       private static List&lt;String&gt; getValidationMessage(BindingResult bindingResult) {\r\n           return bindingResult.getAllErrors()\r\n                   .stream()\r\n                   .map(ValidationException::getValidationMessage)\r\n                   .collect(Collectors.toList());\r\n       }\r\n    \r\n       private static String getValidationMessage(ObjectError error) {\r\n           if (error instanceof FieldError) {\r\n               FieldError fieldError = (FieldError) error;\r\n               String className = fieldError.getObjectName();\r\n               String property = fieldError.getField();\r\n               Object invalidValue = fieldError.getRejectedValue();\r\n               String message = fieldError.getDefaultMessage();\r\n               return String.format(&quot;%s.%s %s, but it was %s&quot;, className, property, message, invalidValue);\r\n           }\r\n           return String.format(&quot;%s: %s&quot;, error.getObjectName(), error.getDefaultMessage());\r\n       }\r\n    \r\n    }\r\n\r\nNotice that in my controller definition I do not use Bean Validation&#39;s [@Valid](https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html) annotation, but the Spring counterpart [@Validated](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html), but under the hood Spring will use Bean Validation.\r\n\r\n**How to Serialize the Custom Exception?**\r\n\r\nIn the code above the `ValidationException` will be thrown when the payload is invalid. How should the controller create a response for the client out of this?\r\n\r\nThere are multiple ways to deal with this, but perhaps the simplest solution is to define a class annotated as `@ControllerAdvice`. In this annotated class we will place our exception handlers for any specific exception that we want to handle and turn them into a valid response object to travel back to our clients:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlers {\r\n    \r\n       @ExceptionHandler\r\n       public ResponseEntity&lt;ErrorModel&gt; handle(ValidationException ex) {\r\n           return ResponseEntity.badRequest()\r\n                                .body(new ErrorModel(ex.getMessages()));\r\n       }\r\n    \r\n       //...\r\n    }\r\n\r\nI wrote a few other examples of this and other validation techniques with Spring in case you may be interested in [reading more about it](https://github.com/edalorzo/fundamental-programming).\r\n","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>Consider the example below where I implemented something like what you asking for:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/accounts&quot;)\npublic class SavingsAccountController {\n\n   private final BankAccountService accountService;\n\n   @Autowired\n   public SavingsAccountController(SavingsAccountService accountService) {\n       this.accountService = accountService;\n   }\n\n   @PutMapping(&quot;withdraw&quot;)\n   public ResponseEntity&lt;AccountBalance&gt; onMoneyWithdrawal(@RequestBody @Validated WithdrawMoney withdrawal, BindingResult errors) {\n\n       //this is the validation barrier\n       if (errors.hasErrors()) {\n           throw new ValidationException(errors);\n       }\n\n       double balance = accountService.withdrawMoney(withdrawal);\n       return ResponseEntity.ok(new AccountBalance(\n               withdrawal.getAccountNumber(), balance));\n   }\n\n   @PutMapping(&quot;save&quot;)\n   public ResponseEntity&lt;AccountBalance&gt; onMoneySaving(@RequestBody @Validated SaveMoney savings, BindingResult errors) {\n\n       //this is the validation barrier\n       if (errors.hasErrors()) {\n           throw new ValidationException(errors);\n       }\n\n       double balance = accountService.saveMoney(savings);\n       return ResponseEntity.ok(new AccountBalance(\n               savings.getAccountNumber(), balance));\n   }\n}\n</code></pre>\n<p>In the code above, we're using Bean Validation to check that the user's DTO contains valid information. Any errors found in the DTO are provided through the <code>BindingResult</code> errors variable, from where the developer can extract all the details of what went wrong during the validation phase.</p>\n<p>To make it easier for the developers to deal with this pattern, in the code above, I simply wrap the <code>BindingResult</code> into a custom <code>ValidationException</code> which knows how to extract the validation error details.</p>\n<pre><code>public class ValidationException extends RuntimeException {\n\n   private final BindingResult errors;\n\n   public ValidationException(BindingResult errors) {\n       this.errors = errors;\n   }\n\n   public List&lt;String&gt; getMessages() {\n       return getValidationMessage(this.errors);\n   }\n\n\n   @Override\n   public String getMessage() {\n       return this.getMessages().toString();\n   }\n\n\n   //demonstrate how to extract a message from the binging result\n   private static List&lt;String&gt; getValidationMessage(BindingResult bindingResult) {\n       return bindingResult.getAllErrors()\n               .stream()\n               .map(ValidationException::getValidationMessage)\n               .collect(Collectors.toList());\n   }\n\n   private static String getValidationMessage(ObjectError error) {\n       if (error instanceof FieldError) {\n           FieldError fieldError = (FieldError) error;\n           String className = fieldError.getObjectName();\n           String property = fieldError.getField();\n           Object invalidValue = fieldError.getRejectedValue();\n           String message = fieldError.getDefaultMessage();\n           return String.format(&quot;%s.%s %s, but it was %s&quot;, className, property, message, invalidValue);\n       }\n       return String.format(&quot;%s: %s&quot;, error.getObjectName(), error.getDefaultMessage());\n   }\n\n}\n</code></pre>\n<p>Notice that in my controller definition I do not use Bean Validation's <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"noreferrer\">@Valid</a> annotation, but the Spring counterpart <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\">@Validated</a>, but under the hood Spring will use Bean Validation.</p>\n<p><strong>How to Serialize the Custom Exception?</strong></p>\n<p>In the code above the <code>ValidationException</code> will be thrown when the payload is invalid. How should the controller create a response for the client out of this?</p>\n<p>There are multiple ways to deal with this, but perhaps the simplest solution is to define a class annotated as <code>@ControllerAdvice</code>. In this annotated class we will place our exception handlers for any specific exception that we want to handle and turn them into a valid response object to travel back to our clients:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlers {\n\n   @ExceptionHandler\n   public ResponseEntity&lt;ErrorModel&gt; handle(ValidationException ex) {\n       return ResponseEntity.badRequest()\n                            .body(new ErrorModel(ex.getMessages()));\n   }\n\n   //...\n}\n</code></pre>\n<p>I wrote a few other examples of this and other validation techniques with Spring in case you may be interested in <a href=\"https://github.com/edalorzo/fundamental-programming\" rel=\"noreferrer\">reading more about it</a>.</p>\n"},{"comments":[{"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"score":0,"creation_date":1655348155,"post_id":71547171,"comment_id":128313019,"body_markdown":"use can use a map to return the payload","body":"use can use a map to return the payload"},{"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"score":0,"creation_date":1655348180,"post_id":71547171,"comment_id":128313023,"body_markdown":"`Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\t\tmap.put(&quot;message&quot;,extractValidationMessage(exception));                              \n\t\treturn new ResponseEntity&lt;&gt;(map, HttpStatus.BAD_REQUEST);`","body":"<code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); \t\tmap.put(&quot;message&quot;,extractValidationMessage(exception));                               \t\treturn new ResponseEntity&lt;&gt;(map, HttpStatus.BAD_REQUEST);</code>"},{"owner":{"account_id":19210994,"reputation":140,"user_id":14036798,"display_name":"CHH"},"score":0,"creation_date":1664732496,"post_id":71547171,"comment_id":130534324,"body_markdown":"Great advice! \nI&#39;d even shorten that one with: \n`return new ResponseEntity&lt;&gt;(Map.of(&quot;message&quot;, extractValidationMessage(exception)), HttpStatus.BAD_REQUEST);`","body":"Great advice!  I&#39;d even shorten that one with:  <code>return new ResponseEntity&lt;&gt;(Map.of(&quot;message&quot;, extractValidationMessage(exception)), HttpStatus.BAD_REQUEST);</code>"}],"tags":[],"owner":{"account_id":19210994,"reputation":140,"user_id":14036798,"display_name":"CHH"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647782916,"creation_date":1647782916,"answer_id":71547171,"question_id":62896233,"body_markdown":"Here is a solution I used (that might not answer this question directly but possibly help others who get to this page that came with similar intentions as I had):\r\n\r\n**My aim was foremost to respond with a custom error message to the client who sent a request with an invalid object.**\r\n\r\n1. In my controller I use a standard `@Valid` annotation from *javax.validation.Valid* before the parameter\r\n2. In my entity class I use the standard validation constraint, e.g. `@NotNull(message = &quot;Field XYZ has to be provided&quot;)` from *javax.validation.constraints.NotNull*\r\n3. I catch the ValidationException in my ControllerAdvice class:\r\n\r\n```\r\n@ControllerAdvice \r\npublic class MyControllerAdvice extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n            MethodArgumentNotValidException exception, \r\n            HttpHeaders headers, \r\n            HttpStatus status, \r\n            WebRequest request) {\r\n        return new ResponseEntity&lt;&gt;(\r\n                new JSONObject().put(&quot;message&quot;, extractValidationMessage(exception)).toString(),\r\n                HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    private String extractValidationMessage(MethodArgumentNotValidException exception) {\r\n        String exceptionMessage = exception.getMessage();\r\n        String[] messageParts = exceptionMessage.split(&quot;;&quot;);\r\n        String finalPart = messageParts[messageParts.length -1];\r\n\r\n        return finalPart.trim().replaceAll(&quot;default message \\\\[|]]&quot;,&quot;&quot;);\r\n    } \r\n}\r\n```\r\n\r\n4. This will return a 400 Error code and a body of this style:\r\n&gt; {&quot;message&quot;:&quot;Field XYZ has to be provided&quot;}","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>Here is a solution I used (that might not answer this question directly but possibly help others who get to this page that came with similar intentions as I had):</p>\n<p><strong>My aim was foremost to respond with a custom error message to the client who sent a request with an invalid object.</strong></p>\n<ol>\n<li>In my controller I use a standard <code>@Valid</code> annotation from <em>javax.validation.Valid</em> before the parameter</li>\n<li>In my entity class I use the standard validation constraint, e.g. <code>@NotNull(message = &quot;Field XYZ has to be provided&quot;)</code> from <em>javax.validation.constraints.NotNull</em></li>\n<li>I catch the ValidationException in my ControllerAdvice class:</li>\n</ol>\n<pre><code>@ControllerAdvice \npublic class MyControllerAdvice extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n            MethodArgumentNotValidException exception, \n            HttpHeaders headers, \n            HttpStatus status, \n            WebRequest request) {\n        return new ResponseEntity&lt;&gt;(\n                new JSONObject().put(&quot;message&quot;, extractValidationMessage(exception)).toString(),\n                HttpStatus.BAD_REQUEST);\n    }\n\n    private String extractValidationMessage(MethodArgumentNotValidException exception) {\n        String exceptionMessage = exception.getMessage();\n        String[] messageParts = exceptionMessage.split(&quot;;&quot;);\n        String finalPart = messageParts[messageParts.length -1];\n\n        return finalPart.trim().replaceAll(&quot;default message \\\\[|]]&quot;,&quot;&quot;);\n    } \n}\n</code></pre>\n<ol start=\"4\">\n<li>This will return a 400 Error code and a body of this style:</li>\n</ol>\n<blockquote>\n<p>{&quot;message&quot;:&quot;Field XYZ has to be provided&quot;}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697377585,"creation_date":1697377585,"answer_id":77296935,"question_id":62896233,"body_markdown":"step 1.add the custom exception method in your annotation:\r\n\r\n    @Documented\r\n    @Constraint(validatedBy = {})\r\n    @Target({ FIELD, TYPE_USE,RECORD_COMPONENT })\r\n    @Retention(RUNTIME)\r\n    public @interface ValidIdNumber {\r\n    \tString message() default &quot;The &#39;${validatedValue}&#39; not a valid identification number!&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \t\r\n    \tClass&lt;? extends Throwable&gt; exception() default InvalidIdNumberException.class;\r\n    }\r\n    \r\nstep 2.add AbstractValidator\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    import java.lang.reflect.WildcardType;\r\n    import java.util.Arrays;\r\n    import java.util.NoSuchElementException;\r\n    import java.util.Set;\r\n    import java.util.function.Consumer;\r\n    \r\n    import javax.validation.Validation;\r\n    import javax.validation.ConstraintViolation;\r\n    import javax.validation.Validator;\r\n    import javax.validation.metadata.ConstraintDescriptor; \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory; \r\n    \r\n    public abstract class AbstractValidator&lt;T&gt; implements Consumer&lt;ConstraintViolation&lt;T&gt;&gt; {\r\n    \tpublic AbstractValidator(){\r\n    \t\t\r\n    \t}\r\n    \tprivate static final Logger LOGGER= LoggerFactory.getLogger(AbstractValidator.class);\r\n    \tprivate static class ExceptionFactory {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tprivate static &lt;A extends Annotation, E extends Throwable&gt; Class&lt;E&gt; getExceptionTypeFromAnnotation(\r\n    \t\t\t\tConstraintDescriptor&lt;A&gt; constraintDescriptor) throws E {\r\n    \t\t\tAnnotation annotation = constraintDescriptor.getAnnotation();\r\n    \t\t\tClass&lt;A&gt; type = (Class&lt;A&gt;) annotation.annotationType();\r\n    \t\t\tClass&lt;E&gt; e = Arrays.stream(type.getDeclaredMethods()).filter(method -&gt; {\r\n    \t\t\t\tType genericReturnType = method.getGenericReturnType();\r\n    \t\t\t\tif (genericReturnType instanceof ParameterizedType parameterizedType) {\r\n    \t\t\t\t\tif (parameterizedType.getRawType().equals(Class.class)) {\r\n    \t\t\t\t\t\tType actualTypeArgument = parameterizedType.getActualTypeArguments()[0];\r\n    \t\t\t\t\t\tif (actualTypeArgument instanceof WildcardType wildcardType) {\r\n    \t\t\t\t\t\t\tvar upperBounds = wildcardType.getUpperBounds();\r\n    \t\t\t\t\t\t\tif (upperBounds.length &gt; 0) {\r\n    \t\t\t\t\t\t\t\tClass&lt;?&gt; clazz = (Class&lt;?&gt;) upperBounds[0];\r\n    \t\t\t\t\t\t\t\treturn Throwable.class.isAssignableFrom(clazz);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\treturn false;\r\n    \t\t\t}).map(method -&gt; {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treturn (Class&lt;E&gt;) method.invoke(annotation);\r\n    \t\t\t\t} catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e1) {\r\n    \t\t\t\t\tLOGGER.error(e1.getMessage(), e1); \r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t}).findFirst().orElseThrow();\r\n    \t\t\treturn e;\r\n    \t\t}\r\n    \r\n    \t\tpublic static &lt;A extends Annotation, E extends Throwable&gt; E create(ConstraintDescriptor&lt;A&gt; constraintDescriptor,\r\n    \t\t\t\tString message) throws NoSuchElementException, E {\r\n    \t\t\tClass&lt;E&gt; e = getExceptionTypeFromAnnotation(constraintDescriptor);\r\n    \t\t\ttry {\r\n    \t\t\t\treturn e.getConstructor(String.class).newInstance(message);\r\n    \t\t\t} catch (InstantiationException | IllegalAccessException | IllegalArgumentException\r\n    \t\t\t\t\t| InvocationTargetException | NoSuchMethodException | SecurityException e1) {\r\n    \t\t\t\tLOGGER.error(e1.getMessage(), e1);\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n     \r\n    \t@Override\r\n    \tpublic void accept(ConstraintViolation&lt;T&gt; constraintViolation) throws IllegalArgumentException {\r\n    \t\tswitch (constraintViolation.getPropertyPath().toString()) {\r\n    \t\tdefault -&gt; throw new IllegalArgumentException(\r\n    \t\t\t\tconstraintViolation.getPropertyPath().toString() + &quot; &quot; + constraintViolation.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic &lt;E extends Throwable&gt; void validate(T obj, Class&lt;?&gt;... groups) throws E {\r\n    \t\tSet&lt;ConstraintViolation&lt;T&gt;&gt; set = Validation.buildDefaultValidatorFactory().getValidator().validate(obj, groups);\r\n    \t\tif (!set.isEmpty()) {\r\n    \t\t\tConstraintViolation&lt;T&gt; constraintViolation = set.iterator().next();\r\n    \t\t\tString message = constraintViolation.getMessage();\r\n    \t\t\ttry {\r\n    \t\t\t\tthrow ExceptionFactory.create(constraintViolation.getConstraintDescriptor(), message);\r\n    \t\t\t} catch (NoSuchElementException e) {  \r\n    \t\t\t\taccept(constraintViolation);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\nstep 3.add a impl of AbstractValidator:\r\n\r\n    public class ValidatorImpl extends AbstractValidator&lt;Object&gt;{\r\n    }\r\nstep 4.test: \r\n   \r\n\r\n     record DTO(@ValidIdNumber String idNumber){} \r\n        public static void main(String[] args) throws InvalidIdNumberException{\r\n            DTO dto=new DTO(&quot;1234&quot;);\r\n            new ValidatorImpl().validate();\r\n        }\r\n    \r\n[source in github][1]\r\n\r\n\r\n  [1]: https://github.com/dekingorg/throwable-validator","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>step 1.add the custom exception method in your annotation:</p>\n<pre><code>@Documented\n@Constraint(validatedBy = {})\n@Target({ FIELD, TYPE_USE,RECORD_COMPONENT })\n@Retention(RUNTIME)\npublic @interface ValidIdNumber {\n    String message() default &quot;The '${validatedValue}' not a valid identification number!&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    \n    Class&lt;? extends Throwable&gt; exception() default InvalidIdNumberException.class;\n}\n</code></pre>\n<p>step 2.add AbstractValidator</p>\n<pre><code>import java.lang.annotation.Annotation;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.lang.reflect.WildcardType;\nimport java.util.Arrays;\nimport java.util.NoSuchElementException;\nimport java.util.Set;\nimport java.util.function.Consumer;\n\nimport javax.validation.Validation;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.Validator;\nimport javax.validation.metadata.ConstraintDescriptor; \nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory; \n\npublic abstract class AbstractValidator&lt;T&gt; implements Consumer&lt;ConstraintViolation&lt;T&gt;&gt; {\n    public AbstractValidator(){\n        \n    }\n    private static final Logger LOGGER= LoggerFactory.getLogger(AbstractValidator.class);\n    private static class ExceptionFactory {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        private static &lt;A extends Annotation, E extends Throwable&gt; Class&lt;E&gt; getExceptionTypeFromAnnotation(\n                ConstraintDescriptor&lt;A&gt; constraintDescriptor) throws E {\n            Annotation annotation = constraintDescriptor.getAnnotation();\n            Class&lt;A&gt; type = (Class&lt;A&gt;) annotation.annotationType();\n            Class&lt;E&gt; e = Arrays.stream(type.getDeclaredMethods()).filter(method -&gt; {\n                Type genericReturnType = method.getGenericReturnType();\n                if (genericReturnType instanceof ParameterizedType parameterizedType) {\n                    if (parameterizedType.getRawType().equals(Class.class)) {\n                        Type actualTypeArgument = parameterizedType.getActualTypeArguments()[0];\n                        if (actualTypeArgument instanceof WildcardType wildcardType) {\n                            var upperBounds = wildcardType.getUpperBounds();\n                            if (upperBounds.length &gt; 0) {\n                                Class&lt;?&gt; clazz = (Class&lt;?&gt;) upperBounds[0];\n                                return Throwable.class.isAssignableFrom(clazz);\n                            }\n                        }\n                    }\n                }\n                return false;\n            }).map(method -&gt; {\n                try {\n                    return (Class&lt;E&gt;) method.invoke(annotation);\n                } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException e1) {\n                    LOGGER.error(e1.getMessage(), e1); \n                    return null;\n                }\n            }).findFirst().orElseThrow();\n            return e;\n        }\n\n        public static &lt;A extends Annotation, E extends Throwable&gt; E create(ConstraintDescriptor&lt;A&gt; constraintDescriptor,\n                String message) throws NoSuchElementException, E {\n            Class&lt;E&gt; e = getExceptionTypeFromAnnotation(constraintDescriptor);\n            try {\n                return e.getConstructor(String.class).newInstance(message);\n            } catch (InstantiationException | IllegalAccessException | IllegalArgumentException\n                    | InvocationTargetException | NoSuchMethodException | SecurityException e1) {\n                LOGGER.error(e1.getMessage(), e1);\n                e1.printStackTrace();\n                return null;\n            }\n        }\n    }\n \n    @Override\n    public void accept(ConstraintViolation&lt;T&gt; constraintViolation) throws IllegalArgumentException {\n        switch (constraintViolation.getPropertyPath().toString()) {\n        default -&gt; throw new IllegalArgumentException(\n                constraintViolation.getPropertyPath().toString() + &quot; &quot; + constraintViolation.getMessage());\n        }\n    }\n\n    public &lt;E extends Throwable&gt; void validate(T obj, Class&lt;?&gt;... groups) throws E {\n        Set&lt;ConstraintViolation&lt;T&gt;&gt; set = Validation.buildDefaultValidatorFactory().getValidator().validate(obj, groups);\n        if (!set.isEmpty()) {\n            ConstraintViolation&lt;T&gt; constraintViolation = set.iterator().next();\n            String message = constraintViolation.getMessage();\n            try {\n                throw ExceptionFactory.create(constraintViolation.getConstraintDescriptor(), message);\n            } catch (NoSuchElementException e) {  \n                accept(constraintViolation);\n            }\n        }\n    }\n}\n</code></pre>\n<p>step 3.add a impl of AbstractValidator:</p>\n<pre><code>public class ValidatorImpl extends AbstractValidator&lt;Object&gt;{\n}\n</code></pre>\n<p>step 4.test:</p>\n<pre><code> record DTO(@ValidIdNumber String idNumber){} \n    public static void main(String[] args) throws InvalidIdNumberException{\n        DTO dto=new DTO(&quot;1234&quot;);\n        new ValidatorImpl().validate();\n    }\n</code></pre>\n<p><a href=\"https://github.com/dekingorg/throwable-validator\" rel=\"nofollow noreferrer\">source in github</a></p>\n"}],"owner":{"account_id":13398894,"reputation":129,"user_id":9669026,"display_name":"Garam Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28251,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":62896541,"answer_count":3,"score":10,"last_activity_date":1697377585,"creation_date":1594732946,"question_id":62896233,"body_markdown":"How to throw a custom exception in the proper way when using `@javax.validation.Valid`?\r\n\r\n\r\nI&#39;m using `@Valid` in controller, and `@AssertTrue` to validate request body fields.\r\n\r\n```\r\npublic ResponseEntity&lt;Foo&gt; createFoo(\r\n\t@Valid @RequestBody Foo FooRequest ...\r\n```\r\n\r\n```\r\n\t@AssertTrue()\r\n\tpublic boolean isFooValid() {\r\n        if (invalid)\r\n            return false;\r\n        ...\r\n    }\r\n\r\n```\r\n\r\nHowever, I want to throw customized Exception class in some condition.\r\n```\r\n\t@AssertTrue()\r\n\tpublic boolean isFooValid() {\r\n        if (invalid)\r\n            return false;\r\n        ...\r\n\r\n        // note below\r\n        if (invalidInAnotherCondition)\r\n            throw new CustomizedException(...);\r\n    }\r\n\r\n```\r\n\r\nI know this is not desirable way to utilize `@Valid` in controller, and `@AssertTrue`. Nevertheless, as I can make my own Exception class which contains customized error info, with the convenience of `@Valid`.\r\n\r\nHowever the error happens.\r\n```\r\njavax.validation.ValidationException: HV000090: Unable to access isFooValid\r\n\tat org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:245)\r\n\tat org.hibernate.validator.internal.metadata.location.GetterConstraintLocation.getValue(GetterConstraintLocation.java:89)\r\n\tat org.hibernate.validator.internal.engine.ValueContext.getValue(ValueContext.java:235)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:549)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:515)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:485)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:447)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397)\r\n\tat org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173)\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:117)\r\n\tat org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:70)\r\n\tat org.springframework.validation.DataBinder.validate(DataBinder.java:889)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:266)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:137)\r\n\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException: null\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:242)\r\n\t... 70 common frames omitted\r\nCaused by: com.finda.services.finda.common.exception.CustomizedException: &#39;df282e0d-1205-4574-adaa-0af819af66c0&#39; \r\n\tat ...\r\n\t... 75 common frames omitted\r\n```\r\n\r\nI think this happens because originally, `@AssertTrue` throws its own Exception itself and it is to be processed through the internal logic; However, customized thrown Exception is not acceptable which can be seen in `Caused by: java.lang.reflect.InvocationTargetException: null` and `javax.validation.ValidationException: HV000090: Unable to access isFooValid`\r\n\r\nSo my final question is below,\r\n\r\n**Can I bypass this error, still throwing customized Exception?**\r\n\r\nI really appreciate that you read this long posting in advance.","title":"How to throw custom exception in proper way when using @javax.validation.Valid?","body":"<p>How to throw a custom exception in the proper way when using <code>@javax.validation.Valid</code>?</p>\n<p>I'm using <code>@Valid</code> in controller, and <code>@AssertTrue</code> to validate request body fields.</p>\n<pre><code>public ResponseEntity&lt;Foo&gt; createFoo(\n    @Valid @RequestBody Foo FooRequest ...\n</code></pre>\n<pre><code>    @AssertTrue()\n    public boolean isFooValid() {\n        if (invalid)\n            return false;\n        ...\n    }\n\n</code></pre>\n<p>However, I want to throw customized Exception class in some condition.</p>\n<pre><code>    @AssertTrue()\n    public boolean isFooValid() {\n        if (invalid)\n            return false;\n        ...\n\n        // note below\n        if (invalidInAnotherCondition)\n            throw new CustomizedException(...);\n    }\n\n</code></pre>\n<p>I know this is not desirable way to utilize <code>@Valid</code> in controller, and <code>@AssertTrue</code>. Nevertheless, as I can make my own Exception class which contains customized error info, with the convenience of <code>@Valid</code>.</p>\n<p>However the error happens.</p>\n<pre><code>javax.validation.ValidationException: HV000090: Unable to access isFooValid\n    at org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:245)\n    at org.hibernate.validator.internal.metadata.location.GetterConstraintLocation.getValue(GetterConstraintLocation.java:89)\n    at org.hibernate.validator.internal.engine.ValueContext.getValue(ValueContext.java:235)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:549)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:515)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:485)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:447)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:397)\n    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:173)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:117)\n    at org.springframework.boot.autoconfigure.validation.ValidatorAdapter.validate(ValidatorAdapter.java:70)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:889)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.validateIfApplicable(AbstractMessageConverterMethodArgumentResolver.java:266)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:137)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.hibernate.validator.internal.util.ReflectionHelper.getValue(ReflectionHelper.java:242)\n    ... 70 common frames omitted\nCaused by: com.finda.services.finda.common.exception.CustomizedException: 'df282e0d-1205-4574-adaa-0af819af66c0' \n    at ...\n    ... 75 common frames omitted\n</code></pre>\n<p>I think this happens because originally, <code>@AssertTrue</code> throws its own Exception itself and it is to be processed through the internal logic; However, customized thrown Exception is not acceptable which can be seen in <code>Caused by: java.lang.reflect.InvocationTargetException: null</code> and <code>javax.validation.ValidationException: HV000090: Unable to access isFooValid</code></p>\n<p>So my final question is below,</p>\n<p><strong>Can I bypass this error, still throwing customized Exception?</strong></p>\n<p>I really appreciate that you read this long posting in advance.</p>\n"},{"tags":["java","android","admob"],"answers":[{"comments":[{"owner":{"account_id":2931672,"reputation":1,"user_id":2511756,"display_name":"user2511756"},"score":0,"creation_date":1697478155,"post_id":77296876,"comment_id":136282234,"body_markdown":"Thanks - I have renamed back to Interstitial.java - only some code shown below.... - is the show() targeting the Interstitial.this correct?\n\n\npublic class Interstitial extends Activity {\n    public InterstitialAd mInterstitialAd;\n    public static Activity currentActivity;\n\n        public void show(int status) {\n        if (status==1) {\n            if (mInterstitialAd != null) {\n                mInterstitialAd.show(Interstitial.this);\n            } else {\n                Log.d(&quot;TAG&quot;, &quot;The ad wasn&#39;t ready yet.&quot;);\n            }\n        }","body":"Thanks - I have renamed back to Interstitial.java - only some code shown below.... - is the show() targeting the Interstitial.this correct?   public class Interstitial extends Activity {     public InterstitialAd mInterstitialAd;     public static Activity currentActivity;          public void show(int status) {         if (status==1) {             if (mInterstitialAd != null) {                 mInterstitialAd.show(Interstitial.this);             } else {                 Log.d(&quot;TAG&quot;, &quot;The ad wasn&#39;t ready yet.&quot;);             }         }"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1697482980,"post_id":77296876,"comment_id":136282936,"body_markdown":"@user2511756 - If you have another question, please post it as a separate one. If you have code additions to this question, edit your question and paste it in there. Also, if my answer helped you, please mark it as such.","body":"@user2511756 - If you have another question, please post it as a separate one. If you have code additions to this question, edit your question and paste it in there. Also, if my answer helped you, please mark it as such."}],"tags":[],"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697376418,"creation_date":1697376418,"answer_id":77296876,"question_id":77289802,"body_markdown":"The error you mentioned is quite clear:\r\n\r\n&gt; Interstitial.java:60: error: class MainActivity is public, should be\r\n&gt; declared in a file named MainActivity.java\r\n\r\n**Meaning, that you have declared a class called MainActivity, but the file name of where you placed this class is not called MainActivity.**\r\n\r\nTherefore, either rename the file where you placed the class MainActivity to be called MainActivity.java or create a new filed with that name and move the class there.\r\n\r\nSince I do not know the file names, I can only assume that you placed the MainActivity class in a file named Interstitial.java, which is the problem.","title":"Error trying to use Android admob code for ads with gms 20.2.0","body":"<p>The error you mentioned is quite clear:</p>\n<blockquote>\n<p>Interstitial.java:60: error: class MainActivity is public, should be\ndeclared in a file named MainActivity.java</p>\n</blockquote>\n<p><strong>Meaning, that you have declared a class called MainActivity, but the file name of where you placed this class is not called MainActivity.</strong></p>\n<p>Therefore, either rename the file where you placed the class MainActivity to be called MainActivity.java or create a new filed with that name and move the class there.</p>\n<p>Since I do not know the file names, I can only assume that you placed the MainActivity class in a file named Interstitial.java, which is the problem.</p>\n"}],"owner":{"account_id":2931672,"reputation":1,"user_id":2511756,"display_name":"user2511756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697376418,"creation_date":1697219787,"question_id":77289802,"body_markdown":"I have a file called\r\n\r\nInterstitial.java that was already present but i amended to fix the new google ads format and on compile i get error...\r\n\r\n```\r\n`Interstitial.java:60: error: class MainActivity is public, should be declared in a file named MainActivity.java`\r\n```\r\n\r\n**do i simply move the code to that file or do i need to change the code as well?**\r\n\r\nthnks!\r\n\r\nNote:I also added a main_activity.xml file - with following content\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SDLActivity&quot;&gt;\r\n&lt;/LinearLayout&gt;`\r\n```\r\n\r\n```\r\npackage org.libsdl.app;\r\n\r\n\r\n\r\n\r\n//* ADMOB\r\nimport com.google.android.gms.ads.AdListener;\r\nimport com.google.android.gms.ads.AdRequest;\r\n//import com.google.android.gms.ads.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n// */\r\n\r\nimport android.app.Activity;\r\n\r\n//* ADMOB\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport java.io.IOException;\r\n// */\r\n\r\n\r\npublic class MainActivity extends Activity {\r\n    private static final String TAG = &quot;MyActivity&quot;;\r\n    private InterstitialAd mInterstitialAd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n        });\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        mInterstitialAd = interstitialAd;\r\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        Log.d(TAG, loadAdError.toString());\r\n                        mInterstitialAd = null;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n// */\r\n    }\r\n}`\r\n```\r\n\r\nno errors are showing the screen in android studio...just when i try to compile","title":"Error trying to use Android admob code for ads with gms 20.2.0","body":"<p>I have a file called</p>\n<p>Interstitial.java that was already present but i amended to fix the new google ads format and on compile i get error...</p>\n<pre><code>`Interstitial.java:60: error: class MainActivity is public, should be declared in a file named MainActivity.java`\n</code></pre>\n<p><strong>do i simply move the code to that file or do i need to change the code as well?</strong></p>\n<p>thnks!</p>\n<p>Note:I also added a main_activity.xml file - with following content</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SDLActivity&quot;&gt;\n&lt;/LinearLayout&gt;`\n</code></pre>\n<pre><code>package org.libsdl.app;\n\n\n\n\n//* ADMOB\nimport com.google.android.gms.ads.AdListener;\nimport com.google.android.gms.ads.AdRequest;\n//import com.google.android.gms.ads.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n// */\n\nimport android.app.Activity;\n\n//* ADMOB\nimport android.content.Context;\nimport android.util.Log;\nimport java.io.IOException;\n// */\n\n\npublic class MainActivity extends Activity {\n    private static final String TAG = &quot;MyActivity&quot;;\n    private InterstitialAd mInterstitialAd;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n        });\n        AdRequest adRequest = new AdRequest.Builder().build();\n\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                        Log.i(TAG, &quot;onAdLoaded&quot;);\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        Log.d(TAG, loadAdError.toString());\n                        mInterstitialAd = null;\n                    }\n                });\n    }\n\n\n// */\n    }\n}`\n</code></pre>\n<p>no errors are showing the screen in android studio...just when i try to compile</p>\n"},{"tags":["java","arrays","for-loop","foreach"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1697379072,"post_id":77296788,"comment_id":136269860,"body_markdown":"Does this answer your question? [In detail, how does the &#39;for each&#39; loop work in Java?](https://stackoverflow.com/questions/85190/in-detail-how-does-the-for-each-loop-work-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/85190/in-detail-how-does-the-for-each-loop-work-in-java\">In detail, how does the &#39;for each&#39; loop work in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697375406,"creation_date":1697375406,"answer_id":77296806,"question_id":77296788,"body_markdown":"The `for-each` loop iterates the **values** in the array, not the indices.\r\n\r\n    for(int index : intArr) {\r\n        System.out.println(intArr[index]);\r\n    }\r\n\r\nshould be\r\n\r\n    for(int value : intArr) {\r\n        System.out.println(value);\r\n    }\r\n\r\n","title":"Why does giving my array values with increments of 2 also affect indices in a later for each loop?","body":"<p>The <code>for-each</code> loop iterates the <strong>values</strong> in the array, not the indices.</p>\n<pre><code>for(int index : intArr) {\n    System.out.println(intArr[index]);\n}\n</code></pre>\n<p>should be</p>\n<pre><code>for(int value : intArr) {\n    System.out.println(value);\n}\n</code></pre>\n"}],"owner":{"account_id":17510828,"reputation":1,"user_id":12698962,"display_name":"tsarac"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1697389587,"answer_count":1,"score":-3,"last_activity_date":1697375406,"creation_date":1697375167,"question_id":77296788,"body_markdown":"When i want to add values to my array with a for loop, whatever multiplier the values hold, will also multiply the indices later in the for each loop to print them.\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] intArr = new int[10];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; intArr.length; index++) {\r\n\t\t\tintArr[index] = index;\r\n\t\t}\r\n\t\tfor(int index : intArr) {\r\n\t\t\tSystem.out.println(intArr[index]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nout:\r\n\r\n0\r\n1\r\n2\r\n.\r\n.\r\n9\r\n```\r\nHere it&#39;s working as intended since 1 * 1 = 1. But if i want to add values to my array with increments of 2 for example it will print out the indices with increments of two also.\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] intArr = new int[10];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; intArr.length; index++) {\r\n\t\t\tintArr[index] = index * 2;\r\n\t\t}\r\n\t\tfor(int index : intArr) {\r\n\t\t\tSystem.out.println(intArr[index]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nout:\r\n0 (0 * 2 = 0)\r\n4 (2 * 2)\r\n8 (4)\r\n12(6)\r\n16(8)\r\n```\r\nAnd then i get an index out of bounds exception since there isn&#39;t a 10th index. Same will happen with 3 (0,9,27) and higher also. If i write it with a regular for loop instead of a for each, all works well. Why?\r\n\r\n\r\nI would expect the index numbers to be independent from the values they hold.","title":"Why does giving my array values with increments of 2 also affect indices in a later for each loop?","body":"<p>When i want to add values to my array with a for loop, whatever multiplier the values hold, will also multiply the indices later in the for each loop to print them.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int[] intArr = new int[10];\n        \n        for(int index = 0; index &lt; intArr.length; index++) {\n            intArr[index] = index;\n        }\n        for(int index : intArr) {\n            System.out.println(intArr[index]);\n        }\n    }\n}\n\nout:\n\n0\n1\n2\n.\n.\n9\n</code></pre>\n<p>Here it's working as intended since 1 * 1 = 1. But if i want to add values to my array with increments of 2 for example it will print out the indices with increments of two also.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        int[] intArr = new int[10];\n        \n        for(int index = 0; index &lt; intArr.length; index++) {\n            intArr[index] = index * 2;\n        }\n        for(int index : intArr) {\n            System.out.println(intArr[index]);\n        }\n    }\n}\n\nout:\n0 (0 * 2 = 0)\n4 (2 * 2)\n8 (4)\n12(6)\n16(8)\n</code></pre>\n<p>And then i get an index out of bounds exception since there isn't a 10th index. Same will happen with 3 (0,9,27) and higher also. If i write it with a regular for loop instead of a for each, all works well. Why?</p>\n<p>I would expect the index numbers to be independent from the values they hold.</p>\n"},{"tags":["java","cryptography","certificate","bouncycastle","x509"],"answers":[{"comments":[{"owner":{"account_id":2155780,"reputation":10642,"user_id":1911064,"accept_rate":70,"display_name":"Axel Kemper"},"score":1,"creation_date":1429971854,"post_id":29853068,"comment_id":47857621,"body_markdown":"Depending on the intended purpose of the certificate, you might want to add further extensions (using addExtension as shown in the answer). The current March 2015 version of Bouncycastle for Java is 1.52","body":"Depending on the intended purpose of the certificate, you might want to add further extensions (using addExtension as shown in the answer). The current March 2015 version of Bouncycastle for Java is 1.52"},{"owner":{"account_id":1729031,"reputation":7249,"user_id":1583052,"accept_rate":86,"display_name":"Dipu"},"score":1,"creation_date":1532040260,"post_id":29853068,"comment_id":89836174,"body_markdown":"Can you convert this code to SSCCE? I am unable to find the dependencies you used","body":"Can you convert this code to SSCCE? I am unable to find the dependencies you used"},{"owner":{"account_id":3250317,"reputation":1601,"user_id":3385618,"display_name":"Bewusstsein"},"score":1,"creation_date":1532074182,"post_id":29853068,"comment_id":89845799,"body_markdown":"@Dipu Done, I&#39;ve just tested it and it works for me.","body":"@Dipu Done, I&#39;ve just tested it and it works for me."}],"tags":[],"owner":{"account_id":3250317,"reputation":1601,"user_id":3385618,"display_name":"Bewusstsein"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1532074700,"creation_date":1429893948,"answer_id":29853068,"question_id":29852290,"body_markdown":"**BEWARE: This answer uses an old version of the library with [11 CVEs][1].**\r\n\r\nHere&#39;s what i&#39;m using (with BouncyCastle v1.38):\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.SignatureException;\r\n    import java.util.Date;\r\n    \r\n    import javax.security.auth.x500.X500Principal;\r\n    \r\n    import java.security.cert.CertificateEncodingException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import org.bouncycastle.asn1.x509.ExtendedKeyUsage;\r\n    import org.bouncycastle.asn1.x509.KeyPurposeId;\r\n    import org.bouncycastle.asn1.x509.X509Extensions;\r\n    import org.bouncycastle.asn1.x509.X509Name;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.x509.X509V3CertificateGenerator;\r\n    \r\n    public class BouncyCastle {\r\n    \t\r\n    \tpublic static void main(String[] args) throws CertificateEncodingException, InvalidKeyException, IllegalStateException, NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\r\n    \t\tX509Certificate selfSignedX509Certificate = new BouncyCastle().generateSelfSignedX509Certificate();\r\n    \t\tSystem.out.println(selfSignedX509Certificate);\r\n    \t}\r\n    \r\n    \tpublic X509Certificate generateSelfSignedX509Certificate() throws CertificateEncodingException, InvalidKeyException, IllegalStateException,\r\n    \t\t\tNoSuchProviderException, NoSuchAlgorithmException, SignatureException {\r\n    \t\taddBouncyCastleAsSecurityProvider();\r\n    \r\n    \t\t// generate a key pair\r\n    \t\tKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;BC&quot;);\r\n    \t\tkeyPairGenerator.initialize(4096, new SecureRandom());\r\n    \t\tKeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n    \r\n    \t\t// build a certificate generator\r\n    \t\tX509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\r\n    \t\tX500Principal dnName = new X500Principal(&quot;cn=example&quot;);\r\n    \r\n    \t\t// add some options\r\n    \t\tcertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n    \t\tcertGen.setSubjectDN(new X509Name(&quot;dc=name&quot;));\r\n    \t\tcertGen.setIssuerDN(dnName); // use the same\r\n    \t\t// yesterday\r\n    \t\tcertGen.setNotBefore(new Date(System.currentTimeMillis() - 24 * 60 * 60 * 1000));\r\n    \t\t// in 2 years\r\n    \t\tcertGen.setNotAfter(new Date(System.currentTimeMillis() + 2 * 365 * 24 * 60 * 60 * 1000));\r\n    \t\tcertGen.setPublicKey(keyPair.getPublic());\r\n    \t\tcertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n    \t\tcertGen.addExtension(X509Extensions.ExtendedKeyUsage, true,\r\n    \t\t\t\tnew ExtendedKeyUsage(KeyPurposeId.id_kp_timeStamping));\r\n    \r\n    \t\t// finally, sign the certificate with the private key of the same KeyPair\r\n    \t\tX509Certificate cert = certGen.generate(keyPair.getPrivate(), &quot;BC&quot;);\r\n    \t\treturn cert;\r\n    \t}\r\n    \t\r\n    \tpublic void addBouncyCastleAsSecurityProvider() {\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t}\r\n    }\r\n\r\n\r\nFor `certGen.generate(keyPair.getPrivate(), &quot;BC&quot;);` to work, BouncyCastle has to be added as a Security Provider.\r\n\r\nI confirmed that it works with this maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n        &lt;version&gt;1.38&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://nvd.nist.gov/vuln/search/results?adv_search=true&amp;cves=on&amp;cpe_version=cpe%3A%2Fa%3Abouncycastle%3Alegion-of-the-bouncy-castle-java-crytography-api%3A1.38","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p><strong>BEWARE: This answer uses an old version of the library with <a href=\"https://nvd.nist.gov/vuln/search/results?adv_search=true&amp;cves=on&amp;cpe_version=cpe%3A%2Fa%3Abouncycastle%3Alegion-of-the-bouncy-castle-java-crytography-api%3A1.38\" rel=\"nofollow noreferrer\">11 CVEs</a>.</strong></p>\n\n<p>Here's what i'm using (with BouncyCastle v1.38):</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.InvalidKeyException;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.SignatureException;\nimport java.util.Date;\n\nimport javax.security.auth.x500.X500Principal;\n\nimport java.security.cert.CertificateEncodingException;\nimport java.security.cert.X509Certificate;\n\nimport org.bouncycastle.asn1.x509.ExtendedKeyUsage;\nimport org.bouncycastle.asn1.x509.KeyPurposeId;\nimport org.bouncycastle.asn1.x509.X509Extensions;\nimport org.bouncycastle.asn1.x509.X509Name;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.x509.X509V3CertificateGenerator;\n\npublic class BouncyCastle {\n\n    public static void main(String[] args) throws CertificateEncodingException, InvalidKeyException, IllegalStateException, NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\n        X509Certificate selfSignedX509Certificate = new BouncyCastle().generateSelfSignedX509Certificate();\n        System.out.println(selfSignedX509Certificate);\n    }\n\n    public X509Certificate generateSelfSignedX509Certificate() throws CertificateEncodingException, InvalidKeyException, IllegalStateException,\n            NoSuchProviderException, NoSuchAlgorithmException, SignatureException {\n        addBouncyCastleAsSecurityProvider();\n\n        // generate a key pair\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\", \"BC\");\n        keyPairGenerator.initialize(4096, new SecureRandom());\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n        // build a certificate generator\n        X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\n        X500Principal dnName = new X500Principal(\"cn=example\");\n\n        // add some options\n        certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n        certGen.setSubjectDN(new X509Name(\"dc=name\"));\n        certGen.setIssuerDN(dnName); // use the same\n        // yesterday\n        certGen.setNotBefore(new Date(System.currentTimeMillis() - 24 * 60 * 60 * 1000));\n        // in 2 years\n        certGen.setNotAfter(new Date(System.currentTimeMillis() + 2 * 365 * 24 * 60 * 60 * 1000));\n        certGen.setPublicKey(keyPair.getPublic());\n        certGen.setSignatureAlgorithm(\"SHA256WithRSAEncryption\");\n        certGen.addExtension(X509Extensions.ExtendedKeyUsage, true,\n                new ExtendedKeyUsage(KeyPurposeId.id_kp_timeStamping));\n\n        // finally, sign the certificate with the private key of the same KeyPair\n        X509Certificate cert = certGen.generate(keyPair.getPrivate(), \"BC\");\n        return cert;\n    }\n\n    public void addBouncyCastleAsSecurityProvider() {\n        Security.addProvider(new BouncyCastleProvider());\n    }\n}\n</code></pre>\n\n<p>For <code>certGen.generate(keyPair.getPrivate(), \"BC\");</code> to work, BouncyCastle has to be added as a Security Provider.</p>\n\n<p>I confirmed that it works with this maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n    &lt;version&gt;1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1494772595,"post_id":43918337,"comment_id":74960144,"body_markdown":"Learning experience: use `SubjectPublicKeyInfo subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.getPublic().getEncoded());` or your X.509 certificate won&#39;t be compatible with Java keystore. The issue is that the key generation algorithm of the public key is different from the signature algorithm itself. Funny enough, trying `AlgorithmIdentifier algorithmIdentifier = new AlgorithmIdentifier(PKCSObjectIdentifiers.rsaEncryption, DERNull.INSTANCE)` directly failed.","body":"Learning experience: use <code>SubjectPublicKeyInfo subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.getPublic().getEnco&zwnj;&#8203;ded());</code> or your X.509 certificate won&#39;t be compatible with Java keystore. The issue is that the key generation algorithm of the public key is different from the signature algorithm itself. Funny enough, trying <code>AlgorithmIdentifier algorithmIdentifier = new AlgorithmIdentifier(PKCSObjectIdentifiers.rsaEncryption, DERNull.INSTANCE)</code> directly failed."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1494775524,"post_id":43918337,"comment_id":74961152,"body_markdown":"Reused your code [here](http://stackoverflow.com/a/43965528/589259). Note that it fails with your original code. Nevertheless, thanks for making sure I did not have to figure this out from base myself. Requested upvotes for this answer, hoping you&#39;ll get some more rep for it.","body":"Reused your code <a href=\"http://stackoverflow.com/a/43965528/589259\">here</a>. Note that it fails with your original code. Nevertheless, thanks for making sure I did not have to figure this out from base myself. Requested upvotes for this answer, hoping you&#39;ll get some more rep for it."},{"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"score":1,"creation_date":1494796267,"post_id":43918337,"comment_id":74967584,"body_markdown":"@Bodewes Your are right, I didn&#39;t test it by storing in the keystore. Thanks for testing it out. The corrected code should now work with Java Keystore. You could use the corrected code in your other answer.","body":"@Bodewes Your are right, I didn&#39;t test it by storing in the keystore. Thanks for testing it out. The corrected code should now work with Java Keystore. You could use the corrected code in your other answer."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1697269213,"post_id":43918337,"comment_id":136261130,"body_markdown":"Aren&#39;t there any constants avaliable for those ASN1 ID&#39;s? (like &quot;2.5.29.19&quot;)","body":"Aren&#39;t there any constants avaliable for those ASN1 ID&#39;s? (like &quot;2.5.29.19&quot;)"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1697282812,"post_id":43918337,"comment_id":136262096,"body_markdown":"ok, I found that here: org.bouncycastle.asn1.x509.Extension.basicConstraints","body":"ok, I found that here: org.bouncycastle.asn1.x509.Extension.basicConstraints"}],"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1594392623,"creation_date":1494512968,"answer_id":43918337,"question_id":29852290,"body_markdown":"## Using Bouncycastle latest version - &lt;s&gt;1.55&lt;/s&gt; 1.66 ##\r\n\r\nUpdate to the answer by @Bewusstsein. The bouncycastle classes are deprecated in the latest version as of this answer (5/11/2017). If you are using version 1.55 or later:\r\n\r\n    public static Certificate selfSign(KeyPair keyPair, String subjectDN) throws OperatorCreationException, CertificateException, IOException\r\n\t{\r\n\t\tProvider bcProvider = new BouncyCastleProvider();\r\n\t\tSecurity.addProvider(bcProvider);\r\n\r\n\t\tlong now = System.currentTimeMillis();\r\n\t\tDate startDate = new Date(now);\r\n\r\n\t\tX500Name dnName = new X500Name(subjectDN);\r\n\t\tBigInteger certSerialNumber = new BigInteger(Long.toString(now)); // &lt;-- Using the current timestamp as the certificate serial number\r\n\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(startDate);\r\n\t\tcalendar.add(Calendar.YEAR, 1); // &lt;-- 1 Yr validity\r\n\r\n\t\tDate endDate = calendar.getTime();\r\n\r\n\t\tString signatureAlgorithm = &quot;SHA256WithRSA&quot;; // &lt;-- Use appropriate signature algorithm based on your keyPair algorithm.\r\n\r\n\t\tContentSigner contentSigner = new JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\r\n\r\n\t\tJcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(dnName, certSerialNumber, startDate, endDate, dnName, keyPair.getPublic());\r\n\r\n        // Extensions --------------------------\r\n\r\n\t\t// Basic Constraints\r\n\t\tBasicConstraints basicConstraints = new BasicConstraints(true); // &lt;-- true for CA, false for EndEntity\r\n\r\n\t\tcertBuilder.addExtension(new ASN1ObjectIdentifier(&quot;2.5.29.19&quot;), true, basicConstraints); // Basic Constraints is usually marked as critical.\r\n\r\n\t\t// -------------------------------------\r\n\r\n\t\treturn new JcaX509CertificateConverter().setProvider(bcProvider).getCertificate(certBuilder.build(contentSigner));\r\n\t}","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<h2>Using Bouncycastle latest version - <s>1.55</s> 1.66</h2>\n<p>Update to the answer by @Bewusstsein. The bouncycastle classes are deprecated in the latest version as of this answer (5/11/2017). If you are using version 1.55 or later:</p>\n<pre><code>public static Certificate selfSign(KeyPair keyPair, String subjectDN) throws OperatorCreationException, CertificateException, IOException\n{\n    Provider bcProvider = new BouncyCastleProvider();\n    Security.addProvider(bcProvider);\n\n    long now = System.currentTimeMillis();\n    Date startDate = new Date(now);\n\n    X500Name dnName = new X500Name(subjectDN);\n    BigInteger certSerialNumber = new BigInteger(Long.toString(now)); // &lt;-- Using the current timestamp as the certificate serial number\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(startDate);\n    calendar.add(Calendar.YEAR, 1); // &lt;-- 1 Yr validity\n\n    Date endDate = calendar.getTime();\n\n    String signatureAlgorithm = &quot;SHA256WithRSA&quot;; // &lt;-- Use appropriate signature algorithm based on your keyPair algorithm.\n\n    ContentSigner contentSigner = new JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\n\n    JcaX509v3CertificateBuilder certBuilder = new JcaX509v3CertificateBuilder(dnName, certSerialNumber, startDate, endDate, dnName, keyPair.getPublic());\n\n    // Extensions --------------------------\n\n    // Basic Constraints\n    BasicConstraints basicConstraints = new BasicConstraints(true); // &lt;-- true for CA, false for EndEntity\n\n    certBuilder.addExtension(new ASN1ObjectIdentifier(&quot;2.5.29.19&quot;), true, basicConstraints); // Basic Constraints is usually marked as critical.\n\n    // -------------------------------------\n\n    return new JcaX509CertificateConverter().setProvider(bcProvider).getCertificate(certBuilder.build(contentSigner));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251813,"reputation":1963,"user_id":529442,"display_name":"Eugene Gr. Philippov"},"score":0,"creation_date":1508402580,"post_id":44981616,"comment_id":80599266,"body_markdown":"It works! I had to replace `&quot;EC&quot;` with `&quot;RSA&quot;` with `keypairGen.initialize(512, random);` and `&quot;SHA256withECDSA&quot;` with `&quot;SHA256withRSA&quot;` however.","body":"It works! I had to replace <code>&quot;EC&quot;</code> with <code>&quot;RSA&quot;</code> with <code>keypairGen.initialize(512, random);</code> and <code>&quot;SHA256withECDSA&quot;</code> with <code>&quot;SHA256withRSA&quot;</code> however."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":10,"creation_date":1521237809,"post_id":44981616,"comment_id":85662329,"body_markdown":"@EvgeniyPhilippov Please do **not** post insecure parameters (RSA requires a key size of 2048 bits or more) without warning.","body":"@EvgeniyPhilippov Please do <b>not</b> post insecure parameters (RSA requires a key size of 2048 bits or more) without warning."}],"tags":[],"owner":{"account_id":2248456,"reputation":3409,"user_id":1981276,"accept_rate":75,"display_name":"Robert Važan"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499478016,"creation_date":1499476842,"answer_id":44981616,"question_id":29852290,"body_markdown":"Here&#39;s a complete self-signed ECDSA certificate generator that creates certificates usable in TLS connections on both client and server side. It was tested with BouncyCastle 1.57. Similar code can be used to create RSA certificates.\r\n\r\n    SecureRandom random = new SecureRandom();\r\n\r\n    // create keypair\r\n    KeyPairGenerator keypairGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    keypairGen.initialize(256, random);\r\n    KeyPair keypair = keypairGen.generateKeyPair();\r\n\r\n    // fill in certificate fields\r\n    X500Name subject = new X500NameBuilder(BCStyle.INSTANCE)\r\n        .addRDN(BCStyle.CN, &quot;stackoverflow.com&quot;)\r\n        .build();\r\n    byte[] id = new byte[20];\r\n    random.nextBytes(id);\r\n    BigInteger serial = new BigInteger(160, random);\r\n    X509v3CertificateBuilder certificate = new JcaX509v3CertificateBuilder(\r\n        subject,\r\n        serial,\r\n        Date.from(LocalDate.of(2000, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\r\n        Date.from(LocalDate.of(2035, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\r\n        subject,\r\n        keypair.getPublic());\r\n    certificate.addExtension(Extension.subjectKeyIdentifier, false, id);\r\n    certificate.addExtension(Extension.authorityKeyIdentifier, false, id);\r\n    BasicConstraints constraints = new BasicConstraints(true);\r\n    certificate.addExtension(\r\n        Extension.basicConstraints,\r\n        true,\r\n        constraints.getEncoded());\r\n    KeyUsage usage = new KeyUsage(KeyUsage.keyCertSign | KeyUsage.digitalSignature);\r\n    certificate.addExtension(Extension.keyUsage, false, usage.getEncoded());\r\n    ExtendedKeyUsage usageEx = new ExtendedKeyUsage(new KeyPurposeId[] {\r\n        KeyPurposeId.id_kp_serverAuth,\r\n        KeyPurposeId.id_kp_clientAuth\r\n    });\r\n    certificate.addExtension(\r\n        Extension.extendedKeyUsage,\r\n        false,\r\n        usageEx.getEncoded());\r\n\r\n    // build BouncyCastle certificate\r\n    ContentSigner signer = new JcaContentSignerBuilder(&quot;SHA256withECDSA&quot;)\r\n        .build(keypair.getPrivate());\r\n    X509CertificateHolder holder = certificate.build(signer);\r\n\r\n    // convert to JRE certificate\r\n    JcaX509CertificateConverter converter = new JcaX509CertificateConverter();\r\n    converter.setProvider(new BouncyCastleProvider());\r\n    X509Certificate x509 = converter.getCertificate(holder);\r\n\r\n    // serialize in DER format\r\n    byte[] serialized = x509.getEncoded();\r\n","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>Here's a complete self-signed ECDSA certificate generator that creates certificates usable in TLS connections on both client and server side. It was tested with BouncyCastle 1.57. Similar code can be used to create RSA certificates.</p>\n\n<pre><code>SecureRandom random = new SecureRandom();\n\n// create keypair\nKeyPairGenerator keypairGen = KeyPairGenerator.getInstance(\"EC\");\nkeypairGen.initialize(256, random);\nKeyPair keypair = keypairGen.generateKeyPair();\n\n// fill in certificate fields\nX500Name subject = new X500NameBuilder(BCStyle.INSTANCE)\n    .addRDN(BCStyle.CN, \"stackoverflow.com\")\n    .build();\nbyte[] id = new byte[20];\nrandom.nextBytes(id);\nBigInteger serial = new BigInteger(160, random);\nX509v3CertificateBuilder certificate = new JcaX509v3CertificateBuilder(\n    subject,\n    serial,\n    Date.from(LocalDate.of(2000, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\n    Date.from(LocalDate.of(2035, 1, 1).atStartOfDay(ZoneOffset.UTC).toInstant()),\n    subject,\n    keypair.getPublic());\ncertificate.addExtension(Extension.subjectKeyIdentifier, false, id);\ncertificate.addExtension(Extension.authorityKeyIdentifier, false, id);\nBasicConstraints constraints = new BasicConstraints(true);\ncertificate.addExtension(\n    Extension.basicConstraints,\n    true,\n    constraints.getEncoded());\nKeyUsage usage = new KeyUsage(KeyUsage.keyCertSign | KeyUsage.digitalSignature);\ncertificate.addExtension(Extension.keyUsage, false, usage.getEncoded());\nExtendedKeyUsage usageEx = new ExtendedKeyUsage(new KeyPurposeId[] {\n    KeyPurposeId.id_kp_serverAuth,\n    KeyPurposeId.id_kp_clientAuth\n});\ncertificate.addExtension(\n    Extension.extendedKeyUsage,\n    false,\n    usageEx.getEncoded());\n\n// build BouncyCastle certificate\nContentSigner signer = new JcaContentSignerBuilder(\"SHA256withECDSA\")\n    .build(keypair.getPrivate());\nX509CertificateHolder holder = certificate.build(signer);\n\n// convert to JRE certificate\nJcaX509CertificateConverter converter = new JcaX509CertificateConverter();\nconverter.setProvider(new BouncyCastleProvider());\nX509Certificate x509 = converter.getCertificate(holder);\n\n// serialize in DER format\nbyte[] serialized = x509.getEncoded();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2552681,"reputation":2752,"user_id":2216148,"accept_rate":100,"display_name":"Rodney"},"score":0,"creation_date":1548581522,"post_id":53714021,"comment_id":95585684,"body_markdown":"I just noticed that I downvoted - I don&#39;t know how that occurred it must have been a mis-click. I can&#39;t undo this unless the question gets edited - maybe you could edit it with say, a comment to say where you sourced that code from - then I can undo my downvote. Sorry about this, never happened before!","body":"I just noticed that I downvoted - I don&#39;t know how that occurred it must have been a mis-click. I can&#39;t undo this unless the question gets edited - maybe you could edit it with say, a comment to say where you sourced that code from - then I can undo my downvote. Sorry about this, never happened before!"},{"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"score":0,"creation_date":1548670019,"post_id":53714021,"comment_id":95609844,"body_markdown":"@Rodney No problem, thank you for the answer, I edit it","body":"@Rodney No problem, thank you for the answer, I edit it"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1654799358,"post_id":53714021,"comment_id":128184576,"body_markdown":"Sadly this is nonconforming. Most (X500)Name attributes can be any text up to certain size limits, but id-at-countryName (2.5.4.6) must be a two-letter country _code_ from ISO 3166, which except some special cases goes by United Nations membership. See appendix A to rfc5280 at page 115 -- or more directly rfc4519 2.2 and rfc4517 3.3.4. Although a lot of software -- including Bouncy -- doesn&#39;t check/enforce this.","body":"Sadly this is nonconforming. Most (X500)Name attributes can be any text up to certain size limits, but id-at-countryName (2.5.4.6) must be a two-letter country <i>code</i> from ISO 3166, which except some special cases goes by United Nations membership. See appendix A to rfc5280 at page 115 -- or more directly rfc4519 2.2 and rfc4517 3.3.4. Although a lot of software -- including Bouncy -- doesn&#39;t check/enforce this."}],"tags":[],"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548670073,"creation_date":1544477835,"answer_id":53714021,"question_id":29852290,"body_markdown":"This is the code used from BouncyCastle it self to generate X.509 Certificates.\r\nYou will need [this][1] and [this][2] library from BC to use it.\r\nFor further details on how to use it, maybe take a look at [this][3] question (Main class).\r\n\r\n        public class BCCertGen {\r\n        public static String _country = &quot;Westeros&quot;,\r\n                             _organisation = &quot;Targaryen&quot;,\r\n                             _location = &quot;Valyria&quot;,\r\n                             _state = &quot;Essos&quot;,\r\n                             _issuer = &quot;Some Trusted CA&quot;;\r\n    \r\n        public BCCertGen(String country, String organisation, String location, String state, String issuer){\r\n            _country = country;\r\n            _organisation = organisation;\r\n            _location = location;\r\n            _state = state;\r\n            _issuer = issuer;\r\n        }\r\n        public static X509Certificate generate(PrivateKey privKey, PublicKey pubKey, int duration, String signAlg, boolean isSelfSigned) throws Exception{\r\n            Provider BC = new BouncyCastleProvider();\r\n    \r\n            // distinguished name table.\r\n            X500NameBuilder builder = createStdBuilder();\r\n    \r\n            // create the certificate\r\n            ContentSigner sigGen = new JcaContentSignerBuilder(signAlg).build(privKey);\r\n            X509v3CertificateBuilder certGen = new JcaX509v3CertificateBuilder(\r\n                    new X500Name(&quot;cn=&quot;+_issuer),    //Issuer\r\n                    BigInteger.valueOf(1),      //Serial\r\n                    new Date(System.currentTimeMillis() - 50000),   //Valid from\r\n                    new Date((long)(System.currentTimeMillis() + duration*8.65*Math.pow(10,7))),    //Valid to\r\n                    builder.build(),    //Subject\r\n                    pubKey              //Publickey to be associated with the certificate\r\n            );\r\n    \r\n            X509Certificate cert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(certGen.build(sigGen));\r\n    \r\n            cert.checkValidity(new Date());\r\n    \r\n            if (isSelfSigned) {\r\n                // check verifies in general\r\n                cert.verify(pubKey);\r\n                // check verifies with contained key\r\n                cert.verify(cert.getPublicKey());\r\n            }\r\n    \r\n            ByteArrayInputStream bIn = new ByteArrayInputStream(cert.getEncoded());\r\n            CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;, BC);\r\n    \r\n            return (X509Certificate) fact.generateCertificate(bIn);\r\n        }\r\n    \r\n        private static X500NameBuilder createStdBuilder() {\r\n            X500NameBuilder builder = new X500NameBuilder(RFC4519Style.INSTANCE);\r\n    \r\n            builder.addRDN(RFC4519Style.c, _country);\r\n            builder.addRDN(RFC4519Style.o, _organisation);\r\n            builder.addRDN(RFC4519Style.l, _location);\r\n            builder.addRDN(RFC4519Style.st, _state);\r\n    \r\n            return builder;\r\n        }\r\n    }\r\n\r\nEDIT: I can&#39;t remember from which BC test I took it exactly, but here is something similar [https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java][4]\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/download/bcprov-jdk15on-160.jar\r\n  [2]: https://www.bouncycastle.org/download/bcpkix-jdk15on-160.jar\r\n  [3]: https://stackoverflow.com/questions/53706991/bouncy-castle-pqc-xmss-signing-nullpointerexception-after-retrieving-secretkey\r\n  [4]: https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>This is the code used from BouncyCastle it self to generate X.509 Certificates.\nYou will need <a href=\"https://www.bouncycastle.org/download/bcprov-jdk15on-160.jar\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.bouncycastle.org/download/bcpkix-jdk15on-160.jar\" rel=\"nofollow noreferrer\">this</a> library from BC to use it.\nFor further details on how to use it, maybe take a look at <a href=\"https://stackoverflow.com/questions/53706991/bouncy-castle-pqc-xmss-signing-nullpointerexception-after-retrieving-secretkey\">this</a> question (Main class).</p>\n\n<pre><code>    public class BCCertGen {\n    public static String _country = \"Westeros\",\n                         _organisation = \"Targaryen\",\n                         _location = \"Valyria\",\n                         _state = \"Essos\",\n                         _issuer = \"Some Trusted CA\";\n\n    public BCCertGen(String country, String organisation, String location, String state, String issuer){\n        _country = country;\n        _organisation = organisation;\n        _location = location;\n        _state = state;\n        _issuer = issuer;\n    }\n    public static X509Certificate generate(PrivateKey privKey, PublicKey pubKey, int duration, String signAlg, boolean isSelfSigned) throws Exception{\n        Provider BC = new BouncyCastleProvider();\n\n        // distinguished name table.\n        X500NameBuilder builder = createStdBuilder();\n\n        // create the certificate\n        ContentSigner sigGen = new JcaContentSignerBuilder(signAlg).build(privKey);\n        X509v3CertificateBuilder certGen = new JcaX509v3CertificateBuilder(\n                new X500Name(\"cn=\"+_issuer),    //Issuer\n                BigInteger.valueOf(1),      //Serial\n                new Date(System.currentTimeMillis() - 50000),   //Valid from\n                new Date((long)(System.currentTimeMillis() + duration*8.65*Math.pow(10,7))),    //Valid to\n                builder.build(),    //Subject\n                pubKey              //Publickey to be associated with the certificate\n        );\n\n        X509Certificate cert = new JcaX509CertificateConverter().setProvider(BC).getCertificate(certGen.build(sigGen));\n\n        cert.checkValidity(new Date());\n\n        if (isSelfSigned) {\n            // check verifies in general\n            cert.verify(pubKey);\n            // check verifies with contained key\n            cert.verify(cert.getPublicKey());\n        }\n\n        ByteArrayInputStream bIn = new ByteArrayInputStream(cert.getEncoded());\n        CertificateFactory fact = CertificateFactory.getInstance(\"X.509\", BC);\n\n        return (X509Certificate) fact.generateCertificate(bIn);\n    }\n\n    private static X500NameBuilder createStdBuilder() {\n        X500NameBuilder builder = new X500NameBuilder(RFC4519Style.INSTANCE);\n\n        builder.addRDN(RFC4519Style.c, _country);\n        builder.addRDN(RFC4519Style.o, _organisation);\n        builder.addRDN(RFC4519Style.l, _location);\n        builder.addRDN(RFC4519Style.st, _state);\n\n        return builder;\n    }\n}\n</code></pre>\n\n<p>EDIT: I can't remember from which BC test I took it exactly, but here is something similar <a href=\"https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/blob/master/prov/src/test/java/org/bouncycastle/pqc/jcajce/provider/test/KeyStoreTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697375361,"creation_date":1697288785,"answer_id":77292916,"question_id":29852290,"body_markdown":"## Using Bouncycastle version 1.76 (July 2023) ##\r\n\r\nHere&#39;s an update for the latest BC Version.&lt;br&gt;\r\nThis code was tested with JDK 17.&lt;br&gt;\r\nAlso, where possible, I&#39;ve tried to use available constants, rather than Strings.\r\n\r\n    package uk.co.bc;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.KeyStore;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.Provider;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.cert.X509Certificate;\r\n    import java.time.Instant;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    import java.util.HexFormat;\r\n    \r\n    import org.bouncycastle.asn1.ASN1InputStream;\r\n    import org.bouncycastle.asn1.ASN1Sequence;\r\n    import org.bouncycastle.asn1.DERUTF8String;\r\n    import org.bouncycastle.asn1.x500.AttributeTypeAndValue;\r\n    import org.bouncycastle.asn1.x500.RDN;\r\n    import org.bouncycastle.asn1.x500.X500Name;\r\n    import org.bouncycastle.asn1.x500.style.BCStyle;\r\n    import org.bouncycastle.asn1.x509.BasicConstraints;\r\n    import org.bouncycastle.asn1.x509.Extension;\r\n    import org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\n    import org.bouncycastle.cert.X509v3CertificateBuilder;\r\n    import org.bouncycastle.cert.bc.BcX509ExtensionUtils;\r\n    import org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\r\n    \r\n    public class GenerateSelfSigned {\r\n    \r\n    \tprivate static final Provider      BC_PROVIDER = new BouncyCastleProvider();\r\n    \tprivate static final SecureRandom  PRNG        = new SecureRandom();\r\n    \r\n    \tpublic  static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tSecurity.insertProviderAt(BC_PROVIDER, 1);\r\n    \r\n    \t\tfinal var keyPair     = getKeyPair(&quot;RSA&quot;, 4096);\r\n    \r\n    \t\tfinal var x500subject = getSubject();\r\n    \t\tfinal var x509Cert    = getSelfSignedCert(keyPair, x500subject, Validity.ofYears(100), &quot;SHA256WithRSA&quot;);\r\n    \t\t/*\r\n    \t\t * Load Certificate into freshly created Keystore...\r\n    \t\t */\r\n    \t\tfinal var pwChars     = &quot;password&quot;.toCharArray();\r\n    \t\tfinal var keyStore    = getKeyStore(&quot;PKCS12&quot;, keyPair, pwChars, &quot;alias&quot;, x509Cert);\r\n    \t\t/*\r\n    \t\t * Write Certificate &amp; Keystore to disk...\r\n    \t\t */\r\n    \t\tfinal var fileName    = &quot;self.signed.x509_&quot; + HexFormat.of().toHexDigits(System.currentTimeMillis());\r\n    \r\n    \t\tFiles.write   (Path.of(             fileName +&quot;.cer&quot;), x509Cert.getEncoded());\r\n    \r\n    \t\tkeyStore.store(new FileOutputStream(fileName +&quot;.p12&quot;), pwChars);\r\n    \t}\r\n    \r\n    \tprivate static KeyStore getKeyStore(final String keyStoreType, final KeyPair keyPair, final char[] pwChars, final String alias, final X509Certificate x509Cert) throws Exception {\r\n    \r\n    \t\tfinal var keyStore = KeyStore.getInstance(keyStoreType);\r\n    \t\t;         keyStore.load(null, pwChars);\r\n    \t\t;         keyStore.setKeyEntry(alias, keyPair.getPrivate(), pwChars, new X509Certificate[] {x509Cert});\r\n    \r\n    \t\treturn    keyStore;\r\n    \t}\r\n    \r\n    \tprivate static KeyPair getKeyPair(final String algorithm, final int keysize) throws NoSuchAlgorithmException {\r\n    \r\n    \t\tfinal var keyPairGenerator = KeyPairGenerator.getInstance(algorithm, BC_PROVIDER);\r\n    \t\t;         keyPairGenerator.initialize(keysize, PRNG);\r\n    \r\n    \t\treturn    keyPairGenerator.generateKeyPair();\r\n    \t}\r\n    \r\n    \tprivate static  X500Name getSubject() {\r\n    \r\n    \t\treturn  new X500Name(new RDN[] {new RDN (\r\n    \t\t\t\tnew AttributeTypeAndValue[] {\r\n    \r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.CN, new DERUTF8String(&quot;Common Name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.OU, new DERUTF8String(&quot;Organisational Unit name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.O,  new DERUTF8String(&quot;Organisation&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.L,  new DERUTF8String(&quot;Locality name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.ST, new DERUTF8String(&quot;State or Province name&quot;)),\r\n    \t\t\t\tnew AttributeTypeAndValue(BCStyle.C,  new DERUTF8String(&quot;uk&quot;))\r\n    \t\t}) });\r\n    \t}\r\n    \r\n    \tprivate static X509Certificate getSelfSignedCert(final KeyPair keyPair, final X500Name subject, final Validity validity, final String signatureAlgorithm) throws Exception {\r\n    \r\n    \t\tfinal var sn               = new BigInteger(Long.SIZE, PRNG);\r\n    \r\n    \t\tfinal var issuer           = subject;\r\n    \r\n    \t\tfinal var keyPublic        = keyPair  .getPublic();\r\n    \t\tfinal var keyPublicEncoded = keyPublic.getEncoded();\r\n    \t\tfinal var keyPublicInfo    = SubjectPublicKeyInfo.getInstance(keyPublicEncoded);\r\n    \t\t/*\r\n    \t\t * First, some fiendish trickery to generate the Subject (Public-) Key Identifier...\r\n    \t\t */\r\n    \t\ttry(final var ist = new ByteArrayInputStream(keyPublicEncoded);\r\n    \t\t\tfinal var ais = new      ASN1InputStream(ist))\r\n    \t\t{\r\n    \t\t\tfinal var asn1Sequence         = (ASN1Sequence) ais.readObject();\r\n    \r\n    \t\t\tfinal var subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(asn1Sequence);\r\n    \t\t\tfinal var subjectPublicKeyId   = new BcX509ExtensionUtils().createSubjectKeyIdentifier(subjectPublicKeyInfo);\r\n    \r\n    \t\t\t/*\r\n    \t\t\t * Now build the Certificate, add some Extensions &amp; sign it with our own Private Key...\r\n    \t\t\t */\r\n    \t\t\tfinal var certBuilder          = new X509v3CertificateBuilder(issuer, sn, validity.notBefore, validity.notAfter, subject, keyPublicInfo);\r\n    \t\t\tfinal var contentSigner        = new  JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\r\n    \t\t\t/*\r\n    \t\t\t * BasicConstraints instantiated with &quot;CA=true&quot;\r\n    \t\t\t * The BasicConstraints Extension is usually marked &quot;critical=true&quot;\r\n    \t\t\t * \r\n    \t\t\t * The Subject Key Identifier extension identifies the public key certified by this certificate.\r\n    \t\t\t * This extension provides a way of distinguishing public keys if more than one is available for\r\n    \t\t\t * a given subject name.\r\n    \t\t\t */\r\n    \t\t\tfinal var certHolder           = certBuilder\r\n    \t\t\t\t\t.addExtension(Extension.basicConstraints,     true,  new BasicConstraints(true))\r\n    \t\t\t\t\t.addExtension(Extension.subjectKeyIdentifier, false, subjectPublicKeyId)\r\n    \t\t\t\t\t.build(contentSigner);\r\n    \r\n    \t\t\treturn new JcaX509CertificateConverter().setProvider(BC_PROVIDER).getCertificate(certHolder);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static final record Validity(Date notBefore, Date notAfter) {\r\n    \r\n    \t\tprivate static Validity ofYears(final int count) {\r\n    \r\n    \t\t\tfinal var zdtNotBefore = ZonedDateTime.now();\r\n    \t\t\tfinal var zdtNotAfter  = zdtNotBefore.plusYears(count);\r\n    \r\n    \t\t\treturn              of(zdtNotBefore.toInstant(), zdtNotAfter.toInstant());\r\n    \t\t}\r\n    \t\tprivate static Validity of(final Instant notBefore,  final Instant notAfter) {\r\n    \t\t\treturn new Validity   (Date.from    (notBefore), Date.from    (notAfter));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<h2>Using Bouncycastle version 1.76 (July 2023)</h2>\n<p>Here's an update for the latest BC Version.<br>\nThis code was tested with JDK 17.<br>\nAlso, where possible, I've tried to use available constants, rather than Strings.</p>\n<pre><code>package uk.co.bc;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.FileOutputStream;\nimport java.math.BigInteger;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.Provider;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.cert.X509Certificate;\nimport java.time.Instant;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\nimport java.util.HexFormat;\n\nimport org.bouncycastle.asn1.ASN1InputStream;\nimport org.bouncycastle.asn1.ASN1Sequence;\nimport org.bouncycastle.asn1.DERUTF8String;\nimport org.bouncycastle.asn1.x500.AttributeTypeAndValue;\nimport org.bouncycastle.asn1.x500.RDN;\nimport org.bouncycastle.asn1.x500.X500Name;\nimport org.bouncycastle.asn1.x500.style.BCStyle;\nimport org.bouncycastle.asn1.x509.BasicConstraints;\nimport org.bouncycastle.asn1.x509.Extension;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.cert.X509v3CertificateBuilder;\nimport org.bouncycastle.cert.bc.BcX509ExtensionUtils;\nimport org.bouncycastle.cert.jcajce.JcaX509CertificateConverter;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\n\npublic class GenerateSelfSigned {\n\n    private static final Provider      BC_PROVIDER = new BouncyCastleProvider();\n    private static final SecureRandom  PRNG        = new SecureRandom();\n\n    public  static void main(final String[] args) throws Exception {\n\n        Security.insertProviderAt(BC_PROVIDER, 1);\n\n        final var keyPair     = getKeyPair(&quot;RSA&quot;, 4096);\n\n        final var x500subject = getSubject();\n        final var x509Cert    = getSelfSignedCert(keyPair, x500subject, Validity.ofYears(100), &quot;SHA256WithRSA&quot;);\n        /*\n         * Load Certificate into freshly created Keystore...\n         */\n        final var pwChars     = &quot;password&quot;.toCharArray();\n        final var keyStore    = getKeyStore(&quot;PKCS12&quot;, keyPair, pwChars, &quot;alias&quot;, x509Cert);\n        /*\n         * Write Certificate &amp; Keystore to disk...\n         */\n        final var fileName    = &quot;self.signed.x509_&quot; + HexFormat.of().toHexDigits(System.currentTimeMillis());\n\n        Files.write   (Path.of(             fileName +&quot;.cer&quot;), x509Cert.getEncoded());\n\n        keyStore.store(new FileOutputStream(fileName +&quot;.p12&quot;), pwChars);\n    }\n\n    private static KeyStore getKeyStore(final String keyStoreType, final KeyPair keyPair, final char[] pwChars, final String alias, final X509Certificate x509Cert) throws Exception {\n\n        final var keyStore = KeyStore.getInstance(keyStoreType);\n        ;         keyStore.load(null, pwChars);\n        ;         keyStore.setKeyEntry(alias, keyPair.getPrivate(), pwChars, new X509Certificate[] {x509Cert});\n\n        return    keyStore;\n    }\n\n    private static KeyPair getKeyPair(final String algorithm, final int keysize) throws NoSuchAlgorithmException {\n\n        final var keyPairGenerator = KeyPairGenerator.getInstance(algorithm, BC_PROVIDER);\n        ;         keyPairGenerator.initialize(keysize, PRNG);\n\n        return    keyPairGenerator.generateKeyPair();\n    }\n\n    private static  X500Name getSubject() {\n\n        return  new X500Name(new RDN[] {new RDN (\n                new AttributeTypeAndValue[] {\n\n                new AttributeTypeAndValue(BCStyle.CN, new DERUTF8String(&quot;Common Name&quot;)),\n                new AttributeTypeAndValue(BCStyle.OU, new DERUTF8String(&quot;Organisational Unit name&quot;)),\n                new AttributeTypeAndValue(BCStyle.O,  new DERUTF8String(&quot;Organisation&quot;)),\n                new AttributeTypeAndValue(BCStyle.L,  new DERUTF8String(&quot;Locality name&quot;)),\n                new AttributeTypeAndValue(BCStyle.ST, new DERUTF8String(&quot;State or Province name&quot;)),\n                new AttributeTypeAndValue(BCStyle.C,  new DERUTF8String(&quot;uk&quot;))\n        }) });\n    }\n\n    private static X509Certificate getSelfSignedCert(final KeyPair keyPair, final X500Name subject, final Validity validity, final String signatureAlgorithm) throws Exception {\n\n        final var sn               = new BigInteger(Long.SIZE, PRNG);\n\n        final var issuer           = subject;\n\n        final var keyPublic        = keyPair  .getPublic();\n        final var keyPublicEncoded = keyPublic.getEncoded();\n        final var keyPublicInfo    = SubjectPublicKeyInfo.getInstance(keyPublicEncoded);\n        /*\n         * First, some fiendish trickery to generate the Subject (Public-) Key Identifier...\n         */\n        try(final var ist = new ByteArrayInputStream(keyPublicEncoded);\n            final var ais = new      ASN1InputStream(ist))\n        {\n            final var asn1Sequence         = (ASN1Sequence) ais.readObject();\n\n            final var subjectPublicKeyInfo = SubjectPublicKeyInfo.getInstance(asn1Sequence);\n            final var subjectPublicKeyId   = new BcX509ExtensionUtils().createSubjectKeyIdentifier(subjectPublicKeyInfo);\n\n            /*\n             * Now build the Certificate, add some Extensions &amp; sign it with our own Private Key...\n             */\n            final var certBuilder          = new X509v3CertificateBuilder(issuer, sn, validity.notBefore, validity.notAfter, subject, keyPublicInfo);\n            final var contentSigner        = new  JcaContentSignerBuilder(signatureAlgorithm).build(keyPair.getPrivate());\n            /*\n             * BasicConstraints instantiated with &quot;CA=true&quot;\n             * The BasicConstraints Extension is usually marked &quot;critical=true&quot;\n             * \n             * The Subject Key Identifier extension identifies the public key certified by this certificate.\n             * This extension provides a way of distinguishing public keys if more than one is available for\n             * a given subject name.\n             */\n            final var certHolder           = certBuilder\n                    .addExtension(Extension.basicConstraints,     true,  new BasicConstraints(true))\n                    .addExtension(Extension.subjectKeyIdentifier, false, subjectPublicKeyId)\n                    .build(contentSigner);\n\n            return new JcaX509CertificateConverter().setProvider(BC_PROVIDER).getCertificate(certHolder);\n        }\n    }\n\n    private static final record Validity(Date notBefore, Date notAfter) {\n\n        private static Validity ofYears(final int count) {\n\n            final var zdtNotBefore = ZonedDateTime.now();\n            final var zdtNotAfter  = zdtNotBefore.plusYears(count);\n\n            return              of(zdtNotBefore.toInstant(), zdtNotAfter.toInstant());\n        }\n        private static Validity of(final Instant notBefore,  final Instant notAfter) {\n            return new Validity   (Date.from    (notBefore), Date.from    (notAfter));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6198868,"reputation":349,"user_id":4829379,"accept_rate":29,"display_name":"paola91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39420,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1697375361,"creation_date":1429891449,"question_id":29852290,"body_markdown":"I need to create a self signed X509 Certificate with Bouncy Castle in Java, but every class I try to include is deprecated. \r\nHow can I solve this? Is there some other class to include? \r\nThanks","title":"Self signed X509 Certificate with Bouncy Castle in Java","body":"<p>I need to create a self signed X509 Certificate with Bouncy Castle in Java, but every class I try to include is deprecated. \nHow can I solve this? Is there some other class to include? \nThanks</p>\n"},{"tags":["java","spring","query-by-example"],"answers":[{"tags":[],"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697374447,"creation_date":1697374447,"answer_id":77296734,"question_id":77294285,"body_markdown":"It turns out the issue was that there was a method that was returning a default coverYear value of 0 when no coverDate was provided.\r\n\r\nRemoving that method (it was missed since we&#39;re using Lombok annotations on fields, so that getter method wasn&#39;t overlooked) fixed the problem.","title":"JPA Query By Example Sets Where Clause On Null&#39;d Value","body":"<p>It turns out the issue was that there was a method that was returning a default coverYear value of 0 when no coverDate was provided.</p>\n<p>Removing that method (it was missed since we're using Lombok annotations on fields, so that getter method wasn't overlooked) fixed the problem.</p>\n"}],"owner":{"account_id":176410,"reputation":322,"user_id":407088,"accept_rate":75,"display_name":"mcpierce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697374447,"creation_date":1697313348,"question_id":77294285,"body_markdown":"For my F/OSS project I&#39;m trying to add a way of loading a single table page worth of data at a time to avoid spending a lot of time loading records. So I settled on JPA Query by Example. And it works for the project.\r\n\r\nThat is, until I added checking for month and year values.\r\n\r\nMy data type is (abbreviated):\r\n```\r\npublic class ComicDetail {\r\n  @Column(name = &quot;CoverDate&quot;, nullable = true)\r\n  private Date coverDate;\r\n\r\n  @Formula(&quot;(YEAR(CoverDate))&quot;)\r\n  private Integer yearPublisheds;\r\n\r\n  @Formula(&quot;(MONTH(CoverDate))&quot;\r\n  private Integer monthPublished;\r\n}\r\n```\r\n\r\nI then setup my Example object by setting the coverDate, yearPublished, and monthPublished fields to null and only adding them to the matcher when a value is provided:\r\n\r\n```\r\nfinal ComicDetail detail = new ComicDetail();\r\ndetail.setCoverDate(null);\r\ndetail.setYearPublished(null);\r\ndetail.setMonthPublished(null);\r\n\r\nExampleMatcher matcher = ExampleMatch.matching();\r\n\r\nif (coverYear != null) {\r\n  log.debug(&quot;Setting cover year filter: {}&quot;, coverYear);\r\n  detail.setYearPublished(coverYear);\r\n  matcher = matcher.withMatcher(&quot;coverYear&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\r\n}\r\n\r\nif (coverMonth != null) {\r\n  log.debug(&quot;Setting cover month filter: {}&quot;, coverMonth);\r\n  detail.setMonthPublished(coverMonth);\r\n  matcher = matcher.withMatcher(&quot;coverMonth&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\r\n}\r\n\r\n\r\nthis.comicDetailRepository.findAll(Example.of(detail, matcher));\r\n```\r\n\r\nEven when no coverYear or coverMonth value is provided when setting up the example, though, every query generated has the following condition in it:\r\n\r\n```\r\nSELECT comicdetai0_.id                   AS id1_2_,\r\n ...\r\nFROM   comicdetails comicdetai0_\r\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\r\n\r\n```\r\n\r\nThe only way I can get it to work is to comment out the ```yearPublished``` field from the ```ComicDetail``` class. But I don&#39;t have to do the same thing with the ```monthPublished``` field; i.e., that one only shows up when it&#39;s explicitly provided and a matcher is defined. And then it&#39;s always the value specified, i.e.:\r\n\r\n```\r\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\r\n       AND ( Month(comicdetai0_.coverdate) ) = 3\r\n```\r\n\r\nAny idea on why the one field is always being included in the where clause?","title":"JPA Query By Example Sets Where Clause On Null&#39;d Value","body":"<p>For my F/OSS project I'm trying to add a way of loading a single table page worth of data at a time to avoid spending a lot of time loading records. So I settled on JPA Query by Example. And it works for the project.</p>\n<p>That is, until I added checking for month and year values.</p>\n<p>My data type is (abbreviated):</p>\n<pre><code>public class ComicDetail {\n  @Column(name = &quot;CoverDate&quot;, nullable = true)\n  private Date coverDate;\n\n  @Formula(&quot;(YEAR(CoverDate))&quot;)\n  private Integer yearPublisheds;\n\n  @Formula(&quot;(MONTH(CoverDate))&quot;\n  private Integer monthPublished;\n}\n</code></pre>\n<p>I then setup my Example object by setting the coverDate, yearPublished, and monthPublished fields to null and only adding them to the matcher when a value is provided:</p>\n<pre><code>final ComicDetail detail = new ComicDetail();\ndetail.setCoverDate(null);\ndetail.setYearPublished(null);\ndetail.setMonthPublished(null);\n\nExampleMatcher matcher = ExampleMatch.matching();\n\nif (coverYear != null) {\n  log.debug(&quot;Setting cover year filter: {}&quot;, coverYear);\n  detail.setYearPublished(coverYear);\n  matcher = matcher.withMatcher(&quot;coverYear&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\n}\n\nif (coverMonth != null) {\n  log.debug(&quot;Setting cover month filter: {}&quot;, coverMonth);\n  detail.setMonthPublished(coverMonth);\n  matcher = matcher.withMatcher(&quot;coverMonth&quot;, ExampleMatcher.GenericPropertyMatchers.exact());\n}\n\n\nthis.comicDetailRepository.findAll(Example.of(detail, matcher));\n</code></pre>\n<p>Even when no coverYear or coverMonth value is provided when setting up the example, though, every query generated has the following condition in it:</p>\n<pre><code>SELECT comicdetai0_.id                   AS id1_2_,\n ...\nFROM   comicdetails comicdetai0_\nWHERE  ( Year(comicdetai0_.coverdate) ) = 0\n\n</code></pre>\n<p>The only way I can get it to work is to comment out the <code>yearPublished</code> field from the <code>ComicDetail</code> class. But I don't have to do the same thing with the <code>monthPublished</code> field; i.e., that one only shows up when it's explicitly provided and a matcher is defined. And then it's always the value specified, i.e.:</p>\n<pre><code>WHERE  ( Year(comicdetai0_.coverdate) ) = 0\n       AND ( Month(comicdetai0_.coverdate) ) = 3\n</code></pre>\n<p>Any idea on why the one field is always being included in the where clause?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1697374718,"post_id":77295511,"comment_id":136269366,"body_markdown":"the code presented in Spring Security In Action is deprecated, and he is building hiw own authorization server. That is not how you do it, today spring has their own authorization server projekt and this is what should be used instead. The book is 3 years old, lots of things happen in 3 years.","body":"the code presented in Spring Security In Action is deprecated, and he is building hiw own authorization server. That is not how you do it, today spring has their own authorization server projekt and this is what should be used instead. The book is 3 years old, lots of things happen in 3 years."},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697375633,"post_id":77295511,"comment_id":136269471,"body_markdown":"Thanks a lot for your comment. Could you please introduce an up-to-date source for studying and solving such problems?","body":"Thanks a lot for your comment. Could you please introduce an up-to-date source for studying and solving such problems?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1697389537,"post_id":77295511,"comment_id":136271056,"body_markdown":"can i ask why havnt you tried reading the official documentation before asking?","body":"can i ask why havnt you tried reading the official documentation before asking?"},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697424098,"post_id":77295511,"comment_id":136273767,"body_markdown":"Thank you for your response. As I mentioned in my question, I have read the deprecation note and related documents. However, I was unable to figure out how to implement my custom scenario. That&#39;s why I decided to ask a question.","body":"Thank you for your response. As I mentioned in my question, I have read the deprecation note and related documents. However, I was unable to figure out how to implement my custom scenario. That&#39;s why I decided to ask a question."},{"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"score":0,"creation_date":1697430737,"post_id":77295511,"comment_id":136274205,"body_markdown":"@Toerktumlare I have just seen the article you wrote about spring boot + JWT, and I wish I had seen it before asking my question. However, the main advantage of asking the question was that I got to know you and I am very happy about this acquaintance.","body":"@Toerktumlare I have just seen the article you wrote about spring boot + JWT, and I wish I had seen it before asking my question. However, the main advantage of asking the question was that I got to know you and I am very happy about this acquaintance."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697374270,"creation_date":1697374270,"answer_id":77296726,"question_id":77295511,"body_markdown":"    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.authenticationProvider(otpAuthenticationProvider)\r\n            .authenticationProvider(usernamePasswordAuthenticationProvider)\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n            return http.build();\r\n        }\r\n    \r\n    }","title":"Registering multiple AuthenticationProviders regarding WebSecurityConfigurerAdapter deprecation","body":"<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authenticationProvider(otpAuthenticationProvider)\n        .authenticationProvider(usernamePasswordAuthenticationProvider)\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":485077,"reputation":537,"user_id":901161,"display_name":"Ali Shirvani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697374270,"creation_date":1697351042,"question_id":77295511,"body_markdown":"I want to register multiple `AuthenticationProvider`s in a Spring Boot security config class, like in the following snippet borrowed from [this repository][1]:\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(otpAuthenticationProvider)\r\n            .authenticationProvider(usernamePasswordAuthenticationProvider);\r\n    }\r\n\r\nHowever, I could not find the correct solution from the Spring Boot [deprecation note][2]. Do you know how to register multiple `AuthenticationProvider`s without using `WebSecurityConfigurerAdapter`?\r\n\r\n\r\n  [1]: https://github.com/havinhphu188/spring-security-in-action-source/blob/98a34b30c44c48ddc3ce66bb0f3f932543ff29a7/ssia-ch11-ex1-s2/src/main/java/com/laurentiuspilca/ssia/config/SecurityConfig.java#L32\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Registering multiple AuthenticationProviders regarding WebSecurityConfigurerAdapter deprecation","body":"<p>I want to register multiple <code>AuthenticationProvider</code>s in a Spring Boot security config class, like in the following snippet borrowed from <a href=\"https://github.com/havinhphu188/spring-security-in-action-source/blob/98a34b30c44c48ddc3ce66bb0f3f932543ff29a7/ssia-ch11-ex1-s2/src/main/java/com/laurentiuspilca/ssia/config/SecurityConfig.java#L32\" rel=\"nofollow noreferrer\">this repository</a>:</p>\n<pre><code>@Override\nprotected void configure(AuthenticationManagerBuilder auth) {\n    auth.authenticationProvider(otpAuthenticationProvider)\n        .authenticationProvider(usernamePasswordAuthenticationProvider);\n}\n</code></pre>\n<p>However, I could not find the correct solution from the Spring Boot <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">deprecation note</a>. Do you know how to register multiple <code>AuthenticationProvider</code>s without using <code>WebSecurityConfigurerAdapter</code>?</p>\n"},{"tags":["java","zip","inputstream","minio"],"answers":[{"tags":[],"owner":{"account_id":23752346,"reputation":11,"user_id":17768928,"display_name":"Amir Rahimpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680829348,"creation_date":1680275885,"answer_id":75900163,"question_id":75100873,"body_markdown":"I had same problem in C#, this is how I managed to solve:\r\nIf you go to the MinIO dashboard, you would be able to download the folder as a zipped file:\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nNow if you inspect the browser request, it is something like this:\r\n\r\n    curl &#39;*MINIO_URL*/api/v1/buckets/*BUCKET_NAME*/objects/download?prefix=*PREFIX*&#39;\\\r\n      -H &#39;Accept: */*&#39; \\\r\n      -H &#39;Accept-Language: en-US,en;q=0.9,fa;q=0.8&#39; \\\r\n      -H &#39;Connection: keep-alive&#39; \\\r\n      -H &#39;Cookie: token=*TOKEN*&#39; \\\r\n      -H &#39;Referer: MINIO_URL/browser/BUCKET_NAME&#39; \\\r\n      -H &#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) \r\n    AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36&#39; \\\r\n      --compressed \\\r\n      --insecure\r\n\r\nWhere you should replace `MINIO_URL` &amp; `BUCKET_NAME` with values of your own, now the `TOKEN` value is something you get from dashboard login.\r\nthe `PREFIX` value is the base64 conversion of the folder path inside minio&lt;br&gt;\r\n&lt;br&gt;\r\nThis is the code &amp; hope it helps:\r\n\r\n    public async Task&lt;byte[]&gt; DownloadZippedFolder(string filePath)\r\n        {\r\n            var httpContent = new StringContent(\r\n                content: JsonConvert.SerializeObject(\r\n                    new \r\n                    {\r\n                        accessKey = _minIOSetting.DashboardUserName, \r\n                        secretKey = _minIOSetting.DashboardPassword\r\n                    }\r\n                ), \r\n                encoding: Encoding.UTF8, \r\n                mediaType: &quot;application/json&quot;\r\n            );\r\n            try\r\n            {\r\n                var loginResponse = await _httpClient.PostAsync($&quot;{_minIOSetting.LoginUrl}/api/v1/login&quot;, httpContent);\r\n\r\n                string prefix = Convert.ToBase64String(Encoding.UTF8.GetBytes(filePath));\r\n\r\n                loginResponse.Headers.TryGetValues(&quot;Set-Cookie&quot;, out var setCookie);\r\n\r\n                _httpClient.DefaultRequestHeaders.Add(&quot;Cookie&quot;, setCookie.First());\r\n                string url = _minIOSetting.LoginUrl\r\n                    + &quot;/api/v1/buckets/&quot;\r\n                    + _minIOSetting.BucketName\r\n                    + &quot;/objects/download?prefix=&quot;\r\n                    + prefix;\r\n                var dlreq = await _httpClient.GetAsync(url);\r\n                var contentStream = await dlreq.Content.ReadAsStreamAsync();\r\n\r\n                var memStream = new MemoryStream();\r\n                await contentStream.CopyToAsync(memStream);\r\n\r\n                var bs = memStream.ToArray();\r\n                return bs;\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                Console.WriteLine($&quot;min IO error, DownloadZippedFolder: {ex.Message}&quot;);\r\n                return null;\r\n            }   \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c6Cgu.png\r\n  [2]: https://i.stack.imgur.com/qaEWY.png","title":"How to download the folder from minio as zip file?","body":"<p>I had same problem in C#, this is how I managed to solve:\nIf you go to the MinIO dashboard, you would be able to download the folder as a zipped file:\n<a href=\"https://i.stack.imgur.com/c6Cgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c6Cgu.png\" alt=\"enter image description here\" /></a>\n<br>\n<br>\nNow if you inspect the browser request, it is something like this:</p>\n<pre><code>curl '*MINIO_URL*/api/v1/buckets/*BUCKET_NAME*/objects/download?prefix=*PREFIX*'\\\n  -H 'Accept: */*' \\\n  -H 'Accept-Language: en-US,en;q=0.9,fa;q=0.8' \\\n  -H 'Connection: keep-alive' \\\n  -H 'Cookie: token=*TOKEN*' \\\n  -H 'Referer: MINIO_URL/browser/BUCKET_NAME' \\\n  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) \nAppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36' \\\n  --compressed \\\n  --insecure\n</code></pre>\n<p>Where you should replace <code>MINIO_URL</code> &amp; <code>BUCKET_NAME</code> with values of your own, now the <code>TOKEN</code> value is something you get from dashboard login.\nthe <code>PREFIX</code> value is the base64 conversion of the folder path inside minio<br>\n<br>\nThis is the code &amp; hope it helps:</p>\n<pre><code>public async Task&lt;byte[]&gt; DownloadZippedFolder(string filePath)\n    {\n        var httpContent = new StringContent(\n            content: JsonConvert.SerializeObject(\n                new \n                {\n                    accessKey = _minIOSetting.DashboardUserName, \n                    secretKey = _minIOSetting.DashboardPassword\n                }\n            ), \n            encoding: Encoding.UTF8, \n            mediaType: &quot;application/json&quot;\n        );\n        try\n        {\n            var loginResponse = await _httpClient.PostAsync($&quot;{_minIOSetting.LoginUrl}/api/v1/login&quot;, httpContent);\n\n            string prefix = Convert.ToBase64String(Encoding.UTF8.GetBytes(filePath));\n\n            loginResponse.Headers.TryGetValues(&quot;Set-Cookie&quot;, out var setCookie);\n\n            _httpClient.DefaultRequestHeaders.Add(&quot;Cookie&quot;, setCookie.First());\n            string url = _minIOSetting.LoginUrl\n                + &quot;/api/v1/buckets/&quot;\n                + _minIOSetting.BucketName\n                + &quot;/objects/download?prefix=&quot;\n                + prefix;\n            var dlreq = await _httpClient.GetAsync(url);\n            var contentStream = await dlreq.Content.ReadAsStreamAsync();\n\n            var memStream = new MemoryStream();\n            await contentStream.CopyToAsync(memStream);\n\n            var bs = memStream.ToArray();\n            return bs;\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine($&quot;min IO error, DownloadZippedFolder: {ex.Message}&quot;);\n            return null;\n        }   \n    }\n</code></pre>\n"}],"owner":{"account_id":23492374,"reputation":29,"user_id":17543251,"display_name":"Ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697373827,"creation_date":1673548463,"question_id":75100873,"body_markdown":"The steps I followed are.\r\n\r\n1) get all objects from recursive objects\r\n\r\n```\r\nIterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(ListObjectsArgs.builder()\r\n    .bucket(bucketName).recursive(true).build());\r\n\r\n``` \r\n\r\n2) Then getting all streams of matching the prefix\r\n```\r\n InputStream stream = minioClient.getObject(GetObjectArgs.builder()\r\n.bucket(bucketName).object(objectName).build());\r\n\r\n```\r\n\r\nthe list of multiple stream got by the InputStream stream How do we convert it into zip file ?\r\n\r\ntried the following code but it&#39;s (zipOut) coming as null.\r\ndownloading empty zip, How do we fix this ?\r\n```\r\nByteArrayOutputStream fos = new ByteArrayOutputStream();\r\nZipOutputStream zipOut = new ZipOutputStream(fos);\r\nZipEntry zipEntry1 = new ZipEntry(objectName);\r\nzipEntry1.setSize(resource.contentLength());\r\nzipEntry1.setTime(System.currentTimeMillis());\r\nzipOut.putNextEntry(zipEntry1);\r\nStreamUtils.copy(stream.readAllBytes(), zipOut);\r\nzipOut.closeEntry();\r\n\r\n```\r\n\r\nThanks in advance.\r\n ","title":"How to download the folder from minio as zip file?","body":"<p>The steps I followed are.</p>\n<ol>\n<li>get all objects from recursive objects</li>\n</ol>\n<pre><code>Iterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(ListObjectsArgs.builder()\n    .bucket(bucketName).recursive(true).build());\n\n</code></pre>\n<ol start=\"2\">\n<li>Then getting all streams of matching the prefix</li>\n</ol>\n<pre><code> InputStream stream = minioClient.getObject(GetObjectArgs.builder()\n.bucket(bucketName).object(objectName).build());\n\n</code></pre>\n<p>the list of multiple stream got by the InputStream stream How do we convert it into zip file ?</p>\n<p>tried the following code but it's (zipOut) coming as null.\ndownloading empty zip, How do we fix this ?</p>\n<pre><code>ByteArrayOutputStream fos = new ByteArrayOutputStream();\nZipOutputStream zipOut = new ZipOutputStream(fos);\nZipEntry zipEntry1 = new ZipEntry(objectName);\nzipEntry1.setSize(resource.contentLength());\nzipEntry1.setTime(System.currentTimeMillis());\nzipOut.putNextEntry(zipEntry1);\nStreamUtils.copy(stream.readAllBytes(), zipOut);\nzipOut.closeEntry();\n\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1628873993,"post_id":68775301,"comment_id":121546029,"body_markdown":"Aside: `map.merge(d, 1, Integer::sum);` is a neater way to build the map of counts.","body":"Aside: <code>map.merge(d, 1, Integer::sum);</code> is a neater way to build the map of counts."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1628874259,"post_id":68775301,"comment_id":121546128,"body_markdown":"(and `map.getOrDefault(c, 0)&gt;=n` is a neater filter function at the end. Or just `get`, `c` will always be in the map).","body":"(and <code>map.getOrDefault(c, 0)&gt;=n</code> is a neater filter function at the end. Or just <code>get</code>, <code>c</code> will always be in the map)."},{"owner":{"account_id":6181814,"reputation":305,"user_id":4817053,"accept_rate":100,"display_name":"DrBrad"},"score":1,"creation_date":1628883316,"post_id":68775301,"comment_id":121548829,"body_markdown":"Your code did run fine for me though.","body":"Your code did run fine for me though."}],"answers":[{"tags":[],"owner":{"account_id":6181814,"reputation":305,"user_id":4817053,"accept_rate":100,"display_name":"DrBrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628875252,"creation_date":1628875252,"answer_id":68776169,"question_id":68775301,"body_markdown":"This is how I got it to work, you have to work backwards with the array. You need to create another array to check for duplicates to remember them.\r\n\r\n    \r\n    public static int[] solution(int[] data, int n){\r\n        if(n &lt; 1){\r\n            return new int[0];\r\n        }\r\n\r\n        if(data.length &lt; 1){\r\n            return data;\r\n        }\r\n\r\n        List&lt;Integer&gt; a = Arrays.stream(data).boxed().collect(Collectors.toList());\r\n\r\n        for(int i = a.size()-1; i &gt; -1; i--){\r\n            ArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\r\n\r\n            for(int j = 0; j &lt; a.size(); j++){\r\n                if(a.get(j) == a.get(i)){\r\n                    t.add(j);\r\n                }\r\n            }\r\n\r\n\r\n            if(t.size() &gt; n){\r\n                for(int j = t.size()-1; j &gt; -1; j--){\r\n                    a.remove((int) t.get(j));\r\n                }\r\n\r\n                i -= t.size()-1;\r\n            }\r\n        }\r\n\r\n        data = new int[a.size()];\r\n        int c = 0;\r\n        for(int d : a){\r\n            data[c] = d;\r\n            c++;\r\n        }\r\n\r\n        return data;\r\n    }","title":"Google Foobar challenge Minion Work Assignment Java test cases not passing","body":"<p>This is how I got it to work, you have to work backwards with the array. You need to create another array to check for duplicates to remember them.</p>\n<pre><code>public static int[] solution(int[] data, int n){\n    if(n &lt; 1){\n        return new int[0];\n    }\n\n    if(data.length &lt; 1){\n        return data;\n    }\n\n    List&lt;Integer&gt; a = Arrays.stream(data).boxed().collect(Collectors.toList());\n\n    for(int i = a.size()-1; i &gt; -1; i--){\n        ArrayList&lt;Integer&gt; t = new ArrayList&lt;&gt;();\n\n        for(int j = 0; j &lt; a.size(); j++){\n            if(a.get(j) == a.get(i)){\n                t.add(j);\n            }\n        }\n\n\n        if(t.size() &gt; n){\n            for(int j = t.size()-1; j &gt; -1; j--){\n                a.remove((int) t.get(j));\n            }\n\n            i -= t.size()-1;\n        }\n    }\n\n    data = new int[a.size()];\n    int c = 0;\n    for(int d : a){\n        data[c] = d;\n        c++;\n    }\n\n    return data;\n}\n</code></pre>\n"}],"owner":{"account_id":10969645,"reputation":17,"user_id":8060366,"display_name":"Ankit S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1074,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1697373813,"creation_date":1628870292,"question_id":68775301,"body_markdown":"I have tried solving this problem using Java and for some reason only 2 out of 9 test cases pass but locally all my test cases pass. I am 99% positive that there is some issue with Google Foobar Java test cases for this challenge. **Did someone encounter this and if yes, what did you do to solve it?**\r\n\r\nQuestion was...\r\n```\r\nWrite a function called solution(data, n) that takes in a list of \r\nless than 100 integers and a number n, and returns that same list \r\nbut with all of the numbers that occur more than n times removed \r\nentirely. \r\n\r\nThe returned list should retain the same ordering as the original \r\nlist - you don&#39;t want to mix up those carefully-planned shift \r\nrotations! For instance, if data was [5, 10, 15, 10, 7] and n was 1,\r\nsolution(data, n) would return the list [5, 15, 7] because 10 occurs \r\ntwice, and thus was removed from the list entirely.\r\n\r\n-- Java cases --\r\nInput:\r\nSolution.solution({1, 2, 3}, 0)\r\nOutput:\r\n    \r\n\r\nInput:\r\nSolution.solution({1, 2, 2, 3, 3, 3, 4, 5, 5}, 1)\r\nOutput:\r\n    1,4\r\n\r\nThere are 6 more test cases that are hidden.\r\n```\r\n\r\nBelow is the solution I created.\r\n```\r\npublic class MinionShift {\r\n    public static int[] solution(int[] data, int n) {\r\n        if(n&lt;1)\r\n            return new int[0];\r\n\r\n        if(data.length &lt; 1)\r\n            return data;\r\n\r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\n        for(int d: data) {\r\n                map.put(d, map.getOrDefault(d, 0) + 1);\r\n        }\r\n\r\n        return Arrays.stream(data).filter(c-&gt;map.containsKey(c) &amp;&amp; !(map.get(c)&gt;n)).toArray();\r\n    }\r\n}\r\n```\r\n\r\nTest cases that I have tried...\r\n```\r\n[{1, 2, 3}, 0]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 1]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 10]\r\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, -1]\r\n[{}, 5]\r\n[{1, 1, 1, 1, 1}, 5]\r\n[{101, 102, 103, 104, 105}, 5]\r\n```\r\n\r\n**Edit...**\r\nI tried a Java stream based solution as follows but unfortunately the challenge went away as I submitted a Python solution. But I am posting it here anyways.\r\n```\r\npublic class MinionShift {\r\n    public static int[] solution(int[] data, int n) {\r\n        if(n&lt;1)\r\n            return new int[0];\r\n\r\n        if(data.length &lt; 1)\r\n            return data;\r\n\r\n        return Arrays.stream(data).filter(d-&gt;Arrays.stream(data).filter(i-&gt;i==d).count()&lt;=n).toArray();\r\n    }\r\n}\r\n```","title":"Google Foobar challenge Minion Work Assignment Java test cases not passing","body":"<p>I have tried solving this problem using Java and for some reason only 2 out of 9 test cases pass but locally all my test cases pass. I am 99% positive that there is some issue with Google Foobar Java test cases for this challenge. <strong>Did someone encounter this and if yes, what did you do to solve it?</strong></p>\n<p>Question was...</p>\n<pre><code>Write a function called solution(data, n) that takes in a list of \nless than 100 integers and a number n, and returns that same list \nbut with all of the numbers that occur more than n times removed \nentirely. \n\nThe returned list should retain the same ordering as the original \nlist - you don't want to mix up those carefully-planned shift \nrotations! For instance, if data was [5, 10, 15, 10, 7] and n was 1,\nsolution(data, n) would return the list [5, 15, 7] because 10 occurs \ntwice, and thus was removed from the list entirely.\n\n-- Java cases --\nInput:\nSolution.solution({1, 2, 3}, 0)\nOutput:\n    \n\nInput:\nSolution.solution({1, 2, 2, 3, 3, 3, 4, 5, 5}, 1)\nOutput:\n    1,4\n\nThere are 6 more test cases that are hidden.\n</code></pre>\n<p>Below is the solution I created.</p>\n<pre><code>public class MinionShift {\n    public static int[] solution(int[] data, int n) {\n        if(n&lt;1)\n            return new int[0];\n\n        if(data.length &lt; 1)\n            return data;\n\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n\n        for(int d: data) {\n                map.put(d, map.getOrDefault(d, 0) + 1);\n        }\n\n        return Arrays.stream(data).filter(c-&gt;map.containsKey(c) &amp;&amp; !(map.get(c)&gt;n)).toArray();\n    }\n}\n</code></pre>\n<p>Test cases that I have tried...</p>\n<pre><code>[{1, 2, 3}, 0]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 1]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, 10]\n[{1, 2, 2, 3, 3, 3, 4, 5, 5}, -1]\n[{}, 5]\n[{1, 1, 1, 1, 1}, 5]\n[{101, 102, 103, 104, 105}, 5]\n</code></pre>\n<p><strong>Edit...</strong>\nI tried a Java stream based solution as follows but unfortunately the challenge went away as I submitted a Python solution. But I am posting it here anyways.</p>\n<pre><code>public class MinionShift {\n    public static int[] solution(int[] data, int n) {\n        if(n&lt;1)\n            return new int[0];\n\n        if(data.length &lt; 1)\n            return data;\n\n        return Arrays.stream(data).filter(d-&gt;Arrays.stream(data).filter(i-&gt;i==d).count()&lt;=n).toArray();\n    }\n}\n</code></pre>\n"},{"tags":["java","constants","final"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1457319273,"post_id":2735736,"comment_id":59337733,"body_markdown":"There *is* a `const` keyword, but there is no underlying feature. Corrected your title and tags accordingly.","body":"There <i>is</i> a <code>const</code> keyword, but there is no underlying feature. Corrected your title and tags accordingly."}],"answers":[{"comments":[{"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"score":0,"creation_date":1272594510,"post_id":2735794,"comment_id":2771040,"body_markdown":"@Bozho, you said better behaviour than Const, what way it is? can you share any example","body":"@Bozho, you said better behaviour than Const, what way it is? can you share any example"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1272610630,"post_id":2735794,"comment_id":2771915,"body_markdown":"well, the variable is `static` (not belonging to particular instance) and `final` - cannot be changed.","body":"well, the variable is <code>static</code> (not belonging to particular instance) and <code>final</code> - cannot be changed."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1272530717,"creation_date":1272529747,"answer_id":2735794,"question_id":2735736,"body_markdown":"There would be two ways to define constants - `const` and `static final`, with the exact same semantics. Furthermore `static final` describes the behaviour better than `const`","title":"Why is there no Constant feature in Java?","body":"<p>There would be two ways to define constants - <code>const</code> and <code>static final</code>, with the exact same semantics. Furthermore <code>static final</code> describes the behaviour better than <code>const</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1364572931,"creation_date":1272530067,"answer_id":2735830,"question_id":2735736,"body_markdown":"The C++ semantics of `const` are very different from Java `final`.  If the designers had used `const` it would have been unnecessarily confusing.\r\n\r\nThe fact that `const` is a reserved word suggests that the designers had ideas for implementing `const`, but they have since decided against it; see [this closed bug][1].  The stated reasons include that adding support for C++ style `const` would cause compatibility problems.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070","title":"Why is there no Constant feature in Java?","body":"<p>The C++ semantics of <code>const</code> are very different from Java <code>final</code>.  If the designers had used <code>const</code> it would have been unnecessarily confusing.</p>\n<p>The fact that <code>const</code> is a reserved word suggests that the designers had ideas for implementing <code>const</code>, but they have since decided against it; see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070\" rel=\"nofollow noreferrer\">this closed bug</a>.  The stated reasons include that adding support for C++ style <code>const</code> would cause compatibility problems.</p>\n"},{"comments":[{"owner":{"display_name":"anon"},"score":3,"creation_date":1272530388,"post_id":2735845,"comment_id":2763977,"body_markdown":"const int x = 42; - x is a constant","body":"const int x = 42; - x is a constant"},{"owner":{"account_id":25991,"reputation":7957,"user_id":67316,"accept_rate":65,"display_name":"Andy Johnson"},"score":0,"creation_date":1272531255,"post_id":2735845,"comment_id":2764066,"body_markdown":"@Neil  I think he&#39;s talking about objects","body":"@Neil  I think he&#39;s talking about objects"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1272531454,"post_id":2735845,"comment_id":2764096,"body_markdown":"@andy Works the same for objects.","body":"@andy Works the same for objects."},{"owner":{"account_id":25991,"reputation":7957,"user_id":67316,"accept_rate":65,"display_name":"Andy Johnson"},"score":0,"creation_date":1272536391,"post_id":2735845,"comment_id":2764596,"body_markdown":"@Neil What I meant was: when Pete wrote that const does not mean a value is constant, my understanding was that he was only talking about primitive types. To explain further (and I appreciate that you know this stuff): For a const non-object variable (say an int), the compiler enforces the contract. If I declare it const then it can&#39;t be changed. For a object I have to declare as const any member functions that modify the object&#39;s internal state. If I don&#39;t then its possible to have a const instance of that class that is (internally) mutable. That was my understanding of what he wrote.","body":"@Neil What I meant was: when Pete wrote that const does not mean a value is constant, my understanding was that he was only talking about primitive types. To explain further (and I appreciate that you know this stuff): For a const non-object variable (say an int), the compiler enforces the contract. If I declare it const then it can&#39;t be changed. For a object I have to declare as const any member functions that modify the object&#39;s internal state. If I don&#39;t then its possible to have a const instance of that class that is (internally) mutable. That was my understanding of what he wrote."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":2,"creation_date":1272550306,"post_id":2735845,"comment_id":2766377,"body_markdown":"@Neil If you have one object or variable aliased by both const and non-const pointers, then the value of the const alias can be changed by the non-const alias. Therefore `const` does not mean a value is constant. It means that the client of a value is constrained not to mutate it.\n\nIn your example there is no alias, so all users are under the same constraint. This is not the case in general. `const` effects the clients, not the value - it says you can&#39;t change it, not that it won&#39;t change.","body":"@Neil If you have one object or variable aliased by both const and non-const pointers, then the value of the const alias can be changed by the non-const alias. Therefore <code>const</code> does not mean a value is constant. It means that the client of a value is constrained not to mutate it.  In your example there is no alias, so all users are under the same constraint. This is not the case in general. <code>const</code> effects the clients, not the value - it says you can&#39;t change it, not that it won&#39;t change."},{"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"score":0,"creation_date":1272606701,"post_id":2735845,"comment_id":2771671,"body_markdown":"I was thinking about the objects","body":"I was thinking about the objects"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":1,"creation_date":1361347265,"post_id":2735845,"comment_id":21026814,"body_markdown":"[Const-correctness](http://en.wikipedia.org/wiki/Const-correctness) is about what the programmer **should** do, not what they  **can do**. I think you all seem to have got that point. Just wanted to add a couple of cents that could be of interest to the causal reader: Design patterns like the `immutable interface` and `immutable object` is another way (beatable with cast and reflection) to mimic const in Java. &quot;True&quot; const can be done with [SealedObject](http://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html), alas it destroys the use case of our object.","body":"<a href=\"http://en.wikipedia.org/wiki/Const-correctness\" rel=\"nofollow noreferrer\">Const-correctness</a> is about what the programmer <b>should</b> do, not what they  <b>can do</b>. I think you all seem to have got that point. Just wanted to add a couple of cents that could be of interest to the causal reader: Design patterns like the <code>immutable interface</code> and <code>immutable object</code> is another way (beatable with cast and reflection) to mimic const in Java. &quot;True&quot; const can be done with <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html\" rel=\"nofollow noreferrer\">SealedObject</a>, alas it destroys the use case of our object."},{"owner":{"account_id":45207,"reputation":9494,"user_id":133183,"accept_rate":85,"display_name":"Cygon"},"score":8,"creation_date":1423559766,"post_id":2735845,"comment_id":45187249,"body_markdown":"One should note that the outcome of your program is undefined. const_cast is not there to change const variables, it is there to pass const variables to APIs that are not const correct, but also do not modify the value. I think the habit of thinking that something const won&#39;t change is a good one because if they do change, that means your program contains hacks that might break at any time depending on the compiler used.","body":"One should note that the outcome of your program is undefined. const_cast is not there to change const variables, it is there to pass const variables to APIs that are not const correct, but also do not modify the value. I think the habit of thinking that something const won&#39;t change is a good one because if they do change, that means your program contains hacks that might break at any time depending on the compiler used."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1423589962,"post_id":2735845,"comment_id":45206191,"body_markdown":"@Cygon in the example it shows you can use a hack to create a non-const alias. But not all non-const aliases are hacks, for example passing `c` and `c+1` to `strncpy` will violate any assumption in `strncpy` that the source won&#39;t change .","body":"@Cygon in the example it shows you can use a hack to create a non-const alias. But not all non-const aliases are hacks, for example passing <code>c</code> and <code>c+1</code> to <code>strncpy</code> will violate any assumption in <code>strncpy</code> that the source won&#39;t change ."},{"owner":{"account_id":45207,"reputation":9494,"user_id":133183,"accept_rate":85,"display_name":"Cygon"},"score":0,"creation_date":1423646931,"post_id":2735845,"comment_id":45229231,"body_markdown":"@PeteKirkham Precisely, and because of that passing overlapping memory to `strncpy()` is a hack, too -- it lands you in undefined territory: &quot;The behavior of strncpy is undefined if the strings overlap&quot; (GNU C Library, similar warnings in any other C library). Only `memmove()` is an exception and needs special sauce in the library implementation to protect against aliasing.","body":"@PeteKirkham Precisely, and because of that passing overlapping memory to <code>strncpy()</code> is a hack, too -- it lands you in undefined territory: &quot;The behavior of strncpy is undefined if the strings overlap&quot; (GNU C Library, similar warnings in any other C library). Only <code>memmove()</code> is an exception and needs special sauce in the library implementation to protect against aliasing."},{"owner":{"account_id":1220088,"reputation":312,"user_id":1186886,"display_name":"Zhe Yang"},"score":1,"creation_date":1432112381,"post_id":2735845,"comment_id":48782706,"body_markdown":"Modifying a born-to-constant value is undefined behavior. Your disk may be already formatted.","body":"Modifying a born-to-constant value is undefined behavior. Your disk may be already formatted."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1432118093,"post_id":2735845,"comment_id":48786961,"body_markdown":"@ZheYang it&#39;s an illustration. More realistic issues tends to come up where you have one thread mutating an object which was passed into another as a const reference, and that thread assumes it won&#39;t change, but that  would mean much longer demonstration code.","body":"@ZheYang it&#39;s an illustration. More realistic issues tends to come up where you have one thread mutating an object which was passed into another as a const reference, and that thread assumes it won&#39;t change, but that  would mean much longer demonstration code."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1444676915,"post_id":2735845,"comment_id":53993099,"body_markdown":"@anon is quite **wrong** to claim that `const` works the same for objects and for fundamental integer types. That&#39;s just not true. See [the discussion in this SO question](http://stackoverflow.com/questions/105014/does-the-mutable-keyword-have-any-purpose-other-than-allowing-the-variable-to) for example.","body":"@anon is quite <b>wrong</b> to claim that <code>const</code> works the same for objects and for fundamental integer types. That&#39;s just not true. See <a href=\"http://stackoverflow.com/questions/105014/does-the-mutable-keyword-have-any-purpose-other-than-allowing-the-variable-to\">the discussion in this SO question</a> for example."},{"owner":{"account_id":7769370,"reputation":403,"user_id":5879503,"display_name":"SJL"},"score":3,"creation_date":1493753077,"post_id":2735845,"comment_id":74534343,"body_markdown":"The claim that it `outputs 42 then 7` is wrong; the behavior is undefined. The key is that `x` was **declared** `const` (so, for example, it could be placed in read-only memory). In this example, it would be valid for the compiler to completely ignore the assignment and print 42 twice. If `x` had been declared **without** `const` and been passed as a const-reference to another function, the const_cast would be legal.","body":"The claim that it <code>outputs 42 then 7</code> is wrong; the behavior is undefined. The key is that <code>x</code> was <b>declared</b> <code>const</code> (so, for example, it could be placed in read-only memory). In this example, it would be valid for the compiler to completely ignore the assignment and print 42 twice. If <code>x</code> had been declared <b>without</b> <code>const</code> and been passed as a const-reference to another function, the const_cast would be legal."}],"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"comment_count":14,"down_vote_count":5,"up_vote_count":12,"is_accepted":false,"score":7,"last_activity_date":1272551243,"creation_date":1272530293,"answer_id":2735845,"question_id":2735736,"body_markdown":"`const` in C++ does not mean that a value is a constant.\r\n\r\n`const` in C++ implies that the client of a contract undertakes not to alter its value. \r\n\r\nWhether the value of a `const` expression changes becomes more evident if you are in an environment which supports thread based concurrency.\r\n\r\nAs Java was designed from the start to support thread and lock concurrency, it didn&#39;t add to confusion by overloading the term to have the semantics that `final` has. \r\n\r\neg:\r\n\r\n    #include &lt;iostream&gt;\r\n\r\n    int main ()\r\n    {\r\n        volatile const int x = 42;\r\n        \r\n        std::cout &lt;&lt; x &lt;&lt; std::endl;\r\n        \r\n        *const_cast&lt;int*&gt;(&amp;x) = 7;\r\n        \r\n        std::cout &lt;&lt; x &lt;&lt; std::endl;\r\n        \r\n        return 0;\r\n    }\r\n\r\noutputs 42 then 7.\r\n\r\nAlthough `x` marked as `const`, as a non-const alias is created, `x` is not a constant. Not every compiler requires `volatile` for this behaviour (though every compiler is permitted to inline the constant)\r\n\r\nWith more complicated systems you get const/non-const aliases without use of `const_cast`, so getting into the habit of thinking that const means something won&#39;t change becomes more and more dangerous. `const` merely means that your code can&#39;t change it without a cast, not that the value is constant.","title":"Why is there no Constant feature in Java?","body":"<p><code>const</code> in C++ does not mean that a value is a constant.</p>\n\n<p><code>const</code> in C++ implies that the client of a contract undertakes not to alter its value. </p>\n\n<p>Whether the value of a <code>const</code> expression changes becomes more evident if you are in an environment which supports thread based concurrency.</p>\n\n<p>As Java was designed from the start to support thread and lock concurrency, it didn't add to confusion by overloading the term to have the semantics that <code>final</code> has. </p>\n\n<p>eg:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main ()\n{\n    volatile const int x = 42;\n\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n\n    *const_cast&lt;int*&gt;(&amp;x) = 7;\n\n    std::cout &lt;&lt; x &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>outputs 42 then 7.</p>\n\n<p>Although <code>x</code> marked as <code>const</code>, as a non-const alias is created, <code>x</code> is not a constant. Not every compiler requires <code>volatile</code> for this behaviour (though every compiler is permitted to inline the constant)</p>\n\n<p>With more complicated systems you get const/non-const aliases without use of <code>const_cast</code>, so getting into the habit of thinking that const means something won't change becomes more and more dangerous. <code>const</code> merely means that your code can't change it without a cast, not that the value is constant.</p>\n"},{"comments":[{"owner":{"account_id":9662,"reputation":8462,"user_id":17945,"accept_rate":36,"display_name":"reinierpost"},"score":12,"creation_date":1403266224,"post_id":2735906,"comment_id":37603385,"body_markdown":"Java&#39;s `final` is similar, though.","body":"Java&#39;s <code>final</code> is similar, though."},{"owner":{"account_id":343742,"reputation":7386,"user_id":675646,"accept_rate":96,"display_name":"dom0"},"score":70,"creation_date":1416048770,"post_id":2735906,"comment_id":42432701,"body_markdown":"No it isn&#39;t. `final` method for example work completely different from C++ `const` methods.","body":"No it isn&#39;t. <code>final</code> method for example work completely different from C++ <code>const</code> methods."},{"owner":{"account_id":1901861,"reputation":5601,"user_id":1717562,"accept_rate":75,"display_name":"Tim"},"score":10,"creation_date":1459189367,"post_id":2735906,"comment_id":60164119,"body_markdown":"@reinierpost The `final` keyword *on properties or variables* just ensures that a property or variable is only assigned to **once**. One could still alter the state of this object by, for example, calling some method with side effects. `final` is somewhat similair to stack allocation of C++ in terms of refering to an object rather than a pointer, but that&#39;s all it is. This is ofcourse in addition to what dom0 already said.","body":"@reinierpost The <code>final</code> keyword <i>on properties or variables</i> just ensures that a property or variable is only assigned to <b>once</b>. One could still alter the state of this object by, for example, calling some method with side effects. <code>final</code> is somewhat similair to stack allocation of C++ in terms of refering to an object rather than a pointer, but that&#39;s all it is. This is ofcourse in addition to what dom0 already said."},{"owner":{"account_id":1181543,"reputation":1795,"user_id":1156377,"accept_rate":100,"display_name":"Mark K Cowan"},"score":10,"creation_date":1471519736,"post_id":2735906,"comment_id":65384386,"body_markdown":"`final` in Java seems to work like C++ `const` for value types, but more like a C++ non-const `T&amp;` for reference types","body":"<code>final</code> in Java seems to work like C++ <code>const</code> for value types, but more like a C++ non-const <code>T&amp;</code> for reference types"},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":1,"creation_date":1536711670,"post_id":2735906,"comment_id":91519803,"body_markdown":"final is a schizophrenic keyword. While it prevents reassignment, it&#39;s also used to expose variables to closures. I might want to prevent reassignment but not expose those variables, but there&#39;s no way to do it. It&#39;s a rather poorly thought out language feature in my opinion.","body":"final is a schizophrenic keyword. While it prevents reassignment, it&#39;s also used to expose variables to closures. I might want to prevent reassignment but not expose those variables, but there&#39;s no way to do it. It&#39;s a rather poorly thought out language feature in my opinion."},{"owner":{"account_id":3859254,"reputation":4822,"user_id":3197387,"display_name":"Sisir"},"score":0,"creation_date":1545839411,"post_id":2735906,"comment_id":94708498,"body_markdown":"`final` creates runtime constants while `const` will create compile time constants. In other words if we declare a field `final`, it can be changed inside the constructor, if declared `static final` it can be changed inside a `static initializer block` but if you want that the field shouldn&#39;t allowed be changed after declaration, then `const` will be needed which is currently not available.","body":"<code>final</code> creates runtime constants while <code>const</code> will create compile time constants. In other words if we declare a field <code>final</code>, it can be changed inside the constructor, if declared <code>static final</code> it can be changed inside a <code>static initializer block</code> but if you want that the field shouldn&#39;t allowed be changed after declaration, then <code>const</code> will be needed which is currently not available."}],"tags":[],"owner":{"account_id":60234,"reputation":7011,"user_id":179984,"display_name":"Gunslinger47"},"comment_count":6,"down_vote_count":1,"up_vote_count":157,"is_accepted":true,"score":156,"last_activity_date":1272530997,"creation_date":1272530997,"answer_id":2735906,"question_id":2735736,"body_markdown":"Every time I go from heavy C++ coding to Java, it takes me a little while to adapt to the lack of &lt;a href=&quot;http://en.wikipedia.org/wiki/Const-correctness&quot;&gt;const-correctness&lt;/a&gt; in Java.  This usage of `const` in C++ is much different than just declaring constant variables, if you didn&#39;t know.  Essentially, it ensures that an object is immutable when accessed through a special kind of pointer called a const-pointer  When in Java, in places where I&#39;d normally want to return a const-pointer, I instead return a reference with an interface type containing only methods that shouldn&#39;t have side effects.  Unfortunately, this isn&#39;t enforced by the langauge.\r\n\r\nWikipedia offers the following information on the subject:\r\n\r\n&gt; Interestingly, the Java language specification regards const  as a reserved keyword — i.e., one that cannot be used as variable identifier — but assigns no semantics to it. It is thought that the reservation of the keyword occurred to allow for an extension of the Java language to include C++-style const methods and pointer to const type. The enhancement request ticket in the Java Community Process for implementing const correctness in Java was closed in 2005, implying that const correctness will probably never find its way into the official Java specification.","title":"Why is there no Constant feature in Java?","body":"<p>Every time I go from heavy C++ coding to Java, it takes me a little while to adapt to the lack of <a href=\"http://en.wikipedia.org/wiki/Const-correctness\" rel=\"noreferrer\">const-correctness</a> in Java.  This usage of <code>const</code> in C++ is much different than just declaring constant variables, if you didn't know.  Essentially, it ensures that an object is immutable when accessed through a special kind of pointer called a const-pointer  When in Java, in places where I'd normally want to return a const-pointer, I instead return a reference with an interface type containing only methods that shouldn't have side effects.  Unfortunately, this isn't enforced by the langauge.</p>\n\n<p>Wikipedia offers the following information on the subject:</p>\n\n<blockquote>\n  <p>Interestingly, the Java language specification regards const  as a reserved keyword — i.e., one that cannot be used as variable identifier — but assigns no semantics to it. It is thought that the reservation of the keyword occurred to allow for an extension of the Java language to include C++-style const methods and pointer to const type. The enhancement request ticket in the Java Community Process for implementing const correctness in Java was closed in 2005, implying that const correctness will probably never find its way into the official Java specification.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":2,"creation_date":1444676686,"post_id":2736231,"comment_id":53992975,"body_markdown":"+1 just for the second part of your answer. Many many keywords have non-trivial semantics. Is `volatile` so simple to understand? Or `final`? Meh.","body":"+1 just for the second part of your answer. Many many keywords have non-trivial semantics. Is <code>volatile</code> so simple to understand? Or <code>final</code>? Meh."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1581028491,"post_id":2736231,"comment_id":106303247,"body_markdown":"OTOH, Java was designed to use as few of those non-trivial features as possible. And I&#39;m not saying that they achieved that goal (or that Java hasn&#39;t drifted away from that goal). But excluding it for that reason may still have had merit. That there are other complicated things is all the more reason *not to introduce more* (or you&#39;d end up with the D language).","body":"OTOH, Java was designed to use as few of those non-trivial features as possible. And I&#39;m not saying that they achieved that goal (or that Java hasn&#39;t drifted away from that goal). But excluding it for that reason may still have had merit. That there are other complicated things is all the more reason <i>not to introduce more</i> (or you&#39;d end up with the D language)."}],"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":2,"down_vote_count":1,"up_vote_count":90,"is_accepted":false,"score":89,"last_activity_date":1675805359,"creation_date":1272534269,"answer_id":2736231,"question_id":2735736,"body_markdown":"**What does `const` mean**  \r\nFirst, realize that the semantics of a &quot;const&quot; keyword means different things to different people:\r\n\r\n - *read-only reference* - Java `final` semantics - reference variable itself cannot be reassigned to point to another instance (memory location), but the instance itself is modifiable\r\n - *readable-only reference* - C `const` pointer/reference semantics - means this reference cannot be used to modify the instance (e.g. cannot assign to instance variables, cannot invoke mutable methods) - affects the reference variable only, so a non-const reference pointing to the same instance could modify the instance\r\n - *immutable object* - means the instance itself cannot be modified - applies to instance, so any non-const reference would not be allowed or could not be used to modify the instance\r\n - *some combination of the the above*?\r\n - *others*?\r\n\r\n**Why or Why Not `const`**  \r\nSecond, if you really want to dig into some of the &quot;pro&quot; vs &quot;con&quot; arguments, see the discussion under this request for enhancement (RFE) &quot;bug&quot;.  This RFE requests a &quot;readable-only reference&quot;-type &quot;const&quot; feature. Opened in 1999 and then closed/rejected by Sun in 2005, the &quot;const&quot; topic was vigorously debated:\r\n\r\n[https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070][1]\r\n\r\nWhile there are a lot of good arguments on both sides, some of the oft-cited (but not necessarily compelling or clear-cut) reasons against `const` include:\r\n\r\n - may have confusing semantics that may be misused and/or abused (see the *What does `const` mean* above)\r\n - may duplicate capability otherwise available (e.g. designing an immutable class, using an immutable interface)\r\n - may be feature creep, leading to a need for other semantic changes such as support for passing objects by value\r\n\r\n---\r\n\r\nBefore anyone tries to debate me about whether these are good or bad reasons, note that these are *not my reasons*. They are simply the &quot;gist&quot; of some of the reasons I gleaned from skimming the RFE discussion.  I don&#39;t necessarily agree with them myself - I&#39;m simply trying to cite why some people (not me) may feel a `const` keyword may not be a good idea.  Personally, I&#39;d love more &quot;const&quot; semantics to be introduced to the language in an unambiguous manner.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20110930062627/https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070","title":"Why is there no Constant feature in Java?","body":"<p><strong>What does <code>const</code> mean</strong><br />\nFirst, realize that the semantics of a &quot;const&quot; keyword means different things to different people:</p>\n<ul>\n<li><em>read-only reference</em> - Java <code>final</code> semantics - reference variable itself cannot be reassigned to point to another instance (memory location), but the instance itself is modifiable</li>\n<li><em>readable-only reference</em> - C <code>const</code> pointer/reference semantics - means this reference cannot be used to modify the instance (e.g. cannot assign to instance variables, cannot invoke mutable methods) - affects the reference variable only, so a non-const reference pointing to the same instance could modify the instance</li>\n<li><em>immutable object</em> - means the instance itself cannot be modified - applies to instance, so any non-const reference would not be allowed or could not be used to modify the instance</li>\n<li><em>some combination of the the above</em>?</li>\n<li><em>others</em>?</li>\n</ul>\n<p><strong>Why or Why Not <code>const</code></strong><br />\nSecond, if you really want to dig into some of the &quot;pro&quot; vs &quot;con&quot; arguments, see the discussion under this request for enhancement (RFE) &quot;bug&quot;.  This RFE requests a &quot;readable-only reference&quot;-type &quot;const&quot; feature. Opened in 1999 and then closed/rejected by Sun in 2005, the &quot;const&quot; topic was vigorously debated:</p>\n<p><a href=\"https://web.archive.org/web/20110930062627/https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4211070</a></p>\n<p>While there are a lot of good arguments on both sides, some of the oft-cited (but not necessarily compelling or clear-cut) reasons against <code>const</code> include:</p>\n<ul>\n<li>may have confusing semantics that may be misused and/or abused (see the <em>What does <code>const</code> mean</em> above)</li>\n<li>may duplicate capability otherwise available (e.g. designing an immutable class, using an immutable interface)</li>\n<li>may be feature creep, leading to a need for other semantic changes such as support for passing objects by value</li>\n</ul>\n<hr />\n<p>Before anyone tries to debate me about whether these are good or bad reasons, note that these are <em>not my reasons</em>. They are simply the &quot;gist&quot; of some of the reasons I gleaned from skimming the RFE discussion.  I don't necessarily agree with them myself - I'm simply trying to cite why some people (not me) may feel a <code>const</code> keyword may not be a good idea.  Personally, I'd love more &quot;const&quot; semantics to be introduced to the language in an unambiguous manner.</p>\n"},{"comments":[{"owner":{"account_id":1392286,"reputation":781,"user_id":1322811,"display_name":"afarley"},"score":0,"creation_date":1556820678,"post_id":15990047,"comment_id":98567683,"body_markdown":"Downvoted for rumor-based optimization because I heard a rumor that this is an ineffective strategy.","body":"Downvoted for rumor-based optimization because I heard a rumor that this is an ineffective strategy."},{"owner":{"account_id":1473546,"reputation":1151,"user_id":1384513,"display_name":"hamish"},"score":0,"creation_date":1562009389,"post_id":15990047,"comment_id":100234824,"body_markdown":"I removed the rumor from the answer.  you can still use static final int to create const style code.","body":"I removed the rumor from the answer.  you can still use static final int to create const style code."},{"owner":{"account_id":1392286,"reputation":781,"user_id":1322811,"display_name":"afarley"},"score":0,"creation_date":1562047893,"post_id":15990047,"comment_id":100243427,"body_markdown":"Ok, I have removed my downvote. Maybe some of the other downvotes are about the switch statement (what does it have to do with the rest of your example?)","body":"Ok, I have removed my downvote. Maybe some of the other downvotes are about the switch statement (what does it have to do with the rest of your example?)"},{"owner":{"account_id":1473546,"reputation":1151,"user_id":1384513,"display_name":"hamish"},"score":0,"creation_date":1562092573,"post_id":15990047,"comment_id":100266641,"body_markdown":"in the switch statement I used the cRPM as if it was a const. quite right, considering the above. so yes i have removed the switch.","body":"in the switch statement I used the cRPM as if it was a const. quite right, considering the above. so yes i have removed the switch."}],"tags":[],"owner":{"account_id":1473546,"reputation":1151,"user_id":1384513,"display_name":"hamish"},"comment_count":4,"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1562092601,"creation_date":1365870283,"answer_id":15990047,"question_id":2735736,"body_markdown":"You can use static final to create something that works similar to Const, I have used this in the past.\r\n\r\n    protected static final int cOTHER = 0;\r\n    protected static final int cRPM = 1;\r\n    protected static final int cSPEED = 2;\r\n    protected static final int cTPS = 3;\r\n    protected int DataItemEnum = 0;\r\n\r\n    public static final int INVALID_PIN = -1;\r\n    public static final int LED_PIN = 0;\r\n","title":"Why is there no Constant feature in Java?","body":"<p>You can use static final to create something that works similar to Const, I have used this in the past.</p>\n\n<pre><code>protected static final int cOTHER = 0;\nprotected static final int cRPM = 1;\nprotected static final int cSPEED = 2;\nprotected static final int cTPS = 3;\nprotected int DataItemEnum = 0;\n\npublic static final int INVALID_PIN = -1;\npublic static final int LED_PIN = 0;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3663206,"reputation":4058,"user_id":3052438,"accept_rate":75,"display_name":"Piotr Siupa"},"score":0,"creation_date":1485879040,"post_id":35835148,"comment_id":71103325,"body_markdown":"Can you provide some example of this, please?","body":"Can you provide some example of this, please?"},{"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"score":0,"creation_date":1486130079,"post_id":35835148,"comment_id":71225621,"body_markdown":"class MYString implements GetString {\n    private final String aaaa;\n    public String getString();\n}\n\nclass MutableString implements GetString {\n    private String aaaa2;\n    public String getString();\n    public String setString()\n\n}","body":"class MYString implements GetString {     private final String aaaa;     public String getString(); }  class MutableString implements GetString {     private String aaaa2;     public String getString();     public String setString()  }"}],"tags":[],"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457316892,"creation_date":1457316892,"answer_id":35835148,"question_id":2735736,"body_markdown":"There is a way to create &quot;const&quot; variables in Java, but only for specific classes. Just define a class with final properties and subclass it. Then use the base class where you would want to use &quot;const&quot;. Likewise, if you need to use &quot;const&quot; methods, add them to the base class. The compiler will not allow you to modify what it thinks is the final methods of the base class, but it will read and call methods on the subclass.","title":"Why is there no Constant feature in Java?","body":"<p>There is a way to create \"const\" variables in Java, but only for specific classes. Just define a class with final properties and subclass it. Then use the base class where you would want to use \"const\". Likewise, if you need to use \"const\" methods, add them to the base class. The compiler will not allow you to modify what it thinks is the final methods of the base class, but it will read and call methods on the subclass.</p>\n"},{"comments":[{"owner":{"account_id":6377346,"reputation":1576,"user_id":4947867,"display_name":"No-Bugs Hare"},"score":5,"creation_date":1508997498,"post_id":37687858,"comment_id":80840667,"body_markdown":"const in C++ is MUCH more flexible than full-scale immutability. In a sense, &#39;const&#39; can be seen as &#39;immutable within this particular context&#39;. Example: I have a class that isn&#39;t immutable, BUT I want to ensure that it is not modified via certain public APIs. Making an interface (and returning it for that public API) as suggested by Gunslinger47 achieves the same thing in Java, but boy - it IS ugly (and so - it is ignored by most of Java developers, leading to significant unnecessary mess)...","body":"const in C++ is MUCH more flexible than full-scale immutability. In a sense, &#39;const&#39; can be seen as &#39;immutable within this particular context&#39;. Example: I have a class that isn&#39;t immutable, BUT I want to ensure that it is not modified via certain public APIs. Making an interface (and returning it for that public API) as suggested by Gunslinger47 achieves the same thing in Java, but boy - it IS ugly (and so - it is ignored by most of Java developers, leading to significant unnecessary mess)..."}],"tags":[],"owner":{"account_id":4145727,"reputation":480,"user_id":3399519,"display_name":"grego"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1465328162,"creation_date":1465328162,"answer_id":37687858,"question_id":2735736,"body_markdown":"This is a bit of an old question, but I thought I would contribute my 2 cents anyway since this thread came up in conversation today.\r\n\r\nThis doesn&#39;t exactly answer *why is there no const?* but *how* to make your classes immutable. (Unfortunately I have not enough reputation yet to post as a comment to the accepted answer)\r\n\r\nThe way to guarantee immutability on an object is to design your classes more carefully to be immutable. This requires a bit more care than a mutable class.\r\n\r\nThis goes back to Josh Bloch&#39;s *Effective Java* **Item 15 - Minimize Mutability**. If you haven&#39;t read the book, pick up a copy and read it over a few times I guarantee it will up your figurative *&quot;java game&quot;*.\r\n\r\nIn item 15 Bloch suggest that you should limit the mutability of classes to ensure the object&#39;s state.\r\n\r\nTo quote the book directly:\r\n\r\n&gt; An immutable class is simply a class whose instances cannot be modified. All of the information contained in each instance is provided when it is created and is fixed for the lifetime of the object. The Java platform libraries contain many immutable classes, including String, the boxed primitive classes, and BigInte- ger and BigDecimal. There are many good reasons for this: Immutable classes are easier to design, implement, and use than mutable classes. They are less prone to error and are more secure.\r\n\r\nBloch then describes how to make your classes immutable, by following 5 simple rules:\r\n\r\n1. Don’t provide any methods that modify the object’s state (i.e., setters, aka *mutators*)\r\n2. Ensure that the class can’t be extended (this means declaring the class itself as `final`).\r\n3. Make all fields `final`.\r\n4. Make all fields `private`. \r\n5. Ensure exclusive access to any mutable components. (by making defensive copies of the objects)\r\n\r\nFor more details I highly recommend picking up a copy of the book.","title":"Why is there no Constant feature in Java?","body":"<p>This is a bit of an old question, but I thought I would contribute my 2 cents anyway since this thread came up in conversation today.</p>\n\n<p>This doesn't exactly answer <em>why is there no const?</em> but <em>how</em> to make your classes immutable. (Unfortunately I have not enough reputation yet to post as a comment to the accepted answer)</p>\n\n<p>The way to guarantee immutability on an object is to design your classes more carefully to be immutable. This requires a bit more care than a mutable class.</p>\n\n<p>This goes back to Josh Bloch's <em>Effective Java</em> <strong>Item 15 - Minimize Mutability</strong>. If you haven't read the book, pick up a copy and read it over a few times I guarantee it will up your figurative <em>\"java game\"</em>.</p>\n\n<p>In item 15 Bloch suggest that you should limit the mutability of classes to ensure the object's state.</p>\n\n<p>To quote the book directly:</p>\n\n<blockquote>\n  <p>An immutable class is simply a class whose instances cannot be modified. All of the information contained in each instance is provided when it is created and is fixed for the lifetime of the object. The Java platform libraries contain many immutable classes, including String, the boxed primitive classes, and BigInte- ger and BigDecimal. There are many good reasons for this: Immutable classes are easier to design, implement, and use than mutable classes. They are less prone to error and are more secure.</p>\n</blockquote>\n\n<p>Bloch then describes how to make your classes immutable, by following 5 simple rules:</p>\n\n<ol>\n<li>Don’t provide any methods that modify the object’s state (i.e., setters, aka <em>mutators</em>)</li>\n<li>Ensure that the class can’t be extended (this means declaring the class itself as <code>final</code>).</li>\n<li>Make all fields <code>final</code>.</li>\n<li>Make all fields <code>private</code>. </li>\n<li>Ensure exclusive access to any mutable components. (by making defensive copies of the objects)</li>\n</ol>\n\n<p>For more details I highly recommend picking up a copy of the book.</p>\n"},{"comments":[{"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"score":0,"creation_date":1697700551,"post_id":77296696,"comment_id":136313401,"body_markdown":"You are right, but this information is already abundantly clear from the other answers. In its brevity it may only confuse others.","body":"You are right, but this information is already abundantly clear from the other answers. In its brevity it may only confuse others."}],"tags":[],"owner":{"account_id":27687275,"reputation":1,"user_id":21134784,"display_name":"Anish Chaudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697373759,"creation_date":1697373759,"answer_id":77296696,"question_id":2735736,"body_markdown":"According to one of the text book that I have refered tells that,\r\n&quot;const is a Java keyword but it is not being used now to create constants. so, you need to use final keyword&quot; ","title":"Why is there no Constant feature in Java?","body":"<p>According to one of the text book that I have refered tells that,\n&quot;const is a Java keyword but it is not being used now to create constants. so, you need to use final keyword&quot;</p>\n"}],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148767,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":2735906,"answer_count":9,"score":158,"last_activity_date":1697373759,"creation_date":1272529177,"question_id":2735736,"body_markdown":"I was trying to identify the reason behind constants in Java\r\nI have learned that Java allows us to declare constants by using `final` keyword.\r\n\r\nMy question is why didn&#39;t Java introduce a Constant (`const`) feature. Since many people say it has come from C++, in C++ we have `const` keyword.\r\n\r\nPlease share your thoughts.\r\n","title":"Why is there no Constant feature in Java?","body":"<p>I was trying to identify the reason behind constants in Java\nI have learned that Java allows us to declare constants by using <code>final</code> keyword.</p>\n\n<p>My question is why didn't Java introduce a Constant (<code>const</code>) feature. Since many people say it has come from C++, in C++ we have <code>const</code> keyword.</p>\n\n<p>Please share your thoughts.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1697252229,"post_id":77291370,"comment_id":136260257,"body_markdown":"Its a single sequence generator custom_gen which is shared by Order, Purchase so it wouldn&#39;t be sequential correct. It has to be unique and sequentially incremented by 1. If there is a way to pass the sequence name from derived class to base class that might help, not sure how","body":"Its a single sequence generator custom_gen which is shared by Order, Purchase so it wouldn&#39;t be sequential correct. It has to be unique and sequentially incremented by 1. If there is a way to pass the sequence name from derived class to base class that might help, not sure how"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697254905,"post_id":77291370,"comment_id":136260387,"body_markdown":"@user352290 I have updated my answer. Please have a look.","body":"@user352290 I have updated my answer. Please have a look."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697266098,"creation_date":1697248950,"answer_id":77291370,"question_id":77256849,"body_markdown":"You should use `@GenericGenerator` instead of going for `@SequenceGenerator` to get more granular control to generate sequences.\r\n\r\nFound a hacky way via `SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX` to generate the sequences for subclasses without even modifying them.\r\n\r\nTry this:\r\n\r\n    import jakarta.persistence.*;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    import org.hibernate.id.enhanced.SequenceStyleGenerator;\r\n    \r\n    @MappedSuperclass\r\n    public class BaseIdentifier {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;custom_gen&quot;)\r\n        @GenericGenerator(name = &quot;custom_gen&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n                parameters = {\r\n                        @Parameter(name = SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX, value = &quot;_seq&quot;),\r\n                        @Parameter(name = SequenceStyleGenerator.INITIAL_PARAM, value = &quot;1&quot;),\r\n                        @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;1&quot;)})\r\n        @Column(updatable = false, nullable = false)\r\n        private Long id;\r\n    \r\n    }\r\n\r\nOrder_Table:\r\n\r\n    import jakarta.persistence.Entity;\r\n\r\n    @Entity\r\n    public class Order_Table extends BaseIdentifier {\r\n    \r\n    }\r\n\r\nPurchase:\r\n\r\n    import jakarta.persistence.Entity;\r\n\r\n    @Entity\r\n    public class Purchase extends BaseIdentifier {\r\n    \r\n    }\r\n\r\n\r\nSpring Boot logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**I&#39;ve tested with Oracle DB, it&#39;s working.**\r\n\r\nORDER_TABLE:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPURCHASE:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nORDER_TABLE_SEQ:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nPURCHASE_SEQ:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QOs9J.png\r\n  [2]: https://i.stack.imgur.com/qMfI9.png\r\n  [3]: https://i.stack.imgur.com/gdarr.png\r\n  [4]: https://i.stack.imgur.com/oG2FT.png\r\n  [5]: https://i.stack.imgur.com/tY8YB.png","title":"Set Sequence Generator allocationSize to 1 for all subclasses via parent class","body":"<p>You should use <code>@GenericGenerator</code> instead of going for <code>@SequenceGenerator</code> to get more granular control to generate sequences.</p>\n<p>Found a hacky way via <code>SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX</code> to generate the sequences for subclasses without even modifying them.</p>\n<p>Try this:</p>\n<pre><code>import jakarta.persistence.*;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\n\n@MappedSuperclass\npublic class BaseIdentifier {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;custom_gen&quot;)\n    @GenericGenerator(name = &quot;custom_gen&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @Parameter(name = SequenceStyleGenerator.CONFIG_SEQUENCE_PER_ENTITY_SUFFIX, value = &quot;_seq&quot;),\n                    @Parameter(name = SequenceStyleGenerator.INITIAL_PARAM, value = &quot;1&quot;),\n                    @Parameter(name = SequenceStyleGenerator.INCREMENT_PARAM, value = &quot;1&quot;)})\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n}\n</code></pre>\n<p>Order_Table:</p>\n<pre><code>import jakarta.persistence.Entity;\n\n@Entity\npublic class Order_Table extends BaseIdentifier {\n\n}\n</code></pre>\n<p>Purchase:</p>\n<pre><code>import jakarta.persistence.Entity;\n\n@Entity\npublic class Purchase extends BaseIdentifier {\n\n}\n</code></pre>\n<p>Spring Boot logs:</p>\n<p><a href=\"https://i.stack.imgur.com/QOs9J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QOs9J.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I've tested with Oracle DB, it's working.</strong></p>\n<p>ORDER_TABLE:</p>\n<p><a href=\"https://i.stack.imgur.com/qMfI9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMfI9.png\" alt=\"enter image description here\" /></a></p>\n<p>PURCHASE:</p>\n<p><a href=\"https://i.stack.imgur.com/gdarr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gdarr.png\" alt=\"enter image description here\" /></a></p>\n<p>ORDER_TABLE_SEQ:</p>\n<p><a href=\"https://i.stack.imgur.com/oG2FT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oG2FT.png\" alt=\"enter image description here\" /></a></p>\n<p>PURCHASE_SEQ:</p>\n<p><a href=\"https://i.stack.imgur.com/tY8YB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tY8YB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77291370,"answer_count":1,"score":2,"last_activity_date":1697373711,"creation_date":1696835250,"question_id":77256849,"body_markdown":"I was going through this Oracle Docs on [`@SequenceGenerator`][1].\r\n\r\nAnd I was wondering on how to override the `@SequenceGenerator` with `allocationSize` to `1` for all entities (let&#39;s say Order &amp; Purchase) at a **global** level. By default it is `50`.\r\n\r\n**BaseIdentifier:**\r\n\r\n    public class BaseIdentifier {\r\n         \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(updatable = false, nullable = false)\r\n        private Long id; \r\n        \r\n        // .... constructors, other member variables, getters and setters\r\n    }\r\n\r\n    \r\n**Order:**\r\n\r\n    @Entity\r\n    public class Order extends BaseIdentifier {\r\n         // .... constructors, member variables, getters and setters\r\n    }\r\n    \r\n**Purchase:**\r\n\r\n    @Entity\r\n    public class Purchase extends BaseIdentifier {\r\n         // .... constructors, member variables, getters and setters\r\n    }\r\n\r\n\r\n**Sample output:**\r\n\r\n   \r\n\r\n     Hibernate: \r\n            create sequence orders_seq start with 1 increment by 50\r\n\r\nI can&#39;t set the `@SequenceGenerator` at the entity level since it inherits the `@Id` definition from Base which is common for all entities\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/SequenceGenerator.html","title":"Set Sequence Generator allocationSize to 1 for all subclasses via parent class","body":"<p>I was going through this Oracle Docs on <a href=\"https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/SequenceGenerator.html\" rel=\"nofollow noreferrer\"><code>@SequenceGenerator</code></a>.</p>\n<p>And I was wondering on how to override the <code>@SequenceGenerator</code> with <code>allocationSize</code> to <code>1</code> for all entities (let's say Order &amp; Purchase) at a <strong>global</strong> level. By default it is <code>50</code>.</p>\n<p><strong>BaseIdentifier:</strong></p>\n<pre><code>public class BaseIdentifier {\n     \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(updatable = false, nullable = false)\n    private Long id; \n    \n    // .... constructors, other member variables, getters and setters\n}\n</code></pre>\n<p><strong>Order:</strong></p>\n<pre><code>@Entity\npublic class Order extends BaseIdentifier {\n     // .... constructors, member variables, getters and setters\n}\n</code></pre>\n<p><strong>Purchase:</strong></p>\n<pre><code>@Entity\npublic class Purchase extends BaseIdentifier {\n     // .... constructors, member variables, getters and setters\n}\n</code></pre>\n<p><strong>Sample output:</strong></p>\n<pre><code> Hibernate: \n        create sequence orders_seq start with 1 increment by 50\n</code></pre>\n<p>I can't set the <code>@SequenceGenerator</code> at the entity level since it inherits the <code>@Id</code> definition from Base which is common for all entities</p>\n"},{"tags":["java","android","jks"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491953607,"post_id":43356191,"comment_id":73778459,"body_markdown":"Can you read the backup versions? If so, use the latest one you can read.","body":"Can you read the backup versions? If so, use the latest one you can read."},{"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"score":0,"creation_date":1491957377,"post_id":43356191,"comment_id":73779354,"body_markdown":"@EJP what do you mean by &quot;read the backup versions&quot;? When I used the keytool explorer, I am getting the errors as shown in the images I attached.","body":"@EJP what do you mean by &quot;read the backup versions&quot;? When I used the keytool explorer, I am getting the errors as shown in the images I attached."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491961454,"post_id":43356191,"comment_id":73780322,"body_markdown":"You said you had several backups of the file. Can you read *any* of them? It isn&#39;t clear from your post. You&#39;ve only said a couple did this, a couple did that, ...","body":"You said you had several backups of the file. Can you read <i>any</i> of them? It isn&#39;t clear from your post. You&#39;ve only said a couple did this, a couple did that, ..."},{"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"score":0,"creation_date":1491974043,"post_id":43356191,"comment_id":73783707,"body_markdown":"@EJP sorry if it wasn&#39;t clear. Yes I tried all that and couldn&#39;t read any. All of them resulted in some error or the other.","body":"@EJP sorry if it wasn&#39;t clear. Yes I tried all that and couldn&#39;t read any. All of them resulted in some error or the other."}],"answers":[{"tags":[],"owner":{"account_id":2600250,"reputation":55,"user_id":2252866,"display_name":"Mediajon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697373616,"creation_date":1697373616,"answer_id":77296687,"question_id":43356191,"body_markdown":"You are getting error, I also used to get this error, only think s you need to install java or update it, after that, the terminal code will work. At least, that worked for me.","title":"Android Generate Signed APK : keytool error: java.io.IOException: Invalid keystore format","body":"<p>You are getting error, I also used to get this error, only think s you need to install java or update it, after that, the terminal code will work. At least, that worked for me.</p>\n"}],"owner":{"account_id":3293310,"reputation":753,"user_id":2771100,"accept_rate":67,"display_name":"cooler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697373616,"creation_date":1491944754,"question_id":43356191,"body_markdown":"We have already spent past week debugging this problem. We have a live android app in the Google Play Store and have pushed a few updates to it already in the past successfully. There has been no changes in the .jks file that we have been using and we have followed the exact same procedure since starting. We are trying to generate the signed APK using Android Studio so we can push updates to production. When we do that, specifying the keystore path, passwords and alias name, it results in following error and we are stuck:\r\n\r\n    java.io.IOException: Invalid keystore format\r\n\r\nEven when I tried to run the below keytool command, I got the same error.\r\n\r\n    keytool -list -keystore &lt;our_keystore&gt;.jks\r\n\r\n**Backup strategy for our jks**\r\n\r\nWe had backups of &lt;our_keystore&gt;.jks file renaming the same file as \r\n&lt;our_keystore&gt;_01.jks\r\n&lt;our_keystore&gt;_02.jks and so on. We had this backup on our own lynux machine for security reasons and we didn&#39;t back this up somewhere like bitbucket.\r\n\r\n**This is what we have done so far:**\r\n\r\n 1. We have copied the &lt;our_keystore&gt;.jks file into different machines and tried executing the above keytool command, but it gives us the same error.\r\n 2. Downloaded this [keytool explorer][1] tool and tried to analyze our backups one by one listed above but a couple of backups gave us the message [![enter image description here][2]][2] and a couple others gave us the message (After it asked to enter the password and we did) - [![enter image description here][3]][3]\r\n\r\nAs mentioned earlier, we have not played with the jks files and have pushed updates in the past as normal. We are frightened to even imagine that we will have to re-publish our app as we have live users using this application. Now all our hope is on this community. Can anyone please help us as to what we should do and what might have happened?\r\n\r\n  [1]: http://keystore-explorer.org/\r\n  [2]: https://i.stack.imgur.com/Letc3.png\r\n  [3]: https://i.stack.imgur.com/0db06.png","title":"Android Generate Signed APK : keytool error: java.io.IOException: Invalid keystore format","body":"<p>We have already spent past week debugging this problem. We have a live android app in the Google Play Store and have pushed a few updates to it already in the past successfully. There has been no changes in the .jks file that we have been using and we have followed the exact same procedure since starting. We are trying to generate the signed APK using Android Studio so we can push updates to production. When we do that, specifying the keystore path, passwords and alias name, it results in following error and we are stuck:</p>\n\n<pre><code>java.io.IOException: Invalid keystore format\n</code></pre>\n\n<p>Even when I tried to run the below keytool command, I got the same error.</p>\n\n<pre><code>keytool -list -keystore &lt;our_keystore&gt;.jks\n</code></pre>\n\n<p><strong>Backup strategy for our jks</strong></p>\n\n<p>We had backups of .jks file renaming the same file as \n_01.jks\n_02.jks and so on. We had this backup on our own lynux machine for security reasons and we didn't back this up somewhere like bitbucket.</p>\n\n<p><strong>This is what we have done so far:</strong></p>\n\n<ol>\n<li>We have copied the .jks file into different machines and tried executing the above keytool command, but it gives us the same error.</li>\n<li>Downloaded this <a href=\"http://keystore-explorer.org/\" rel=\"nofollow noreferrer\">keytool explorer</a> tool and tried to analyze our backups one by one listed above but a couple of backups gave us the message <a href=\"https://i.stack.imgur.com/Letc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Letc3.png\" alt=\"enter image description here\"></a> and a couple others gave us the message (After it asked to enter the password and we did) - <a href=\"https://i.stack.imgur.com/0db06.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0db06.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>As mentioned earlier, we have not played with the jks files and have pushed updates in the past as normal. We are frightened to even imagine that we will have to re-publish our app as we have live users using this application. Now all our hope is on this community. Can anyone please help us as to what we should do and what might have happened?</p>\n"},{"tags":["java","android","selinux"],"owner":{"account_id":6468880,"reputation":119,"user_id":5664068,"display_name":"Takshak Rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697373186,"creation_date":1693272924,"question_id":76996823,"body_markdown":"So far I have tried a few methods available on the official website and other online sources. Such as getting the result by executing the `getenforce` command.\r\n\r\n    private fun isSELinuxEnabled(): () -&gt; Boolean {\r\n        return {\r\n            val process = Runtime.getRuntime().exec(arrayOf(&quot;getenforce&quot;))\r\n            val reader = BufferedReader(InputStreamReader(process.inputStream))\r\n            val status = reader.readLine()\r\n            process.waitFor()\r\n\r\n            Log.d(TAG, &quot;isSELinuxEnabled(): $status&quot;)\r\n            status == &quot;enforcing&quot;\r\n        }\r\n    }\r\n\r\nI also tried JNI to get the status using the following:\r\n\r\n    FILE *file = fopen(&quot;/sys/fs/selinux/enforce&quot;, &quot;r&quot;);\r\n    if (file == NULL) {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Unknown&quot;); // Return &quot;Unknown&quot; if the file cannot be opened\r\n    }\r\n\r\n    char status[10];\r\n    fgets(status, sizeof(status), file);\r\n    fclose(file);\r\n\r\n    if (strcmp(status, &quot;1\\n&quot;) == 0) {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Enforcing&quot;);\r\n    } else {\r\n        return (*env)-&gt;NewStringUTF(env, &quot;Permissive&quot;);\r\n    }\r\n\r\nAdditionally, there are some properties also available, like `ro.boot.selinux` and `ro.build.selinux` to get the SELinux status. So far no luck, None of the devices produce any result, all of the methods return either null or unknown value and never Enforcing or Permissive, even if the Enforcing is enabled which I verified using `adb shell getenfoce`.\r\n\r\nThe **adb** command works in the terminal of my system but when even that is executed from the app, it produces the same result.\r\n\r\nSo folks, here is my burning question: Is there any reliable way to get the status of SELinux in Android using either JNI or pure Kotlin/Java?\r\n\r\n","title":"How to get SELinux status on Android","body":"<p>So far I have tried a few methods available on the official website and other online sources. Such as getting the result by executing the <code>getenforce</code> command.</p>\n<pre><code>private fun isSELinuxEnabled(): () -&gt; Boolean {\n    return {\n        val process = Runtime.getRuntime().exec(arrayOf(&quot;getenforce&quot;))\n        val reader = BufferedReader(InputStreamReader(process.inputStream))\n        val status = reader.readLine()\n        process.waitFor()\n\n        Log.d(TAG, &quot;isSELinuxEnabled(): $status&quot;)\n        status == &quot;enforcing&quot;\n    }\n}\n</code></pre>\n<p>I also tried JNI to get the status using the following:</p>\n<pre><code>FILE *file = fopen(&quot;/sys/fs/selinux/enforce&quot;, &quot;r&quot;);\nif (file == NULL) {\n    return (*env)-&gt;NewStringUTF(env, &quot;Unknown&quot;); // Return &quot;Unknown&quot; if the file cannot be opened\n}\n\nchar status[10];\nfgets(status, sizeof(status), file);\nfclose(file);\n\nif (strcmp(status, &quot;1\\n&quot;) == 0) {\n    return (*env)-&gt;NewStringUTF(env, &quot;Enforcing&quot;);\n} else {\n    return (*env)-&gt;NewStringUTF(env, &quot;Permissive&quot;);\n}\n</code></pre>\n<p>Additionally, there are some properties also available, like <code>ro.boot.selinux</code> and <code>ro.build.selinux</code> to get the SELinux status. So far no luck, None of the devices produce any result, all of the methods return either null or unknown value and never Enforcing or Permissive, even if the Enforcing is enabled which I verified using <code>adb shell getenfoce</code>.</p>\n<p>The <strong>adb</strong> command works in the terminal of my system but when even that is executed from the app, it produces the same result.</p>\n<p>So folks, here is my burning question: Is there any reliable way to get the status of SELinux in Android using either JNI or pure Kotlin/Java?</p>\n"},{"tags":["java","agents-jade"],"answers":[{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697372368,"creation_date":1697372368,"answer_id":77296606,"question_id":75461159,"body_markdown":"You have a dependency problem, your project cannot find Jade and its associated classes. \r\nYou should add Jade using maven so that your IDE can update the missing libraries.\r\n\r\n**Repository to add to your pom**\r\n\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n    \t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n**Dependency to add to your pom**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.gitlab.jade-project&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jade&lt;/artifactId&gt;\r\n        &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSee : https://jade-project.gitlab.io/page/download/","title":"How can i resolve these errors got in VS Code for running a java code in JADE platform","body":"<p>You have a dependency problem, your project cannot find Jade and its associated classes.\nYou should add Jade using maven so that your IDE can update the missing libraries.</p>\n<p><strong>Repository to add to your pom</strong></p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p><strong>Dependency to add to your pom</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.gitlab.jade-project&lt;/groupId&gt;\n    &lt;artifactId&gt;jade&lt;/artifactId&gt;\n    &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See : <a href=\"https://jade-project.gitlab.io/page/download/\" rel=\"nofollow noreferrer\">https://jade-project.gitlab.io/page/download/</a></p>\n"}],"owner":{"account_id":27794124,"reputation":1,"user_id":21220014,"display_name":"xfull xfullian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697372421,"creation_date":1676470763,"question_id":75461159,"body_markdown":"\r\n```\r\nimport jade.core.Agent;\r\nimport jade.core.Runtime;\r\nimport jade.core.Profile;\r\nimport jade.core.ProfileImpl;\r\nimport jade.core.behaviours.*;\r\nimport jade.lang.acl.ACLMessage;\r\nimport jade.lang.acl.MessageTemplate;\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n    Runtime rt = Runtime.instance();\r\n    Profile p = new ProfileImpl();\r\n    AgentContainer container = rt.createMainContainer(p);\r\n    \r\n    try {\r\n        AgentController seller = jade.core.container.createNewAgent(&quot;Seller&quot;, SellerAgent.class, null);\r\n        seller.start();\r\n    \r\n        String[] buyerArgs = new String[]{&quot;A&quot;};\r\n        AgentController buyer1 = container.createNewAgent(&quot;B1&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer1.start();\r\n    \r\n        buyerArgs[0] = &quot;B&quot;;\r\n        AgentController buyer2 = container.createNewAgent(&quot;B2&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer2.start();\r\n    \r\n        buyerArgs[0] = &quot;A&quot;;\r\n        AgentController buyer3 = container.createNewAgent(&quot;B3&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer3.start();\r\n    \r\n        buyerArgs[0] = &quot;B&quot;;\r\n        AgentController buyer4 = container.createNewAgent(&quot;B4&quot;, BuyerAgent.class, buyerArgs);\r\n        buyer4.start();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n}\r\n\r\npublic class BuyerAgent extends Agent {\r\n    private String requestedProduct;\r\n    private String sellerName;\r\n    private List&lt;String&gt; purchasedProducts = new ArrayList&lt;&gt;();\r\n\r\n    protected void setup() {\r\n        // Get the requested product name as an argument\r\n        Object[] args = getArguments();\r\n        if (args != null &amp;&amp; args.length &gt; 0) {\r\n            requestedProduct = (String) args[0];\r\n        }\r\n\r\n        // Add the behavior to request the product from the seller\r\n        addBehaviour(new RequestProductBehaviour());\r\n    }\r\n\r\n    private class RequestProductBehaviour extends OneShotBehaviour {\r\n        public void action() {\r\n            ACLMessage message = new ACLMessage(ACLMessage.REQUEST);\r\n            message.setContent(requestedProduct);\r\n            message.addReceiver(sellerName);\r\n            myAgent.send(message);\r\n\r\n            // Wait for the seller&#39;s response\r\n            addBehaviour(new PurchaseResponseBehaviour());\r\n        }\r\n    }\r\n\r\n    private class PurchaseResponseBehaviour extends SimpleBehaviour {\r\n        private boolean receivedResponse = false;\r\n\r\n        public void action() {\r\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.INFORM);\r\n            ACLMessage message = myAgent.receive(mt);\r\n            if (message != null) {\r\n                // Product was available and was sold to this buyer\r\n                purchasedProducts.add(requestedProduct);\r\n                receivedResponse = true;\r\n            } else {\r\n                block();\r\n            }\r\n        }\r\n\r\n        public boolean done() {\r\n            if (receivedResponse) {\r\n                System.out.println(getLocalName() + &quot; purchased: &quot; + purchasedProducts);\r\n            }\r\n            return receivedResponse;\r\n        }\r\n    }\r\n}\r\n\r\npublic class SellerAgent extends Agent {\r\n    private int itemsA = 2;\r\n    private int itemsB = 2;\r\n    private List&lt;String&gt; buyers = new ArrayList&lt;&gt;();\r\n\r\n    protected void setup() {\r\n        // Add the behavior to handle product request messages\r\n        addBehaviour(new HandleRequestBehaviour());\r\n    }\r\n\r\n    private class HandleRequestBehaviour extends CyclicBehaviour {\r\n        public void action() {\r\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.REQUEST);\r\n            ACLMessage message = myAgent.receive(mt);\r\n            if (message != null) {\r\n                String product = message.getContent();\r\n                String buyerName = message.getSender().getLocalName();\r\n                ACLMessage reply = message.createReply();\r\n\r\n                if (buyerName.equals(&quot;B3&quot;) &amp;&amp; product.equals(&quot;B&quot;)) {\r\n                    // Seller cannot sell product B to buyer B3\r\n                    reply.setPerformative(ACLMessage.FAILURE);\r\n                    reply.setContent(&quot;Not allowed&quot;);\r\n                } else if (product.equals(&quot;A&quot;) &amp;&amp; itemsA &gt; 0) {\r\n                    itemsA--;\r\n                    reply.setPerformative(ACLMessage.INFORM);\r\n                    buyers.add(buyerName);\r\n                } else if (product.equals(&quot;B&quot;) &amp;&amp; itemsB &gt;\r\n                0) {\r\n                    itemsB--;\r\n                    reply.setPerformative(ACLMessage.INFORM);\r\n                    buyers.add(buyerName);\r\n                } else {\r\n                    reply.setPerformative(ACLMessage.FAILURE);\r\n                    reply.setContent(&quot;Not available&quot;);\r\n                }\r\n\r\n                myAgent.send(reply);\r\n            } else {\r\n                block();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected void takeDown() {\r\n        System.out.println(&quot;Seller &quot; + getLocalName() + &quot; sold to: &quot; + buyers);\r\n    }\r\n}\r\n\r\n\r\n```\r\nThis code gives me errors below:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n            The method instance() is undefined for the type Runtime\r\n            Profile cannot be resolved to a type\r\n            ProfileImpl cannot be resolved to a type\r\n            AgentContainer cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            jade cannot be resolved\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n            AgentController cannot be resolved to a type\r\n    \r\n            at Main.main(main.java:10)","title":"How can i resolve these errors got in VS Code for running a java code in JADE platform","body":"<pre><code>import jade.core.Agent;\nimport jade.core.Runtime;\nimport jade.core.Profile;\nimport jade.core.ProfileImpl;\nimport jade.core.behaviours.*;\nimport jade.lang.acl.ACLMessage;\nimport jade.lang.acl.MessageTemplate;\npublic class Main {\npublic static void main(String[] args) {\n    Runtime rt = Runtime.instance();\n    Profile p = new ProfileImpl();\n    AgentContainer container = rt.createMainContainer(p);\n    \n    try {\n        AgentController seller = jade.core.container.createNewAgent(&quot;Seller&quot;, SellerAgent.class, null);\n        seller.start();\n    \n        String[] buyerArgs = new String[]{&quot;A&quot;};\n        AgentController buyer1 = container.createNewAgent(&quot;B1&quot;, BuyerAgent.class, buyerArgs);\n        buyer1.start();\n    \n        buyerArgs[0] = &quot;B&quot;;\n        AgentController buyer2 = container.createNewAgent(&quot;B2&quot;, BuyerAgent.class, buyerArgs);\n        buyer2.start();\n    \n        buyerArgs[0] = &quot;A&quot;;\n        AgentController buyer3 = container.createNewAgent(&quot;B3&quot;, BuyerAgent.class, buyerArgs);\n        buyer3.start();\n    \n        buyerArgs[0] = &quot;B&quot;;\n        AgentController buyer4 = container.createNewAgent(&quot;B4&quot;, BuyerAgent.class, buyerArgs);\n        buyer4.start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n\npublic class BuyerAgent extends Agent {\n    private String requestedProduct;\n    private String sellerName;\n    private List&lt;String&gt; purchasedProducts = new ArrayList&lt;&gt;();\n\n    protected void setup() {\n        // Get the requested product name as an argument\n        Object[] args = getArguments();\n        if (args != null &amp;&amp; args.length &gt; 0) {\n            requestedProduct = (String) args[0];\n        }\n\n        // Add the behavior to request the product from the seller\n        addBehaviour(new RequestProductBehaviour());\n    }\n\n    private class RequestProductBehaviour extends OneShotBehaviour {\n        public void action() {\n            ACLMessage message = new ACLMessage(ACLMessage.REQUEST);\n            message.setContent(requestedProduct);\n            message.addReceiver(sellerName);\n            myAgent.send(message);\n\n            // Wait for the seller's response\n            addBehaviour(new PurchaseResponseBehaviour());\n        }\n    }\n\n    private class PurchaseResponseBehaviour extends SimpleBehaviour {\n        private boolean receivedResponse = false;\n\n        public void action() {\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.INFORM);\n            ACLMessage message = myAgent.receive(mt);\n            if (message != null) {\n                // Product was available and was sold to this buyer\n                purchasedProducts.add(requestedProduct);\n                receivedResponse = true;\n            } else {\n                block();\n            }\n        }\n\n        public boolean done() {\n            if (receivedResponse) {\n                System.out.println(getLocalName() + &quot; purchased: &quot; + purchasedProducts);\n            }\n            return receivedResponse;\n        }\n    }\n}\n\npublic class SellerAgent extends Agent {\n    private int itemsA = 2;\n    private int itemsB = 2;\n    private List&lt;String&gt; buyers = new ArrayList&lt;&gt;();\n\n    protected void setup() {\n        // Add the behavior to handle product request messages\n        addBehaviour(new HandleRequestBehaviour());\n    }\n\n    private class HandleRequestBehaviour extends CyclicBehaviour {\n        public void action() {\n            MessageTemplate mt = MessageTemplate.MatchPerformative(ACLMessage.REQUEST);\n            ACLMessage message = myAgent.receive(mt);\n            if (message != null) {\n                String product = message.getContent();\n                String buyerName = message.getSender().getLocalName();\n                ACLMessage reply = message.createReply();\n\n                if (buyerName.equals(&quot;B3&quot;) &amp;&amp; product.equals(&quot;B&quot;)) {\n                    // Seller cannot sell product B to buyer B3\n                    reply.setPerformative(ACLMessage.FAILURE);\n                    reply.setContent(&quot;Not allowed&quot;);\n                } else if (product.equals(&quot;A&quot;) &amp;&amp; itemsA &gt; 0) {\n                    itemsA--;\n                    reply.setPerformative(ACLMessage.INFORM);\n                    buyers.add(buyerName);\n                } else if (product.equals(&quot;B&quot;) &amp;&amp; itemsB &gt;\n                0) {\n                    itemsB--;\n                    reply.setPerformative(ACLMessage.INFORM);\n                    buyers.add(buyerName);\n                } else {\n                    reply.setPerformative(ACLMessage.FAILURE);\n                    reply.setContent(&quot;Not available&quot;);\n                }\n\n                myAgent.send(reply);\n            } else {\n                block();\n            }\n        }\n    }\n\n    protected void takeDown() {\n        System.out.println(&quot;Seller &quot; + getLocalName() + &quot; sold to: &quot; + buyers);\n    }\n}\n\n\n</code></pre>\n<p>This code gives me errors below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        The method instance() is undefined for the type Runtime\n        Profile cannot be resolved to a type\n        ProfileImpl cannot be resolved to a type\n        AgentContainer cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        jade cannot be resolved\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n        AgentController cannot be resolved to a type\n\n        at Main.main(main.java:10)\n</code></pre>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607328540,"post_id":65147420,"comment_id":115227513,"body_markdown":"@martin-g , i tried most of the solutions using Session.getFeedbackMessages () , FeedbackCollector also . Nothing is working . Please help with your inputs .","body":"@martin-g , i tried most of the solutions using Session.getFeedbackMessages () , FeedbackCollector also . Nothing is working . Please help with your inputs ."}],"answers":[{"comments":[{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607421370,"post_id":65180710,"comment_id":115260660,"body_markdown":"-  i am not understanding how to implement the DefaultCleanUpFeedbackMessageFilter . Because in the page load , i have implemented - form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct)); for validating my dropdownchoice and checkbox . Do i need to add something in onSubmit class ?","body":"-  i am not understanding how to implement the DefaultCleanUpFeedbackMessageFilter . Because in the page load , i have implemented - form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct)); for validating my dropdownchoice and checkbox . Do i need to add something in onSubmit class ?"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1607427558,"post_id":65180710,"comment_id":115263332,"body_markdown":"You don&#39;t need to implement DefaultCleanUpFeedbackMessageFilter. This is the filter that Wicket uses by default. Put a breakpoint in its #accept() method and see what happens. If it is not called then may one of your former colleagues implemented a custom IFeedbackMessageFilter that does something different.","body":"You don&#39;t need to implement DefaultCleanUpFeedbackMessageFilter. This is the filter that Wicket uses by default. Put a breakpoint in its #accept() method and see what happens. If it is not called then may one of your former colleagues implemented a custom IFeedbackMessageFilter that does something different."},{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607588679,"post_id":65180710,"comment_id":115321314,"body_markdown":"i added the breakpoint and checked the getRequestCycle() it doesnt reach the FeedbackMessageFilter . In the existing code , they have used AjaxFormComponentFeedbackIndicator extending FormComponentFeedbackIndicator . But as i understand this is for one formcomponet validation at time .","body":"i added the breakpoint and checked the getRequestCycle() it doesnt reach the FeedbackMessageFilter . In the existing code , they have used AjaxFormComponentFeedbackIndicator extending FormComponentFeedbackIndicator . But as i understand this is for one formcomponet validation at time ."},{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607588730,"post_id":65180710,"comment_id":115321338,"body_markdown":"But i need to validate the empty value of bith dropdownChoice and checkbox value together , how can i use this for the same .","body":"But i need to validate the empty value of bith dropdownChoice and checkbox value together , how can i use this for the same ."},{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607596623,"post_id":65180710,"comment_id":115324831,"body_markdown":"i am not using AjaxFormComponentFeedbackIndicator , but using custom validator class extending the AbstractFormValidator . I am passing both the form components - dropdownchoice and checkbox value , performing the null check .  Using the div tag with feedback id to display the message in html .","body":"i am not using AjaxFormComponentFeedbackIndicator , but using custom validator class extending the AbstractFormValidator . I am passing both the form components - dropdownchoice and checkbox value , performing the null check .  Using the div tag with feedback id to display the message in html ."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1607612203,"post_id":65180710,"comment_id":115332268,"body_markdown":"You register an error FeedbackMessage with the call to `error(components[0], &quot;project.Required&quot;);` but it seems you never render this FeedbackMessage in any IFeedback component (like FeedbackPanel).","body":"You register an error FeedbackMessage with the call to <code>error(components[0], &quot;project.Required&quot;);</code> but it seems you never render this FeedbackMessage in any IFeedback component (like FeedbackPanel)."},{"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"score":0,"creation_date":1607686343,"post_id":65180710,"comment_id":115356403,"body_markdown":"i added a method to render the message from feedbackpanel using IFeedbackMessage filter  and called in the createCriteriaPanel method . Its now not displaying the custom message &quot;project.required&quot; . Am i missing something ? Have updated the code .","body":"i added a method to render the message from feedbackpanel using IFeedbackMessage filter  and called in the createCriteriaPanel method . Its now not displaying the custom message &quot;project.required&quot; . Am i missing something ? Have updated the code ."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1607687310,"post_id":65180710,"comment_id":115356756,"body_markdown":"Your filter does not accept ERROR messages. So they should not be rendered by the FeedbackPanel. It is hard to help you more. It seems you don&#39;t read my responses. Please join users@wicket.apache.org mailing list and ask your question.","body":"Your filter does not accept ERROR messages. So they should not be rendered by the FeedbackPanel. It is hard to help you more. It seems you don&#39;t read my responses. Please join users@wicket.apache.org mailing list and ask your question."}],"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607339728,"creation_date":1607339728,"answer_id":65180710,"question_id":65147420,"body_markdown":"When submitting a Form Wicket runs all configured validators on all FormComponents (like TextInput, TextArea, DropDownChoice, etc.). If there is a validation error then a FeedbackMessage is associated with its respective FormComponent.\r\n\r\nWhen rendering a FeedbackPanel Wicket visits all FormComponents and renders their FeedbackMessages (errors, infos, etc.). \r\n\r\nAt the end of the request cycle Wicket removes all **rendered** FeedbackMessages. If a FeedbackMessage is not rendered by any IFeedback component (like FeedbackPanel) then it will stay for the next request cycle.\r\nThis is done by [DefaultCleanupFeedbackMessageFilter][1].\r\n\r\nPut a breakpoint at DefaultCleanupFeedbackMessageFilter#accept() and see whether the problematic message is being accepted or not.\r\n\r\n\r\n  [1]: https://github.com/apache/wicket/blob/4ab85484b8d7376eafbe68cf1f812d9e87332646/wicket-core/src/main/java/org/apache/wicket/feedback/DefaultCleanupFeedbackMessageFilter.java#L32","title":"Error message displayed by FeedbackPanel does not clear on valid input submission in Wicket","body":"<p>When submitting a Form Wicket runs all configured validators on all FormComponents (like TextInput, TextArea, DropDownChoice, etc.). If there is a validation error then a FeedbackMessage is associated with its respective FormComponent.</p>\n<p>When rendering a FeedbackPanel Wicket visits all FormComponents and renders their FeedbackMessages (errors, infos, etc.).</p>\n<p>At the end of the request cycle Wicket removes all <strong>rendered</strong> FeedbackMessages. If a FeedbackMessage is not rendered by any IFeedback component (like FeedbackPanel) then it will stay for the next request cycle.\nThis is done by <a href=\"https://github.com/apache/wicket/blob/4ab85484b8d7376eafbe68cf1f812d9e87332646/wicket-core/src/main/java/org/apache/wicket/feedback/DefaultCleanupFeedbackMessageFilter.java#L32\" rel=\"nofollow noreferrer\">DefaultCleanupFeedbackMessageFilter</a>.</p>\n<p>Put a breakpoint at DefaultCleanupFeedbackMessageFilter#accept() and see whether the problematic message is being accepted or not.</p>\n"}],"owner":{"account_id":16514603,"reputation":105,"user_id":11932435,"display_name":"sharonm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697372171,"creation_date":1607100314,"question_id":65147420,"body_markdown":"I have a form where there is a dropdown and checkbox. When I don&#39;t provide any input, I get the error message set through the Feedback Panel as below code \r\n\r\n    private Form&lt;ReportCriteria&gt; createCriteriaPanel(String id, IModel&lt;ReportCriteria&gt; model) {\r\n                SelectionForm form = new SelectionForm(id, model);\r\n                ReportCriteria criteria = (ReportCriteria) getDefaultModelObject();\r\n               .......\r\n               FeedbackPanel fb = new FeedbackPanel(&quot;feedback&quot;);\r\n            fb.setOutputMarkupId(true);\r\n            form.add(fb);\r\n           DropDownChoice&lt;Project&gt; billableProjectsList = new DropDownChoice&lt;&gt;(\r\n                        &quot;projectsList&quot;,\r\n                        ......\r\n                        new ChoiceRenderer&lt;Project&gt;(&quot;fullNameWithCustomer&quot;));\r\n               \r\n                form.add(billableProjectsList);\r\n                \r\n                CheckGroup&lt;Project&gt; unbillablePrjct = .......\r\n        \r\n                form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct));\r\n                form.getFeedbackMessages().clear();\r\n        }\r\n        \r\n         protected void onSubmit() {\r\n                    \r\n                   SelectionForm.this.getFeedbackMessages().size());\r\n                  TimesheetExportCriteriaPanel.this.SelectionForm.findForm(&quot;criteriaForm&quot;).getFeedbackMessages();\r\n    }\r\n\r\nAll the feedbackmessages value is empty and not retrieving anything. \r\nI receive the error message from FormValidator correctly when I don&#39;t provide any inputs. When I provide the inputs and submit, the form refreshes and loads with the same error message.\r\n\r\nI want it to clear when we provide valid input. \r\n\r\nWhen checked on forums, I found for Wicket 6.x we need to use `component.getFeedbackMessages()`, but it is empty for me .\r\n\r\nI am new to wicket. Please help with the inputs.\r\n\r\n    public class FormComponentValidator extends AbstractFormValidator {\r\n        private static final long serialVersionUID = 1L;\r\n        private FormComponent&lt;?&gt;[] components;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public FormComponentValidator(FormComponent&lt;?&gt; selectedBillableProject, FormComponent&lt;?&gt; selectedUnBillableProject) {\r\n            components = new FormComponent[]{selectedBillableProject, selectedUnBillableProject};\r\n        }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.apache.wicket.markup.html.form.validation.IFormValidator#getDependentFormComponents()\r\n         */\r\n        public FormComponent&lt;?&gt;[] getDependentFormComponents() {\r\n            return components;\r\n        }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see org.apache.wicket.markup.html.form.validation.IFormValidator#validate(org.apache.wicket.markup.html.form.Form)\r\n         */\r\n        public void validate(Form&lt;?&gt; form ) {\r\n    \r\n            if ((org.apache.commons.lang.StringUtils.isEmpty(components[0].getInput()) || components[0].getInput() == null )\r\n                    &amp;&amp; (org.apache.commons.lang.StringUtils.isEmpty(components[1].getInput()) || components[1].getInput() == null)) {\r\n    \r\n                    error(components[0], &quot;project.Required&quot;);\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n    private void configureFeedback() {\r\n\r\n        // activate feedback panel\r\n        final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;);\r\n        feedbackPanel.setOutputMarkupId(true);\r\n        feedbackPanel.setVisible(false);\r\n\r\n        add(feedbackPanel);\r\n\r\n        // don&#39;t show filtered feedback errors in feedback panel\r\n        final int[] filteredErrorLevels = new int[] { FeedbackMessage.ERROR };\r\n        feedbackPanel.setFilter(new IFeedbackMessageFilter() {\r\n\r\n            @Override\r\n            public boolean accept(FeedbackMessage message) {\r\n\r\n                for (int errorLevel : filteredErrorLevels) {\r\n                    if (message.getLevel() == errorLevel) {\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                return true;\r\n            }\r\n","title":"Error message displayed by FeedbackPanel does not clear on valid input submission in Wicket","body":"<p>I have a form where there is a dropdown and checkbox. When I don't provide any input, I get the error message set through the Feedback Panel as below code</p>\n<pre><code>private Form&lt;ReportCriteria&gt; createCriteriaPanel(String id, IModel&lt;ReportCriteria&gt; model) {\n            SelectionForm form = new SelectionForm(id, model);\n            ReportCriteria criteria = (ReportCriteria) getDefaultModelObject();\n           .......\n           FeedbackPanel fb = new FeedbackPanel(&quot;feedback&quot;);\n        fb.setOutputMarkupId(true);\n        form.add(fb);\n       DropDownChoice&lt;Project&gt; billableProjectsList = new DropDownChoice&lt;&gt;(\n                    &quot;projectsList&quot;,\n                    ......\n                    new ChoiceRenderer&lt;Project&gt;(&quot;fullNameWithCustomer&quot;));\n           \n            form.add(billableProjectsList);\n            \n            CheckGroup&lt;Project&gt; unbillablePrjct = .......\n    \n            form.add(new FormComponentValidator(billableProjectsList, unbillablePrjct));\n            form.getFeedbackMessages().clear();\n    }\n    \n     protected void onSubmit() {\n                \n               SelectionForm.this.getFeedbackMessages().size());\n              TimesheetExportCriteriaPanel.this.SelectionForm.findForm(&quot;criteriaForm&quot;).getFeedbackMessages();\n}\n</code></pre>\n<p>All the feedbackmessages value is empty and not retrieving anything.\nI receive the error message from FormValidator correctly when I don't provide any inputs. When I provide the inputs and submit, the form refreshes and loads with the same error message.</p>\n<p>I want it to clear when we provide valid input.</p>\n<p>When checked on forums, I found for Wicket 6.x we need to use <code>component.getFeedbackMessages()</code>, but it is empty for me .</p>\n<p>I am new to wicket. Please help with the inputs.</p>\n<pre><code>public class FormComponentValidator extends AbstractFormValidator {\n    private static final long serialVersionUID = 1L;\n    private FormComponent&lt;?&gt;[] components;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public FormComponentValidator(FormComponent&lt;?&gt; selectedBillableProject, FormComponent&lt;?&gt; selectedUnBillableProject) {\n        components = new FormComponent[]{selectedBillableProject, selectedUnBillableProject};\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see org.apache.wicket.markup.html.form.validation.IFormValidator#getDependentFormComponents()\n     */\n    public FormComponent&lt;?&gt;[] getDependentFormComponents() {\n        return components;\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see org.apache.wicket.markup.html.form.validation.IFormValidator#validate(org.apache.wicket.markup.html.form.Form)\n     */\n    public void validate(Form&lt;?&gt; form ) {\n\n        if ((org.apache.commons.lang.StringUtils.isEmpty(components[0].getInput()) || components[0].getInput() == null )\n                &amp;&amp; (org.apache.commons.lang.StringUtils.isEmpty(components[1].getInput()) || components[1].getInput() == null)) {\n\n                error(components[0], &quot;project.Required&quot;);\n\n            }\n        }\n    }\n\nprivate void configureFeedback() {\n\n    // activate feedback panel\n    final FeedbackPanel feedbackPanel = new FeedbackPanel(&quot;feedback&quot;);\n    feedbackPanel.setOutputMarkupId(true);\n    feedbackPanel.setVisible(false);\n\n    add(feedbackPanel);\n\n    // don't show filtered feedback errors in feedback panel\n    final int[] filteredErrorLevels = new int[] { FeedbackMessage.ERROR };\n    feedbackPanel.setFilter(new IFeedbackMessageFilter() {\n\n        @Override\n        public boolean accept(FeedbackMessage message) {\n\n            for (int errorLevel : filteredErrorLevels) {\n                if (message.getLevel() == errorLevel) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n</code></pre>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697371941,"post_id":77296544,"comment_id":136269109,"body_markdown":"In my opinion, you&#39;re doing too much work in `init()`, and your test in `testConstructor()` makes no sense: a constructor is guaranteed to return an object, or end abruptly with an exception. If an exception would have been thrown, your test method would not have been called. In any case, there doesn&#39;t seem to be anything to test for `jobTotal`, as your code doesn&#39;t modify it, so it is always 0. It also doesn&#39;t look like the right abstraction to me.","body":"In my opinion, you&#39;re doing too much work in <code>init()</code>, and your test in <code>testConstructor()</code> makes no sense: a constructor is guaranteed to return an object, or end abruptly with an exception. If an exception would have been thrown, your test method would not have been called. In any case, there doesn&#39;t seem to be anything to test for <code>jobTotal</code>, as your code doesn&#39;t modify it, so it is always 0. It also doesn&#39;t look like the right abstraction to me."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1697372221,"post_id":77296544,"comment_id":136269139,"body_markdown":"Also check other questions like https://stackoverflow.com/questions/22677467/junit-do-static-classes-maintain-state-between-test-classes","body":"Also check other questions like <a href=\"https://stackoverflow.com/questions/22677467/junit-do-static-classes-maintain-state-between-test-classes\" title=\"junit do static classes maintain state between test classes\">stackoverflow.com/questions/22677467/&hellip;</a>"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1697373363,"post_id":77296544,"comment_id":136269232,"body_markdown":"Beware of concurrent modification of this value. Consider using AtomicInteger instead.","body":"Beware of concurrent modification of this value. Consider using AtomicInteger instead."}],"answers":[{"tags":[],"owner":{"account_id":16143882,"reputation":31,"user_id":11654174,"display_name":"SPG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697372076,"creation_date":1697372076,"answer_id":77296594,"question_id":77296544,"body_markdown":"\r\nTo test the value of a static attribute like jobTotal in your Job class using JUnit 5, you can use the @BeforeAll and @AfterAll annotations to set and reset the value. These annotations are used for setup and cleanup methods that run once before and after all the test methods in a test class. Here&#39;s how you can do it.\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\r\n        ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\r\n        equipment.add(new Torch(&quot;Don&#39;t turn on or it explodes&quot;));\r\n        j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\r\n    }\r\n\r\n    @Test\r\n    void testConstructor() {\r\n        assertFalse(j1 == null);\r\n    }\r\n\r\n    @Test\r\n    void testGetJobTotal() {\r\n        // Assuming you have set up some jobs, you can test the static attribute like this:\r\n        int initialTotal = Job.getJobTotal();\r\n        \r\n        // Perform actions that change the jobTotal, e.g., creating more jobs\r\n\r\n        int updatedTotal = Job.getJobTotal();\r\n\r\n        // Now you can assert the values\r\n        assertEquals(initialTotal + 1, updatedTotal); // Or any expected value based on your test scenario\r\n    }\r\n\r\n    @BeforeAll\r\n    static void setup() {\r\n        // Initialize or set up anything needed before running the tests\r\n    }\r\n\r\n    @AfterAll\r\n    static void cleanup() {\r\n        // Clean up or reset any state that was changed during testing\r\n    }\r\n}\r\n","title":"How can I test the value of a static attribute with JUnit?","body":"<p>To test the value of a static attribute like jobTotal in your Job class using JUnit 5, you can use the @BeforeAll and @AfterAll annotations to set and reset the value. These annotations are used for setup and cleanup methods that run once before and after all the test methods in a test class. Here's how you can do it.</p>\n<pre><code>@BeforeEach\nvoid init() {\n    Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\n    ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\n    equipment.add(new Torch(&quot;Don't turn on or it explodes&quot;));\n    j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\n}\n\n@Test\nvoid testConstructor() {\n    assertFalse(j1 == null);\n}\n\n@Test\nvoid testGetJobTotal() {\n    // Assuming you have set up some jobs, you can test the static attribute like this:\n    int initialTotal = Job.getJobTotal();\n    \n    // Perform actions that change the jobTotal, e.g., creating more jobs\n\n    int updatedTotal = Job.getJobTotal();\n\n    // Now you can assert the values\n    assertEquals(initialTotal + 1, updatedTotal); // Or any expected value based on your test scenario\n}\n\n@BeforeAll\nstatic void setup() {\n    // Initialize or set up anything needed before running the tests\n}\n\n@AfterAll\nstatic void cleanup() {\n    // Clean up or reset any state that was changed during testing\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1697389673,"answer_count":1,"score":-2,"last_activity_date":1697372076,"creation_date":1697371231,"question_id":77296544,"body_markdown":"I have the following Job class:\r\n\r\n     public class Job {\r\n        static int jobTotal = 0;\r\n\r\n        private int jobNumber;\r\n        private Address location;\r\n        private String description;\r\n        private List&lt;Equipment&gt; requiredEquipment;\r\n        private Date plannedDate;\r\n\r\n        public static int getJobTotal() {\r\n            return jobTotal;\r\n        }\r\n     }\r\n\r\nThis class contains a bunch of other methods, but getJobTotal is the only one that is relevant in this case.\r\n\r\nInside JobTest.java I run a couple of tests for each of these methods (there are around 14 test methods):\r\n\r\n    class JobTest {\r\n        Job j1;\r\n    \r\n        @BeforeEach\r\n        void init() {\r\n            Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\r\n            ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\r\n            equipment.add(new Torch(&quot;Don&#39;t turn on or it explodes&quot;));\r\n            j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\r\n        }\r\n    \r\n        @Test\r\n        void testConstructor() {\r\n            assertFalse(j1 == null);\r\n        }\r\n    \r\n        @Test\r\n        void getJobTotal() {\r\n            //? How do I test for getJobTotal?\r\n        }\r\n    }\r\n\r\nHowever, tests are not ran in the order in which they are defined inside the test file. As a result, my BeforeEach could trigger an unknown amount of times before reaching getJobTotal(the test method I mean).\r\n\r\nHow could I test that the getter returns a &quot;correct&quot; value? Because I can&#39;t really place any value inside the &quot;expected&quot; parameter of assertEquals().\r\n\r\nPS: I am using JUnit 5\r\n","title":"How can I test the value of a static attribute with JUnit?","body":"<p>I have the following Job class:</p>\n<pre><code> public class Job {\n    static int jobTotal = 0;\n\n    private int jobNumber;\n    private Address location;\n    private String description;\n    private List&lt;Equipment&gt; requiredEquipment;\n    private Date plannedDate;\n\n    public static int getJobTotal() {\n        return jobTotal;\n    }\n }\n</code></pre>\n<p>This class contains a bunch of other methods, but getJobTotal is the only one that is relevant in this case.</p>\n<p>Inside JobTest.java I run a couple of tests for each of these methods (there are around 14 test methods):</p>\n<pre><code>class JobTest {\n    Job j1;\n\n    @BeforeEach\n    void init() {\n        Address a = new Address(&quot;street&quot;, 111, &quot;zip&quot;, &quot;city&quot;);\n        ArrayList&lt;Equipment&gt; equipment = new ArrayList&lt;&gt;();\n        equipment.add(new Torch(&quot;Don't turn on or it explodes&quot;));\n        j1 = new Job(a, &quot;Replace lightbulb&quot;, equipment, new Date(15, 10, 2023));\n    }\n\n    @Test\n    void testConstructor() {\n        assertFalse(j1 == null);\n    }\n\n    @Test\n    void getJobTotal() {\n        //? How do I test for getJobTotal?\n    }\n}\n</code></pre>\n<p>However, tests are not ran in the order in which they are defined inside the test file. As a result, my BeforeEach could trigger an unknown amount of times before reaching getJobTotal(the test method I mean).</p>\n<p>How could I test that the getter returns a &quot;correct&quot; value? Because I can't really place any value inside the &quot;expected&quot; parameter of assertEquals().</p>\n<p>PS: I am using JUnit 5</p>\n"},{"tags":["java","hibernate","jpa","one-to-many","bag"],"comments":[{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":2,"creation_date":1516063661,"post_id":4334970,"comment_id":83529089,"body_markdown":"I would ask, what SQL query are you hoping to generate that will retrieve two separate collections simultaneously?  The kinds of SQL that would be able to achieve these would either require a cartesian join (potentially highly inefficient) or a UNION of disjoint columns (also ugly). Presumably the inability to achieve this in SQL in a clean &amp; efficient manner influenced the API design.","body":"I would ask, what SQL query are you hoping to generate that will retrieve two separate collections simultaneously?  The kinds of SQL that would be able to achieve these would either require a cartesian join (potentially highly inefficient) or a UNION of disjoint columns (also ugly). Presumably the inability to achieve this in SQL in a clean &amp; efficient manner influenced the API design."},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1539520137,"post_id":4334970,"comment_id":92523793,"body_markdown":"@ThomasW These are the sql queries it should generate: `select * from master; select * from child1 where master_id = :master_id; select * from child2 where master_id = :master_id`","body":"@ThomasW These are the sql queries it should generate: <code>select * from master; select * from child1 where master_id = :master_id; select * from child2 where master_id = :master_id</code>"},{"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"score":2,"creation_date":1582224116,"post_id":4334970,"comment_id":106713133,"body_markdown":"You can get a simillar error if you have more than one `List&lt;child&gt;` with `fetchType` defined for **more than one** `List&lt;clield&gt;`","body":"You can get a simillar error if you have more than one <code>List&lt;child&gt;</code> with <code>fetchType</code> defined for <b>more than one</b> <code>List&lt;clield&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":66555,"reputation":12901,"user_id":195176,"accept_rate":88,"display_name":"blow"},"score":1,"creation_date":1291312132,"post_id":4335514,"comment_id":4716164,"body_markdown":"i&#39;m using hibernate 3.6, i tried your suggest but the problem remains.","body":"i&#39;m using hibernate 3.6, i tried your suggest but the problem remains."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":6,"creation_date":1291312293,"post_id":4335514,"comment_id":4716203,"body_markdown":"odd, it has worked for me. Did you remove the `fetchType` from the `@*ToMany` ?","body":"odd, it has worked for me. Did you remove the <code>fetchType</code> from the <code>@*ToMany</code> ?"},{"owner":{"account_id":66555,"reputation":12901,"user_id":195176,"accept_rate":88,"display_name":"blow"},"score":1,"creation_date":1291317373,"post_id":4335514,"comment_id":4717210,"body_markdown":"oh, sorry, ok now works. However what is the reason of this problem? I used fetchtype EAGER a lot of times in equal situation without problem, why now i have this trouble? Thank you.","body":"oh, sorry, ok now works. However what is the reason of this problem? I used fetchtype EAGER a lot of times in equal situation without problem, why now i have this trouble? Thank you."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":118,"creation_date":1291332429,"post_id":4335514,"comment_id":4720277,"body_markdown":"the problem is that the JPA annotations are parsed not to allow more than 2 eagerly loaded collection. But the hibernate-specific annnotations allow it.","body":"the problem is that the JPA annotations are parsed not to allow more than 2 eagerly loaded collection. But the hibernate-specific annnotations allow it."},{"owner":{"account_id":424205,"reputation":596,"user_id":804063,"accept_rate":81,"display_name":"AR3Y35"},"score":21,"creation_date":1339931890,"post_id":4335514,"comment_id":14490040,"body_markdown":"The need for more than 1 EAGER seems totally realistic.  Is this limitation just a JPA oversight?  What are the concerns I should look for when having muliple EAGERs?","body":"The need for more than 1 EAGER seems totally realistic.  Is this limitation just a JPA oversight?  What are the concerns I should look for when having muliple EAGERs?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":9,"creation_date":1340018396,"post_id":4335514,"comment_id":14507526,"body_markdown":"the thing is, hibernate can&#39;t fetch the two collections with one query. So when you query for the parent entity, it will need 2 extra queries per result, which is normally something you don&#39;t want.","body":"the thing is, hibernate can&#39;t fetch the two collections with one query. So when you query for the parent entity, it will need 2 extra queries per result, which is normally something you don&#39;t want."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1362885117,"post_id":4335514,"comment_id":21627434,"body_markdown":"This problem is exacerbated by JSF that only implements List in its UIData components. Even wrapping a Set in an ArrayList in JSF causes yet other problems, hence Lists linked directly to JPA is what JSF requires.","body":"This problem is exacerbated by JSF that only implements List in its UIData components. Even wrapping a Set in an ArrayList in JSF causes yet other problems, hence Lists linked directly to JPA is what JSF requires."},{"owner":{"account_id":155884,"reputation":3926,"user_id":372838,"accept_rate":50,"display_name":"dvtoever"},"score":0,"creation_date":1366103145,"post_id":4335514,"comment_id":22872212,"body_markdown":"I only ran into this problem in my JUnit tests. It was unable to build EntityManagerFactory because of this MultipleBagFetchException. This answer solved it!","body":"I only ran into this problem in my JUnit tests. It was unable to build EntityManagerFactory because of this MultipleBagFetchException. This answer solved it!"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":12,"creation_date":1380029372,"post_id":4335514,"comment_id":28039907,"body_markdown":"It&#39;d be great to have an explanation as to why this resolves the issue.","body":"It&#39;d be great to have an explanation as to why this resolves the issue."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1380030784,"post_id":4335514,"comment_id":28040841,"body_markdown":"to be honest, I don&#39;t know precisely - hibernate has some internal implementation details that make it possible. Probably different ways of handling (or simply validating?) the two annotations","body":"to be honest, I don&#39;t know precisely - hibernate has some internal implementation details that make it possible. Probably different ways of handling (or simply validating?) the two annotations"},{"owner":{"account_id":3377960,"reputation":1382,"user_id":3079057,"display_name":"Peter Catalin"},"score":0,"creation_date":1536092314,"post_id":4335514,"comment_id":91297704,"body_markdown":"@Webnet maybe this will make it clearer for you: https://github.com/introproventures/graphql-jpa-query/issues/2","body":"@Webnet maybe this will make it clearer for you: <a href=\"https://github.com/introproventures/graphql-jpa-query/issues/2\" rel=\"nofollow noreferrer\">github.com/introproventures/graphql-jpa-query/issues/2</a>"},{"owner":{"account_id":39203,"reputation":63049,"user_id":112955,"accept_rate":67,"display_name":"sakra"},"score":1,"creation_date":1567772918,"post_id":4335514,"comment_id":102074136,"body_markdown":"Hibernate is a leaky abstraction that just does not work.","body":"Hibernate is a leaky abstraction that just does not work."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1610819474,"post_id":4335514,"comment_id":116254507,"body_markdown":"But I am trying to fetch them lazily, what&#39;s the problem of having two collections? Lazily means NOT at the same time, so what&#39;s the problem with two lists with no eager setted?","body":"But I am trying to fetch them lazily, what&#39;s the problem of having two collections? Lazily means NOT at the same time, so what&#39;s the problem with two lists with no eager setted?"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1610861293,"post_id":4335514,"comment_id":116263252,"body_markdown":"This doesn&#39;t work if you are fetching the lists with an Entity Graph","body":"This doesn&#39;t work if you are fetching the lists with an Entity Graph"},{"owner":{"account_id":4562322,"reputation":323,"user_id":3704307,"accept_rate":100,"display_name":"Code Eyez"},"score":0,"creation_date":1675349279,"post_id":4335514,"comment_id":132913486,"body_markdown":"There&#39;s undefined behavior for fetching two Sets at the same time. Other users have different errors, but I was getting an StackOverflow error when hibernate was building a HashSet. I had to revert to List just to get it query calls to return.","body":"There&#39;s undefined behavior for fetching two Sets at the same time. Other users have different errors, but I was getting an StackOverflow error when hibernate was building a HashSet. I had to revert to List just to get it query calls to return."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":15,"down_vote_count":7,"up_vote_count":695,"is_accepted":true,"score":688,"last_activity_date":1689892963,"creation_date":1291296630,"answer_id":4335514,"question_id":4334970,"body_markdown":"I think a newer version of hibernate (supporting JPA 2.0) should handle this. But otherwise you can work it around by annotating the collection fields with:\r\n\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n\r\nRemember to remove the `fetchType` attribute from the `@*ToMany` annotation.\r\n\r\nBut note that in most cases a `Set&lt;Child&gt;` is more appropriate than `List&lt;Child&gt;`, so unless you really need a `List` - go for `Set`\r\n\r\n#### Use with caution\r\nRemember that using a `Set` **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>I think a newer version of hibernate (supporting JPA 2.0) should handle this. But otherwise you can work it around by annotating the collection fields with:</p>\n<pre><code>@LazyCollection(LazyCollectionOption.FALSE)\n</code></pre>\n<p>Remember to remove the <code>fetchType</code> attribute from the <code>@*ToMany</code> annotation.</p>\n<p>But note that in most cases a <code>Set&lt;Child&gt;</code> is more appropriate than <code>List&lt;Child&gt;</code>, so unless you really need a <code>List</code> - go for <code>Set</code></p>\n<h4>Use with caution</h4>\n<p>Remember that using a <code>Set</code> <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"comments":[{"owner":{"account_id":164909,"reputation":14734,"user_id":387981,"accept_rate":88,"display_name":"Matteo"},"score":44,"creation_date":1331825763,"post_id":5865605,"comment_id":12361679,"body_markdown":"A List and a Set are not the same thing: a set does not preserve order","body":"A List and a Set are not the same thing: a set does not preserve order"},{"owner":{"account_id":397662,"reputation":1234,"user_id":761918,"display_name":"egallardo"},"score":19,"creation_date":1337127163,"post_id":5865605,"comment_id":13748076,"body_markdown":"LinkedHashSet preserves order","body":"LinkedHashSet preserves order"},{"owner":{"account_id":99786,"reputation":2155,"user_id":269361,"accept_rate":79,"display_name":"fool4jesus"},"score":18,"creation_date":1354822706,"post_id":5865605,"comment_id":18898443,"body_markdown":"This is an important distinction and, when you think about it, entirely correct. The typical many-to-one implemented by a foreign key in the DB is really not a List, it&#39;s a Set because order is not preserved. So Set is really more appropriate. I think that makes the difference in hibernate, though I don&#39;t know why.","body":"This is an important distinction and, when you think about it, entirely correct. The typical many-to-one implemented by a foreign key in the DB is really not a List, it&#39;s a Set because order is not preserved. So Set is really more appropriate. I think that makes the difference in hibernate, though I don&#39;t know why."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":3,"creation_date":1413404552,"post_id":5865605,"comment_id":41435875,"body_markdown":"I was having the same **cannot simultaneously fetch multiple bags** but not because of annotations. In my case, I was doing left joins and disjunctions with the two `*ToMany`. Changing the type to `Set` solved my problem too. Excellent and neat solution. This should be the official answer.","body":"I was having the same <b>cannot simultaneously fetch multiple bags</b> but not because of annotations. In my case, I was doing left joins and disjunctions with the two <code>*ToMany</code>. Changing the type to <code>Set</code> solved my problem too. Excellent and neat solution. This should be the official answer."},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":1,"creation_date":1444318257,"post_id":5865605,"comment_id":53863066,"body_markdown":"If you want to preserver order you should use `SortedSet`.","body":"If you want to preserver order you should use <code>SortedSet</code>."},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":3,"creation_date":1484997436,"post_id":5865605,"comment_id":70747890,"body_markdown":"@OndrejBozek But what order are you preserving? We are talking about a foreign key relation in the database. The DB can (and will) return the items in the order that happens to be most convenient to it. If you really want to control order, you need to add some ordering rule to the fetch query (not sure if/how it can be done with JPA), and maybe add some index field to sort on.","body":"@OndrejBozek But what order are you preserving? We are talking about a foreign key relation in the database. The DB can (and will) return the items in the order that happens to be most convenient to it. If you really want to control order, you need to add some ordering rule to the fetch query (not sure if/how it can be done with JPA), and maybe add some index field to sort on."},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":1,"creation_date":1485346785,"post_id":5865605,"comment_id":70886650,"body_markdown":"@StijndeWitt yes you can sort yout foreign key relation using `@OrderBy` or (in case of Hibernate) `@SortComparator` annotation. The you need to have `SortedSet`.It&#39;s quite common to have your associations sorted.","body":"@StijndeWitt yes you can sort yout foreign key relation using <code>@OrderBy</code> or (in case of Hibernate) <code>@SortComparator</code> annotation. The you need to have <code>SortedSet</code>.It&#39;s quite common to have your associations sorted."},{"owner":{"account_id":1049806,"reputation":552,"user_id":1054014,"display_name":"Hinotori"},"score":30,"creation_date":1485881774,"post_id":5865605,"comment_id":71105279,"body_markdown":"I liked the answer, but the million dollar question is: Why? Why with Set don&#39;t show exceptions? Thanks","body":"I liked the answer, but the million dollar question is: Why? Why with Set don&#39;t show exceptions? Thanks"},{"owner":{"account_id":5250345,"reputation":431,"user_id":4194792,"display_name":"bigMC28"},"score":3,"creation_date":1496276129,"post_id":5865605,"comment_id":75599190,"body_markdown":"I have a perfectly valid use case that was blowing up with this same exceptions when using List. I changed the code as Ahmad suggested and now I&#39;m all &quot;Set&quot;. :)","body":"I have a perfectly valid use case that was blowing up with this same exceptions when using List. I changed the code as Ahmad suggested and now I&#39;m all &quot;Set&quot;. :)"},{"owner":{"account_id":1454594,"reputation":2902,"user_id":1520291,"accept_rate":87,"display_name":"Dmytro Titov"},"score":1,"creation_date":1563971290,"post_id":5865605,"comment_id":100876566,"body_markdown":"I had a similar problem, but I had `Collection` instead of `List`. Anyway, after I changed it to `Set`, the problem was gone. So, thanks!","body":"I had a similar problem, but I had <code>Collection</code> instead of <code>List</code>. Anyway, after I changed it to <code>Set</code>, the problem was gone. So, thanks!"}],"tags":[],"owner":{"account_id":222143,"reputation":3512,"user_id":480549,"display_name":"Ahmad Zyoud"},"comment_count":10,"down_vote_count":19,"up_vote_count":347,"is_accepted":false,"score":328,"last_activity_date":1689892416,"creation_date":1304402107,"answer_id":5865605,"question_id":4334970,"body_markdown":"Simply change from `List` type to `Set` type.\r\n#### Use with caution\r\nThis solution is not recommended as it **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Simply change from <code>List</code> type to <code>Set</code> type.</p>\n<h4>Use with caution</h4>\n<p>This solution is not recommended as it <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"comments":[{"owner":{"account_id":1518381,"reputation":824,"user_id":1418801,"accept_rate":85,"display_name":"HakunaMatata"},"score":6,"creation_date":1376141691,"post_id":8309458,"comment_id":26606475,"body_markdown":"@DaveRlz why subSelect solves this problem. I tried your solution and its working, but dont know how the problem was solved by using this ?","body":"@DaveRlz why subSelect solves this problem. I tried your solution and its working, but dont know how the problem was solved by using this ?"},{"owner":{"account_id":1420513,"reputation":2811,"user_id":1345237,"display_name":"mstrthealias"},"score":4,"creation_date":1429655712,"post_id":8309458,"comment_id":47698611,"body_markdown":"This is the best answer unless a `Set` really makes sense.  Having a single `OneToMany` relationship using a `Set` results in `1+&lt;# relationships&gt;` queries, where as using `FetchMode.SUBSELECT` results in `1+1` queries.  Also, using the annotation in the accepted answer (`LazyCollectionOption.FALSE`) causes even more queries to be executed.","body":"This is the best answer unless a <code>Set</code> really makes sense.  Having a single <code>OneToMany</code> relationship using a <code>Set</code> results in <code>1+&lt;# relationships&gt;</code> queries, where as using <code>FetchMode.SUBSELECT</code> results in <code>1+1</code> queries.  Also, using the annotation in the accepted answer (<code>LazyCollectionOption.FALSE</code>) causes even more queries to be executed."},{"owner":{"account_id":3107618,"reputation":552,"user_id":2630099,"accept_rate":67,"display_name":"Milinda Bandara"},"score":1,"creation_date":1501083069,"post_id":8309458,"comment_id":77624593,"body_markdown":"FetchType.EAGER is not a proper solution for this.\nNeed to proceed with Hibernate Fetch Profiles and need to solve it","body":"FetchType.EAGER is not a proper solution for this. Need to proceed with Hibernate Fetch Profiles and need to solve it"},{"owner":{"account_id":2374882,"reputation":422,"user_id":2078544,"accept_rate":50,"display_name":"netikras"},"score":0,"creation_date":1503692185,"post_id":8309458,"comment_id":78737106,"body_markdown":"Every time I forget that annotation name I come back to this answer. ...Every time :)","body":"Every time I forget that annotation name I come back to this answer. ...Every time :)"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1508084133,"post_id":8309458,"comment_id":80459605,"body_markdown":"Oh MAN! My controller was getting duplicate object list-nodes back from responses and this answer fixed it!  Thank you!  @DaveRlz   Im using JPA2.2 .","body":"Oh MAN! My controller was getting duplicate object list-nodes back from responses and this answer fixed it!  Thank you!  @DaveRlz   Im using JPA2.2 ."},{"owner":{"account_id":1093275,"reputation":124,"user_id":1087415,"display_name":"Blindworks"},"score":3,"creation_date":1519300118,"post_id":8309458,"comment_id":84859354,"body_markdown":"The two other top answers did not solve my problem. This one did. Thank you!","body":"The two other top answers did not solve my problem. This one did. Thank you!"},{"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"score":5,"creation_date":1546619027,"post_id":8309458,"comment_id":94920672,"body_markdown":"Does anyone know why does SUBSELECT fix it, but JOIN does not?","body":"Does anyone know why does SUBSELECT fix it, but JOIN does not?"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1586877659,"post_id":8309458,"comment_id":108287030,"body_markdown":"Now I get: `LazyInitializationException: failed to lazily initialize a collection of role: xxxx  could not initialize proxy - no Session` error. I had to use `EAGER` or `LazyCollection` approach.","body":"Now I get: <code>LazyInitializationException: failed to lazily initialize a collection of role: xxxx  could not initialize proxy - no Session</code> error. I had to use <code>EAGER</code> or <code>LazyCollection</code> approach."},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":1,"creation_date":1600444017,"post_id":8309458,"comment_id":113100147,"body_markdown":"Worth mentioning this is **`org.hibernate.annotations.FetchMode`** *(not `org.hibernate.FetchMode`)*","body":"Worth mentioning this is <b><code>org.hibernate.annotations.FetchMode</code></b> <i>(not <code>org.hibernate.FetchMode</code>)</i>"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1604535491,"post_id":8309458,"comment_id":114379691,"body_markdown":"This should be tha accepted answer, it is not only easy to implement and understand, It is also really well performing!","body":"This should be tha accepted answer, it is not only easy to implement and understand, It is also really well performing!"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1700832201,"post_id":8309458,"comment_id":136704546,"body_markdown":"I would like to integrate the comment from @SteveChambers in the answer but now the edit queue is full, as usual","body":"I would like to integrate the comment from @SteveChambers in the answer but now the edit queue is full, as usual"}],"tags":[],"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"comment_count":11,"down_vote_count":1,"up_vote_count":186,"is_accepted":false,"score":185,"last_activity_date":1555598371,"creation_date":1322563562,"answer_id":8309458,"question_id":4334970,"body_markdown":"Add a Hibernate-specific @Fetch annotation to your code:\r\n\r\n    @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    private List&lt;Child&gt; childs;\r\n\r\nThis should fix the issue, related to Hibernate bug [HHH-1718][1]\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-1718","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Add a Hibernate-specific @Fetch annotation to your code:</p>\n\n<pre><code>@OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n@Fetch(value = FetchMode.SUBSELECT)\nprivate List&lt;Child&gt; childs;\n</code></pre>\n\n<p>This should fix the issue, related to Hibernate bug <a href=\"https://hibernate.atlassian.net/browse/HHH-1718\" rel=\"noreferrer\">HHH-1718</a></p>\n"},{"comments":[{"owner":{"account_id":3071426,"reputation":6563,"user_id":2601995,"accept_rate":100,"display_name":"user2601995"},"score":7,"creation_date":1424897085,"post_id":22070858,"comment_id":45744665,"body_markdown":"adding `@Fetch(value = FetchMode.SUBSELECT)` was enough","body":"adding <code>@Fetch(value = FetchMode.SUBSELECT)</code> was enough"},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":1,"creation_date":1496136886,"post_id":22070858,"comment_id":75525164,"body_markdown":"This is a Hibernate only solution. What if you are using a shared JPA library?","body":"This is a Hibernate only solution. What if you are using a shared JPA library?"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":5,"creation_date":1524993003,"post_id":22070858,"comment_id":87185664,"body_markdown":"I&#39;m sure you didnt mean to, but DaveRlz already wrote the same thing 3 years earlier","body":"I&#39;m sure you didnt mean to, but DaveRlz already wrote the same thing 3 years earlier"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":1,"creation_date":1700832247,"post_id":22070858,"comment_id":136704556,"body_markdown":"This is probably duplicate of the above answer: https://stackoverflow.com/a/8309458/3451846","body":"This is probably duplicate of the above answer: <a href=\"https://stackoverflow.com/a/8309458/3451846\">stackoverflow.com/a/8309458/3451846</a>"}],"tags":[],"owner":{"account_id":4093368,"reputation":597,"user_id":3360814,"display_name":"Javier"},"comment_count":4,"down_vote_count":2,"up_vote_count":50,"is_accepted":false,"score":48,"last_activity_date":1395938774,"creation_date":1393509796,"answer_id":22070858,"question_id":4334970,"body_markdown":"After trying with every single option describe in this posts and others, I came to the conclusion that the the fix is a follows.\r\n\r\nIn every XToMany place @`XXXToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)`\r\nand intermediately after\r\n\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n\r\nThis worked for me","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>After trying with every single option describe in this posts and others, I came to the conclusion that the the fix is a follows.</p>\n\n<p>In every XToMany place @<code>XXXToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)</code>\nand intermediately after</p>\n\n<pre><code>@Fetch(value = FetchMode.SUBSELECT)\n</code></pre>\n\n<p>This worked for me</p>\n"},{"comments":[{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1604535817,"post_id":25674480,"comment_id":114379758,"body_markdown":"Both recommendations you made are very bad in terms of performance.","body":"Both recommendations you made are very bad in terms of performance."}],"tags":[],"owner":{"account_id":4509757,"reputation":1106,"user_id":3666217,"accept_rate":50,"display_name":"Prateek Singh"},"comment_count":1,"down_vote_count":7,"up_vote_count":24,"is_accepted":false,"score":17,"last_activity_date":1689892669,"creation_date":1409862598,"answer_id":25674480,"question_id":4334970,"body_markdown":"To fix it simply take `Set` in place of `List` for your nested object.\r\n\r\n    @OneToMany\r\n    Set&lt;Your_object&gt; objectList;\r\n\r\nAnd don&#39;t forget to use `fetch=FetchType.EAGER`, It&#39;ll work.\r\n\r\nThere is one more concept `CollectionId` in Hibernate if you want to stick with list only.\r\n\r\n#### Use with caution \r\nRemember that you **won&#39;t** eliminate the underlying **Cartesian Product** as described by [Vlad Mihalcea in his answer][1]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51055523/1657465","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>To fix it simply take <code>Set</code> in place of <code>List</code> for your nested object.</p>\n<pre><code>@OneToMany\nSet&lt;Your_object&gt; objectList;\n</code></pre>\n<p>And don't forget to use <code>fetch=FetchType.EAGER</code>, It'll work.</p>\n<p>There is one more concept <code>CollectionId</code> in Hibernate if you want to stick with list only.</p>\n<h4>Use with caution</h4>\n<p>Remember that you <strong>won't</strong> eliminate the underlying <strong>Cartesian Product</strong> as described by <a href=\"https://stackoverflow.com/a/51055523/1657465\">Vlad Mihalcea in his answer</a>!</p>\n"},{"tags":[],"owner":{"account_id":6666875,"reputation":121,"user_id":5144274,"display_name":"Felipe Cadena"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444916301,"creation_date":1444916301,"answer_id":33150111,"question_id":4334970,"body_markdown":"When you have too complex objects with saveral collection could not be good idea to have all of them with EAGER fetchType, better use LAZY and when you really need to load the collections use: `Hibernate.initialize(parent.child)` to fetch the data.","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>When you have too complex objects with saveral collection could not be good idea to have all of them with EAGER fetchType, better use LAZY and when you really need to load the collections use: <code>Hibernate.initialize(parent.child)</code> to fetch the data.</p>\n"},{"tags":[],"owner":{"account_id":1576989,"reputation":1062,"user_id":1463168,"display_name":"Massimo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493112558,"creation_date":1493110388,"answer_id":43605905,"question_id":4334970,"body_markdown":"you can keep booth EAGER lists in JPA and add to at least one of them the JPA annotation **@OrderColumn** (with obviously the name of a field to be ordered). No need of specific hibernate annotations.\r\nBut keep in mind it could create empty elements in the list if the chosen field does not have values starting from 0\r\n\r\n     [...]\r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     @OrderColumn(name=&quot;orderIndex&quot;)\r\n     private List&lt;Child&gt; children;\r\n     [...]\r\n\r\nin Children then you should add the orderIndex field ","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>you can keep booth EAGER lists in JPA and add to at least one of them the JPA annotation <strong>@OrderColumn</strong> (with obviously the name of a field to be ordered). No need of specific hibernate annotations.\nBut keep in mind it could create empty elements in the list if the chosen field does not have values starting from 0</p>\n\n<pre><code> [...]\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n @OrderColumn(name=\"orderIndex\")\n private List&lt;Child&gt; children;\n [...]\n</code></pre>\n\n<p>in Children then you should add the orderIndex field </p>\n"},{"comments":[{"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"score":5,"creation_date":1502974628,"post_id":44534844,"comment_id":78429143,"body_markdown":"JPA3.0 does not exist.","body":"JPA3.0 does not exist."}],"tags":[],"owner":{"account_id":7517141,"reputation":1,"user_id":5710188,"display_name":"leee41"},"comment_count":1,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1504668401,"creation_date":1497410467,"answer_id":44534844,"question_id":4334970,"body_markdown":"You could use a new annotation to solve this:\r\n\r\n    @XXXToXXX(targetEntity = XXXX.class, fetch = FetchType.LAZY)\r\n\r\nIn fact, fetch&#39;s default value is FetchType.LAZY too.","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>You could use a new annotation to solve this:</p>\n\n<pre><code>@XXXToXXX(targetEntity = XXXX.class, fetch = FetchType.LAZY)\n</code></pre>\n\n<p>In fact, fetch's default value is FetchType.LAZY too.</p>\n"},{"tags":[],"owner":{"account_id":10456804,"reputation":67,"user_id":7921777,"display_name":"Mike Dudley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541531601,"creation_date":1515592376,"answer_id":48188968,"question_id":4334970,"body_markdown":"We tried **Set** instead of **List** and it is a nightmare: when you add two new objects, **equals**() and **hashCode**() fail to distinguish both of them ! Because they don&#39;t have any id.\r\n\r\ntypical tools like Eclipse generate that kind of code from Database tables:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\r\n        return result;\r\n    }\r\n\r\nYou may also read [this article][1] that explains properly how messed up JPA/Hibernate is. After reading this, I think this is the last time I use any ORM in my life.\r\n\r\nI&#39;ve also encounter Domain Driven Design guys that basically say ORM are a terrible thing.\r\n\r\n\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>We tried <strong>Set</strong> instead of <strong>List</strong> and it is a nightmare: when you add two new objects, <strong>equals</strong>() and <strong>hashCode</strong>() fail to distinguish both of them ! Because they don't have any id.</p>\n\n<p>typical tools like Eclipse generate that kind of code from Database tables:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + ((id == null) ? 0 : id.hashCode());\n    return result;\n}\n</code></pre>\n\n<p>You may also read <a href=\"http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1\" rel=\"nofollow noreferrer\">this article</a> that explains properly how messed up JPA/Hibernate is. After reading this, I think this is the last time I use any ORM in my life.</p>\n\n<p>I've also encounter Domain Driven Design guys that basically say ORM are a terrible thing.</p>\n"},{"comments":[{"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"score":0,"creation_date":1574076712,"post_id":51055523,"comment_id":104089135,"body_markdown":"Thanks for the shared knowledge. However,  `DISTINCT` is performance killer in this solution. Is there a way to get rid of `distinct`? (tried to return `Set&lt;...&gt;` instead, didn&#39;t help much)","body":"Thanks for the shared knowledge. However,  <code>DISTINCT</code> is performance killer in this solution. Is there a way to get rid of <code>distinct</code>? (tried to return <code>Set&lt;...&gt;</code> instead, didn&#39;t help much)"},{"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"score":2,"creation_date":1574340881,"post_id":51055523,"comment_id":104204034,"body_markdown":"Vlad, thanks for the help I find it really usuful. However, the issue was related to `hibernate.jdbc.fetch_size` (eventually I set it to 350). By the chance, do you know how to optimize nested relations? E.g. entity1 -&gt; entity2 -&gt; entity3.1, entity 3.2 (where entity3.1 / 3.2 are @OneToMany relations)","body":"Vlad, thanks for the help I find it really usuful. However, the issue was related to <code>hibernate.jdbc.fetch_size</code> (eventually I set it to 350). By the chance, do you know how to optimize nested relations? E.g. entity1 -&gt; entity2 -&gt; entity3.1, entity 3.2 (where entity3.1 / 3.2 are @OneToMany relations)"},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":0,"creation_date":1580210784,"post_id":51055523,"comment_id":106015313,"body_markdown":"Can&#39;t we avoid Cartesian Product by using DISTINCT in one single jpql query with `Set`?","body":"Can&#39;t we avoid Cartesian Product by using DISTINCT in one single jpql query with <code>Set</code>?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":3,"creation_date":1580211634,"post_id":51055523,"comment_id":106015768,"body_markdown":"No, you can not. Think about it in terms of SQL. You cannot JOIN multiple one-to-many associations without generating a Cartesian Product.","body":"No, you can not. Think about it in terms of SQL. You cannot JOIN multiple one-to-many associations without generating a Cartesian Product."},{"owner":{"account_id":9930802,"reputation":350,"user_id":7350856,"accept_rate":80,"display_name":"Mat&#237;as W."},"score":0,"creation_date":1589854348,"post_id":51055523,"comment_id":109451997,"body_markdown":"What if comments has another collection that you want load with EAGER loading (List&lt;CommentReviews&gt;). I tried and had the same MultipleBagFetchException problem","body":"What if comments has another collection that you want load with EAGER loading (List&lt;CommentReviews&gt;). I tried and had the same MultipleBagFetchException problem"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1589867793,"post_id":51055523,"comment_id":109455335,"body_markdown":"You only get a `MultipleBagFetchException` if you issue `JOIN FETCH` twice in a JPQL query. However, the solution in this answer doesn&#39;t tell you to do that. If you read the answer carefully, you will see that you achieve the same goal using a single `JOIN FETCH` and an additional secondary query.","body":"You only get a <code>MultipleBagFetchException</code> if you issue <code>JOIN FETCH</code> twice in a JPQL query. However, the solution in this answer doesn&#39;t tell you to do that. If you read the answer carefully, you will see that you achieve the same goal using a single <code>JOIN FETCH</code> and an additional secondary query."},{"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"score":0,"creation_date":1593002990,"post_id":51055523,"comment_id":110626572,"body_markdown":"@VladMihalcea In your recommended solution, is there any point to assign posts = .getResultList() in your second query? It worked without this assignment in my case.","body":"@VladMihalcea In your recommended solution, is there any point to assign posts = .getResultList() in your second query? It worked without this assignment in my case."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1593005801,"post_id":51055523,"comment_id":110628181,"body_markdown":"@İsmailYavuz It depends on the JIT implementation. If you return the `posts` variable from the currently executing method, then, if you don&#39;t reassign the `posts` variable, maybe the JIT will consider that call useless as it doesn&#39;t seem to have any side-effect.","body":"@İsmailYavuz It depends on the JIT implementation. If you return the <code>posts</code> variable from the currently executing method, then, if you don&#39;t reassign the <code>posts</code> variable, maybe the JIT will consider that call useless as it doesn&#39;t seem to have any side-effect."},{"owner":{"account_id":2790085,"reputation":11324,"user_id":2400485,"accept_rate":43,"display_name":"shiva kumar"},"score":1,"creation_date":1594827303,"post_id":51055523,"comment_id":111264884,"body_markdown":"@VladMihalcea If we have deep nesting like post has many postComments has many likes, Can we use list for first layer(postComments) and set for second layer(Likes) and dedup? This worked fine for me.  is there an issue? I mean dedup with with set will work for single one to many but not multiple so we can leverate with set in nexted fetches","body":"@VladMihalcea If we have deep nesting like post has many postComments has many likes, Can we use list for first layer(postComments) and set for second layer(Likes) and dedup? This worked fine for me.  is there an issue? I mean dedup with with set will work for single one to many but not multiple so we can leverate with set in nexted fetches"},{"owner":{"account_id":18998244,"reputation":537,"user_id":13866126,"display_name":"JavaLearner"},"score":0,"creation_date":1603812596,"post_id":51055523,"comment_id":114152149,"body_markdown":"If you are using spring data jpa and writing this query using custom implementation of repository, don&#39;t forget to add Transactional annotation to the method. @VladMihalcea Any reason why it gives LazyInitializationException if it&#39;s not annotatated with transactional?","body":"If you are using spring data jpa and writing this query using custom implementation of repository, don&#39;t forget to add Transactional annotation to the method. @VladMihalcea Any reason why it gives LazyInitializationException if it&#39;s not annotatated with transactional?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":6,"creation_date":1603826945,"post_id":51055523,"comment_id":114158741,"body_markdown":"You should always havd @Transactional on the service methods calling a Spring Data Jpa Repository. Not doing so is a terrible mistake.","body":"You should always havd @Transactional on the service methods calling a Spring Data Jpa Repository. Not doing so is a terrible mistake."},{"owner":{"account_id":18998244,"reputation":537,"user_id":13866126,"display_name":"JavaLearner"},"score":0,"creation_date":1603864344,"post_id":51055523,"comment_id":114167974,"body_markdown":"Should the methods inside custom repository implementation also be annotated with Transactional? reference: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions","body":"Should the methods inside custom repository implementation also be annotated with Transactional? reference: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1603907631,"post_id":51055523,"comment_id":114187442,"body_markdown":"Those are already transactional, but you want to set the Tx at the service layer so all repositories called from a service use the same Tx.","body":"Those are already transactional, but you want to set the Tx at the service layer so all repositories called from a service use the same Tx."},{"owner":{"account_id":10005750,"reputation":664,"user_id":7400286,"display_name":"Raj"},"score":0,"creation_date":1604476757,"post_id":51055523,"comment_id":114355928,"body_markdown":"Is there any benefit for using additional secondary query and not `FetchMode.SUBSELECT`","body":"Is there any benefit for using additional secondary query and not <code>FetchMode.SUBSELECT</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":2,"creation_date":1604481073,"post_id":51055523,"comment_id":114357578,"body_markdown":"Of course. The query is more obvious and doesn&#39;t have the IN clause limit issue.","body":"Of course. The query is more obvious and doesn&#39;t have the IN clause limit issue."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1604535546,"post_id":51055523,"comment_id":114379705,"body_markdown":"It would be really helpful if you describe how to do this with the JPA entities, not just in plain hibernate project.","body":"It would be really helpful if you describe how to do this with the JPA entities, not just in plain hibernate project."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1604548561,"post_id":51055523,"comment_id":114382117,"body_markdown":"The `MultipleBagFetchException` is a Hibernate exception. Other JPA provides have other exceptions.","body":"The <code>MultipleBagFetchException</code> is a Hibernate exception. Other JPA provides have other exceptions."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":2,"creation_date":1606259288,"post_id":51055523,"comment_id":114909316,"body_markdown":"I was attempting to use this with `@NamedEntityGraph` annotated entity classes. It does not work, unless I remove the graph logic. Is there any merit to the entity graph technique?","body":"I was attempting to use this with <code>@NamedEntityGraph</code> annotated entity classes. It does not work, unless I remove the graph logic. Is there any merit to the entity graph technique?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1606275442,"post_id":51055523,"comment_id":114912880,"body_markdown":"I think it can work with entity graphs. I&#39;ll create a prototype when I&#39;ll have some time.","body":"I think it can work with entity graphs. I&#39;ll create a prototype when I&#39;ll have some time."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1610859498,"post_id":51055523,"comment_id":116263022,"body_markdown":"@VladMihalcea For me it&#39;s the same: Not working with  EntityGraph attributePaths, for now I&#39;m using the Set aproach (I don&#39;t know if it creates cartesian product when used with Entity Graphs) do you think they do?","body":"@VladMihalcea For me it&#39;s the same: Not working with  EntityGraph attributePaths, for now I&#39;m using the Set aproach (I don&#39;t know if it creates cartesian product when used with Entity Graphs) do you think they do?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":2,"creation_date":1610862763,"post_id":51055523,"comment_id":116263441,"body_markdown":"If you fetch two sibling Set associations using any strategy, you&#39;ll get a Cartesian Product. If the associations are related, like child amd grandchildren, then you won&#39;t get a Cartesian Product.","body":"If you fetch two sibling Set associations using any strategy, you&#39;ll get a Cartesian Product. If the associations are related, like child amd grandchildren, then you won&#39;t get a Cartesian Product."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1610893576,"post_id":51055523,"comment_id":116270409,"body_markdown":"@VladMihalcea Then, it is safe to say that if I only have ONE attribute path in my EntityGraph, there&#39;s no way I&#39;m getting a cartesian product, right?","body":"@VladMihalcea Then, it is safe to say that if I only have ONE attribute path in my EntityGraph, there&#39;s no way I&#39;m getting a cartesian product, right?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1610902400,"post_id":51055523,"comment_id":116273325,"body_markdown":"@CarlosL&#243;pezMar&#237; JPA associations are fetched via LEFT or INNER joins. So, the only way to generate a Cartesian Product is the same as with plain SQL. After all, it all boils done to SQL. And, when using INNER and LEFT joins, the only way to generate a Cartesian Product is to generate two virtual tables (from intermediate joins) that cannot be associated by following the JOIN condition.","body":"@CarlosL&#243;pezMar&#237; JPA associations are fetched via LEFT or INNER joins. So, the only way to generate a Cartesian Product is the same as with plain SQL. After all, it all boils done to SQL. And, when using INNER and LEFT joins, the only way to generate a Cartesian Product is to generate two virtual tables (from intermediate joins) that cannot be associated by following the JOIN condition."},{"owner":{"account_id":2645139,"reputation":1027,"user_id":2288004,"accept_rate":77,"display_name":"dre"},"score":0,"creation_date":1612882666,"post_id":51055523,"comment_id":116901118,"body_markdown":"What if you had an additional collection on the `tags` object which you also wanted to initialise? Is it possible (or maybe unwise) to go another level deep?","body":"What if you had an additional collection on the <code>tags</code> object which you also wanted to initialise? Is it possible (or maybe unwise) to go another level deep?"},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":0,"creation_date":1619528792,"post_id":51055523,"comment_id":118928346,"body_markdown":"Another best option is to use MyBatis for this kind of sceanario","body":"Another best option is to use MyBatis for this kind of sceanario"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1619529088,"post_id":51055523,"comment_id":118928466,"body_markdown":"@harshakumarReddy If you think it&#39;s that easy to fetch a graph of N-level relations using MyBatis, feel free to add a new answer and show it to us. I&#39;m afraid your &quot;best solution&quot; will end up being more complex than using 2 JPQL queries and relying on the Persistence Context to bind the associations.","body":"@harshakumarReddy If you think it&#39;s that easy to fetch a graph of N-level relations using MyBatis, feel free to add a new answer and show it to us. I&#39;m afraid your &quot;best solution&quot; will end up being more complex than using 2 JPQL queries and relying on the Persistence Context to bind the associations."},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":1,"creation_date":1619677040,"post_id":51055523,"comment_id":118977922,"body_markdown":"@VladMihalcea I was just suggesting hybrid approach not completely replacing hibernate entirely .  i remember that you have mentioned in your blog that for ManytoMany relationship its not good to use List and use Set instead because when we delete one child . all Childs will be deleted along with it and reinserted except the one deleted with is not efficient . can you shed more light on this,here you are saying Sets are not efficient","body":"@VladMihalcea I was just suggesting hybrid approach not completely replacing hibernate entirely .  i remember that you have mentioned in your blog that for ManytoMany relationship its not good to use List and use Set instead because when we delete one child . all Childs will be deleted along with it and reinserted except the one deleted with is not efficient . can you shed more light on this,here you are saying Sets are not efficient"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1619688890,"post_id":51055523,"comment_id":118982809,"body_markdown":"@harshakumarReddy Here, I&#39;m not saying that Sets are not efficient. It&#39;s just that if you use Sets you don&#39;t get the exception, but you still get the Cartesian Product. You can also get the Cartesian Product with MyBatis and fetching a List of sibling children. Also, don&#39;t take one piece of advice from a context and generalize it for everything, as it&#39;s a bad idea. Use every piece of advice in its original context and you&#39;ll be fine.","body":"@harshakumarReddy Here, I&#39;m not saying that Sets are not efficient. It&#39;s just that if you use Sets you don&#39;t get the exception, but you still get the Cartesian Product. You can also get the Cartesian Product with MyBatis and fetching a List of sibling children. Also, don&#39;t take one piece of advice from a context and generalize it for everything, as it&#39;s a bad idea. Use every piece of advice in its original context and you&#39;ll be fine."},{"owner":{"account_id":272754,"reputation":4027,"user_id":564005,"accept_rate":55,"display_name":"Nicolas Labrot"},"score":0,"creation_date":1630933600,"post_id":51055523,"comment_id":122082279,"body_markdown":"Your answer is quite opinionated. It can make sense to do a cartesian product or it can be the worst solution, it depends on the data and use case. Additionally using List is not always the best options as you mentioned [it](https://vladmihalcea.com/hibernate-facts-favoring-sets-vs-bags/)  :)","body":"Your answer is quite opinionated. It can make sense to do a cartesian product or it can be the worst solution, it depends on the data and use case. Additionally using List is not always the best options as you mentioned <a href=\"https://vladmihalcea.com/hibernate-facts-favoring-sets-vs-bags/\" rel=\"nofollow noreferrer\">it</a>  :)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1630947059,"post_id":51055523,"comment_id":122087556,"body_markdown":"@NicolasLabrot All of my answers are opinionated. That&#39;s because I&#39;ve actually worked on the Hibernate ORM, so I&#39;m very biased about it. As for that article, I suppose you missed the `The HHH-5855 issue was fixed in Hibernate 5.0.8, so another reason to update.` box on the article ;)","body":"@NicolasLabrot All of my answers are opinionated. That&#39;s because I&#39;ve actually worked on the Hibernate ORM, so I&#39;m very biased about it. As for that article, I suppose you missed the <code>The HHH-5855 issue was fixed in Hibernate 5.0.8, so another reason to update.</code> box on the article ;)"},{"owner":{"account_id":272754,"reputation":4027,"user_id":564005,"accept_rate":55,"display_name":"Nicolas Labrot"},"score":0,"creation_date":1630954740,"post_id":51055523,"comment_id":122089575,"body_markdown":"I did not miss it :), does it mean that List should be preferred over Set?","body":"I did not miss it :), does it mean that List should be preferred over Set?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":2,"creation_date":1630958479,"post_id":51055523,"comment_id":122090602,"body_markdown":"It depends. For embeddable, Set are better. For bidirectional one-to-many associations, it doesn&#39;t matter, but List are more versatile. For Many-to-Many, Sets are better. You can find a detailed explanation in my High-Performance Java Persistence book.","body":"It depends. For embeddable, Set are better. For bidirectional one-to-many associations, it doesn&#39;t matter, but List are more versatile. For Many-to-Many, Sets are better. You can find a detailed explanation in my High-Performance Java Persistence book."},{"owner":{"account_id":16277110,"reputation":59,"user_id":11754021,"display_name":"turo"},"score":0,"creation_date":1639582146,"post_id":51055523,"comment_id":124386456,"body_markdown":"@VladMihalcea if i have bidirectional one-to-many can i switch from list to set and that&#39;s ok since you say it doesn&#39;t matter? Cartesian product will not be a mistake? however, are you saying that I can use the set but still download each collection separately? I have an object that has an on-to-many join and then each has five one-to-many joins. There are many records in the table, but there are single records that meet the join conditions. Is it better to loop through each of the collections separately for the first level join, or change to SET and concatenate all the joins?","body":"@VladMihalcea if i have bidirectional one-to-many can i switch from list to set and that&#39;s ok since you say it doesn&#39;t matter? Cartesian product will not be a mistake? however, are you saying that I can use the set but still download each collection separately? I have an object that has an on-to-many join and then each has five one-to-many joins. There are many records in the table, but there are single records that meet the join conditions. Is it better to loop through each of the collections separately for the first level join, or change to SET and concatenate all the joins?"},{"owner":{"account_id":3171486,"reputation":728,"user_id":2680339,"accept_rate":94,"display_name":"Georgian Benetatos"},"score":0,"creation_date":1655305797,"post_id":51055523,"comment_id":128302323,"body_markdown":"In this example it seems to overwrite the first posts variable, how should we combine the results from each child collection on to the parent?","body":"In this example it seems to overwrite the first posts variable, how should we combine the results from each child collection on to the parent?"},{"owner":{"account_id":14755611,"reputation":858,"user_id":10656340,"display_name":"JayD"},"score":1,"creation_date":1655964513,"post_id":51055523,"comment_id":128457470,"body_markdown":"@VladMihalcea great answer how to do this with query annotations on repository methods in spring boot?","body":"@VladMihalcea great answer how to do this with query annotations on repository methods in spring boot?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":2,"creation_date":1655996460,"post_id":51055523,"comment_id":128469290,"body_markdown":"@JayD I&#39;ll blog about that in the future.","body":"@JayD I&#39;ll blog about that in the future."},{"owner":{"account_id":14755611,"reputation":858,"user_id":10656340,"display_name":"JayD"},"score":0,"creation_date":1656052118,"post_id":51055523,"comment_id":128481795,"body_markdown":"@VladMihalcea cheers mate looking forward to it","body":"@VladMihalcea cheers mate looking forward to it"},{"owner":{"account_id":19090913,"reputation":491,"user_id":13941207,"display_name":"EACUAMBA"},"score":0,"creation_date":1674570833,"post_id":51055523,"comment_id":132739000,"body_markdown":"It&#39;s a good approach, using Spring Data JPA, in service call methods like invoice = invoiceRepository.finById(2L), then invoiceItemList = invoiceItemsRepository.findAllByInvoice(invoice); receiptList = receiptRepository.findAllByInvoice(invoice); then set all together.","body":"It&#39;s a good approach, using Spring Data JPA, in service call methods like invoice = invoiceRepository.finById(2L), then invoiceItemList = invoiceItemsRepository.findAllByInvoice(invoice); receiptList = receiptRepository.findAllByInvoice(invoice); then set all together."},{"owner":{"account_id":16282,"reputation":4128,"user_id":35274,"accept_rate":78,"display_name":"Philippe"},"score":0,"creation_date":1696865362,"post_id":51055523,"comment_id":136204470,"body_markdown":"Per the [Hibernate 6 migration guide](https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html):\n\n  Starting with Hibernate ORM 6 it is no longer necessary to use distinct in JPQL and\n  HQL to filter out the same parent entity references when join fetching a child\n  collection. The returning duplicates of entities are now always filtered by Hibernate.\n\n  Which means that for instance it is no longer necessary to\n  setQueryHints#HINT_PASS_DISTINCT_THROUGH to false in order to skip the entity\n  duplicates without producing a distinct in the SQL query.","body":"Per the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html\" rel=\"nofollow noreferrer\">Hibernate 6 migration guide</a>:    Starting with Hibernate ORM 6 it is no longer necessary to use distinct in JPQL and   HQL to filter out the same parent entity references when join fetching a child   collection. The returning duplicates of entities are now always filtered by Hibernate.    Which means that for instance it is no longer necessary to   setQueryHints#HINT_PASS_DISTINCT_THROUGH to false in order to skip the entity   duplicates without producing a distinct in the SQL query."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1697371695,"post_id":51055523,"comment_id":136269082,"body_markdown":"@Philippe I updated the answer for Hibernate 6 too.","body":"@Philippe I updated the answer for Hibernate 6 too."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":40,"down_vote_count":0,"up_vote_count":207,"is_accepted":false,"score":207,"last_activity_date":1697371675,"creation_date":1530079276,"answer_id":51055523,"question_id":4334970,"body_markdown":"Considering we have the following entities:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd, you want to fetch some parent `Post` entities along with all the `comments` and `tags` collections.\r\n\r\nIf you are using more than one `JOIN FETCH` directives:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n        select p\r\n        from Post p\r\n        left join fetch p.comments\r\n        left join fetch p.tags\r\n        where p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n\r\nHibernate will throw the infamous:\r\n\r\n    org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags [\r\n      com.vladmihalcea.book.hpjp.hibernate.fetching.Post.comments,\r\n      com.vladmihalcea.book.hpjp.hibernate.fetching.Post.tags\r\n    ]\r\n\r\nHibernate doesn&#39;t allow fetching more than one bag because that would generate a Cartesian product.\r\n\r\nThe worst &quot;solution&quot;\r\n--------------------\r\n\r\nNow, you will find lots of answers, blog posts, videos, or other resources telling you to use a `Set` instead of a `List` for your collections.\r\n\r\n**That&#39;s terrible advice. Don&#39;t do that!** \r\n\r\nUsing `Sets` instead of `Lists` will make the `MultipleBagFetchException` go away, but the Cartesian Product will still be there, which is actually even worse, as you&#39;ll find out the performance issue long after you applied this &quot;fix&quot;.\r\n\r\nThe proper Hibernate 6 solution\r\n-------------------------------\r\n\r\nIf you&#39;re using Hibernate 6, then you can fix this issue like this:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect p\r\n    \tfrom Post p\r\n    \tleft join fetch p.comments\r\n    \twhere p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n    \r\n    posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.tags t\r\n    \twhere p in :posts \r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .getResultList();\r\n\r\nAs long as you fetch at most one collection using `JOIN FETCH` per query, you will be fine.\r\n\r\nBy using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.\r\n\r\nThe proper Hibernate 5 solution\r\n-------------------------------\r\n\r\nYou can do the following trick:\r\n\r\n    List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.comments\r\n    \twhere p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n    \r\n    posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.tags t\r\n    \twhere p in :posts \r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n\r\n&gt; In the first JPQL query, `distinct` DOES NOT go to the SQL statement. That&#39;s why we set the `PASS_DISTINCT_THROUGH` JPA query hint to `false`. \r\n&gt; \r\n&gt; DISTINCT has two meanings in JPQL, and here, we need it to deduplicate the Java object references returned by `getResultList` on the Java side, not the SQL side.\r\n\r\nBy using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.\r\n\r\nThere&#39;s more you could do\r\n-------------------------\r\n\r\nIf you&#39;re using the `FetchType.EAGER` strategy at mapping time for `@OneToMany` or `@ManyToMany` associations, then you could easily end up with a `MultipleBagFetchException`.\r\n\r\nYou are better off switching from `FetchType.EAGER` to `Fetchype.LAZY` since eager fetching is a terrible idea that can lead to critical application performance issues.\r\n\r\nConclusion\r\n----------\r\n\r\nAvoid `FetchType.EAGER` and don&#39;t switch from `List` to `Set` just because doing so will make Hibernate hide the `MultipleBagFetchException` under the carpet. Fetch just one collection at a time, and you&#39;ll be fine. \r\n\r\nAs long as you do it with the same number of queries as you have collections to initialize, you are fine. Just don&#39;t initialize the collections in a loop, as that will trigger N+1 query issues, which are also bad for performance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fVIXG.png","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Considering we have the following entities:</p>\n<p><a href=\"https://i.stack.imgur.com/fVIXG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fVIXG.png\" alt=\"enter image description here\" /></a></p>\n<p>And, you want to fetch some parent <code>Post</code> entities along with all the <code>comments</code> and <code>tags</code> collections.</p>\n<p>If you are using more than one <code>JOIN FETCH</code> directives:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select p\n    from Post p\n    left join fetch p.comments\n    left join fetch p.tags\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n</code></pre>\n<p>Hibernate will throw the infamous:</p>\n<pre><code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags [\n  com.vladmihalcea.book.hpjp.hibernate.fetching.Post.comments,\n  com.vladmihalcea.book.hpjp.hibernate.fetching.Post.tags\n]\n</code></pre>\n<p>Hibernate doesn't allow fetching more than one bag because that would generate a Cartesian product.</p>\n<h2>The worst &quot;solution&quot;</h2>\n<p>Now, you will find lots of answers, blog posts, videos, or other resources telling you to use a <code>Set</code> instead of a <code>List</code> for your collections.</p>\n<p><strong>That's terrible advice. Don't do that!</strong></p>\n<p>Using <code>Sets</code> instead of <code>Lists</code> will make the <code>MultipleBagFetchException</code> go away, but the Cartesian Product will still be there, which is actually even worse, as you'll find out the performance issue long after you applied this &quot;fix&quot;.</p>\n<h2>The proper Hibernate 6 solution</h2>\n<p>If you're using Hibernate 6, then you can fix this issue like this:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select p\n    from Post p\n    left join fetch p.comments\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n\nposts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.tags t\n    where p in :posts \n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.getResultList();\n</code></pre>\n<p>As long as you fetch at most one collection using <code>JOIN FETCH</code> per query, you will be fine.</p>\n<p>By using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.</p>\n<h2>The proper Hibernate 5 solution</h2>\n<p>You can do the following trick:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.comments\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n\nposts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.tags t\n    where p in :posts \n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n</code></pre>\n<blockquote>\n<p>In the first JPQL query, <code>distinct</code> DOES NOT go to the SQL statement. That's why we set the <code>PASS_DISTINCT_THROUGH</code> JPA query hint to <code>false</code>.</p>\n<p>DISTINCT has two meanings in JPQL, and here, we need it to deduplicate the Java object references returned by <code>getResultList</code> on the Java side, not the SQL side.</p>\n</blockquote>\n<p>By using multiple queries, you will avoid the Cartesian Product since any other collection, but the first one is fetched using a secondary query.</p>\n<h2>There's more you could do</h2>\n<p>If you're using the <code>FetchType.EAGER</code> strategy at mapping time for <code>@OneToMany</code> or <code>@ManyToMany</code> associations, then you could easily end up with a <code>MultipleBagFetchException</code>.</p>\n<p>You are better off switching from <code>FetchType.EAGER</code> to <code>Fetchype.LAZY</code> since eager fetching is a terrible idea that can lead to critical application performance issues.</p>\n<h2>Conclusion</h2>\n<p>Avoid <code>FetchType.EAGER</code> and don't switch from <code>List</code> to <code>Set</code> just because doing so will make Hibernate hide the <code>MultipleBagFetchException</code> under the carpet. Fetch just one collection at a time, and you'll be fine.</p>\n<p>As long as you do it with the same number of queries as you have collections to initialize, you are fine. Just don't initialize the collections in a loop, as that will trigger N+1 query issues, which are also bad for performance.</p>\n"},{"comments":[{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1700832454,"post_id":54162482,"comment_id":136704586,"body_markdown":"I would like to set the Java syntax highlight but the edit queue is full now, as usual","body":"I would like to set the Java syntax highlight but the edit queue is full now, as usual"}],"tags":[],"owner":{"display_name":"user10812734"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547316595,"creation_date":1547316595,"answer_id":54162482,"question_id":4334970,"body_markdown":"For me, the problem was having nested *EAGER* fetches.\r\n\r\nOne solution is to set the nested fields to *LAZY* and use Hibernate.initialize() to load the nested field(s):\r\n\r\n    x = session.get(ClassName.class, id);\r\n    Hibernate.initialize(x.getNestedField());\r\n\r\n","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>For me, the problem was having nested <em>EAGER</em> fetches.</p>\n\n<p>One solution is to set the nested fields to <em>LAZY</em> and use Hibernate.initialize() to load the nested field(s):</p>\n\n<pre><code>x = session.get(ClassName.class, id);\nHibernate.initialize(x.getNestedField());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008520,"reputation":1104,"user_id":5372188,"display_name":"JAD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578777275,"creation_date":1578777275,"answer_id":59698683,"question_id":4334970,"body_markdown":"At my end, this happened when I had multiple collections with FetchType.EAGER, like this:\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, targetEntity = className.class)\r\n    @JoinColumn(name = &quot;myClass_id&quot;)\r\n    @JsonView(SerializationView.Summary.class)\r\n    private Collection&lt;Model&gt; ModelObjects;\r\n\r\nAdditionally, the collections were joining on the same column.\r\n\r\nTo solve this issue, I changed one of the collections to FetchType.LAZY since it was okay for my use-case.\r\n\r\nGoodluck!\r\n~J","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>At my end, this happened when I had multiple collections with FetchType.EAGER, like this:</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.EAGER, targetEntity = className.class)\n@JoinColumn(name = \"myClass_id\")\n@JsonView(SerializationView.Summary.class)\nprivate Collection&lt;Model&gt; ModelObjects;\n</code></pre>\n\n<p>Additionally, the collections were joining on the same column.</p>\n\n<p>To solve this issue, I changed one of the collections to FetchType.LAZY since it was okay for my use-case.</p>\n\n<p>Goodluck!\n~J</p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582782463,"creation_date":1582782463,"answer_id":60426976,"question_id":4334970,"body_markdown":"Commenting both `Fetch` and `LazyCollection` sometimes helps to run project.\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @LazyCollection(LazyCollectionOption.FALSE)","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Commenting both <code>Fetch</code> and <code>LazyCollection</code> sometimes helps to run project.</p>\n\n<pre><code>@Fetch(FetchMode.JOIN)\n@LazyCollection(LazyCollectionOption.FALSE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586879020,"creation_date":1586879020,"answer_id":61211712,"question_id":4334970,"body_markdown":"One good thing about `@LazyCollection(LazyCollectionOption.FALSE)` is that several fields with this annotation can coexist while `FetchType.EAGER` cannot, even in the situations where such coexistence is legit.\r\n\r\nFor example, an `Order` may have a list of `OrderGroup`(a short one) as well as a list of `Promotions`(also short). `@LazyCollection(LazyCollectionOption.FALSE)` can be used on both without causing `LazyInitializationException` neither `MultipleBagFetchException`.\r\n\r\n\r\nIn my case `@Fetch` did solve my problem of `MultipleBacFetchException` but then causes `LazyInitializationException`, the infamous `no Session` error.\r\n","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>One good thing about <code>@LazyCollection(LazyCollectionOption.FALSE)</code> is that several fields with this annotation can coexist while <code>FetchType.EAGER</code> cannot, even in the situations where such coexistence is legit.</p>\n\n<p>For example, an <code>Order</code> may have a list of <code>OrderGroup</code>(a short one) as well as a list of <code>Promotions</code>(also short). <code>@LazyCollection(LazyCollectionOption.FALSE)</code> can be used on both without causing <code>LazyInitializationException</code> neither <code>MultipleBagFetchException</code>.</p>\n\n<p>In my case <code>@Fetch</code> did solve my problem of <code>MultipleBacFetchException</code> but then causes <code>LazyInitializationException</code>, the infamous <code>no Session</code> error.</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611915162,"creation_date":1611915162,"answer_id":65952492,"question_id":4334970,"body_markdown":"I solved by annotating:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>I solved by annotating:</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8872042,"reputation":21,"user_id":6625488,"display_name":"Karen Hechter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629979901,"creation_date":1629979901,"answer_id":68938285,"question_id":4334970,"body_markdown":"Ok so here&#39;s my 2 cents. I had the Fetch Lazy annotations in my Entity but I also duplicated the fetch lazy in the session bean thus causing a multiple bag issue. So I just removed the lines in my SessionBean\r\n\r\ncriteria.createAlias(&quot;FIELD&quot;, &quot;ALIAS&quot;, JoinType.LEFT_OUTER_JOIN);  //REMOVED\r\n\r\nAnd I used Hibernate.initialize on the list I wanted to retrieve after the List parent = criteria.list was called.\r\nHibernate.initialize(parent.getChildList());","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Ok so here's my 2 cents. I had the Fetch Lazy annotations in my Entity but I also duplicated the fetch lazy in the session bean thus causing a multiple bag issue. So I just removed the lines in my SessionBean</p>\n<p>criteria.createAlias(&quot;FIELD&quot;, &quot;ALIAS&quot;, JoinType.LEFT_OUTER_JOIN);  //REMOVED</p>\n<p>And I used Hibernate.initialize on the list I wanted to retrieve after the List parent = criteria.list was called.\nHibernate.initialize(parent.getChildList());</p>\n"},{"tags":[],"owner":{"account_id":16960504,"reputation":11,"user_id":12267767,"display_name":"alxkudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634899741,"creation_date":1634899741,"answer_id":69675555,"question_id":4334970,"body_markdown":"You can also try to make fetch=FetchType.LAZY and just add @Transactional(readOnly = true) to method where you get child","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>You can also try to make fetch=FetchType.LAZY and just add @Transactional(readOnly = true) to method where you get child</p>\n"},{"tags":[],"owner":{"account_id":1192298,"reputation":2149,"user_id":1512168,"accept_rate":96,"display_name":"Mario B"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689893119,"creation_date":1682944096,"answer_id":76146939,"question_id":4334970,"body_markdown":"\r\n#### TLDR: Don&#39;t use EAGER. Always fetch things **only when you really need them**!\r\n\r\n---\r\nA lot of mentions here about `FetchType.EAGER` and I wanted to go a bit more into detail why this is a bad idea and on what to use alternatively. Hopefully after reading this you realize that really you should absolutely **NEVER** use `FetchType.EAGER`.\r\n\r\nThere is just no good reason to! It&#39;s a mayor pitfall that can bite you (or even worse: someone else) down the road. Imagine you chose FetchType.EAGER for a Student -&gt; Teacher relation, because you think every time you need to fetch a Student you also need his Teachers. Now even if you are 100% sure you never need students without teachers **right now**, you simply can&#39;t foresee how requirements change. FetchType.EAGER violates the [Open-closed principle][1]! Your code is no longer **open for extension** - if later the need for loading Students without Teachers arise it&#39;s difficult do to that without reworking (and possibly breaking) existing code!\r\n\r\nAn even bigger problem you have is that you basically created an n+1 select problem for possible future queries, that (rightfully) already fetched another bag in the basic query. Let&#39;s say in the future someone wants to load all Students with their grades and there are 30000 of them. Since you told Hibernate to EAGER fetch all Teachers it has to do that. But since you already fetched another &quot;bag&quot; (the grades) within the same query this actually results in 30001 queries - for data that wasn&#39;t even needed in that scenario! The first query for loading all Students+Grades and then a separate query for each Student to fetch his teachers. Needless to say that this is horrendous for performance. In my opinion this is the sole reason for people to believe that &quot;Hibernate is slow&quot; - they just don&#39;t realize how incredible inefficient it **might** query stuff in some situations. You really have to be careful with 1:n relations.\r\n\r\n3 Alternatives (manually fetch stuff when needed):\r\n\r\n 1. Use JOIN FETCH to fetch a collection. To stick with the example `SELECT stud FROM STUDENT stud JOIN FETCH stud.teachers` would do the trick. This will always fire a single query to fetch students AND teachers. Just be mindful to only fetch **one** collection that way (explanation would go too far for this answer).\r\n 2. If you use Spring-JPA you can use @EntityGraph(attributePaths = {&quot;teachers&quot;}) to do the same.\r\n 3. You could call Hibernate.initialize(oneStudent.getTeachers()) with the Hibernate-proxy to fetch the relation manually. This will always create a separate query, so don&#39;t do it in a loop or you just created a n+1 select problem yourself.\r\n\r\n---\r\n\r\nAlso one final tip in general: turn the logging for org.hibernate.SQL to DEBUG to see when/what queries are fired and make sure your local dev setup has a reasonable amount of data. When you test your code with only 2 students and don&#39;t check the queries that are fired you might miss something like that and end up having issues on real systems with more data.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<h4>TLDR: Don't use EAGER. Always fetch things <strong>only when you really need them</strong>!</h4>\n<hr />\n<p>A lot of mentions here about <code>FetchType.EAGER</code> and I wanted to go a bit more into detail why this is a bad idea and on what to use alternatively. Hopefully after reading this you realize that really you should absolutely <strong>NEVER</strong> use <code>FetchType.EAGER</code>.</p>\n<p>There is just no good reason to! It's a mayor pitfall that can bite you (or even worse: someone else) down the road. Imagine you chose FetchType.EAGER for a Student -&gt; Teacher relation, because you think every time you need to fetch a Student you also need his Teachers. Now even if you are 100% sure you never need students without teachers <strong>right now</strong>, you simply can't foresee how requirements change. FetchType.EAGER violates the <a href=\"https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle\" rel=\"nofollow noreferrer\">Open-closed principle</a>! Your code is no longer <strong>open for extension</strong> - if later the need for loading Students without Teachers arise it's difficult do to that without reworking (and possibly breaking) existing code!</p>\n<p>An even bigger problem you have is that you basically created an n+1 select problem for possible future queries, that (rightfully) already fetched another bag in the basic query. Let's say in the future someone wants to load all Students with their grades and there are 30000 of them. Since you told Hibernate to EAGER fetch all Teachers it has to do that. But since you already fetched another &quot;bag&quot; (the grades) within the same query this actually results in 30001 queries - for data that wasn't even needed in that scenario! The first query for loading all Students+Grades and then a separate query for each Student to fetch his teachers. Needless to say that this is horrendous for performance. In my opinion this is the sole reason for people to believe that &quot;Hibernate is slow&quot; - they just don't realize how incredible inefficient it <strong>might</strong> query stuff in some situations. You really have to be careful with 1:n relations.</p>\n<p>3 Alternatives (manually fetch stuff when needed):</p>\n<ol>\n<li>Use JOIN FETCH to fetch a collection. To stick with the example <code>SELECT stud FROM STUDENT stud JOIN FETCH stud.teachers</code> would do the trick. This will always fire a single query to fetch students AND teachers. Just be mindful to only fetch <strong>one</strong> collection that way (explanation would go too far for this answer).</li>\n<li>If you use Spring-JPA you can use @EntityGraph(attributePaths = {&quot;teachers&quot;}) to do the same.</li>\n<li>You could call Hibernate.initialize(oneStudent.getTeachers()) with the Hibernate-proxy to fetch the relation manually. This will always create a separate query, so don't do it in a loop or you just created a n+1 select problem yourself.</li>\n</ol>\n<hr />\n<p>Also one final tip in general: turn the logging for org.hibernate.SQL to DEBUG to see when/what queries are fired and make sure your local dev setup has a reasonable amount of data. When you test your code with only 2 students and don't check the queries that are fired you might miss something like that and end up having issues on real systems with more data.</p>\n"}],"owner":{"account_id":66555,"reputation":12901,"user_id":195176,"accept_rate":88,"display_name":"blow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477160,"favorite_count":0,"down_vote_count":0,"up_vote_count":609,"accepted_answer_id":4335514,"answer_count":18,"score":609,"last_activity_date":1697371675,"creation_date":1291292899,"question_id":4334970,"body_markdown":"Hibernate throws this exception during SessionFactory creation:\r\n\r\n&gt; org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags\r\n\r\nThis is my test case:\r\n\r\n**Parent.java**\r\n\r\n    @Entity\r\n    public Parent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     // @IndexColumn(name=&quot;INDEX_COL&quot;) if I had this the problem solve but I retrieve more children than I have, one child is null.\r\n     private List&lt;Child&gt; children;\r\n    \r\n    }\r\n    \r\n\r\n**Child.java**\r\n\r\n    @Entity\r\n    public Child {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @ManyToOne\r\n     private Parent parent;\r\n    \r\n    }\r\n\r\nHow about this problem? What can I do?\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT**\r\n\r\nOK, the problem I have is that another &quot;parent&quot; entity is inside my parent, my real behavior is this:\r\n\r\n**Parent.java**\r\n\r\n    @Entity\r\n    public Parent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     @ManyToOne\r\n     private AnotherParent anotherParent;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     private List&lt;Child&gt; children;\r\n    \r\n    }\r\n\r\n**AnotherParent.java**\r\n\r\n    @Entity\r\n    public AnotherParent {\r\n     \r\n     @Id\r\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n     private Long id;\r\n    \r\n     @OneToMany(mappedBy=&quot;parent&quot;, fetch=FetchType.EAGER)\r\n     private List&lt;AnotherChild&gt; anotherChildren;\r\n    \r\n    }\r\n\r\nHibernate doesn&#39;t like two collections with `FetchType.EAGER`, but this seems to be a bug, I&#39;m not doing unusual things...\r\n\r\nRemoving `FetchType.EAGER` from `Parent` or `AnotherParent` solves the problem, but I need it, so real solution is to use `@LazyCollection(LazyCollectionOption.FALSE)` instead of `FetchType` (thanks to [Bozho][1] for the solution).\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/203907/bozho","title":"Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags","body":"<p>Hibernate throws this exception during SessionFactory creation:</p>\n\n<blockquote>\n  <p>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags</p>\n</blockquote>\n\n<p>This is my test case:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n // @IndexColumn(name=\"INDEX_COL\") if I had this the problem solve but I retrieve more children than I have, one child is null.\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>Child.java</strong></p>\n\n<pre><code>@Entity\npublic Child {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private Parent parent;\n\n}\n</code></pre>\n\n<p>How about this problem? What can I do?</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>OK, the problem I have is that another \"parent\" entity is inside my parent, my real behavior is this:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private AnotherParent anotherParent;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>AnotherParent.java</strong></p>\n\n<pre><code>@Entity\npublic AnotherParent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;AnotherChild&gt; anotherChildren;\n\n}\n</code></pre>\n\n<p>Hibernate doesn't like two collections with <code>FetchType.EAGER</code>, but this seems to be a bug, I'm not doing unusual things...</p>\n\n<p>Removing <code>FetchType.EAGER</code> from <code>Parent</code> or <code>AnotherParent</code> solves the problem, but I need it, so real solution is to use <code>@LazyCollection(LazyCollectionOption.FALSE)</code> instead of <code>FetchType</code> (thanks to <a href=\"https://stackoverflow.com/users/203907/bozho\">Bozho</a> for the solution).</p>\n"},{"tags":["java","oracle","out-of-memory","clob"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1681167612,"post_id":75981282,"comment_id":134010069,"body_markdown":"The “LOB” stands for ‘large object.’  They are not supposed to be held in program memory all at once.  That’s why CLOB has methods that return Reader or InputStream.  (You really should prefer Reader over InputStream to avoid charset conversion issues.)  Either change your method so it returns a Reader instead of `byte[]`, or pass an object which can process a Reader.  Both approaches allow you to read the CLOB without keeping it all in memory at once.","body":"The “LOB” stands for ‘large object.’  They are not supposed to be held in program memory all at once.  That’s why CLOB has methods that return Reader or InputStream.  (You really should prefer Reader over InputStream to avoid charset conversion issues.)  Either change your method so it returns a Reader instead of <code>byte[]</code>, or pass an object which can process a Reader.  Both approaches allow you to read the CLOB without keeping it all in memory at once."},{"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"score":0,"creation_date":1681220825,"post_id":75981282,"comment_id":134018899,"body_markdown":"@VGR, thank you. Do you suggest any example where I can use Reader","body":"@VGR, thank you. Do you suggest any example where I can use Reader"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681225796,"post_id":75981282,"comment_id":134020434,"body_markdown":"You can learn how Reader works by reading [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Reader.html).  Exactly how you should use it will depend on what your application is doing with the CLOB data.","body":"You can learn how Reader works by reading <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Reader.html\" rel=\"nofollow noreferrer\">the documentation</a>.  Exactly how you should use it will depend on what your application is doing with the CLOB data."}],"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697371628,"creation_date":1681166959,"question_id":75981282,"body_markdown":"I am trying to retrieve a CLOB from Oracle SQL table. Clob is of around 25MB. I am getting an error :\r\n\r\n&gt; WARNING: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space]\r\n\r\nIs there any way to retrieve the file?\r\n\r\nAny other alternative approaches using Springboot.\r\n\r\nThis is the code:\r\n\r\n    public byte[] getData(String task) {\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tsb.append(&quot;select OUTPUT_file from tablea where task = ?&quot;);\r\n    \t\r\n    \tbyte[] fileBytes = jdbcTemplate.query(sb.toString(), new Object[]{task}, (rs) -&gt;{\r\n    \t\tif(rs.next()){\r\n    \t\t\r\n    \t\t\tbyte[] resByteArry =new byte[0];\r\n    \t\tClob clob = rs.getClob(&quot;OUTPUT_file&quot;);\r\n    \t\tresByteArry =getByteArrayByStream(clob.getAsciiStream());\r\n    \t\treturn resByteArry;\r\n    \t\t}else {\r\n    \t\t\treturn new byte[0];\r\n    \t\t}\r\n    \t\t\r\n    \t});\r\n    \t\r\n    \treturn fileBytes;\r\n    }\r\n\r\n\tprivate byte[] getByteArrayByStream(InputStream ins) {\r\n\t\r\n\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\ttry {\r\n\t\tbyte[] buffer = new byte[1024];\r\n\t\tint length =0;\r\n\t\twhile( (length = ins.read(buffer,0,buffer.length)) !=-1){\r\n\t\t\t\r\n\t\t\tout.write(buffer,0,length);\r\n\t\t\t\r\n\t\t}\r\n\t\tout.flush();\r\n\t\tout.close();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn out.toByteArray();\r\n\r\n    }\r\n","title":"WARNING: Resolved nested exception is java.lang.OutOfMemoryError: Java heap space]","body":"<p>I am trying to retrieve a CLOB from Oracle SQL table. Clob is of around 25MB. I am getting an error :</p>\n<blockquote>\n<p>WARNING: Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space]</p>\n</blockquote>\n<p>Is there any way to retrieve the file?</p>\n<p>Any other alternative approaches using Springboot.</p>\n<p>This is the code:</p>\n<pre><code>public byte[] getData(String task) {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;select OUTPUT_file from tablea where task = ?&quot;);\n    \n    byte[] fileBytes = jdbcTemplate.query(sb.toString(), new Object[]{task}, (rs) -&gt;{\n        if(rs.next()){\n        \n            byte[] resByteArry =new byte[0];\n        Clob clob = rs.getClob(&quot;OUTPUT_file&quot;);\n        resByteArry =getByteArrayByStream(clob.getAsciiStream());\n        return resByteArry;\n        }else {\n            return new byte[0];\n        }\n        \n    });\n    \n    return fileBytes;\n}\n\nprivate byte[] getByteArrayByStream(InputStream ins) {\n\nByteArrayOutputStream out = new ByteArrayOutputStream();\ntry {\n    byte[] buffer = new byte[1024];\n    int length =0;\n    while( (length = ins.read(buffer,0,buffer.length)) !=-1){\n        \n        out.write(buffer,0,length);\n        \n    }\n    out.flush();\n    out.close();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nreturn out.toByteArray();\n\n}\n</code></pre>\n"},{"tags":["java","json","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686315254,"post_id":76439353,"comment_id":134785770,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28556930,"reputation":1,"user_id":21861011,"display_name":"user21861011"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697371484,"creation_date":1686306319,"question_id":76439353,"body_markdown":"I have 3 dropdown (select classes). After the selection of 1st dropdown have to verify, `{ &quot;IsActive&quot; : &quot;True&quot; }` and continue to get the 2nd dropdown values. Could you please suggest how to retrieve the values in code.\r\n\r\nFor example:\r\n\r\n    {\r\n        abc: 1,\r\n        cbd: 2\r\n    },\r\n    {\r\n        Isactive: true,\r\n        data 2 : [\r\n                   abc,\r\n                   bcd\r\n                 ]\r\n    }","title":"How to fetch json data for dropdown in ui","body":"<p>I have 3 dropdown (select classes). After the selection of 1st dropdown have to verify, <code>{ &quot;IsActive&quot; : &quot;True&quot; }</code> and continue to get the 2nd dropdown values. Could you please suggest how to retrieve the values in code.</p>\n<p>For example:</p>\n<pre><code>{\n    abc: 1,\n    cbd: 2\n},\n{\n    Isactive: true,\n    data 2 : [\n               abc,\n               bcd\n             ]\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":7284152,"reputation":641,"user_id":5552812,"display_name":"Preethi Ramanujam"},"score":0,"creation_date":1457330579,"post_id":35790468,"comment_id":59340713,"body_markdown":"Thanks for the reply! The only disadvantage of using NamedQuery or Query is its making the class look so messy when there are multiple join queries in the same repo class:(","body":"Thanks for the reply! The only disadvantage of using NamedQuery or Query is its making the class look so messy when there are multiple join queries in the same repo class:("},{"owner":{"account_id":5717088,"reputation":6957,"user_id":4516887,"display_name":"fateddy"},"score":3,"creation_date":1457342629,"post_id":35790468,"comment_id":59346209,"body_markdown":"But then again, wouldn&#39;t your method-names start to look messy and become difficult to read? Query-deriving from the method-name is convenient for simple queries - at some point you should switch to `@Query`or the like.","body":"But then again, wouldn&#39;t your method-names start to look messy and become difficult to read? Query-deriving from the method-name is convenient for simple queries - at some point you should switch to <code>@Query</code>or the like."}],"tags":[],"owner":{"account_id":5717088,"reputation":6957,"user_id":4516887,"display_name":"fateddy"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1546019350,"creation_date":1457076885,"answer_id":35790468,"question_id":35788856,"body_markdown":"**Option1:** You could use named-queries (see [Using JPA Named Queries][1]):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity\r\n    @NamedQuery(name = &quot;User.findByEmailAddress&quot;,\r\n      query = &quot;select u from User u where u.emailAddress = ?1&quot;)\r\n    public class User {\r\n\r\n    }\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n       User findByEmailAddress(String emailAddress);\r\n    }\r\n\r\n**Option2**: use `@Query` to write your custom queries (see [Using @Query][2])\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n       @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\r\n       User findByEmailAddress(String emailAddress);\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query","title":"How to combine multiple And and Or through method name","body":"<p><strong>Option1:</strong> You could use named-queries (see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"noreferrer\">Using JPA Named Queries</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NamedQuery(name = \"User.findByEmailAddress\",\n  query = \"select u from User u where u.emailAddress = ?1\")\npublic class User {\n\n}\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n   User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n\n<p><strong>Option2</strong>: use <code>@Query</code> to write your custom queries (see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"noreferrer\">Using @Query</a>)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n   @Query(\"select u from User u where u.emailAddress = ?1\")\n   User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1457089081,"creation_date":1457089081,"answer_id":35794304,"question_id":35788856,"body_markdown":"It&#39;s currently not possible and also won&#39;t be in the future. I&#39;d argue that even if it was possible, with a more complex query you wouldn&#39;t want to artificially squeeze all query complexity into the method name. Not only because it becomes hard to digest what&#39;s actually going on in the query but also from a client code point of view: you want to use expressive method names, which — in case of a simple `findByUsername(…)` — the query derivation allows you to create.\r\n\r\nFor more complex stuff you&#39; just elevate query complexity into the calling code and it&#39;s advisable to rather move to a readable method name that semantically expresses what the query does and keep the query complexity in a manually declared query either using `@Query`, named queries or the like.","title":"How to combine multiple And and Or through method name","body":"<p>It's currently not possible and also won't be in the future. I'd argue that even if it was possible, with a more complex query you wouldn't want to artificially squeeze all query complexity into the method name. Not only because it becomes hard to digest what's actually going on in the query but also from a client code point of view: you want to use expressive method names, which — in case of a simple <code>findByUsername(…)</code> — the query derivation allows you to create.</p>\n\n<p>For more complex stuff you' just elevate query complexity into the calling code and it's advisable to rather move to a readable method name that semantically expresses what the query does and keep the query complexity in a manually declared query either using <code>@Query</code>, named queries or the like.</p>\n"},{"comments":[{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":3,"creation_date":1499935120,"post_id":42816356,"comment_id":77123510,"body_markdown":"This worked basically - however: how to avoid duplicated variables with with approach? (if possible at all ....)","body":"This worked basically - however: how to avoid duplicated variables with with approach? (if possible at all ....)"},{"owner":{"account_id":4814456,"reputation":3960,"user_id":3886961,"accept_rate":79,"display_name":"kiedysktos"},"score":0,"creation_date":1502106308,"post_id":42816356,"comment_id":78051716,"body_markdown":"yes, this works... It looks like you can&#39;t avoid duplicated parameters. I used a facade method to hide the awkward method signature","body":"yes, this works... It looks like you can&#39;t avoid duplicated parameters. I used a facade method to hide the awkward method signature"},{"owner":{"account_id":13917681,"reputation":1181,"user_id":10049017,"display_name":"Usama Majid"},"score":0,"creation_date":1613139195,"post_id":42816356,"comment_id":116991077,"body_markdown":"Yes, that worked.\nGreat use of principles.","body":"Yes, that worked. Great use of principles."}],"tags":[],"owner":{"account_id":10467487,"reputation":700,"user_id":7716459,"display_name":"Damir Djordjev"},"comment_count":3,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1697370667,"creation_date":1489597685,"answer_id":42816356,"question_id":35788856,"body_markdown":"I agree with Oliver on long and unreadable method names, but nevertheless and for the sake of argument, you can achieve desired result by using the equivalency \r\n\r\n    A /\\ (B \\/ C) &lt;=&gt; (A /\\ B) \\/ (A /\\ C)\r\n    A and (B or C) &lt;=&gt; (A and B) or (A and C)\r\n\r\nSo in your case it should look something like this:    \r\n\r\n    findByPlan_PlanTypeInAndSetupStepIsNullOrPlan_PlanTypeInAndStepupStepIs(...)","title":"How to combine multiple And and Or through method name","body":"<p>I agree with Oliver on long and unreadable method names, but nevertheless and for the sake of argument, you can achieve desired result by using the equivalency</p>\n<pre><code>A /\\ (B \\/ C) &lt;=&gt; (A /\\ B) \\/ (A /\\ C)\nA and (B or C) &lt;=&gt; (A and B) or (A and C)\n</code></pre>\n<p>So in your case it should look something like this:</p>\n<pre><code>findByPlan_PlanTypeInAndSetupStepIsNullOrPlan_PlanTypeInAndStepupStepIs(...)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1245560,"reputation":958,"user_id":1207102,"accept_rate":40,"display_name":"thorinkor"},"score":3,"creation_date":1528878340,"post_id":49982953,"comment_id":88668921,"body_markdown":"It will work, but the biggest disadvantage of it is that You have to pass as an argument the same criteria as many times as You use them in query. In this case You will have to pass two variables `Criteria` containing the same content:\n`findByFirstElementAndCriteriaOrSecondElementAndCriteria(Element element1, Criteria criteria1, Element element2, Criteria criteria2)\n//criteria1.equals(criteria2) -&gt; true\n`","body":"It will work, but the biggest disadvantage of it is that You have to pass as an argument the same criteria as many times as You use them in query. In this case You will have to pass two variables <code>Criteria</code> containing the same content: <code>findByFirstElementAndCriteriaOrSecondElementAndCriteria(Elem&zwnj;&#8203;ent element1, Criteria criteria1, Element element2, Criteria criteria2) &#47;&#47;criteria1.equals(criteria2) -&gt; true </code>"}],"tags":[],"owner":{"account_id":8825915,"reputation":707,"user_id":6594174,"display_name":"leonardo rey"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1524491688,"creation_date":1524491688,"answer_id":49982953,"question_id":35788856,"body_markdown":"Use something like\r\n\r\n    findByFirstElementAndCriteriaOrSecondElementAndCriteria\r\n\r\nis like (first &amp; condition) OR ( second &amp; condition) --&gt; condition &amp; ( first or second)","title":"How to combine multiple And and Or through method name","body":"<p>Use something like</p>\n\n<pre><code>findByFirstElementAndCriteriaOrSecondElementAndCriteria\n</code></pre>\n\n<p>is like (first &amp; condition) OR ( second &amp; condition) --> condition &amp; ( first or second)</p>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697368511,"creation_date":1697368511,"answer_id":77296388,"question_id":35788856,"body_markdown":"imagine you have this method in Spring Repository class:\r\n\r\n    Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \r\n\r\none good practice is to break big query into its parts, then use them in this way:\r\n\r\n    Page&lt;SystemEntity&gt; findByNameContainsAndFlagIsFalse(String name, Pageable pageable); \r\n    \r\n    Page&lt;SystemEntity&gt; findByFamilyContainsAndFlagIsFalse(String family, Pageable pageable); \r\n    \r\n    Page&lt;SystemEntity&gt; findByEmailContainsAndFlagIsFals(String email, Pageable pageable); \r\n    \r\n    \r\n    // Combine results from above methods\r\n    default Page&lt;SystemEntity&gt; findByPrimaryLogicalCondition(String name, String family ,String email, Pageable pageable){\r\n    \tPage&lt;SystemEntity&gt; pageName = findByNameContainsAndFlagIsFalse(name, pageable);\r\n    \tPage&lt;SystemEntity&gt; pageFamily = findByFamilyContainsAndFlagIsFalse(family, pageable);\r\n    \tPage&lt;SystemEntity&gt; pageEmail = findByEmailContainsAndFlagIsFals(email, pageable);\r\n    \t\r\n    \t// Combine the results from both queries\r\n    \tList&lt;SystemEntity&gt; combinedResults = new ArrayList&lt;&gt;(pageName.getContent());\r\n    \tcombinedResults.addAll(pageFamily.getContent());\r\n    \tcombinedResults.addAll(pageEmail.getContent());\r\n    \t\r\n    \treturn new PageImpl&lt;&gt;(combinedResults, pageable, combinedResults.size());\r\n    }\r\n\r\nThis approach allows you to reuse the smaller methods for other queries if needed and keeps your code more modular and maintainable. ","title":"How to combine multiple And and Or through method name","body":"<p>imagine you have this method in Spring Repository class:</p>\n<pre><code>Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \n</code></pre>\n<p>one good practice is to break big query into its parts, then use them in this way:</p>\n<pre><code>Page&lt;SystemEntity&gt; findByNameContainsAndFlagIsFalse(String name, Pageable pageable); \n\nPage&lt;SystemEntity&gt; findByFamilyContainsAndFlagIsFalse(String family, Pageable pageable); \n\nPage&lt;SystemEntity&gt; findByEmailContainsAndFlagIsFals(String email, Pageable pageable); \n\n\n// Combine results from above methods\ndefault Page&lt;SystemEntity&gt; findByPrimaryLogicalCondition(String name, String family ,String email, Pageable pageable){\n    Page&lt;SystemEntity&gt; pageName = findByNameContainsAndFlagIsFalse(name, pageable);\n    Page&lt;SystemEntity&gt; pageFamily = findByFamilyContainsAndFlagIsFalse(family, pageable);\n    Page&lt;SystemEntity&gt; pageEmail = findByEmailContainsAndFlagIsFals(email, pageable);\n    \n    // Combine the results from both queries\n    List&lt;SystemEntity&gt; combinedResults = new ArrayList&lt;&gt;(pageName.getContent());\n    combinedResults.addAll(pageFamily.getContent());\n    combinedResults.addAll(pageEmail.getContent());\n    \n    return new PageImpl&lt;&gt;(combinedResults, pageable, combinedResults.size());\n}\n</code></pre>\n<p>This approach allows you to reuse the smaller methods for other queries if needed and keeps your code more modular and maintainable.</p>\n"}],"owner":{"account_id":7284152,"reputation":641,"user_id":5552812,"display_name":"Preethi Ramanujam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82619,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":5,"score":64,"last_activity_date":1697370667,"creation_date":1457070418,"question_id":35788856,"body_markdown":"I am trying to migrate the application. I am working on from Hibernate to Spring Data JPA. \r\n\r\nThough Spring Data JPA offers simple methods for query building, I am stuck up in creating query method that uses both `And` and `Or` operator. \r\n\r\nMethodName - `findByPlan_PlanTypeInAndSetupStepIsNullOrStepupStepIs(...)`\r\n\r\nWhen it converts into the query, the first two expressions are combined and it executes as `[(exp1 and exp2) or (exp3)]`, whereas required is `](exp1) and (exp2 or exp3)]`.\r\n\r\nCan anyone please let me know if this is achievable through Spring Data JPA?","title":"How to combine multiple And and Or through method name","body":"<p>I am trying to migrate the application. I am working on from Hibernate to Spring Data JPA.</p>\n<p>Though Spring Data JPA offers simple methods for query building, I am stuck up in creating query method that uses both <code>And</code> and <code>Or</code> operator.</p>\n<p>MethodName - <code>findByPlan_PlanTypeInAndSetupStepIsNullOrStepupStepIs(...)</code></p>\n<p>When it converts into the query, the first two expressions are combined and it executes as <code>[(exp1 and exp2) or (exp3)]</code>, whereas required is <code>](exp1) and (exp2 or exp3)]</code>.</p>\n<p>Can anyone please let me know if this is achievable through Spring Data JPA?</p>\n"},{"tags":["java","selenium-webdriver","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"score":0,"creation_date":1697369933,"post_id":77280407,"comment_id":136268912,"body_markdown":"What command are you running from the command line?","body":"What command are you running from the command line?"}],"answers":[{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697370079,"creation_date":1697370079,"answer_id":77296470,"question_id":77280407,"body_markdown":"Your question is not detailed enough, please try below:\r\n\r\nCheck if you have defined the xml suite file in the pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M3&lt;/version&gt; &lt;!-- Adjust the version as needed --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nTo run your TestNG tests using Maven, you can use the following Maven command:\r\n\r\n    mvn test\r\n\r\nThis command will trigger the test phase of the Maven build lifecycle, and it will execute your TestNG tests based on your project configuration, including the TestNG suite XML file specified in the pom.xml configuration.\r\n\r\nMake sure you are in your project&#39;s root directory where the pom.xml file is located before running this command. If your TestNG suite XML file is named testng.xml and is located in the src/test/resources directory, the Maven Surefire Plugin will automatically look for it and execute the tests defined in the XML file.\r\n\r\nIf you have multiple TestNG suite XML files or want to specify a different suite XML file, you can use the -Dtest option to specify the file as follows:\r\n\r\n    mvn test -DsuiteXmlFile=src/test/resources/your-testng-suite.xml\r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-","body":"<p>Your question is not detailed enough, please try below:</p>\n<p>Check if you have defined the xml suite file in the pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M3&lt;/version&gt; &lt;!-- Adjust the version as needed --&gt;\n            &lt;configuration&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>To run your TestNG tests using Maven, you can use the following Maven command:</p>\n<pre><code>mvn test\n</code></pre>\n<p>This command will trigger the test phase of the Maven build lifecycle, and it will execute your TestNG tests based on your project configuration, including the TestNG suite XML file specified in the pom.xml configuration.</p>\n<p>Make sure you are in your project's root directory where the pom.xml file is located before running this command. If your TestNG suite XML file is named testng.xml and is located in the src/test/resources directory, the Maven Surefire Plugin will automatically look for it and execute the tests defined in the XML file.</p>\n<p>If you have multiple TestNG suite XML files or want to specify a different suite XML file, you can use the -Dtest option to specify the file as follows:</p>\n<pre><code>mvn test -DsuiteXmlFile=src/test/resources/your-testng-suite.xml\n</code></pre>\n"}],"owner":{"account_id":26262586,"reputation":1,"user_id":19933651,"display_name":"Suraj Nepali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697370079,"creation_date":1697112214,"question_id":77280407,"body_markdown":"I was tring to execute the `BuyCourse.java` file located in the file path `meropadhaiseleniumframework/src/test/java/clinchtech/Tests/BuyCourse.java`. I have my `testng.xml` file in `meropadhaiseleniumframework/src/test/resources/testng.xml`\r\n\r\nMy `testng.xml` file has code:\r\n\r\n\r\n```xml\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;!-- To run the tests parallely, we need to add parallel=&quot;tests&quot; thread-count=&quot;2&quot;, it means 2 &lt;test&gt;&lt;/test&gt;s are running parallely, which is not suggested in real world systems --&gt;\r\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\r\n    &lt;parameter name=&quot;URL&quot; value=&quot;https://demo.meropadhai.com&quot;/&gt;\r\n    &lt;listeners&gt;\r\n        &lt;listener class-name=&#39;TestComponents.Listeners&#39;/&gt;\r\n    &lt;/listeners&gt;\r\n    &lt;test name=&quot;java&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;!-- Use the fully qualified class name including the package --&gt;\r\n            &lt;class name=&quot;Tests.BuyCourse&quot; /&gt;\r\n            &lt;!-- &lt;class name=&quot;TestNG.Tut1&quot;/&gt; --&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n\r\nWhen I tries to execute the code by running `mvn test` from the terminal I got the following error\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project meropadhaiseleniumframework: There are test failures.\r\n[ERROR] \r\n[ERROR] Please refer to /Users/meropadhai6/Documents/GitHub/meropadhai-selenium/meropadhaiseleniumframework/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] There was an error in the forked process\r\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\r\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\r\n[ERROR]         at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\r\n```","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-","body":"<p>I was tring to execute the <code>BuyCourse.java</code> file located in the file path <code>meropadhaiseleniumframework/src/test/java/clinchtech/Tests/BuyCourse.java</code>. I have my <code>testng.xml</code> file in <code>meropadhaiseleniumframework/src/test/resources/testng.xml</code></p>\n<p>My <code>testng.xml</code> file has code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;!-- To run the tests parallely, we need to add parallel=&quot;tests&quot; thread-count=&quot;2&quot;, it means 2 &lt;test&gt;&lt;/test&gt;s are running parallely, which is not suggested in real world systems --&gt;\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\n    &lt;parameter name=&quot;URL&quot; value=&quot;https://demo.meropadhai.com&quot;/&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name='TestComponents.Listeners'/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;java&quot;&gt;\n        &lt;classes&gt;\n            &lt;!-- Use the fully qualified class name including the package --&gt;\n            &lt;class name=&quot;Tests.BuyCourse&quot; /&gt;\n            &lt;!-- &lt;class name=&quot;TestNG.Tut1&quot;/&gt; --&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>When I tries to execute the code by running <code>mvn test</code> from the terminal I got the following error</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project meropadhaiseleniumframework: There are test failures.\n[ERROR] \n[ERROR] Please refer to /Users/meropadhai6/Documents/GitHub/meropadhai-selenium/meropadhaiseleniumframework/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] There was an error in the forked process\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] Suite file /src/test/resources/testng.xml is not a valid file\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\n[ERROR]         at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\n</code></pre>\n"},{"tags":["java","android-studio","bottom-navigation-bar"],"owner":{"account_id":23025741,"reputation":21,"user_id":17146022,"display_name":"D Com"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697369321,"creation_date":1697369321,"question_id":77296434,"body_markdown":"I&#39;m trying to create a Bottom Navigation Bar with FloatingActionButton like this:\r\n[![enter image description here][1]][1]\r\n\r\nBut my result is different:\r\n\r\n[![enter image description here][2]][2]\r\n. \r\n\r\n  [1]: https://i.stack.imgur.com/GDJg4.png\r\n  [2]: https://i.stack.imgur.com/dpQhg.png\r\n\r\nWhy is this the result?\r\nAttach the XML file:\r\n``` \r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/nav_host_fragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginBottom=&quot;?attr/actionBarSize&quot;\r\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\r\n            /&gt;\r\n\r\n\r\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=&quot;@+id/bottomAppBar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            app:contentInsetEnd=&quot;0dp&quot;\r\n            app:contentInsetStart=&quot;0dp&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            app:fabAlignmentMode=&quot;center&quot;\r\n            app:fabAnimationMode=&quot;scale&quot;\r\n            app:fabCradleMargin=&quot;10dp&quot;\r\n            app:fabCradleRoundedCornerRadius=&quot;25dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=&quot;@+id/bottomNavigationView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:labelVisibilityMode=&quot;labeled&quot;\r\n                app:menu=&quot;@menu/bottom_menu&quot; /&gt;\r\n\r\n\r\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n\r\n\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:contentDescription=&quot;@string/app_name&quot;\r\n            android:src=&quot;@drawable/baseline_rocket_24&quot;\r\n            app:backgroundTint=&quot;@color/blue&quot;\r\n            app:elevation=&quot;5dp&quot;\r\n            app:fabSize=&quot;normal&quot;\r\n            app:layout_anchor=&quot;@id/bottomAppBar&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\n&lt;/androidx. coordinator layout.widget.CoordinatorLayout&gt;\r\n``` \r\nThese are the dependencies :\r\n``` \r\ndependencies {\r\n\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\r\n    implementation(&quot;com.google.firebase:firebase-auth-ktx:22.1.2&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;com.google.android.material:material:1.3.0-alpha03&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    implementation(&quot;androidx.compose.material:material:1.6.0-alpha07&quot;)\r\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.3.1&quot;))\r\n    implementation(&quot;com.google.firebase:firebase-analytics&quot;)\r\n}\r\n``` \r\n\r\nThe components don&#39;t seem to connect together and just rest on top of each other. So far I haven&#39;t found the reason why it doesn&#39;t work, so I&#39;m asking you for help.","title":"Bottom Navigation Bar , FloatingActionButton &amp; layout_anchor not working","body":"<p>I'm trying to create a Bottom Navigation Bar with FloatingActionButton like this:\n<a href=\"https://i.stack.imgur.com/GDJg4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDJg4.png\" alt=\"enter image description here\" /></a></p>\n<p>But my result is different:</p>\n<p><a href=\"https://i.stack.imgur.com/dpQhg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpQhg.png\" alt=\"enter image description here\" /></a>\n.</p>\n<p>Why is this the result?\nAttach the XML file:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:id=&quot;@+id/container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/nav_host_fragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;?attr/actionBarSize&quot;\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;\n            /&gt;\n\n\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\n            android:id=&quot;@+id/bottomAppBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            app:contentInsetEnd=&quot;0dp&quot;\n            app:contentInsetStart=&quot;0dp&quot;\n            app:elevation=&quot;0dp&quot;\n            app:fabAlignmentMode=&quot;center&quot;\n            app:fabAnimationMode=&quot;scale&quot;\n            app:fabCradleMargin=&quot;10dp&quot;\n            app:fabCradleRoundedCornerRadius=&quot;25dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n                android:id=&quot;@+id/bottomNavigationView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:labelVisibilityMode=&quot;labeled&quot;\n                app:menu=&quot;@menu/bottom_menu&quot; /&gt;\n\n\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fab&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:contentDescription=&quot;@string/app_name&quot;\n            android:src=&quot;@drawable/baseline_rocket_24&quot;\n            app:backgroundTint=&quot;@color/blue&quot;\n            app:elevation=&quot;5dp&quot;\n            app:fabSize=&quot;normal&quot;\n            app:layout_anchor=&quot;@id/bottomAppBar&quot; /&gt;\n\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n\n&lt;/androidx. coordinator layout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>These are the dependencies :</p>\n<pre><code>dependencies {\n\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    implementation(&quot;com.google.android.material:material:1.9.0&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;)\n    implementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\n    implementation(&quot;com.google.firebase:firebase-auth-ktx:22.1.2&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;com.google.android.material:material:1.3.0-alpha03&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    implementation(&quot;androidx.compose.material:material:1.6.0-alpha07&quot;)\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.3.1&quot;))\n    implementation(&quot;com.google.firebase:firebase-analytics&quot;)\n}\n</code></pre>\n<p>The components don't seem to connect together and just rest on top of each other. So far I haven't found the reason why it doesn't work, so I'm asking you for help.</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests","testng"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1697252132,"post_id":77291433,"comment_id":136260253,"body_markdown":"check this https://stackoverflow.com/questions/57433307/maven-command-to-run-specific-test-class-got-org-testng-testngexception","body":"check this <a href=\"https://stackoverflow.com/questions/57433307/maven-command-to-run-specific-test-class-got-org-testng-testngexception\" title=\"maven command to run specific test class got org testng testngexception\">stackoverflow.com/questions/57433307/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697369294,"creation_date":1697369294,"answer_id":77296431,"question_id":77291433,"body_markdown":"Not sure regarding the xml file you have but let&#39;s assume it as below:\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;MyTestSuite&quot;&gt;\r\n        &lt;test name=&quot;MyTest&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.example.TestClass1&quot;&gt;\r\n                    &lt;methods&gt;\r\n                        &lt;include name=&quot;testMethod1&quot; /&gt;\r\n                        &lt;include name=&quot;testMethod2&quot; /&gt;\r\n                    &lt;/methods&gt;\r\n                &lt;/class&gt;\r\n                &lt;class name=&quot;com.example.TestClass2&quot; /&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n\r\nUse the following Maven command to run the specific tests defined in the XML file:\r\n\r\n    mvn test -DsuiteXmlFile=path/to/your/testng.xml -Dtest=testClass1#testMethod1,testClass1#testMethod2,testClass2\r\n\r\nReplace path/to/your/testng.xml with the actual path to your TestNG XML file, and specify the test classes and methods you want to run after the -Dtest= option, separated by commas.\r\n\r\nIn the example above, it will run testMethod1 and testMethod2 from TestClass1 and the entire TestClass2.","title":"How can I run a specific test from testng.xml file which has multiple test?","body":"<p>Not sure regarding the xml file you have but let's assume it as below:</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;MyTestSuite&quot;&gt;\n    &lt;test name=&quot;MyTest&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.example.TestClass1&quot;&gt;\n                &lt;methods&gt;\n                    &lt;include name=&quot;testMethod1&quot; /&gt;\n                    &lt;include name=&quot;testMethod2&quot; /&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n            &lt;class name=&quot;com.example.TestClass2&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Use the following Maven command to run the specific tests defined in the XML file:</p>\n<pre><code>mvn test -DsuiteXmlFile=path/to/your/testng.xml -Dtest=testClass1#testMethod1,testClass1#testMethod2,testClass2\n</code></pre>\n<p>Replace path/to/your/testng.xml with the actual path to your TestNG XML file, and specify the test classes and methods you want to run after the -Dtest= option, separated by commas.</p>\n<p>In the example above, it will run testMethod1 and testMethod2 from TestClass1 and the entire TestClass2.</p>\n"}],"owner":{"account_id":10663145,"reputation":1,"user_id":7850522,"display_name":"Mathivarma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697369294,"creation_date":1697251626,"question_id":77291433,"body_markdown":"Can&#39;t run directly mvn clean test -Dtest=&quot;com.dot.Management_Test&quot;. It has dependency in my application suite to pass suiteXml. Is there a way to run only the specific test in the SuiteXml by mentioning the SuiteXml in maven command &quot;mvn clean test -DSuiteXml=school-mgmt.xml&quot;\r\n\r\nTried this didn&#39;t help, mvn clean test -DSuiteXml=corex-cert-mgmt.xml -testnames subjectTest","title":"How can I run a specific test from testng.xml file which has multiple test?","body":"<p>Can't run directly mvn clean test -Dtest=&quot;com.dot.Management_Test&quot;. It has dependency in my application suite to pass suiteXml. Is there a way to run only the specific test in the SuiteXml by mentioning the SuiteXml in maven command &quot;mvn clean test -DSuiteXml=school-mgmt.xml&quot;</p>\n<p>Tried this didn't help, mvn clean test -DSuiteXml=corex-cert-mgmt.xml -testnames subjectTest</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","user-defined-functions"],"owner":{"account_id":29673805,"reputation":1,"user_id":22742312,"display_name":"Jane Pit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697367659,"creation_date":1697336976,"question_id":77295125,"body_markdown":"\r\n```\r\nSub SearchMenu(varSearchItem, varApp)\r\n   ` Call LinkClick(&quot;name&quot;,&quot;Search&quot;)\r\n    Call WebEditSet(&quot;name&quot;,&quot;searchTerm&quot;, varSearchItem)\r\n    If LCase(varApp) = &quot;bk&quot; Then\r\n        Call ImageClick(&quot;title&quot;,&quot;Search&quot;)\r\n    Else`your text`\r\n        Call WebButtonClick(&quot;name&quot;,&quot;Search&quot;)\r\n    End If\r\n    &#39;&#39;clicks link on search results page\r\n    Call LinkClick(&quot;name&quot;,varSearchItem)\r\nEnd Sub\r\n```\r\nI wanted to create a user defined search method in Java that can be used by multiple applications in Selenium for web applications. I am new to selenium. I wanted to pass two argument. I am converting UFT script sub routine for search menu to search method.\r\n\r\nThis is my code in UFT I wanted to rewrite in Java. I need help to write in the Java Selenium.\r\n\r\n","title":"I wanted to create search functionality common method","body":"<pre><code>Sub SearchMenu(varSearchItem, varApp)\n   ` Call LinkClick(&quot;name&quot;,&quot;Search&quot;)\n    Call WebEditSet(&quot;name&quot;,&quot;searchTerm&quot;, varSearchItem)\n    If LCase(varApp) = &quot;bk&quot; Then\n        Call ImageClick(&quot;title&quot;,&quot;Search&quot;)\n    Else`your text`\n        Call WebButtonClick(&quot;name&quot;,&quot;Search&quot;)\n    End If\n    ''clicks link on search results page\n    Call LinkClick(&quot;name&quot;,varSearchItem)\nEnd Sub\n</code></pre>\n<p>I wanted to create a user defined search method in Java that can be used by multiple applications in Selenium for web applications. I am new to selenium. I wanted to pass two argument. I am converting UFT script sub routine for search menu to search method.</p>\n<p>This is my code in UFT I wanted to rewrite in Java. I need help to write in the Java Selenium.</p>\n"},{"tags":["java","unit-testing","mockito","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1697358292,"post_id":77294966,"comment_id":136267783,"body_markdown":"According to documentation `Use {@link io.quarkus.test.InjectMock} and {@link MockitoConfig} instead.`","body":"According to documentation <code>Use {@link io.quarkus.test.InjectMock} and {@link MockitoConfig} instead.</code>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697573415,"post_id":77294995,"comment_id":136296180,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77294995/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17757866,"reputation":11,"user_id":12894533,"display_name":"Natan"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697331809,"creation_date":1697331420,"answer_id":77294995,"question_id":77294966,"body_markdown":"I found a way. I&#39;m not using something deprecated.\r\n\r\n[Mocking with QuarkusMock][1]\r\n\r\nMy example:\r\n\r\n```\r\n ExtensionsService customMock = new ExtensionsService() {\r\n            @Override\r\n            public JsonObject getForbiddenNumbers() {\r\n                return new JsonObject(&quot;{\\&quot;forbiddenNumbers\\&quot;:[5,7,23]}&quot;);\r\n            }\r\n        };\r\n        QuarkusMock.installMockForType(customMock, ExtensionsService.class, RestClient.LITERAL);\r\n```\r\n\r\nIn this example ExtensionsService is the rest client.\r\n\r\nFor more information:\r\n[Quarkus documentation][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zfrmz.png\r\n  [2]: https://quarkus.io/guides/rest-client-reactive#mocking-with-quarkusmock","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p>I found a way. I'm not using something deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/Zfrmz.png\" rel=\"nofollow noreferrer\">Mocking with QuarkusMock</a></p>\n<p>My example:</p>\n<pre><code> ExtensionsService customMock = new ExtensionsService() {\n            @Override\n            public JsonObject getForbiddenNumbers() {\n                return new JsonObject(&quot;{\\&quot;forbiddenNumbers\\&quot;:[5,7,23]}&quot;);\n            }\n        };\n        QuarkusMock.installMockForType(customMock, ExtensionsService.class, RestClient.LITERAL);\n</code></pre>\n<p>In this example ExtensionsService is the rest client.</p>\n<p>For more information:\n<a href=\"https://quarkus.io/guides/rest-client-reactive#mocking-with-quarkusmock\" rel=\"nofollow noreferrer\">Quarkus documentation</a></p>\n"},{"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697366782,"creation_date":1697366782,"answer_id":77296288,"question_id":77294966,"body_markdown":"`quarkus-junit5-mockito` is _NOT_ deprecated.\r\n\r\nWhat is deprecated is the `io.quarkus.test.junit.mockito.InjectMock` annotation, nothing else.\r\n\r\nThe replacement is the `io.quarkus.test.InjectMock` annotation, together with `io.quarkus.test.junit.mockito.InjectMock` if you need the extra options.","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p><code>quarkus-junit5-mockito</code> is <em>NOT</em> deprecated.</p>\n<p>What is deprecated is the <code>io.quarkus.test.junit.mockito.InjectMock</code> annotation, nothing else.</p>\n<p>The replacement is the <code>io.quarkus.test.InjectMock</code> annotation, together with <code>io.quarkus.test.junit.mockito.InjectMock</code> if you need the extra options.</p>\n"}],"owner":{"account_id":17757866,"reputation":11,"user_id":12894533,"display_name":"Natan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697366782,"creation_date":1697330657,"question_id":77294966,"body_markdown":"I&#39;m using the latest version of quarkus (3.4 at this moment) and as usual I used the following dependency:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[mockito is deprecated](https://i.stack.imgur.com/DQvdL.png)\r\n\r\nWhen I imported it I had this issue, it is deprecated from version 3.2 of Quarkus.\r\n\r\nAnd now how to mock ?\r\n\r\n\r\n\r\n\r\nI tried using mockito but in new versions of quarkus it is deprecated.\r\nI hope I can mock it somehow without using something deprecated.","title":"quarkus-junit5-mockito is deprecated - How to mock rest clients when unittesting a Quarkus application?","body":"<p>I'm using the latest version of quarkus (3.4 at this moment) and as usual I used the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5-mockito&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DQvdL.png\" rel=\"nofollow noreferrer\">mockito is deprecated</a></p>\n<p>When I imported it I had this issue, it is deprecated from version 3.2 of Quarkus.</p>\n<p>And now how to mock ?</p>\n<p>I tried using mockito but in new versions of quarkus it is deprecated.\nI hope I can mock it somehow without using something deprecated.</p>\n"},{"tags":["java","geometry","processing","computational-geometry"],"comments":[{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697261225,"post_id":77289538,"comment_id":136260674,"body_markdown":"what do you think `p &lt; (c * c) / 4` does in your `if` statement when your `p = (c * c) / 4` if I put aside your missing brackets then still `(c * c) / 4 &lt; (c * c) / 4` is never true so you have no points rendered ... I assume the `p` should be the product of distances instead ... You are attempting to render the boundary `p == c*c/4` instead of interrior `p &lt; c*c/4` so based on threshold and `p,c ` magnitudes rounding errors might cause to stop this working once your `p,c` got bigger. To remedy just increase `threshold` or compute its size as fraction of `c` value so it scale with size ...","body":"what do you think <code>p &lt; (c * c) &#47; 4</code> does in your <code>if</code> statement when your <code>p = (c * c) &#47; 4</code> if I put aside your missing brackets then still <code>(c * c) &#47; 4 &lt; (c * c) &#47; 4</code> is never true so you have no points rendered ... I assume the <code>p</code> should be the product of distances instead ... You are attempting to render the boundary <code>p == c*c&#47;4</code> instead of interrior <code>p &lt; c*c&#47;4</code> so based on threshold and <code>p,c </code> magnitudes rounding errors might cause to stop this working once your <code>p,c</code> got bigger. To remedy just increase <code>threshold</code> or compute its size as fraction of <code>c</code> value so it scale with size ..."},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697392357,"post_id":77289538,"comment_id":136271358,"body_markdown":"Thank you very much, I made corrections, but still I can&#39;t see desired set of points.\nI have changed this lines:\nfloat p = dist(x1, y, x2, y);\n\nfloat threshold = 0.2 * c;\n\nif (d1 * d2 == p &amp;&amp; p &lt; (c * c) / 4) {\n      stroke(255, 0, 0);\n      point(x, y);\n    }\n\nWhat might be the problem?","body":"Thank you very much, I made corrections, but still I can&#39;t see desired set of points. I have changed this lines: float p = dist(x1, y, x2, y);  float threshold = 0.2 * c;  if (d1 * d2 == p &amp;&amp; p &lt; (c * c) / 4) {       stroke(255, 0, 0);       point(x, y);     }  What might be the problem?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697438523,"post_id":77289538,"comment_id":136275040,"body_markdown":"@Anon still the same error The `if` should be according to your description like this: `if (d1 * d2  &lt; ((c * c) / 4))` where `d1,d2` are the distances between rendered point and two focal points (similar to ellipse) the result should be an oval or something similar to character `8` depending on the `c` value and distance between focal points ...","body":"@Anon still the same error The <code>if</code> should be according to your description like this: <code>if (d1 * d2  &lt; ((c * c) &#47; 4))</code> where <code>d1,d2</code> are the distances between rendered point and two focal points (similar to ellipse) the result should be an oval or something similar to character <code>8</code> depending on the <code>c</code> value and distance between focal points ..."},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697438800,"post_id":77289538,"comment_id":136275071,"body_markdown":"Also beware if you using pixels as units the values of `d1*d2` and `(c*c/4)` can get really big so using just `float` might still cause rounding errors with bigger `c` using `double` or  64bit integers is safer. Especially if you optimize out the `sqrt` from `d1,d2` for speed (on integers its a ~10x speed boost)","body":"Also beware if you using pixels as units the values of <code>d1*d2</code> and <code>(c*c&#47;4)</code> can get really big so using just <code>float</code> might still cause rounding errors with bigger <code>c</code> using <code>double</code> or  64bit integers is safer. Especially if you optimize out the <code>sqrt</code> from <code>d1,d2</code> for speed (on integers its a ~10x speed boost)"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697457624,"post_id":77289538,"comment_id":136278319,"body_markdown":"@user85421 can you please show your code with Java solution? I will try to run and debug it to better understand how to implement this in processing","body":"@user85421 can you please show your code with Java solution? I will try to run and debug it to better understand how to implement this in processing"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697470523,"post_id":77289538,"comment_id":136280865,"body_markdown":"@user85421 I tried to write this like this [link](https://github.com/afigonimus/geometry/blob/main/CustomPanel.java)\nbut I didn`t get the result I wanted","body":"@user85421 I tried to write this like this <a href=\"https://github.com/afigonimus/geometry/blob/main/CustomPanel.java\" rel=\"nofollow noreferrer\">link</a> but I didn`t get the result I wanted"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697478740,"post_id":77289538,"comment_id":136282316,"body_markdown":"@user85421 The task I&#39;ve described involves two fixed points on a horizontal line, with a constant distance between them - &quot;c.&quot; I want to find the set of points on this line for which the product of the distances to these two given points is equal to a specific value, denoted as &quot;p,&quot; where p &lt; c^2/4.","body":"@user85421 The task I&#39;ve described involves two fixed points on a horizontal line, with a constant distance between them - &quot;c.&quot; I want to find the set of points on this line for which the product of the distances to these two given points is equal to a specific value, denoted as &quot;p,&quot; where p &lt; c^2/4."},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697554003,"post_id":77289538,"comment_id":136292871,"body_markdown":"@Spektre as you mentioned the result should be an oval or something similar to character 8 depending on the c value and distance between focal points, it seems that my task with p = c^2/4(i provided code in post) was wrong. In this case it should look like as task p&lt;c^2/4?","body":"@Spektre as you mentioned the result should be an oval or something similar to character 8 depending on the c value and distance between focal points, it seems that my task with p = c^2/4(i provided code in post) was wrong. In this case it should look like as task p&lt;c^2/4?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697556297,"post_id":77289538,"comment_id":136293397,"body_markdown":"@Anon only if your  `p = d1 * d2;`","body":"@Anon only if your  <code>p = d1 * d2;</code>"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697609613,"post_id":77289538,"comment_id":136299678,"body_markdown":"@user85421 no `c` is constant similar to &quot;radius&quot; the OP definition is almost identical to ellipse defined by two focal points and length `c` with the difference that ellipse is `d1+d2 &lt;= 2*c`  where `c` is major semi axis size and OP has `d1*d2 &lt;= (c/2)*(c/2)` (s)he&#39;s code is aleady almost working the only stuff what needs to be changed is the condition to `if ((d1*d2)&lt;=(c*c/4.0))` which I already commented before ... Your screenshot is different to what is the true result (but similar)","body":"@user85421 no <code>c</code> is constant similar to &quot;radius&quot; the OP definition is almost identical to ellipse defined by two focal points and length <code>c</code> with the difference that ellipse is <code>d1+d2 &lt;= 2*c</code>  where <code>c</code> is major semi axis size and OP has <code>d1*d2 &lt;= (c&#47;2)*(c&#47;2)</code> (s)he&#39;s code is aleady almost working the only stuff what needs to be changed is the condition to <code>if ((d1*d2)&lt;=(c*c&#47;4.0))</code> which I already commented before ... Your screenshot is different to what is the true result (but similar)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697610504,"post_id":77289538,"comment_id":136299783,"body_markdown":"@Spektre and `c` is the distance between the two points, as specified in first sentence of the question (and [comment](https://stackoverflow.com/questions/77289538/draw-the-set-of-points-for-which-the-product-of-the-distances-to-two-given-point?noredirect=1#comment136282316_77289538)) - my screenshot is from code doing exactly as specified, additionally I added some coloring - there is at least one significant difference between `d1+d2 &lt; 2*c` and `d1*d2 &lt; c*c/4`","body":"@Spektre and <code>c</code> is the distance between the two points, as specified in first sentence of the question (and <a href=\"https://stackoverflow.com/questions/77289538/draw-the-set-of-points-for-which-the-product-of-the-distances-to-two-given-point?noredirect=1#comment136282316_77289538\">comment</a>) - my screenshot is from code doing exactly as specified, additionally I added some coloring - there is at least one significant difference between <code>d1+d2 &lt; 2*c</code> and <code>d1*d2 &lt; c*c&#47;4</code>"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697622067,"post_id":77289538,"comment_id":136301910,"body_markdown":"@user85421 and how did you get the result in the new screenshot? what have you changed in the code?","body":"@user85421 and how did you get the result in the new screenshot? what have you changed in the code?"},{"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"score":0,"creation_date":1697629628,"post_id":77289538,"comment_id":136303326,"body_markdown":"I tried to do the same task but with the requirement p == c^2/4. If I set if d== c^2/4, I have only a few points because the coordinates of the points that are multiplied to get d are limited to the number of decimal places, so with d=d1*d2, even with rounding d, there aren&#39;t many points with the value I need for d=c^2/4. \nI tried to solve this by using var d = Math.round(d1*d2);\n                d  /= 10;\n                d = Math.round(d);\n                d *= 10;\n\nBut are there any other ways to solve this problem?","body":"I tried to do the same task but with the requirement p == c^2/4. If I set if d== c^2/4, I have only a few points because the coordinates of the points that are multiplied to get d are limited to the number of decimal places, so with d=d1*d2, even with rounding d, there aren&#39;t many points with the value I need for d=c^2/4.  I tried to solve this by using var d = Math.round(d1*d2);                 d  /= 10;                 d = Math.round(d);                 d *= 10;  But are there any other ways to solve this problem?"},{"owner":{"account_id":2968584,"reputation":50571,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1697635700,"post_id":77289538,"comment_id":136304715,"body_markdown":"@user85421 You&#39;re right I missed that ... I used c  as input constant instead so I could achieve both ovals and 8 like shapes (however the 8 like shape was slightly different ) ... now with `c` as focal distance the shape will be always the same just scaled ...","body":"@user85421 You&#39;re right I missed that ... I used c  as input constant instead so I could achieve both ovals and 8 like shapes (however the 8 like shape was slightly different ) ... now with <code>c</code> as focal distance the shape will be always the same just scaled ..."}],"owner":{"account_id":26506839,"reputation":1,"user_id":20142867,"display_name":"Anon"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697365955,"creation_date":1697216549,"question_id":77289538,"body_markdown":"Two points are set on a horizontal line, the distance between which is `c`.\r\nDraw the set of points for which the product of the distances to two given points is equal to `p &lt; c^2/4`.\r\n\r\nI have problem with this, because in the output I have line without points. I&#39;m using Processing.\r\n\r\n```\r\nvoid setup() {\r\n  size(800, 600);\r\n  background(255);\r\n  stroke(0);\r\n  float c = 700;\r\n  float p = (c * c) / 4;\r\n  float x1 = (width - c) / 2;\r\n  float x2 = x1 + c;\r\n  float y = height / 2;\r\n  fill(0, 0, 255);\r\n  stroke(0, 0, 255);\r\n  ellipse(x1, y, 10, 10);\r\n  ellipse(x2, y, 10, 10);\r\n  line(x1, y, x2, height / 2);\r\n  strokeWeight(4);\r\n  float threshold = 30.0; // Increased threshold for better visibility\r\n\r\n  for (float x = x1; x &lt;= x2; x += 1) {\r\n    float d1 = dist(x, y, x1, y);\r\n    float d2 = dist(x, y, x2, y);\r\n\r\n    // Calculate the product of distances\r\n    float product = d1 * d2;\r\n\r\n    // Check if the product is equal to p and p &lt; c^2/4\r\n    if (abs(product - p) &lt; threshold &amp;&amp; p &lt; (c * c) / 4) {\r\n      stroke(255, 0, 0);\r\n      point(x, y);\r\n    }\r\n  }\r\n}\r\n\r\nvoid draw() {\r\n  \r\n}\r\n```\r\n\r\n\r\nI made the same task but with `p = c^2/4` like this:\r\n\r\n\r\n```\r\nvoid setup() {\r\n  size(800, 600);\r\n  background(255);\r\n  stroke(0);\r\n  float c = 700;\r\n  float p = (c * c)/4;\r\n  float x1 = (width - c) / 2;\r\n  float x2 = x1 + c;\r\n  float y = height / 2;\r\n  fill(0, 0, 255);\r\n  stroke(0, 0, 255);\r\n  ellipse(x1, y, 10, 10);\r\n  ellipse(x2, y, 10, 10);\r\n  line(x1, y, x2, height / 2);\r\n  float threshold = 30.0; // Increased threshold for better visibility\r\n\r\n  for (float x = x1; x &lt;= x2; x += 1) {\r\n    float d1 = dist(x, y, x1, y);\r\n    float d2 = dist(x, y, x2, y);\r\n    \r\n    // Calculate the product of distances\r\n    float product = d1 * d2;\r\n    \r\n    // Check if the product is within a certain range of p\r\n    if (abs(product - p) &lt; threshold) {\r\n      stroke(255, 0, 0); \r\n      ellipse(x, y, 5, 5);\r\n    }\r\n  }\r\n}\r\n\r\nvoid draw() {\r\n}\r\n```\r\nI think it is working well. I have red points in the middle of the line. Then, I changed the requirements for `p&lt;c^2/4` and it is not working. What might be the problem?\r\n\r\n","title":"Draw the set of points for which the product of the distances to two given points is equal to p &lt; c^2/4","body":"<p>Two points are set on a horizontal line, the distance between which is <code>c</code>.\nDraw the set of points for which the product of the distances to two given points is equal to <code>p &lt; c^2/4</code>.</p>\n<p>I have problem with this, because in the output I have line without points. I'm using Processing.</p>\n<pre><code>void setup() {\n  size(800, 600);\n  background(255);\n  stroke(0);\n  float c = 700;\n  float p = (c * c) / 4;\n  float x1 = (width - c) / 2;\n  float x2 = x1 + c;\n  float y = height / 2;\n  fill(0, 0, 255);\n  stroke(0, 0, 255);\n  ellipse(x1, y, 10, 10);\n  ellipse(x2, y, 10, 10);\n  line(x1, y, x2, height / 2);\n  strokeWeight(4);\n  float threshold = 30.0; // Increased threshold for better visibility\n\n  for (float x = x1; x &lt;= x2; x += 1) {\n    float d1 = dist(x, y, x1, y);\n    float d2 = dist(x, y, x2, y);\n\n    // Calculate the product of distances\n    float product = d1 * d2;\n\n    // Check if the product is equal to p and p &lt; c^2/4\n    if (abs(product - p) &lt; threshold &amp;&amp; p &lt; (c * c) / 4) {\n      stroke(255, 0, 0);\n      point(x, y);\n    }\n  }\n}\n\nvoid draw() {\n  \n}\n</code></pre>\n<p>I made the same task but with <code>p = c^2/4</code> like this:</p>\n<pre><code>void setup() {\n  size(800, 600);\n  background(255);\n  stroke(0);\n  float c = 700;\n  float p = (c * c)/4;\n  float x1 = (width - c) / 2;\n  float x2 = x1 + c;\n  float y = height / 2;\n  fill(0, 0, 255);\n  stroke(0, 0, 255);\n  ellipse(x1, y, 10, 10);\n  ellipse(x2, y, 10, 10);\n  line(x1, y, x2, height / 2);\n  float threshold = 30.0; // Increased threshold for better visibility\n\n  for (float x = x1; x &lt;= x2; x += 1) {\n    float d1 = dist(x, y, x1, y);\n    float d2 = dist(x, y, x2, y);\n    \n    // Calculate the product of distances\n    float product = d1 * d2;\n    \n    // Check if the product is within a certain range of p\n    if (abs(product - p) &lt; threshold) {\n      stroke(255, 0, 0); \n      ellipse(x, y, 5, 5);\n    }\n  }\n}\n\nvoid draw() {\n}\n</code></pre>\n<p>I think it is working well. I have red points in the middle of the line. Then, I changed the requirements for <code>p&lt;c^2/4</code> and it is not working. What might be the problem?</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"score":3,"creation_date":1442752652,"post_id":32679451,"comment_id":53203406,"body_markdown":"The number is not a Long but rather a Float/Double. Because of the floating point the number cannot be converted to Long (from the string it is received originally)","body":"The number is not a Long but rather a Float/Double. Because of the floating point the number cannot be converted to Long (from the string it is received originally)"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1442752663,"post_id":32679451,"comment_id":53203412,"body_markdown":"I imagine you&#39;d want to use something like a `Double` for coordinate values.  Otherwise you&#39;re going to lose a *lot* of precision in your location.  (If you succeed in your effort to round coordinates to the nearest whole number then you&#39;re going to have a margin of error of approximately +/- 35 miles in each direction.)","body":"I imagine you&#39;d want to use something like a <code>Double</code> for coordinate values.  Otherwise you&#39;re going to lose a <i>lot</i> of precision in your location.  (If you succeed in your effort to round coordinates to the nearest whole number then you&#39;re going to have a margin of error of approximately +/- 35 miles in each direction.)"}],"answers":[{"tags":[],"owner":{"account_id":4806580,"reputation":1001,"user_id":3881432,"accept_rate":33,"display_name":"zulkarnain shah"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1442753625,"creation_date":1442753625,"answer_id":32679630,"question_id":32679451,"body_markdown":"You need to make sure that the String that you&#39;re converting to Long contains **only** numbers.  That means for example  a string like this,  **&quot;10d&quot;** isn&#39;t convertible to a Long,  hence the exception. ","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>You need to make sure that the String that you're converting to Long contains <strong>only</strong> numbers.  That means for example  a string like this,  <strong>\"10d\"</strong> isn't convertible to a Long,  hence the exception. </p>\n"},{"comments":[{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":0,"creation_date":1442754881,"post_id":32679731,"comment_id":53204028,"body_markdown":"Thanks - this is working now, can&#39;t believe I missed that. Once I made it a double, the rest api call worked. Thanks!","body":"Thanks - this is working now, can&#39;t believe I missed that. Once I made it a double, the rest api call worked. Thanks!"},{"owner":{"account_id":4641056,"reputation":2363,"user_id":3760899,"accept_rate":52,"display_name":"Aditya Singh"},"score":1,"creation_date":1442754997,"post_id":32679731,"comment_id":53204061,"body_markdown":"Lol, I have never used any frameworks. But I have experience of writing core Java code since 2 years. 1 tip I want to give to all framework users, whenever you get an error that you are too much pissed off with, just think of all the basics that u&#39;ve learnt in your bigenner Java class. :) Happy Coding!","body":"Lol, I have never used any frameworks. But I have experience of writing core Java code since 2 years. 1 tip I want to give to all framework users, whenever you get an error that you are too much pissed off with, just think of all the basics that u&#39;ve learnt in your bigenner Java class. :) Happy Coding!"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1442755940,"post_id":32679731,"comment_id":53204332,"body_markdown":"The `D` isn&#39;t required or recommended.","body":"The <code>D</code> isn&#39;t required or recommended."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1574459400,"post_id":32679731,"comment_id":104254701,"body_markdown":"The note about `D` makes no sense here (even though I prefer it too) - there is a static initialization anywhere in the question code, the only &quot;double&quot; value comes from the query parameter.","body":"The note about <code>D</code> makes no sense here (even though I prefer it too) - there is a static initialization anywhere in the question code, the only &quot;double&quot; value comes from the query parameter."}],"tags":[],"owner":{"account_id":4641056,"reputation":2363,"user_id":3760899,"accept_rate":52,"display_name":"Aditya Singh"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1442756460,"creation_date":1442754382,"answer_id":32679731,"question_id":32679451,"body_markdown":"The number you are trying to convert to `java.lang.Long` is `-26.2041028`.  \r\n  \r\nYour number contains a `.`(decimal). This is not allowed for `Long`s. You need to use `java.lang.Double`. \r\n \r\nAnd also succeed your number with an `L` for `Long` or a `D` for `Double` for static initializations. Even though not required, it makes the code more readable.  \r\n  \r\nLike, `-26.2041028D` for `Double`.","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>The number you are trying to convert to <code>java.lang.Long</code> is <code>-26.2041028</code>.  </p>\n\n<p>Your number contains a <code>.</code>(decimal). This is not allowed for <code>Long</code>s. You need to use <code>java.lang.Double</code>. </p>\n\n<p>And also succeed your number with an <code>L</code> for <code>Long</code> or a <code>D</code> for <code>Double</code> for static initializations. Even though not required, it makes the code more readable.  </p>\n\n<p>Like, <code>-26.2041028D</code> for <code>Double</code>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697552771,"post_id":77296210,"comment_id":136292554,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77296210/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29448860,"reputation":1,"user_id":22565640,"display_name":"朱可夫"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697365351,"creation_date":1697365351,"answer_id":77296210,"question_id":32679451,"body_markdown":"It seems that you might be using a GET request instead of a POST request.\r\n","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>It seems that you might be using a GET request instead of a POST request.</p>\n"}],"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84118,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32679731,"answer_count":3,"score":10,"last_activity_date":1697365351,"creation_date":1442752368,"question_id":32679451,"body_markdown":"I&#39;m not sure if I&#39;m missing something really basic but this is what I would like to do.\r\n\r\nI would like to make a rest API call to this address:\r\n\r\nhttps://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500\r\n\r\nMy rest method is:\r\n\r\n    public void fetchlocation(@RequestParam Long lat, @RequestParam Long lng, @RequestParam int radius){ //fetches location}\r\n\r\nI get this error:\r\n\r\n&gt; &quot;timestamp&quot;: 1442751996949,   &quot;status&quot;: 400,   &quot;error&quot;: &quot;Bad Request&quot;,\r\n&gt; &quot;exception&quot;: &quot;org.springframework.beans.TypeMismatchException&quot;,  \r\n&gt; &quot;message&quot;: &quot;Failed to convert value of type &#39;java.lang.String&#39; to\r\n&gt; required type &#39;java.lang.Long&#39;; nested exception is\r\n&gt; java.lang.NumberFormatException: For input string: \\&quot;-26.2041028\\&quot;&quot;,  \r\n&gt; &quot;path&quot;: &quot;/fetchlocation&quot;\r\n\r\nI guess it is because rest API receives the co-ordinates as Strings instead of Longs when I make the GET call. How do I ensure that the rest API gets the Longs and not the String value when the call is made?\r\n\r\nI could easily get the method to work when I change the rest API method to take Strings as the parameters, but for type checking, I would prefer to use Longs.\r\n\r\n    public void fetchlocation(@RequestParam String lat, @RequestParam String lng, @RequestParam String radius){ //fetches location}","title":"Spring NumberFormatException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long","body":"<p>I'm not sure if I'm missing something really basic but this is what I would like to do.</p>\n\n<p>I would like to make a rest API call to this address:</p>\n\n<p><a href=\"https://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500\" rel=\"noreferrer\">https://localhost:8080/fetchlocation?lat=-26.2041028&amp;lng=28.0473051&amp;radius=500</a></p>\n\n<p>My rest method is:</p>\n\n<pre><code>public void fetchlocation(@RequestParam Long lat, @RequestParam Long lng, @RequestParam int radius){ //fetches location}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>\"timestamp\": 1442751996949,   \"status\": 400,   \"error\": \"Bad Request\",\n  \"exception\": \"org.springframework.beans.TypeMismatchException\",<br>\n  \"message\": \"Failed to convert value of type 'java.lang.String' to\n  required type 'java.lang.Long'; nested exception is\n  java.lang.NumberFormatException: For input string: \\\"-26.2041028\\\"\",<br>\n  \"path\": \"/fetchlocation\"</p>\n</blockquote>\n\n<p>I guess it is because rest API receives the co-ordinates as Strings instead of Longs when I make the GET call. How do I ensure that the rest API gets the Longs and not the String value when the call is made?</p>\n\n<p>I could easily get the method to work when I change the rest API method to take Strings as the parameters, but for type checking, I would prefer to use Longs.</p>\n\n<pre><code>public void fetchlocation(@RequestParam String lat, @RequestParam String lng, @RequestParam String radius){ //fetches location}\n</code></pre>\n"},{"tags":["java","maven","google-app-engine","google-cloud-storage"],"answers":[{"comments":[{"owner":{"account_id":6343137,"reputation":11,"user_id":4924474,"display_name":"Shay Rubin"},"score":0,"creation_date":1480920128,"post_id":40954036,"comment_id":69146098,"body_markdown":"I must tell that the jars in classpath are the same in the pom.xml","body":"I must tell that the jars in classpath are the same in the pom.xml"}],"tags":[],"owner":{"account_id":2141692,"reputation":3200,"user_id":1900169,"accept_rate":88,"display_name":"Frank Wilson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480810876,"creation_date":1480810876,"answer_id":40954036,"question_id":40886468,"body_markdown":"Have you tried depending on [guava 19](https://mvnrepository.com/artifact/com.google.guava/guava/19.0) instead of 19-rc1? i.e.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt is possible that the JAR bundled in eclipse is different from the one in your .m2repo. [According to the version 19 javadoc](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Stopwatch.html#createUnstarted()) the missing method should be there.","title":"How to fix my Maven dependencies, if methods from &#39;com.google.common.base.Stopwatch&#39; are not found?","body":"<p>Have you tried depending on <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/19.0\" rel=\"nofollow noreferrer\">guava 19</a> instead of 19-rc1? i.e.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It is possible that the JAR bundled in eclipse is different from the one in your .m2repo. <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Stopwatch.html#createUnstarted()\" rel=\"nofollow noreferrer\">According to the version 19 javadoc</a> the missing method should be there.</p>\n"}],"owner":{"account_id":6343137,"reputation":11,"user_id":4924474,"display_name":"Shay Rubin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697364240,"creation_date":1480503212,"question_id":40886468,"body_markdown":"I use google cloud storage to read file from it. It&#39;s working when i build it from within Eclipse. But when i build it with maven, it compiles but fails at runtime **(when i build with eclipse no runtime exceptions at all)**\r\n\r\nI need help, see the exception after the build is conducted via Maven:\r\n\r\n    java.lang.NoSuchMethodError: com.google.common.base.Stopwatch.createUnstarted()Lcom/google/common/base/Stopwatch;\r\n        \tat com.google.appengine.tools.cloudstorage.RetryHelper.runWithRetries(RetryHelper.java:156)\r\n        \tat com.google.appengine.tools.cloudstorage.GcsServiceImpl.getMetadata(GcsServiceImpl.java:132)\r\n        \r\nHere is the related Maven POM that I use:           \r\n            \r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n          &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n          &lt;groupId&gt;selectmediaservers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selectmediaservers&lt;/artifactId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n          &lt;packaging&gt;war&lt;/packaging&gt;\r\n          &lt;properties&gt;  &lt;!-- App Engine Standard currently requires Java 7 --&gt;\r\n          &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n          &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n          &lt;project.build.sourceEncoding&gt;ISO-8859-1&lt;/project.build.sourceEncoding&gt;\r\n         \r\n         &lt;/properties&gt;\r\n          \t&lt;build&gt;\r\n        \t&lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/target&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n        \t&lt;sourceDirectory&gt;Server/Cloud/selectmediaservers&lt;/sourceDirectory&gt;\r\n          &lt;plugins&gt;\r\n        \t\r\n        \t&lt;plugin&gt;\r\n        \t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;gcloud_verbosity&gt;debug&lt;/gcloud_verbosity&gt;\r\n        \t\t\t\t\t&lt;set_default&gt;false&lt;/set_default&gt;\r\n        \t\t\t\t\t&lt;log_level&gt;info&lt;/log_level&gt;\r\n        \t\t\t\t\t&lt;max_module_instances&gt;2&lt;/max_module_instances&gt;\r\n        \t\t\t\t\t&lt;version&gt;${VER}&lt;/version&gt;\r\n        \t\t\t&lt;/configuration&gt;\r\n        \t&lt;/plugin&gt;\r\n        \r\n        \t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;webXml&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/webXml&gt;\r\n        \t\t  &lt;warSourceDirectory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/warSourceDirectory&gt;\r\n                  &lt;webResources&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/directory&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/appengine-web.xml&lt;/include&gt;\r\n                        &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n          \t&lt;/build&gt;\r\n         \r\n          &lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;19.0-rc1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.7&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;v2-rev330-1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.9.46&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;`enter code here`\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.2.4&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\t\t\t\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.6&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;v1-rev92-1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n        \t\t\t\t&lt;exclusion&gt;\r\n        \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        \t\t\t\t\t&lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;/exclusion&gt;\r\n        \t\t\t&lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.22.0&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-oauth-client-appengine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;google-http-client-jdo&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.22.0&lt;/version&gt;\r\n        \t\t\t&lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n        \t\t&lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/project&gt;","title":"How to fix my Maven dependencies, if methods from &#39;com.google.common.base.Stopwatch&#39; are not found?","body":"<p>I use google cloud storage to read file from it. It's working when i build it from within Eclipse. But when i build it with maven, it compiles but fails at runtime <strong>(when i build with eclipse no runtime exceptions at all)</strong></p>\n\n<p>I need help, see the exception after the build is conducted via Maven:</p>\n\n<pre><code>java.lang.NoSuchMethodError: com.google.common.base.Stopwatch.createUnstarted()Lcom/google/common/base/Stopwatch;\n        at com.google.appengine.tools.cloudstorage.RetryHelper.runWithRetries(RetryHelper.java:156)\n        at com.google.appengine.tools.cloudstorage.GcsServiceImpl.getMetadata(GcsServiceImpl.java:132)\n</code></pre>\n\n<p>Here is the related Maven POM that I use:           </p>\n\n<pre><code>    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;selectmediaservers&lt;/groupId&gt;\n      &lt;artifactId&gt;selectmediaservers&lt;/artifactId&gt;\n      &lt;version&gt;1&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      &lt;properties&gt;  &lt;!-- App Engine Standard currently requires Java 7 --&gt;\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n      &lt;project.build.sourceEncoding&gt;ISO-8859-1&lt;/project.build.sourceEncoding&gt;\n\n     &lt;/properties&gt;\n        &lt;build&gt;\n        &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/target&lt;/directory&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n        &lt;sourceDirectory&gt;Server/Cloud/selectmediaservers&lt;/sourceDirectory&gt;\n      &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;configuration&gt;\n                        &lt;gcloud_verbosity&gt;debug&lt;/gcloud_verbosity&gt;\n                        &lt;set_default&gt;false&lt;/set_default&gt;\n                        &lt;log_level&gt;info&lt;/log_level&gt;\n                        &lt;max_module_instances&gt;2&lt;/max_module_instances&gt;\n                        &lt;version&gt;${VER}&lt;/version&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;webXml&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/webXml&gt;\n              &lt;warSourceDirectory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/warSourceDirectory&gt;\n              &lt;webResources&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;${project.basedir}/Server/Cloud/selectmediaservers/war&lt;/directory&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/appengine-web.xml&lt;/include&gt;\n                    &lt;include&gt;${project.basedir}/Server/Cloud/selectmediaservers/war/WEB-INF/web.xml&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/webResources&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n        &lt;/build&gt;\n\n      &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;version&gt;19.0-rc1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sendgrid&lt;/groupId&gt;\n                &lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;2.8.5&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;   \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-services-bigquery&lt;/artifactId&gt;\n                &lt;version&gt;v2-rev330-1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n                &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\n                &lt;version&gt;1.9.46&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;`enter code here`\n            &lt;dependency&gt;\n                &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\n                &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n                &lt;version&gt;1.2.4&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;           \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\n                &lt;version&gt;0.6&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;joda-time&lt;/groupId&gt;\n                &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n                &lt;version&gt;2.9.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-services-storage&lt;/artifactId&gt;\n                &lt;version&gt;v1-rev92-1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client-servlet&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-api-client-appengine&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;2.8.5&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-oauth-client-appengine&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n                &lt;artifactId&gt;google-http-client-jdo&lt;/artifactId&gt;\n                &lt;version&gt;1.22.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                        &lt;artifactId&gt;guava-jdk5&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","logging","logback","appender"],"answers":[{"comments":[{"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"score":0,"creation_date":1427879389,"post_id":29384763,"comment_id":46951821,"body_markdown":"Will this allow me to ignore file-related issues? My custom appender is not related with files.","body":"Will this allow me to ignore file-related issues? My custom appender is not related with files."},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1427879777,"post_id":29384763,"comment_id":46952066,"body_markdown":"What you mean by file related issues?","body":"What you mean by file related issues?"},{"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"score":0,"creation_date":1427880268,"post_id":29384763,"comment_id":46952371,"body_markdown":"For example, setting target","body":"For example, setting target"},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1427880614,"post_id":29384763,"comment_id":46952549,"body_markdown":"Yes in that case you can override start or openfile method. but make sure locks are handled properly","body":"Yes in that case you can override start or openfile method. but make sure locks are handled properly"},{"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"score":0,"creation_date":1427880739,"post_id":29384763,"comment_id":46952605,"body_markdown":"I don&#39;t understand a reason if it will work. FileAppender class is rather simple and apparently contains no magic.","body":"I don&#39;t understand a reason if it will work. FileAppender class is rather simple and apparently contains no magic."},{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1427881034,"post_id":29384763,"comment_id":46952759,"body_markdown":"Sorry did not understand your question","body":"Sorry did not understand your question"}],"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427871750,"creation_date":1427871750,"answer_id":29384763,"question_id":29374139,"body_markdown":"How would you set the **filename** where you want to write there are lots of other issues when you extend `OutputStreamAppender` I would rather extend FileAppender(which intern extension of outputsteamappender) and override write method to perfrom custom task.\r\n\r\n    public class MyAppender&lt;E&gt; extends FileAppender&lt;E&gt; {\r\n    \r\n     @Override\r\n      protected void writeOut(E event) throws IOException {\r\n        /**if (prudent) {\r\n          safeWrite(event);\r\n        } else {\r\n          super.writeOut(event);\r\n        } */\r\n    \tthrow new UnsupportedOperationException();\r\n      }\r\n        \r\n    }\r\n\r\n\r\n\r\n ","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>How would you set the <strong>filename</strong> where you want to write there are lots of other issues when you extend <code>OutputStreamAppender</code> I would rather extend FileAppender(which intern extension of outputsteamappender) and override write method to perfrom custom task.</p>\n\n<pre><code>public class MyAppender&lt;E&gt; extends FileAppender&lt;E&gt; {\n\n @Override\n  protected void writeOut(E event) throws IOException {\n    /**if (prudent) {\n      safeWrite(event);\n    } else {\n      super.writeOut(event);\n    } */\n    throw new UnsupportedOperationException();\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427881750,"creation_date":1427881750,"answer_id":29387612,"question_id":29374139,"body_markdown":"Sorry, this was my fault: I forgot to set my custom appender in `&lt;root&gt;` tag.","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>Sorry, this was my fault: I forgot to set my custom appender in <code>&lt;root&gt;</code> tag.</p>\n"}],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9251,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697364240,"creation_date":1427820720,"question_id":29374139,"body_markdown":"I wish to write custom appender on the basis of [`OutputStreamAppender`][1]. I wrote the following class\r\n\r\n    package tests;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    import ch.qos.logback.core.OutputStreamAppender;\r\n    \r\n    public class MyAppender&lt;E&gt; extends OutputStreamAppender&lt;E&gt; {\r\n    \tpublic MyAppender() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;MyAppender created&quot;);\r\n    \t\t\r\n    \t\tsetOutputStream(new OutputStream() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void write(int b) throws IOException {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nthen I wrote the following runner:\r\n\r\n    package tests;\r\n    \r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    \r\n    public class Runner {\r\n    \t\r\n    \tprivate static final Logger log = (Logger) LoggerFactory.getLogger(Runner.class);\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t//log.addAppender(new MyAppender&lt;ILoggingEvent&gt;());\r\n    \t\t\r\n    \t\tlog.info(&quot;Hello world&quot;);\r\n    \t}\r\n    }\r\n\r\nfinally I wrote the following `logback.xml`:\r\n\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t\r\n    \t&lt;appender name=&quot;MYAPPENDER&quot; class=&quot;tests.MyAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;root level=&quot;debug&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nand got the following output:\r\n\r\n    MyAppender created\r\n    LOGBACK: No context given for tests.MyAppender[null]\r\n    20:45:29.957 [main] INFO  Runner - Hello world\r\n\r\nit indicates that appender is instantiated. But absence of exceptions mean it is never called.\r\n\r\nProbably this is related with error message which I don&#39;t understand: &quot;LOGBACK: No context given for tests.MyAppender[null]&quot;\r\n\r\nWhat is it mean and how to fix?\r\n\r\n  [1]: http://logback.qos.ch/apidocs/ch/qos/logback/core/OutputStreamAppender.html\r\n","title":"Custom OutputStreamAppender not run: LOGBACK: No context given for &lt;MYAPPENDER&gt;","body":"<p>I wish to write custom appender on the basis of <a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/core/OutputStreamAppender.html\" rel=\"nofollow\"><code>OutputStreamAppender</code></a>. I wrote the following class</p>\n\n<pre><code>package tests;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport ch.qos.logback.core.OutputStreamAppender;\n\npublic class MyAppender&lt;E&gt; extends OutputStreamAppender&lt;E&gt; {\n    public MyAppender() {\n\n        System.out.println(\"MyAppender created\");\n\n        setOutputStream(new OutputStream() {\n\n            @Override\n            public void write(int b) throws IOException {\n                throw new UnsupportedOperationException();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>then I wrote the following runner:</p>\n\n<pre><code>package tests;\n\nimport org.slf4j.LoggerFactory;\n\nimport ch.qos.logback.classic.Logger;\n\npublic class Runner {\n\n    private static final Logger log = (Logger) LoggerFactory.getLogger(Runner.class);\n\n\n    public static void main(String[] args) {\n\n        //log.addAppender(new MyAppender&lt;ILoggingEvent&gt;());\n\n        log.info(\"Hello world\");\n    }\n}\n</code></pre>\n\n<p>finally I wrote the following <code>logback.xml</code>:</p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"MYAPPENDER\" class=\"tests.MyAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{0} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n\n    &lt;root level=\"debug\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and got the following output:</p>\n\n<pre><code>MyAppender created\nLOGBACK: No context given for tests.MyAppender[null]\n20:45:29.957 [main] INFO  Runner - Hello world\n</code></pre>\n\n<p>it indicates that appender is instantiated. But absence of exceptions mean it is never called.</p>\n\n<p>Probably this is related with error message which I don't understand: \"LOGBACK: No context given for tests.MyAppender[null]\"</p>\n\n<p>What is it mean and how to fix?</p>\n"},{"tags":["java","callback","rmi","functional-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697108073,"post_id":77267799,"comment_id":136239461,"body_markdown":"The function objects you pass need to be exported remote objects, and their methods need to defined in a remote interface, which means they must all throw `RemoteException`, which in turn means they can’t be functional interfaces.","body":"The function objects you pass need to be exported remote objects, and their methods need to defined in a remote interface, which means they must all throw <code>RemoteException</code>, which in turn means they can’t be functional interfaces."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697368433,"post_id":77296122,"comment_id":136268772,"body_markdown":"You’ve tried it? Why the lambda? Does it work?","body":"You’ve tried it? Why the lambda? Does it work?"},{"owner":{"account_id":15894544,"reputation":21,"user_id":11468630,"display_name":"nicolasCDT"},"score":0,"creation_date":1697439770,"post_id":77296122,"comment_id":136275228,"body_markdown":"It seems that lambda functions are not serializable. I can&#39;t guarantee anything, I&#39;m not very comfortable with JAVA...","body":"It seems that lambda functions are not serializable. I can&#39;t guarantee anything, I&#39;m not very comfortable with JAVA..."}],"tags":[],"owner":{"account_id":15894544,"reputation":21,"user_id":11468630,"display_name":"nicolasCDT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697363977,"creation_date":1697363977,"answer_id":77296122,"question_id":77267799,"body_markdown":"Solution : \r\nYou have to share a interface like this :\r\n\r\n```\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\n\r\npublic interface CallbackInterface extends Remote {\r\n\r\n    void handler(String string) throws RemoteException;\r\n}\r\n```\r\n\r\nSender have to use a class like :\r\n```\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\n\r\n@FunctionalInterface\r\ninterface LambdaFunction {\r\n    void handler(String string);\r\n}\r\n\r\npublic class Callback extends UnicastRemoteObject implements CallbackInterface {\r\n    LambdaFunction function;\r\n\r\n    public Callback(LambdaFunction function) throws RemoteException {\r\n        this.function = function;\r\n    }\r\n\r\n    public void handler(String result) {\r\n        this.function.handler(result);\r\n    }\r\n}\r\n```\r\n\r\nAnd you can use it with : \r\n```\r\n// Sender : \r\nserver.submitTask(task, new Callback(Client::method));\r\n// Receiver : \r\ncallback.handler(...);\r\n```\r\n\r\n","title":"Make a callback with JAVA RMI","body":"<p>Solution :\nYou have to share a interface like this :</p>\n<pre><code>import java.rmi.Remote;\nimport java.rmi.RemoteException;\n\npublic interface CallbackInterface extends Remote {\n\n    void handler(String string) throws RemoteException;\n}\n</code></pre>\n<p>Sender have to use a class like :</p>\n<pre><code>import java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\n@FunctionalInterface\ninterface LambdaFunction {\n    void handler(String string);\n}\n\npublic class Callback extends UnicastRemoteObject implements CallbackInterface {\n    LambdaFunction function;\n\n    public Callback(LambdaFunction function) throws RemoteException {\n        this.function = function;\n    }\n\n    public void handler(String result) {\n        this.function.handler(result);\n    }\n}\n</code></pre>\n<p>And you can use it with :</p>\n<pre><code>// Sender : \nserver.submitTask(task, new Callback(Client::method));\n// Receiver : \ncallback.handler(...);\n</code></pre>\n"}],"owner":{"account_id":15894544,"reputation":21,"user_id":11468630,"display_name":"nicolasCDT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77296122,"answer_count":1,"score":1,"last_activity_date":1697363977,"creation_date":1696958281,"question_id":77267799,"body_markdown":"I am currently implementing a kind of bag of tasks using Java RMI. The goal is for a &quot;Client&quot; to submit &quot;Task&quot; objects to a &quot;Server,&quot; and on the other hand, I have &quot;Workers&quot; that pick up tasks to execute them.\r\n\r\nHowever, I would like to implement a callback so that the Workers can send a result back to the clients (if it needs to go through the server, that&#39;s possible too). I&#39;m not sure how to achieve this, though.\r\nI should mention that the tasks performed by the workers can take several hours, so I would like the result to reach the client at the end. \r\n\r\nI tried to add a TaksCallBack object, which is a FunctionalInterface, to my &quot;Task&quot; object sent to the server and pass anonymous functions, but it tells me that these are not serializable.\r\n\r\nI&#39;m not necessarily looking to proceed like this; I&#39;m looking for a way to do it. I&#39;m not very familiar with JAVA, and I&#39;m required to do it with JAVA RMI.\r\n\r\nFor now, I&#39;m just trying to understand how everything works, so my Task object is relatively simple:\r\n\r\n```java\r\npublic Task(int taskId, String query, TaskCallback callback) {\r\n    this.taskId = taskId;\r\n    this.query = query;\r\n    this.callback = callback;\r\n}\r\n```","title":"Make a callback with JAVA RMI","body":"<p>I am currently implementing a kind of bag of tasks using Java RMI. The goal is for a &quot;Client&quot; to submit &quot;Task&quot; objects to a &quot;Server,&quot; and on the other hand, I have &quot;Workers&quot; that pick up tasks to execute them.</p>\n<p>However, I would like to implement a callback so that the Workers can send a result back to the clients (if it needs to go through the server, that's possible too). I'm not sure how to achieve this, though.\nI should mention that the tasks performed by the workers can take several hours, so I would like the result to reach the client at the end.</p>\n<p>I tried to add a TaksCallBack object, which is a FunctionalInterface, to my &quot;Task&quot; object sent to the server and pass anonymous functions, but it tells me that these are not serializable.</p>\n<p>I'm not necessarily looking to proceed like this; I'm looking for a way to do it. I'm not very familiar with JAVA, and I'm required to do it with JAVA RMI.</p>\n<p>For now, I'm just trying to understand how everything works, so my Task object is relatively simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Task(int taskId, String query, TaskCallback callback) {\n    this.taskId = taskId;\n    this.query = query;\n    this.callback = callback;\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":28059522,"reputation":71,"user_id":21433949,"display_name":"Somogyi Botond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697321039,"creation_date":1697321039,"answer_id":77294643,"question_id":77294594,"body_markdown":"Your Java code appears to be correct and is functioning well for me. You might want to consider waiting for the page to fully load using the following code:\r\n\r\n```java\r\n\r\nWebDriverWait wait = new WebDriverWait(driver, 10);\r\nwait.until(ExpectedConditions.urlMatches(&quot;expected_home_page_url&quot;));\r\n\r\n```\r\nIf it still doesn&#39;t work, the issue might not be with the HTML code. Please ensure that only one button has the &quot;Login&quot; id.\r\n\r\nAdditionally, could you please provide information about the frontend framework or technology you are using? This could help in further troubleshooting.\r\n\r\n","title":"I am trying to write a selenium test case in jave for loging to a homepage..But my homepage is not loading..how to do it?","body":"<p>Your Java code appears to be correct and is functioning well for me. You might want to consider waiting for the page to fully load using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nWebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.urlMatches(&quot;expected_home_page_url&quot;));\n\n</code></pre>\n<p>If it still doesn't work, the issue might not be with the HTML code. Please ensure that only one button has the &quot;Login&quot; id.</p>\n<p>Additionally, could you please provide information about the frontend framework or technology you are using? This could help in further troubleshooting.</p>\n"}],"owner":{"account_id":29673039,"reputation":1,"user_id":22741754,"display_name":"pinky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697363747,"creation_date":1697319685,"question_id":77294594,"body_markdown":"&lt;input class=&quot;button r4 wide primary&quot; type=&quot;submit&quot; id=&quot;Login&quot; name=&quot;Login&quot; value=&quot;Log In&quot;&gt;\r\nThis is the outer HTML code for my Login button..\r\ni wrote the following code\r\n\r\n```java\r\nWebElement loginButton = driver.findElement(By.id(&quot;Login&quot;));\r\nloginButton.click();\r\n\r\nSystem.out.println(&quot;button is clicked&quot;);\r\n```\r\nI am getting the output as\r\nbutton is clicked\r\nbut i can not see the home page.\r\ni tried to get current url but it is still showing login page..\r\nplease help..\r\n\r\ni want to see the home page but i am still under login page..not able to understand the reason","title":"I am trying to write a selenium test case in jave for loging to a homepage..But my homepage is not loading..how to do it?","body":"\nThis is the outer HTML code for my Login button..\ni wrote the following code\n<pre class=\"lang-java prettyprint-override\"><code>WebElement loginButton = driver.findElement(By.id(&quot;Login&quot;));\nloginButton.click();\n\nSystem.out.println(&quot;button is clicked&quot;);\n</code></pre>\n<p>I am getting the output as\nbutton is clicked\nbut i can not see the home page.\ni tried to get current url but it is still showing login page..\nplease help..</p>\n<p>i want to see the home page but i am still under login page..not able to understand the reason</p>\n"},{"tags":["java","automated-tests","playwright","playwright-test","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":2666781,"reputation":1100,"user_id":2305034,"display_name":"Endery"},"score":0,"creation_date":1692946225,"post_id":76960031,"comment_id":135696264,"body_markdown":"Hello, could you please share the code how it should look like.","body":"Hello, could you please share the code how it should look like."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692946230,"post_id":76960031,"comment_id":135696265,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76960031/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"score":0,"creation_date":1693251367,"post_id":76960031,"comment_id":135733318,"body_markdown":"initilizeBrowser() is called in basePage and issue was not there, now issue is fixed thanks","body":"initilizeBrowser() is called in basePage and issue was not there, now issue is fixed thanks"},{"owner":{"account_id":16493531,"reputation":51,"user_id":11916657,"display_name":"akshat narang"},"score":0,"creation_date":1693252980,"post_id":76960031,"comment_id":135733555,"body_markdown":"Can you share what was the fix ?","body":"Can you share what was the fix ?"}],"tags":[],"owner":{"account_id":16493531,"reputation":51,"user_id":11916657,"display_name":"akshat narang"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692782986,"creation_date":1692782930,"answer_id":76960031,"question_id":76933469,"body_markdown":"I don&#39;t see a call to the `initilizeBrowser()` method that calls the `getPage()` method that is initialising the page. Since, the page is not initialised the connection seems to be closing before launching the browser","title":"Playwright connection closed when executing the test","body":"<p>I don't see a call to the <code>initilizeBrowser()</code> method that calls the <code>getPage()</code> method that is initialising the page. Since, the page is not initialised the connection seems to be closing before launching the browser</p>\n"}],"owner":{"account_id":7065506,"reputation":454,"user_id":5408955,"display_name":"Deepak_Mahalingam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697362942,"creation_date":1692415633,"question_id":76933469,"body_markdown":"I&#39;m creating a framework with Playwright, Java and testNG. I&#39;m initialising driver class where the browser is initialised and have wrapper methods where the playwright functions are defined. In test class where the test is triggered.\r\n\r\nI&#39;m getting playwright connection closed error without launching the browser\r\n\r\n**Driver initialisation class**\r\n\r\n    public class DriverFactory {\r\n    public static ThreadLocal&lt;Page&gt; currentPage = new ThreadLocal&lt;&gt;();\r\n    public Page page = null;\r\n    private PropertyReader propertyReader = new PropertyReader();\r\n    Environment environment;\r\n    \r\n        public DriverFactory() {\r\n            environment = propertyReader.getEnvironment();\r\n        }\r\n    \r\n    public Page getCurrentPage() {\r\n        page = currentPage.get();\r\n        if(page!=null) {\r\n            return page;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public void initilizeBrowser(){\r\n        currentPage.set(getPage(environment.getPlatform()));\r\n    }\r\n    \r\n    public Page getPage(String browserName) {\r\n        try (Playwright playwright = Playwright.create()) {\r\n            Browser browser = null;\r\n            if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\r\n                browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;Firefox&quot;)) {\r\n                browser = playwright.firefox().launch();\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;edge&quot;)) {\r\n                browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;msedge&quot;));\r\n                page = browser.newPage();\r\n            } else if (browserName.equalsIgnoreCase(&quot;safari&quot;)) {\r\n                browser = playwright.webkit().launch();\r\n                page = browser.newPage();\r\n            }\r\n        }\r\n        System.out.println(&quot;Page ID &quot;+page);\r\n        return page;\r\n    }\r\n    }\r\n\r\n\r\n**Wrapper Methods**\r\n\r\npublic class WrapperMethods {\r\n\r\n    private DriverFactory driverFactory;\r\n    public WrapperMethods() {\r\n        driverFactory = new DriverFactory();\r\n    }\r\n    private Page page;\r\n\r\n    public void openApplication(String url) throws InterruptedException {\r\n        page = driverFactory.getCurrentPage();\r\n        System.out.println(page.toString());\r\n        page.navigate(url);\r\n        Thread.sleep(500000);\r\n    }\r\n}\r\n\r\n**Test class**\r\n\r\n    public class DesktopTest extends BaseTest {\r\n        private WrapperMethods wrapper = new WrapperMethods();\r\n        @Test\r\n        public void navigateToWebPage() throws InterruptedException {\r\n            wrapper.openApplication(&quot;https://www.youtube.com&quot;);\r\n        }\r\n    }\r\n\r\n**Error faced**\r\n\r\n**\r\n\r\n    Page ID com.microsoft.playwright.impl.PageImpl@22b53226\r\n    com.microsoft.playwright.impl.PageImpl@22b53226\r\n\r\n**\r\n\r\n    com.microsoft.playwright.PlaywrightException: Playwright connection closed\r\n    \r\n    \tat com.microsoft.playwright.impl.PipeTransport.send(PipeTransport.java:50)\r\n    \tat com.microsoft.playwright.impl.Connection.internalSendMessage(Connection.java:164)\r\n    \tat com.microsoft.playwright.impl.Connection.sendMessageAsync(Connection.java:130)\r\n    \tat com.microsoft.playwright.impl.Connection.sendMessage(Connection.java:126)\r\n    \tat com.microsoft.playwright.impl.ChannelOwner.sendMessage(ChannelOwner.java:102)\r\n    \tat com.microsoft.playwright.impl.FrameImpl.navigateImpl(FrameImpl.java:463)\r\n    \tat com.microsoft.playwright.impl.PageImpl.lambda$navigate$45(PageImpl.java:836)\r\n    \tat com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\r\n    \tat com.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:87)\r\n    \tat com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:836)\r\n    \tat com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:42)\r\n    \tat com.microsoft.playwright.Page.navigate(Page.java:5282)\r\n    \tat org.redwind.autoTest.orca.utils.WrapperMethods.openApplication(WrapperMethods.java:18)\r\n    \tat org.redwind.autoTest.orca.testContainer.DesktopTest.navigateToWebPage(DesktopTest.java:12)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:621)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n    \tat org.testng.TestNG.run(TestNG.java:1082)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\n\r\n","title":"Playwright connection closed when executing the test","body":"<p>I'm creating a framework with Playwright, Java and testNG. I'm initialising driver class where the browser is initialised and have wrapper methods where the playwright functions are defined. In test class where the test is triggered.</p>\n<p>I'm getting playwright connection closed error without launching the browser</p>\n<p><strong>Driver initialisation class</strong></p>\n<pre><code>public class DriverFactory {\npublic static ThreadLocal&lt;Page&gt; currentPage = new ThreadLocal&lt;&gt;();\npublic Page page = null;\nprivate PropertyReader propertyReader = new PropertyReader();\nEnvironment environment;\n\n    public DriverFactory() {\n        environment = propertyReader.getEnvironment();\n    }\n\npublic Page getCurrentPage() {\n    page = currentPage.get();\n    if(page!=null) {\n        return page;\n    } else {\n        return null;\n    }\n}\npublic void initilizeBrowser(){\n    currentPage.set(getPage(environment.getPlatform()));\n}\n\npublic Page getPage(String browserName) {\n    try (Playwright playwright = Playwright.create()) {\n        Browser browser = null;\n        if (browserName.equalsIgnoreCase(&quot;Chrome&quot;)) {\n            browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(false));\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;Firefox&quot;)) {\n            browser = playwright.firefox().launch();\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;edge&quot;)) {\n            browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;msedge&quot;));\n            page = browser.newPage();\n        } else if (browserName.equalsIgnoreCase(&quot;safari&quot;)) {\n            browser = playwright.webkit().launch();\n            page = browser.newPage();\n        }\n    }\n    System.out.println(&quot;Page ID &quot;+page);\n    return page;\n}\n}\n</code></pre>\n<p><strong>Wrapper Methods</strong></p>\n<p>public class WrapperMethods {</p>\n<pre><code>private DriverFactory driverFactory;\npublic WrapperMethods() {\n    driverFactory = new DriverFactory();\n}\nprivate Page page;\n\npublic void openApplication(String url) throws InterruptedException {\n    page = driverFactory.getCurrentPage();\n    System.out.println(page.toString());\n    page.navigate(url);\n    Thread.sleep(500000);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Test class</strong></p>\n<pre><code>public class DesktopTest extends BaseTest {\n    private WrapperMethods wrapper = new WrapperMethods();\n    @Test\n    public void navigateToWebPage() throws InterruptedException {\n        wrapper.openApplication(&quot;https://www.youtube.com&quot;);\n    }\n}\n</code></pre>\n<p><strong>Error faced</strong></p>\n<p>**</p>\n<pre><code>Page ID com.microsoft.playwright.impl.PageImpl@22b53226\ncom.microsoft.playwright.impl.PageImpl@22b53226\n</code></pre>\n<p>**</p>\n<pre><code>com.microsoft.playwright.PlaywrightException: Playwright connection closed\n\n    at com.microsoft.playwright.impl.PipeTransport.send(PipeTransport.java:50)\n    at com.microsoft.playwright.impl.Connection.internalSendMessage(Connection.java:164)\n    at com.microsoft.playwright.impl.Connection.sendMessageAsync(Connection.java:130)\n    at com.microsoft.playwright.impl.Connection.sendMessage(Connection.java:126)\n    at com.microsoft.playwright.impl.ChannelOwner.sendMessage(ChannelOwner.java:102)\n    at com.microsoft.playwright.impl.FrameImpl.navigateImpl(FrameImpl.java:463)\n    at com.microsoft.playwright.impl.PageImpl.lambda$navigate$45(PageImpl.java:836)\n    at com.microsoft.playwright.impl.LoggingSupport.withLogging(LoggingSupport.java:47)\n    at com.microsoft.playwright.impl.ChannelOwner.withLogging(ChannelOwner.java:87)\n    at com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:836)\n    at com.microsoft.playwright.impl.PageImpl.navigate(PageImpl.java:42)\n    at com.microsoft.playwright.Page.navigate(Page.java:5282)\n    at org.redwind.autoTest.orca.utils.WrapperMethods.openApplication(WrapperMethods.java:18)\n    at org.redwind.autoTest.orca.testContainer.DesktopTest.navigateToWebPage(DesktopTest.java:12)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":7229794,"reputation":2298,"user_id":5517088,"accept_rate":72,"display_name":"Kevin"},"score":0,"creation_date":1564643095,"post_id":57303391,"comment_id":101099857,"body_markdown":"why didn&#39;t you provide the error messages?","body":"why didn&#39;t you provide the error messages?"},{"owner":{"account_id":29207,"reputation":8998,"user_id":78712,"accept_rate":90,"display_name":"elcuco"},"score":0,"creation_date":1564643602,"post_id":57303391,"comment_id":101100078,"body_markdown":"Please format the question better next time, I fixed it for you now. Welcome to StackOverflow!","body":"Please format the question better next time, I fixed it for you now. Welcome to StackOverflow!"}],"answers":[{"tags":[],"owner":{"account_id":29207,"reputation":8998,"user_id":78712,"accept_rate":90,"display_name":"elcuco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564643566,"creation_date":1564643566,"answer_id":57303595,"question_id":57303391,"body_markdown":"The problem you face is that you have 2 activities with the same name `MainActivity` - one in Java, and second in Koltin. Both classes (activities in this case) are compiled into the same application - you have 2 symbols with the same name.\r\n\r\nyes, Koltin and Java look the same after the compiler finish with them :)","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>The problem you face is that you have 2 activities with the same name <code>MainActivity</code> - one in Java, and second in Koltin. Both classes (activities in this case) are compiled into the same application - you have 2 symbols with the same name.</p>\n\n<p>yes, Koltin and Java look the same after the compiler finish with them :)</p>\n"},{"tags":[],"owner":{"account_id":15835253,"reputation":71,"user_id":11425292,"display_name":"Ehsan Haghdoust"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697362094,"creation_date":1581328472,"answer_id":60147803,"question_id":57303391,"body_markdown":"The question was for 6 months ago, but I write my answer for others facing this problem in the future. I have had challenges with this error, I checked every possible way suggested by others and I FINALLY had to delete build folders in \r\n\r\n&gt; projectFolder/\r\n\r\n and \r\n\r\n&gt; projectFolder/app/\r\n\r\nmanually and rebuild the project again.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>The question was for 6 months ago, but I write my answer for others facing this problem in the future. I have had challenges with this error, I checked every possible way suggested by others and I FINALLY had to delete build folders in</p>\n<blockquote>\n<p>projectFolder/</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>projectFolder/app/</p>\n</blockquote>\n<p>manually and rebuild the project again.</p>\n"},{"tags":[],"owner":{"account_id":6717940,"reputation":1946,"user_id":5179140,"accept_rate":71,"display_name":"Mohammad Elsayed"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1647266049,"creation_date":1582972073,"answer_id":60464108,"question_id":57303391,"body_markdown":"1. File tab -&gt; Invalidate Caches/Restart (then choose invalidate and restart from the dialog that will appear)\r\n2. Build tab -&gt; Clean Project  \r\n3. Build tab -&gt; Rebuild Project\r\n\r\nThis solution is just the same as @Ehsan_Haghdoust solution but letting Android Studio do that for me instead of doing that my self.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<ol>\n<li>File tab -&gt; Invalidate Caches/Restart (then choose invalidate and restart from the dialog that will appear)</li>\n<li>Build tab -&gt; Clean Project</li>\n<li>Build tab -&gt; Rebuild Project</li>\n</ol>\n<p>This solution is just the same as @Ehsan_Haghdoust solution but letting Android Studio do that for me instead of doing that my self.</p>\n"},{"tags":[],"owner":{"account_id":1816049,"reputation":1032,"user_id":2404063,"accept_rate":42,"display_name":"Kannan_SJD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626273627,"creation_date":1626273627,"answer_id":68380146,"question_id":57303391,"body_markdown":"In my case, I was running the app in debug mode and a direction class was generated for debug. Then I tried generating a signed APK in release mode. Then a similar class was generated in same package  for release mode which caused the issue. I manually deleted just the debug folder in the Java folder(root) and the build was successful. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQZoA.png","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>In my case, I was running the app in debug mode and a direction class was generated for debug. Then I tried generating a signed APK in release mode. Then a similar class was generated in same package  for release mode which caused the issue. I manually deleted just the debug folder in the Java folder(root) and the build was successful.</p>\n<p><a href=\"https://i.stack.imgur.com/WQZoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQZoA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21375099,"reputation":1,"user_id":15741991,"display_name":"jagguwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669736245,"creation_date":1669736245,"answer_id":74616550,"question_id":57303391,"body_markdown":"Build -&gt; Select Build Variant. It was in debug, I just changed it to release mode and done.","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>Build -&gt; Select Build Variant. It was in debug, I just changed it to release mode and done.</p>\n"}],"owner":{"account_id":14461258,"reputation":121,"user_id":11867543,"display_name":"Jame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16364,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1697362094,"creation_date":1564642683,"question_id":57303391,"body_markdown":"This code is for a button that would be on the android emulator. However, when I place this code in the main activity.kt it gives me multiple errors. The first error I experience is a redeclaration error on line 9 on the main activity \r\n\r\n\tpackage com.example.android.justjava\r\n\r\n\timport android.R\r\n\timport android.os.Bundle\r\n\timport android.support.v7.app.ActionBarActivity\r\n\timport android.view.View\r\n\timport android.widget.TextView\r\n\t\r\n\t// This activity displays an order form to order coffee.\r\n\tclass MainActivity : ActionBarActivity() {\r\n    \tprotected fun onCreate(savedInstanceState: Bundle) {\r\n\t      super.onCreate(savedInstanceState)\r\n       \t  setContentView(R.layout.activity_main)\r\n\t    }\r\n\t\r\n        // this method is called when the order button is clicked.\r\n\t    fun submitOrder(view: View) {\r\n\t      display(1)\r\n\t    }\r\n\t\r\n   \t    // This method displays the given quantity value on the screen.\r\n  \t    private fun display(number: Int) {\r\n\t      val quantityTextView = findViewById(R.id.quantity_text_view as TextView\r\n  \t      quantityTextView.text = &quot;&quot; + number\r\n\t    }\r\n\t}\r\n\r\n\t\r\nThis activity displays an order form to order coffee.\r\n\t\r\n\tpublic class MainActivity extends ActionBarActivity {\r\n  \t   @Override\r\n\t   protected void onCreate(Bundle savedInstanceState) {\r\n\t      super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n\t   }\r\n\r\n       // This method is called when the order button is clicked.\r\n   \t   public void submitOrder(View view) {\r\n\t       display(1);\r\n\t   }\r\n\r\n  \t   // This method displays the given quantity value on the screen.\r\n \t   private void display(int number) {\r\n\t      TextView quantityTextView =(TextView) findViewById (R.id.quantity_text_view);\r\n\t      quantityTextView.setText(&quot;&quot; + number);\r\n\t   }\r\n\t}\r\n","title":"How do I resolve a Redeclaration Error in Android Studio","body":"<p>This code is for a button that would be on the android emulator. However, when I place this code in the main activity.kt it gives me multiple errors. The first error I experience is a redeclaration error on line 9 on the main activity </p>\n\n<pre><code>package com.example.android.justjava\n\nimport android.R\nimport android.os.Bundle\nimport android.support.v7.app.ActionBarActivity\nimport android.view.View\nimport android.widget.TextView\n\n// This activity displays an order form to order coffee.\nclass MainActivity : ActionBarActivity() {\n    protected fun onCreate(savedInstanceState: Bundle) {\n      super.onCreate(savedInstanceState)\n      setContentView(R.layout.activity_main)\n    }\n\n    // this method is called when the order button is clicked.\n    fun submitOrder(view: View) {\n      display(1)\n    }\n\n    // This method displays the given quantity value on the screen.\n    private fun display(number: Int) {\n      val quantityTextView = findViewById(R.id.quantity_text_view as TextView\n      quantityTextView.text = \"\" + number\n    }\n}\n</code></pre>\n\n<p>This activity displays an order form to order coffee.</p>\n\n<pre><code>public class MainActivity extends ActionBarActivity {\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n   }\n\n   // This method is called when the order button is clicked.\n   public void submitOrder(View view) {\n       display(1);\n   }\n\n   // This method displays the given quantity value on the screen.\n   private void display(int number) {\n      TextView quantityTextView =(TextView) findViewById (R.id.quantity_text_view);\n      quantityTextView.setText(\"\" + number);\n   }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","if-statement","while-loop"],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697354497,"creation_date":1697354497,"answer_id":77295642,"question_id":77295618,"body_markdown":"The `username` and `password` fields are being added to the `users` and `passes` lists **before** the user has a chance to input their credentials so the fields were empty at that time. You should move it to after checking for the `OK_OPTION`.\r\n\r\n```java\r\nwhile (true) {\r\n    if (options01 == 0) {\r\n        JTextField username = new JTextField();\r\n        JTextField password = new JPasswordField();\r\n        JTextField confpass = new JPasswordField();\r\n        Object[] message = {\r\n                &quot;Username: &quot;, username,\r\n                &quot;Password: &quot;, password,\r\n                &quot;Confirm Password: &quot;, confpass,\r\n        };\r\n        int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n        if (signup1 == JOptionPane.OK_OPTION) {\r\n            if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n                users.add(username.getText());\r\n                passes.add(password.getText());\r\n                JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie&#39;s Bank. \\n Please log in to access your account!&quot;);\r\n                break;\r\n            } //... rest of your code\r\n        }\r\n    }\r\n}\r\n```","title":"How to capture a variable from within a while loop/for loop","body":"<p>The <code>username</code> and <code>password</code> fields are being added to the <code>users</code> and <code>passes</code> lists <strong>before</strong> the user has a chance to input their credentials so the fields were empty at that time. You should move it to after checking for the <code>OK_OPTION</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    if (options01 == 0) {\n        JTextField username = new JTextField();\n        JTextField password = new JPasswordField();\n        JTextField confpass = new JPasswordField();\n        Object[] message = {\n                &quot;Username: &quot;, username,\n                &quot;Password: &quot;, password,\n                &quot;Confirm Password: &quot;, confpass,\n        };\n        int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n        if (signup1 == JOptionPane.OK_OPTION) {\n            if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n                users.add(username.getText());\n                passes.add(password.getText());\n                JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie's Bank. \\n Please log in to access your account!&quot;);\n                break;\n            } //... rest of your code\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697361517,"creation_date":1697361517,"answer_id":77295990,"question_id":77295618,"body_markdown":"There are two problems in your code.\r\n\r\nFirst is that in here:\r\n\r\n    JTextField username = new JTextField();\r\n    users.add(username.getText());\r\n    JTextField password = new JPasswordField();\r\n    passes.add(password.getText());\r\n\r\nyou are adding username/password to array list before they are actually know. At this point user didnt yet specify its username/password. You should move the lines `users.add(username.getText());` and `passes.add(password.getText());` to after the user has confirmed their input. The fixed code should look like this:\r\n\r\n    int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n      if (signup1 == JOptionPane.OK_OPTION) {\r\n         if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n             users.add(username.getText()); // !!\r\n            passes.add(password.getText()); // !!\r\n\r\nSecond is this code:\r\n\r\n\r\n    if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\r\n                          ^^^^^^^^^^^^^                       ^^^^^^^^^^^^^^^\r\n\r\n`users` and `passes` are declared as:\r\n\r\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\r\n\r\nso you cannot compare `username.getText()` or `password.getText()` (a `String`) with any of them. This wont issue a compiler error, or a runtime exception, `equals` will simply always return false here. You should iterate over the array lists and compare the user input to each element. Like that:\r\n\r\n    for (int i = 0; i &lt; users.size(); i++) {\r\n        if (username.getText().equals(users.get(i)) &amp;&amp; password.getText().equals(passes.get(i))) {\r\n            JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username.getText() + &quot;.&quot;);\r\n            break;\r\n        }\r\n    }","title":"How to capture a variable from within a while loop/for loop","body":"<p>There are two problems in your code.</p>\n<p>First is that in here:</p>\n<pre><code>JTextField username = new JTextField();\nusers.add(username.getText());\nJTextField password = new JPasswordField();\npasses.add(password.getText());\n</code></pre>\n<p>you are adding username/password to array list before they are actually know. At this point user didnt yet specify its username/password. You should move the lines <code>users.add(username.getText());</code> and <code>passes.add(password.getText());</code> to after the user has confirmed their input. The fixed code should look like this:</p>\n<pre><code>int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n  if (signup1 == JOptionPane.OK_OPTION) {\n     if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n         users.add(username.getText()); // !!\n        passes.add(password.getText()); // !!\n</code></pre>\n<p>Second is this code:</p>\n<pre><code>if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\n                      ^^^^^^^^^^^^^                       ^^^^^^^^^^^^^^^\n</code></pre>\n<p><code>users</code> and <code>passes</code> are declared as:</p>\n<pre><code>    ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\n</code></pre>\n<p>so you cannot compare <code>username.getText()</code> or <code>password.getText()</code> (a <code>String</code>) with any of them. This wont issue a compiler error, or a runtime exception, <code>equals</code> will simply always return false here. You should iterate over the array lists and compare the user input to each element. Like that:</p>\n<pre><code>for (int i = 0; i &lt; users.size(); i++) {\n    if (username.getText().equals(users.get(i)) &amp;&amp; password.getText().equals(passes.get(i))) {\n        JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username.getText() + &quot;.&quot;);\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29668911,"reputation":13,"user_id":22738664,"display_name":"beansies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1697472683,"accepted_answer_id":77295642,"answer_count":2,"score":-2,"last_activity_date":1697361517,"creation_date":1697353782,"question_id":77295618,"body_markdown":"I&#39;m making a little project just to practice arrays/loops. It&#39;s basically a bank page that you can sign up and log into. I want to be able to store the user inputs of their username and password into the array lists when they sign up, then when the user logs in - the system will check if the username matches a name in the database (users array list) or if the password matches (passes array list). However, I discovered that the variables aren&#39;t being stored in the arrays when I tried testing it by printing out the array list. How do I properly store the user values into the arrays so I can use them later on? Hopefully that all made sense. Thank you. \r\n\r\n    import javax.swing.*;\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ImageIcon icon = new ImageIcon(&quot;cutepig.jpg&quot;);\r\n            String[] response1 = {&quot;Sign up&quot;, &quot;Log in&quot;, &quot;Exit&quot;};\r\n            int options01 = JOptionPane.showOptionDialog(null, &quot;Welcome to Beanie&#39;s Bank!&quot;, &quot;Beanie&#39;s Bank&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, icon, response1, 0);\r\n            ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\r\n\r\n            while (true) {\r\n                if (options01 == 0) {\r\n                    JTextField username = new JTextField();\r\n                    users.add(username.getText());\r\n                    JTextField password = new JPasswordField();\r\n                    passes.add(password.getText());\r\n                    JTextField confpass = new JPasswordField();\r\n                    Object[] message = {\r\n                            &quot;Username: &quot;, username,\r\n                            &quot;Password: &quot;, password,\r\n                            &quot;Confirm Password: &quot;, confpass,\r\n                    };\r\n                    int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n                    if (signup1 == JOptionPane.OK_OPTION) {\r\n                        if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie&#39;s Bank. \\n Please log in to access your account!&quot;);\r\n                            break;\r\n                        } else if (password.getText().isEmpty() || confpass.getText().isEmpty() || username.getText().isEmpty()) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Input cannot be empty, please enter a valid input.&quot;);\r\n                            continue;\r\n                        } else if (!password.getText().equals(confpass.getText())) {\r\n                            JOptionPane.showMessageDialog(null, &quot;Your passwords do not match! Please try again.&quot;);\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            while(true){\r\n            JTextField username = new JTextField();\r\n            JTextField password = new JPasswordField();\r\n            Object[] message = {\r\n                    &quot;Username: &quot;, username,\r\n                    &quot;Password: &quot;, password\r\n            };\r\n\r\n            int option = JOptionPane.showConfirmDialog(null, message, &quot;login&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n\r\n                if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username + &quot;.&quot;);\r\n                    break;\r\n                } else if (!username.getText().equals(users) &amp;&amp; !password.getText().equals(passes)){\r\n                    JOptionPane.showMessageDialog(null,&quot;Login failed, please try again.&quot;);\r\n                    continue;\r\n                }\r\n                else{\r\n                System.out.println(&quot;Login canceled&quot;);\r\n                continue;\r\n                }\r\n        }\r\n    }}","title":"How to capture a variable from within a while loop/for loop","body":"<p>I'm making a little project just to practice arrays/loops. It's basically a bank page that you can sign up and log into. I want to be able to store the user inputs of their username and password into the array lists when they sign up, then when the user logs in - the system will check if the username matches a name in the database (users array list) or if the password matches (passes array list). However, I discovered that the variables aren't being stored in the arrays when I tried testing it by printing out the array list. How do I properly store the user values into the arrays so I can use them later on? Hopefully that all made sense. Thank you.</p>\n<pre><code>import javax.swing.*;\nimport java.util.ArrayList;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        ImageIcon icon = new ImageIcon(&quot;cutepig.jpg&quot;);\n        String[] response1 = {&quot;Sign up&quot;, &quot;Log in&quot;, &quot;Exit&quot;};\n        int options01 = JOptionPane.showOptionDialog(null, &quot;Welcome to Beanie's Bank!&quot;, &quot;Beanie's Bank&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE, icon, response1, 0);\n        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; passes = new ArrayList&lt;&gt;();\n\n        while (true) {\n            if (options01 == 0) {\n                JTextField username = new JTextField();\n                users.add(username.getText());\n                JTextField password = new JPasswordField();\n                passes.add(password.getText());\n                JTextField confpass = new JPasswordField();\n                Object[] message = {\n                        &quot;Username: &quot;, username,\n                        &quot;Password: &quot;, password,\n                        &quot;Confirm Password: &quot;, confpass,\n                };\n                int signup1 = JOptionPane.showConfirmDialog(null, message, &quot;Sign up&quot;, JOptionPane.OK_CANCEL_OPTION);\n                if (signup1 == JOptionPane.OK_OPTION) {\n                    if (password.getText().equals(confpass.getText()) &amp;&amp; !password.getText().isEmpty() &amp;&amp; !confpass.getText().isEmpty()) {\n                        JOptionPane.showMessageDialog(null, &quot;Sign up was successful! \\n Welcome to Beansie's Bank. \\n Please log in to access your account!&quot;);\n                        break;\n                    } else if (password.getText().isEmpty() || confpass.getText().isEmpty() || username.getText().isEmpty()) {\n                        JOptionPane.showMessageDialog(null, &quot;Input cannot be empty, please enter a valid input.&quot;);\n                        continue;\n                    } else if (!password.getText().equals(confpass.getText())) {\n                        JOptionPane.showMessageDialog(null, &quot;Your passwords do not match! Please try again.&quot;);\n                        continue;\n                    }\n                }\n            }\n        }\n\n\n\n        while(true){\n        JTextField username = new JTextField();\n        JTextField password = new JPasswordField();\n        Object[] message = {\n                &quot;Username: &quot;, username,\n                &quot;Password: &quot;, password\n        };\n\n        int option = JOptionPane.showConfirmDialog(null, message, &quot;login&quot;, JOptionPane.OK_CANCEL_OPTION);\n\n            if (username.getText().equals(users) &amp;&amp; password.getText().equals(passes)) {\n                JOptionPane.showMessageDialog(null, &quot;Login successful, welcome back &quot; + username + &quot;.&quot;);\n                break;\n            } else if (!username.getText().equals(users) &amp;&amp; !password.getText().equals(passes)){\n                JOptionPane.showMessageDialog(null,&quot;Login failed, please try again.&quot;);\n                continue;\n            }\n            else{\n            System.out.println(&quot;Login canceled&quot;);\n            continue;\n            }\n    }\n}}\n</code></pre>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"score":0,"creation_date":1697358307,"post_id":77295814,"comment_id":136267785,"body_markdown":"Update, I found a existing question. Already answered here. https://stackoverflow.com/questions/75493999/intellij-compiler-automake-allow-app-running-settings-is-not-available-in-inte","body":"Update, I found a existing question. Already answered here. <a href=\"https://stackoverflow.com/questions/75493999/intellij-compiler-automake-allow-app-running-settings-is-not-available-in-inte\" title=\"intellij compiler automake allow app running settings is not available in inte\">stackoverflow.com/questions/75493999/&hellip;</a>"}],"owner":{"account_id":29140726,"reputation":1,"user_id":22323766,"display_name":"MeLoveCats"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697358708,"answer_count":0,"score":0,"last_activity_date":1697358235,"creation_date":1697358235,"question_id":77295814,"body_markdown":"Trying to enable hot reload for my spring app project, I can&#39;t find compiler.automake.allow.app.running\r\n\r\nTried some tutorials but it&#39;s not in the registry tab as specified in \r\nhttps://www.jhipster.tech/configuring-ide-idea/\r\n\r\nMaybe I missed some documentation to fix this, please do let me know, thank you.  \r\n\r\n","title":"Where to find compiler.automake.allow.app.running in IntelliJ IDEA 2022.3.2 (Community Edition)","body":"<p>Trying to enable hot reload for my spring app project, I can't find compiler.automake.allow.app.running</p>\n<p>Tried some tutorials but it's not in the registry tab as specified in\n<a href=\"https://www.jhipster.tech/configuring-ide-idea/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/configuring-ide-idea/</a></p>\n<p>Maybe I missed some documentation to fix this, please do let me know, thank you.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696442544,"post_id":77231106,"comment_id":136154857,"body_markdown":"Update your question with full debug logs from the server, not some strange incomplete stacktrace please","body":"Update your question with full debug logs from the server, not some strange incomplete stacktrace please"},{"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"score":0,"creation_date":1696502699,"post_id":77231106,"comment_id":136162558,"body_markdown":"Thank you for helping me with this issue. I am not sure what do you mean with &quot;full debug logs from the server&quot;, because I run the unit tests locally, and I add them in the description","body":"Thank you for helping me with this issue. I am not sure what do you mean with &quot;full debug logs from the server&quot;, because I run the unit tests locally, and I add them in the description"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696504792,"post_id":77231106,"comment_id":136162959,"body_markdown":"`preAuthFilter` what is this, why have you written some custom security solution, you are aware that writing custom security is bad practice?","body":"<code>preAuthFilter</code> what is this, why have you written some custom security solution, you are aware that writing custom security is bad practice?"},{"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"score":0,"creation_date":1697357219,"post_id":77231106,"comment_id":136267706,"body_markdown":"I &quot;inherited&quot; the application, and my task is to update to java 17 and Spring boot 3. And actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME)","body":"I &quot;inherited&quot; the application, and my task is to update to java 17 and Spring boot 3. And actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME)"}],"answers":[{"tags":[],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697357295,"creation_date":1697357295,"answer_id":77295775,"question_id":77231106,"body_markdown":"Actually I found the error - it was I hadn&#39;t replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME) in a custom implementation of the PreAuthFilter","title":"Updating to Spring Security 6.0 - failing unit tests after the refactoring the source code - getting &quot;Access Denied&quot;","body":"<p>Actually I found the error - it was I hadn't replaced &quot;javax.servlet.request.X509Certificate&quot; with &quot;jakarta.servlet.request.X509Certificate&quot;, when calling httpServletRequest.getAttribute(CERTIFICATE_ATTRIBUTE_NAME) in a custom implementation of the PreAuthFilter</p>\n"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697357295,"creation_date":1696434732,"question_id":77231106,"body_markdown":"I&#39;m trying to upgrade to Spring Boot 3.0.0 and Spring Security 6.0. The old version of a configuration file looks like this:\r\n``` \r\n\r\nimport somecompany.verification.components.PreAuthFilter;\r\nimport somecompany.verification.environments.VerificationProperties;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Order(1)\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@AutoConfiguration(after = {VerificationProperties.class, VerificationConfig.class})\r\npublic class VerificationSecurityConfig {\r\n\r\n    private final PreAuthFilter preAuthFilter;\r\n    private final VerificationProperties verificationProperties;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\r\n        log.info(&quot;Configuring endpoints security access&quot;);\r\n\r\n        var pathExpressions = verificationProperties.getPathExpressions();\r\n\r\n        return http.requestMatchers().antMatchers(pathExpressions)\r\n                .and().authorizeRequests().antMatchers(pathExpressions).fullyAuthenticated()\r\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\r\n                .and().csrf().disable()\r\n                .addFilter(preAuthFilter)\r\n                .build();\r\n    }\r\n}\r\n``` \r\nAfter moving to Spring boot 3.0.0 and respectively spring security 6.0.0. I refactored the method like this:\r\n\r\n```\r\n    @Bean\r\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\r\n        log.info(&quot;Configuring endpoints security access&quot;);\r\n\r\n        var pathExpressions = verificationProperties.getPathExpressions();\r\n\r\n        http.securityMatchers(request -&gt; {\r\n                    request.requestMatchers(pathExpressions);\r\n                })\r\n                .authorizeHttpRequests(request -&gt; {\r\n                    request.requestMatchers(pathExpressions).fullyAuthenticated();\r\n                });\r\n        http.sessionManagement(s -&gt; s.sessionCreationPolicy(STATELESS));\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.addFilter(preAuthFilter);\r\n        return http.build();\r\n    }\r\n```\r\nLooking at this : https://stackoverflow.com/questions/74683225/updating-to-spring-security-6-0-replacing-removed-and-deprecated-functionality\r\n\r\nand the links, provided there, I changed\r\n```\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n```\r\nwith\r\n```\r\n@EnableMethodSecurity\r\n```\r\nand added the following property in the test application.properties file:\r\n```\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```\r\nbecause this is the path expression &quot;/api/**/*&quot;.\r\n\r\nBut since then, some of the unit tests are failing.\r\nHere is one unit test, which uses jwt token:\r\n\r\n```\r\n  @SneakyThrows\r\n    @Test\r\n    void getForCustomer_Forbidden_WhenUserIsNotCustomer() {\r\n        var token = createToken(AZN, ABS_KUNDENNUMMER, MFA.getAscValue(), CIM_UUID, INTERESSENT);\r\n\r\n        mvc.perform(get(&quot;/api/some/endpoint/customer&quot;)\r\n                        .with(x509(&quot;/testclient.crt&quot;))\r\n                        .header(AUTHORIZATION, &quot;Bearer &quot; + token))\r\n                .andExpect(status().isForbidden());\r\n    }\r\n```\r\n\r\nAfter debugging, I found, that the issue comes from the fact, that the method authenticate \r\n\r\n```\r\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n```\r\nof the class PreAuthenticatedAuthenticationProvider\r\n\r\nis called with no certificate\r\n```\r\nPreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@6a4f7c17, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\r\n```\r\nand I am wondering why....\r\n\r\nHere is the stack trace:\r\n```\r\n\r\nauthenticate:78, PreAuthenticatedAuthenticationProvider (org.springframework.security.web.authentication.preauth)\r\nauthenticate:182, ProviderManager (org.springframework.security.authentication)\r\ndoAuthenticate:200, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\r\ndoFilter:142, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilter:107, LogoutFilter (org.springframework.security.web.authentication.logout)\r\ndoFilter:93, LogoutFilter (org.springframework.security.web.authentication.logout)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoHeadersAfter:90, HeaderWriterFilter (org.springframework.security.web.header)\r\ndoFilterInternal:75, HeaderWriterFilter (org.springframework.security.web.header)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:69, SecurityContextHolderFilter (org.springframework.security.web.context)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:62, WebAsyncManagerIntegrationFilter (org.springframework.security.web.context.request.async)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:42, DisableEncodeUrlFilter (org.springframework.security.web.session)\r\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\r\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:-1, ObservationFilterChainDecorator$ObservationFilter$$Lambda$1456/0x00000001367d1a38 (org.springframework.security.web)\r\nlambda$wrap$0:278, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation (org.springframework.security.web)\r\ndoFilter:-1, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation$$Lambda$1457/0x00000001367d1c80 (org.springframework.security.web)\r\ndoFilter:170, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\r\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\r\ndoFilterInternal:233, FilterChainProxy (org.springframework.security.web)\r\ndoFilter:191, FilterChainProxy (org.springframework.security.web)\r\ndoFilter:132, SecurityMockMvcConfigurer$DelegateFilter (org.springframework.security.test.web.servlet.setup)\r\ndoFilter:132, MockFilterChain (org.springframework.mock.web)\r\nperform:201, MockMvc (org.springframework.test.web.servlet)\r\ngetForCustomer_Success_WhenUserIsCustomer:107, VerificationIntegrationTest (company.verification)\r\n```\r\n\r\nI checked and in the current version of the implementation the &quot;authenticate&quot; method of the PreAuthenticatedAuthenticationProvider is called with the argument Authentication containing the certificate.\r\n\r\nAny ideas why this happens and how to fix this?\r\nI add logs from the console, when I set \r\nlogging.level.org.springframework.security = TRACE\r\n\r\n\r\n\r\n```\r\n********************************************************************\r\n**********        Security debugging is enabled.       *************\r\n**********    This may include sensitive information.  *************\r\n**********      Do not use in a production system!     *************\r\n********************************************************************\r\n\r\n\r\n2023-10-05T13:42:42.712+03:00  INFO 9595 --- [           main] d.a.m.v.VerificationIntegrationTest      : Started VerificationIntegrationTest in 3.949 seconds (process running for 6.741)\r\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet &#39;&#39;\r\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet &#39;&#39;\r\n2023-10-05T13:42:43.407+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms\r\n2023-10-05T13:42:43.487+03:00  INFO 9595 --- [           main] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/api/some/endpoint/customer&#39;:\r\n\r\norg.springframework.mock.web.MockHttpServletRequest@5dd2ea0a\r\n\r\nservletPath:\r\npathInfo:/api/some/endpoint/customer\r\nheaders: \r\nAuthorization: Bearer &lt;somebearer&gt;\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  PreAuthFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-10-05T13:42:43.489+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/secured/nonapi/endpoint/**&#39;], Mvc [pattern=&#39;/unsecured/nonapi/endpoint/**&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@118cbded, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc26df, org.springframework.security.web.context.SecurityContextHolderFilter@5aa6da2, org.springframework.security.web.header.HeaderWriterFilter@708dfe10, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@121ddca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13908f9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@329b331f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7848321e, org.springframework.security.web.session.SessionManagementFilter@5c8b10b4, org.springframework.security.web.access.ExceptionTranslationFilter@625264ed, org.springframework.security.web.access.intercept.AuthorizationFilter@46c662f2]] (1/3)\r\n2023-10-05T13:42:43.491+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/health&#39;], Mvc [pattern=&#39;/prometheus&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1f23a0, org.springframework.security.web.context.SecurityContextHolderFilter@280d5a82, org.springframework.security.web.header.HeaderWriterFilter@6cc8adff, org.springframework.security.web.authentication.logout.LogoutFilter@6efd0a6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@28bd5015, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a34a51e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333a44f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2976ca51, org.springframework.security.web.session.SessionManagementFilter@6b2e9db2, org.springframework.security.web.access.ExceptionTranslationFilter@120411ec, org.springframework.security.web.access.intercept.AuthorizationFilter@30228de7]] (2/3)\r\n2023-10-05T13:42:43.492+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern=&#39;/api/**/*&#39;]], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1d0b447b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4de158ca, org.springframework.security.web.context.SecurityContextHolderFilter@2f61de04, org.springframework.security.web.header.HeaderWriterFilter@3c3cd13a, org.springframework.security.web.authentication.logout.LogoutFilter@48d31d25, de.company.verification.components.PreAuthFilter@4f2fdf3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f5a33ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b59c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d180961, org.springframework.security.web.session.SessionManagementFilter@56b751b1, org.springframework.security.web.access.ExceptionTranslationFilter@405603b6, org.springframework.security.web.access.intercept.AuthorizationFilter@6f65a203]] (3/3)\r\n2023-10-05T13:42:43.493+03:00 DEBUG 9595 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/some/endpoint/customer\r\n2023-10-05T13:42:43.495+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\r\n2023-10-05T13:42:43.510+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n2023-10-05T13:42:43.512+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\r\n2023-10-05T13:42:43.513+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking PreAuthFilter (6/12)\r\n2023-10-05T13:42:43.515+03:00 TRACE 9595 --- [           main] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-10-05T13:42:43.547+03:00 TRACE 9595 --- [           main] o.s.s.authentication.ProviderManager     : Authenticating request with PreAuthenticatedAuthenticationProvider (1/1)\r\n2023-10-05T13:42:43.548+03:00 DEBUG 9595 --- [           main] p.PreAuthenticatedAuthenticationProvider : PreAuthenticated authentication request: PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@7e84a52b, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\r\n2023-10-05T13:42:43.548+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\r\n2023-10-05T13:42:43.549+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\r\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\r\n2023-10-05T13:42:43.551+03:00 TRACE 9595 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-10-05T13:42:43.552+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\r\n2023-10-05T13:42:43.553+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\r\n2023-10-05T13:42:43.555+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d]\r\n2023-10-05T13:42:43.556+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7fcfe065\r\n2023-10-05T13:42:43.562+03:00 TRACE 9595 --- [           main] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:278)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\r\n\tat org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)\r\n\tat org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:78)\r\n\tat org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:67)\r\n\tat org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurer$DelegateFilter.doFilter(SecurityMockMvcConfigurer.java:132)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n\tat de.project.verification.VerificationIntegrationTest.getForCustomer_Success_WhenUserIsCustomer(VerificationIntegrationTest.java:107)\r\n\r\n```","title":"Updating to Spring Security 6.0 - failing unit tests after the refactoring the source code - getting &quot;Access Denied&quot;","body":"<p>I'm trying to upgrade to Spring Boot 3.0.0 and Spring Security 6.0. The old version of a configuration file looks like this:</p>\n<pre><code>\nimport somecompany.verification.components.PreAuthFilter;\nimport somecompany.verification.environments.VerificationProperties;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\n\n@Slf4j\n@RequiredArgsConstructor\n@Order(1)\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@AutoConfiguration(after = {VerificationProperties.class, VerificationConfig.class})\npublic class VerificationSecurityConfig {\n\n    private final PreAuthFilter preAuthFilter;\n    private final VerificationProperties verificationProperties;\n\n    @Bean\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\n        log.info(&quot;Configuring endpoints security access&quot;);\n\n        var pathExpressions = verificationProperties.getPathExpressions();\n\n        return http.requestMatchers().antMatchers(pathExpressions)\n                .and().authorizeRequests().antMatchers(pathExpressions).fullyAuthenticated()\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\n                .and().csrf().disable()\n                .addFilter(preAuthFilter)\n                .build();\n    }\n}\n</code></pre>\n<p>After moving to Spring boot 3.0.0 and respectively spring security 6.0.0. I refactored the method like this:</p>\n<pre><code>    @Bean\n    protected SecurityFilterChain verificationFilterChain(HttpSecurity http) throws Exception {\n        log.info(&quot;Configuring endpoints security access&quot;);\n\n        var pathExpressions = verificationProperties.getPathExpressions();\n\n        http.securityMatchers(request -&gt; {\n                    request.requestMatchers(pathExpressions);\n                })\n                .authorizeHttpRequests(request -&gt; {\n                    request.requestMatchers(pathExpressions).fullyAuthenticated();\n                });\n        http.sessionManagement(s -&gt; s.sessionCreationPolicy(STATELESS));\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.addFilter(preAuthFilter);\n        return http.build();\n    }\n</code></pre>\n<p>Looking at this : <a href=\"https://stackoverflow.com/questions/74683225/updating-to-spring-security-6-0-replacing-removed-and-deprecated-functionality\">Updating to Spring Security 6.0 - replacing Removed and Deprecated functionality for securing requests</a></p>\n<p>and the links, provided there, I changed</p>\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n<p>with</p>\n<pre><code>@EnableMethodSecurity\n</code></pre>\n<p>and added the following property in the test application.properties file:</p>\n<pre><code>  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n<p>because this is the path expression &quot;/api/**/*&quot;.</p>\n<p>But since then, some of the unit tests are failing.\nHere is one unit test, which uses jwt token:</p>\n<pre><code>  @SneakyThrows\n    @Test\n    void getForCustomer_Forbidden_WhenUserIsNotCustomer() {\n        var token = createToken(AZN, ABS_KUNDENNUMMER, MFA.getAscValue(), CIM_UUID, INTERESSENT);\n\n        mvc.perform(get(&quot;/api/some/endpoint/customer&quot;)\n                        .with(x509(&quot;/testclient.crt&quot;))\n                        .header(AUTHORIZATION, &quot;Bearer &quot; + token))\n                .andExpect(status().isForbidden());\n    }\n</code></pre>\n<p>After debugging, I found, that the issue comes from the fact, that the method authenticate</p>\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n</code></pre>\n<p>of the class PreAuthenticatedAuthenticationProvider</p>\n<p>is called with no certificate</p>\n<pre><code>PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@6a4f7c17, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\n</code></pre>\n<p>and I am wondering why....</p>\n<p>Here is the stack trace:</p>\n<pre><code>\nauthenticate:78, PreAuthenticatedAuthenticationProvider (org.springframework.security.web.authentication.preauth)\nauthenticate:182, ProviderManager (org.springframework.security.authentication)\ndoAuthenticate:200, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\ndoFilter:142, AbstractPreAuthenticatedProcessingFilter (org.springframework.security.web.authentication.preauth)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilter:107, LogoutFilter (org.springframework.security.web.authentication.logout)\ndoFilter:93, LogoutFilter (org.springframework.security.web.authentication.logout)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoHeadersAfter:90, HeaderWriterFilter (org.springframework.security.web.header)\ndoFilterInternal:75, HeaderWriterFilter (org.springframework.security.web.header)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:69, SecurityContextHolderFilter (org.springframework.security.web.context)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:62, WebAsyncManagerIntegrationFilter (org.springframework.security.web.context.request.async)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:173, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:42, DisableEncodeUrlFilter (org.springframework.security.web.session)\ndoFilter:116, OncePerRequestFilter (org.springframework.web.filter)\nwrapFilter:185, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:-1, ObservationFilterChainDecorator$ObservationFilter$$Lambda$1456/0x00000001367d1a38 (org.springframework.security.web)\nlambda$wrap$0:278, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation (org.springframework.security.web)\ndoFilter:-1, ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation$$Lambda$1457/0x00000001367d1c80 (org.springframework.security.web)\ndoFilter:170, ObservationFilterChainDecorator$ObservationFilter (org.springframework.security.web)\ndoFilter:134, ObservationFilterChainDecorator$VirtualFilterChain (org.springframework.security.web)\ndoFilterInternal:233, FilterChainProxy (org.springframework.security.web)\ndoFilter:191, FilterChainProxy (org.springframework.security.web)\ndoFilter:132, SecurityMockMvcConfigurer$DelegateFilter (org.springframework.security.test.web.servlet.setup)\ndoFilter:132, MockFilterChain (org.springframework.mock.web)\nperform:201, MockMvc (org.springframework.test.web.servlet)\ngetForCustomer_Success_WhenUserIsCustomer:107, VerificationIntegrationTest (company.verification)\n</code></pre>\n<p>I checked and in the current version of the implementation the &quot;authenticate&quot; method of the PreAuthenticatedAuthenticationProvider is called with the argument Authentication containing the certificate.</p>\n<p>Any ideas why this happens and how to fix this?\nI add logs from the console, when I set\nlogging.level.org.springframework.security = TRACE</p>\n<pre><code>********************************************************************\n**********        Security debugging is enabled.       *************\n**********    This may include sensitive information.  *************\n**********      Do not use in a production system!     *************\n********************************************************************\n\n\n2023-10-05T13:42:42.712+03:00  INFO 9595 --- [           main] d.a.m.v.VerificationIntegrationTest      : Started VerificationIntegrationTest in 3.949 seconds (process running for 6.741)\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''\n2023-10-05T13:42:43.406+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''\n2023-10-05T13:42:43.407+03:00  INFO 9595 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms\n2023-10-05T13:42:43.487+03:00  INFO 9595 --- [           main] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/api/some/endpoint/customer':\n\norg.springframework.mock.web.MockHttpServletRequest@5dd2ea0a\n\nservletPath:\npathInfo:/api/some/endpoint/customer\nheaders: \nAuthorization: Bearer &lt;somebearer&gt;\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  PreAuthFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-10-05T13:42:43.489+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/secured/nonapi/endpoint/**'], Mvc [pattern='/unsecured/nonapi/endpoint/**']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@118cbded, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc26df, org.springframework.security.web.context.SecurityContextHolderFilter@5aa6da2, org.springframework.security.web.header.HeaderWriterFilter@708dfe10, org.springframework.security.web.authentication.logout.LogoutFilter@194911c1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@121ddca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13908f9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@329b331f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7848321e, org.springframework.security.web.session.SessionManagementFilter@5c8b10b4, org.springframework.security.web.access.ExceptionTranslationFilter@625264ed, org.springframework.security.web.access.intercept.AuthorizationFilter@46c662f2]] (1/3)\n2023-10-05T13:42:43.491+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/health'], Mvc [pattern='/prometheus']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@2e159116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d1f23a0, org.springframework.security.web.context.SecurityContextHolderFilter@280d5a82, org.springframework.security.web.header.HeaderWriterFilter@6cc8adff, org.springframework.security.web.authentication.logout.LogoutFilter@6efd0a6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@28bd5015, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a34a51e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333a44f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2976ca51, org.springframework.security.web.session.SessionManagementFilter@6b2e9db2, org.springframework.security.web.access.ExceptionTranslationFilter@120411ec, org.springframework.security.web.access.intercept.AuthorizationFilter@30228de7]] (2/3)\n2023-10-05T13:42:43.492+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Or [Mvc [pattern='/api/**/*']], Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1d0b447b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4de158ca, org.springframework.security.web.context.SecurityContextHolderFilter@2f61de04, org.springframework.security.web.header.HeaderWriterFilter@3c3cd13a, org.springframework.security.web.authentication.logout.LogoutFilter@48d31d25, de.company.verification.components.PreAuthFilter@4f2fdf3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f5a33ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b59c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d180961, org.springframework.security.web.session.SessionManagementFilter@56b751b1, org.springframework.security.web.access.ExceptionTranslationFilter@405603b6, org.springframework.security.web.access.intercept.AuthorizationFilter@6f65a203]] (3/3)\n2023-10-05T13:42:43.493+03:00 DEBUG 9595 --- [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/some/endpoint/customer\n2023-10-05T13:42:43.495+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/12)\n2023-10-05T13:42:43.510+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/12)\n2023-10-05T13:42:43.512+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/12)\n2023-10-05T13:42:43.513+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/12)\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/12)\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-10-05T13:42:43.514+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking PreAuthFilter (6/12)\n2023-10-05T13:42:43.515+03:00 TRACE 9595 --- [           main] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-10-05T13:42:43.547+03:00 TRACE 9595 --- [           main] o.s.s.authentication.ProviderManager     : Authenticating request with PreAuthenticatedAuthenticationProvider (1/1)\n2023-10-05T13:42:43.548+03:00 DEBUG 9595 --- [           main] p.PreAuthenticatedAuthenticationProvider : PreAuthenticated authentication request: PreAuthenticatedAuthenticationToken [Principal=PreAuthPrincipal(certificate=null, jwToken=de.company.portal.security.jwt.validation.azd.AzdJWToken@7e84a52b, name=-::-::allowedJwtUser), Credentials=[PROTECTED], Authenticated=false, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]\n2023-10-05T13:42:43.548+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (7/12)\n2023-10-05T13:42:43.549+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (8/12)\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (9/12)\n2023-10-05T13:42:43.550+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (10/12)\n2023-10-05T13:42:43.551+03:00 TRACE 9595 --- [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-10-05T13:42:43.552+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (11/12)\n2023-10-05T13:42:43.553+03:00 TRACE 9595 --- [           main] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (12/12)\n2023-10-05T13:42:43.555+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d]\n2023-10-05T13:42:43.556+03:00 TRACE 9595 --- [           main] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5773f83d] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7fcfe065\n2023-10-05T13:42:43.562+03:00 TRACE 9595 --- [           main] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:173)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:185)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:278)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:170)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:134)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.security.web.debug.DebugFilter.invokeWithWrappedRequest(DebugFilter.java:90)\n    at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:78)\n    at org.springframework.security.web.debug.DebugFilter.doFilter(DebugFilter.java:67)\n    at org.springframework.security.test.web.servlet.setup.SecurityMockMvcConfigurer$DelegateFilter.doFilter(SecurityMockMvcConfigurer.java:132)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at de.project.verification.VerificationIntegrationTest.getForCustomer_Success_WhenUserIsCustomer(VerificationIntegrationTest.java:107)\n\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1555458,"reputation":3321,"user_id":1446725,"accept_rate":30,"display_name":"Ivan Ursul"},"score":1,"creation_date":1442953669,"post_id":32726207,"comment_id":53294935,"body_markdown":"Possible solution could be here - http://stackoverflow.com/questions/13243037/issue-with-i-o-no-serializer-found-for-class-org-json-jsonobject-and-no-properti","body":"Possible solution could be here - <a href=\"http://stackoverflow.com/questions/13243037/issue-with-i-o-no-serializer-found-for-class-org-json-jsonobject-and-no-properti\" title=\"issue with i o no serializer found for class org json jsonobject and no properti\">stackoverflow.com/questions/13243037/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1442953672,"post_id":32726207,"comment_id":53294938,"body_markdown":"Which libarary are you using? If you use the built in HTTP library you will get back an InputStream you can copy into a String.","body":"Which libarary are you using? If you use the built in HTTP library you will get back an InputStream you can copy into a String."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1442953720,"post_id":32726207,"comment_id":53294958,"body_markdown":"Wow, that&#39;s an impressibly inefficient way to specify the type.","body":"Wow, that&#39;s an impressibly inefficient way to specify the type."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1442956294,"post_id":32726207,"comment_id":53296369,"body_markdown":"I dont see rest related thing here","body":"I dont see rest related thing here"},{"owner":{"account_id":2123477,"reputation":378,"user_id":1886240,"accept_rate":79,"display_name":"Ed_"},"score":0,"creation_date":1442957085,"post_id":32726207,"comment_id":53296718,"body_markdown":"Sorry, now it is as it should in the beggining (hope you dont mind the spanish in the code)","body":"Sorry, now it is as it should in the beggining (hope you dont mind the spanish in the code)"},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":1,"creation_date":1442958173,"post_id":32726207,"comment_id":53297234,"body_markdown":"In order to have Jackson deserialize a JSONObject you need to register the JSON.org Jackson Module (https://github.com/FasterXML/jackson-datatype-json-org). Code looks like this -\n\n      ObjectMapper mapper = new ObjectMapper();\n      mapper.registerModule(new JsonOrgModule());","body":"In order to have Jackson deserialize a JSONObject you need to register the JSON.org Jackson Module (<a href=\"https://github.com/FasterXML/jackson-datatype-json-org\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-datatype-json-org</a>). Code looks like this -        ObjectMapper mapper = new ObjectMapper();       mapper.registerModule(new JsonOrgModule());"},{"owner":{"account_id":16198723,"reputation":45,"user_id":11695641,"display_name":"Wade"},"score":0,"creation_date":1561467771,"post_id":32726207,"comment_id":100066999,"body_markdown":"https://stackoverflow.com/q/56754562/11695641 please help!!","body":"<a href=\"https://stackoverflow.com/q/56754562/11695641\">stackoverflow.com/q/56754562/11695641</a> please help!!"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1561471012,"post_id":32726207,"comment_id":100069166,"body_markdown":"Have you tried @Produces(&quot;application/json&quot;) on your service method and returning a String. That should have the desired effect. If not, please try and check.","body":"Have you tried @Produces(&quot;application/json&quot;) on your service method and returning a String. That should have the desired effect. If not, please try and check."}],"answers":[{"tags":[],"owner":{"account_id":5841137,"reputation":1242,"user_id":4602706,"display_name":"Marco Vargas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461223823,"creation_date":1461187070,"answer_id":36755376,"question_id":32726207,"body_markdown":"I had a similar requirement, but what I did was just to serialized it from the Gson to the entity to handle it internally, and when print it or save it, just serializes it back to GSON, the logic is something like this (*by the way, I used Gson for both ways*):\r\n\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.data.repository;\r\n    import com.data.Entity;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.Response;\r\n    \r\n    @Path(&quot;/rest&quot;)\r\n    public class RestService {    \r\n        /*\r\n        ... Other calls\r\n        */\r\n        private String toJson(Object entity) {\r\n            Gson gson = new GsonBuilder()\r\n                    .setDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS zzz&quot;)\r\n                    .setPrettyPrinting()\r\n                    .create();\r\n            String result = gson.toJson(entity);\r\n            return result.replace(&quot;\\\\\\&quot;&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;/{param1}/{param2}&quot;)\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot;, &quot;text/plain&quot;, &quot;text/html&quot;})\r\n        public Response getEntity(@PathParam(&quot;param1&quot;) String param1, \r\n                                  @PathParam(&quot;param2&quot;) String param2) {\r\n            Entity entity = repository.getEntity(param1, param2);\r\n            if (entity == null) {\r\n                return Response\r\n                        .status(Response.Status.NOT_FOUND)\r\n                        .entity(\r\n                        String.format(\r\n                        &quot;param1 %s does not have a valid record for param2 %s&quot;, \r\n                        param1, param2))\r\n                        .build();\r\n            }\r\n            return Response.ok(this.toJson(entity)).build();\r\n        }\r\n    }\r\n\r\n    \r\nAnd here the entity:\r\n\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class Entity {\r\n    \r\n        @SerializedName(&quot;Field1&quot;)\r\n        private String field1;\r\n    \r\n        @SerializedName(&quot;Field2&quot;)\r\n        private int field2;\r\n    \r\n        @SerializedName(&quot;Field3&quot;)\r\n        private int field3;\r\n        \r\n        @SerializedName(&quot;Field4&quot;)\r\n        private Date field4;\r\n    \r\n        public Entity() {\r\n        }\r\n    \r\n        /*\r\n        ... \r\n        ... Gets and Sets\r\n        ...\r\n        */\r\n\r\n        @Override\r\n        public String toString() {\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(this, Entity.class);\r\n            return json;\r\n        }\r\n    }\r\n\r\nAnd the logic to get the json and translate it to the entity is as simple as this:\r\n\r\n    Gson gson = new Gson();\r\n    Entity repoSequence = gson.fromJson(jsonString, Entity.class);\r\n","title":"Java REST API return JSON from string","body":"<p>I had a similar requirement, but what I did was just to serialized it from the Gson to the entity to handle it internally, and when print it or save it, just serializes it back to GSON, the logic is something like this (<em>by the way, I used Gson for both ways</em>):</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.data.repository;\nimport com.data.Entity;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Response;\n\n@Path(\"/rest\")\npublic class RestService {    \n    /*\n    ... Other calls\n    */\n    private String toJson(Object entity) {\n        Gson gson = new GsonBuilder()\n                .setDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS zzz\")\n                .setPrettyPrinting()\n                .create();\n        String result = gson.toJson(entity);\n        return result.replace(\"\\\\\\\"\", \"\");\n    }\n\n    @GET\n    @Path(\"/{param1}/{param2}\")\n    @Produces({\"application/xml\", \"application/json\", \"text/plain\", \"text/html\"})\n    public Response getEntity(@PathParam(\"param1\") String param1, \n                              @PathParam(\"param2\") String param2) {\n        Entity entity = repository.getEntity(param1, param2);\n        if (entity == null) {\n            return Response\n                    .status(Response.Status.NOT_FOUND)\n                    .entity(\n                    String.format(\n                    \"param1 %s does not have a valid record for param2 %s\", \n                    param1, param2))\n                    .build();\n        }\n        return Response.ok(this.toJson(entity)).build();\n    }\n}\n</code></pre>\n\n<p>And here the entity:</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.annotations.SerializedName;\n\nimport java.util.Date;\n\npublic class Entity {\n\n    @SerializedName(\"Field1\")\n    private String field1;\n\n    @SerializedName(\"Field2\")\n    private int field2;\n\n    @SerializedName(\"Field3\")\n    private int field3;\n\n    @SerializedName(\"Field4\")\n    private Date field4;\n\n    public Entity() {\n    }\n\n    /*\n    ... \n    ... Gets and Sets\n    ...\n    */\n\n    @Override\n    public String toString() {\n        Gson gson = new Gson();\n        String json = gson.toJson(this, Entity.class);\n        return json;\n    }\n}\n</code></pre>\n\n<p>And the logic to get the json and translate it to the entity is as simple as this:</p>\n\n<pre><code>Gson gson = new Gson();\nEntity repoSequence = gson.fromJson(jsonString, Entity.class);\n</code></pre>\n"}],"owner":{"account_id":2123477,"reputation":378,"user_id":1886240,"accept_rate":79,"display_name":"Ed_"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697356980,"creation_date":1442953527,"question_id":32726207,"body_markdown":"I have a JSON stored in my database, I want to return that json as it is in a jax-rs get service, without using a POJO. Is there any way to do that? I tried just setting it in a String, but the result is escaped. I also tried returning a JSONObject, but I got &quot;org.codehaus.jackson.map.JsonMappingException: No serializer found for class org.json.JSONObject&quot;, so I guess I cant use that object type. Finally I used a JSONNode, and it returned my data like this:\r\n\r\n    {\r\n          &quot;nodeType&quot;: &quot;OBJECT&quot;,\r\n          &quot;int&quot;: false,\r\n          &quot;object&quot;: true,\r\n          &quot;valueNode&quot;: false,\r\n          &quot;missingNode&quot;: false,\r\n          &quot;containerNode&quot;: true,\r\n          &quot;pojo&quot;: false,\r\n          &quot;number&quot;: false,\r\n          &quot;integralNumber&quot;: false,\r\n          &quot;floatingPointNumber&quot;: false,\r\n          &quot;short&quot;: false,\r\n          &quot;long&quot;: false,\r\n          &quot;double&quot;: false,\r\n          &quot;bigDecimal&quot;: false,\r\n          &quot;bigInteger&quot;: false,\r\n          &quot;textual&quot;: false,\r\n          &quot;boolean&quot;: false,\r\n          &quot;binary&quot;: false,\r\n          &quot;null&quot;: false,\r\n          &quot;float&quot;: false,\r\n          &quot;array&quot;: false\r\n        }\r\n\r\nThe code.\r\n\r\n    @GET\r\n    @Path(&quot;/campanas&quot;)\r\n    public Response obtenerCampanas(@HeaderParam(&quot;Authorization&quot;) String sessionId) {\r\n        ResponseBase response = new ResponseBase();\r\n        int requestStatus = 200;\r\n        CampanaResponse campanaResponse = campanasFacade.obtenerCampanas();\r\n        response.setData(campanaResponse);\r\n        response.setRequestInfo(GlosaCodigoRequest.OPERACION_EXITOSA);\r\n        return Response.status(requestStatus).entity(response).build();\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;Campanas&quot;)\r\n    public class CampanaResponse implements Serializable {\r\n        private static final long serialVersionUID = -7414170846816649055L;\r\n        @XmlElement(name = &quot;campanas&quot;, required = true)\r\n        private List&lt;Campana&gt; campanas;\r\n        @XmlElement(name = &quot;fecha&quot;, required = true)\r\n        private Date fecha;\r\n    \r\n        //getters.. setters\r\n    \r\n        public static class Campana {\r\n            private String idCampana;\r\n            private String nombre;\r\n            private String urlBanner;\r\n            private String global;\r\n            private String numeroCuenta;\r\n            private Date fechaDonaciones;\r\n            private Date fechaInicio;\r\n            private Date fechaFin;\r\n            private JSONObject config;\r\n    \r\n            //getters..setters\r\n         }\r\n    }\r\n\r\nIs there any way to do that? Thanks.\r\n\r\njax-rs, weblogic 12.1.3","title":"Java REST API return JSON from string","body":"<p>I have a JSON stored in my database, I want to return that json as it is in a jax-rs get service, without using a POJO. Is there any way to do that? I tried just setting it in a String, but the result is escaped. I also tried returning a JSONObject, but I got \"org.codehaus.jackson.map.JsonMappingException: No serializer found for class org.json.JSONObject\", so I guess I cant use that object type. Finally I used a JSONNode, and it returned my data like this:</p>\n\n<pre><code>{\n      \"nodeType\": \"OBJECT\",\n      \"int\": false,\n      \"object\": true,\n      \"valueNode\": false,\n      \"missingNode\": false,\n      \"containerNode\": true,\n      \"pojo\": false,\n      \"number\": false,\n      \"integralNumber\": false,\n      \"floatingPointNumber\": false,\n      \"short\": false,\n      \"long\": false,\n      \"double\": false,\n      \"bigDecimal\": false,\n      \"bigInteger\": false,\n      \"textual\": false,\n      \"boolean\": false,\n      \"binary\": false,\n      \"null\": false,\n      \"float\": false,\n      \"array\": false\n    }\n</code></pre>\n\n<p>The code.</p>\n\n<pre><code>@GET\n@Path(\"/campanas\")\npublic Response obtenerCampanas(@HeaderParam(\"Authorization\") String sessionId) {\n    ResponseBase response = new ResponseBase();\n    int requestStatus = 200;\n    CampanaResponse campanaResponse = campanasFacade.obtenerCampanas();\n    response.setData(campanaResponse);\n    response.setRequestInfo(GlosaCodigoRequest.OPERACION_EXITOSA);\n    return Response.status(requestStatus).entity(response).build();\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"Campanas\")\npublic class CampanaResponse implements Serializable {\n    private static final long serialVersionUID = -7414170846816649055L;\n    @XmlElement(name = \"campanas\", required = true)\n    private List&lt;Campana&gt; campanas;\n    @XmlElement(name = \"fecha\", required = true)\n    private Date fecha;\n\n    //getters.. setters\n\n    public static class Campana {\n        private String idCampana;\n        private String nombre;\n        private String urlBanner;\n        private String global;\n        private String numeroCuenta;\n        private Date fechaDonaciones;\n        private Date fechaInicio;\n        private Date fechaFin;\n        private JSONObject config;\n\n        //getters..setters\n     }\n}\n</code></pre>\n\n<p>Is there any way to do that? Thanks.</p>\n\n<p>jax-rs, weblogic 12.1.3</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697127914,"post_id":77282253,"comment_id":136243845,"body_markdown":"If you have a `List&lt;T&gt;`, then you can make a new `List&lt;T&gt;` via `new ArrayList&lt;&gt;(yourList);`. The generics are inferable for the list as well. If you want to modify or read from this generic list, you&#39;ll be interested in java [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super) regarding `List&lt;? extends T&gt;` vs `List&lt;? super T&gt;`","body":"If you have a <code>List&lt;T&gt;</code>, then you can make a new <code>List&lt;T&gt;</code> via <code>new ArrayList&lt;&gt;(yourList);</code>. The generics are inferable for the list as well. If you want to modify or read from this generic list, you&#39;ll be interested in java <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> regarding <code>List&lt;? extends T&gt;</code> vs <code>List&lt;? super T&gt;</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697128173,"post_id":77282253,"comment_id":136243888,"body_markdown":"... A good point (that your `List&lt;T&gt;` is not `java.util.List&lt;T&gt;`). For the sake of a custom `List`, see how `ArrayList` was implemented: it uses `Object[]`/`Object` under the hood, as generic types are erased at runtime anyhow. These `Object`s are &quot;unsafely&quot; casted upon retrieval/storage, leading to a CCE if you start playing dirty with the generics.","body":"... A good point (that your <code>List&lt;T&gt;</code> is not <code>java.util.List&lt;T&gt;</code>). For the sake of a custom <code>List</code>, see how <code>ArrayList</code> was implemented: it uses <code>Object[]</code>/<code>Object</code> under the hood, as generic types are erased at runtime anyhow. These <code>Object</code>s are &quot;unsafely&quot; casted upon retrieval/storage, leading to a CCE if you start playing dirty with the generics."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1697129136,"post_id":77282253,"comment_id":136244036,"body_markdown":"You cannot copy the T, but you can have two nodes with independent references to the same T that can be independently changed.","body":"You cannot copy the T, but you can have two nodes with independent references to the same T that can be independently changed."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1697132889,"post_id":77282253,"comment_id":136244748,"body_markdown":"Off-topic: By the way, what you call a &quot;container&quot; is referred to as a &quot;[Collection](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html)&quot; in Java.","body":"Off-topic: By the way, what you call a &quot;container&quot; is referred to as a &quot;<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html\" rel=\"nofollow noreferrer\">Collection</a>&quot; in Java."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697132920,"post_id":77282253,"comment_id":136244758,"body_markdown":"In C++, the elements of the container themselves have copy constructors. In Java, to do a deep copy, you would either have to use `item.clone()` (but then the class would need to implement `Cloneable` properly to get a true deep copy), or the class would have to have some other method, perhaps `.copy()` that would make a copy, and the list would have to limit itself to types that implement an interface with that, i.e. `List&lt;T extends Copyable&gt;`.","body":"In C++, the elements of the container themselves have copy constructors. In Java, to do a deep copy, you would either have to use <code>item.clone()</code> (but then the class would need to implement <code>Cloneable</code> properly to get a true deep copy), or the class would have to have some other method, perhaps <code>.copy()</code> that would make a copy, and the list would have to limit itself to types that implement an interface with that, i.e. <code>List&lt;T extends Copyable&gt;</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1697133005,"post_id":77282253,"comment_id":136244778,"body_markdown":"But I think the better approach would be to restrict yourself to lists of immutable objects and then you don&#39;t have to worry about the distinction between shallow and deep copies. Of course, that&#39;s not always possible. But I would strive to define my data model to make it possible.","body":"But I think the better approach would be to restrict yourself to lists of immutable objects and then you don&#39;t have to worry about the distinction between shallow and deep copies. Of course, that&#39;s not always possible. But I would strive to define my data model to make it possible."}],"owner":{"account_id":29657726,"reputation":11,"user_id":22730100,"display_name":"Mhwwhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697356444,"creation_date":1697127363,"question_id":77282253,"body_markdown":"When I&#39;m writing a generic collection like list, I met a problem. How can I make a copy constructor? \r\nIn cpp, I can use &#39;*&#39; to get the value of a pointer. So if item and new_item are pointers to generic type values, then simply use `*new_item = *item` to complete the copy. But in java, I can&#39;t copy generic variables so I can&#39;t make a copy constructor correctly.\r\n\r\n```\r\npublic List(List&lt;T&gt; l) {\r\n    this();\r\n    _size = l._size;\r\n    ListNode&lt;T&gt; l_node = l._head;\r\n    ListNode&lt;T&gt; node = _head;\r\n    while((l_node = l_node.next) != l._head) {\r\n        node.next = new ListNode&lt;T&gt;(l_node.item, _head, node);\r\n        node = node.next;\r\n    }\r\n}\r\n```\r\nThis is the constructor of ListNode:\r\n\r\n```\r\n//this is incorrect\r\npublic ListNode(T item, ListNode&lt;T&gt; next, ListNode&lt;T&gt; prev) {\r\n    this.item = item;\r\n    this.next = next;\r\n    this.prev = prev;\r\n}\r\n```\r\nWhen generating a new node, I actually pass the address of l_node.item. So if I change elements in this new list, the old list will be changed.\r\nIs there any way to generate a new node with the same value but different address?","title":"How can I copy generic collections in java?","body":"<p>When I'm writing a generic collection like list, I met a problem. How can I make a copy constructor?\nIn cpp, I can use '*' to get the value of a pointer. So if item and new_item are pointers to generic type values, then simply use <code>*new_item = *item</code> to complete the copy. But in java, I can't copy generic variables so I can't make a copy constructor correctly.</p>\n<pre><code>public List(List&lt;T&gt; l) {\n    this();\n    _size = l._size;\n    ListNode&lt;T&gt; l_node = l._head;\n    ListNode&lt;T&gt; node = _head;\n    while((l_node = l_node.next) != l._head) {\n        node.next = new ListNode&lt;T&gt;(l_node.item, _head, node);\n        node = node.next;\n    }\n}\n</code></pre>\n<p>This is the constructor of ListNode:</p>\n<pre><code>//this is incorrect\npublic ListNode(T item, ListNode&lt;T&gt; next, ListNode&lt;T&gt; prev) {\n    this.item = item;\n    this.next = next;\n    this.prev = prev;\n}\n</code></pre>\n<p>When generating a new node, I actually pass the address of l_node.item. So if I change elements in this new list, the old list will be changed.\nIs there any way to generate a new node with the same value but different address?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":2,"creation_date":1697354946,"post_id":77295341,"comment_id":136267546,"body_markdown":"What version of `Spring` do you use? If it is 6+ then you should jakarta.persistence.* package instead of javax.persistence.*","body":"What version of <code>Spring</code> do you use? If it is 6+ then you should jakarta.persistence.* package instead of javax.persistence.*"}],"answers":[{"comments":[{"owner":{"account_id":29674223,"reputation":21,"user_id":22742633,"display_name":"Yanting"},"score":1,"creation_date":1697352579,"post_id":77295520,"comment_id":136267391,"body_markdown":"Hi Timur, hope you are doing well.\nI try with just @SpringBootApplication, and then try EntityScan before enableJpaRepository, but it did not work as well. btw, I edit the question and attach the Controller code.","body":"Hi Timur, hope you are doing well. I try with just @SpringBootApplication, and then try EntityScan before enableJpaRepository, but it did not work as well. btw, I edit the question and attach the Controller code."},{"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"score":0,"creation_date":1697355904,"post_id":77295520,"comment_id":136267618,"body_markdown":"Hi Yanting. Please see my edit. If you have legacy code that needs to be on javax then you probably need to just use that and not mix it with a newer version of spring boot starter data jpa that is using jakarta.persistence. If this is a new project I would just go with spring boot starter data jpa and remove the other persistence dependencies from your pom.","body":"Hi Yanting. Please see my edit. If you have legacy code that needs to be on javax then you probably need to just use that and not mix it with a newer version of spring boot starter data jpa that is using jakarta.persistence. If this is a new project I would just go with spring boot starter data jpa and remove the other persistence dependencies from your pom."}],"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697355619,"creation_date":1697351158,"answer_id":77295520,"question_id":77295341,"body_markdown":"Looking at your annotations on your Spring Boot main class, it appears that many of these are unnecessary. Because the entity, repository, service classes all hang off of the same package structure as ShareSmilesApplication.java you really only need @SpringBootApplication like so:\r\n\r\n    @SpringBootApplication\r\n    public class ShareSmilesApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ShareSmilesApplication.class, args);\r\n        }\r\n    }\r\n\r\nYou didn&#39;t include your Controller code but I&#39;m wondering if it&#39;s possible your repository is getting wired first with @EnableJpaRepositories before your User Entity is getting wired with EntityScan. You could try changing the order in your annotations but I&#39;d first try with just @SpringBootApplication.\r\n\r\nEdit:\r\n\r\nI suspect the issue is with mixing the Javax Peristence dependency with the Spring Boot Starter Data JPA dependency that comes with jakarta.persistence. \r\n\r\nI ran your project locally and removed the Javax Persistence dependency and refactored the User entity to use jakarta.persistence and the entity got wired up correctly. &#160;\r\n","title":"Not a managed type: class com.sharesmiles.model.User","body":"<p>Looking at your annotations on your Spring Boot main class, it appears that many of these are unnecessary. Because the entity, repository, service classes all hang off of the same package structure as ShareSmilesApplication.java you really only need @SpringBootApplication like so:</p>\n<pre><code>@SpringBootApplication\npublic class ShareSmilesApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ShareSmilesApplication.class, args);\n    }\n}\n</code></pre>\n<p>You didn't include your Controller code but I'm wondering if it's possible your repository is getting wired first with @EnableJpaRepositories before your User Entity is getting wired with EntityScan. You could try changing the order in your annotations but I'd first try with just @SpringBootApplication.</p>\n<p>Edit:</p>\n<p>I suspect the issue is with mixing the Javax Peristence dependency with the Spring Boot Starter Data JPA dependency that comes with jakarta.persistence.</p>\n<p>I ran your project locally and removed the Javax Persistence dependency and refactored the User entity to use jakarta.persistence and the entity got wired up correctly.  </p>\n"}],"owner":{"account_id":29674223,"reputation":21,"user_id":22742633,"display_name":"Yanting"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697355619,"creation_date":1697345601,"question_id":77295341,"body_markdown":"```\r\npackage com.sharesmiles.model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class User {\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n    private Long userId;\r\n    private String username;\r\n    private String password;\r\n    private String email;\r\n```\r\n\r\n```\r\npackage com.sharesmiles;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {“com.sharesmiles”})\r\n@EnableJpaRepositories(basePackages = {“com.sharesmiles.repository”})\r\n@EntityScan(”com.sharesmiles.model“)\r\npublic class ShareSmilesApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ShareSmilesApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.sharesmiles.repository;\r\n\r\nimport java.util.Optional;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.sharesmiles.model.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.sharesmiles.service;\r\nimport com.sharesmiles.model.User;\r\nimport com.sharesmiles.repository.UserRepository;\r\n\r\nimport jakarta.persistence.EntityNotFoundException;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Optional;\r\nimport java.util.regex.Pattern;\r\n\r\n@Service\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private RedisTemplate&lt;String, User&gt; userRedisTemplate;\r\n\r\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \r\n    private boolean isValidPassword(String password) {\r\n        return (password.length() &gt;= 6);\r\n    }\r\n    // 用户注册方法。\r\n    public User userRegister(User user) {\r\n        // 1. 检查username的格式\r\n        if (!isValidName(user.getUsername()))\r\n            throw new IllegalArgumentException(&quot;Username is not valid&quot;);\r\n\r\n        // 2.检查email的格式\r\n        if (!isValidEmail(user.getEmail()))\r\n            throw new IllegalArgumentException(&quot;Email is not valid&quot;);\r\n        \r\n        // 3. 检查password的格式\r\n        if (!isValidPassword(user.getPassword()))\r\n            throw new IllegalArgumentException(&quot;Password is not valid&quot;);\r\n\r\n        // 4. 检查email是否已经被使用\r\n        Optional&lt;User&gt; existingUser = userRepository.findByEmail(user.getEmail());\r\n        if (existingUser.isPresent()) \r\n            // 非法状态异常，newEmail参数本身有效，但又有数据库状态，我们无法继续使用\r\n            throw new IllegalStateException(&quot;Email already in use&quot;);\r\n        \r\n        // 处理与注册相关的业务逻辑，例如密码哈希、验证输入等。\r\n        String hashedPassword = passwordEncoder.encode(user.getPassword());\r\n        user.setPassword(hashedPassword);\r\n\r\n        // 处理完上述逻辑后，将user保存用户信息到数据库\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.sharesmiles.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.sharesmiles.dto.LoginRequest;\r\nimport com.sharesmiles.model.User;\r\nimport com.sharesmiles.service.UserService;\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    // 以POST方法发送到/api/users/register的HTTP请求\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\r\n        User registeredUser = userService.userRegister(user);\r\n        return new ResponseEntity&lt;User&gt;(registeredUser, HttpStatus.CREATED);\r\n    }\r\n\r\n```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.0&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.26&lt;/version&gt; \r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.16.4&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\nwhen I run mvn spring-boot:run“ in terminal, it show me the error message like “org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;userService&#39;: Error creating bean with name &#39;userService&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;: Error creating bean with name &#39;userRepository&#39; defined in com.sharesmiles.repository.UserRepository defined in @EnableJpaRepositories declared on ShareSmilesApplication: Not a managed type: class com.sharesmiles.model.User\r\n\r\nwould you mind provide some help about this issue?","title":"Not a managed type: class com.sharesmiles.model.User","body":"<pre><code>package com.sharesmiles.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    private Long userId;\n    private String username;\n    private String password;\n    private String email;\n</code></pre>\n<pre><code>package com.sharesmiles;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {“com.sharesmiles”})\n@EnableJpaRepositories(basePackages = {“com.sharesmiles.repository”})\n@EntityScan(”com.sharesmiles.model“)\npublic class ShareSmilesApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ShareSmilesApplication.class, args);\n    }\n}\n\n</code></pre>\n<pre><code>package com.sharesmiles.repository;\n\nimport java.util.Optional;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.sharesmiles.model.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n    Optional&lt;User&gt; findByUsername(String username);\n    Optional&lt;User&gt; findByEmail(String email);\n}\n</code></pre>\n<pre><code>package com.sharesmiles.service;\nimport com.sharesmiles.model.User;\nimport com.sharesmiles.repository.UserRepository;\n\nimport jakarta.persistence.EntityNotFoundException;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.security.authentication.BadCredentialsException;\n\nimport java.time.Duration;\nimport java.util.Optional;\nimport java.util.regex.Pattern;\n\n@Service\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private RedisTemplate&lt;String, User&gt; userRedisTemplate;\n\n    private BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    \n    private boolean isValidPassword(String password) {\n        return (password.length() &gt;= 6);\n    }\n    // 用户注册方法。\n    public User userRegister(User user) {\n        // 1. 检查username的格式\n        if (!isValidName(user.getUsername()))\n            throw new IllegalArgumentException(&quot;Username is not valid&quot;);\n\n        // 2.检查email的格式\n        if (!isValidEmail(user.getEmail()))\n            throw new IllegalArgumentException(&quot;Email is not valid&quot;);\n        \n        // 3. 检查password的格式\n        if (!isValidPassword(user.getPassword()))\n            throw new IllegalArgumentException(&quot;Password is not valid&quot;);\n\n        // 4. 检查email是否已经被使用\n        Optional&lt;User&gt; existingUser = userRepository.findByEmail(user.getEmail());\n        if (existingUser.isPresent()) \n            // 非法状态异常，newEmail参数本身有效，但又有数据库状态，我们无法继续使用\n            throw new IllegalStateException(&quot;Email already in use&quot;);\n        \n        // 处理与注册相关的业务逻辑，例如密码哈希、验证输入等。\n        String hashedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(hashedPassword);\n\n        // 处理完上述逻辑后，将user保存用户信息到数据库\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<pre><code>package com.sharesmiles.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.sharesmiles.dto.LoginRequest;\nimport com.sharesmiles.model.User;\nimport com.sharesmiles.service.UserService;\n\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    // 以POST方法发送到/api/users/register的HTTP请求\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) {\n        User registeredUser = userService.userRegister(user);\n        return new ResponseEntity&lt;User&gt;(registeredUser, HttpStatus.CREATED);\n    }\n\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\n            &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt; \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt; \n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n            &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n            &lt;version&gt;3.16.4&lt;/version&gt; \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>when I run mvn spring-boot:run“ in terminal, it show me the error message like “org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'userService': Error creating bean with name 'userService': Unsatisfied dependency expressed through field 'userRepository': Error creating bean with name 'userRepository' defined in com.sharesmiles.repository.UserRepository defined in @EnableJpaRepositories declared on ShareSmilesApplication: Not a managed type: class com.sharesmiles.model.User</p>\n<p>would you mind provide some help about this issue?</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"comments":[{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1462825157,"post_id":37124425,"comment_id":61790287,"body_markdown":"You can use already available repository interfaces of Spring Data - for example JpaRepository. Try creating a specific interface for your Table class - something like &quot;TableRepository extends JpaRepository&lt;Table, Long&gt;&quot; and annotate it with @Repository annotation.","body":"You can use already available repository interfaces of Spring Data - for example JpaRepository. Try creating a specific interface for your Table class - something like &quot;TableRepository extends JpaRepository&lt;Table, Long&gt;&quot; and annotate it with @Repository annotation."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":1,"creation_date":1645437926,"post_id":37124425,"comment_id":125862803,"body_markdown":"If you get this error trying to implement repository hierarchy, put `@NoRepositoryBean` annotation on your custom parent repository interface.","body":"If you get this error trying to implement repository hierarchy, put <code>@NoRepositoryBean</code> annotation on your custom parent repository interface."}],"answers":[{"comments":[{"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"score":0,"creation_date":1462826191,"post_id":37124905,"comment_id":61790737,"body_markdown":"Thats something I would love to implement but for now, i am struggling to write a repo for specific class. I added a class `TableNameGatewayRepo&lt;TableName, ID extends Serializable&gt; extends JpaRepoistory&lt;PaymentGateway, ID&gt;` and I am still getting same error","body":"Thats something I would love to implement but for now, i am struggling to write a repo for specific class. I added a class <code>TableNameGatewayRepo&lt;TableName, ID extends Serializable&gt; extends JpaRepoistory&lt;PaymentGateway, ID&gt;</code> and I am still getting same error"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1462826331,"post_id":37124905,"comment_id":61790821,"body_markdown":"Try `TableNameGatewayRepo extends CrudRepository&lt;PaymentGateway, Long&gt;` or the same way with `Jpa` instead of `Crud`","body":"Try <code>TableNameGatewayRepo extends CrudRepository&lt;PaymentGateway, Long&gt;</code> or the same way with <code>Jpa</code> instead of <code>Crud</code>"}],"tags":[],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1462826134,"creation_date":1462825812,"answer_id":37124905,"question_id":37124425,"body_markdown":"That&#39;s not possible the way you are trying. Since `T` needs to be an [`Entity`][1], you need to type-restrict it. One option would be to make one repository per concrete Entity, but here you have a more generic way of implementing it:\r\n\r\nUse a BaseClass for your entities:\r\n\r\n    @Entity\r\n    public abstract class BaseClass&lt;IdType extends Serializable&gt;{\r\n    \t\r\n    \tprivate IdType id;\r\n    \t\r\n    \t//Getter and setters\r\n    \t\r\n    }\r\n\r\nDefine a [`@Repository`][2] for your base class:\r\n\r\n\t@Repository\r\n\tpublic interface Dao&lt;T extends BaseClass, IdType extends Serializable&gt; extends\r\n\t\t\tCrudRepository&lt;T, IdType&gt; {\r\n\r\n\t}\r\n\r\nYou can define the shared entity operations in this interface and inherit from them for more concrete ones in the cases demanding it.\r\n\r\n**See also:**\r\n\r\n - https://stackoverflow.com/questions/27545276/how-to-implement-a-spring-data-repository-for-a-mappedsuperclass\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/Entity.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Repository.html","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>That's not possible the way you are trying. Since <code>T</code> needs to be an <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Entity.html\" rel=\"noreferrer\"><code>Entity</code></a>, you need to type-restrict it. One option would be to make one repository per concrete Entity, but here you have a more generic way of implementing it:</p>\n\n<p>Use a BaseClass for your entities:</p>\n\n<pre><code>@Entity\npublic abstract class BaseClass&lt;IdType extends Serializable&gt;{\n\n    private IdType id;\n\n    //Getter and setters\n\n}\n</code></pre>\n\n<p>Define a <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\" rel=\"noreferrer\"><code>@Repository</code></a> for your base class:</p>\n\n<pre><code>@Repository\npublic interface Dao&lt;T extends BaseClass, IdType extends Serializable&gt; extends\n        CrudRepository&lt;T, IdType&gt; {\n\n}\n</code></pre>\n\n<p>You can define the shared entity operations in this interface and inherit from them for more concrete ones in the cases demanding it.</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27545276/how-to-implement-a-spring-data-repository-for-a-mappedsuperclass\">How to implement a Spring Data repository for a @MappedSuperclass</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697355337,"creation_date":1697355337,"answer_id":77295678,"question_id":37124425,"body_markdown":"It&#39;s an old post, but I encoutered the same problem so let me share the current solution.\r\n\r\nThere&#39;s a new annotation @NoRepositoryBean to handle this case. It can be added on interfaces that extends Repository, but it instructs context not to initialize it as actual Spring Data JPA Repository.\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html\r\n\r\nYou just need to annotate your custom repository with this annotation and later extend it for actual JPA repositories.","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>It's an old post, but I encoutered the same problem so let me share the current solution.</p>\n<p>There's a new annotation @NoRepositoryBean to handle this case. It can be added on interfaces that extends Repository, but it instructs context not to initialize it as actual Spring Data JPA Repository.</p>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/NoRepositoryBean.html</a></p>\n<p>You just need to annotate your custom repository with this annotation and later extend it for actual JPA repositories.</p>\n"}],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27271,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37124905,"answer_count":2,"score":12,"last_activity_date":1697355337,"creation_date":1462823940,"question_id":37124425,"body_markdown":"I am trying to expose my db tables via spring boot by following different spring tutorials and I am running into following exception (I will post exception at the end). \r\n\r\nHere are the classes that I am using\r\n\r\n    package com.xxx.xxx.db;\r\n    \r\n    import org.springframework.data.repository.Repository;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public interface BaseRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;{\r\n      T findOne(ID id);\r\n      T save(T entity);\r\n    }\r\n\r\nAnd here is my specific service class\r\n\r\n    package com.xxx.xxx.tablename;\r\n    \r\n    import com.xxx.xxx.db.BaseRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class TableNameService {\r\n    \r\n      @Autowired\r\n      private BaseRepository&lt;TableName, Long&gt; repository;\r\n    \r\n      public TableName findById(Long id){\r\n        return repository.findOne(id);\r\n      }\r\n    }\r\n\r\nand here is my entity\r\n\r\n    package com.xxx.xxx.tablename;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name=&quot;table_name&quot;)\r\n    public class TableName {\r\n    \r\n      @Id\r\n      private long id;\r\n    \r\n      @NotNull\r\n      private String name;\r\n    \r\n      public TableName() {\r\n      }\r\n    \r\n      public TableName(long id){\r\n        this.id = id;\r\n      }\r\n    \r\n      public TableName(String name){\r\n        this.name = name;\r\n      }\r\n    \r\n      public TableName(long id, String name){\r\n        this.id = id;\r\n        this.name = name;\r\n      }\r\n    }\r\n\r\nMy spring configurations are being done by `application.yml` file. The file currently have only `database` connection informaiton and nothing more than that\r\n\r\nI also have a class named `BeansConfig` which is annotated by `@Configuration`. But this class is being used to validate if db properties which are being provided by `application.yml` are valid. \r\n\r\nAnd now here is the exception\r\n\r\n\r\n    springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;TableNameService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766)\r\n    \tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)\r\n    \tat com.xxx.xxx.Application.main(Application.java:12)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n    \t... 17 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;baseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\r\n    \tat org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:219)\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:185)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:251)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:237)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \t... 29 common frames omitted\r\n\r\n","title":"Spring Data: Not an managed type: class java.lang.Object","body":"<p>I am trying to expose my db tables via spring boot by following different spring tutorials and I am running into following exception (I will post exception at the end). </p>\n\n<p>Here are the classes that I am using</p>\n\n<pre><code>package com.xxx.xxx.db;\n\nimport org.springframework.data.repository.Repository;\n\nimport java.io.Serializable;\n\npublic interface BaseRepository&lt;T, ID extends Serializable&gt; extends Repository&lt;T, ID&gt;{\n  T findOne(ID id);\n  T save(T entity);\n}\n</code></pre>\n\n<p>And here is my specific service class</p>\n\n<pre><code>package com.xxx.xxx.tablename;\n\nimport com.xxx.xxx.db.BaseRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class TableNameService {\n\n  @Autowired\n  private BaseRepository&lt;TableName, Long&gt; repository;\n\n  public TableName findById(Long id){\n    return repository.findOne(id);\n  }\n}\n</code></pre>\n\n<p>and here is my entity</p>\n\n<pre><code>package com.xxx.xxx.tablename;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotNull;\n\n@Getter\n@Setter\n@Entity\n@Table(name=\"table_name\")\npublic class TableName {\n\n  @Id\n  private long id;\n\n  @NotNull\n  private String name;\n\n  public TableName() {\n  }\n\n  public TableName(long id){\n    this.id = id;\n  }\n\n  public TableName(String name){\n    this.name = name;\n  }\n\n  public TableName(long id, String name){\n    this.id = id;\n    this.name = name;\n  }\n}\n</code></pre>\n\n<p>My spring configurations are being done by <code>application.yml</code> file. The file currently have only <code>database</code> connection informaiton and nothing more than that</p>\n\n<p>I also have a class named <code>BeansConfig</code> which is annotated by <code>@Configuration</code>. But this class is being used to validate if db properties which are being provided by <code>application.yml</code> are valid. </p>\n\n<p>And now here is the exception</p>\n\n<pre><code>springframework.beans.factory.BeanCreationException: Error creating bean with name 'TableNameService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766)\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180)\n    at com.xxx.xxx.Application.main(Application.java:12)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.xxx.xxx.db.BaseRepository com.xxx.xxx.tablename.TableNameService.repository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:573)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'baseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object\n    at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:219)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:185)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:251)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:237)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    ... 29 common frames omitted\n</code></pre>\n"},{"tags":["c#","java","c","ternary-operator"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1232486559,"post_id":463155,"comment_id":281674,"body_markdown":"should &quot;Java&quot;, &quot;C&quot; and a lot of other language be added as well? Since they all support the ternary operator pretty much the same way.","body":"should &quot;Java&quot;, &quot;C&quot; and a lot of other language be added as well? Since they all support the ternary operator pretty much the same way."},{"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"score":0,"creation_date":1232486768,"post_id":463155,"comment_id":281689,"body_markdown":"Not to be too picky but &quot;(condition) ? :&quot; is a conditional expression in the form of a ternary operator.  It is in the form of a ternary operator because it takes 3 arguments.","body":"Not to be too picky but &quot;(condition) ? :&quot; is a conditional expression in the form of a ternary operator.  It is in the form of a ternary operator because it takes 3 arguments."},{"owner":{"account_id":16125,"reputation":64077,"user_id":34824,"accept_rate":80,"display_name":"abelenky"},"score":0,"creation_date":1232487007,"post_id":463155,"comment_id":281704,"body_markdown":"This is valid use of the ternary operator, but a less-than-stellar-example, because the conditional-expression itself is boolean.  Testing it to resolve to true/false is kinda redundant.  This would be best written as:  Boolean isValueBig = (value &gt; 100);","body":"This is valid use of the ternary operator, but a less-than-stellar-example, because the conditional-expression itself is boolean.  Testing it to resolve to true/false is kinda redundant.  This would be best written as:  Boolean isValueBig = (value &gt; 100);"},{"owner":{"account_id":17179,"reputation":114983,"user_id":38206,"accept_rate":80,"display_name":"Brian Rasmussen"},"score":0,"creation_date":1232487375,"post_id":463155,"comment_id":281740,"body_markdown":"That is a bad example of as it could more easily have been written as IsValueBig = value &gt; 100; No need to assign bools based on an evaluation of a bool.","body":"That is a bad example of as it could more easily have been written as IsValueBig = value &gt; 100; No need to assign bools based on an evaluation of a bool."},{"owner":{"account_id":15392,"reputation":37928,"user_id":32465,"accept_rate":83,"display_name":"Samuel"},"score":0,"creation_date":1232487565,"post_id":463155,"comment_id":281752,"body_markdown":"A better example would be int biggerValue = value &gt; 100 ? value : 100 or string humanDiff = value &gt; 100 ? &quot;bigger than 100&quot; : &quot;less than 100&quot;","body":"A better example would be int biggerValue = value &gt; 100 ? value : 100 or string humanDiff = value &gt; 100 ? &quot;bigger than 100&quot; : &quot;less than 100&quot;"},{"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"score":1,"creation_date":1232488309,"post_id":463155,"comment_id":281806,"body_markdown":"Duplicate of: http://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator.","body":"Duplicate of: <a href=\"http://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator\" title=\"how do i use the ternary operator\">stackoverflow.com/questions/392932/&hellip;</a>."},{"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"score":0,"creation_date":1232489201,"post_id":463155,"comment_id":281866,"body_markdown":"I don&#39;t mean to be annoying (there&#39;s another word for that too) but wasn&#39;t there a rule that stated that you should try and document yourself BEFORE posting a question on Stackoverflow?!","body":"I don&#39;t mean to be annoying (there&#39;s another word for that too) but wasn&#39;t there a rule that stated that you should try and document yourself BEFORE posting a question on Stackoverflow?!"},{"owner":{"account_id":22560,"reputation":56311,"user_id":55774,"accept_rate":62,"display_name":"Frederik Gheysels"},"score":0,"creation_date":1232566433,"post_id":463155,"comment_id":284752,"body_markdown":"I don&#39;t want to be annoying as well, but I believe that you could have gotten the answer to that question much quicker if you just looked in the help or msdn for the ternary operator.","body":"I don&#39;t want to be annoying as well, but I believe that you could have gotten the answer to that question much quicker if you just looked in the help or msdn for the ternary operator."},{"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"score":0,"creation_date":1232569853,"post_id":463155,"comment_id":284925,"body_markdown":"I remember what my Java instructor told us. &quot;Here is how you use a ternary operator .......... Now that you know what it is, don&#39;t EVER use it!&quot; Sugar rots the best code.","body":"I remember what my Java instructor told us. &quot;Here is how you use a ternary operator .......... Now that you know what it is, don&#39;t EVER use it!&quot; Sugar rots the best code."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1232654356,"post_id":463155,"comment_id":288114,"body_markdown":"I can&#39;t imagine NOT using it.  It&#39;s simple to read once you get used to it.  Nice and short, more code stays on screen.  Can insert where needed much easier.  One of the best features of the C language family!","body":"I can&#39;t imagine NOT using it.  It&#39;s simple to read once you get used to it.  Nice and short, more code stays on screen.  Can insert where needed much easier.  One of the best features of the C language family!"},{"owner":{"account_id":4848,"reputation":6831,"user_id":7495,"accept_rate":100,"display_name":"John Kraft"},"score":0,"creation_date":1237218048,"post_id":463155,"comment_id":464273,"body_markdown":"People who say not to use it do not understand it.  These are, generally, the people that use it for flow control: (Condition) ? DoThis() : DoThat();","body":"People who say not to use it do not understand it.  These are, generally, the people that use it for flow control: (Condition) ? DoThis() : DoThat();"}],"answers":[{"comments":[{"owner":{"account_id":22243,"reputation":265891,"user_id":54680,"accept_rate":98,"display_name":"Sampson"},"score":0,"creation_date":1232486876,"post_id":463160,"comment_id":281694,"body_markdown":"You are welcome. I&#39;m pleased to see how quickly you got responses - I love StackOverflow!","body":"You are welcome. I&#39;m pleased to see how quickly you got responses - I love StackOverflow!"}],"tags":[],"owner":{"account_id":22243,"reputation":265891,"user_id":54680,"accept_rate":98,"display_name":"Sampson"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1232487391,"creation_date":1232486387,"answer_id":463160,"question_id":463155,"body_markdown":"**PHP Example**\r\n\r\n    &lt;?php\r\n    \r\n      // Example usage for: Ternary Operator\r\n      $action = (empty($_POST[&#39;action&#39;])) ? &#39;default&#39; : $_POST[&#39;action&#39;];\r\n    \r\n      // The above is identical to this if/else statement\r\n      if (empty($_POST[&#39;action&#39;])) {\r\n        $action = &#39;default&#39;;\r\n      } else {\r\n        $action = $_POST[&#39;action&#39;];\r\n      }\r\n    \r\n    ?&gt;\r\n\r\n&gt; &quot;The expression *(expr1) ? (expr2) : (expr3)* evaluates to *expr2* if *expr1* evaluates to **TRUE**, and *expr3* if *expr1* evaluates to **FALSE**.&quot;\r\n\r\n[PHP Documentation on Comparison Operators][1]\r\n\r\n\r\n  [1]: http://us.php.net/manual/da/language.operators.comparison.php","title":"How does the ternary operator work?","body":"<p><strong>PHP Example</strong></p>\n\n<pre><code>&lt;?php\n\n  // Example usage for: Ternary Operator\n  $action = (empty($_POST['action'])) ? 'default' : $_POST['action'];\n\n  // The above is identical to this if/else statement\n  if (empty($_POST['action'])) {\n    $action = 'default';\n  } else {\n    $action = $_POST['action'];\n  }\n\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>\"The expression <em>(expr1) ? (expr2) : (expr3)</em> evaluates to <em>expr2</em> if <em>expr1</em> evaluates to <strong>TRUE</strong>, and <em>expr3</em> if <em>expr1</em> evaluates to <strong>FALSE</strong>.\"</p>\n</blockquote>\n\n<p><a href=\"http://us.php.net/manual/da/language.operators.comparison.php\" rel=\"nofollow noreferrer\">PHP Documentation on Comparison Operators</a></p>\n"},{"comments":[{"owner":{"account_id":15021,"reputation":41077,"user_id":31317,"accept_rate":81,"display_name":"peterchen"},"score":4,"creation_date":1232567703,"post_id":463161,"comment_id":284818,"body_markdown":"Or maybe Boolean isValueBig = (( value &gt; 100 ) ? true : false) ? true : false; to make it even more boolean –\ni.o.w. this is a very pointless (though correct) use of the ternary operator.","body":"Or maybe Boolean isValueBig = (( value &gt; 100 ) ? true : false) ? true : false; to make it even more boolean – i.o.w. this is a very pointless (though correct) use of the ternary operator."},{"owner":{"account_id":8615,"reputation":56564,"user_id":15614,"display_name":"Kent Fredric"},"score":4,"creation_date":1232603381,"post_id":463161,"comment_id":286013,"body_markdown":"actually, in reality I&#39;d hope you&#39;d just use   isValueBig = ( value &gt; 100 )   ;  it work the same :P","body":"actually, in reality I&#39;d hope you&#39;d just use   isValueBig = ( value &gt; 100 )   ;  it work the same :P"}],"tags":[],"owner":{"account_id":8615,"reputation":56564,"user_id":15614,"display_name":"Kent Fredric"},"comment_count":2,"down_vote_count":3,"up_vote_count":33,"is_accepted":true,"score":30,"last_activity_date":1683727707,"creation_date":1232486390,"answer_id":463161,"question_id":463155,"body_markdown":"    Boolean isValueBig = ( value &gt; 100  ) ? true : false;\r\n    \r\n    // above line is same as:\r\n\r\n    Boolean isValueBig;\r\n\r\n    if(  value &gt; 100 ) { \r\n          isValueBig = true;\r\n    } else { \r\n         isValueBig = false;\r\n    }","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig = ( value &gt; 100  ) ? true : false;\n\n// above line is same as:\n\nBoolean isValueBig;\n\nif(  value &gt; 100 ) { \n      isValueBig = true;\n} else { \n     isValueBig = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22234,"reputation":4398,"user_id":54650,"accept_rate":100,"display_name":"user54650"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1232486396,"creation_date":1232486396,"answer_id":463162,"question_id":463155,"body_markdown":"    Boolean isValueBig;\r\n    \r\n    if(value &gt; 100) { isValueBig = true; } else { isValueBig = false; }","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig;\n\nif(value &gt; 100) { isValueBig = true; } else { isValueBig = false; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20503,"reputation":15775,"user_id":49048,"accept_rate":88,"display_name":"empi"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1232486453,"creation_date":1232486453,"answer_id":463163,"question_id":463155,"body_markdown":"    Boolean isValueBig;\r\n    \r\n    if (value &gt; 100)\r\n    {\r\n       isValueBig = true;\r\n    }\r\n    else \r\n    {\r\n       isValueBig = false;\r\n    }\r\n","title":"How does the ternary operator work?","body":"<pre><code>Boolean isValueBig;\n\nif (value &gt; 100)\n{\n   isValueBig = true;\n}\nelse \n{\n   isValueBig = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1232486487,"creation_date":1232486487,"answer_id":463167,"question_id":463155,"body_markdown":"When I was new to C++, I found that it helped to read this construct as follows:\r\n\r\n    Boolean isValueBig = if condition ? then x else: y;\r\n\r\n(Notice that this isn&#39;t valid code. It&#39;s just what I trained myself to read in my head.)","title":"How does the ternary operator work?","body":"<p>When I was new to C++, I found that it helped to read this construct as follows:</p>\n\n<pre><code>Boolean isValueBig = if condition ? then x else: y;\n</code></pre>\n\n<p>(Notice that this isn't valid code. It's just what I trained myself to read in my head.)</p>\n"},{"comments":[{"owner":{"account_id":7894847,"reputation":876,"user_id":5963888,"display_name":"Zach Hutchins"},"score":0,"creation_date":1630424212,"post_id":463182,"comment_id":121950124,"body_markdown":"*&quot;The ternary expression is a statement&quot;*, the ternary expression is a `expression`, it expresses a value, if/else is a `statement`, ternary could become an `expression statement` but I would say by itself it is an expression, this is what makes turnery pretty powerful in my opinion.","body":"<i>&quot;The ternary expression is a statement&quot;</i>, the ternary expression is a <code>expression</code>, it expresses a value, if/else is a <code>statement</code>, ternary could become an <code>expression statement</code> but I would say by itself it is an expression, this is what makes turnery pretty powerful in my opinion."}],"tags":[],"owner":{"account_id":15487,"reputation":9745,"user_id":32771,"accept_rate":78,"display_name":"Dan Monego"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1232486744,"creation_date":1232486744,"answer_id":463182,"question_id":463155,"body_markdown":"The difference between the ternary operation and if/else is that the ternary expression is a statement that evaluates to a value, while if/else is not.\r\n\r\nTo use your example, changing from the use of a ternary expression to if/else you could use this statement:\r\n\r\n    Boolean isValueBig = null;\r\n    if(value &gt; 100)\r\n    { \r\n        isValueBig = true \r\n    }\r\n    else\r\n    {\r\n        isValueBig = false;\r\n    }\r\n\r\nIn this case, though, your statement is equivalent to this:\r\n\r\n    Boolean isValueBig = (value &gt; 100);","title":"How does the ternary operator work?","body":"<p>The difference between the ternary operation and if/else is that the ternary expression is a statement that evaluates to a value, while if/else is not.</p>\n\n<p>To use your example, changing from the use of a ternary expression to if/else you could use this statement:</p>\n\n<pre><code>Boolean isValueBig = null;\nif(value &gt; 100)\n{ \n    isValueBig = true \n}\nelse\n{\n    isValueBig = false;\n}\n</code></pre>\n\n<p>In this case, though, your statement is equivalent to this:</p>\n\n<pre><code>Boolean isValueBig = (value &gt; 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530,"reputation":4343,"user_id":2047,"accept_rate":88,"display_name":"Craig"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232487004,"creation_date":1232487004,"answer_id":463203,"question_id":463155,"body_markdown":"As quoted from the &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ty67wk28(VS.80).aspx&quot;&gt;?: Operator MSDN page&lt;/a&gt;, &quot;the conditional operator (?:) returns one of two values depending on the value of a Boolean expression.&quot;\r\n\r\nSo you can use the ternary operator to return more than just booleans:\r\n\r\n       string result = (value &gt; 100 ) ? &quot;value is big&quot; : &quot;value is small&quot;;","title":"How does the ternary operator work?","body":"<p>As quoted from the <a href=\"http://msdn.microsoft.com/en-us/library/ty67wk28(VS.80).aspx\" rel=\"nofollow noreferrer\">?: Operator MSDN page</a>, \"the conditional operator (?:) returns one of two values depending on the value of a Boolean expression.\"</p>\n\n<p>So you can use the ternary operator to return more than just booleans:</p>\n\n<pre><code>   string result = (value &gt; 100 ) ? \"value is big\" : \"value is small\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13367,"reputation":3609,"user_id":26805,"accept_rate":75,"display_name":"billb"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1232487638,"creation_date":1232487638,"answer_id":463247,"question_id":463155,"body_markdown":"I was never a fan of the ternary operator because I thought it was hard to read.  As it so happens, Jon Skeet and his book, *C# in Depth* finally hit this old dog over the head and got it to sink in.  Jon said, and I paraphrase, think of it as a question.\r\n\r\n&gt; value &gt; 100?\r\n&gt; \r\n&gt; &quot;yes&quot; : &quot;no&quot;\r\n\r\nNow the blind can see.\r\n\r\nHope this helps you make it second nature.","title":"How does the ternary operator work?","body":"<p>I was never a fan of the ternary operator because I thought it was hard to read.  As it so happens, Jon Skeet and his book, <em>C# in Depth</em> finally hit this old dog over the head and got it to sink in.  Jon said, and I paraphrase, think of it as a question.</p>\n\n<blockquote>\n  <p>value > 100?</p>\n  \n  <p>\"yes\" : \"no\"</p>\n</blockquote>\n\n<p>Now the blind can see.</p>\n\n<p>Hope this helps you make it second nature.</p>\n"},{"tags":[],"owner":{"account_id":15593,"reputation":6172,"user_id":33114,"display_name":"Brian Rudolph"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232566189,"creation_date":1232564604,"answer_id":466541,"question_id":463155,"body_markdown":"Bad example, because you could easily write\r\n\r\n    Boolean isValueBig = value &gt; 100 ? true : false;\r\n\r\nas:\r\n\r\n    bool isValueBig = value &gt; 100\r\n\r\nBeyond that, everyone else has already answered it.  I would just not recommend using ternary operators to set bool values, since what you are evaluating is already a boolean value.\r\n\r\nI realize it was just an example, but it was worth pointing out.","title":"How does the ternary operator work?","body":"<p>Bad example, because you could easily write</p>\n\n<pre><code>Boolean isValueBig = value &gt; 100 ? true : false;\n</code></pre>\n\n<p>as:</p>\n\n<pre><code>bool isValueBig = value &gt; 100\n</code></pre>\n\n<p>Beyond that, everyone else has already answered it.  I would just not recommend using ternary operators to set bool values, since what you are evaluating is already a boolean value.</p>\n\n<p>I realize it was just an example, but it was worth pointing out.</p>\n"},{"comments":[{"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"score":0,"creation_date":1232566208,"post_id":466557,"comment_id":284738,"body_markdown":"I agree, although explicit casts should handle it in most cases, but it looks so ugly.","body":"I agree, although explicit casts should handle it in most cases, but it looks so ugly."}],"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232564869,"creation_date":1232564869,"answer_id":466557,"question_id":463155,"body_markdown":"Make sure you don&#39;t mix types in true/false parts in Java. It produces weird results :-(","title":"How does the ternary operator work?","body":"<p>Make sure you don't mix types in true/false parts in Java. It produces weird results :-(</p>\n"},{"comments":[{"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"score":0,"creation_date":1232569599,"post_id":466744,"comment_id":284906,"body_markdown":"Ternary is sugar anyway, and we know what sugar does to our teeth. Sugar is evil!","body":"Ternary is sugar anyway, and we know what sugar does to our teeth. Sugar is evil!"}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232568158,"creation_date":1232568158,"answer_id":466744,"question_id":463155,"body_markdown":"Others have answered it already but here&#39;s one thing you should really know about ternary&#39;s usage and by that I mean don&#39;t ever do it.\r\n\r\nLets assume that you have a piece of code which is supposed to return a different object for each possible variation of some value, lets say for simpliticy&#39;s sake an integer between 1 and 5. Your code looks like this:\r\n\r\n    if(i==1) {\r\n    \treturn new ObjectOne();\r\n    } else if(i==2) {\r\n    \treturn new ObjectTwo();\r\n    } else if(i==3) {\r\n    \treturn new ObjectThree();\r\n    } else if(i==4) {\r\n    \treturn new ObjectFour();\r\n    } else if(i==5) {\r\n    \treturn new ObjectFive();\r\n    } else {\r\n    \treturn new DefaultObject();\r\n    }\r\n\r\nIt&#39;s easy to understand but a bit heavy. Since *ternary is just another way of writing an if..else statement* that can be refactored to this\r\n\r\n    return (i==1) ? new ObjectOne() :\r\n           (i==2) ? new ObjectTwo() :\r\n           (i==3) ? new ObjectThree() :\r\n           (i==4) ? new ObjectFour() :\r\n           (i==5) ? new ObjectFive() : new DefaultObject();\r\n\r\nIt&#39;s called **nested ternary**. It&#39;s evil, now that you know about it please never use it. It may seem to have its uses like the case above but it&#39;s very likely that in real life situations you would need to use it somewhere where it loses readability (think altering configurations with variable amount of parameters and such).\r\n\r\nBonus sector: Never set attribute values inside if(), just look at this: `if(bool=true!=false) { .. }`","title":"How does the ternary operator work?","body":"<p>Others have answered it already but here's one thing you should really know about ternary's usage and by that I mean don't ever do it.</p>\n\n<p>Lets assume that you have a piece of code which is supposed to return a different object for each possible variation of some value, lets say for simpliticy's sake an integer between 1 and 5. Your code looks like this:</p>\n\n<pre><code>if(i==1) {\n    return new ObjectOne();\n} else if(i==2) {\n    return new ObjectTwo();\n} else if(i==3) {\n    return new ObjectThree();\n} else if(i==4) {\n    return new ObjectFour();\n} else if(i==5) {\n    return new ObjectFive();\n} else {\n    return new DefaultObject();\n}\n</code></pre>\n\n<p>It's easy to understand but a bit heavy. Since <em>ternary is just another way of writing an if..else statement</em> that can be refactored to this</p>\n\n<pre><code>return (i==1) ? new ObjectOne() :\n       (i==2) ? new ObjectTwo() :\n       (i==3) ? new ObjectThree() :\n       (i==4) ? new ObjectFour() :\n       (i==5) ? new ObjectFive() : new DefaultObject();\n</code></pre>\n\n<p>It's called <strong>nested ternary</strong>. It's evil, now that you know about it please never use it. It may seem to have its uses like the case above but it's very likely that in real life situations you would need to use it somewhere where it loses readability (think altering configurations with variable amount of parameters and such).</p>\n\n<p>Bonus sector: Never set attribute values inside if(), just look at this: <code>if(bool=true!=false) { .. }</code></p>\n"},{"tags":[],"owner":{"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1237217727,"creation_date":1237217727,"answer_id":650932,"question_id":463155,"body_markdown":"As quoted from MSDN (noted in a previous post)\r\n\r\nstring result = (value &gt; 100 ) ? &quot;value is big&quot; : &quot;value is small&quot;;\r\n\r\nCould be read as:\r\n\r\nIs value greater than 100? If yes, string result is &quot;value is big&quot;, if no, string result is &quot;value is small&quot;.\r\n","title":"How does the ternary operator work?","body":"<p>As quoted from MSDN (noted in a previous post)</p>\n\n<p>string result = (value > 100 ) ? \"value is big\" : \"value is small\";</p>\n\n<p>Could be read as:</p>\n\n<p>Is value greater than 100? If yes, string result is \"value is big\", if no, string result is \"value is small\".</p>\n"},{"comments":[{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1697552473,"post_id":77295673,"comment_id":136292501,"body_markdown":"Please read [answer]. In particular, please make sure to address the question being asked. This looks like a comment.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>. In particular, please make sure to address the question being asked. This looks like a comment."}],"tags":[],"owner":{"account_id":27510125,"reputation":1,"user_id":20992184,"display_name":"Terrecruis"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697355240,"creation_date":1697355240,"answer_id":77295673,"question_id":463155,"body_markdown":"the ternary operator comes from functional paradigm. To prove this makes a example in smlnj :\r\n\r\n`\r\nfun ternary(cond, trueVal, falseVal) =\r\n    if cond then trueVal else falseVal;\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How does the ternary operator work?","body":"<p>the ternary operator comes from functional paradigm. To prove this makes a example in smlnj :</p>\n<p><code>fun ternary(cond, trueVal, falseVal) = if cond then trueVal else falseVal;</code></p>\n"}],"owner":{"account_id":22921,"reputation":127,"user_id":57006,"display_name":"Sara S"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14318,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"accepted_answer_id":463161,"answer_count":13,"score":10,"last_activity_date":1697355240,"creation_date":1232486294,"question_id":463155,"body_markdown":"Please demonstrate how the ternary operator works with a regular if/else block. Example:\r\n\r\n    Boolean isValueBig = value &gt; 100 ? true : false;\r\n\r\n\r\n----------\r\n**Exact Duplicate:** [How do I use the ternary operator?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator","title":"How does the ternary operator work?","body":"<p>Please demonstrate how the ternary operator works with a regular if/else block. Example:</p>\n\n<pre><code>Boolean isValueBig = value &gt; 100 ? true : false;\n</code></pre>\n\n<hr>\n\n<p><strong>Exact Duplicate:</strong> <a href=\"https://stackoverflow.com/questions/392932/how-do-i-use-the-ternary-operator\">How do I use the ternary operator?</a></p>\n"},{"tags":["java","jpanel","display"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1697319179,"post_id":77294180,"comment_id":136265726,"body_markdown":"1) *I can&#39;t see the things I have drawn on the panel.* - because you didn&#39;t override the `getPreferredSize()` method of your panel. When you do custom painting you need to determine its preferred size so the layout manager can work properly. 2) Why are you creating the &quot;panel&quot; variable? You are doing your custom painting on a JPanel so just add that panel to the scroll pane. Read the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more information and working examples.","body":"1) <i>I can&#39;t see the things I have drawn on the panel.</i> - because you didn&#39;t override the <code>getPreferredSize()</code> method of your panel. When you do custom painting you need to determine its preferred size so the layout manager can work properly. 2) Why are you creating the &quot;panel&quot; variable? You are doing your custom painting on a JPanel so just add that panel to the scroll pane. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for more information and working examples."}],"answers":[{"comments":[{"owner":{"account_id":19349067,"reputation":95,"user_id":14146888,"display_name":"Tjum28"},"score":0,"creation_date":1697317295,"post_id":77294408,"comment_id":136265582,"body_markdown":"The problem where I got stuck hasn&#39;t changed. The window is still showing up, but I can&#39;t see the things I have drawn on the panel. Maybe the mistake is in &quot;Planzeichner.java&quot;. I don&#39;t know how the panels and the &quot;drawing class&quot; may interfere with each other. But I know that it worked fine with just a JFrame. There only the Window itself was too small and couldn&#39;t be pulled bigger, as mentioned.\n\nFor Planzeichner.java please take a look at the start post.","body":"The problem where I got stuck hasn&#39;t changed. The window is still showing up, but I can&#39;t see the things I have drawn on the panel. Maybe the mistake is in &quot;Planzeichner.java&quot;. I don&#39;t know how the panels and the &quot;drawing class&quot; may interfere with each other. But I know that it worked fine with just a JFrame. There only the Window itself was too small and couldn&#39;t be pulled bigger, as mentioned.  For Planzeichner.java please take a look at the start post."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697355025,"creation_date":1697315595,"answer_id":77294408,"question_id":77294180,"body_markdown":"Do not create a JFrame of that size. Instead tell your Planzeichner the size you prefer so the layout manager can do it&#39;s job.\r\n\r\nFinally just make up your mind whether you want to use that panel in a JFrame and use the JFrame&#39;s pack() method to size it accordingly, or whether you stuff it into a JScrollPane before adding it to the JFrame.\r\n\r\nIn code this might look like this:\r\n\r\nPlanzeichner.java:\r\n\r\n    public class Planzeichner extends JPanel{\r\n        ...\r\n        int secondsPerPixel = 30;\r\n\r\n        public void setZoom(int secondsPerPixel) {\r\n           this.secondsPerPixel = secondsPerPixel;\r\n        }\r\n\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(20 + (86400 / secondsPerPixel), 800);\r\n        }\r\n    }\r\n\r\nApplication code:\r\n\r\n    Planzeichner dp = new Planzeichner(Uml&#228;ufe); \r\n\r\n    JFrame f = new JFrame();\r\n    f.setLayout(new BorderLayout());\r\n\r\n    // use either one of these two lines            \r\n    f.add(dp);\r\n    f.add(new JScrollPane(dp));\r\n\r\n    f.pack();\r\n    f.setLocationRelativeTo(null);\r\n    f.setVisible(true);\r\n","title":"JFrame Window size","body":"<p>Do not create a JFrame of that size. Instead tell your Planzeichner the size you prefer so the layout manager can do it's job.</p>\n<p>Finally just make up your mind whether you want to use that panel in a JFrame and use the JFrame's pack() method to size it accordingly, or whether you stuff it into a JScrollPane before adding it to the JFrame.</p>\n<p>In code this might look like this:</p>\n<p>Planzeichner.java:</p>\n<pre><code>public class Planzeichner extends JPanel{\n    ...\n    int secondsPerPixel = 30;\n\n    public void setZoom(int secondsPerPixel) {\n       this.secondsPerPixel = secondsPerPixel;\n    }\n\n    public Dimension getPreferredSize() {\n        return new Dimension(20 + (86400 / secondsPerPixel), 800);\n    }\n}\n</code></pre>\n<p>Application code:</p>\n<pre><code>Planzeichner dp = new Planzeichner(Umläufe); \n\nJFrame f = new JFrame();\nf.setLayout(new BorderLayout());\n\n// use either one of these two lines            \nf.add(dp);\nf.add(new JScrollPane(dp));\n\nf.pack();\nf.setLocationRelativeTo(null);\nf.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":19349067,"reputation":95,"user_id":14146888,"display_name":"Tjum28"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77294408,"answer_count":1,"score":0,"last_activity_date":1697355025,"creation_date":1697311341,"question_id":77294180,"body_markdown":"I&#39;m trying to visualise a Plan for Busservices. For that I need to create a Graphic Panel that is at least 2900 Pixels wide (to show 24h, 1 Pixel = 30sec). First I tried it with a &quot;normal&quot; JFrame, but this didn&#39;t want to create a window wider as my Monitor even tho i set the size to 2900. Then I tried to go around the problem by using scroll bars, but there I&#39;m stuck now.\r\nI&#39;m not very experienced in java, I only had a beginners course that told me the basic stuff for little programs but nothing more.\r\nHope you can help me with this, thanks in advance!\r\n\r\n```java\t\t\r\n\t\t\t\tJFrame f = new JFrame();\r\n\t\t\tf.setSize(1000, 800);\r\n\t\t\t\t\r\n\t\t\tJPanel panel= new JPanel();\r\n\t\t\tpanel.setSize(2900,800);\r\n\t\t\t\r\n\t\t\tpanel.setPreferredSize(new Dimension(2900,800));\r\n\t\t\t\r\n\t\t\tPlanzeichner dp = new Planzeichner(Uml&#228;ufe); \r\n\t\t\tpanel.add(dp);\r\n\r\n\t\t\tJScrollPane scPa = new JScrollPane (panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\t\t\tf.getContentPane().add(scPa);\r\n\t\t\t\r\n\t\t\tf.setVisible(true);\r\n```\r\nPlanzeichner.java:\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Graphics2D;\r\nimport java.util.Vector;\r\n\r\npublic class Planzeichner extends JPanel{\r\n\t\r\n\t//Aus &quot;Main&quot; &#252;bertragene Variablen\t\r\n\tprivate Vector Uml&#228;ufe;\r\n\t\r\n\t//Konstruktor zum Annehmen der Werte\r\n\t\tpublic Planzeichner(Vector Uml&#228;ufe) {\r\n\t\t\tsuper();\r\n\t\t\tthis.Uml&#228;ufe = Uml&#228;ufe;\r\n\t\t\t}\r\n\t\t\r\n\t//Laufvariablen\r\n\tint k = 0;\r\n\tint i = 0;\r\n\tint j = 0;\r\n\t\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\r\n\t\t//Koordinatensystem\r\n\t\tg.setColor(Color.black);\r\n\t\tg.drawLine(10, 10, 2890, 10);\r\n\t\tg.setColor(Color.LIGHT_GRAY);\r\n\t\tfor(i=0; i&lt;24; i++) {;\r\n\t\tg.drawLine(10+i*120,10,10+i*120,900);\r\n\t\tString Stunde = String.valueOf(i+5);\r\n\t\tg.drawString(Stunde, 10+i*120, 9);\r\n\t\t}\r\n\t}\r\n}\r\n","title":"JFrame Window size","body":"<p>I'm trying to visualise a Plan for Busservices. For that I need to create a Graphic Panel that is at least 2900 Pixels wide (to show 24h, 1 Pixel = 30sec). First I tried it with a &quot;normal&quot; JFrame, but this didn't want to create a window wider as my Monitor even tho i set the size to 2900. Then I tried to go around the problem by using scroll bars, but there I'm stuck now.\nI'm not very experienced in java, I only had a beginners course that told me the basic stuff for little programs but nothing more.\nHope you can help me with this, thanks in advance!</p>\n<pre class=\"lang-java prettyprint-override\"><code>                JFrame f = new JFrame();\n            f.setSize(1000, 800);\n                \n            JPanel panel= new JPanel();\n            panel.setSize(2900,800);\n            \n            panel.setPreferredSize(new Dimension(2900,800));\n            \n            Planzeichner dp = new Planzeichner(Umläufe); \n            panel.add(dp);\n\n            JScrollPane scPa = new JScrollPane (panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);\n            f.getContentPane().add(scPa);\n            \n            f.setVisible(true);\n</code></pre>\n<p>Planzeichner.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport javax.swing.JPanel;\nimport java.awt.Graphics2D;\nimport java.util.Vector;\n\npublic class Planzeichner extends JPanel{\n    \n    //Aus &quot;Main&quot; übertragene Variablen  \n    private Vector Umläufe;\n    \n    //Konstruktor zum Annehmen der Werte\n        public Planzeichner(Vector Umläufe) {\n            super();\n            this.Umläufe = Umläufe;\n            }\n        \n    //Laufvariablen\n    int k = 0;\n    int i = 0;\n    int j = 0;\n    \n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        Graphics2D g2d = (Graphics2D) g;\n        \n        //Koordinatensystem\n        g.setColor(Color.black);\n        g.drawLine(10, 10, 2890, 10);\n        g.setColor(Color.LIGHT_GRAY);\n        for(i=0; i&lt;24; i++) {;\n        g.drawLine(10+i*120,10,10+i*120,900);\n        String Stunde = String.valueOf(i+5);\n        g.drawString(Stunde, 10+i*120, 9);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","spring-mvc-test","junit-jupiter"],"comments":[{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1603923528,"post_id":64580745,"comment_id":114193563,"body_markdown":"Looks like it might be a versioning issue between the junit Jupiter libs and mockito.","body":"Looks like it might be a versioning issue between the junit Jupiter libs and mockito."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1603930193,"post_id":64580745,"comment_id":114195233,"body_markdown":"Do you know which versions of each go together?","body":"Do you know which versions of each go together?"}],"answers":[{"comments":[{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1604962359,"post_id":64586118,"comment_id":114502701,"body_markdown":"Okay, thanks, this has helped a lot.  I should have specified that I am using Spring Boot.  The tests are mostly working.  I am running into difficulty when trying to post to a method that takes ModelAttributes as parameters.  MockMvc&#39;s perform() is throwing an illegal state exception because it can&#39;t find a &quot;primary or default constructor for long,","body":"Okay, thanks, this has helped a lot.  I should have specified that I am using Spring Boot.  The tests are mostly working.  I am running into difficulty when trying to post to a method that takes ModelAttributes as parameters.  MockMvc&#39;s perform() is throwing an illegal state exception because it can&#39;t find a &quot;primary or default constructor for long,"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1604988293,"post_id":64586118,"comment_id":114508055,"body_markdown":"please create a new question on Stack Overflow for this as this seems unrelated to your initial question.","body":"please create a new question on Stack Overflow for this as this seems unrelated to your initial question."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1605195477,"post_id":64586118,"comment_id":114581951,"body_markdown":"Okay.  That makes sense.","body":"Okay.  That makes sense."}],"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603953338,"creation_date":1603953338,"answer_id":64586118,"question_id":64580745,"body_markdown":"The use case you want to test is not what `@InjectMocks` in combination with `@Mock` is made for. You use this setup whenever you want to mock a **collaborator** of your class under test. \r\n\r\nLet&#39;s say your `AppController` would inject (e.g. via constructor) a `UserService` to fetch data. For this scenario, you could then use `@Mock` for the `UserService` and mock the behavior of this service throughout your whole unit test for your `AppController`. \r\n\r\nThe `Model` is **not** a collaborator of your `AppController`, but rather injected by Spring to your method. \r\n\r\nIn your test scenario, mocking the `Model` does not make much sense. Rather use `@WebMvcTest` to start a sliced Spring Context and then use `MockMvc` to access your endpoint. You can then use verification methods of `MockMvc` to check the `Model`, the view name, the response code.\r\n\r\nAn example of this might look like the following:\r\n\r\n\r\n    @WebMvcTest(DashboardController.class)\r\n    class DashboardControllerTest {\r\n     \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n     \r\n      @MockBean\r\n      private DashboardService dashboardService;\r\n     \r\n      @Test\r\n      public void shouldReturnViewWithPrefilledData() throws Exception {\r\n        when(dashboardService.getAnalyticsGraphData()).thenReturn(new Integer[]{13, 42});\r\n     \r\n        this.mockMvc\r\n          .perform(get(&quot;/dashboard&quot;))\r\n          .andExpect(status().isOk())\r\n          .andExpect(view().name(&quot;dashboard&quot;))\r\n          .andExpect(model().attribute(&quot;user&quot;, &quot;Duke&quot;))\r\n          .andExpect(model().attribute(&quot;analyticsGraph&quot;, Matchers.arrayContaining(13, 42)))\r\n          .andExpect(model().attributeExists(&quot;quickNote&quot;));\r\n      }\r\n    }\r\n\r\nYou can find more information in this [MockMvc guide][1].\r\n\r\nPS: `@RunWith(MockitoRunner.class)` is for JUnit 4, you can remove it if you use JUnit Jupiter.\r\n\r\n\r\n  [1]: https://rieckpil.de/guide-to-testing-spring-boot-applications-with-mockmvc/","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>The use case you want to test is not what <code>@InjectMocks</code> in combination with <code>@Mock</code> is made for. You use this setup whenever you want to mock a <strong>collaborator</strong> of your class under test.</p>\n<p>Let's say your <code>AppController</code> would inject (e.g. via constructor) a <code>UserService</code> to fetch data. For this scenario, you could then use <code>@Mock</code> for the <code>UserService</code> and mock the behavior of this service throughout your whole unit test for your <code>AppController</code>.</p>\n<p>The <code>Model</code> is <strong>not</strong> a collaborator of your <code>AppController</code>, but rather injected by Spring to your method.</p>\n<p>In your test scenario, mocking the <code>Model</code> does not make much sense. Rather use <code>@WebMvcTest</code> to start a sliced Spring Context and then use <code>MockMvc</code> to access your endpoint. You can then use verification methods of <code>MockMvc</code> to check the <code>Model</code>, the view name, the response code.</p>\n<p>An example of this might look like the following:</p>\n<pre><code>@WebMvcTest(DashboardController.class)\nclass DashboardControllerTest {\n \n  @Autowired\n  private MockMvc mockMvc;\n \n  @MockBean\n  private DashboardService dashboardService;\n \n  @Test\n  public void shouldReturnViewWithPrefilledData() throws Exception {\n    when(dashboardService.getAnalyticsGraphData()).thenReturn(new Integer[]{13, 42});\n \n    this.mockMvc\n      .perform(get(&quot;/dashboard&quot;))\n      .andExpect(status().isOk())\n      .andExpect(view().name(&quot;dashboard&quot;))\n      .andExpect(model().attribute(&quot;user&quot;, &quot;Duke&quot;))\n      .andExpect(model().attribute(&quot;analyticsGraph&quot;, Matchers.arrayContaining(13, 42)))\n      .andExpect(model().attributeExists(&quot;quickNote&quot;));\n  }\n}\n</code></pre>\n<p>You can find more information in this <a href=\"https://rieckpil.de/guide-to-testing-spring-boot-applications-with-mockmvc/\" rel=\"nofollow noreferrer\">MockMvc guide</a>.</p>\n<p>PS: <code>@RunWith(MockitoRunner.class)</code> is for JUnit 4, you can remove it if you use JUnit Jupiter.</p>\n"},{"tags":[],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604963320,"creation_date":1604963320,"answer_id":64760546,"question_id":64580745,"body_markdown":"Code referenced in my comment above:\r\n\r\n\r\n**AppControllerTest.java**\r\n```\r\n\r\n\t@Test\r\n\tvoid testAddItem_Attributes() {\r\n\t\tLong crust = Long.valueOf(0L);\r\n\t\tLong sauce = Long.valueOf(1L);\r\n\t\tLong size = Long.valueOf(2L);\r\n\t\tLong cheese = Long.valueOf(3L);\r\n\r\n\t\tPizzaToppingAssociationVo ptavBothSides = new PizzaToppingAssociationVo();\r\n\t\tPizzaToppingAssociationVo ptavLeftOnly = new PizzaToppingAssociationVo();\r\n\t\tPizzaToppingAssociationVo ptavRightOnly = new PizzaToppingAssociationVo();\r\n\r\n\t\tptavBothSides.setLeft(true);\r\n\t\tptavBothSides.setRight(true);\r\n\t\tptavBothSides.setToppingsId(5L);\r\n\r\n\t\tptavLeftOnly.setLeft(true);\r\n\t\tptavLeftOnly.setRight(false);\r\n\t\tptavLeftOnly.setToppingsId(6L);\r\n\r\n\t\tptavRightOnly.setLeft(false);\r\n\t\tptavRightOnly.setRight(true);\r\n\t\tptavRightOnly.setToppingsId(8L);\r\n\r\n\t\tPizzaToppingAssociationVo [] toppingsArray = {ptavBothSides, ptavLeftOnly, ptavRightOnly};\r\n\r\n\t\ttry {\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\tString jsonToppings = objectMapper.writeValueAsString(toppingsArray);\r\n\t\t\t\r\n            //this line throws the IllegalStateException with these parameters, but not if called with only &quot;/addItem&quot;\r\n\t\t\tResultActions ra = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/addItem&quot;, crust, sauce, size, cheese, jsonToppings));\r\n\t\t\tra.andExpect(MockMvcResultMatchers.status().is3xxRedirection());\r\n\t\t\tra.andExpect(MockMvcResultMatchers.redirectedUrl(&quot;/menu&quot;));\r\n\t\t\tra.andExpect(model().attribute(&quot;crust&quot;, crust));\r\n\r\n\t\t\tMap&lt;String, Object&gt; modelMap = ra.andReturn().getModelAndView().getModel();\r\n\t\t\tassertEquals(modelMap.size(), 1);\r\n\t\t\tassert(modelMap.containsKey(&quot;itemCount&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tfail();\r\n\t\t}\r\n\t}\r\n```","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>Code referenced in my comment above:</p>\n<p><strong>AppControllerTest.java</strong></p>\n<pre><code>\n    @Test\n    void testAddItem_Attributes() {\n        Long crust = Long.valueOf(0L);\n        Long sauce = Long.valueOf(1L);\n        Long size = Long.valueOf(2L);\n        Long cheese = Long.valueOf(3L);\n\n        PizzaToppingAssociationVo ptavBothSides = new PizzaToppingAssociationVo();\n        PizzaToppingAssociationVo ptavLeftOnly = new PizzaToppingAssociationVo();\n        PizzaToppingAssociationVo ptavRightOnly = new PizzaToppingAssociationVo();\n\n        ptavBothSides.setLeft(true);\n        ptavBothSides.setRight(true);\n        ptavBothSides.setToppingsId(5L);\n\n        ptavLeftOnly.setLeft(true);\n        ptavLeftOnly.setRight(false);\n        ptavLeftOnly.setToppingsId(6L);\n\n        ptavRightOnly.setLeft(false);\n        ptavRightOnly.setRight(true);\n        ptavRightOnly.setToppingsId(8L);\n\n        PizzaToppingAssociationVo [] toppingsArray = {ptavBothSides, ptavLeftOnly, ptavRightOnly};\n\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            String jsonToppings = objectMapper.writeValueAsString(toppingsArray);\n            \n            //this line throws the IllegalStateException with these parameters, but not if called with only &quot;/addItem&quot;\n            ResultActions ra = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/addItem&quot;, crust, sauce, size, cheese, jsonToppings));\n            ra.andExpect(MockMvcResultMatchers.status().is3xxRedirection());\n            ra.andExpect(MockMvcResultMatchers.redirectedUrl(&quot;/menu&quot;));\n            ra.andExpect(model().attribute(&quot;crust&quot;, crust));\n\n            Map&lt;String, Object&gt; modelMap = ra.andReturn().getModelAndView().getModel();\n            assertEquals(modelMap.size(), 1);\n            assert(modelMap.containsKey(&quot;itemCount&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n            fail();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249137,"reputation":392,"user_id":524975,"accept_rate":0,"display_name":"Tamer Awad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684316119,"creation_date":1684316119,"answer_id":76270625,"question_id":64580745,"body_markdown":"In most cases this a dependency issue.\r\n\r\nI faced same issue and my issue was the I was using the wrong version of the JDK. Mine was 19 while I should have used v 11.\r\n\r\nGive it a try. :)","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>In most cases this a dependency issue.</p>\n<p>I faced same issue and my issue was the I was using the wrong version of the JDK. Mine was 19 while I should have used v 11.</p>\n<p>Give it a try. :)</p>\n"}],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697353295,"creation_date":1603916630,"question_id":64580745,"body_markdown":"I&#39;m running into this issue when trying to mock an object of the interface `org.springframework.ui.Model`.  I&#39;m using Mockito `3.5.15` w/Java 8 and JUnit Jupiter.  I&#39;ve tried using both `@Mock` and `Mockito.mock()`, globally and inside a method, but get the error regardless.  Since `initMocks()` is deprecated, I am using `Mockito.openMocks()`.  I know that the contents of `testGetMenu()` aren&#39;t causing the error, because I get it even when the method body is empty.  The class being tested is a Spring MVC controller.\r\n\r\n**Stacktrace when mocking:**\r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\r\n\tat org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:41)\r\n\tat org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:30)\r\n\tat org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadImpl(PluginLoader.java:66)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:24)\r\n\tat org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:12)\r\n\tat org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:11)\r\n\tat org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:24)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsEmptyValues.&lt;init&gt;(ReturnsEmptyValues.java:58)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsMoreEmptyValues.&lt;init&gt;(ReturnsMoreEmptyValues.java:51)\r\n\tat org.mockito.internal.stubbing.defaultanswers.ReturnsSmartNulls.&lt;init&gt;(ReturnsSmartNulls.java:40)\r\n\tat org.mockito.Answers.&lt;clinit&gt;(Answers.java:43)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.lang.Class.getEnumConstantsShared(Class.java:3320)\r\n\tat java.lang.Class.enumConstantDirectory(Class.java:3341)\r\n\tat java.lang.Enum.valueOf(Enum.java:232)\r\n\tat sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:483)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:347)\r\n\tat java.lang.reflect.Method.getDefaultValue(Method.java:606)\r\n\tat sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:132)\r\n\tat sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\r\n\tat java.lang.reflect.Field.declaredAnnotations(Field.java:1150)\r\n\tat java.lang.reflect.Field.declaredAnnotations(Field.java:1148)\r\n\tat java.lang.reflect.Field.getAnnotation(Field.java:1120)\r\n\tat java.lang.reflect.AccessibleObject.getDeclaredAnnotation(AccessibleObject.java:219)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.isAnnotated(AnnotationUtils.java:93)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.lambda$findAnnotatedFields$6(AnnotationUtils.java:369)\r\n\tat java.util.function.Predicate.lambda$and$0(Predicate.java:69)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1137)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:371)\r\n\tat org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:348)\r\n\tat org.junit.jupiter.engine.descriptor.ExtensionUtils.registerExtensionsFromFields(ExtensionUtils.java:99)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:148)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:78)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.mockito.internal.configuration.plugins.Plugins.getStackTraceCleanerProvider(Plugins.java:17)\r\n\tat org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\r\n\t... 78 more\r\n```\r\n\r\n\r\n**AppControllerTest.java**\r\n```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.ui.Model;\r\n\r\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\r\nimport com.javaduckspizza.OnlineOrderingApplication.main.AppController;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\n@RunWith(MockitoJUnitRunner.class)\r\nclass AppControllerTest {\r\n\t@InjectMocks\r\n\tAppController appController = new AppController();\r\n\t@Mock\r\n\tModel model;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n//\t\tmodel = Mockito.mock(Model.class);\r\n\t\tMockitoAnnotations.openMocks(this); //using because initMocks() is deprecated\r\n\t}\r\n\r\n\t@AfterEach\r\n\tvoid tearDown() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetMenu() {\r\n\t\tString result = appController.getMenu(model);\r\n\t\tassertEquals(result, &quot;/menu.&quot;);\r\n\t\tverify(model, times(5)).addAttribute(Mockito.anyString(), Mockito.any());\r\n\t\tverify(model, times(1)).addAttribute(Mockito.anyString(), Mockito.anyInt());\r\n\t\tMockedStatic&lt;TypesCache&gt; mockedTypesCache = Mockito.mockStatic(TypesCache.class);\r\n\t\tmockedTypesCache.verify(Mockito.times(5), () -&gt; TypesCache.getActiveTypesByCategory(Mockito.anyString()));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**AppController.java**\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.util.Date;\r\nimport java.sql.Timestamp;\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.POST;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\r\nimport com.javaduckspizza.service.dao.ModifierServiceDao;\r\nimport com.javaduckspizza.service.dao.OrderServiceDao;\r\nimport com.javaduckspizza.vo.ModifierVo;\r\nimport com.javaduckspizza.vo.OrdersVo;\r\nimport com.javaduckspizza.vo.PizzaToppingAssociationVo;\r\nimport com.javaduckspizza.vo.PizzaVo;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class AppController {\r\n\tprotected Map&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt; mapShoppingCart =\r\n\t\t\tnew HashMap&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt;();\r\n\r\n\t@GET\r\n\t@RequestMapping(&quot;/menu&quot;)\r\n\tpublic String getMenu(Model model) {\r\n\t\tSystem.err.println(&quot;In AppController.getMenu()&quot;);\r\n\t\taddAttributesForMenu(model);\r\n\t\tmodel.addAttribute(&quot;itemCount&quot;, mapShoppingCart.size());\r\n\r\n\t\treturn &quot;/menu.&quot;;  //I probably messed up something in the configuration.  If written without / and ., it tries to get WEB-INF/jspmenujsp\r\n\t}\r\n\r\n\tpublic void addAttributesForMenu(Model model) {\r\n\t\tmodel.addAttribute(&quot;sizes&quot;, TypesCache.getActiveTypesByCategory(&quot;SIZE&quot;));\r\n\t\tmodel.addAttribute(&quot;crusts&quot;, TypesCache.getActiveTypesByCategory(&quot;CRST&quot;));\r\n\t\tmodel.addAttribute(&quot;cheeses&quot;, TypesCache.getActiveTypesByCategory(&quot;CHES&quot;));\r\n\t\tmodel.addAttribute(&quot;sauces&quot;, TypesCache.getActiveTypesByCategory(&quot;SAUC&quot;));\r\n\t\tmodel.addAttribute(&quot;toppings&quot;, TypesCache.getActiveTypesByCategory(&quot;TOPP&quot;));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.javaduckspizza&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;OnlineOrderingApplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;OnlineOrderingApplication&lt;/name&gt;\r\n\t&lt;description&gt;Online ordering application for Java Ducks Pizza&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.13&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Stacktrace if I don&#39;t mock**\r\n\r\n```\r\njava.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\r\n\tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$1(TestMethodTestDescriptor.java:154)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:190)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:190)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:153)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tSuppressed: java.lang.NullPointerException\r\n\t\tat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:248)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:268)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:268)\r\n\t\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:267)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:247)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:143)\r\n\t\t... 43 more\r\n```","title":"java.lang.ExceptionInInitializerError when trying to mock","body":"<p>I'm running into this issue when trying to mock an object of the interface <code>org.springframework.ui.Model</code>.  I'm using Mockito <code>3.5.15</code> w/Java 8 and JUnit Jupiter.  I've tried using both <code>@Mock</code> and <code>Mockito.mock()</code>, globally and inside a method, but get the error regardless.  Since <code>initMocks()</code> is deprecated, I am using <code>Mockito.openMocks()</code>.  I know that the contents of <code>testGetMenu()</code> aren't causing the error, because I get it even when the method body is empty.  The class being tested is a Spring MVC controller.</p>\n<p><strong>Stacktrace when mocking:</strong></p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.internal.exceptions.stacktrace.ConditionalStackTraceFilter.&lt;init&gt;(ConditionalStackTraceFilter.java:17)\n    at org.mockito.exceptions.base.MockitoException.filterStackTrace(MockitoException.java:41)\n    at org.mockito.exceptions.base.MockitoException.&lt;init&gt;(MockitoException.java:30)\n    at org.mockito.exceptions.misusing.MockitoConfigurationException.&lt;init&gt;(MockitoConfigurationException.java:18)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadImpl(PluginLoader.java:66)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:24)\n    at org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:12)\n    at org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:11)\n    at org.mockito.internal.util.MockUtil.&lt;clinit&gt;(MockUtil.java:24)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsEmptyValues.&lt;init&gt;(ReturnsEmptyValues.java:58)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsMoreEmptyValues.&lt;init&gt;(ReturnsMoreEmptyValues.java:51)\n    at org.mockito.internal.stubbing.defaultanswers.ReturnsSmartNulls.&lt;init&gt;(ReturnsSmartNulls.java:40)\n    at org.mockito.Answers.&lt;clinit&gt;(Answers.java:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.lang.Class.getEnumConstantsShared(Class.java:3320)\n    at java.lang.Class.enumConstantDirectory(Class.java:3341)\n    at java.lang.Enum.valueOf(Enum.java:232)\n    at sun.reflect.annotation.AnnotationParser.parseEnumValue(AnnotationParser.java:483)\n    at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:347)\n    at java.lang.reflect.Method.getDefaultValue(Method.java:606)\n    at sun.reflect.annotation.AnnotationType.&lt;init&gt;(AnnotationType.java:132)\n    at sun.reflect.annotation.AnnotationType.getInstance(AnnotationType.java:85)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:266)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72)\n    at java.lang.reflect.Field.declaredAnnotations(Field.java:1150)\n    at java.lang.reflect.Field.declaredAnnotations(Field.java:1148)\n    at java.lang.reflect.Field.getAnnotation(Field.java:1120)\n    at java.lang.reflect.AccessibleObject.getDeclaredAnnotation(AccessibleObject.java:219)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:128)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotation(AnnotationUtils.java:115)\n    at org.junit.platform.commons.util.AnnotationUtils.isAnnotated(AnnotationUtils.java:93)\n    at org.junit.platform.commons.util.AnnotationUtils.lambda$findAnnotatedFields$6(AnnotationUtils.java:369)\n    at java.util.function.Predicate.lambda$and$0(Predicate.java:69)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.junit.platform.commons.util.ReflectionUtils.findFields(ReflectionUtils.java:1137)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:371)\n    at org.junit.platform.commons.util.AnnotationUtils.findAnnotatedFields(AnnotationUtils.java:348)\n    at org.junit.jupiter.engine.descriptor.ExtensionUtils.registerExtensionsFromFields(ExtensionUtils.java:99)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:148)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:78)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.NullPointerException\n    at org.mockito.internal.configuration.plugins.Plugins.getStackTraceCleanerProvider(Plugins.java:17)\n    at org.mockito.internal.exceptions.stacktrace.StackTraceFilter.&lt;clinit&gt;(StackTraceFilter.java:21)\n    ... 78 more\n</code></pre>\n<p><strong>AppControllerTest.java</strong></p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.ui.Model;\n\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\nimport com.javaduckspizza.OnlineOrderingApplication.main.AppController;\n\n@ExtendWith(MockitoExtension.class)\n@RunWith(MockitoJUnitRunner.class)\nclass AppControllerTest {\n    @InjectMocks\n    AppController appController = new AppController();\n    @Mock\n    Model model;\n\n    @BeforeEach\n    void setUp() throws Exception {\n//      model = Mockito.mock(Model.class);\n        MockitoAnnotations.openMocks(this); //using because initMocks() is deprecated\n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n    }\n\n    @Test\n    void testGetMenu() {\n        String result = appController.getMenu(model);\n        assertEquals(result, &quot;/menu.&quot;);\n        verify(model, times(5)).addAttribute(Mockito.anyString(), Mockito.any());\n        verify(model, times(1)).addAttribute(Mockito.anyString(), Mockito.anyInt());\n        MockedStatic&lt;TypesCache&gt; mockedTypesCache = Mockito.mockStatic(TypesCache.class);\n        mockedTypesCache.verify(Mockito.times(5), () -&gt; TypesCache.getActiveTypesByCategory(Mockito.anyString()));\n    }\n}\n</code></pre>\n<p><strong>AppController.java</strong></p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Date;\nimport java.sql.Timestamp;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.javaduckspizza.OnlineOrderingApplication.common.TypesCache;\nimport com.javaduckspizza.service.dao.ModifierServiceDao;\nimport com.javaduckspizza.service.dao.OrderServiceDao;\nimport com.javaduckspizza.vo.ModifierVo;\nimport com.javaduckspizza.vo.OrdersVo;\nimport com.javaduckspizza.vo.PizzaToppingAssociationVo;\nimport com.javaduckspizza.vo.PizzaVo;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class AppController {\n    protected Map&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt; mapShoppingCart =\n            new HashMap&lt;PizzaVo, List&lt;PizzaToppingAssociationVo&gt;&gt;();\n\n    @GET\n    @RequestMapping(&quot;/menu&quot;)\n    public String getMenu(Model model) {\n        System.err.println(&quot;In AppController.getMenu()&quot;);\n        addAttributesForMenu(model);\n        model.addAttribute(&quot;itemCount&quot;, mapShoppingCart.size());\n\n        return &quot;/menu.&quot;;  //I probably messed up something in the configuration.  If written without / and ., it tries to get WEB-INF/jspmenujsp\n    }\n\n    public void addAttributesForMenu(Model model) {\n        model.addAttribute(&quot;sizes&quot;, TypesCache.getActiveTypesByCategory(&quot;SIZE&quot;));\n        model.addAttribute(&quot;crusts&quot;, TypesCache.getActiveTypesByCategory(&quot;CRST&quot;));\n        model.addAttribute(&quot;cheeses&quot;, TypesCache.getActiveTypesByCategory(&quot;CHES&quot;));\n        model.addAttribute(&quot;sauces&quot;, TypesCache.getActiveTypesByCategory(&quot;SAUC&quot;));\n        model.addAttribute(&quot;toppings&quot;, TypesCache.getActiveTypesByCategory(&quot;TOPP&quot;));\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.javaduckspizza&lt;/groupId&gt;\n    &lt;artifactId&gt;OnlineOrderingApplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;OnlineOrderingApplication&lt;/name&gt;\n    &lt;description&gt;Online ordering application for Java Ducks Pizza&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Stacktrace if I don't mock</strong></p>\n<pre><code>java.lang.NoSuchMethodError: org.mockito.Mockito.mockitoSession()Lorg/mockito/session/MockitoSessionBuilder;\n    at org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:149)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$1(TestMethodTestDescriptor.java:154)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:190)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:190)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:153)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n    Suppressed: java.lang.NullPointerException\n        at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:184)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$11(TestMethodTestDescriptor.java:248)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:268)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:268)\n        at java.util.ArrayList.forEach(ArrayList.java:1257)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:267)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:247)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:143)\n        ... 43 more\n</code></pre>\n"},{"tags":["java","android","codenameone","nfc"],"comments":[{"owner":{"account_id":22861875,"reputation":65,"user_id":17005813,"display_name":"Chief O"},"score":0,"creation_date":1697500066,"post_id":77295409,"comment_id":136285075,"body_markdown":"Yes. Thank you very much. I discarded everything and wrote a new one using  &#39;enableReaderMode&#39; with a callback instead of enableForegroundDispatch with intents.","body":"Yes. Thank you very much. I discarded everything and wrote a new one using  &#39;enableReaderMode&#39; with a callback instead of enableForegroundDispatch with intents."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1697500323,"post_id":77295409,"comment_id":136285088,"body_markdown":"Yes `enableReaderMode` is much better to use and does not have the problem of `PendingIntent.FLAG_IMMUTABLE`","body":"Yes <code>enableReaderMode</code> is much better to use and does not have the problem of <code>PendingIntent.FLAG_IMMUTABLE</code>"}],"owner":{"account_id":22861875,"reputation":65,"user_id":17005813,"display_name":"Chief O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697500115,"answer_count":0,"score":1,"last_activity_date":1697353177,"creation_date":1697347678,"question_id":77295409,"body_markdown":"I wanted to write to an NFC tag using a call to the native interface\r\nHere is my Native impl file for android\r\nThe entrypoint function is `bindNFCwriter()`.\r\n```\r\n\r\n\r\npublic class NewInterfaceImpl {\r\n\r\npublic String message=&quot;&quot;;\r\n\r\n \r\n\r\n  public String Target = &quot;Text to Write&quot;;\r\n  private NfcAdapter     NFC_Adapter;\r\n  private PendingIntent  NFC_PendingIntent;\r\n  \r\n  private boolean        writeMode = false;\r\n\r\n\r\nLifecycleListener listener = new LifecycleListener() {\r\n    public void onCreate(Bundle savedInstanceState) {\r\nmessage = &quot;onCreate Served&quot;;\r\n\r\n}\r\n    public void onPause() {\r\nmessage = &quot;onPause&quot;;\r\n  NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\r\n}\r\n    public void onDestroy() {\r\nmessage = &quot;onDestroy&quot;;\r\n}\r\n    public void onSaveInstanceState(Bundle b) { message = &quot;onSaveInstanceState&quot;;   }\r\n    public void onLowMemory() {message = &quot;onLowMemory&quot;; }\r\n\r\n    public void onResume() \r\n{ \r\n\r\n  Activity myActivity = AndroidNativeUtil.getActivity(); \r\ntry{\r\n    Intent intent = myActivity.getIntent(); \r\n\r\n  if (writeMode)\r\n    { \r\nif (intent.getAction() != null){ \r\n     if (intent.getAction().equals(NfcAdapter.ACTION_TAG_DISCOVERED))\r\n      {\r\n        Tag detectedTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\nif(detectedTag == null){ \r\nmessage = &quot;Tag is null&quot;; \r\nreturn;}\r\n     \r\n  if(writeTag(buildNdefMessage(), detectedTag)){\r\nmessage = &quot;Success!&quot;;}else{\r\nmessage = &quot;Error: &quot;+errorMsg;} ;\r\n\r\n   \r\n      }\r\n}\r\n    }\r\n}catch(Exception xxx){message = &quot;Exception: &quot;+xxx.getMessage(); }\r\n \r\n\r\n    }\r\n};\r\n\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n   \r\n\r\n    public void bindNFCwriter() {\r\n\r\nAndroidNativeUtil.addLifecycleListener(listener);\r\n\r\n        if(AndroidNativeUtil.checkForPermission(Manifest.permission.NFC, &quot;...&quot;)) { \r\n NFC_Adapter = NfcAdapter.getDefaultAdapter(AndroidNativeUtil.getActivity().getApplicationContext());\r\n  \r\n\r\n    if (NFC_Adapter == null)\r\n    {\r\nmessage =  &quot;Adapter is Null&quot;;\r\n    \r\n      return;\r\n    }\r\n\r\ntry{\r\nfinal Intent intent = new Intent(AndroidNativeUtil.getActivity().getApplicationContext(),AndroidNativeUtil.getActivity().getClass());\r\nintent.addCategory(Intent.CATEGORY_DEFAULT);\r\nintent.setAction (&quot;android.nfc.action.TAG_DISCOVERED&quot;);\r\n\r\n    NFC_PendingIntent = PendingIntent.getActivity(AndroidNativeUtil.getActivity().getApplicationContext(), 0, intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\r\n}catch(Exception xxc){message =  &quot;Error: &quot;+xxc.getMessage(); return;}\r\n\r\nenableTagWriteMode();\r\n\r\n        }else{ message =  &quot;no permission&quot;;}\r\n    }\r\n\r\n\r\n    public void unbindNFCwriter() {\r\n  \r\n    }\r\n\r\n    public boolean isSupported() {\r\n        return true;\r\n    }\r\n\r\n\r\nprivate void enableTagWriteMode()\r\n  {\r\n    writeMode = true;\r\n    NFC_Adapter.enableForegroundDispatch(AndroidNativeUtil.getActivity(), NFC_PendingIntent, null, null);\r\n\r\n  \r\n  }\r\n\r\nprivate void disableTagWriteMode()\r\n  {\r\n    writeMode = false;\r\n   NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\r\n\r\n  }\r\n\r\nboolean writeTag(NdefMessage message, Tag tag)\r\n  {\r\n    int size = message.toByteArray().length;\r\n\r\n    try\r\n    {\r\n      Ndef ndef = Ndef.get(tag);\r\n      if (ndef != null)\r\n      {\r\n        ndef.connect();\r\n\r\n        if (!ndef.isWritable())\r\n        {\r\n  \r\nerrorMsg = &quot;Cannot write to this tag. This tag is read-only.&quot;;\r\n          return false;\r\n        }\r\n\r\n        if (ndef.getMaxSize() &lt; size)\r\n        {\r\n       errorMsg = &quot;Greater than MaxSize.&quot;;\r\n          return false;\r\n        }\r\n\r\n        ndef.writeNdefMessage(message);\r\n       \r\n        return true;\r\n      }\r\n\r\n     \r\n      return false;\r\n\r\n    }\r\n    catch (Exception e)\r\n    {\r\nerrorMsg = &quot;Cannot write to this tag due to an Exception: &quot;+e.getMessage();\r\n    \r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\nString errorMsg=&quot;&quot;;\r\nprivate NdefMessage buildNdefMessage()\r\n  {\r\n    String data = Target;\r\n\r\n    String mimeType = &quot;text/plain&quot;;\r\n\r\n    byte[] mimeBytes = mimeType.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    byte[] dataBytes = data.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    byte[] id = new byte[0];\r\n\r\n    NdefRecord record = new NdefRecord(NdefRecord.TNF_MIME_MEDIA, mimeBytes, id, dataBytes);\r\n    NdefMessage message = new NdefMessage(new NdefRecord[]{record});\r\n\r\n    return message;\r\n  }\r\n\r\n\r\n private void checkNfcEnabled()\r\n  {\r\n    Boolean nfcEnabled = NFC_Adapter.isEnabled();\r\n    if (!nfcEnabled)\r\n    {\r\n    \r\n    }\r\n  }\r\n\r\n}\r\n```\r\nIt rightly triggers if I bring my Tag close to my phone, but stops at `Tag = null`, on the onResume method. Why is `Tag = null`. With that it does not write to the tag. Please help and point me in the right direction.\r\n\r\n","title":"Codenameone NFC TAG Writer Native Interface call Tag is null Error","body":"<p>I wanted to write to an NFC tag using a call to the native interface\nHere is my Native impl file for android\nThe entrypoint function is <code>bindNFCwriter()</code>.</p>\n<pre><code>\n\npublic class NewInterfaceImpl {\n\npublic String message=&quot;&quot;;\n\n \n\n  public String Target = &quot;Text to Write&quot;;\n  private NfcAdapter     NFC_Adapter;\n  private PendingIntent  NFC_PendingIntent;\n  \n  private boolean        writeMode = false;\n\n\nLifecycleListener listener = new LifecycleListener() {\n    public void onCreate(Bundle savedInstanceState) {\nmessage = &quot;onCreate Served&quot;;\n\n}\n    public void onPause() {\nmessage = &quot;onPause&quot;;\n  NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\n}\n    public void onDestroy() {\nmessage = &quot;onDestroy&quot;;\n}\n    public void onSaveInstanceState(Bundle b) { message = &quot;onSaveInstanceState&quot;;   }\n    public void onLowMemory() {message = &quot;onLowMemory&quot;; }\n\n    public void onResume() \n{ \n\n  Activity myActivity = AndroidNativeUtil.getActivity(); \ntry{\n    Intent intent = myActivity.getIntent(); \n\n  if (writeMode)\n    { \nif (intent.getAction() != null){ \n     if (intent.getAction().equals(NfcAdapter.ACTION_TAG_DISCOVERED))\n      {\n        Tag detectedTag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\nif(detectedTag == null){ \nmessage = &quot;Tag is null&quot;; \nreturn;}\n     \n  if(writeTag(buildNdefMessage(), detectedTag)){\nmessage = &quot;Success!&quot;;}else{\nmessage = &quot;Error: &quot;+errorMsg;} ;\n\n   \n      }\n}\n    }\n}catch(Exception xxx){message = &quot;Exception: &quot;+xxx.getMessage(); }\n \n\n    }\n};\n\n\n    public String getMessage() {\n        return message;\n    }\n\n   \n\n    public void bindNFCwriter() {\n\nAndroidNativeUtil.addLifecycleListener(listener);\n\n        if(AndroidNativeUtil.checkForPermission(Manifest.permission.NFC, &quot;...&quot;)) { \n NFC_Adapter = NfcAdapter.getDefaultAdapter(AndroidNativeUtil.getActivity().getApplicationContext());\n  \n\n    if (NFC_Adapter == null)\n    {\nmessage =  &quot;Adapter is Null&quot;;\n    \n      return;\n    }\n\ntry{\nfinal Intent intent = new Intent(AndroidNativeUtil.getActivity().getApplicationContext(),AndroidNativeUtil.getActivity().getClass());\nintent.addCategory(Intent.CATEGORY_DEFAULT);\nintent.setAction (&quot;android.nfc.action.TAG_DISCOVERED&quot;);\n\n    NFC_PendingIntent = PendingIntent.getActivity(AndroidNativeUtil.getActivity().getApplicationContext(), 0, intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\n}catch(Exception xxc){message =  &quot;Error: &quot;+xxc.getMessage(); return;}\n\nenableTagWriteMode();\n\n        }else{ message =  &quot;no permission&quot;;}\n    }\n\n\n    public void unbindNFCwriter() {\n  \n    }\n\n    public boolean isSupported() {\n        return true;\n    }\n\n\nprivate void enableTagWriteMode()\n  {\n    writeMode = true;\n    NFC_Adapter.enableForegroundDispatch(AndroidNativeUtil.getActivity(), NFC_PendingIntent, null, null);\n\n  \n  }\n\nprivate void disableTagWriteMode()\n  {\n    writeMode = false;\n   NFC_Adapter.disableForegroundDispatch(AndroidNativeUtil.getActivity());\n\n  }\n\nboolean writeTag(NdefMessage message, Tag tag)\n  {\n    int size = message.toByteArray().length;\n\n    try\n    {\n      Ndef ndef = Ndef.get(tag);\n      if (ndef != null)\n      {\n        ndef.connect();\n\n        if (!ndef.isWritable())\n        {\n  \nerrorMsg = &quot;Cannot write to this tag. This tag is read-only.&quot;;\n          return false;\n        }\n\n        if (ndef.getMaxSize() &lt; size)\n        {\n       errorMsg = &quot;Greater than MaxSize.&quot;;\n          return false;\n        }\n\n        ndef.writeNdefMessage(message);\n       \n        return true;\n      }\n\n     \n      return false;\n\n    }\n    catch (Exception e)\n    {\nerrorMsg = &quot;Cannot write to this tag due to an Exception: &quot;+e.getMessage();\n    \n    }\n\n    return false;\n  }\n\nString errorMsg=&quot;&quot;;\nprivate NdefMessage buildNdefMessage()\n  {\n    String data = Target;\n\n    String mimeType = &quot;text/plain&quot;;\n\n    byte[] mimeBytes = mimeType.getBytes(Charset.forName(&quot;UTF-8&quot;));\n    byte[] dataBytes = data.getBytes(Charset.forName(&quot;UTF-8&quot;));\n    byte[] id = new byte[0];\n\n    NdefRecord record = new NdefRecord(NdefRecord.TNF_MIME_MEDIA, mimeBytes, id, dataBytes);\n    NdefMessage message = new NdefMessage(new NdefRecord[]{record});\n\n    return message;\n  }\n\n\n private void checkNfcEnabled()\n  {\n    Boolean nfcEnabled = NFC_Adapter.isEnabled();\n    if (!nfcEnabled)\n    {\n    \n    }\n  }\n\n}\n</code></pre>\n<p>It rightly triggers if I bring my Tag close to my phone, but stops at <code>Tag = null</code>, on the onResume method. Why is <code>Tag = null</code>. With that it does not write to the tag. Please help and point me in the right direction.</p>\n"},{"tags":["java","mysql","intellij-idea","jconnect"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1514423423,"post_id":48000401,"comment_id":82969393,"body_markdown":"What is shown if you click on view?","body":"What is shown if you click on view?"},{"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"score":0,"creation_date":1514423570,"post_id":48000401,"comment_id":82969427,"body_markdown":"@RomanC connection error. It is on second screen.","body":"@RomanC connection error. It is on second screen."},{"owner":{"account_id":4014683,"reputation":646,"user_id":4590215,"display_name":"Tim Strawbridge"},"score":1,"creation_date":1514423669,"post_id":48000401,"comment_id":82969451,"body_markdown":"I ran into that once or twice and I didn&#39;t have the correct JAVA_HOME set after updating. Since your on Windows, have you tried restarting? Also, if you are programming for Android, do you have the correct Android SDK installed?","body":"I ran into that once or twice and I didn&#39;t have the correct JAVA_HOME set after updating. Since your on Windows, have you tried restarting? Also, if you are programming for Android, do you have the correct Android SDK installed?"},{"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"score":0,"creation_date":1514450347,"post_id":48000401,"comment_id":82976474,"body_markdown":"@TBridges no, JDK was reinstalled and JAVA_HOME checked.","body":"@TBridges no, JDK was reinstalled and JAVA_HOME checked."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514424366,"creation_date":1514423850,"answer_id":48000490,"question_id":48000401,"body_markdown":"If you configured data sources from IJ folder then a new version of IJ might contain newer versions of libraries and you should recreate you DS after upgrade.\n\nTo make a connection to databases from IJ you need to configure data sources first. A datasource contains a path to the library with drivers needed to make a connection to the server. \n\nYou can read [how to connect to databases in IJ][1].\n\n&gt;To be able to work with your database, define it as a data source.\n&gt;\n&gt;In the lower part of the dialog, within Download missing driver files, click the Download link.\n&gt;\n&gt;![](https://www.jetbrains.com/help/img/idea/2017.3/DBDownloadMissingDriverFiles.png)\n\n\n  [1]: https://www.jetbrains.com/help/idea/connecting-to-a-database.html","title":"Can&#39;t connect to MySQL in IntelliJ IDEA","body":"<p>If you configured data sources from IJ folder then a new version of IJ might contain newer versions of libraries and you should recreate you DS after upgrade.</p>\n<p>To make a connection to databases from IJ you need to configure data sources first. A datasource contains a path to the library with drivers needed to make a connection to the server.</p>\n<p>You can read <a href=\"https://www.jetbrains.com/help/idea/connecting-to-a-database.html\" rel=\"nofollow noreferrer\">how to connect to databases in IJ</a>.</p>\n<blockquote>\n<p>To be able to work with your database, define it as a data source.</p>\n<p>In the lower part of the dialog, within Download missing driver files, click the Download link.</p>\n<p><img src=\"https://www.jetbrains.com/help/img/idea/2017.3/DBDownloadMissingDriverFiles.png\" alt=\"\" /></p>\n</blockquote>\n"}],"owner":{"account_id":10092343,"reputation":424,"user_id":7458914,"accept_rate":86,"display_name":"excelsiorious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697350727,"creation_date":1514422977,"question_id":48000401,"body_markdown":"I have this problem:\r\n\r\n![image1][1]\r\n\r\n![image2][2]\r\n\r\nThis issue (cannot find specified file) appeared when I updated IntelliJ IDEA to version 2017.3.2. \r\n\r\n    IntelliJ IDEA 2017.3.2 (Ultimate Edition)\r\n    Build #IU-173.4127.27, built on December 25, 2017\r\n    JRE: 1.8.0_152-release-1024-b8 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\nAll input data is correct. What is the reason?\r\n\r\n  [1]: https://i.stack.imgur.com/2VqrQ.png\r\n  [2]: https://i.stack.imgur.com/sOSZY.png","title":"Can&#39;t connect to MySQL in IntelliJ IDEA","body":"<p>I have this problem:</p>\n<p><img src=\"https://i.stack.imgur.com/2VqrQ.png\" alt=\"image1\" /></p>\n<p><img src=\"https://i.stack.imgur.com/sOSZY.png\" alt=\"image2\" /></p>\n<p>This issue (cannot find specified file) appeared when I updated IntelliJ IDEA to version 2017.3.2.</p>\n<pre><code>IntelliJ IDEA 2017.3.2 (Ultimate Edition)\nBuild #IU-173.4127.27, built on December 25, 2017\nJRE: 1.8.0_152-release-1024-b8 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n<p>All input data is correct. What is the reason?</p>\n"},{"tags":["java","class","program-entry-point","rational-number"],"comments":[{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415668206,"post_id":26855854,"comment_id":42273877,"body_markdown":"Good thing you actually tried something. \nWhat is the error that is returned?","body":"Good thing you actually tried something.  What is the error that is returned?"},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415668418,"post_id":26855854,"comment_id":42273934,"body_markdown":"The error in the class says &quot;Temp might not have been initialized&quot;","body":"The error in the class says &quot;Temp might not have been initialized&quot;"},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415668497,"post_id":26855854,"comment_id":42273951,"body_markdown":"See my answer, try instantiating C too. If that doesn&#39;t work I am actually studying your code.","body":"See my answer, try instantiating C too. If that doesn&#39;t work I am actually studying your code."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1415668511,"post_id":26855854,"comment_id":42273954,"body_markdown":"You need `Rational temp = new Rational();`","body":"You need <code>Rational temp = new Rational();</code>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1415668709,"post_id":26855854,"comment_id":42274001,"body_markdown":"as @ajb mentioned, you need to add `new Rational()` in various places, including add method, subtract method","body":"as @ajb mentioned, you need to add <code>new Rational()</code> in various places, including add method, subtract method"}],"answers":[{"comments":[{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415668737,"post_id":26855895,"comment_id":42274009,"body_markdown":"I did what you said and that helped so far. The class is done as far as I can tell unless if I forgot something please let me know.  I also needed help finishing the main though.","body":"I did what you said and that helped so far. The class is done as far as I can tell unless if I forgot something please let me know.  I also needed help finishing the main though."},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415668789,"post_id":26855895,"comment_id":42274026,"body_markdown":"Is this a class exercise?","body":"Is this a class exercise?"},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415668976,"post_id":26855895,"comment_id":42274057,"body_markdown":"It is for a class, yes.","body":"It is for a class, yes."},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415669155,"post_id":26855895,"comment_id":42274088,"body_markdown":"Listen to me, I REALLY wanna help you, but if I do is like doing something bad TO YOU. No seriously, I mean this. I will edit my answer so you can read it and understand how to do stuff. ;) Then YOU are the one who will make this happen. Deal?","body":"Listen to me, I REALLY wanna help you, but if I do is like doing something bad TO YOU. No seriously, I mean this. I will edit my answer so you can read it and understand how to do stuff. ;) Then YOU are the one who will make this happen. Deal?"},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415671341,"post_id":26855895,"comment_id":42274587,"body_markdown":"Okay, I read the comments in the code when you said change the method with static, eclipse prompts me to change the private variables to &quot;private static int...&quot; is that correct?","body":"Okay, I read the comments in the code when you said change the method with static, eclipse prompts me to change the private variables to &quot;private static int...&quot; is that correct?"},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415671585,"post_id":26855895,"comment_id":42274645,"body_markdown":"Oh of course... well Eclipse is correct indeed. Yes do that. Note that this method works even if you wont instantiate an object. It is static. So must be the variables.","body":"Oh of course... well Eclipse is correct indeed. Yes do that. Note that this method works even if you wont instantiate an object. It is static. So must be the variables."},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415673594,"post_id":26855895,"comment_id":42275113,"body_markdown":"Ok, great and uh.. the public boolean methods all return ints I&#39;m assuming?","body":"Ok, great and uh.. the public boolean methods all return ints I&#39;m assuming?"},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415673806,"post_id":26855895,"comment_id":42275160,"body_markdown":"No. It returns true or false. (1 or 0 but not integer. Boolean)\nYou don&#39;t do math operations with boolean, you do logical operations.\nThus 1 is TRUE and 0 is FALSE. Boolean 1 is not the same as 1 in integer. Same for boolean zero.","body":"No. It returns true or false. (1 or 0 but not integer. Boolean) You don&#39;t do math operations with boolean, you do logical operations. Thus 1 is TRUE and 0 is FALSE. Boolean 1 is not the same as 1 in integer. Same for boolean zero."},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415675201,"post_id":26855895,"comment_id":42275503,"body_markdown":"Okay, I understood that I just that that method would return an int. I get how booleans return true or false.","body":"Okay, I understood that I just that that method would return an int. I get how booleans return true or false."},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415675255,"post_id":26855895,"comment_id":42275515,"body_markdown":"What method do you refer to?","body":"What method do you refer to?"},{"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"score":0,"creation_date":1415675358,"post_id":26855895,"comment_id":42275541,"body_markdown":"The equals and not equals method","body":"The equals and not equals method"},{"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"score":0,"creation_date":1415675960,"post_id":26855895,"comment_id":42275717,"body_markdown":"public boolean equals (Rational other)  means it takes an instance of Rational class as argument, (a Rational object) and it should return a boolean phrase or value.\n  \n        if(numerator * other.denominator == denominator * other.numerator) // If that is true \n            return true;\n        else \n            return false; // You return TRUE or FALSE no integers like 2,5,7,896859.\n    }","body":"public boolean equals (Rational other)  means it takes an instance of Rational class as argument, (a Rational object) and it should return a boolean phrase or value.            if(numerator * other.denominator == denominator * other.numerator) // If that is true              return true;         else              return false; // You return TRUE or FALSE no integers like 2,5,7,896859.     }"}],"tags":[],"owner":{"account_id":4890736,"reputation":466,"user_id":3941955,"accept_rate":75,"display_name":"George Eco"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415670780,"creation_date":1415668276,"answer_id":26855895,"question_id":26855854,"body_markdown":"    //Here goes commented code:\r\n    \r\n    \r\n    public class Rational \r\n    \t{\r\n    \r\n    \t\tprivate int numerator; // You can declare private variables here all right\r\n    \t\tprivate int denominator;\r\n    \r\n    \t\t\r\n    \t\t// This constructor creates a new object of the class Rational. Objects are instances of that class, all right? \r\n    \t\tpublic Rational()\r\n    \t\t\t{\r\n    \t\t\t\tnumerator = 0;\r\n    \t\t\t\tdenominator = 1;\t\t\t\t\r\n    \t\t\t\t//private int numerator = 0; \r\n    \t\t\t\t//private int denominator = 1; // I get it, you need them even when not giving arguments, but it is better to do stuff in constructors. You better try to make declarations in the constructor and not in the begining of a class, if possible.\r\n\r\n    \t\t\t} \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t// Here is the constructor overriden, so you can create an instance that contains 4 arguments. (n,d,num,denom) Good.\r\n    \t\tpublic Rational(int n, int d, int num, int denom)\r\n    \t\t{\r\n    \t\t\t// You repeat yourself in the constructor.\r\n    \t\t\t// public void setDenominator(int n, int d, int num, int denom) does the same thing right?\r\n    \t\t\t// I don&#39;t remember now, but I think that on instantiation you can&#39;t use methods, if you don&#39;t add the word static.\r\n    \t\t\t// public static void setDenominator(int n, int d, int num, int denom) will make you able to call it in the constructor!\r\n    \t\t\tif (d &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\tnum = -n;\r\n    \t\t\t\tdenom = d;\r\n    \t\t\t}\r\n    \r\n    \t\t\telse if (d == 0)\r\n    \t\t\t{\r\n    \t\t\t\tnum = n;\r\n    \t\t\t\tdenom = 1;\r\n    \t\t\t}\r\n    \r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tnum = n;\r\n    \t\t\t\tdenom = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    public int getNumerator()\r\n    {\r\n        return numerator;\r\n    }\r\n    \r\n    \r\n    public int getDenominator()\r\n    {\r\n        return denominator;\r\n    }\r\n    \r\n    public void setNumerator(int n)\r\n    {\r\n        numerator = n;\r\n    }\r\n    \r\n    public void setDenominator(int n, int d, int num, int denom) // FIX IT. ADD STATIC\r\n    {\r\n        denominator = d;\r\n        if (d &lt; 0)\r\n        {\r\n            num = -n;\r\n            denom = d;\r\n        }\r\n    \r\n        else if (d == 0)\r\n        {\r\n            num = n;\r\n            denom = 1;\r\n        }\r\n    \r\n        else\r\n        {\r\n            num = n;\r\n            denom = 0;\r\n        }\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        return numerator + &quot;/&quot; + denominator; \r\n    }\r\n    \r\n    public boolean equals (Rational other)\r\n    {\r\n        if(numerator * other.denominator == denominator * other.numerator)\r\n            return true;\r\n        else \r\n            return false;\r\n    }\r\n    \r\n    public boolean notequals(Rational other)\r\n    {\r\n        if (numerator * other.denominator != denominator * other.numerator)\r\n            return true;\r\n        else \r\n            return false;\r\n    }\r\n    \r\n    //subtract method\r\n    public Rational subtract(Rational other)\r\n    {\r\n        Rational temp;\r\n        temp.numerator = numerator * other.denominator - denominator * other.numerator;\r\n        temp.denominator = denominator * other.denominator;\r\n        return temp;\r\n    } // THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\r\n    \r\n    \r\n    //add method\r\n    public Rational add(Rational other)\r\n    {\r\n        Rational temp;\r\n        temp.numerator = numerator * other.denominator + denominator * other.numerator;\r\n        temp.denominator = denominator * other.denominator;\r\n        return temp;\r\n    }// THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\r\n    \r\n    public boolean lessThan(Rational other)\r\n    {\r\n        return(numerator * other.denominator &lt; denominator * other.numerator);\r\n    }// What type is this method return? Here is the gap you must fill. If you learn how to handel what methods return, you will be fine. Try stuff out.\r\n    \r\n    public boolean greterThan(Rational other)\r\n    {\r\n        return(numerator * other.denominator &gt; denominator * other.numerator);\r\n    }\r\n    \r\n    public boolean lessThanEqualTo(Rational other)\r\n    {\r\n        return(numerator * other.denominator &lt;= denominator * other.numerator);\r\n    }\r\n    \r\n    public boolean greaterThanEqual(Rational other)\r\n    {\r\n        return(numerator * other.denominator &gt;= denominator * other.numerator);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }","title":"Rational Number Java Project","body":"<pre><code>//Here goes commented code:\n\n\npublic class Rational \n    {\n\n        private int numerator; // You can declare private variables here all right\n        private int denominator;\n\n\n        // This constructor creates a new object of the class Rational. Objects are instances of that class, all right? \n        public Rational()\n            {\n                numerator = 0;\n                denominator = 1;                \n                //private int numerator = 0; \n                //private int denominator = 1; // I get it, you need them even when not giving arguments, but it is better to do stuff in constructors. You better try to make declarations in the constructor and not in the begining of a class, if possible.\n\n            } \n\n\n\n        // Here is the constructor overriden, so you can create an instance that contains 4 arguments. (n,d,num,denom) Good.\n        public Rational(int n, int d, int num, int denom)\n        {\n            // You repeat yourself in the constructor.\n            // public void setDenominator(int n, int d, int num, int denom) does the same thing right?\n            // I don't remember now, but I think that on instantiation you can't use methods, if you don't add the word static.\n            // public static void setDenominator(int n, int d, int num, int denom) will make you able to call it in the constructor!\n            if (d &lt; 0)\n            {\n                num = -n;\n                denom = d;\n            }\n\n            else if (d == 0)\n            {\n                num = n;\n                denom = 1;\n            }\n\n            else \n            {\n                num = n;\n                denom = 0;\n            }\n        }\n\npublic int getNumerator()\n{\n    return numerator;\n}\n\n\npublic int getDenominator()\n{\n    return denominator;\n}\n\npublic void setNumerator(int n)\n{\n    numerator = n;\n}\n\npublic void setDenominator(int n, int d, int num, int denom) // FIX IT. ADD STATIC\n{\n    denominator = d;\n    if (d &lt; 0)\n    {\n        num = -n;\n        denom = d;\n    }\n\n    else if (d == 0)\n    {\n        num = n;\n        denom = 1;\n    }\n\n    else\n    {\n        num = n;\n        denom = 0;\n    }\n}\n\npublic String toString()\n{\n    return numerator + \"/\" + denominator; \n}\n\npublic boolean equals (Rational other)\n{\n    if(numerator * other.denominator == denominator * other.numerator)\n        return true;\n    else \n        return false;\n}\n\npublic boolean notequals(Rational other)\n{\n    if (numerator * other.denominator != denominator * other.numerator)\n        return true;\n    else \n        return false;\n}\n\n//subtract method\npublic Rational subtract(Rational other)\n{\n    Rational temp;\n    temp.numerator = numerator * other.denominator - denominator * other.numerator;\n    temp.denominator = denominator * other.denominator;\n    return temp;\n} // THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\n\n\n//add method\npublic Rational add(Rational other)\n{\n    Rational temp;\n    temp.numerator = numerator * other.denominator + denominator * other.numerator;\n    temp.denominator = denominator * other.denominator;\n    return temp;\n}// THIS RETURNS temp THAT IS AN OBJECT OF THE TYPE Rational!!! Remember that.\n\npublic boolean lessThan(Rational other)\n{\n    return(numerator * other.denominator &lt; denominator * other.numerator);\n}// What type is this method return? Here is the gap you must fill. If you learn how to handel what methods return, you will be fine. Try stuff out.\n\npublic boolean greterThan(Rational other)\n{\n    return(numerator * other.denominator &gt; denominator * other.numerator);\n}\n\npublic boolean lessThanEqualTo(Rational other)\n{\n    return(numerator * other.denominator &lt;= denominator * other.numerator);\n}\n\npublic boolean greaterThanEqual(Rational other)\n{\n    return(numerator * other.denominator &gt;= denominator * other.numerator);\n}\n\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":5193462,"reputation":63,"user_id":4155629,"accept_rate":40,"display_name":"Somone"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14350,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1697350020,"creation_date":1415668005,"question_id":26855854,"body_markdown":"For this project I have to create a rational number class that has 2 parts an int numerator and int denominator. I had to add two contractions where the negative denominator has to be moved to the numerator. I also added getters and setters and a toString(). The data should print as numerator/denominator. \r\nI also had to code member methods for addition, subtraction, multiplications, and division and negate(?) I am not sure what that last part means.\r\n\r\nI have the class done already but Eclipse is giving me an error with the add and subtract method around the part where I typed &quot;temp&quot;. Please let me know if I have anything that is incorrect or if I am missing something.\r\n    \r\n    public class Rational {\t\t\r\n      \tprivate int numerator;\r\n      \tprivate int denominator;\r\n    \t\r\n    \tpublic Rational()\r\n    \t{\r\n    \t\tnumerator = 0;\r\n    \t\tdenominator = 1;\r\n    \t}\r\n    \t\r\n    \tpublic Rational(int n, int d, int num, int denom)\r\n    \t{\r\n    \t\tif (d &lt; 0)\r\n    \t\t{\r\n    \t\t\tnum = -n;\r\n    \t\t\tdenom = d;\r\n    \t\t}    \t\t\r\n    \t\telse if (d == 0)\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 1;\r\n    \t\t}    \t\t\r\n    \t\telse \r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 0;\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \tpublic int getNumerator()\r\n    \t{\r\n    \t\treturn numerator;\r\n    \t}\r\n    \t\r\n    \tpublic int getDenominator()\r\n    \t{\r\n    \t\treturn denominator;\r\n    \t}\r\n    \t\r\n    \tpublic void setNumerator(int n)\r\n    \t{\r\n    \t\tnumerator = n;\r\n    \t}\r\n    \t\r\n    \tpublic void setDenominator(int n, int d, int num, int denom) \r\n    \t{\r\n    \t\tdenominator = d;\r\n    \t\tif (d &lt; 0)\r\n    \t\t{\r\n    \t\t\tnum = -n;\r\n    \t\t\tdenom = d;\r\n    \t\t}    \t\t\r\n    \t\telse if (d == 0)\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 1;\r\n    \t\t}    \t\t\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tnum = n;\r\n    \t\t\tdenom = 0;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn numerator + &quot;/&quot; + denominator; \r\n    \t}\r\n    \t\r\n    \tpublic boolean equals (Rational other)\r\n    \t{\r\n    \t\tif(numerator * other.denominator == denominator * other.numerator)\r\n    \t\t\treturn true;\r\n    \t\telse \r\n    \t\t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic boolean notequals(Rational other)\r\n    \t{\r\n    \t\tif (numerator * other.denominator != denominator * other.numerator)\r\n    \t\t\treturn true;\r\n    \t\telse \r\n    \t\t\treturn false;\r\n    \t}\r\n    \t\r\n    \t//subtract method\r\n    \tpublic Rational subtract(Rational other)\r\n    \t{\r\n    \t\tRational temp;\r\n    \t\ttemp.numerator = numerator * other.denominator - denominator * other.numerator;\r\n    \t\ttemp.denominator = denominator * other.denominator;\r\n    \t\treturn temp;\r\n    \t}\r\n\r\n    \t//add method\r\n    \tpublic Rational add(Rational other)\r\n    \t{\r\n    \t\tRational temp;\r\n    \t\ttemp.numerator = numerator * other.denominator + denominator * other.numerator;\r\n    \t\ttemp.denominator = denominator * other.denominator;\r\n    \t\treturn temp;\r\n    \t}\r\n    \t\r\n    \tpublic boolean lessThan(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &lt; denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean greterThan(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &gt; denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean lessThanEqualTo(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &lt;= denominator * other.numerator);\r\n    \t}\r\n    \t\r\n    \tpublic boolean greaterThanEqual(Rational other)\r\n    \t{\r\n    \t\treturn(numerator * other.denominator &gt;= denominator * other.numerator);\r\n    \t}\r\n    }\r\n\r\nI am however struggling with the main to test each method.\r\nHere is what I have so far:\r\n\r\n\r\n    public class Project4 {\r\n        public static void main(String[] args) {\r\n        \tRational a = new Rational();\r\n    \t    Rational b = new Rational();\r\n        \tRational c;\r\n        \tc = a.add(b);\r\n        }   \r\n    }\r\n","title":"Rational Number Java Project","body":"<p>For this project I have to create a rational number class that has 2 parts an int numerator and int denominator. I had to add two contractions where the negative denominator has to be moved to the numerator. I also added getters and setters and a toString(). The data should print as numerator/denominator. \nI also had to code member methods for addition, subtraction, multiplications, and division and negate(?) I am not sure what that last part means.</p>\n\n<p>I have the class done already but Eclipse is giving me an error with the add and subtract method around the part where I typed \"temp\". Please let me know if I have anything that is incorrect or if I am missing something.</p>\n\n<pre><code>public class Rational {     \n    private int numerator;\n    private int denominator;\n\n    public Rational()\n    {\n        numerator = 0;\n        denominator = 1;\n    }\n\n    public Rational(int n, int d, int num, int denom)\n    {\n        if (d &lt; 0)\n        {\n            num = -n;\n            denom = d;\n        }           \n        else if (d == 0)\n        {\n            num = n;\n            denom = 1;\n        }           \n        else \n        {\n            num = n;\n            denom = 0;\n        }\n    }\n\n    public int getNumerator()\n    {\n        return numerator;\n    }\n\n    public int getDenominator()\n    {\n        return denominator;\n    }\n\n    public void setNumerator(int n)\n    {\n        numerator = n;\n    }\n\n    public void setDenominator(int n, int d, int num, int denom) \n    {\n        denominator = d;\n        if (d &lt; 0)\n        {\n            num = -n;\n            denom = d;\n        }           \n        else if (d == 0)\n        {\n            num = n;\n            denom = 1;\n        }           \n        else\n        {\n            num = n;\n            denom = 0;\n        }\n    }\n\n    public String toString()\n    {\n        return numerator + \"/\" + denominator; \n    }\n\n    public boolean equals (Rational other)\n    {\n        if(numerator * other.denominator == denominator * other.numerator)\n            return true;\n        else \n            return false;\n    }\n\n    public boolean notequals(Rational other)\n    {\n        if (numerator * other.denominator != denominator * other.numerator)\n            return true;\n        else \n            return false;\n    }\n\n    //subtract method\n    public Rational subtract(Rational other)\n    {\n        Rational temp;\n        temp.numerator = numerator * other.denominator - denominator * other.numerator;\n        temp.denominator = denominator * other.denominator;\n        return temp;\n    }\n\n    //add method\n    public Rational add(Rational other)\n    {\n        Rational temp;\n        temp.numerator = numerator * other.denominator + denominator * other.numerator;\n        temp.denominator = denominator * other.denominator;\n        return temp;\n    }\n\n    public boolean lessThan(Rational other)\n    {\n        return(numerator * other.denominator &lt; denominator * other.numerator);\n    }\n\n    public boolean greterThan(Rational other)\n    {\n        return(numerator * other.denominator &gt; denominator * other.numerator);\n    }\n\n    public boolean lessThanEqualTo(Rational other)\n    {\n        return(numerator * other.denominator &lt;= denominator * other.numerator);\n    }\n\n    public boolean greaterThanEqual(Rational other)\n    {\n        return(numerator * other.denominator &gt;= denominator * other.numerator);\n    }\n}\n</code></pre>\n\n<p>I am however struggling with the main to test each method.\nHere is what I have so far:</p>\n\n<pre><code>public class Project4 {\n    public static void main(String[] args) {\n        Rational a = new Rational();\n        Rational b = new Rational();\n        Rational c;\n        c = a.add(b);\n    }   \n}\n</code></pre>\n"},{"tags":["java","uima"],"answers":[{"comments":[{"owner":{"account_id":28272739,"reputation":13,"user_id":21615663,"display_name":"dawit"},"score":0,"creation_date":1697616086,"post_id":77295482,"comment_id":136300725,"body_markdown":"Would it also be possible to keep the original CAS object? Meaning that if 2 tools are about to annotate a CAS in two threads, we first create CAS copy A and CAS copy B and once CAS copy A is finished, we copy every modified FS into the orginial CAS in a synchronized context and the same for CAS copy B. This is needed because the reference to the original CAS object needs to stay the same because we track it.  I also have a question regarding CASCopiers. If CAS B modifies FS1 of the original CAS is copied into it is it replaced and how do I set a mark to tell me which FSs have been modified?","body":"Would it also be possible to keep the original CAS object? Meaning that if 2 tools are about to annotate a CAS in two threads, we first create CAS copy A and CAS copy B and once CAS copy A is finished, we copy every modified FS into the orginial CAS in a synchronized context and the same for CAS copy B. This is needed because the reference to the original CAS object needs to stay the same because we track it.  I also have a question regarding CASCopiers. If CAS B modifies FS1 of the original CAS is copied into it is it replaced and how do I set a mark to tell me which FSs have been modified?"},{"owner":{"account_id":28272739,"reputation":13,"user_id":21615663,"display_name":"dawit"},"score":0,"creation_date":1697617436,"post_id":77295482,"comment_id":136300955,"body_markdown":"Another issue is that a one tool of ours may modify an existing FS in the original CAS. How can i merge two CASs such that any new FS will just be copied into it and any existing ones are merged such that every feature of a FS from the source CAS is copied into every feature of the equivalent FS in the destination CAS? Do I need to create such a merge function or is one already available?","body":"Another issue is that a one tool of ours may modify an existing FS in the original CAS. How can i merge two CASs such that any new FS will just be copied into it and any existing ones are merged such that every feature of a FS from the source CAS is copied into every feature of the equivalent FS in the destination CAS? Do I need to create such a merge function or is one already available?"},{"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"score":0,"creation_date":1697708862,"post_id":77295482,"comment_id":136314952,"body_markdown":"You can google for &quot;uima delta cas&quot; which seems to be what you want to investigate. I can&#39;t help you much further with this feature though because I have not used it so far. If the documentation for it is not sufficient, you may have to go directly to the UIMA source code for more information.","body":"You can google for &quot;uima delta cas&quot; which seems to be what you want to investigate. I can&#39;t help you much further with this feature though because I have not used it so far. If the documentation for it is not sufficient, you may have to go directly to the UIMA source code for more information."}],"tags":[],"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697349990,"creation_date":1697349990,"answer_id":77295482,"question_id":77253588,"body_markdown":"The views are part of the CAS object, so you should not consider them thread-safe either.\r\n\r\nThe common approach to using CAS objects in a multi-threaded environment is to either the trivial way:\r\n\r\n* process one CAS per thread\r\n\r\nor the sophisticated way:\r\n\r\n* using a CasMultiplier to split a CAS up into multiple CASes\r\n* processing each of the split CASes one-per-thread\r\n* merging the results back into a single CAS using a CasMultiplier\r\n\r\nThe CasMultiplier would typically internally use the CasCopier to transfer FeatureStructures between source and target CAS objects.\r\n\r\nOf course, you can use a CAS without UIMA&#39;s pipelining model (i.e. without CasMultiplier), but the approach using the CasCopier to first distribute data from a source CAS to multiple target CASes, processing these individually and then merging back remains the same.\r\n\r\nNote that you can set a mark in a CAS to tell UIMA to track any FeatureStructures that have added after the creatio of the mark. You can set this mark after each of the split-up CASes have been created to help you discovering which are the new FeatureStructures in each of the copy and then only merge those new ones back into the original CAS using the CasCopier in the final step.\r\n\r\nComing back to your original question: if you would be working with views, the CasCopier would also be the way to go for copying data between views.\r\n\r\n*Disclosure: I am a contributor to the Apache UIMA project.*","title":"UIMA CAS FSIndexRepository Merging","body":"<p>The views are part of the CAS object, so you should not consider them thread-safe either.</p>\n<p>The common approach to using CAS objects in a multi-threaded environment is to either the trivial way:</p>\n<ul>\n<li>process one CAS per thread</li>\n</ul>\n<p>or the sophisticated way:</p>\n<ul>\n<li>using a CasMultiplier to split a CAS up into multiple CASes</li>\n<li>processing each of the split CASes one-per-thread</li>\n<li>merging the results back into a single CAS using a CasMultiplier</li>\n</ul>\n<p>The CasMultiplier would typically internally use the CasCopier to transfer FeatureStructures between source and target CAS objects.</p>\n<p>Of course, you can use a CAS without UIMA's pipelining model (i.e. without CasMultiplier), but the approach using the CasCopier to first distribute data from a source CAS to multiple target CASes, processing these individually and then merging back remains the same.</p>\n<p>Note that you can set a mark in a CAS to tell UIMA to track any FeatureStructures that have added after the creatio of the mark. You can set this mark after each of the split-up CASes have been created to help you discovering which are the new FeatureStructures in each of the copy and then only merge those new ones back into the original CAS using the CasCopier in the final step.</p>\n<p>Coming back to your original question: if you would be working with views, the CasCopier would also be the way to go for copying data between views.</p>\n<p><em>Disclosure: I am a contributor to the Apache UIMA project.</em></p>\n"}],"owner":{"account_id":28272739,"reputation":13,"user_id":21615663,"display_name":"dawit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77295482,"answer_count":1,"score":0,"last_activity_date":1697349990,"creation_date":1696767600,"question_id":77253588,"body_markdown":"I&#39;m currently working in a project with the UIMA framework in JAVA 11. \r\n\r\nAn interesting avenue for us is multithreading, specifically using CAS-objects in a multithreaded environment. Since CAS-objects are not thread-safe, we considered using Views to write to and then merge the different Views. \r\n\r\nThe merge step is necessary because at some point in the pipeline a node may depend on two parent nodes annotation to proceed. \r\n\r\nI have gathered that CAS-objects store the annotations inside of the FSIndexRepository and that every View of a CAS-object has its own FSIndexRepository. \r\n\r\nThat is how I came to the question, wether there is a way of merging two CAS-Views?","title":"UIMA CAS FSIndexRepository Merging","body":"<p>I'm currently working in a project with the UIMA framework in JAVA 11.</p>\n<p>An interesting avenue for us is multithreading, specifically using CAS-objects in a multithreaded environment. Since CAS-objects are not thread-safe, we considered using Views to write to and then merge the different Views.</p>\n<p>The merge step is necessary because at some point in the pipeline a node may depend on two parent nodes annotation to proceed.</p>\n<p>I have gathered that CAS-objects store the annotations inside of the FSIndexRepository and that every View of a CAS-object has its own FSIndexRepository.</p>\n<p>That is how I came to the question, wether there is a way of merging two CAS-Views?</p>\n"},{"tags":["java","postgresql","spring-boot","maven","jpa"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697368755,"post_id":77295233,"comment_id":136268796,"body_markdown":"Extremely out of date all the frameworks you are usign Spring Framework or spring Boot are ancient old... Which Maven plugin? (assumption surefire 2.22.0) also ancient old... JDK version 1.8 .. is not even on current state (1.8....382??) ... Also the code has some design flaws because eaiting up exceptions and returning  null is a really bad idea... there are optionals or just giving back an empty list for not finding something. The so called checked code? Is this a kind of unit test?","body":"Extremely out of date all the frameworks you are usign Spring Framework or spring Boot are ancient old... Which Maven plugin? (assumption surefire 2.22.0) also ancient old... JDK version 1.8 .. is not even on current state (1.8....382??) ... Also the code has some design flaws because eaiting up exceptions and returning  null is a really bad idea... there are optionals or just giving back an empty list for not finding something. The so called checked code? Is this a kind of unit test?"}],"answers":[{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697349884,"creation_date":1697349884,"answer_id":77295476,"question_id":77295233,"body_markdown":"It might be helpful if you provide a little more information on what the master seat table is represented as. Is your master seat table represented as a JPA Entity? Is that what Seat is?\r\n\r\nIn any case if you are setting some data on a Seat object it&#39;s quite possible that it&#39;s getting persisted after a flush. It can be flushed by some triggering event or if your code is wrapped in @Transactional. \r\n\r\nYou might also look for any CascadeType.PERSIST on any of your entities as this will also potentially add additional data to other entities that you may not be expecting.\r\n\r\nOne thing to try would be to turn on the debug log level with hibernate show queries set to true. This may help you track down where in your code the errant persistence is happening. ","title":"Spring Boot data in the database is updated after running the data status checking process","body":"<p>It might be helpful if you provide a little more information on what the master seat table is represented as. Is your master seat table represented as a JPA Entity? Is that what Seat is?</p>\n<p>In any case if you are setting some data on a Seat object it's quite possible that it's getting persisted after a flush. It can be flushed by some triggering event or if your code is wrapped in @Transactional.</p>\n<p>You might also look for any CascadeType.PERSIST on any of your entities as this will also potentially add additional data to other entities that you may not be expecting.</p>\n<p>One thing to try would be to turn on the debug log level with hibernate show queries set to true. This may help you track down where in your code the errant persistence is happening.</p>\n"}],"owner":{"account_id":4586302,"reputation":11,"user_id":3720851,"display_name":"David Sinaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697349884,"creation_date":1697341240,"question_id":77295233,"body_markdown":"I am frustrated because of these blocks of Java code that I write. I write these blocks of code to check the seat availability status of data and then save the reservation data. After the comparison process, I noticed that the data in my master seat table have been updated and I am pretty sure that the code is not supposed to update the data in my master seat table. Here is the snippet of the code.\r\n\r\n```\r\npublic List&lt;CheckInSeatResponse&gt; getGroupSeatData(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\r\n    try {\r\n        List&lt;CheckInSeatResponse&gt; manifestData = manifestPassengerRepository.getGroupSeatData( departDate, departGroup, destinationGroup, busId, serviceId);\r\n        return manifestData;\r\n    } catch (Exception e) {\r\n        log.error(e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic List&lt;Seat&gt; getGroupSeatMap(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\r\n    try {\r\n        List&lt;CheckInSeatResponse&gt; manifestData = getGroupSeatData( serviceId, departDate, departGroup, destinationGroup, busId);\r\n        List&lt;Seat&gt; seatData = seatBusRepository.findByBusIdOrderByIdAsc(busId);\r\n        List&lt;Seat&gt; seatMap = new ArrayList&lt;&gt;();\r\n        if (manifestData != null) {\r\n            for (Seat seat : seatData) {\r\n                Seat newSeat = seat;\r\n                for (CheckInSeatResponse seatCheck : manifestData) {\r\n                    if (seatCheck.getSeatNumber() != null &amp;&amp; seatCheck.getSeatNumber().equals(seat.getSeatNumber())) {\r\n                        newSeat.setSeatStatus(&quot;notAvailable&quot;);\r\n                    }\r\n                }\r\n                seatMap.add(newSeat);\r\n            }\r\n            return seatMap;\r\n        } else {\r\n            return seatData;\r\n        }\r\n    } catch (Exception e) {\r\n        log.error(e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd here the check process code\r\n\r\n```\r\nList&lt;Seat&gt; seats = manifestService.getGroupSeatMap(\r\n        reservation.getServiceBusId(),\r\n        reservation.getDepartureDate(),\r\n        depart.getGroupDestination(),\r\n        destination.getGroupDestination(),\r\n        request.getDepartBusId());\r\nfor (DetailCheckInResultResponse passenger : request.getPassenggerDepart()) {\r\n    for (Seat seat : seats) {\r\n        if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\r\n            response.setStatus(&quot;failed&quot;);\r\n            response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\r\n            return response;\r\n        }\r\n    }\r\n}\r\nif (reservation.getReservationType()) {\r\n    List&lt;Seat&gt; seatRets = manifestService.getGroupSeatMap(\r\n            reservation.getServiceBusId(),\r\n            reservation.getReturnDate(),\r\n            destination.getGroupDestination(),\r\n            depart.getGroupDestination(),\r\n            request.getReturnBusId());\r\n    for (DetailCheckInResultResponse passenger : request.getPassenggerReturn()) {\r\n        for (Seat seat : seatRets) {\r\n            if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\r\n                response.setStatus(&quot;failed&quot;);\r\n                response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\r\n                return response;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat am I doing wrong with this code block?\r\n\r\nMy env detail\r\n\r\n- Spring Framework : 2.3.1\r\n\r\n- Java : 1.8.0_211\r\n\r\n- Maven plugin : 2.22.0\r\n\r\n- DBMS : PostgreSQL 13.8\r\n\r\nPlease help. Thank you in advanced.\r\n\r\nRegards,\r\n\r\nDavid\r\n\r\nI&#39;ve tried to convert the data into list of string and parse it into JSON so the data won&#39;t be changed. It works but I am sure that requires much more resources so I&#39;m expecting the seat status in the master seat table was not updated after saving reservation data with my current code.","title":"Spring Boot data in the database is updated after running the data status checking process","body":"<p>I am frustrated because of these blocks of Java code that I write. I write these blocks of code to check the seat availability status of data and then save the reservation data. After the comparison process, I noticed that the data in my master seat table have been updated and I am pretty sure that the code is not supposed to update the data in my master seat table. Here is the snippet of the code.</p>\n<pre><code>public List&lt;CheckInSeatResponse&gt; getGroupSeatData(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\n    try {\n        List&lt;CheckInSeatResponse&gt; manifestData = manifestPassengerRepository.getGroupSeatData( departDate, departGroup, destinationGroup, busId, serviceId);\n        return manifestData;\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<pre><code>public List&lt;Seat&gt; getGroupSeatMap(Long serviceId, Date departDate, String departGroup, String destinationGroup, Long busId) {\n    try {\n        List&lt;CheckInSeatResponse&gt; manifestData = getGroupSeatData( serviceId, departDate, departGroup, destinationGroup, busId);\n        List&lt;Seat&gt; seatData = seatBusRepository.findByBusIdOrderByIdAsc(busId);\n        List&lt;Seat&gt; seatMap = new ArrayList&lt;&gt;();\n        if (manifestData != null) {\n            for (Seat seat : seatData) {\n                Seat newSeat = seat;\n                for (CheckInSeatResponse seatCheck : manifestData) {\n                    if (seatCheck.getSeatNumber() != null &amp;&amp; seatCheck.getSeatNumber().equals(seat.getSeatNumber())) {\n                        newSeat.setSeatStatus(&quot;notAvailable&quot;);\n                    }\n                }\n                seatMap.add(newSeat);\n            }\n            return seatMap;\n        } else {\n            return seatData;\n        }\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>And here the check process code</p>\n<pre><code>List&lt;Seat&gt; seats = manifestService.getGroupSeatMap(\n        reservation.getServiceBusId(),\n        reservation.getDepartureDate(),\n        depart.getGroupDestination(),\n        destination.getGroupDestination(),\n        request.getDepartBusId());\nfor (DetailCheckInResultResponse passenger : request.getPassenggerDepart()) {\n    for (Seat seat : seats) {\n        if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\n            response.setStatus(&quot;failed&quot;);\n            response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\n            return response;\n        }\n    }\n}\nif (reservation.getReservationType()) {\n    List&lt;Seat&gt; seatRets = manifestService.getGroupSeatMap(\n            reservation.getServiceBusId(),\n            reservation.getReturnDate(),\n            destination.getGroupDestination(),\n            depart.getGroupDestination(),\n            request.getReturnBusId());\n    for (DetailCheckInResultResponse passenger : request.getPassenggerReturn()) {\n        for (Seat seat : seatRets) {\n            if (passenger.getSeat().equals(seat.getSeatNumber()) &amp;&amp; &quot;notAvailable&quot;.equals(seat.getSeatStatus())) {\n                response.setStatus(&quot;failed&quot;);\n                response.setMessage(&quot;Seat &quot; + seat.getSeatNumber() + &quot; not available&quot;);\n                return response;\n            }\n        }\n    }\n}\n</code></pre>\n<p>What am I doing wrong with this code block?</p>\n<p>My env detail</p>\n<ul>\n<li><p>Spring Framework : 2.3.1</p>\n</li>\n<li><p>Java : 1.8.0_211</p>\n</li>\n<li><p>Maven plugin : 2.22.0</p>\n</li>\n<li><p>DBMS : PostgreSQL 13.8</p>\n</li>\n</ul>\n<p>Please help. Thank you in advanced.</p>\n<p>Regards,</p>\n<p>David</p>\n<p>I've tried to convert the data into list of string and parse it into JSON so the data won't be changed. It works but I am sure that requires much more resources so I'm expecting the seat status in the master seat table was not updated after saving reservation data with my current code.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1697347216,"post_id":77295357,"comment_id":136267124,"body_markdown":"Possible, yes. Probable, no.","body":"Possible, yes. Probable, no."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697347839,"post_id":77295357,"comment_id":136267158,"body_markdown":"We cannot tell you whether it will work.  It depends on the application, how the JAR file was created, the bug you are trying to fix ... and your ingenuity.  On problem is that decompilers often don&#39;t produce correct Java code that is functionality equivalent to the bytecodes.","body":"We cannot tell you whether it will work.  It depends on the application, how the JAR file was created, the bug you are trying to fix ... and your ingenuity.  On problem is that decompilers often don&#39;t produce correct Java code that is functionality equivalent to the bytecodes."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1697347742,"post_id":77295394,"comment_id":136267152,"body_markdown":"The question is (in short) will this work for the OP&#39;s bug.  And that is unanswerable.","body":"The question is (in short) will this work for the OP&#39;s bug.  And that is unanswerable."}],"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697347879,"creation_date":1697347263,"answer_id":77295394,"question_id":77295357,"body_markdown":"Your best bet is obtain the original source code.\r\n\r\nHowever, if that&#39;s not possible, the following is how you can archive source:\r\n\r\n1. Run `mvn dependency:get \\\r\n  -DrepoUrl=https://www.jetbrains.com/intellij-repository/releases/ \\\r\n  -Dartifact=com.jetbrains.intellij.java:java-decompiler-engine:LATEST \\\r\n  -Ddest=.` in your terminal. This will download JetBrains&#39; decompiler (also known as [fernflower](https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler)).\r\n2. Run it: `java -jar java-decompiler-engine -dgs=1 -ind=4 your-spring-project.jar your-spring-project-decompiled.jar`. `-dgs=1` is recommended because it includes generic signature (you don&#39;t need care if your project does not use them). `-ind=4` is also recommended because it will emit **3 spaces** per indentation on default configuration.\r\n3. You will get source code in `your-spring-project-decompiled.jar`. You need to extract them as if it was ZIP archive (you don&#39;t have to rename them) to access decompiled source code.","title":"Is possible to decompiled jar is to recompile it","body":"<p>Your best bet is obtain the original source code.</p>\n<p>However, if that's not possible, the following is how you can archive source:</p>\n<ol>\n<li>Run <code>mvn dependency:get \\ -DrepoUrl=https://www.jetbrains.com/intellij-repository/releases/ \\ -Dartifact=com.jetbrains.intellij.java:java-decompiler-engine:LATEST \\ -Ddest=.</code> in your terminal. This will download JetBrains' decompiler (also known as <a href=\"https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler\" rel=\"nofollow noreferrer\">fernflower</a>).</li>\n<li>Run it: <code>java -jar java-decompiler-engine -dgs=1 -ind=4 your-spring-project.jar your-spring-project-decompiled.jar</code>. <code>-dgs=1</code> is recommended because it includes generic signature (you don't need care if your project does not use them). <code>-ind=4</code> is also recommended because it will emit <strong>3 spaces</strong> per indentation on default configuration.</li>\n<li>You will get source code in <code>your-spring-project-decompiled.jar</code>. You need to extract them as if it was ZIP archive (you don't have to rename them) to access decompiled source code.</li>\n</ol>\n"}],"owner":{"account_id":29672194,"reputation":1,"user_id":22741150,"display_name":"Maran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1697350163,"answer_count":1,"score":-3,"last_activity_date":1697347879,"creation_date":1697346139,"question_id":77295357,"body_markdown":"I have a JAR file. I want to decompile it and resolve the bugs and then recompile it. Is it possible? And how?\r\n\r\nI have a spring boot project l make. It has a JAR. I want to decompile the JAR, resolve the bug and then need recompile it.","title":"Is possible to decompiled jar is to recompile it","body":"<p>I have a JAR file. I want to decompile it and resolve the bugs and then recompile it. Is it possible? And how?</p>\n<p>I have a spring boot project l make. It has a JAR. I want to decompile the JAR, resolve the bug and then need recompile it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1697234385,"post_id":77290808,"comment_id":136259256,"body_markdown":"I&#39;m not sure I understand the question. Are you saying that it doesn&#39;t work, or that you&#39;re not sure whether it works or not and want help testing it?","body":"I&#39;m not sure I understand the question. Are you saying that it doesn&#39;t work, or that you&#39;re not sure whether it works or not and want help testing it?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697271600,"post_id":77290808,"comment_id":136261305,"body_markdown":"The code you posted should work fine. What is your question?","body":"The code you posted should work fine. What is your question?"},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697279336,"post_id":77290808,"comment_id":136261848,"body_markdown":"My question is: in this code, how do I &quot;catch&quot; the date and other questions. Because any value I put differently breaks it.","body":"My question is: in this code, how do I &quot;catch&quot; the date and other questions. Because any value I put differently breaks it."},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697279899,"post_id":77290808,"comment_id":136261877,"body_markdown":"Example: \n\n```System.out.print(&quot;Contract date dd/MM/yyyy: &quot;);\nLocalDate data = LocalDate.parse(sc.next(),fmt);\n\nSystem.out.print(&quot;Enter the contract value: &quot;);\ndoubletotalValue = sc.nextDouble();```","body":"Example:   <code>System.out.print(&quot;Contract date dd&#47;MM&#47;yyyy: &quot;); LocalDate data = LocalDate.parse(sc.next(),fmt);  System.out.print(&quot;Enter the contract value: &quot;); doubletotalValue = sc.nextDouble();</code>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697295231,"post_id":77290808,"comment_id":136263291,"body_markdown":"Please [add](https://stackoverflow.com/posts/77290808/edit) and/or [change](https://stackoverflow.com/posts/77290808/edit) the relevant information to/in the question (comments may be deleted at any time). But *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***[without](https://meta.stackexchange.com/a/131011)*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.","body":"Please <a href=\"https://stackoverflow.com/posts/77290808/edit\">add</a> and/or <a href=\"https://stackoverflow.com/posts/77290808/edit\">change</a> the relevant information to/in the question (comments may be deleted at any time). But *** *** *** *** *** *** *** *** *** *** *** *** *** *** <b><i><a href=\"https://meta.stackexchange.com/a/131011\">without</a></i></b> *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now."},{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697309710,"post_id":77290808,"comment_id":136264892,"body_markdown":"I&#39;m going comments the question. Is better.","body":"I&#39;m going comments the question. Is better."}],"answers":[{"comments":[{"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"score":0,"creation_date":1697369221,"post_id":77295352,"comment_id":136268824,"body_markdown":"Perfect!!!\nThanks!!!","body":"Perfect!!! Thanks!!!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697345956,"creation_date":1697345956,"answer_id":77295352,"question_id":77290808,"body_markdown":"&gt; _&quot;... I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value). ...&quot;_\r\n\r\nTry the following.\r\n\r\n```java\r\nimport static java.math.BigDecimal.ZERO;\r\nimport static java.math.RoundingMode.HALF_EVEN;\r\nimport static java.time.format.DateTimeFormatter.ofPattern;\r\n```\r\n\r\n```java\r\nScanner sc = new Scanner (System.in);\r\nboolean exit = false;\r\nBigDecimal number = ZERO, totalValue = ZERO;\r\nString s, date = null;\r\ndo {\r\n    System.out.print(&quot;Numero do contrato: &quot;);\r\n    s = sc.nextLine();\r\n    try {\r\n        number = new BigDecimal(s);\r\n        exit = true;\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\nexit = false;\r\ndo {\r\n    System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\r\n    try {\r\n        LocalDate.parse(date = sc.nextLine(), ofPattern(&quot;dd/MM/yyy&quot;));\r\n        exit = true;\r\n    } catch (DateTimeParseException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\nexit = false;\r\ndo {\r\n    System.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n    s = sc.nextLine();\r\n    try {\r\n        totalValue = new BigDecimal(s).setScale(2, HALF_EVEN);\r\n        exit = true;\r\n    } catch (NumberFormatException e) {\r\n        System.out.println(&quot;try again&quot;);\r\n    }\r\n} while (!exit);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nNumero do contrato: abc\r\ntry again\r\nNumero do contrato: 123\r\nData (dd/MM/yyyy)15/10/2023\r\nEntre com o valor do contrato: 123\r\nnumber = 123\r\ndate = 15/10/2023\r\ntotalValue = 123.00\r\n```","title":"Using try catch in various validation","body":"<blockquote>\n<p><em>&quot;... I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value). ...&quot;</em></p>\n</blockquote>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.math.BigDecimal.ZERO;\nimport static java.math.RoundingMode.HALF_EVEN;\nimport static java.time.format.DateTimeFormatter.ofPattern;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner (System.in);\nboolean exit = false;\nBigDecimal number = ZERO, totalValue = ZERO;\nString s, date = null;\ndo {\n    System.out.print(&quot;Numero do contrato: &quot;);\n    s = sc.nextLine();\n    try {\n        number = new BigDecimal(s);\n        exit = true;\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\nexit = false;\ndo {\n    System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\n    try {\n        LocalDate.parse(date = sc.nextLine(), ofPattern(&quot;dd/MM/yyy&quot;));\n        exit = true;\n    } catch (DateTimeParseException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\nexit = false;\ndo {\n    System.out.print(&quot;Entre com o valor do contrato: &quot;);\n    s = sc.nextLine();\n    try {\n        totalValue = new BigDecimal(s).setScale(2, HALF_EVEN);\n        exit = true;\n    } catch (NumberFormatException e) {\n        System.out.println(&quot;try again&quot;);\n    }\n} while (!exit);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Numero do contrato: abc\ntry again\nNumero do contrato: 123\nData (dd/MM/yyyy)15/10/2023\nEntre com o valor do contrato: 123\nnumber = 123\ndate = 15/10/2023\ntotalValue = 123.00\n</code></pre>\n"}],"owner":{"account_id":15389687,"reputation":21,"user_id":22061256,"display_name":"Rodrigo Santos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697345956,"creation_date":1697233648,"question_id":77290808,"body_markdown":"Could you help me with this validation with try catch please?\r\n\r\n```\r\npackage application;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\nimport java.util.Scanner;\r\n\r\nimport entities.Contract;\r\nimport entities.Instatllment;\r\nimport services.ContractServices;\r\nimport services.PaypalService;\r\n\r\npublic class Program {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tLocale.setDefault(Locale.US);\r\n\t\tScanner sc = new Scanner (System.in);\r\n\t\t\r\n\t\t/*Para ler a data precisa dessa fun&#231;ao*/\r\n\t\tDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;dd/MM/yyy&quot;);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Entre com o n&#250;mero do contrato: &quot;);\r\n\t\tSystem.out.print(&quot;Numero do contrato: &quot;);\r\n\t\tint number = sc.nextInt();\r\n\t\tSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;);\r\n\t\tLocalDate date = LocalDate.parse(sc.next(),fmt);\r\n\t\tSystem.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n\t\tdouble totalValue = sc.nextDouble();\r\n\t\t\r\n\t\tContract obj = new Contract(number, date, totalValue); \r\n\t\t\r\n\t\tSystem.out.print(&quot;Entre com o n&#250;mero de parcelas: &quot;);\r\n\t\tint n = sc.nextInt();\r\n\t\t\r\n\t\tContractServices contractServices = new ContractServices(new PaypalService());\r\n\t\t\r\n\t\tcontractServices.processContract(obj, n);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;____Parcelas______&quot;);\r\n\t\tfor (Instatllment instatllment : obj.getInstatllment()) {\r\n\t\t\tSystem.out.println(instatllment);\r\n\t\t}\r\n\t\tsc.close();\r\n\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nI would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value).\r\n\r\n\r\nI tried so far and work\r\n\r\n\r\n```\r\nboolean entradaValida = false;\r\n\t        int numero = 0;\r\n\r\n\t        while (!entradaValida) {\r\n\t            System.out.print(&quot;Digite um n&#250;mero: &quot;);\r\n\t            String input = sc.nextLine();\r\n\r\n\t            try {\r\n\t                // Tenta converter a entrada para um n&#250;mero inteiro\r\n\t                numero = Integer.parseInt(input);\r\n\t                entradaValida = true; // Se a convers&#227;o for bem-sucedida, saia do loop\r\n\t            } catch (NumberFormatException e) {\r\n\t                // Se a entrada n&#227;o puder ser convertida para um n&#250;mero, imprima uma mensagem de erro\r\n\t                System.out.println(&quot;Por favor, digite um n&#250;mero v&#225;lido.&quot;);\r\n\t            }\r\n\t        }\r\n```\r\n\r\nBut the rest I couldn&#39;t\r\nExemple:\r\n```\r\nboolean entradaValida = false;\r\n\t        int numero = 0;\r\n\r\n\t        while (!entradaValida) {\r\n\t            System.out.print(&quot;Digite um n&#250;mero: &quot;);\r\n\t            String input = sc.nextLine();\r\n\r\n\t            try {\r\n\t                // Tenta converter a entrada para um n&#250;mero inteiro\r\n\t                numero = Integer.parseInt(input);\r\n\t                entradaValida = true; // Se a convers&#227;o for bem-sucedida, saia do loop\r\n\t            } catch (NumberFormatException e) {\r\n\t                // Se a entrada n&#227;o puder ser convertida para um n&#250;mero, imprima uma mensagem de erro\r\n\t                System.out.println(&quot;Por favor, digite um n&#250;mero v&#225;lido.&quot;);\r\n```\r\n\r\nThe try I do is to validate the code&#39;s data input. I need all inputs to be validated. Example:\r\n```\r\nCatch  (NumberFormatException e){\r\nSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;)}:\r\nCatch (DateFromatException e){\r\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\r\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\r\n        double totalValue = sc.nextDouble()};\r\n```","title":"Using try catch in various validation","body":"<p>Could you help me with this validation with try catch please?</p>\n<pre><code>package application;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.Scanner;\n\nimport entities.Contract;\nimport entities.Instatllment;\nimport services.ContractServices;\nimport services.PaypalService;\n\npublic class Program {\n\n    public static void main(String[] args) {\n    \n        Locale.setDefault(Locale.US);\n        Scanner sc = new Scanner (System.in);\n        \n        /*Para ler a data precisa dessa funçao*/\n        DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;dd/MM/yyy&quot;);\n        \n        \n        System.out.println(&quot;Entre com o número do contrato: &quot;);\n        System.out.print(&quot;Numero do contrato: &quot;);\n        int number = sc.nextInt();\n        System.out.print(&quot;Data (dd/MM/yyyy)&quot;);\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\n        double totalValue = sc.nextDouble();\n        \n        Contract obj = new Contract(number, date, totalValue); \n        \n        System.out.print(&quot;Entre com o número de parcelas: &quot;);\n        int n = sc.nextInt();\n        \n        ContractServices contractServices = new ContractServices(new PaypalService());\n        \n        contractServices.processContract(obj, n);\n        \n        \n        System.out.println(&quot;____Parcelas______&quot;);\n        for (Instatllment instatllment : obj.getInstatllment()) {\n            System.out.println(instatllment);\n        }\n        sc.close();\n\n    }\n    \n\n}\n\n</code></pre>\n<p>I would like to use &quot;try catch&quot; to validate that all the entries are correct (contract number, date and contract value).</p>\n<p>I tried so far and work</p>\n<pre><code>boolean entradaValida = false;\n            int numero = 0;\n\n            while (!entradaValida) {\n                System.out.print(&quot;Digite um número: &quot;);\n                String input = sc.nextLine();\n\n                try {\n                    // Tenta converter a entrada para um número inteiro\n                    numero = Integer.parseInt(input);\n                    entradaValida = true; // Se a conversão for bem-sucedida, saia do loop\n                } catch (NumberFormatException e) {\n                    // Se a entrada não puder ser convertida para um número, imprima uma mensagem de erro\n                    System.out.println(&quot;Por favor, digite um número válido.&quot;);\n                }\n            }\n</code></pre>\n<p>But the rest I couldn't\nExemple:</p>\n<pre><code>boolean entradaValida = false;\n            int numero = 0;\n\n            while (!entradaValida) {\n                System.out.print(&quot;Digite um número: &quot;);\n                String input = sc.nextLine();\n\n                try {\n                    // Tenta converter a entrada para um número inteiro\n                    numero = Integer.parseInt(input);\n                    entradaValida = true; // Se a conversão for bem-sucedida, saia do loop\n                } catch (NumberFormatException e) {\n                    // Se a entrada não puder ser convertida para um número, imprima uma mensagem de erro\n                    System.out.println(&quot;Por favor, digite um número válido.&quot;);\n</code></pre>\n<p>The try I do is to validate the code's data input. I need all inputs to be validated. Example:</p>\n<pre><code>Catch  (NumberFormatException e){\nSystem.out.print(&quot;Data (dd/MM/yyyy)&quot;)}:\nCatch (DateFromatException e){\n        LocalDate date = LocalDate.parse(sc.next(),fmt);\n        System.out.print(&quot;Entre com o valor do contrato: &quot;);\n        double totalValue = sc.nextDouble()};\n</code></pre>\n"},{"tags":["java","spring","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":11257063,"reputation":140,"user_id":8256460,"display_name":"sylleryum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624804034,"creation_date":1624804034,"answer_id":68152136,"question_id":68151764,"body_markdown":"found out, apparently the config files have to be on master branch","title":"Spring Config-server throwing 404 on config file only from my git repository","body":"<p>found out, apparently the config files have to be on master branch</p>\n"},{"tags":[],"owner":{"account_id":2897314,"reputation":1,"user_id":2484777,"display_name":"user2484777"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697345492,"creation_date":1697345492,"answer_id":77295335,"question_id":68151764,"body_markdown":"I know this response is very late, but still posting it as I faced the same issue but had to spend sometime to resolve it.\r\n\r\n#1 Changing git uri to https://github.com/SaiUpadhyayula/microservices-config-server works\r\n\r\n - It could be because the above uri is a public git repo and you would not to provide any credentials\r\n\r\n#2 Check if you are providing URI of a private git repository, if so - we need to use a personal access token (generated in github) instead of using the github password.\r\n\r\n\r\n**Steps to check if you are using a private github repo :**\r\n\r\n - Select repository -&gt; settings -&gt; Danger Zone -&gt; Change Visibility\r\n - Shows &quot;Change to Public&quot; if you are in a private repo else shows &quot;Change to Private&quot;\r\n\r\n**Generate Personal Access Token :**\r\n\r\n - Profile -&gt; Settings -&gt; Developer Settings -&gt; Personal Access Tokens -&gt; Tokens(classic) -&gt; Generate New Token -&gt; New Personal Access Token (classic)\r\n - Provide all the required selections and proceed for token generation.\r\n - Use the above generated token as a value for spring.cloud.config.server.git.password configuration in your config server.\r\n\r\n ","title":"Spring Config-server throwing 404 on config file only from my git repository","body":"<p>I know this response is very late, but still posting it as I faced the same issue but had to spend sometime to resolve it.</p>\n<p>#1 Changing git uri to <a href=\"https://github.com/SaiUpadhyayula/microservices-config-server\" rel=\"nofollow noreferrer\">https://github.com/SaiUpadhyayula/microservices-config-server</a> works</p>\n<ul>\n<li>It could be because the above uri is a public git repo and you would not to provide any credentials</li>\n</ul>\n<p>#2 Check if you are providing URI of a private git repository, if so - we need to use a personal access token (generated in github) instead of using the github password.</p>\n<p><strong>Steps to check if you are using a private github repo :</strong></p>\n<ul>\n<li>Select repository -&gt; settings -&gt; Danger Zone -&gt; Change Visibility</li>\n<li>Shows &quot;Change to Public&quot; if you are in a private repo else shows &quot;Change to Private&quot;</li>\n</ul>\n<p><strong>Generate Personal Access Token :</strong></p>\n<ul>\n<li>Profile -&gt; Settings -&gt; Developer Settings -&gt; Personal Access Tokens -&gt; Tokens(classic) -&gt; Generate New Token -&gt; New Personal Access Token (classic)</li>\n<li>Provide all the required selections and proceed for token generation.</li>\n<li>Use the above generated token as a value for spring.cloud.config.server.git.password configuration in your config server.</li>\n</ul>\n"}],"owner":{"account_id":11257063,"reputation":140,"user_id":8256460,"display_name":"sylleryum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697345492,"creation_date":1624801091,"question_id":68151764,"body_markdown":"I&#39;ve been following [this microservices tutorial][1] and launching the config server with these properties:\r\n\r\n    spring.application.name=configuration-server\r\n    server.port=8888\r\n    spring.cloud.config.server.git.uri=https://github.com/sylleryum/microservices-config-server\r\n    \r\n    spring.cloud.config.server.git.clone-on-start=true\r\n\r\nthe config server runs fine, but when trying to access it through http://localhost:8888/order-service/default i get a 404.\r\n\r\nif i change the spring.cloud.config.server.git.uri to https://github.com/SaiUpadhyayula/microservices-config-server &lt;br&gt;which has exactly the same files, it works.\r\n\r\n  [1]: https://www.youtube.com/watch?v=Fq85GschdLw","title":"Spring Config-server throwing 404 on config file only from my git repository","body":"<p>I've been following <a href=\"https://www.youtube.com/watch?v=Fq85GschdLw\" rel=\"nofollow noreferrer\">this microservices tutorial</a> and launching the config server with these properties:</p>\n<pre><code>spring.application.name=configuration-server\nserver.port=8888\nspring.cloud.config.server.git.uri=https://github.com/sylleryum/microservices-config-server\n\nspring.cloud.config.server.git.clone-on-start=true\n</code></pre>\n<p>the config server runs fine, but when trying to access it through http://localhost:8888/order-service/default i get a 404.</p>\n<p>if i change the spring.cloud.config.server.git.uri to <a href=\"https://github.com/SaiUpadhyayula/microservices-config-server\" rel=\"nofollow noreferrer\">https://github.com/SaiUpadhyayula/microservices-config-server</a> <br>which has exactly the same files, it works.</p>\n"},{"tags":["java","arrays","string","arraylist","indexing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1486791578,"post_id":42172610,"comment_id":71509664,"body_markdown":"Perhaps have a look at `String#split` to split the `String` into an array of words","body":"Perhaps have a look at <code>String#split</code> to split the <code>String</code> into an array of words"},{"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"score":0,"creation_date":1486791593,"post_id":42172610,"comment_id":71509670,"body_markdown":"what about using String.split to find all the &quot;z&quot; (http://stackoverflow.com/questions/2206378/how-to-split-a-string-but-also-keep-the-delimiters). then for each word in the list, replace all letters from the second position to before the first &quot;p&quot;","body":"what about using String.split to find all the &quot;z&quot; (<a href=\"http://stackoverflow.com/questions/2206378/how-to-split-a-string-but-also-keep-the-delimiters\" title=\"how to split a string but also keep the delimiters\">stackoverflow.com/questions/2206378/&hellip;</a>). then for each word in the list, replace all letters from the second position to before the first &quot;p&quot;"},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":0,"creation_date":1486792052,"post_id":42172610,"comment_id":71509738,"body_markdown":"This code will fail if a &#39;p&#39; occurs before a letter &#39;z&#39;.  I.e., it fails for &quot;xxpxxzxxpxx&quot;. It also fails for &quot;xxzxxpxxz&quot;. That&#39;s because you are only calling sen.indexOf(&#39;p&#39;) once. You should be calling it after you find a &#39;z&#39;, and you should be using the version of indexOf() that takes two arguments so you can specify the &#39;z&#39; position as the start position for the search.","body":"This code will fail if a &#39;p&#39; occurs before a letter &#39;z&#39;.  I.e., it fails for &quot;xxpxxzxxpxx&quot;. It also fails for &quot;xxzxxpxxz&quot;. That&#39;s because you are only calling sen.indexOf(&#39;p&#39;) once. You should be calling it after you find a &#39;z&#39;, and you should be using the version of indexOf() that takes two arguments so you can specify the &#39;z&#39; position as the start position for the search."},{"owner":{"display_name":"user6464686"},"score":0,"creation_date":1486792408,"post_id":42172610,"comment_id":71509823,"body_markdown":"I know this sounds kind of dumb, but Im not sure how to use the two argument method. Can you give a brief explanation maybe?","body":"I know this sounds kind of dumb, but Im not sure how to use the two argument method. Can you give a brief explanation maybe?"}],"answers":[{"tags":[],"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486797065,"creation_date":1486796594,"answer_id":42173266,"question_id":42172610,"body_markdown":"use this , here i am using **&quot;\\\\bz.p\\\\b&quot;** pattern for finding any word that contains starting char with z and end with p anything can be in between \r\n\r\n     String s =&quot;Write a sentence with no zip and zap spaces:&quot;;\r\n     s=s.replaceAll(&quot;\\\\bz.p\\\\b&quot;, &quot;zp&quot;);\r\n     System.out.println(s);\r\n\r\n**output:**\r\n\r\n    Write a sentence with no zp and zp spaces:\r\n\r\n   or it can be\r\n\r\n     s.replaceAll(&quot;z\\\\w+p&quot;, &quot;zp&quot;);\r\nhere you can check you string \r\n\r\nhttps://regex101.com/r/aKaNTJ/2","title":"How can I put multiple parts of a string into a list?","body":"<p>use this , here i am using <strong>\"\\bz.p\\b\"</strong> pattern for finding any word that contains starting char with z and end with p anything can be in between </p>\n\n<pre><code> String s =\"Write a sentence with no zip and zap spaces:\";\n s=s.replaceAll(\"\\\\bz.p\\\\b\", \"zp\");\n System.out.println(s);\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>Write a sentence with no zp and zp spaces:\n</code></pre>\n\n<p>or it can be</p>\n\n<pre><code> s.replaceAll(\"z\\\\w+p\", \"zp\");\n</code></pre>\n\n<p>here you can check you string </p>\n\n<p><a href=\"https://regex101.com/r/aKaNTJ/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/aKaNTJ/2</a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697345393,"creation_date":1486797097,"answer_id":42173340,"question_id":42172610,"body_markdown":"I think you’re saying that input `zipzapityzoop`, for example, should be changed to `zpzpityzp` with `i`, `a` and `oo` going into `list`.\r\n\r\nYou are on the way and seem to understand the basics. The issues I see are minor, but of course you want to fix them. I am not giving you the full solution to all the points, rather trying to point you in the right direction.\r\n\r\n - As @RicharsSchwartz mentions, to find all strings like `zip`, `zap` and `zoop`, you need to find `p` after every `z` you find. When you have found `z` at index `i`, you may use `sen.indexOf(&#39;p&#39;, i + 1)` to find a `p` after the `z` (the second argument causes the search to begin at that index).\r\n - Every time you have found a `z`, you are setting `i` back to 0, this starting over from the beginning of the string. No need to do that, and this way your program will never stop.\r\n - `sen.substring(i, p1+1)` takes out all of `zip` when I understood you only wanted `i`. You need to adjust your arguments to `substring()`.\r\n - Your use of `sen.replace(word, &quot;&quot;)` will replace all occurrences of `word`. So once you fix your program to take out `a` from `zap`, `zappa` will become `zpp` (not `zppa`), and `azap` will be `zp`. There is no easy way to remove just one specific occurrence of a substring from a `String`. I think the solution is to use the `StringBuilder` class. It has a `delete` method that will remove the part between two specified indices, which is what you need (provided that you are allowed to use a `StringBuilder`).\r\n - Finally you are assigning the changed string to a different variable `idk`, but then you continue to search `sen`. This is like assigning `zpzapityzoop`, `zipzpityzoop` and `zipzapityzp` to `idk` in turn, but never `zpzpityzp`. However, if you use a `StringBuilder` as I just suggested, just use the same `StringBuilder` all the way through and you will be fine.\r\n","title":"How can I put multiple parts of a string into a list?","body":"<p>I think you’re saying that input <code>zipzapityzoop</code>, for example, should be changed to <code>zpzpityzp</code> with <code>i</code>, <code>a</code> and <code>oo</code> going into <code>list</code>.</p>\n<p>You are on the way and seem to understand the basics. The issues I see are minor, but of course you want to fix them. I am not giving you the full solution to all the points, rather trying to point you in the right direction.</p>\n<ul>\n<li>As @RicharsSchwartz mentions, to find all strings like <code>zip</code>, <code>zap</code> and <code>zoop</code>, you need to find <code>p</code> after every <code>z</code> you find. When you have found <code>z</code> at index <code>i</code>, you may use <code>sen.indexOf('p', i + 1)</code> to find a <code>p</code> after the <code>z</code> (the second argument causes the search to begin at that index).</li>\n<li>Every time you have found a <code>z</code>, you are setting <code>i</code> back to 0, this starting over from the beginning of the string. No need to do that, and this way your program will never stop.</li>\n<li><code>sen.substring(i, p1+1)</code> takes out all of <code>zip</code> when I understood you only wanted <code>i</code>. You need to adjust your arguments to <code>substring()</code>.</li>\n<li>Your use of <code>sen.replace(word, &quot;&quot;)</code> will replace all occurrences of <code>word</code>. So once you fix your program to take out <code>a</code> from <code>zap</code>, <code>zappa</code> will become <code>zpp</code> (not <code>zppa</code>), and <code>azap</code> will be <code>zp</code>. There is no easy way to remove just one specific occurrence of a substring from a <code>String</code>. I think the solution is to use the <code>StringBuilder</code> class. It has a <code>delete</code> method that will remove the part between two specified indices, which is what you need (provided that you are allowed to use a <code>StringBuilder</code>).</li>\n<li>Finally you are assigning the changed string to a different variable <code>idk</code>, but then you continue to search <code>sen</code>. This is like assigning <code>zpzapityzoop</code>, <code>zipzpityzoop</code> and <code>zipzapityzp</code> to <code>idk</code> in turn, but never <code>zpzpityzp</code>. However, if you use a <code>StringBuilder</code> as I just suggested, just use the same <code>StringBuilder</code> all the way through and you will be fine.</li>\n</ul>\n"}],"owner":{"display_name":"user6464686"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697345393,"creation_date":1486791143,"question_id":42172610,"body_markdown":"So the goal is to look for patterns like &quot;zip&quot; and &quot;zap&quot; in the string, starting with &#39;z&#39; and ending with &#39;p&#39;. Then, for all such strings, delete the middle letter. \r\n\r\nWhat I had in mind was that I use a for loop to check each letter of the string and once it reaches a &#39;z&#39;, it gets the indexOf(&#39;p&#39;) and puts that and everything in the middle into an ArrayList, while deleting itself from the original string so that indexOf(&#39;p&#39;) can be found.\r\n\r\nHow can I do that?\r\n\r\nThis is my code so far:\r\n\r\n```lang-java\r\npackage Homework;\r\n\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ZipZap {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        List &lt; String &gt; list = new ArrayList &lt; String &gt; ();\r\n\r\n        System.out.print(&quot;Write a sentence with no spaces:&quot;);\r\n        String sen = in .next();\r\n        int len = sen.length();\r\n        int p1 = sen.indexOf(&#39;p&#39;);\r\n        String word = null;\r\n        String idk = null;\r\n\r\n        for (int i = 0; i &lt; len; i++) {\r\n            if (sen.charAt(i) == &#39;z&#39;) {\r\n                word = sen.substring(i, p1 + 1);\r\n                list.add(word);\r\n                idk = sen.replace(word, &quot;&quot;);\r\n                i = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How can I put multiple parts of a string into a list?","body":"<p>So the goal is to look for patterns like &quot;zip&quot; and &quot;zap&quot; in the string, starting with 'z' and ending with 'p'. Then, for all such strings, delete the middle letter.</p>\n<p>What I had in mind was that I use a for loop to check each letter of the string and once it reaches a 'z', it gets the indexOf('p') and puts that and everything in the middle into an ArrayList, while deleting itself from the original string so that indexOf('p') can be found.</p>\n<p>How can I do that?</p>\n<p>This is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Homework;\n\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ZipZap {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        List &lt; String &gt; list = new ArrayList &lt; String &gt; ();\n\n        System.out.print(&quot;Write a sentence with no spaces:&quot;);\n        String sen = in .next();\n        int len = sen.length();\n        int p1 = sen.indexOf('p');\n        String word = null;\n        String idk = null;\n\n        for (int i = 0; i &lt; len; i++) {\n            if (sen.charAt(i) == 'z') {\n                word = sen.substring(i, p1 + 1);\n                list.add(word);\n                idk = sen.replace(word, &quot;&quot;);\n                i = 0;\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":3226255,"reputation":2071,"user_id":2722568,"accept_rate":35,"display_name":"driftwood"},"score":0,"creation_date":1697385517,"post_id":77295283,"comment_id":136270557,"body_markdown":"when I include the TokenController in my app it says: &quot;variable authorizedClientRepo not initialized in the default constructor. private final OAuth2AuthorizedClientRepository authorizedClientRepo&quot;. BTW, I am not building a front end. I am just trying to understand the oauth flow and how to work with it in a small spring boot example so I just needed a way to trigger oauth it in a spring boot app. ultimately I need access to the access_token in another server side app I&#39;m working on.","body":"when I include the TokenController in my app it says: &quot;variable authorizedClientRepo not initialized in the default constructor. private final OAuth2AuthorizedClientRepository authorizedClientRepo&quot;. BTW, I am not building a front end. I am just trying to understand the oauth flow and how to work with it in a small spring boot example so I just needed a way to trigger oauth it in a spring boot app. ultimately I need access to the access_token in another server side app I&#39;m working on."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697389858,"post_id":77295283,"comment_id":136271093,"body_markdown":"Do you have Lombok in your project (where the `@RequiredArgsConstructor` comes from)? If not, you should write the constructor yourself. To get an overview of OAuth2 [this intro to my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#OAuth2_essentials) is probably usefull.","body":"Do you have Lombok in your project (where the <code>@RequiredArgsConstructor</code> comes from)? If not, you should write the constructor yourself. To get an overview of OAuth2 <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#OAuth2_essentials\" rel=\"nofollow noreferrer\">this intro to my tutorials</a> is probably usefull."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697390308,"post_id":77295283,"comment_id":136271146,"body_markdown":"For inter servers communication, you should choose one of the different Spring REST clients: `@FeignClient` (my favorite), `RestTemplate` (maybe not the best idea as it tends to be replaced), `WebClient` (if you like reactive programming), or the new `RestClient` (with apparently an API closer to `WebClient`, but better integrated with servlets). All have their own way to integrate with Spring OAuth2 clients, and automatically pick tokens from the authorized clients repo. Choose one and open its manual (sample with feign in one of my tutorials).","body":"For inter servers communication, you should choose one of the different Spring REST clients: <code>@FeignClient</code> (my favorite), <code>RestTemplate</code> (maybe not the best idea as it tends to be replaced), <code>WebClient</code> (if you like reactive programming), or the new <code>RestClient</code> (with apparently an API closer to <code>WebClient</code>, but better integrated with servlets). All have their own way to integrate with Spring OAuth2 clients, and automatically pick tokens from the authorized clients repo. Choose one and open its manual (sample with feign in one of my tutorials)."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697344136,"creation_date":1697343507,"answer_id":77295283,"question_id":77295008,"body_markdown":"The authorization-code is not an access token. It is a code that can be used only once by the OAuth2 client to get the tokens. So, when `/login/oauth2/code/github` is called, the client does not have the tokens yet.\r\n\r\nOnce a client was successfully authorized for a given client registration (after the code was exchanged for tokens), you can get an `OAuth2AuthorizedClient` instance for that registration from the `OAuth2AuthorizedClientRepository`. `OAuth2AuthorizedClient` contains the access token you are looking for.\r\n\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\nstatic class TokensController {\r\n    private final OAuth2AuthorizedClientRepository authorizedClientRepo;\r\n    \r\n    @GetMapping(&quot;/access-token&quot;)\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    public String getAccessToken(HttpServletRequest request, OAuth2AuthenticationToken auth) {\r\n        final var authorizedClient = authorizedClientRepo.loadAuthorizedClient(auth.getAuthorizedClientRegistrationId(), auth, request);\r\n        return Optional.ofNullable(authorizedClient).map(OAuth2AuthorizedClient::getAccessToken).map(OAuth2AccessToken::getTokenValue).orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nPlease note that **what you are trying to do is very suspicious** and will probably open serious security breaches: access tokens are delivered to a client to act on behalf of a resource owner on the resource servers part of the token audience. If the token is leaked, malicious programs / users can steal resource owner identity and authorize malicious requests to the resource servers. So, **access tokens should be exchanged only between the authorization server issuing it, the client to which it is delivered and the resource server(s) part of the audience**. It should not be accessible to frontends as you are probably implementing, other clients, resource servers not part of the audience, etc.. You&#39;d better be using something like the `TokenRelay` filter in spring-cloud-gateway which replaces the session cookie with an Authorization header containing the access token in session, before forwarding a request from the frontend to a resource server. As reminder, requests processed by a security filter-chain with `oauth2Login` are secured with sessions, not tokens.\r\n\r\nSo instead of exposing access tokens to your frontend, you should probably be implementing the BFF pattern like I do in [this tutorial][1].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff","title":"how to extract access_token from oauth2 flow in spring boot client","body":"<p>The authorization-code is not an access token. It is a code that can be used only once by the OAuth2 client to get the tokens. So, when <code>/login/oauth2/code/github</code> is called, the client does not have the tokens yet.</p>\n<p>Once a client was successfully authorized for a given client registration (after the code was exchanged for tokens), you can get an <code>OAuth2AuthorizedClient</code> instance for that registration from the <code>OAuth2AuthorizedClientRepository</code>. <code>OAuth2AuthorizedClient</code> contains the access token you are looking for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\nstatic class TokensController {\n    private final OAuth2AuthorizedClientRepository authorizedClientRepo;\n    \n    @GetMapping(&quot;/access-token&quot;)\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public String getAccessToken(HttpServletRequest request, OAuth2AuthenticationToken auth) {\n        final var authorizedClient = authorizedClientRepo.loadAuthorizedClient(auth.getAuthorizedClientRegistrationId(), auth, request);\n        return Optional.ofNullable(authorizedClient).map(OAuth2AuthorizedClient::getAccessToken).map(OAuth2AccessToken::getTokenValue).orElse(null);\n    }\n}\n</code></pre>\n<p>Please note that <strong>what you are trying to do is very suspicious</strong> and will probably open serious security breaches: access tokens are delivered to a client to act on behalf of a resource owner on the resource servers part of the token audience. If the token is leaked, malicious programs / users can steal resource owner identity and authorize malicious requests to the resource servers. So, <strong>access tokens should be exchanged only between the authorization server issuing it, the client to which it is delivered and the resource server(s) part of the audience</strong>. It should not be accessible to frontends as you are probably implementing, other clients, resource servers not part of the audience, etc.. You'd better be using something like the <code>TokenRelay</code> filter in spring-cloud-gateway which replaces the session cookie with an Authorization header containing the access token in session, before forwarding a request from the frontend to a resource server. As reminder, requests processed by a security filter-chain with <code>oauth2Login</code> are secured with sessions, not tokens.</p>\n<p>So instead of exposing access tokens to your frontend, you should probably be implementing the BFF pattern like I do in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n"}],"owner":{"account_id":3226255,"reputation":2071,"user_id":2722568,"accept_rate":35,"display_name":"driftwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697344136,"creation_date":1697331899,"question_id":77295008,"body_markdown":"I need to understand how to access and extract the access_token from a spring boot client app. So I created a spring boot app that does the oauth2 flow against the github oauth2 provider and it works to authorize and authenticate my spring boot app no problem. BUT, what I also need is to have my app be able to extract the access_token. This is what I&#39;m having trouble with...I don&#39;t understand how the redirection would look like in a spring boot app. I tried to get an idea from this SO post [OAuth2: Extract access_token fragment from implicit flow][1]...but not sure how this would translate in a spring boot app.\r\n\r\n\r\n Here the client code with what I&#39;ve tried so far and the github config below the spring boot client code:\r\n\r\napplication.yml:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              github:\r\n                client-id: ea54290955115164855a\r\n                client-secret: d4987ca45405bb75adc78175f9aa5c11ab9e2b2a\r\n                scope: user:email\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: &#39;{baseUrl}/login/oauth2/code/github&#39;\r\n            provider:\r\n              github:\r\n                authorization-uri: https://github.com/login/oauth/authorize\r\n                token-uri: https://github.com/login/oauth/access_token\r\n\r\nSecurityConfig.java:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            return httpSecurity\r\n                    .authorizeHttpRequests(auth -&gt; {\r\n                        auth.requestMatchers(&quot;/&quot;).permitAll();\r\n                        auth.requestMatchers(&quot;/favicon.ico&quot;).permitAll();\r\n                        auth.anyRequest().authenticated();\r\n                    })\r\n                    .oauth2Login(withDefaults())\r\n                    .formLogin(withDefaults())\r\n                    .build();\r\n    \r\n        }\r\n    }\r\n\r\nAuthController.java:\r\n\r\n    @RestController\r\n    public class AuthController {\r\n    \r\n        @GetMapping(&quot;/login/github&quot;)\r\n        public String redirectToGitHub() {\r\n            // This will automatically redirect the user to the GitHub authorization URL\r\n            return &quot;redirect:https://github.com/login/oauth/authorize&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/login/oauth2/code/github&quot;)\r\n        public String handleGitHubCallback(@AuthenticationPrincipal OAuth2User principal) {\r\n            // Handle the callback and extract the access token\r\n            String accessToken = principal.getAttribute(&quot;access_token&quot;);\r\n    \r\n            // Use the access token for GitHub API requests or store it as needed\r\n            // Redirect or display user information as required\r\n    \r\n            return &quot;redirect:/profile&quot;; // Redirect to a profile page, for example\r\n        }\r\n    }\r\n\r\nThe /login/oauth2/code/github endpoint is where I thought the browser would re-direct to but it doesn&#39;t...why?\r\n\r\nAnd this is how I registered the client on the github side:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45958983/oauth2-extract-access-token-fragment-from-implicit-flow\r\n  [2]: https://i.stack.imgur.com/lMoXv.png","title":"how to extract access_token from oauth2 flow in spring boot client","body":"<p>I need to understand how to access and extract the access_token from a spring boot client app. So I created a spring boot app that does the oauth2 flow against the github oauth2 provider and it works to authorize and authenticate my spring boot app no problem. BUT, what I also need is to have my app be able to extract the access_token. This is what I'm having trouble with...I don't understand how the redirection would look like in a spring boot app. I tried to get an idea from this SO post <a href=\"https://stackoverflow.com/questions/45958983/oauth2-extract-access-token-fragment-from-implicit-flow\">OAuth2: Extract access_token fragment from implicit flow</a>...but not sure how this would translate in a spring boot app.</p>\n<p>Here the client code with what I've tried so far and the github config below the spring boot client code:</p>\n<p>application.yml:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          github:\n            client-id: ea54290955115164855a\n            client-secret: d4987ca45405bb75adc78175f9aa5c11ab9e2b2a\n            scope: user:email\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/login/oauth2/code/github'\n        provider:\n          github:\n            authorization-uri: https://github.com/login/oauth/authorize\n            token-uri: https://github.com/login/oauth/access_token\n</code></pre>\n<p>SecurityConfig.java:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .authorizeHttpRequests(auth -&gt; {\n                    auth.requestMatchers(&quot;/&quot;).permitAll();\n                    auth.requestMatchers(&quot;/favicon.ico&quot;).permitAll();\n                    auth.anyRequest().authenticated();\n                })\n                .oauth2Login(withDefaults())\n                .formLogin(withDefaults())\n                .build();\n\n    }\n}\n</code></pre>\n<p>AuthController.java:</p>\n<pre><code>@RestController\npublic class AuthController {\n\n    @GetMapping(&quot;/login/github&quot;)\n    public String redirectToGitHub() {\n        // This will automatically redirect the user to the GitHub authorization URL\n        return &quot;redirect:https://github.com/login/oauth/authorize&quot;;\n    }\n\n    @GetMapping(&quot;/login/oauth2/code/github&quot;)\n    public String handleGitHubCallback(@AuthenticationPrincipal OAuth2User principal) {\n        // Handle the callback and extract the access token\n        String accessToken = principal.getAttribute(&quot;access_token&quot;);\n\n        // Use the access token for GitHub API requests or store it as needed\n        // Redirect or display user information as required\n\n        return &quot;redirect:/profile&quot;; // Redirect to a profile page, for example\n    }\n}\n</code></pre>\n<p>The /login/oauth2/code/github endpoint is where I thought the browser would re-direct to but it doesn't...why?</p>\n<p>And this is how I registered the client on the github side:</p>\n<p><a href=\"https://i.stack.imgur.com/lMoXv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lMoXv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","multipartform-data","spring-test-mvc","mockmvc"],"comments":[{"owner":{"account_id":1789488,"reputation":1711,"user_id":1630224,"display_name":"HammerNL"},"score":0,"creation_date":1505916887,"post_id":38571716,"comment_id":79609598,"body_markdown":"Could you please mark my answer as the accepted answer? It will help keep StackOverflow clean and efficient. Thanks!","body":"Could you please mark my answer as the accepted answer? It will help keep StackOverflow clean and efficient. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":1789488,"reputation":1711,"user_id":1630224,"display_name":"HammerNL"},"score":0,"creation_date":1479390149,"post_id":38588686,"comment_id":68543898,"body_markdown":"I found a simple solution! Check out my answer","body":"I found a simple solution! Check out my answer"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1636111467,"post_id":38588686,"comment_id":123475387,"body_markdown":"Spring now also supports any method, not just POST. See [this commit](https://github.com/spring-projects/spring-framework/commit/bac68c8d3f9ca4caa70b54c14e0e9805f88f8d34#diff-baffaa8d24133e1e64e3e019e2dd877d1fb0f0f2dc43a79fb7567f39dd8f2536)","body":"Spring now also supports any method, not just POST. See <a href=\"https://github.com/spring-projects/spring-framework/commit/bac68c8d3f9ca4caa70b54c14e0e9805f88f8d34#diff-baffaa8d24133e1e64e3e019e2dd877d1fb0f0f2dc43a79fb7567f39dd8f2536\" rel=\"nofollow noreferrer\">this commit</a>"}],"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469532533,"creation_date":1469532533,"answer_id":38588686,"question_id":38571716,"body_markdown":"This is unfortunately currently not supported in Spring MVC Test, and I don&#39;t see a work-around other than creating your own custom `MockPutMultipartHttpServletRequestBuilder` and copying-n-pasting code from the standard implementation.\r\n\r\nFor what it&#39;s worth, Spring MVC also does not support `PUT` requests for file uploads by default either. The Multipart resolvers are hard coded to accept only `POST` requests for file uploads -- both for Apache Commons and the standard Servlet API support.\r\n\r\nIf you would like Spring to support `PUT` requests in addition, feel free to [open a ticket][1] in Spring&#39;s JIRA issue tracker.\r\n\r\n\r\n  [1]: https://jira.spring.io/secure/CreateIssue!default.jspa","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>This is unfortunately currently not supported in Spring MVC Test, and I don't see a work-around other than creating your own custom <code>MockPutMultipartHttpServletRequestBuilder</code> and copying-n-pasting code from the standard implementation.</p>\n\n<p>For what it's worth, Spring MVC also does not support <code>PUT</code> requests for file uploads by default either. The Multipart resolvers are hard coded to accept only <code>POST</code> requests for file uploads -- both for Apache Commons and the standard Servlet API support.</p>\n\n<p>If you would like Spring to support <code>PUT</code> requests in addition, feel free to <a href=\"https://jira.spring.io/secure/CreateIssue!default.jspa\" rel=\"noreferrer\">open a ticket</a> in Spring's JIRA issue tracker.</p>\n"},{"comments":[{"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"score":2,"creation_date":1493032966,"post_id":40656484,"comment_id":74222342,"body_markdown":"This should be solution to the question because it allow to solve the problem of the person who ask the question","body":"This should be solution to the question because it allow to solve the problem of the person who ask the question"},{"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"score":4,"creation_date":1560868321,"post_id":40656484,"comment_id":99872773,"body_markdown":"FYI - in spring 5, `fileUpload` is deprecated and should use `multipart` instead. Other than that - works like a charm :)","body":"FYI - in spring 5, <code>fileUpload</code> is deprecated and should use <code>multipart</code> instead. Other than that - works like a charm :)"},{"owner":{"account_id":1077854,"reputation":735,"user_id":1075613,"display_name":"user1075613"},"score":5,"creation_date":1587577564,"post_id":40656484,"comment_id":108569053,"body_markdown":"with java 8 lambda syntax: `builder.with(request -&gt; { request.setMethod(&quot;PUT&quot;); return request; });`","body":"with java 8 lambda syntax: <code>builder.with(request -&gt; { request.setMethod(&quot;PUT&quot;); return request; });</code>"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1636109961,"post_id":40656484,"comment_id":123474889,"body_markdown":"The `PUT` string can also be retrieved from this constant: `HttpMethod.PUT.name()`","body":"The <code>PUT</code> string can also be retrieved from this constant: <code>HttpMethod.PUT.name()</code>"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1657124589,"post_id":40656484,"comment_id":128737227,"body_markdown":"Spent an half of day and finally encounter this answer thank you!","body":"Spent an half of day and finally encounter this answer thank you!"}],"tags":[],"owner":{"account_id":1789488,"reputation":1711,"user_id":1630224,"display_name":"HammerNL"},"comment_count":5,"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1646401549,"creation_date":1479390100,"answer_id":40656484,"question_id":38571716,"body_markdown":"Yes, there is a way, and it&#39;s simple too!\r\n\r\nI ran into the same problem myself. Though I was discouraged by Sam Brannen&#39;s answer, it appears that Spring MVC nowadays DOES support PUT file uploading as I could simply do such a request using Postman (I&#39;m using Spring Boot 1.4.2). So, I kept digging and found that the only problem is the fact that the `MockMultipartHttpServletRequestBuilder` returned by `MockMvcRequestBuilders.fileUpload()` has the method hardcoded to &quot;POST&quot;. Then I discovered the `with()` method...\r\n\r\nand that allowed me to come up with this neat little trick to force the `MockMultipartHttpServletRequestBuilder` to use the &quot;PUT&quot; method anyway:\r\n\r\n        MockMultipartFile file = new MockMultipartFile(&quot;data&quot;, &quot;dummy.csv&quot;,\r\n                &quot;text/plain&quot;, &quot;Some dataset...&quot;.getBytes());\r\n\r\n        MockMultipartHttpServletRequestBuilder builder =\r\n                MockMvcRequestBuilders.multipart(&quot;/test1/datasets/set1&quot;);\r\n        builder.with(new RequestPostProcessor() {\r\n            @Override\r\n            public MockHttpServletRequest postProcessRequest(MockHttpServletRequest request) {\r\n                request.setMethod(&quot;PUT&quot;);\r\n                return request;\r\n            }\r\n        });\r\n        mvc.perform(builder\r\n                .file(file))\r\n                .andExpect(status().isOk());\r\n&amp;nbsp;\r\nWorks like a charm!","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>Yes, there is a way, and it's simple too!</p>\n<p>I ran into the same problem myself. Though I was discouraged by Sam Brannen's answer, it appears that Spring MVC nowadays DOES support PUT file uploading as I could simply do such a request using Postman (I'm using Spring Boot 1.4.2). So, I kept digging and found that the only problem is the fact that the <code>MockMultipartHttpServletRequestBuilder</code> returned by <code>MockMvcRequestBuilders.fileUpload()</code> has the method hardcoded to &quot;POST&quot;. Then I discovered the <code>with()</code> method...</p>\n<p>and that allowed me to come up with this neat little trick to force the <code>MockMultipartHttpServletRequestBuilder</code> to use the &quot;PUT&quot; method anyway:</p>\n<pre><code>    MockMultipartFile file = new MockMultipartFile(&quot;data&quot;, &quot;dummy.csv&quot;,\n            &quot;text/plain&quot;, &quot;Some dataset...&quot;.getBytes());\n\n    MockMultipartHttpServletRequestBuilder builder =\n            MockMvcRequestBuilders.multipart(&quot;/test1/datasets/set1&quot;);\n    builder.with(new RequestPostProcessor() {\n        @Override\n        public MockHttpServletRequest postProcessRequest(MockHttpServletRequest request) {\n            request.setMethod(&quot;PUT&quot;);\n            return request;\n        }\n    });\n    mvc.perform(builder\n            .file(file))\n            .andExpect(status().isOk());\n</code></pre>\n<p> \nWorks like a charm!</p>\n"},{"comments":[{"owner":{"account_id":8103484,"reputation":383,"user_id":6105830,"display_name":"Lucas Soares"},"score":0,"creation_date":1617288285,"post_id":60759091,"comment_id":118267845,"body_markdown":"Hello. Just tried to do this but I keep getting &quot;Content type &#39;application/json&#39; not supported&quot; for mockMvc test. I have a controller with two RequestPart, one of them is a POJO and the other a MultipartFile. What I&#39;m doing wrong? Using postman is working fine!","body":"Hello. Just tried to do this but I keep getting &quot;Content type &#39;application/json&#39; not supported&quot; for mockMvc test. I have a controller with two RequestPart, one of them is a POJO and the other a MultipartFile. What I&#39;m doing wrong? Using postman is working fine!"}],"tags":[],"owner":{"account_id":3007061,"reputation":536,"user_id":2551359,"display_name":"lalilulelo_1986"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584628410,"creation_date":1584627700,"answer_id":60759091,"question_id":38571716,"body_markdown":"You can pass both `foo` and `file`\r\n\r\nTry rewrite you controller like:\r\n```java\r\n@RequestMapping(value = &quot;/putIn&quot;, method = RequestMethod.PUT)\r\npublic Foo updateFoo(\r\n    HttpServletRequest request,\r\n    @RequestPart Foo foo,\r\n    @RequestPart MultipartFile file) {\r\n    ...\r\n}\r\n```\r\n\r\nAnd test looks like:\r\n```java\r\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;dummy.csv&quot;,\r\n            &quot;text/plain&quot;, &quot;Some dataset...&quot;.getBytes());\r\n    // application/json if you pass json as string\r\n    MockMultipartFile file2 = new MockMultipartFile(&quot;foo&quot;, &quot;foo.txt&quot;,\r\n            &quot;application/json&quot;, &quot;Foo data&quot;.getBytes());\r\n\r\n    MockMultipartHttpServletRequestBuilder builder =\r\n            MockMvcRequestBuilders.multipart(&quot;/test1/datasets/set1&quot;);\r\n    builder.with(new RequestPostProcessor() {\r\n        @Override\r\n        public MockHttpServletRequest postProcessRequest(MockHttpServletRequest request) {\r\n            request.setMethod(&quot;PUT&quot;);\r\n            return request;\r\n        }\r\n    });\r\n    mvc.perform(builder\r\n            .file(file)\r\n            .file(file2))\r\n            .andExpect(status().ok());\r\n```","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>You can pass both <code>foo</code> and <code>file</code></p>\n\n<p>Try rewrite you controller like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = \"/putIn\", method = RequestMethod.PUT)\npublic Foo updateFoo(\n    HttpServletRequest request,\n    @RequestPart Foo foo,\n    @RequestPart MultipartFile file) {\n    ...\n}\n</code></pre>\n\n<p>And test looks like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    MockMultipartFile file = new MockMultipartFile(\"file\", \"dummy.csv\",\n            \"text/plain\", \"Some dataset...\".getBytes());\n    // application/json if you pass json as string\n    MockMultipartFile file2 = new MockMultipartFile(\"foo\", \"foo.txt\",\n            \"application/json\", \"Foo data\".getBytes());\n\n    MockMultipartHttpServletRequestBuilder builder =\n            MockMvcRequestBuilders.multipart(\"/test1/datasets/set1\");\n    builder.with(new RequestPostProcessor() {\n        @Override\n        public MockHttpServletRequest postProcessRequest(MockHttpServletRequest request) {\n            request.setMethod(\"PUT\");\n            return request;\n        }\n    });\n    mvc.perform(builder\n            .file(file)\n            .file(file2))\n            .andExpect(status().ok());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736977,"reputation":1090,"user_id":6535270,"accept_rate":50,"display_name":"orpheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627341386,"creation_date":1627341386,"answer_id":68537254,"question_id":38571716,"body_markdown":"Translating @HammerNl answer for Kotlin. This worked for me.\r\n\r\n```\r\nval file = File(&quot;/path/to/file&quot;).readBytes()\r\nval multipartFile = MockMultipartFile(&quot;image&quot;, &quot;image.jpg&quot;, &quot;image/jpg&quot;, file)\r\n\r\nval postProcess = RequestPostProcessor { it.method = &quot;PUT&quot;; it}\r\nmockMvc.perform(\r\n    MockMvcRequestBuilders.multipart(&quot;/api/image/$id&quot;)\r\n        .file(multipartFile)\r\n        .with(postProcess))\r\n        .andExpect(MockMvcResultMatchers.status().isOk)\r\n```","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>Translating @HammerNl answer for Kotlin. This worked for me.</p>\n<pre><code>val file = File(&quot;/path/to/file&quot;).readBytes()\nval multipartFile = MockMultipartFile(&quot;image&quot;, &quot;image.jpg&quot;, &quot;image/jpg&quot;, file)\n\nval postProcess = RequestPostProcessor { it.method = &quot;PUT&quot;; it}\nmockMvc.perform(\n    MockMvcRequestBuilders.multipart(&quot;/api/image/$id&quot;)\n        .file(multipartFile)\n        .with(postProcess))\n        .andExpect(MockMvcResultMatchers.status().isOk)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":936721,"reputation":12702,"user_id":965535,"accept_rate":0,"display_name":"Bassem Reda Zohdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697343401,"creation_date":1697343401,"answer_id":77295281,"question_id":38571716,"body_markdown":"I think this issue has been already fixed in V 5.3.22 \r\n\r\n    /**\r\n     * Variant of {@link #multipart(String, Object...)} that also accepts an\r\n     * {@link HttpMethod}.\r\n     * @param httpMethod the HTTP method to use\r\n     * @param urlTemplate a URL template; the resulting URL will be encoded\r\n     * @param uriVariables zero or more URI variables\r\n     * @since 5.3.22\r\n     */\r\n    public static MockMultipartHttpServletRequestBuilder multipart(HttpMethod httpMethod, String urlTemplate, Object... uriVariables) {\r\n    \treturn new MockMultipartHttpServletRequestBuilder(httpMethod, urlTemplate, uriVariables);\r\n    }","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>I think this issue has been already fixed in V 5.3.22</p>\n<pre><code>/**\n * Variant of {@link #multipart(String, Object...)} that also accepts an\n * {@link HttpMethod}.\n * @param httpMethod the HTTP method to use\n * @param urlTemplate a URL template; the resulting URL will be encoded\n * @param uriVariables zero or more URI variables\n * @since 5.3.22\n */\npublic static MockMultipartHttpServletRequestBuilder multipart(HttpMethod httpMethod, String urlTemplate, Object... uriVariables) {\n    return new MockMultipartHttpServletRequestBuilder(httpMethod, urlTemplate, uriVariables);\n}\n</code></pre>\n"}],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22070,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":40656484,"answer_count":5,"score":42,"last_activity_date":1697343401,"creation_date":1469460250,"question_id":38571716,"body_markdown":"I have a controller&#39;s method with a `PUT` method, which receives multipart/form-data:\r\n\r\n       @RequestMapping(value = &quot;/putIn&quot;, method = RequestMethod.PUT)\r\n       public Foo updateFoo(HttpServletRequest request,\r\n                               @RequestBody Foo foo,\r\n                               @RequestParam(&quot;foo_icon&quot;) MultipartFile file) {\r\n        ...\r\n       }\r\n\r\nand I want to test it using `MockMvc`. Unfortunately `MockMvcRequestBuilders.fileUpload` creates essentially an instance of `MockMultipartHttpServletRequestBuilder` which has a `POST` method:\r\n\r\n    super(HttpMethod.POST, urlTemplate, urlVariables)\r\n\r\n**EDIT:**\r\n&lt;strike&gt;Surely I can&lt;/strike&gt; **I can not** create my own implementation of `MockHttpServletRequestBuilder`, say\r\n\r\n    public MockPutMultipartHttpServletRequestBuilder(String urlTemplate, Object... urlVariables) {\r\n\t\tsuper(HttpMethod.PUT, urlTemplate, urlVariables);\r\n\t\tsuper.contentType(MediaType.MULTIPART_FORM_DATA);\r\n\t}\r\n\r\nbecause `MockHttpServletRequestBuilder` has a package-local constructor.\r\n\r\n&lt;strike&gt;But I&#39;m wondering is there any more convenient&lt;/strike&gt; Is any way to do this, may be I missed some existent class or method for doing this?","title":"How to PUT multipart/form-data using Spring MockMvc?","body":"<p>I have a controller's method with a <code>PUT</code> method, which receives multipart/form-data:</p>\n\n<pre><code>   @RequestMapping(value = \"/putIn\", method = RequestMethod.PUT)\n   public Foo updateFoo(HttpServletRequest request,\n                           @RequestBody Foo foo,\n                           @RequestParam(\"foo_icon\") MultipartFile file) {\n    ...\n   }\n</code></pre>\n\n<p>and I want to test it using <code>MockMvc</code>. Unfortunately <code>MockMvcRequestBuilders.fileUpload</code> creates essentially an instance of <code>MockMultipartHttpServletRequestBuilder</code> which has a <code>POST</code> method:</p>\n\n<pre><code>super(HttpMethod.POST, urlTemplate, urlVariables)\n</code></pre>\n\n<p><strong>EDIT:</strong>\n<strike>Surely I can</strike> <strong>I can not</strong> create my own implementation of <code>MockHttpServletRequestBuilder</code>, say</p>\n\n<pre><code>public MockPutMultipartHttpServletRequestBuilder(String urlTemplate, Object... urlVariables) {\n    super(HttpMethod.PUT, urlTemplate, urlVariables);\n    super.contentType(MediaType.MULTIPART_FORM_DATA);\n}\n</code></pre>\n\n<p>because <code>MockHttpServletRequestBuilder</code> has a package-local constructor.</p>\n\n<p><strike>But I'm wondering is there any more convenient</strike> Is any way to do this, may be I missed some existent class or method for doing this?</p>\n"},{"tags":["java","jvm-hotspot"],"answers":[{"comments":[{"owner":{"account_id":2771458,"reputation":2255,"user_id":2385988,"display_name":"Justin"},"score":1,"creation_date":1368630122,"post_id":16568530,"comment_id":23805945,"body_markdown":"I heard OpenJDK also uses HotSpot to execute code? Is that true?","body":"I heard OpenJDK also uses HotSpot to execute code? Is that true?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1405857801,"post_id":16568530,"comment_id":38587399,"body_markdown":"@TheNewIdiot, so you are saying HotSpot is part of OpenJDK? Or is there also a proprietary HotSpot as the answer above suggests?","body":"@TheNewIdiot, so you are saying HotSpot is part of OpenJDK? Or is there also a proprietary HotSpot as the answer above suggests?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1501257368,"post_id":16568530,"comment_id":77717014,"body_markdown":"@NINC, So Hotspot is both part of OracleJDK and OpenJDK? Hotspot = JRockit = OracleJDK = OpenJDK?","body":"@NINC, So Hotspot is both part of OracleJDK and OpenJDK? Hotspot = JRockit = OracleJDK = OpenJDK?"}],"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1368630412,"creation_date":1368630037,"answer_id":16568530,"question_id":16568253,"body_markdown":"**OpenJDK** (Open Java Development Kit) is a free and open source implementation of the Java Platform, Standard Edition (Java SE).The openjdk is a project started by Sun Microsystems, nowadays care by many companies and the community for build a Java Development Kit absolutely in open source. As per the [official documentation][1].\r\n\r\n*OpenJDK is an open-source implementation of the Java Platform, Standard Edition (Java SE) specifications. In May 2007, Sun released a fully buildable Java Development Kit (JDK) version for Java SE to the OpenJDK Community as free software under the GNU General Public License version two (GPLv2). Sun announced the Interim Governing Board for the OpenJDK community. Sun also announced that OpenJDK-based implementations can use the Java SE 6 Technical Compatibility Kit (JCK) to establish compatibility with the Java SE 6 specification.* \r\n\r\nThe **OpenJDK project** consists of a number of components - **HotSpot (the virtual machine)**, the Java Class Library and the javac Java compiler.For more on it, visit its [site][3].\r\n\r\nThe current JVM provided by Sun/Oracle is called **HotSpot** because it seeks hot spots of use in the code (places where code is more intensively used) for &quot;just-in-time&quot; optimization. From the [wikipedia][2], *HotSpot, released as the &quot;Java HotSpot Performance Engine&quot; is a Java virtual machine for desktops and servers, maintained and distributed by Oracle Corporation.*\r\n\r\n[1]:http://www.oracle.com/technetwork/java/javase/community/opensourcejdk-jsp-136417.html\r\n[2]:http://en.wikipedia.org/wiki/HotSpot\r\n[3]:http://openjdk.java.net/","title":"Difference between JVM and HotSpot?","body":"<p><strong>OpenJDK</strong> (Open Java Development Kit) is a free and open source implementation of the Java Platform, Standard Edition (Java SE).The openjdk is a project started by Sun Microsystems, nowadays care by many companies and the community for build a Java Development Kit absolutely in open source. As per the <a href=\"http://www.oracle.com/technetwork/java/javase/community/opensourcejdk-jsp-136417.html\">official documentation</a>.</p>\n\n<p><em>OpenJDK is an open-source implementation of the Java Platform, Standard Edition (Java SE) specifications. In May 2007, Sun released a fully buildable Java Development Kit (JDK) version for Java SE to the OpenJDK Community as free software under the GNU General Public License version two (GPLv2). Sun announced the Interim Governing Board for the OpenJDK community. Sun also announced that OpenJDK-based implementations can use the Java SE 6 Technical Compatibility Kit (JCK) to establish compatibility with the Java SE 6 specification.</em> </p>\n\n<p>The <strong>OpenJDK project</strong> consists of a number of components - <strong>HotSpot (the virtual machine)</strong>, the Java Class Library and the javac Java compiler.For more on it, visit its <a href=\"http://openjdk.java.net/\">site</a>.</p>\n\n<p>The current JVM provided by Sun/Oracle is called <strong>HotSpot</strong> because it seeks hot spots of use in the code (places where code is more intensively used) for \"just-in-time\" optimization. From the <a href=\"http://en.wikipedia.org/wiki/HotSpot\">wikipedia</a>, <em>HotSpot, released as the \"Java HotSpot Performance Engine\" is a Java virtual machine for desktops and servers, maintained and distributed by Oracle Corporation.</em></p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":205,"is_accepted":true,"score":205,"last_activity_date":1608475671,"creation_date":1368630352,"answer_id":16568659,"question_id":16568253,"body_markdown":"The definition of what exactly is a Java Virtual Machine is stated in the [Java Virtual Machine Specification][1]\r\n\r\nThe JVM is by definition a [virtual machine][2], i.e. a software machine that simulates what a real machine does. Like a real machine, it has an [instruction set][3], a virtual computer architecture and an execution model. It is capable of running code written with this virtual instruction set, pretty much like a real machine can run machine code.\r\n\r\n[HotSpot][4] is an implementation of the JVM concept. It was originally developed by Sun, and now it is owned by Oracle. There are other implementations of the JVM specification, like [JRockit][5], [IBM J9][6], among many others. \r\n\r\nSee [List of Java Virtual Machine Implementations][7]\r\n\r\nThe [OpenJDK][8] is a project under which an open source implementation of HotSpot (and many other pieces of the JDK  e.g. compiler, APIs, tools, etc) is developed.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se7/html/\r\n  [2]: http://en.wikipedia.org/wiki/Virtual_Machine\r\n  [3]: http://en.wikipedia.org/wiki/Instruction_set\r\n  [4]: http://en.wikipedia.org/wiki/HotSpot\r\n  [5]: http://en.wikipedia.org/wiki/JRockit\r\n  [6]: http://en.wikipedia.org/wiki/IBM_J9\r\n  [7]: http://en.wikipedia.org/wiki/List_of_Java_virtual_machines\r\n  [8]: http://en.wikipedia.org/wiki/OpenJDK","title":"Difference between JVM and HotSpot?","body":"<p>The definition of what exactly is a Java Virtual Machine is stated in the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/\" rel=\"noreferrer\">Java Virtual Machine Specification</a></p>\n<p>The JVM is by definition a <a href=\"http://en.wikipedia.org/wiki/Virtual_Machine\" rel=\"noreferrer\">virtual machine</a>, i.e. a software machine that simulates what a real machine does. Like a real machine, it has an <a href=\"http://en.wikipedia.org/wiki/Instruction_set\" rel=\"noreferrer\">instruction set</a>, a virtual computer architecture and an execution model. It is capable of running code written with this virtual instruction set, pretty much like a real machine can run machine code.</p>\n<p><a href=\"http://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\">HotSpot</a> is an implementation of the JVM concept. It was originally developed by Sun, and now it is owned by Oracle. There are other implementations of the JVM specification, like <a href=\"http://en.wikipedia.org/wiki/JRockit\" rel=\"noreferrer\">JRockit</a>, <a href=\"http://en.wikipedia.org/wiki/IBM_J9\" rel=\"noreferrer\">IBM J9</a>, among many others.</p>\n<p>See <a href=\"http://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"noreferrer\">List of Java Virtual Machine Implementations</a></p>\n<p>The <a href=\"http://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">OpenJDK</a> is a project under which an open source implementation of HotSpot (and many other pieces of the JDK  e.g. compiler, APIs, tools, etc) is developed.</p>\n"},{"tags":[],"owner":{"display_name":"user6231921"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1403464234,"creation_date":1403464234,"answer_id":24354744,"question_id":16568253,"body_markdown":"HotSpot is, as mentioned above, a cross-platform implementation of the Java Virtual Machine (JVM) Concept, and is distributed with the OpenJDK (Java Developer Kit), under the GNU General Public License. HotSpot is written mainly in C++, and was originally developed under Sun Microsystems. It is currently developed under the OpenJDK Project, at www.java.net. The HotSpot JVM was available as an add-on for Java 1.2, and later was used as the default Sun JVM in Java 1.3. The JVM is currently in Version 7, Build b147, and has an active development community behind it. \r\n\r\nFor more information, goto:\r\nhttps://www.java.net/\r\n\r\nHappy Coding!","title":"Difference between JVM and HotSpot?","body":"<p>HotSpot is, as mentioned above, a cross-platform implementation of the Java Virtual Machine (JVM) Concept, and is distributed with the OpenJDK (Java Developer Kit), under the GNU General Public License. HotSpot is written mainly in C++, and was originally developed under Sun Microsystems. It is currently developed under the OpenJDK Project, at www.java.net. The HotSpot JVM was available as an add-on for Java 1.2, and later was used as the default Sun JVM in Java 1.3. The JVM is currently in Version 7, Build b147, and has an active development community behind it. </p>\n\n<p>For more information, goto:\n<a href=\"https://www.java.net/\" rel=\"noreferrer\">https://www.java.net/</a></p>\n\n<p>Happy Coding!</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1437693279,"creation_date":1437460384,"answer_id":31531894,"question_id":16568253,"body_markdown":"&gt;JVM is an abstract machine (specifications). HotSpot, OpenJDK and JRockit and so are implementations of JVM.\r\n\r\n**Free and open source implementations**  \r\n\r\n - **HotSpot**, the primary reference Java VM implementation\r\n \r\n - **OpenJDK** — Open Java Development Kit is a free and open source implementation licensed under the GNU General Public License (GNU\r\n   GPL) with a linking exception.  \r\n\r\n**Proprietary implementations**  \r\n\r\n - **JRockit** (originally from Appeal Virtual Machines) acquired by Oracle for Linux, Windows and Solaris\r\n\r\nfor more [implementations][1]  \r\n[link][2] explains differences between HotSpot and JRocket \r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\r\n  [2]: http://www.dbi-services.com/index.php/blog/entry/a-comparison-of-java-virtual-machines-hotspot-jvm-vs-jrockit-jvm","title":"Difference between JVM and HotSpot?","body":"<blockquote>\n  <p>JVM is an abstract machine (specifications). HotSpot, OpenJDK and JRockit and so are implementations of JVM.</p>\n</blockquote>\n\n<p><strong>Free and open source implementations</strong>  </p>\n\n<ul>\n<li><p><strong>HotSpot</strong>, the primary reference Java VM implementation</p></li>\n<li><p><strong>OpenJDK</strong> — Open Java Development Kit is a free and open source implementation licensed under the GNU General Public License (GNU\nGPL) with a linking exception.  </p></li>\n</ul>\n\n<p><strong>Proprietary implementations</strong>  </p>\n\n<ul>\n<li><strong>JRockit</strong> (originally from Appeal Virtual Machines) acquired by Oracle for Linux, Windows and Solaris</li>\n</ul>\n\n<p>for more <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"noreferrer\">implementations</a><br>\n<a href=\"http://www.dbi-services.com/index.php/blog/entry/a-comparison-of-java-virtual-machines-hotspot-jvm-vs-jrockit-jvm\" rel=\"noreferrer\">link</a> explains differences between HotSpot and JRocket </p>\n"},{"comments":[{"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"score":8,"creation_date":1596643748,"post_id":59295177,"comment_id":111879326,"body_markdown":"Very helpful  answer .Thanks sir","body":"Very helpful  answer .Thanks sir"},{"owner":{"account_id":3534401,"reputation":4315,"user_id":2953079,"display_name":"Nomnom"},"score":0,"creation_date":1697322132,"post_id":59295177,"comment_id":136265932,"body_markdown":"Man, now I wish all answers on SO were this detailed","body":"Man, now I wish all answers on SO were this detailed"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1697342614,"creation_date":1576103771,"answer_id":59295177,"question_id":16568253,"body_markdown":"Note: *AdoptOpenJDK* has changed its name to *Adoptium* after moving to the Eclipse Foundation in late 2020-06.\r\n\r\n\r\n----------\r\n\r\n\r\n&gt;Difference between JVM and HotSpot?\r\n\r\nA [Java Virtual Machine (JVM)][1] is an imaginary computer that has never been physically built as hardware. A JVM runs programs compiled to its imaginary [instruction set][2] written to storage as an [intermediate representation][3] known as [bytecode][4]. \r\n\r\n\r\n\r\nAt runtime, the bytecode must be translated from the imaginary instruction set to the actual instruction set of the CPU of the host machine. This can be done on-the-fly by an [interpreter][5]. Or the bytecode can be fully [compiled][6] and [cached][7], to run faster than through the interpreter, in a process known as [Just-In-Time (JIT) compiling][8].\r\n\r\nOver the decades, there have been many [implementations of the JVM][9]. Most have fallen away.\r\n\r\n[*HotSpot*][10] is one implementation of JIT technology that starts by running interpreted, and watches the actual performance of the app. Parts of the app are then selected to be fully-compiled as native code and cached, for much faster execution. HotSpot was developed at [Sun][11] as a commercial product. After acquiring Sun, [Oracle][12] further evolved HotSpot by combining important parts of their competing product, [*JRockit*][13].  HotSpot is now open-sourced through the [*OpenJDK*][14] project, available free-of-charge.\r\n\r\nAnother such implementation in [*OpenJ9*][15], developed by [IBM][16], and now open-sourced through the [Eclipse Foundation][17] and available free-of-charge. Some JVM distributions built on OpenJDK replace  HotSpot with OpenJ9 while still using the rest of OpenJDK such as the [Java SE][18] class libraries. For example, the pre-built distributions available at [*AdoptOpenJDK*][19] provide your choice of *HotSpot* or *OpenJ9* on some hardware.\r\n\r\nDiagram showing history of HotSpot &amp; JRockit merging, and OpenJ9 both available in AdoptOpenJDK.\r\n\r\n[![Diagram showing history of HotSpot &amp; JRockit merging, and OpenJ9 both available in AdoptOpenJDK][20]][20]\r\n\r\n&gt;What exactly is HotSpot and how does it relate to JVM and OpenJDK? Is it a library? What exactly does it do?\r\n\r\n - [*HotSpot*][10] is an implementation of the part of a JVM that interprets and/or compiles Java bytecode to be executed on the host CPU. \r\n - [*OpenJ9*][15] is an alternative. \r\n\r\n*OpenJ9* is generally known for much faster starting and much lower memory usage initially, while *HotSpot* may run more efficiently overall for long-running apps. Both are well-regarded, well-worn, and available with distributions of OpenJDK.\r\n\r\n[*OpenJDK*][14] is an open-source project that fully implements the [Java Specifications][21], [JSR][22]s, and [JEP][23]s that define [the Java platform][24]. Major contributors include Oracle, IBM, Apple, and others. \r\n\r\nEvery JVM implementation I know of today is based entirely or mostly on the OpenJDK [codebase][25] and uses either HotSpot or OpenJ9 technology.\r\n\r\nBesides the JVM, OpenJDK also provides an implementation in source code for all classes required by the Java SE specifications, such as *java.lang*, *java.util*, *java.time*, and other packages.\r\n\r\n\r\n\r\n&gt;Also, what is the difference between OpenJDK and HotSpot?\r\n\r\nThe source code for *HotSpot* is housed, maintained, and further developed as part of the *OpenJDK* project. The alternative, *OpenJ9*, is housed, maintained, and further developed at the *Eclipse Foundation*, while replacing HotSpot in some distributions of OpenJDK.\r\n\r\nSome distributions of Java technology choose to ship with HotSpot. Some distributions choose to substitute the portion of the *OpenJDK* codebase that is *HotSpot* with the alternative, *OpenJ9*. \r\n\r\nHere is a flow chart graphic to help you choose a vendor for a distribution of the Java platform.\r\n\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][26]][26]\r\n\r\n\r\n\r\n[![Motivations in choosing a vendor for Java][27]][27]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [2]: https://en.wikipedia.org/wiki/Instruction_set_architecture\r\n  [3]: https://en.wikipedia.org/wiki/Intermediate_representation\r\n  [4]: https://en.wikipedia.org/wiki/Bytecode\r\n  [5]: https://en.wikipedia.org/wiki/Interpreter_(computing)\r\n  [6]: https://en.wikipedia.org/wiki/Compiler\r\n  [7]: https://en.wikipedia.org/wiki/Cache_(computing)#Software_caches\r\n  [8]: https://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [9]: https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\r\n  [10]: https://en.wikipedia.org/wiki/HotSpot\r\n  [11]: https://en.wikipedia.org/wiki/Sun_Microsystems\r\n  [12]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [13]: https://en.wikipedia.org/wiki/JRockit\r\n  [14]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [15]: https://en.wikipedia.org/wiki/OpenJ9\r\n  [16]: https://en.wikipedia.org/wiki/IBM\r\n  [17]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [18]: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [19]: https://adoptopenjdk.net/\r\n  [20]: https://i.stack.imgur.com/3kHPr.png\r\n  [21]: https://docs.oracle.com/javase/specs/\r\n  [22]: https://jcp.org/en/jsr/overview\r\n  [23]: https://openjdk.java.net/jeps/0\r\n  [24]: https://en.wikipedia.org/wiki/Java_(software_platform)\r\n  [25]: https://en.wikipedia.org/wiki/Codebase\r\n  [26]: https://i.stack.imgur.com/jN6Is.png\r\n  [27]: https://i.stack.imgur.com/hSgMu.png","title":"Difference between JVM and HotSpot?","body":"<p>Note: <em>AdoptOpenJDK</em> has changed its name to <em>Adoptium</em> after moving to the Eclipse Foundation in late 2020-06.</p>\n<hr />\n<blockquote>\n<p>Difference between JVM and HotSpot?</p>\n</blockquote>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">Java Virtual Machine (JVM)</a> is an imaginary computer that has never been physically built as hardware. A JVM runs programs compiled to its imaginary <a href=\"https://en.wikipedia.org/wiki/Instruction_set_architecture\" rel=\"noreferrer\">instruction set</a> written to storage as an <a href=\"https://en.wikipedia.org/wiki/Intermediate_representation\" rel=\"noreferrer\">intermediate representation</a> known as <a href=\"https://en.wikipedia.org/wiki/Bytecode\" rel=\"noreferrer\">bytecode</a>.</p>\n<p>At runtime, the bytecode must be translated from the imaginary instruction set to the actual instruction set of the CPU of the host machine. This can be done on-the-fly by an <a href=\"https://en.wikipedia.org/wiki/Interpreter_(computing)\" rel=\"noreferrer\">interpreter</a>. Or the bytecode can be fully <a href=\"https://en.wikipedia.org/wiki/Compiler\" rel=\"noreferrer\">compiled</a> and <a href=\"https://en.wikipedia.org/wiki/Cache_(computing)#Software_caches\" rel=\"noreferrer\">cached</a>, to run faster than through the interpreter, in a process known as <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">Just-In-Time (JIT) compiling</a>.</p>\n<p>Over the decades, there have been many <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"noreferrer\">implementations of the JVM</a>. Most have fallen away.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\"><em>HotSpot</em></a> is one implementation of JIT technology that starts by running interpreted, and watches the actual performance of the app. Parts of the app are then selected to be fully-compiled as native code and cached, for much faster execution. HotSpot was developed at <a href=\"https://en.wikipedia.org/wiki/Sun_Microsystems\" rel=\"noreferrer\">Sun</a> as a commercial product. After acquiring Sun, <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"noreferrer\">Oracle</a> further evolved HotSpot by combining important parts of their competing product, <a href=\"https://en.wikipedia.org/wiki/JRockit\" rel=\"noreferrer\"><em>JRockit</em></a>.  HotSpot is now open-sourced through the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\"><em>OpenJDK</em></a> project, available free-of-charge.</p>\n<p>Another such implementation in <a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"noreferrer\"><em>OpenJ9</em></a>, developed by <a href=\"https://en.wikipedia.org/wiki/IBM\" rel=\"noreferrer\">IBM</a>, and now open-sourced through the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"noreferrer\">Eclipse Foundation</a> and available free-of-charge. Some JVM distributions built on OpenJDK replace  HotSpot with OpenJ9 while still using the rest of OpenJDK such as the <a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"noreferrer\">Java SE</a> class libraries. For example, the pre-built distributions available at <a href=\"https://adoptopenjdk.net/\" rel=\"noreferrer\"><em>AdoptOpenJDK</em></a> provide your choice of <em>HotSpot</em> or <em>OpenJ9</em> on some hardware.</p>\n<p>Diagram showing history of HotSpot &amp; JRockit merging, and OpenJ9 both available in AdoptOpenJDK.</p>\n<p><a href=\"https://i.stack.imgur.com/3kHPr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3kHPr.png\" alt=\"Diagram showing history of HotSpot &amp; JRockit merging, and OpenJ9 both available in AdoptOpenJDK\" /></a></p>\n<blockquote>\n<p>What exactly is HotSpot and how does it relate to JVM and OpenJDK? Is it a library? What exactly does it do?</p>\n</blockquote>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\"><em>HotSpot</em></a> is an implementation of the part of a JVM that interprets and/or compiles Java bytecode to be executed on the host CPU.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"noreferrer\"><em>OpenJ9</em></a> is an alternative.</li>\n</ul>\n<p><em>OpenJ9</em> is generally known for much faster starting and much lower memory usage initially, while <em>HotSpot</em> may run more efficiently overall for long-running apps. Both are well-regarded, well-worn, and available with distributions of OpenJDK.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\"><em>OpenJDK</em></a> is an open-source project that fully implements the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">Java Specifications</a>, <a href=\"https://jcp.org/en/jsr/overview\" rel=\"noreferrer\">JSR</a>s, and <a href=\"https://openjdk.java.net/jeps/0\" rel=\"noreferrer\">JEP</a>s that define <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)\" rel=\"noreferrer\">the Java platform</a>. Major contributors include Oracle, IBM, Apple, and others.</p>\n<p>Every JVM implementation I know of today is based entirely or mostly on the OpenJDK <a href=\"https://en.wikipedia.org/wiki/Codebase\" rel=\"noreferrer\">codebase</a> and uses either HotSpot or OpenJ9 technology.</p>\n<p>Besides the JVM, OpenJDK also provides an implementation in source code for all classes required by the Java SE specifications, such as <em>java.lang</em>, <em>java.util</em>, <em>java.time</em>, and other packages.</p>\n<blockquote>\n<p>Also, what is the difference between OpenJDK and HotSpot?</p>\n</blockquote>\n<p>The source code for <em>HotSpot</em> is housed, maintained, and further developed as part of the <em>OpenJDK</em> project. The alternative, <em>OpenJ9</em>, is housed, maintained, and further developed at the <em>Eclipse Foundation</em>, while replacing HotSpot in some distributions of OpenJDK.</p>\n<p>Some distributions of Java technology choose to ship with HotSpot. Some distributions choose to substitute the portion of the <em>OpenJDK</em> codebase that is <em>HotSpot</em> with the alternative, <em>OpenJ9</em>.</p>\n<p>Here is a flow chart graphic to help you choose a vendor for a distribution of the Java platform.</p>\n<p><a href=\"https://i.stack.imgur.com/jN6Is.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jN6Is.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hSgMu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hSgMu.png\" alt=\"Motivations in choosing a vendor for Java\" /></a></p>\n"}],"owner":{"account_id":2771458,"reputation":2255,"user_id":2385988,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110150,"favorite_count":0,"down_vote_count":0,"up_vote_count":221,"accepted_answer_id":16568659,"answer_count":5,"score":221,"last_activity_date":1697342614,"creation_date":1368629324,"question_id":16568253,"body_markdown":"What exactly is HotSpot and how does it relate to JVM and OpenJDK? Is it a library? What exactly does it do?\r\n\r\nAlso, what is the difference between OpenJDK and HotSpot?","title":"Difference between JVM and HotSpot?","body":"<p>What exactly is HotSpot and how does it relate to JVM and OpenJDK? Is it a library? What exactly does it do?</p>\n\n<p>Also, what is the difference between OpenJDK and HotSpot?</p>\n"},{"tags":["java","kotlin","youtube"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1697380386,"post_id":77295227,"comment_id":136269985,"body_markdown":"Please do not develop an illegal Youtube2Mp3 converter or Downloader. ;) You can google how this is done.","body":"Please do not develop an illegal Youtube2Mp3 converter or Downloader. ;) You can google how this is done."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697433735,"post_id":77295227,"comment_id":136274450,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":29673994,"reputation":1,"user_id":22742458,"display_name":"cozy06"},"score":0,"creation_date":1697506756,"post_id":77295227,"comment_id":136285581,"body_markdown":"I am not making a downloader i just want to stream an audio","body":"I am not making a downloader i just want to stream an audio"}],"owner":{"account_id":29673994,"reputation":1,"user_id":22742458,"display_name":"cozy06"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697341114,"creation_date":1697341048,"question_id":77295227,"body_markdown":"I want to know how can i get an audio from youtube url\r\n\r\nI was playing a music with Jlayer and succeed to play .mp3 file and audioUrl but i can&#39;t play an audio with youtubeUrl\r\n\r\nI tried same as audioUrl\r\n\r\n```Java\r\nURL url = New URL(youtubeURL);\r\n\r\nurl.openConnection().openStream();\r\n```","title":"How can i get an audio inputStream from youtube Url","body":"<p>I want to know how can i get an audio from youtube url</p>\n<p>I was playing a music with Jlayer and succeed to play .mp3 file and audioUrl but i can't play an audio with youtubeUrl</p>\n<p>I tried same as audioUrl</p>\n<pre><code>URL url = New URL(youtubeURL);\n\nurl.openConnection().openStream();\n</code></pre>\n"},{"tags":["java","websphere","websphere-8"],"answers":[{"comments":[{"owner":{"account_id":4878830,"reputation":79,"user_id":3933162,"accept_rate":0,"display_name":"United"},"score":0,"creation_date":1408649040,"post_id":25434197,"comment_id":39681094,"body_markdown":"but how can i know the jar causing the issue ?? As i have alot of jars in the application lib ?","body":"but how can i know the jar causing the issue ?? As i have alot of jars in the application lib ?"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1408649545,"post_id":25434197,"comment_id":39681356,"body_markdown":"For the beginning remove all jars that have packages javax.servlet.* , javax.el.* . You can add listing with jars to your question. This unfortunately happens, when you use maven and create bad pom files, not considering libs provided by Java EE server, not just plain web container like Tomcat.","body":"For the beginning remove all jars that have packages javax.servlet.* , javax.el.* . You can add listing with jars to your question. This unfortunately happens, when you use maven and create bad pom files, not considering libs provided by Java EE server, not just plain web container like Tomcat."},{"owner":{"account_id":4878830,"reputation":79,"user_id":3933162,"accept_rate":0,"display_name":"United"},"score":0,"creation_date":1408956711,"post_id":25434197,"comment_id":39769925,"body_markdown":"I removed the el-api-2.2.jar from the shared library folder, and everything went fine,\nseems there is a conflict between\n&quot;el-api-2.2.jar&quot;  and &quot;javax.j2ee.el.jar&quot;\nwhere &quot;javax.j2ee.el&quot; is application server jar.\n\nNow everything is ok but I am afraid this may cause errors !\n\nThanks","body":"I removed the el-api-2.2.jar from the shared library folder, and everything went fine, seems there is a conflict between &quot;el-api-2.2.jar&quot;  and &quot;javax.j2ee.el.jar&quot; where &quot;javax.j2ee.el&quot; is application server jar.  Now everything is ok but I am afraid this may cause errors !  Thanks"}],"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408648292,"creation_date":1408648292,"answer_id":25434197,"question_id":25432259,"body_markdown":"Check this link [java.lang.LinkageError: javax.servlet.jsp.JspApplicationContext][1]. You probably have servlet/jsp related jars in your WEB-INF/lib. Try to remove them and test again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8487048/java-lang-linkageerror-javax-servlet-jsp-jspapplicationcontext-getexpressionfac","title":"failed to start my application in websphere 8.5.5","body":"<p>Check this link <a href=\"https://stackoverflow.com/questions/8487048/java-lang-linkageerror-javax-servlet-jsp-jspapplicationcontext-getexpressionfac\">java.lang.LinkageError: javax.servlet.jsp.JspApplicationContext</a>. You probably have servlet/jsp related jars in your WEB-INF/lib. Try to remove them and test again.</p>\n"}],"owner":{"account_id":4878830,"reputation":79,"user_id":3933162,"accept_rate":0,"display_name":"United"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12706,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1697338955,"creation_date":1408641652,"question_id":25432259,"body_markdown":"When I start the application in websphere 8.5.5 I got an error, and the application failed to start, \r\nI searched the log and got this stack trace . Do you guys have any idea ?\r\n\r\n\r\n    [8/21/14 17:58:57:437 EEST] 00000001 ContainerHelp E   WSVR0501E: Error creating component com.ibm.ws.runtime.component.CompositionUnitMgrImpl@a0ccb3b2\r\n    com.ibm.ws.exception.RuntimeWarning: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;amp;#40&amp;#59;Ljavax/el/ELResolver&amp;amp;#59&amp;#59;&amp;amp;#41&amp;#59;V\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:432)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1175)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1370)\r\n    \tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\r\n    \tat com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:968)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:774)\r\n    \tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2182)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:116)\r\n    \tat com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:994)\r\n    \tat com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:502)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1862)\r\n    Caused by: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;amp;#40&amp;#59;Ljavax/el/ELResolver&amp;amp;#59&amp;#59;&amp;amp;#41&amp;#59;V\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:759)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\r\n    \tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:426)\r\n    \t... 14 more\r\n    Caused by: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;#40;Ljavax/el/ELResolver&amp;#59;&amp;#41;V\r\n    \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:176)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:749)\r\n    \t... 16 more\r\n    Caused by: java.lang.RuntimeException: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver(Ljavax/el/ELResolver;)V\r\n    \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:276)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1678)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n    \tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\r\n    \t... 17 more\r\n    Caused by: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver(Ljavax/el/ELResolver;)V\r\n    \tat com.sun.faces.config.ConfigureListener.registerELResolverAndListenerWithJsp(ConfigureListener.java:681)\r\n    \tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:234)\r\n    \t... 21 more\r\n\r\n","title":"failed to start my application in websphere 8.5.5","body":"<p>When I start the application in websphere 8.5.5 I got an error, and the application failed to start, \nI searched the log and got this stack trace . Do you guys have any idea ?</p>\n\n<pre><code>[8/21/14 17:58:57:437 EEST] 00000001 ContainerHelp E   WSVR0501E: Error creating component com.ibm.ws.runtime.component.CompositionUnitMgrImpl@a0ccb3b2\ncom.ibm.ws.exception.RuntimeWarning: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;amp;#40&amp;#59;Ljavax/el/ELResolver&amp;amp;#59&amp;#59;&amp;amp;#41&amp;#59;V\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:432)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1175)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1370)\n    at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:968)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:774)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2182)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445)\n    at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:116)\n    at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:994)\n    at com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:502)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1862)\nCaused by: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;amp;#40&amp;#59;Ljavax/el/ELResolver&amp;amp;#59&amp;#59;&amp;amp;#41&amp;#59;V\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:759)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:426)\n    ... 14 more\nCaused by: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException: Failed to load webapp: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver&amp;#40;Ljavax/el/ELResolver&amp;#59;&amp;#41;V\n    at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:176)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:749)\n    ... 16 more\nCaused by: java.lang.RuntimeException: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver(Ljavax/el/ELResolver;)V\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:276)\n    at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1678)\n    at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\n    at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n    at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\n    ... 17 more\nCaused by: java.lang.LinkageError: javax/servlet/jsp/JspApplicationContext.addELResolver(Ljavax/el/ELResolver;)V\n    at com.sun.faces.config.ConfigureListener.registerELResolverAndListenerWithJsp(ConfigureListener.java:681)\n    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:234)\n    ... 21 more\n</code></pre>\n"},{"tags":["java","android","gradle","jar"],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697338727,"creation_date":1697338727,"question_id":77295167,"body_markdown":"I created a new Android project and added a jar file. the moment I tried to build, I got a list of errors, and the build failed, all due to duplicate classes.Can someone help how to fix such issues.\r\n\r\nBelow is list of few errors I got (due to limitations I attached the full list separetely here https://drive.google.com/file/d/121pkLR9JJV57lhPoT8YAPOEJXijW8BGj/view?usp=sharing):\r\n\r\n   \r\n\r\n     Duplicate class com.google.common.util.concurrent.ListenableFuture found in modules listenablefuture-1.0 (com.google.guava:listenablefuture:1.0) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.ArrayIntrinsicsKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.BuilderInference found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.CharCodeJVMKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.CharCodeKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.CompareToKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.ContextFunctionTypeParams found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n        Duplicate class kotlin.DeepRecursiveFunction found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\r\n\r\n","title":"Duplciate Class Errors on adding Jar file to Android Project","body":"<p>I created a new Android project and added a jar file. the moment I tried to build, I got a list of errors, and the build failed, all due to duplicate classes.Can someone help how to fix such issues.</p>\n<p>Below is list of few errors I got (due to limitations I attached the full list separetely here <a href=\"https://drive.google.com/file/d/121pkLR9JJV57lhPoT8YAPOEJXijW8BGj/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/121pkLR9JJV57lhPoT8YAPOEJXijW8BGj/view?usp=sharing</a>):</p>\n<pre><code> Duplicate class com.google.common.util.concurrent.ListenableFuture found in modules listenablefuture-1.0 (com.google.guava:listenablefuture:1.0) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.ArrayIntrinsicsKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.BuilderInference found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.CharCodeJVMKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.CharCodeKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.CompareToKt found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.ContextFunctionTypeParams found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n    Duplicate class kotlin.DeepRecursiveFunction found in modules kotlin-stdlib-1.8.22 (org.jetbrains.kotlin:kotlin-stdlib:1.8.22) and smartapi-java-2.1.0 (smartapi-java-2.1.0.jar)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices","featuretoggle"],"comments":[{"owner":{"account_id":393100,"reputation":322,"user_id":754783,"accept_rate":75,"display_name":"Hosein Hamedi"},"score":0,"creation_date":1623157248,"post_id":67885586,"comment_id":119992878,"body_markdown":"As discussed here https://www.baeldung.com/spring-feature-flags Togglz support release date","body":"As discussed here <a href=\"https://www.baeldung.com/spring-feature-flags\" rel=\"nofollow noreferrer\">baeldung.com/spring-feature-flags</a> Togglz support release date"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1623441028,"post_id":67885586,"comment_id":120089599,"body_markdown":"@HoseinIT if you make an answer instead of comment I will give you best answer","body":"@HoseinIT if you make an answer instead of comment I will give you best answer"}],"answers":[{"tags":[],"owner":{"account_id":212457,"reputation":96,"user_id":2652343,"display_name":"user2652343"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623612116,"creation_date":1623612116,"answer_id":67961901,"question_id":67885586,"body_markdown":"Yes this is possible with the help of [custom activation strategies][1]. The example do provide an example of exactly time based activation. \r\n\r\nThere also exists a [issue request][2] to support this native in Unleash. It could be good if you can add your use case as a comment on this issue. \r\n\r\n\r\n  [1]: https://docs.getunleash.io/advanced/custom_activation_strategy\r\n  [2]: https://github.com/Unleash/unleash/issues/765","title":"Unleash FEATURE TOGGLE for Spring Boot Microservices based on DATETIME Range?","body":"<p>Yes this is possible with the help of <a href=\"https://docs.getunleash.io/advanced/custom_activation_strategy\" rel=\"nofollow noreferrer\">custom activation strategies</a>. The example do provide an example of exactly time based activation.</p>\n<p>There also exists a <a href=\"https://github.com/Unleash/unleash/issues/765\" rel=\"nofollow noreferrer\">issue request</a> to support this native in Unleash. It could be good if you can add your use case as a comment on this issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697714634,"post_id":77295108,"comment_id":136316004,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77295108/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12234424,"reputation":17,"user_id":8929331,"display_name":"Hgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697336167,"creation_date":1697336167,"answer_id":77295108,"question_id":67885586,"body_markdown":"You could simply use Spring native *@RefreshScope* annotation. And when you want to change the feature flag value, just make a POST request to the actuator. You can make a simple bash/py script thats scheduled to make the request between the dates you want.\r\n\r\nHere is a good guide:\r\n[Introduction to @RefreshScope Annotation][1]\r\n\r\n\r\n  [1]: https://medium.com/@erayaraz10/introduction-to-refreshscope-annotation-95d5dab4bcf1","title":"Unleash FEATURE TOGGLE for Spring Boot Microservices based on DATETIME Range?","body":"<p>You could simply use Spring native <em>@RefreshScope</em> annotation. And when you want to change the feature flag value, just make a POST request to the actuator. You can make a simple bash/py script thats scheduled to make the request between the dates you want.</p>\n<p>Here is a good guide:\n<a href=\"https://medium.com/@erayaraz10/introduction-to-refreshscope-annotation-95d5dab4bcf1\" rel=\"nofollow noreferrer\">Introduction to @RefreshScope Annotation</a></p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697336167,"creation_date":1623149300,"question_id":67885586,"body_markdown":"I was looking at the documentation for UNLEASH feature toggle as I would like some add some feature-flag functionality in my Spring Boot application microservice (API).\r\n\r\nI would like to &quot;wrap&quot; the logic in codebase with something like:\r\n```\r\nif(myCustomFeatureToggle.isActive()) {\r\n    // do some stuff if toggle is ON\r\n}\r\n```\r\n\r\n**However**, I believe the Unleash API has a UI web app you can access to turn these toggles ON or OFF (1 or 0). Someone has to manually type the URL into the browser and move a slider/UI element to turn ON or OFF the &quot;feature&quot;. ***However***, **I would like to turn &quot;ON&quot; these toggles based on DATE range instead**. For example, I would like to set a datetime like `2021-12-30 00:00:00`, such that the toggle would become ACTIVE or ON on December 30, 2021 (without any manual intervention i.e. someone having to go to UI/web page and click some buttons). Having an &quot;effective&quot; and &quot;end&quot; date would also be awesome, i.e. end datetime for above example could be `2022-05-30 23:59:59`, such that the toggle automatically turns OFF on May 30, 2022 at 11:59 PM.\r\n\r\nIs this possible? do any feature flags libraries have this functionality?","title":"Unleash FEATURE TOGGLE for Spring Boot Microservices based on DATETIME Range?","body":"<p>I was looking at the documentation for UNLEASH feature toggle as I would like some add some feature-flag functionality in my Spring Boot application microservice (API).</p>\n<p>I would like to &quot;wrap&quot; the logic in codebase with something like:</p>\n<pre><code>if(myCustomFeatureToggle.isActive()) {\n    // do some stuff if toggle is ON\n}\n</code></pre>\n<p><strong>However</strong>, I believe the Unleash API has a UI web app you can access to turn these toggles ON or OFF (1 or 0). Someone has to manually type the URL into the browser and move a slider/UI element to turn ON or OFF the &quot;feature&quot;. <em><strong>However</strong></em>, <strong>I would like to turn &quot;ON&quot; these toggles based on DATE range instead</strong>. For example, I would like to set a datetime like <code>2021-12-30 00:00:00</code>, such that the toggle would become ACTIVE or ON on December 30, 2021 (without any manual intervention i.e. someone having to go to UI/web page and click some buttons). Having an &quot;effective&quot; and &quot;end&quot; date would also be awesome, i.e. end datetime for above example could be <code>2022-05-30 23:59:59</code>, such that the toggle automatically turns OFF on May 30, 2022 at 11:59 PM.</p>\n<p>Is this possible? do any feature flags libraries have this functionality?</p>\n"},{"tags":["java","spring-kafka","spring-kafka-test"],"answers":[{"comments":[{"owner":{"account_id":15895231,"reputation":141,"user_id":11469185,"display_name":"AlphaEpsilon"},"score":0,"creation_date":1558379329,"post_id":56226490,"comment_id":99074059,"body_markdown":"My application is supposed to work with `Kafka 0.9` and I do not see that changing any time soon. Will the versions which you have mentioned work with that?","body":"My application is supposed to work with <code>Kafka 0.9</code> and I do not see that changing any time soon. Will the versions which you have mentioned work with that?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1558381907,"post_id":56226490,"comment_id":99074981,"body_markdown":"0.9 is extremely old; there have been many improvements, especially [KIP-62](https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread) which solves rebalancing issues with slow clients, you should at least try to move to 0.10.2.0. The current version is 2.2.0. 0.9.0.0 is not even mentioned on the [compatibility page](https://cwiki.apache.org/confluence/display/KAFKA/Compatibility+Matrix). I have no idea if 1.3.9 will work with 0.9.0.0; you should try it.","body":"0.9 is extremely old; there have been many improvements, especially <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread\" rel=\"nofollow noreferrer\">KIP-62</a> which solves rebalancing issues with slow clients, you should at least try to move to 0.10.2.0. The current version is 2.2.0. 0.9.0.0 is not even mentioned on the <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/Compatibility+Matrix\" rel=\"nofollow noreferrer\">compatibility page</a>. I have no idea if 1.3.9 will work with 0.9.0.0; you should try it."},{"owner":{"account_id":15895231,"reputation":141,"user_id":11469185,"display_name":"AlphaEpsilon"},"score":0,"creation_date":1558383549,"post_id":56226490,"comment_id":99075592,"body_markdown":"Moving to 0.10.2.0 is in talks with the DevOps team at my company and would unfortunately be a slow process. I used my application with 1.3.9 with a local kafka 0.9.0.0 cluster running. The application just prints the Consumer Config values  and `o.a.k.c.u.AppInfoParser  : Kafka version : 0.11.0.2` and halts. No partition assignment takes place. I guess I will have to work with the older version for now.","body":"Moving to 0.10.2.0 is in talks with the DevOps team at my company and would unfortunately be a slow process. I used my application with 1.3.9 with a local kafka 0.9.0.0 cluster running. The application just prints the Consumer Config values  and <code>o.a.k.c.u.AppInfoParser  : Kafka version : 0.11.0.2</code> and halts. No partition assignment takes place. I guess I will have to work with the older version for now."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1558383714,"post_id":56226490,"comment_id":99075658,"body_markdown":"You should at least upgrade to 1.0.6.RELEASE which was the last release of 1.0.x for bug fixes.","body":"You should at least upgrade to 1.0.6.RELEASE which was the last release of 1.0.x for bug fixes."},{"owner":{"account_id":15895231,"reputation":141,"user_id":11469185,"display_name":"AlphaEpsilon"},"score":1,"creation_date":1558384819,"post_id":56226490,"comment_id":99076020,"body_markdown":"Using 1.0.6, I added `System.setProperty(..)` to the `init()` method of the test class but still KafkaListener is connecting to the broker configured in the consumerConfig for the listener container and the test fails.","body":"Using 1.0.6, I added <code>System.setProperty(..)</code> to the <code>init()</code> method of the test class but still KafkaListener is connecting to the broker configured in the consumerConfig for the listener container and the test fails."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558377681,"creation_date":1558377681,"answer_id":56226490,"question_id":56225440,"body_markdown":"Please use spring-kafka 1.3.9 with boot 1.5; earlier versions are no longer supported. The current boot 1.5.x version is 1.5.21.\r\n\r\n    @ClassRule\r\n    public static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, TEST_TOPIC);\r\n\r\n    static {\r\n        embeddedKafka.setKafkaPorts(1234);\r\n    }\r\n\r\n`setKafkaPorts` has been available since 1.3.\r\n\r\nHowever, you are properly using the allocated random port in your test\r\n\r\n    Map&lt;String, Object&gt; senderProps = KafkaTestUtils.senderProps(embeddedKafka.getBrokersAsString());\r\n\r\n\r\nTo get the kafka listener to connect to the embedded broker, you can use.\r\n\r\n        System.setProperty(&quot;spring.kafka.bootstrap-servers&quot;, embeddedKafka.getBrokersAsString()); \r\n\r\n","title":"How to set port in KafkaEmbedded when unit testing spring-kafka consumer","body":"<p>Please use spring-kafka 1.3.9 with boot 1.5; earlier versions are no longer supported. The current boot 1.5.x version is 1.5.21.</p>\n\n<pre><code>@ClassRule\npublic static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, TEST_TOPIC);\n\nstatic {\n    embeddedKafka.setKafkaPorts(1234);\n}\n</code></pre>\n\n<p><code>setKafkaPorts</code> has been available since 1.3.</p>\n\n<p>However, you are properly using the allocated random port in your test</p>\n\n<pre><code>Map&lt;String, Object&gt; senderProps = KafkaTestUtils.senderProps(embeddedKafka.getBrokersAsString());\n</code></pre>\n\n<p>To get the kafka listener to connect to the embedded broker, you can use.</p>\n\n<pre><code>    System.setProperty(\"spring.kafka.bootstrap-servers\", embeddedKafka.getBrokersAsString()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558396822,"creation_date":1558390119,"answer_id":56228788,"question_id":56225440,"body_markdown":"I think while application context is loaded for test, two beans are creating of type `(ProducerFactory and KafkaTemplate)`, one is with the original configs and second is with test configs, try this use different profile for tests `application-test.yml` and add bean overriding property \r\n\r\n    spring.main.allow-bean-definition-overriding to true.\r\n\r\nSo that it will override the application beans with test beans and also declare `ProducerFactory` and `KafkaTemplate` as beans in test with same name as in application","title":"How to set port in KafkaEmbedded when unit testing spring-kafka consumer","body":"<p>I think while application context is loaded for test, two beans are creating of type <code>(ProducerFactory and KafkaTemplate)</code>, one is with the original configs and second is with test configs, try this use different profile for tests <code>application-test.yml</code> and add bean overriding property </p>\n\n<pre><code>spring.main.allow-bean-definition-overriding to true.\n</code></pre>\n\n<p>So that it will override the application beans with test beans and also declare <code>ProducerFactory</code> and <code>KafkaTemplate</code> as beans in test with same name as in application</p>\n"}],"owner":{"account_id":15895231,"reputation":141,"user_id":11469185,"display_name":"AlphaEpsilon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9920,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697335420,"creation_date":1558372331,"question_id":56225440,"body_markdown":"I am using `spring-boot-starter-parent` version `1.5.0.RELEASE`, `spring-kafka` version `1.0.0.RELEASE` and `spring-kafka-test` version `1.0.0.RELEASE` in an application which consumes messages from a `Kakfa 0.9` cluster. I have a unit test for my consumer which used `KafkaEmbedded` but it fails since the broker port is picked up randomly. Is there a way I can set this broker property without changing versions? Or which versions should I use so as to not break anything? \n\n&lt;!-- language: java --&gt;\nHere is the code for the `KafkaListener` and `KafkaConsumerTest`.\n### **Listener.java** ###\n```\n@Service\npublic class Listener {\n\n    private static final Logger logger = LoggerFactory.getLogger(Listener.class);\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = &quot;topic&quot;, group = &quot;group&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void consumeClicks(@Payload String msg, @Header(KafkaHeaders.RECEIVED_PARTITION_ID) Integer partition, @Header(KafkaHeaders.OFFSET) Integer offset, Acknowledgment ack) throws Exception {\n        logger.info(msg);\n        latch.countDown();\n        ack.acknowledge();\n    }\n\n    public CountDownLatch getLatch() {\n        return latch;\n    }\n}\n\n```\n### **KafkaConsumerTest.java** (*EDIT*) ###\n```\n@DirtiesContext\n@SpringBootTest(classes = {SpringApplication.class})\n@RunWith(SpringRunner.class)\npublic class KafkaConsumerTest {\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\n    private static String TEST_TOPIC = &quot;topic&quot;;\n\n    @ClassRule\n    public static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, TEST_TOPIC);\n\n    public KafkaTemplate&lt;String, String&gt; template;\n\n    @Autowired\n    private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n\n    @Autowired\n    private Listener listener;\n\n    @Before\n    public void init(){\n        System.setProperty(&quot;spring.kafka.bootstrap-servers&quot;, embeddedKafka.getBrokersAsString());\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.senderProps(embeddedKafka.getBrokersAsString());\n        senderProps.put(&quot;key.serializer&quot;, StringSerializer.class);\n        ProducerFactory&lt;String, String&gt; producerFactory = new DefaultKafkaProducerFactory&lt;String, String&gt;(senderProps);\n        template = new KafkaTemplate&lt;&gt;(producerFactory);\n        template.setDefaultTopic(TEST_TOPIC);\n    }\n\n    @Test\n    public void testConsume() throws Exception {\n        String record = &quot;message&quot;;\n        template.sendDefault(TEST_TOPIC, record);\n        logger.debug(&quot;test-consume sent record {}&quot;, record);\n        listener.getLatch().await(1000, TimeUnit.MILLISECONDS);\n        Assert.assertEquals(listener.getLatch().getCount(), 0);\n    }\n}\n\n```","title":"How to set port in KafkaEmbedded when unit testing spring-kafka consumer","body":"<p>I am using <code>spring-boot-starter-parent</code> version <code>1.5.0.RELEASE</code>, <code>spring-kafka</code> version <code>1.0.0.RELEASE</code> and <code>spring-kafka-test</code> version <code>1.0.0.RELEASE</code> in an application which consumes messages from a <code>Kakfa 0.9</code> cluster. I have a unit test for my consumer which used <code>KafkaEmbedded</code> but it fails since the broker port is picked up randomly. Is there a way I can set this broker property without changing versions? Or which versions should I use so as to not break anything?</p>\n<p>Here is the code for the <code>KafkaListener</code> and <code>KafkaConsumerTest</code>.</p>\n<h3><strong>Listener.java</strong></h3>\n<pre><code>@Service\npublic class Listener {\n\n    private static final Logger logger = LoggerFactory.getLogger(Listener.class);\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = &quot;topic&quot;, group = &quot;group&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    public void consumeClicks(@Payload String msg, @Header(KafkaHeaders.RECEIVED_PARTITION_ID) Integer partition, @Header(KafkaHeaders.OFFSET) Integer offset, Acknowledgment ack) throws Exception {\n        logger.info(msg);\n        latch.countDown();\n        ack.acknowledge();\n    }\n\n    public CountDownLatch getLatch() {\n        return latch;\n    }\n}\n\n</code></pre>\n<h3><strong>KafkaConsumerTest.java</strong> (<em>EDIT</em>)</h3>\n<pre><code>@DirtiesContext\n@SpringBootTest(classes = {SpringApplication.class})\n@RunWith(SpringRunner.class)\npublic class KafkaConsumerTest {\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\n    private static String TEST_TOPIC = &quot;topic&quot;;\n\n    @ClassRule\n    public static KafkaEmbedded embeddedKafka = new KafkaEmbedded(1, true, TEST_TOPIC);\n\n    public KafkaTemplate&lt;String, String&gt; template;\n\n    @Autowired\n    private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n\n    @Autowired\n    private Listener listener;\n\n    @Before\n    public void init(){\n        System.setProperty(&quot;spring.kafka.bootstrap-servers&quot;, embeddedKafka.getBrokersAsString());\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.senderProps(embeddedKafka.getBrokersAsString());\n        senderProps.put(&quot;key.serializer&quot;, StringSerializer.class);\n        ProducerFactory&lt;String, String&gt; producerFactory = new DefaultKafkaProducerFactory&lt;String, String&gt;(senderProps);\n        template = new KafkaTemplate&lt;&gt;(producerFactory);\n        template.setDefaultTopic(TEST_TOPIC);\n    }\n\n    @Test\n    public void testConsume() throws Exception {\n        String record = &quot;message&quot;;\n        template.sendDefault(TEST_TOPIC, record);\n        logger.debug(&quot;test-consume sent record {}&quot;, record);\n        listener.getLatch().await(1000, TimeUnit.MILLISECONDS);\n        Assert.assertEquals(listener.getLatch().getCount(), 0);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","arraylist","comparison","operators","sortedlist"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697334319,"post_id":77294996,"comment_id":136266566,"body_markdown":"The duplicate answers most of your question. As for why subtracting `1` lets `==` work, that&#39;s because the result is an `int`, not an `Integer`, and `==` compares the actual value when used with primitives, as opposed to comparing the references when used with reference types (e.g., `Integer`).","body":"The duplicate answers most of your question. As for why subtracting <code>1</code> lets <code>==</code> work, that&#39;s because the result is an <code>int</code>, not an <code>Integer</code>, and <code>==</code> compares the actual value when used with primitives, as opposed to comparing the references when used with reference types (e.g., <code>Integer</code>)."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1697367485,"post_id":77294996,"comment_id":136268684,"body_markdown":"You should not compare reference types with `==`. Also, this is a great time to use the [`Comparable` interface](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html) like `int comp = list1.get(i).compareTo(list2.get(j)); if (comp == 0) {} else if (comp &gt; 0) {} else {}`.","body":"You should not compare reference types with <code>==</code>. Also, this is a great time to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code> interface</a> like <code>int comp = list1.get(i).compareTo(list2.get(j)); if (comp == 0) {} else if (comp &gt; 0) {} else {}</code>."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697335054,"creation_date":1697332999,"answer_id":77295045,"question_id":77294996,"body_markdown":"A Java `ArrayList` or other `Collection` type can hold only Objects. They cannot hold primitives. To get around this limitation, primitive wrapper classes are used. So, `ArrayList&lt;int&gt; foo;` will produce a compiler error. But, `ArrayList&lt;Integer&gt; foo;` is good.\r\n\r\nSince an `Integer` is an Object, this line `if (list1.get(i)==list2.get(j))` is asking &quot;Are `list.get(i)` and `list2.get(j)` the same reference?&quot;, just as `if (bar == bin)` asks if `bar` and `bin` are the same reference (i.e., the same Object). \r\n\r\nBut, with the primitive wrapper classes, there is auto boxing and auto unboxing. When the compiler sees something like `int square = list1.get(i) * list1.get(i)`, `list.get(i).intValue()` is implicitly called. This allows you to treat the `Integer` Object as an `int` in most cases.  But, using `==` or `!=` are not two of them.\r\n\r\nBut, `if (list1.get(i).equals(list2.get(j)))` explicitly tells the compiler you want to compare values, not references. \r\n\r\nYou can&#39;t use `&gt;`, `&lt;`, `&lt;=`, or `&gt;=` with references. For that reason, when the compiler sees `if (list1.get(i)&gt;list2.get(j))`, auto unboxing is used. Neither are you allowed to use arithmetic on references. So, when the compiler sees `if (list1.get(i)-1==(list2.get(j))-1)`, the `-1` causes auto unboxing to be used. \r\n","title":"Why I not am getting desired result while using == to compare elements of two SORTED arraylist","body":"<p>A Java <code>ArrayList</code> or other <code>Collection</code> type can hold only Objects. They cannot hold primitives. To get around this limitation, primitive wrapper classes are used. So, <code>ArrayList&lt;int&gt; foo;</code> will produce a compiler error. But, <code>ArrayList&lt;Integer&gt; foo;</code> is good.</p>\n<p>Since an <code>Integer</code> is an Object, this line <code>if (list1.get(i)==list2.get(j))</code> is asking &quot;Are <code>list.get(i)</code> and <code>list2.get(j)</code> the same reference?&quot;, just as <code>if (bar == bin)</code> asks if <code>bar</code> and <code>bin</code> are the same reference (i.e., the same Object).</p>\n<p>But, with the primitive wrapper classes, there is auto boxing and auto unboxing. When the compiler sees something like <code>int square = list1.get(i) * list1.get(i)</code>, <code>list.get(i).intValue()</code> is implicitly called. This allows you to treat the <code>Integer</code> Object as an <code>int</code> in most cases.  But, using <code>==</code> or <code>!=</code> are not two of them.</p>\n<p>But, <code>if (list1.get(i).equals(list2.get(j)))</code> explicitly tells the compiler you want to compare values, not references.</p>\n<p>You can't use <code>&gt;</code>, <code>&lt;</code>, <code>&lt;=</code>, or <code>&gt;=</code> with references. For that reason, when the compiler sees <code>if (list1.get(i)&gt;list2.get(j))</code>, auto unboxing is used. Neither are you allowed to use arithmetic on references. So, when the compiler sees <code>if (list1.get(i)-1==(list2.get(j))-1)</code>, the <code>-1</code> causes auto unboxing to be used.</p>\n"}],"owner":{"account_id":29673459,"reputation":1,"user_id":22742057,"display_name":"Robot.."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697334123,"answer_count":1,"score":0,"last_activity_date":1697335054,"creation_date":1697331435,"question_id":77294996,"body_markdown":"I want Make a new Arraylist of the common element from Two SORTED ARRAYLIST list1 and list2\r\nI use &quot;==&quot; operator and got wrong answer the I used &quot;.equals()&quot;  operator and got correct.\r\n\r\n\r\n\r\nMY QUESTION is If == correctly can not check element of ARRAYLIST. \r\nThen why my ANSWER LIST is notempty and why are some elements present in it.\r\nwhy it checked correctly up to some elements and then it failed to check them further.\r\n\r\nlist1 = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]\r\n\r\nlist2 = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]\r\n  \r\nlist = [] ---&gt; ANSWER LIST\r\n\r\n CODE USING ---&gt; &quot;==&quot; operator\r\n--\r\n```\r\n while (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\r\n            if (list1.get(i)==list2.get(j)) {\r\n                list.add(list1.get(i));\r\n                i++;\r\n                j++;\r\n            } else if (list1.get(i)&gt;list2.get(j)) {\r\n                j++;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(list);\r\n```\r\n\r\nINCORRECT ANS \r\n--\r\n\r\nFinally got list as\r\nlist = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126]\r\n\r\n\r\nCODE USING ---&gt;  using  &quot;.equals()&quot; operator\r\n--\r\n\r\n```\r\nwhile (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\r\n            if (list1.get(i).equals(list2.get(j))) {\r\n                list.add(list1.get(i));\r\n                i++;\r\n                j++;\r\n            } else if (list1.get(i)&gt;list2.get(j)) {\r\n                j++;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(list);\r\n```\r\nCORRECT ANS \r\n--\r\n\r\nI got list as\r\nlist = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]\r\n\r\nNote: main question is if &quot;==&quot; is not a suitable operator for this program why I am not getting totally empty list, why am I getting some elements in the list and why the loop got terminated Half the way.\r\n\r\nALSO FOR \r\n \r\nCODE USING ---&gt; &quot;==&quot; BUT WITH -1; \r\n--\r\n```\r\n   while (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\r\n            if (list1.get(i)-1==(list2.get(j))-1) {\r\n                list.add(list1.get(i));\r\n                i++;\r\n                j++;\r\n            } else if (list1.get(i)&gt;list2.get(j)) {\r\n                j++;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(list);\r\n    }\r\n```\r\nWITH THIS CODE I AM GETTING CORRECT ANSWER","title":"Why I not am getting desired result while using == to compare elements of two SORTED arraylist","body":"<p>I want Make a new Arraylist of the common element from Two SORTED ARRAYLIST list1 and list2\nI use &quot;==&quot; operator and got wrong answer the I used &quot;.equals()&quot;  operator and got correct.</p>\n<p>MY QUESTION is If == correctly can not check element of ARRAYLIST.\nThen why my ANSWER LIST is notempty and why are some elements present in it.\nwhy it checked correctly up to some elements and then it failed to check them further.</p>\n<p>list1 = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]</p>\n<p>list2 = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]</p>\n<p>list = [] ---&gt; ANSWER LIST</p>\n<h2>CODE USING ---&gt; &quot;==&quot; operator</h2>\n<pre><code> while (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\n            if (list1.get(i)==list2.get(j)) {\n                list.add(list1.get(i));\n                i++;\n                j++;\n            } else if (list1.get(i)&gt;list2.get(j)) {\n                j++;\n            } else {\n                i++;\n            }\n        }\n        System.out.println(list);\n</code></pre>\n<h2>INCORRECT ANS</h2>\n<p>Finally got list as\nlist = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126]</p>\n<h2>CODE USING ---&gt;  using  &quot;.equals()&quot; operator</h2>\n<pre><code>while (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\n            if (list1.get(i).equals(list2.get(j))) {\n                list.add(list1.get(i));\n                i++;\n                j++;\n            } else if (list1.get(i)&gt;list2.get(j)) {\n                j++;\n            } else {\n                i++;\n            }\n        }\n        System.out.println(list);\n</code></pre>\n<h2>CORRECT ANS</h2>\n<p>I got list as\nlist = [1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 22, 24, 26, 27, 28, 30, 31, 33, 35, 36, 37, 38, 41, 42, 45, 46, 47, 49, 50, 51, 53, 55, 57, 58, 59, 60, 61, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 75, 77, 78, 79, 80, 82, 83, 85, 87, 88, 90, 91, 92, 94, 95, 96, 97, 100, 102, 103, 104, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 122, 125, 126, 129, 130, 132, 133, 137, 138, 139, 140, 141, 145, 147, 148, 151, 152, 153, 154, 158, 159, 161, 163, 164, 165, 168, 169, 170, 172, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 187, 188, 190, 191, 193, 194, 195, 196, 199, 200, 201, 203, 205, 206, 208, 209, 210, 211, 212]</p>\n<p>Note: main question is if &quot;==&quot; is not a suitable operator for this program why I am not getting totally empty list, why am I getting some elements in the list and why the loop got terminated Half the way.</p>\n<p>ALSO FOR</p>\n<h2>CODE USING ---&gt; &quot;==&quot; BUT WITH -1;</h2>\n<pre><code>   while (i &lt; list1.size() &amp;&amp; j &lt; list2.size()) {\n            if (list1.get(i)-1==(list2.get(j))-1) {\n                list.add(list1.get(i));\n                i++;\n                j++;\n            } else if (list1.get(i)&gt;list2.get(j)) {\n                j++;\n            } else {\n                i++;\n            }\n        }\n        System.out.println(list);\n    }\n</code></pre>\n<p>WITH THIS CODE I AM GETTING CORRECT ANSWER</p>\n"},{"tags":["java","android","mobile","subscription","billingclient"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1697334724,"post_id":77295079,"comment_id":136266577,"body_markdown":"Does this answer your question? [IabResult: Billing service unavailable on device. (response: 3:Billing Unavailable)](https://stackoverflow.com/questions/15889480/iabresult-billing-service-unavailable-on-device-response-3billing-unavailab)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15889480/iabresult-billing-service-unavailable-on-device-response-3billing-unavailab\">IabResult: Billing service unavailable on device. (response: 3:Billing Unavailable)</a>"}],"owner":{"account_id":29570195,"reputation":1,"user_id":22662616,"display_name":"Ol camomile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697334764,"creation_date":1697334545,"question_id":77295079,"body_markdown":"My app is supposed to perform a simple subscription via Google Play Service once User clicks on the Subscribe button.\r\n\r\nPlease advice what&#39;s wrong?\r\n\r\n\r\nEntire subscription logic is sitting in a single class.\r\n\r\nI&#39;ve done all the necessarycsteps from the Google Play Console side: single subscription id, single plan id, single offer id. Should I use any other id besides subscription id in the code?\r\n\r\nOpening of a Subscription dialog returns &#39;BILLING_UNAVAILABLE&#39;.\r\n\r\nClicking on a Subscribe button returns &#39;launchBillingFlow: BillingClient is not ready&#39;.\r\n\r\nSame actions on a mobile phone do nothing.\r\n\r\nInternet connection is ok as the AdMob testing ad works fine.\r\n\r\n\r\n```\r\npackage com.something.something;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.DialogFragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.ProductDetails;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.QueryProductDetailsParams;\r\nimport com.android.billingclient.api.QueryPurchasesParams;\r\nimport com.google.common.collect.ImmutableList;\r\n\r\nimport java.util.List;\r\npublic class MenuSubscription extends DialogFragment implements BillingClientStateListener {\r\n    private static final String TAG = &quot;MenuSubscription&quot;;\r\n    private static final String SUBSCRIPTION_SKU = &quot;unique_subscription_id_created_via_google_play_console&quot;;\r\n    public SingleLiveEvent&lt;List&lt;Purchase&gt;&gt; purchaseUpdateEvent = new SingleLiveEvent&lt;&gt;();\r\n    public MutableLiveData&lt;List&lt;Purchase&gt;&gt; purchases = new MutableLiveData&lt;&gt;();\r\n    public MutableLiveData&lt;ProductDetails&gt; skuDetailsLiveData = new MutableLiveData&lt;&gt;();\r\n    private BillingClient billingClient;\r\n\r\n    private final PurchasesUpdatedListener purchasesUpdatedListener = (billingResult, purchases) -&gt; {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\r\n            processPurchases(purchases);\r\n        } else {\r\n            handleAllBillingErrors(billingResult);\r\n}\r\n    };\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        setupBillingClient();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        View view = requireActivity().getLayoutInflater().inflate(R.layout.subscription, null);\r\n        Button button_subscribe = view.findViewById(R.id.subscribe_button);\r\n        button_subscribe.setOnClickListener(v -&gt; launchBillingFlow());\r\n        return new AlertDialog.Builder(requireActivity())\r\n                .setView(view)\r\n                .create();\r\n    }\r\n\r\n    private void handleAllBillingErrors(BillingResult billingResult){\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK){\r\n            showMessage(&quot;SUCCESS&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\r\n            showMessage(&quot;User cancelled the purchase after showing plans to the user&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.FEATURE_NOT_SUPPORTED) {\r\n            showMessage(&quot;Feature not supported on this phone&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.DEVELOPER_ERROR) {\r\n            showMessage(&quot;DEVELOPER_ERROR&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.BILLING_UNAVAILABLE) {\r\n            showMessage(&quot;BILLING_UNAVAILABLE&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\r\n            showMessage(&quot;ITEM_ALREADY_OWNED&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_NOT_OWNED) {\r\n            showMessage(&quot;ITEM_NOT_OWNED&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_UNAVAILABLE) {\r\n            showMessage(&quot;ITEM_UNAVAILABLE&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED) {\r\n            showMessage(&quot;SERVICE_DISCONNECTED&quot;);\r\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_UNAVAILABLE) {\r\n            showMessage(&quot;SERVICE_UNAVAILABLE&quot;);\r\n        } else {\r\n            showMessage(&quot;Something went wrong while setting up purchase after showing plans to the user&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDismiss(@NonNull DialogInterface dialog) {\r\n        super.onDismiss(dialog);\r\n        destroy();\r\n    }\r\n\r\n    public void destroy() {\r\n        Log.d(TAG, &quot;ON_DESTROY&quot;);\r\n        if (billingClient.isReady()) {\r\n            Log.d(TAG, &quot;BillingClient can only be used once -- closing connection&quot;);\r\n            showMessage(&quot;BillingClient can only be used once -- closing connection&quot;);\r\n            billingClient.endConnection();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBillingSetupFinished(BillingResult billingResult) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            queryProductDetails();\r\n            queryPurchases();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBillingServiceDisconnected() {\r\n        Log.w(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n        showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n    }\r\n\r\n    public void onSkuDetailsResponse(@NonNull BillingResult billingResult, @Nullable List&lt;ProductDetails&gt; productDetailsList) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            if (productDetailsList != null &amp;&amp; !productDetailsList.isEmpty()) {\r\n                ProductDetails productDetails = productDetailsList.get(0);\r\n                skuDetailsLiveData.postValue(productDetails);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void queryPurchases() {\r\n        if (!billingClient.isReady()) {\r\n            Log.e(TAG, &quot;queryPurchases: BillingClient is not ready&quot;);\r\n            showMessage(&quot;queryPurchases: BillingClient is not ready&quot;);\r\n        }\r\n        QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder()\r\n                .setProductType(BillingClient.ProductType.SUBS)\r\n                .build();\r\n        billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult, purchasesList) -&gt; {\r\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                processPurchases(purchasesList);\r\n            } else {\r\n                handleAllBillingErrors(billingResult);\r\n}\r\n        });\r\n    }\r\n\r\n    private void launchBillingFlow() {\r\n        if (!billingClient.isReady()) {\r\n            Log.e(TAG, &quot;launchBillingFlow: BillingClient is not ready&quot;);\r\n            showMessage(&quot;launchBillingFlow: BillingClient is not ready&quot;);\r\n            return;\r\n        }\r\n        queryProductDetails();\r\n    }\r\n\r\n\r\n    private void processPurchases(List&lt;Purchase&gt; purchasesList) {\r\n        if (purchasesList != null) {\r\n            Log.d(TAG, &quot;processPurchases: &quot; + purchasesList.size() + &quot; purchase(s)&quot;);\r\n            showMessage(&quot;processPurchases: &quot; + purchasesList.size() + &quot; purchase(s)&quot;);\r\n        } else {\r\n            Log.d(TAG, &quot;processPurchases: with no purchases&quot;);\r\n            showMessage(&quot;processPurchases: with no purchases&quot;);\r\n        }\r\n        purchaseUpdateEvent.postValue(purchasesList);\r\n        purchases.postValue(purchasesList);\r\n        if (purchasesList != null) {\r\n            logAcknowledgementStatus(purchasesList);\r\n        }\r\n    }\r\n\r\n    private void logAcknowledgementStatus(@NonNull List&lt;Purchase&gt; purchasesList) {\r\n        int ack_yes = 0;\r\n        int ack_no = 0;\r\n        for (Purchase purchase : purchasesList) {\r\n            if (purchase.isAcknowledged()) {\r\n                ack_yes++;\r\n            } else {\r\n                ack_no++;\r\n            }\r\n        }\r\n        Log.d(TAG, &quot;logAcknowledgementStatus: acknowledged=&quot; + ack_yes + &quot; unacknowledged=&quot; + ack_no);\r\n        showMessage(&quot;logAcknowledgementStatus: acknowledged=&quot; + ack_yes + &quot; unacknowledged=&quot; + ack_no);\r\n    }\r\n\r\n    public void queryProductDetails() {\r\n        ImmutableList&lt;QueryProductDetailsParams.Product&gt; productList = ImmutableList.of(QueryProductDetailsParams.Product.newBuilder()\r\n                .setProductId(SUBSCRIPTION_SKU)\r\n                .setProductType(BillingClient.ProductType.SUBS)\r\n                .build());\r\n        QueryProductDetailsParams params = QueryProductDetailsParams.newBuilder()\r\n                .setProductList(productList)\r\n                .build();\r\n        billingClient.queryProductDetailsAsync(params, (billingResult, productDetailsList) -&gt; {\r\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                if (!productDetailsList.isEmpty()) {\r\n                    onSkuDetailsResponse(billingResult, productDetailsList);\r\n                }\r\n            } else {\r\n                handleAllBillingErrors(billingResult);}\r\n        });\r\n    }\r\n\r\n    private BillingClient initializeBillingClient() {\r\n        BillingClient billingClient = BillingClient.newBuilder(requireContext())\r\n                .setListener(purchasesUpdatedListener)\r\n                .enablePendingPurchases()\r\n                .build();\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @Override\r\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    // BillingClient is ready, you can now launch the billing flow\r\n                    launchBillingFlow();\r\n                } else {\r\n                    handleAllBillingErrors(billingResult);}\r\n            }\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                // Retry or handle disconnection as needed\r\n                Log.e(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n                showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n            }\r\n        });\r\n\r\n        return billingClient;\r\n    }\r\n\r\n    public void setupBillingClient() {\r\n        billingClient = initializeBillingClient();\r\n        billingClient = BillingClient.newBuilder(requireContext()).setListener(purchasesUpdatedListener).enablePendingPurchases().setListener(purchasesUpdatedListener).build();\r\n        billingClient.startConnection(new BillingClientStateListener() {\r\n            @SuppressLint(&quot;SuspiciousIndentation&quot;)\r\n            @Override\r\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                    handleAllBillingErrors(billingResult);\r\n                    queryProductDetails();\r\n                } else\r\n                    handleAllBillingErrors(billingResult);\r\n            }\r\n            @Override\r\n            public void onBillingServiceDisconnected() {\r\n                Log.e(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n                showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showMessage(String message) {\r\n        Toast.makeText(getActivity(), message, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Android app Subscrioption class does not work - returns BILLING_UNAVAILABLE on Android Studio emulator and does nothing on mobile phone","body":"<p>My app is supposed to perform a simple subscription via Google Play Service once User clicks on the Subscribe button.</p>\n<p>Please advice what's wrong?</p>\n<p>Entire subscription logic is sitting in a single class.</p>\n<p>I've done all the necessarycsteps from the Google Play Console side: single subscription id, single plan id, single offer id. Should I use any other id besides subscription id in the code?</p>\n<p>Opening of a Subscription dialog returns 'BILLING_UNAVAILABLE'.</p>\n<p>Clicking on a Subscribe button returns 'launchBillingFlow: BillingClient is not ready'.</p>\n<p>Same actions on a mobile phone do nothing.</p>\n<p>Internet connection is ok as the AdMob testing ad works fine.</p>\n<pre><code>package com.something.something;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.DialogFragment;\nimport androidx.lifecycle.MutableLiveData;\n\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.ProductDetails;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.QueryProductDetailsParams;\nimport com.android.billingclient.api.QueryPurchasesParams;\nimport com.google.common.collect.ImmutableList;\n\nimport java.util.List;\npublic class MenuSubscription extends DialogFragment implements BillingClientStateListener {\n    private static final String TAG = &quot;MenuSubscription&quot;;\n    private static final String SUBSCRIPTION_SKU = &quot;unique_subscription_id_created_via_google_play_console&quot;;\n    public SingleLiveEvent&lt;List&lt;Purchase&gt;&gt; purchaseUpdateEvent = new SingleLiveEvent&lt;&gt;();\n    public MutableLiveData&lt;List&lt;Purchase&gt;&gt; purchases = new MutableLiveData&lt;&gt;();\n    public MutableLiveData&lt;ProductDetails&gt; skuDetailsLiveData = new MutableLiveData&lt;&gt;();\n    private BillingClient billingClient;\n\n    private final PurchasesUpdatedListener purchasesUpdatedListener = (billingResult, purchases) -&gt; {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; purchases != null) {\n            processPurchases(purchases);\n        } else {\n            handleAllBillingErrors(billingResult);\n}\n    };\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        setupBillingClient();\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        View view = requireActivity().getLayoutInflater().inflate(R.layout.subscription, null);\n        Button button_subscribe = view.findViewById(R.id.subscribe_button);\n        button_subscribe.setOnClickListener(v -&gt; launchBillingFlow());\n        return new AlertDialog.Builder(requireActivity())\n                .setView(view)\n                .create();\n    }\n\n    private void handleAllBillingErrors(BillingResult billingResult){\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK){\n            showMessage(&quot;SUCCESS&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.USER_CANCELED) {\n            showMessage(&quot;User cancelled the purchase after showing plans to the user&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.FEATURE_NOT_SUPPORTED) {\n            showMessage(&quot;Feature not supported on this phone&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.DEVELOPER_ERROR) {\n            showMessage(&quot;DEVELOPER_ERROR&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.BILLING_UNAVAILABLE) {\n            showMessage(&quot;BILLING_UNAVAILABLE&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\n            showMessage(&quot;ITEM_ALREADY_OWNED&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_NOT_OWNED) {\n            showMessage(&quot;ITEM_NOT_OWNED&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_UNAVAILABLE) {\n            showMessage(&quot;ITEM_UNAVAILABLE&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_DISCONNECTED) {\n            showMessage(&quot;SERVICE_DISCONNECTED&quot;);\n        } else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.SERVICE_UNAVAILABLE) {\n            showMessage(&quot;SERVICE_UNAVAILABLE&quot;);\n        } else {\n            showMessage(&quot;Something went wrong while setting up purchase after showing plans to the user&quot;);\n        }\n    }\n\n\n    @Override\n    public void onDismiss(@NonNull DialogInterface dialog) {\n        super.onDismiss(dialog);\n        destroy();\n    }\n\n    public void destroy() {\n        Log.d(TAG, &quot;ON_DESTROY&quot;);\n        if (billingClient.isReady()) {\n            Log.d(TAG, &quot;BillingClient can only be used once -- closing connection&quot;);\n            showMessage(&quot;BillingClient can only be used once -- closing connection&quot;);\n            billingClient.endConnection();\n        }\n    }\n\n    @Override\n    public void onBillingSetupFinished(BillingResult billingResult) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            queryProductDetails();\n            queryPurchases();\n        }\n    }\n\n    @Override\n    public void onBillingServiceDisconnected() {\n        Log.w(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n        showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n    }\n\n    public void onSkuDetailsResponse(@NonNull BillingResult billingResult, @Nullable List&lt;ProductDetails&gt; productDetailsList) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            if (productDetailsList != null &amp;&amp; !productDetailsList.isEmpty()) {\n                ProductDetails productDetails = productDetailsList.get(0);\n                skuDetailsLiveData.postValue(productDetails);\n            }\n        }\n    }\n\n    public void queryPurchases() {\n        if (!billingClient.isReady()) {\n            Log.e(TAG, &quot;queryPurchases: BillingClient is not ready&quot;);\n            showMessage(&quot;queryPurchases: BillingClient is not ready&quot;);\n        }\n        QueryPurchasesParams queryPurchasesParams = QueryPurchasesParams.newBuilder()\n                .setProductType(BillingClient.ProductType.SUBS)\n                .build();\n        billingClient.queryPurchasesAsync(queryPurchasesParams, (billingResult, purchasesList) -&gt; {\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                processPurchases(purchasesList);\n            } else {\n                handleAllBillingErrors(billingResult);\n}\n        });\n    }\n\n    private void launchBillingFlow() {\n        if (!billingClient.isReady()) {\n            Log.e(TAG, &quot;launchBillingFlow: BillingClient is not ready&quot;);\n            showMessage(&quot;launchBillingFlow: BillingClient is not ready&quot;);\n            return;\n        }\n        queryProductDetails();\n    }\n\n\n    private void processPurchases(List&lt;Purchase&gt; purchasesList) {\n        if (purchasesList != null) {\n            Log.d(TAG, &quot;processPurchases: &quot; + purchasesList.size() + &quot; purchase(s)&quot;);\n            showMessage(&quot;processPurchases: &quot; + purchasesList.size() + &quot; purchase(s)&quot;);\n        } else {\n            Log.d(TAG, &quot;processPurchases: with no purchases&quot;);\n            showMessage(&quot;processPurchases: with no purchases&quot;);\n        }\n        purchaseUpdateEvent.postValue(purchasesList);\n        purchases.postValue(purchasesList);\n        if (purchasesList != null) {\n            logAcknowledgementStatus(purchasesList);\n        }\n    }\n\n    private void logAcknowledgementStatus(@NonNull List&lt;Purchase&gt; purchasesList) {\n        int ack_yes = 0;\n        int ack_no = 0;\n        for (Purchase purchase : purchasesList) {\n            if (purchase.isAcknowledged()) {\n                ack_yes++;\n            } else {\n                ack_no++;\n            }\n        }\n        Log.d(TAG, &quot;logAcknowledgementStatus: acknowledged=&quot; + ack_yes + &quot; unacknowledged=&quot; + ack_no);\n        showMessage(&quot;logAcknowledgementStatus: acknowledged=&quot; + ack_yes + &quot; unacknowledged=&quot; + ack_no);\n    }\n\n    public void queryProductDetails() {\n        ImmutableList&lt;QueryProductDetailsParams.Product&gt; productList = ImmutableList.of(QueryProductDetailsParams.Product.newBuilder()\n                .setProductId(SUBSCRIPTION_SKU)\n                .setProductType(BillingClient.ProductType.SUBS)\n                .build());\n        QueryProductDetailsParams params = QueryProductDetailsParams.newBuilder()\n                .setProductList(productList)\n                .build();\n        billingClient.queryProductDetailsAsync(params, (billingResult, productDetailsList) -&gt; {\n            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                if (!productDetailsList.isEmpty()) {\n                    onSkuDetailsResponse(billingResult, productDetailsList);\n                }\n            } else {\n                handleAllBillingErrors(billingResult);}\n        });\n    }\n\n    private BillingClient initializeBillingClient() {\n        BillingClient billingClient = BillingClient.newBuilder(requireContext())\n                .setListener(purchasesUpdatedListener)\n                .enablePendingPurchases()\n                .build();\n        billingClient.startConnection(new BillingClientStateListener() {\n            @Override\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    // BillingClient is ready, you can now launch the billing flow\n                    launchBillingFlow();\n                } else {\n                    handleAllBillingErrors(billingResult);}\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                // Retry or handle disconnection as needed\n                Log.e(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n                showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n            }\n        });\n\n        return billingClient;\n    }\n\n    public void setupBillingClient() {\n        billingClient = initializeBillingClient();\n        billingClient = BillingClient.newBuilder(requireContext()).setListener(purchasesUpdatedListener).enablePendingPurchases().setListener(purchasesUpdatedListener).build();\n        billingClient.startConnection(new BillingClientStateListener() {\n            @SuppressLint(&quot;SuspiciousIndentation&quot;)\n            @Override\n            public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                    handleAllBillingErrors(billingResult);\n                    queryProductDetails();\n                } else\n                    handleAllBillingErrors(billingResult);\n            }\n            @Override\n            public void onBillingServiceDisconnected() {\n                Log.e(TAG, &quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n                showMessage(&quot;Billing service disconnected. Retrying with exponential backoff...&quot;);\n            }\n        });\n    }\n\n    private void showMessage(String message) {\n        Toast.makeText(getActivity(), message, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","reactjs","spring-boot"],"owner":{"account_id":15882852,"reputation":111,"user_id":11460145,"display_name":"greenway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697331918,"creation_date":1697331918,"question_id":77295010,"body_markdown":"One of these web apps (marketing-dashboard) runs on my local server. The front end is in react the back end is in Java.\r\n\r\nThe other web app is on aws (AWS-dashboard).\r\n\r\nI want for the user when they enter a specific url (localhost:300/marketing-dashboard/#/mdash) on my marketing dashboard to be able to get redirected to the external aws web app.\r\n\r\nThe problem that I am facing though is that even though it does look like the back end is reaching the site just fine with a 200. I saw it in the network console on my browser. The page on the server side web app (marketing-dashboard) just stays blank.\r\n\r\nHere is my font end code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n\r\n     function RedirectComponent() {\r\n\r\n        fetch(&quot;/marketing-dashboard/awsRedirect&quot;)\r\n          .then((response) =&gt; {\r\n            if (response.ok) {\r\n              console.log(&quot;redireccted&quot;);\r\n            } else {\r\n              // Handle the error response here\r\n              console.log(&quot;Something not right&quot;);\r\n            }\r\n          })\r\n          .catch((error) =&gt; {\r\n            // Handle any network errors here\r\n            console.log(error);\r\n          });\r\n\r\n        return null;\r\n      }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {props.history.location.hash === &quot;#/mdash&quot; &amp;&amp; &lt;RedirectComponent /&gt;}\r\n              &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is my backend code:\r\n\r\n    @RequestMapping(value = &quot;/dmd-dashboard/arre&quot;, method = RequestMethod.GET)\r\n    public void method(HttpServletResponse httpServletResponse) {\r\n        httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://marketing-projects.marketing.my-net.dev.aws.mexp.com/mdash/index.html&quot;);\r\n        httpServletResponse.setStatus(302);\r\n    }\r\n\r\nThe reason I don&#39;t want to do a redirect from the front end is because I will have to send headers later down the road","title":"Trying to do a server side redirect using Java spring boot but the page stays blank on the front end even though it is reaching the external site","body":"<p>One of these web apps (marketing-dashboard) runs on my local server. The front end is in react the back end is in Java.</p>\n<p>The other web app is on aws (AWS-dashboard).</p>\n<p>I want for the user when they enter a specific url (localhost:300/marketing-dashboard/#/mdash) on my marketing dashboard to be able to get redirected to the external aws web app.</p>\n<p>The problem that I am facing though is that even though it does look like the back end is reaching the site just fine with a 200. I saw it in the network console on my browser. The page on the server side web app (marketing-dashboard) just stays blank.</p>\n<p>Here is my font end code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> function RedirectComponent() {\n\n    fetch(\"/marketing-dashboard/awsRedirect\")\n      .then((response) =&gt; {\n        if (response.ok) {\n          console.log(\"redireccted\");\n        } else {\n          // Handle the error response here\n          console.log(\"Something not right\");\n        }\n      })\n      .catch((error) =&gt; {\n        // Handle any network errors here\n        console.log(error);\n      });\n\n    return null;\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{props.history.location.hash === \"#/mdash\" &amp;&amp; &lt;RedirectComponent /&gt;}\n          &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is my backend code:</p>\n<pre><code>@RequestMapping(value = &quot;/dmd-dashboard/arre&quot;, method = RequestMethod.GET)\npublic void method(HttpServletResponse httpServletResponse) {\n    httpServletResponse.setHeader(&quot;Location&quot;, &quot;https://marketing-projects.marketing.my-net.dev.aws.mexp.com/mdash/index.html&quot;);\n    httpServletResponse.setStatus(302);\n}\n</code></pre>\n<p>The reason I don't want to do a redirect from the front end is because I will have to send headers later down the road</p>\n"},{"tags":["java","algorithm","jsch"],"comments":[{"owner":{"account_id":2501195,"reputation":11,"user_id":2176222,"display_name":"77-thoughts"},"score":0,"creation_date":1429250789,"post_id":29623258,"comment_id":47519534,"body_markdown":"I found the solution for this, I just added all those algorithms - KexAlgorithms diffie-hellman-group14-sha1 in the /etc/sshd_config and then restarted !","body":"I found the solution for this, I just added all those algorithms - KexAlgorithms diffie-hellman-group14-sha1 in the /etc/sshd_config and then restarted !"}],"answers":[{"comments":[{"owner":{"account_id":11382486,"reputation":11,"user_id":8345033,"display_name":"Agam Gore"},"score":0,"creation_date":1507708347,"post_id":45240464,"comment_id":80313113,"body_markdown":"Dear OmG, Can you help me understand whats wrong with this solution or what issue you faced in this?","body":"Dear OmG, Can you help me understand whats wrong with this solution or what issue you faced in this?"}],"tags":[],"owner":{"account_id":11382486,"reputation":11,"user_id":8345033,"display_name":"Agam Gore"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500712544,"creation_date":1500648048,"answer_id":45240464,"question_id":29623258,"body_markdown":"Changing some settings at destination server may not be possible every time. \r\nI faced this similar issue with &quot;com.jcraft.jsch_0.1.27.jar&quot; but after trying with latest version i.e. &quot;jsch-0.1.54.jar&quot; I have not faced this issue.\r\n\r\nAlso with this SFTP may open in interactive mode i.e. asking for username and pwd, for these case Enter key need to be pressed to continue. For this below is the solution:\r\n\r\n    config.put(&quot;PreferredAuthentications&quot;, &quot;publickey,keyboard-interactive,password&quot;);\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.setConfig(config); ","title":"com.jcraft.jsch.JSchException: Algorithm negotiation fail at com.jcraft.jsch.Session.receive_kexinit(Unknown Source)","body":"<p>Changing some settings at destination server may not be possible every time. \nI faced this similar issue with \"com.jcraft.jsch_0.1.27.jar\" but after trying with latest version i.e. \"jsch-0.1.54.jar\" I have not faced this issue.</p>\n\n<p>Also with this SFTP may open in interactive mode i.e. asking for username and pwd, for these case Enter key need to be pressed to continue. For this below is the solution:</p>\n\n<pre><code>config.put(\"PreferredAuthentications\", \"publickey,keyboard-interactive,password\");\nconfig.put(\"StrictHostKeyChecking\", \"no\");\nsession.setConfig(config); \n</code></pre>\n"}],"owner":{"account_id":2501195,"reputation":11,"user_id":2176222,"display_name":"77-thoughts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10878,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697331690,"creation_date":1429002193,"question_id":29623258,"body_markdown":"I am trying to connect to one of my unix server, but it fails with the error above, can someone please help.\r\n\r\n\tJSch jsch = new JSch();\r\n\r\n\tjava.util.Properties configuration = new java.util.Properties();\r\n\tconfiguration.put(&quot;kex&quot;, &quot;curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group14-sha1, diffie-hellman-group-exchange-sha1, diffie-hellman-group1-sha1&quot;);\r\n\tconfiguration.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n\tSession session=jsch.getSession(user, host, 22);\r\n\tsession.setPassword(password);\r\n\r\n\tsession.setConfig(configuration);\r\n\tsession.connect();","title":"com.jcraft.jsch.JSchException: Algorithm negotiation fail at com.jcraft.jsch.Session.receive_kexinit(Unknown Source)","body":"<p>I am trying to connect to one of my unix server, but it fails with the error above, can someone please help.</p>\n\n<pre><code>JSch jsch = new JSch();\n\njava.util.Properties configuration = new java.util.Properties();\nconfiguration.put(\"kex\", \"curve25519-sha256@libssh.org, ecdh-sha2-nistp256, ecdh-sha2-nistp384, ecdh-sha2-nistp521, diffie-hellman-group-exchange-sha256, diffie-hellman-group14-sha1, diffie-hellman-group-exchange-sha1, diffie-hellman-group1-sha1\");\nconfiguration.put(\"StrictHostKeyChecking\", \"no\");\n\nSession session=jsch.getSession(user, host, 22);\nsession.setPassword(password);\n\nsession.setConfig(configuration);\nsession.connect();\n</code></pre>\n"},{"tags":["java","serialization","stack-overflow"],"comments":[{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407270071,"post_id":25147565,"comment_id":39147347,"body_markdown":"Recursion with respect to what? Also, writing a custom writeObject method with guaranteed no recursion in that method does not change anything.","body":"Recursion with respect to what? Also, writing a custom writeObject method with guaranteed no recursion in that method does not change anything."},{"owner":{"account_id":4232010,"reputation":1610,"user_id":3464143,"accept_rate":25,"display_name":"Arno van Lieshout"},"score":0,"creation_date":1407270180,"post_id":25147565,"comment_id":39147408,"body_markdown":"Could it be that you have a circular reference somewhere? If it is already in memory i dont think the problem is the object size.","body":"Could it be that you have a circular reference somewhere? If it is already in memory i dont think the problem is the object size."},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407270295,"post_id":25147565,"comment_id":39147480,"body_markdown":"That may be true, I did not know that could happen. I do have a generated `serialVersionUID` for vertices, though. How would I avoid this problem?","body":"That may be true, I did not know that could happen. I do have a generated <code>serialVersionUID</code> for vertices, though. How would I avoid this problem?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1407270373,"post_id":25147565,"comment_id":39147534,"body_markdown":"Manually design how to serialize/deserialize your objects to avoid these problems.","body":"Manually design how to serialize/deserialize your objects to avoid these problems."},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407270510,"post_id":25147565,"comment_id":39147607,"body_markdown":"@LuiggiMendoza Do you have references on how to serialize collections with some unique identifier to avoid recursions?","body":"@LuiggiMendoza Do you have references on how to serialize collections with some unique identifier to avoid recursions?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1407270693,"post_id":25147565,"comment_id":39147693,"body_markdown":"Guys, serialisation of objects that have already been serialized does *not* cause stack overflow. Java serializes a handle instead of the object. Cyclic object graphs can be serialised. You are all barking up the wrong tree. @OP you will have to post some code. Do you have custom writeObject() methods?","body":"Guys, serialisation of objects that have already been serialized does <i>not</i> cause stack overflow. Java serializes a handle instead of the object. Cyclic object graphs can be serialised. You are all barking up the wrong tree. @OP you will have to post some code. Do you have custom writeObject() methods?"},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407271226,"post_id":25147565,"comment_id":39147923,"body_markdown":"@EJP I did not use custom writeObject() methods because I thought each of the data structures I had already have that method.","body":"@EJP I did not use custom writeObject() methods because I thought each of the data structures I had already have that method."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1407271349,"post_id":25147565,"comment_id":39147960,"body_markdown":"Some do; some don&#39;t: some just use default Serialization. You will still have to post some code, and the stack trace come to think of it.","body":"Some do; some don&#39;t: some just use default Serialization. You will still have to post some code, and the stack trace come to think of it."},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407271407,"post_id":25147565,"comment_id":39147999,"body_markdown":"@EJP I will post some code and stack trace.","body":"@EJP I will post some code and stack trace."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1407272244,"post_id":25147565,"comment_id":39148392,"body_markdown":"I would certainly change the neighbour list to a a Set. This will reduce the data size very considerably.","body":"I would certainly change the neighbour list to a a Set. This will reduce the data size very considerably."},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407273925,"post_id":25147565,"comment_id":39149143,"body_markdown":"@EJP the way that it is set up, using a set or arraylist shouldn&#39;t make a difference. I&#39;ll see if that helps, though.","body":"@EJP the way that it is set up, using a set or arraylist shouldn&#39;t make a difference. I&#39;ll see if that helps, though."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1407274010,"post_id":25147565,"comment_id":39149176,"body_markdown":"It will reduce the data size. Of course it will make a difference. It may not solve this problem, but I didn&#39;t claim it would.","body":"It will reduce the data size. Of course it will make a difference. It may not solve this problem, but I didn&#39;t claim it would."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1407274531,"post_id":25147565,"comment_id":39149382,"body_markdown":"I think I would consider just serializing the co-ordinates, and reconstructing the neighbour sets/lists on deserialization. They&#39;re only a computational convenience after all, they&#39;re not essential to define the graph.","body":"I think I would consider just serializing the co-ordinates, and reconstructing the neighbour sets/lists on deserialization. They&#39;re only a computational convenience after all, they&#39;re not essential to define the graph."},{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407275125,"post_id":25147565,"comment_id":39149622,"body_markdown":"@EJP A good idea, but the computations that I only want to do once are the edge connections between vertices, since those take by far the longest time for what I&#39;m doing.","body":"@EJP A good idea, but the computations that I only want to do once are the edge connections between vertices, since those take by far the longest time for what I&#39;m doing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1407285324,"post_id":25147565,"comment_id":39152628,"body_markdown":"Well you&#39;re certainly going to have to trade space for time somehow.","body":"Well you&#39;re certainly going to have to trade space for time somehow."}],"answers":[{"comments":[{"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"score":0,"creation_date":1407275315,"post_id":25148082,"comment_id":39149699,"body_markdown":"Thanks for the answer. What would be custom serialization so that I just have to call readObject on an ObjectInputStream?","body":"Thanks for the answer. What would be custom serialization so that I just have to call readObject on an ObjectInputStream?"},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":0,"creation_date":1407276414,"post_id":25148082,"comment_id":39150099,"body_markdown":"Custom serialization involves implementing `writeObject`, `readObject` , and `readObjectNoData` on the objects to be serialized.  As long as these methods are implemented then you can use readObject on an ObjectInputStream, the problem is that the implementation you need here is at least somewhat complicated.","body":"Custom serialization involves implementing <code>writeObject</code>, <code>readObject</code> , and <code>readObjectNoData</code> on the objects to be serialized.  As long as these methods are implemented then you can use readObject on an ObjectInputStream, the problem is that the implementation you need here is at least somewhat complicated."}],"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1407274180,"creation_date":1407271935,"answer_id":25148082,"question_id":25147565,"body_markdown":"Serialization will throw a `StackOverflowError` if the depth of your graph is too large for the default serialization to handle.  This is due to the default serialization recursively serializing each node as it parses your graph.\r\n\r\nFlat structures will work fine (e.g. a parent node with 2000 children), but deep structures will fail (e.g. a node with 2000 descendant levels).\r\n\r\nE.g. The following will stack overflow:\r\n\r\n    public class Node implements Serializable\r\n    {\r\n        private ArrayList&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;();\r\n        \r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            Node node = new Node();\r\n            int depth = 3000;\r\n            \r\n            // Add nodes chained down to specified depth\r\n            Node last = node;\r\n            for (int i = 0; i &lt; depth; i++)\r\n            {\r\n                Node temp = new Node();\r\n                last.nodes.add(temp);\r\n                last = temp;\r\n            }\r\n            \r\n            System.out.println(&quot;starting&quot;);\r\n            \r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            ObjectOutputStream out = new ObjectOutputStream(bos);\r\n            // Below line will cause a stack overflow.\r\n            out.writeObject(node);\r\n    \r\n            System.out.println(&quot;done&quot;);\r\n        }\r\n    }\r\n\r\nYou will need to either reduce the depth of your graph in order to limit the number of recursive serialization calls, or write custom serialization to work around this.  The custom serialization will need to be non-recursive in nature, and unfortunately at first glance seems non-trivial to implement.","title":"Serializing Java Object without StackOverflowError","body":"<p>Serialization will throw a <code>StackOverflowError</code> if the depth of your graph is too large for the default serialization to handle.  This is due to the default serialization recursively serializing each node as it parses your graph.</p>\n\n<p>Flat structures will work fine (e.g. a parent node with 2000 children), but deep structures will fail (e.g. a node with 2000 descendant levels).</p>\n\n<p>E.g. The following will stack overflow:</p>\n\n<pre><code>public class Node implements Serializable\n{\n    private ArrayList&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;();\n\n    public static void main(String[] args) throws Exception\n    {\n        Node node = new Node();\n        int depth = 3000;\n\n        // Add nodes chained down to specified depth\n        Node last = node;\n        for (int i = 0; i &lt; depth; i++)\n        {\n            Node temp = new Node();\n            last.nodes.add(temp);\n            last = temp;\n        }\n\n        System.out.println(\"starting\");\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ObjectOutputStream out = new ObjectOutputStream(bos);\n        // Below line will cause a stack overflow.\n        out.writeObject(node);\n\n        System.out.println(\"done\");\n    }\n}\n</code></pre>\n\n<p>You will need to either reduce the depth of your graph in order to limit the number of recursive serialization calls, or write custom serialization to work around this.  The custom serialization will need to be non-recursive in nature, and unfortunately at first glance seems non-trivial to implement.</p>\n"},{"tags":[],"owner":{"account_id":2061396,"reputation":306,"user_id":1837841,"display_name":"user1837841"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697330917,"creation_date":1536816889,"answer_id":52307239,"question_id":25147565,"body_markdown":"I came across this via google, when trying to fix the issue myself.\r\n\r\nI wanted a solution that required a far smaller amount of code than writing custom serialisation code.\r\n\r\nThe problem is that Nodes are connected to Nodes are connected to Nodes.\r\nA very large part of the network is reachable from any given node - for an undirected graph it&#39;s every node.\r\n\r\nWhen you attempt to serialise a Node every reachable node will end up on the stack.\r\n\r\nThe simplest solution is not to connect a node directly to its neighbours, but to add a layer of indirection:\r\n\r\n    class Node{\r\n    \r\n    \tprivate final Map&lt;NodeRef, Connection&gt; forwardConnections = new HashMap&lt;&gt;();\r\n    \tprivate final Map&lt;NodeRef, Connection&gt; reverseConnections = new HashMap&lt;&gt;();\r\n    \r\n    \t...\r\n    }\r\n    \r\n    class Connection{\r\n    \r\n    \tprivate final NodeRef source;\r\n    \tprivate final NodeRef dest;\r\n    \tprivate final ConnectionMetadata meta;\r\n    \r\n    \tpublic Connection(Node source, Node dest, ConnectionMetadata meta){\r\n    \t\tthis.source = new NodeRef(source);\r\n    \t\tthis.dest = new NodeRef(dest);\r\n    \t}\r\n    \r\n    \tpublic Node getSource(){\r\n    \t\treturn source.resolve();\r\n    \t}\r\n    \r\n    \tpublic Node getDest(){\r\n    \t\treturn dest.resolve();\r\n    \t}\r\n    \t\r\n    \tpublic ConnectionMetadata getMeta(){\r\n    \t\treturn meta;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class NodeRef{\r\n    \t\r\n    \tprivate transient Node node;\r\n    \tprivate final Network network;\r\n    \tprivate final int[] uid;\r\n    \t\r\n    \tpublic NodeRef(Node node){\r\n    \t\tthis.node = node;\r\n    \t\tthis.network = node.getNetwork();\r\n    \t\tthis.uid = node.getUID();\r\n    \t}\r\n    \t\r\n    \t//Won&#39;t be called during deserialisation\r\n    \tpublic Node resolve(){\r\n    \t\tif(node == null){\r\n    \t\t\tnode = network.resolve(uid);\r\n    \t\t}\r\n    \t\treturn node;\r\n    \t}\r\n    \t\r\n    \t//Will be called when connections maps are deserialised.\r\n    \tpublic boolean equals(Object o){\r\n    \t\t//you might also want to check that the networks are equal\r\n    \t\treturn (o instanceof NodeRef) &amp;&amp; Arrays.equals(uid, ((NodeRef)o).uid);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t//Will be called when connections maps are deserialised.\r\n    \tpublic int hashCode(){\r\n    \t\treturn Arrays.hashCode(uid);\r\n    \t}\r\n    }\r\n    ","title":"Serializing Java Object without StackOverflowError","body":"<p>I came across this via google, when trying to fix the issue myself.</p>\n<p>I wanted a solution that required a far smaller amount of code than writing custom serialisation code.</p>\n<p>The problem is that Nodes are connected to Nodes are connected to Nodes.\nA very large part of the network is reachable from any given node - for an undirected graph it's every node.</p>\n<p>When you attempt to serialise a Node every reachable node will end up on the stack.</p>\n<p>The simplest solution is not to connect a node directly to its neighbours, but to add a layer of indirection:</p>\n<pre><code>class Node{\n\n    private final Map&lt;NodeRef, Connection&gt; forwardConnections = new HashMap&lt;&gt;();\n    private final Map&lt;NodeRef, Connection&gt; reverseConnections = new HashMap&lt;&gt;();\n\n    ...\n}\n\nclass Connection{\n\n    private final NodeRef source;\n    private final NodeRef dest;\n    private final ConnectionMetadata meta;\n\n    public Connection(Node source, Node dest, ConnectionMetadata meta){\n        this.source = new NodeRef(source);\n        this.dest = new NodeRef(dest);\n    }\n\n    public Node getSource(){\n        return source.resolve();\n    }\n\n    public Node getDest(){\n        return dest.resolve();\n    }\n    \n    public ConnectionMetadata getMeta(){\n        return meta;\n    }\n\n}\n\npublic class NodeRef{\n    \n    private transient Node node;\n    private final Network network;\n    private final int[] uid;\n    \n    public NodeRef(Node node){\n        this.node = node;\n        this.network = node.getNetwork();\n        this.uid = node.getUID();\n    }\n    \n    //Won't be called during deserialisation\n    public Node resolve(){\n        if(node == null){\n            node = network.resolve(uid);\n        }\n        return node;\n    }\n    \n    //Will be called when connections maps are deserialised.\n    public boolean equals(Object o){\n        //you might also want to check that the networks are equal\n        return (o instanceof NodeRef) &amp;&amp; Arrays.equals(uid, ((NodeRef)o).uid);\n    }\n    \n    \n    //Will be called when connections maps are deserialised.\n    public int hashCode(){\n        return Arrays.hashCode(uid);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189549,"reputation":538,"user_id":3232207,"accept_rate":80,"display_name":"Ryan Dougherty"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4483,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":25148082,"answer_count":2,"score":9,"last_activity_date":1697330917,"creation_date":1407269879,"question_id":25147565,"body_markdown":"I have a quite large Java object that represents a graph, with vertices and edges, in memory. Each vertex has an `ArrayList` of other vertices that it is connected to (and has a `HashMap` data structure as well for other purposes). The graph can have a few thousand vertices, and many more edges.\r\n\r\nWhen trying to serialize the graph using Java&#39;s built-in serialization (`implements Serializable`, etc.), I always run into a `StackOverflowError`. Setting other attributes of the graph to `transient` does not help, and nor does setting the stack size to be larger (i.e. `-Xss1g` or `-Xss512m`).\r\n\r\nI would not think that I need to make a custom `writeObject` method since `ArrayList` and `HashMap` already have their own implementations, which are called upon serialization.\r\n\r\nIs there a way to serialize a large Java object already in memory without getting a `StackOverflowError`?\r\n\r\nHere is the stack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat java.lang.reflect.Method.invoke(Method.java:575)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\r\n\tat java.util.ArrayList.writeObject(ArrayList.java:570)\r\n\tat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    // Many more lines after this\r\n\r\nHere is an overview of my `Graph` class:\r\n\r\n    public class Graph implements Serializable {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -2632163054149021990L;\r\n\tprivate ArrayList&lt;Vertex&gt; vertices;\r\n\t\r\n\tprivate HashMap&lt;Integer, Set&lt;Vertex&gt;&gt; map;\r\n\r\n\tpublic Graph(int rowMax, int colMax)\r\n\t{\r\n\t\tmap = new HashMap&lt;Integer, Set&lt;Vertex&gt;&gt;();\r\n\t\t\r\n\t\tthis.vertices = new ArrayList&lt;Vertex&gt;();\r\n\t}\r\n\r\n    public void connectVertices(Vertex u, Vertex v)\r\n\t{\r\n\t\tu.addNeighbor(v);\r\n\t\tv.addNeighbor(u);\r\n\t}\r\n\r\n    // other unrelated methods after this\r\n\r\nAnd here is my `Vertex` class:\r\n\r\n    public class Vertex implements Serializable {\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 8520500010710631610L;\r\n\tpublic int row;\r\n\tpublic int col;\r\n\tprivate ArrayList&lt;Vertex&gt; neighbors; // may change this to Set&lt;Vertex&gt;\r\n\r\n\tpublic Vertex(int i, int j)\r\n\t{\r\n\t\tthis.row = i;\r\n\t\tthis.col = j;\r\n\t\tthis.neighbors = new ArrayList&lt;Vertex&gt;();\r\n\t}\r\n\t\r\n\tpublic boolean addNeighbor(Vertex v)\r\n\t{\r\n\t\tthis.neighbors.add(v);\r\n\t\treturn true;\r\n\t}\r\n\r\n    // unrelated methods after this\r\n\r\nAlso, graphs of smaller sizes, but that have &quot;neighbors&quot;, do not have this problem.","title":"Serializing Java Object without StackOverflowError","body":"<p>I have a quite large Java object that represents a graph, with vertices and edges, in memory. Each vertex has an <code>ArrayList</code> of other vertices that it is connected to (and has a <code>HashMap</code> data structure as well for other purposes). The graph can have a few thousand vertices, and many more edges.</p>\n<p>When trying to serialize the graph using Java's built-in serialization (<code>implements Serializable</code>, etc.), I always run into a <code>StackOverflowError</code>. Setting other attributes of the graph to <code>transient</code> does not help, and nor does setting the stack size to be larger (i.e. <code>-Xss1g</code> or <code>-Xss512m</code>).</p>\n<p>I would not think that I need to make a custom <code>writeObject</code> method since <code>ArrayList</code> and <code>HashMap</code> already have their own implementations, which are called upon serialization.</p>\n<p>Is there a way to serialize a large Java object already in memory without getting a <code>StackOverflowError</code>?</p>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\nat java.lang.reflect.Method.invoke(Method.java:575)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:950)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1482)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1535)\nat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\nat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1413)\nat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1159)\nat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:329)\nat java.util.ArrayList.writeObject(ArrayList.java:570)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n// Many more lines after this\n</code></pre>\n<p>Here is an overview of my <code>Graph</code> class:</p>\n<pre><code>public class Graph implements Serializable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = -2632163054149021990L;\nprivate ArrayList&lt;Vertex&gt; vertices;\n\nprivate HashMap&lt;Integer, Set&lt;Vertex&gt;&gt; map;\n\npublic Graph(int rowMax, int colMax)\n{\n    map = new HashMap&lt;Integer, Set&lt;Vertex&gt;&gt;();\n    \n    this.vertices = new ArrayList&lt;Vertex&gt;();\n}\n\npublic void connectVertices(Vertex u, Vertex v)\n{\n    u.addNeighbor(v);\n    v.addNeighbor(u);\n}\n\n// other unrelated methods after this\n</code></pre>\n<p>And here is my <code>Vertex</code> class:</p>\n<pre><code>public class Vertex implements Serializable {\n\n/**\n * \n */\nprivate static final long serialVersionUID = 8520500010710631610L;\npublic int row;\npublic int col;\nprivate ArrayList&lt;Vertex&gt; neighbors; // may change this to Set&lt;Vertex&gt;\n\npublic Vertex(int i, int j)\n{\n    this.row = i;\n    this.col = j;\n    this.neighbors = new ArrayList&lt;Vertex&gt;();\n}\n\npublic boolean addNeighbor(Vertex v)\n{\n    this.neighbors.add(v);\n    return true;\n}\n\n// unrelated methods after this\n</code></pre>\n<p>Also, graphs of smaller sizes, but that have &quot;neighbors&quot;, do not have this problem.</p>\n"},{"tags":["java","spring-boot","logback"],"answers":[{"comments":[{"owner":{"account_id":16278215,"reputation":705,"user_id":11754886,"display_name":"fjsv"},"score":0,"creation_date":1591177914,"post_id":62167041,"comment_id":109953756,"body_markdown":"Probably a dependency conflict. If you need that dependency and with it the logback fails  to find a file, you should try to see if there is any logback conflict with that dependency and exclude it.","body":"Probably a dependency conflict. If you need that dependency and with it the logback fails  to find a file, you should try to see if there is any logback conflict with that dependency and exclude it."}],"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591168614,"creation_date":1591167747,"answer_id":62167041,"question_id":62166906,"body_markdown":"I add an dependencies\r\n\r\n```xml\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut I don&#39;t understand reason.\r\n\r\nAfter I removed the dependency. But my app runs without errors. I&#39;m at a loss.","title":"Logging system failed to initialize using configuration from &#39;classpath:logger/logback-spring.xml&#39;","body":"<p>I add an dependencies</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>     &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>But I don't understand reason.</p>\n\n<p>After I removed the dependency. But my app runs without errors. I'm at a loss.</p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697328105,"creation_date":1591167170,"question_id":62166906,"body_markdown":"I use Spring boot 2.3.0.RELEASE.\r\n\r\napplication.properties\r\n\r\n```sql\r\nspring.profiles.active=dev\r\n\r\nlogging.config=classpath:logger/logback-spring.xml\r\n\r\nlogging.file.dir=reception-electronic-docs\r\nlogging.file.name.var=reception-electronic-docs.log\r\nlogging.file.archive.format.name=reception-electronic-docs.%d{dd-MM-yyyy}.log\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Previously this code worked** (Srping boot 2.2.5.RELEASE).\r\n\r\nI use multi module structure in the project. But there, the Central pom does not manage the entire project. I create microservices.\r\n\r\n During start up an application encounter an error:\r\n\r\n```java\r\nLogging system failed to initialize using configuration from &#39;classpath:logger/logback-spring.xml&#39;\r\njava.io.FileNotFoundException: class path resource [logger/logback-spring.xml] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:137)\r\n```\r\nWhat are any ideas to correct this?\r\n\r\n  [1]: https://i.stack.imgur.com/bqSPc.png\r\n","title":"Logging system failed to initialize using configuration from &#39;classpath:logger/logback-spring.xml&#39;","body":"<p>I use Spring boot 2.3.0.RELEASE.</p>\n\n<p>application.properties</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>spring.profiles.active=dev\n\nlogging.config=classpath:logger/logback-spring.xml\n\nlogging.file.dir=reception-electronic-docs\nlogging.file.name.var=reception-electronic-docs.log\nlogging.file.archive.format.name=reception-electronic-docs.%d{dd-MM-yyyy}.log\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bqSPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqSPc.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Previously this code worked</strong> (Srping boot 2.2.5.RELEASE).</p>\n\n<p>I use multi module structure in the project. But there, the Central pom does not manage the entire project. I create microservices.</p>\n\n<p>During start up an application encounter an error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Logging system failed to initialize using configuration from 'classpath:logger/logback-spring.xml'\njava.io.FileNotFoundException: class path resource [logger/logback-spring.xml] cannot be resolved to URL because it does not exist\n    at org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:137)\n</code></pre>\n\n<p>What are any ideas to correct this?</p>\n"},{"tags":["java","swing","key-bindings"],"comments":[{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1450017866,"post_id":34251765,"comment_id":56246163,"body_markdown":"One silly idea - have you tried putting an invisible space in front of your item names?","body":"One silly idea - have you tried putting an invisible space in front of your item names?"},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1450018018,"post_id":34251765,"comment_id":56246230,"body_markdown":"@pvg I just tried it and it works ;). But that&#39;s not the way I want to solve the problem. And now I have a problem with assigning an action to the space bar ;). Or what do you mean by invisible space? I just took a normal one.","body":"@pvg I just tried it and it works ;). But that&#39;s not the way I want to solve the problem. And now I have a problem with assigning an action to the space bar ;). Or what do you mean by invisible space? I just took a normal one."},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1450018100,"post_id":34251765,"comment_id":56246250,"body_markdown":"No, try an invisible unicode space, not an actual space. I think it&#39;s actually a pretty decent solution that doesn&#39;t dig excessively into the default and fairly-implementation-specific details of JList.","body":"No, try an invisible unicode space, not an actual space. I think it&#39;s actually a pretty decent solution that doesn&#39;t dig excessively into the default and fairly-implementation-specific details of JList."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":2,"creation_date":1450022931,"post_id":34251765,"comment_id":56247861,"body_markdown":"@principal-ideal-domain you have to override, to disable `JList#getNextMatch` by returns - `return -1;`","body":"@principal-ideal-domain you have to override, to disable <code>JList#getNextMatch</code> by returns - <code>return -1;</code>"}],"answers":[{"comments":[{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1450016283,"post_id":34252025,"comment_id":56245633,"body_markdown":"There is one `getClass` too much and even with fixing that typo it doesn&#39;t work.","body":"There is one <code>getClass</code> too much and even with fixing that typo it doesn&#39;t work."},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1450017627,"post_id":34252025,"comment_id":56246076,"body_markdown":"@principal-ideal-domain - Works for me :)","body":"@principal-ideal-domain - Works for me :)"},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1450017885,"post_id":34252025,"comment_id":56246170,"body_markdown":"I&#39;m using a self written table model. Does that change anything?","body":"I&#39;m using a self written table model. Does that change anything?"},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1450018326,"post_id":34252025,"comment_id":56246325,"body_markdown":"@principal-ideal-domain - TableModel does not matter. But the Listener approach indeed only works in Java8. Try the NoSelectionModel  approach.","body":"@principal-ideal-domain - TableModel does not matter. But the Listener approach indeed only works in Java8. Try the NoSelectionModel  approach."},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1450018793,"post_id":34252025,"comment_id":56246450,"body_markdown":"@Leet-Falcon wouldn&#39;t option 2 pretty much break list selection? If you can&#39;t properly select on the list, there&#39;s not much point having keyboard shortcuts that act on the selection.","body":"@Leet-Falcon wouldn&#39;t option 2 pretty much break list selection? If you can&#39;t properly select on the list, there&#39;s not much point having keyboard shortcuts that act on the selection."},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1450018997,"post_id":34252025,"comment_id":56246516,"body_markdown":"I&#39;m using Java 8: java.runtime.version: 1.8.0_66-b18","body":"I&#39;m using Java 8: java.runtime.version: 1.8.0_66-b18"},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1450019449,"post_id":34252025,"comment_id":56246668,"body_markdown":"@principal-ideal-domain - You are right. Option 2 breaks the selection.","body":"@principal-ideal-domain - You are right. Option 2 breaks the selection."},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1450020180,"post_id":34252025,"comment_id":56246920,"body_markdown":"@principal-ideal-domain - Sorry, it was the standard listener (javax.swing.plaf.basic.BasicListUI$Handler) which you need to remove.","body":"@principal-ideal-domain - Sorry, it was the standard listener (javax.swing.plaf.basic.BasicListUI$Handler) which you need to remove."},{"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"score":0,"creation_date":1450020933,"post_id":34252025,"comment_id":56247198,"body_markdown":"The following code works for me: `for (KeyListener keyListener : list.getKeyListeners()) {\n\t\t\tif (keyListener.getClass().getSimpleName().equals(&quot;Handler&quot;)) {\n\t\t\t\tlist.removeKeyListener(keyListener);\n\t\t\t}\n\t\t}`","body":"The following code works for me: <code>for (KeyListener keyListener : list.getKeyListeners()) { \t\t\tif (keyListener.getClass().getSimpleName().equals(&quot;Handler&quot;)) { \t\t\t\tlist.removeKeyListener(keyListener); \t\t\t} \t\t}</code>"},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":2,"creation_date":1450024316,"post_id":34252025,"comment_id":56248334,"body_markdown":"@principal-ideal-domain This is a great question with a truly terrible accepted answer. Option 2 is broken and Option 1 is so fragile, it only works in one particular JDK. It&#39;s completely dependent on the implementation details of JList - it can end up not working in JDK 8+N. The invis character thing is a hack, but at least it&#39;s robust. An even better alternative is to simply not use JList. Use a JTable and style it to look the same.","body":"@principal-ideal-domain This is a great question with a truly terrible accepted answer. Option 2 is broken and Option 1 is so fragile, it only works in one particular JDK. It&#39;s completely dependent on the implementation details of JList - it can end up not working in JDK 8+N. The invis character thing is a hack, but at least it&#39;s robust. An even better alternative is to simply not use JList. Use a JTable and style it to look the same."}],"tags":[],"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450020043,"creation_date":1450015971,"answer_id":34252025,"question_id":34251765,"body_markdown":"You can remove the [KeyListeners][1] from the JList.  \r\nI tried but couldn&#39;t figure out what this breaks in terms of standard functionality.\r\n\r\n    KeyListener[] lsnrs = list.getKeyListeners();\r\n    for (int i = 0; i &lt; lsnrs.length; i++) {\r\n        list.removeKeyListener(lsnrs[i]);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyListener.html","title":"Deactivate selection by letter in JList","body":"<p>You can remove the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/KeyListener.html\" rel=\"nofollow\">KeyListeners</a> from the JList.<br>\nI tried but couldn't figure out what this breaks in terms of standard functionality.</p>\n\n<pre><code>KeyListener[] lsnrs = list.getKeyListeners();\nfor (int i = 0; i &lt; lsnrs.length; i++) {\n    list.removeKeyListener(lsnrs[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697327854,"creation_date":1697327854,"answer_id":77294879,"question_id":34251765,"body_markdown":"Instead of removing the KeyListeners, override the `getNextMatch()` method of JList to return -1 every time. Then it won&#39;t jump to the selection by letter on key press.\r\n\r\n    import javax.swing.JList;\r\n    import javax.swing.text.Position;\r\n    \r\n    class CustomJList extends JList&lt;Object&gt; {\r\n    \r\n        @Override\r\n        public int getNextMatch(String prefix, int startIndex, Position.Bias bias) {\r\n    \t    return -1;\r\n    \t}\r\n    \r\n    }","title":"Deactivate selection by letter in JList","body":"<p>Instead of removing the KeyListeners, override the <code>getNextMatch()</code> method of JList to return -1 every time. Then it won't jump to the selection by letter on key press.</p>\n<pre><code>import javax.swing.JList;\nimport javax.swing.text.Position;\n\nclass CustomJList extends JList&lt;Object&gt; {\n\n    @Override\n    public int getNextMatch(String prefix, int startIndex, Position.Bias bias) {\n        return -1;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34252025,"answer_count":2,"score":2,"last_activity_date":1697327854,"creation_date":1450014393,"question_id":34251765,"body_markdown":"I&#39;ve got a JList list and the following code line:\r\n\r\n    list.getInputMap().put(KeyStroke.getKeyStroke(&#39;d&#39;), &quot;action&quot;);\r\n\r\nSo when my list is in focus and I press the **d** key on my keyboard an action should be performed. That action takes into account which item of my JList is currently selected. The problem is that whenever there is an item in my list with first letter &#39;d&#39; my selection will jump to that entry first and then do the action (applied to the wrong item).\r\n\r\nSo my question is: How do I disable those selections jumps in JLists caused by typing a letter?","title":"Deactivate selection by letter in JList","body":"<p>I've got a JList list and the following code line:</p>\n\n<pre><code>list.getInputMap().put(KeyStroke.getKeyStroke('d'), \"action\");\n</code></pre>\n\n<p>So when my list is in focus and I press the <strong>d</strong> key on my keyboard an action should be performed. That action takes into account which item of my JList is currently selected. The problem is that whenever there is an item in my list with first letter 'd' my selection will jump to that entry first and then do the action (applied to the wrong item).</p>\n\n<p>So my question is: How do I disable those selections jumps in JLists caused by typing a letter?</p>\n"},{"tags":["java","maven","github","automation","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697369255,"post_id":77294232,"comment_id":136268827,"body_markdown":"Default for a pom file is `pom.xml` all lower case... change that in your git repo and follow standards... it&#39;s easier than adding supplemental configuration options...","body":"Default for a pom file is <code>pom.xml</code> all lower case... change that in your git repo and follow standards... it&#39;s easier than adding supplemental configuration options..."}],"answers":[{"comments":[{"owner":{"account_id":27523642,"reputation":27,"user_id":21003348,"display_name":"Serhii"},"score":0,"creation_date":1697354557,"post_id":77294878,"comment_id":136267518,"body_markdown":"It helped me. Thank you! For some reason when I created a Maven project the pom file was created automatically with upper case letters.","body":"It helped me. Thank you! For some reason when I created a Maven project the pom file was created automatically with upper case letters."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697327805,"creation_date":1697327805,"answer_id":77294878,"question_id":77294232,"body_markdown":"`mvn clean test --file POM.xml`? In Maven, the `pom.xml` file is case-sensitive and should be named exactly as `pom.xml` and not `POM.xml`. In the `build.yaml` file you provided, you are referencing `POM.xml` instead of `pom.xml`, which is search by default.\r\n\r\nYou should modify this line to reference `pom.xml` in lowercase, like so:\r\n\r\n```yaml\r\n    - name: Build with Maven\r\n      run: mvn clean test --file pom.xml\r\n      working-directory: ${{github.workspace}}\r\n```\r\n\r\nAnd renamed your file in your source code to `pom.xml`.\r\n","title":"&quot;No file in /home/runner/work/... matched to [**/pom.xml]&quot; error appears during the build process of Maven project","body":"<p><code>mvn clean test --file POM.xml</code>? In Maven, the <code>pom.xml</code> file is case-sensitive and should be named exactly as <code>pom.xml</code> and not <code>POM.xml</code>. In the <code>build.yaml</code> file you provided, you are referencing <code>POM.xml</code> instead of <code>pom.xml</code>, which is search by default.</p>\n<p>You should modify this line to reference <code>pom.xml</code> in lowercase, like so:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    - name: Build with Maven\n      run: mvn clean test --file pom.xml\n      working-directory: ${{github.workspace}}\n</code></pre>\n<p>And renamed your file in your source code to <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":27523642,"reputation":27,"user_id":21003348,"display_name":"Serhii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77294878,"answer_count":1,"score":1,"last_activity_date":1697327805,"creation_date":1697312464,"question_id":77294232,"body_markdown":"I created a test automation framework built on Maven and already pushed it to the &#39;develop&#39; branch in my GitHub repo.\r\nIt was needed to build my project each time a PR created. So I created a build.yaml file and added it to my repo. But when I create a new PR - the build process fails because of this issue:\r\n\r\n`Error: No file in /home/runner/work/report-portal/report-portal matched to [**/pom.xml], make sure you have checked out the target repository`\r\n\r\nHere is my build.yaml file:\r\n\r\n```\r\nname: Build and Test\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;master&quot;, &quot;develop&quot; ]\r\n  pull_request:\r\n    branches: [ &quot;master&quot;, &quot;develop&quot; ]\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - name: Checkout repository\r\n      uses: actions/checkout@v4\r\n      with:\r\n        fetch-depth: 0\r\n    - run: ls -la\r\n    - name: Set up JDK 20\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;20&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Build with Maven\r\n      run: mvn clean test --file POM.xml\r\n      working-directory: ${{github.workspace}}\r\n```\r\n\r\n\r\nI added this row `- run: ls -la` into the build.yaml and can see in logs that my POM.xml file is visible:\r\n[GitHub logs 1](https://i.stack.imgur.com/m65vX.png)\r\n\r\nAgain, according to logs, my repo was checked out successfuly:\r\n[Git Hub logs 2](https://i.stack.imgur.com/sQVC1.png)\r\n\r\nAny ideas why my POM file is not found?\r\n","title":"&quot;No file in /home/runner/work/... matched to [**/pom.xml]&quot; error appears during the build process of Maven project","body":"<p>I created a test automation framework built on Maven and already pushed it to the 'develop' branch in my GitHub repo.\nIt was needed to build my project each time a PR created. So I created a build.yaml file and added it to my repo. But when I create a new PR - the build process fails because of this issue:</p>\n<p><code>Error: No file in /home/runner/work/report-portal/report-portal matched to [**/pom.xml], make sure you have checked out the target repository</code></p>\n<p>Here is my build.yaml file:</p>\n<pre><code>name: Build and Test\n\non:\n  push:\n    branches: [ &quot;master&quot;, &quot;develop&quot; ]\n  pull_request:\n    branches: [ &quot;master&quot;, &quot;develop&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - name: Checkout repository\n      uses: actions/checkout@v4\n      with:\n        fetch-depth: 0\n    - run: ls -la\n    - name: Set up JDK 20\n      uses: actions/setup-java@v3\n      with:\n        java-version: '20'\n        distribution: 'temurin'\n        cache: maven\n    - name: Build with Maven\n      run: mvn clean test --file POM.xml\n      working-directory: ${{github.workspace}}\n</code></pre>\n<p>I added this row <code>- run: ls -la</code> into the build.yaml and can see in logs that my POM.xml file is visible:\n<a href=\"https://i.stack.imgur.com/m65vX.png\" rel=\"nofollow noreferrer\">GitHub logs 1</a></p>\n<p>Again, according to logs, my repo was checked out successfuly:\n<a href=\"https://i.stack.imgur.com/sQVC1.png\" rel=\"nofollow noreferrer\">Git Hub logs 2</a></p>\n<p>Any ideas why my POM file is not found?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":14543,"reputation":34602,"user_id":30018,"accept_rate":97,"display_name":"JohnFx"},"score":9,"creation_date":1239894459,"post_id":756567,"comment_id":567937,"body_markdown":"I&#39;ll put this in a comment since it isn&#39;t a complete solution, but only a suggestion. You are going to be much better off white-listing characters than blacklisting them since there are likely to be far fewer characters you want to allow than deny.","body":"I&#39;ll put this in a comment since it isn&#39;t a complete solution, but only a suggestion. You are going to be much better off white-listing characters than blacklisting them since there are likely to be far fewer characters you want to allow than deny."},{"owner":{"account_id":22756,"reputation":6549,"user_id":56472,"accept_rate":75,"display_name":"Jason Coyne"},"score":0,"creation_date":1239896073,"post_id":756567,"comment_id":568116,"body_markdown":"Check my updated answer for using unicode ranges, perhaps that would simplify the whitelist issue?","body":"Check my updated answer for using unicode ranges, perhaps that would simplify the whitelist issue?"},{"owner":{"account_id":22756,"reputation":6549,"user_id":56472,"accept_rate":75,"display_name":"Jason Coyne"},"score":0,"creation_date":1239902713,"post_id":756567,"comment_id":568744,"body_markdown":"In the blacklist mode, japanse, chinese, korean etc will all be allowed. Is this acceptable?","body":"In the blacklist mode, japanse, chinese, korean etc will all be allowed. Is this acceptable?"}],"answers":[{"comments":[{"owner":{"display_name":"Ana"},"score":0,"creation_date":1239894948,"post_id":756581,"comment_id":567997,"body_markdown":"Thanks for your reply.\n\nWe tried whitelisting first but it is not practical since we want to allow any accented characters. We started with this:\n^[a-zA-Z0-9. &#39;-]+$\n\nthen we had to add all the French characters manually. Now we need all the German ones and so on.","body":"Thanks for your reply.  We tried whitelisting first but it is not practical since we want to allow any accented characters. We started with this: ^[a-zA-Z0-9. &#39;-]+$  then we had to add all the French characters manually. Now we need all the German ones and so on."},{"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"score":0,"creation_date":1239895212,"post_id":756581,"comment_id":568020,"body_markdown":"Have a look on my pattern, it whitelists all characters including all accented ones.","body":"Have a look on my pattern, it whitelists all characters including all accented ones."},{"owner":{"account_id":31467,"reputation":9522,"user_id":86404,"accept_rate":75,"display_name":"BlairHippo"},"score":0,"creation_date":1239897373,"post_id":756581,"comment_id":568247,"body_markdown":"According to Gaijin&#39;s link, Lucero&#39;s pattern is too simplistic; check out the section labeled &quot;Unicode Character Properties&quot;.  (You need something like &quot;\\p{L}\\p{M}*&quot; to really catch all accented characters.)  But I&#39;m quite certain a whitelist is the way to go; a fully-populated blacklist will hurt.","body":"According to Gaijin&#39;s link, Lucero&#39;s pattern is too simplistic; check out the section labeled &quot;Unicode Character Properties&quot;.  (You need something like &quot;\\p{L}\\p{M}*&quot; to really catch all accented characters.)  But I&#39;m quite certain a whitelist is the way to go; a fully-populated blacklist will hurt."}],"tags":[],"owner":{"account_id":22756,"reputation":6549,"user_id":56472,"accept_rate":75,"display_name":"Jason Coyne"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1239896049,"creation_date":1239894459,"answer_id":756581,"question_id":756567,"body_markdown":"Its usually better to whitelist characters you allow, rather than to blacklist characters you don&#39;t allow. both from a security standpoint, and from an ease of implementation standpoint.\r\n\r\nIf you do go down the blacklist route,  here is an example, but be warned, the syntax is not simple.\r\n\r\nhttp://groups.google.com/group/regex/browse_thread/thread/0795c1b958561a07\r\n\r\nIf you want to whitelist all the accent characters, perhaps using unicode ranges would help?  Check out this link.\r\n\r\nhttp://www.regular-expressions.info/unicode.html","title":"Regular expression for excluding special characters","body":"<p>Its usually better to whitelist characters you allow, rather than to blacklist characters you don't allow. both from a security standpoint, and from an ease of implementation standpoint.</p>\n\n<p>If you do go down the blacklist route,  here is an example, but be warned, the syntax is not simple.</p>\n\n<p><a href=\"http://groups.google.com/group/regex/browse_thread/thread/0795c1b958561a07\" rel=\"nofollow noreferrer\">http://groups.google.com/group/regex/browse_thread/thread/0795c1b958561a07</a></p>\n\n<p>If you want to whitelist all the accent characters, perhaps using unicode ranges would help?  Check out this link.</p>\n\n<p><a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">http://www.regular-expressions.info/unicode.html</a></p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1239896085,"post_id":756596,"comment_id":568120,"body_markdown":"This is the right idea, but I don&#39;t think the capture group is needed, or in the right place. Wouldn&#39;t &quot;[-\\p{L}]*&quot;, used with the `matches()` method, do just fine?","body":"This is the right idea, but I don&#39;t think the capture group is needed, or in the right place. Wouldn&#39;t &quot;[-\\p{L}]*&quot;, used with the <code>matches()</code> method, do just fine?"},{"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"score":0,"creation_date":1239897116,"post_id":756596,"comment_id":568223,"body_markdown":"Yes it should. However, I wasn&#39;t sure how the Java Regex engine handles [-\\p{L}] exactly; I&#39;d at least escape the - character. Or you can make a non-capturing group (which makes the reges a little less easy to read): ^(?:\\p{L}|[\\-])*$","body":"Yes it should. However, I wasn&#39;t sure how the Java Regex engine handles [-\\p{L}] exactly; I&#39;d at least escape the - character. Or you can make a non-capturing group (which makes the reges a little less easy to read): ^(?:\\p{L}|[\\-])*$"},{"owner":{"account_id":31467,"reputation":9522,"user_id":86404,"accept_rate":75,"display_name":"BlairHippo"},"score":0,"creation_date":1239897967,"post_id":756596,"comment_id":568313,"body_markdown":"See the second of Gaijin&#39;s two links, under &quot;Unicode Character Properties&quot; -- this might not catch everything it needs to, depending on how the character is encoded.  (That page suggests &quot;\\p{L}\\p{M}*&quot;.)  But it definitely feels like it&#39;s close to being the solution.","body":"See the second of Gaijin&#39;s two links, under &quot;Unicode Character Properties&quot; -- this might not catch everything it needs to, depending on how the character is encoded.  (That page suggests &quot;\\p{L}\\p{M}*&quot;.)  But it definitely feels like it&#39;s close to being the solution."},{"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"score":0,"creation_date":1239898279,"post_id":756596,"comment_id":568338,"body_markdown":"This depends mainly whether the string is normalized or not, but yes, this is a valid point.","body":"This depends mainly whether the string is normalized or not, but yes, this is a valid point."}],"tags":[],"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239898429,"creation_date":1239894583,"answer_id":756596,"question_id":756567,"body_markdown":"Do you really want to blacklist specific characters or rather whitelist the allowed charachters?\r\n\r\nI assume that you actually want the latter. This is pretty simple (add any additional symbols to whitelist into the `[\\-]` group):\r\n\r\n    ^(?:\\p{L}\\p{M}*|[\\-])*$\r\n\r\nEdit: Optimized the pattern with the input from the comments","title":"Regular expression for excluding special characters","body":"<p>Do you really want to blacklist specific characters or rather whitelist the allowed charachters?</p>\n\n<p>I assume that you actually want the latter. This is pretty simple (add any additional symbols to whitelist into the <code>[\\-]</code> group):</p>\n\n<pre><code>^(?:\\p{L}\\p{M}*|[\\-])*$\n</code></pre>\n\n<p>Edit: Optimized the pattern with the input from the comments</p>\n"},{"comments":[{"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"score":3,"creation_date":1239895145,"post_id":756609,"comment_id":568014,"body_markdown":"Your whitelist pattern does only include the German umlaut, but no French or other characters - and there are many common ones... like: &#241;&#235;&#255;&#234;&#226;&#244;&#238;&#237;&#236; etc. therefore, basically only using a Unicode character group makes whitelisting possible with the requirement given.","body":"Your whitelist pattern does only include the German umlaut, but no French or other characters - and there are many common ones... like: &#241;&#235;&#255;&#234;&#226;&#244;&#238;&#237;&#236; etc. therefore, basically only using a Unicode character group makes whitelisting possible with the requirement given."},{"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"score":1,"creation_date":1239897106,"post_id":756609,"comment_id":568221,"body_markdown":"Of course ... only an example and the Umlaute were easiest to type on a German keyboard.","body":"Of course ... only an example and the Umlaute were easiest to type on a German keyboard."},{"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"score":4,"creation_date":1239898519,"post_id":756609,"comment_id":568369,"body_markdown":"You didn&#39;t get the point I was trying to make. It&#39;s not about your choice of characters as sample, but about not really being able to whitelist all possible combinations.","body":"You didn&#39;t get the point I was trying to make. It&#39;s not about your choice of characters as sample, but about not really being able to whitelist all possible combinations."},{"owner":{"account_id":13419,"reputation":15201,"user_id":26931,"accept_rate":86,"display_name":"Armstrongest"},"score":0,"creation_date":1254329858,"post_id":756609,"comment_id":1352113,"body_markdown":"Why not? There aren&#39;t that many accented letters. If you have to manage a separate list for each language, so be it.","body":"Why not? There aren&#39;t that many accented letters. If you have to manage a separate list for each language, so be it."},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":3,"creation_date":1254330217,"post_id":756609,"comment_id":1352147,"body_markdown":"@Atomiton, Vietnamese (for example) has 11 vowel nuclei, each of which can have one of 5 accents (ex: ệ) as well as the letter đ.  Polish has Ł Ź Ś Ę... Turkish has the dotted I, İ.  There are hundreds of different accented letters.","body":"@Atomiton, Vietnamese (for example) has 11 vowel nuclei, each of which can have one of 5 accents (ex: ệ) as well as the letter đ.  Polish has Ł Ź Ś Ę... Turkish has the dotted I, İ.  There are hundreds of different accented letters."},{"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"score":2,"creation_date":1254334304,"post_id":756609,"comment_id":1352509,"body_markdown":"There are a few hundred he wants to include but there are several thousands he wants to exclude.","body":"There are a few hundred he wants to include but there are several thousands he wants to exclude."},{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":0,"creation_date":1672730188,"post_id":756609,"comment_id":132335096,"body_markdown":"If you want to continue matching even after a non-match character is found, you can use\n([a-zA-Z0-9]+)","body":"If you want to continue matching even after a non-match character is found, you can use ([a-zA-Z0-9]+)"}],"tags":[],"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"comment_count":7,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1239894690,"creation_date":1239894690,"answer_id":756609,"question_id":756567,"body_markdown":"I would just white list the characters.\r\n\r\n    ^[a-zA-Z0-9&#228;&#246;&#252;&#196;&#214;&#220;]*$\r\n\r\nBuilding a black list is equally simple with regex but you might need to add much more characters - there are a lot of Chinese symbols in unicode ... ;)\r\n\r\n    ^[^&lt;&gt;%$]*$\r\n\r\nThe expression [^(many characters here)] just matches any character that is not listed.","title":"Regular expression for excluding special characters","body":"<p>I would just white list the characters.</p>\n\n<pre><code>^[a-zA-Z0-9äöüÄÖÜ]*$\n</code></pre>\n\n<p>Building a black list is equally simple with regex but you might need to add much more characters - there are a lot of Chinese symbols in unicode ... ;)</p>\n\n<pre><code>^[^&lt;&gt;%$]*$\n</code></pre>\n\n<p>The expression [^(many characters here)] just matches any character that is not listed.</p>\n"},{"tags":[],"owner":{"account_id":25407,"reputation":5423,"user_id":65285,"display_name":"KarstenF"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1239894697,"creation_date":1239894697,"answer_id":756612,"question_id":756567,"body_markdown":"I guess it depends what language you are targeting.  In general, something like this should work:\r\n\r\n    [^&lt;&gt;%$]\r\n\r\nThe &quot;`[]`&quot; construct defines a character class, which will match any of the listed characters.  Putting &quot;`^`&quot; as the first character negates the match, ie: any character OTHER than one of those listed.\r\n\r\nYou may need to escape some of the characters within the &quot;`[]`&quot;, depending on what language/regex engine you are using.","title":"Regular expression for excluding special characters","body":"<p>I guess it depends what language you are targeting.  In general, something like this should work:</p>\n\n<pre><code>[^&lt;&gt;%$]\n</code></pre>\n\n<p>The \"<code>[]</code>\" construct defines a character class, which will match any of the listed characters.  Putting \"<code>^</code>\" as the first character negates the match, ie: any character OTHER than one of those listed.</p>\n\n<p>You may need to escape some of the characters within the \"<code>[]</code>\", depending on what language/regex engine you are using.</p>\n"},{"tags":[],"owner":{"account_id":31467,"reputation":9522,"user_id":86404,"accept_rate":75,"display_name":"BlairHippo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1239894842,"creation_date":1239894842,"answer_id":756625,"question_id":756567,"body_markdown":"I strongly suspect it&#39;s going to be easier to come up with a list of the characters that ARE allowed vs. the ones that aren&#39;t -- and once you have that list, the regex syntax becomes quite straightforward.  So put me down as another vote for &quot;whitelist&quot;.","title":"Regular expression for excluding special characters","body":"<p>I strongly suspect it's going to be easier to come up with a list of the characters that ARE allowed vs. the ones that aren't -- and once you have that list, the regex syntax becomes quite straightforward.  So put me down as another vote for \"whitelist\".</p>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1239920310,"post_id":756633,"comment_id":570060,"body_markdown":"matches() returns true iff the regex matches the whole string, as if it were anchored at both ends with &#39;^&#39; and &#39;$&#39;; you would need to use find() for this approach to work. But see the other answers for why a blacklist is bad idea.","body":"matches() returns true iff the regex matches the whole string, as if it were anchored at both ends with &#39;^&#39; and &#39;$&#39;; you would need to use find() for this approach to work. But see the other answers for why a blacklist is bad idea."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1239920538,"post_id":756633,"comment_id":570079,"body_markdown":"Also, most metacharacters lose their special meanings when they&#39;re in a character class, so there&#39;s no need to escape the &#39;$&#39;. But if you did need to escape it you would have to use two backslashes (&quot;\\\\$&quot;) because it&#39;s in a Java String literal.","body":"Also, most metacharacters lose their special meanings when they&#39;re in a character class, so there&#39;s no need to escape the &#39;$&#39;. But if you did need to escape it you would have to use two backslashes (&quot;\\\\$&quot;) because it&#39;s in a Java String literal."},{"owner":{"account_id":3610600,"reputation":1076,"user_id":3011638,"accept_rate":83,"display_name":"Sanshayan"},"score":0,"creation_date":1541244443,"post_id":756633,"comment_id":93155301,"body_markdown":"@How to remove those characters from string ,&quot;replaceAll&quot; mehtod is removing valid characters from the String","body":"@How to remove those characters from string ,&quot;replaceAll&quot; mehtod is removing valid characters from the String"}],"tags":[],"owner":{"account_id":13883,"reputation":84930,"user_id":28128,"accept_rate":88,"display_name":"David Grayson"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443077886,"creation_date":1239894929,"answer_id":756633,"question_id":756567,"body_markdown":"To exclude certain characters ( &lt;, &gt;, %, and $), you can make a regular expression like this:\r\n\r\n    [&lt;&gt;%\\$]\r\n\r\nThis regular expression will match all inputs that have a blacklisted character in them.  The brackets define a character class, and the \\ is necessary before the dollar sign because dollar sign has a special meaning in regular expressions.\r\n\r\nTo add more characters to the black list, just insert them between the brackets; order does not matter.\r\n\r\nAccording to some [Java documentation for regular expressions][1], you could use the expression like this:\r\n\r\n    Pattern p = Pattern.compile(&quot;[&lt;&gt;%\\$]&quot;);\r\n    Matcher m = p.matcher(unsafeInputString);\r\n    if (m.matches())\r\n    {\r\n        // Invalid input: reject it, or remove/change the offending characters.\r\n    }\r\n    else\r\n    {\r\n        // Valid input.\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Regular expression for excluding special characters","body":"<p>To exclude certain characters ( &lt;, >, %, and $), you can make a regular expression like this:</p>\n\n<pre><code>[&lt;&gt;%\\$]\n</code></pre>\n\n<p>This regular expression will match all inputs that have a blacklisted character in them.  The brackets define a character class, and the \\ is necessary before the dollar sign because dollar sign has a special meaning in regular expressions.</p>\n\n<p>To add more characters to the black list, just insert them between the brackets; order does not matter.</p>\n\n<p>According to some <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Java documentation for regular expressions</a>, you could use the expression like this:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[&lt;&gt;%\\$]\");\nMatcher m = p.matcher(unsafeInputString);\nif (m.matches())\n{\n    // Invalid input: reject it, or remove/change the offending characters.\n}\nelse\n{\n    // Valid input.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448836164,"post_id":757563,"comment_id":55733487,"body_markdown":"The pattern attribute for HTML input fields is designed to take a regex, so why write a program to do the same thing?","body":"The pattern attribute for HTML input fields is designed to take a regex, so why write a program to do the same thing?"}],"tags":[],"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239908286,"creation_date":1239908286,"answer_id":757563,"question_id":756567,"body_markdown":"Why do you consider regex the best tool for this? If your purpose is to detect whether an illegal character is present in a string, testing each character in a loop will be both simpler and more efficient than constructing a regex.","title":"Regular expression for excluding special characters","body":"<p>Why do you consider regex the best tool for this? If your purpose is to detect whether an illegal character is present in a string, testing each character in a loop will be both simpler and more efficient than constructing a regex.</p>\n"},{"comments":[{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":1,"creation_date":1448678728,"post_id":1499398,"comment_id":55691804,"body_markdown":"Note that the OP only used French and German as examples, not as an exhaustive list, without indicating how big the list was. Many have assumed that they were mistaken in ASKING for a blacklist.","body":"Note that the OP only used French and German as examples, not as an exhaustive list, without indicating how big the list was. Many have assumed that they were mistaken in ASKING for a blacklist."}],"tags":[],"owner":{"account_id":13419,"reputation":15201,"user_id":26931,"accept_rate":86,"display_name":"Armstrongest"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1254329762,"creation_date":1254329762,"answer_id":1499398,"question_id":756567,"body_markdown":"Here&#39;s all the french accented characters:\r\n&#224;&#192;&#226;&#194;&#228;&#196;&#225;&#193;&#233;&#201;&#232;&#200;&#234;&#202;&#235;&#203;&#236;&#204;&#238;&#206;&#239;&#207;&#242;&#210;&#244;&#212;&#246;&#214;&#249;&#217;&#251;&#219;&#252;&#220;&#231;&#199;’&#241;\r\n\r\nI would google a list of German accented characters. There aren&#39;t THAT many. You should be able to get them all. \r\n\r\nFor URLS I Replace accented URLs with regular letters like so:\r\n\r\n\r\n    string beforeConversion = &quot;&#224;&#192;&#226;&#194;&#228;&#196;&#225;&#193;&#233;&#201;&#232;&#200;&#234;&#202;&#235;&#203;&#236;&#204;&#238;&#206;&#239;&#207;&#242;&#210;&#244;&#212;&#246;&#214;&#249;&#217;&#251;&#219;&#252;&#220;&#231;&#199;’&#241;&quot;;\r\n    string afterConversion = &quot;aAaAaAaAeEeEeEeEiIiIiIoOoOoOuUuUuUcC&#39;n&quot;;\r\n    for (int i = 0; i &lt; beforeConversion.Length; i++) {\r\n                    \r\n         cleaned = Regex.Replace(cleaned, beforeConversion[i].ToString(), afterConversion[i].ToString());\r\n    }\r\n\r\nThere&#39;s probably a more efficient way, mind you.","title":"Regular expression for excluding special characters","body":"<p>Here's all the french accented characters:\nàÀâÂäÄáÁéÉèÈêÊëËìÌîÎïÏòÒôÔöÖùÙûÛüÜçÇ’ñ</p>\n\n<p>I would google a list of German accented characters. There aren't THAT many. You should be able to get them all. </p>\n\n<p>For URLS I Replace accented URLs with regular letters like so:</p>\n\n<pre><code>string beforeConversion = \"àÀâÂäÄáÁéÉèÈêÊëËìÌîÎïÏòÒôÔöÖùÙûÛüÜçÇ’ñ\";\nstring afterConversion = \"aAaAaAaAeEeEeEeEiIiIiIoOoOoOuUuUuUcC'n\";\nfor (int i = 0; i &lt; beforeConversion.Length; i++) {\n\n     cleaned = Regex.Replace(cleaned, beforeConversion[i].ToString(), afterConversion[i].ToString());\n}\n</code></pre>\n\n<p>There's probably a more efficient way, mind you.</p>\n"},{"comments":[{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448669801,"post_id":33966062,"comment_id":55690259,"body_markdown":"When providing answers that include regex, be aware that some characters, like _ and *, may disappear in the final render of the text of your answer. In that case, precede them with a \\. Sometimes, only the first occurrence of the character may need the \\ to ensure all of that character show up in the regex. It&#39;s not consistent, so watch the rendered text as you type in, and add \\ as required.","body":"When providing answers that include regex, be aware that some characters, like _ and *, may disappear in the final render of the text of your answer. In that case, precede them with a \\. Sometimes, only the first occurrence of the character may need the \\ to ensure all of that character show up in the regex. It&#39;s not consistent, so watch the rendered text as you type in, and add \\ as required."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448788838,"post_id":33966062,"comment_id":55718244,"body_markdown":"@Mariano. You have obviously edited my answer to highlight the regex, but you obviously DIDN&#39;T read my comment above that some \\ were needed to be inserted so the character after each was visible. Your editing has LEFT IN the now unnecessary \\s. I will now edit them out. If you are going to mess with answers, do the full edit, or leave them alone.","body":"@Mariano. You have obviously edited my answer to highlight the regex, but you obviously DIDN&#39;T read my comment above that some \\ were needed to be inserted so the character after each was visible. Your editing has LEFT IN the now unnecessary \\s. I will now edit them out. If you are going to mess with answers, do the full edit, or leave them alone."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448790622,"post_id":33966062,"comment_id":55718701,"body_markdown":"@Mariano. You left in four \\, which I have now eliminated. You were correct in that the second look-ahead was incorrect. My bad, as I had worked it out for a starting _-, but then remembered about trailing ones, and did an ad-hoc edit without testing. You were also correct about the trailing `.*&#39; in the then third look-ahead. Also, about the starting ^. Hat-trick!","body":"@Mariano. You left in four \\, which I have now eliminated. You were correct in that the second look-ahead was incorrect. My bad, as I had worked it out for a starting _-, but then remembered about trailing ones, and did an ad-hoc edit without testing. You were also correct about the trailing `.*&#39; in the then third look-ahead. Also, about the starting ^. Hat-trick!"},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448790840,"post_id":33966062,"comment_id":55718768,"body_markdown":"@Mariano. Where did you go? That&#39;s what I call guerrilla editing!","body":"@Mariano. Where did you go? That&#39;s what I call guerrilla editing!"},{"owner":{"account_id":6885817,"reputation":6433,"user_id":5290909,"display_name":"Mariano"},"score":0,"creation_date":1448791198,"post_id":33966062,"comment_id":55718873,"body_markdown":"I&#39;m glad it helped as to provide a better answer overall. If you don&#39;t agree with an edit, you have all right to rollback. I removed the previous comments as they are now obsolete.","body":"I&#39;m glad it helped as to provide a better answer overall. If you don&#39;t agree with an edit, you have all right to rollback. I removed the previous comments as they are now obsolete."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1448791514,"post_id":33966062,"comment_id":55718971,"body_markdown":"@Mariano (comments disappeared now), asked how this regex was supposed to help blacklists. I wanted to show how to cover several issues related to excluding characters, as some characters may be legal, except for certain circumstances, such as for the _ and - not being allowed to start, end or be in multiples, but otherwise are OK. This would be impossible without the AND functionality look-ahead provides. However, I sometimes wonder if we would have been better off with ABNF expressions instead of regex, as they are more flexible and expressive, and don&#39;t get so obtuse when they get large.","body":"@Mariano (comments disappeared now), asked how this regex was supposed to help blacklists. I wanted to show how to cover several issues related to excluding characters, as some characters may be legal, except for certain circumstances, such as for the _ and - not being allowed to start, end or be in multiples, but otherwise are OK. This would be impossible without the AND functionality look-ahead provides. However, I sometimes wonder if we would have been better off with ABNF expressions instead of regex, as they are more flexible and expressive, and don&#39;t get so obtuse when they get large."},{"owner":{"account_id":6885817,"reputation":6433,"user_id":5290909,"display_name":"Mariano"},"score":0,"creation_date":1448792964,"post_id":33966062,"comment_id":55719374,"body_markdown":"Good to see a working version now. The alternative to the `AND`s would be negating the result of a match with the regex `^[-_]|[-_](?:[-_]|$)|[&lt;&gt;[\\]{}|\\\\\\/^~%# :;,$%?\\0-\\cZ]`. As for the length check, it could be done independently. Also, if you&#39;re interested, [Parse2](http://www.parse2.com/) generates parse trees from ABNF.","body":"Good to see a working version now. The alternative to the <code>AND</code>s would be negating the result of a match with the regex <code>^[-_]|[-_](?:[-_]|$)|[&lt;&gt;[\\]{}|\\\\\\&#47;^~%# :;,$%?\\0-\\cZ]</code>. As for the length check, it could be done independently. Also, if you&#39;re interested, <a href=\"http://www.parse2.com/\" rel=\"nofollow noreferrer\">Parse2</a> generates parse trees from ABNF."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":1,"creation_date":1448834560,"post_id":33966062,"comment_id":55733002,"body_markdown":"@Mariano. De Morgan&#39;s Theorem in action! However, not always able to choose the negative externally, especially if consistency of the output logic is required. Being able to get a positive match, including length, in one expression means it can be used for the pattern attribute in HTML input text fields, which is where I suspect this will be used a lot.","body":"@Mariano. De Morgan&#39;s Theorem in action! However, not always able to choose the negative externally, especially if consistency of the output logic is required. Being able to get a positive match, including length, in one expression means it can be used for the pattern attribute in HTML input text fields, which is where I suspect this will be used a lot."},{"owner":{"account_id":2727282,"reputation":1056,"user_id":2351981,"accept_rate":70,"display_name":"E A"},"score":0,"creation_date":1493644184,"post_id":33966062,"comment_id":74482558,"body_markdown":"This part was useful for me &quot;hese are sections bounded by (?=) for positive, and (?!) for negative&quot;","body":"This part was useful for me &quot;hese are sections bounded by (?=) for positive, and (?!) for negative&quot;"},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1697327804,"post_id":33966062,"comment_id":136266257,"body_markdown":"@user85421. The HTML `input` field element uses the `pattern` attribute to contain a regular expression to test the field contents for a match to the whole field value (so it doesn&#39;t need the preceding `/^` nor the trailing `$/`). Chromium-based browsers and Firefox put out a very verbose console message (F12 key to show developer tools) if a non-range `-`. I don&#39;t know if Safari does the same. These are included in character classes (recommended to be the last character) when it needs to be included as one of the captured characters, as opposed to its special use in ranges.","body":"@user85421. The HTML <code>input</code> field element uses the <code>pattern</code> attribute to contain a regular expression to test the field contents for a match to the whole field value (so it doesn&#39;t need the preceding <code>&#47;^</code> nor the trailing <code>$&#47;</code>). Chromium-based browsers and Firefox put out a very verbose console message (F12 key to show developer tools) if a non-range <code>-</code>. I don&#39;t know if Safari does the same. These are included in character classes (recommended to be the last character) when it needs to be included as one of the captured characters, as opposed to its special use in ranges."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1697328283,"post_id":33966062,"comment_id":136266273,"body_markdown":"@user85421. It is only in the HTML regex engine. Most, if not all, other engines accept a solitary `-` without escaping, but recommend that it be the last character in a character class to prevent it possibly being interpreted as being for a range. I think it is a fairly recent HTML addition because there were no such error messages for many years. I don&#39;t know if the JavaScript regex engine also requires the escape.","body":"@user85421. It is only in the HTML regex engine. Most, if not all, other engines accept a solitary <code>-</code> without escaping, but recommend that it be the last character in a character class to prevent it possibly being interpreted as being for a range. I think it is a fairly recent HTML addition because there were no such error messages for many years. I don&#39;t know if the JavaScript regex engine also requires the escape."}],"tags":[],"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"comment_count":11,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1697326067,"creation_date":1448667478,"answer_id":33966062,"question_id":756567,"body_markdown":"Even in 2009, it seems too many had a very limited idea of what designing for the WORLDWIDE web involved. In 2015, unless designing for a specific country, a blacklist is the only way to accommodate the vast number of characters that may be valid.\r\n\r\nThe characters to blacklist then need to be chosen according what is illegal for the purpose for which the data is required.\r\n\r\nHowever, sometimes it pays to break down the requirements, and handle each separately. Here look-ahead is your friend. These are sections bounded by `(?=)` for positive, and `(?!)` for negative, and effectively become AND blocks, because when the block is processed, if not failed, the regex processor will begin at the start of the text with the next block. Effectively, each look-ahead block will be preceded by the `^`, and if its pattern is greedy, include up to the `$`. Even the ancient VB6/VBA (Office) 5.5 regex engine supports look-ahead.\r\n\r\nSo, to build up a full regular expression, start with the look-ahead blocks, then add the blacklisted character block before the final `$`.\r\n\r\nFor example, to limit the total numbers of characters, say between 3 and 15 inclusive, start with the positive look-ahead block `(?=^.{3,15}$)`. Note that this needed its own `^` and `$` to ensure that it covered all the text.\r\n\r\nNow, while you might want to allow _ and -, you may not want to start or end with them, so add the two negative look-ahead blocks, `(?!^[_-].+)` for starts, and `(?!.+[_-]$)` for ends.\r\n\r\nIf you don&#39;t want multiple `_` and `-`, add a negative look-ahead block of `(?!.*[_-]{2,})`. This will also exclude `_-` and `-_` sequences.\r\n\r\nIf there are no more look-ahead blocks, then add the blacklist block before the `$`, such as `[^&lt;&gt;[\\]{\\}|\\\\\\/^~%# :;,$%?\\0-\\cZ]+`, where the `\\0-\\cZ` excludes null and control characters, including NL (`\\n`) and CR (`\\r`). The final `+` ensures that all the text is greedily included.\r\n\r\nWithin the Unicode domain, there may well be other code-points or blocks that need to be excluded as well, but certainly a lot less than all the blocks that would have to be included in a whitelist.\r\n\r\nThe whole regex of all of the above would then be\r\n\r\n    (?=^.{3,15}$)(?!^[_-].+)(?!.+[_-]$)(?!.*[_-]{2,})[^&lt;&gt;[\\]{}|\\\\\\/^~%# :;,$%?\\0-\\cZ]+$\r\n\r\nwhich you can check out live on https://regex101.com/, for pcre (php), javascript and python regex engines. I don&#39;t know where the java regex fits in those, but you may need to modify the regex to cater for its idiosyncrasies.\r\n\r\nIf you want to include spaces, but not `_`, just swap them every where in the regex.\r\n\r\nThe most useful application for this technique is for the `pattern` attribute for HTML `input` fields, where a single expression is required, returning a false for failure, thus making the field invalid, allowing `input:invalid` css to highlight it, and stopping the form being submitted. Note that any isolated `-` (not in a range) in a `pattern` attribute must have a preceding `\\` to escape it.","title":"Regular expression for excluding special characters","body":"<p>Even in 2009, it seems too many had a very limited idea of what designing for the WORLDWIDE web involved. In 2015, unless designing for a specific country, a blacklist is the only way to accommodate the vast number of characters that may be valid.</p>\n<p>The characters to blacklist then need to be chosen according what is illegal for the purpose for which the data is required.</p>\n<p>However, sometimes it pays to break down the requirements, and handle each separately. Here look-ahead is your friend. These are sections bounded by <code>(?=)</code> for positive, and <code>(?!)</code> for negative, and effectively become AND blocks, because when the block is processed, if not failed, the regex processor will begin at the start of the text with the next block. Effectively, each look-ahead block will be preceded by the <code>^</code>, and if its pattern is greedy, include up to the <code>$</code>. Even the ancient VB6/VBA (Office) 5.5 regex engine supports look-ahead.</p>\n<p>So, to build up a full regular expression, start with the look-ahead blocks, then add the blacklisted character block before the final <code>$</code>.</p>\n<p>For example, to limit the total numbers of characters, say between 3 and 15 inclusive, start with the positive look-ahead block <code>(?=^.{3,15}$)</code>. Note that this needed its own <code>^</code> and <code>$</code> to ensure that it covered all the text.</p>\n<p>Now, while you might want to allow _ and -, you may not want to start or end with them, so add the two negative look-ahead blocks, <code>(?!^[_-].+)</code> for starts, and <code>(?!.+[_-]$)</code> for ends.</p>\n<p>If you don't want multiple <code>_</code> and <code>-</code>, add a negative look-ahead block of <code>(?!.*[_-]{2,})</code>. This will also exclude <code>_-</code> and <code>-_</code> sequences.</p>\n<p>If there are no more look-ahead blocks, then add the blacklist block before the <code>$</code>, such as <code>[^&lt;&gt;[\\]{\\}|\\\\\\/^~%# :;,$%?\\0-\\cZ]+</code>, where the <code>\\0-\\cZ</code> excludes null and control characters, including NL (<code>\\n</code>) and CR (<code>\\r</code>). The final <code>+</code> ensures that all the text is greedily included.</p>\n<p>Within the Unicode domain, there may well be other code-points or blocks that need to be excluded as well, but certainly a lot less than all the blocks that would have to be included in a whitelist.</p>\n<p>The whole regex of all of the above would then be</p>\n<pre><code>(?=^.{3,15}$)(?!^[_-].+)(?!.+[_-]$)(?!.*[_-]{2,})[^&lt;&gt;[\\]{}|\\\\\\/^~%# :;,$%?\\0-\\cZ]+$\n</code></pre>\n<p>which you can check out live on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a>, for pcre (php), javascript and python regex engines. I don't know where the java regex fits in those, but you may need to modify the regex to cater for its idiosyncrasies.</p>\n<p>If you want to include spaces, but not <code>_</code>, just swap them every where in the regex.</p>\n<p>The most useful application for this technique is for the <code>pattern</code> attribute for HTML <code>input</code> fields, where a single expression is required, returning a false for failure, thus making the field invalid, allowing <code>input:invalid</code> css to highlight it, and stopping the form being submitted. Note that any isolated <code>-</code> (not in a range) in a <code>pattern</code> attribute must have a preceding <code>\\</code> to escape it.</p>\n"},{"tags":[],"owner":{"account_id":2221849,"reputation":89,"user_id":1961046,"display_name":"Dharmender Tuli"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566420010,"creation_date":1505207987,"answer_id":46172576,"question_id":756567,"body_markdown":"Use This one \r\n\r\n    ^(?=[a-zA-Z0-9~@#$^*()_+=[\\]{}|\\\\,.?: -]*$)(?!.*[&lt;&gt;&#39;&quot;/;`%])","title":"Regular expression for excluding special characters","body":"<p>Use This one </p>\n\n<pre><code>^(?=[a-zA-Z0-9~@#$^*()_+=[\\]{}|\\\\,.?: -]*$)(?!.*[&lt;&gt;'\"/;`%])\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":1,"creation_date":1516896501,"post_id":48423261,"comment_id":83886706,"body_markdown":"The OP&#39;s requirement was to be able to include other languages. `\\w` and `\\W` only deal with ASCII. Also, `-`, unless used in a range, must be last in a `[]` term.","body":"The OP&#39;s requirement was to be able to include other languages. <code>\\w</code> and <code>\\W</code> only deal with ASCII. Also, <code>-</code>, unless used in a range, must be last in a <code>[]</code> term."},{"owner":{"account_id":1025430,"reputation":777,"user_id":1034841,"accept_rate":84,"display_name":"MCGRAW"},"score":0,"creation_date":1517010310,"post_id":48423261,"comment_id":83936182,"body_markdown":"@patanjali  /^[-.@_a-z0-9]+$/gi  this works, no doubt about it.","body":"@patanjali  /^[-.@_a-z0-9]+$/gi  this works, no doubt about it."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1517070687,"post_id":48423261,"comment_id":83948959,"body_markdown":"Learn something new each day: `-` can be at the start or end of a `[]` expression, which makes sense. However, `/[^\\W]/` couldn&#39;t handle `&#225;`. To really handle multilingual text, have to use atomic expressions like `\\p{Ll}\\p{M}*` to match a letter, and `\\p{N}` to match a number.","body":"Learn something new each day: <code>-</code> can be at the start or end of a <code>[]</code> expression, which makes sense. However, <code>&#47;[^\\W]&#47;</code> couldn&#39;t handle <code>&#225;</code>. To really handle multilingual text, have to use atomic expressions like <code>\\p{Ll}\\p{M}*</code> to match a letter, and <code>\\p{N}</code> to match a number."},{"owner":{"account_id":5241080,"reputation":913,"user_id":4188092,"display_name":"Patanjali"},"score":0,"creation_date":1522247199,"post_id":48423261,"comment_id":86081064,"body_markdown":"To my comment above, it should be `\\p{L}\\p{M}*` to handle any case letter. The given one was for lower case.","body":"To my comment above, it should be <code>\\p{L}\\p{M}*</code> to handle any case letter. The given one was for lower case."}],"tags":[],"owner":{"account_id":1025430,"reputation":777,"user_id":1034841,"accept_rate":84,"display_name":"MCGRAW"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1517010124,"creation_date":1516799171,"answer_id":48423261,"question_id":756567,"body_markdown":"The negated set of everything that is not alphanumeric &amp; underscore for ASCII chars:  \r\n\r\n    /[^\\W]/g\r\n\r\n\r\n  [1]: https://regexr.com\r\n\r\nFor email or username validation i&#39;ve used the following expression that allows 4 standard special characters   - _ . @ \r\n\r\n    /^[-.@_a-z0-9]+$/gi\r\n\r\nFor a strict alphanumeric only expression use:\r\n\r\n    /^[a-z0-9]+$/gi\r\n\r\nTest @ [RegExr.com][1]","title":"Regular expression for excluding special characters","body":"<p>The negated set of everything that is not alphanumeric &amp; underscore for ASCII chars:  </p>\n\n<pre><code>/[^\\W]/g\n</code></pre>\n\n<p>For email or username validation i've used the following expression that allows 4 standard special characters   - _ . @ </p>\n\n<pre><code>/^[-.@_a-z0-9]+$/gi\n</code></pre>\n\n<p>For a strict alphanumeric only expression use:</p>\n\n<pre><code>/^[a-z0-9]+$/gi\n</code></pre>\n\n<p>Test @ <a href=\"https://regexr.com\" rel=\"noreferrer\">RegExr.com</a></p>\n"}],"owner":{"display_name":"Ana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317742,"favorite_count":0,"down_vote_count":2,"up_vote_count":45,"closed_date":1566424113,"answer_count":11,"score":43,"last_activity_date":1697326067,"creation_date":1239894294,"question_id":756567,"body_markdown":"I am having trouble coming up with a regular expression which would essentially black list certain special characters.\r\n\r\nI need to use this to validate data in input fields (in a Java Web app). We want to allow users to enter any digit, letter (we need to include accented characters, ex. French or German) and some special characters such as &#39;-. etc. \r\n\r\nHow do I blacklist characters such as &lt;&gt;%$ etc?","title":"Regular expression for excluding special characters","body":"<p>I am having trouble coming up with a regular expression which would essentially black list certain special characters.</p>\n\n<p>I need to use this to validate data in input fields (in a Java Web app). We want to allow users to enter any digit, letter (we need to include accented characters, ex. French or German) and some special characters such as '-. etc. </p>\n\n<p>How do I blacklist characters such as &lt;>%$ etc?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":28361938,"reputation":7,"user_id":21752909,"display_name":"David Tomic"},"score":0,"creation_date":1697320878,"post_id":77294425,"comment_id":136265846,"body_markdown":"Thanks, this was exactly what was needed!","body":"Thanks, this was exactly what was needed!"}],"tags":[],"owner":{"account_id":1281728,"reputation":73134,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697323968,"creation_date":1697315814,"answer_id":77294425,"question_id":77294373,"body_markdown":"You are not guaranteed to get the service. There are multiple cases which can lead to `null` you are facing, starting from most obvious one, which is lack of hardware support for IR on the device to missing `android.permission.TRANSMIT_IR` permission declared in your AndroidManifest.xml file. I&#39;d also inspect logcat and look for any related warning or error.","title":"ConsumerIrManager object is null","body":"<p>You are not guaranteed to get the service. There are multiple cases which can lead to <code>null</code> you are facing, starting from most obvious one, which is lack of hardware support for IR on the device to missing <code>android.permission.TRANSMIT_IR</code> permission declared in your AndroidManifest.xml file. I'd also inspect logcat and look for any related warning or error.</p>\n"}],"owner":{"account_id":28361938,"reputation":7,"user_id":21752909,"display_name":"David Tomic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77294425,"answer_count":1,"score":0,"last_activity_date":1697323968,"creation_date":1697314917,"question_id":77294373,"body_markdown":"I defined ConsumerIrManager as following:\r\n\r\n    ConsumerIrManager irManager = (ConsumerIrManager) getSystemService(CONSUMER_IR_SERVICE);\r\n\r\nBut for some reason it is `null` and I can&#39;t use functions like .transmit(). ","title":"ConsumerIrManager object is null","body":"<p>I defined ConsumerIrManager as following:</p>\n<pre><code>ConsumerIrManager irManager = (ConsumerIrManager) getSystemService(CONSUMER_IR_SERVICE);\n</code></pre>\n<p>But for some reason it is <code>null</code> and I can't use functions like .transmit().</p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697151060,"post_id":77278124,"comment_id":136247344,"body_markdown":"your WebDriver is declared in the scope of Day1 class.   Better to initialize the driver in the constructor, though.  That would avoid being able to use the searchItem() method before the driver is initialized.  (you&#39;d get a null pointer if you used that method before &quot;invokeBrowser()&quot; there...)","body":"your WebDriver is declared in the scope of Day1 class.   Better to initialize the driver in the constructor, though.  That would avoid being able to use the searchItem() method before the driver is initialized.  (you&#39;d get a null pointer if you used that method before &quot;invokeBrowser()&quot; there...)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697225542,"post_id":77278124,"comment_id":136258193,"body_markdown":"Personally I like using a factory style class that creates a driver and returns it.  That way any class can call it to create a new instance, but it&#39;s certainly not needed.  In your case, you&#39;d call that to initialize your driver in the constructor, but you could also use that &quot;factory&quot; for multi-threading drivers/browsers.   A &quot;best practice&quot; might be that initializing properties is generally a good thing to avoid nulls.  You can always change the value later if you like, but null pointers can sometimes be tricky to debug.","body":"Personally I like using a factory style class that creates a driver and returns it.  That way any class can call it to create a new instance, but it&#39;s certainly not needed.  In your case, you&#39;d call that to initialize your driver in the constructor, but you could also use that &quot;factory&quot; for multi-threading drivers/browsers.   A &quot;best practice&quot; might be that initializing properties is generally a good thing to avoid nulls.  You can always change the value later if you like, but null pointers can sometimes be tricky to debug."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697226326,"post_id":77278124,"comment_id":136258307,"body_markdown":"More to your point though...  as I think I misread the question... you are declaring the type as WebDriver.  You&#39;re initializing as ChromeDriver.   In Java this means the &quot;driver&quot; property of the Day1 class is now both a WebDriver and a ChromeDriver.  (WebDriver is an interface which ChromeDriver implements)  ALL methods/properties of WebDriver will work... ALL methods/properties of ChromeDriver will work.  You could however, take arguments when initializing that specify that you want to launch another type which also implements WebDriver... i.e. launching Firefox with GeckoDriver)","body":"More to your point though...  as I think I misread the question... you are declaring the type as WebDriver.  You&#39;re initializing as ChromeDriver.   In Java this means the &quot;driver&quot; property of the Day1 class is now both a WebDriver and a ChromeDriver.  (WebDriver is an interface which ChromeDriver implements)  ALL methods/properties of WebDriver will work... ALL methods/properties of ChromeDriver will work.  You could however, take arguments when initializing that specify that you want to launch another type which also implements WebDriver... i.e. launching Firefox with GeckoDriver)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697226687,"post_id":77278124,"comment_id":136258353,"body_markdown":"If a method uses only WebDriver methods/properties, the code can be the same for all drivers that implement WebDriver.  If a method uses methods/properties that only work for a specific driver you might need some branching.  Selenium has tried to include bools in WebDriver spec that tell you if the driver supports something so that you could branch... (i.e. &quot;HasCDP&quot;, &quot;HasDevTools&quot;, etc...) but sometimes try/catch might be necessarily.  (Which is why you&#39;ll see things like typing to (TakesScreenshot) or (JavascriptExecutor) because not all drivers implement it.)","body":"If a method uses only WebDriver methods/properties, the code can be the same for all drivers that implement WebDriver.  If a method uses methods/properties that only work for a specific driver you might need some branching.  Selenium has tried to include bools in WebDriver spec that tell you if the driver supports something so that you could branch... (i.e. &quot;HasCDP&quot;, &quot;HasDevTools&quot;, etc...) but sometimes try/catch might be necessarily.  (Which is why you&#39;ll see things like typing to (TakesScreenshot) or (JavascriptExecutor) because not all drivers implement it.)"},{"owner":{"account_id":29653681,"reputation":1,"user_id":22726904,"display_name":"Iresha Wijesinghe"},"score":0,"creation_date":1697345503,"post_id":77278124,"comment_id":136267037,"body_markdown":"hi pcalkins, thanks for your explanation. Actually, I agree with all the points you mentioned here. But my original question addresses the third point you mentioned. Actually, as you can see web driver acts as a Chrome driver only inside my invokeBrowser() method but inside the searchItem() method still acts as a webdriver (not a specific browser type) but the rest of the code (code under searchItem() method )  still working on the Chrome browser. In this case,  how does this code still work on the Chrome browser?","body":"hi pcalkins, thanks for your explanation. Actually, I agree with all the points you mentioned here. But my original question addresses the third point you mentioned. Actually, as you can see web driver acts as a Chrome driver only inside my invokeBrowser() method but inside the searchItem() method still acts as a webdriver (not a specific browser type) but the rest of the code (code under searchItem() method )  still working on the Chrome browser. In this case,  how does this code still work on the Chrome browser?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1697477196,"post_id":77278124,"comment_id":136282024,"body_markdown":"because your instance is a ChromeDriver.  It&#39;s also everything else that ChromeDriver implements (it implements many different interfaces), but more importantly when you initialize it with ...new ChromeDriver(), the chromedriver executable is launched.","body":"because your instance is a ChromeDriver.  It&#39;s also everything else that ChromeDriver implements (it implements many different interfaces), but more importantly when you initialize it with ...new ChromeDriver(), the chromedriver executable is launched."}],"answers":[{"tags":[],"owner":{"account_id":28059522,"reputation":71,"user_id":21433949,"display_name":"Somogyi Botond"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697321961,"creation_date":1697321961,"answer_id":77294681,"question_id":77278124,"body_markdown":"There are a lot of way:\r\n\r\nMy favorite is by abstractions:\r\n```java\r\n\r\npublic abstract class DriverManager {\r\n    private WebDriver driver;\r\n    private WebElement currentElement;\r\n    public DriverManager() {\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    public DriverManager navigate(String url) {\r\n        driver.navigate().to(url);\r\n        return this;\r\n    }\r\n\r\n    public DriverManager click() {\r\n        currentElement.click();\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\n\r\npublic class HomePage extends DriverManager {\r\n    public void start() {\r\n        this\r\n                .navigate(&quot;http://localhost&quot;)\r\n                .click();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSingleton is also a good way to do it","title":"Is it required to initiate the chrome driver in the scope of class?","body":"<p>There are a lot of way:</p>\n<p>My favorite is by abstractions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic abstract class DriverManager {\n    private WebDriver driver;\n    private WebElement currentElement;\n    public DriverManager() {\n        driver = new ChromeDriver();\n    }\n\n    public DriverManager navigate(String url) {\n        driver.navigate().to(url);\n        return this;\n    }\n\n    public DriverManager click() {\n        currentElement.click();\n        return this;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class HomePage extends DriverManager {\n    public void start() {\n        this\n                .navigate(&quot;http://localhost&quot;)\n                .click();\n    }\n}\n\n</code></pre>\n<p>Singleton is also a good way to do it</p>\n"}],"owner":{"account_id":29653681,"reputation":1,"user_id":22726904,"display_name":"Iresha Wijesinghe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697321961,"creation_date":1697091517,"question_id":77278124,"body_markdown":"I declared my Chrome driver inside the `invokeBrowser()` method as below in the code for the purpose of launching the Chrome driver only. The second method called `searchItem()`, driver doesn&#39;t act as a chrome driver since I haven&#39;t declared the chrome driver inside the second method or not in the class cope. But my code is still working fine where the Chrome driver launches successfully then invokes the second method and does the required elements findings. \r\n\r\n    public class Day1 {\r\n    \r\n    \tWebDriver driver; \r\n    \r\n    \tpublic void invokeBrowser()\r\n    \t{\r\n    try {\r\n    \t\r\n               System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Selenium webdriver jars\\\\ChromeDriver                      \\\\chromedriver-win32\\\\chromedriver-win32\\\\chromedriver.exe&quot;);\r\n    \r\n               driver=new ChromeDriver();\r\n    \r\n              \r\n    \r\n    } catch (Exception e) {\r\n    \t\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    \t}\r\n    \r\n            public void searchItem()\r\n    \t{\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\tdriver.manage().deleteAllCookies();\r\n    \t\t\tdriver.manage().window().maximize();\r\n    \t\t\tdriver.get(&quot;https://www.amazon.com/amazonprime&quot;);\r\n                            driver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(&quot;watches&quot;);\r\n                            Thread.sleep(3000);\r\n                            driver.findElement(By.id(&quot;nav-search-submit-button&quot;)).click();\r\n    \t\t\t\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \r\n    \t\tDay1 myObj = new Day1();\r\n    \t\tmyObj.invokeBrowser();\r\n    \t\tmyObj.searchItem();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nMy question is: since the Chrome driver class has its own methods that are implemented for the Chrome browser, should this driver act as a Chrome driver always and do we need to declare it within the class scope? What is the best practice? Is the way I declare the chrome driver not correct?\r\n","title":"Is it required to initiate the chrome driver in the scope of class?","body":"<p>I declared my Chrome driver inside the <code>invokeBrowser()</code> method as below in the code for the purpose of launching the Chrome driver only. The second method called <code>searchItem()</code>, driver doesn't act as a chrome driver since I haven't declared the chrome driver inside the second method or not in the class cope. But my code is still working fine where the Chrome driver launches successfully then invokes the second method and does the required elements findings.</p>\n<pre><code>public class Day1 {\n\n    WebDriver driver; \n\n    public void invokeBrowser()\n    {\ntry {\n    \n           System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Selenium webdriver jars\\\\ChromeDriver                      \\\\chromedriver-win32\\\\chromedriver-win32\\\\chromedriver.exe&quot;);\n\n           driver=new ChromeDriver();\n\n          \n\n} catch (Exception e) {\n    \n    e.printStackTrace();\n}\n\n    }\n\n        public void searchItem()\n    {\n        \n        try {\n            \n        \n            driver.manage().deleteAllCookies();\n            driver.manage().window().maximize();\n            driver.get(&quot;https://www.amazon.com/amazonprime&quot;);\n                        driver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(&quot;watches&quot;);\n                        Thread.sleep(3000);\n                        driver.findElement(By.id(&quot;nav-search-submit-button&quot;)).click();\n            \n        } catch (InterruptedException e) {\n            \n            e.printStackTrace();\n        }\n        \n    }\n\npublic static void main(String[] args) {\n        \n\n        Day1 myObj = new Day1();\n        myObj.invokeBrowser();\n        myObj.searchItem();\n        \n    }\n\n}\n</code></pre>\n<p>My question is: since the Chrome driver class has its own methods that are implemented for the Chrome browser, should this driver act as a Chrome driver always and do we need to declare it within the class scope? What is the best practice? Is the way I declare the chrome driver not correct?</p>\n"},{"tags":["java","android","android-studio","euiccmanager"],"comments":[{"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"score":0,"creation_date":1696592101,"post_id":77242774,"comment_id":136176228,"body_markdown":"as far as I remember, eSIM requires an Internet connection. Judging by your manifesto, you don&#39;t have this, because there is no permission for the Internet.\nYou also need to test this on a physical device that supports eSIM technology.","body":"as far as I remember, eSIM requires an Internet connection. Judging by your manifesto, you don&#39;t have this, because there is no permission for the Internet. You also need to test this on a physical device that supports eSIM technology."},{"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"score":0,"creation_date":1696597574,"post_id":77242774,"comment_id":136177330,"body_markdown":"i added permission , but there is no change in result, it always returning *resultCode * is 0","body":"i added permission , but there is no change in result, it always returning *resultCode * is 0"},{"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"score":0,"creation_date":1696597867,"post_id":77242774,"comment_id":136177404,"body_markdown":"i also tried [google test profile](https://source.android.com/docs/core/connect/esim-test-profiles) but not working for me , if you have sample code or any working example code, might be helpful for me,","body":"i also tried <a href=\"https://source.android.com/docs/core/connect/esim-test-profiles\" rel=\"nofollow noreferrer\">google test profile</a> but not working for me , if you have sample code or any working example code, might be helpful for me,"},{"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"score":0,"creation_date":1697724525,"post_id":77242774,"comment_id":136318036,"body_markdown":"@AhmedRehman hi, any progress with that ? I am also trying to create Esim feature but euiccManager.isEnabled is always false. Can you help with that!","body":"@AhmedRehman hi, any progress with that ? I am also trying to create Esim feature but euiccManager.isEnabled is always false. Can you help with that!"}],"answers":[{"comments":[{"owner":{"account_id":7339101,"reputation":208,"user_id":5589394,"display_name":"Ritesh R"},"score":0,"creation_date":1699426601,"post_id":77294666,"comment_id":136528380,"body_markdown":"No need to use broadcast receivers as mentioned in the official docs?","body":"No need to use broadcast receivers as mentioned in the official docs?"}],"tags":[],"owner":{"account_id":14491845,"reputation":170,"user_id":10467779,"display_name":"Subhojit Halder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697321683,"creation_date":1697321683,"answer_id":77294666,"question_id":77242774,"body_markdown":"The code you provided looks mostly correct, but there are a few issues that need to be addressed. I&#39;ve made the necessary corrections and improvements to your code to handle eSIM installation and results properly. Here&#39;s the corrected code in Kotlin:\r\n```\r\nimport android.app.PendingIntent\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.telephony.euicc.DownloadableSubscription\r\nimport android.telephony.euicc.EuiccManager\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport android.widget.Toast\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.appcompat.app.AppCompatActivity\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private val TEST_SIM_PROFILE =\r\n        &quot;LPA:1\\$MTAwMDAwMDAwMzQ2MzM5Y2E2NDgwNQ==$7UMyhYJKZLBfHZt2ve9vQH0oKvE=$&quot;\r\n    private val REQUEST_CODE_INSTALL = 1\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val esimButton = findViewById&lt;Button&gt;(R.id.esimButton)\r\n        esimButton.setOnClickListener { downloadTestProfile() }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\n    private fun downloadTestProfile() {\r\n        val euiccManager = getSystemService(EUICC_SERVICE) as EuiccManager\r\n        if (!euiccManager.isEnabled) {\r\n            Toast.makeText(this, &quot;eSIM is not supported on this device&quot;, Toast.LENGTH_LONG).show()\r\n            return\r\n        }\r\n        Log.d(&quot;eSIMInstall&quot;, &quot;Attempting to install profile...&quot;)\r\n        val subscription = DownloadableSubscription.forActivationCode(TEST_SIM_PROFILE)\r\n        euiccManager.downloadSubscription(\r\n            subscription,\r\n            true,\r\n            PendingIntent.getActivity(\r\n                this,\r\n                REQUEST_CODE_INSTALL,\r\n                Intent(this, MainActivity::class.java),\r\n                PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n        )\r\n    }\r\n\r\n    override fun onNewIntent(intent: Intent) {\r\n        super.onNewIntent(intent)\r\n        Log.d(&quot;eSIMInstall&quot;, &quot;on calling of newIntent...&quot;)\r\n        val resultCode =\r\n            intent.getIntExtra(EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_RESULT, EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_ERROR)\r\n        Log.d(&quot;eSIMResult&quot;, &quot;Result code: $resultCode&quot;)\r\n\r\n        when (resultCode) {\r\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_OK -&gt; Toast.makeText(\r\n                this,\r\n                &quot;eSIM profile installed successfully!&quot;,\r\n                Toast.LENGTH_LONG\r\n            ).show()\r\n\r\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_RESOLVABLE_ERROR -&gt; {\r\n                // Handle resolvable error here if needed\r\n            }\r\n            else -&gt; Toast.makeText(this, &quot;Failed to install eSIM profile&quot;, Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;ve made the following changes and improvements:\r\n\r\nChanged the key for retrieving the result code from EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_DETAILED_CODE to EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_RESULT. This is the correct key for obtaining the result code.\r\n\r\nRemoved the TEST_SIM_PROFILE1, TEST_SIM_PROFILE2, and TEST_SIM_PROFILE3 variables as they were not used in your code.\r\n\r\nUpdated the handling of result codes to use EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_ERROR as the default value for resultCode.\r\n\r\nAdded a comment indicating where you can handle resolvable errors if needed.\r\n\r\nMake sure to replace the TEST_SIM_PROFILE value with the appropriate activation code for your eSIM profile.","title":"Facing an issue while installing ESim directly into android","body":"<p>The code you provided looks mostly correct, but there are a few issues that need to be addressed. I've made the necessary corrections and improvements to your code to handle eSIM installation and results properly. Here's the corrected code in Kotlin:</p>\n<pre><code>import android.app.PendingIntent\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.telephony.euicc.DownloadableSubscription\nimport android.telephony.euicc.EuiccManager\nimport android.util.Log\nimport android.widget.Button\nimport android.widget.Toast\nimport androidx.annotation.RequiresApi\nimport androidx.appcompat.app.AppCompatActivity\n\nclass MainActivity : AppCompatActivity() {\n\n    private val TEST_SIM_PROFILE =\n        &quot;LPA:1\\$MTAwMDAwMDAwMzQ2MzM5Y2E2NDgwNQ==$7UMyhYJKZLBfHZt2ve9vQH0oKvE=$&quot;\n    private val REQUEST_CODE_INSTALL = 1\n\n    @RequiresApi(Build.VERSION_CODES.P)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val esimButton = findViewById&lt;Button&gt;(R.id.esimButton)\n        esimButton.setOnClickListener { downloadTestProfile() }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.P)\n    private fun downloadTestProfile() {\n        val euiccManager = getSystemService(EUICC_SERVICE) as EuiccManager\n        if (!euiccManager.isEnabled) {\n            Toast.makeText(this, &quot;eSIM is not supported on this device&quot;, Toast.LENGTH_LONG).show()\n            return\n        }\n        Log.d(&quot;eSIMInstall&quot;, &quot;Attempting to install profile...&quot;)\n        val subscription = DownloadableSubscription.forActivationCode(TEST_SIM_PROFILE)\n        euiccManager.downloadSubscription(\n            subscription,\n            true,\n            PendingIntent.getActivity(\n                this,\n                REQUEST_CODE_INSTALL,\n                Intent(this, MainActivity::class.java),\n                PendingIntent.FLAG_IMMUTABLE\n            )\n        )\n    }\n\n    override fun onNewIntent(intent: Intent) {\n        super.onNewIntent(intent)\n        Log.d(&quot;eSIMInstall&quot;, &quot;on calling of newIntent...&quot;)\n        val resultCode =\n            intent.getIntExtra(EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_RESULT, EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_ERROR)\n        Log.d(&quot;eSIMResult&quot;, &quot;Result code: $resultCode&quot;)\n\n        when (resultCode) {\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_OK -&gt; Toast.makeText(\n                this,\n                &quot;eSIM profile installed successfully!&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_RESOLVABLE_ERROR -&gt; {\n                // Handle resolvable error here if needed\n            }\n            else -&gt; Toast.makeText(this, &quot;Failed to install eSIM profile&quot;, Toast.LENGTH_LONG).show()\n        }\n    }\n}\n\n</code></pre>\n<p>I've made the following changes and improvements:</p>\n<p>Changed the key for retrieving the result code from EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_DETAILED_CODE to EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_RESULT. This is the correct key for obtaining the result code.</p>\n<p>Removed the TEST_SIM_PROFILE1, TEST_SIM_PROFILE2, and TEST_SIM_PROFILE3 variables as they were not used in your code.</p>\n<p>Updated the handling of result codes to use EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_ERROR as the default value for resultCode.</p>\n<p>Added a comment indicating where you can handle resolvable errors if needed.</p>\n<p>Make sure to replace the TEST_SIM_PROFILE value with the appropriate activation code for your eSIM profile.</p>\n"}],"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697321683,"creation_date":1696579086,"question_id":77242774,"body_markdown":"Currently, i&#39;m working on application which is related to eSIM installation by using direct method, i followed [Implementing eSIM](https://source.android.com/docs/core/connect/esim-overview) provided example code but not succeeded yet.\r\n\r\ni used TEST_SIM_PROFILE, TEST_SIM_PROFILE1 and TEST_SIM_PROFILE3 but it always return **0** in **onNewIntent(intent: Intent)**, so please check is there anything need to be add or improve into my code,\r\n\r\nhere is my Code\r\n    \r\n``` package com.example.esiminstallation\r\n\r\nimport android.app.PendingIntent\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.telephony.euicc.DownloadableSubscription\r\nimport android.telephony.euicc.EuiccManager\r\nimport android.util.Log\r\nimport android.widget.Button\r\nimport android.widget.Toast\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.appcompat.app.AppCompatActivity\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private val TEST_SIM_PROFILE =\r\n        &quot;LPA:1\\$MTAwMDAwMDAwMzQ2MzM5Y2E2NDgwNQ==$7UMyhYJKZLBfHZt2ve9vQH0oKvE=$&quot;\r\n    private val TEST_SIM_PROFILE1 =\r\n        &quot;1\\$prod.smdp-plus.rsp.goog\\$3TD6-8L82-HUE1-LVN6&quot;\r\n    private val TEST_SIM_PROFILE2 = &quot;LPA:1\\$lpa.airalo.com\\$TEST&quot;\r\n    private val TEST_SIM_PROFILE3 = &quot;dfdffdf&quot;\r\n    private val REQUEST_CODE_INSTALL = 1\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val esimButton = findViewById&lt;Button&gt;(R.id.esimButton)\r\n        esimButton.setOnClickListener { downloadTestProfile() }\r\n    }\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\n    private fun downloadTestProfile() {\r\n        val euiccManager = getSystemService(EUICC_SERVICE) as EuiccManager\r\n        if (!euiccManager.isEnabled) {\r\n            Toast.makeText(this, &quot;eSIM is not supported on this device&quot;, Toast.LENGTH_LONG).show()\r\n            return\r\n        }\r\n        Log.d(&quot;eSIMInstall&quot;, &quot;Attempting to install profile...&quot;);\r\n        val subscription = DownloadableSubscription.forActivationCode(TEST_SIM_PROFILE)\r\n        euiccManager.downloadSubscription(\r\n            subscription, true, PendingIntent.getActivity(\r\n                this, REQUEST_CODE_INSTALL, Intent(this, MainActivity::class.java),\r\n                PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n        )\r\n    }\r\n\r\n    override fun onNewIntent(intent: Intent) {\r\n        super.onNewIntent(intent)\r\n        Log.d(&quot;eSIMInstall&quot;, &quot;on calling of newIntent...&quot;);\r\n        val resultCode =\r\n            intent.getIntExtra(EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_DETAILED_CODE, 0)\r\n        Log.d(&quot;eSIMResult&quot;, &quot;Result code: $resultCode&quot;);\r\n\r\n        when (resultCode) {\r\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_OK -&gt; Toast.makeText(\r\n                this,\r\n                &quot;eSIM profile installed successfully!&quot;,\r\n                Toast.LENGTH_LONG\r\n            ).show()\r\n\r\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_RESOLVABLE_ERROR -&gt; { }\r\n            else -&gt; Toast.makeText(this, &quot;Failed to install eSIM profile&quot;, Toast.LENGTH_LONG).show()\r\n        }\r\n    }\r\n}\r\n------------------------Manifest----------------------------\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EMBEDDED_SUBSCRIPTIONS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.EsimInstallation&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n","title":"Facing an issue while installing ESim directly into android","body":"<p>Currently, i'm working on application which is related to eSIM installation by using direct method, i followed <a href=\"https://source.android.com/docs/core/connect/esim-overview\" rel=\"nofollow noreferrer\">Implementing eSIM</a> provided example code but not succeeded yet.</p>\n<p>i used TEST_SIM_PROFILE, TEST_SIM_PROFILE1 and TEST_SIM_PROFILE3 but it always return <strong>0</strong> in <strong>onNewIntent(intent: Intent)</strong>, so please check is there anything need to be add or improve into my code,</p>\n<p>here is my Code</p>\n<pre><code>\nimport android.app.PendingIntent\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.telephony.euicc.DownloadableSubscription\nimport android.telephony.euicc.EuiccManager\nimport android.util.Log\nimport android.widget.Button\nimport android.widget.Toast\nimport androidx.annotation.RequiresApi\nimport androidx.appcompat.app.AppCompatActivity\n\n\nclass MainActivity : AppCompatActivity() {\n\n    private val TEST_SIM_PROFILE =\n        &quot;LPA:1\\$MTAwMDAwMDAwMzQ2MzM5Y2E2NDgwNQ==$7UMyhYJKZLBfHZt2ve9vQH0oKvE=$&quot;\n    private val TEST_SIM_PROFILE1 =\n        &quot;1\\$prod.smdp-plus.rsp.goog\\$3TD6-8L82-HUE1-LVN6&quot;\n    private val TEST_SIM_PROFILE2 = &quot;LPA:1\\$lpa.airalo.com\\$TEST&quot;\n    private val TEST_SIM_PROFILE3 = &quot;dfdffdf&quot;\n    private val REQUEST_CODE_INSTALL = 1\n\n    @RequiresApi(Build.VERSION_CODES.P)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val esimButton = findViewById&lt;Button&gt;(R.id.esimButton)\n        esimButton.setOnClickListener { downloadTestProfile() }\n    }\n\n\n    @RequiresApi(Build.VERSION_CODES.P)\n    private fun downloadTestProfile() {\n        val euiccManager = getSystemService(EUICC_SERVICE) as EuiccManager\n        if (!euiccManager.isEnabled) {\n            Toast.makeText(this, &quot;eSIM is not supported on this device&quot;, Toast.LENGTH_LONG).show()\n            return\n        }\n        Log.d(&quot;eSIMInstall&quot;, &quot;Attempting to install profile...&quot;);\n        val subscription = DownloadableSubscription.forActivationCode(TEST_SIM_PROFILE)\n        euiccManager.downloadSubscription(\n            subscription, true, PendingIntent.getActivity(\n                this, REQUEST_CODE_INSTALL, Intent(this, MainActivity::class.java),\n                PendingIntent.FLAG_IMMUTABLE\n            )\n        )\n    }\n\n    override fun onNewIntent(intent: Intent) {\n        super.onNewIntent(intent)\n        Log.d(&quot;eSIMInstall&quot;, &quot;on calling of newIntent...&quot;);\n        val resultCode =\n            intent.getIntExtra(EuiccManager.EXTRA_EMBEDDED_SUBSCRIPTION_DETAILED_CODE, 0)\n        Log.d(&quot;eSIMResult&quot;, &quot;Result code: $resultCode&quot;);\n\n        when (resultCode) {\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_OK -&gt; Toast.makeText(\n                this,\n                &quot;eSIM profile installed successfully!&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n\n            EuiccManager.EMBEDDED_SUBSCRIPTION_RESULT_RESOLVABLE_ERROR -&gt; { }\n            else -&gt; Toast.makeText(this, &quot;Failed to install eSIM profile&quot;, Toast.LENGTH_LONG).show()\n        }\n    }\n}\n------------------------Manifest----------------------------\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EMBEDDED_SUBSCRIPTIONS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.EsimInstallation&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":["java","android","android-studio","zip","wear-os"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696840359,"post_id":77257228,"comment_id":136199510,"body_markdown":"Are you getting any exceptions? You don&#39;t use `try-with-resources` and you don&#39;t close the streams in `finally` blocks. Any exception that happens will leave the zip stream unclosed and this corrupts it.","body":"Are you getting any exceptions? You don&#39;t use <code>try-with-resources</code> and you don&#39;t close the streams in <code>finally</code> blocks. Any exception that happens will leave the zip stream unclosed and this corrupts it."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696841955,"post_id":77257228,"comment_id":136199825,"body_markdown":"It looks like you are zip-ing multiple files to one single file in parallel. ZipOutputStream is not designed to work that way. Simple fix is to change to Executors.newFixedThreadPool(1)","body":"It looks like you are zip-ing multiple files to one single file in parallel. ZipOutputStream is not designed to work that way. Simple fix is to change to Executors.newFixedThreadPool(1)"},{"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"score":0,"creation_date":1696842249,"post_id":77257228,"comment_id":136199885,"body_markdown":"@marcinj theoretically it only has to compress 1 txt, but I left it like this because if there is any error and there is any txt from past processes, I saved them in the same zip file.","body":"@marcinj theoretically it only has to compress 1 txt, but I left it like this because if there is any error and there is any txt from past processes, I saved them in the same zip file."},{"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"score":0,"creation_date":1696842325,"post_id":77257228,"comment_id":136199898,"body_markdown":"@Chaosfire I didn&#180;t see any exceptions","body":"@Chaosfire I didn&#180;t see any exceptions"}],"answers":[{"tags":[],"owner":{"account_id":14491845,"reputation":170,"user_id":10467779,"display_name":"Subhojit Halder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697321459,"creation_date":1697321459,"answer_id":77294660,"question_id":77257228,"body_markdown":"To **create a ZIP** file in Android Studio using Java, \r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class ZipCreator {\r\n\r\n    public static void main(String[] args) {\r\n        // Specify the source directory and the name of the output ZIP file\r\n        String sourceDirectory = &quot;/path/to/source_directory&quot;;\r\n        String zipFileName = &quot;/path/to/output.zip&quot;;\r\n\r\n        // Call the createZipFile method to create the ZIP file\r\n        createZipFile(sourceDirectory, zipFileName);\r\n    }\r\n\r\n    public static void createZipFile(String sourceDirectory, String zipFileName) {\r\n        try {\r\n            File source = new File(sourceDirectory);\r\n            File zipFile = new File(zipFileName);\r\n            FileOutputStream fos = new FileOutputStream(zipFile);\r\n            ZipOutputStream zos = new ZipOutputStream(fos);\r\n\r\n            zipDirectory(source, source, zos);\r\n\r\n            zos.close();\r\n            fos.close();\r\n            System.out.println(&quot;ZIP file created successfully: &quot; + zipFileName);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void zipDirectory(File source, File basePath, ZipOutputStream zos) throws IOException {\r\n        File[] files = source.listFiles();\r\n\r\n        if (files != null) {\r\n            for (File file : files) {\r\n                if (file.isDirectory()) {\r\n                    zipDirectory(file, basePath, zos);\r\n                } else {\r\n                    String entryName = file.getPath().substring(basePath.getPath().length() + 1);\r\n                    ZipEntry zipEntry = new ZipEntry(entryName);\r\n\r\n                    zos.putNextEntry(zipEntry);\r\n\r\n                    FileInputStream fis = new FileInputStream(file);\r\n                    byte[] buffer = new byte[1024];\r\n                    int length;\r\n                    while ((length = fis.read(buffer)) &gt; 0) {\r\n                        zos.write(buffer, 0, length);\r\n                    }\r\n\r\n                    fis.close();\r\n                    zos.closeEntry();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMake sure to replace /path/to/source_directory with the path to the directory you want to zip and /path/to/output.zip with the desired output ZIP file&#39;s path and name.\r\n\r\nThis code defines a ZipCreator class with a createZipFile method that creates a ZIP file from a source directory and its subdirectories. The zipDirectory method is used to recursively traverse the source directory and add files to the ZIP. The ZIP file is created using java.util.zip.ZipOutputStream.\r\n\r\n**Hope it helps**","title":"Zip File Corrupted App created by Android Studio","body":"<p>To <strong>create a ZIP</strong> file in Android Studio using Java,</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipCreator {\n\n    public static void main(String[] args) {\n        // Specify the source directory and the name of the output ZIP file\n        String sourceDirectory = &quot;/path/to/source_directory&quot;;\n        String zipFileName = &quot;/path/to/output.zip&quot;;\n\n        // Call the createZipFile method to create the ZIP file\n        createZipFile(sourceDirectory, zipFileName);\n    }\n\n    public static void createZipFile(String sourceDirectory, String zipFileName) {\n        try {\n            File source = new File(sourceDirectory);\n            File zipFile = new File(zipFileName);\n            FileOutputStream fos = new FileOutputStream(zipFile);\n            ZipOutputStream zos = new ZipOutputStream(fos);\n\n            zipDirectory(source, source, zos);\n\n            zos.close();\n            fos.close();\n            System.out.println(&quot;ZIP file created successfully: &quot; + zipFileName);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void zipDirectory(File source, File basePath, ZipOutputStream zos) throws IOException {\n        File[] files = source.listFiles();\n\n        if (files != null) {\n            for (File file : files) {\n                if (file.isDirectory()) {\n                    zipDirectory(file, basePath, zos);\n                } else {\n                    String entryName = file.getPath().substring(basePath.getPath().length() + 1);\n                    ZipEntry zipEntry = new ZipEntry(entryName);\n\n                    zos.putNextEntry(zipEntry);\n\n                    FileInputStream fis = new FileInputStream(file);\n                    byte[] buffer = new byte[1024];\n                    int length;\n                    while ((length = fis.read(buffer)) &gt; 0) {\n                        zos.write(buffer, 0, length);\n                    }\n\n                    fis.close();\n                    zos.closeEntry();\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Make sure to replace /path/to/source_directory with the path to the directory you want to zip and /path/to/output.zip with the desired output ZIP file's path and name.</p>\n<p>This code defines a ZipCreator class with a createZipFile method that creates a ZIP file from a source directory and its subdirectories. The zipDirectory method is used to recursively traverse the source directory and add files to the ZIP. The ZIP file is created using java.util.zip.ZipOutputStream.</p>\n<p><strong>Hope it helps</strong></p>\n"}],"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77294660,"answer_count":1,"score":0,"last_activity_date":1697321459,"creation_date":1696839593,"question_id":77257228,"body_markdown":"I have develop an app for a smartwatch (wearOs) that creates a zip. The app writes data on a Txt, and when it finishes doing the tasks it has to do, it compresses the Txt creating a Zip. \r\n\r\nIn most of the smartwatch in which I have installed the app, it works without problems. But, in other, I get corrupted Zips.\r\n\r\nIn this cases, sometimes it lets me decompress without problems and in others I get an error (0x80004005). \r\n\r\nThe way that I zip the Txt file is:\r\n\r\n```\r\nprivate File zip(File[] files){\r\n        File zipFile = null;\r\n        try {\r\n            sendHandlerMessage(0, COMPRESS_STATE);\r\n\r\n            // Compress data block and write compressed data in temporal compressed file\r\n            zipFile = new File(files[0].getParentFile(),files[0].getName().replace(&quot;txt&quot;,&quot;zip&quot;));\r\n            ZipOutputStream zipOutputStream = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(zipFile)));\r\n\r\n            executorZipService = Executors.newFixedThreadPool(files.length);\r\n            for(int i = 0; i&lt; files.length; i++){\r\n                int finalI = i;\r\n                executorZipService.execute(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        byte[] buffer = new byte[BUFFER_SIZE];\r\n                        FileInputStream fileInputStream = null;\r\n                        try {\r\n                            ZipEntry entry = new ZipEntry(files[finalI].getName());\r\n                            zipOutputStream.putNextEntry(entry);\r\n                            fileInputStream = new FileInputStream(files[finalI]);\r\n\r\n                            int count;\r\n                            long fileSize, actualSize=0;\r\n                            fileSize = files[finalI].length();\r\n\r\n                            while ((count = fileInputStream.read(buffer)) &gt; 0) {\r\n                                zipOutputStream.write(buffer, 0, count);\r\n                                actualSize=actualSize+count;\r\n                                sendHandlerMessage((int) Math.ceil((actualSize/fileSize)*100),COMPRESS_STATE);\r\n                                //Log.d(&quot;CUSTOM_TAG&quot;,&quot;&quot;+ i++);\r\n                            }\r\n\r\n                            fileInputStream.close();\r\n                            files[finalI].delete();\r\n                        }catch (IOException e){\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            executorZipService.shutdown();\r\n            executorZipService.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\r\n            zipOutputStream.closeEntry();\r\n            zipOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        //sendInfoToMainActivity(Constants.SENDING_STATE);\r\n        SystemClock.sleep(10);\r\n        return zipFile;\r\n    }\r\n```\r\n\r\n\r\nI don&#39;t know what I need to change. On some watches it works without problems and on others it doesn&#39;t, so I don&#39;t know why.","title":"Zip File Corrupted App created by Android Studio","body":"<p>I have develop an app for a smartwatch (wearOs) that creates a zip. The app writes data on a Txt, and when it finishes doing the tasks it has to do, it compresses the Txt creating a Zip.</p>\n<p>In most of the smartwatch in which I have installed the app, it works without problems. But, in other, I get corrupted Zips.</p>\n<p>In this cases, sometimes it lets me decompress without problems and in others I get an error (0x80004005).</p>\n<p>The way that I zip the Txt file is:</p>\n<pre><code>private File zip(File[] files){\n        File zipFile = null;\n        try {\n            sendHandlerMessage(0, COMPRESS_STATE);\n\n            // Compress data block and write compressed data in temporal compressed file\n            zipFile = new File(files[0].getParentFile(),files[0].getName().replace(&quot;txt&quot;,&quot;zip&quot;));\n            ZipOutputStream zipOutputStream = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(zipFile)));\n\n            executorZipService = Executors.newFixedThreadPool(files.length);\n            for(int i = 0; i&lt; files.length; i++){\n                int finalI = i;\n                executorZipService.execute(new Runnable() {\n                    @Override\n                    public void run() {\n                        byte[] buffer = new byte[BUFFER_SIZE];\n                        FileInputStream fileInputStream = null;\n                        try {\n                            ZipEntry entry = new ZipEntry(files[finalI].getName());\n                            zipOutputStream.putNextEntry(entry);\n                            fileInputStream = new FileInputStream(files[finalI]);\n\n                            int count;\n                            long fileSize, actualSize=0;\n                            fileSize = files[finalI].length();\n\n                            while ((count = fileInputStream.read(buffer)) &gt; 0) {\n                                zipOutputStream.write(buffer, 0, count);\n                                actualSize=actualSize+count;\n                                sendHandlerMessage((int) Math.ceil((actualSize/fileSize)*100),COMPRESS_STATE);\n                                //Log.d(&quot;CUSTOM_TAG&quot;,&quot;&quot;+ i++);\n                            }\n\n                            fileInputStream.close();\n                            files[finalI].delete();\n                        }catch (IOException e){\n                            e.printStackTrace();\n                        }\n                    }\n                });\n\n            }\n\n            executorZipService.shutdown();\n            executorZipService.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\n            zipOutputStream.closeEntry();\n            zipOutputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        //sendInfoToMainActivity(Constants.SENDING_STATE);\n        SystemClock.sleep(10);\n        return zipFile;\n    }\n</code></pre>\n<p>I don't know what I need to change. On some watches it works without problems and on others it doesn't, so I don't know why.</p>\n"},{"tags":["java","rule-engine"],"answers":[{"comments":[{"owner":{"account_id":3879041,"reputation":2724,"user_id":3564468,"accept_rate":77,"display_name":"amitection"},"score":0,"creation_date":1482405294,"post_id":41281633,"comment_id":69765259,"body_markdown":"Thanks. This cleared a lot of things. So that means, i&#39;ll have to use a combination of priority and `.withSkipOnFirstAppliedRule(true)` to achieve the desired behavior.","body":"Thanks. This cleared a lot of things. So that means, i&#39;ll have to use a combination of priority and <code>.withSkipOnFirstAppliedRule(true)</code> to achieve the desired behavior."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697318433,"creation_date":1482404518,"answer_id":41281633,"question_id":41281247,"body_markdown":"Priority has no relation with whether a rule is executed or not. It indicates only the execution order of the rules&lt;br&gt;\r\n\r\n\r\nFrom the documentation :\r\n\r\n&gt; Each rule in Easy Rules has a priority. This represents the default\r\n&gt; order in which registered rules are fired. By default, lower values\r\n&gt; represent higher priorities.\r\n\r\nYou can also read :\r\n\r\n&gt; A composite rule is triggered if all conditions of its composing rules\r\n&gt; are satisfied. When a composite rule is applied, actions of all\r\n&gt; composing rules are performed in the natural order of rules which is\r\n&gt; rules priorities by default.\r\n\r\n\r\n\r\nIf you want the engine to skip rules after a rule is applied, you should provide the engine with the param `skipOnFirstAppliedRule` set to `true`.\r\n\r\n \tRulesEngine  rulesEngine = RulesEngineBuilder.aNewRulesEngine()\r\n                              .withSkipOnFirstAppliedRule(true)\r\n                      \t      .build();\r\n\r\n    // add your rules in the RulesEngine\r\n\trulesEngine.registerRule(new A());\r\n\trulesEngine.registerRule(new B());\r\n\trulesEngine.registerRule(new C());\r\n\r\n    // execute the rules\r\n    rulesEngine.fireRules();\r\n\r\nIn your case, only the `A` rule will be executed.","title":"Are the rules fired in easy rules not exclusive based on priority?","body":"<p>Priority has no relation with whether a rule is executed or not. It indicates only the execution order of the rules<br></p>\n<p>From the documentation :</p>\n<blockquote>\n<p>Each rule in Easy Rules has a priority. This represents the default\norder in which registered rules are fired. By default, lower values\nrepresent higher priorities.</p>\n</blockquote>\n<p>You can also read :</p>\n<blockquote>\n<p>A composite rule is triggered if all conditions of its composing rules\nare satisfied. When a composite rule is applied, actions of all\ncomposing rules are performed in the natural order of rules which is\nrules priorities by default.</p>\n</blockquote>\n<p>If you want the engine to skip rules after a rule is applied, you should provide the engine with the param <code>skipOnFirstAppliedRule</code> set to <code>true</code>.</p>\n<pre><code>RulesEngine  rulesEngine = RulesEngineBuilder.aNewRulesEngine()\n                          .withSkipOnFirstAppliedRule(true)\n                          .build();\n\n// add your rules in the RulesEngine\nrulesEngine.registerRule(new A());\nrulesEngine.registerRule(new B());\nrulesEngine.registerRule(new C());\n\n// execute the rules\nrulesEngine.fireRules();\n</code></pre>\n<p>In your case, only the <code>A</code> rule will be executed.</p>\n"}],"owner":{"account_id":3879041,"reputation":2724,"user_id":3564468,"accept_rate":77,"display_name":"amitection"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":41281633,"answer_count":1,"score":0,"last_activity_date":1697320692,"creation_date":1482403345,"question_id":41281247,"body_markdown":"I am trying to work with EasyRules.\r\n\r\nI have created 3 rules A, B &amp; C with priorities 1, 2 &amp; 3 respectively.\r\n\r\nEven though **rule A** is evaluated to **true** and has the highest priority, rules with lower priority (i.e. B &amp; C) are being evaluated.\r\n\r\nHow does this rule priority work? \r\n\r\nIs there a work around where if a rule with higher priority is evaluated to true, then rules with lower priority are not evaluated?","title":"Are the rules fired in easy rules not exclusive based on priority?","body":"<p>I am trying to work with EasyRules.</p>\n<p>I have created 3 rules A, B &amp; C with priorities 1, 2 &amp; 3 respectively.</p>\n<p>Even though <strong>rule A</strong> is evaluated to <strong>true</strong> and has the highest priority, rules with lower priority (i.e. B &amp; C) are being evaluated.</p>\n<p>How does this rule priority work?</p>\n<p>Is there a work around where if a rule with higher priority is evaluated to true, then rules with lower priority are not evaluated?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9793,"page":124,"page_size":100}
