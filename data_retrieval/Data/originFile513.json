{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1681048483,"post_id":75970922,"comment_id":133993119,"body_markdown":"Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase.","body":"Class names should begin in uppercase, so they don&#39;t get confused with variable names, which start in lowercase."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1681055892,"post_id":75970922,"comment_id":133994123,"body_markdown":"What JDBC driver are you using?","body":"What JDBC driver are you using?"},{"owner":{"account_id":28257257,"reputation":1,"user_id":21602534,"display_name":"java player"},"score":0,"creation_date":1681313454,"post_id":75970922,"comment_id":134037116,"body_markdown":"&quot;org.postgresql.Driver&quot; type4 driver of postgres","body":"&quot;org.postgresql.Driver&quot; type4 driver of postgres"}],"owner":{"account_id":28257257,"reputation":1,"user_id":21602534,"display_name":"java player"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681049250,"creation_date":1681048259,"question_id":75970922,"body_markdown":"```\r\npackage jdbc1;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\n\r\npublic class scrollable extends Thread{\r\n\t \r\n\r\n\t   \r\n\tpublic void run()\r\n\t{\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tConnection cn1 = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;,&quot;postgres&quot;,&quot;123456&quot;);\r\n\t\t\tStatement st=cn1.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\r\n\t\t\tst.executeUpdate(&quot;update emp set ename=&#39;BLAKE2&#39; where empno=7698&quot;);\r\n\t\t\t\r\n\t\t\tst.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) throws ClassNotFoundException, SQLException, InterruptedException {\r\n\t\t\r\n\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\tConnection cn=DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;,&quot;postgres&quot;,&quot;123456&quot;);\r\n\t\tStatement st=cn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\t\r\n\t\tResultSet rs1=st.executeQuery(&quot;select * from emp&quot;);\r\n\t\tint i=0;\r\n\t\twhile(rs1.next())\r\n\t\t{\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(i==5)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\tscrollable obj=new scrollable();\r\n\t\t\tobj.start();\r\n\t\t\tobj.join();\r\n\t\t\trs1.last();\r\n\t\t\trs1.refreshRow();\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(rs1.getObject(1)+&quot; &quot;+rs1.getString(2));\r\n\t\t\ti++;\r\n\t\t}\r\n\t\trs1.close();\r\n    }\r\n}\r\n```\r\n\r\nI used `ResultSet.TYPE_SCROLL_INSENSITIVE` in my code and updated the table. Now after refreshing row I should get old values right? But I am getting new values. Here thread is updating table after that I refreshed the row as per insensitive it should not get refreshed and give old values right?\r\n\r\n\r\n\r\n\r\n\r\n","title":"why am i getting updated values of table even after using scroll insensitive?","body":"<pre><code>package jdbc1;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.concurrent.CountDownLatch;\n\n\npublic class scrollable extends Thread{\n     \n\n       \n    public void run()\n    {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        try {\n            Connection cn1 = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;,&quot;postgres&quot;,&quot;123456&quot;);\n            Statement st=cn1.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\n            st.executeUpdate(&quot;update emp set ename='BLAKE2' where empno=7698&quot;);\n            \n            st.close();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        \n    }\n    public static void main(String[] args) throws ClassNotFoundException, SQLException, InterruptedException {\n        \n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        Connection cn=DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/postgres&quot;,&quot;postgres&quot;,&quot;123456&quot;);\n        Statement st=cn.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);  \n        ResultSet rs1=st.executeQuery(&quot;select * from emp&quot;);\n        int i=0;\n        while(rs1.next())\n        {\n            \n            \n            if(i==5)\n            {\n                \n            scrollable obj=new scrollable();\n            obj.start();\n            obj.join();\n            rs1.last();\n            rs1.refreshRow();\n            \n            }\n            System.out.println(rs1.getObject(1)+&quot; &quot;+rs1.getString(2));\n            i++;\n        }\n        rs1.close();\n    }\n}\n</code></pre>\n<p>I used <code>ResultSet.TYPE_SCROLL_INSENSITIVE</code> in my code and updated the table. Now after refreshing row I should get old values right? But I am getting new values. Here thread is updating table after that I refreshed the row as per insensitive it should not get refreshed and give old values right?</p>\n"},{"tags":["java","unit-testing","mockito","testng"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681049249,"creation_date":1681049249,"answer_id":75971009,"question_id":75970925,"body_markdown":"the problem is that you are not passing the mocked `externalApiConfig` to the  tested class `CisRestBaseService`. To fix this, you can, for example, define it it as a constructor argument (you can keep the current constructor as well if needed). \r\n\r\n    public CisRestBaseService(CisApiConfig config) {\r\n        JacksonJsonProvider jacksonJsonProvider = new JacksonJaxbJsonProvider()\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE, false);\r\n    \r\n        Client jaxRsClient = ClientBuilder.newClient().register(jacksonJsonProvider);\r\n        this.externalApiConfig = config;\r\n        this.rootWebTarget = jaxRsClient.target(externalApiConfig.getExternalUrl());\r\n    }\r\n\r\n    public CisRestBaseService() {\r\n        this(new CisApiConfig());\r\n    }\r\n\r\nNot, from the test, you can instantiate the service like this:\r\n\r\n    Mockito.when(externalApiConfig.getExternalUrl()).thenReturn(&quot;http://localhost:8080/serviceURI/&quot;);\r\n    cisAccoutService = new CisAccountServiceImpl(externalApiConfig);\r\n\r\nAs a result, your service under test will use the mock instead of creating a real config object.This technique is called &quot;dependency injection&quot;, you can read more about it here: https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial\r\n","title":"Mockito mock a method calls actual method","body":"<p>the problem is that you are not passing the mocked <code>externalApiConfig</code> to the  tested class <code>CisRestBaseService</code>. To fix this, you can, for example, define it it as a constructor argument (you can keep the current constructor as well if needed).</p>\n<pre><code>public CisRestBaseService(CisApiConfig config) {\n    JacksonJsonProvider jacksonJsonProvider = new JacksonJaxbJsonProvider()\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            .configure(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE, false);\n\n    Client jaxRsClient = ClientBuilder.newClient().register(jacksonJsonProvider);\n    this.externalApiConfig = config;\n    this.rootWebTarget = jaxRsClient.target(externalApiConfig.getExternalUrl());\n}\n\npublic CisRestBaseService() {\n    this(new CisApiConfig());\n}\n</code></pre>\n<p>Not, from the test, you can instantiate the service like this:</p>\n<pre><code>Mockito.when(externalApiConfig.getExternalUrl()).thenReturn(&quot;http://localhost:8080/serviceURI/&quot;);\ncisAccoutService = new CisAccountServiceImpl(externalApiConfig);\n</code></pre>\n<p>As a result, your service under test will use the mock instead of creating a real config object.This technique is called &quot;dependency injection&quot;, you can read more about it here: <a href=\"https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial</a></p>\n"}],"owner":{"account_id":503016,"reputation":111,"user_id":1049141,"accept_rate":50,"display_name":"user82504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75971009,"answer_count":1,"score":0,"last_activity_date":1681049249,"creation_date":1681048297,"question_id":75970925,"body_markdown":"I have been trying to mock a method of a class. The method is reading a configuration from file. The file consists of a URI of a service. Method is reading URI from file and creating a WebTarget object. I have been running a testng mockito test case and I am trying to return a string from a mock method when this method is called. Problem is whenever this method is called then actual method is called and it tries to read the file. However, (Correct me if I am wrong) it should not call the actual method and returns the mocked response. Somehow, it is not working. Below is the code for the test\r\n\r\n    @Mock\r\n    private ExternalApiConfig externalApiConfig = null;\r\n    public CisAccountServiceImpl cisAccoutService;\r\n    \r\n    @BeforeMethod\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n        externalApiConfig = Mockito.mock(CisApiConfig.class);\r\n    }\r\n\r\n    private void testUpdateServiceAddressCoordinates(Account account) throws IOException {\r\n\t\tMockito.when(externalApiConfig.getExternalUrl()).thenReturn(&quot;http://localhost:8080/serviceURI/&quot;);\r\n\t\tcisAccoutService = new CisAccountServiceImpl();\r\n\t\tassertThat(account, is(notNullValue()));\r\n\t\tList&lt;PremiseExtension&gt; premiseExtensions = account.getPremise().getPremiseExtension();\r\n\t\tassertThat(premiseExtensions.size(), is(30));\r\n\t\tString geoXSettingName = &quot;value2&quot;;\r\n\t\tString geoYSettingName = &quot;value3&quot;;\r\n\t\tDouble lat = 24.0;\r\n\t\tDouble lng = -98.0;\r\n\t\tboolean updated = cisAccoutService.updateAccountGeoLocation(accountId,\r\n\t\t\t\tlat, lng, geoXSettingName, geoYSettingName);\r\n\t\tassertThat(true, is(updated));\r\n\t\tAccount updatedAccount = getAccountById();\r\n\t\tassertThat(Double.parseDouble(updatedAccount.getPremise().getPremiseExtension().get(2).getValue()), is(equals(lat)));\r\n\t\tassertThat(Double.parseDouble(updatedAccount.getPremise().getPremiseExtension().get(3).getValue()), is(equals(lng)));\r\n\t\t//rollback the change\r\n\t\tupdatedAccount.getPremise().setPremiseExtension(premiseExtensions);\r\n\t\tupdateAccountWithValues(updatedAccount);\r\n\t}\r\n\r\nThe method I want to mock is externalApiConfig.getExternalUrl() in following code\r\n\r\n    public class CisRestBaseService {\r\n\r\n    protected WebTarget rootWebTarget;\r\n    protected ExternalApiConfig externalApiConfig;\r\n\r\n    public CisRestBaseService() {\r\n        JacksonJsonProvider jacksonJsonProvider = new JacksonJaxbJsonProvider()\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE, false);\r\n\r\n        Client jaxRsClient = ClientBuilder.newClient().register(jacksonJsonProvider);\r\n        this.externalApiConfig = new CisApiConfig();\r\n        this.rootWebTarget = jaxRsClient.target(externalApiConfig.getExternalUrl());\r\n    }\r\n}\r\n\r\nAny help would be much appreciated.","title":"Mockito mock a method calls actual method","body":"<p>I have been trying to mock a method of a class. The method is reading a configuration from file. The file consists of a URI of a service. Method is reading URI from file and creating a WebTarget object. I have been running a testng mockito test case and I am trying to return a string from a mock method when this method is called. Problem is whenever this method is called then actual method is called and it tries to read the file. However, (Correct me if I am wrong) it should not call the actual method and returns the mocked response. Somehow, it is not working. Below is the code for the test</p>\n<pre><code>@Mock\nprivate ExternalApiConfig externalApiConfig = null;\npublic CisAccountServiceImpl cisAccoutService;\n\n@BeforeMethod\npublic void init() {\n    MockitoAnnotations.initMocks(this);\n    externalApiConfig = Mockito.mock(CisApiConfig.class);\n}\n\nprivate void testUpdateServiceAddressCoordinates(Account account) throws IOException {\n    Mockito.when(externalApiConfig.getExternalUrl()).thenReturn(&quot;http://localhost:8080/serviceURI/&quot;);\n    cisAccoutService = new CisAccountServiceImpl();\n    assertThat(account, is(notNullValue()));\n    List&lt;PremiseExtension&gt; premiseExtensions = account.getPremise().getPremiseExtension();\n    assertThat(premiseExtensions.size(), is(30));\n    String geoXSettingName = &quot;value2&quot;;\n    String geoYSettingName = &quot;value3&quot;;\n    Double lat = 24.0;\n    Double lng = -98.0;\n    boolean updated = cisAccoutService.updateAccountGeoLocation(accountId,\n            lat, lng, geoXSettingName, geoYSettingName);\n    assertThat(true, is(updated));\n    Account updatedAccount = getAccountById();\n    assertThat(Double.parseDouble(updatedAccount.getPremise().getPremiseExtension().get(2).getValue()), is(equals(lat)));\n    assertThat(Double.parseDouble(updatedAccount.getPremise().getPremiseExtension().get(3).getValue()), is(equals(lng)));\n    //rollback the change\n    updatedAccount.getPremise().setPremiseExtension(premiseExtensions);\n    updateAccountWithValues(updatedAccount);\n}\n</code></pre>\n<p>The method I want to mock is externalApiConfig.getExternalUrl() in following code</p>\n<pre><code>public class CisRestBaseService {\n\nprotected WebTarget rootWebTarget;\nprotected ExternalApiConfig externalApiConfig;\n\npublic CisRestBaseService() {\n    JacksonJsonProvider jacksonJsonProvider = new JacksonJaxbJsonProvider()\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            .configure(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE, false);\n\n    Client jaxRsClient = ClientBuilder.newClient().register(jacksonJsonProvider);\n    this.externalApiConfig = new CisApiConfig();\n    this.rootWebTarget = jaxRsClient.target(externalApiConfig.getExternalUrl());\n}\n</code></pre>\n<p>}</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","rest","jakarta-ee","jax-rs"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1681048136,"post_id":75970894,"comment_id":133993074,"body_markdown":"HTTP 404 means your URL isn&#39;t correct.  Check each contribution carefully.  Ask Tomcat what endpoints it exposes.","body":"HTTP 404 means your URL isn&#39;t correct.  Check each contribution carefully.  Ask Tomcat what endpoints it exposes."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1681071414,"post_id":75970894,"comment_id":133996052,"body_markdown":"You are using Tomcat 9. That expects to use the Servlet 4.0 specification (required by the Java EE 8 platform). However, your POM is using the Jakarta EE 10 artifact, so you have downloaded the Servlet 6.0 specification. For this you need to be using Tomcat 10.1.x. See the [Apache Tomcat Versions](https://tomcat.apache.org/whichversion.html) guide. Upgrade your Tomcat. (I&#39;m not claiming this will fix your 404 error, though.)","body":"You are using Tomcat 9. That expects to use the Servlet 4.0 specification (required by the Java EE 8 platform). However, your POM is using the Jakarta EE 10 artifact, so you have downloaded the Servlet 6.0 specification. For this you need to be using Tomcat 10.1.x. See the <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Apache Tomcat Versions</a> guide. Upgrade your Tomcat. (I&#39;m not claiming this will fix your 404 error, though.)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681072263,"post_id":75970894,"comment_id":133996161,"body_markdown":"One other thing: Do you actually want to use the RESTEasy implementation of JAX-RS (given the title of your project)? I don&#39;t see that in your POM.","body":"One other thing: Do you actually want to use the RESTEasy implementation of JAX-RS (given the title of your project)? I don&#39;t see that in your POM."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1681137945,"post_id":75970894,"comment_id":134004350,"body_markdown":"Apart from the Jakarta/Tomcat9 issue, you don&#39;t even have a JAX-RS _implementation_. Tomcat is not an EE server. It will not have an implementation. So you need to add one.","body":"Apart from the Jakarta/Tomcat9 issue, you don&#39;t even have a JAX-RS <i>implementation</i>. Tomcat is not an EE server. It will not have an implementation. So you need to add one."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1681137961,"post_id":75970894,"comment_id":134004354,"body_markdown":"Also, whet does this even mean? _&quot;when i do the same example for resteasy-jaxrs 3.1.3.final it works but that doesn&#39;t work.&quot;_","body":"Also, whet does this even mean? <i>&quot;when i do the same example for resteasy-jaxrs 3.1.3.final it works but that doesn&#39;t work.&quot;</i>"}],"owner":{"account_id":20554757,"reputation":21,"user_id":15086619,"display_name":"batchu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681047958,"creation_date":1681047914,"question_id":75970894,"body_markdown":"MyApplication.java\r\n\r\n```\r\npackage service;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport jakarta.ws.rs.core.Application;\r\n\r\n@ApplicationPath(&quot;/app&quot;)\r\npublic class MyApplication extends Application{\r\n\r\n\tSet&lt;Object&gt; singletons = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic MyApplication(){\r\n\t\tsingletons.add(new HelloResource());\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Set&lt;Object&gt; getSingletons() {\r\n\t\treturn singletons;\r\n\t}\r\n}\r\n```\r\n\r\nHelloResource.java\r\n\r\n```\r\npackage service;\r\n\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.core.MediaType;\r\n\r\n@Path(&quot;/hello&quot;)\r\npublic class HelloResource {\r\n\r\n\t@GET\r\n\t@Produces(MediaType.TEXT_PLAIN)\r\n\tpublic String getHello() {\r\n\t\treturn &quot;HELLO&quot;;\r\n\t}\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;Resteasy-examples&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Resteasy-examples&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n\t  \t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;10.0.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.3&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI go to this address http://localhost:8080/Resteasy-examples/app/hello and\r\n\r\n# HTTP Status 404 – Not Found\r\n\r\n----------\r\n\r\n**Type** Status Report\r\n\r\n**Message** The requested resource \\[/Resteasy-examples/app/hello\\] is not available\r\n\r\n**Description** The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\n----------\r\n\r\n### Apache Tomcat/9.0.73\r\n\r\nwhen i do the same example for resteasy-jaxrs 3.1.3.final it works but that doesn&#39;t work.\r\n","title":"Jakarta EE 10 REST API returns 404 not found error","body":"<p>MyApplication.java</p>\n<pre><code>package service;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.core.Application;\n\n@ApplicationPath(&quot;/app&quot;)\npublic class MyApplication extends Application{\n\n    Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\n    \n    public MyApplication(){\n        singletons.add(new HelloResource());\n    }\n    \n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n}\n</code></pre>\n<p>HelloResource.java</p>\n<pre><code>package service;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class HelloResource {\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String getHello() {\n        return &quot;HELLO&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;Resteasy-examples&lt;/groupId&gt;\n  &lt;artifactId&gt;Resteasy-examples&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  \n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I go to this address http://localhost:8080/Resteasy-examples/app/hello and</p>\n<h1>HTTP Status 404 – Not Found</h1>\n<hr />\n<p><strong>Type</strong> Status Report</p>\n<p><strong>Message</strong> The requested resource [/Resteasy-examples/app/hello] is not available</p>\n<p><strong>Description</strong> The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n<hr />\n<h3>Apache Tomcat/9.0.73</h3>\n<p>when i do the same example for resteasy-jaxrs 3.1.3.final it works but that doesn't work.</p>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680598705,"post_id":75926572,"comment_id":133921309,"body_markdown":"Can I ask `class.stream()` is your original &#39;class&#39; variable a Map or is it a list?","body":"Can I ask <code>class.stream()</code> is your original &#39;class&#39; variable a Map or is it a list?"}],"answers":[{"tags":[],"owner":{"account_id":22141394,"reputation":21,"user_id":16391366,"display_name":"Abdelilah Razzouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681047944,"creation_date":1680594736,"answer_id":75926803,"question_id":75926572,"body_markdown":"Just like @Sametcey suggested you can use `flatMap`.&lt;br&gt; Whenever you encounter something that uses nested lists (just like your `Map&lt;String, List&lt;List&gt;&gt;`, but it&#39;s possible to use it on deeper level like `Map&lt;String, List&lt;List&lt;List&gt;&gt;&gt;`) `flatMap` will help you with that.\r\n\r\nIt will transform your stream into a single flattened stream. In other words: one list that you can access and manipulate.","title":"How to Convert a Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt; in java 8 functional APIs","body":"<p>Just like @Sametcey suggested you can use <code>flatMap</code>.<br> Whenever you encounter something that uses nested lists (just like your <code>Map&lt;String, List&lt;List&gt;&gt;</code>, but it's possible to use it on deeper level like <code>Map&lt;String, List&lt;List&lt;List&gt;&gt;&gt;</code>) <code>flatMap</code> will help you with that.</p>\n<p>It will transform your stream into a single flattened stream. In other words: one list that you can access and manipulate.</p>\n"},{"tags":[],"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680600470,"creation_date":1680600470,"answer_id":75927724,"question_id":75926572,"body_markdown":"You can use the `Map` collector to group by keys and merge the values.\r\n\r\nExample (Java 14 &amp; above):\r\n```java\r\nclass Test {\r\n\r\n\t// sample data types\r\n\trecord Sub ( int type, String value ){}\r\n    record Clazz (String id, List&lt;Sub&gt; sub){}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t// sample data\r\n\t\tList&lt;Clazz&gt; classes = List.of(\r\n\t\t\tnew Clazz(&quot;id1&quot;,List.of(new Sub(1,&quot;A&quot;),new Sub(2,&quot;B&quot;))),\r\n\t\t\tnew Clazz(&quot;id2&quot;,List.of(new Sub(3,&quot;C&quot;),new Sub(4,&quot;D&quot;))),\r\n\t\t\tnew Clazz(&quot;id1&quot;,List.of(new Sub(5,&quot;E&quot;),new Sub(6,&quot;A&quot;)))\r\n\t\t);\r\n\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; map = classes.stream()\r\n\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t// key for new map: c.id\r\n\t\t\t\tc -&gt; c.id,\r\n\t\t\t\t\r\n\t\t\t\t// value for new map: c.sub[].value as a list\r\n\t\t\t\tc -&gt; c.sub.stream().map(s -&gt; s.value).toList(),\r\n\t\t\t\t\r\n\t\t\t\t// duplicate value merging (grouping) : merge two value lists, no duplicates\r\n\t\t\t\t(v1, v2) -&gt; Stream.concat(v1.stream(), v2.stream()).distinct().toList()\r\n\t\t\t));\r\n\r\n\t\t// print resulting data\r\n\t\tmap.forEach((k,v) -&gt; System.out.println(k + &quot;\\t-&gt;\\t&quot; + String.join(&quot;,&quot;, v)));\r\n\t}\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n```text\r\nid2\t-&gt;\tC,D\r\nid1\t-&gt;\tA,B,E\r\n```","title":"How to Convert a Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt; in java 8 functional APIs","body":"<p>You can use the <code>Map</code> collector to group by keys and merge the values.</p>\n<p>Example (Java 14 &amp; above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n\n    // sample data types\n    record Sub ( int type, String value ){}\n    record Clazz (String id, List&lt;Sub&gt; sub){}\n\n    public static void main(String[] args)\n    {\n        // sample data\n        List&lt;Clazz&gt; classes = List.of(\n            new Clazz(&quot;id1&quot;,List.of(new Sub(1,&quot;A&quot;),new Sub(2,&quot;B&quot;))),\n            new Clazz(&quot;id2&quot;,List.of(new Sub(3,&quot;C&quot;),new Sub(4,&quot;D&quot;))),\n            new Clazz(&quot;id1&quot;,List.of(new Sub(5,&quot;E&quot;),new Sub(6,&quot;A&quot;)))\n        );\n\n        Map&lt;String, List&lt;String&gt;&gt; map = classes.stream()\n            .collect(Collectors.toMap(\n                // key for new map: c.id\n                c -&gt; c.id,\n                \n                // value for new map: c.sub[].value as a list\n                c -&gt; c.sub.stream().map(s -&gt; s.value).toList(),\n                \n                // duplicate value merging (grouping) : merge two value lists, no duplicates\n                (v1, v2) -&gt; Stream.concat(v1.stream(), v2.stream()).distinct().toList()\n            ));\n\n        // print resulting data\n        map.forEach((k,v) -&gt; System.out.println(k + &quot;\\t-&gt;\\t&quot; + String.join(&quot;,&quot;, v)));\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>id2 -&gt;  C,D\nid1 -&gt;  A,B,E\n</code></pre>\n"}],"owner":{"account_id":28210376,"reputation":1,"user_id":21562759,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681047944,"creation_date":1680593138,"question_id":75926572,"body_markdown":"I have a class like this;\r\n\r\n```\r\nclass: {\r\n   id: &quot;&quot;,\r\n   sub: [{\r\n       type: 1,\r\n       value: &quot;&quot;\r\n   }]\r\n}\r\n```\r\n\r\nNow, I want group class first by id;\r\n\r\n\r\n```java\r\nclass.stream().collect(Collectors.groupingBy(class::id))\r\n```\r\n\r\nThen I want flat sub-value to a `List&lt;String&gt;`, I have the following:\r\n\r\n\r\n```java\r\nclass.stream().collect(Collectors.groupingBy(class::id,\r\n  Collectors.mapping(e -&gt;\r\n    e.sub().stream()\r\n      .filter(v -&gt; v.type().equals(1))\r\n       .map(sub::value),\r\n    Collectors.toList()\r\n  )))\r\n```\r\n\r\nIt returns a `Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;`\r\n\r\nSo, how can I convert a `Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;` to `Map&lt;String, List&lt;String&gt;&gt;` using the Java 8 functional API?","title":"How to Convert a Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt; in java 8 functional APIs","body":"<p>I have a class like this;</p>\n<pre><code>class: {\n   id: &quot;&quot;,\n   sub: [{\n       type: 1,\n       value: &quot;&quot;\n   }]\n}\n</code></pre>\n<p>Now, I want group class first by id;</p>\n<pre class=\"lang-java prettyprint-override\"><code>class.stream().collect(Collectors.groupingBy(class::id))\n</code></pre>\n<p>Then I want flat sub-value to a <code>List&lt;String&gt;</code>, I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class.stream().collect(Collectors.groupingBy(class::id,\n  Collectors.mapping(e -&gt;\n    e.sub().stream()\n      .filter(v -&gt; v.type().equals(1))\n       .map(sub::value),\n    Collectors.toList()\n  )))\n</code></pre>\n<p>It returns a <code>Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;</code></p>\n<p>So, how can I convert a <code>Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt;</code> to <code>Map&lt;String, List&lt;String&gt;&gt;</code> using the Java 8 functional API?</p>\n"},{"tags":["java","maven","aws-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1680710771,"post_id":75941645,"comment_id":133945518,"body_markdown":"Be aware of [BOM recommendation](https://github.com/aws/aws-sdk-java-v2#importing-the-bom) and [issues/884](https://github.com/awsdocs/aws-doc-sdk-examples/issues/884).","body":"Be aware of <a href=\"https://github.com/aws/aws-sdk-java-v2#importing-the-bom\" rel=\"nofollow noreferrer\">BOM recommendation</a> and <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/issues/884\" rel=\"nofollow noreferrer\">issues/884</a>."}],"answers":[{"tags":[],"owner":{"account_id":4853784,"reputation":195,"user_id":3915399,"accept_rate":33,"display_name":"BlueBucket7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681047512,"creation_date":1681047512,"answer_id":75970865,"question_id":75941645,"body_markdown":"What ended up helping me was the `maven-assembly-plugin`. This will create a JAR with all of the dependencies bundled.\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"&quot;java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region&quot; error for JAR built via IntelliJ","body":"<p>What ended up helping me was the <code>maven-assembly-plugin</code>. This will create a JAR with all of the dependencies bundled.</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":4853784,"reputation":195,"user_id":3915399,"accept_rate":33,"display_name":"BlueBucket7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681047512,"creation_date":1680710405,"question_id":75941645,"body_markdown":"I&#39;m using IntelliJ to develop an AWS app (simply retrieves from SecretsManager). I&#39;m able to run the app fine in IntelliJ, but when I build a JAR artifact via IntelliJ and try to execute the JAR, I get `java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region`.\r\n\r\nI built the JAR via IntelliJ, but I use a `pom.xml` to specify the dependencies. When I try to execute the JAR, I get `java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region` error. I&#39;ve included this dependency as part of my `pom.xml`, and I have also verified that the JAR is extracting the &quot;software.amazon.awssdk.regions&quot; library.\r\n\r\nI have no idea why the JAR complains about &quot;ClassNotFoundException&quot;, when the class it&#39;s looking for is literally in the JAR?\r\n\r\nAny guidance is greatly appreciated!\r\n\r\nI&#39;ve included my `pom.xml` below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.chronoslabs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;chronos-trader&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jmockit/jmockit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.binance&lt;/groupId&gt;\r\n            &lt;artifactId&gt;binance-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xchange-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-stream-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xchange-stream-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-stream-service-netty --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xchange-stream-service-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-binance --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xchange-binance&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://logging.apache.org/log4j/2.x/manual/async.html --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/secretsmanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.38&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;regions&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.38&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;aws.java.sdk.version&gt;2.20.38&lt;/aws.java.sdk.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"&quot;java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region&quot; error for JAR built via IntelliJ","body":"<p>I'm using IntelliJ to develop an AWS app (simply retrieves from SecretsManager). I'm able to run the app fine in IntelliJ, but when I build a JAR artifact via IntelliJ and try to execute the JAR, I get <code>java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region</code>.</p>\n<p>I built the JAR via IntelliJ, but I use a <code>pom.xml</code> to specify the dependencies. When I try to execute the JAR, I get <code>java.lang.ClassNotFoundException: software.amazon.awssdk.regions.Region</code> error. I've included this dependency as part of my <code>pom.xml</code>, and I have also verified that the JAR is extracting the &quot;software.amazon.awssdk.regions&quot; library.</p>\n<p>I have no idea why the JAR complains about &quot;ClassNotFoundException&quot;, when the class it's looking for is literally in the JAR?</p>\n<p>Any guidance is greatly appreciated!</p>\n<p>I've included my <code>pom.xml</code> below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.chronoslabs&lt;/groupId&gt;\n    &lt;artifactId&gt;chronos-trader&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jmockit/jmockit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\n            &lt;version&gt;1.49&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.binance&lt;/groupId&gt;\n            &lt;artifactId&gt;binance-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;1.12.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\n            &lt;version&gt;1.49&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\n            &lt;artifactId&gt;xchange-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-stream-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\n            &lt;artifactId&gt;xchange-stream-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-stream-service-netty --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\n            &lt;artifactId&gt;xchange-stream-service-netty&lt;/artifactId&gt;\n            &lt;version&gt;5.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.knowm.xchange/xchange-binance --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.knowm.xchange&lt;/groupId&gt;\n            &lt;artifactId&gt;xchange-binance&lt;/artifactId&gt;\n            &lt;version&gt;5.0.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://logging.apache.org/log4j/2.x/manual/async.html --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/secretsmanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.20.38&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;regions&lt;/artifactId&gt;\n            &lt;version&gt;2.20.38&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n\n        &lt;aws.java.sdk.version&gt;2.20.38&lt;/aws.java.sdk.version&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","debugging","testing","build.gradle"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681051416,"post_id":75970851,"comment_id":133993537,"body_markdown":"I would remove the spring-test dependency. spring-boot-starter-test should be enough.","body":"I would remove the spring-test dependency. spring-boot-starter-test should be enough."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681047402,"creation_date":1681047402,"question_id":75970851,"body_markdown":"I added an extra functionality to my project that required adding some extra dependencies in the build.gradle file and suddenly all server-side tests fail with the same error. I think it is caused by some dependency overlap from the added feature as nothing else should be influencing the tests (I think?). This is the error message that I&#39;m getting for every test:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;fileController&#39;: Unsatisfied dependency expressed through field &#39;service&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;server.services.StorageService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n\tat app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n\tat app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 85 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;server.services.StorageService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\r\n\tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\tat app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n\t... 104 more\r\n```\r\nThis is the &#39;working&#39; build.gradle:\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\timplementation project(&quot;:commons&quot;)\r\n}\r\n```\r\nThis is the current build.gradle that&#39;s failing:\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\timplementation &#39;org.springframework:spring-test:5.3.9&#39;\r\n\timplementation &#39;org.glassfish.jersey.core:jersey-client:2.39.1&#39;\r\n\timplementation &#39;org.glassfish.jersey.media:jersey-media-multipart:2.39.1&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\timplementation project(&quot;:commons&quot;)\r\n}\r\n```\r\nAnd this is the application.properties:\r\n```\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n# use one of these alternatives...\r\n# ... purely in-memory, wiped on restart, but great for testing\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\n# ... persisted on disk (in project directory)\r\n#spring.datasource.url=jdbc:h2:file:./databs\r\n\r\n# enable DB view on http://localhost:8080/h2-console\r\nspring.h2.console.enabled=true\r\n# Max file size.\r\nspring.servlet.multipart.max-file-size=20MB\r\n# Max request size.\r\nspring.servlet.multipart.max-request-size=20MB\r\n# strategy for table (re-)generation\r\nspring.jpa.hibernate.ddl-auto=update\r\n# show auto-generated SQL commands\r\n#spring.jpa.hibernate.show_sql=true\r\n```\r\nI could also be mistaken and have something completely different as the cause, so please let me know if that&#39;s the case.","title":"Dependency incompatibility from an added feature causes the tests in my springboot/gradle project to fail","body":"<p>I added an extra functionality to my project that required adding some extra dependencies in the build.gradle file and suddenly all server-side tests fail with the same error. I think it is caused by some dependency overlap from the added feature as nothing else should be influencing the tests (I think?). This is the error message that I'm getting for every test:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'fileController': Unsatisfied dependency expressed through field 'service'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'server.services.StorageService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at app//org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at app//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at app//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at app//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at app//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n    at app//org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at app//org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at app//org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 85 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'server.services.StorageService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at app//org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 104 more\n</code></pre>\n<p>This is the 'working' build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    runtimeOnly 'com.h2database:h2'\n    implementation project(&quot;:commons&quot;)\n}\n</code></pre>\n<p>This is the current build.gradle that's failing:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'org.springframework:spring-test:5.3.9'\n    implementation 'org.glassfish.jersey.core:jersey-client:2.39.1'\n    implementation 'org.glassfish.jersey.media:jersey-media-multipart:2.39.1'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    runtimeOnly 'com.h2database:h2'\n    implementation project(&quot;:commons&quot;)\n}\n</code></pre>\n<p>And this is the application.properties:</p>\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n# use one of these alternatives...\n# ... purely in-memory, wiped on restart, but great for testing\nspring.datasource.url=jdbc:h2:mem:testdb\n# ... persisted on disk (in project directory)\n#spring.datasource.url=jdbc:h2:file:./databs\n\n# enable DB view on http://localhost:8080/h2-console\nspring.h2.console.enabled=true\n# Max file size.\nspring.servlet.multipart.max-file-size=20MB\n# Max request size.\nspring.servlet.multipart.max-request-size=20MB\n# strategy for table (re-)generation\nspring.jpa.hibernate.ddl-auto=update\n# show auto-generated SQL commands\n#spring.jpa.hibernate.show_sql=true\n</code></pre>\n<p>I could also be mistaken and have something completely different as the cause, so please let me know if that's the case.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681045381,"post_id":75970638,"comment_id":133992747,"body_markdown":"Are you sure the code in `onClick` is executed at all? Add a `Log.d(..)` statement and check logcat or set a breakpoint when debugging with Android Studio.","body":"Are you sure the code in <code>onClick</code> is executed at all? Add a <code>Log.d(..)</code> statement and check logcat or set a breakpoint when debugging with Android Studio."},{"owner":{"account_id":7464777,"reputation":1,"user_id":5674793,"display_name":"Thiago"},"score":0,"creation_date":1681046378,"post_id":75970638,"comment_id":133992863,"body_markdown":"Yes, works. The problem is with SharedPreferences","body":"Yes, works. The problem is with SharedPreferences"},{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1681108239,"post_id":75970638,"comment_id":133999423,"body_markdown":"I think your SharedPreferences not get context anything inside onclick. This mention at https://developer.android.com/training/data-storage/shared-preferences","body":"I think your SharedPreferences not get context anything inside onclick. This mention at <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared-preferenc&zwnj;&#8203;es</a>"}],"owner":{"account_id":7464777,"reputation":1,"user_id":5674793,"display_name":"Thiago"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681047341,"creation_date":1681044934,"question_id":75970638,"body_markdown":"A simple example that doesn&#39;t work:\r\n\r\n```\r\nButton btn_validate = (Button) findViewById(R.id.btn_verify_validate);\r\n    btn_validate.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        SharedPreferences sp = getSharedPreferences(&quot;CONFIG&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor spe = sp.edit();\r\n        spe.putInt(&quot;GL_ID_CLASS&quot;, 34);\r\n        spe.commit();`\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut if I put it in OnCreate, for example, thats works.","title":"Why SharedPreferences doesn&#39;t works inside a OnClick event?","body":"<p>A simple example that doesn't work:</p>\n<pre><code>Button btn_validate = (Button) findViewById(R.id.btn_verify_validate);\n    btn_validate.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        SharedPreferences sp = getSharedPreferences(&quot;CONFIG&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor spe = sp.edit();\n        spe.putInt(&quot;GL_ID_CLASS&quot;, 34);\n        spe.commit();`\n    }\n}\n</code></pre>\n<p>But if I put it in OnCreate, for example, thats works.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1401972279,"post_id":24060498,"comment_id":37099414,"body_markdown":"Can you please add  stacktrace and code?","body":"Can you please add  stacktrace and code?"},{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":0,"creation_date":1401972694,"post_id":24060498,"comment_id":37099706,"body_markdown":"show you `GenericDAOImpl`","body":"show you <code>GenericDAOImpl</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1401973024,"post_id":24060498,"comment_id":37099912,"body_markdown":"@user3706420 please add the `GenericDAOImpl` too.","body":"@user3706420 please add the <code>GenericDAOImpl</code> too."},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1604663493,"post_id":24060498,"comment_id":114422358,"body_markdown":"You should only put the important parts of the error stack in the question.","body":"You should only put the important parts of the error stack in the question."}],"answers":[{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1535579264,"creation_date":1401973192,"answer_id":24060905,"question_id":24060498,"body_markdown":"The table name you used, `GROUP`, is a reserved keyword for h2 databases.\nRename your table with a name like `ADMIN_GROUP`.\n\nHere&#39;s an extract from [the h2 documentation][1]:\n\n&gt; Keywords / Reserved Words\n&gt;\n&gt; There is a list of keywords that can&#39;t be used as identifiers (table names, column  names and so on), unless they are quoted (surrounded with double quotes). The list is currently:\n&gt;\n&gt; `CROSS, CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP, DISTINCT, EXCEPT, EXISTS, FALSE, FOR, FROM, FULL, GROUP, HAVING, INNER, INTERSECT, IS, JOIN, LIKE, LIMIT, MINUS, NATURAL, NOT, NULL, ON, ORDER, PRIMARY, ROWNUM, SELECT, SYSDATE, SYSTIME, SYSTIMESTAMP, TODAY, TRUE, UNION, UNIQUE, WHERE`\n&gt;\n&gt; Certain words of this list are keywords because they are functions that can be used without &#39;()&#39; for compatibility, for example `CURRENT_TIMESTAMP`.\n\n\n  [1]: http://www.h2database.com/html/advanced.html#compatibility","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>The table name you used, <code>GROUP</code>, is a reserved keyword for h2 databases.\nRename your table with a name like <code>ADMIN_GROUP</code>.</p>\n<p>Here's an extract from <a href=\"http://www.h2database.com/html/advanced.html#compatibility\" rel=\"noreferrer\">the h2 documentation</a>:</p>\n<blockquote>\n<p>Keywords / Reserved Words</p>\n<p>There is a list of keywords that can't be used as identifiers (table names, column  names and so on), unless they are quoted (surrounded with double quotes). The list is currently:</p>\n<p><code>CROSS, CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP, DISTINCT, EXCEPT, EXISTS, FALSE, FOR, FROM, FULL, GROUP, HAVING, INNER, INTERSECT, IS, JOIN, LIKE, LIMIT, MINUS, NATURAL, NOT, NULL, ON, ORDER, PRIMARY, ROWNUM, SELECT, SYSDATE, SYSTIME, SYSTIMESTAMP, TODAY, TRUE, UNION, UNIQUE, WHERE</code></p>\n<p>Certain words of this list are keywords because they are functions that can be used without '()' for compatibility, for example <code>CURRENT_TIMESTAMP</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7364659,"reputation":515,"user_id":5606736,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1539964197,"creation_date":1539963774,"answer_id":52895775,"question_id":24060498,"body_markdown":"after about 40 minutes I found that **user** and **currentUser** should not be used as well \r\n\r\n    //this cause error\r\n    @Column()\r\n    private String user; \r\n\r\nthis causes: `could not prepare statement; SQL [insert into table_progress (id, created, user, progress, updated, xdip) values (default, ?, ?, ?, ?, ?)]`\r\n \r\n\r\n    //changed to this and works    \r\n    @Column()\r\n    private String userP;","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>after about 40 minutes I found that <strong>user</strong> and <strong>currentUser</strong> should not be used as well </p>\n\n<pre><code>//this cause error\n@Column()\nprivate String user; \n</code></pre>\n\n<p>this causes: <code>could not prepare statement; SQL [insert into table_progress (id, created, user, progress, updated, xdip) values (default, ?, ?, ?, ?, ?)]</code></p>\n\n<pre><code>//changed to this and works    \n@Column()\nprivate String userP;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6541515,"reputation":115,"user_id":5058908,"display_name":"Muhammad Waqar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552498858,"creation_date":1552498858,"answer_id":55148167,"question_id":24060498,"body_markdown":"I used **desc** for description, **desc** and **asc** are also reserved words for ascending and descending order.","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>I used <strong>desc</strong> for description, <strong>desc</strong> and <strong>asc</strong> are also reserved words for ascending and descending order.</p>\n"},{"tags":[],"owner":{"account_id":2758735,"reputation":540,"user_id":2376071,"display_name":"ranjeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568905749,"creation_date":1568902554,"answer_id":58013062,"question_id":24060498,"body_markdown":"In case of Spring-boot with H2 Database, need to use properties,\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n\r\nError was becoz Tables name and columns converted to UpperCase with underscore.\r\n\r\nFor example \r\n\r\n    createdOn -&gt; CREATED_ON.","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>In case of Spring-boot with H2 Database, need to use properties,</p>\n\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n\n<p>Error was becoz Tables name and columns converted to UpperCase with underscore.</p>\n\n<p>For example </p>\n\n<pre><code>createdOn -&gt; CREATED_ON.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10977736,"reputation":71,"user_id":8065933,"display_name":"Bruke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572455411,"creation_date":1572455411,"answer_id":58630542,"question_id":24060498,"body_markdown":"Here is the list of reserved key words for Apache Derby:\r\nhttps://db.apache.org/derby/docs/10.2/ref/rrefkeywords29722.html\r\n\r\nHaving any of these will cause an Exception!","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>Here is the list of reserved key words for Apache Derby:\n<a href=\"https://db.apache.org/derby/docs/10.2/ref/rrefkeywords29722.html\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/docs/10.2/ref/rrefkeywords29722.html</a></p>\n\n<p>Having any of these will cause an Exception!</p>\n"},{"tags":[],"owner":{"account_id":1979652,"reputation":7771,"user_id":2161118,"display_name":"S34N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604169878,"creation_date":1604169878,"answer_id":64625272,"question_id":24060498,"body_markdown":"In my case, it was the fact that the test-service user was not authorized to perform that HTTP.POST operation. Fixed it by assigning ROLE_ADMIN to the spring test-user.\r\n\r\n    //Has @Profile(&quot;test&quot;) as the active profile at the top of the class\r\n\r\n    @PostConstruct\r\n    public void check1stRecord() {\r\n        SecurityUtility.createSecurityContext(&quot;spring&quot;, &quot;spring_password&quot;, &quot;ROLE_SERVICE&quot;, &quot;ROLE_ADMIN&quot;);\r\n        personRepo.save(createRecord());\r\n        SecurityContextHolder.clearContext();\r\n    }\r\n\r\n\r\nCurrently this my Spring Security Configuration:\r\n\r\n    package io.swagger.config.security;\r\n    \r\n    import lombok.extern.log4j.Log4j2;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    \r\n    @Log4j2\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private static final String adminUsername = &quot;admin&quot;;\r\n        private static final String adminPassword = &quot;admin_password&quot;;\r\n        private static final String serviceUsername = &quot;service&quot;;\r\n        private static final String servicePassword = &quot;service_password&quot;;\r\n    \r\n        @Bean\r\n        InMemoryUserDetailsManager inMemoryUserDetailsManager() {\r\n    \r\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n            UserDetails adminUser = User.withUsername(adminUsername).password(encoder.encode(adminPassword)).roles(&quot;SERVICE&quot;, &quot;ADMIN&quot;).build();\r\n            UserDetails demoUser = User.withUsername(serviceUsername).password(encoder.encode(servicePassword)).roles(&quot;SERVICE&quot;).build();\r\n    \r\n            // remember the password that is printed out and use in the next step\r\n            log.debug(&quot;Username: {}, Password: {}&quot;, adminUsername, adminPassword);\r\n            log.debug(&quot;Username: {}, Password: {}&quot;, serviceUsername, servicePassword);\r\n    \r\n            return new InMemoryUserDetailsManager(adminUser, demoUser);\r\n        }\r\n    \r\n        /**\r\n         * Override this method to configure the {@link HttpSecurity}. Typically subclasses\r\n         * should not invoke this method by calling super as it may override their\r\n         * configuration. The default configuration is:\r\n         *\r\n         * &lt;pre&gt;\r\n         * http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();\r\n         * &lt;/pre&gt;\r\n         * &lt;p&gt;\r\n         * Any endpoint that requires defense against common vulnerabilities can be specified\r\n         * here, including public ones. See {@link HttpSecurity#authorizeRequests} and the\r\n         * `permitAll()` authorization rule for more details on public endpoints.\r\n         *\r\n         * @param http the {@link HttpSecurity} to modify\r\n         * @throws Exception if an error occurs\r\n         */\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http.httpBasic().and()\r\n                    .authorizeRequests()//\r\n                    .antMatchers(HttpMethod.POST, &quot;/people&quot;).hasRole(&quot;ADMIN&quot;)//\r\n                    .antMatchers(HttpMethod.PUT, &quot;/people/**&quot;).hasRole(&quot;SERVICE&quot;)//\r\n                    .antMatchers(HttpMethod.PATCH, &quot;/people/**&quot;).hasRole(&quot;SERVICE&quot;)//\r\n                    .antMatchers(HttpMethod.DELETE, &quot;/people/**&quot;).hasRole(&quot;ADMIN&quot;).and()\r\n                    .csrf().disable()\r\n                    .antMatcher(&quot;**/h2-console/**&quot;).authorizeRequests().anyRequest().permitAll();\r\n        }\r\n    }\r\n\r\n","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>In my case, it was the fact that the test-service user was not authorized to perform that HTTP.POST operation. Fixed it by assigning ROLE_ADMIN to the spring test-user.</p>\n<pre><code>//Has @Profile(&quot;test&quot;) as the active profile at the top of the class\n\n@PostConstruct\npublic void check1stRecord() {\n    SecurityUtility.createSecurityContext(&quot;spring&quot;, &quot;spring_password&quot;, &quot;ROLE_SERVICE&quot;, &quot;ROLE_ADMIN&quot;);\n    personRepo.save(createRecord());\n    SecurityContextHolder.clearContext();\n}\n</code></pre>\n<p>Currently this my Spring Security Configuration:</p>\n<pre><code>package io.swagger.config.security;\n\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\n\n@Log4j2\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String adminUsername = &quot;admin&quot;;\n    private static final String adminPassword = &quot;admin_password&quot;;\n    private static final String serviceUsername = &quot;service&quot;;\n    private static final String servicePassword = &quot;service_password&quot;;\n\n    @Bean\n    InMemoryUserDetailsManager inMemoryUserDetailsManager() {\n\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        UserDetails adminUser = User.withUsername(adminUsername).password(encoder.encode(adminPassword)).roles(&quot;SERVICE&quot;, &quot;ADMIN&quot;).build();\n        UserDetails demoUser = User.withUsername(serviceUsername).password(encoder.encode(servicePassword)).roles(&quot;SERVICE&quot;).build();\n\n        // remember the password that is printed out and use in the next step\n        log.debug(&quot;Username: {}, Password: {}&quot;, adminUsername, adminPassword);\n        log.debug(&quot;Username: {}, Password: {}&quot;, serviceUsername, servicePassword);\n\n        return new InMemoryUserDetailsManager(adminUser, demoUser);\n    }\n\n    /**\n     * Override this method to configure the {@link HttpSecurity}. Typically subclasses\n     * should not invoke this method by calling super as it may override their\n     * configuration. The default configuration is:\n     *\n     * &lt;pre&gt;\n     * http.authorizeRequests().anyRequest().authenticated().and().formLogin().and().httpBasic();\n     * &lt;/pre&gt;\n     * &lt;p&gt;\n     * Any endpoint that requires defense against common vulnerabilities can be specified\n     * here, including public ones. See {@link HttpSecurity#authorizeRequests} and the\n     * `permitAll()` authorization rule for more details on public endpoints.\n     *\n     * @param http the {@link HttpSecurity} to modify\n     * @throws Exception if an error occurs\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.httpBasic().and()\n                .authorizeRequests()//\n                .antMatchers(HttpMethod.POST, &quot;/people&quot;).hasRole(&quot;ADMIN&quot;)//\n                .antMatchers(HttpMethod.PUT, &quot;/people/**&quot;).hasRole(&quot;SERVICE&quot;)//\n                .antMatchers(HttpMethod.PATCH, &quot;/people/**&quot;).hasRole(&quot;SERVICE&quot;)//\n                .antMatchers(HttpMethod.DELETE, &quot;/people/**&quot;).hasRole(&quot;ADMIN&quot;).and()\n                .csrf().disable()\n                .antMatcher(&quot;**/h2-console/**&quot;).authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7335122,"reputation":490,"user_id":5586793,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626411301,"creation_date":1626410958,"answer_id":68403570,"question_id":24060498,"body_markdown":"follow this steps&#39; assuming you have the bean class \r\n\r\n    @Entity\r\n    public class Question {\r\n        @Id\r\n        private int qId;\r\n        @Column\r\n        private String question;\r\n        private int userId;\r\n        private int votes;\r\n    }\r\n\r\nthe hibernate generate the code to insert is \r\n\r\n     insert \r\n        into\r\n            question\r\n            (question, user_id, votes, q_id) \r\n        values\r\n            (?, ?, ?, ?)\r\n\r\n\r\nensure to check qId to q_id. \r\n\r\nto connect to repository(I&#39;m using spring boot) \r\n\r\n\r\n \r\n\r\n     @Query(value = &quot;select votes from question where q_id=?1&quot;, nativeQuery = true)\r\n        public int findVotesForQuestion(int qId);","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>follow this steps' assuming you have the bean class</p>\n<pre><code>@Entity\npublic class Question {\n    @Id\n    private int qId;\n    @Column\n    private String question;\n    private int userId;\n    private int votes;\n}\n</code></pre>\n<p>the hibernate generate the code to insert is</p>\n<pre><code> insert \n    into\n        question\n        (question, user_id, votes, q_id) \n    values\n        (?, ?, ?, ?)\n</code></pre>\n<p>ensure to check qId to q_id.</p>\n<p>to connect to repository(I'm using spring boot)</p>\n<pre><code> @Query(value = &quot;select votes from question where q_id=?1&quot;, nativeQuery = true)\n    public int findVotesForQuestion(int qId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649396095,"creation_date":1649376914,"answer_id":71790303,"question_id":24060498,"body_markdown":"When writing @Queries with nativeQuery=true in Kotlin, (and maybe also Java?)\r\none must include the correct sql table name and column names on the queries.\r\n\r\nThis Fails:&lt;br&gt;\r\n`\r\n@Query(nativeQuery = true, value =&quot;SELECT u from PriceTier u WHERE u.startTime &lt; :now and (u.endTime is null or u.endTime &gt; :now) and u.amount &lt;= :amount and u.currency = :currency and u.tierLevel &gt;= :tierLevel order by u.tierLevel desc LIMIT 1&quot;)\r\n`\r\n\r\nAnd this works:&lt;br&gt;\r\n`\r\n@Query(nativeQuery = true, value =&quot;SELECT * from price_tier u WHERE u.start_time &lt; :now and (u.end_time is null or u.end_time &gt; :now) and u.amount &lt;= :amount and u.currency = :currency and u.tier_level &gt;= :tierLevel ORDER BY u.tier_level DESC LIMIT 1&quot;)\r\n`\r\n","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>When writing @Queries with nativeQuery=true in Kotlin, (and maybe also Java?)\none must include the correct sql table name and column names on the queries.</p>\n<p>This Fails:<br>\n<code>@Query(nativeQuery = true, value =&quot;SELECT u from PriceTier u WHERE u.startTime &lt; :now and (u.endTime is null or u.endTime &gt; :now) and u.amount &lt;= :amount and u.currency = :currency and u.tierLevel &gt;= :tierLevel order by u.tierLevel desc LIMIT 1&quot;)</code></p>\n<p>And this works:<br>\n<code>@Query(nativeQuery = true, value =&quot;SELECT * from price_tier u WHERE u.start_time &lt; :now and (u.end_time is null or u.end_time &gt; :now) and u.amount &lt;= :amount and u.currency = :currency and u.tier_level &gt;= :tierLevel ORDER BY u.tier_level DESC LIMIT 1&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":2676799,"reputation":286,"user_id":2313019,"display_name":"Hampus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649944564,"creation_date":1649944564,"answer_id":71872835,"question_id":24060498,"body_markdown":"For anyone who might be experiencing this but none of the solutions above helped. \r\nI got it working by setting these three parameters:\r\n\r\n    spring.datasource.url=jdbc:h2:file:ABSOLUTE_PATH_TO_DIR_IN_RESOURCES/db;AUTO_SERVER=true\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nddl-auto needs to be create drop in order for it to actually create the tables on start. (If you have not specified an schema.sql that is)","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>For anyone who might be experiencing this but none of the solutions above helped.\nI got it working by setting these three parameters:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:ABSOLUTE_PATH_TO_DIR_IN_RESOURCES/db;AUTO_SERVER=true\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>ddl-auto needs to be create drop in order for it to actually create the tables on start. (If you have not specified an schema.sql that is)</p>\n"},{"tags":[],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681047223,"creation_date":1681047223,"answer_id":75970838,"question_id":24060498,"body_markdown":"I was using h2 database for Spring Boot testing using @DataJpaTest. \r\nI created another application.properties under test/resources folder and add below properties - \r\n```\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\r\n#spring.datasource.username=\r\n#spring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```\r\nMy configuration was `ddl.auto = none`. But making `create-drop` solved the problem.\r\n","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>I was using h2 database for Spring Boot testing using @DataJpaTest.\nI created another application.properties under test/resources folder and add below properties -</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\n#spring.datasource.username=\n#spring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n<p>My configuration was <code>ddl.auto = none</code>. But making <code>create-drop</code> solved the problem.</p>\n"}],"owner":{"account_id":4565243,"reputation":1311,"user_id":3706420,"accept_rate":73,"display_name":"Dunken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140920,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":24060905,"answer_count":10,"score":12,"last_activity_date":1681047223,"creation_date":1401972026,"question_id":24060498,"body_markdown":"I have created two entities and am trying to fill one with data after loading it, to show it as a drop down list.\r\n\r\nI got the error\r\n\r\n&gt; org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\r\nThe `Group` entity that must be in the drop down list is:\r\n\r\n    @Entity\r\n    @Table(name=&quot;GROUP&quot;)\r\n    public class Group implements Serializable,Lifecycle{\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 5551707547269388327L;\r\n    \t@Id\r\n    \t@Column(name=&quot;ID&quot;)\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \t@Column(name=&quot;E_NAME&quot;)\r\n        private String eName;\r\n    \t@Column(name=&quot;A_NAME&quot;)\r\n        private String aName;\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String geteName() {\r\n    \t\treturn eName;\r\n    \t}\r\n    \tpublic void seteName(String eName) {\r\n    \t\tthis.eName = eName;\r\n    \t}\r\n    \tpublic String getaName() {\r\n    \t\treturn aName;\r\n    \t}\r\n    \tpublic void setaName(String aName) {\r\n    \t\tthis.aName = aName;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean onDelete(Session arg0) throws CallbackException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onLoad(Session session, Serializable arg1) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tGroup adminGroup =new Group();\r\n    \t\tGroup sectionAdminGroup =new Group();\r\n    \t\tGroup userGroup =new Group();\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tadminGroup.seteName(&quot;Admin&quot;);\r\n    \t\tsectionAdminGroup.seteName(&quot;Section Admin&quot;);\r\n    \t\tuserGroup.seteName(&quot;User&quot;);\r\n    \t\t\r\n    \t\tadminGroup.setaName(&quot;مسشرف عام&quot;);\r\n    \t\tsectionAdminGroup.setaName(&quot;مشرف قطاع&quot;);\r\n    \t\tuserGroup.setaName(&quot;مستخدم&quot;);\r\n    \t\t\r\n    \t\tsession.save(adminGroup);\r\n    \t\tsession.save(sectionAdminGroup);\r\n    \t\tsession.save(userGroup);\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean onSave(Session arg0) throws CallbackException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean onUpdate(Session arg0) throws CallbackException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe stack trace is:\r\n\r\n&gt; Caused by:\r\n&gt; \r\n&gt; org.hibernate.exception.SQLGrammarException: could not prepare\r\n&gt; statement \tat\r\n&gt; org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n&gt; \tat\r\n&gt; org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1884)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1861)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n&gt; \tat org.hibernate.loader.Loader.doQuery(Loader.java:909) \tat\r\n&gt; org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n&gt; \tat org.hibernate.loader.Loader.doList(Loader.java:2551) \tat\r\n&gt; org.hibernate.loader.Loader.doList(Loader.java:2537) \tat\r\n&gt; org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367) \tat\r\n&gt; org.hibernate.loader.Loader.list(Loader.java:2362) \tat\r\n&gt; org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\r\n&gt; \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1678) \tat\r\n&gt; org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380) \tat\r\n&gt; org.gaca.gms.dao.GenericDAOImpl.getAll(GenericDAOImpl.java:56) \tat\r\n&gt; org.gaca.gms.services.GenericServiceImpl.getAllObjects(GenericServiceImpl.java:61)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:483) \tat\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n&gt; \tat com.sun.proxy.$Proxy39.getAllObjects(Unknown Source) \tat\r\n&gt; org.gaca.gms.controllers.UsersController.listUsers(UsersController.java:43)\r\n&gt; \tat\r\n&gt; org.gaca.gms.controllers.UsersController$$FastClassBySpringCGLIB$$29260f80.invoke()\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n&gt; \tat\r\n&gt; org.gaca.gms.controllers.UsersController$$EnhancerBySpringCGLIB$$de07b585.listUsers()\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:483) \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n&gt; \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707) \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820) \tat\r\n&gt; org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n&gt; \tat org.mortbay.jetty.Server.handle(Server.java:324) \tat\r\n&gt; org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\r\n&gt; \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514) \tat\r\n&gt; org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211) \tat\r\n&gt; org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380) \tat\r\n&gt; org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n&gt; \tat\r\n&gt; org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\r\n&gt; Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement\r\n&gt; &quot;SELECT THIS_.ID AS ID1_0_0_, THIS_.A_NAME AS A_NAME2_0_0_,\r\n&gt; THIS_.E_NAME AS E_NAME3_0_0_ FROM GROUP[*] THIS_ &quot;; expected\r\n&gt; &quot;identifier&quot;; SQL statement: select this_.ID as ID1_0_0_, this_.A_NAME\r\n&gt; as A_NAME2_0_0_, this_.E_NAME as E_NAME3_0_0_ from GROUP this_\r\n&gt; [42001-178] \tat\r\n&gt; org.h2.message.DbException.getJdbcSQLException(DbException.java:344)\r\n&gt; \tat org.h2.message.DbException.getSyntaxError(DbException.java:204)\r\n&gt; \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:3024)\r\n&gt; \tat org.h2.command.Parser.readTableFilter(Parser.java:1185) \tat\r\n&gt; org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1859) \tat\r\n&gt; org.h2.command.Parser.parseSelectSimple(Parser.java:1968) \tat\r\n&gt; org.h2.command.Parser.parseSelectSub(Parser.java:1853) \tat\r\n&gt; org.h2.command.Parser.parseSelectUnion(Parser.java:1674) \tat\r\n&gt; org.h2.command.Parser.parseSelect(Parser.java:1662) \tat\r\n&gt; org.h2.command.Parser.parsePrepared(Parser.java:434) \tat\r\n&gt; org.h2.command.Parser.parse(Parser.java:306) \tat\r\n&gt; org.h2.command.Parser.parse(Parser.java:278) \tat\r\n&gt; org.h2.command.Parser.prepareCommand(Parser.java:243) \tat\r\n&gt; org.h2.engine.Session.prepareLocal(Session.java:442) \tat\r\n&gt; org.h2.engine.Session.prepareCommand(Session.java:384) \tat\r\n&gt; org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1188)\r\n&gt; \tat org.h2.jdbc.JdbcPreparedStatement.(JdbcPreparedStatement.java:73)\r\n&gt; \tat\r\n&gt; org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:276)\r\n&gt; \tat\r\n&gt; org.apache.commons.dbcp.DelegatingConnection.prepareStatement(DelegatingConnection.java:281)\r\n&gt; \tat\r\n&gt; org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.prepareStatement(PoolingDataSource.java:313)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n&gt; \t... 73 more\r\n&gt; \r\n&gt; Caused by:\r\n&gt; \r\n&gt; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;SELECT\r\n&gt; THIS_.ID AS ID1_0_0_, THIS_.A_NAME AS A_NAME2_0_0_, THIS_.E_NAME AS\r\n&gt; E_NAME3_0_0_ FROM GROUP[*] THIS_ &quot;; expected &quot;identifier&quot;; SQL\r\n&gt; statement: select this_.ID as ID1_0_0_, this_.A_NAME as A_NAME2_0_0_,\r\n&gt; this_.E_NAME as E_NAME3_0_0_ from GROUP this_ [42001-178] \tat\r\n&gt; org.h2.message.DbException.getJdbcSQLException(DbException.java:344)\r\n&gt; \tat org.h2.message.DbException.getSyntaxError(DbException.java:204)\r\n&gt; \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:3024)\r\n&gt; \tat org.h2.command.Parser.readTableFilter(Parser.java:1185) \tat\r\n&gt; org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1859) \tat\r\n&gt; org.h2.command.Parser.parseSelectSimple(Parser.java:1968) \tat\r\n&gt; org.h2.command.Parser.parseSelectSub(Parser.java:1853) \tat\r\n&gt; org.h2.command.Parser.parseSelectUnion(Parser.java:1674) \tat\r\n&gt; org.h2.command.Parser.parseSelect(Parser.java:1662) \tat\r\n&gt; org.h2.command.Parser.parsePrepared(Parser.java:434) \tat\r\n&gt; org.h2.command.Parser.parse(Parser.java:306) \tat\r\n&gt; org.h2.command.Parser.parse(Parser.java:278) \tat\r\n&gt; org.h2.command.Parser.prepareCommand(Parser.java:243) \tat\r\n&gt; org.h2.engine.Session.prepareLocal(Session.java:442) \tat\r\n&gt; org.h2.engine.Session.prepareCommand(Session.java:384) \tat\r\n&gt; org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1188)\r\n&gt; \tat org.h2.jdbc.JdbcPreparedStatement.(JdbcPreparedStatement.java:73)\r\n&gt; \tat\r\n&gt; org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:276)\r\n&gt; \tat\r\n&gt; org.apache.commons.dbcp.DelegatingConnection.prepareStatement(DelegatingConnection.java:281)\r\n&gt; \tat\r\n&gt; org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.prepareStatement(PoolingDataSource.java:313)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1884)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1861)\r\n&gt; \tat\r\n&gt; org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n&gt; \tat org.hibernate.loader.Loader.doQuery(Loader.java:909) \tat\r\n&gt; org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n&gt; \tat org.hibernate.loader.Loader.doList(Loader.java:2551) \tat\r\n&gt; org.hibernate.loader.Loader.doList(Loader.java:2537) \tat\r\n&gt; org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367) \tat\r\n&gt; org.hibernate.loader.Loader.list(Loader.java:2362) \tat\r\n&gt; org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\r\n&gt; \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1678) \tat\r\n&gt; org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380) \tat\r\n&gt; org.gaca.gms.dao.GenericDAOImpl.getAll(GenericDAOImpl.java:56) \tat\r\n&gt; org.gaca.gms.services.GenericServiceImpl.getAllObjects(GenericServiceImpl.java:61)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:483) \tat\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n&gt; \tat com.sun.proxy.$Proxy39.getAllObjects(Unknown Source) \tat\r\n&gt; org.gaca.gms.controllers.UsersController.listUsers(UsersController.java:43)\r\n&gt; \tat\r\n&gt; org.gaca.gms.controllers.UsersController$$FastClassBySpringCGLIB$$29260f80.invoke()\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n&gt; \tat\r\n&gt; org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n&gt; \tat\r\n&gt; org.gaca.gms.controllers.UsersController$$EnhancerBySpringCGLIB$$de07b585.listUsers()\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:483) \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n&gt; \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n&gt; \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707) \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820) \tat\r\n&gt; org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n&gt; \tat org.mortbay.jetty.Server.handle(Server.java:324) \tat\r\n&gt; org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n&gt; \tat\r\n&gt; org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\r\n&gt; \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514) \tat\r\n&gt; org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211) \tat\r\n&gt; org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380) \tat\r\n&gt; org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n&gt; \tat\r\n&gt; org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\r\n\r\nThis is my Spring controller:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t@RequestMapping(method=RequestMethod.GET)\r\n    \t\t  public String listUsers(Map&lt;String, Object&gt; map) {\r\n    \t \r\n    \t        map.put(&quot;user&quot;, new User());\r\n    \t        map.put(&quot;usersList&quot;, usersService.getAllObjects(User.class));\r\n    \t        map.put(&quot;groupsList&quot;, usersService.getAllObjects(Group.class));\r\n    \t        return &quot;index&quot;;\r\n    \t    }\r\n\r\nThis is my JSP page:\r\n \r\n\r\n    &lt;tr&gt;\r\n                      &lt;td&gt;groups&lt;/td&gt;\r\n                      &lt;td&gt;&lt;form:select path=&quot;selectedGroup&quot;&gt;\r\n                      &lt;form:options items=&quot;${groupsList}&quot;/&gt; \r\n                      &lt;/form:select&gt;&lt;/td&gt;\r\n                      &lt;/tr&gt;\r\n\r\n\r\n\r\nI am new to this. Can anybody help?","title":"org.hibernate.exception.SQLGrammarException: could not prepare statement","body":"<p>I have created two entities and am trying to fill one with data after loading it, to show it as a drop down list.</p>\n\n<p>I got the error</p>\n\n<blockquote>\n  <p>org.hibernate.exception.SQLGrammarException: could not prepare statement</p>\n</blockquote>\n\n<p>The <code>Group</code> entity that must be in the drop down list is:</p>\n\n<pre><code>@Entity\n@Table(name=\"GROUP\")\npublic class Group implements Serializable,Lifecycle{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 5551707547269388327L;\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue\n    private int id;\n    @Column(name=\"E_NAME\")\n    private String eName;\n    @Column(name=\"A_NAME\")\n    private String aName;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String geteName() {\n        return eName;\n    }\n    public void seteName(String eName) {\n        this.eName = eName;\n    }\n    public String getaName() {\n        return aName;\n    }\n    public void setaName(String aName) {\n        this.aName = aName;\n    }\n\n\n\n\n\n    @Override\n    public boolean onDelete(Session arg0) throws CallbackException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public void onLoad(Session session, Serializable arg1) {\n        // TODO Auto-generated method stub\n        Group adminGroup =new Group();\n        Group sectionAdminGroup =new Group();\n        Group userGroup =new Group();\n\n\n\n        adminGroup.seteName(\"Admin\");\n        sectionAdminGroup.seteName(\"Section Admin\");\n        userGroup.seteName(\"User\");\n\n        adminGroup.setaName(\"مسشرف عام\");\n        sectionAdminGroup.setaName(\"مشرف قطاع\");\n        userGroup.setaName(\"مستخدم\");\n\n        session.save(adminGroup);\n        session.save(sectionAdminGroup);\n        session.save(userGroup);\n    }\n    @Override\n    public boolean onSave(Session arg0) throws CallbackException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n    @Override\n    public boolean onUpdate(Session arg0) throws CallbackException {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>The stack trace is:</p>\n\n<blockquote>\n  <p>Caused by:</p>\n  \n  <p>org.hibernate.exception.SQLGrammarException: could not prepare\n  statement     at\n  org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    at\n  org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at\n  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:196)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\n    at\n  org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1884)\n    at\n  org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1861)\n    at\n  org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:909)     at\n  org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\n    at org.hibernate.loader.Loader.doList(Loader.java:2551)     at\n  org.hibernate.loader.Loader.doList(Loader.java:2537)  at\n  org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)    at\n  org.hibernate.loader.Loader.list(Loader.java:2362)    at\n  org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1678)   at\n  org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)   at\n  org.gaca.gms.dao.GenericDAOImpl.getAll(GenericDAOImpl.java:56)    at\n  org.gaca.gms.services.GenericServiceImpl.getAllObjects(GenericServiceImpl.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)     at\n  org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy39.getAllObjects(Unknown Source)     at\n  org.gaca.gms.controllers.UsersController.listUsers(UsersController.java:43)\n    at\n  org.gaca.gms.controllers.UsersController$$FastClassBySpringCGLIB$$29260f80.invoke()\n    at\n  org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at\n  org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at\n  org.gaca.gms.controllers.UsersController$$EnhancerBySpringCGLIB$$de07b585.listUsers()\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)     at\n  org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\n    at\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)     at\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)     at\n  org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at\n  org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\n    at\n  org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at\n  org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n    at\n  org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\n    at\n  org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\n    at\n  org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\n    at\n  org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:324)     at\n  org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\n    at\n  org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)  at\n  org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)  at\n  org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)  at\n  org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\n    at\n  org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\n  Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement\n  \"SELECT THIS_.ID AS ID1_0_0_, THIS_.A_NAME AS A_NAME2_0_0_,\n  THIS_.E_NAME AS E_NAME3_0_0_ FROM GROUP[*] THIS_ \"; expected\n  \"identifier\"; SQL statement: select this_.ID as ID1_0_0_, this_.A_NAME\n  as A_NAME2_0_0_, this_.E_NAME as E_NAME3_0_0_ from GROUP this_\n  [42001-178]   at\n  org.h2.message.DbException.getJdbcSQLException(DbException.java:344)\n    at org.h2.message.DbException.getSyntaxError(DbException.java:204)\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:3024)\n    at org.h2.command.Parser.readTableFilter(Parser.java:1185)  at\n  org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1859)     at\n  org.h2.command.Parser.parseSelectSimple(Parser.java:1968)     at\n  org.h2.command.Parser.parseSelectSub(Parser.java:1853)    at\n  org.h2.command.Parser.parseSelectUnion(Parser.java:1674)  at\n  org.h2.command.Parser.parseSelect(Parser.java:1662)   at\n  org.h2.command.Parser.parsePrepared(Parser.java:434)  at\n  org.h2.command.Parser.parse(Parser.java:306)  at\n  org.h2.command.Parser.parse(Parser.java:278)  at\n  org.h2.command.Parser.prepareCommand(Parser.java:243)     at\n  org.h2.engine.Session.prepareLocal(Session.java:442)  at\n  org.h2.engine.Session.prepareCommand(Session.java:384)    at\n  org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1188)\n    at org.h2.jdbc.JdbcPreparedStatement.(JdbcPreparedStatement.java:73)\n    at\n  org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:276)\n    at\n  org.apache.commons.dbcp.DelegatingConnection.prepareStatement(DelegatingConnection.java:281)\n    at\n  org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.prepareStatement(PoolingDataSource.java:313)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    ... 73 more</p>\n  \n  <p>Caused by:</p>\n  \n  <p>org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement \"SELECT\n  THIS_.ID AS ID1_0_0_, THIS_.A_NAME AS A_NAME2_0_0_, THIS_.E_NAME AS\n  E_NAME3_0_0_ FROM GROUP[*] THIS_ \"; expected \"identifier\"; SQL\n  statement: select this_.ID as ID1_0_0_, this_.A_NAME as A_NAME2_0_0_,\n  this_.E_NAME as E_NAME3_0_0_ from GROUP this_ [42001-178]     at\n  org.h2.message.DbException.getJdbcSQLException(DbException.java:344)\n    at org.h2.message.DbException.getSyntaxError(DbException.java:204)\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:3024)\n    at org.h2.command.Parser.readTableFilter(Parser.java:1185)  at\n  org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:1859)     at\n  org.h2.command.Parser.parseSelectSimple(Parser.java:1968)     at\n  org.h2.command.Parser.parseSelectSub(Parser.java:1853)    at\n  org.h2.command.Parser.parseSelectUnion(Parser.java:1674)  at\n  org.h2.command.Parser.parseSelect(Parser.java:1662)   at\n  org.h2.command.Parser.parsePrepared(Parser.java:434)  at\n  org.h2.command.Parser.parse(Parser.java:306)  at\n  org.h2.command.Parser.parse(Parser.java:278)  at\n  org.h2.command.Parser.prepareCommand(Parser.java:243)     at\n  org.h2.engine.Session.prepareLocal(Session.java:442)  at\n  org.h2.engine.Session.prepareCommand(Session.java:384)    at\n  org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1188)\n    at org.h2.jdbc.JdbcPreparedStatement.(JdbcPreparedStatement.java:73)\n    at\n  org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:276)\n    at\n  org.apache.commons.dbcp.DelegatingConnection.prepareStatement(DelegatingConnection.java:281)\n    at\n  org.apache.commons.dbcp.PoolingDataSource$PoolGuardConnectionWrapper.prepareStatement(PoolingDataSource.java:313)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:162)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at\n  org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:160)\n    at\n  org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1884)\n    at\n  org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1861)\n    at\n  org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:909)     at\n  org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\n    at org.hibernate.loader.Loader.doList(Loader.java:2551)     at\n  org.hibernate.loader.Loader.doList(Loader.java:2537)  at\n  org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)    at\n  org.hibernate.loader.Loader.list(Loader.java:2362)    at\n  org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1678)   at\n  org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)   at\n  org.gaca.gms.dao.GenericDAOImpl.getAll(GenericDAOImpl.java:56)    at\n  org.gaca.gms.services.GenericServiceImpl.getAllObjects(GenericServiceImpl.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)     at\n  org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy39.getAllObjects(Unknown Source)     at\n  org.gaca.gms.controllers.UsersController.listUsers(UsersController.java:43)\n    at\n  org.gaca.gms.controllers.UsersController$$FastClassBySpringCGLIB$$29260f80.invoke()\n    at\n  org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at\n  org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at\n  org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at\n  org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at\n  org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at\n  org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at\n  org.gaca.gms.controllers.UsersController$$EnhancerBySpringCGLIB$$de07b585.listUsers()\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)     at\n  org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\n    at\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\n    at\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n    at\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)     at\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)     at\n  org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at\n  org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\n    at\n  org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at\n  org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n    at\n  org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\n    at\n  org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\n    at\n  org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\n    at\n  org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:324)     at\n  org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\n    at\n  org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)  at\n  org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)  at\n  org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)  at\n  org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\n    at\n  org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)</p>\n</blockquote>\n\n<p>This is my Spring controller:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n        @RequestMapping(method=RequestMethod.GET)\n          public String listUsers(Map&lt;String, Object&gt; map) {\n\n            map.put(\"user\", new User());\n            map.put(\"usersList\", usersService.getAllObjects(User.class));\n            map.put(\"groupsList\", usersService.getAllObjects(Group.class));\n            return \"index\";\n        }\n</code></pre>\n\n<p>This is my JSP page:</p>\n\n<pre><code>&lt;tr&gt;\n                  &lt;td&gt;groups&lt;/td&gt;\n                  &lt;td&gt;&lt;form:select path=\"selectedGroup\"&gt;\n                  &lt;form:options items=\"${groupsList}\"/&gt; \n                  &lt;/form:select&gt;&lt;/td&gt;\n                  &lt;/tr&gt;\n</code></pre>\n\n<p>I am new to this. Can anybody help?</p>\n"},{"tags":["java","spring","environment-variables"],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681047186,"creation_date":1681047186,"question_id":75970833,"body_markdown":"I have the following configuration in my spring xml:\r\n\r\n```\r\n    &lt;jee:jndi-lookup expected-type=&quot;java.lang.String&quot; id=&quot;isTestSystem&quot; jndi-name=&quot;java:comp/env/isTestSystem&quot; /&gt;\r\n    &lt;jee:jndi-lookup expected-type=&quot;java.lang.String&quot; id=&quot;webURL&quot; jndi-name=&quot;java:comp/env/webURL&quot; /&gt;\r\n```\r\n\r\nAnd those are ```@Autowired``` into the code:\r\n\r\n```\r\n@Autowired private String webURL = null;\r\n@Autowired private String isTestSystem = null;\r\n```\r\n\r\nTheir getters and setters are standard get() and set(). I&#39;m getting the following message:\r\n\r\n```\r\n[Time: 09 Apr 2023 09:29:17,438][Thread: main][Log: org.springframework.web.context.support.XmlWebApplicationContext][Level: WARN ] - [File: AbstractApplicationContext.java:591] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.context.support.ServletContextAttributeExporter#0&#39; defined in class path resource [eSolutions/eSolutions-servlet.xml]: Cannot resolve reference to bean &#39;appConfig&#39; while setting bean property &#39;attributes&#39; with key [TypedStringValue: value [appBean], target type [null]]; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appConfig&#39;: Unsatisfied dependency expressed through field &#39;homePage&#39;; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected single matching bean but found 2: isTestSystem,webURL\r\n```\r\n\r\nIt appears to be complaining that there are 2 string values available in the naming environment but I can&#39;t understand why. Any ideas?\r\n","title":"Multiple string environment variables and Spriing jee:jndi-lookup","body":"<p>I have the following configuration in my spring xml:</p>\n<pre><code>    &lt;jee:jndi-lookup expected-type=&quot;java.lang.String&quot; id=&quot;isTestSystem&quot; jndi-name=&quot;java:comp/env/isTestSystem&quot; /&gt;\n    &lt;jee:jndi-lookup expected-type=&quot;java.lang.String&quot; id=&quot;webURL&quot; jndi-name=&quot;java:comp/env/webURL&quot; /&gt;\n</code></pre>\n<p>And those are <code>@Autowired</code> into the code:</p>\n<pre><code>@Autowired private String webURL = null;\n@Autowired private String isTestSystem = null;\n</code></pre>\n<p>Their getters and setters are standard get() and set(). I'm getting the following message:</p>\n<pre><code>[Time: 09 Apr 2023 09:29:17,438][Thread: main][Log: org.springframework.web.context.support.XmlWebApplicationContext][Level: WARN ] - [File: AbstractApplicationContext.java:591] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.context.support.ServletContextAttributeExporter#0' defined in class path resource [eSolutions/eSolutions-servlet.xml]: Cannot resolve reference to bean 'appConfig' while setting bean property 'attributes' with key [TypedStringValue: value [appBean], target type [null]]; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig': Unsatisfied dependency expressed through field 'homePage'; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected single matching bean but found 2: isTestSystem,webURL\n</code></pre>\n<p>It appears to be complaining that there are 2 string values available in the naming environment but I can't understand why. Any ideas?</p>\n"},{"tags":["java","spring","oop","design-patterns"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1681050054,"post_id":75970809,"comment_id":133993348,"body_markdown":"why can&#39;t you just create a new instance: ```IClassA c = new ClassAImpl(new ClientServerImpl(key));``` ? If you don&#39;t have access to the class/constructor and inly to the interface, maybe the interface should expose a static factory method. Or use the abstract factory pattern for instantiating it","body":"why can&#39;t you just create a new instance: <code>IClassA c = new ClassAImpl(new ClientServerImpl(key));</code> ? If you don&#39;t have access to the class/constructor and inly to the interface, maybe the interface should expose a static factory method. Or use the abstract factory pattern for instantiating it"}],"owner":{"account_id":15757876,"reputation":119,"user_id":11370492,"display_name":"underachiever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681046867,"creation_date":1681046867,"question_id":75970809,"body_markdown":"I have an interface named IClientServer.java\r\n```\r\ninterface IClientServer {\r\n   void save(String fileName);\r\n}\r\n```\r\n\r\nIt&#39;s Impl looks this way:\r\n\r\n```\r\npublic class ClientServerImpl implements IClientServer {\r\n\r\n    private final String key;\r\n    private final Client client;\r\n\r\n    public ClientServerImpl(final String key1, final String key2) {\r\n        this.key = key1 + key2;\r\n        this.client = openConnection(key);\r\n    }\r\n\r\n    @Override\r\n    public void save(String fileName) {\r\n    client.save(fileName);\r\n....\r\n  }\r\n}\r\n```\r\n\r\nNote that the above Interface and Impl are in a common project accessible to all projects and every project currently using this initialize the bean per their own keys at the configuration level and use them directly.\r\n\r\nI now have to create an API that is also in a common project that will need to access the ClientServer\r\n\r\nNew class: IClassA.java\r\n\r\n``` \r\npublic interface IClassA {\r\n   void save(boolean validate, String fileName);\r\n}\r\n```\r\n\r\nIt&#39;s Impl:\r\n```\r\npublic class classA implements IClassA {\r\n\r\n    private final IClientServer clientServer;\r\n\r\n    public classA(IClientServer clientServer) {\r\n        this.clientServer = clientServer;\r\n    }\r\n\r\n    @Override\r\n    public void save(boolean validate, String fileName) {\r\n    //perform computation and then proceed to save\r\n    clientServer.save(fileName);\r\n....\r\n  }\r\n}\r\n```\r\n\r\nNow, `classA.save()` is invoked after consuming a Kafka Record from the topic.\r\n\r\nSince IClassA is also in the common library, how do I initialize `ClientServerImpl` with dynamic keys specific to the caller? \r\n\r\nPS: I can have both the keys as part of the kafka record if it&#39;s needed. ","title":"Java Design Pattern for initializing dynamic private variable","body":"<p>I have an interface named IClientServer.java</p>\n<pre><code>interface IClientServer {\n   void save(String fileName);\n}\n</code></pre>\n<p>It's Impl looks this way:</p>\n<pre><code>public class ClientServerImpl implements IClientServer {\n\n    private final String key;\n    private final Client client;\n\n    public ClientServerImpl(final String key1, final String key2) {\n        this.key = key1 + key2;\n        this.client = openConnection(key);\n    }\n\n    @Override\n    public void save(String fileName) {\n    client.save(fileName);\n....\n  }\n}\n</code></pre>\n<p>Note that the above Interface and Impl are in a common project accessible to all projects and every project currently using this initialize the bean per their own keys at the configuration level and use them directly.</p>\n<p>I now have to create an API that is also in a common project that will need to access the ClientServer</p>\n<p>New class: IClassA.java</p>\n<pre><code>public interface IClassA {\n   void save(boolean validate, String fileName);\n}\n</code></pre>\n<p>It's Impl:</p>\n<pre><code>public class classA implements IClassA {\n\n    private final IClientServer clientServer;\n\n    public classA(IClientServer clientServer) {\n        this.clientServer = clientServer;\n    }\n\n    @Override\n    public void save(boolean validate, String fileName) {\n    //perform computation and then proceed to save\n    clientServer.save(fileName);\n....\n  }\n}\n</code></pre>\n<p>Now, <code>classA.save()</code> is invoked after consuming a Kafka Record from the topic.</p>\n<p>Since IClassA is also in the common library, how do I initialize <code>ClientServerImpl</code> with dynamic keys specific to the caller?</p>\n<p>PS: I can have both the keys as part of the kafka record if it's needed.</p>\n"},{"tags":["java","flask","httpurlconnection","keep-alive","persistent-connection"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680913434,"post_id":75962438,"comment_id":133980137,"body_markdown":"It looks to me like your client code creates a new connection each time through the loop.  I&#39;d explore putting &#39;openConnection&#39; before the loop. That means you&#39;ll need a solution to finding end-of-response other than reading until the end.  Oh, and &#39;connection: keep-alive&#39; is not an HTTP/1.1 thing. The assumption is that it&#39;s kept open unless &#39;connection: close&#39;, i.e., the reverse of HTTP/1.0.","body":"It looks to me like your client code creates a new connection each time through the loop.  I&#39;d explore putting &#39;openConnection&#39; before the loop. That means you&#39;ll need a solution to finding end-of-response other than reading until the end.  Oh, and &#39;connection: keep-alive&#39; is not an HTTP/1.1 thing. The assumption is that it&#39;s kept open unless &#39;connection: close&#39;, i.e., the reverse of HTTP/1.0."},{"owner":{"account_id":28244935,"reputation":23,"user_id":21592144,"display_name":"capalloc"},"score":0,"creation_date":1680950860,"post_id":75962438,"comment_id":133983179,"body_markdown":"@ArfurNarf I&#39;ve tried it and it sounds like a solution to mimic persistent unidirectional server-to-client communication (Flask waits for the entire message before entering the &#39;hello_world&#39; routine so only works for response side) but in my setup, I intend to also send multiple requests along with their responses. Does Java still send &#39;Connection: keep-alive&#39; for backward compatibility, even if its using HTTP/1.1?","body":"@ArfurNarf I&#39;ve tried it and it sounds like a solution to mimic persistent unidirectional server-to-client communication (Flask waits for the entire message before entering the &#39;hello_world&#39; routine so only works for response side) but in my setup, I intend to also send multiple requests along with their responses. Does Java still send &#39;Connection: keep-alive&#39; for backward compatibility, even if its using HTTP/1.1?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680961793,"post_id":75962438,"comment_id":133984446,"body_markdown":"I don&#39;t follow what you mean.  But, to be clear, I have no trouble maintaining persistent connections to a Flask server.  In my case, the client code is also Python (using http.client).","body":"I don&#39;t follow what you mean.  But, to be clear, I have no trouble maintaining persistent connections to a Flask server.  In my case, the client code is also Python (using http.client)."},{"owner":{"account_id":28244935,"reputation":23,"user_id":21592144,"display_name":"capalloc"},"score":0,"creation_date":1681046243,"post_id":75962438,"comment_id":133992846,"body_markdown":"@ArfurNarf Werkzeug dropped support for persistent connections in early 2022, which explains the issues I had because I have been using the development WSGI server. Maybe you were using an earlier version of Werkzeug or using a deployment WSGI server. See my answer below.","body":"@ArfurNarf Werkzeug dropped support for persistent connections in early 2022, which explains the issues I had because I have been using the development WSGI server. Maybe you were using an earlier version of Werkzeug or using a deployment WSGI server. See my answer below."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681048983,"post_id":75962438,"comment_id":133993207,"body_markdown":"Hmm, I suppose I never noticed that change in werkzeug; but I no longer use it. Thanks.","body":"Hmm, I suppose I never noticed that change in werkzeug; but I no longer use it. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":28244935,"reputation":23,"user_id":21592144,"display_name":"capalloc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681046045,"creation_date":1681046045,"answer_id":75970736,"question_id":75962438,"body_markdown":"I had been trying to achieve persistent connection using the WSGI server Flask comes packaged with called Werkzeug. When I switched to a deployment WSGI server, in my case Waitress, `keep-alive` started to work and TCP connections stopped being dropped. The issue was being caused by a change in Werkzeug implementation. Their change log for `Version 2.1.2` released in 2022-04-28 states:\r\n\r\n&gt; Disable keep-alive connections in the development server, which are not supported sufficiently by Python’s `http.server`. [#2397][1]\r\n\r\nWerkzeug team removed the persistent connection support due to the shortcomings of `http.server` which it extends. While it is understandable that the lack of `keep-alive` function may not be essential in a development environment, it is frustrating that there is very little to no communication about this in the Internet.\r\n\r\n  [1]: https://github.com/pallets/werkzeug/issues/2397","title":"Why doesn&#39;t Flask establish persistent HTTP connection with multiple requests from Java application using HttpURLConnection?","body":"<p>I had been trying to achieve persistent connection using the WSGI server Flask comes packaged with called Werkzeug. When I switched to a deployment WSGI server, in my case Waitress, <code>keep-alive</code> started to work and TCP connections stopped being dropped. The issue was being caused by a change in Werkzeug implementation. Their change log for <code>Version 2.1.2</code> released in 2022-04-28 states:</p>\n<blockquote>\n<p>Disable keep-alive connections in the development server, which are not supported sufficiently by Python’s <code>http.server</code>. <a href=\"https://github.com/pallets/werkzeug/issues/2397\" rel=\"nofollow noreferrer\">#2397</a></p>\n</blockquote>\n<p>Werkzeug team removed the persistent connection support due to the shortcomings of <code>http.server</code> which it extends. While it is understandable that the lack of <code>keep-alive</code> function may not be essential in a development environment, it is frustrating that there is very little to no communication about this in the Internet.</p>\n"}],"owner":{"account_id":28244935,"reputation":23,"user_id":21592144,"display_name":"capalloc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75970736,"answer_count":1,"score":2,"last_activity_date":1681046045,"creation_date":1680907836,"question_id":75962438,"body_markdown":"I have a minor project which will involve repeated HTTPS communication between a Java application and a Flask web server such that keeping the TCP connection alive is important. In order to test and understand the capabilities of these technologies, I have set up a simple GET request generator which sends multiple GET requests with time invertals to my simple Flask web server application and return a response. In such a setup, I would expect the TCP connection to be cached but I think my Flask application disconnects the connection after each response. Beware that I am quite rusty with Java and it is my first time getting acquainted with Flask.\r\n\r\nMy Java GET request generator is like below:\r\n\r\n\r\n```lang-java\r\npackage com.deu;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            sendHttpRequests(&quot;http://127.0.0.1:5000&quot;, 1000, 5);\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void sendHttpRequests(String url, int interval, int count) throws IOException, InterruptedException {\r\n        URL hostURL = new URL(url);\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            HttpURLConnection httpConn = (HttpURLConnection) hostURL.openConnection();\r\n            httpConn.setRequestMethod(&quot;GET&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(httpConn.getInputStream()));\r\n            StringBuilder response = new StringBuilder();\r\n            String line;\r\n\r\n            while ((line = reader.readLine()) != null)\r\n                response.append(line);\r\n\r\n            System.out.println(&quot;Response to i=&quot;+i+&quot; &quot;+response.toString());\r\n            reader.close();\r\n\r\n            Thread.sleep(interval);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nMy Flask web server application is like below:\r\n\r\n\r\n```lang-python\r\nimport flask\r\nfrom flask import Flask, request\r\nfrom werkzeug.serving import WSGIRequestHandler\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n@app.route(&#39;/&#39;, methods=[&#39;GET&#39;])\r\ndef hello_world():\r\n    resp = flask.Response(&quot;Hello World!&quot;)\r\n    print(request.headers)\r\n    print(resp.headers)\r\n\r\n    return resp\r\n\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    WSGIRequestHandler.protocol_version = &quot;HTTP/1.1&quot;\r\n    app.run()\r\n\r\n```\r\n\r\nAfter the Java application terminates, the outputs I get for Java and Flask applications respectively are:\r\n\r\n```lang-none\r\nResponse to i=0 Hello World!\r\nResponse to i=1 Hello World!\r\nResponse to i=2 Hello World!\r\nResponse to i=3 Hello World!\r\nResponse to i=4 Hello World!\r\n```\r\n\r\n\r\n```lang-none\r\nFLASK_APP = app.py\r\nFLASK_ENV = development\r\nFLASK_DEBUG = 0\r\nIn folder B:/Development/Projects/Python/ProjectABC\r\nB:\\Development\\Projects\\Python\\ProjectABC\\venv\\Scripts\\python.exe -m flask run\r\n * Serving Flask app &#39;app.py&#39;\r\n * Debug mode: off\r\nWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\r\n * Running on http://127.0.0.1:5000\r\nPress CTRL+C to quit\r\nUser-Agent: Java/17.0.1\r\nHost: 127.0.0.1:5000\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 12\r\n\r\n\r\n127.0.0.1 - - [08/Apr/2023 01:26:28] &quot;GET / HTTP/1.1&quot; 200 -\r\n127.0.0.1 - - [08/Apr/2023 01:26:29] &quot;GET / HTTP/1.1&quot; 200 -\r\nUser-Agent: Java/17.0.1\r\nHost: 127.0.0.1:5000\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 12\r\n\r\n\r\nUser-Agent: Java/17.0.1\r\nHost: 127.0.0.1:5000\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 12\r\n\r\n\r\n127.0.0.1 - - [08/Apr/2023 01:26:30] &quot;GET / HTTP/1.1&quot; 200 -\r\nUser-Agent: Java/17.0.1\r\nHost: 127.0.0.1:5000\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 12\r\n\r\n\r\n127.0.0.1 - - [08/Apr/2023 01:26:31] &quot;GET / HTTP/1.1&quot; 200 -\r\nUser-Agent: Java/17.0.1\r\nHost: 127.0.0.1:5000\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n\r\nContent-Type: text/html; charset=utf-8\r\nContent-Length: 12\r\n\r\n\r\n127.0.0.1 - - [08/Apr/2023 01:26:32] &quot;GET / HTTP/1.1&quot; 200 -\r\n\r\n```\r\nAs can be seen, the requests receive responses as expected and even the request headers Flask application received shows the presence of `Connection: keep-alive`. But the reason I think a new TCP connection is created each time are that the response headers do not contain `Connection: keep-alive` and the output of `netstat` cmd command:\r\n\r\n\r\n```lang-none\r\nActive Connections\r\n\r\n  Proto  Local Address          Foreign Address        State\r\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52821  TIME_WAIT\r\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52823  TIME_WAIT\r\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52824  TIME_WAIT\r\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52830  TIME_WAIT\r\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52831  TIME_WAIT\r\n```\r\n\r\nIf my understanding of the output is correct (please correct me if I am wrong), 5 different TCP connections were made and now the OS is waiting to clear them, indicating `keep-alive` has failed. I searched other questions for answers and tried putting `WSGIRequestHandler.protocol_version = &quot;HTTP/1.1&quot;` but to no avail.\r\n\r\nNote: I am trying to achieve persistent connection using HTTP first, after which I will apply it to HTTPS.\r\n","title":"Why doesn&#39;t Flask establish persistent HTTP connection with multiple requests from Java application using HttpURLConnection?","body":"<p>I have a minor project which will involve repeated HTTPS communication between a Java application and a Flask web server such that keeping the TCP connection alive is important. In order to test and understand the capabilities of these technologies, I have set up a simple GET request generator which sends multiple GET requests with time invertals to my simple Flask web server application and return a response. In such a setup, I would expect the TCP connection to be cached but I think my Flask application disconnects the connection after each response. Beware that I am quite rusty with Java and it is my first time getting acquainted with Flask.</p>\n<p>My Java GET request generator is like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.deu;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        try {\n            sendHttpRequests(&quot;http://127.0.0.1:5000&quot;, 1000, 5);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void sendHttpRequests(String url, int interval, int count) throws IOException, InterruptedException {\n        URL hostURL = new URL(url);\n\n        for (int i = 0; i &lt; count; i++) {\n            HttpURLConnection httpConn = (HttpURLConnection) hostURL.openConnection();\n            httpConn.setRequestMethod(&quot;GET&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(httpConn.getInputStream()));\n            StringBuilder response = new StringBuilder();\n            String line;\n\n            while ((line = reader.readLine()) != null)\n                response.append(line);\n\n            System.out.println(&quot;Response to i=&quot;+i+&quot; &quot;+response.toString());\n            reader.close();\n\n            Thread.sleep(interval);\n        }\n    }\n\n}\n\n</code></pre>\n<p>My Flask web server application is like below:</p>\n<pre class=\"lang-python prettyprint-override\"><code>import flask\nfrom flask import Flask, request\nfrom werkzeug.serving import WSGIRequestHandler\n\napp = Flask(__name__)\n\n\n@app.route('/', methods=['GET'])\ndef hello_world():\n    resp = flask.Response(&quot;Hello World!&quot;)\n    print(request.headers)\n    print(resp.headers)\n\n    return resp\n\n\nif __name__ == '__main__':\n    WSGIRequestHandler.protocol_version = &quot;HTTP/1.1&quot;\n    app.run()\n\n</code></pre>\n<p>After the Java application terminates, the outputs I get for Java and Flask applications respectively are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Response to i=0 Hello World!\nResponse to i=1 Hello World!\nResponse to i=2 Hello World!\nResponse to i=3 Hello World!\nResponse to i=4 Hello World!\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>FLASK_APP = app.py\nFLASK_ENV = development\nFLASK_DEBUG = 0\nIn folder B:/Development/Projects/Python/ProjectABC\nB:\\Development\\Projects\\Python\\ProjectABC\\venv\\Scripts\\python.exe -m flask run\n * Serving Flask app 'app.py'\n * Debug mode: off\nWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\n * Running on http://127.0.0.1:5000\nPress CTRL+C to quit\nUser-Agent: Java/17.0.1\nHost: 127.0.0.1:5000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\n\n\nContent-Type: text/html; charset=utf-8\nContent-Length: 12\n\n\n127.0.0.1 - - [08/Apr/2023 01:26:28] &quot;GET / HTTP/1.1&quot; 200 -\n127.0.0.1 - - [08/Apr/2023 01:26:29] &quot;GET / HTTP/1.1&quot; 200 -\nUser-Agent: Java/17.0.1\nHost: 127.0.0.1:5000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\n\n\nContent-Type: text/html; charset=utf-8\nContent-Length: 12\n\n\nUser-Agent: Java/17.0.1\nHost: 127.0.0.1:5000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\n\n\nContent-Type: text/html; charset=utf-8\nContent-Length: 12\n\n\n127.0.0.1 - - [08/Apr/2023 01:26:30] &quot;GET / HTTP/1.1&quot; 200 -\nUser-Agent: Java/17.0.1\nHost: 127.0.0.1:5000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\n\n\nContent-Type: text/html; charset=utf-8\nContent-Length: 12\n\n\n127.0.0.1 - - [08/Apr/2023 01:26:31] &quot;GET / HTTP/1.1&quot; 200 -\nUser-Agent: Java/17.0.1\nHost: 127.0.0.1:5000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\n\n\nContent-Type: text/html; charset=utf-8\nContent-Length: 12\n\n\n127.0.0.1 - - [08/Apr/2023 01:26:32] &quot;GET / HTTP/1.1&quot; 200 -\n\n</code></pre>\n<p>As can be seen, the requests receive responses as expected and even the request headers Flask application received shows the presence of <code>Connection: keep-alive</code>. But the reason I think a new TCP connection is created each time are that the response headers do not contain <code>Connection: keep-alive</code> and the output of <code>netstat</code> cmd command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Active Connections\n\n  Proto  Local Address          Foreign Address        State\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52821  TIME_WAIT\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52823  TIME_WAIT\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52824  TIME_WAIT\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52830  TIME_WAIT\n  TCP    127.0.0.1:5000         DESKTOP-XXXXXXX:52831  TIME_WAIT\n</code></pre>\n<p>If my understanding of the output is correct (please correct me if I am wrong), 5 different TCP connections were made and now the OS is waiting to clear them, indicating <code>keep-alive</code> has failed. I searched other questions for answers and tried putting <code>WSGIRequestHandler.protocol_version = &quot;HTTP/1.1&quot;</code> but to no avail.</p>\n<p>Note: I am trying to achieve persistent connection using HTTP first, after which I will apply it to HTTPS.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1681050526,"post_id":75970672,"comment_id":133993396,"body_markdown":"Probably &quot;Preferences &gt; Java &gt; Installed JREs &gt; Execution Environments&quot; Select JavaSE-19 and choose the appropriate JRE.","body":"Probably &quot;Preferences &gt; Java &gt; Installed JREs &gt; Execution Environments&quot; Select JavaSE-19 and choose the appropriate JRE."}],"owner":{"account_id":14919577,"reputation":11,"user_id":10772349,"display_name":"Juan Hern&#225;ndez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681045433,"creation_date":1681045433,"question_id":75970672,"body_markdown":"I&#39;m working on a new computer and I`m getting an error I never had before when creating a Java project on Eclipse (The one in the title).\r\n\r\n I&#39;ve done a little research and the error can be fixed by going to Project &gt; Properties &gt; Java Build Path &gt; Libraries, then remove the one is causing the error and adding JRE System Library (I don&#39;t really understand why it works in the first place).\r\n\r\nBut this only fixes the problem for this project, if I were to create a new one it will happen again.\r\n\r\nIs there any global configuration I can apply to fix it? Thanks :)\r\n\r\n[![this is the error I get](https://i.stack.imgur.com/6sjno.png)](https://i.stack.imgur.com/6sjno.png)","title":"Unbound classpasth container: &#39;JRE System Library[JavaSE-19]&#39; in project &#39;name&#39;","body":"<p>I'm working on a new computer and I`m getting an error I never had before when creating a Java project on Eclipse (The one in the title).</p>\n<p>I've done a little research and the error can be fixed by going to Project &gt; Properties &gt; Java Build Path &gt; Libraries, then remove the one is causing the error and adding JRE System Library (I don't really understand why it works in the first place).</p>\n<p>But this only fixes the problem for this project, if I were to create a new one it will happen again.</p>\n<p>Is there any global configuration I can apply to fix it? Thanks :)</p>\n<p><a href=\"https://i.stack.imgur.com/6sjno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6sjno.png\" alt=\"this is the error I get\" /></a></p>\n"},{"tags":["python","java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":24401476,"reputation":1704,"user_id":18400908,"display_name":"Сергей Кох"},"score":0,"creation_date":1681023274,"post_id":75967302,"comment_id":133990475,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26684041,"reputation":59,"user_id":20293622,"display_name":"ASD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681045015,"creation_date":1680982303,"question_id":75967302,"body_markdown":"I am developing an app with kivy framework(on python), and i use [pushyy](https://github.com/Fox520/pushyy), its a library that let me to recieve and show up notifications when app is in background, but i dont know how to make them showing up when app is in foreground, docs below:\r\n\r\nP.S.: I am very new at java so can you please answer with more details if it wont be difficult for you, Thanl you!\r\n\r\nContextHolder.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\n\r\npublic class ContextHolder {\r\n    private static Context applicationContext;\r\n\r\n    public static Context getApplicationContext() {\r\n        return applicationContext;\r\n    }\r\n\r\n    public static void setApplicationContext(Context applicationContext) {\r\n        Log.d(&quot;KVFireContextHolder&quot;, &quot;received application context.&quot;);\r\n        ContextHolder.applicationContext = applicationContext;\r\n    }\r\n}\r\n```\r\n\r\nKivyFirebaseMessagingBackgroundExecutor.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\nimport android.util.Log;\r\n\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic class KivyFirebaseMessagingBackgroundExecutor {\r\nprivate static AtomicBoolean started = new AtomicBoolean(false);\r\n    public static void startBackgroundPythonService() {\r\n\r\n        Log.d(&quot;BackgroundExecutor&quot;, &quot;Starting background service&quot;);\r\n        ru.asoms.myapp.ServicePythonnotificationhandler.start(ContextHolder.getApplicationContext(), &quot;&quot;);\r\n        Log.d(&quot;BackgroundExecutor&quot;, &quot;Background service started&quot;);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nKivyFirebaseMessagingBackgroundService.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.JobIntentService;\r\n\r\nimport com.google.firebase.messaging.RemoteMessage;\r\n\r\nimport java.util.Map;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\npublic class KivyFirebaseMessagingBackgroundService extends JobIntentService {\r\n    private static final String TAG = &quot;KVFireMsgService&quot;;\r\n\r\n    /**\r\n     * Schedule the message to be handled by the {@link KivyFirebaseMessagingBackgroundService}.\r\n     */\r\n    public static void enqueueMessageProcessing(Context context, Intent messageIntent) {\r\n        enqueueWork(\r\n                context,\r\n                KivyFirebaseMessagingBackgroundService.class,\r\n                KivyFirebaseMessagingUtils.JOB_ID,\r\n                messageIntent);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        KivyFirebaseMessagingBackgroundExecutor.startBackgroundPythonService();\r\n    }\r\n\r\n    @Override\r\n    protected void onHandleWork(@NonNull final Intent intent) {\r\n\r\n\r\n        // There were no pre-existing callback requests. Execute the callback\r\n        // specified by the incoming intent.\r\n        final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n        new Handler(getMainLooper())\r\n                .post(new Runnable() {\r\n                          @Override\r\n                          public void run() {\r\n                              RemoteMessage remoteMessage =\r\n                                      intent.getParcelableExtra(KivyFirebaseMessagingUtils.EXTRA_REMOTE_MESSAGE);\r\n                              if (remoteMessage != null) {\r\n                                  Map&lt;String, Object&gt; remoteMessageMap =\r\n                                          KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage);\r\n                                  remoteMessageMap.put(&quot;unique_key&quot;, Math.random() + &quot;&quot;);\r\n                                  PlatformIntermediate.addbackroundMessage(remoteMessageMap, ContextHolder.getApplicationContext());\r\n                              }\r\n                              // End\r\n                              latch.countDown();\r\n                          }\r\n                      }\r\n                );\r\n\r\n        try {\r\n            latch.await();\r\n        } catch (InterruptedException ex) {\r\n            Log.i(TAG, &quot;Exception waiting to execute Python callback&quot;, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nKivyFireBaseMessagingReceiver.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\nimport java.util.HashMap;\r\n\r\n\r\npublic class KivyFirebaseMessagingReceiver extends BroadcastReceiver {\r\n    private static final String TAG = &quot;FLTFireMsgReceiver&quot;;\r\n    static HashMap&lt;String, RemoteMessage&gt; notifications = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Log.d(TAG, &quot;broadcast received for message&quot;);\r\n        if (ContextHolder.getApplicationContext() == null) {\r\n            ContextHolder.setApplicationContext(context.getApplicationContext());\r\n        }\r\n\r\n        RemoteMessage remoteMessage = new RemoteMessage(intent.getExtras());\r\n\r\n        // Store the RemoteMessage if the message contains a notification payload.\r\n        if (remoteMessage.getNotification() != null) {\r\n            notifications.put(remoteMessage.getMessageId(), remoteMessage);\r\n            KivyFirebaseMessagingStore.getInstance().storeFirebaseMessage(remoteMessage);\r\n        }\r\n\r\n        //  |-&gt; ---------------------\r\n        //      App in Foreground\r\n        //   ------------------------\r\n        if (KivyFirebaseMessagingUtils.isApplicationForeground(context)) {\r\n            Log.d(TAG, &quot;Setting the foreground. BTW, title is &quot; + remoteMessage.getNotification().getTitle());\r\n            PlatformIntermediate.setForegroundMessage(KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage));\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        //  |-&gt; ---------------------\r\n        //    App in Background/Quit\r\n        //   ------------------------\r\n        Log.d(TAG, &quot;App in Background/Quit &quot; + remoteMessage.getNotification().getTitle());\r\n//        HashMap&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\r\n//        payload.put(&quot;unique_key&quot;, Math.random());\r\n//        payload.put(&quot;payload_type&quot;, &quot;BACKGROUND_MSG&quot;);\r\n//        payload.put(&quot;data&quot;, KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage));\r\n//        Gson gson = new Gson();\r\n//        String json = gson.toJson(payload);\r\n//        backgroundMessages.put(Math.random()+&quot;&quot;,json);\r\n//        com.waterfall.youtube.ServicePythonnotificationhandler.start(org.kivy.android.PythonActivity.mActivity, json);\r\n        // Issue with above is it relies on the Python service to be not running. Moment it&#39;s already running and you try starting\r\n        // it, Android won&#39;t allow that.\r\n\r\n        Intent onBackgroundMessageIntent =\r\n                new Intent(context, org.kivy.plugins.messaging.KivyFirebaseMessagingBackgroundService.class);\r\n        onBackgroundMessageIntent.putExtra(\r\n                KivyFirebaseMessagingUtils.EXTRA_REMOTE_MESSAGE, remoteMessage);\r\n        org.kivy.plugins.messaging.KivyFirebaseMessagingBackgroundService.enqueueMessageProcessing(\r\n                context, onBackgroundMessageIntent);\r\n    }\r\n}\r\n```\r\n\r\nKivyFirebaseMessagingService.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.firebase.messaging.FirebaseMessagingService;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\n\r\npublic class KivyFirebaseMessagingService extends FirebaseMessagingService {\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        PlatformIntermediate.token = token;\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        // Added for commenting purposes;\r\n        // We don&#39;t handle the message here as we already handle it in the receiver and don&#39;t want to duplicate.\r\n    }\r\n}\r\n```\r\n\r\nKivyFirebaseMessagingStore.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\npublic class KivyFirebaseMessagingStore {\r\n    private static final String PREFERENCES_FILE = &quot;io.flutter.plugins.firebase.messaging&quot;;\r\n    private static final String KEY_NOTIFICATION_IDS = &quot;notification_ids&quot;;\r\n    private static final int MAX_SIZE_NOTIFICATIONS = 20;\r\n    private static KivyFirebaseMessagingStore instance;\r\n    private final String DELIMITER = &quot;,&quot;;\r\n    private SharedPreferences preferences;\r\n\r\n    public static KivyFirebaseMessagingStore getInstance() {\r\n        if (instance == null) {\r\n            instance = new KivyFirebaseMessagingStore();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private SharedPreferences getPreferences() {\r\n        if (preferences == null) {\r\n            preferences =\r\n                    ContextHolder.getApplicationContext()\r\n                            .getSharedPreferences(PREFERENCES_FILE, Context.MODE_PRIVATE);\r\n        }\r\n        return preferences;\r\n    }\r\n\r\n    public void setPreferencesStringValue(String key, String value) {\r\n        getPreferences().edit().putString(key, value).apply();\r\n    }\r\n\r\n    public String getPreferencesStringValue(String key, String defaultValue) {\r\n        return getPreferences().getString(key, defaultValue);\r\n    }\r\n\r\n    public void storeFirebaseMessage(RemoteMessage remoteMessage) {\r\n        String remoteMessageString =\r\n                new JSONObject(KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage)).toString();\r\n        setPreferencesStringValue(remoteMessage.getMessageId(), remoteMessageString);\r\n\r\n        // Save new notification id.\r\n        // Note that this is using a comma delimited string to preserve ordering. We could use a String Set\r\n        // on SharedPreferences but this won&#39;t guarantee ordering when we want to remove the oldest added ids.\r\n        String notifications = getPreferencesStringValue(KEY_NOTIFICATION_IDS, &quot;&quot;);\r\n        notifications += remoteMessage.getMessageId() + DELIMITER; // append to last\r\n\r\n        // Check and remove old notification messages.\r\n        List&lt;String&gt; allNotificationList =\r\n                new ArrayList&lt;&gt;(Arrays.asList(notifications.split(DELIMITER)));\r\n        if (allNotificationList.size() &gt; MAX_SIZE_NOTIFICATIONS) {\r\n            String firstRemoteMessageId = allNotificationList.get(0);\r\n            getPreferences().edit().remove(firstRemoteMessageId).apply();\r\n            notifications = notifications.replace(firstRemoteMessageId + DELIMITER, &quot;&quot;);\r\n        }\r\n\r\n        setPreferencesStringValue(KEY_NOTIFICATION_IDS, notifications);\r\n    }\r\n\r\n    public RemoteMessage getFirebaseMessage(String remoteMessageId) {\r\n        String remoteMessageString = getPreferencesStringValue(remoteMessageId, null);\r\n        if (remoteMessageString != null) {\r\n            try {\r\n                Map&lt;String, Object&gt; argumentsMap = new HashMap&lt;&gt;(1);\r\n                Map&lt;String, Object&gt; messageOutMap = jsonObjectToMap(new JSONObject(remoteMessageString));\r\n                // Add a fake &#39;to&#39; - as it&#39;s required to construct a RemoteMessage instance.\r\n                messageOutMap.put(&quot;to&quot;, remoteMessageId);\r\n                argumentsMap.put(&quot;message&quot;, messageOutMap);\r\n                return KivyFirebaseMessagingUtils.getRemoteMessageForArguments(argumentsMap);\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void removeFirebaseMessage(String remoteMessageId) {\r\n        getPreferences().edit().remove(remoteMessageId).apply();\r\n        String notifications = getPreferencesStringValue(KEY_NOTIFICATION_IDS, &quot;&quot;);\r\n        if (!notifications.isEmpty()) {\r\n            notifications = notifications.replace(remoteMessageId + DELIMITER, &quot;&quot;);\r\n            setPreferencesStringValue(KEY_NOTIFICATION_IDS, notifications);\r\n        }\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; jsonObjectToMap(JSONObject jsonObject) throws JSONException {\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        Iterator&lt;String&gt; keys = jsonObject.keys();\r\n        while (keys.hasNext()) {\r\n            String key = keys.next();\r\n            Object value = jsonObject.get(key);\r\n            if (value instanceof JSONArray) {\r\n                value = jsonArrayToList((JSONArray) value);\r\n            } else if (value instanceof JSONObject) {\r\n                value = jsonObjectToMap((JSONObject) value);\r\n            }\r\n            map.put(key, value);\r\n        }\r\n        return map;\r\n    }\r\n\r\n    public List&lt;Object&gt; jsonArrayToList(JSONArray array) throws JSONException {\r\n        List&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n            Object value = array.get(i);\r\n            if (value instanceof JSONArray) {\r\n                value = jsonArrayToList((JSONArray) value);\r\n            } else if (value instanceof JSONObject) {\r\n                value = jsonObjectToMap((JSONObject) value);\r\n            }\r\n            list.add(value);\r\n        }\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nKivyFirebaseMessagingUtils.java:\r\n\r\n```\r\n// Copyright 2020 The Chromium Authors. All rights reserved.\r\npackage org.kivy.plugins.messaging;\r\n\r\nimport android.app.ActivityManager;\r\nimport android.app.KeyguardManager;\r\nimport android.content.Context;\r\nimport com.google.firebase.messaging.FirebaseMessaging;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\nclass KivyFirebaseMessagingUtils {\r\n    static final String IS_AUTO_INIT_ENABLED = &quot;isAutoInitEnabled&quot;;\r\n    static final String SHARED_PREFERENCES_KEY = &quot;io.flutter.firebase.messaging.callback&quot;;\r\n    static final String ACTION_REMOTE_MESSAGE = &quot;io.flutter.plugins.firebase.messaging.NOTIFICATION&quot;;\r\n    static final String EXTRA_REMOTE_MESSAGE = &quot;notification&quot;;\r\n    static final String ACTION_TOKEN = &quot;io.flutter.plugins.firebase.messaging.TOKEN&quot;;\r\n    static final String EXTRA_TOKEN = &quot;token&quot;;\r\n    static final int JOB_ID = 2020;\r\n    private static final String KEY_COLLAPSE_KEY = &quot;collapseKey&quot;;\r\n    private static final String KEY_DATA = &quot;data&quot;;\r\n    private static final String KEY_FROM = &quot;from&quot;;\r\n    private static final String KEY_MESSAGE_ID = &quot;messageId&quot;;\r\n    private static final String KEY_MESSAGE_TYPE = &quot;messageType&quot;;\r\n    private static final String KEY_SENT_TIME = &quot;sentTime&quot;;\r\n    private static final String KEY_TO = &quot;to&quot;;\r\n    private static final String KEY_TTL = &quot;ttl&quot;;\r\n\r\n    static Map&lt;String, Object&gt; remoteMessageToMap(RemoteMessage remoteMessage) {\r\n        Map&lt;String, Object&gt; messageMap = new HashMap&lt;&gt;();\r\n        Map&lt;String, Object&gt; dataMap = new HashMap&lt;&gt;();\r\n\r\n        if (remoteMessage.getCollapseKey() != null) {\r\n            messageMap.put(KEY_COLLAPSE_KEY, remoteMessage.getCollapseKey());\r\n        }\r\n\r\n        if (remoteMessage.getFrom() != null) {\r\n            messageMap.put(KEY_FROM, remoteMessage.getFrom());\r\n        }\r\n\r\n        if (remoteMessage.getTo() != null) {\r\n            messageMap.put(KEY_TO, remoteMessage.getTo());\r\n        }\r\n\r\n        if (remoteMessage.getMessageId() != null) {\r\n            messageMap.put(KEY_MESSAGE_ID, remoteMessage.getMessageId());\r\n        }\r\n\r\n        if (remoteMessage.getMessageType() != null) {\r\n            messageMap.put(KEY_MESSAGE_TYPE, remoteMessage.getMessageType());\r\n        }\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = remoteMessage.getData().entrySet();\r\n            for (Map.Entry&lt;String, String&gt; entry : entries) {\r\n                dataMap.put(entry.getKey(), entry.getValue());\r\n            }\r\n        }\r\n\r\n        messageMap.put(KEY_DATA, dataMap);\r\n        messageMap.put(KEY_TTL, remoteMessage.getTtl());\r\n        messageMap.put(KEY_SENT_TIME, remoteMessage.getSentTime());\r\n\r\n        if (remoteMessage.getNotification() != null) {\r\n            messageMap.put(\r\n                    &quot;notification&quot;, remoteMessageNotificationToMap(remoteMessage.getNotification()));\r\n        }\r\n\r\n        return messageMap;\r\n    }\r\n\r\n    private static Map&lt;String, Object&gt; remoteMessageNotificationToMap(\r\n            RemoteMessage.Notification notification) {\r\n        Map&lt;String, Object&gt; notificationMap = new HashMap&lt;&gt;();\r\n        Map&lt;String, Object&gt; androidNotificationMap = new HashMap&lt;&gt;();\r\n\r\n        if (notification.getTitle() != null) {\r\n            notificationMap.put(&quot;title&quot;, notification.getTitle());\r\n        }\r\n\r\n        if (notification.getTitleLocalizationKey() != null) {\r\n            notificationMap.put(&quot;titleLocKey&quot;, notification.getTitleLocalizationKey());\r\n        }\r\n\r\n        if (notification.getTitleLocalizationArgs() != null) {\r\n            notificationMap.put(&quot;titleLocArgs&quot;, Arrays.asList(notification.getTitleLocalizationArgs()));\r\n        }\r\n\r\n        if (notification.getBody() != null) {\r\n            notificationMap.put(&quot;body&quot;, notification.getBody());\r\n        }\r\n\r\n        if (notification.getBodyLocalizationKey() != null) {\r\n            notificationMap.put(&quot;bodyLocKey&quot;, notification.getBodyLocalizationKey());\r\n        }\r\n\r\n        if (notification.getBodyLocalizationArgs() != null) {\r\n            notificationMap.put(&quot;bodyLocArgs&quot;, Arrays.asList(notification.getBodyLocalizationArgs()));\r\n        }\r\n\r\n        if (notification.getChannelId() != null) {\r\n            androidNotificationMap.put(&quot;channelId&quot;, notification.getChannelId());\r\n        }\r\n\r\n        if (notification.getClickAction() != null) {\r\n            androidNotificationMap.put(&quot;clickAction&quot;, notification.getClickAction());\r\n        }\r\n\r\n        if (notification.getColor() != null) {\r\n            androidNotificationMap.put(&quot;color&quot;, notification.getColor());\r\n        }\r\n\r\n        if (notification.getIcon() != null) {\r\n            androidNotificationMap.put(&quot;smallIcon&quot;, notification.getIcon());\r\n        }\r\n\r\n        if (notification.getImageUrl() != null) {\r\n            androidNotificationMap.put(&quot;imageUrl&quot;, notification.getImageUrl().toString());\r\n        }\r\n\r\n        if (notification.getLink() != null) {\r\n            androidNotificationMap.put(&quot;link&quot;, notification.getLink().toString());\r\n        }\r\n\r\n        if (notification.getNotificationCount() != null) {\r\n            androidNotificationMap.put(&quot;count&quot;, notification.getNotificationCount());\r\n        }\r\n\r\n        if (notification.getNotificationPriority() != null) {\r\n            androidNotificationMap.put(&quot;priority&quot;, notification.getNotificationPriority());\r\n        }\r\n\r\n        if (notification.getSound() != null) {\r\n            androidNotificationMap.put(&quot;sound&quot;, notification.getSound());\r\n        }\r\n\r\n        if (notification.getTicker() != null) {\r\n            androidNotificationMap.put(&quot;ticker&quot;, notification.getTicker());\r\n        }\r\n\r\n        if (notification.getVisibility() != null) {\r\n            androidNotificationMap.put(&quot;visibility&quot;, notification.getVisibility());\r\n        }\r\n\r\n        if (notification.getTag() != null) {\r\n            androidNotificationMap.put(&quot;tag&quot;, notification.getTag());\r\n        }\r\n\r\n        notificationMap.put(&quot;android&quot;, androidNotificationMap);\r\n        return notificationMap;\r\n    }\r\n\r\n    /**\r\n     * Identify if the application is currently in a state where user interaction is possible. This\r\n     * method is called when a remote message is received to determine how the incoming message should\r\n     * be handled.\r\n     *\r\n     * @param context context.\r\n     * @return True if the application is currently in a state where user interaction is possible,\r\n     *     false otherwise.\r\n     */\r\n    static boolean isApplicationForeground(Context context) {\r\n        KeyguardManager keyguardManager =\r\n                (KeyguardManager) context.getSystemService(Context.KEYGUARD_SERVICE);\r\n\r\n        if (keyguardManager != null &amp;&amp; keyguardManager.isKeyguardLocked()) {\r\n            return false;\r\n        }\r\n\r\n        ActivityManager activityManager =\r\n                (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n        if (activityManager == null) return false;\r\n\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; appProcesses =\r\n                activityManager.getRunningAppProcesses();\r\n        if (appProcesses == null) return false;\r\n\r\n        final String packageName = context.getPackageName();\r\n        for (ActivityManager.RunningAppProcessInfo appProcess : appProcesses) {\r\n            if (appProcess.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND\r\n                    &amp;&amp; appProcess.processName.equals(packageName)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // Extracted to handle multi-app support in the future.\r\n    // arguments.get(&quot;appName&quot;) - to get the Firebase app name.\r\n    static FirebaseMessaging getFirebaseMessagingForArguments(Map&lt;String, Object&gt; arguments) {\r\n        return FirebaseMessaging.getInstance();\r\n    }\r\n\r\n    /**\r\n     * Builds an instance of {@link RemoteMessage} from Flutter method channel call arguments.\r\n     *\r\n     * @param arguments Method channel call arguments.\r\n     * @return RemoteMessage\r\n     */\r\n    static RemoteMessage getRemoteMessageForArguments(Map&lt;String, Object&gt; arguments) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map&lt;String, Object&gt; messageMap =\r\n                (Map&lt;String, Object&gt;) Objects.requireNonNull(arguments.get(&quot;message&quot;));\r\n\r\n        String to = (String) Objects.requireNonNull(messageMap.get(&quot;to&quot;));\r\n        RemoteMessage.Builder builder = new RemoteMessage.Builder(to);\r\n\r\n        String collapseKey = (String) messageMap.get(&quot;collapseKey&quot;);\r\n        String messageId = (String) messageMap.get(&quot;messageId&quot;);\r\n        String messageType = (String) messageMap.get(&quot;messageType&quot;);\r\n        Integer ttl = (Integer) messageMap.get(&quot;ttl&quot;);\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Map&lt;String, String&gt; data = (Map&lt;String, String&gt;) messageMap.get(&quot;data&quot;);\r\n\r\n        if (collapseKey != null) {\r\n            builder.setCollapseKey(collapseKey);\r\n        }\r\n\r\n        if (messageType != null) {\r\n            builder.setMessageType(messageType);\r\n        }\r\n\r\n        if (messageId != null) {\r\n            builder.setMessageId(messageId);\r\n        }\r\n\r\n        if (ttl != null) {\r\n            builder.setTtl(ttl);\r\n        }\r\n\r\n        if (data != null) {\r\n            builder.setData(data);\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n}\r\n```\r\n\r\nPlatformIntermediate.java:\r\n\r\n```\r\npackage org.kivy.plugins.messaging;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.io.Writer;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class PlatformIntermediate {\r\n    private static HashMap&lt;String, Object&gt; _foregroundMessage = new HashMap&lt;String, Object&gt;();\r\n    final public static HashMap&lt;String, Object&gt; backgroundMessages = new HashMap&lt;String, Object&gt;();\r\n    public static String token = &quot;&quot;;\r\n    private static final String BACKGROUND_MSG_FILE_NAME = &quot;/background_messages.json&quot;;\r\n\r\n    public static String getForegroundMessage() {\r\n        return new Gson().toJson(_foregroundMessage);\r\n    }\r\n\r\n    public static void setForegroundMessage(Map&lt;String, Object&gt; msg) {\r\n        HashMap&lt;String, Object&gt; copy = new HashMap&lt;String, Object&gt;(msg);\r\n        _foregroundMessage = copy;\r\n\r\n        _foregroundMessage.put(&quot;unique_key&quot;, Math.random());\r\n        Log.d(&quot;PlatformIntermediate&quot;, &quot;setForegroundMessage worked &quot; + _foregroundMessage.toString());\r\n    }\r\n\r\n    public static void addbackroundMessage(Map&lt;String, Object&gt; remoteMessageMap, Context context) {\r\n        try {\r\n            ru.asoms.myapp.ServicePythonnotificationhandler.start(org.kivy.android.PythonActivity.mActivity, &quot;&quot;);\r\n        } catch (Exception e) {\r\n            Log.d(&quot;PlatformIntermediate&quot;, &quot;Exception occurred while trying to start service: &quot; + e.getMessage());\r\n        }\r\n        backgroundMessages.put(remoteMessageMap.get(&quot;unique_key&quot;).toString(), remoteMessageMap);\r\n\r\n        // Read stored json\r\n        String jsonText = readBackgroundFile(context);\r\n\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n        if (jsonText.length() &gt; 0) {\r\n            map = (Map&lt;String, Object&gt;) new Gson().fromJson(jsonText, map.getClass());\r\n        }\r\n        boolean shouldRecreateFile = false;\r\n        // Merge with map where key does not exist or create file if map size is 0\r\n        if (map.size() == 0) {\r\n            shouldRecreateFile = true;\r\n        } else {\r\n            for (String key : map.keySet()) {\r\n                if (backgroundMessages.get(key) == null) {\r\n                    backgroundMessages.put(key, map.get(key));\r\n                    shouldRecreateFile = true;\r\n                }\r\n            }\r\n        }\r\n        // Write to file\r\n        if (shouldRecreateFile) {\r\n//            deleteBackgroundFile(context);\r\n            writeBackgroundFile(new Gson().toJson(backgroundMessages), context);\r\n\r\n        }\r\n        Log.d(&quot;PlatformIntermediate&quot;, &quot;New message added, recreated: &quot;+shouldRecreateFile +&quot; &quot;+context.getFilesDir().getPath());\r\n        if(shouldRecreateFile == false){\r\n            Log.d(&quot;PlatformIntermediate&quot;, map.toString());\r\n\r\n        }\r\n    }\r\n\r\n    public static void writeBackgroundFile(String data, Context context) {\r\n        try (Writer writer = new BufferedWriter(new OutputStreamWriter(\r\n                new FileOutputStream(context.getFilesDir().getPath()+BACKGROUND_MSG_FILE_NAME), &quot;utf-8&quot;))) {\r\n            writer.write(data);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static String readBackgroundFile(Context context) {\r\n        String ret = &quot;&quot;;\r\n        try (BufferedReader br = new BufferedReader(new FileReader(context.getFilesDir().getPath()+BACKGROUND_MSG_FILE_NAME))) {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(&quot;\\n&quot;);\r\n                line = br.readLine();\r\n            }\r\n            ret = sb.toString();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n```\r\n\r\nI am new to java so i google about firebase notifications in foreground but they all doing it in main class of the app so i clearly dont understand it","title":"How to recieve and show up notifications from firebase when app is on foreground?","body":"<p>I am developing an app with kivy framework(on python), and i use <a href=\"https://github.com/Fox520/pushyy\" rel=\"nofollow noreferrer\">pushyy</a>, its a library that let me to recieve and show up notifications when app is in background, but i dont know how to make them showing up when app is in foreground, docs below:</p>\n<p>P.S.: I am very new at java so can you please answer with more details if it wont be difficult for you, Thanl you!</p>\n<p>ContextHolder.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\nimport android.content.Context;\nimport android.util.Log;\n\npublic class ContextHolder {\n    private static Context applicationContext;\n\n    public static Context getApplicationContext() {\n        return applicationContext;\n    }\n\n    public static void setApplicationContext(Context applicationContext) {\n        Log.d(&quot;KVFireContextHolder&quot;, &quot;received application context.&quot;);\n        ContextHolder.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>KivyFirebaseMessagingBackgroundExecutor.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\nimport android.util.Log;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class KivyFirebaseMessagingBackgroundExecutor {\nprivate static AtomicBoolean started = new AtomicBoolean(false);\n    public static void startBackgroundPythonService() {\n\n        Log.d(&quot;BackgroundExecutor&quot;, &quot;Starting background service&quot;);\n        ru.asoms.myapp.ServicePythonnotificationhandler.start(ContextHolder.getApplicationContext(), &quot;&quot;);\n        Log.d(&quot;BackgroundExecutor&quot;, &quot;Background service started&quot;);\n\n    }\n\n}\n</code></pre>\n<p>KivyFirebaseMessagingBackgroundService.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Handler;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.JobIntentService;\n\nimport com.google.firebase.messaging.RemoteMessage;\n\nimport java.util.Map;\nimport java.util.concurrent.CountDownLatch;\n\npublic class KivyFirebaseMessagingBackgroundService extends JobIntentService {\n    private static final String TAG = &quot;KVFireMsgService&quot;;\n\n    /**\n     * Schedule the message to be handled by the {@link KivyFirebaseMessagingBackgroundService}.\n     */\n    public static void enqueueMessageProcessing(Context context, Intent messageIntent) {\n        enqueueWork(\n                context,\n                KivyFirebaseMessagingBackgroundService.class,\n                KivyFirebaseMessagingUtils.JOB_ID,\n                messageIntent);\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        KivyFirebaseMessagingBackgroundExecutor.startBackgroundPythonService();\n    }\n\n    @Override\n    protected void onHandleWork(@NonNull final Intent intent) {\n\n\n        // There were no pre-existing callback requests. Execute the callback\n        // specified by the incoming intent.\n        final CountDownLatch latch = new CountDownLatch(1);\n\n        new Handler(getMainLooper())\n                .post(new Runnable() {\n                          @Override\n                          public void run() {\n                              RemoteMessage remoteMessage =\n                                      intent.getParcelableExtra(KivyFirebaseMessagingUtils.EXTRA_REMOTE_MESSAGE);\n                              if (remoteMessage != null) {\n                                  Map&lt;String, Object&gt; remoteMessageMap =\n                                          KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage);\n                                  remoteMessageMap.put(&quot;unique_key&quot;, Math.random() + &quot;&quot;);\n                                  PlatformIntermediate.addbackroundMessage(remoteMessageMap, ContextHolder.getApplicationContext());\n                              }\n                              // End\n                              latch.countDown();\n                          }\n                      }\n                );\n\n        try {\n            latch.await();\n        } catch (InterruptedException ex) {\n            Log.i(TAG, &quot;Exception waiting to execute Python callback&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>KivyFireBaseMessagingReceiver.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport com.google.firebase.messaging.RemoteMessage;\nimport java.util.HashMap;\n\n\npublic class KivyFirebaseMessagingReceiver extends BroadcastReceiver {\n    private static final String TAG = &quot;FLTFireMsgReceiver&quot;;\n    static HashMap&lt;String, RemoteMessage&gt; notifications = new HashMap&lt;&gt;();\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Log.d(TAG, &quot;broadcast received for message&quot;);\n        if (ContextHolder.getApplicationContext() == null) {\n            ContextHolder.setApplicationContext(context.getApplicationContext());\n        }\n\n        RemoteMessage remoteMessage = new RemoteMessage(intent.getExtras());\n\n        // Store the RemoteMessage if the message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            notifications.put(remoteMessage.getMessageId(), remoteMessage);\n            KivyFirebaseMessagingStore.getInstance().storeFirebaseMessage(remoteMessage);\n        }\n\n        //  |-&gt; ---------------------\n        //      App in Foreground\n        //   ------------------------\n        if (KivyFirebaseMessagingUtils.isApplicationForeground(context)) {\n            Log.d(TAG, &quot;Setting the foreground. BTW, title is &quot; + remoteMessage.getNotification().getTitle());\n            PlatformIntermediate.setForegroundMessage(KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage));\n            return;\n        }\n\n\n\n        //  |-&gt; ---------------------\n        //    App in Background/Quit\n        //   ------------------------\n        Log.d(TAG, &quot;App in Background/Quit &quot; + remoteMessage.getNotification().getTitle());\n//        HashMap&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\n//        payload.put(&quot;unique_key&quot;, Math.random());\n//        payload.put(&quot;payload_type&quot;, &quot;BACKGROUND_MSG&quot;);\n//        payload.put(&quot;data&quot;, KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage));\n//        Gson gson = new Gson();\n//        String json = gson.toJson(payload);\n//        backgroundMessages.put(Math.random()+&quot;&quot;,json);\n//        com.waterfall.youtube.ServicePythonnotificationhandler.start(org.kivy.android.PythonActivity.mActivity, json);\n        // Issue with above is it relies on the Python service to be not running. Moment it's already running and you try starting\n        // it, Android won't allow that.\n\n        Intent onBackgroundMessageIntent =\n                new Intent(context, org.kivy.plugins.messaging.KivyFirebaseMessagingBackgroundService.class);\n        onBackgroundMessageIntent.putExtra(\n                KivyFirebaseMessagingUtils.EXTRA_REMOTE_MESSAGE, remoteMessage);\n        org.kivy.plugins.messaging.KivyFirebaseMessagingBackgroundService.enqueueMessageProcessing(\n                context, onBackgroundMessageIntent);\n    }\n}\n</code></pre>\n<p>KivyFirebaseMessagingService.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\n\n\nimport androidx.annotation.NonNull;\n\nimport com.google.firebase.messaging.FirebaseMessagingService;\nimport com.google.firebase.messaging.RemoteMessage;\n\npublic class KivyFirebaseMessagingService extends FirebaseMessagingService {\n    @Override\n    public void onNewToken(@NonNull String token) {\n        PlatformIntermediate.token = token;\n    }\n\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        // Added for commenting purposes;\n        // We don't handle the message here as we already handle it in the receiver and don't want to duplicate.\n    }\n}\n</code></pre>\n<p>KivyFirebaseMessagingStore.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport com.google.firebase.messaging.RemoteMessage;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class KivyFirebaseMessagingStore {\n    private static final String PREFERENCES_FILE = &quot;io.flutter.plugins.firebase.messaging&quot;;\n    private static final String KEY_NOTIFICATION_IDS = &quot;notification_ids&quot;;\n    private static final int MAX_SIZE_NOTIFICATIONS = 20;\n    private static KivyFirebaseMessagingStore instance;\n    private final String DELIMITER = &quot;,&quot;;\n    private SharedPreferences preferences;\n\n    public static KivyFirebaseMessagingStore getInstance() {\n        if (instance == null) {\n            instance = new KivyFirebaseMessagingStore();\n        }\n        return instance;\n    }\n\n    private SharedPreferences getPreferences() {\n        if (preferences == null) {\n            preferences =\n                    ContextHolder.getApplicationContext()\n                            .getSharedPreferences(PREFERENCES_FILE, Context.MODE_PRIVATE);\n        }\n        return preferences;\n    }\n\n    public void setPreferencesStringValue(String key, String value) {\n        getPreferences().edit().putString(key, value).apply();\n    }\n\n    public String getPreferencesStringValue(String key, String defaultValue) {\n        return getPreferences().getString(key, defaultValue);\n    }\n\n    public void storeFirebaseMessage(RemoteMessage remoteMessage) {\n        String remoteMessageString =\n                new JSONObject(KivyFirebaseMessagingUtils.remoteMessageToMap(remoteMessage)).toString();\n        setPreferencesStringValue(remoteMessage.getMessageId(), remoteMessageString);\n\n        // Save new notification id.\n        // Note that this is using a comma delimited string to preserve ordering. We could use a String Set\n        // on SharedPreferences but this won't guarantee ordering when we want to remove the oldest added ids.\n        String notifications = getPreferencesStringValue(KEY_NOTIFICATION_IDS, &quot;&quot;);\n        notifications += remoteMessage.getMessageId() + DELIMITER; // append to last\n\n        // Check and remove old notification messages.\n        List&lt;String&gt; allNotificationList =\n                new ArrayList&lt;&gt;(Arrays.asList(notifications.split(DELIMITER)));\n        if (allNotificationList.size() &gt; MAX_SIZE_NOTIFICATIONS) {\n            String firstRemoteMessageId = allNotificationList.get(0);\n            getPreferences().edit().remove(firstRemoteMessageId).apply();\n            notifications = notifications.replace(firstRemoteMessageId + DELIMITER, &quot;&quot;);\n        }\n\n        setPreferencesStringValue(KEY_NOTIFICATION_IDS, notifications);\n    }\n\n    public RemoteMessage getFirebaseMessage(String remoteMessageId) {\n        String remoteMessageString = getPreferencesStringValue(remoteMessageId, null);\n        if (remoteMessageString != null) {\n            try {\n                Map&lt;String, Object&gt; argumentsMap = new HashMap&lt;&gt;(1);\n                Map&lt;String, Object&gt; messageOutMap = jsonObjectToMap(new JSONObject(remoteMessageString));\n                // Add a fake 'to' - as it's required to construct a RemoteMessage instance.\n                messageOutMap.put(&quot;to&quot;, remoteMessageId);\n                argumentsMap.put(&quot;message&quot;, messageOutMap);\n                return KivyFirebaseMessagingUtils.getRemoteMessageForArguments(argumentsMap);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n\n    public void removeFirebaseMessage(String remoteMessageId) {\n        getPreferences().edit().remove(remoteMessageId).apply();\n        String notifications = getPreferencesStringValue(KEY_NOTIFICATION_IDS, &quot;&quot;);\n        if (!notifications.isEmpty()) {\n            notifications = notifications.replace(remoteMessageId + DELIMITER, &quot;&quot;);\n            setPreferencesStringValue(KEY_NOTIFICATION_IDS, notifications);\n        }\n    }\n\n    private Map&lt;String, Object&gt; jsonObjectToMap(JSONObject jsonObject) throws JSONException {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        Iterator&lt;String&gt; keys = jsonObject.keys();\n        while (keys.hasNext()) {\n            String key = keys.next();\n            Object value = jsonObject.get(key);\n            if (value instanceof JSONArray) {\n                value = jsonArrayToList((JSONArray) value);\n            } else if (value instanceof JSONObject) {\n                value = jsonObjectToMap((JSONObject) value);\n            }\n            map.put(key, value);\n        }\n        return map;\n    }\n\n    public List&lt;Object&gt; jsonArrayToList(JSONArray array) throws JSONException {\n        List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; array.length(); i++) {\n            Object value = array.get(i);\n            if (value instanceof JSONArray) {\n                value = jsonArrayToList((JSONArray) value);\n            } else if (value instanceof JSONObject) {\n                value = jsonObjectToMap((JSONObject) value);\n            }\n            list.add(value);\n        }\n        return list;\n    }\n}\n</code></pre>\n<p>KivyFirebaseMessagingUtils.java:</p>\n<pre><code>// Copyright 2020 The Chromium Authors. All rights reserved.\npackage org.kivy.plugins.messaging;\n\nimport android.app.ActivityManager;\nimport android.app.KeyguardManager;\nimport android.content.Context;\nimport com.google.firebase.messaging.FirebaseMessaging;\nimport com.google.firebase.messaging.RemoteMessage;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.Set;\n\nclass KivyFirebaseMessagingUtils {\n    static final String IS_AUTO_INIT_ENABLED = &quot;isAutoInitEnabled&quot;;\n    static final String SHARED_PREFERENCES_KEY = &quot;io.flutter.firebase.messaging.callback&quot;;\n    static final String ACTION_REMOTE_MESSAGE = &quot;io.flutter.plugins.firebase.messaging.NOTIFICATION&quot;;\n    static final String EXTRA_REMOTE_MESSAGE = &quot;notification&quot;;\n    static final String ACTION_TOKEN = &quot;io.flutter.plugins.firebase.messaging.TOKEN&quot;;\n    static final String EXTRA_TOKEN = &quot;token&quot;;\n    static final int JOB_ID = 2020;\n    private static final String KEY_COLLAPSE_KEY = &quot;collapseKey&quot;;\n    private static final String KEY_DATA = &quot;data&quot;;\n    private static final String KEY_FROM = &quot;from&quot;;\n    private static final String KEY_MESSAGE_ID = &quot;messageId&quot;;\n    private static final String KEY_MESSAGE_TYPE = &quot;messageType&quot;;\n    private static final String KEY_SENT_TIME = &quot;sentTime&quot;;\n    private static final String KEY_TO = &quot;to&quot;;\n    private static final String KEY_TTL = &quot;ttl&quot;;\n\n    static Map&lt;String, Object&gt; remoteMessageToMap(RemoteMessage remoteMessage) {\n        Map&lt;String, Object&gt; messageMap = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; dataMap = new HashMap&lt;&gt;();\n\n        if (remoteMessage.getCollapseKey() != null) {\n            messageMap.put(KEY_COLLAPSE_KEY, remoteMessage.getCollapseKey());\n        }\n\n        if (remoteMessage.getFrom() != null) {\n            messageMap.put(KEY_FROM, remoteMessage.getFrom());\n        }\n\n        if (remoteMessage.getTo() != null) {\n            messageMap.put(KEY_TO, remoteMessage.getTo());\n        }\n\n        if (remoteMessage.getMessageId() != null) {\n            messageMap.put(KEY_MESSAGE_ID, remoteMessage.getMessageId());\n        }\n\n        if (remoteMessage.getMessageType() != null) {\n            messageMap.put(KEY_MESSAGE_TYPE, remoteMessage.getMessageType());\n        }\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = remoteMessage.getData().entrySet();\n            for (Map.Entry&lt;String, String&gt; entry : entries) {\n                dataMap.put(entry.getKey(), entry.getValue());\n            }\n        }\n\n        messageMap.put(KEY_DATA, dataMap);\n        messageMap.put(KEY_TTL, remoteMessage.getTtl());\n        messageMap.put(KEY_SENT_TIME, remoteMessage.getSentTime());\n\n        if (remoteMessage.getNotification() != null) {\n            messageMap.put(\n                    &quot;notification&quot;, remoteMessageNotificationToMap(remoteMessage.getNotification()));\n        }\n\n        return messageMap;\n    }\n\n    private static Map&lt;String, Object&gt; remoteMessageNotificationToMap(\n            RemoteMessage.Notification notification) {\n        Map&lt;String, Object&gt; notificationMap = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; androidNotificationMap = new HashMap&lt;&gt;();\n\n        if (notification.getTitle() != null) {\n            notificationMap.put(&quot;title&quot;, notification.getTitle());\n        }\n\n        if (notification.getTitleLocalizationKey() != null) {\n            notificationMap.put(&quot;titleLocKey&quot;, notification.getTitleLocalizationKey());\n        }\n\n        if (notification.getTitleLocalizationArgs() != null) {\n            notificationMap.put(&quot;titleLocArgs&quot;, Arrays.asList(notification.getTitleLocalizationArgs()));\n        }\n\n        if (notification.getBody() != null) {\n            notificationMap.put(&quot;body&quot;, notification.getBody());\n        }\n\n        if (notification.getBodyLocalizationKey() != null) {\n            notificationMap.put(&quot;bodyLocKey&quot;, notification.getBodyLocalizationKey());\n        }\n\n        if (notification.getBodyLocalizationArgs() != null) {\n            notificationMap.put(&quot;bodyLocArgs&quot;, Arrays.asList(notification.getBodyLocalizationArgs()));\n        }\n\n        if (notification.getChannelId() != null) {\n            androidNotificationMap.put(&quot;channelId&quot;, notification.getChannelId());\n        }\n\n        if (notification.getClickAction() != null) {\n            androidNotificationMap.put(&quot;clickAction&quot;, notification.getClickAction());\n        }\n\n        if (notification.getColor() != null) {\n            androidNotificationMap.put(&quot;color&quot;, notification.getColor());\n        }\n\n        if (notification.getIcon() != null) {\n            androidNotificationMap.put(&quot;smallIcon&quot;, notification.getIcon());\n        }\n\n        if (notification.getImageUrl() != null) {\n            androidNotificationMap.put(&quot;imageUrl&quot;, notification.getImageUrl().toString());\n        }\n\n        if (notification.getLink() != null) {\n            androidNotificationMap.put(&quot;link&quot;, notification.getLink().toString());\n        }\n\n        if (notification.getNotificationCount() != null) {\n            androidNotificationMap.put(&quot;count&quot;, notification.getNotificationCount());\n        }\n\n        if (notification.getNotificationPriority() != null) {\n            androidNotificationMap.put(&quot;priority&quot;, notification.getNotificationPriority());\n        }\n\n        if (notification.getSound() != null) {\n            androidNotificationMap.put(&quot;sound&quot;, notification.getSound());\n        }\n\n        if (notification.getTicker() != null) {\n            androidNotificationMap.put(&quot;ticker&quot;, notification.getTicker());\n        }\n\n        if (notification.getVisibility() != null) {\n            androidNotificationMap.put(&quot;visibility&quot;, notification.getVisibility());\n        }\n\n        if (notification.getTag() != null) {\n            androidNotificationMap.put(&quot;tag&quot;, notification.getTag());\n        }\n\n        notificationMap.put(&quot;android&quot;, androidNotificationMap);\n        return notificationMap;\n    }\n\n    /**\n     * Identify if the application is currently in a state where user interaction is possible. This\n     * method is called when a remote message is received to determine how the incoming message should\n     * be handled.\n     *\n     * @param context context.\n     * @return True if the application is currently in a state where user interaction is possible,\n     *     false otherwise.\n     */\n    static boolean isApplicationForeground(Context context) {\n        KeyguardManager keyguardManager =\n                (KeyguardManager) context.getSystemService(Context.KEYGUARD_SERVICE);\n\n        if (keyguardManager != null &amp;&amp; keyguardManager.isKeyguardLocked()) {\n            return false;\n        }\n\n        ActivityManager activityManager =\n                (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n        if (activityManager == null) return false;\n\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; appProcesses =\n                activityManager.getRunningAppProcesses();\n        if (appProcesses == null) return false;\n\n        final String packageName = context.getPackageName();\n        for (ActivityManager.RunningAppProcessInfo appProcess : appProcesses) {\n            if (appProcess.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND\n                    &amp;&amp; appProcess.processName.equals(packageName)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    // Extracted to handle multi-app support in the future.\n    // arguments.get(&quot;appName&quot;) - to get the Firebase app name.\n    static FirebaseMessaging getFirebaseMessagingForArguments(Map&lt;String, Object&gt; arguments) {\n        return FirebaseMessaging.getInstance();\n    }\n\n    /**\n     * Builds an instance of {@link RemoteMessage} from Flutter method channel call arguments.\n     *\n     * @param arguments Method channel call arguments.\n     * @return RemoteMessage\n     */\n    static RemoteMessage getRemoteMessageForArguments(Map&lt;String, Object&gt; arguments) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;String, Object&gt; messageMap =\n                (Map&lt;String, Object&gt;) Objects.requireNonNull(arguments.get(&quot;message&quot;));\n\n        String to = (String) Objects.requireNonNull(messageMap.get(&quot;to&quot;));\n        RemoteMessage.Builder builder = new RemoteMessage.Builder(to);\n\n        String collapseKey = (String) messageMap.get(&quot;collapseKey&quot;);\n        String messageId = (String) messageMap.get(&quot;messageId&quot;);\n        String messageType = (String) messageMap.get(&quot;messageType&quot;);\n        Integer ttl = (Integer) messageMap.get(&quot;ttl&quot;);\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;String, String&gt; data = (Map&lt;String, String&gt;) messageMap.get(&quot;data&quot;);\n\n        if (collapseKey != null) {\n            builder.setCollapseKey(collapseKey);\n        }\n\n        if (messageType != null) {\n            builder.setMessageType(messageType);\n        }\n\n        if (messageId != null) {\n            builder.setMessageId(messageId);\n        }\n\n        if (ttl != null) {\n            builder.setTtl(ttl);\n        }\n\n        if (data != null) {\n            builder.setData(data);\n        }\n\n        return builder.build();\n    }\n}\n</code></pre>\n<p>PlatformIntermediate.java:</p>\n<pre><code>package org.kivy.plugins.messaging;\n\nimport android.content.Context;\nimport android.util.Log;\n\nimport com.google.gson.Gson;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.io.Writer;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class PlatformIntermediate {\n    private static HashMap&lt;String, Object&gt; _foregroundMessage = new HashMap&lt;String, Object&gt;();\n    final public static HashMap&lt;String, Object&gt; backgroundMessages = new HashMap&lt;String, Object&gt;();\n    public static String token = &quot;&quot;;\n    private static final String BACKGROUND_MSG_FILE_NAME = &quot;/background_messages.json&quot;;\n\n    public static String getForegroundMessage() {\n        return new Gson().toJson(_foregroundMessage);\n    }\n\n    public static void setForegroundMessage(Map&lt;String, Object&gt; msg) {\n        HashMap&lt;String, Object&gt; copy = new HashMap&lt;String, Object&gt;(msg);\n        _foregroundMessage = copy;\n\n        _foregroundMessage.put(&quot;unique_key&quot;, Math.random());\n        Log.d(&quot;PlatformIntermediate&quot;, &quot;setForegroundMessage worked &quot; + _foregroundMessage.toString());\n    }\n\n    public static void addbackroundMessage(Map&lt;String, Object&gt; remoteMessageMap, Context context) {\n        try {\n            ru.asoms.myapp.ServicePythonnotificationhandler.start(org.kivy.android.PythonActivity.mActivity, &quot;&quot;);\n        } catch (Exception e) {\n            Log.d(&quot;PlatformIntermediate&quot;, &quot;Exception occurred while trying to start service: &quot; + e.getMessage());\n        }\n        backgroundMessages.put(remoteMessageMap.get(&quot;unique_key&quot;).toString(), remoteMessageMap);\n\n        // Read stored json\n        String jsonText = readBackgroundFile(context);\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        if (jsonText.length() &gt; 0) {\n            map = (Map&lt;String, Object&gt;) new Gson().fromJson(jsonText, map.getClass());\n        }\n        boolean shouldRecreateFile = false;\n        // Merge with map where key does not exist or create file if map size is 0\n        if (map.size() == 0) {\n            shouldRecreateFile = true;\n        } else {\n            for (String key : map.keySet()) {\n                if (backgroundMessages.get(key) == null) {\n                    backgroundMessages.put(key, map.get(key));\n                    shouldRecreateFile = true;\n                }\n            }\n        }\n        // Write to file\n        if (shouldRecreateFile) {\n//            deleteBackgroundFile(context);\n            writeBackgroundFile(new Gson().toJson(backgroundMessages), context);\n\n        }\n        Log.d(&quot;PlatformIntermediate&quot;, &quot;New message added, recreated: &quot;+shouldRecreateFile +&quot; &quot;+context.getFilesDir().getPath());\n        if(shouldRecreateFile == false){\n            Log.d(&quot;PlatformIntermediate&quot;, map.toString());\n\n        }\n    }\n\n    public static void writeBackgroundFile(String data, Context context) {\n        try (Writer writer = new BufferedWriter(new OutputStreamWriter(\n                new FileOutputStream(context.getFilesDir().getPath()+BACKGROUND_MSG_FILE_NAME), &quot;utf-8&quot;))) {\n            writer.write(data);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static String readBackgroundFile(Context context) {\n        String ret = &quot;&quot;;\n        try (BufferedReader br = new BufferedReader(new FileReader(context.getFilesDir().getPath()+BACKGROUND_MSG_FILE_NAME))) {\n            StringBuilder sb = new StringBuilder();\n            String line = br.readLine();\n            while (line != null) {\n                sb.append(line);\n                sb.append(&quot;\\n&quot;);\n                line = br.readLine();\n            }\n            ret = sb.toString();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return ret;\n    }\n}\n</code></pre>\n<p>I am new to java so i google about firebase notifications in foreground but they all doing it in main class of the app so i clearly dont understand it</p>\n"},{"tags":["java","json","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681043977,"creation_date":1681043977,"answer_id":75970563,"question_id":75959984,"body_markdown":"i tested with my JsonUtils and it works just fine, try to test it with this\r\n\r\n```\r\npublic class JsonUtils {\r\n\r\n    private static final ObjectMapper mapper = JsonMapper.builder()\r\n            .findAndAddModules()\r\n            .build();\r\n    public static &lt;T&gt; T jsonToObject(String json, Class&lt;? extends T&gt; type) {\r\n\r\n        try {\r\n            return mapper.readValue(json, type);\r\n        } catch (Exception e) {\r\n            log.error(&quot;error parsing json, message[{}]&quot;, e.getMessage(), e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nps: i needed to modify some fields for making mapper to ignore when null was passed, use ```@JsonIgnore``` for ignoring and ```@JsonProperty``` for naming fields with symbols like &#39;-&#39;","title":"Java ObjectMapper Causes StackOverflow Infinite Loop Exceptipn","body":"<p>i tested with my JsonUtils and it works just fine, try to test it with this</p>\n<pre><code>public class JsonUtils {\n\n    private static final ObjectMapper mapper = JsonMapper.builder()\n            .findAndAddModules()\n            .build();\n    public static &lt;T&gt; T jsonToObject(String json, Class&lt;? extends T&gt; type) {\n\n        try {\n            return mapper.readValue(json, type);\n        } catch (Exception e) {\n            log.error(&quot;error parsing json, message[{}]&quot;, e.getMessage(), e);\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>ps: i needed to modify some fields for making mapper to ignore when null was passed, use <code>@JsonIgnore</code> for ignoring and <code>@JsonProperty</code> for naming fields with symbols like '-'</p>\n"}],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681043977,"creation_date":1680882519,"question_id":75959984,"body_markdown":"I am getting an infinite loop stack overflow and I am having trouble determining what the issue is that is causing it.  Here is part of the stack trace (because it just keeps repeating)\r\n\r\nNote some code and stack trace removed because it is greater than allowed characters.\r\n\r\n```\r\n2023-04-07 10:33:07.446 ERROR 53488 --- [nio-8443-exec-2] c.s.c.c.e.tools.support.ModelMapper      : Infinite recursion (StackOverflowError) (through reference chain: sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-&gt;sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-&gt;sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-\r\n...\r\n&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;])\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:789) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serializeContents(ObjectArraySerializer.java:253) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:214) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:23) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serializeContents(ObjectArraySerializer.java:253) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:214) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:23) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\r\n```\r\n\r\nHere is the object mapper wrapper class that I created that is throwing this error (officially is when the object mapper write is executed not this code but provided in case there is something broke here)\r\n\r\n```\r\n@Slf4j\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class ModelMapper {\r\n\r\n\r\n    public static &lt;T&gt; T fromString(String json, Class&lt;T&gt; clazz) {\r\n        return ModelMapper.convertJsonToObjectString(json, clazz);\r\n    }\r\n\r\n    public static ObjectMapper getMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new Jdk8Module());\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.writer(new DefaultPrettyPrinter());\r\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        mapper.registerModule(new CustomSimpleModule());\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.findAndRegisterModules();\r\n        return mapper;\r\n    }\r\n\r\n    public static String toString(Object obj) {\r\n        return ModelMapper.convertObjectToJsonString(obj);\r\n    }\r\n\r\n    private static &lt;T&gt; T convertJsonToObjectString(String json, Class&lt;T&gt; clazz) {\r\n        T returnValue = null;\r\n        if (StringUtils.isNoneBlank(json)) {\r\n            try {\r\n                returnValue = ModelMapper.getMapper().readValue(json, clazz);\r\n            } catch (Exception ignored) {\r\n                log.error(ignored.getMessage(), ignored);\r\n            }\r\n        }\r\n        return returnValue;\r\n    }\r\n\r\n    private static String convertObjectToJsonString(Object obj) {\r\n        String returnValue = null;\r\n        if (Optional.ofNullable(obj).isPresent()) {\r\n            try {\r\n                returnValue = ModelMapper.getMapper().writeValueAsString(obj);\r\n            } catch (Exception ignored) {\r\n                log.error(ignored.getMessage(), ignored);\r\n            }\r\n        }\r\n        return returnValue;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is the object that when has data is throwing the exception:\r\n\r\n```\r\n@SuppressWarnings({ &quot;unused&quot;, &quot;UnusedReturnValue&quot; })\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@Data\r\n@With\r\n@EqualsAndHashCode(callSuper = false)\r\n@SuperBuilder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ErrorDetails implements Serializable {\r\n\r\n    public static final String RESPONSE_BODY_KEY = &quot;Response_Body&quot;;\r\n    public static final String REQUEST_BODY_KEY = &quot;Request_Body&quot;;\r\n    public static final String REQUEST_HEADER_KEY = &quot;Request_Header&quot;;\r\n    public static final String RESPONSE_HEADER_KEY = &quot;Response_Header&quot;;\r\n    public static final String ADDITIONAL_FIELDS_KEY = &quot;Additional Fields&quot;;\r\n    public static final String STATUS_KEY = &quot;status&quot;;\r\n    public static final ZoneId ZONE_ID = ExodusDateAndTimePatterns.DEFAULT_TIME_ZONE;\r\n    public static final String ERROR_STATUS = &quot;ErrorStatus&quot;;\r\n    public static final String ERROR_TIMESTAMP = &quot;ErrorTimestamp&quot;;\r\n    public static final String ERROR_MESSAGE = &quot;ErrorMessage&quot;;\r\n    public static final String ERROR_DEBUG_MESSAGE = &quot;ErrorDebugMessage&quot;;\r\n    public static final String ERROR_TYPE = &quot;ErrorType&quot;;\r\n    private static final long serialVersionUID = 3135141341712621098L;\r\n    private boolean doNotLog;\r\n    private boolean secureData;\r\n    private Boolean external;\r\n    private ResultsTraceLevel traceLevel;\r\n    private HttpStatus status;\r\n    private String message;\r\n    private Class clazz;\r\n    private String correlationId;\r\n    private AdditionalProperties additionalProperties;\r\n    private ExceptionDetails exceptionDetails;\r\n    private HeaderType headerType;\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\r\n    private LocalDateTime timeStamp;\r\n\r\n    public static ErrorDetails getInstance() {\r\n        ErrorDetails details = new ErrorDetails();\r\n        details.setTimeStamp(LocalDateTime.now());\r\n        details.addStatus(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        details.addTraceLevelData(ResultsTraceLevel.ERROR);\r\n        return details;\r\n    }\r\n\r\n    public AdditionalProperties getAdditionalProperties() {\r\n        additionalProperties = Optional.ofNullable(additionalProperties).orElse(AdditionalProperties.getInstance());\r\n        return additionalProperties;\r\n    }\r\n\r\n    public Object getAdditionalProperty(String key) {\r\n        additionalProperties = Optional.ofNullable(additionalProperties).orElse(AdditionalProperties.getInstance());\r\n        return additionalProperties.getAdditionalProperty(key);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is example of the data in the object when it is throwing the exception.\r\n\r\n```\r\nErrorDetails(doNotLog=false,\r\n secureData=false,\r\n external=null,\r\n traceLevel=null,\r\n status=400 BAD_REQUEST,\r\n message=Required request header &#39;Nuance-Session-ID&#39; for method parameter type String is not present,\r\n clazz=null,\r\n correlationId=null,\r\n additionalProperties=AdditionalProperties(properties={Exception=ExceptionDetails(name=org.springframework.web.bind.MissingRequestHeaderException,\r\n message=Required request header &#39;Nuance-Session-ID&#39; for method parameter type String is not present,\r\n methodName=wrapRequestWithLogging,\r\n lineNumber=HttpInboundLoggingSpringWebFilter.java:155,\r\n rootCause=null),\r\n Headers={Content-Type=application/json,\r\n accept-encoding=gzip,\r\n deflate,\r\n br,\r\n connection=keep-alive,\r\n host=localhost:8443,\r\n postman-token=beccc42e-9c48-4573-840b-20dd65a70913,\r\n user-agent=PostmanRuntime/7.31.3},\r\n MissingParameter=method &#39;getProfiles&#39; parameter 2,\r\n Request=ServletWebRequest: uri=/MoneyLink/MLGetRequestList;client=0:0:0:0:0:0:0:1,\r\n Request Parameters=org.apache.catalina.util.ParameterMap@50d193b7}),\r\n exceptionDetails=ExceptionDetails(name=org.springframework.web.bind.MissingRequestHeaderException,\r\n message=Required request header &#39;Nuance-Session-ID&#39; for method parameter type String is not present,\r\n methodName=wrapRequestWithLogging,\r\n lineNumber=HttpInboundLoggingSpringWebFilter.java:155,\r\n rootCause=null),\r\n header=Header(accept=null,\r\n authorization=null,\r\n contentType=application/json,\r\n nvpSessionId=null,\r\n nuanceSessionId=null,\r\n sessionId=null,\r\n headerType=null,\r\n additionalProperties=AdditionalProperties(properties={accept-encoding=gzip,\r\n deflate,\r\n br,\r\n connection=keep-alive,\r\n host=localhost:8443,\r\n postman-token=beccc42e-9c48-4573-840b-20dd65a70913,\r\n user-agent=PostmanRuntime/7.31.3})),\r\n headerType=null,\r\n timeStamp=null)\r\n```\r\n\r\nNote that if the object is empty (I just create an instance and try to convert) it works fine.  ","title":"Java ObjectMapper Causes StackOverflow Infinite Loop Exceptipn","body":"<p>I am getting an infinite loop stack overflow and I am having trouble determining what the issue is that is causing it.  Here is part of the stack trace (because it just keeps repeating)</p>\n<p>Note some code and stack trace removed because it is greater than allowed characters.</p>\n<pre><code>2023-04-07 10:33:07.446 ERROR 53488 --- [nio-8443-exec-2] c.s.c.c.e.tools.support.ModelMapper      : Infinite recursion (StackOverflowError) (through reference chain: sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-&gt;sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-&gt;sun.reflect.annotation.AnnotatedTypeFactory$AnnotatedTypeBaseImpl[&quot;decl&quot;]-&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;]-\n...\n&gt;java.lang.reflect.Method[&quot;parameters&quot;]-&gt;java.lang.reflect.Parameter[0]-&gt;java.lang.reflect.Parameter[&quot;annotatedType&quot;])\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:789) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serializeContents(ObjectArraySerializer.java:253) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:214) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:23) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serializeContents(ObjectArraySerializer.java:253) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:214) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.ObjectArraySerializer.serialize(ObjectArraySerializer.java:23) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:733) ~[cst-exodus-tools-1.0.0.jar:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[cst-exodus-tools-1.0.0.jar:na]\n</code></pre>\n<p>Here is the object mapper wrapper class that I created that is throwing this error (officially is when the object mapper write is executed not this code but provided in case there is something broke here)</p>\n<pre><code>@Slf4j\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class ModelMapper {\n\n\n    public static &lt;T&gt; T fromString(String json, Class&lt;T&gt; clazz) {\n        return ModelMapper.convertJsonToObjectString(json, clazz);\n    }\n\n    public static ObjectMapper getMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new Jdk8Module());\n        mapper.registerModule(new JavaTimeModule());\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.writer(new DefaultPrettyPrinter());\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        mapper.registerModule(new CustomSimpleModule());\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.findAndRegisterModules();\n        return mapper;\n    }\n\n    public static String toString(Object obj) {\n        return ModelMapper.convertObjectToJsonString(obj);\n    }\n\n    private static &lt;T&gt; T convertJsonToObjectString(String json, Class&lt;T&gt; clazz) {\n        T returnValue = null;\n        if (StringUtils.isNoneBlank(json)) {\n            try {\n                returnValue = ModelMapper.getMapper().readValue(json, clazz);\n            } catch (Exception ignored) {\n                log.error(ignored.getMessage(), ignored);\n            }\n        }\n        return returnValue;\n    }\n\n    private static String convertObjectToJsonString(Object obj) {\n        String returnValue = null;\n        if (Optional.ofNullable(obj).isPresent()) {\n            try {\n                returnValue = ModelMapper.getMapper().writeValueAsString(obj);\n            } catch (Exception ignored) {\n                log.error(ignored.getMessage(), ignored);\n            }\n        }\n        return returnValue;\n    }\n\n}\n</code></pre>\n<p>And this is the object that when has data is throwing the exception:</p>\n<pre><code>@SuppressWarnings({ &quot;unused&quot;, &quot;UnusedReturnValue&quot; })\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Data\n@With\n@EqualsAndHashCode(callSuper = false)\n@SuperBuilder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ErrorDetails implements Serializable {\n\n    public static final String RESPONSE_BODY_KEY = &quot;Response_Body&quot;;\n    public static final String REQUEST_BODY_KEY = &quot;Request_Body&quot;;\n    public static final String REQUEST_HEADER_KEY = &quot;Request_Header&quot;;\n    public static final String RESPONSE_HEADER_KEY = &quot;Response_Header&quot;;\n    public static final String ADDITIONAL_FIELDS_KEY = &quot;Additional Fields&quot;;\n    public static final String STATUS_KEY = &quot;status&quot;;\n    public static final ZoneId ZONE_ID = ExodusDateAndTimePatterns.DEFAULT_TIME_ZONE;\n    public static final String ERROR_STATUS = &quot;ErrorStatus&quot;;\n    public static final String ERROR_TIMESTAMP = &quot;ErrorTimestamp&quot;;\n    public static final String ERROR_MESSAGE = &quot;ErrorMessage&quot;;\n    public static final String ERROR_DEBUG_MESSAGE = &quot;ErrorDebugMessage&quot;;\n    public static final String ERROR_TYPE = &quot;ErrorType&quot;;\n    private static final long serialVersionUID = 3135141341712621098L;\n    private boolean doNotLog;\n    private boolean secureData;\n    private Boolean external;\n    private ResultsTraceLevel traceLevel;\n    private HttpStatus status;\n    private String message;\n    private Class clazz;\n    private String correlationId;\n    private AdditionalProperties additionalProperties;\n    private ExceptionDetails exceptionDetails;\n    private HeaderType headerType;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd-MM-yyyy hh:mm:ss&quot;)\n    private LocalDateTime timeStamp;\n\n    public static ErrorDetails getInstance() {\n        ErrorDetails details = new ErrorDetails();\n        details.setTimeStamp(LocalDateTime.now());\n        details.addStatus(HttpStatus.INTERNAL_SERVER_ERROR);\n        details.addTraceLevelData(ResultsTraceLevel.ERROR);\n        return details;\n    }\n\n    public AdditionalProperties getAdditionalProperties() {\n        additionalProperties = Optional.ofNullable(additionalProperties).orElse(AdditionalProperties.getInstance());\n        return additionalProperties;\n    }\n\n    public Object getAdditionalProperty(String key) {\n        additionalProperties = Optional.ofNullable(additionalProperties).orElse(AdditionalProperties.getInstance());\n        return additionalProperties.getAdditionalProperty(key);\n    }\n\n}\n</code></pre>\n<p>Here is example of the data in the object when it is throwing the exception.</p>\n<pre><code>ErrorDetails(doNotLog=false,\n secureData=false,\n external=null,\n traceLevel=null,\n status=400 BAD_REQUEST,\n message=Required request header 'Nuance-Session-ID' for method parameter type String is not present,\n clazz=null,\n correlationId=null,\n additionalProperties=AdditionalProperties(properties={Exception=ExceptionDetails(name=org.springframework.web.bind.MissingRequestHeaderException,\n message=Required request header 'Nuance-Session-ID' for method parameter type String is not present,\n methodName=wrapRequestWithLogging,\n lineNumber=HttpInboundLoggingSpringWebFilter.java:155,\n rootCause=null),\n Headers={Content-Type=application/json,\n accept-encoding=gzip,\n deflate,\n br,\n connection=keep-alive,\n host=localhost:8443,\n postman-token=beccc42e-9c48-4573-840b-20dd65a70913,\n user-agent=PostmanRuntime/7.31.3},\n MissingParameter=method 'getProfiles' parameter 2,\n Request=ServletWebRequest: uri=/MoneyLink/MLGetRequestList;client=0:0:0:0:0:0:0:1,\n Request Parameters=org.apache.catalina.util.ParameterMap@50d193b7}),\n exceptionDetails=ExceptionDetails(name=org.springframework.web.bind.MissingRequestHeaderException,\n message=Required request header 'Nuance-Session-ID' for method parameter type String is not present,\n methodName=wrapRequestWithLogging,\n lineNumber=HttpInboundLoggingSpringWebFilter.java:155,\n rootCause=null),\n header=Header(accept=null,\n authorization=null,\n contentType=application/json,\n nvpSessionId=null,\n nuanceSessionId=null,\n sessionId=null,\n headerType=null,\n additionalProperties=AdditionalProperties(properties={accept-encoding=gzip,\n deflate,\n br,\n connection=keep-alive,\n host=localhost:8443,\n postman-token=beccc42e-9c48-4573-840b-20dd65a70913,\n user-agent=PostmanRuntime/7.31.3})),\n headerType=null,\n timeStamp=null)\n</code></pre>\n<p>Note that if the object is empty (I just create an instance and try to convert) it works fine.</p>\n"},{"tags":["java","android","android-custom-view","android-progressbar","android-seekbar"],"owner":{"account_id":26231890,"reputation":1,"user_id":19907667,"display_name":"Ahmed Masoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681043665,"creation_date":1681043665,"question_id":75970537,"body_markdown":"I am currently working on a custom Seekbar class called &quot;ArcSlider&quot; and I&#39;m facing an issue with the arc direction. I want to draw an arc that opens upward, but I&#39;m not very good at math, and I can only get it to open downward.\r\n\r\nI have tried to adjust the sweepAngle and startAngle parameters, but when I do that, the view doesn&#39;t display the Seekbar anymore. I&#39;m not interested in customizing the Seekbar shape from XML, I want to build this class programmatically.\r\n\r\nCan anyone help me with the math required to draw an upward arc? Any tips or guidance would be greatly appreciated. Here is my code so far:\r\n\r\n\r\n```\r\n\r\n\r\npackage com.am.app.amplayer.archslider;\r\n\r\nimport android.content.res.TypedArray;\r\n\r\nimport android.graphics.Color;\r\n\r\nimport android.graphics.Paint;\r\n\r\nimport android.graphics.RectF;\r\n\r\nimport android.graphics.Canvas;\r\n\r\nimport android.graphics.drawable.Drawable;\r\n\r\nimport android.util.AttributeSet;\r\n\r\nimport android.util.DisplayMetrics;\r\n\r\nimport android.view.View;\r\n\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.am.app.amplayer.R;\r\n\r\nimport android.content.Context;\r\n\r\nimport android.widget.SeekBar;\r\n\r\nimport com.am.app.amplayer.helper.AppHelper;\r\n\r\nimport static java.lang.Math.*;\r\n\r\npublic class ArchSlider extends View {\r\n\r\n\t/**\r\n\r\n\t * value : progress of slider\r\n\r\n\t * max : max value of slider\r\n\r\n\t */\r\n\r\n\tprivate int value;\r\n\r\n\tprivate int max;\r\n\r\n\t// thumb\r\n\r\n\tprivate final Drawable thumb;\r\n\r\n\t// slider thikness\r\n\r\n\tprivate float thikness;\r\n\r\n\t/**\r\n\r\n\t * track &amp; progress properties\r\n\r\n\t */\r\n\r\n\tprivate Paint track;\r\n\r\n\tprivate Paint progress;\r\n\r\n\tprivate int color;\r\n\r\n\tprivate int trackColor;\r\n\r\n\t// slider rect\r\n\r\n\tprivate RectF rect;\r\n\r\n\t// slider properties\r\n\r\n\tprivate float radius;\r\n\r\n\tprivate float centerX, centerY;\r\n\r\n\tprivate float alphaRad;\r\n\r\n\tpublic ArchSlider(Context context) {\r\n\r\n\t\tthis(context, null);\r\n\r\n\t}\r\n\r\n\tpublic ArchSlider(Context context, AttributeSet attrs) {\r\n\r\n\t\tthis(context, attrs, 0);\r\n\r\n\t}\r\n\r\n\tpublic ArchSlider(Context context, AttributeSet attrs, int defStyle) {\r\n\r\n\t\tsuper(context, attrs, defStyle, R.style.archSliderStyle);\r\n\r\n\t\tTypedArray array = context.getTheme().obtainStyledAttributes(attrs, R.styleable.ArchSlider, defStyle,\r\n\r\n\t\t\t\tR.style.archSliderStyle);\r\n\r\n\t\tvalue = array.getInt(R.styleable.ArchSlider_value, 14);\r\n\r\n\t\tmax = array.getInt(R.styleable.ArchSlider_max, 100);\r\n\r\n\t\tcolor = array.getColor(R.styleable.ArchSlider_color, AppHelper.getColor(R.attr.colorPrimary));\r\n\r\n\t\ttrackColor = array.getColor(R.styleable.ArchSlider_trackColor, AppHelper.getColor(R.attr.colorSurfaceVariant));\r\n\r\n\t\tthikness = array.getDimension(R.styleable.ArchSlider_thikness, getDisplayMetrics().density * 6);\r\n\r\n\t\tarray.recycle();\r\n\r\n\t\tthumb = ContextCompat.getDrawable(context, R.drawable.arch_slider_thumb);\r\n\r\n\t\ttrack = getPaint(trackColor);\r\n\r\n\t\tprogress = getPaint(color);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\r\n\tprotected void onMeasure(int w, int h) {\r\n\r\n\t\tfloat padding = max(thumb.getIntrinsicHeight() / 2.0f, thikness) + 2;\r\n\r\n\t\tfloat width = View.getDefaultSize(getSuggestedMinimumWidth(), w) - 2 * padding - getPaddingStart()\r\n\r\n\t\t\t\t- getPaddingEnd();\r\n\r\n\t\tfloat height = min(View.getDefaultSize(getSuggestedMinimumHeight(), h) - 2 * padding - getPaddingTop()\r\n\r\n\t\t\t\t- getPaddingBottom(), width / 2);\r\n\r\n\t\tfloat maxPaddingX = max(getPaddingStart(), getPaddingEnd());\r\n\r\n\t\tfloat maxPaddingY = max(getPaddingTop(), getPaddingBottom());\r\n\r\n\t\tthis.radius = (height / 2) + ((float) pow(width, 2.0) / (8 * height));\r\n\r\n\t\tthis.centerX = width / 2 + (padding + maxPaddingY);\r\n\r\n\t\tthis.centerY = radius + (padding + maxPaddingX);\r\n\r\n\t\tthis.rect = new RectF(centerX - radius, centerY - radius, radius + centerX, centerY + radius);\r\n\r\n\t\tthis.alphaRad = bound(0, (float) (acos((radius - height) / radius)), (float) (2 * PI));\r\n\r\n\t\tsuper.onMeasure(w, h);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\r\n\tprotected void onDraw(Canvas canvas) {\r\n\r\n\t\tfloat startAngle = bound(180f, (float)(270-alphaRad/2/PI*360), 360f);\r\n\r\n\t\tfloat sweepAngle = bound(0, (float)((2*alphaRad)/2/PI*360), 180f);\r\n\r\n\t\tfloat progressSweepRad = max == 0 ? 0.0f : bound(0.0f,((float)value / (float)max * 2 * alphaRad), (float)(2f * PI)); \r\n\r\n\t\tfloat progressSweepAngle = progressSweepRad / 2.0f / (float)PI * 360.0f;\r\n\r\n\t\tcanvas.drawArc(rect, startAngle, sweepAngle, false, track);\r\n\r\n\t\tcanvas.drawArc(rect, startAngle, progressSweepAngle, false, progress);\r\n\r\n\t\tAppHelper.toast(&quot;max:\\t&quot; + max + &quot;,\\tvalue:\\t&quot; + value, 1);\r\n\r\n\t}\r\n\r\n\tprivate DisplayMetrics getDisplayMetrics() {\r\n\r\n\t\treturn getResources().getDisplayMetrics();\r\n\r\n\t}\r\n\r\n\tprivate Paint getPaint(int color) {\r\n\r\n\t\tPaint paint = new Paint();\r\n\r\n\t\tpaint.setColor(color);\r\n\r\n\t\tpaint.setStrokeWidth(thikness);\r\n\r\n\t\tpaint.setStyle(Paint.Style.STROKE);\r\n\r\n\t\tpaint.setStrokeCap(Paint.Cap.ROUND);\r\n\r\n\t\tpaint.setAntiAlias(true);\r\n\r\n\t\treturn paint;\r\n\r\n\t}\r\n\r\n\tprivate final Float bound(float min, float value, float max) {\r\n\r\n\t\treturn max(min, min(value, max));\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThank you in advance for your help!\r\n\r\nI have tried to adjust the `sweepAngle` and `startAngle` parameters,\r\n\r\n```\r\n\r\n\r\nfloat startAngle = bound(0f, (float) (90 - alphaRad / 2 / PI * 360), 180f);\r\n\r\n        float sweepAngle = bound(0, (float) ((2 * alphaRad) / 2 / PI * 360), 180f);\r\n\r\n        float progressSweepRad = max == 0 ? 0.0f : bound(0.0f, ((float) value / (float) max * 2 * alphaRad), (float) (2f * PI));\r\n\r\n        float progressSweepAngle = progressSweepRad / 2.0f / (float) PI * 360.0f;\r\n\r\n        canvas.drawArc(rect, startAngle, sweepAngle, false, track);\r\n\r\n        canvas.drawArc(rect, startAngle, progressSweepAngle, false, progress);\r\n```\r\n\r\nbut i get empty view\r\n","title":"How to draw an upward arc Seekbar in a custom Seekbar class (ArcSlider)","body":"<p>I am currently working on a custom Seekbar class called &quot;ArcSlider&quot; and I'm facing an issue with the arc direction. I want to draw an arc that opens upward, but I'm not very good at math, and I can only get it to open downward.</p>\n<p>I have tried to adjust the sweepAngle and startAngle parameters, but when I do that, the view doesn't display the Seekbar anymore. I'm not interested in customizing the Seekbar shape from XML, I want to build this class programmatically.</p>\n<p>Can anyone help me with the math required to draw an upward arc? Any tips or guidance would be greatly appreciated. Here is my code so far:</p>\n<pre><code>\n\npackage com.am.app.amplayer.archslider;\n\nimport android.content.res.TypedArray;\n\nimport android.graphics.Color;\n\nimport android.graphics.Paint;\n\nimport android.graphics.RectF;\n\nimport android.graphics.Canvas;\n\nimport android.graphics.drawable.Drawable;\n\nimport android.util.AttributeSet;\n\nimport android.util.DisplayMetrics;\n\nimport android.view.View;\n\nimport androidx.core.content.ContextCompat;\n\nimport com.am.app.amplayer.R;\n\nimport android.content.Context;\n\nimport android.widget.SeekBar;\n\nimport com.am.app.amplayer.helper.AppHelper;\n\nimport static java.lang.Math.*;\n\npublic class ArchSlider extends View {\n\n    /**\n\n     * value : progress of slider\n\n     * max : max value of slider\n\n     */\n\n    private int value;\n\n    private int max;\n\n    // thumb\n\n    private final Drawable thumb;\n\n    // slider thikness\n\n    private float thikness;\n\n    /**\n\n     * track &amp; progress properties\n\n     */\n\n    private Paint track;\n\n    private Paint progress;\n\n    private int color;\n\n    private int trackColor;\n\n    // slider rect\n\n    private RectF rect;\n\n    // slider properties\n\n    private float radius;\n\n    private float centerX, centerY;\n\n    private float alphaRad;\n\n    public ArchSlider(Context context) {\n\n        this(context, null);\n\n    }\n\n    public ArchSlider(Context context, AttributeSet attrs) {\n\n        this(context, attrs, 0);\n\n    }\n\n    public ArchSlider(Context context, AttributeSet attrs, int defStyle) {\n\n        super(context, attrs, defStyle, R.style.archSliderStyle);\n\n        TypedArray array = context.getTheme().obtainStyledAttributes(attrs, R.styleable.ArchSlider, defStyle,\n\n                R.style.archSliderStyle);\n\n        value = array.getInt(R.styleable.ArchSlider_value, 14);\n\n        max = array.getInt(R.styleable.ArchSlider_max, 100);\n\n        color = array.getColor(R.styleable.ArchSlider_color, AppHelper.getColor(R.attr.colorPrimary));\n\n        trackColor = array.getColor(R.styleable.ArchSlider_trackColor, AppHelper.getColor(R.attr.colorSurfaceVariant));\n\n        thikness = array.getDimension(R.styleable.ArchSlider_thikness, getDisplayMetrics().density * 6);\n\n        array.recycle();\n\n        thumb = ContextCompat.getDrawable(context, R.drawable.arch_slider_thumb);\n\n        track = getPaint(trackColor);\n\n        progress = getPaint(color);\n\n    }\n\n    @Override\n\n    protected void onMeasure(int w, int h) {\n\n        float padding = max(thumb.getIntrinsicHeight() / 2.0f, thikness) + 2;\n\n        float width = View.getDefaultSize(getSuggestedMinimumWidth(), w) - 2 * padding - getPaddingStart()\n\n                - getPaddingEnd();\n\n        float height = min(View.getDefaultSize(getSuggestedMinimumHeight(), h) - 2 * padding - getPaddingTop()\n\n                - getPaddingBottom(), width / 2);\n\n        float maxPaddingX = max(getPaddingStart(), getPaddingEnd());\n\n        float maxPaddingY = max(getPaddingTop(), getPaddingBottom());\n\n        this.radius = (height / 2) + ((float) pow(width, 2.0) / (8 * height));\n\n        this.centerX = width / 2 + (padding + maxPaddingY);\n\n        this.centerY = radius + (padding + maxPaddingX);\n\n        this.rect = new RectF(centerX - radius, centerY - radius, radius + centerX, centerY + radius);\n\n        this.alphaRad = bound(0, (float) (acos((radius - height) / radius)), (float) (2 * PI));\n\n        super.onMeasure(w, h);\n\n    }\n\n    @Override\n\n    protected void onDraw(Canvas canvas) {\n\n        float startAngle = bound(180f, (float)(270-alphaRad/2/PI*360), 360f);\n\n        float sweepAngle = bound(0, (float)((2*alphaRad)/2/PI*360), 180f);\n\n        float progressSweepRad = max == 0 ? 0.0f : bound(0.0f,((float)value / (float)max * 2 * alphaRad), (float)(2f * PI)); \n\n        float progressSweepAngle = progressSweepRad / 2.0f / (float)PI * 360.0f;\n\n        canvas.drawArc(rect, startAngle, sweepAngle, false, track);\n\n        canvas.drawArc(rect, startAngle, progressSweepAngle, false, progress);\n\n        AppHelper.toast(&quot;max:\\t&quot; + max + &quot;,\\tvalue:\\t&quot; + value, 1);\n\n    }\n\n    private DisplayMetrics getDisplayMetrics() {\n\n        return getResources().getDisplayMetrics();\n\n    }\n\n    private Paint getPaint(int color) {\n\n        Paint paint = new Paint();\n\n        paint.setColor(color);\n\n        paint.setStrokeWidth(thikness);\n\n        paint.setStyle(Paint.Style.STROKE);\n\n        paint.setStrokeCap(Paint.Cap.ROUND);\n\n        paint.setAntiAlias(true);\n\n        return paint;\n\n    }\n\n    private final Float bound(float min, float value, float max) {\n\n        return max(min, min(value, max));\n\n    }\n\n}\n</code></pre>\n<p>Thank you in advance for your help!</p>\n<p>I have tried to adjust the <code>sweepAngle</code> and <code>startAngle</code> parameters,</p>\n<pre><code>\n\nfloat startAngle = bound(0f, (float) (90 - alphaRad / 2 / PI * 360), 180f);\n\n        float sweepAngle = bound(0, (float) ((2 * alphaRad) / 2 / PI * 360), 180f);\n\n        float progressSweepRad = max == 0 ? 0.0f : bound(0.0f, ((float) value / (float) max * 2 * alphaRad), (float) (2f * PI));\n\n        float progressSweepAngle = progressSweepRad / 2.0f / (float) PI * 360.0f;\n\n        canvas.drawArc(rect, startAngle, sweepAngle, false, track);\n\n        canvas.drawArc(rect, startAngle, progressSweepAngle, false, progress);\n</code></pre>\n<p>but i get empty view</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1680957793,"post_id":75965259,"comment_id":133983950,"body_markdown":"Return `Map&lt;String, Object&gt;`","body":"Return <code>Map&lt;String, Object&gt;</code>"},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":1,"creation_date":1680958067,"post_id":75965259,"comment_id":133983982,"body_markdown":"Yes that&#39;s an option, but how this Map&lt;String, Object&gt; be accessed back to the runner from where I am launching the job? so that I can serialize and return it as a response? By putting it in execution context?","body":"Yes that&#39;s an option, but how this Map&lt;String, Object&gt; be accessed back to the runner from where I am launching the job? so that I can serialize and return it as a response? By putting it in execution context?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1681212175,"post_id":75965259,"comment_id":134016616,"body_markdown":"This means your web controller will have to wait for the job to finish to return a response to the caller. Is that really what you want? What if the job takes minutes or hours to run? This is possible from a technical point of view, but no a good choice IMO from a design perspective. If you really know what you do and you want to do it that way, then the answer by `Mohammed Fataka` is the way to go.","body":"This means your web controller will have to wait for the job to finish to return a response to the caller. Is that really what you want? What if the job takes minutes or hours to run? This is possible from a technical point of view, but no a good choice IMO from a design perspective. If you really know what you do and you want to do it that way, then the answer by <code>Mohammed Fataka</code> is the way to go."},{"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"score":0,"creation_date":1681304877,"post_id":75965259,"comment_id":134034634,"body_markdown":"Actually, the requirement is like this only, there is a threshold set for the response. The job would be in such a way that it should not take more time than expected. What&#39;s your suggestion on this?","body":"Actually, the requirement is like this only, there is a threshold set for the response. The job would be in such a way that it should not take more time than expected. What&#39;s your suggestion on this?"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680996735,"creation_date":1680996735,"answer_id":75968136,"question_id":75965259,"body_markdown":"you can put an object in ExecutionContext, then retrieve it from \r\n```\r\nfinal var executionContext = jobExplorer.getJobExecution(id_of_job).getExecutionContext();\r\nfinal var object = executionContext.get(&quot;key&quot;);\r\n```\r\n\r\nor \r\n\r\nuse job launcher to lunch it and then get it from execution context again.\r\n```\r\nfinal var runJob = launcher.run(job.job(), jobParameters);\r\nfinal var object = runJob.getExecutionContext().get(&quot;key&quot;);\r\n``` \r\nalthough this is not recommended for huge response types, but in your case this might be useful ","title":"Best way to return an object as a response in Spring Batch?","body":"<p>you can put an object in ExecutionContext, then retrieve it from</p>\n<pre><code>final var executionContext = jobExplorer.getJobExecution(id_of_job).getExecutionContext();\nfinal var object = executionContext.get(&quot;key&quot;);\n</code></pre>\n<p>or</p>\n<p>use job launcher to lunch it and then get it from execution context again.</p>\n<pre><code>final var runJob = launcher.run(job.job(), jobParameters);\nfinal var object = runJob.getExecutionContext().get(&quot;key&quot;);\n</code></pre>\n<p>although this is not recommended for huge response types, but in your case this might be useful</p>\n"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681042569,"creation_date":1680957639,"question_id":75965259,"body_markdown":"I am using `Spring batch` to run a job. I have created a `RestController` that executes this job. However I want this job to be synchronous so I didn&#39;t annotate my job execution by `@Async`. It is working fine I am getting the response after job completion only.\r\n\r\nThe scenario is when writing of this Job is finished, i.e. in the `ItemWriter` I am creating an `object` and setting its values, so when this writer is finished I want to return this `object` as a response body.\r\n\r\nI know I can do this by creating a shared structure but I don&#39;t want to do this.\r\n\r\n**What is the best and standard way to do this?**","title":"Best way to return an object as a response in Spring Batch?","body":"<p>I am using <code>Spring batch</code> to run a job. I have created a <code>RestController</code> that executes this job. However I want this job to be synchronous so I didn't annotate my job execution by <code>@Async</code>. It is working fine I am getting the response after job completion only.</p>\n<p>The scenario is when writing of this Job is finished, i.e. in the <code>ItemWriter</code> I am creating an <code>object</code> and setting its values, so when this writer is finished I want to return this <code>object</code> as a response body.</p>\n<p>I know I can do this by creating a shared structure but I don't want to do this.</p>\n<p><strong>What is the best and standard way to do this?</strong></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1681050853,"post_id":75970418,"comment_id":133993451,"body_markdown":"You cannot launch activities from the background, such as via `AlarmManager`, on modern versions of Android. &quot;my application is supposed to run indefinitely for long hours&quot; -- generally speaking, that is an anti-pattern on battery-powered devices. My recommendation is that you reconsider this plan.","body":"You cannot launch activities from the background, such as via <code>AlarmManager</code>, on modern versions of Android. &quot;my application is supposed to run indefinitely for long hours&quot; -- generally speaking, that is an anti-pattern on battery-powered devices. My recommendation is that you reconsider this plan."},{"owner":{"account_id":442058,"reputation":55,"user_id":832490,"accept_rate":100,"display_name":"Rodrigo"},"score":0,"creation_date":1681053899,"post_id":75970418,"comment_id":133993859,"body_markdown":"It is targeted at TV devices, not mobile","body":"It is targeted at TV devices, not mobile"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1681054696,"post_id":75970418,"comment_id":133993956,"body_markdown":"AFAIK, that does not change the nature of Android.","body":"AFAIK, that does not change the nature of Android."}],"owner":{"account_id":442058,"reputation":55,"user_id":832490,"accept_rate":100,"display_name":"Rodrigo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681042276,"creation_date":1681042276,"question_id":75970418,"body_markdown":"I have a REST API that considers the day of the week:\r\n\r\n```\r\nCalendar calendar = Calendar.getInstance();\r\nint day = calendar.get(Calendar.DAY_OF_WEEK);\r\nObservable&lt;List&lt;String&gt;&gt; playlistObservable = playlistService.getPlaylist(id, day);\r\n```\r\n\r\nWhich works fine. However, my application is supposed to run indefinitely for long hours.\r\n\r\nSince I can not change where this code is, I was wondering if I could have an AlarmManager restart my &quot;controller&quot; after midnight.\r\n\r\nIf yes, how can I do this?\r\n\r\n","title":"Use AlarmManager to restart Activity periodically","body":"<p>I have a REST API that considers the day of the week:</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\nint day = calendar.get(Calendar.DAY_OF_WEEK);\nObservable&lt;List&lt;String&gt;&gt; playlistObservable = playlistService.getPlaylist(id, day);\n</code></pre>\n<p>Which works fine. However, my application is supposed to run indefinitely for long hours.</p>\n<p>Since I can not change where this code is, I was wondering if I could have an AlarmManager restart my &quot;controller&quot; after midnight.</p>\n<p>If yes, how can I do this?</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1681037861,"post_id":75969926,"comment_id":133991932,"body_markdown":"There’s an extra space character in the front","body":"There’s an extra space character in the front"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681037978,"post_id":75969926,"comment_id":133991941,"body_markdown":"Yup.  The error message says `For input string: &quot; 1&quot;`.  Note the space.","body":"Yup.  The error message says <code>For input string: &quot; 1&quot;</code>.  Note the space."},{"owner":{"account_id":22854500,"reputation":5,"user_id":16999552,"display_name":"Wonjun Jo"},"score":0,"creation_date":1681040749,"post_id":75969926,"comment_id":133992210,"body_markdown":"I can&#39;t really figure it out where the space from","body":"I can&#39;t really figure it out where the space from"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1681040845,"post_id":75969926,"comment_id":133992222,"body_markdown":"`&lt;input type=&quot;hidden&quot; name=&quot;foo&quot; value=&quot; &lt;%= foo.getValue() %&gt;&quot;` &lt;- how about here inside `value`?","body":"<code>&lt;input type=&quot;hidden&quot; name=&quot;foo&quot; value=&quot; &lt;%= foo.getValue() %&gt;&quot;</code> &lt;- how about here inside <code>value</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681041385,"creation_date":1681040960,"answer_id":75970309,"question_id":75969926,"body_markdown":"Little correction in your JSP code:\r\n   \r\n     &lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot; &lt;%= minimum.getValue() %&gt;&quot; /&gt;\r\n\r\nShould be (Space between value= tag):\r\n\r\n       \r\n\r\n     &lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot;&lt;%= minimum.getValue() %&gt;&quot; /&gt;\r\n\r\nLittle explanation:\r\nAssuming an Integer value- &#39; 1&#39; is not a valid Integer right? &#39;1&#39; is thus the changes.\r\n\r\nCorrect it for every Input tag.\r\n\r\nHope this helps. Thanks.\r\n\r\n\r\n","title":"why servlet shows internal errors 500","body":"<p>Little correction in your JSP code:</p>\n<pre><code> &lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot; &lt;%= minimum.getValue() %&gt;&quot; /&gt;\n</code></pre>\n<p>Should be (Space between value= tag):</p>\n<pre><code> &lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot;&lt;%= minimum.getValue() %&gt;&quot; /&gt;\n</code></pre>\n<p>Little explanation:\nAssuming an Integer value- ' 1' is not a valid Integer right? '1' is thus the changes.</p>\n<p>Correct it for every Input tag.</p>\n<p>Hope this helps. Thanks.</p>\n"}],"owner":{"account_id":22854500,"reputation":5,"user_id":16999552,"display_name":"Wonjun Jo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681055870,"answer_count":1,"score":0,"last_activity_date":1681041385,"creation_date":1681035439,"question_id":75969926,"body_markdown":"pass the value from jsp to servlet.while bring me internal error 500. When passing the value between jsp and servlet.\r\njava.lang.NumberFormatException: For input string: &quot; 1&quot;\r\n\tjava.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tjava.base/java.lang.Integer.parseInt(Integer.java:638)\r\n\tjava.base/java.lang.Integer.parseInt(Integer.java:770)\r\n\tservlets.guessGame.doPost(guessGame.java:20)\r\n\tservlets.guessGame.doGet(guessGame.java:81)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:502)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nI don&#39;t know why it happens Is there any way to fix these errors?\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=US-ASCII&quot;\r\n    pageEncoding=&quot;US-ASCII&quot;%&gt;\r\n&lt;%@ page import=&quot;model.GuessNumber&quot; %&gt;\r\n&lt;%\r\n\tGuessNumber minimum = new GuessNumber(1);\r\n\tGuessNumber maximum = new GuessNumber(11);\r\n\r\n\tGuessNumber guessNum = new GuessNumber();\r\n\tguessNum.setRandom(minimum.getValue(), maximum.getValue());\r\n\r\n\tGuessNumber guesses = new GuessNumber(1);\r\n%&gt;\r\n\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Guessing Game&lt;/h1&gt;\r\n\t&lt;p&gt;Welcome! Lets begin the game!&lt;/p&gt;\r\n\t&lt;p&gt;Please guess a number between &lt;%= minimum.getValue() %&gt; and  &lt;%= maximum.getValue() %&gt;.&lt;/p&gt;\r\n\t\t&lt;form name=&quot;GuessNumForm&quot; action=&quot;guessGame&quot; method=&quot;get&quot;&gt;\r\n    \t\t&lt;label&gt;\r\n    \t\t\tGuess &lt;%= guesses.getValue() %&gt; :\r\n    \t\t&lt;/label&gt;\r\n    \t\t&lt;input type=&quot;text&quot; name=&quot;guess&quot; value=&quot;&quot;/&gt;\r\n    \t\t&lt;input type=&quot;submit&quot; name=&quot;guessButton&quot; value=&quot;Guess&quot;/&gt;\r\n    \t\t&lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot; &lt;%= minimum.getValue() %&gt;&quot; /&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;maximum&quot; value=&quot; &lt;%= maximum.getValue() %&gt;&quot; /&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;guessNum&quot; value=&quot; &lt;%= guessNum.getValue() %&gt;&quot; /&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;guesses&quot; value=&quot; &lt;%= guesses.getValue() %&gt;&quot; /&gt;\r\n    \t&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\npackage servlets;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport model.GuessNumber;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(urlPatterns = {&quot;/guessGame&quot;})\r\npublic class guessGame extends HttpServlet {\r\n    private static final long serialVersionUID = 1L;\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        int guessInt = Integer.parseInt(request.getParameter(&quot;guess&quot;));\r\n        GuessNumber guess = new GuessNumber(guessInt);\r\n\r\n        GuessNumber minimum = new GuessNumber(Integer.parseInt(request.getParameter(&quot;minimum&quot;)));\r\n        GuessNumber maximum = new GuessNumber(Integer.parseInt(request.getParameter(&quot;maximum&quot;)));\r\n\r\n        int guessNumInt = Integer.parseInt(request.getParameter(&quot;guessNum&quot;));\r\n        GuessNumber guessNum = new GuessNumber(guessNumInt);\r\n        int guessesInt = Integer.parseInt(request.getParameter(&quot;guesses&quot;));\r\n        GuessNumber guesses = new GuessNumber(guessesInt);\r\n\r\n        int score = 100;\r\n        int decrement = 10;\r\n        //int totalScore = 0;\r\n        String msg = &quot; &quot;;\r\n\r\n        if(guess.getValue() == guessNum.getValue()) {\r\n            msg = &quot;Congratulations, you got it in&quot; + guesses.getValue() + &quot;tries. Your score is&quot; ;\r\n\r\n        } else {\r\n            guesses.increment();\r\n            //totalScore = score - decrement;\r\n            if(guesses.getValue() &lt; 10) {\r\n                if(guess.getValue()&lt; guessNum.getValue()) {\r\n                    msg =&quot;Incorrect. the number is higher than &quot; + guess.getValue();\r\n                }else {\r\n                    msg =&quot;Incorrect. the number is lower than &quot; + guess.getValue();\r\n                }\r\n            } else {\r\n                msg =&quot;You lose game.&quot; + &quot;Your score is &quot;;\r\n            }\r\n        }\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n\r\n        out.println(&quot;&lt;!DOC-TYPE html&gt;&quot;);\r\n        out.println(&quot;&lt;html&gt;&quot;);\r\n        out.println(&quot;&lt;head&gt;&quot;);\r\n        out.println(&quot;&lt;meta charset=&#39;US-ASCII&#39;&gt;&quot;);\r\n        out.println(&quot;&lt;title&gt;Guessing number Game&lt;/title&gt;&quot;);\r\n        out.println(&quot;&lt;/head&gt;&quot;);\r\n\r\n        out.println(&quot;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;Guessing Game&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;p&gt;&quot;+ msg +&quot;&lt;/p&gt;&quot;);\r\n\r\n        if(guess.getValue() == guessNum.getValue()) {\r\n            out.println(&quot;&lt;a href=&#39;index.jsp&#39;&gt;Play again!&lt;/a&gt;&quot;);\r\n        } else {\r\n            out.println(&quot;&lt;p&gt;Please guess a number between&quot; + minimum.getValue() + &quot;and&quot; + maximum.getValue() + &quot;&gt;.&lt;/p&gt;&quot;);\r\n            out.println(&quot;&lt;form name=&#39;GuessNumForm&#39; action=&#39;/GuessGame&#39; method=&#39;post&#39;&gt;&quot;);\r\n            out.println(&quot;&lt;label&gt;Guess&quot; + guesses.getValue() + &quot;:&lt;/label&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;text&#39; name=&#39;guess&#39; value=&#39;&#39;/&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;submit&#39; name=&#39;guessButton&#39; value=&#39;Guess&#39;/&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;hidden&#39; name=&#39;minimum&#39; value=&quot; + minimum.getValue() + &quot; /&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;hidden&#39; name=&#39;maximum&#39; value=&quot; + maximum.getValue() + &quot; /&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;hidden&#39; name=&#39;guessNum&#39; value=&quot; + guessNum.getValue() + &quot; /&gt;&quot;);\r\n            out.println(&quot;&lt;input type=&#39;hidden&#39; name=&#39;guesses&#39; value=&quot; + guesses.getValue() + &quot;/&gt;&quot;);\r\n            out.println(&quot;&lt;/form&gt;&quot;);\r\n        }\r\n        out.println(&quot;&lt;/body&gt;&quot;);\r\n        out.println(&quot;&lt;/html&gt;&quot;);\r\n    }\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        this.doPost(request, response);\r\n    }\r\n}\r\n\r\n```\r\n","title":"why servlet shows internal errors 500","body":"<p>pass the value from jsp to servlet.while bring me internal error 500. When passing the value between jsp and servlet.\njava.lang.NumberFormatException: For input string: &quot; 1&quot;\njava.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\njava.base/java.lang.Integer.parseInt(Integer.java:638)\njava.base/java.lang.Integer.parseInt(Integer.java:770)\nservlets.guessGame.doPost(guessGame.java:20)\nservlets.guessGame.doGet(guessGame.java:81)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:502)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nI don't know why it happens Is there any way to fix these errors?</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=US-ASCII&quot;\n    pageEncoding=&quot;US-ASCII&quot;%&gt;\n&lt;%@ page import=&quot;model.GuessNumber&quot; %&gt;\n&lt;%\n    GuessNumber minimum = new GuessNumber(1);\n    GuessNumber maximum = new GuessNumber(11);\n\n    GuessNumber guessNum = new GuessNumber();\n    guessNum.setRandom(minimum.getValue(), maximum.getValue());\n\n    GuessNumber guesses = new GuessNumber(1);\n%&gt;\n\n&lt;html&gt;\n&lt;body&gt;\n    &lt;h1&gt;Guessing Game&lt;/h1&gt;\n    &lt;p&gt;Welcome! Lets begin the game!&lt;/p&gt;\n    &lt;p&gt;Please guess a number between &lt;%= minimum.getValue() %&gt; and  &lt;%= maximum.getValue() %&gt;.&lt;/p&gt;\n        &lt;form name=&quot;GuessNumForm&quot; action=&quot;guessGame&quot; method=&quot;get&quot;&gt;\n            &lt;label&gt;\n                Guess &lt;%= guesses.getValue() %&gt; :\n            &lt;/label&gt;\n            &lt;input type=&quot;text&quot; name=&quot;guess&quot; value=&quot;&quot;/&gt;\n            &lt;input type=&quot;submit&quot; name=&quot;guessButton&quot; value=&quot;Guess&quot;/&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;minimum&quot; value=&quot; &lt;%= minimum.getValue() %&gt;&quot; /&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;maximum&quot; value=&quot; &lt;%= maximum.getValue() %&gt;&quot; /&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;guessNum&quot; value=&quot; &lt;%= guessNum.getValue() %&gt;&quot; /&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;guesses&quot; value=&quot; &lt;%= guesses.getValue() %&gt;&quot; /&gt;\n        &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\npackage servlets;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport model.GuessNumber;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(urlPatterns = {&quot;/guessGame&quot;})\npublic class guessGame extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        int guessInt = Integer.parseInt(request.getParameter(&quot;guess&quot;));\n        GuessNumber guess = new GuessNumber(guessInt);\n\n        GuessNumber minimum = new GuessNumber(Integer.parseInt(request.getParameter(&quot;minimum&quot;)));\n        GuessNumber maximum = new GuessNumber(Integer.parseInt(request.getParameter(&quot;maximum&quot;)));\n\n        int guessNumInt = Integer.parseInt(request.getParameter(&quot;guessNum&quot;));\n        GuessNumber guessNum = new GuessNumber(guessNumInt);\n        int guessesInt = Integer.parseInt(request.getParameter(&quot;guesses&quot;));\n        GuessNumber guesses = new GuessNumber(guessesInt);\n\n        int score = 100;\n        int decrement = 10;\n        //int totalScore = 0;\n        String msg = &quot; &quot;;\n\n        if(guess.getValue() == guessNum.getValue()) {\n            msg = &quot;Congratulations, you got it in&quot; + guesses.getValue() + &quot;tries. Your score is&quot; ;\n\n        } else {\n            guesses.increment();\n            //totalScore = score - decrement;\n            if(guesses.getValue() &lt; 10) {\n                if(guess.getValue()&lt; guessNum.getValue()) {\n                    msg =&quot;Incorrect. the number is higher than &quot; + guess.getValue();\n                }else {\n                    msg =&quot;Incorrect. the number is lower than &quot; + guess.getValue();\n                }\n            } else {\n                msg =&quot;You lose game.&quot; + &quot;Your score is &quot;;\n            }\n        }\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n\n        out.println(&quot;&lt;!DOC-TYPE html&gt;&quot;);\n        out.println(&quot;&lt;html&gt;&quot;);\n        out.println(&quot;&lt;head&gt;&quot;);\n        out.println(&quot;&lt;meta charset='US-ASCII'&gt;&quot;);\n        out.println(&quot;&lt;title&gt;Guessing number Game&lt;/title&gt;&quot;);\n        out.println(&quot;&lt;/head&gt;&quot;);\n\n        out.println(&quot;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;Guessing Game&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;p&gt;&quot;+ msg +&quot;&lt;/p&gt;&quot;);\n\n        if(guess.getValue() == guessNum.getValue()) {\n            out.println(&quot;&lt;a href='index.jsp'&gt;Play again!&lt;/a&gt;&quot;);\n        } else {\n            out.println(&quot;&lt;p&gt;Please guess a number between&quot; + minimum.getValue() + &quot;and&quot; + maximum.getValue() + &quot;&gt;.&lt;/p&gt;&quot;);\n            out.println(&quot;&lt;form name='GuessNumForm' action='/GuessGame' method='post'&gt;&quot;);\n            out.println(&quot;&lt;label&gt;Guess&quot; + guesses.getValue() + &quot;:&lt;/label&gt;&quot;);\n            out.println(&quot;&lt;input type='text' name='guess' value=''/&gt;&quot;);\n            out.println(&quot;&lt;input type='submit' name='guessButton' value='Guess'/&gt;&quot;);\n            out.println(&quot;&lt;input type='hidden' name='minimum' value=&quot; + minimum.getValue() + &quot; /&gt;&quot;);\n            out.println(&quot;&lt;input type='hidden' name='maximum' value=&quot; + maximum.getValue() + &quot; /&gt;&quot;);\n            out.println(&quot;&lt;input type='hidden' name='guessNum' value=&quot; + guessNum.getValue() + &quot; /&gt;&quot;);\n            out.println(&quot;&lt;input type='hidden' name='guesses' value=&quot; + guesses.getValue() + &quot;/&gt;&quot;);\n            out.println(&quot;&lt;/form&gt;&quot;);\n        }\n        out.println(&quot;&lt;/body&gt;&quot;);\n        out.println(&quot;&lt;/html&gt;&quot;);\n    }\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        this.doPost(request, response);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-8","stream","hashmap"],"owner":{"account_id":28221592,"reputation":11,"user_id":21572230,"display_name":"Gowraw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681040529,"creation_date":1681040529,"question_id":75970273,"body_markdown":"I want to filter map&lt;String,Object&gt; using the outer and inner key values\r\n\r\nmy map as below\r\n\r\n```\r\n`Map&lt;String,Object&gt; dataMap = new HashMap&lt;&gt;();\r\ndataMap.put(&quot;account&quot;,account);\r\ndataMap.put(&quot;productDetails&quot;,listOfProductDetails);\r\n\r\n\r\n{\r\n  &quot;account&quot;: &quot;JV-013&quot;,\r\n  &quot;productDetails&quot;: [\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productName&quot;: &quot;birew&quot;,\r\n      &quot;productVersion&quot;: [\r\n        &quot;v1.0&quot;,\r\n        &quot;v2.0&quot;\r\n      ],\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;,\r\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Pav&quot;,\r\n          &quot;ownerMail&quot;: &quot;pavghig@yahoo.com&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;productId&quot;: 1,\r\n      &quot;productName&quot;: &quot;rowa&quot;,\r\n      &quot;productVersion&quot;: [\r\n        &quot;v1.0&quot;,\r\n        &quot;v2.0&quot;\r\n      ],\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;,\r\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Rias&quot;,\r\n          &quot;ownerMail&quot;: &quot;rias765@yahoo.com&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}`\r\n\r\n```\r\nI want to filter &quot;account&quot; which is outer key, and &quot;productName&quot;,&quot;ownerName&quot; which are the inner keys for the list of items in the Map, as below,\r\n\r\n```\r\n`{\r\n  &quot;account&quot;: &quot;JV-013&quot;,\r\n  &quot;productDetails&quot;: [\r\n    {\r\n      &quot;productName&quot;: &quot;birew&quot;,\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Pav&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;productName&quot;: &quot;rowa&quot;,\r\n      &quot;productOwner&quot;: [\r\n        {\r\n          &quot;ownerName&quot;: &quot;John&quot;\r\n        },\r\n        {\r\n          &quot;ownerName&quot;: &quot;Rias&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}`\r\n```\r\nand the filtering keys are not fixed, time to time it can change.\r\n\r\n\r\n\r\nI tried the below,\r\n\r\n```\r\n`public Map&lt;String, Object&gt; filterUsingMap(String filterKeys) throws IOException {\r\n       Map&lt;String, Object&gt; dataMap = new HashMap&lt;&gt;();\r\n\t dataMap.put(&quot;account&quot;,account);\r\n       dataMap.put(&quot;productDetails&quot;,listOfProductDetails);\r\n\r\n\tfilterKeys = account,productDetails.productName,productDetails.productOwner.ownerName\r\n//nestedkeys are using Dot to differentiate\r\n\r\n       List&lt;String&gt; str = Arrays.asList(filterKeys .split(&quot;,&quot;));\r\n\r\n       //filter map with fields\r\n        Map&lt;String, Object&gt; filteredMap1 = dataMap.entrySet()\r\n                .stream()\r\n                .filter(entry -&gt; str.contains(entry.getKey()))\r\n                .collect(Collectors.toConcurrentMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\n\r\n        return filteredMap1;\r\n\r\n    }`\r\n```\r\n\r\n\r\nthis only filters the outer keys, can someone help to filter the nestedKeys also\r\n","title":"Filter Map&lt;String,Object&gt; by outer key and also usibg inner key using stream java 8","body":"<p>I want to filter map&lt;String,Object&gt; using the outer and inner key values</p>\n<p>my map as below</p>\n<pre><code>`Map&lt;String,Object&gt; dataMap = new HashMap&lt;&gt;();\ndataMap.put(&quot;account&quot;,account);\ndataMap.put(&quot;productDetails&quot;,listOfProductDetails);\n\n\n{\n  &quot;account&quot;: &quot;JV-013&quot;,\n  &quot;productDetails&quot;: [\n    {\n      &quot;productId&quot;: 1,\n      &quot;productName&quot;: &quot;birew&quot;,\n      &quot;productVersion&quot;: [\n        &quot;v1.0&quot;,\n        &quot;v2.0&quot;\n      ],\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;,\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Pav&quot;,\n          &quot;ownerMail&quot;: &quot;pavghig@yahoo.com&quot;\n        }\n      ]\n    },\n    {\n      &quot;productId&quot;: 1,\n      &quot;productName&quot;: &quot;rowa&quot;,\n      &quot;productVersion&quot;: [\n        &quot;v1.0&quot;,\n        &quot;v2.0&quot;\n      ],\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;,\n          &quot;ownerMail&quot;: &quot;john34@yahoo.com&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Rias&quot;,\n          &quot;ownerMail&quot;: &quot;rias765@yahoo.com&quot;\n        }\n      ]\n    }\n  ]\n}`\n\n</code></pre>\n<p>I want to filter &quot;account&quot; which is outer key, and &quot;productName&quot;,&quot;ownerName&quot; which are the inner keys for the list of items in the Map, as below,</p>\n<pre><code>`{\n  &quot;account&quot;: &quot;JV-013&quot;,\n  &quot;productDetails&quot;: [\n    {\n      &quot;productName&quot;: &quot;birew&quot;,\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Pav&quot;\n        }\n      ]\n    },\n    {\n      &quot;productName&quot;: &quot;rowa&quot;,\n      &quot;productOwner&quot;: [\n        {\n          &quot;ownerName&quot;: &quot;John&quot;\n        },\n        {\n          &quot;ownerName&quot;: &quot;Rias&quot;\n        }\n      ]\n    }\n  ]\n}`\n</code></pre>\n<p>and the filtering keys are not fixed, time to time it can change.</p>\n<p>I tried the below,</p>\n<pre><code>`public Map&lt;String, Object&gt; filterUsingMap(String filterKeys) throws IOException {\n       Map&lt;String, Object&gt; dataMap = new HashMap&lt;&gt;();\n     dataMap.put(&quot;account&quot;,account);\n       dataMap.put(&quot;productDetails&quot;,listOfProductDetails);\n\n    filterKeys = account,productDetails.productName,productDetails.productOwner.ownerName\n//nestedkeys are using Dot to differentiate\n\n       List&lt;String&gt; str = Arrays.asList(filterKeys .split(&quot;,&quot;));\n\n       //filter map with fields\n        Map&lt;String, Object&gt; filteredMap1 = dataMap.entrySet()\n                .stream()\n                .filter(entry -&gt; str.contains(entry.getKey()))\n                .collect(Collectors.toConcurrentMap(Map.Entry::getKey, Map.Entry::getValue));\n\n\n        return filteredMap1;\n\n    }`\n</code></pre>\n<p>this only filters the outer keys, can someone help to filter the nestedKeys also</p>\n"},{"tags":["java","json","log4j"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681040502,"creation_date":1681040502,"answer_id":75970272,"question_id":75956483,"body_markdown":"[The `IllegalStateException` is due to a bug introduced in version 2.15.0 and solved in 2.19.0 (cf. [LOG4J2-3614](https://issues.apache.org/jira/browse/LOG4J2-3614)). Upgrade to version 2.20.0 to get rid of it]\r\n\r\nLog4j2 uses multiple date formatters: Apache Commons&#39; [`FastDateFormat`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/FastDateFormat.html), Log4j&#39;s [`FixedDateFormat`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/util/datetime/FixedDateFormat.html) (an optimalized version of the first one) and Java&#39;s [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).\r\n\r\nThe default JSON Template Layout is `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZZZ`, where the time zone part is interpreted as:\r\n\r\n * sign + 2 digits + colon + 2 digits by `FastDateFormat`\r\n * sign + 4 digits by `DateTimeFormatter`.\r\n\r\nDue to some changes in version 2.15.0 the semantics of the pattern switched from `FastDateFormat` to `DateTimeFormatter`. I have reported it as [Github issue #1420](https://github.com/apache/logging-log4j2/issues/1420).\r\n\r\nTo maintain the previous behavior you need to use:\r\n\r\n```json\r\n&quot;timestamp&quot;: {\r\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\r\n    &quot;pattern&quot;: {\r\n      &quot;format&quot;: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;\r\n    }\r\n}\r\n```\r\n\r\nAn `XXX` pattern would output `Z` instead of `+00:00`.","title":"Log4J2: JsonTemplateLayout timestamp format problem","body":"<p>[The <code>IllegalStateException</code> is due to a bug introduced in version 2.15.0 and solved in 2.19.0 (cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3614\" rel=\"nofollow noreferrer\">LOG4J2-3614</a>). Upgrade to version 2.20.0 to get rid of it]</p>\n<p>Log4j2 uses multiple date formatters: Apache Commons' <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/FastDateFormat.html\" rel=\"nofollow noreferrer\"><code>FastDateFormat</code></a>, Log4j's <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/util/datetime/FixedDateFormat.html\" rel=\"nofollow noreferrer\"><code>FixedDateFormat</code></a> (an optimalized version of the first one) and Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<p>The default JSON Template Layout is <code>yyyy-MM-dd'T'HH:mm:ss.SSSZZZ</code>, where the time zone part is interpreted as:</p>\n<ul>\n<li>sign + 2 digits + colon + 2 digits by <code>FastDateFormat</code></li>\n<li>sign + 4 digits by <code>DateTimeFormatter</code>.</li>\n</ul>\n<p>Due to some changes in version 2.15.0 the semantics of the pattern switched from <code>FastDateFormat</code> to <code>DateTimeFormatter</code>. I have reported it as <a href=\"https://github.com/apache/logging-log4j2/issues/1420\" rel=\"nofollow noreferrer\">Github issue #1420</a>.</p>\n<p>To maintain the previous behavior you need to use:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;timestamp&quot;: {\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\n    &quot;pattern&quot;: {\n      &quot;format&quot;: &quot;yyyy-MM-dd'T'HH:mm:ss.SSSxxx&quot;\n    }\n}\n</code></pre>\n<p>An <code>XXX</code> pattern would output <code>Z</code> instead of <code>+00:00</code>.</p>\n"}],"owner":{"account_id":14593176,"reputation":115,"user_id":10539722,"display_name":"3AKOBAH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681040502,"creation_date":1680853637,"question_id":75956483,"body_markdown":"\r\nI jave a log4j timestamp formatting problem, any help will be appreciated.\r\n\r\nUsing ```JsonTemplateLayout``` and following xml config, I am trying, with no success, to achieve timestamp formatting like so:\r\n```2020-02-07T13:38:47.098+02:00```(Notice the ```:``` char at +02:00):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;ConsoleJSONAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n          &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:log4j2.json&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.my.logger&quot; additivity=&quot;false&quot; level=&quot;debug&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;ConsoleJSONAppender&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAccording to the [Timestamp Resolver manual](https://logging.apache.org/log4j/2.x/manual/json-template-layout.html#event-template-resolver-timestamp) the default format is the one I need,\r\nbut the parsed format looks like this:\r\n\r\n```2020-02-07T13:38:47.098+0200```. (Notice the missing colon char at +0200)\r\n\r\nFollowing is a snippet from my eventTemplate JSON using default formatting and resulting to the format above.\r\n```\r\n  &quot;timestamp&quot;: {\r\n    &quot;$resolver&quot;: &quot;timestamp&quot;\r\n  }\r\n```\r\n\r\nUsing the ```ISO8601_OFFSET_DATE_TIME_HHCMM``` of [FixedDateFormat.FixedFormat](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/util/datetime/FixedDateFormat.FixedFormat.html#ISO8601_OFFSET_DATE_TIME_HHCMM) enum also leads to formatting without ```:``` at +02:00:\r\n```\r\n&quot;timestamp&quot;: {\r\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\r\n    &quot;format&quot;: &quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM}&quot;\r\n  }\r\n```\r\n\r\nStrangely, using the format from ```ISO8601_OFFSET_DATE_TIME_HHCMM``` which is ```yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSSXXX```, I get exception:\r\n```\r\nUnable to invoke factory method in class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout for element JsonTemplateLayout:\r\njava.lang.IllegalStateException:\r\nNo factory method found for class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout java.lang.IllegalStateException:\r\nNo factory method found for class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout\r\n```\r\n```\r\n&quot;timestamp&quot;: {\r\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\r\n    &quot;pattern&quot;: {\r\n      &quot;format&quot;: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss,SSSXXX&quot;,\r\n      &quot;timeZone&quot;: &quot;UTC&quot;\r\n    }\r\n  }\r\n```\r\n","title":"Log4J2: JsonTemplateLayout timestamp format problem","body":"<p>I jave a log4j timestamp formatting problem, any help will be appreciated.</p>\n<p>Using <code>JsonTemplateLayout</code> and following xml config, I am trying, with no success, to achieve timestamp formatting like so:\n<code>2020-02-07T13:38:47.098+02:00</code>(Notice the <code>:</code> char at +02:00):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleJSONAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n          &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:log4j2.json&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.my.logger&quot; additivity=&quot;false&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleJSONAppender&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>According to the <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html#event-template-resolver-timestamp\" rel=\"nofollow noreferrer\">Timestamp Resolver manual</a> the default format is the one I need,\nbut the parsed format looks like this:</p>\n<p><code>2020-02-07T13:38:47.098+0200</code>. (Notice the missing colon char at +0200)</p>\n<p>Following is a snippet from my eventTemplate JSON using default formatting and resulting to the format above.</p>\n<pre><code>  &quot;timestamp&quot;: {\n    &quot;$resolver&quot;: &quot;timestamp&quot;\n  }\n</code></pre>\n<p>Using the <code>ISO8601_OFFSET_DATE_TIME_HHCMM</code> of <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/util/datetime/FixedDateFormat.FixedFormat.html#ISO8601_OFFSET_DATE_TIME_HHCMM\" rel=\"nofollow noreferrer\">FixedDateFormat.FixedFormat</a> enum also leads to formatting without <code>:</code> at +02:00:</p>\n<pre><code>&quot;timestamp&quot;: {\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\n    &quot;format&quot;: &quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM}&quot;\n  }\n</code></pre>\n<p>Strangely, using the format from <code>ISO8601_OFFSET_DATE_TIME_HHCMM</code> which is <code>yyyy-MM-dd'T'HH:mm:ss,SSSXXX</code>, I get exception:</p>\n<pre><code>Unable to invoke factory method in class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout for element JsonTemplateLayout:\njava.lang.IllegalStateException:\nNo factory method found for class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout java.lang.IllegalStateException:\nNo factory method found for class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout\n</code></pre>\n<pre><code>&quot;timestamp&quot;: {\n    &quot;$resolver&quot;: &quot;timestamp&quot;,\n    &quot;pattern&quot;: {\n      &quot;format&quot;: &quot;yyyy-MM-dd'T'HH:mm:ss,SSSXXX&quot;,\n      &quot;timeZone&quot;: &quot;UTC&quot;\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","dependencies","thymeleaf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681140164,"post_id":75970248,"comment_id":134004804,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25595519,"reputation":1,"user_id":20401763,"display_name":"Andrew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681040190,"creation_date":1681040142,"question_id":75970248,"body_markdown":"When I want to run my application on Java, I have following problem:\r\n\r\n```\r\n2023-04-09 13:12:24.474  INFO 10620 --- [           main] c.e.a.SportsManagementSystemApplication  : Starting SportsManagementSystemApplication using Java 11.0.18 on Quizer with PID 10620 (C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes started by akiri in C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication)\r\n2023-04-09 13:12:24.477  INFO 10620 --- [           main] c.e.a.SportsManagementSystemApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-09 13:12:24.792  INFO 10620 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-09 13:12:24.826  INFO 10620 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interfaces.\r\n2023-04-09 13:12:25.276  INFO 10620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-04-09 13:12:25.281  INFO 10620 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-09 13:12:25.281  INFO 10620 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2023-04-09 13:12:25.369  INFO 10620 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-09 13:12:25.369  INFO 10620 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 864 ms\r\n2023-04-09 13:12:25.441  WARN 10620 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;springSecurity&#39;: Unsatisfied dependency expressed through method &#39;setUserDetailsService&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39; defined in file [C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes\\com\\example\\application\\Security\\CustomUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;users&#39; defined in com.example.application.UserRepository.UserRepository defined in @EnableJpaRepositories declared on SpringSecurity: Cannot create inner bean &#39;(inner bean)#712ac7e6&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#712ac7e6&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n2023-04-09 13:12:25.443  INFO 10620 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-04-09 13:12:25.453  INFO 10620 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-09 13:12:25.462 ERROR 10620 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\r\n↑     ↓\r\n|  springSecurity\r\n↑     ↓\r\n|  customUserDetailsService defined in file [C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes\\com\\example\\application\\Security\\CustomUserDetailsService.class]\r\n↑     ↓\r\n|  users defined in com.example.application.UserRepository.UserRepository defined in @EnableJpaRepositories declared on SpringSecurity\r\n↑     ↓\r\n|  (inner bean)#712ac7e6\r\n└─────┘\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThis is my pom.xml:  \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SportApiDemo&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t&lt;org.projectlombok.version&gt;1.18.26&lt;/org.projectlombok.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.5.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.18.26&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;24.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is my Spring Security:\r\n\r\n```\r\npackage com.example.application.Config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.Properties;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(basePackages = &quot;com.example.application.UserRepository&quot;)\r\n@EnableWebSecurity\r\npublic class SpringSecurity extends WebSecurityConfigurerAdapter {\r\n\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    public void setUserDetailsService(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource());\r\n        em.setPackagesToScan(&quot;com.example.application&quot;);\r\n\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        em.setJpaProperties(additionalProperties());\r\n\r\n        return em;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:5432/User&quot;);\r\n        dataSource.setUsername(&quot;postgres&quot;);\r\n        dataSource.setPassword(&quot;75801&quot;);\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    private Properties additionalProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\r\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\r\n        return properties;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/register/**&quot;).permitAll()\r\n                .antMatchers(&quot;/index&quot;).permitAll()\r\n                .antMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/users&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .permitAll();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n}\r\n```\r\n\r\nThis is my CustomUserDetailsService:\r\n\r\n```\r\npackage com.example.application.Security;\r\n\r\nimport com.example.application.Role.Role;\r\nimport com.example.application.User.User;\r\nimport com.example.application.UserRepository.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Collection;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public CustomUserDetailsService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = userRepository.findByEmail(email);\r\n\r\n        if (user != null) {\r\n            return new org.springframework.security.core.userdetails.User(user.getEmail(),\r\n                    user.getPassword(),\r\n                    mapRolesToAuthorities(user.getRoles()));\r\n        }else{\r\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n        }\r\n    }\r\n\r\n    private Collection&lt; ? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection &lt;Role&gt; roles) {\r\n        Collection &lt; ? extends GrantedAuthority&gt; mapRoles = roles.stream()\r\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toList());\r\n        return mapRoles;\r\n    }\r\n}\r\n```\r\n\r\nThis is my UserRepository:\r\n\r\n```\r\npackage com.example.application.UserRepository;\r\n\r\nimport com.example.application.User.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n\r\n@Repository(value=&quot;users&quot;)\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;, JpaSpecificationExecutor&lt;User&gt; {\r\n\r\n    User findByEmail(String email);\r\n\r\n}\r\n```\r\n\r\nThis is my User:\r\n\r\n```\r\npackage com.example.application.User;\r\n\r\n\r\nimport com.example.application.Role.Role;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.Table;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Table(appliesTo = &quot;users&quot;)\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\npublic class User {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;USERS_ID&quot;, referencedColumnName = &quot;ID&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;ROLES_ID&quot;, referencedColumnName = &quot;ID&quot;)})\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my Role:\r\n\r\n```\r\npackage com.example.application.Role;\r\n\r\n\r\nimport com.example.application.User.User;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.Table;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(appliesTo = &quot;roles&quot;)\r\n@Entity\r\npublic class Role\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable=false, unique=true)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nActually, I have already tried to add lazy annotation in my class but unfortunately it hasn&#39;t work.However I have already added permission in application.properties for spring that he can allow circular references in project and this is too hasn&#39;t helping me.","title":"Spring boot and ThymeLeaf:The dependencies of some of the beans in the application context form a cycle","body":"<p>When I want to run my application on Java, I have following problem:</p>\n<pre><code>2023-04-09 13:12:24.474  INFO 10620 --- [           main] c.e.a.SportsManagementSystemApplication  : Starting SportsManagementSystemApplication using Java 11.0.18 on Quizer with PID 10620 (C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes started by akiri in C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication)\n2023-04-09 13:12:24.477  INFO 10620 --- [           main] c.e.a.SportsManagementSystemApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-09 13:12:24.792  INFO 10620 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-09 13:12:24.826  INFO 10620 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interfaces.\n2023-04-09 13:12:25.276  INFO 10620 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-09 13:12:25.281  INFO 10620 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-09 13:12:25.281  INFO 10620 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2023-04-09 13:12:25.369  INFO 10620 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-09 13:12:25.369  INFO 10620 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 864 ms\n2023-04-09 13:12:25.441  WARN 10620 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'springSecurity': Unsatisfied dependency expressed through method 'setUserDetailsService' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService' defined in file [C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes\\com\\example\\application\\Security\\CustomUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'users' defined in com.example.application.UserRepository.UserRepository defined in @EnableJpaRepositories declared on SpringSecurity: Cannot create inner bean '(inner bean)#712ac7e6' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#712ac7e6': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer': Requested bean is currently in creation: Is there an unresolvable circular reference?\n2023-04-09 13:12:25.443  INFO 10620 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-09 13:12:25.453  INFO 10620 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-04-09 13:12:25.462 ERROR 10620 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  dataSourceScriptDatabaseInitializer defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]\n↑     ↓\n|  springSecurity\n↑     ↓\n|  customUserDetailsService defined in file [C:\\Users\\akiri\\IdeaProjects\\SportsManagementSystemApplication\\target\\classes\\com\\example\\application\\Security\\CustomUserDetailsService.class]\n↑     ↓\n|  users defined in com.example.application.UserRepository.UserRepository defined in @EnableJpaRepositories declared on SpringSecurity\n↑     ↓\n|  (inner bean)#712ac7e6\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SportApiDemo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;org.projectlombok.version&gt;1.18.26&lt;/org.projectlombok.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.4&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n                &lt;version&gt;8.0.0.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.26&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my Spring Security:</p>\n<pre><code>package com.example.application.Config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.example.application.UserRepository&quot;)\n@EnableWebSecurity\npublic class SpringSecurity extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    public void setUserDetailsService(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource());\n        em.setPackagesToScan(&quot;com.example.application&quot;);\n\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n\n        return em;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:5432/User&quot;);\n        dataSource.setUsername(&quot;postgres&quot;);\n        dataSource.setPassword(&quot;75801&quot;);\n\n        return dataSource;\n    }\n\n    private Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL5InnoDBDialect&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n\n        return properties;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/register/**&quot;).permitAll()\n                .antMatchers(&quot;/index&quot;).permitAll()\n                .antMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/users&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .permitAll();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p>This is my CustomUserDetailsService:</p>\n<pre><code>package com.example.application.Security;\n\nimport com.example.application.Role.Role;\nimport com.example.application.User.User;\nimport com.example.application.UserRepository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Collection;\nimport java.util.stream.Collectors;\n\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public CustomUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userRepository.findByEmail(email);\n\n        if (user != null) {\n            return new org.springframework.security.core.userdetails.User(user.getEmail(),\n                    user.getPassword(),\n                    mapRolesToAuthorities(user.getRoles()));\n        }else{\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n    }\n\n    private Collection&lt; ? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection &lt;Role&gt; roles) {\n        Collection &lt; ? extends GrantedAuthority&gt; mapRoles = roles.stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList());\n        return mapRoles;\n    }\n}\n</code></pre>\n<p>This is my UserRepository:</p>\n<pre><code>package com.example.application.UserRepository;\n\nimport com.example.application.User.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository(value=&quot;users&quot;)\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;, JpaSpecificationExecutor&lt;User&gt; {\n\n    User findByEmail(String email);\n\n}\n</code></pre>\n<p>This is my User:</p>\n<pre><code>package com.example.application.User;\n\n\nimport com.example.application.Role.Role;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.Table;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Getter\n@Table(appliesTo = &quot;users&quot;)\n@Setter\n@NoArgsConstructor\n@Entity\npublic class User {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = {@JoinColumn(name = &quot;USERS_ID&quot;, referencedColumnName = &quot;ID&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;ROLES_ID&quot;, referencedColumnName = &quot;ID&quot;)})\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n}\n\n</code></pre>\n<p>This is my Role:</p>\n<pre><code>package com.example.application.Role;\n\n\nimport com.example.application.User.User;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.Table;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(appliesTo = &quot;roles&quot;)\n@Entity\npublic class Role\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable=false, unique=true)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Actually, I have already tried to add lazy annotation in my class but unfortunately it hasn't work.However I have already added permission in application.properties for spring that he can allow circular references in project and this is too hasn't helping me.</p>\n"},{"tags":["java","spring-cloud","spring-cloud-config","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":9651180,"reputation":1,"user_id":7162302,"display_name":"jmc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681039198,"creation_date":1681039198,"answer_id":75970194,"question_id":74433132,"body_markdown":"I got the same issue and solved loading on VAULT the default properties in the \r\n&quot;application&quot; (licensing-server in your case) path without trailing slash and default profile.\r\nSo on VAULT I have the path &quot;application&quot; for default values and &quot;application/dev&quot; for the dev profile","title":"Spring Cloud Config Vault does not work with the default profile","body":"<p>I got the same issue and solved loading on VAULT the default properties in the\n&quot;application&quot; (licensing-server in your case) path without trailing slash and default profile.\nSo on VAULT I have the path &quot;application&quot; for default values and &quot;application/dev&quot; for the dev profile</p>\n"}],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681039198,"creation_date":1668435672,"question_id":74433132,"body_markdown":"I&#39;m working on an implementation of config-server as per Manning&#39;s book [Spring microservices in action 2e][1] and I encountered a problem that the config server doesn&#39;t read properties from the default profile.\r\n\r\nMy vault path is `secret/licensing-service/default`, I&#39;m able to read the vault config for a default profile via this command\r\n```\r\ncurl -X GET -H &quot;X-Vault-Token:myroot&quot; http://127.0.0.1:8200/v1/secret/data/licensing-service/default | jq\r\n```\r\nHowever when I enable debug logging and issue a request:\r\n```\r\ncurl -X &quot;GET&quot; &quot;http://localhost:8071/licensing-service/default&quot; -H &quot;X-Config-Token: myroot&quot; | jq                    \r\n{\r\n  &quot;name&quot;: &quot;licensing-service&quot;,\r\n  &quot;profiles&quot;: [\r\n    &quot;default&quot;\r\n  ],\r\n  &quot;label&quot;: null,\r\n  &quot;version&quot;: null,\r\n  &quot;state&quot;: null,\r\n  &quot;propertySources&quot;: []\r\n}\r\n```\r\nI see that spring tries to issue the following HTTP requests:\r\n```\r\n2022-11-13 15:41:41.272 DEBUG 92277 --- [nio-8071-exec-9] o.s.web.client.RestTemplate\r\n              : HTTP GET http://127.0.0.1:8200/v1/secret/data/licensing-service\r\n2022-11-13 15:41:42.100 DEBUG 92277 --- [nio-8071-exec-9] o.s.web.client.RestTemplate\r\n              : HTTP GET http://127.0.0.1:8200/v1/secret/data/application\r\n```\r\n\r\nAs can be seen it strips a default keyword from the URL, I found that it does so in the following class - https://github.com/spring-cloud/spring-cloud-config/blob/main/spring-cloud-config-server/src/main/java/org/springframework/cloud/config/server/environment/AbstractVaultEnvironmentRepository.java\r\nIn particular here:\r\n```\r\nprivate List&lt;String&gt; scrubProfiles(String[] profiles) {\r\n\t\tList&lt;String&gt; scrubbedProfiles = new ArrayList&lt;&gt;(Arrays.asList(profiles));\r\n\t\tscrubbedProfiles.remove(&quot;default&quot;);\r\n\t\treturn scrubbedProfiles;\r\n\t}\r\n\r\n```\r\nWhat am I doing wrong and how do I make it read data from the default profile? Everything described above works for dev profile with vault path `secret/licensing-service/dev`\r\nThis is the config of my configuration server:\r\n```\r\nspring:\r\n  application:\r\n    name: config-server\r\n  profiles:\r\n    active: vault\r\n  cloud:\r\n    config:\r\n      server:\r\n        vault:\r\n          port: 8200\r\n          host: 127.0.0.1\r\n          kv-version: 2\r\n          profile-separator: /\r\n\r\n\r\nserver:\r\n  port: 8071\r\n```\r\n  [1]: https://www.manning.com/books/spring-microservices-in-action-second-edition","title":"Spring Cloud Config Vault does not work with the default profile","body":"<p>I'm working on an implementation of config-server as per Manning's book <a href=\"https://www.manning.com/books/spring-microservices-in-action-second-edition\" rel=\"nofollow noreferrer\">Spring microservices in action 2e</a> and I encountered a problem that the config server doesn't read properties from the default profile.</p>\n<p>My vault path is <code>secret/licensing-service/default</code>, I'm able to read the vault config for a default profile via this command</p>\n<pre><code>curl -X GET -H &quot;X-Vault-Token:myroot&quot; http://127.0.0.1:8200/v1/secret/data/licensing-service/default | jq\n</code></pre>\n<p>However when I enable debug logging and issue a request:</p>\n<pre><code>curl -X &quot;GET&quot; &quot;http://localhost:8071/licensing-service/default&quot; -H &quot;X-Config-Token: myroot&quot; | jq                    \n{\n  &quot;name&quot;: &quot;licensing-service&quot;,\n  &quot;profiles&quot;: [\n    &quot;default&quot;\n  ],\n  &quot;label&quot;: null,\n  &quot;version&quot;: null,\n  &quot;state&quot;: null,\n  &quot;propertySources&quot;: []\n}\n</code></pre>\n<p>I see that spring tries to issue the following HTTP requests:</p>\n<pre><code>2022-11-13 15:41:41.272 DEBUG 92277 --- [nio-8071-exec-9] o.s.web.client.RestTemplate\n              : HTTP GET http://127.0.0.1:8200/v1/secret/data/licensing-service\n2022-11-13 15:41:42.100 DEBUG 92277 --- [nio-8071-exec-9] o.s.web.client.RestTemplate\n              : HTTP GET http://127.0.0.1:8200/v1/secret/data/application\n</code></pre>\n<p>As can be seen it strips a default keyword from the URL, I found that it does so in the following class - <a href=\"https://github.com/spring-cloud/spring-cloud-config/blob/main/spring-cloud-config-server/src/main/java/org/springframework/cloud/config/server/environment/AbstractVaultEnvironmentRepository.java\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-config/blob/main/spring-cloud-config-server/src/main/java/org/springframework/cloud/config/server/environment/AbstractVaultEnvironmentRepository.java</a>\nIn particular here:</p>\n<pre><code>private List&lt;String&gt; scrubProfiles(String[] profiles) {\n        List&lt;String&gt; scrubbedProfiles = new ArrayList&lt;&gt;(Arrays.asList(profiles));\n        scrubbedProfiles.remove(&quot;default&quot;);\n        return scrubbedProfiles;\n    }\n\n</code></pre>\n<p>What am I doing wrong and how do I make it read data from the default profile? Everything described above works for dev profile with vault path <code>secret/licensing-service/dev</code>\nThis is the config of my configuration server:</p>\n<pre><code>spring:\n  application:\n    name: config-server\n  profiles:\n    active: vault\n  cloud:\n    config:\n      server:\n        vault:\n          port: 8200\n          host: 127.0.0.1\n          kv-version: 2\n          profile-separator: /\n\n\nserver:\n  port: 8071\n</code></pre>\n"},{"tags":["java","spring","authentication","spring-security"],"owner":{"account_id":20804262,"reputation":1,"user_id":15279523,"display_name":"OlalalaO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681038044,"answer_count":0,"score":0,"last_activity_date":1681038901,"creation_date":1680930186,"question_id":75963393,"body_markdown":"The official documentation is as follows:\r\n\r\n```java\r\npublic class MyFilterSecurityMetadataSource implements FilterInvocationSecurityMetadataSource {\r\n\r\n\tpublic List&lt;ConfigAttribute&gt; getAttributes(Object object) {\r\n\t\tFilterInvocation fi = (FilterInvocation) object;\r\n\t\t\tString url = fi.getRequestUrl();\r\n\t\t\tString httpMethod = fi.getRequest().getMethod();\r\n\t\t\tList&lt;ConfigAttribute&gt; attributes = new ArrayList&lt;ConfigAttribute&gt;();\r\n\r\n\t\t\t// Lookup your database (or other source) using this information and populate the\r\n\t\t\t// list of attributes\r\n\r\n\t\t\treturn attributes;\r\n\t}\r\n\r\n\tpublic Collection&lt;ConfigAttribute&gt; getAllConfigAttributes() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic boolean supports(Class&lt;?&gt; clazz) {\r\n\t\treturn FilterInvocation.class.isAssignableFrom(clazz);\r\n\t}\r\n}\r\n```\r\nI have written the code required for the commented section.\r\n\r\nHow to use MyFilterSecurityMetadataSource? I have no idea about it.\r\n\r\nI have been looking for clues in the official documentation and samples, but found none.","title":"How to dynamically define secured URLs within an application in Spring Security 6.0.2","body":"<p>The official documentation is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFilterSecurityMetadataSource implements FilterInvocationSecurityMetadataSource {\n\n    public List&lt;ConfigAttribute&gt; getAttributes(Object object) {\n        FilterInvocation fi = (FilterInvocation) object;\n            String url = fi.getRequestUrl();\n            String httpMethod = fi.getRequest().getMethod();\n            List&lt;ConfigAttribute&gt; attributes = new ArrayList&lt;ConfigAttribute&gt;();\n\n            // Lookup your database (or other source) using this information and populate the\n            // list of attributes\n\n            return attributes;\n    }\n\n    public Collection&lt;ConfigAttribute&gt; getAllConfigAttributes() {\n        return null;\n    }\n\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return FilterInvocation.class.isAssignableFrom(clazz);\n    }\n}\n</code></pre>\n<p>I have written the code required for the commented section.</p>\n<p>How to use MyFilterSecurityMetadataSource? I have no idea about it.</p>\n<p>I have been looking for clues in the official documentation and samples, but found none.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1461949213,"creation_date":1461949213,"answer_id":36943840,"question_id":36943806,"body_markdown":"Groups aren&#39;t thought to find several matches. They are thought to identify several subparts in a single match, e.g. the expression `&quot;([A-Za-z]*):([A-Za-z]*)&quot;` would match a key-value pair and you could get the key as group 1 and the value as group 2.\r\n\r\nThere is only 1 group (= one brackets pair) in your expression and therefore only the groups 0 (always the whole matched expression, independently of your manually defined groups) and 1 (the single group you defined) are returned.\r\n\r\nIn your case, try calling `find` iteratively, if you want more matches.\r\n\r\n    int i = 0;\r\n    while (matcher.find()) {\r\n        System.out.println(&quot;Match &quot; + i + &quot;: &quot; + matcher.group(1));\r\n        i++;\r\n    }","title":"Get all captured groups in Java","body":"<p>Groups aren't thought to find several matches. They are thought to identify several subparts in a single match, e.g. the expression <code>\"([A-Za-z]*):([A-Za-z]*)\"</code> would match a key-value pair and you could get the key as group 1 and the value as group 2.</p>\n\n<p>There is only 1 group (= one brackets pair) in your expression and therefore only the groups 0 (always the whole matched expression, independently of your manually defined groups) and 1 (the single group you defined) are returned.</p>\n\n<p>In your case, try calling <code>find</code> iteratively, if you want more matches.</p>\n\n<pre><code>int i = 0;\nwhile (matcher.find()) {\n    System.out.println(\"Match \" + i + \": \" + matcher.group(1));\n    i++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268336,"reputation":10952,"user_id":1996394,"accept_rate":80,"display_name":"rock321987"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1461950016,"creation_date":1461949227,"answer_id":36943847,"question_id":36943806,"body_markdown":"JAVA does not offer fancy global option to find all the matches at once. So, you need `while loop` here\r\n\r\n    int i = 0;\r\n    while (matcher.find()) {\r\n       for (int j = 0; j &lt;= matcher.groupCount(); j++) {\r\n          System.out.println(&quot;------------------------------------&quot;);\r\n          System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(j));\r\n          i++;\r\n       }\r\n    }\r\n\r\n**[Ideone Demo][1]**\r\n\r\n\r\n  [1]: http://ideone.com/5kKXiA","title":"Get all captured groups in Java","body":"<p>JAVA does not offer fancy global option to find all the matches at once. So, you need <code>while loop</code> here</p>\n\n<pre><code>int i = 0;\nwhile (matcher.find()) {\n   for (int j = 0; j &lt;= matcher.groupCount(); j++) {\n      System.out.println(\"------------------------------------\");\n      System.out.println(\"Group \" + i + \": \" + matcher.group(j));\n      i++;\n   }\n}\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/5kKXiA\" rel=\"noreferrer\">Ideone Demo</a></strong></p>\n"},{"tags":[],"owner":{"account_id":17318932,"reputation":117,"user_id":12544798,"display_name":"Artjom Prozorov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580731116,"creation_date":1580731116,"answer_id":60038818,"question_id":36943806,"body_markdown":"Also if you know the amount of matches you will get, you can find groups and add them to list then just take values from list when needed to assigned them somewhere else \r\n\r\n\r\n\r\n     public static List&lt;String&gt; groupList(String text, Pattern pattern) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n            list.add(matcher.group(i));\r\n                }\r\n            }\r\n        return list;","title":"Get all captured groups in Java","body":"<p>Also if you know the amount of matches you will get, you can find groups and add them to list then just take values from list when needed to assigned them somewhere else </p>\n\n<pre><code> public static List&lt;String&gt; groupList(String text, Pattern pattern) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    Matcher matcher = pattern.matcher(text);\n    while (matcher.find()) {\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        list.add(matcher.group(i));\n            }\n        }\n    return list;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11337137,"reputation":838,"user_id":8312604,"display_name":"Alexandr Arhipov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681037689,"creation_date":1681037689,"answer_id":75970088,"question_id":36943806,"body_markdown":"If you know the exact amount of matching groups, with java 9 or later it could be done like this:\r\n\r\n        String text = &quot;This_is_a_[sample]_text[notworking]&quot;;\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\[(\\\\w*)\\\\]&quot;);\r\n\t\tList&lt;Pair&lt;String, String&gt;&gt; result = pattern.matcher(text).results()\r\n\t\t\t\t.map(matchResult -&gt; Pair.of(matchResult.group(0), matchResult.group(1)))\r\n\t\t\t\t.toList();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7bZX9.png","title":"Get all captured groups in Java","body":"<p>If you know the exact amount of matching groups, with java 9 or later it could be done like this:</p>\n<pre><code>    String text = &quot;This_is_a_[sample]_text[notworking]&quot;;\n    Pattern pattern = Pattern.compile(&quot;\\\\[(\\\\w*)\\\\]&quot;);\n    List&lt;Pair&lt;String, String&gt;&gt; result = pattern.matcher(text).results()\n            .map(matchResult -&gt; Pair.of(matchResult.group(0), matchResult.group(1)))\n            .toList();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7bZX9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bZX9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6325135,"reputation":24436,"user_id":4911842,"accept_rate":76,"display_name":"developer033"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19136,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":36943847,"answer_count":4,"score":21,"last_activity_date":1681037689,"creation_date":1461949067,"question_id":36943806,"body_markdown":"I want to match a single word inside brackets(including the brackets), my `Regex` below is working but it&#39;s not returning me all groups.\r\n\r\nHere&#39;s my **code:**\r\n\r\n    String text = &quot;This_is_a_[sample]_text[notworking]&quot;;\r\n    Matcher matcher = Pattern.compile(&quot;\\\\[([a-zA-Z_]+)\\\\]&quot;).matcher(text);                                     \r\n    if (matcher.find()) {\r\n        for (int i = 0; i &lt;= matcher.groupCount(); i++) {\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n    }\r\n\r\nAlso I&#39;ve tested it in [Regex Planet][1] and it seems to work.\r\n\r\nIt must return 4 groups:\r\n\r\n    ------------------------------------\r\n    Group 0: [sample]\r\n    ------------------------------------\r\n    Group 1: sample\r\n    ------------------------------------\r\n    Group 2: [notworking]\r\n    ------------------------------------\r\n    Group 3: notworking\r\n\r\nBut it&#39;s returning just it:\r\n\r\n    ------------------------------------\r\n    Group 0: [sample]\r\n    ------------------------------------\r\n    Group 1: sample\r\n\r\nWhat&#39;s wrong?\r\n\r\n[1]: http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDwsSBlJlY2lwZRjqst8hDA/index.html","title":"Get all captured groups in Java","body":"<p>I want to match a single word inside brackets(including the brackets), my <code>Regex</code> below is working but it's not returning me all groups.</p>\n\n<p>Here's my <strong>code:</strong></p>\n\n<pre><code>String text = \"This_is_a_[sample]_text[notworking]\";\nMatcher matcher = Pattern.compile(\"\\\\[([a-zA-Z_]+)\\\\]\").matcher(text);                                     \nif (matcher.find()) {\n    for (int i = 0; i &lt;= matcher.groupCount(); i++) {\n    System.out.println(\"------------------------------------\");\n    System.out.println(\"Group \" + i + \": \" + matcher.group(i));\n}\n</code></pre>\n\n<p>Also I've tested it in <a href=\"http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDwsSBlJlY2lwZRjqst8hDA/index.html\" rel=\"noreferrer\">Regex Planet</a> and it seems to work.</p>\n\n<p>It must return 4 groups:</p>\n\n<pre><code>------------------------------------\nGroup 0: [sample]\n------------------------------------\nGroup 1: sample\n------------------------------------\nGroup 2: [notworking]\n------------------------------------\nGroup 3: notworking\n</code></pre>\n\n<p>But it's returning just it:</p>\n\n<pre><code>------------------------------------\nGroup 0: [sample]\n------------------------------------\nGroup 1: sample\n</code></pre>\n\n<p>What's wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1681101719,"post_id":69041383,"comment_id":133998808,"body_markdown":"Working example and steps to solve it for your reference: https://stackoverflow.com/a/75970036/2987755","body":"Working example and steps to solve it for your reference: <a href=\"https://stackoverflow.com/a/75970036/2987755\">stackoverflow.com/a/75970036/2987755</a>"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630656015,"creation_date":1630656015,"answer_id":69041442,"question_id":69041383,"body_markdown":"You have access to tar.gz (for non Windows OS) and ZIP (for Windows OS):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou have to download it, extract it and then reference in your IDE a new JRE pointing to the extracted folder. \r\n\r\nNote however that IDE will most likely not recognize any new syntax and you will be better to use a build tool such as Maven or Gradle with [Toolchain](https://maven.apache.org/plugins/maven-toolchains-plugin/plugin-info.html) enabled to select this particular JDK 18.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n7uHs.png","title":"Project Loom early access IDE","body":"<p>You have access to tar.gz (for non Windows OS) and ZIP (for Windows OS):</p>\n<p><a href=\"https://i.stack.imgur.com/n7uHs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7uHs.png\" alt=\"enter image description here\" /></a></p>\n<p>You have to download it, extract it and then reference in your IDE a new JRE pointing to the extracted folder.</p>\n<p>Note however that IDE will most likely not recognize any new syntax and you will be better to use a build tool such as Maven or Gradle with <a href=\"https://maven.apache.org/plugins/maven-toolchains-plugin/plugin-info.html\" rel=\"nofollow noreferrer\">Toolchain</a> enabled to select this particular JDK 18.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1681037039,"creation_date":1630655744,"question_id":69041383,"body_markdown":"We have early access of project loom https://jdk.java.net/loom/\r\n\r\nBut I&#39;m not able to find an IDE(Intellij, VSCode) Compatible with this JDK to compile the code inside.\r\n\r\nAnybody knows a way to do it?","title":"Project Loom early access IDE","body":"<p>We have early access of project loom <a href=\"https://jdk.java.net/loom/\" rel=\"nofollow noreferrer\">https://jdk.java.net/loom/</a></p>\n<p>But I'm not able to find an IDE(Intellij, VSCode) Compatible with this JDK to compile the code inside.</p>\n<p>Anybody knows a way to do it?</p>\n"},{"tags":["java","jpa","kotlin","quarkus"],"comments":[{"owner":{"account_id":4211474,"reputation":463,"user_id":3449039,"display_name":"lucsbelt"},"score":0,"creation_date":1586880025,"post_id":61211391,"comment_id":108288505,"body_markdown":"As the error says you can&#39;t have Id annotation twice, if Property has a composite key then you must create a new class for it","body":"As the error says you can&#39;t have Id annotation twice, if Property has a composite key then you must create a new class for it"},{"owner":{"account_id":12203316,"reputation":2288,"user_id":9652640,"display_name":"Min-Soo Pipefeet"},"score":0,"creation_date":1586927308,"post_id":61211391,"comment_id":108305168,"body_markdown":"@lucsbelt But the new class still would have the Id annotation twice. So, how that could be a solution?","body":"@lucsbelt But the new class still would have the Id annotation twice. So, how that could be a solution?"},{"owner":{"account_id":4211474,"reputation":463,"user_id":3449039,"display_name":"lucsbelt"},"score":0,"creation_date":1586943760,"post_id":61211391,"comment_id":108312191,"body_markdown":"You have two alternatives: use an Embeddable (i prefer this one) or use the IdClass annotation check out this examples https://www.objectdb.com/java/jpa/entity/id#Composite_Primary_Key","body":"You have two alternatives: use an Embeddable (i prefer this one) or use the IdClass annotation check out this examples <a href=\"https://www.objectdb.com/java/jpa/entity/id#Composite_Primary_Key\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/entity/id#Composite_Primary_Key</a>"},{"owner":{"account_id":12203316,"reputation":2288,"user_id":9652640,"display_name":"Min-Soo Pipefeet"},"score":0,"creation_date":1586946956,"post_id":61211391,"comment_id":108313925,"body_markdown":"@lucsbelt None of these alternatives works with Quarkus. See the addition to my question.","body":"@lucsbelt None of these alternatives works with Quarkus. See the addition to my question."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":2,"creation_date":1587731064,"post_id":61211391,"comment_id":108631413,"body_markdown":"This is a missing feature. Can you please open a ticket so we can address it?","body":"This is a missing feature. Can you please open a ticket so we can address it?"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1632479706,"post_id":61211391,"comment_id":122509659,"body_markdown":"@geoand do you have the link to the ticked?","body":"@geoand do you have the link to the ticked?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1632485429,"post_id":61211391,"comment_id":122511930,"body_markdown":"I don&#39;t know if a ticket was ever opened for this","body":"I don&#39;t know if a ticket was ever opened for this"},{"owner":{"account_id":12203316,"reputation":2288,"user_id":9652640,"display_name":"Min-Soo Pipefeet"},"score":0,"creation_date":1632512626,"post_id":61211391,"comment_id":122522246,"body_markdown":"@geoand I didn&#39;t open a ticket.","body":"@geoand I didn&#39;t open a ticket."}],"answers":[{"tags":[],"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1599020354,"creation_date":1599020354,"answer_id":63698641,"question_id":61211391,"body_markdown":"it is possible, your entity must extend PanacheEntityBase and use class level annotation @Table,@Entity,@IdClass(PK.class), where Pk is a POJO with fields of the composite primary key, then you have to declare the same fields with @Id annotation in your entity. eg:\r\n\r\n    @Entity()\r\n    @Table(name = &quot;agent&quot;)\r\n    @IdClass(AgentPK.class)\r\n    public class AgentBRA extends PanacheEntityBase {\r\n\r\n\t   @Id\r\n\t   public Integer idUsuario;\r\n\t   @Id\r\n\t   public Integer idAgent;\r\n\r\nand AgentPk:\r\n\r\n    public class AgentPK implements Serializable{\r\n\r\n\t   protected Integer idUsuario;\r\n\t\r\n\t   protected Integer idAgent;\r\n       // getters setters and hascode and equals methods\r\n      \r\n\r\n\r\n\r\n\r\n","title":"Are composite primary keys in JPA with Quarkus possible?","body":"<p>it is possible, your entity must extend PanacheEntityBase and use class level annotation @Table,@Entity,@IdClass(PK.class), where Pk is a POJO with fields of the composite primary key, then you have to declare the same fields with @Id annotation in your entity. eg:</p>\n<pre><code>@Entity()\n@Table(name = &quot;agent&quot;)\n@IdClass(AgentPK.class)\npublic class AgentBRA extends PanacheEntityBase {\n\n   @Id\n   public Integer idUsuario;\n   @Id\n   public Integer idAgent;\n</code></pre>\n<p>and AgentPk:</p>\n<pre><code>public class AgentPK implements Serializable{\n\n   protected Integer idUsuario;\n\n   protected Integer idAgent;\n   // getters setters and hascode and equals methods\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17804992,"reputation":307,"user_id":12930883,"display_name":"RED-ONE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665652370,"creation_date":1665652370,"answer_id":74053254,"question_id":61211391,"body_markdown":"If you want to use a repository with a composite key, do not use the Id annotation\r\n\r\n\r\n\t\t\t\t@Getter\r\n\t\t\t\t@Setter\r\n\t\t\t\t@NoArgsConstructor\r\n\t\t\t\t@AllArgsConstructor\r\n\t\t\t\t@ToString\r\n\t\t\t\t@Entity\r\n\t\t\t\t@Table(schema = &quot;dbo&quot;, name = &quot;PERSON&quot;)\r\n\t\t\t\tpublic class Person  extends PanacheEntityBase {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t\t\t\t@Column(name = &quot;ID&quot;, unique = true, nullable = false, insertable = false)\r\n\t\t\t\t\tprivate Integer id;\r\n\t\t\t\t\t\r\n\t\t\t\t\t@EmbeddedId\r\n\t\t\t\t\tprivate PersonId personId;\r\n\t\t\t\t \r\n\t\t\t\t\t@Column(name = &quot;ADDRESS&quot;)\r\n\t\t\t\t\tprivate String address;\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Column(name = &quot;EMAIL&quot;)\r\n\t\t\t\t\tprivate String email;\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Column(name = &quot;PHONE_NUMBER&quot;)\r\n\t\t\t\t\tprivate String phoneNumber;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Getter\r\n\t\t\t\t\t@Setter\r\n\t\t\t\t\t@NoArgsConstructor\r\n\t\t\t\t\t@AllArgsConstructor\r\n\t\t\t\t\t@ToString\r\n\t\t\t\t\t@Embeddable\r\n\t\t\t\t\tpublic static class PersonId implements Serializable {\r\n\r\n\t\t\t\t\t\t@Column(name = &quot;FIRST_NAME&quot;)\r\n\t\t\t\t\t\tprivate String firstName;\r\n\r\n\t\t\t\t\t\t@Column(name = &quot;LAST_NAME&quot;)\r\n\t\t\t\t\t\tprivate String lastName;\r\n\r\n\t\t\t\t\t\t@Column(name = &quot;DATE_OF_BIRTH&quot;)\r\n\t\t\t\t\t\tprivate String dateOfBirth;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\nRepository \r\n\r\n\r\n\t\t\t\tpublic interface PersonRepository extends CrudRepository&lt;Person, Person.PersonId&gt; {\r\n\t\t\t\t}","title":"Are composite primary keys in JPA with Quarkus possible?","body":"<p>If you want to use a repository with a composite key, do not use the Id annotation</p>\n<pre><code>            @Getter\n            @Setter\n            @NoArgsConstructor\n            @AllArgsConstructor\n            @ToString\n            @Entity\n            @Table(schema = &quot;dbo&quot;, name = &quot;PERSON&quot;)\n            public class Person  extends PanacheEntityBase {\n                \n                \n                @GeneratedValue(strategy = GenerationType.IDENTITY)\n                @Column(name = &quot;ID&quot;, unique = true, nullable = false, insertable = false)\n                private Integer id;\n                \n                @EmbeddedId\n                private PersonId personId;\n             \n                @Column(name = &quot;ADDRESS&quot;)\n                private String address;\n                \n                @Column(name = &quot;EMAIL&quot;)\n                private String email;\n                \n                @Column(name = &quot;PHONE_NUMBER&quot;)\n                private String phoneNumber;\n                \n                \n                @Getter\n                @Setter\n                @NoArgsConstructor\n                @AllArgsConstructor\n                @ToString\n                @Embeddable\n                public static class PersonId implements Serializable {\n\n                    @Column(name = &quot;FIRST_NAME&quot;)\n                    private String firstName;\n\n                    @Column(name = &quot;LAST_NAME&quot;)\n                    private String lastName;\n\n                    @Column(name = &quot;DATE_OF_BIRTH&quot;)\n                    private String dateOfBirth;\n\n                }\n            }\n</code></pre>\n<p>Repository</p>\n<pre><code>            public interface PersonRepository extends CrudRepository&lt;Person, Person.PersonId&gt; {\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9259591,"reputation":248,"user_id":6877157,"display_name":"nkmuturi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681037032,"creation_date":1681037032,"answer_id":75970044,"question_id":61211391,"body_markdown":"For Quarkus Spring Data JPA, the solution is to switch from using @IdClass to @Embeddable, which is supported by the extension, contrary to OP&#39;s comment that &quot;Quarkus currently doesn&#39;t allow other annotations than @Id&quot; (that is if OP is using this extension, rather than Panache, which is not quite clear).\r\n\r\nSimply annotate the primary key class with &quot;@Embeddable&quot;:\r\n\r\n    @Embeddable\r\n    public class FooPK implements Serializable {\r\n    \r\n        @Column(name = &quot;fooId&quot;)\r\n        private String fooId;\r\n    \r\n        @Column(name = &quot;barId&quot;)\r\n        private String barId;\r\n        ...\r\n\r\nThen use &quot;@EmbeddedId&quot; in the entity class (replacing the traditional multiple @Id definitions used with @IdClass method):\r\n\r\n    public class Foo implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        protected FooPK id;\r\n        ...","title":"Are composite primary keys in JPA with Quarkus possible?","body":"<p>For Quarkus Spring Data JPA, the solution is to switch from using @IdClass to @Embeddable, which is supported by the extension, contrary to OP's comment that &quot;Quarkus currently doesn't allow other annotations than @Id&quot; (that is if OP is using this extension, rather than Panache, which is not quite clear).</p>\n<p>Simply annotate the primary key class with &quot;@Embeddable&quot;:</p>\n<pre><code>@Embeddable\npublic class FooPK implements Serializable {\n\n    @Column(name = &quot;fooId&quot;)\n    private String fooId;\n\n    @Column(name = &quot;barId&quot;)\n    private String barId;\n    ...\n</code></pre>\n<p>Then use &quot;@EmbeddedId&quot; in the entity class (replacing the traditional multiple @Id definitions used with @IdClass method):</p>\n<pre><code>public class Foo implements Serializable {\n\n    @EmbeddedId\n    protected FooPK id;\n    ...\n</code></pre>\n"}],"owner":{"account_id":12203316,"reputation":2288,"user_id":9652640,"display_name":"Min-Soo Pipefeet"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4737,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1681037032,"creation_date":1586878024,"question_id":61211391,"body_markdown":"**How to JPA-declare a composite key with Quarkus?**\r\n\r\nTrying to use multiple `@Id` annotations in an `@Entity` class with Quarkus, results in the error:  \r\n```\r\nCurrently the @Id annotation can only be placed on a single field or method. Offending class is abc.model.Property\r\n   \tat io.quarkus.spring.data.deployment.generate.StockMethodsAdder.getIdAnnotationTargetRec(StockMethodsAdder.java:940)\r\n```\r\n\r\nBut first, after declaring  \r\n```\r\ninterface PropertyRepository : CrudRepository&lt;Property, Pair&lt;String, abc.model.Entity&gt;&gt;\r\n```\r\n\r\nWithout the declaration above, there are no complaints, but no possibility to actively manage instances of `Property`.\r\n\r\n**How to circumvent this error?**\r\n\r\nI&#39;m dealing with two JPA Entities:  \r\n1. the first one named `Entity` (don&#39;t mistake for the annotation)  \r\n2. the second one named `Property`\r\n\r\nAn `Entity` can have 0..n instances of `Property`. The code is as follows:\r\n\r\n```\r\n@Entity\r\ndata class Entity (\r\n        @Id\r\n        @Column(name = &quot;entity_id&quot;, updatable = false)\r\n        var entityId: String? = null,\r\n\r\n        @Column(nullable = true)\r\n        var type: String? = null\r\n) {\r\n    @OneToMany(mappedBy = &quot;entity&quot;)\r\n    var properties: List&lt;Property&gt;? = null\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\ndata class Property (\r\n        @Id\r\n        @Column(name = &quot;type&quot;)\r\n        var type: String? = null,\r\n\r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;entity_id&quot;)\r\n        private var entity: abc.model.Entity? = null\r\n) : Serializable\r\n```\r\n\r\n-----\r\n\r\nDeclaring the composite primary key as an `@EmbeddedId` as follows, does not solve the problem, as Quarkus currently doesn&#39;t allow other annotations than `@Id` in this case:\r\n\r\n```\r\n@Entity\r\ndata class Entity (\r\n        @Id\r\n        @Column(name = &quot;entity_id&quot;, updatable = false)\r\n        var entityId: String? = null,\r\n\r\n        @Column(nullable = true)\r\n        var type: String? = null\r\n) {\r\n    @OneToMany(mappedBy = &quot;propertyId.entityId&quot;)\r\n    var properties: List&lt;Property&gt;? = null\r\n}\r\n\r\ninterface PropertyRepository : CrudRepository&lt;Property, PropertyId&gt;\r\n\r\n@Embeddable\r\ndata class PropertyId (\r\n        var type: String? = null,\r\n\r\n        @Column(name = &quot;entity_id&quot;)\r\n        private var entityId: String? = null\r\n) : Serializable\r\n\r\n@Entity\r\ndata class Property (\r\n        @EmbeddedId\r\n        var propertyId: PropertyId? = null,\r\n\r\n        @Column(name = &quot;constant_value&quot;)\r\n        var constantValue: String? = null\r\n)\r\n```\r\n\r\n```\r\njava.lang.IllegalArgumentException: Currently only Entities with the @Id annotation are supported. Offending class is abc.model.Property\r\n\tat io.quarkus.spring.data.deployment.generate.StockMethodsAdder.getIdAnnotationTargetRec(StockMethodsAdder.java:932)\r\n```","title":"Are composite primary keys in JPA with Quarkus possible?","body":"<p><strong>How to JPA-declare a composite key with Quarkus?</strong></p>\n\n<p>Trying to use multiple <code>@Id</code> annotations in an <code>@Entity</code> class with Quarkus, results in the error:  </p>\n\n<pre><code>Currently the @Id annotation can only be placed on a single field or method. Offending class is abc.model.Property\n    at io.quarkus.spring.data.deployment.generate.StockMethodsAdder.getIdAnnotationTargetRec(StockMethodsAdder.java:940)\n</code></pre>\n\n<p>But first, after declaring  </p>\n\n<pre><code>interface PropertyRepository : CrudRepository&lt;Property, Pair&lt;String, abc.model.Entity&gt;&gt;\n</code></pre>\n\n<p>Without the declaration above, there are no complaints, but no possibility to actively manage instances of <code>Property</code>.</p>\n\n<p><strong>How to circumvent this error?</strong></p>\n\n<p>I'm dealing with two JPA Entities:<br>\n1. the first one named <code>Entity</code> (don't mistake for the annotation)<br>\n2. the second one named <code>Property</code></p>\n\n<p>An <code>Entity</code> can have 0..n instances of <code>Property</code>. The code is as follows:</p>\n\n<pre><code>@Entity\ndata class Entity (\n        @Id\n        @Column(name = \"entity_id\", updatable = false)\n        var entityId: String? = null,\n\n        @Column(nullable = true)\n        var type: String? = null\n) {\n    @OneToMany(mappedBy = \"entity\")\n    var properties: List&lt;Property&gt;? = null\n}\n</code></pre>\n\n<pre><code>@Entity\ndata class Property (\n        @Id\n        @Column(name = \"type\")\n        var type: String? = null,\n\n        @Id\n        @ManyToOne\n        @JoinColumn(name = \"entity_id\")\n        private var entity: abc.model.Entity? = null\n) : Serializable\n</code></pre>\n\n<hr>\n\n<p>Declaring the composite primary key as an <code>@EmbeddedId</code> as follows, does not solve the problem, as Quarkus currently doesn't allow other annotations than <code>@Id</code> in this case:</p>\n\n<pre><code>@Entity\ndata class Entity (\n        @Id\n        @Column(name = \"entity_id\", updatable = false)\n        var entityId: String? = null,\n\n        @Column(nullable = true)\n        var type: String? = null\n) {\n    @OneToMany(mappedBy = \"propertyId.entityId\")\n    var properties: List&lt;Property&gt;? = null\n}\n\ninterface PropertyRepository : CrudRepository&lt;Property, PropertyId&gt;\n\n@Embeddable\ndata class PropertyId (\n        var type: String? = null,\n\n        @Column(name = \"entity_id\")\n        private var entityId: String? = null\n) : Serializable\n\n@Entity\ndata class Property (\n        @EmbeddedId\n        var propertyId: PropertyId? = null,\n\n        @Column(name = \"constant_value\")\n        var constantValue: String? = null\n)\n</code></pre>\n\n<pre><code>java.lang.IllegalArgumentException: Currently only Entities with the @Id annotation are supported. Offending class is abc.model.Property\n    at io.quarkus.spring.data.deployment.generate.StockMethodsAdder.getIdAnnotationTargetRec(StockMethodsAdder.java:932)\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681036328,"creation_date":1681036328,"answer_id":75969996,"question_id":75967519,"body_markdown":"I had to add some mapper in my project:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class StringToWarehouseSearchSimpleDto implements Converter&lt;String, WarehouseSearchFilterSimpleDto&gt; {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n    @SneakyThrows({IOException.class})\r\n    public WarehouseSearchFilterSimpleDto convert(String source) {\r\n        return objectMapper.readValue(source, WarehouseSearchFilterSimpleDto.class);\r\n    }\r\n}\r\n```","title":"Spring GET Rest - Reason: Expected to find an object with property [&#39;id&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;","body":"<p>I had to add some mapper in my project:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class StringToWarehouseSearchSimpleDto implements Converter&lt;String, WarehouseSearchFilterSimpleDto&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    @Override\n    @SneakyThrows({IOException.class})\n    public WarehouseSearchFilterSimpleDto convert(String source) {\n        return objectMapper.readValue(source, WarehouseSearchFilterSimpleDto.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681036328,"creation_date":1680985448,"question_id":75967519,"body_markdown":"My controller:\r\n\r\n```\r\n@RequestMapping(value = &quot;/api/rest&quot;)\r\n@RestController\r\n@RequiredArgsConstructor\r\n@Validated\r\npublic class WarehouseController {\r\n....\r\n\r\n\r\n@GetMapping(path = &quot;v2/warehouses/limited&quot;)\r\n public List&lt;WarehouseSimpleListDto&gt; getRestrictedWarehouses(\r\n            @RequestParam(required = false, defaultValue = &quot;{}&quot;) WarehouseSearchFilterSimpleDto filter\r\n    ) {\r\n```\r\n\r\nMy cucumber test:\r\n\r\n```\r\n Given I request GET at endpoint:\r\n    &quot;&quot;&quot;\r\n    /api/rest/v2/warehouses/limited?filter={&quot;shipper_ids&quot;:[333444]}\r\n    &quot;&quot;&quot;\r\n    Then the response status code should be 200\r\n```\r\n\r\nwhere:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Data;\r\n\r\nimport java.util.Set;\r\n\r\n@Data\r\npublic class WarehouseSearchFilterSimpleDto {\r\n    @JsonProperty(&quot;shipper_ids&quot;)\r\n    private Set&lt;Long&gt; shipperIds;\r\n    @JsonProperty(&quot;carrier_ids&quot;)\r\n    private Set&lt;Long&gt; carrierIds;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nWhat is going on? I have very similar endpoint that works! When I change filter dto to the working on (identical!) then its OK. Magic for me\r\n\r\n\r\n\r\nError:\r\n\r\n    . Reason: Expected to find an object with property [&#39;id&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.\r\n    2023-04-08 22:17:50.908  INFO 13016 --- [nio-8080-exec-2] e.t.c.l.CustomRequestLoggingFilter       : F1BE16AC5518488DA1B0FBF90CE1C38B RQ BEGIN [GET /api/rest/v2/warehouses/limited?filter=%7B%22shipper_ids%22:%5B1057128%5D%7D];headers=[user-agent:&quot;cucumber/tests&quot;, host:&quot;localhost:8080&quot;, connection:&quot;Keep-Alive&quot;, accept-encoding:&quot;gzip&quot;]\r\n    2023-04-08 22:17:50.941  INFO 13016 --- [nio-8080-exec-2] e.t.c.l.CustomRequestLoggingFilter       : F1BE16AC5518488DA1B0FBF90CE1C38B RQ END [GET /api/rest/v2/warehouses/limited?filter=%7B%22shipper_ids%22:%5B1057128%5D%7D]\r\n    2023-04-08 22:17:50.958  INFO 13016 --- [           main] p.a.common.integration.ApiStepdefs       :  Cannot extract ID from body &lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {\r\n    font-family:Tahoma,Arial,sans-serif;}\r\n     h1, h2, h3, b {\r\n    color:white;background-color:#525D76;}\r\n     h1 {\r\n    font-size:22px;}\r\n     h2 {\r\n    font-size:16px;}\r\n     h3 {\r\n    font-size:14px;}\r\n     p {\r\n    font-size:12px;}\r\n     a {\r\n    color:black;}\r\n     .line {\r\n    height:1px;background-color:#525D76;border:none;}\r\n    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;. Reason: Expected to find an object with property [&#39;id&#39;] in path $ but found &#39;java.lang.String&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.\r\n\r\n\r\n\r\n**UPDATE**  mapping in object works ONLY for String fields!\r\n","title":"Spring GET Rest - Reason: Expected to find an object with property [&#39;id&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;","body":"<p>My controller:</p>\n<pre><code>@RequestMapping(value = &quot;/api/rest&quot;)\n@RestController\n@RequiredArgsConstructor\n@Validated\npublic class WarehouseController {\n....\n\n\n@GetMapping(path = &quot;v2/warehouses/limited&quot;)\n public List&lt;WarehouseSimpleListDto&gt; getRestrictedWarehouses(\n            @RequestParam(required = false, defaultValue = &quot;{}&quot;) WarehouseSearchFilterSimpleDto filter\n    ) {\n</code></pre>\n<p>My cucumber test:</p>\n<pre><code> Given I request GET at endpoint:\n    &quot;&quot;&quot;\n    /api/rest/v2/warehouses/limited?filter={&quot;shipper_ids&quot;:[333444]}\n    &quot;&quot;&quot;\n    Then the response status code should be 200\n</code></pre>\n<p>where:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\n\nimport java.util.Set;\n\n@Data\npublic class WarehouseSearchFilterSimpleDto {\n    @JsonProperty(&quot;shipper_ids&quot;)\n    private Set&lt;Long&gt; shipperIds;\n    @JsonProperty(&quot;carrier_ids&quot;)\n    private Set&lt;Long&gt; carrierIds;\n}\n\n</code></pre>\n<p>What is going on? I have very similar endpoint that works! When I change filter dto to the working on (identical!) then its OK. Magic for me</p>\n<p>Error:</p>\n<pre><code>. Reason: Expected to find an object with property ['id'] in path $ but found 'net.minidev.json.JSONArray'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JsonSmartJsonProvider'.\n2023-04-08 22:17:50.908  INFO 13016 --- [nio-8080-exec-2] e.t.c.l.CustomRequestLoggingFilter       : F1BE16AC5518488DA1B0FBF90CE1C38B RQ BEGIN [GET /api/rest/v2/warehouses/limited?filter=%7B%22shipper_ids%22:%5B1057128%5D%7D];headers=[user-agent:&quot;cucumber/tests&quot;, host:&quot;localhost:8080&quot;, connection:&quot;Keep-Alive&quot;, accept-encoding:&quot;gzip&quot;]\n2023-04-08 22:17:50.941  INFO 13016 --- [nio-8080-exec-2] e.t.c.l.CustomRequestLoggingFilter       : F1BE16AC5518488DA1B0FBF90CE1C38B RQ END [GET /api/rest/v2/warehouses/limited?filter=%7B%22shipper_ids%22:%5B1057128%5D%7D]\n2023-04-08 22:17:50.958  INFO 13016 --- [           main] p.a.common.integration.ApiStepdefs       :  Cannot extract ID from body &lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {\nfont-family:Tahoma,Arial,sans-serif;}\n h1, h2, h3, b {\ncolor:white;background-color:#525D76;}\n h1 {\nfont-size:22px;}\n h2 {\nfont-size:16px;}\n h3 {\nfont-size:14px;}\n p {\nfont-size:12px;}\n a {\ncolor:black;}\n .line {\nheight:1px;background-color:#525D76;border:none;}\n&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;. Reason: Expected to find an object with property ['id'] in path $ but found 'java.lang.String'. This is not a json object according to the JsonProvider: 'com.jayway.jsonpath.spi.json.JsonSmartJsonProvider'.\n</code></pre>\n<p><strong>UPDATE</strong>  mapping in object works ONLY for String fields!</p>\n"},{"tags":["java","payment-gateway","sap-commerce-cloud","cybersource"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665922888,"post_id":74086138,"comment_id":130807981,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3834647,"reputation":46,"user_id":3179303,"display_name":"Michael L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666377952,"creation_date":1666376762,"answer_id":74157809,"question_id":74086138,"body_markdown":"I would double check field names and order. Those field names look like they are for SCMP. You may need to use the following fields for secure acceptance: bill_to_address_line1, bill_to_address_city, bill_to_address_country, bill_to_email, bill_to_surname.\r\n\r\nI would also make sure the data you are sending is valid for those fields. For example, the country field takes only 2 characters. \r\n\r\n[Secure Acceptance Documentation][1]\r\n\r\n[SCMP Documentation][2]\r\n\r\n\r\n  [1]: https://developer.cybersource.com/library/documentation/dev_guides/Secure_Acceptance_Checkout_API/Secure_Acceptance_Checkout_API.pdf\r\n  [2]: https://developer.cybersource.com/library/documentation/dev_guides/Payer_Authentication_SCMP_API/Payer_Authentication_SCMP_API.pdf","title":"Payment getting declined Cybersource HOP","body":"<p>I would double check field names and order. Those field names look like they are for SCMP. You may need to use the following fields for secure acceptance: bill_to_address_line1, bill_to_address_city, bill_to_address_country, bill_to_email, bill_to_surname.</p>\n<p>I would also make sure the data you are sending is valid for those fields. For example, the country field takes only 2 characters.</p>\n<p><a href=\"https://developer.cybersource.com/library/documentation/dev_guides/Secure_Acceptance_Checkout_API/Secure_Acceptance_Checkout_API.pdf\" rel=\"nofollow noreferrer\">Secure Acceptance Documentation</a></p>\n<p><a href=\"https://developer.cybersource.com/library/documentation/dev_guides/Payer_Authentication_SCMP_API/Payer_Authentication_SCMP_API.pdf\" rel=\"nofollow noreferrer\">SCMP Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":28256118,"reputation":1,"user_id":21601550,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681035759,"creation_date":1681035759,"answer_id":75969950,"question_id":74086138,"body_markdown":"you should add the above missing data to Signed fields\r\n\r\n&lt;input type=&quot;hidden&quot; name=&quot;signed_field_names&quot; value=&quot;access_key,profile_id,transaction_uuid,signed_field_names,unsigned_field_names,signed_date_time,locale,transaction_type,reference_number,amount,currency&quot;&gt;","title":"Payment getting declined Cybersource HOP","body":"<p>you should add the above missing data to Signed fields</p>\n\n"}],"owner":{"account_id":26638518,"reputation":1,"user_id":20254574,"display_name":"Kim Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681035759,"creation_date":1665914397,"question_id":74086138,"body_markdown":"I am able to successfully redirect user to Cybersource payment gateway. But after filling out all the details, I am getting an error &quot;The request data did not pass the required fields check for this application: [bill_address1, bill_city, bill_country, customer_email, customer_lastname]&quot;. This is resolved when I change the Secured Acceptance settings from the Cybersource account and allow the user to enter the billing details. But I want to send this details to Cybersource as user is already entering this details in the website. I added the fields in hidden fields and have also mentioned them in signed_field_names and have used them also in generating the signature. Till I am getting this error. Am I passing this fields in wrong way?\r\n\r\nAlso is there any way to pass custom attributes which I get back in return from Cybersource after payment processing?","title":"Payment getting declined Cybersource HOP","body":"<p>I am able to successfully redirect user to Cybersource payment gateway. But after filling out all the details, I am getting an error &quot;The request data did not pass the required fields check for this application: [bill_address1, bill_city, bill_country, customer_email, customer_lastname]&quot;. This is resolved when I change the Secured Acceptance settings from the Cybersource account and allow the user to enter the billing details. But I want to send this details to Cybersource as user is already entering this details in the website. I added the fields in hidden fields and have also mentioned them in signed_field_names and have used them also in generating the signature. Till I am getting this error. Am I passing this fields in wrong way?</p>\n<p>Also is there any way to pass custom attributes which I get back in return from Cybersource after payment processing?</p>\n"},{"tags":["java","json","jakarta-ee","apache-tomee","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681008473,"creation_date":1681007787,"answer_id":75968531,"question_id":75954555,"body_markdown":"Is it possible there are annotations on the fields of `inputObj` you are serializing that are overriding the `.withNullValues(true)` setting?\r\n\r\nRef: https://jakarta.ee/specifications/jsonb/3.0/jakarta-jsonb-spec-3.0.html#customizing-null-handling\r\n\r\nI also found this: https://github.com/jakartaee/jsonb-api/issues/169#issuecomment-525387593\r\n\r\nYou didn&#39;t share the class for `inputObj` but it seems to me like the only way this won&#39;t work is if there are annotations on the fields in the class overriding the global setting in `config`.","title":"Jakarta JSON excludes null fields even though withNullValues is set to true","body":"<p>Is it possible there are annotations on the fields of <code>inputObj</code> you are serializing that are overriding the <code>.withNullValues(true)</code> setting?</p>\n<p>Ref: <a href=\"https://jakarta.ee/specifications/jsonb/3.0/jakarta-jsonb-spec-3.0.html#customizing-null-handling\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/jsonb/3.0/jakarta-jsonb-spec-3.0.html#customizing-null-handling</a></p>\n<p>I also found this: <a href=\"https://github.com/jakartaee/jsonb-api/issues/169#issuecomment-525387593\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/jsonb-api/issues/169#issuecomment-525387593</a></p>\n<p>You didn't share the class for <code>inputObj</code> but it seems to me like the only way this won't work is if there are annotations on the fields in the class overriding the global setting in <code>config</code>.</p>\n"},{"tags":[],"owner":{"account_id":20261619,"reputation":727,"user_id":14859847,"display_name":"Junhyunny"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681011419,"creation_date":1681011419,"answer_id":75968660,"question_id":75954555,"body_markdown":"I don&#39;t know your full code, so this is my guess. If you don&#39;t declare `getter` method for properties in class, `Json-B` skips to serialize fields. Here is my example. \r\n\r\n#### Without Getter\r\n\r\n```java\r\npackage action.in.blog;\r\n\r\nimport jakarta.json.bind.Jsonb;\r\nimport jakarta.json.bind.JsonbBuilder;\r\nimport jakarta.json.bind.JsonbConfig;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class JsonbTest {\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\r\n\r\n        Input inputObj = new Input();\r\n\r\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\r\n            System.out.println(jsonb.toJson(inputObj));\r\n        }\r\n    }\r\n\r\n    public static class Input {\r\n        private String value;\r\n    }\r\n}\r\n```\r\n\r\n#### Result when without getter\r\n\r\n```\r\n{}\r\n```\r\n\r\n#### With Getter\r\n\r\n```java\r\npackage action.in.blog;\r\n\r\nimport jakarta.json.bind.Jsonb;\r\nimport jakarta.json.bind.JsonbBuilder;\r\nimport jakarta.json.bind.JsonbConfig;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class JsonbTest {\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\r\n\r\n        Input inputObj = new Input();\r\n\r\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\r\n            System.out.println(jsonb.toJson(inputObj));\r\n        }\r\n    }\r\n\r\n    public static class Input {\r\n        private String value;\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### Result when with getter\r\n\r\n```\r\n{&quot;value&quot;:null}\r\n```\r\n\r\n#### With public keyword\r\n\r\nIf you don&#39;t use getter method for fields, fields should be public. \r\n\r\n```java\r\npackage action.in.blog;\r\n\r\nimport jakarta.json.bind.Jsonb;\r\nimport jakarta.json.bind.JsonbBuilder;\r\nimport jakarta.json.bind.JsonbConfig;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class JsonbTest {\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\r\n\r\n        Input inputObj = new Input();\r\n\r\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\r\n            System.out.println(jsonb.toJson(inputObj));\r\n        }\r\n    }\r\n\r\n    public static class Input {\r\n        public String value;\r\n    }\r\n}\r\n```\r\n\r\n#### Result when with public \r\n\r\n```\r\n{&quot;value&quot;:null}\r\n```\r\n\r\nI hope this is helpful for you. \r\n","title":"Jakarta JSON excludes null fields even though withNullValues is set to true","body":"<p>I don't know your full code, so this is my guess. If you don't declare <code>getter</code> method for properties in class, <code>Json-B</code> skips to serialize fields. Here is my example.</p>\n<h4>Without Getter</h4>\n<pre class=\"lang-java prettyprint-override\"><code>package action.in.blog;\n\nimport jakarta.json.bind.Jsonb;\nimport jakarta.json.bind.JsonbBuilder;\nimport jakarta.json.bind.JsonbConfig;\nimport org.junit.jupiter.api.Test;\n\npublic class JsonbTest {\n\n    @Test\n    void test() throws Exception {\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\n\n        Input inputObj = new Input();\n\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\n            System.out.println(jsonb.toJson(inputObj));\n        }\n    }\n\n    public static class Input {\n        private String value;\n    }\n}\n</code></pre>\n<h4>Result when without getter</h4>\n<pre><code>{}\n</code></pre>\n<h4>With Getter</h4>\n<pre class=\"lang-java prettyprint-override\"><code>package action.in.blog;\n\nimport jakarta.json.bind.Jsonb;\nimport jakarta.json.bind.JsonbBuilder;\nimport jakarta.json.bind.JsonbConfig;\nimport org.junit.jupiter.api.Test;\n\npublic class JsonbTest {\n\n    @Test\n    void test() throws Exception {\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\n\n        Input inputObj = new Input();\n\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\n            System.out.println(jsonb.toJson(inputObj));\n        }\n    }\n\n    public static class Input {\n        private String value;\n\n        public String getValue() {\n            return value;\n        }\n    }\n}\n</code></pre>\n<h4>Result when with getter</h4>\n<pre><code>{&quot;value&quot;:null}\n</code></pre>\n<h4>With public keyword</h4>\n<p>If you don't use getter method for fields, fields should be public.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package action.in.blog;\n\nimport jakarta.json.bind.Jsonb;\nimport jakarta.json.bind.JsonbBuilder;\nimport jakarta.json.bind.JsonbConfig;\nimport org.junit.jupiter.api.Test;\n\npublic class JsonbTest {\n\n    @Test\n    void test() throws Exception {\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\n\n        Input inputObj = new Input();\n\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\n            System.out.println(jsonb.toJson(inputObj));\n        }\n    }\n\n    public static class Input {\n        public String value;\n    }\n}\n</code></pre>\n<h4>Result when with public</h4>\n<pre><code>{&quot;value&quot;:null}\n</code></pre>\n<p>I hope this is helpful for you.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681035053,"creation_date":1681033800,"answer_id":75969800,"question_id":75954555,"body_markdown":"tl;dr; solved.\r\n----------------\r\n\r\n----------\r\n\r\nAfter I had read from your following comment, I solved your issue.\r\n\r\n&gt; No, the only annotation is at the field name level\r\n&gt; @JsonbProperty(&quot;field_name&quot;), and nothing at the class level.\r\n\r\nThe annotation&#39;s default `nillable` value is `false` . To accomplish your request you need to make it `true` as following.\r\n\r\n    @JsonbProperty(value = &quot;test&quot;, nillable = true)\r\n    public String your_field_name;\r\n\r\nIt yields something like `{... your other json fields, &quot;test&quot;:null}`\r\n\r\n----------\r\n\r\n\r\nTo begin, I have never used before this post JSON-B API. For you, I have installed it and its dependencies via [its official webpage][1].\r\n\r\nI have started a simple console app and created `pom.xml` to leverage its Maven dependencies as written on the webpage.\r\n\r\n*I think your problem is as to the versions either that of its dependencies or directly its own version.*\r\n\r\n**Don&#39;t forget to *reload project* after changing any settings related to Maven.**\r\n\r\nWhat my `pom.xml` includes is \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;RefUrself&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n         &lt;!-- ** The rest is for JSON-B API ** --&gt;\r\n\r\n        &lt;repositories&gt;\r\n            &lt;!-- Needed for JSON-B API --&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;java.net-Public&lt;/id&gt;\r\n                &lt;name&gt;Maven Java Net Snapshots and Releases&lt;/name&gt;\r\n                &lt;url&gt;https://maven.java.net/content/groups/public/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n                &lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        \r\n    &lt;/project&gt;\r\n\r\nAnd, when I run its official example which is `Dog` class in which I changed name of the dog to `null`, it works like a charm.\r\n\r\n`Dog` class\r\n\r\n    public class Dog {\r\n        public String name;\r\n        public int age;\r\n        public boolean bitable;\r\n    }\r\n\r\nThe `Test` class in which the program begins to run\r\n\r\n    import javax.json.bind.Jsonb;\r\n    import javax.json.bind.JsonbBuilder;\r\n    import javax.json.bind.JsonbConfig;\r\n    \r\n    public class Test {\r\n        // Create a dog instance\r\n        public static void main(String[] args) {\r\n            Dog dog = new Dog();\r\n            dog.name = null; // --&gt; null as you see\r\n            dog.age = 4;\r\n            dog.bitable = false;\r\n    \r\n            JsonbConfig config = new JsonbConfig().withNullValues(true);\r\n            // Create Jsonb and serialize\r\n            try (Jsonb jsonb = JsonbBuilder.create(config)) {\r\n                String result = jsonb.toJson(dog);\r\n                System.out.println(result);\r\n                //{&quot;age&quot;:4,&quot;bitable&quot;:false,&quot;name&quot;:null}\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://javaee.github.io/jsonb-spec/getting-started.html\r\n  [2]: https://i.stack.imgur.com/0ck68.png","title":"Jakarta JSON excludes null fields even though withNullValues is set to true","body":"<h2>tl;dr; solved.</h2>\n<hr />\n<p>After I had read from your following comment, I solved your issue.</p>\n<blockquote>\n<p>No, the only annotation is at the field name level\n@JsonbProperty(&quot;field_name&quot;), and nothing at the class level.</p>\n</blockquote>\n<p>The annotation's default <code>nillable</code> value is <code>false</code> . To accomplish your request you need to make it <code>true</code> as following.</p>\n<pre><code>@JsonbProperty(value = &quot;test&quot;, nillable = true)\npublic String your_field_name;\n</code></pre>\n<p>It yields something like <code>{... your other json fields, &quot;test&quot;:null}</code></p>\n<hr />\n<p>To begin, I have never used before this post JSON-B API. For you, I have installed it and its dependencies via <a href=\"https://javaee.github.io/jsonb-spec/getting-started.html\" rel=\"nofollow noreferrer\">its official webpage</a>.</p>\n<p>I have started a simple console app and created <code>pom.xml</code> to leverage its Maven dependencies as written on the webpage.</p>\n<p><em>I think your problem is as to the versions either that of its dependencies or directly its own version.</em></p>\n<p><strong>Don't forget to <em>reload project</em> after changing any settings related to Maven.</strong></p>\n<p>What my <code>pom.xml</code> includes is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;RefUrself&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n     &lt;!-- ** The rest is for JSON-B API ** --&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- Needed for JSON-B API --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;java.net-Public&lt;/id&gt;\n            &lt;name&gt;Maven Java Net Snapshots and Releases&lt;/name&gt;\n            &lt;url&gt;https://maven.java.net/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n            &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>And, when I run its official example which is <code>Dog</code> class in which I changed name of the dog to <code>null</code>, it works like a charm.</p>\n<p><code>Dog</code> class</p>\n<pre><code>public class Dog {\n    public String name;\n    public int age;\n    public boolean bitable;\n}\n</code></pre>\n<p>The <code>Test</code> class in which the program begins to run</p>\n<pre><code>import javax.json.bind.Jsonb;\nimport javax.json.bind.JsonbBuilder;\nimport javax.json.bind.JsonbConfig;\n\npublic class Test {\n    // Create a dog instance\n    public static void main(String[] args) {\n        Dog dog = new Dog();\n        dog.name = null; // --&gt; null as you see\n        dog.age = 4;\n        dog.bitable = false;\n\n        JsonbConfig config = new JsonbConfig().withNullValues(true);\n        // Create Jsonb and serialize\n        try (Jsonb jsonb = JsonbBuilder.create(config)) {\n            String result = jsonb.toJson(dog);\n            System.out.println(result);\n            //{&quot;age&quot;:4,&quot;bitable&quot;:false,&quot;name&quot;:null}\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0ck68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ck68.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75969800,"answer_count":3,"score":0,"last_activity_date":1681035053,"creation_date":1680825432,"question_id":75954555,"body_markdown":"I have this code that runs on Tomee with Jakarta EE 9.1, it is supposed to generate a JSON string taking the data from `inputObj`. Problem is that there are fields with null values that are omitted from the resulting JSON even though `withNullValues` is set to true. Any ideas what could be wrong?\r\n\r\n```java\r\nJsonbConfig config = new JsonbConfig().withNullValues(true);\r\n                    \r\nString json;\r\ntry (Jsonb jsonb = JsonbBuilder.create(config)) {\r\n    json = jsonb.toJson(inputObj);\r\n}\r\n```\r\n","title":"Jakarta JSON excludes null fields even though withNullValues is set to true","body":"<p>I have this code that runs on Tomee with Jakarta EE 9.1, it is supposed to generate a JSON string taking the data from <code>inputObj</code>. Problem is that there are fields with null values that are omitted from the resulting JSON even though <code>withNullValues</code> is set to true. Any ideas what could be wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonbConfig config = new JsonbConfig().withNullValues(true);\n                    \nString json;\ntry (Jsonb jsonb = JsonbBuilder.create(config)) {\n    json = jsonb.toJson(inputObj);\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1680901855,"post_id":75961930,"comment_id":133978896,"body_markdown":"Do you know how to swap content of two variables? Lets say you have `String a = &quot;foo&quot;; String b = &quot;bar&quot;;`, how would you swap their content?","body":"Do you know how to swap content of two variables? Lets say you have <code>String a = &quot;foo&quot;; String b = &quot;bar&quot;;</code>, how would you swap their content?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680906540,"creation_date":1680901673,"answer_id":75961952,"question_id":75961930,"body_markdown":"You can iterate over every pair of adjacent elements (by incrementing the index by 2 each time), then swap them.\r\n\r\n```java\r\nfor (int i = 0; i + 1 &lt; array.length; i += 2) {\r\n\tvar temp = array[i];\r\n\tarray[i] = array[i + 1];\r\n\tarray[i + 1] = temp;\r\n}\r\n```\r\n\r\nAlternatively:\r\n\r\n```java\r\nfor (int i = 0; i &lt; array.length / 2; i++) {\r\n\tvar temp = array[2 * i];\r\n\tarray[2 * i] = array[2 * i + 1];\r\n\tarray[2 * i + 1] = temp;\r\n}\r\n```","title":"How do I create a string array with switched pairs?","body":"<p>You can iterate over every pair of adjacent elements (by incrementing the index by 2 each time), then swap them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i + 1 &lt; array.length; i += 2) {\n    var temp = array[i];\n    array[i] = array[i + 1];\n    array[i + 1] = temp;\n}\n</code></pre>\n<p>Alternatively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; array.length / 2; i++) {\n    var temp = array[2 * i];\n    array[2 * i] = array[2 * i + 1];\n    array[2 * i + 1] = temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680903032,"creation_date":1680903032,"answer_id":75962078,"question_id":75961930,"body_markdown":"You can use Stream to achieve that.\r\n\r\n    String[] switched1 = IntStream.range(0, array.length / 2)\r\n        .flatMap(i -&gt; IntStream.of(i * 2 + 1, i * 2))\r\n        .mapToObj(i -&gt; array[i])\r\n        .toArray(String[]::new);\r\n\r\nor\r\n\r\n    String[] switched2 = IntStream.range(0, array.length / 2)\r\n        .mapToObj(i -&gt; 2 * i)\r\n        .flatMap(i -&gt; Stream.of(array[i + 1], array[i]))\r\n        .toArray(String[]::new);\r\n","title":"How do I create a string array with switched pairs?","body":"<p>You can use Stream to achieve that.</p>\n<pre><code>String[] switched1 = IntStream.range(0, array.length / 2)\n    .flatMap(i -&gt; IntStream.of(i * 2 + 1, i * 2))\n    .mapToObj(i -&gt; array[i])\n    .toArray(String[]::new);\n</code></pre>\n<p>or</p>\n<pre><code>String[] switched2 = IntStream.range(0, array.length / 2)\n    .mapToObj(i -&gt; 2 * i)\n    .flatMap(i -&gt; Stream.of(array[i + 1], array[i]))\n    .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680905741,"creation_date":1680905741,"answer_id":75962306,"question_id":75961930,"body_markdown":"Here is how I would do it. This has the advantage that if there are an odd number of values, it won&#39;t throw an exception.  As the loop iterates, it simply swaps adjacent values.\r\n```\r\nString [] array = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\r\nfor (int i = 1; i &lt; array.length; i+=2) {\r\n    String save = array[i-1];\r\n    array[i-1] = array[i];\r\n    array[i] = save;\r\n}\r\nSystem.out.println(Arrays.toString(array));\r\n```\r\nprints\r\n```\r\n[B, A, D, C, F, E, H, G, J, I]","title":"How do I create a string array with switched pairs?","body":"<p>Here is how I would do it. This has the advantage that if there are an odd number of values, it won't throw an exception.  As the loop iterates, it simply swaps adjacent values.</p>\n<pre><code>String [] array = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\nfor (int i = 1; i &lt; array.length; i+=2) {\n    String save = array[i-1];\n    array[i-1] = array[i];\n    array[i] = save;\n}\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n<p>prints</p>\n<pre><code>[B, A, D, C, F, E, H, G, J, I]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28210811,"reputation":1,"user_id":21563114,"display_name":"Shirish Gund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681034953,"creation_date":1681034953,"answer_id":75969890,"question_id":75961930,"body_markdown":"To switch between pairs you can traverse a string and swap adjacent characters and then move to the next of next characters (basically skip the immediate char) and make sure that while performing [i+1] make sure that index doesn&#39;t get out of bound\r\n\r\nhere I&#39;m providing Java code for it  :)\r\n\r\n\r\n```\r\n    String [] array = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\r\n\r\n    for (int i=0; i&lt; array.length-1; i+=2) {\r\n        String temp=array[i];  //store the current string in temp variable\r\n        array[i]=array[i+1];\r\n        array[i+1]=temp;\r\n    }\r\n\r\n```","title":"How do I create a string array with switched pairs?","body":"<p>To switch between pairs you can traverse a string and swap adjacent characters and then move to the next of next characters (basically skip the immediate char) and make sure that while performing [i+1] make sure that index doesn't get out of bound</p>\n<p>here I'm providing Java code for it  :)</p>\n<pre><code>    String [] array = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\n\n    for (int i=0; i&lt; array.length-1; i+=2) {\n        String temp=array[i];  //store the current string in temp variable\n        array[i]=array[i+1];\n        array[i+1]=temp;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":28244698,"reputation":1,"user_id":21591939,"display_name":"Don"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1681034953,"creation_date":1680901526,"question_id":75961930,"body_markdown":"How do I switch pairs? for ex i have String [] array = {A,B,C,D,E,F,G,H,I,J}; and I&#39;m trying to pair and switch their orders like this array {B,A,D,C,F,E,H,G,J,I};\r\n\r\n","title":"How do I create a string array with switched pairs?","body":"<p>How do I switch pairs? for ex i have String [] array = {A,B,C,D,E,F,G,H,I,J}; and I'm trying to pair and switch their orders like this array {B,A,D,C,F,E,H,G,J,I};</p>\n"},{"tags":["java","rest","spring-data-jpa","many-to-many","composite-primary-key"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679815250,"post_id":75845864,"comment_id":133785711,"body_markdown":"This sort of error is often because of a cycle in a hierarchy, eg mother - daughter - mother. Narrow down your search by setting a local variable for the result of findStats before passing to buildProfileStat - buildProfileStat(findStats(profileDTO.getLanguages()), profile))","body":"This sort of error is often because of a cycle in a hierarchy, eg mother - daughter - mother. Narrow down your search by setting a local variable for the result of findStats before passing to buildProfileStat - buildProfileStat(findStats(profileDTO.getLanguages()), profile))"},{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1679869845,"post_id":75845864,"comment_id":133793674,"body_markdown":"Yeah, the problem is when it tries to populate the ```new ProfileStat(stat, profile, false)```, it gets into a loop since the &quot;profile&quot; that it needs it&#39;s the same profile that is receiving the ProfileStat object. The problem is, what can I do to work around this issue? Like, how can we save this type of entity?","body":"Yeah, the problem is when it tries to populate the <code>new ProfileStat(stat, profile, false)</code>, it gets into a loop since the &quot;profile&quot; that it needs it&#39;s the same profile that is receiving the ProfileStat object. The problem is, what can I do to work around this issue? Like, how can we save this type of entity?"}],"answers":[{"tags":[],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681034516,"creation_date":1681033306,"answer_id":75969758,"question_id":75845864,"body_markdown":"I solved this using [this][1]. I built a [Github repository][2] with a simple example.\r\n\r\nMy method that populates the object saves it but with a different structure:\r\n\r\n    private Set&lt;ProfileStat&gt; buildProfileStat(Collection&lt;Stat&gt; stats, Profile profile) {\r\n        Set&lt;ProfileStat&gt; profileStats = new HashSet&lt;&gt;();\r\n        for(Stat stat : stats) {\r\n            ProfileStatId profileStatId = new ProfileStatId(stat.getId(), profile.getId());\r\n            ProfileStat profileStat = new ProfileStat(profileStatId, fals e);\r\n            profileStat.setProfile(profile);\r\n            profileStat.setStat(stat);\r\n            profileStats.add(profileStatService.save(profileStat));\r\n        }\r\n        return profileStats;\r\n    }\r\n\r\n    private Set&lt;ProfileInterest&gt; buildProfileInterest(Collection&lt;Interest&gt; interests, Profile profile) {\r\n        Set&lt;ProfileInterest&gt; profileInterests = new HashSet&lt;&gt;();\r\n        for(Interest interest : interests) {\r\n            ProfileInterestId profileInterestId = new ProfileInterestId(interest.getId(), profile.getId());\r\n            ProfileInterest profileInterest = new ProfileInterest(profileInterestId, false);\r\n            profileInterest.setProfile(profile);\r\n            profileInterest.setInterest(interest);\r\n            profileInterests.add(profileInterestService.save(profileInterest));\r\n        }\r\n        return profileInterests;\r\n    }\r\n\r\nI had to add a constructor on the `ProfileStat` entity that accepts the ID class and the extra columns but doesn&#39;t need the objects; you&#39;ll add them later. I don&#39;t know if you can add them.\r\n\r\nI also had to change how I populate back the &quot;Profile&quot;, from\r\n`profile.setLanguages(buildProfileStat(findStats(profileDTO.getLanguages()), profile));` to `buildProfileStat(findStats(profileDTO.getLanguages()), profile);`.\r\n\r\nI couldn&#39;t set back the saved list to its main object instance, Profile; it throws a Stackoverflow Exception. Probably there&#39;s some workaround.\r\n\r\n  [1]: https://github.com/tericcabrel/blog-tutorials/blob/main/springboot-many-to-many-2/src/main/java/com/tericcabrel/movie/entities/UserMovie.java\r\n  [2]: https://github.com/SakamotoLfe/bookstore","title":"Spring JPA Many To Many with extra colum and Embedded ID","body":"<p>I solved this using <a href=\"https://github.com/tericcabrel/blog-tutorials/blob/main/springboot-many-to-many-2/src/main/java/com/tericcabrel/movie/entities/UserMovie.java\" rel=\"nofollow noreferrer\">this</a>. I built a <a href=\"https://github.com/SakamotoLfe/bookstore\" rel=\"nofollow noreferrer\">Github repository</a> with a simple example.</p>\n<p>My method that populates the object saves it but with a different structure:</p>\n<pre><code>private Set&lt;ProfileStat&gt; buildProfileStat(Collection&lt;Stat&gt; stats, Profile profile) {\n    Set&lt;ProfileStat&gt; profileStats = new HashSet&lt;&gt;();\n    for(Stat stat : stats) {\n        ProfileStatId profileStatId = new ProfileStatId(stat.getId(), profile.getId());\n        ProfileStat profileStat = new ProfileStat(profileStatId, fals e);\n        profileStat.setProfile(profile);\n        profileStat.setStat(stat);\n        profileStats.add(profileStatService.save(profileStat));\n    }\n    return profileStats;\n}\n\nprivate Set&lt;ProfileInterest&gt; buildProfileInterest(Collection&lt;Interest&gt; interests, Profile profile) {\n    Set&lt;ProfileInterest&gt; profileInterests = new HashSet&lt;&gt;();\n    for(Interest interest : interests) {\n        ProfileInterestId profileInterestId = new ProfileInterestId(interest.getId(), profile.getId());\n        ProfileInterest profileInterest = new ProfileInterest(profileInterestId, false);\n        profileInterest.setProfile(profile);\n        profileInterest.setInterest(interest);\n        profileInterests.add(profileInterestService.save(profileInterest));\n    }\n    return profileInterests;\n}\n</code></pre>\n<p>I had to add a constructor on the <code>ProfileStat</code> entity that accepts the ID class and the extra columns but doesn't need the objects; you'll add them later. I don't know if you can add them.</p>\n<p>I also had to change how I populate back the &quot;Profile&quot;, from\n<code>profile.setLanguages(buildProfileStat(findStats(profileDTO.getLanguages()), profile));</code> to <code>buildProfileStat(findStats(profileDTO.getLanguages()), profile);</code>.</p>\n<p>I couldn't set back the saved list to its main object instance, Profile; it throws a Stackoverflow Exception. Probably there's some workaround.</p>\n"}],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75969758,"answer_count":1,"score":0,"last_activity_date":1681034927,"creation_date":1679804902,"question_id":75845864,"body_markdown":"I have a model that has many-to-many relations with two other entities multiple times and when I try to save them I get a stack overflow error.\r\n\r\nMy relation is Profile with multiple Stat and Interest, so a Profile can have multiple Stats and a Stat can be in multiple Profiles, so a Profile can have multiple Interests and an Interest can be in multiple Profiles. Classes ProfileStat and ProfileInterest have the ProfileStatId and ProfileInterestId as IDClass respectively:\r\n\r\n    @Entity\r\n    public class Profile extends GenericEntity {\r\n\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n\r\n        @OneToOne(mappedBy = &quot;stat&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private ProfileStat smokes;\r\n\r\n        @OneToMany(mappedBy = &quot;stat&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;ProfileStat&gt; languages;\r\n\r\n        @OneToMany(mappedBy = &quot;interest&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;ProfileInterest&gt; relationshipInterests;\r\n    }\r\n\r\n    @Entity\r\n    public class ProfileStat {\r\n\r\n        @EmbeddedId\r\n        private ProfileStatId profileStatId = new ProfileStatId();\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;statId&quot;)\r\n        @JoinColumn(name = &quot;stat_id&quot;)\r\n        private Stat stat;\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;profileId&quot;)\r\n        @JoinColumn(name = &quot;profile_id&quot;)\r\n        private Profile profile;\r\n\r\n        @Column\r\n        private boolean displayable;\r\n    }\r\n\r\n    @Embeddable\r\n    public class ProfileStatId implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        private UUID statId;\r\n\r\n        private UUID profileId;\r\n    }\r\n\r\n    @Entity\r\n    public class ProfileInterest {\r\n\r\n        @EmbeddedId\r\n        private ProfileInterestId profileInterestId = new ProfileInterestId();\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;interestId&quot;)\r\n        @JoinColumn(name = &quot;interest_id&quot;)\r\n        private Interest interest;\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;profileId&quot;)\r\n        @JoinColumn(name = &quot;profile_id&quot;)\r\n        private Profile profile;\r\n\r\n        @Column\r\n        private boolean displayable;\r\n    }\r\n\r\n    @Embeddable\r\n    public class ProfileInterestId implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        private UUID interestId;\r\n\r\n        private UUID profileId;\r\n    }\r\n\r\nI have an endpoint that saves the profile without the Stats and Interests, but when I try to save the Stats and Interests it gives me an stack overflow exception. I save the profiles and create the Stats and Interests instances, but it can&#39;t finish creating the objects, let alone save them. The method that creates those objects:\r\n\r\n    public Profile enrichProfile(Profile profile, ProfileDTO profileDTO) throws RestRequestException {\r\n\r\n        // There&#39;s some code here that works, the problem is with the next line\r\n        profile.setLanguages(buildProfileStat(findStats(profileDTO.getLanguages()), profile));        \r\n        profile.setRelationshipInterests(buildProfileInterest(findInterests(profileDTO.getRelationshipInterestsId()), profile));\r\n        return profile;\r\n    }\r\n\r\n    private Set&lt;ProfileStat&gt; buildProfileStat(Collection&lt;Stat&gt; stats, Profile profile) {\r\n        Set&lt;ProfileStat&gt; profileStats = new HashSet&lt;&gt;();\r\n        for(Stat stat : stats) {\r\n            profileStats.add(new ProfileStat(stat, profile, false));\r\n        }\r\n        return profileStats;\r\n    }\r\n\r\n    private Set&lt;Stat&gt; findStats(Collection&lt;UUID&gt; ids) throws RestRequestException {\r\n        Set&lt;Stat&gt; stats = new HashSet&lt;&gt;();\r\n        for (UUID id : ids) {\r\n            stats.add(statService.findById(id)\r\n                    .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.ERROR_CPRAPI_0012_D.getMessage())));\r\n        }\r\n        return stats;\r\n    }\r\n\r\n    private Set&lt;ProfileInterest&gt; buildProfileInterest(Collection&lt;Interest&gt; interests, Profile profile) {\r\n        Set&lt;ProfileInterest&gt; profileInterest = new HashSet&lt;&gt;();\r\n        for(Interest interest : interests) {\r\n            profileInterest.add(new ProfileInterest(interest, profile, false));\r\n        }\r\n        return profileInterest;\r\n    }\r\n\r\n    private Set&lt;Interest&gt; findInterests(Collection&lt;UUID&gt; ids) throws RestRequestException {\r\n        Set&lt;Interest&gt; interests = new HashSet&lt;&gt;();\r\n        for (UUID id : ids) {\r\n            interests.add(interestService.findById(id)\r\n                    .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.ERROR_CPRAPI_0012_E.getMessage())));\r\n        }\r\n        return interests;\r\n    }\r\n\r\nHow I&#39;m calling the method that creates the Stats and Interests, right after executing a `repository.save()` on the Profile entity:\r\n\r\n        @ApiOperation(&quot;Endpoint to register/save a new profile.&quot;)\r\n        @PostMapping(value = &quot;/save&quot;)\r\n        public Profile saveProfile(@RequestBody ProfileDTO profileDTO) throws RestRequestException, CouplerPlanLimitationException {\r\n            profileService.verifyUserCanSaveProfile(profileDTO.getUserId());\r\n            Profile profile = profileService.save(profileFactory.newProfileDtoToProfile(profileDTO));\r\n            profile = profileFactory.enrichProfile(profile, profileDTO);\r\n            return profile;\r\n        }\r\n","title":"Spring JPA Many To Many with extra colum and Embedded ID","body":"<p>I have a model that has many-to-many relations with two other entities multiple times and when I try to save them I get a stack overflow error.</p>\n<p>My relation is Profile with multiple Stat and Interest, so a Profile can have multiple Stats and a Stat can be in multiple Profiles, so a Profile can have multiple Interests and an Interest can be in multiple Profiles. Classes ProfileStat and ProfileInterest have the ProfileStatId and ProfileInterestId as IDClass respectively:</p>\n<pre><code>@Entity\npublic class Profile extends GenericEntity {\n\n    @Column(nullable = false, length = 100)\n    private String name;\n\n    @OneToOne(mappedBy = &quot;stat&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private ProfileStat smokes;\n\n    @OneToMany(mappedBy = &quot;stat&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProfileStat&gt; languages;\n\n    @OneToMany(mappedBy = &quot;interest&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProfileInterest&gt; relationshipInterests;\n}\n\n@Entity\npublic class ProfileStat {\n\n    @EmbeddedId\n    private ProfileStatId profileStatId = new ProfileStatId();\n\n    @ManyToOne\n    @MapsId(&quot;statId&quot;)\n    @JoinColumn(name = &quot;stat_id&quot;)\n    private Stat stat;\n\n    @ManyToOne\n    @MapsId(&quot;profileId&quot;)\n    @JoinColumn(name = &quot;profile_id&quot;)\n    private Profile profile;\n\n    @Column\n    private boolean displayable;\n}\n\n@Embeddable\npublic class ProfileStatId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private UUID statId;\n\n    private UUID profileId;\n}\n\n@Entity\npublic class ProfileInterest {\n\n    @EmbeddedId\n    private ProfileInterestId profileInterestId = new ProfileInterestId();\n\n    @ManyToOne\n    @MapsId(&quot;interestId&quot;)\n    @JoinColumn(name = &quot;interest_id&quot;)\n    private Interest interest;\n\n    @ManyToOne\n    @MapsId(&quot;profileId&quot;)\n    @JoinColumn(name = &quot;profile_id&quot;)\n    private Profile profile;\n\n    @Column\n    private boolean displayable;\n}\n\n@Embeddable\npublic class ProfileInterestId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private UUID interestId;\n\n    private UUID profileId;\n}\n</code></pre>\n<p>I have an endpoint that saves the profile without the Stats and Interests, but when I try to save the Stats and Interests it gives me an stack overflow exception. I save the profiles and create the Stats and Interests instances, but it can't finish creating the objects, let alone save them. The method that creates those objects:</p>\n<pre><code>public Profile enrichProfile(Profile profile, ProfileDTO profileDTO) throws RestRequestException {\n\n    // There's some code here that works, the problem is with the next line\n    profile.setLanguages(buildProfileStat(findStats(profileDTO.getLanguages()), profile));        \n    profile.setRelationshipInterests(buildProfileInterest(findInterests(profileDTO.getRelationshipInterestsId()), profile));\n    return profile;\n}\n\nprivate Set&lt;ProfileStat&gt; buildProfileStat(Collection&lt;Stat&gt; stats, Profile profile) {\n    Set&lt;ProfileStat&gt; profileStats = new HashSet&lt;&gt;();\n    for(Stat stat : stats) {\n        profileStats.add(new ProfileStat(stat, profile, false));\n    }\n    return profileStats;\n}\n\nprivate Set&lt;Stat&gt; findStats(Collection&lt;UUID&gt; ids) throws RestRequestException {\n    Set&lt;Stat&gt; stats = new HashSet&lt;&gt;();\n    for (UUID id : ids) {\n        stats.add(statService.findById(id)\n                .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.ERROR_CPRAPI_0012_D.getMessage())));\n    }\n    return stats;\n}\n\nprivate Set&lt;ProfileInterest&gt; buildProfileInterest(Collection&lt;Interest&gt; interests, Profile profile) {\n    Set&lt;ProfileInterest&gt; profileInterest = new HashSet&lt;&gt;();\n    for(Interest interest : interests) {\n        profileInterest.add(new ProfileInterest(interest, profile, false));\n    }\n    return profileInterest;\n}\n\nprivate Set&lt;Interest&gt; findInterests(Collection&lt;UUID&gt; ids) throws RestRequestException {\n    Set&lt;Interest&gt; interests = new HashSet&lt;&gt;();\n    for (UUID id : ids) {\n        interests.add(interestService.findById(id)\n                .orElseThrow(() -&gt; new RestRequestException(HttpStatus.NOT_FOUND, ErrorIndicator.ERROR_CPRAPI_0012_E.getMessage())));\n    }\n    return interests;\n}\n</code></pre>\n<p>How I'm calling the method that creates the Stats and Interests, right after executing a <code>repository.save()</code> on the Profile entity:</p>\n<pre><code>    @ApiOperation(&quot;Endpoint to register/save a new profile.&quot;)\n    @PostMapping(value = &quot;/save&quot;)\n    public Profile saveProfile(@RequestBody ProfileDTO profileDTO) throws RestRequestException, CouplerPlanLimitationException {\n        profileService.verifyUserCanSaveProfile(profileDTO.getUserId());\n        Profile profile = profileService.save(profileFactory.newProfileDtoToProfile(profileDTO));\n        profile = profileFactory.enrichProfile(profile, profileDTO);\n        return profile;\n    }\n</code></pre>\n"},{"tags":["java","docker","maven","continuous-integration","github-actions"],"comments":[{"owner":{"account_id":152743,"reputation":194462,"user_id":367456,"accept_rate":71,"display_name":"hakre"},"score":0,"creation_date":1681049954,"post_id":75969721,"comment_id":133993339,"body_markdown":"Are you sure you&#39;re pulling the latest revision stored in the registry under the now re-tagged tag? Please add the instructions on how you compare the image revision for the new tag to your question so that it becomes more **concrete** what you ask about here.","body":"Are you sure you&#39;re pulling the latest revision stored in the registry under the now re-tagged tag? Please add the instructions on how you compare the image revision for the new tag to your question so that it becomes more <b>concrete</b> what you ask about here."},{"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"score":0,"creation_date":1681062031,"post_id":75969721,"comment_id":133994945,"body_markdown":"pull_policy: always is not working as well","body":"pull_policy: always is not working as well"},{"owner":{"account_id":152743,"reputation":194462,"user_id":367456,"accept_rate":71,"display_name":"hakre"},"score":0,"creation_date":1681065673,"post_id":75969721,"comment_id":133995428,"body_markdown":"Please add all relevant information to your question, like the docker-compose.yml file. That works by [edit]ing the quesiton, the [help] has more detailed information. Possible duplicate of: https://stackoverflow.com/q/37685581/367456","body":"Please add all relevant information to your question, like the docker-compose.yml file. That works by <a href=\"https://stackoverflow.com/posts/75969721/edit\">edit</a>ing the quesiton, the <a href=\"https://stackoverflow.com/help\">help center</a> has more detailed information. Possible duplicate of: <a href=\"https://stackoverflow.com/q/37685581/367456\">stackoverflow.com/q/37685581/367456</a>"}],"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681033090,"creation_date":1681032779,"question_id":75969721,"body_markdown":"When I make changes to my code and push the changes, the CI pipeline is triggered, and it builds and pushes the Docker image to the GitHub Container Registry. However, it seems that when I pull the image, the changes are not present. Am I doing something wrong in my CI workflow? Here&#39;s my file:    \r\n\r\n\r\n    name: Continuous Integration\r\n    \r\n    on:\r\n      push:\r\n        branches:\r\n          - main\r\n    \r\n    env:\r\n      REGISTRY: ghcr.io\r\n      IMAGE_NAME: ${{ github.repository }}\r\n    \r\n    jobs:\r\n      build-and-push-image:\r\n        runs-on: ubuntu-latest\r\n        permissions:\r\n          contents: read\r\n          packages: write\r\n        steps:\r\n          - name: Checkout repository\r\n            uses: actions/checkout@v3\r\n    \r\n          - name: Log in to the Container registry\r\n            uses: docker/login-action@f054a8b539a109f9f41c372932f1ae047eff08c9\r\n            with:\r\n              registry: ${{ env.REGISTRY }}\r\n              username: ${{ github.actor }}\r\n              password: ${{ secrets.GITHUB_TOKEN }}\r\n    \r\n          - name: Set up Docker Buildx\r\n            uses: docker/setup-buildx-action@v1\r\n    \r\n          - name: Build and push Docker image\r\n            uses: docker/build-push-action@v2\r\n            with:\r\n              context: .\r\n              push: true\r\n              tags: ghcr.io/${{ github.repository_owner }}/myreponame:new\r\n\r\n\r\nWhen I first change the tag of the image (here I have it set to &quot;new&quot;),  I can see my new changes in my newly built image, but if I don&#39;t modify the tag, the changes don&#39;t get applied.\r\n\r\nHere&#39;s my dockerfile if it can help:\r\n\r\n    # Build stage\r\n    FROM maven:3-openjdk-17-slim AS build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app/pom.xml\r\n    COPY wait-for-it.sh /home/app/wait-for-it.sh\r\n    RUN chmod +x /home/app/wait-for-it.sh\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    # Package stage\r\n    FROM openjdk:17-alpine\r\n    RUN apk add --no-cache bash\r\n    COPY --from=build /home/app/target/api.jar /usr/local/lib/api.jar\r\n    COPY --from=build /home/app/wait-for-it.sh /usr/local/bin/wait-for-it.sh\r\n    ENTRYPOINT [&quot;/usr/local/bin/wait-for-it.sh&quot;, &quot;db:5432&quot;, &quot;--&quot;, &quot;java&quot;, &quot;-jar&quot;, &quot;/usr/local/lib/api.jar&quot;]\r\n\r\n","title":"Troubleshooting CI Pipeline: Changes Not Reflected in Docker Imager","body":"<p>When I make changes to my code and push the changes, the CI pipeline is triggered, and it builds and pushes the Docker image to the GitHub Container Registry. However, it seems that when I pull the image, the changes are not present. Am I doing something wrong in my CI workflow? Here's my file:</p>\n<pre><code>name: Continuous Integration\n\non:\n  push:\n    branches:\n      - main\n\nenv:\n  REGISTRY: ghcr.io\n  IMAGE_NAME: ${{ github.repository }}\n\njobs:\n  build-and-push-image:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      packages: write\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n\n      - name: Log in to the Container registry\n        uses: docker/login-action@f054a8b539a109f9f41c372932f1ae047eff08c9\n        with:\n          registry: ${{ env.REGISTRY }}\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v1\n\n      - name: Build and push Docker image\n        uses: docker/build-push-action@v2\n        with:\n          context: .\n          push: true\n          tags: ghcr.io/${{ github.repository_owner }}/myreponame:new\n</code></pre>\n<p>When I first change the tag of the image (here I have it set to &quot;new&quot;),  I can see my new changes in my newly built image, but if I don't modify the tag, the changes don't get applied.</p>\n<p>Here's my dockerfile if it can help:</p>\n<pre><code># Build stage\nFROM maven:3-openjdk-17-slim AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app/pom.xml\nCOPY wait-for-it.sh /home/app/wait-for-it.sh\nRUN chmod +x /home/app/wait-for-it.sh\nRUN mvn -f /home/app/pom.xml clean package\n\n# Package stage\nFROM openjdk:17-alpine\nRUN apk add --no-cache bash\nCOPY --from=build /home/app/target/api.jar /usr/local/lib/api.jar\nCOPY --from=build /home/app/wait-for-it.sh /usr/local/bin/wait-for-it.sh\nENTRYPOINT [&quot;/usr/local/bin/wait-for-it.sh&quot;, &quot;db:5432&quot;, &quot;--&quot;, &quot;java&quot;, &quot;-jar&quot;, &quot;/usr/local/lib/api.jar&quot;]\n</code></pre>\n"},{"tags":["java","set","comparator","treeset"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1681032561,"post_id":75969664,"comment_id":133991413,"body_markdown":"&quot;but somehow it is using the comparator to decide which value to be inserted&quot; Yes, that&#39;s how TreeSet works.","body":"&quot;but somehow it is using the comparator to decide which value to be inserted&quot; Yes, that&#39;s how TreeSet works."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1681032624,"post_id":75969664,"comment_id":133991425,"body_markdown":"Have you read the documentation of [`TreeSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html)? Specifically: _&quot;[..], but a `TreeSet` instance performs all element comparisons using its `compareTo` (or `compare`) method, so two elements that are deemed equal by this method are, from the standpoint of the set, equal.&quot;_ It also says: _&quot;Note that the ordering maintained by a set (whether or not an explicit comparator is provided) must be **consistent with equals** if it is to correctly implement the Set interface.&quot;_","body":"Have you read the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>? Specifically: <i>&quot;[..], but a <code>TreeSet</code> instance performs all element comparisons using its <code>compareTo</code> (or <code>compare</code>) method, so two elements that are deemed equal by this method are, from the standpoint of the set, equal.&quot;</i> It also says: <i>&quot;Note that the ordering maintained by a set (whether or not an explicit comparator is provided) must be <b>consistent with equals</b> if it is to correctly implement the Set interface.&quot;</i>"}],"owner":{"account_id":16579822,"reputation":9,"user_id":11980710,"display_name":"luke__skywalkrrr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681032771,"answer_count":0,"score":0,"last_activity_date":1681032858,"creation_date":1681031777,"question_id":75969664,"body_markdown":"I am trying to add elements of pair in TreeSet, but somehow it is using the comparator to decide which value to be inserted.\r\n\r\n```java\r\nclass pair{\r\n    int i;\r\n    int j;\r\n    int w;\r\n\r\n    pair(int i,int j,int w){\r\n        this.i=i;\r\n        this.j=j;\r\n        this.w=w;\r\n    }\r\n\r\n    public boolean equals(Object o){\r\n        if(this==o) return true;\r\n        if(o==null || this.getClass()!=o.getClass()) return false;\r\n        pair p=(pair)o;\r\n        boolean a=i==p.i;\r\n        boolean b=j==p.j;\r\n            boolean c=w==p.w;\r\n        return (a &amp;&amp; b &amp;&amp; c);\r\n    }\r\n\r\n    public int hashCode(Object o){\r\n        return Objects.hash(i,j,w);\r\n    } \r\n\r\n    @Override\r\n    public String toString(){\r\n        return i + &quot;-&quot; + j + &quot;-&quot; + w;\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class CodeExample {\r\n    \r\n    public static void main(String[] arg) {\r\n        TreeSet&lt;pair&gt; s = new TreeSet&lt;&gt;(new Comparator&lt;&gt;(){\r\n            public int compare(pair a , pair b){\r\n                return a.w-b.w;\r\n             }\r\n         });\r\n         pair p1 =new pair(1,3,3);\r\n         pair p2 =new pair(1,2,3);\r\n         pair p3 =new pair(2,2,3);\r\n         pair p4 =new pair(2,2,4);\r\n\r\n         if(p1.equals(p2))\r\n             System.out.println(&quot;P1 and P2 are equal&quot;);\r\n         \r\n         s.add(p1);\r\n         s.add(p2);\r\n         s.add(p3);\r\n         s.add(p4);\r\n\r\n         System.out.println(s.size()); // OUTPUT = 2\r\n         while(!s.isEmpty()){\r\n             pair t = s.first();\r\n             System.out.println(t); //\r\n             s.remove(t);\r\n         }\r\n    }\r\n}\r\n```\r\nOutput\r\n```none\r\n2 \r\n1-3-3\r\n2-2-4\r\n```\r\nI am not sure why the p2 and p3 are not being inserted.\r\n\r\nIf I update the comparator to\r\n\r\n```java\r\nTreeSet&lt;pair&gt; s = new TreeSet&lt;&gt;(new Comparator&lt;&gt;(){\r\n\r\n    public int compare(pair a , pair b){\r\n        if(a.w==b.w ){\r\n            if(a.i==b.i)\r\n                return a.j-b.j;\r\n            return a.i-b.i; \r\n        }\r\n        return a.w-b.w;\r\n     }\r\n});\r\n```\r\nIt is now adding all 4 elements. I thought comparator is only used while removing elements from the Set and the Set uses `equals` and `hashcode` to check if the Objects are duplicate, so why it is not inserting p2 and p3 (Same W value )in the first case?\r\n\r\nI&#39;m now sure why it is happening.\r\n","title":"Using Tree Set in java with user defined class","body":"<p>I am trying to add elements of pair in TreeSet, but somehow it is using the comparator to decide which value to be inserted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class pair{\n    int i;\n    int j;\n    int w;\n\n    pair(int i,int j,int w){\n        this.i=i;\n        this.j=j;\n        this.w=w;\n    }\n\n    public boolean equals(Object o){\n        if(this==o) return true;\n        if(o==null || this.getClass()!=o.getClass()) return false;\n        pair p=(pair)o;\n        boolean a=i==p.i;\n        boolean b=j==p.j;\n            boolean c=w==p.w;\n        return (a &amp;&amp; b &amp;&amp; c);\n    }\n\n    public int hashCode(Object o){\n        return Objects.hash(i,j,w);\n    } \n\n    @Override\n    public String toString(){\n        return i + &quot;-&quot; + j + &quot;-&quot; + w;\n    }\n\n}\n</code></pre>\n<pre><code>public class CodeExample {\n    \n    public static void main(String[] arg) {\n        TreeSet&lt;pair&gt; s = new TreeSet&lt;&gt;(new Comparator&lt;&gt;(){\n            public int compare(pair a , pair b){\n                return a.w-b.w;\n             }\n         });\n         pair p1 =new pair(1,3,3);\n         pair p2 =new pair(1,2,3);\n         pair p3 =new pair(2,2,3);\n         pair p4 =new pair(2,2,4);\n\n         if(p1.equals(p2))\n             System.out.println(&quot;P1 and P2 are equal&quot;);\n         \n         s.add(p1);\n         s.add(p2);\n         s.add(p3);\n         s.add(p4);\n\n         System.out.println(s.size()); // OUTPUT = 2\n         while(!s.isEmpty()){\n             pair t = s.first();\n             System.out.println(t); //\n             s.remove(t);\n         }\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>2 \n1-3-3\n2-2-4\n</code></pre>\n<p>I am not sure why the p2 and p3 are not being inserted.</p>\n<p>If I update the comparator to</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeSet&lt;pair&gt; s = new TreeSet&lt;&gt;(new Comparator&lt;&gt;(){\n\n    public int compare(pair a , pair b){\n        if(a.w==b.w ){\n            if(a.i==b.i)\n                return a.j-b.j;\n            return a.i-b.i; \n        }\n        return a.w-b.w;\n     }\n});\n</code></pre>\n<p>It is now adding all 4 elements. I thought comparator is only used while removing elements from the Set and the Set uses <code>equals</code> and <code>hashcode</code> to check if the Objects are duplicate, so why it is not inserting p2 and p3 (Same W value )in the first case?</p>\n<p>I'm now sure why it is happening.</p>\n"},{"tags":["java","http","request","apache-httpasyncclient"],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681032174,"creation_date":1681028398,"answer_id":75969459,"question_id":75969443,"body_markdown":"There&#39;s no requirement for `Host` header to match target URL, otherwise shared hosting would not work. But there&#39;s more - your `host` variable holds full URL string, while host name should be just what it says `example.com`:\r\n\r\n```java\r\nString host = &quot;example.com&quot;;\r\nString destination_address = &quot;https://8.8.8.8&quot;;\r\n```\r\n\r\nOnce that is corrected, create custom header and use it while building request:\r\n\r\n```java\r\nHeader hostHeader = new BasicHeader(HttpHeaders.HOST, host);\r\n\r\nhttp_request = SimpleRequestBuilder.post(destination_address + &quot;/something&quot;)\r\n                        .setBody(request_body, ContentType.TEXT_PLAIN)\r\n                        .addHeader(hostHeader) // Add the custom &#39;Host&#39; header\r\n                        .setHeaders(request_headers)\r\n                        .build();\r\n```\r\n\r\nI am using Apache HttpClient&#39;s `BasicHeader` class.","title":"Java: Http request with different Host Header and destination","body":"<p>There's no requirement for <code>Host</code> header to match target URL, otherwise shared hosting would not work. But there's more - your <code>host</code> variable holds full URL string, while host name should be just what it says <code>example.com</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String host = &quot;example.com&quot;;\nString destination_address = &quot;https://8.8.8.8&quot;;\n</code></pre>\n<p>Once that is corrected, create custom header and use it while building request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Header hostHeader = new BasicHeader(HttpHeaders.HOST, host);\n\nhttp_request = SimpleRequestBuilder.post(destination_address + &quot;/something&quot;)\n                        .setBody(request_body, ContentType.TEXT_PLAIN)\n                        .addHeader(hostHeader) // Add the custom 'Host' header\n                        .setHeaders(request_headers)\n                        .build();\n</code></pre>\n<p>I am using Apache HttpClient's <code>BasicHeader</code> class.</p>\n"}],"owner":{"account_id":27534826,"reputation":29,"user_id":21012691,"display_name":"netcat_dd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75969459,"answer_count":1,"score":0,"last_activity_date":1681032174,"creation_date":1681028041,"question_id":75969443,"body_markdown":"I need to make an HTTP request with specific Host header that may differ from destination address. What are my options?\r\n\r\nLet&#39;s say we have these variables already defined.\r\n```java\r\nString host = &quot;https://example.com/something&quot;;\r\nString destination_address = &quot;https://8.8.8.8&quot;;\r\nString http_version = &quot;HTTP/2&quot;;\r\nString http_method = &quot;POST&quot;;\r\nboolean follow_redirects = true;\r\n```\r\n\r\nHere is my code. Currently i am using Apache Http-Client-5, but i don&#39;t mind hearing any other suggestions.\r\n\r\n```java\r\nH2AsyncClientBuilder builder_2 = HttpAsyncClients.customHttp2();\r\n\r\nif (follow_redirects) {\r\n    builder_2.setRedirectStrategy(new DefaultRedirectStrategy());\r\n    }\r\n\r\nif (!(Objects.equals(destination_address, host))) {\r\n            builder_1.setProxy(HttpHost.create(destination_address));\r\n            }\r\n\r\nCloseableHttpAsyncClient client = HttpAsyncClients.createDefault();\r\nclient = builder_2.build();\r\nclient.start();\r\n\r\n// Here i have long &quot;case&quot; statement for each Http method, i desided to not enclude it here. \r\n// Here is the version for post request.\r\nhttp_request = SimpleRequestBuilder.post(host)\r\n                        .setBody(request_body, ContentType.TEXT_PLAIN)\r\n                        .setHeaders(request_headers)\r\n                        .build();\r\n\r\nFuture&lt;SimpleHttpResponse&gt; future = client.execute(http_request, null);\r\n            SimpleHttpResponse http_response = future.get();\r\n            client.close(CloseMode.GRACEFUL);\r\n```","title":"Java: Http request with different Host Header and destination","body":"<p>I need to make an HTTP request with specific Host header that may differ from destination address. What are my options?</p>\n<p>Let's say we have these variables already defined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String host = &quot;https://example.com/something&quot;;\nString destination_address = &quot;https://8.8.8.8&quot;;\nString http_version = &quot;HTTP/2&quot;;\nString http_method = &quot;POST&quot;;\nboolean follow_redirects = true;\n</code></pre>\n<p>Here is my code. Currently i am using Apache Http-Client-5, but i don't mind hearing any other suggestions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>H2AsyncClientBuilder builder_2 = HttpAsyncClients.customHttp2();\n\nif (follow_redirects) {\n    builder_2.setRedirectStrategy(new DefaultRedirectStrategy());\n    }\n\nif (!(Objects.equals(destination_address, host))) {\n            builder_1.setProxy(HttpHost.create(destination_address));\n            }\n\nCloseableHttpAsyncClient client = HttpAsyncClients.createDefault();\nclient = builder_2.build();\nclient.start();\n\n// Here i have long &quot;case&quot; statement for each Http method, i desided to not enclude it here. \n// Here is the version for post request.\nhttp_request = SimpleRequestBuilder.post(host)\n                        .setBody(request_body, ContentType.TEXT_PLAIN)\n                        .setHeaders(request_headers)\n                        .build();\n\nFuture&lt;SimpleHttpResponse&gt; future = client.execute(http_request, null);\n            SimpleHttpResponse http_response = future.get();\n            client.close(CloseMode.GRACEFUL);\n</code></pre>\n"},{"tags":["java","hashmap","equals"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1681031435,"post_id":75969618,"comment_id":133991304,"body_markdown":"`Integer` is an object type, not a primitive type. Integers in the range -128, 127 might be cached, and then `==` happens to work. When comparing object, you should always use `equals` (unless you want to check object identity).","body":"<code>Integer</code> is an object type, not a primitive type. Integers in the range -128, 127 might be cached, and then <code>==</code> happens to work. When comparing object, you should always use <code>equals</code> (unless you want to check object identity)."}],"owner":{"account_id":25649992,"reputation":1,"user_id":19417414,"display_name":"Hubert Huang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681031538,"answer_count":0,"score":0,"last_activity_date":1681031558,"creation_date":1681030917,"question_id":75969618,"body_markdown":"Link:https://leetcode.com/problems/robot-return-to-origin/\r\n\r\nQuestion: There is a robot starting at the position (0, 0), the origin, on a 2D plane. Given a sequence of its moves, judge if this robot ends up at (0, 0) after it completes its moves.\r\n\r\nYou are given a string moves that represents the move sequence of the robot where moves[i] represents its ith move. Valid moves are &#39;R&#39; (right), &#39;L&#39; (left), &#39;U&#39; (up), and &#39;D&#39; (down).\r\n\r\nReturn true if the robot returns to the origin after it finishes all of its moves, or false otherwise.\r\n\r\nMy approach was to make a haskmap that record how many times the U, D, L, and R moves occured in the string. If the number of U equals the number the D and the number of L equals the number of R, we return true since it means that the robot would be back at the origin. Else, we return false. I&#39;m confused why my code only worked for some testcases when I used == to compare the number of each letter. If I change == to .equals, my code passes all the testcases. Why is this the case? Since we are comparing integer objects, shouldn&#39;t both == and .equals just check if the memory locations are the same? Here is my code (the commented code is what I had initially):\r\n\r\n    class Solution {\r\n    public boolean judgeCircle(String moves) {\r\n        HashMap&lt;Character,Integer&gt; map = new HashMap&lt;Character,Integer&gt;();\r\n        char[] move=moves.toCharArray();\r\n        map.put(&#39;R&#39;,0);\r\n        map.put(&#39;L&#39;,0);\r\n        map.put(&#39;U&#39;,0);\r\n        map.put(&#39;D&#39;,0);\r\n        for (char i : move){\r\n            if(!map.containsKey(i)) return false;\r\n            map.put(i,map.get(i)+1);\r\n        }\r\n        if(map.get(&#39;R&#39;).equals(map.get(&#39;L&#39;))&amp;&amp;map.get(&#39;U&#39;).equals(map.get(&#39;D&#39;))){\r\n            return true;\r\n        }\r\n        /*\r\n        if(map.get(&#39;R&#39;)==map.get(&#39;L&#39;)&amp;&amp;map.get(&#39;U&#39;)==map.get(&#39;D&#39;)){\r\n            return true;\r\n        }\r\n        */\r\n        return false;\r\n    }\r\n}","title":"Difference between using == and equals to compare hashmap values (Leetcode question 657)","body":"<p>Link:<a href=\"https://leetcode.com/problems/robot-return-to-origin/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/robot-return-to-origin/</a></p>\n<p>Question: There is a robot starting at the position (0, 0), the origin, on a 2D plane. Given a sequence of its moves, judge if this robot ends up at (0, 0) after it completes its moves.</p>\n<p>You are given a string moves that represents the move sequence of the robot where moves[i] represents its ith move. Valid moves are 'R' (right), 'L' (left), 'U' (up), and 'D' (down).</p>\n<p>Return true if the robot returns to the origin after it finishes all of its moves, or false otherwise.</p>\n<p>My approach was to make a haskmap that record how many times the U, D, L, and R moves occured in the string. If the number of U equals the number the D and the number of L equals the number of R, we return true since it means that the robot would be back at the origin. Else, we return false. I'm confused why my code only worked for some testcases when I used == to compare the number of each letter. If I change == to .equals, my code passes all the testcases. Why is this the case? Since we are comparing integer objects, shouldn't both == and .equals just check if the memory locations are the same? Here is my code (the commented code is what I had initially):</p>\n<pre><code>class Solution {\npublic boolean judgeCircle(String moves) {\n    HashMap&lt;Character,Integer&gt; map = new HashMap&lt;Character,Integer&gt;();\n    char[] move=moves.toCharArray();\n    map.put('R',0);\n    map.put('L',0);\n    map.put('U',0);\n    map.put('D',0);\n    for (char i : move){\n        if(!map.containsKey(i)) return false;\n        map.put(i,map.get(i)+1);\n    }\n    if(map.get('R').equals(map.get('L'))&amp;&amp;map.get('U').equals(map.get('D'))){\n        return true;\n    }\n    /*\n    if(map.get('R')==map.get('L')&amp;&amp;map.get('U')==map.get('D')){\n        return true;\n    }\n    */\n    return false;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":2329893,"reputation":741,"user_id":2043575,"accept_rate":86,"display_name":"Daniel M&#252;ller"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1563805720,"creation_date":1563805720,"answer_id":57148184,"question_id":57148090,"body_markdown":"Restarting Visual Studio Code solved this issue...","title":"Java Project in VS-Code, &quot;No delegateCommandHandler for vscode.java.validateLaunchConfig&quot; Error","body":"<p>Restarting Visual Studio Code solved this issue...</p>\n"},{"tags":[],"owner":{"account_id":24493291,"reputation":1,"user_id":18410025,"display_name":"Ana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650988553,"creation_date":1650988553,"answer_id":72016998,"question_id":57148090,"body_markdown":"In my case, some of them (Test Runner for Java and Debugger for Java) had a &quot;reload required&quot; button next to the uninstall button. After I pressed them, the error you mentioned disappeared and it worked well. Maybe it helps.:)","title":"Java Project in VS-Code, &quot;No delegateCommandHandler for vscode.java.validateLaunchConfig&quot; Error","body":"<p>In my case, some of them (Test Runner for Java and Debugger for Java) had a &quot;reload required&quot; button next to the uninstall button. After I pressed them, the error you mentioned disappeared and it worked well. Maybe it helps.:)</p>\n"},{"tags":[],"owner":{"account_id":27937278,"reputation":1,"user_id":21334011,"display_name":"Ricardo Pardim Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681030472,"creation_date":1681008365,"answer_id":75968545,"question_id":57148090,"body_markdown":"if nothing of the other solutions work for you, go to your Extensions and press the button &quot;revert to pre-release&quot; to all java extensions, reload VS Code and *voil&#225;*","title":"Java Project in VS-Code, &quot;No delegateCommandHandler for vscode.java.validateLaunchConfig&quot; Error","body":"<p>if nothing of the other solutions work for you, go to your Extensions and press the button &quot;revert to pre-release&quot; to all java extensions, reload VS Code and <em>voilá</em></p>\n"}],"owner":{"account_id":2329893,"reputation":741,"user_id":2043575,"accept_rate":86,"display_name":"Daniel M&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15301,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":57148184,"answer_count":3,"score":14,"last_activity_date":1681030472,"creation_date":1563805360,"question_id":57148090,"body_markdown":"I&#39;m new to Java in Visual Studio Code and trying to implement small application, which is using our SDK, which is located in our internal Git Repository.\r\n\r\nWhen trying to Debug my application I get following Error:\r\n\r\n&gt; No delegateCommandHandler for vscode.java.validateLaunchConfig\r\n\r\nMy Configurationfile looks pretty simple:\r\n\r\n    {\r\n        &quot;configurations&quot;: [\r\n            \r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;CodeLens (Launch) - App&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;mainClass&quot;: &quot;com.my.first.class&quot;,\r\n                &quot;projectName&quot;: &quot;dummyproject&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nI&#39;m using following Extensions for Visual Studio Code:\r\n\r\n - Debugger for Java (0.20.0)\r\n - Gitlens (9.9.0)\r\n - Java Dependency Viewer (0.5.1)\r\n - Java Test Runner (0.18.1)\r\n - Maven for Java (0.18.1)\r\n - Java Extension Pack (0.7.1)\r\n - Language Support for Java (0.47.0)\r\n - Visual Studio IntelliCode (1.1.8)","title":"Java Project in VS-Code, &quot;No delegateCommandHandler for vscode.java.validateLaunchConfig&quot; Error","body":"<p>I'm new to Java in Visual Studio Code and trying to implement small application, which is using our SDK, which is located in our internal Git Repository.</p>\n\n<p>When trying to Debug my application I get following Error:</p>\n\n<blockquote>\n  <p>No delegateCommandHandler for vscode.java.validateLaunchConfig</p>\n</blockquote>\n\n<p>My Configurationfile looks pretty simple:</p>\n\n<pre><code>{\n    \"configurations\": [\n\n        {\n            \"type\": \"java\",\n            \"name\": \"CodeLens (Launch) - App\",\n            \"request\": \"launch\",\n            \"mainClass\": \"com.my.first.class\",\n            \"projectName\": \"dummyproject\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I'm using following Extensions for Visual Studio Code:</p>\n\n<ul>\n<li>Debugger for Java (0.20.0)</li>\n<li>Gitlens (9.9.0)</li>\n<li>Java Dependency Viewer (0.5.1)</li>\n<li>Java Test Runner (0.18.1)</li>\n<li>Maven for Java (0.18.1)</li>\n<li>Java Extension Pack (0.7.1)</li>\n<li>Language Support for Java (0.47.0)</li>\n<li>Visual Studio IntelliCode (1.1.8)</li>\n</ul>\n"},{"tags":["java","c++","java-native-interface"],"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681028914,"answer_count":0,"score":0,"last_activity_date":1681029006,"creation_date":1681028389,"question_id":75969458,"body_markdown":"I tried starting a new activity from C++ with help of JNI and it was started successfully. But now I need to get result of the started Activity.\r\n\r\nStarting activity:\r\n```\r\njobject activity = helper-&gt;GetActivity();\r\njclass activity_class = env-&gt;GetObjectClass(activity);\r\n\r\njclass class_intent = env-&gt;FindClass(&quot;android/content/Intent&quot;);\r\njmethodID newIntent = env-&gt;GetMethodID(class_intent, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\njobject intent = env-&gt;NewObject(class_intent, newIntent);\r\n\r\njmethodID startActivityMethod = env-&gt;GetMethodID(activity_class, &quot;startActivityForResult&quot;, &quot;(Landroid/content/Intent;I)V&quot;);\r\n\r\njint callid = (jint)  1001;\r\nenv-&gt;CallVoidMethod(activity, startActivityMethod, intent, callid);\r\n```\r\n\r\nSo, i understand that Java calls &quot;onActivityResult&quot; function, but i don&#39;t understand how to override this function in C++ using JNI.\r\n\r\nOr may be there are some other ways to take result of started activity?\r\n\r\nI tried to get result with help of JNI function:\r\n\r\n\r\n```\r\nextern &quot;C&quot; JNIEXPORT void JNICALL Java_package_class_onActivityResult(JNIEnv * env, jobject, jobject activity, jint requestCode, jint resultCode, jobject intentObject) {\r\n    Logger::Instance().LogInfo(L&quot;Java_package_class_onActivityResult&quot;);\r\n}\r\n```\r\nBut this function has not called (mb not overridden?)\r\n\r\nAlso I tried to call a new function create\r\n\r\nC++ Code:\r\n```\r\nextern &quot;C&quot; JNIEXPORT void JNICALL Java_iboxPro1C_iboxProActivity_nativeActivityResult(JNIEnv* env, jobject obj, jobject data) {\r\n\r\n    Logger::Instance().LogInfo(L&quot;&gt;&gt;&gt;JNIEnv.Java_iboxPro1C_iboxProActivity_onActivityResult&quot;);\r\n    Logger::Instance().LogInfo(L&quot;&lt;&lt;&lt;JNIEnv.Java_iboxPro1C_iboxProActivity_onActivityResult&quot;);\r\n\r\n}\r\n```\r\n\r\nJava Code:\r\n\r\n```\r\npublic class myActivity extends AppCompatActivity implements PaymentControllerListener {\r\n    static native void nativeActivityResult(Intent data);\r\n    \r\n    //called when activity have to be finished.\r\n    public void FinishActivity(boolean success, Intent intent) {\r\n        Log(&quot;FinishActivity&quot;);\r\n        setResult(success ? RESULT_OK : RESULT_CANCELED, intent);\r\n        if (mService != null)\r\n            mService.stopSelf();\r\n        try {\r\n            nativeActivityResult(intent);\r\n            Log(&quot;nativeActivityResult NO exception.&quot;);\r\n        }catch(Exception exc){\r\n            Log(&quot;nativeActivityResult exception.&quot;);\r\n            Log(exc.toString());\r\n        }\r\n\r\n        finish();\r\n    }\r\n}\r\n```\r\nProcess just crash while FinishActivity (it isn&#39;t log anything).\r\n","title":"JNI C++ Callback from started activity","body":"<p>I tried starting a new activity from C++ with help of JNI and it was started successfully. But now I need to get result of the started Activity.</p>\n<p>Starting activity:</p>\n<pre><code>jobject activity = helper-&gt;GetActivity();\njclass activity_class = env-&gt;GetObjectClass(activity);\n\njclass class_intent = env-&gt;FindClass(&quot;android/content/Intent&quot;);\njmethodID newIntent = env-&gt;GetMethodID(class_intent, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\njobject intent = env-&gt;NewObject(class_intent, newIntent);\n\njmethodID startActivityMethod = env-&gt;GetMethodID(activity_class, &quot;startActivityForResult&quot;, &quot;(Landroid/content/Intent;I)V&quot;);\n\njint callid = (jint)  1001;\nenv-&gt;CallVoidMethod(activity, startActivityMethod, intent, callid);\n</code></pre>\n<p>So, i understand that Java calls &quot;onActivityResult&quot; function, but i don't understand how to override this function in C++ using JNI.</p>\n<p>Or may be there are some other ways to take result of started activity?</p>\n<p>I tried to get result with help of JNI function:</p>\n<pre><code>extern &quot;C&quot; JNIEXPORT void JNICALL Java_package_class_onActivityResult(JNIEnv * env, jobject, jobject activity, jint requestCode, jint resultCode, jobject intentObject) {\n    Logger::Instance().LogInfo(L&quot;Java_package_class_onActivityResult&quot;);\n}\n</code></pre>\n<p>But this function has not called (mb not overridden?)</p>\n<p>Also I tried to call a new function create</p>\n<p>C++ Code:</p>\n<pre><code>extern &quot;C&quot; JNIEXPORT void JNICALL Java_iboxPro1C_iboxProActivity_nativeActivityResult(JNIEnv* env, jobject obj, jobject data) {\n\n    Logger::Instance().LogInfo(L&quot;&gt;&gt;&gt;JNIEnv.Java_iboxPro1C_iboxProActivity_onActivityResult&quot;);\n    Logger::Instance().LogInfo(L&quot;&lt;&lt;&lt;JNIEnv.Java_iboxPro1C_iboxProActivity_onActivityResult&quot;);\n\n}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>public class myActivity extends AppCompatActivity implements PaymentControllerListener {\n    static native void nativeActivityResult(Intent data);\n    \n    //called when activity have to be finished.\n    public void FinishActivity(boolean success, Intent intent) {\n        Log(&quot;FinishActivity&quot;);\n        setResult(success ? RESULT_OK : RESULT_CANCELED, intent);\n        if (mService != null)\n            mService.stopSelf();\n        try {\n            nativeActivityResult(intent);\n            Log(&quot;nativeActivityResult NO exception.&quot;);\n        }catch(Exception exc){\n            Log(&quot;nativeActivityResult exception.&quot;);\n            Log(exc.toString());\n        }\n\n        finish();\n    }\n}\n</code></pre>\n<p>Process just crash while FinishActivity (it isn't log anything).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9865473,"reputation":67,"user_id":7307093,"display_name":"pbuzulan"},"score":1,"creation_date":1551953920,"post_id":55041244,"comment_id":96833491,"body_markdown":"Check this duplicated [post](https://stackoverflow.com/questions/21083170/how-to-configure-port-for-a-spring-boot-application)\nYou can do it via application.properties","body":"Check this duplicated <a href=\"https://stackoverflow.com/questions/21083170/how-to-configure-port-for-a-spring-boot-application\">post</a> You can do it via application.properties"},{"owner":{"account_id":15476185,"reputation":83,"user_id":11164784,"display_name":"Alessio Pascucci"},"score":1,"creation_date":1551954058,"post_id":55041244,"comment_id":96833587,"body_markdown":"I&#39;ve seen that but i need to put one service in 8080 and another in 8081 with the same application","body":"I&#39;ve seen that but i need to put one service in 8080 and another in 8081 with the same application"},{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":1,"creation_date":1551954093,"post_id":55041244,"comment_id":96833607,"body_markdown":"Possible duplicate of [How to configure port for a Spring Boot application](https://stackoverflow.com/questions/21083170/how-to-configure-port-for-a-spring-boot-application)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/21083170/how-to-configure-port-for-a-spring-boot-application\">How to configure port for a Spring Boot application</a>"},{"owner":{"account_id":1967946,"reputation":121,"user_id":1767676,"display_name":"Karmakulov Kirill"},"score":1,"creation_date":1631698499,"post_id":55041244,"comment_id":122290458,"body_markdown":"It is discussed here: https://stackoverflow.com/questions/36357135/configure-spring-boot-with-two-ports/69190413","body":"It is discussed here: <a href=\"https://stackoverflow.com/questions/36357135/configure-spring-boot-with-two-ports/69190413\" title=\"configure spring boot with two ports\">stackoverflow.com/questions/36357135/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551962802,"creation_date":1551953935,"answer_id":55041311,"question_id":55041244,"body_markdown":"The port can be defined on the `application.properties` or the `application.yaml` configuration file that you use.\r\n\r\nIn `application.properties` file, define it as below:\r\n\r\n    server.port=8090\r\n\r\nOr in case you are using a `application.yaml` config, define it as below:\r\n\r\n    server:\r\n    \tport: 8090\r\n","title":"Spring boot application with two services on two different ports","body":"<p>The port can be defined on the <code>application.properties</code> or the <code>application.yaml</code> configuration file that you use.</p>\n\n<p>In <code>application.properties</code> file, define it as below:</p>\n\n<pre><code>server.port=8090\n</code></pre>\n\n<p>Or in case you are using a <code>application.yaml</code> config, define it as below:</p>\n\n<pre><code>server:\n    port: 8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14996604,"reputation":482,"user_id":10825746,"display_name":"vivekdubey"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1551953997,"creation_date":1551953997,"answer_id":55041334,"question_id":55041244,"body_markdown":"you can write below line in application.properties or application.yml\r\n\r\n\r\nserver.port=8080","title":"Spring boot application with two services on two different ports","body":"<p>you can write below line in application.properties or application.yml</p>\n\n<p>server.port=8080</p>\n"},{"tags":[],"owner":{"account_id":1215015,"reputation":140,"user_id":1863534,"display_name":"Emin Javadov"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1551954211,"creation_date":1551954211,"answer_id":55041417,"question_id":55041244,"body_markdown":"Sure. You can do it in the application.properties file of spring boot project via setting server.port=number for each service.","title":"Spring boot application with two services on two different ports","body":"<p>Sure. You can do it in the application.properties file of spring boot project via setting server.port=number for each service.</p>\n"},{"tags":[],"owner":{"account_id":2126013,"reputation":384,"user_id":1888159,"accept_rate":0,"display_name":"Pearl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551957745,"creation_date":1551957745,"answer_id":55042622,"question_id":55041244,"body_markdown":"You can&#39;t run two different services under the same spring boot application in two different ports. If you want you can move one service to another spring boot application.\r\nBut port number will not be same for both services.","title":"Spring boot application with two services on two different ports","body":"<p>You can't run two different services under the same spring boot application in two different ports. If you want you can move one service to another spring boot application.\nBut port number will not be same for both services.</p>\n"},{"tags":[],"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551960527,"creation_date":1551960527,"answer_id":55043430,"question_id":55041244,"body_markdown":"you can configure SprintBoot support two ports.The common method configure is use `application.properties` or the `application.yaml` as @Madhu Bhat answer. In SprintBoot to configure another port code like this:\r\n\r\ncreate a connector\r\n\r\n            int port = Integer.parseInt(probePort);\r\n            Connector httpConnector = new Connector(HTTP_PROTOCOL);\r\n            httpConnector.setPort(port);\r\n            Http11NioProtocol handler = (Http11NioProtocol) httpConnector.getProtocolHandler();\r\n            handler.setMaxThreads(10);\r\n            handler.setMinSpareThreads(4);\r\n            //handler.setAddress(InetAddress.getLocalHost());\r\n            handler.setAddress(StringTool.getInetAddress());\r\n            return httpConnector;\r\n\r\nconfigure connector to \r\n\r\n    ((TomcatEmbeddedServletContainerFactory) container).addAdditionalTomcatConnectors(connector);","title":"Spring boot application with two services on two different ports","body":"<p>you can configure SprintBoot support two ports.The common method configure is use <code>application.properties</code> or the <code>application.yaml</code> as @Madhu Bhat answer. In SprintBoot to configure another port code like this:</p>\n\n<p>create a connector</p>\n\n<pre><code>        int port = Integer.parseInt(probePort);\n        Connector httpConnector = new Connector(HTTP_PROTOCOL);\n        httpConnector.setPort(port);\n        Http11NioProtocol handler = (Http11NioProtocol) httpConnector.getProtocolHandler();\n        handler.setMaxThreads(10);\n        handler.setMinSpareThreads(4);\n        //handler.setAddress(InetAddress.getLocalHost());\n        handler.setAddress(StringTool.getInetAddress());\n        return httpConnector;\n</code></pre>\n\n<p>configure connector to </p>\n\n<pre><code>((TomcatEmbeddedServletContainerFactory) container).addAdditionalTomcatConnectors(connector);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17592216,"reputation":346,"user_id":12763842,"display_name":"Mateusz Niedbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617747744,"creation_date":1617747744,"answer_id":66977219,"question_id":55041244,"body_markdown":"If you use Docker (most common solution), you can add the port or its full address as an Environment Variable\r\n\r\n`docker-compose.yml` file like this:\r\n\r\n    application1:\r\n        image: &#39;application1:latest&#39;\r\n        build:\r\n          context: ./\r\n        container_name: application\r\n        environment:\r\n          - HOST-APP2=localhost:8082\r\n        ports:\r\n          - 8091:8080\r\n    \r\n    application2:\r\n        image: &#39;application2:latest&#39;\r\n        build:\r\n          context: ./\r\n        container_name: application\r\n        environment:\r\n          - HOST-APP1=localhost:8081\r\n        ports:\r\n          - 8092:8080\r\n\r\nor straight in the Dockerfile while building containers\r\n\r\ncheck out here : [https://vsupalov.com/docker-arg-env-variable-guide/][1]\r\nit&#39;s a good article\r\n\r\n\r\n  [1]: https://vsupalov.com/docker-arg-env-variable-guide/","title":"Spring boot application with two services on two different ports","body":"<p>If you use Docker (most common solution), you can add the port or its full address as an Environment Variable</p>\n<p><code>docker-compose.yml</code> file like this:</p>\n<pre><code>application1:\n    image: 'application1:latest'\n    build:\n      context: ./\n    container_name: application\n    environment:\n      - HOST-APP2=localhost:8082\n    ports:\n      - 8091:8080\n\napplication2:\n    image: 'application2:latest'\n    build:\n      context: ./\n    container_name: application\n    environment:\n      - HOST-APP1=localhost:8081\n    ports:\n      - 8092:8080\n</code></pre>\n<p>or straight in the Dockerfile while building containers</p>\n<p>check out here : <a href=\"https://vsupalov.com/docker-arg-env-variable-guide/\" rel=\"nofollow noreferrer\">https://vsupalov.com/docker-arg-env-variable-guide/</a>\nit's a good article</p>\n"},{"tags":[],"owner":{"account_id":9845313,"reputation":105,"user_id":7293057,"display_name":"Manohar Bhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679516401,"creation_date":1679516401,"answer_id":75816932,"question_id":55041244,"body_markdown":"I have not tried this, but from this [baeldung article](https://www.baeldung.com/spring-boot-context-hierarchy), it seems to be possible using SpringApplicationBuilder API.\r\n\r\nIn summary, following are the high level steps\r\n- Create 2 properties file with different ports. Refer [github repo](https://github.com/eugenp/tutorials/tree/master/spring-boot-modules/spring-boot-ctx-fluent/src/main/resources) from article.\r\n- Create 2 separate configurations by injecting these properties file.\r\n- Use SpringApplicationBuilder to create parent, child or sibling context hierarchy.","title":"Spring boot application with two services on two different ports","body":"<p>I have not tried this, but from this <a href=\"https://www.baeldung.com/spring-boot-context-hierarchy\" rel=\"nofollow noreferrer\">baeldung article</a>, it seems to be possible using SpringApplicationBuilder API.</p>\n<p>In summary, following are the high level steps</p>\n<ul>\n<li>Create 2 properties file with different ports. Refer <a href=\"https://github.com/eugenp/tutorials/tree/master/spring-boot-modules/spring-boot-ctx-fluent/src/main/resources\" rel=\"nofollow noreferrer\">github repo</a> from article.</li>\n<li>Create 2 separate configurations by injecting these properties file.</li>\n<li>Use SpringApplicationBuilder to create parent, child or sibling context hierarchy.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681028542,"creation_date":1680938872,"answer_id":75963885,"question_id":55041244,"body_markdown":"You can create two different child application context&#39;s in single application and run two different ports with different services on those ports.\r\nReference : https://www.baeldung.com/spring-boot-context-hierarchy\r\n\r\nFollowing is a sample I used in one of my application.\r\n\r\nMain Class of parent context.\r\n\r\n    package com.kst.gateway;\r\n    \r\n    import org.springframework.boot.WebApplicationType;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    \r\n    import com.kst.gateway.inbound.InboundConfig;\r\n    import com.kst.gateway.outbound.OutboundConfig;\r\n    \r\n    //@formatter:off\r\n    public class GatewayApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew SpringApplicationBuilder()\r\n    \t\t.parent(GatewayConfig.class)\r\n            .web(WebApplicationType.NONE)\r\n            .child(OutboundConfig.class)\r\n            .web(WebApplicationType.REACTIVE)\r\n            .sibling(InboundConfig.class)\r\n            .web(WebApplicationType.REACTIVE)\r\n            .run(args);\r\n    \t}\r\n    }\r\n\r\nChild 1 Configuration :\r\n\r\n    package com.kst.gateway.inbound;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;com.kst.gateway.inbound&quot;)\r\n    @PropertySource(&quot;classpath:inbound.properties&quot;)\r\n    @EnableAutoConfiguration\r\n    public class InboundConfig {\r\n    \t\r\n    \t@Autowired\r\n    \tpublic GatewayConfig config;\r\n    \t\r\n    \t@Value(&quot;${server.port}&quot;)\r\n    \tpublic Integer serverPort;\r\n    \t\r\n    \t@Bean(name = &quot;issuer_routes&quot;)\r\n    \tpublic RouteLocator routes(RouteLocatorBuilder routeLocatorBuilder) {\r\n    \t\tString issuerUri = config.switchDestinationScheme+&quot;://&quot;+config.switchDestinationIp+&quot;:&quot;+config.switchDestinationPort;\r\n    \t\treturn routeLocatorBuilder.routes()\r\n    \t\t\t.route(&quot;issuer_request&quot;, routeSpec -&gt; routeSpec\r\n    \t\t\t\t.remoteAddr(config.npciSourceIps.toArray(new String[0]))\r\n    \t\t\t\t.and().path(&quot;/Req**&quot;)\r\n    \t\t\t\t.uri(issuerUri)\r\n    \t\t\t).route(&quot;acquirer_response&quot;, routeSpec -&gt; routeSpec\r\n    \t\t\t\t.remoteAddr(config.npciSourceIps.toArray(new String[0]))\r\n    \t\t\t\t.and().path(&quot;/Resp**&quot;)\r\n    \t\t\t\t.uri(issuerUri)\r\n    \t\t\t).build();\r\n    \t}\r\n    }\r\n\r\nChild 2 configuration :\r\n\r\n    package com.kst.gateway.outbound;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;com.kst.gateway.outbound&quot;)\r\n    @PropertySource(&quot;classpath:outbound.properties&quot;)\r\n    @EnableAutoConfiguration\r\n    public class OutboundConfig {\r\n    \r\n    \t@Autowired\r\n    \tpublic GatewayConfig config;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic OutboundRequestUrlFilter acqReqUrlFilter;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic OutboundResponseUrlFilter acqRespUrlFilter;\r\n    \t\r\n    \t@Value(&quot;${server.port}&quot;)\r\n    \tpublic Integer serverPort;\r\n    \t\r\n    \t@Bean(name = &quot;acquirer_routes&quot;)\r\n    \tpublic RouteLocator routes(RouteLocatorBuilder routeLocatorBuilder, NpciEndpointProvider npciEndpointProvider) {\r\n    \t\treturn routeLocatorBuilder.routes()\r\n    \t\t\t.route(&quot;acquirer_request&quot;, routeSpec -&gt; routeSpec\r\n    \t\t\t\t.remoteAddr(config.switchSourceIps.toArray(new String[0]))\r\n    \t\t\t\t.and().path(&quot;/Req**&quot;)\r\n    \t\t\t\t.filters(fs -&gt; fs.filter(acqReqUrlFilter.apply(npciEndpointProvider)))\r\n    \t\t\t\t.uri(&quot;no:/op&quot;)\r\n    \t\t\t).route(&quot;issuer_response&quot;, routeSpec -&gt; routeSpec\r\n    \t\t\t\t.remoteAddr(config.switchSourceIps.toArray(new String[0]))\r\n    \t\t\t\t.and().path(&quot;/Resp**&quot;)\r\n    \t\t\t\t.filters(fs -&gt; fs.filter(acqRespUrlFilter.apply(npciEndpointProvider)))\r\n    \t\t\t\t.uri(&quot;no:/op&quot;)\r\n    \t\t\t)\r\n    \t\t\t.build();\r\n    \t}\r\n    }\r\n\r\n\r\nParent application.properties which will be inherited by both the child context&#39;s\r\n\r\n    spring.application.name=gateway\r\n    server.ssl.key-store=classpath:ssl.pfx\r\n    server.ssl.key-store-password=Ippb@2023\r\n    server.ssl.key-store-type=pkcs12\r\n    server.ssl.key-alias=ssl\r\n    spring.cloud.gateway.httpclient.ssl.use-insecure-trust-manager=true\r\n    spring.cloud.service-registry.auto-registration.enabled=false\r\n    spring.cloud.discovery.enabled=false\r\n    spring.cloud.config.discovery.enabled=false\r\n\r\nChild 1 inbound.properties file\r\n\r\n    spring.application.name=inbound\r\n    server.port=8443\r\nChild 2 outbound.properties file\r\n\r\n    spring.application.name=outbound\r\n    server.port=443","title":"Spring boot application with two services on two different ports","body":"<p>You can create two different child application context's in single application and run two different ports with different services on those ports.\nReference : <a href=\"https://www.baeldung.com/spring-boot-context-hierarchy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-context-hierarchy</a></p>\n<p>Following is a sample I used in one of my application.</p>\n<p>Main Class of parent context.</p>\n<pre><code>package com.kst.gateway;\n\nimport org.springframework.boot.WebApplicationType;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\n\nimport com.kst.gateway.inbound.InboundConfig;\nimport com.kst.gateway.outbound.OutboundConfig;\n\n//@formatter:off\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        new SpringApplicationBuilder()\n        .parent(GatewayConfig.class)\n        .web(WebApplicationType.NONE)\n        .child(OutboundConfig.class)\n        .web(WebApplicationType.REACTIVE)\n        .sibling(InboundConfig.class)\n        .web(WebApplicationType.REACTIVE)\n        .run(args);\n    }\n}\n</code></pre>\n<p>Child 1 Configuration :</p>\n<pre><code>package com.kst.gateway.inbound;\n\n@Configuration\n@ComponentScan(&quot;com.kst.gateway.inbound&quot;)\n@PropertySource(&quot;classpath:inbound.properties&quot;)\n@EnableAutoConfiguration\npublic class InboundConfig {\n    \n    @Autowired\n    public GatewayConfig config;\n    \n    @Value(&quot;${server.port}&quot;)\n    public Integer serverPort;\n    \n    @Bean(name = &quot;issuer_routes&quot;)\n    public RouteLocator routes(RouteLocatorBuilder routeLocatorBuilder) {\n        String issuerUri = config.switchDestinationScheme+&quot;://&quot;+config.switchDestinationIp+&quot;:&quot;+config.switchDestinationPort;\n        return routeLocatorBuilder.routes()\n            .route(&quot;issuer_request&quot;, routeSpec -&gt; routeSpec\n                .remoteAddr(config.npciSourceIps.toArray(new String[0]))\n                .and().path(&quot;/Req**&quot;)\n                .uri(issuerUri)\n            ).route(&quot;acquirer_response&quot;, routeSpec -&gt; routeSpec\n                .remoteAddr(config.npciSourceIps.toArray(new String[0]))\n                .and().path(&quot;/Resp**&quot;)\n                .uri(issuerUri)\n            ).build();\n    }\n}\n</code></pre>\n<p>Child 2 configuration :</p>\n<pre><code>package com.kst.gateway.outbound;\n\n@Configuration\n@ComponentScan(&quot;com.kst.gateway.outbound&quot;)\n@PropertySource(&quot;classpath:outbound.properties&quot;)\n@EnableAutoConfiguration\npublic class OutboundConfig {\n\n    @Autowired\n    public GatewayConfig config;\n    \n    @Autowired\n    public OutboundRequestUrlFilter acqReqUrlFilter;\n    \n    @Autowired\n    public OutboundResponseUrlFilter acqRespUrlFilter;\n    \n    @Value(&quot;${server.port}&quot;)\n    public Integer serverPort;\n    \n    @Bean(name = &quot;acquirer_routes&quot;)\n    public RouteLocator routes(RouteLocatorBuilder routeLocatorBuilder, NpciEndpointProvider npciEndpointProvider) {\n        return routeLocatorBuilder.routes()\n            .route(&quot;acquirer_request&quot;, routeSpec -&gt; routeSpec\n                .remoteAddr(config.switchSourceIps.toArray(new String[0]))\n                .and().path(&quot;/Req**&quot;)\n                .filters(fs -&gt; fs.filter(acqReqUrlFilter.apply(npciEndpointProvider)))\n                .uri(&quot;no:/op&quot;)\n            ).route(&quot;issuer_response&quot;, routeSpec -&gt; routeSpec\n                .remoteAddr(config.switchSourceIps.toArray(new String[0]))\n                .and().path(&quot;/Resp**&quot;)\n                .filters(fs -&gt; fs.filter(acqRespUrlFilter.apply(npciEndpointProvider)))\n                .uri(&quot;no:/op&quot;)\n            )\n            .build();\n    }\n}\n</code></pre>\n<p>Parent application.properties which will be inherited by both the child context's</p>\n<pre><code>spring.application.name=gateway\nserver.ssl.key-store=classpath:ssl.pfx\nserver.ssl.key-store-password=Ippb@2023\nserver.ssl.key-store-type=pkcs12\nserver.ssl.key-alias=ssl\nspring.cloud.gateway.httpclient.ssl.use-insecure-trust-manager=true\nspring.cloud.service-registry.auto-registration.enabled=false\nspring.cloud.discovery.enabled=false\nspring.cloud.config.discovery.enabled=false\n</code></pre>\n<p>Child 1 inbound.properties file</p>\n<pre><code>spring.application.name=inbound\nserver.port=8443\n</code></pre>\n<p>Child 2 outbound.properties file</p>\n<pre><code>spring.application.name=outbound\nserver.port=443\n</code></pre>\n"}],"owner":{"account_id":15476185,"reputation":83,"user_id":11164784,"display_name":"Alessio Pascucci"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6825,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55042622,"answer_count":8,"score":3,"last_activity_date":1681028542,"creation_date":1551953733,"question_id":55041244,"body_markdown":"I have a spring boot application with two services but i need to run one on port 8080 and the other on 8081. Now i&#39;m developing with sts (Spring tool suite) and i run the application with the option &quot;Run as spring boot app&quot;, so i don&#39;t know where change server configurations. Someone can help me?\r\n","title":"Spring boot application with two services on two different ports","body":"<p>I have a spring boot application with two services but i need to run one on port 8080 and the other on 8081. Now i'm developing with sts (Spring tool suite) and i run the application with the option \"Run as spring boot app\", so i don't know where change server configurations. Someone can help me?</p>\n"},{"tags":["java","fingerprint","biometrics"],"comments":[{"owner":{"account_id":5778425,"reputation":7525,"user_id":4559849,"accept_rate":67,"display_name":"LaurentY"},"score":0,"creation_date":1559738093,"post_id":56432110,"comment_id":99512552,"body_markdown":"Please share more info: SDK used, code","body":"Please share more info: SDK used, code"}],"answers":[{"tags":[],"owner":{"account_id":5778425,"reputation":7525,"user_id":4559849,"accept_rate":67,"display_name":"LaurentY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559829979,"creation_date":1559738231,"answer_id":56460630,"question_id":56432110,"body_markdown":"Missing code from you, but maybe you could try something like this:\r\n\r\n    Fmd fmd = UareUGlobal.GetEngine().CreateFmd(fid, \r\n             Fid.Format.ANSI_381_2004);","title":"How to set uareu digitalpersona fingerprint format to ansi378-2004 or ISO19794-2005","body":"<p>Missing code from you, but maybe you could try something like this:</p>\n\n<pre><code>Fmd fmd = UareUGlobal.GetEngine().CreateFmd(fid, \n         Fid.Format.ANSI_381_2004);\n</code></pre>\n"}],"owner":{"account_id":10901166,"reputation":117,"user_id":8013393,"display_name":"Eidris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56460630,"answer_count":1,"score":1,"last_activity_date":1681028293,"creation_date":1559583482,"question_id":56432110,"body_markdown":"I&#39;m new to fingerprint implementation and am working on a project that requires the use of biometrics of which I chose the DigitalPersona fingerprint devices.\r\n\r\nI tested with their sample code for java and everything seem to work, but I need the fingerprint templates in ANSI 378 standard format which the device is said to support.\r\n\r\nHow can I do this? The fingerprint device is uareu 4500.","title":"How to set uareu digitalpersona fingerprint format to ansi378-2004 or ISO19794-2005","body":"<p>I'm new to fingerprint implementation and am working on a project that requires the use of biometrics of which I chose the DigitalPersona fingerprint devices.</p>\n<p>I tested with their sample code for java and everything seem to work, but I need the fingerprint templates in ANSI 378 standard format which the device is said to support.</p>\n<p>How can I do this? The fingerprint device is uareu 4500.</p>\n"},{"tags":["java","date","datetime","timezone","utc"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1611351398,"post_id":65853063,"comment_id":116433458,"body_markdown":"what happens when you do `System.out.println(Instant.now().toString())`?","body":"what happens when you do <code>System.out.println(Instant.now().toString())</code>?"},{"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"score":0,"creation_date":1611351805,"post_id":65853063,"comment_id":116433593,"body_markdown":"@Eugene it gives the same output.","body":"@Eugene it gives the same output."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1611351886,"post_id":65853063,"comment_id":116433610,"body_markdown":"There is something fishy... `MST` is `GMT-7` (`UTC-7`), not `GMT-6`.","body":"There is something fishy... <code>MST</code> is <code>GMT-7</code> (<code>UTC-7</code>), not <code>GMT-6</code>."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1611352577,"post_id":65853063,"comment_id":116433809,"body_markdown":"I guess what you are looking for is `System.out.println(Instant.now().atOffset(ZoneOffset.UTC))`","body":"I guess what you are looking for is <code>System.out.println(Instant.now().atOffset(ZoneOffset.UTC))</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1611352784,"post_id":65853063,"comment_id":116433875,"body_markdown":"Or maybe you want this? `System.out.println(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)));`","body":"Or maybe you want this? <code>System.out.println(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)));</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1611512618,"post_id":65853063,"comment_id":116469929,"body_markdown":"Does this answer your question? [TimeZone problem …](https://stackoverflow.com/questions/1812700/timezone-problem-in-java). [This](https://stackoverflow.com/questions/16107898/simpledateformat-returns-wrong-time-zone-during-parse), [this](https://stackoverflow.com/questions/47307909/dateformat-parse-not-return-date-in-utc), [this](https://stackoverflow.com/questions/59671609/simpledateformat-with-timezone-displaying-dates-in-my-timezone-how-do-i-fix-thi) or [this](https://stackoverflow.com/questions/52475409/getting-the-current-time-millis-from-device-and-converting-it-into-a-new-date-wi)?","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1812700/timezone-problem-in-java\">TimeZone problem …</a>. <a href=\"https://stackoverflow.com/questions/16107898/simpledateformat-returns-wrong-time-zone-during-parse\">This</a>, <a href=\"https://stackoverflow.com/questions/47307909/dateformat-parse-not-return-date-in-utc\">this</a>, <a href=\"https://stackoverflow.com/questions/59671609/simpledateformat-with-timezone-displaying-dates-in-my-timezone-how-do-i-fix-thi\">this</a> or <a href=\"https://stackoverflow.com/questions/52475409/getting-the-current-time-millis-from-device-and-converting-it-into-a-new-date-wi\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1611354039,"creation_date":1611352190,"answer_id":65853216,"question_id":65853063,"body_markdown":"Your code:\r\n\r\n    Date.from(Instant.now())\r\n\r\nYou are mixing the terrible legacy classes with their replacement, the modern *java.time* classes. \r\n\r\nDon’t. \r\n\r\nNever use `Date`. Certainly no need to mix with `java.time.Instant`.\r\n\r\nTo explain your particular example, understand that among the `Date` class’ many poor design choices is the anti-feature of its **`Date#toString` method implicitly applying the JVM’s current default time zone** while generating its text. \r\n\r\nYou ran your code on two different JVMs that had different current default time zones. So you got different outputs.\r\n\r\nSun, Oracle, and the JCP gave up on the legacy date-time classes. So should we all. I recommend you not spend time trying understand `Date`, `Calendar`, `SimpleDateFormat`, and such. \r\n\r\n\r\nYou asked:\r\n\r\n&gt; Question: How do we display the UTC timestamp in a Java program?\r\n\r\n\r\n    Instant.now().toString()\r\n\r\nSee that [code run live at IdeOne.com](https://ideone.com/B8CDdY).\r\n\r\n&gt; 2021-01-22T21:50:18.887335Z\r\n\r\nYou said:\r\n\r\n&gt; On Windows: …\r\n&gt;\r\n&gt;On Linux: …\r\n\r\nYou’ll get the same consistent results from `Instant.now().toString()` across Windows, Linux, BSD, macOS, iOS, Android, AIX, and so on.\r\n\r\n----- \r\nHere is a table I made to guide you in transitioning from the legacy classes. \r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/QPhGW.png)","title":"Getting the UTC timestamp","body":"<p>Your code:</p>\n<pre><code>Date.from(Instant.now())\n</code></pre>\n<p>You are mixing the terrible legacy classes with their replacement, the modern <em>java.time</em> classes.</p>\n<p>Don’t.</p>\n<p>Never use <code>Date</code>. Certainly no need to mix with <code>java.time.Instant</code>.</p>\n<p>To explain your particular example, understand that among the <code>Date</code> class’ many poor design choices is the anti-feature of its <strong><code>Date#toString</code> method implicitly applying the JVM’s current default time zone</strong> while generating its text.</p>\n<p>You ran your code on two different JVMs that had different current default time zones. So you got different outputs.</p>\n<p>Sun, Oracle, and the JCP gave up on the legacy date-time classes. So should we all. I recommend you not spend time trying understand <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, and such.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Question: How do we display the UTC timestamp in a Java program?</p>\n</blockquote>\n<pre><code>Instant.now().toString()\n</code></pre>\n<p>See that <a href=\"https://ideone.com/B8CDdY\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2021-01-22T21:50:18.887335Z</p>\n</blockquote>\n<p>You said:</p>\n<blockquote>\n<p>On Windows: …</p>\n<p>On Linux: …</p>\n</blockquote>\n<p>You’ll get the same consistent results from <code>Instant.now().toString()</code> across Windows, Linux, BSD, macOS, iOS, Android, AIX, and so on.</p>\n<hr />\n<p>Here is a table I made to guide you in transitioning from the legacy classes.</p>\n<p><img src=\"https://i.stack.imgur.com/QPhGW.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1611352220,"creation_date":1611352220,"answer_id":65853220,"question_id":65853063,"body_markdown":"The `java.util.Date` object is not a real date-time object like the [modern date-time types](https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html); rather, it represents the number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely `January 1, 1970, 00:00:00 GMT` (or UTC). When you print an object of `java.util.Date`, its `toString` method returns the date-time in the JVM&#39;s timezone, calculated from this milliseconds value. If you need to print the date-time in a different timezone, you will need to set the timezone to `SimpleDateFormat` and obtain the formatted string from it.\r\n\r\nI would suggest you simply use `Instant.now()` which you can convert to other *java.time* type.\r\n\r\nThe date-time API of `java.util` and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n  - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n  - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\nHowever, if you still want to use `java.util.Date`, use `SimpleDateFormat` as mentioned above.\r\n\r\n**Demo:**\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.Instant;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate currentUtcTime = Date.from(Instant.now());\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\r\n    \t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n    \t\tSystem.out.println(&quot;Current UTC time is &quot; + sdf.format(currentUtcTime));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    Current UTC time is 2021-01-22 21:53:07 UTC\r\n\r\n","title":"Getting the UTC timestamp","body":"<p>The <code>java.util.Date</code> object is not a real date-time object like the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"noreferrer\">modern date-time types</a>; rather, it represents the number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely <code>January 1, 1970, 00:00:00 GMT</code> (or UTC). When you print an object of <code>java.util.Date</code>, its <code>toString</code> method returns the date-time in the JVM's timezone, calculated from this milliseconds value. If you need to print the date-time in a different timezone, you will need to set the timezone to <code>SimpleDateFormat</code> and obtain the formatted string from it.</p>\n<p>I would suggest you simply use <code>Instant.now()</code> which you can convert to other <em>java.time</em> type.</p>\n<p>The date-time API of <code>java.util</code> and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n<p>However, if you still want to use <code>java.util.Date</code>, use <code>SimpleDateFormat</code> as mentioned above.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.time.Instant;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class Main {\n    public static void main(String[] args) {\n        Date currentUtcTime = Date.from(Instant.now());\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n        System.out.println(&quot;Current UTC time is &quot; + sdf.format(currentUtcTime));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Current UTC time is 2021-01-22 21:53:07 UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611611234,"creation_date":1611352616,"answer_id":65853290,"question_id":65853063,"body_markdown":"Instant.now()  is essentially the period of time since the epoch, (midnight 1 January 1970 in UTC), but you are using a Date to present that instant. Date is a reflection of the instant with millisecond precision, but as explained in the documentation at https://docs.oracle.com/javase/8/docs/api/java/util/Date.html, presenting a date should be done using a Calendar, as the presentation of a Date depends on the host. Essentially Date wraps the instant but is displayed according to other factors.\n\nThe simplest approach now if you want to output the instant is to use OffsetDateTime so that you can elect to present the instant in your desired timezone - UTC in your case. Use either `OffsetDateTime.now()` or `OffsetDateTime.ofInstant()` but if you are using the instant within your application logic then just stick with Instant.","title":"Getting the UTC timestamp","body":"<p>Instant.now()  is essentially the period of time since the epoch, (midnight 1 January 1970 in UTC), but you are using a Date to present that instant. Date is a reflection of the instant with millisecond precision, but as explained in the documentation at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Date.html</a>, presenting a date should be done using a Calendar, as the presentation of a Date depends on the host. Essentially Date wraps the instant but is displayed according to other factors.</p>\n<p>The simplest approach now if you want to output the instant is to use OffsetDateTime so that you can elect to present the instant in your desired timezone - UTC in your case. Use either <code>OffsetDateTime.now()</code> or <code>OffsetDateTime.ofInstant()</code> but if you are using the instant within your application logic then just stick with Instant.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611355835,"creation_date":1611355835,"answer_id":65853806,"question_id":65853063,"body_markdown":"&gt; suggests that the way to get the UTC timestamp in Java is the following:\r\n\r\n&gt; `Instant.now()   // Capture the current moment in UTC.`\r\n\r\nThis, and most answers in this thread, are __misleading__.\r\n\r\nInstant represents an instant in time. It&#39;s &#39;solarflares&#39; time: Absolutely not one iota about it represents anything that is invented by human brains, and UTC is a timezone: A human invention. The cosmos, the sun, astronomy - they have no idea what UTC is, and don&#39;t care - and that&#39;s what Instant is all about. Instants are devoid of such human concepts as &#39;hours&#39; or &#39;days&#39; or &#39;timezones&#39;. It makes no sense to ask an instant what day it happened on. It cannot tell you; some event occurred: If I ask a russian from the 19th century when that happened, they&#39;ll likely give a completely different answer vs. if I ask someone living a mere 100 miles west, for example. Instant doesn&#39;t know which localization to apply and thus doesn&#39;t let you ask it this question - that&#39;s a good thing, objects should not expose methods to which any answer it gives is either gobbledygook or at least requires knowing about all sorts of surprising caveats.\r\n\r\nCrucially, if you tell me &#39;... in UTC&#39;, you surely can tell with exacting detail which month, which day, etcetera. __And Instant does not do this__, which is why it is misleading to say that a `java.time.Instant` represents a moment of time in UTC. __It doesn&#39;t. It represents a moment in time (not in any particular timezone).__\r\n\r\nYeah, internally Instant, just like Date, is just a light wrapper around what `System.currentTimeMillis()` returns: &quot;millis since epoch&quot;, but the crucial thing to understand about it, is that &#39;UTC&#39; is not part of what it _means_, and therefore, when you give an Instant instance to some other method (such as System.out.println, to a database via JDBC, etc), that method is under absolutely no obligation to assume that UTC is semantically relevant.\r\n\r\nWhen you want to mix human notions of time keeping (years, days, months, hours, minutes, milliseconds, and, yeah, timezones) with the notion of a more or less absolute* time, the right answer is `java.time.ZonedDateTime`. Note that any representation of time in something that isn&#39;t `java.time.*` based is by definition broken, as it is in most programming languages - turns out time is a lot more complex than most takes on a library to represent it realize. The fact that `java.time` is in effect the 4th attempt at writing a time library should be ample indication that it&#39;s hard to get it right.\r\n\r\n```\r\nZonedDateTime zdt = ZonedDateTime.now(ZoneOffset.UTC);\r\n```\r\n\r\n_THAT_ is what you want - that isn&#39;t just implementation-detail-wise what you want, but it is code that exactly describes what you __mean__: Right now, at the UTC time zone, stored in an object that semantically doesn&#39;t just store the right time but also stores, and tightly entangles into its very identity, that it is specifically in UTC and is not to be re-interpreted, moved to the local zone, or any other such shenanigans - at least, not unless you explicitly ask it to do so.\r\n\r\n&gt; `Date currentUtcTime = Date.from(Instant.now());`\r\n\r\nNote that Date is the old API and therefore necessarily broken. In this case, Date is a lying liar who lies - it doesn&#39;t represent a date, it represents an instant; it is badly named. (The second API is Calendar, also broken. For example, that is also a lying liar who lies: It doesn&#39;t represent a Calendar whatsoever. It represents some bizarre amalgamation of a zoned datetime and an instant and is fit to represent neither as a consequence). Any time you go to the Date API weirdness ensues, and something as simple as &#39;I just want the concept of the time, at some specific moment, in UTC&#39; isn&#39;t possible in these APIs. You are now dependent on barely defined behaviour of all the various libraries up and down the chain - you&#39;re effectively stuck praying that they do the right thing, or delving into exotic settings to try to cajole these libraries into doing what you want.\r\n\r\nTL;DR: Use `java.time`.\r\n\r\n*) Note that ZonedDateTime is __not__ absolute. For example, if you have the time `January 20th, 2023, 8 in the morning, at Europe/Amsterdam`, in the form of a `ZonedDateTime` object, then the amount of seconds that will pass between now and that moment sure seems like it does not change and will not change when e.g. amsterdam goes through an hour change due daylight savings. However, if the dutch government decrees that henceforth The Netherlands will no longer move the clocks at all and will stay in summer time forever (which is __likely__ - EU directive is already in place, it&#39;s now just a matter of when), then at the moment the gavel lands, your appointment shifts by 1 hour exactly.\r\n\r\nThat hopefully provides crucial insight in the difference: Instant, representing events (hence why I like to call it &#39;solarflares time&#39;, to disentangle it from human time keeping concepts as much as possible), doesn&#39;t even understand the very concept of such a decision having an effect on things. ZonedDateTime on the other hand is inherently bound up in it - hence the `Zone` in `ZonedDateTime`.\r\n\r\nIf you want to store barber appointments and use `Instant` to do it, you _WILL_ be an hour late or early sooner rather than later.\r\n","title":"Getting the UTC timestamp","body":"<blockquote>\n<p>suggests that the way to get the UTC timestamp in Java is the following:</p>\n</blockquote>\n<blockquote>\n<p><code>Instant.now()   // Capture the current moment in UTC.</code></p>\n</blockquote>\n<p>This, and most answers in this thread, are <strong>misleading</strong>.</p>\n<p>Instant represents an instant in time. It's 'solarflares' time: Absolutely not one iota about it represents anything that is invented by human brains, and UTC is a timezone: A human invention. The cosmos, the sun, astronomy - they have no idea what UTC is, and don't care - and that's what Instant is all about. Instants are devoid of such human concepts as 'hours' or 'days' or 'timezones'. It makes no sense to ask an instant what day it happened on. It cannot tell you; some event occurred: If I ask a russian from the 19th century when that happened, they'll likely give a completely different answer vs. if I ask someone living a mere 100 miles west, for example. Instant doesn't know which localization to apply and thus doesn't let you ask it this question - that's a good thing, objects should not expose methods to which any answer it gives is either gobbledygook or at least requires knowing about all sorts of surprising caveats.</p>\n<p>Crucially, if you tell me '... in UTC', you surely can tell with exacting detail which month, which day, etcetera. <strong>And Instant does not do this</strong>, which is why it is misleading to say that a <code>java.time.Instant</code> represents a moment of time in UTC. <strong>It doesn't. It represents a moment in time (not in any particular timezone).</strong></p>\n<p>Yeah, internally Instant, just like Date, is just a light wrapper around what <code>System.currentTimeMillis()</code> returns: &quot;millis since epoch&quot;, but the crucial thing to understand about it, is that 'UTC' is not part of what it <em>means</em>, and therefore, when you give an Instant instance to some other method (such as System.out.println, to a database via JDBC, etc), that method is under absolutely no obligation to assume that UTC is semantically relevant.</p>\n<p>When you want to mix human notions of time keeping (years, days, months, hours, minutes, milliseconds, and, yeah, timezones) with the notion of a more or less absolute* time, the right answer is <code>java.time.ZonedDateTime</code>. Note that any representation of time in something that isn't <code>java.time.*</code> based is by definition broken, as it is in most programming languages - turns out time is a lot more complex than most takes on a library to represent it realize. The fact that <code>java.time</code> is in effect the 4th attempt at writing a time library should be ample indication that it's hard to get it right.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now(ZoneOffset.UTC);\n</code></pre>\n<p><em>THAT</em> is what you want - that isn't just implementation-detail-wise what you want, but it is code that exactly describes what you <strong>mean</strong>: Right now, at the UTC time zone, stored in an object that semantically doesn't just store the right time but also stores, and tightly entangles into its very identity, that it is specifically in UTC and is not to be re-interpreted, moved to the local zone, or any other such shenanigans - at least, not unless you explicitly ask it to do so.</p>\n<blockquote>\n<p><code>Date currentUtcTime = Date.from(Instant.now());</code></p>\n</blockquote>\n<p>Note that Date is the old API and therefore necessarily broken. In this case, Date is a lying liar who lies - it doesn't represent a date, it represents an instant; it is badly named. (The second API is Calendar, also broken. For example, that is also a lying liar who lies: It doesn't represent a Calendar whatsoever. It represents some bizarre amalgamation of a zoned datetime and an instant and is fit to represent neither as a consequence). Any time you go to the Date API weirdness ensues, and something as simple as 'I just want the concept of the time, at some specific moment, in UTC' isn't possible in these APIs. You are now dependent on barely defined behaviour of all the various libraries up and down the chain - you're effectively stuck praying that they do the right thing, or delving into exotic settings to try to cajole these libraries into doing what you want.</p>\n<p>TL;DR: Use <code>java.time</code>.</p>\n<p>*) Note that ZonedDateTime is <strong>not</strong> absolute. For example, if you have the time <code>January 20th, 2023, 8 in the morning, at Europe/Amsterdam</code>, in the form of a <code>ZonedDateTime</code> object, then the amount of seconds that will pass between now and that moment sure seems like it does not change and will not change when e.g. amsterdam goes through an hour change due daylight savings. However, if the dutch government decrees that henceforth The Netherlands will no longer move the clocks at all and will stay in summer time forever (which is <strong>likely</strong> - EU directive is already in place, it's now just a matter of when), then at the moment the gavel lands, your appointment shifts by 1 hour exactly.</p>\n<p>That hopefully provides crucial insight in the difference: Instant, representing events (hence why I like to call it 'solarflares time', to disentangle it from human time keeping concepts as much as possible), doesn't even understand the very concept of such a decision having an effect on things. ZonedDateTime on the other hand is inherently bound up in it - hence the <code>Zone</code> in <code>ZonedDateTime</code>.</p>\n<p>If you want to store barber appointments and use <code>Instant</code> to do it, you <em>WILL</em> be an hour late or early sooner rather than later.</p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611364223,"creation_date":1611356677,"answer_id":65853931,"question_id":65853063,"body_markdown":"An [`Instant`][1] object and also a [`Date`][2] object by themselves\r\nonly contain a point in time, but no timezone information.\r\nFurthermore, the [`toString()`][3] method of the `Date` class\r\nimplicitly chooses the timezone provided by the system environment,\r\nwhich is not what you want.\r\n\r\nTherefore you need to chose the timezone (in your case UTC) explicitly.\r\nFor example like this:\r\n\r\n    Instant instant = Instant.now();\r\n    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\r\n    System.out.println(&quot;Current UTC time is &quot; + offsetDateTime);\r\n\t\r\nThis will (independently from the operation system) print\r\n\r\n\tCurrent UTC time is 2021-01-22T22:37:21.950354100Z\r\n\t\r\nwhere the trailing `Z` denotes the zero timezone offset (i.e. UTC).\r\n\t\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\r\n","title":"Getting the UTC timestamp","body":"<p>An <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> object and also a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>Date</code></a> object by themselves\nonly contain a point in time, but no timezone information.\nFurthermore, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\" rel=\"nofollow noreferrer\"><code>toString()</code></a> method of the <code>Date</code> class\nimplicitly chooses the timezone provided by the system environment,\nwhich is not what you want.</p>\n<p>Therefore you need to chose the timezone (in your case UTC) explicitly.\nFor example like this:</p>\n<pre><code>Instant instant = Instant.now();\nOffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\nSystem.out.println(&quot;Current UTC time is &quot; + offsetDateTime);\n</code></pre>\n<p>This will (independently from the operation system) print</p>\n<pre><code>Current UTC time is 2021-01-22T22:37:21.950354100Z\n</code></pre>\n<p>where the trailing <code>Z</code> denotes the zero timezone offset (i.e. UTC).</p>\n"},{"tags":[],"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611493090,"creation_date":1611493090,"answer_id":65870797,"question_id":65853063,"body_markdown":"Sometimes your program has to work with older java versions, so here is an example for 1.5:\r\n\r\n        java.text.SimpleDateFormat tfGMT = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        java.util.Calendar cUTC = java.util.Calendar.getInstance (java.util.TimeZone.getTimeZone (&quot;GMT+0&quot;));\r\n        tfGMT.setCalendar (cUTC);\r\n        java.util.Date d= new java.util.Date ();\r\n        String s= tfGMT.format (d);\r\n        System.out.printf (&quot;now=%s [unix ts=%d.%03d]\\n&quot;, s, d.getTime()/1000, d.getTime()%1000);\r\n\r\nMind you, the first three lines don&#39;t have to be repeat at every call, but keep in mind that `SimpleDateFormat` is not thread-safe. (Simple solution: create one for each thread.)\r\n\r\nExample usage (it shows that setting `TZ` doesn&#39;t affect UTC-timestamp):\r\n\r\n    $ TZ=GMT+3 java5 now_utc; TZ=GMT-3 java5 now_utc\r\n    now=2021-01-24 12:56:14 [unix ts=1611492974.264]\r\n    now=2021-01-24 12:56:14 [unix ts=1611492974.726]\r\n","title":"Getting the UTC timestamp","body":"<p>Sometimes your program has to work with older java versions, so here is an example for 1.5:</p>\n<pre><code>    java.text.SimpleDateFormat tfGMT = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    java.util.Calendar cUTC = java.util.Calendar.getInstance (java.util.TimeZone.getTimeZone (&quot;GMT+0&quot;));\n    tfGMT.setCalendar (cUTC);\n    java.util.Date d= new java.util.Date ();\n    String s= tfGMT.format (d);\n    System.out.printf (&quot;now=%s [unix ts=%d.%03d]\\n&quot;, s, d.getTime()/1000, d.getTime()%1000);\n</code></pre>\n<p>Mind you, the first three lines don't have to be repeat at every call, but keep in mind that <code>SimpleDateFormat</code> is not thread-safe. (Simple solution: create one for each thread.)</p>\n<p>Example usage (it shows that setting <code>TZ</code> doesn't affect UTC-timestamp):</p>\n<pre><code>$ TZ=GMT+3 java5 now_utc; TZ=GMT-3 java5 now_utc\nnow=2021-01-24 12:56:14 [unix ts=1611492974.264]\nnow=2021-01-24 12:56:14 [unix ts=1611492974.726]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637909736,"creation_date":1637909736,"answer_id":70120559,"question_id":65853063,"body_markdown":"A simple method that could work!\r\n\r\nMy requirement was date time with milliseconds \r\n\r\n`2021-11-25 19:55:00.743`\r\n\r\n\r\n\r\n    private String getUTCTimestamp() {\r\n    \t\tZonedDateTime utc = ZonedDateTime.now(ZoneOffset.UTC);\r\n    \t\treturn utc.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;));\r\n    \t}\r\n\r\n","title":"Getting the UTC timestamp","body":"<p>A simple method that could work!</p>\n<p>My requirement was date time with milliseconds</p>\n<p><code>2021-11-25 19:55:00.743</code></p>\n<pre><code>private String getUTCTimestamp() {\n        ZonedDateTime utc = ZonedDateTime.now(ZoneOffset.UTC);\n        return utc.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19378,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65853216,"answer_count":7,"score":6,"last_activity_date":1681026736,"creation_date":1611351272,"question_id":65853063,"body_markdown":"An [old Stack Overflow posting][1] suggests that the way to get the UTC timestamp in Java is the following:\r\n\r\n    Instant.now()   // Capture the current moment in UTC.\r\n  \r\nUnfortunately, this does not work for me.  I have a very simple program (reproduced below) which demonstrates different behaviour.  \r\n  \r\n\r\n**On Windows**: the time is the local time and it is labelled with the offset with GMT  \r\n  \r\n**On Linux**: the time is again the local time, and it is labelled correctly for the local timezone\r\n\r\n\r\n----------\r\n**Question:** How do we display the UTC timestamp in a Java program?\r\n\r\n\r\n----------\r\nMy sample source code is as follows:\r\n\r\n    import java.time.Instant;\r\n    import java.util.Date;\r\n    \r\n    public class UTCTimeDisplayer {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(System.getProperty(&quot;os.name&quot;));\r\n    \t\tDate currentUtcTime = Date.from(Instant.now());\r\n    \t\tSystem.out.println(&quot;Current UTC time is &quot; + currentUtcTime);\r\n    \t}\r\n    }  \r\n  \r\n\r\n**Windows Output:**\r\n\r\n    C:\\tmp&gt;java UTCTimeDisplayer\r\n    Windows 10\r\n    Current UTC time is Fri Jan 22 14:28:59 GMT-06:00 2021\r\n\r\n  [1]: https://stackoverflow.com/questions/308683\r\n  \r\n  \r\n**Linux Output:**\r\n\r\n    /tmp&gt; java UTCTimeDisplayer\r\n    Linux\r\n    Current UTC time is Fri Jan 22 14:31:10 MST 2021\r\n\r\n","title":"Getting the UTC timestamp","body":"<p>An <a href=\"https://stackoverflow.com/questions/308683\">old Stack Overflow posting</a> suggests that the way to get the UTC timestamp in Java is the following:</p>\n<pre><code>Instant.now()   // Capture the current moment in UTC.\n</code></pre>\n<p>Unfortunately, this does not work for me.  I have a very simple program (reproduced below) which demonstrates different behaviour.</p>\n<p><strong>On Windows</strong>: the time is the local time and it is labelled with the offset with GMT</p>\n<p><strong>On Linux</strong>: the time is again the local time, and it is labelled correctly for the local timezone</p>\n<hr />\n<p><strong>Question:</strong> How do we display the UTC timestamp in a Java program?</p>\n<hr />\n<p>My sample source code is as follows:</p>\n<pre><code>import java.time.Instant;\nimport java.util.Date;\n\npublic class UTCTimeDisplayer {\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;os.name&quot;));\n        Date currentUtcTime = Date.from(Instant.now());\n        System.out.println(&quot;Current UTC time is &quot; + currentUtcTime);\n    }\n}  \n</code></pre>\n<p><strong>Windows Output:</strong></p>\n<pre><code>C:\\tmp&gt;java UTCTimeDisplayer\nWindows 10\nCurrent UTC time is Fri Jan 22 14:28:59 GMT-06:00 2021\n</code></pre>\n<p><strong>Linux Output:</strong></p>\n<pre><code>/tmp&gt; java UTCTimeDisplayer\nLinux\nCurrent UTC time is Fri Jan 22 14:31:10 MST 2021\n</code></pre>\n"},{"tags":["java","file","sorting"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1319728571,"post_id":7918060,"comment_id":9671120,"body_markdown":"If you use a recent version of Java 6 you will need about 4 GB of memory.  I assume you don&#39;t have that much ??","body":"If you use a recent version of Java 6 you will need about 4 GB of memory.  I assume you don&#39;t have that much ??"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1319729349,"post_id":7918060,"comment_id":9671406,"body_markdown":"What if you read just the ids into the `ArrayList` and sort them?","body":"What if you read just the ids into the <code>ArrayList</code> and sort them?"}],"answers":[{"tags":[],"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319728436,"creation_date":1319728436,"answer_id":7918121,"question_id":7918060,"body_markdown":"What you need to do is to chunk the files in via a stream and process them separately.  Then you can merge the files together as they will already be sorted, this is similar to how merge sort works. \r\n\r\nThe answer from this SO question will be of value: [Stream large files][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55709/streaming-large-files-in-a-java-servlet/55788#55788","title":"How do I sort very large files","body":"<p>What you need to do is to chunk the files in via a stream and process them separately.  Then you can merge the files together as they will already be sorted, this is similar to how merge sort works. </p>\n\n<p>The answer from this SO question will be of value: <a href=\"https://stackoverflow.com/questions/55709/streaming-large-files-in-a-java-servlet/55788#55788\">Stream large files</a></p>\n"},{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1437025933,"creation_date":1319728512,"answer_id":7918144,"question_id":7918060,"body_markdown":"You need an external merge sort to do that. [Here][1] is a Java implementation of it that sorts very large files.\r\n\r\n\r\n  [1]: https://github.com/lemire/externalsortinginjava","title":"How do I sort very large files","body":"<p>You need an external merge sort to do that. <a href=\"https://github.com/lemire/externalsortinginjava\" rel=\"noreferrer\">Here</a> is a Java implementation of it that sorts very large files.</p>\n"},{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1319728512,"creation_date":1319728512,"answer_id":7918145,"question_id":7918060,"body_markdown":"That isn&#39;t exactly a Java problem. You need to look into an efficient algorithm for sorting data that isn&#39;t completely read into memory. A few adaptations to Merge-Sort can achieve this.\r\n\r\nTake a look at this:\r\nhttp://en.wikipedia.org/wiki/Merge_sort\r\n\r\nand:\r\nhttp://en.wikipedia.org/wiki/External_sorting\r\n\r\nBasically the idea here is to break the file into smaller pieces, sort them (either with merge sort or another method), and then use the Merge from merge-sort to create the new, sorted file.\r\n","title":"How do I sort very large files","body":"<p>That isn't exactly a Java problem. You need to look into an efficient algorithm for sorting data that isn't completely read into memory. A few adaptations to Merge-Sort can achieve this.</p>\n\n<p>Take a look at this:\n<a href=\"http://en.wikipedia.org/wiki/Merge_sort\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Merge_sort</a></p>\n\n<p>and:\n<a href=\"http://en.wikipedia.org/wiki/External_sorting\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/External_sorting</a></p>\n\n<p>Basically the idea here is to break the file into smaller pieces, sort them (either with merge sort or another method), and then use the Merge from merge-sort to create the new, sorted file.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1319729471,"creation_date":1319729471,"answer_id":7918381,"question_id":7918060,"body_markdown":"Instead of loading all the data into memory at once, you could read just the keys and an index to where the line starts (and possibly the length as well) e.g.\r\n\r\n    class Line {\r\n       int key, length;\r\n       long start;\r\n    }\r\n\r\nThis would use about 40 bytes per line.\r\n\r\nOnce you have sorted this array, you can use RandomAccessFile to read the lines in the order they appear.\r\n\r\nNote: since you will be randomly hitting the disk, instead of using memory this could be very slow.  A typical disk takes 8 ms to randomly access data and if you have 10 million lines this will take about one day. (This is absolute worst case) In memory it would take about 10 seconds.\r\n","title":"How do I sort very large files","body":"<p>Instead of loading all the data into memory at once, you could read just the keys and an index to where the line starts (and possibly the length as well) e.g.</p>\n\n<pre><code>class Line {\n   int key, length;\n   long start;\n}\n</code></pre>\n\n<p>This would use about 40 bytes per line.</p>\n\n<p>Once you have sorted this array, you can use RandomAccessFile to read the lines in the order they appear.</p>\n\n<p>Note: since you will be randomly hitting the disk, instead of using memory this could be very slow.  A typical disk takes 8 ms to randomly access data and if you have 10 million lines this will take about one day. (This is absolute worst case) In memory it would take about 10 seconds.</p>\n"},{"tags":[],"owner":{"account_id":2366038,"reputation":305,"user_id":2071703,"display_name":"user2071703"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1360839611,"creation_date":1360839611,"answer_id":14873275,"question_id":7918060,"body_markdown":"You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.\r\n\r\nAdvantages: No need to worry about writing the best sorting algorithm. \r\n\r\nDisadvantage: You will need disk space, slower processing.\r\n\r\n\r\nhttps://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files","title":"How do I sort very large files","body":"<p>You can use SQL Lite file db, load the data to the db and then let it sort and return the results for you.</p>\n\n<p>Advantages: No need to worry about writing the best sorting algorithm. </p>\n\n<p>Disadvantage: You will need disk space, slower processing.</p>\n\n<p><a href=\"https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files\" rel=\"nofollow\">https://sites.google.com/site/arjunwebworld/Home/programming/sorting-large-data-files</a></p>\n"},{"tags":[],"owner":{"account_id":2097759,"reputation":2294,"user_id":1866159,"accept_rate":100,"display_name":"Rishi Dua"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1405770465,"creation_date":1405749046,"answer_id":24837198,"question_id":7918060,"body_markdown":"Operating systems come with powerful file sorting utility. A simple function that calls a bash script should help.\r\n\r\n    public static void runScript(final Logger log, final String scriptFile) throws IOException, InterruptedException {\r\n    \tfinal String command = scriptFile;\r\n    \tif (!new File (command).exists() || !new File(command).canRead() || !new File(command).canExecute()) {\r\n    \t\tlog.log(Level.SEVERE, &quot;Cannot find or read &quot; + command);\r\n    \t\tlog.log(Level.WARNING, &quot;Make sure the file is executable and you have permissions to execute it. Hint: use \\&quot;chmod +x filename\\&quot; to make it executable&quot;);\r\n    \t\tthrow new IOException(&quot;Cannot find or read &quot; + command);\r\n    \t}\r\n    \tfinal int returncode = Runtime.getRuntime().exec(new String[] {&quot;bash&quot;, &quot;-c&quot;, command}).waitFor();\r\n    \tif (returncode!=0) {\r\n    \t\tlog.log(Level.SEVERE, &quot;The script returned an Error with exit code: &quot; + returncode);\r\n    \t\tthrow new IOException();\r\n    \t}\r\n    \r\n    }","title":"How do I sort very large files","body":"<p>Operating systems come with powerful file sorting utility. A simple function that calls a bash script should help.</p>\n\n<pre><code>public static void runScript(final Logger log, final String scriptFile) throws IOException, InterruptedException {\n    final String command = scriptFile;\n    if (!new File (command).exists() || !new File(command).canRead() || !new File(command).canExecute()) {\n        log.log(Level.SEVERE, \"Cannot find or read \" + command);\n        log.log(Level.WARNING, \"Make sure the file is executable and you have permissions to execute it. Hint: use \\\"chmod +x filename\\\" to make it executable\");\n        throw new IOException(\"Cannot find or read \" + command);\n    }\n    final int returncode = Runtime.getRuntime().exec(new String[] {\"bash\", \"-c\", command}).waitFor();\n    if (returncode!=0) {\n        log.log(Level.SEVERE, \"The script returned an Error with exit code: \" + returncode);\n        throw new IOException();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28042,"reputation":49432,"user_id":74496,"accept_rate":100,"display_name":"rjh"},"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1471456424,"creation_date":1471456424,"answer_id":39003309,"question_id":7918060,"body_markdown":"Since your records are already in flat file text format, you can pipe them into UNIX `sort(1)` e.g. `sort -n -t&#39; &#39; -k1,1 &lt; input &gt; output`. It will automatically chunk the data and perform merge sort using available memory and `/tmp`. If you need more space than you have memory available, add `-T /tmpdir` to the command.\r\n\r\nIt&#39;s quite funny that everyone is telling you to download huge C# or Java libraries or implement merge-sort yourself when you can use a tool that is available on every platform and has been around for decades.","title":"How do I sort very large files","body":"<p>Since your records are already in flat file text format, you can pipe them into UNIX <code>sort(1)</code> e.g. <code>sort -n -t' ' -k1,1 &lt; input &gt; output</code>. It will automatically chunk the data and perform merge sort using available memory and <code>/tmp</code>. If you need more space than you have memory available, add <code>-T /tmpdir</code> to the command.</p>\n\n<p>It's quite funny that everyone is telling you to download huge C# or Java libraries or implement merge-sort yourself when you can use a tool that is available on every platform and has been around for decades.</p>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523826366,"creation_date":1523779545,"answer_id":49839773,"question_id":7918060,"body_markdown":"You need to perform an external sort. It&#39;s kind the driving idea behind Hadoop/MapReduce , just that it doesn&#39;t take distributed cluster into account and works on a single node.\r\n\r\nFor better performance, you should use Hadoop/Spark.\r\n\r\n[![enter image description here][1]][1]\r\nChange this lines according to your system . `fpath` is your one big input file (tested with 20GB). `shared` path is where the execution log is stored. `fdir` is where the intermediate files will be stored and merged. Change these paths according to your machine.\r\n\r\n    public static final String fdir = &quot;/tmp/&quot;;\r\n        public static final String shared = &quot;/exports/home/schatterjee/cs553-pa2a/&quot;;\r\n        public static final String fPath = &quot;/input/data-20GB.in&quot;;\r\n        public static final String opLog = shared+&quot;Mysort20GB.log&quot;;\r\nThen run the following programme. Your final sorted file will be created with the name op401 in `fdir` path. the last line ` Runtime.getRuntime().exec(&quot;valsort  &quot; + fdir + &quot;op&quot; + (treeHeight*100)+1 + &quot; &gt; &quot; + opLog);` checks the output is sorted or not . Remove this line if you dont have valsort installed or the input file is not generated using gensort(http://www.ordinal.com/gensort.html) .\r\n\r\nAlso dont forget to change `int totalLines = 200000000;` to the total lines in your file. and thread count (`int threadCount = 16`) should be always in power of 2 and large enough so that (total size * 2 / no of thread) amount of data can reside in memory. Changing Thread count will change the name of final output file. Like for 16, it will be op401, for 32 it will be op501, for 8 it will be op301 etc.\r\n\r\nEnjoy.\r\n\r\n        import java.io.*;\r\n        import java.nio.file.Files;\r\n        import java.nio.file.Paths;\r\n        import java.util.ArrayList;\r\n        import java.util.Comparator;\r\n        import java.util.stream.Stream;\r\n        \r\n        \r\n        class SplitFile extends Thread {\r\n            String fileName;\r\n            int startLine, endLine;\r\n        \r\n            SplitFile(String fileName, int startLine, int endLine) {\r\n                this.fileName = fileName;\r\n                this.startLine = startLine;\r\n                this.endLine = endLine;\r\n            }\r\n        \r\n            public static void writeToFile(BufferedWriter writer, String line) {\r\n                try {\r\n                    writer.write(line + &quot;\\r\\n&quot;);\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        \r\n            public void run() {\r\n                try {\r\n                    BufferedWriter writer = Files.newBufferedWriter(Paths.get(fileName));\r\n                    int totalLines = endLine + 1 - startLine;\r\n                    Stream&lt;String&gt; chunks =\r\n                            Files.lines(Paths.get(Mysort20GB.fPath))\r\n                                    .skip(startLine - 1)\r\n                                    .limit(totalLines)\r\n                                    .sorted(Comparator.naturalOrder());\r\n        \r\n                    chunks.forEach(line -&gt; {\r\n                        writeToFile(writer, line);\r\n                    });\r\n                    System.out.println(&quot; Done Writing &quot; + Thread.currentThread().getName());\r\n                    writer.close();\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n        \r\n        class MergeFiles extends Thread {\r\n            String file1, file2, file3;\r\n            MergeFiles(String file1, String file2, String file3) {\r\n                this.file1 = file1;\r\n                this.file2 = file2;\r\n                this.file3 = file3;\r\n            }\r\n        \r\n            public void run() {\r\n                try {\r\n                    System.out.println(file1 + &quot; Started Merging &quot; + file2 );\r\n                    FileReader fileReader1 = new FileReader(file1);\r\n                    FileReader fileReader2 = new FileReader(file2);\r\n                    FileWriter writer = new FileWriter(file3);\r\n                    BufferedReader bufferedReader1 = new BufferedReader(fileReader1);\r\n                    BufferedReader bufferedReader2 = new BufferedReader(fileReader2);\r\n                    String line1 = bufferedReader1.readLine();\r\n                    String line2 = bufferedReader2.readLine();\r\n                    //Merge 2 files based on which string is greater.\r\n                    while (line1 != null || line2 != null) {\r\n                        if (line1 == null || (line2 != null &amp;&amp; line1.compareTo(line2) &gt; 0)) {\r\n                            writer.write(line2 + &quot;\\r\\n&quot;);\r\n                            line2 = bufferedReader2.readLine();\r\n                        } else {\r\n                            writer.write(line1 + &quot;\\r\\n&quot;);\r\n                            line1 = bufferedReader1.readLine();\r\n                        }\r\n                    }\r\n                    System.out.println(file1 + &quot; Done Merging &quot; + file2 );\r\n                    new File(file1).delete();\r\n                    new File(file2).delete();\r\n                    writer.close();\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n        \r\n        public class Mysort20GB {\r\n            //public static final String fdir = &quot;/Users/diesel/Desktop/&quot;;\r\n            public static final String fdir = &quot;/tmp/&quot;;\r\n            public static final String shared = &quot;/exports/home/schatterjee/cs553-pa2a/&quot;;\r\n            public static final String fPath = &quot;/input/data-20GB.in&quot;;\r\n            public static final String opLog = shared+&quot;Mysort20GB.log&quot;;\r\n        \r\n            public static void main(String[] args) throws Exception{\r\n                long startTime = System.nanoTime();\r\n                int threadCount = 16; // Number of threads\r\n                int totalLines = 200000000;\r\n                int linesPerFile = totalLines / threadCount;\r\n                ArrayList&lt;Thread&gt; activeThreads = new ArrayList&lt;Thread&gt;();\r\n        \r\n                for (int i = 1; i &lt;= threadCount; i++) {\r\n                    int startLine = i == 1 ? i : (i - 1) * linesPerFile + 1;\r\n                    int endLine = i * linesPerFile;\r\n                    SplitFile mapThreads = new SplitFile(fdir + &quot;op&quot; + i, startLine, endLine);\r\n                    activeThreads.add(mapThreads);\r\n                    mapThreads.start();\r\n                }\r\n                activeThreads.stream().forEach(t -&gt; {\r\n                    try {\r\n                        t.join();\r\n                    } catch (Exception e) {\r\n                    }\r\n                });\r\n        \r\n                int treeHeight = (int) (Math.log(threadCount) / Math.log(2));\r\n        \r\n                for (int i = 0; i &lt; treeHeight; i++) {\r\n                    ArrayList&lt;Thread&gt; actvThreads = new ArrayList&lt;Thread&gt;();\r\n                                    \r\n    for (int j = 1, itr = 1; j &lt;= threadCount / (i + 1); j += 2, itr++) {\r\n                        int offset = i * 100;\r\n                        String tempFile1 = fdir + &quot;op&quot; + (j + offset);\r\n                        String tempFile2 = fdir + &quot;op&quot; + ((j + 1) + offset);\r\n                        String opFile = fdir + &quot;op&quot; + (itr + ((i + 1) * 100));\r\n                      \r\n                        MergeFiles reduceThreads =\r\n                                new MergeFiles(tempFile1,tempFile2,opFile);\r\n                        actvThreads.add(reduceThreads);\r\n                        reduceThreads.start();\r\n                    }\r\n                    actvThreads.stream().forEach(t -&gt; {\r\n                        try {\r\n                            t.join();\r\n                        } catch (Exception e) {\r\n                        }\r\n                    });\r\n                }\r\n                long endTime = System.nanoTime();\r\n                double timeTaken = (endTime - startTime)/1e9;\r\n                System.out.println(timeTaken);\r\n                BufferedWriter logFile = new BufferedWriter(new FileWriter(opLog, true));\r\n                logFile.write(&quot;Time Taken in seconds:&quot; + timeTaken);\r\n                Runtime.getRuntime().exec(&quot;valsort  &quot; + fdir + &quot;op&quot; + (treeHeight*100)+1 + &quot; &gt; &quot; + opLog);\r\n                logFile.close();\r\n            }\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/TcP6z.jpg\r\n","title":"How do I sort very large files","body":"<p>You need to perform an external sort. It's kind the driving idea behind Hadoop/MapReduce , just that it doesn't take distributed cluster into account and works on a single node.</p>\n\n<p>For better performance, you should use Hadoop/Spark.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TcP6z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcP6z.jpg\" alt=\"enter image description here\"></a>\nChange this lines according to your system . <code>fpath</code> is your one big input file (tested with 20GB). <code>shared</code> path is where the execution log is stored. <code>fdir</code> is where the intermediate files will be stored and merged. Change these paths according to your machine.</p>\n\n<pre><code>public static final String fdir = \"/tmp/\";\n    public static final String shared = \"/exports/home/schatterjee/cs553-pa2a/\";\n    public static final String fPath = \"/input/data-20GB.in\";\n    public static final String opLog = shared+\"Mysort20GB.log\";\n</code></pre>\n\n<p>Then run the following programme. Your final sorted file will be created with the name op401 in <code>fdir</code> path. the last line <code>Runtime.getRuntime().exec(\"valsort  \" + fdir + \"op\" + (treeHeight*100)+1 + \" &gt; \" + opLog);</code> checks the output is sorted or not . Remove this line if you dont have valsort installed or the input file is not generated using gensort(<a href=\"http://www.ordinal.com/gensort.html\" rel=\"nofollow noreferrer\">http://www.ordinal.com/gensort.html</a>) .</p>\n\n<p>Also dont forget to change <code>int totalLines = 200000000;</code> to the total lines in your file. and thread count (<code>int threadCount = 16</code>) should be always in power of 2 and large enough so that (total size * 2 / no of thread) amount of data can reside in memory. Changing Thread count will change the name of final output file. Like for 16, it will be op401, for 32 it will be op501, for 8 it will be op301 etc.</p>\n\n<p>Enjoy.</p>\n\n<pre><code>    import java.io.*;\n    import java.nio.file.Files;\n    import java.nio.file.Paths;\n    import java.util.ArrayList;\n    import java.util.Comparator;\n    import java.util.stream.Stream;\n\n\n    class SplitFile extends Thread {\n        String fileName;\n        int startLine, endLine;\n\n        SplitFile(String fileName, int startLine, int endLine) {\n            this.fileName = fileName;\n            this.startLine = startLine;\n            this.endLine = endLine;\n        }\n\n        public static void writeToFile(BufferedWriter writer, String line) {\n            try {\n                writer.write(line + \"\\r\\n\");\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        public void run() {\n            try {\n                BufferedWriter writer = Files.newBufferedWriter(Paths.get(fileName));\n                int totalLines = endLine + 1 - startLine;\n                Stream&lt;String&gt; chunks =\n                        Files.lines(Paths.get(Mysort20GB.fPath))\n                                .skip(startLine - 1)\n                                .limit(totalLines)\n                                .sorted(Comparator.naturalOrder());\n\n                chunks.forEach(line -&gt; {\n                    writeToFile(writer, line);\n                });\n                System.out.println(\" Done Writing \" + Thread.currentThread().getName());\n                writer.close();\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n    class MergeFiles extends Thread {\n        String file1, file2, file3;\n        MergeFiles(String file1, String file2, String file3) {\n            this.file1 = file1;\n            this.file2 = file2;\n            this.file3 = file3;\n        }\n\n        public void run() {\n            try {\n                System.out.println(file1 + \" Started Merging \" + file2 );\n                FileReader fileReader1 = new FileReader(file1);\n                FileReader fileReader2 = new FileReader(file2);\n                FileWriter writer = new FileWriter(file3);\n                BufferedReader bufferedReader1 = new BufferedReader(fileReader1);\n                BufferedReader bufferedReader2 = new BufferedReader(fileReader2);\n                String line1 = bufferedReader1.readLine();\n                String line2 = bufferedReader2.readLine();\n                //Merge 2 files based on which string is greater.\n                while (line1 != null || line2 != null) {\n                    if (line1 == null || (line2 != null &amp;&amp; line1.compareTo(line2) &gt; 0)) {\n                        writer.write(line2 + \"\\r\\n\");\n                        line2 = bufferedReader2.readLine();\n                    } else {\n                        writer.write(line1 + \"\\r\\n\");\n                        line1 = bufferedReader1.readLine();\n                    }\n                }\n                System.out.println(file1 + \" Done Merging \" + file2 );\n                new File(file1).delete();\n                new File(file2).delete();\n                writer.close();\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n    public class Mysort20GB {\n        //public static final String fdir = \"/Users/diesel/Desktop/\";\n        public static final String fdir = \"/tmp/\";\n        public static final String shared = \"/exports/home/schatterjee/cs553-pa2a/\";\n        public static final String fPath = \"/input/data-20GB.in\";\n        public static final String opLog = shared+\"Mysort20GB.log\";\n\n        public static void main(String[] args) throws Exception{\n            long startTime = System.nanoTime();\n            int threadCount = 16; // Number of threads\n            int totalLines = 200000000;\n            int linesPerFile = totalLines / threadCount;\n            ArrayList&lt;Thread&gt; activeThreads = new ArrayList&lt;Thread&gt;();\n\n            for (int i = 1; i &lt;= threadCount; i++) {\n                int startLine = i == 1 ? i : (i - 1) * linesPerFile + 1;\n                int endLine = i * linesPerFile;\n                SplitFile mapThreads = new SplitFile(fdir + \"op\" + i, startLine, endLine);\n                activeThreads.add(mapThreads);\n                mapThreads.start();\n            }\n            activeThreads.stream().forEach(t -&gt; {\n                try {\n                    t.join();\n                } catch (Exception e) {\n                }\n            });\n\n            int treeHeight = (int) (Math.log(threadCount) / Math.log(2));\n\n            for (int i = 0; i &lt; treeHeight; i++) {\n                ArrayList&lt;Thread&gt; actvThreads = new ArrayList&lt;Thread&gt;();\n\nfor (int j = 1, itr = 1; j &lt;= threadCount / (i + 1); j += 2, itr++) {\n                    int offset = i * 100;\n                    String tempFile1 = fdir + \"op\" + (j + offset);\n                    String tempFile2 = fdir + \"op\" + ((j + 1) + offset);\n                    String opFile = fdir + \"op\" + (itr + ((i + 1) * 100));\n\n                    MergeFiles reduceThreads =\n                            new MergeFiles(tempFile1,tempFile2,opFile);\n                    actvThreads.add(reduceThreads);\n                    reduceThreads.start();\n                }\n                actvThreads.stream().forEach(t -&gt; {\n                    try {\n                        t.join();\n                    } catch (Exception e) {\n                    }\n                });\n            }\n            long endTime = System.nanoTime();\n            double timeTaken = (endTime - startTime)/1e9;\n            System.out.println(timeTaken);\n            BufferedWriter logFile = new BufferedWriter(new FileWriter(opLog, true));\n            logFile.write(\"Time Taken in seconds:\" + timeTaken);\n            Runtime.getRuntime().exec(\"valsort  \" + fdir + \"op\" + (treeHeight*100)+1 + \" &gt; \" + opLog);\n            logFile.close();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559095746,"creation_date":1559095746,"answer_id":56352174,"question_id":7918060,"body_markdown":"Use the java library [big-sorter][1] which can be used for sorting very large text or binary files.\r\n\r\nHere&#39;s how your exact problem would be implemented:\r\n\r\n```java\r\n// write the input to a file\r\nString s = &quot;0052304 0000004000000000000000000000000000000041   John Teddy   000023\\n&quot;\r\n        + &quot;0022024 0000004000000000000000000000000000000041   George Clan 00013&quot;;\r\nFile input = new File(&quot;target/input&quot;);\r\nFiles.write(input.toPath(),s.getBytes(StandardCharsets.UTF_8), StandardOpenOption.WRITE);\r\n\r\nFile output = new File(&quot;target/output&quot;);\r\n\r\n\r\n//sort the input\r\nSorter\r\n    .serializerLinesUtf8()\r\n    .comparator((a,b) -&gt; {\r\n        String ida = a.substring(0, a.indexOf(&#39; &#39;));\r\n        String idb = b.substring(0, b.indexOf(&#39; &#39;));\r\n        return ida.compareTo(idb);\r\n    }) \r\n    .input(input) \r\n    .output(output) \r\n    .sort();\r\n\r\n// display the output\r\nFiles.readAllLines(output.toPath()).forEach(System.out::println);\r\n```\r\noutput:\r\n```\r\n0022024 0000004000000000000000000000000000000041   George Clan 00013\r\n0052304 0000004000000000000000000000000000000041   John Teddy   000023\r\n```\r\n\r\n  [1]: https://github.com/davidmoten/big-sorter","title":"How do I sort very large files","body":"<p>Use the java library <a href=\"https://github.com/davidmoten/big-sorter\" rel=\"nofollow noreferrer\">big-sorter</a> which can be used for sorting very large text or binary files.</p>\n\n<p>Here's how your exact problem would be implemented:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// write the input to a file\nString s = \"0052304 0000004000000000000000000000000000000041   John Teddy   000023\\n\"\n        + \"0022024 0000004000000000000000000000000000000041   George Clan 00013\";\nFile input = new File(\"target/input\");\nFiles.write(input.toPath(),s.getBytes(StandardCharsets.UTF_8), StandardOpenOption.WRITE);\n\nFile output = new File(\"target/output\");\n\n\n//sort the input\nSorter\n    .serializerLinesUtf8()\n    .comparator((a,b) -&gt; {\n        String ida = a.substring(0, a.indexOf(' '));\n        String idb = b.substring(0, b.indexOf(' '));\n        return ida.compareTo(idb);\n    }) \n    .input(input) \n    .output(output) \n    .sort();\n\n// display the output\nFiles.readAllLines(output.toPath()).forEach(System.out::println);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>0022024 0000004000000000000000000000000000000041   George Clan 00013\n0052304 0000004000000000000000000000000000000041   John Teddy   000023\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635876473,"creation_date":1635876473,"answer_id":69815059,"question_id":7918060,"body_markdown":"I used my own logic and sorted a BIG JSON file in format \r\n\r\n```\r\n{&quot;name&quot;:&quot;hoge.finance&quot;,&quot;address&quot;:&quot;0xfAd45E47083e4607302aa43c65fB3106F1cd7607&quot;}\r\n```\r\n\r\nFull source code is available on https://github.com/sitetester/token-sorter along with test case. Code is well documented, so easy to understand.\r\n\r\nIt splits input file into multiple smaller SORTED files (configurable) and then compare data. \r\n\r\nPasting some comments here...\r\n\r\n```\r\n// at this point, we have sorted data sets in respective files\r\n// next, we will take first token from first file and compare it with tokens of all other files\r\n// during comparison, if some token from other file is in sorted order, then we make it default/initial sorted token\r\n// &amp; jump to next file, since all remaining tokens in THAT file are already in sorted form\r\n// at end of comparisons with all files, we remove it from specific file (so it&#39;s not compared next time) and put/append in final sorted file\r\n// this process continues, until all entries are matched\r\n// if some file has no entries, then we simply delete it (so it&#39;s not compared next time)\r\n```\r\n\r\n\r\n","title":"How do I sort very large files","body":"<p>I used my own logic and sorted a BIG JSON file in format</p>\n<pre><code>{&quot;name&quot;:&quot;hoge.finance&quot;,&quot;address&quot;:&quot;0xfAd45E47083e4607302aa43c65fB3106F1cd7607&quot;}\n</code></pre>\n<p>Full source code is available on <a href=\"https://github.com/sitetester/token-sorter\" rel=\"nofollow noreferrer\">https://github.com/sitetester/token-sorter</a> along with test case. Code is well documented, so easy to understand.</p>\n<p>It splits input file into multiple smaller SORTED files (configurable) and then compare data.</p>\n<p>Pasting some comments here...</p>\n<pre><code>// at this point, we have sorted data sets in respective files\n// next, we will take first token from first file and compare it with tokens of all other files\n// during comparison, if some token from other file is in sorted order, then we make it default/initial sorted token\n// &amp; jump to next file, since all remaining tokens in THAT file are already in sorted form\n// at end of comparisons with all files, we remove it from specific file (so it's not compared next time) and put/append in final sorted file\n// this process continues, until all entries are matched\n// if some file has no entries, then we simply delete it (so it's not compared next time)\n</code></pre>\n"}],"owner":{"account_id":323326,"reputation":6604,"user_id":643271,"accept_rate":74,"display_name":"Kayser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55889,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":7918145,"answer_count":10,"score":34,"last_activity_date":1681026660,"creation_date":1319728222,"question_id":7918060,"body_markdown":"I have some files that should be sorted according to id at the beginning of each line.\r\nThe files are about 2-3 gb. &lt;p&gt;I tried to read all data into an `ArrayList` and sort them. But memory is not enough to keep them all. It does not work.&lt;br&gt;\r\n\r\n\r\nLines look like&lt;p&gt; \r\n`0052304 0000004000000000000000000000000000000041   John Teddy   000023`&lt;br&gt;\r\n`0022024 0000004000000000000000000000000000000041   George Clan 00013`&lt;p&gt;\r\n\r\n\r\nHow can I sort the files??","title":"How do I sort very large files","body":"<p>I have some files that should be sorted according to id at the beginning of each line.\nThe files are about 2-3 gb. <p>I tried to read all data into an <code>ArrayList</code> and sort them. But memory is not enough to keep them all. It does not work.<br></p>\n\n<p>Lines look like<p> \n<code>0052304 0000004000000000000000000000000000000041   John Teddy   000023</code><br>\n<code>0022024 0000004000000000000000000000000000000041   George Clan 00013</code><p></p>\n\n<p>How can I sort the files??</p>\n"},{"tags":["java","generics","api-design"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680458231,"post_id":75913358,"comment_id":133898099,"body_markdown":"I think you are using generics superfluously - this is better suited to old-fashioned inheritance. Unless you can tell us more about the problem being addressed.","body":"I think you are using generics superfluously - this is better suited to old-fashioned inheritance. Unless you can tell us more about the problem being addressed."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1680458547,"post_id":75913358,"comment_id":133898156,"body_markdown":"I don&#39;t understand your comment. You mean make the Item class not generic ?","body":"I don&#39;t understand your comment. You mean make the Item class not generic ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1680463947,"post_id":75913358,"comment_id":133898995,"body_markdown":"It isn&#39;t clear what the `T` is being used for in any of these places, yeah.","body":"It isn&#39;t clear what the <code>T</code> is being used for in any of these places, yeah."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1680505827,"post_id":75913358,"comment_id":133903708,"body_markdown":"I added some context","body":"I added some context"}],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681026259,"creation_date":1680506980,"answer_id":75916966,"question_id":75913358,"body_markdown":"Not sure it&#39;s the best solution but I ended up using the following getItems() method:\r\n\r\n     &lt;T extends Item&lt;?&gt;&gt; T getItems(Class&lt;T&gt; itemClass);\r\n\r\nwhich makes the 2 lines work:\r\n\r\n    NoteItem item = getItems(NoteItem.class).get(0);  // Compiles OK\r\n    Item&lt;?&gt; item2= getItems(Item.class).get(0); // Compiles OK\r\n\r\nThe only minor drawback is that I get a rawtypes warning when I use `getItems(Item.class)` because return value is `List&lt;Item&gt;`, not `List&lt;Item&lt;?&gt;&gt;`.","title":"API design question, generic method with generic class","body":"<p>Not sure it's the best solution but I ended up using the following getItems() method:</p>\n<pre><code> &lt;T extends Item&lt;?&gt;&gt; T getItems(Class&lt;T&gt; itemClass);\n</code></pre>\n<p>which makes the 2 lines work:</p>\n<pre><code>NoteItem item = getItems(NoteItem.class).get(0);  // Compiles OK\nItem&lt;?&gt; item2= getItems(Item.class).get(0); // Compiles OK\n</code></pre>\n<p>The only minor drawback is that I get a rawtypes warning when I use <code>getItems(Item.class)</code> because return value is <code>List&lt;Item&gt;</code>, not <code>List&lt;Item&lt;?&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916966,"answer_count":1,"score":0,"last_activity_date":1681026259,"creation_date":1680454001,"question_id":75913358,"body_markdown":"A musical score contains Item objects. All Items have a Position and associated data. Data can be anything, a note, lyrics, etc.\r\n\r\n    interface Item&lt;T&gt;\r\n    {\r\n         Position getPosition();\r\n         T getData();\r\n         ...\r\n    }\r\n    \r\n    class NoteItem implements Item&lt;Note&gt;\r\n    {        \r\n        Note getData() { .... }\r\n        ...\r\n    }\r\n\r\n    class LyricsItem implements Item&lt;Lyrics&gt;\r\n    {\r\n        Lyrics getData { ... }\r\n        ...\r\n    }\r\n\r\nThe Score class has a method to get Items of a specific class:\r\n\r\n    public &lt;T extends Item&lt;E&gt;, E&gt; List&lt;T&gt; getItems(Class&lt;T&gt; itemClass)\r\n    {\r\n      //\r\n    }\r\n\r\nAs shown below, `getItems()` works if parameter is a subclass of Item. But if it&#39;s Item.class, return value is a list of objects, I expected a list of Items...\r\n\r\n    NoteItem item = getItems(NoteItem.class).get(0);  // Compiles OK\r\n    Item&lt;?&gt; item2= getItems(Item.class).get(0); // Compiles KO, return value is Object, not Item&lt;Object&gt; as I expected\r\n\r\nI can fix the 2nd line by explicitly casting the result to (Item&lt;?&gt;), but is there a better way to avoid the casting ? \r\n\r\nOne solution to avoid the casting is to change the `getItems()` method to:\r\n\r\n     &lt;T&gt; List&lt;T&gt; getItems(Class&lt;T&gt; aClass)\r\n\r\nbut then the user of the method has no way (besides doc) to know that the method only accepts Item classes. What would be the best way to handle this ?","title":"API design question, generic method with generic class","body":"<p>A musical score contains Item objects. All Items have a Position and associated data. Data can be anything, a note, lyrics, etc.</p>\n<pre><code>interface Item&lt;T&gt;\n{\n     Position getPosition();\n     T getData();\n     ...\n}\n\nclass NoteItem implements Item&lt;Note&gt;\n{        \n    Note getData() { .... }\n    ...\n}\n\nclass LyricsItem implements Item&lt;Lyrics&gt;\n{\n    Lyrics getData { ... }\n    ...\n}\n</code></pre>\n<p>The Score class has a method to get Items of a specific class:</p>\n<pre><code>public &lt;T extends Item&lt;E&gt;, E&gt; List&lt;T&gt; getItems(Class&lt;T&gt; itemClass)\n{\n  //\n}\n</code></pre>\n<p>As shown below, <code>getItems()</code> works if parameter is a subclass of Item. But if it's Item.class, return value is a list of objects, I expected a list of Items...</p>\n<pre><code>NoteItem item = getItems(NoteItem.class).get(0);  // Compiles OK\nItem&lt;?&gt; item2= getItems(Item.class).get(0); // Compiles KO, return value is Object, not Item&lt;Object&gt; as I expected\n</code></pre>\n<p>I can fix the 2nd line by explicitly casting the result to (Item&lt;?&gt;), but is there a better way to avoid the casting ?</p>\n<p>One solution to avoid the casting is to change the <code>getItems()</code> method to:</p>\n<pre><code> &lt;T&gt; List&lt;T&gt; getItems(Class&lt;T&gt; aClass)\n</code></pre>\n<p>but then the user of the method has no way (besides doc) to know that the method only accepts Item classes. What would be the best way to handle this ?</p>\n"},{"tags":["java","spring-boot","azure","azure-functions","azure-eventhub"],"owner":{"account_id":17394740,"reputation":21,"user_id":12604607,"display_name":"javadeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681025389,"creation_date":1681025389,"question_id":75969285,"body_markdown":"I have an Spring Boot Azure Function configured using `@Eventhubtrigger`\r\n\r\n\r\n    public class MyHandler extends FunctionInvoker&lt;Object, Object&gt; {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(MyHandler.class);\r\n    \r\n    \t@FunctionName(&quot;myFunction&quot;)\r\n    \tpublic void execute(\r\n    \t\t@EventHubTrigger(\r\n    \t\t\tname=&quot;myEventHubTrigger&quot;,\r\n    \t\t\teventHubName=&quot;my-event-hub-sample&quot;\r\n    \t\t\tcardinality=Cardinality.ONE,\r\n    \t\t\tconsumerGroup=&quot;cg-my-event-hub-sample&quot;,\r\n    \t\t\tconnection = &quot;EVENT_HUB_CONNECTION_STRING&quot;\r\n    \t\t) String event, ExecutionContext context) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tcontext.getLogger().log(new Record(LEVEL.INFO, &quot;Event read&quot;+event));\r\n    \t\t\tLOGGER.info(&quot;Application : Event Read &quot;+event);\r\n    \r\n    \r\n    \t\t\t//this writes event to Blob Location\r\n    \t\t\thandleRequest(event, context);\r\n    \r\n    \t\t\tLOGGER.info(&quot;Application : Event processed successfully&quot;);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Application : Event processed with error&quot;,e);\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nIn this case, the `handleRequest(event, context)`, writes to Azure Blob storage with `yyyy-mm-dd-timestamp` format.\r\n\r\nAlso I dont see any exceptions and can see in log message like : `Application : Event processed successfully` . Inspite of this, again the event is consumed and again the whole processing is done and again all messages are printed in log\r\n\r\nDue to this behavior, I can see multiple files with different timestamps created at blob location for one single event dropped in eventhub. I just dropped one event in eventhub and 30 files were created at blob location. Sometimes its 15, sometimes its 30. Ideally only one file should be created at blob location.\r\n\r\nWhat is missing here ? ","title":"Why is Spring Boot Azure Function is replaying events?","body":"<p>I have an Spring Boot Azure Function configured using <code>@Eventhubtrigger</code></p>\n<pre><code>public class MyHandler extends FunctionInvoker&lt;Object, Object&gt; {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyHandler.class);\n\n    @FunctionName(&quot;myFunction&quot;)\n    public void execute(\n        @EventHubTrigger(\n            name=&quot;myEventHubTrigger&quot;,\n            eventHubName=&quot;my-event-hub-sample&quot;\n            cardinality=Cardinality.ONE,\n            consumerGroup=&quot;cg-my-event-hub-sample&quot;,\n            connection = &quot;EVENT_HUB_CONNECTION_STRING&quot;\n        ) String event, ExecutionContext context) {\n\n        try {\n            context.getLogger().log(new Record(LEVEL.INFO, &quot;Event read&quot;+event));\n            LOGGER.info(&quot;Application : Event Read &quot;+event);\n\n\n            //this writes event to Blob Location\n            handleRequest(event, context);\n\n            LOGGER.info(&quot;Application : Event processed successfully&quot;);\n\n        } catch (Exception e) {\n            LOGGER.error(&quot;Application : Event processed with error&quot;,e);\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>In this case, the <code>handleRequest(event, context)</code>, writes to Azure Blob storage with <code>yyyy-mm-dd-timestamp</code> format.</p>\n<p>Also I dont see any exceptions and can see in log message like : <code>Application : Event processed successfully</code> . Inspite of this, again the event is consumed and again the whole processing is done and again all messages are printed in log</p>\n<p>Due to this behavior, I can see multiple files with different timestamps created at blob location for one single event dropped in eventhub. I just dropped one event in eventhub and 30 files were created at blob location. Sometimes its 15, sometimes its 30. Ideally only one file should be created at blob location.</p>\n<p>What is missing here ?</p>\n"},{"tags":["java","string","escaping","string-formatting"],"answers":[{"tags":[],"owner":{"account_id":9945780,"reputation":490,"user_id":7360568,"display_name":"cardouken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680964196,"creation_date":1680964196,"answer_id":75965807,"question_id":75965746,"body_markdown":"Apache commons has a library for what you seem to be looking for: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava(java.lang.String)\r\n\r\nIf you can&#39;t use Maven/Gradle then you&#39;ll most likely have to resort to rolling your own by escaping all special characters with a backslash i.e. something like:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String text = &quot;Hello\\nWorld!&quot;;\r\n    String escapedText = escapeSpecialChars(text);\r\n    System.out.println(escapedText);\r\n}\r\n\r\nprivate static String escapeSpecialChars(String text) {\r\n    StringBuilder sb = new StringBuilder();\r\n    for (char c : text.toCharArray()) {\r\n        switch (c) {\r\n            case &#39;\\\\&#39; -&gt; sb.append(&quot;\\\\\\\\&quot;);\r\n            case &#39;\\n&#39; -&gt; sb.append(&quot;\\\\n&quot;);\r\n            case &#39;\\t&#39; -&gt; sb.append(&quot;\\\\t&quot;);\r\n            case &#39;\\&#39;&#39; -&gt; sb.append(&quot;\\\\&#39;&quot;);\r\n            case &#39;\\&quot;&#39; -&gt; sb.append(&quot;\\\\\\&quot;&quot;);\r\n            default -&gt; sb.append(c);\r\n        }\r\n    }\r\n    return sb.toString();\r\n}\r\n```","title":"How to display string formatters as plain text in Java?","body":"<p>Apache commons has a library for what you seem to be looking for: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava(java.lang.String)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava(java.lang.String)</a></p>\n<p>If you can't use Maven/Gradle then you'll most likely have to resort to rolling your own by escaping all special characters with a backslash i.e. something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String text = &quot;Hello\\nWorld!&quot;;\n    String escapedText = escapeSpecialChars(text);\n    System.out.println(escapedText);\n}\n\nprivate static String escapeSpecialChars(String text) {\n    StringBuilder sb = new StringBuilder();\n    for (char c : text.toCharArray()) {\n        switch (c) {\n            case '\\\\' -&gt; sb.append(&quot;\\\\\\\\&quot;);\n            case '\\n' -&gt; sb.append(&quot;\\\\n&quot;);\n            case '\\t' -&gt; sb.append(&quot;\\\\t&quot;);\n            case '\\'' -&gt; sb.append(&quot;\\\\'&quot;);\n            case '\\&quot;' -&gt; sb.append(&quot;\\\\\\&quot;&quot;);\n            default -&gt; sb.append(c);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680971618,"creation_date":1680971147,"answer_id":75966391,"question_id":75965746,"body_markdown":"Here is an one way using streams.\r\n```\r\nString text = &quot;He\\f\\bllo\\nWor\\rld!&quot;;\r\ntext = translate(text);\r\n```\r\nprints\r\n```\r\nHe\\f\\bllo\\nWor\\rld!\r\n```\r\n- this splits the string and then replaces the proper control character with its escaped outerpart.\r\n```\r\nprivate static Map&lt;Character, String&gt; map = Map.of(&#39;\\t&#39;, &quot;\\\\t&quot;, &#39;\\b&#39;, &quot;\\\\b&quot;, &#39;\\n&#39;,\r\n        &quot;\\\\n&quot;, &#39;\\f&#39;, &quot;\\\\f&quot;, &#39;\\\\&#39;, &quot;\\\\\\&#39;&quot;, &#39;&quot;&#39;, &quot;\\\\\\&quot;&quot;, &#39;\\r&#39;, &quot;\\\\r&quot;);\r\npublic static String translate(String text) {\r\n    return text.chars()\r\n            .mapToObj(ch -&gt; map.getOrDefault((char)ch, Character.toString(ch)))\r\n            .collect(Collectors.joining());    \r\n}\r\n","title":"How to display string formatters as plain text in Java?","body":"<p>Here is an one way using streams.</p>\n<pre><code>String text = &quot;He\\f\\bllo\\nWor\\rld!&quot;;\ntext = translate(text);\n</code></pre>\n<p>prints</p>\n<pre><code>He\\f\\bllo\\nWor\\rld!\n</code></pre>\n<ul>\n<li>this splits the string and then replaces the proper control character with its escaped outerpart.</li>\n</ul>\n<pre><code>private static Map&lt;Character, String&gt; map = Map.of('\\t', &quot;\\\\t&quot;, '\\b', &quot;\\\\b&quot;, '\\n',\n        &quot;\\\\n&quot;, '\\f', &quot;\\\\f&quot;, '\\\\', &quot;\\\\\\'&quot;, '&quot;', &quot;\\\\\\&quot;&quot;, '\\r', &quot;\\\\r&quot;);\npublic static String translate(String text) {\n    return text.chars()\n            .mapToObj(ch -&gt; map.getOrDefault((char)ch, Character.toString(ch)))\n            .collect(Collectors.joining());    \n}\n</code></pre>\n"}],"owner":{"account_id":20963346,"reputation":51,"user_id":15402266,"display_name":"user123123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75966391,"answer_count":2,"score":0,"last_activity_date":1681024499,"creation_date":1680963471,"question_id":75965746,"body_markdown":"I have a string in Java that contains special characters like \\n and \\t which are interpreted as control characters and produce new lines and tabs when displayed. I want to display these special characters as plain text, for example, to display &quot;\\n&quot; as \\n and not as a new line. The string may also contain single or double quotation marks(&#39;)(&quot;) to be concise it can contain any possible character. \r\n\r\n```\r\nString text = &quot;Hello\\nWorld!&quot;;\r\ntext = text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\ntext = text.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\nSystem.out.println(text);\r\n\r\n```\r\n\r\nIs there a way to achieve this in Java?","title":"How to display string formatters as plain text in Java?","body":"<p>I have a string in Java that contains special characters like \\n and \\t which are interpreted as control characters and produce new lines and tabs when displayed. I want to display these special characters as plain text, for example, to display &quot;\\n&quot; as \\n and not as a new line. The string may also contain single or double quotation marks(')(&quot;) to be concise it can contain any possible character.</p>\n<pre><code>String text = &quot;Hello\\nWorld!&quot;;\ntext = text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\ntext = text.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\nSystem.out.println(text);\n\n</code></pre>\n<p>Is there a way to achieve this in Java?</p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681022914,"creation_date":1680908289,"answer_id":75962464,"question_id":75955369,"body_markdown":"### Status as of picocli 4.7.1\r\n\r\nAs of version 4.7.1, picocli does not have direct support for setting default values for multi-value options or positional parameters. (&quot;Multi-value&quot; meaning: options/positional parameters that can be specified multiple times and have an array, a Collection or a Map as the underlying data type.)\r\n\r\n### Roadmap \r\n\r\nThere is a feature request for this on the picocli issue tracker: https://github.com/remkop/picocli/issues/879\r\nThe proposal is to add new API, that will allow option definitions like this:\r\n\r\n```java\r\n@Option(names = &quot;-x&quot;, defaultValues = { &quot;1.1&quot;, &quot;2.2&quot;, &quot;3.3&quot; })\r\ndouble[] values;\r\n```\r\n\r\nWhen implemented, that will also cover primitive arrays: default values are specified as Strings (just like command line values are) and are converted to the target data type by the type converter for that data type.\r\n\r\nPull requests are always welcome! &#128517;\r\n\r\n### Workaround \r\n\r\nWith the current version of picocli you may be able to work around this by defining the option with a [`split` regex](https://picocli.info/#_split_regex) to allow users to specify multiple comma-separated values after the option name. For example:\r\n\r\n```java\r\n@Option(\r\n    names        = {&quot;-m&quot;, &quot;--multiple-values&quot;},\r\n    defaultValue = &quot;0.00,0.25,0.50,1.25&quot;,\r\n    split        = &quot;,&quot;,\r\n    paramLabels  = &quot;values&quot;,\r\n    description  = &quot;multiple values (default: ${DEFAULT-VALUE})&quot;)\r\nprivate double[] values;\r\n```\r\n\r\nThat has a multi-value default, but will also allow users to specify command lines like this:\r\n\r\n```\r\nmycommand -m 1.1,2.2,3,3 -m 4.4 -m 5.5,6.6\r\n```\r\n\r\nThis may not be exactly what you want, but may be the closest we can get with the current version of picocli.","title":"PicoCLI &quot;defaultValue&quot; and option values for primitive arrays","body":"<h3>Status as of picocli 4.7.1</h3>\n<p>As of version 4.7.1, picocli does not have direct support for setting default values for multi-value options or positional parameters. (&quot;Multi-value&quot; meaning: options/positional parameters that can be specified multiple times and have an array, a Collection or a Map as the underlying data type.)</p>\n<h3>Roadmap</h3>\n<p>There is a feature request for this on the picocli issue tracker: <a href=\"https://github.com/remkop/picocli/issues/879\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/issues/879</a>\nThe proposal is to add new API, that will allow option definitions like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(names = &quot;-x&quot;, defaultValues = { &quot;1.1&quot;, &quot;2.2&quot;, &quot;3.3&quot; })\ndouble[] values;\n</code></pre>\n<p>When implemented, that will also cover primitive arrays: default values are specified as Strings (just like command line values are) and are converted to the target data type by the type converter for that data type.</p>\n<p>Pull requests are always welcome! 😅</p>\n<h3>Workaround</h3>\n<p>With the current version of picocli you may be able to work around this by defining the option with a <a href=\"https://picocli.info/#_split_regex\" rel=\"nofollow noreferrer\"><code>split</code> regex</a> to allow users to specify multiple comma-separated values after the option name. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(\n    names        = {&quot;-m&quot;, &quot;--multiple-values&quot;},\n    defaultValue = &quot;0.00,0.25,0.50,1.25&quot;,\n    split        = &quot;,&quot;,\n    paramLabels  = &quot;values&quot;,\n    description  = &quot;multiple values (default: ${DEFAULT-VALUE})&quot;)\nprivate double[] values;\n</code></pre>\n<p>That has a multi-value default, but will also allow users to specify command lines like this:</p>\n<pre><code>mycommand -m 1.1,2.2,3,3 -m 4.4 -m 5.5,6.6\n</code></pre>\n<p>This may not be exactly what you want, but may be the closest we can get with the current version of picocli.</p>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75962464,"answer_count":1,"score":1,"last_activity_date":1681022914,"creation_date":1680840020,"question_id":75955369,"body_markdown":"How are default values and option values for primitive arrays properly specified in PicoCli?\r\n\r\nA primitive value can be annotated with a `defaultValue` string value:\r\n\r\n```\r\n@Option(\r\n    names        = {&quot;--one-value&quot;},\r\n    defaultValue = &quot;1.25&quot;,\r\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\r\nprivate double oneValue;\r\n```\r\n\r\nor set with on the field:\r\n\r\n```\r\n@Option(\r\n    names        = {&quot;--one-value&quot;},\r\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\r\nprivate double oneValue = 1.25;\r\n```\r\n\r\nIn both cases `oneValue=1.25`; the description correctly reads as `one value (default: 1.25)`; and, the values can be overridden on the command line with:\r\n\r\n```\r\n--one-value=1.23\r\n```\r\n\r\nAn array of primitive values, however:\r\n\r\n```\r\n@Option(\r\n    names        = {&quot;--multiple-values&quot;},\r\n    defaultValue = &quot;[0.00, 0.25, 0.50, 1.25]&quot;,\r\n    paramLabels  = &quot;values&quot;,\r\n    description  = &quot;multiple values (default: ${DEFAULT-VALUE})&quot;)\r\nprivate double[] values;\r\n```\r\n\r\nfails with:\r\n\r\n```\r\nInvalid value for option &#39;--multiple-values&#39; (&lt;values&gt;): &#39;[0.00, 0.25, 0.50, 1.25]&#39; is not a double\r\n```\r\n\r\neven though the `${DEFAULT-VALUE}` help says:\r\n\r\n```\r\n--multiple-values=&lt;values&gt;  multiple values (default: &quot;[0.00, 0.25, 0.50, 1.25]&quot;)\r\n```\r\n\r\nThe default values can be set on the field:\r\n\r\n```\r\n@Option(\r\n    names        = {&quot;--multiple-values&quot;},\r\n    defaultValue = &quot;[0.00, 0.25, 0.50, 1.25]&quot;,\r\n    paramLabels  = &quot;values&quot;,\r\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\r\nprivate double[] values; = new double[] {0.00, 0.25, 0.50, 1.25};\r\n```\r\n\r\nbut in both cases these command line options fail:\r\n\r\n```\r\n--multiple-values=&quot;[0.10, 0.20]&quot;\r\n--multiple-values=&quot;0.10, 0.20&quot;\r\n--multiple-values=0.10,0.20\r\n```\r\n\r\nwith:\r\n\r\n```\r\n&#39;...&#39; is not a double\r\n```\r\n\r\nSo, what the right way to set the `defaultValues` and command line option for a primitive array?","title":"PicoCLI &quot;defaultValue&quot; and option values for primitive arrays","body":"<p>How are default values and option values for primitive arrays properly specified in PicoCli?</p>\n<p>A primitive value can be annotated with a <code>defaultValue</code> string value:</p>\n<pre><code>@Option(\n    names        = {&quot;--one-value&quot;},\n    defaultValue = &quot;1.25&quot;,\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\nprivate double oneValue;\n</code></pre>\n<p>or set with on the field:</p>\n<pre><code>@Option(\n    names        = {&quot;--one-value&quot;},\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\nprivate double oneValue = 1.25;\n</code></pre>\n<p>In both cases <code>oneValue=1.25</code>; the description correctly reads as <code>one value (default: 1.25)</code>; and, the values can be overridden on the command line with:</p>\n<pre><code>--one-value=1.23\n</code></pre>\n<p>An array of primitive values, however:</p>\n<pre><code>@Option(\n    names        = {&quot;--multiple-values&quot;},\n    defaultValue = &quot;[0.00, 0.25, 0.50, 1.25]&quot;,\n    paramLabels  = &quot;values&quot;,\n    description  = &quot;multiple values (default: ${DEFAULT-VALUE})&quot;)\nprivate double[] values;\n</code></pre>\n<p>fails with:</p>\n<pre><code>Invalid value for option '--multiple-values' (&lt;values&gt;): '[0.00, 0.25, 0.50, 1.25]' is not a double\n</code></pre>\n<p>even though the <code>${DEFAULT-VALUE}</code> help says:</p>\n<pre><code>--multiple-values=&lt;values&gt;  multiple values (default: &quot;[0.00, 0.25, 0.50, 1.25]&quot;)\n</code></pre>\n<p>The default values can be set on the field:</p>\n<pre><code>@Option(\n    names        = {&quot;--multiple-values&quot;},\n    defaultValue = &quot;[0.00, 0.25, 0.50, 1.25]&quot;,\n    paramLabels  = &quot;values&quot;,\n    description  = &quot;one value (default: ${DEFAULT-VALUE})&quot;)\nprivate double[] values; = new double[] {0.00, 0.25, 0.50, 1.25};\n</code></pre>\n<p>but in both cases these command line options fail:</p>\n<pre><code>--multiple-values=&quot;[0.10, 0.20]&quot;\n--multiple-values=&quot;0.10, 0.20&quot;\n--multiple-values=0.10,0.20\n</code></pre>\n<p>with:</p>\n<pre><code>'...' is not a double\n</code></pre>\n<p>So, what the right way to set the <code>defaultValues</code> and command line option for a primitive array?</p>\n"},{"tags":["java","vectorization"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1680214254,"post_id":75893275,"comment_id":133865069,"body_markdown":"Maybe `.mul(2)` and `.div(2)` would do the trick.","body":"Maybe <code>.mul(2)</code> and <code>.div(2)</code> would do the trick."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681022908,"creation_date":1680219559,"answer_id":75893743,"question_id":75893275,"body_markdown":"The behavior is _correct_: pure `&lt;&lt;` for `int`s _also_ performs an `&amp;` operation on the shift amount.  The `&amp;` correctly does the appropriate `&amp;` operation for the values being operated on.\r\n\r\nASHR is _correctly_ equivalent to `&gt;&gt;`.  LSHR is equivalent to `&gt;&gt;&gt;`.  LSHL is equivalent to `&lt;&lt;`.  These all do the same thing as the normal operators do.\r\n\r\nSee [JLS 15.19](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19) for details.","title":"Bitshifting a Java IntVector","body":"<p>The behavior is <em>correct</em>: pure <code>&lt;&lt;</code> for <code>int</code>s <em>also</em> performs an <code>&amp;</code> operation on the shift amount.  The <code>&amp;</code> correctly does the appropriate <code>&amp;</code> operation for the values being operated on.</p>\n<p>ASHR is <em>correctly</em> equivalent to <code>&gt;&gt;</code>.  LSHR is equivalent to <code>&gt;&gt;&gt;</code>.  LSHL is equivalent to <code>&lt;&lt;</code>.  These all do the same thing as the normal operators do.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19\" rel=\"nofollow noreferrer\">JLS 15.19</a> for details.</p>\n"}],"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75893743,"answer_count":1,"score":0,"last_activity_date":1681022908,"creation_date":1680213011,"question_id":75893275,"body_markdown":"How can I perform a bitwise shift operation (&lt;&lt; or &gt;&gt;) directly on an [`IntVector`][1] using the Java Vector API?\r\n\r\nI haven&#39;t been able to find anything obvious in the API to do this; the closest I&#39;ve found is `myIntVec.lanewise(VectorOperators.ASHR, shiftAmt)` but this performs an additional `AND` operation on the shift amount.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/IntVector.html","title":"Bitshifting a Java IntVector","body":"<p>How can I perform a bitwise shift operation (&lt;&lt; or &gt;&gt;) directly on an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.vector/jdk/incubator/vector/IntVector.html\" rel=\"nofollow noreferrer\"><code>IntVector</code></a> using the Java Vector API?</p>\n<p>I haven't been able to find anything obvious in the API to do this; the closest I've found is <code>myIntVec.lanewise(VectorOperators.ASHR, shiftAmt)</code> but this performs an additional <code>AND</code> operation on the shift amount.</p>\n"},{"tags":["java","parsing","constructor","timestamp","delimiter"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1679878391,"post_id":75851120,"comment_id":133794663,"body_markdown":"First suggestion: Do not use `SimpleDateFormat`. Instead use the modern [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html). Second suggestion: &quot;_how to use the delimiter_&quot; Not 100% sure what you mean... But to include a tab in a Java `String` use `\\t` as in `&quot;foo\\tbar&quot;`","body":"First suggestion: Do not use <code>SimpleDateFormat</code>. Instead use the modern <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>. Second suggestion: &quot;<i>how to use the delimiter</i>&quot; Not 100% sure what you mean... But to include a tab in a Java <code>String</code> use <code>\\t</code> as in <code>&quot;foo\\tbar&quot;</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679889813,"post_id":75851120,"comment_id":133795799,"body_markdown":"`MST` is not a [real time zone name](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). Time zone names are in a format of `Continent/Region` such as `America/Edmonton`. Those 2-4 character pseudo-zones are not standardized, and are not even unique.","body":"<code>MST</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone name</a>. Time zone names are in a format of <code>Continent&#47;Region</code> such as <code>America&#47;Edmonton</code>. Those 2-4 character pseudo-zones are not standardized, and are not even unique."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679889909,"post_id":75851120,"comment_id":133795808,"body_markdown":"Before posting here, search Stack Overflow thoroughly. Parsing tab-delimited text has been covered many times already. Ditto for parsing date-time text.","body":"Before posting here, search Stack Overflow thoroughly. Parsing tab-delimited text has been covered many times already. Ditto for parsing date-time text."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679958478,"post_id":75851120,"comment_id":133811210,"body_markdown":"It doesn’t show from the question text, but the input line is equal to a string of `&quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;`.","body":"It doesn’t show from the question text, but the input line is equal to a string of <code>&quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679959641,"post_id":75851120,"comment_id":133811338,"body_markdown":"I would use an intermediate step so you get three constructors in all (they need not be public all of them). In your `FlowSample(String line)` constructor simply call `this(line.split(&quot;\\t&quot;));`. This will pass an array of strings to the next constructor. Declare it as `FlowSample(String[] splitLine)` and implement as `this(splitLine[0], splitLine[1], splitLine[3], splitLine[5], splitLine[2], Double.parseDouble(splitLine[4]));`, which in turn calls the constructor you already have.","body":"I would use an intermediate step so you get three constructors in all (they need not be public all of them). In your <code>FlowSample(String line)</code> constructor simply call <code>this(line.split(&quot;\\t&quot;));</code>. This will pass an array of strings to the next constructor. Declare it as <code>FlowSample(String[] splitLine)</code> and implement as <code>this(splitLine[0], splitLine[1], splitLine[3], splitLine[5], splitLine[2], Double.parseDouble(splitLine[4]));</code>, which in turn calls the constructor you already have."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679961220,"post_id":75851120,"comment_id":133811564,"body_markdown":"Handling local and UTC timestamp: In `FlowSample` declare `timestamp` a `ZonedDateTime`. To initialize it concatenate timestamp and time zone and parse using `this.timestamp = ZonedDateTime.parse(timestamp + timeZone, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mmz&quot;, Locale.ROOT));`. For formatting for output use a `DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;EEE dd MMM yyyy hh:mm:ss a zzz&quot;, Locale.US);`. Get your formatted strings from `timestamp.format(fmt)` (local) and `timestamp.withZoneSameInstant(ZoneId.of(&quot;Etc/UTC&quot;)).format(fmt)` (UTC).","body":"Handling local and UTC timestamp: In <code>FlowSample</code> declare <code>timestamp</code> a <code>ZonedDateTime</code>. To initialize it concatenate timestamp and time zone and parse using <code>this.timestamp = ZonedDateTime.parse(timestamp + timeZone, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mmz&quot;, Locale.ROOT));</code>. For formatting for output use a <code>DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;EEE dd MMM yyyy hh:mm:ss a zzz&quot;, Locale.US);</code>. Get your formatted strings from <code>timestamp.format(fmt)</code> (local) and <code>timestamp.withZoneSameInstant(ZoneId.of(&quot;Etc&#47;UTC&quot;)).format(f&zwnj;&#8203;mt)</code> (UTC)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679961365,"post_id":75851120,"comment_id":133811585,"body_markdown":"I also would not initialize the timestamp to epoch in case of a parse error but rather throw an exception. You know your use case and requirements the best, though.","body":"I also would not initialize the timestamp to epoch in case of a parse error but rather throw an exception. You know your use case and requirements the best, though."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681022574,"creation_date":1680995544,"answer_id":75968086,"question_id":75851120,"body_markdown":"Create some sample data.\r\n\r\n    String input = &quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;;\r\n\r\nDefine a class as a [record][1] to represent your flow sample. \r\n\r\n    record FlowSample( String agency , String siteNumber , ZonedDateTime when , int flowRate , String qualityCode ) { }\r\n\r\nNotice that we use field for our final desired fields. A record’s default constructor directly assigns a value to each field. That is a good thing. You should &#128073; keep your constructors as short, simple, and sweet as possible. Parsing should be done *outside* the constructor. So let&#39;s add a `static` factory method to mediate between our textual input and our desired object.\r\n\r\nBefore we can write that factory method, we have to deal with a flaw in your input data. Your input uses `MST` as a time zone. Unfortunately, such 2-4 letter pseudo-zones are not standard. They are not even unique! Does `MST` mean *Malaysia Standard Time*? Or *Mountain Standard Time (North America)*? Even then, those values may refer to any of several multiple real time zones, each zone having its own history of past, present, and future changes to its offset-from-UTC. For example, [Mountain Standard Time][2] implies any of several time zones in Canada, United States, and Mexico.\r\n\r\nThese pseudo-zones should be used only in localized text for presentation to users (if that), and &#128073; never used when exchanging date-time values. \r\n\r\nSo are stuck with two possible ways to address your input-data flaw:\r\n\r\n - Convince the publisher of your data to use [real time zone][3] identifiers (`Continent/Region`) rather than these 2-4 character strings.\r\n - Write a method that takes a guess at parsing such inputs.\r\n\r\nLet&#39;s write that method.\r\n\r\n```java\r\nstatic ZoneId guessAtParsingPseudoTimeZone ( String pseudoZone )\r\n{\r\n    return switch ( pseudoZone )\r\n    {\r\n        case &quot;MST&quot; -&gt; ZoneId.of( &quot;America/Denver&quot; );\r\n        case &quot;PST&quot; -&gt; ZoneId.of( &quot;America/Los_Angeles&quot; );\r\n        default -&gt; throw new IllegalStateException( &quot;Unexpected pseudo time zone: &quot; + pseudoZone );\r\n    };\r\n}\r\n```\r\n\r\nNow we can complete that `static` parsing method.\r\n\r\nNote that we are *not* using the terribly flawed date-time classes seen in the Question. Those legacy classes were years ago supplanted by &#128073; the modern *java.time* classes defined in JSR 310. A date with time-of-day should be parsed as a `LocalDateTime`. However, a `LocalDateTime` is ambiguous as it cannot represent a point on the timeline. To pinpoint a point on the timeline, we need to apply a time zone (`ZoneId`) to get a `ZonedDateTime` object. \r\n\r\n```java\r\nstatic FlowSample parse ( String input )\r\n{\r\n    String[] parts = input.split( &quot;\\t&quot; );\r\n    String a = parts[ 0 ];\r\n    String s = parts[ 1 ];\r\n    LocalDateTime ldt = LocalDateTime.parse( parts[ 2 ].replace( &quot; &quot; , &quot;T&quot; ) );\r\n    ZoneId z = FlowSample.guessAtParsingPseudoTimeZone( parts[ 3 ] ); // Take a guess as to what the non-standard non-unique pseudo time zone might mean. CAUTION: This is faulty data. You should convince your data publisher to use real time zone names.\r\n    ZonedDateTime zdt = ldt.atZone( z );\r\n    int f = Integer.parseInt( parts[ 4 ] );\r\n    String q = parts[ 5 ];\r\n    return new FlowSample( a , s , zdt , f , q );\r\n}\r\n```\r\n\r\nWrite a complete example demo app to exercise our `FlowSample` record.\r\n\r\n```java\r\npackage work.basil.example.parsing;\r\n\r\nimport java.time.*;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n\r\n        String input = &quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;; // Agency, Site number, Date-time, Pseudo-time-zone, Flow rate, Quality code.\r\n\r\n        record FlowSample( String agency , String siteNumber , ZonedDateTime when , int flowRate , String qualityCode )\r\n        {\r\n            static FlowSample parse ( String input )\r\n            {\r\n                String[] parts = input.split( &quot;\\t&quot; );\r\n                String a = parts[ 0 ];\r\n                String s = parts[ 1 ];\r\n                LocalDateTime ldt = LocalDateTime.parse( parts[ 2 ].replace( &quot; &quot; , &quot;T&quot; ) );\r\n                ZoneId z = FlowSample.guessAtParsingPseudoTimeZone( parts[ 3 ] ); // Take a guess as to what the non-standard non-unique pseudo time zone might mean. CAUTION: This is faulty data. You should convince your data publisher to use real time zone names.\r\n                ZonedDateTime zdt = ldt.atZone( z );\r\n                int f = Integer.parseInt( parts[ 4 ] );\r\n                String q = parts[ 5 ];\r\n                return new FlowSample( a , s , zdt , f , q );\r\n            }\r\n\r\n            static ZoneId guessAtParsingPseudoTimeZone ( String pseudoZone )\r\n            {\r\n                return switch ( pseudoZone )\r\n                {\r\n                    case &quot;MST&quot; -&gt; ZoneId.of( &quot;America/Denver&quot; );\r\n                    case &quot;PST&quot; -&gt; ZoneId.of( &quot;America/Los_Angeles&quot; );\r\n                    default -&gt; throw new IllegalStateException( &quot;Unexpected pseudo time zone: &quot; + pseudoZone );\r\n                };\r\n            }\r\n        }\r\n\r\n        FlowSample flowSample = FlowSample.parse( input );\r\n        System.out.println( &quot;flowSample = &quot; + flowSample );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;flowSample = FlowSample[agency=USGS, siteNumber=13206000, when=2021-12-30T14:30-07:00[America/Denver], flowRate=226, qualityCode=P]\r\n\r\nTo report that moment as seen in UTC (an offset of zero), just call `ZonedDateTime#toInstant`. \r\n\r\n    String utc = flowSample.when().toInstant().toString() ;\r\n\r\n----------\r\n\r\n\r\nBy the way, that `qualityCode` field should likely be a custom-defined enum rather than a mere string. Perhaps also the `agency`. I will leave that as an exercise for the reader.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://en.wikipedia.org/wiki/Mountain_Time_Zone\r\n  [3]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"How do you use parse for timestamp data?","body":"<p>Create some sample data.</p>\n<pre><code>String input = &quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;;\n</code></pre>\n<p>Define a class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> to represent your flow sample.</p>\n<pre><code>record FlowSample( String agency , String siteNumber , ZonedDateTime when , int flowRate , String qualityCode ) { }\n</code></pre>\n<p>Notice that we use field for our final desired fields. A record’s default constructor directly assigns a value to each field. That is a good thing. You should 👉 keep your constructors as short, simple, and sweet as possible. Parsing should be done <em>outside</em> the constructor. So let's add a <code>static</code> factory method to mediate between our textual input and our desired object.</p>\n<p>Before we can write that factory method, we have to deal with a flaw in your input data. Your input uses <code>MST</code> as a time zone. Unfortunately, such 2-4 letter pseudo-zones are not standard. They are not even unique! Does <code>MST</code> mean <em>Malaysia Standard Time</em>? Or <em>Mountain Standard Time (North America)</em>? Even then, those values may refer to any of several multiple real time zones, each zone having its own history of past, present, and future changes to its offset-from-UTC. For example, <a href=\"https://en.wikipedia.org/wiki/Mountain_Time_Zone\" rel=\"nofollow noreferrer\">Mountain Standard Time</a> implies any of several time zones in Canada, United States, and Mexico.</p>\n<p>These pseudo-zones should be used only in localized text for presentation to users (if that), and 👉 never used when exchanging date-time values.</p>\n<p>So are stuck with two possible ways to address your input-data flaw:</p>\n<ul>\n<li>Convince the publisher of your data to use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a> identifiers (<code>Continent/Region</code>) rather than these 2-4 character strings.</li>\n<li>Write a method that takes a guess at parsing such inputs.</li>\n</ul>\n<p>Let's write that method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static ZoneId guessAtParsingPseudoTimeZone ( String pseudoZone )\n{\n    return switch ( pseudoZone )\n    {\n        case &quot;MST&quot; -&gt; ZoneId.of( &quot;America/Denver&quot; );\n        case &quot;PST&quot; -&gt; ZoneId.of( &quot;America/Los_Angeles&quot; );\n        default -&gt; throw new IllegalStateException( &quot;Unexpected pseudo time zone: &quot; + pseudoZone );\n    };\n}\n</code></pre>\n<p>Now we can complete that <code>static</code> parsing method.</p>\n<p>Note that we are <em>not</em> using the terribly flawed date-time classes seen in the Question. Those legacy classes were years ago supplanted by 👉 the modern <em>java.time</em> classes defined in JSR 310. A date with time-of-day should be parsed as a <code>LocalDateTime</code>. However, a <code>LocalDateTime</code> is ambiguous as it cannot represent a point on the timeline. To pinpoint a point on the timeline, we need to apply a time zone (<code>ZoneId</code>) to get a <code>ZonedDateTime</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static FlowSample parse ( String input )\n{\n    String[] parts = input.split( &quot;\\t&quot; );\n    String a = parts[ 0 ];\n    String s = parts[ 1 ];\n    LocalDateTime ldt = LocalDateTime.parse( parts[ 2 ].replace( &quot; &quot; , &quot;T&quot; ) );\n    ZoneId z = FlowSample.guessAtParsingPseudoTimeZone( parts[ 3 ] ); // Take a guess as to what the non-standard non-unique pseudo time zone might mean. CAUTION: This is faulty data. You should convince your data publisher to use real time zone names.\n    ZonedDateTime zdt = ldt.atZone( z );\n    int f = Integer.parseInt( parts[ 4 ] );\n    String q = parts[ 5 ];\n    return new FlowSample( a , s , zdt , f , q );\n}\n</code></pre>\n<p>Write a complete example demo app to exercise our <code>FlowSample</code> record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.parsing;\n\nimport java.time.*;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n\n        String input = &quot;USGS\\t13206000\\t2021-12-30 14:30\\tMST\\t226\\tP&quot;; // Agency, Site number, Date-time, Pseudo-time-zone, Flow rate, Quality code.\n\n        record FlowSample( String agency , String siteNumber , ZonedDateTime when , int flowRate , String qualityCode )\n        {\n            static FlowSample parse ( String input )\n            {\n                String[] parts = input.split( &quot;\\t&quot; );\n                String a = parts[ 0 ];\n                String s = parts[ 1 ];\n                LocalDateTime ldt = LocalDateTime.parse( parts[ 2 ].replace( &quot; &quot; , &quot;T&quot; ) );\n                ZoneId z = FlowSample.guessAtParsingPseudoTimeZone( parts[ 3 ] ); // Take a guess as to what the non-standard non-unique pseudo time zone might mean. CAUTION: This is faulty data. You should convince your data publisher to use real time zone names.\n                ZonedDateTime zdt = ldt.atZone( z );\n                int f = Integer.parseInt( parts[ 4 ] );\n                String q = parts[ 5 ];\n                return new FlowSample( a , s , zdt , f , q );\n            }\n\n            static ZoneId guessAtParsingPseudoTimeZone ( String pseudoZone )\n            {\n                return switch ( pseudoZone )\n                {\n                    case &quot;MST&quot; -&gt; ZoneId.of( &quot;America/Denver&quot; );\n                    case &quot;PST&quot; -&gt; ZoneId.of( &quot;America/Los_Angeles&quot; );\n                    default -&gt; throw new IllegalStateException( &quot;Unexpected pseudo time zone: &quot; + pseudoZone );\n                };\n            }\n        }\n\n        FlowSample flowSample = FlowSample.parse( input );\n        System.out.println( &quot;flowSample = &quot; + flowSample );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>flowSample = FlowSample[agency=USGS, siteNumber=13206000, when=2021-12-30T14:30-07:00[America/Denver], flowRate=226, qualityCode=P]</p>\n</blockquote>\n<p>To report that moment as seen in UTC (an offset of zero), just call <code>ZonedDateTime#toInstant</code>.</p>\n<pre><code>String utc = flowSample.when().toInstant().toString() ;\n</code></pre>\n<hr />\n<p>By the way, that <code>qualityCode</code> field should likely be a custom-defined enum rather than a mere string. Perhaps also the <code>agency</code>. I will leave that as an exercise for the reader.</p>\n"}],"owner":{"account_id":21324968,"reputation":17,"user_id":15697489,"display_name":"chriscondreay"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681022574,"creation_date":1679873003,"question_id":75851120,"body_markdown":"I need to be able to print Flow Sample data in tab-delimited lines of text where each data field is separated by tabs. Using the tab-delimited lines I need to be able to type data in like:\r\n```terminal\r\nPlease enter the line of tab-separated data:\r\nUSGS\t13206000\t2021-12-30 14:30\tMST\t226\tP\r\n```\r\nand have it printed out like:\r\n```console\r\n---------------------\r\n|     Data Entry    |\r\n---------------------\r\nPlease enter the line of tab separated data:\r\nUSGS\t13206000\t2021-12-30 14:30\tMST\t226\tP\r\n\r\n---------------------\r\n| Data Confirmation |\r\n---------------------\r\nYou entered the following: \r\nAgency: USGS\r\nSite Number: 13206000\r\nLocal Timestamp: Thu 30 Dec 2021 02:30:00 PM MST\r\nUTC Timestamp: Thu 30 Dec 2021 09:30:00 PM UTC\r\nFlow Rate: 226.0\r\nQualification Code: P\r\n\r\n---------------------\r\n|  Sample Summary   |\r\n---------------------\r\n### USGS - 13206000 ###\r\nTimestamp: Thu 30 Dec 2021 09:30:00 PM UTC\r\nFlow Rate: 226.0\r\n```\r\nI need to be able to use another constructor class called FlowSample that takes in a single String value as a parameter\r\n\r\n    public FlowSample(String line) {...}\r\n\r\nI have created one FlowSample constructor:\r\n```\r\npublic FlowSample(String agency, String siteNumber, String timeZone, String qualCode, String timestamp, double flowRate) \r\n    {\r\n        this.agency = agency;\r\n        this.siteNumber = siteNumber;\r\n        this.qualCode = qualCode;\r\n        this.flowRate = flowRate;\r\n\r\n        /* Create date formatter and parse */\r\n        // 2021-12-20 14:30\r\n        SimpleDateFormat myFormatter = new SimpleDateFormat(&quot;yyy-MM-dd HH:mm&quot;);  // Format is same as data from USGS data\r\n\r\n        // Creating new timezone method and passes TimeZone object into myFormatter\r\n        myFormatter.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n\r\n        try \r\n        {\r\n            // passing in timestamp from constructor\r\n            this.timestamp = myFormatter.parse(timestamp);\r\n        } \r\n        catch (ParseException e) \r\n        {\r\n            System.out.println(&quot;Error: Unable to parse timestamp: &quot; + timestamp);\r\n            /* Initialize timestamp with the epoch, January 1, 1970, 00:00:000 GMT */\r\n            this.timestamp = new Date(0);\r\n        }\r\n    }\r\n```\r\nI am unsure how to use the delimiter to print the data like this and I need help. Does anyone know how to help me and how the constructor should look and how to call it?","title":"How do you use parse for timestamp data?","body":"<p>I need to be able to print Flow Sample data in tab-delimited lines of text where each data field is separated by tabs. Using the tab-delimited lines I need to be able to type data in like:</p>\n<pre><code>Please enter the line of tab-separated data:\nUSGS    13206000    2021-12-30 14:30    MST 226 P\n</code></pre>\n<p>and have it printed out like:</p>\n<pre><code>---------------------\n|     Data Entry    |\n---------------------\nPlease enter the line of tab separated data:\nUSGS    13206000    2021-12-30 14:30    MST 226 P\n\n---------------------\n| Data Confirmation |\n---------------------\nYou entered the following: \nAgency: USGS\nSite Number: 13206000\nLocal Timestamp: Thu 30 Dec 2021 02:30:00 PM MST\nUTC Timestamp: Thu 30 Dec 2021 09:30:00 PM UTC\nFlow Rate: 226.0\nQualification Code: P\n\n---------------------\n|  Sample Summary   |\n---------------------\n### USGS - 13206000 ###\nTimestamp: Thu 30 Dec 2021 09:30:00 PM UTC\nFlow Rate: 226.0\n</code></pre>\n<p>I need to be able to use another constructor class called FlowSample that takes in a single String value as a parameter</p>\n<pre><code>public FlowSample(String line) {...}\n</code></pre>\n<p>I have created one FlowSample constructor:</p>\n<pre><code>public FlowSample(String agency, String siteNumber, String timeZone, String qualCode, String timestamp, double flowRate) \n    {\n        this.agency = agency;\n        this.siteNumber = siteNumber;\n        this.qualCode = qualCode;\n        this.flowRate = flowRate;\n\n        /* Create date formatter and parse */\n        // 2021-12-20 14:30\n        SimpleDateFormat myFormatter = new SimpleDateFormat(&quot;yyy-MM-dd HH:mm&quot;);  // Format is same as data from USGS data\n\n        // Creating new timezone method and passes TimeZone object into myFormatter\n        myFormatter.setTimeZone(TimeZone.getTimeZone(timeZone));\n\n        try \n        {\n            // passing in timestamp from constructor\n            this.timestamp = myFormatter.parse(timestamp);\n        } \n        catch (ParseException e) \n        {\n            System.out.println(&quot;Error: Unable to parse timestamp: &quot; + timestamp);\n            /* Initialize timestamp with the epoch, January 1, 1970, 00:00:000 GMT */\n            this.timestamp = new Date(0);\n        }\n    }\n</code></pre>\n<p>I am unsure how to use the delimiter to print the data like this and I need help. Does anyone know how to help me and how the constructor should look and how to call it?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680863995,"creation_date":1680863995,"answer_id":75957681,"question_id":75951854,"body_markdown":"Hibernate does not send those queries. It is the JDBC driver which sends them. The relevant JDBC API is `java.sql.Connection.setAutoCommit()`, and in a container environment that method is usually called by your connection pool.","title":"How to see the SQL queries Hibernate issuing for setting transaction level and autocommit","body":"<p>Hibernate does not send those queries. It is the JDBC driver which sends them. The relevant JDBC API is <code>java.sql.Connection.setAutoCommit()</code>, and in a container environment that method is usually called by your connection pool.</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681021911,"creation_date":1681021911,"answer_id":75969096,"question_id":75951854,"body_markdown":"Hibernate config like is like this to enable auto commit:\r\n\r\n`&lt;property name=&quot;connection.autocommit&quot;&gt;true&lt;/property&gt;`\r\n\r\nTransaction Level can be set in the code\r\n\r\n```\r\nEntityManagerFactory emFactory = Persistence.createEntityManagerFactory(&quot;sampleUnit&quot;);\r\nEntityManager em1 = emFactory.createEntityManager();\r\nEntityTransaction t1 = em1.getTransaction();\r\nt1.begin();\r\ntry {\r\n  Query query = em1.createQuery(&quot;SELECT p FROM Product p WHERE name = :name&quot;);\r\n  query.setParameter(&quot;name&quot;, &quot;cherry&quot;);\r\n  List&lt;Product&gt; products = query.getResultList();\r\n  System.out.println(&quot;Got product size: &quot;+products.size());\r\n} finally {\r\n  t1.rollback();\r\n}\r\n```","title":"How to see the SQL queries Hibernate issuing for setting transaction level and autocommit","body":"<p>Hibernate config like is like this to enable auto commit:</p>\n<p><code>&lt;property name=&quot;connection.autocommit&quot;&gt;true&lt;/property&gt;</code></p>\n<p>Transaction Level can be set in the code</p>\n<pre><code>EntityManagerFactory emFactory = Persistence.createEntityManagerFactory(&quot;sampleUnit&quot;);\nEntityManager em1 = emFactory.createEntityManager();\nEntityTransaction t1 = em1.getTransaction();\nt1.begin();\ntry {\n  Query query = em1.createQuery(&quot;SELECT p FROM Product p WHERE name = :name&quot;);\n  query.setParameter(&quot;name&quot;, &quot;cherry&quot;);\n  List&lt;Product&gt; products = query.getResultList();\n  System.out.println(&quot;Got product size: &quot;+products.size());\n} finally {\n  t1.rollback();\n}\n</code></pre>\n"}],"owner":{"account_id":6328358,"reputation":21,"user_id":4914067,"display_name":"stevenchusm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681021911,"creation_date":1680799233,"question_id":75951854,"body_markdown":"On my MySQL server, in the general log I see a ton of logs that look like:\r\n```bash\r\n2023-03-31T09:31:23.208-07:00\t2023-03-31T16:31:23.208345Z37028 Query SET autocommit=0\r\n2023-03-31T09:31:23.211-07:00\t2023-03-31T16:31:23.211201Z36956 Query set session transaction read write\r\n2023-03-31T09:31:23.211-07:00\t2023-03-31T16:31:23.211807Z36957 Query /* dynamic native SQL query */ select now() /*app health check*/\r\n2023-03-31T09:31:23.255-07:00\t2023-03-31T16:31:23.255990Z36995 Query set session transaction read write\r\n2023-03-31T09:31:23.273-07:00\t2023-03-31T16:31:23.273013Z36957 Query set session transaction read write\r\n2023-03-31T09:31:23.276-07:00\t2023-03-31T16:31:23.276323Z36956 Query SET autocommit=0\r\n2023-03-31T09:31:23.320-07:00\t2023-03-31T16:31:23.320214Z36995 Query SET autocommit=0\r\n2023-03-31T09:31:23.334-07:00\t2023-03-31T16:31:23.334801Z36957 Query SET autocommit=0\r\n2023-03-31T09:31:23.461-07:00\t2023-03-31T16:31:23.461897Z37056 Query rollback\r\n```\r\n\r\nI would like to see them on the clientside logs, however. My Java is very rusty so please be patient. In case it&#39;s helpful, the question I&#39;m asking looks very similar to [this one](https://stackoverflow.com/questions/30576385/how-to-log-the-start-and-the-completion-of-db-transactions-in-hibernate), though the accepted answer there didn&#39;t actually end up working out for me either (this is a separate issue) :/\r\n\r\nI have a YAML file and have tried enabling the following:\r\n```yaml\r\nlogging:\r\n  levels:\r\n  - path: org.hibernate\r\n    value: trace\r\n  - path: org.hibernate.SQL\r\n    value: debug\r\n  - path: org.jooq\r\n    value: trace\r\n  - path: com.amazonaws\r\n    value: debug\r\n  - path: com.zaxxer\r\n    value: debug\r\n  - path: com.mysql\r\n    value: debug\r\n  - path: org.hibernate.engine.transaction.internal.TransactionImpl\r\n    value: debug\r\n  - path: com.mysql.clusterj.core.TransactionImpl\r\n    value: debug\r\n  - path: org.hibernate.jpa.internal.TransactionImpl\r\n    value: debug\r\n```","title":"How to see the SQL queries Hibernate issuing for setting transaction level and autocommit","body":"<p>On my MySQL server, in the general log I see a ton of logs that look like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-03-31T09:31:23.208-07:00   2023-03-31T16:31:23.208345Z37028 Query SET autocommit=0\n2023-03-31T09:31:23.211-07:00   2023-03-31T16:31:23.211201Z36956 Query set session transaction read write\n2023-03-31T09:31:23.211-07:00   2023-03-31T16:31:23.211807Z36957 Query /* dynamic native SQL query */ select now() /*app health check*/\n2023-03-31T09:31:23.255-07:00   2023-03-31T16:31:23.255990Z36995 Query set session transaction read write\n2023-03-31T09:31:23.273-07:00   2023-03-31T16:31:23.273013Z36957 Query set session transaction read write\n2023-03-31T09:31:23.276-07:00   2023-03-31T16:31:23.276323Z36956 Query SET autocommit=0\n2023-03-31T09:31:23.320-07:00   2023-03-31T16:31:23.320214Z36995 Query SET autocommit=0\n2023-03-31T09:31:23.334-07:00   2023-03-31T16:31:23.334801Z36957 Query SET autocommit=0\n2023-03-31T09:31:23.461-07:00   2023-03-31T16:31:23.461897Z37056 Query rollback\n</code></pre>\n<p>I would like to see them on the clientside logs, however. My Java is very rusty so please be patient. In case it's helpful, the question I'm asking looks very similar to <a href=\"https://stackoverflow.com/questions/30576385/how-to-log-the-start-and-the-completion-of-db-transactions-in-hibernate\">this one</a>, though the accepted answer there didn't actually end up working out for me either (this is a separate issue) :/</p>\n<p>I have a YAML file and have tried enabling the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  levels:\n  - path: org.hibernate\n    value: trace\n  - path: org.hibernate.SQL\n    value: debug\n  - path: org.jooq\n    value: trace\n  - path: com.amazonaws\n    value: debug\n  - path: com.zaxxer\n    value: debug\n  - path: com.mysql\n    value: debug\n  - path: org.hibernate.engine.transaction.internal.TransactionImpl\n    value: debug\n  - path: com.mysql.clusterj.core.TransactionImpl\n    value: debug\n  - path: org.hibernate.jpa.internal.TransactionImpl\n    value: debug\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1681019974,"post_id":75968961,"comment_id":133990212,"body_markdown":"It will give some error `Unhandled exception type IOException` If I put it outside after the `catch` block and if I create another `try catch` after the `catch` it still return the same error","body":"It will give some error <code>Unhandled exception type IOException</code> If I put it outside after the <code>catch</code> block and if I create another <code>try catch</code> after the <code>catch</code> it still return the same error"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1681027262,"post_id":75968961,"comment_id":133990831,"body_markdown":"Looks like you didn&#39;t copy your answer here: [Java delete file function is not working, my file not deleting and not throwing any errors](https://stackoverflow.com/questions/75966704/java-delete-file-function-is-not-working-my-file-not-deleting-and-not-throwing)","body":"Looks like you didn&#39;t copy your answer here: <a href=\"https://stackoverflow.com/questions/75966704/java-delete-file-function-is-not-working-my-file-not-deleting-and-not-throwing\">Java delete file function is not working, my file not deleting and not throwing any errors</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681122196,"post_id":75968961,"comment_id":134001549,"body_markdown":"Move the `Files.delete` and `Files.move` outside the try-with-resources, so that both the reader and the writer are already closed.","body":"Move the <code>Files.delete</code> and <code>Files.move</code> outside the try-with-resources, so that both the reader and the writer are already closed."}],"answers":[{"tags":[],"owner":{"account_id":15459133,"reputation":1,"user_id":11152232,"display_name":"Pradheep Raaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681019877,"creation_date":1681019877,"answer_id":75968993,"question_id":75968961,"body_markdown":"Try closing the writer which builds the file. Until it is closed, process consider the file as opened, so it wont allow you to delete","title":"Java: The process cannot access the file because it is being used by another process when deleting file","body":"<p>Try closing the writer which builds the file. Until it is closed, process consider the file as opened, so it wont allow you to delete</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681021901,"creation_date":1681021519,"answer_id":75969081,"question_id":75968961,"body_markdown":"You can&#39;t delete the file until it is closed and it is closed after exiting the [try-with-resources][1] block.\r\n\r\nI suggest using a nested `try`.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\npublic class MyGame {\r\n\r\n    public static void main(String[] args) {\r\n        Path tempFile = Paths.get(&quot;temp.txt&quot;);\r\n        Path saveFile = Paths.get(&quot;save.txt&quot;);\r\n        Path playerFile = Paths.get(player.username + &quot;.txt&quot;);\r\n        try {\r\n            try (Writer fw = Files.newBufferedWriter(tempFile,\r\n                                                     StandardOpenOption.CREATE,\r\n                                                     StandardOpenOption.APPEND);\r\n                 BufferedReader br = Files.newBufferedReader(saveFile)) {\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    if (line.equals(player.username))\r\n                        continue;\r\n                    fw.write(line);\r\n                    fw.write(&quot;\\n&quot;);\r\n                }\r\n            }\r\n            Files.delete(saveFile);\r\n            Files.delete(playerFile);\r\n            Files.move(tempFile, saveFile);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nNote that there is no need to explicitly create the &quot;temp&quot; file before writing to it. Besides which [CREATE_NEW][2] will throw an exception if the &quot;temp&quot; file already exists and I assume that this is not what you want.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/StandardOpenOption.html#CREATE_NEW","title":"Java: The process cannot access the file because it is being used by another process when deleting file","body":"<p>You can't delete the file until it is closed and it is closed after exiting the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> block.</p>\n<p>I suggest using a nested <code>try</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class MyGame {\n\n    public static void main(String[] args) {\n        Path tempFile = Paths.get(&quot;temp.txt&quot;);\n        Path saveFile = Paths.get(&quot;save.txt&quot;);\n        Path playerFile = Paths.get(player.username + &quot;.txt&quot;);\n        try {\n            try (Writer fw = Files.newBufferedWriter(tempFile,\n                                                     StandardOpenOption.CREATE,\n                                                     StandardOpenOption.APPEND);\n                 BufferedReader br = Files.newBufferedReader(saveFile)) {\n                String line;\n                while ((line = br.readLine()) != null) {\n                    if (line.equals(player.username))\n                        continue;\n                    fw.write(line);\n                    fw.write(&quot;\\n&quot;);\n                }\n            }\n            Files.delete(saveFile);\n            Files.delete(playerFile);\n            Files.move(tempFile, saveFile);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that there is no need to explicitly create the &quot;temp&quot; file before writing to it. Besides which <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/StandardOpenOption.html#CREATE_NEW\" rel=\"nofollow noreferrer\">CREATE_NEW</a> will throw an exception if the &quot;temp&quot; file already exists and I assume that this is not what you want.</p>\n"}],"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75969081,"answer_count":2,"score":0,"last_activity_date":1681021901,"creation_date":1681018906,"question_id":75968961,"body_markdown":"I want to delete some file in my device but I keep getting throws that the file is being used in another process. I&#39;m pretty sure I already terminate all the debug process and not opening any file expect my Eclipse IDE, which I did not open the file in the IDE either.\r\n\r\nHere&#39;s my code:\r\n\r\n```java\r\nPath tempFile = Paths.get(&quot;temp.txt&quot;);\r\ntry {\r\n    Files.newBufferedWriter(tempFile, StandardOpenOption.CREATE_NEW);\r\n} catch (IOException e) {\r\n    // TODO: handle exception\r\n}\r\nPath saveFile = Paths.get(&quot;save.txt&quot;);\r\nPath playerFile = Paths.get(player.username + &quot;.txt&quot;);\r\ntry (\r\n        Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\r\n        BufferedReader br = Files.newBufferedReader(saveFile);\r\n    ) {\r\n    String line;\r\n    while ((line = br.readLine()) != null) {\r\n        if (line.equals(player.username))\r\n            continue;\r\n        fw.write(line);\r\n        fw.write(&quot;\\n&quot;);\r\n    }\r\n    Files.delete(saveFile);\r\n    Files.delete(playerFile);\r\n    Files.move(tempFile, saveFile);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nThe error is thrown when I reach the `Files.delete(saveFile)` line.\r\n","title":"Java: The process cannot access the file because it is being used by another process when deleting file","body":"<p>I want to delete some file in my device but I keep getting throws that the file is being used in another process. I'm pretty sure I already terminate all the debug process and not opening any file expect my Eclipse IDE, which I did not open the file in the IDE either.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path tempFile = Paths.get(&quot;temp.txt&quot;);\ntry {\n    Files.newBufferedWriter(tempFile, StandardOpenOption.CREATE_NEW);\n} catch (IOException e) {\n    // TODO: handle exception\n}\nPath saveFile = Paths.get(&quot;save.txt&quot;);\nPath playerFile = Paths.get(player.username + &quot;.txt&quot;);\ntry (\n        Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\n        BufferedReader br = Files.newBufferedReader(saveFile);\n    ) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        if (line.equals(player.username))\n            continue;\n        fw.write(line);\n        fw.write(&quot;\\n&quot;);\n    }\n    Files.delete(saveFile);\n    Files.delete(playerFile);\n    Files.move(tempFile, saveFile);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The error is thrown when I reach the <code>Files.delete(saveFile)</code> line.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":1,"creation_date":1681018027,"post_id":75968865,"comment_id":133990067,"body_markdown":"Well, you&#39;re using `StudentAdd` for all the printing, which I guess is the last student you added. `current` is not used for anything else than just going through the list.","body":"Well, you&#39;re using <code>StudentAdd</code> for all the printing, which I guess is the last student you added. <code>current</code> is not used for anything else than just going through the list."},{"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"score":0,"creation_date":1681115934,"post_id":75968865,"comment_id":134000481,"body_markdown":"@JamesZ, in `StudentAdd.java` will be the getter and setter for storing and getting the StudentID, groups, and Priority. \nIn `LinkedList.java` will be `add` for being `AddToHead` or `AddToTail`. \n\nAlso a `toString()` program will be stored in `LinkedList.java`.","body":"@JamesZ, in <code>StudentAdd.java</code> will be the getter and setter for storing and getting the StudentID, groups, and Priority.  In <code>LinkedList.java</code> will be <code>add</code> for being <code>AddToHead</code> or <code>AddToTail</code>.   Also a <code>toString()</code> program will be stored in <code>LinkedList.java</code>."}],"answers":[{"tags":[],"owner":{"account_id":5512797,"reputation":72,"user_id":4378540,"display_name":"Jinendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681021729,"creation_date":1681021729,"answer_id":75969086,"question_id":75968865,"body_markdown":"refer &quot;current&quot; node in the while loop instead of &quot;StudentAdd&quot;, something like below\r\n\r\n    while (current != null) {\r\n        str += &quot;StudentID: &quot; + current.getStudentID() + &quot; is in Group &quot; +\r\n            current.getGroup().toUpperCase() + &quot; with priority &quot; + \r\n            current.getPriority();\r\n            str += &quot;]\\n&quot;;\r\n            current = current.getNext();\r\n\r\n        }","title":"How to get value in LinkedList which have two values","body":"<p>refer &quot;current&quot; node in the while loop instead of &quot;StudentAdd&quot;, something like below</p>\n<pre><code>while (current != null) {\n    str += &quot;StudentID: &quot; + current.getStudentID() + &quot; is in Group &quot; +\n        current.getGroup().toUpperCase() + &quot; with priority &quot; + \n        current.getPriority();\n        str += &quot;]\\n&quot;;\n        current = current.getNext();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75969086,"answer_count":1,"score":1,"last_activity_date":1681021729,"creation_date":1681016994,"question_id":75968865,"body_markdown":"I have three variables in the linked list (take an example, StudentID, Group, Priority)\r\n\r\nI have used the following codes for the program:\r\n\r\n```\r\npublic String toString() {\r\n\tSystem.out.println(&quot;--------------------------------------&quot;);\r\n\tString str = &quot; &quot;;\r\n\r\n\tListNode current = head;\r\n\twhile (current != null) {\r\n\t\tstr += &quot;StudentID: &quot; + StudentAdd.getStudentID() + &quot; is in Group &quot; +\r\n \t\t\tStudentAdd.getGroup().toUpperCase() + &quot; with priority &quot; + \r\n\t\t\tStudentAdd.getPriority();\r\n\t\t\tstr += &quot;]\\n&quot;;\r\n\t\t\tcurrent = current.getNext();\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturn str;\r\n\t}\r\n```\r\n\r\nI would like to get the following outputs\r\n\r\n```\r\n[StudentID:0001 is in Group A with Priority 1]\r\n[StudentID:0005 is in Group C with Priority 1]\r\n[StudentID:0220 is in Group B with Priority 2]\r\n[StudentID:0200 is in Group B with Priority 2]\r\n[StudentID:0215 is in Group B with Priority 2]\r\n[StudentID:0315 is in Group B with Priority 3]\r\n[StudentID:0301 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n```\r\n\r\n\r\nHowever, the I only got the following output\r\n```\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n[StudentID:0350 is in Group B with Priority 3]\r\n```\r\n\r\nIt just displayed the last input of the student.\r\n\r\nSo how could I update it?","title":"How to get value in LinkedList which have two values","body":"<p>I have three variables in the linked list (take an example, StudentID, Group, Priority)</p>\n<p>I have used the following codes for the program:</p>\n<pre><code>public String toString() {\n    System.out.println(&quot;--------------------------------------&quot;);\n    String str = &quot; &quot;;\n\n    ListNode current = head;\n    while (current != null) {\n        str += &quot;StudentID: &quot; + StudentAdd.getStudentID() + &quot; is in Group &quot; +\n            StudentAdd.getGroup().toUpperCase() + &quot; with priority &quot; + \n            StudentAdd.getPriority();\n            str += &quot;]\\n&quot;;\n            current = current.getNext();\n\n        }\n        \n        return str;\n    }\n</code></pre>\n<p>I would like to get the following outputs</p>\n<pre><code>[StudentID:0001 is in Group A with Priority 1]\n[StudentID:0005 is in Group C with Priority 1]\n[StudentID:0220 is in Group B with Priority 2]\n[StudentID:0200 is in Group B with Priority 2]\n[StudentID:0215 is in Group B with Priority 2]\n[StudentID:0315 is in Group B with Priority 3]\n[StudentID:0301 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n</code></pre>\n<p>However, the I only got the following output</p>\n<pre><code>[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n[StudentID:0350 is in Group B with Priority 3]\n</code></pre>\n<p>It just displayed the last input of the student.</p>\n<p>So how could I update it?</p>\n"},{"tags":["java","xuggle"],"comments":[{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":0,"creation_date":1681020979,"post_id":19523935,"comment_id":133990305,"body_markdown":"Same problem here after 10 years! Mac and Windows works, Raspbian not working. Project is compiled by maven","body":"Same problem here after 10 years! Mac and Windows works, Raspbian not working. Project is compiled by maven"}],"owner":{"account_id":987807,"reputation":85,"user_id":1005904,"display_name":"Andrei Baidoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681020958,"creation_date":1382461023,"question_id":19523935,"body_markdown":"I have a problem running Xuggler on linux:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    08:43:05.550 [main] WARN  com.xuggle.ferry.JNILibrary - Failure: library load of library: xuggle; url: /tmp/xuggle/xuggle2624685369771797713.tmp; error: java.lang.UnsatisfiedLinkError: /tmp/xuggle/xuggle2624685369771797713.tmp: /tmp/xuggle/xuggle2624685369771797713.tmp: failed to map segment from shared object: Operation not permitted\r\n    08:43:05.565 [main] ERROR com.xuggle.ferry.JNILibraryLoader - Could not load library: xuggle; version: 5; Visit http://www.xuggle.com/xuggler/faq/ to find common solutions to this problem\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no xuggle in java.library.path\r\n\r\nSame JAR works fine on Windows.\r\n\r\nI tried to include xuggler-5.4.jar, 5.2.jar, I also tried to make maven project and to compile with maven, the problem persists.\r\n\r\nHere is the CLASSPATH, so you can see I also included lately in the classpath the jar\r\n/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.25.x86_64//jre/lib/ext:/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.25.x86_64//lib/tools.jar:/home/baidoc/libs/xuggle-xuggler-5.4.jar\r\n","title":"Cannot run Xuggler on linux","body":"<p>I have a problem running Xuggler on linux:\n</p>\n\n<pre><code>08:43:05.550 [main] WARN  com.xuggle.ferry.JNILibrary - Failure: library load of library: xuggle; url: /tmp/xuggle/xuggle2624685369771797713.tmp; error: java.lang.UnsatisfiedLinkError: /tmp/xuggle/xuggle2624685369771797713.tmp: /tmp/xuggle/xuggle2624685369771797713.tmp: failed to map segment from shared object: Operation not permitted\n08:43:05.565 [main] ERROR com.xuggle.ferry.JNILibraryLoader - Could not load library: xuggle; version: 5; Visit http://www.xuggle.com/xuggler/faq/ to find common solutions to this problem\nException in thread \"main\" java.lang.UnsatisfiedLinkError: no xuggle in java.library.path\n</code></pre>\n\n<p>Same JAR works fine on Windows.</p>\n\n<p>I tried to include xuggler-5.4.jar, 5.2.jar, I also tried to make maven project and to compile with maven, the problem persists.</p>\n\n<p>Here is the CLASSPATH, so you can see I also included lately in the classpath the jar\n/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.25.x86_64//jre/lib/ext:/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.25.x86_64//lib/tools.jar:/home/baidoc/libs/xuggle-xuggler-5.4.jar</p>\n"},{"tags":["java","gerrit"],"owner":{"account_id":5318745,"reputation":721,"user_id":4242765,"accept_rate":30,"display_name":"Ram Kowsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681020492,"creation_date":1681020492,"question_id":75969023,"body_markdown":"I am implementing some automation framework on gerrit server\r\n\r\nI was trying to pull all the users using the below api\r\n\r\n`gerritApi.accounts().query()` // it is giving not implemented exception\r\n\r\n`gerritApi.accounts().suggestAccounts().get()` // it is giving static list of 100 users whereas the requirement is to fetch all the users in gerrit server\r\n\r\n\r\nIs there anyway to get all the users under Gerrit server\r\nI am even fine with that project level, meaning if fetching all the users which are working under project/group.\r\n\r\nFYI: I am using below gradle dependency \r\n\r\n    implementation &#39;com.urswolfer.gerrit.client.rest:gerrit-rest-java-client:0.9.5&#39;\r\n\r\n","title":"Access all accounts in which are in Gerrit server","body":"<p>I am implementing some automation framework on gerrit server</p>\n<p>I was trying to pull all the users using the below api</p>\n<p><code>gerritApi.accounts().query()</code> // it is giving not implemented exception</p>\n<p><code>gerritApi.accounts().suggestAccounts().get()</code> // it is giving static list of 100 users whereas the requirement is to fetch all the users in gerrit server</p>\n<p>Is there anyway to get all the users under Gerrit server\nI am even fine with that project level, meaning if fetching all the users which are working under project/group.</p>\n<p>FYI: I am using below gradle dependency</p>\n<pre><code>implementation 'com.urswolfer.gerrit.client.rest:gerrit-rest-java-client:0.9.5'\n</code></pre>\n"},{"tags":["java","java-8","comparator"],"answers":[{"tags":[],"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1423834863,"creation_date":1423834863,"answer_id":28500970,"question_id":28499846,"body_markdown":"Found a possible solution:\r\n\r\n    Comparator.comparing(ToSort::getSortBy, \r\n          Comparator.nullsFirst(Comparator.naturalOrder())\r\n    )","title":"null-safe mapping Comparator using default implementations","body":"<p>Found a possible solution:</p>\n\n<pre><code>Comparator.comparing(ToSort::getSortBy, \n      Comparator.nullsFirst(Comparator.naturalOrder())\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503853,"reputation":536,"user_id":3661748,"display_name":"cody.tv.weber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681018772,"creation_date":1680636567,"answer_id":75933143,"question_id":28499846,"body_markdown":"Snippet for streams:\r\n\r\n    somePersonList\r\n        .stream()\r\n        .sorted(\r\n            Comparator.comparing(SomePerson::getName,\r\n            Comparator.nullsLast(String::compareTo))\r\n        )\r\n        .collect(Collectors.toList())","title":"null-safe mapping Comparator using default implementations","body":"<p>Snippet for streams:</p>\n<pre><code>somePersonList\n    .stream()\n    .sorted(\n        Comparator.comparing(SomePerson::getName,\n        Comparator.nullsLast(String::compareTo))\n    )\n    .collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32800,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":28500970,"answer_count":2,"score":113,"last_activity_date":1681018772,"creation_date":1423831242,"question_id":28499846,"body_markdown":"Is there a build-in possibility to create a null-safe mapping comparator in Java 8 without writing a own implementation of `Comparator`?\r\n\r\nWhen running the following code, it causes a NPE because the `keyExtractor` argument of `Comparator.comparing()` may return a `null` value:\r\n\r\n    public class ToSort\r\n    {\r\n    \r\n        private String sortBy;\r\n    \r\n        public ToSort(String sortBy)\r\n        {\r\n            this.sortBy = sortBy;\r\n        }\r\n    \r\n        public String getSortBy()\r\n        {\r\n            return sortBy;\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            // mapping comparator\r\n            Comparator&lt;ToSort&gt; comp = Comparator.comparing(ToSort::getSortBy);                          \r\n            SortedSet&lt;ToSort&gt; set = new TreeSet&lt;&gt;(comp);\r\n            ToSort o1 = new ToSort(&quot;1&quot;);\r\n            ToSort o2 = new ToSort(null);\r\n            \r\n            set.add(o1);\r\n            \r\n            System.out.println(set.contains(o2)); //NPE because o2.getSortBy() == null\r\n            \r\n        }\r\n    }\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\r\n\tat java.util.Comparator$$Lambda$2/1480010240.compare(Unknown Source)\r\n\tat java.util.Comparators$NullComparator.compare(Comparators.java:83)\r\n\tat java.util.TreeMap.getEntryUsingComparator(TreeMap.java:376)\r\n\tat java.util.TreeMap.getEntry(TreeMap.java:345)\r\n\tat java.util.TreeMap.containsKey(TreeMap.java:232)\r\n\tat java.util.TreeSet.contains(TreeSet.java:234)\r\n\tat test.ToSort.main(ToSort.java:48)\r\n\r\nUsing \r\n\r\n    Comparator&lt;ToSort&gt; comp = Comparator.nullsFirst(Comparator.comparing(ToSort::getSortBy));\r\n\r\ndoes not work either as only `ToSort` objects that are `null` are treaded properly.\r\n\r\nI know how to write my own `Comparator` implementation, I`m just searching a more &quot;elegant&quot; solution like\r\n\r\n    Comparator.comparingNullsFirst(ToSort::getSortBy)","title":"null-safe mapping Comparator using default implementations","body":"<p>Is there a build-in possibility to create a null-safe mapping comparator in Java 8 without writing a own implementation of <code>Comparator</code>?</p>\n\n<p>When running the following code, it causes a NPE because the <code>keyExtractor</code> argument of <code>Comparator.comparing()</code> may return a <code>null</code> value:</p>\n\n<pre><code>public class ToSort\n{\n\n    private String sortBy;\n\n    public ToSort(String sortBy)\n    {\n        this.sortBy = sortBy;\n    }\n\n    public String getSortBy()\n    {\n        return sortBy;\n    }\n\n    public static void main(String[] args)\n    {\n        // mapping comparator\n        Comparator&lt;ToSort&gt; comp = Comparator.comparing(ToSort::getSortBy);                          \n        SortedSet&lt;ToSort&gt; set = new TreeSet&lt;&gt;(comp);\n        ToSort o1 = new ToSort(\"1\");\n        ToSort o2 = new ToSort(null);\n\n        set.add(o1);\n\n        System.out.println(set.contains(o2)); //NPE because o2.getSortBy() == null\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException\n      at java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:469)\n      at java.util.Comparator$$Lambda$2/1480010240.compare(Unknown Source)\n      at java.util.Comparators$NullComparator.compare(Comparators.java:83)\n      at java.util.TreeMap.getEntryUsingComparator(TreeMap.java:376)\n      at java.util.TreeMap.getEntry(TreeMap.java:345)\n      at java.util.TreeMap.containsKey(TreeMap.java:232)\n      at java.util.TreeSet.contains(TreeSet.java:234)\n      at test.ToSort.main(ToSort.java:48)</p>\n</blockquote>\n\n<p>Using </p>\n\n<pre><code>Comparator&lt;ToSort&gt; comp = Comparator.nullsFirst(Comparator.comparing(ToSort::getSortBy));\n</code></pre>\n\n<p>does not work either as only <code>ToSort</code> objects that are <code>null</code> are treaded properly.</p>\n\n<p>I know how to write my own <code>Comparator</code> implementation, I`m just searching a more \"elegant\" solution like</p>\n\n<pre><code>Comparator.comparingNullsFirst(ToSort::getSortBy)\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680762481,"creation_date":1680505190,"answer_id":75916764,"question_id":75916545,"body_markdown":"I could not see any  gradle version 7.6 in distribution.&lt;br&gt;\r\n[gradle distribution snapshot][1]&lt;br&gt;\r\nCan you change \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\r\n&lt;br/&gt;\r\n\r\n    dependencies {\r\n            classpath (&#39;com.android.tools.build:gradle:7.4.2&#39;)\r\n        }\r\n\r\nPlease add this in your build.gradle\r\nMake sure distribution gradle url is 7.6.1 and in dependancies its like 7.4.2\r\n&lt;br&gt;\r\n[![Graddlewrapper][2]][2]\r\n&lt;br/&gt;\r\n[![Build.gradle][3]][3]\r\n\r\n\r\n  [1]: https://services.gradle.org/distributions-snapshots/\r\n  [2]: https://i.stack.imgur.com/6e72Z.png\r\n  [3]: https://i.stack.imgur.com/YJzQT.png","title":"Could not find com.android.tools.build:gradle:7.6","body":"<p>I could not see any  gradle version 7.6 in distribution.<br>\n<a href=\"https://services.gradle.org/distributions-snapshots/\" rel=\"nofollow noreferrer\">gradle distribution snapshot</a><br>\nCan you change</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\n</code></pre>\n<br/>\n<pre><code>dependencies {\n        classpath ('com.android.tools.build:gradle:7.4.2')\n    }\n</code></pre>\n<p>Please add this in your build.gradle\nMake sure distribution gradle url is 7.6.1 and in dependancies its like 7.4.2\n<br>\n<a href=\"https://i.stack.imgur.com/6e72Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6e72Z.png\" alt=\"Graddlewrapper\" /></a>\n<br/>\n<a href=\"https://i.stack.imgur.com/YJzQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJzQT.png\" alt=\"Build.gradle\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681018345,"creation_date":1680503104,"question_id":75916545,"body_markdown":"I have an error that I don&#39;t understand and I don&#39;t know how to solve it, altough having tried a lot. The error is:\r\n\r\n    Could not find com.android.tools.build:gradle:7.6.\r\n    Searched in the following locations:\r\n      - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.6/gradle-7.6.pom\r\n      - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.6/gradle-7.6.pom\r\n    Required by:\r\n        project :\r\n    Add google Maven repository and sync project\r\n    Open File\r\n\r\nSo something is wrong with my Java edition or the connection to the build.grandle file. I have Java JDK 19. Here is the code of the build.gradle file\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            def nav_version = &quot;2.3.0&quot;\r\n            classpath &#39;com.android.tools.build:gradle:7.6&#39;\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven {\r\n                url &#39;https://dl.google.com/android/maven2&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAnd here is the gradle.wrapper-properties\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\nAccording to this website https://docs.gradle.org/current/userguide/compatibility.html, Java 19 is compatible with gradle-7.6. So I dont understand why I still get the error.\r\n\r\n**Update**: I tried what is suggested but still get an error message. Here are my files\r\n\r\nbuild.gradle (DrinkServer):\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            def nav_version = &quot;2.3.0&quot;\r\n            classpath (&quot;com.android.tools.build:gradle:7.4.2&quot;)\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven {\r\n                url &#39;https://dl.google.com/android/maven2&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nbuild.gradle (app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    apply plugin: &quot;androidx.navigation.safeargs&quot;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.drinkserver&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;1.1&quot;\r\n            resConfigs &quot;en&quot;, &quot;de&quot;\r\n            viewBinding {\r\n                enabled = true\r\n            }\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.navigation:navigation-runtime:2.3.5&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        def nav_version = &quot;2.3.0&quot;\r\n        implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        testImplementation &#39;org.robolectric:robolectric:3.0&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n        androidTestImplementation &#39;android.arch.core:core-testing:1.2.1&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &quot;androidx.recyclerview:recyclerview:1.1.0&quot;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n        implementation &#39;com.intuit.ssp:ssp-android:1.0.6&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n        implementation &#39;com.google.firebase:firebase-database&#39;\r\n    \r\n    \r\n    }\r\n\r\n    gradle-wrapper. properties:\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\nI get the error message &quot;The Android Gradle plugin supports only Kotlin Gradle plugin version 1.5.20 and higher.\r\nThe following dependencies do not satisfy the required version:\r\nroot project &#39;DrinkServer&#39; -&gt; androidx.navigation:navigation-safe-args-gradle-plugin:2.3.0 -&gt; org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20\r\n&quot; \r\n\r\nThis is kind of strange as I don&#39;t use Kotlin at all (only Java)\r\n\r\n**Reminder**: As I still have this problem (altough having spent quite some time on it) I would like to remind you on this question. Does anyone have a suggestion as to why this is happening and how to solve this issue? I&#39;ll appreciate every comment.\r\n","title":"Could not find com.android.tools.build:gradle:7.6","body":"<p>I have an error that I don't understand and I don't know how to solve it, altough having tried a lot. The error is:</p>\n<pre><code>Could not find com.android.tools.build:gradle:7.6.\nSearched in the following locations:\n  - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.6/gradle-7.6.pom\n  - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.6/gradle-7.6.pom\nRequired by:\n    project :\nAdd google Maven repository and sync project\nOpen File\n</code></pre>\n<p>So something is wrong with my Java edition or the connection to the build.grandle file. I have Java JDK 19. Here is the code of the build.gradle file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        def nav_version = &quot;2.3.0&quot;\n        classpath 'com.android.tools.build:gradle:7.6'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://dl.google.com/android/maven2'\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And here is the gradle.wrapper-properties</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>According to this website <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a>, Java 19 is compatible with gradle-7.6. So I dont understand why I still get the error.</p>\n<p><strong>Update</strong>: I tried what is suggested but still get an error message. Here are my files</p>\n<p>build.gradle (DrinkServer):</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        def nav_version = &quot;2.3.0&quot;\n        classpath (&quot;com.android.tools.build:gradle:7.4.2&quot;)\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://dl.google.com/android/maven2'\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle (app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\napply plugin: &quot;androidx.navigation.safeargs&quot;\napply plugin: 'com.google.gms.google-services'\n\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\n\n    defaultConfig {\n        applicationId &quot;com.example.drinkserver&quot;\n        minSdkVersion 21\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.1&quot;\n        resConfigs &quot;en&quot;, &quot;de&quot;\n        viewBinding {\n            enabled = true\n        }\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.navigation:navigation-runtime:2.3.5'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    def nav_version = &quot;2.3.0&quot;\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    testImplementation 'org.robolectric:robolectric:3.0'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'android.arch.core:core-testing:1.2.1'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation &quot;androidx.recyclerview:recyclerview:1.1.0&quot;\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n    implementation platform('com.google.firebase:firebase-bom:29.0.3')\n    implementation 'com.google.firebase:firebase-database'\n\n\n}\n\ngradle-wrapper. properties:\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>I get the error message &quot;The Android Gradle plugin supports only Kotlin Gradle plugin version 1.5.20 and higher.\nThe following dependencies do not satisfy the required version:\nroot project 'DrinkServer' -&gt; androidx.navigation:navigation-safe-args-gradle-plugin:2.3.0 -&gt; org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20\n&quot;</p>\n<p>This is kind of strange as I don't use Kotlin at all (only Java)</p>\n<p><strong>Reminder</strong>: As I still have this problem (altough having spent quite some time on it) I would like to remind you on this question. Does anyone have a suggestion as to why this is happening and how to solve this issue? I'll appreciate every comment.</p>\n"},{"tags":["java","exception","try-catch","throwable"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1681018714,"post_id":75968919,"comment_id":133990115,"body_markdown":"I don’t know what you mean by “reduce the severity of throwable”.   When a throwable (typically an Exception) is thrown, execution jumps immediately to the applicable `catch` or `finally`;  there is no changing that to make it “less severe”.","body":"I don’t know what you mean by “reduce the severity of throwable”.   When a throwable (typically an Exception) is thrown, execution jumps immediately to the applicable <code>catch</code> or <code>finally</code>;  there is no changing that to make it “less severe”."},{"owner":{"account_id":25667013,"reputation":48,"user_id":19431798,"display_name":"Trriger"},"score":0,"creation_date":1681018944,"post_id":75968919,"comment_id":133990135,"body_markdown":"but if there were no catch or finally an exception is as severe as an error, does that change if its a throwable instead, and if not how is a throwable different than an exception. thanks for the comment... @racraman","body":"but if there were no catch or finally an exception is as severe as an error, does that change if its a throwable instead, and if not how is a throwable different than an exception. thanks for the comment... @racraman"},{"owner":{"account_id":25667013,"reputation":48,"user_id":19431798,"display_name":"Trriger"},"score":0,"creation_date":1681021571,"post_id":75968919,"comment_id":133990342,"body_markdown":"actually that was a part of what stemmed my doubt. let me rephrase my question in this context, so errors and exceptions are broad classification of throwables. But since i&#39;m not aware of any break commands in java to break a block of code and not a loop i could do that using throwables. but while writing this comment i realized... catching throwables makes us lose errors, so shall i make another question or you help me-\n Can i make a throwable extension with some difference like errors and exception have just in the spirit of knowledge, cuz i have no real use case right now?? thanks a lot","body":"actually that was a part of what stemmed my doubt. let me rephrase my question in this context, so errors and exceptions are broad classification of throwables. But since i&#39;m not aware of any break commands in java to break a block of code and not a loop i could do that using throwables. but while writing this comment i realized... catching throwables makes us lose errors, so shall i make another question or you help me-  Can i make a throwable extension with some difference like errors and exception have just in the spirit of knowledge, cuz i have no real use case right now?? thanks a lot"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1681021586,"post_id":75968919,"comment_id":133990344,"body_markdown":"`Error` and `Exception` both extend from ` Throwable `.  The difference is basically intent - `Error` is typically thrown by the system, and should be taken as always being fatal - don’t try to catch it or carry on afterwards.  At most, all you would do is log it (in some top-level catch) before allowing the application to die.  `Exception ` denotes an error in the application - typically recoverable after a `catch`.  In short, as a programmer (and especially a beginner) don’t worry about `Error`, you will overwhelmingly be using `Exception`.","body":"<code>Error</code> and <code>Exception</code> both extend from ` Throwable <code>.  The difference is basically intent - </code>Error` is typically thrown by the system, and should be taken as always being fatal - don’t try to catch it or carry on afterwards.  At most, all you would do is log it (in some top-level catch) before allowing the application to die.  <code>Exception </code> denotes an error in the application - typically recoverable after a <code>catch</code>.  In short, as a programmer (and especially a beginner) don’t worry about <code>Error</code>, you will overwhelmingly be using <code>Exception</code>."}],"owner":{"account_id":25667013,"reputation":48,"user_id":19431798,"display_name":"Trriger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681021618,"answer_count":0,"score":1,"last_activity_date":1681017897,"creation_date":1681017897,"question_id":75968919,"body_markdown":"Exceptions are extensions of throwables and throwables are defined as implementing serializers in the java packages so can we create throwables in and use try catch and reduce the severity of throwable as exceptions are more threatening. will this allow my code to run smoothly when the throwable is not handled but some communication shall be created between try block code and catch or finally block code.\r\n\r\nsorry i do not have any code to share! it&#39;s a theoritical doubt as i&#39;m still a beginner learning java.","title":"In java we use try catch with exceptions in the try block. can we use this for throwables or can we create even throwables as implements serializers?","body":"<p>Exceptions are extensions of throwables and throwables are defined as implementing serializers in the java packages so can we create throwables in and use try catch and reduce the severity of throwable as exceptions are more threatening. will this allow my code to run smoothly when the throwable is not handled but some communication shall be created between try block code and catch or finally block code.</p>\n<p>sorry i do not have any code to share! it's a theoritical doubt as i'm still a beginner learning java.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681017855,"creation_date":1681017855,"answer_id":75968915,"question_id":75967598,"body_markdown":"I think the idea is not to provide a drawable! But something that acts as a drawable and also knows about the checked and unchecked versions. For that you can use the `StateListDrawable`.\r\n\r\nBasically, you define the different states for your drawable; you can give it the different drawable with the corresponding states, like the following:\r\n\r\n```kotlin\r\n\r\nval uncheckedDrawable = // create your drawable for the unchecked version\r\nval checkedDrawable = // create your drawable for the checked\r\n\r\nval stateListDrawable = StateListDrawable()\r\nstateListDrawable.addState(intArrayOf(android.R.attr.state_checked), checkedDrawable)\r\nstateListDrawable.addState(intArrayOf(-android.R.attr.state_checked), uncheckedDrawable)\r\n```\r\n\r\nAnd you can use the new `stateListDrawable` with the code you shared like the following:\r\n\r\n```kotlin\r\nbottomNavigationView.menu.findItem(R.id.tab1).setIcon(stateListDrawable);\r\n```\r\n\r\nI hope this helps &#128161;!","title":"Programmatically set the un-checked drawable in BottomNavigationView","body":"<p>I think the idea is not to provide a drawable! But something that acts as a drawable and also knows about the checked and unchecked versions. For that you can use the <code>StateListDrawable</code>.</p>\n<p>Basically, you define the different states for your drawable; you can give it the different drawable with the corresponding states, like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nval uncheckedDrawable = // create your drawable for the unchecked version\nval checkedDrawable = // create your drawable for the checked\n\nval stateListDrawable = StateListDrawable()\nstateListDrawable.addState(intArrayOf(android.R.attr.state_checked), checkedDrawable)\nstateListDrawable.addState(intArrayOf(-android.R.attr.state_checked), uncheckedDrawable)\n</code></pre>\n<p>And you can use the new <code>stateListDrawable</code> with the code you shared like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>bottomNavigationView.menu.findItem(R.id.tab1).setIcon(stateListDrawable);\n</code></pre>\n<p>I hope this helps 💡!</p>\n"}],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681017855,"creation_date":1680986734,"question_id":75967598,"body_markdown":"Is there a way to programmatically set an un-checked drawable in a BottomNavigationView?\r\n\r\nIt is possible to set the checked drawable of a tab like this:\r\n\r\n`BottomNavigationView.getMenu().findItem(R.id.tab1).setIcon(drawable);`\r\n\r\nbut I can&#39;t find how to set the un-checked version of this tab.","title":"Programmatically set the un-checked drawable in BottomNavigationView","body":"<p>Is there a way to programmatically set an un-checked drawable in a BottomNavigationView?</p>\n<p>It is possible to set the checked drawable of a tab like this:</p>\n<p><code>BottomNavigationView.getMenu().findItem(R.id.tab1).setIcon(drawable);</code></p>\n<p>but I can't find how to set the un-checked version of this tab.</p>\n"},{"tags":["java","recursion","multidimensional-array","quadtree"],"owner":{"account_id":22663357,"reputation":1,"user_id":16836113,"display_name":"Mauthoor Motasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681017739,"creation_date":1681017739,"question_id":75968908,"body_markdown":"I&#39;m trying to create a game that uses a quad tree.[Block game](https://i.stack.imgur.com/ItE0X.jpg). As shown in the picture, the blocks are elements of the tree and they can have either 0 or 4 children. The biggest block is at level 0 and its children is at level 1 and so on. For every game, there is a maxLevel at which you cannot subdivide the block any further. Let&#39;s call the blocks that cannot be divided *unit cells*. Only the leaves have colors while non-leaf elements have color equal to *null*.\r\n\r\nFurthermore, the children of a block is stored in an array in this order [upperRight,upperLeft,lowerLeft,lowerRight]. My goal is to flatten the tree to a 2D array of colors (arr[i] represents the row and arr[i][j] represents the color of that *unit cell* at the corresponding position on the board). For example, the element at arr[0][0] should have the color of the *unit cell* at the upper left corner of the biggest block. \r\n\r\n\r\n\r\n\r\nHere&#39;s what I got so far:\r\n\r\n```\r\n    private Color[][] flatten(Color[][] arr) {\r\n  //base case\r\n   if(this.children.length != 0 &amp;&amp; this.level == maxDepth - 1) {\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n     for (int j = 0; j &lt; arr.length; j++) {\r\n\r\n      //I don&#39;t know which indices to use. I tried doing some calculations to convert the           coordinates into indices but I coudn&#39;t do it.\r\n      arr[?][?] = this.children[j].color;\r\n\r\n     }\r\n    }\r\n   }\r\n\r\n  //if the current block doesn&#39;t have children and it is at maxLevel-1\r\n\r\n   else if(this.children.length==0 &amp;&amp; this.level == maxDepth - 1){\r\n    for(int i = 0; i &lt; arr.length ; i++){\r\n     for(int j = 0; j &lt; arr.length; j++){\r\n\r\n    //same indices problem here\r\n      arr[?][?] = this.color;\r\n\r\n     }\r\n    }\r\n   }\r\n  //recursive step\r\n  //I&#39;m doing the recursive call in the order 1,0,2,3 because of the way the children are ordered\r\n   else if(this.children.length != 0 &amp;&amp; this.level != maxDepth - 1){\r\n    this.children[1].flatten(arr);\r\n    this.children[0].flatten(arr);\r\n    this.children[2].flatten(arr);\r\n    this.children[3].flatten(arr);\r\n   }\r\n\r\n  return arr;\r\n}\r\n```","title":"Flattening a quad tree to a 2D array","body":"<p>I'm trying to create a game that uses a quad tree.<a href=\"https://i.stack.imgur.com/ItE0X.jpg\" rel=\"nofollow noreferrer\">Block game</a>. As shown in the picture, the blocks are elements of the tree and they can have either 0 or 4 children. The biggest block is at level 0 and its children is at level 1 and so on. For every game, there is a maxLevel at which you cannot subdivide the block any further. Let's call the blocks that cannot be divided <em>unit cells</em>. Only the leaves have colors while non-leaf elements have color equal to <em>null</em>.</p>\n<p>Furthermore, the children of a block is stored in an array in this order [upperRight,upperLeft,lowerLeft,lowerRight]. My goal is to flatten the tree to a 2D array of colors (arr[i] represents the row and arr[i][j] represents the color of that <em>unit cell</em> at the corresponding position on the board). For example, the element at arr[0][0] should have the color of the <em>unit cell</em> at the upper left corner of the biggest block.</p>\n<p>Here's what I got so far:</p>\n<pre><code>    private Color[][] flatten(Color[][] arr) {\n  //base case\n   if(this.children.length != 0 &amp;&amp; this.level == maxDepth - 1) {\n    for (int i = 0; i &lt; arr.length; i++) {\n     for (int j = 0; j &lt; arr.length; j++) {\n\n      //I don't know which indices to use. I tried doing some calculations to convert the           coordinates into indices but I coudn't do it.\n      arr[?][?] = this.children[j].color;\n\n     }\n    }\n   }\n\n  //if the current block doesn't have children and it is at maxLevel-1\n\n   else if(this.children.length==0 &amp;&amp; this.level == maxDepth - 1){\n    for(int i = 0; i &lt; arr.length ; i++){\n     for(int j = 0; j &lt; arr.length; j++){\n\n    //same indices problem here\n      arr[?][?] = this.color;\n\n     }\n    }\n   }\n  //recursive step\n  //I'm doing the recursive call in the order 1,0,2,3 because of the way the children are ordered\n   else if(this.children.length != 0 &amp;&amp; this.level != maxDepth - 1){\n    this.children[1].flatten(arr);\n    this.children[0].flatten(arr);\n    this.children[2].flatten(arr);\n    this.children[3].flatten(arr);\n   }\n\n  return arr;\n}\n</code></pre>\n"},{"tags":["java","kotlin","class","methods","interface"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681016368,"creation_date":1681016043,"answer_id":75968831,"question_id":75968665,"body_markdown":"`bal` is an instance of [`Class&lt;Host&gt;`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html), not an instance of `Host`. `Class` is a class that contains information about the definition of a class or interface, and does not represent an instance of that class or interface. It is typically used for [reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html). No class implementation of your interface has been created in your code. ","title":"How interface::class.java works for umimplemented methods in that interface","body":"<p><code>bal</code> is an instance of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class&lt;Host&gt;</code></a>, not an instance of <code>Host</code>. <code>Class</code> is a class that contains information about the definition of a class or interface, and does not represent an instance of that class or interface. It is typically used for <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">reflection</a>. No class implementation of your interface has been created in your code.</p>\n"}],"owner":{"account_id":23857726,"reputation":25,"user_id":17861057,"display_name":"HariKrishnan V K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75968831,"answer_count":1,"score":0,"last_activity_date":1681016368,"creation_date":1681011532,"question_id":75968665,"body_markdown":"```\r\nfun main(){\r\n    val bal = Host::class.java\r\n}\r\n\r\ninterface Host{\r\n    fun void()\r\n}\r\n```\r\nI have created simple code here,\r\nOne Interface that was instantiated here with a class like Host::class.java. I see bal take the type as Class&lt;Host&gt;. Its creating a class from interface thats ok but how it can create class from interface without the methods that need to be implemented as a contract between interface.\r\nAlso when i call bal. i couldn&#39;t find void() method from bal instance.\r\n\r\n\r\nWhat is the reason it differs from normal implementation of interface in a class? I&#39;m really for any kind of answers :)","title":"How interface::class.java works for umimplemented methods in that interface","body":"<pre><code>fun main(){\n    val bal = Host::class.java\n}\n\ninterface Host{\n    fun void()\n}\n</code></pre>\n<p>I have created simple code here,\nOne Interface that was instantiated here with a class like Host::class.java. I see bal take the type as Class. Its creating a class from interface thats ok but how it can create class from interface without the methods that need to be implemented as a contract between interface.\nAlso when i call bal. i couldn't find void() method from bal instance.</p>\n<p>What is the reason it differs from normal implementation of interface in a class? I'm really for any kind of answers :)</p>\n"},{"tags":["java","serialization","reflection","type-conversion","deserialization"],"answers":[{"tags":[],"owner":{"account_id":24733817,"reputation":56,"user_id":18621464,"display_name":"Kamii0909"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680923535,"creation_date":1680923146,"answer_id":75963118,"question_id":75963002,"body_markdown":"You are kinda reinventing the wheel. \r\n\r\nFor your question first, you need to know which `User` class you want to deserialize. Your stringified form should look somewhat like this: \r\n```\r\nmy.package.name.User(java.lang.String, int)\r\nmy.package.name.User: variables...\r\n```\r\n\r\nOtherwise, how would you know is it `my.package.User` or `my.package.name.User`? Of course, you could write a custom adapter for this &quot;figuring out&quot; phase to get the full class name but I guess you shouldn&#39;t.\r\n\r\n```java\r\n// You can directly parse the parameter classes, technically you don&#39;t need it\r\n// at method parameter. You can include it if you feel like it&#39;s easier to work\r\n// with predefined values.\r\npublic Object toObject(String string) throws Exception {\r\n  // get your full class name here first\r\n  // parse it first or whatever \r\n  String className = getConstructorClass(params1);\r\n  String[] parameterClassName = getConstructorParameterClassNames(params2);\r\n  String[] parameterStringifiedValue = getParameterValues(params3);\r\n  \r\n  Class&lt;?&gt; clz = Class.forName(className);\r\n  @SurpressWarning(&quot;unchecked&quot;) // List&lt;Class&lt;?&gt;&gt; is the same anyway\r\n  Class[] parameterClasses = // repeat Class.forName()...\r\n  Object[] parameters = // An example, for(int i=...\r\n  // parameterClasses[i]\r\n  //  .getDeclaredConstructor(String.class)\r\n  //  .newInstance(parameterStringifiedValue[i]);\r\n  return clz\r\n    .getDeclaredConstructor(constructorParamClasses)\r\n    .newInstance(parameters);\r\n\r\n}\r\n```\r\n\r\nThis whole parsing is so painful ngl. You probably want to use Java built-in serialization support or parse from a well-supported format (xml, json...) and let libraries do all the intricacies.\r\n\r\nYou can use generic for as a more type-safe approach, but requires more knowledge from calling context.\r\n```java\r\npublic &lt;T&gt; T toObject(Class&lt;T&gt; objectType, String string) {\r\n  return objectType.getDeclaredConstructor(...).newInstance(...);\r\n}\r\n```","title":"Converting a String into a Constructor to make a new Object","body":"<p>You are kinda reinventing the wheel.</p>\n<p>For your question first, you need to know which <code>User</code> class you want to deserialize. Your stringified form should look somewhat like this:</p>\n<pre><code>my.package.name.User(java.lang.String, int)\nmy.package.name.User: variables...\n</code></pre>\n<p>Otherwise, how would you know is it <code>my.package.User</code> or <code>my.package.name.User</code>? Of course, you could write a custom adapter for this &quot;figuring out&quot; phase to get the full class name but I guess you shouldn't.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can directly parse the parameter classes, technically you don't need it\n// at method parameter. You can include it if you feel like it's easier to work\n// with predefined values.\npublic Object toObject(String string) throws Exception {\n  // get your full class name here first\n  // parse it first or whatever \n  String className = getConstructorClass(params1);\n  String[] parameterClassName = getConstructorParameterClassNames(params2);\n  String[] parameterStringifiedValue = getParameterValues(params3);\n  \n  Class&lt;?&gt; clz = Class.forName(className);\n  @SurpressWarning(&quot;unchecked&quot;) // List&lt;Class&lt;?&gt;&gt; is the same anyway\n  Class[] parameterClasses = // repeat Class.forName()...\n  Object[] parameters = // An example, for(int i=...\n  // parameterClasses[i]\n  //  .getDeclaredConstructor(String.class)\n  //  .newInstance(parameterStringifiedValue[i]);\n  return clz\n    .getDeclaredConstructor(constructorParamClasses)\n    .newInstance(parameters);\n\n}\n</code></pre>\n<p>This whole parsing is so painful ngl. You probably want to use Java built-in serialization support or parse from a well-supported format (xml, json...) and let libraries do all the intricacies.</p>\n<p>You can use generic for as a more type-safe approach, but requires more knowledge from calling context.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T toObject(Class&lt;T&gt; objectType, String string) {\n  return objectType.getDeclaredConstructor(...).newInstance(...);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680962978,"creation_date":1680925306,"answer_id":75963192,"question_id":75963002,"body_markdown":"You are *definitely* reinventing the wheel\r\n\r\n  - Java Object Serialization already does this, albeit that the serialization format is binary (and opaque).\r\n\r\n  - Various JSON (or XML) &lt;-&gt; POJO binding mechanisms already do this, albeit that the serialization format can be verbose.\r\n\r\n(Now there are limits to what these schemes can do.  For example, they cannot serialize a `Thread` or a `Socket`.  But neither can your proposal ... for the same reasons.   These classes have state that simply cannot be captured in a serialization.)\r\n\r\nBut if you really want to invent the wheel, you can do it. \r\n\r\n  - As noted, you can use reflection to access and call a public or private constructor on a non-abstract type.   \r\n\r\n  - There is also an &quot;under the hood&quot; `Unsafe` mechanism that JOS uses to create objects without invoking any constructor.  Combine this with `Unsafe` methods for assigning values to fields.\r\n\r\nHowever, your approach implicitly assumes that the `toString` method returns a string that can be used later to reconstruct the object.  This is not true, in general.  \r\n\r\n  - The default implementation returns a string consisting of the object&#39;s class name and its identity hashcode.  (An example of the types affected by this is any array type.)  You can&#39;t reconstruct an object from that.\r\n  - And even for cases where the `toString` result *does* include the information needed for deserialization, the string format is rarely standardized.  (The `Collection` APIs are the exception ...)\r\n\r\nIn short, `toString` is not the answer.","title":"Converting a String into a Constructor to make a new Object","body":"<p>You are <em>definitely</em> reinventing the wheel</p>\n<ul>\n<li><p>Java Object Serialization already does this, albeit that the serialization format is binary (and opaque).</p>\n</li>\n<li><p>Various JSON (or XML) &lt;-&gt; POJO binding mechanisms already do this, albeit that the serialization format can be verbose.</p>\n</li>\n</ul>\n<p>(Now there are limits to what these schemes can do.  For example, they cannot serialize a <code>Thread</code> or a <code>Socket</code>.  But neither can your proposal ... for the same reasons.   These classes have state that simply cannot be captured in a serialization.)</p>\n<p>But if you really want to invent the wheel, you can do it.</p>\n<ul>\n<li><p>As noted, you can use reflection to access and call a public or private constructor on a non-abstract type.</p>\n</li>\n<li><p>There is also an &quot;under the hood&quot; <code>Unsafe</code> mechanism that JOS uses to create objects without invoking any constructor.  Combine this with <code>Unsafe</code> methods for assigning values to fields.</p>\n</li>\n</ul>\n<p>However, your approach implicitly assumes that the <code>toString</code> method returns a string that can be used later to reconstruct the object.  This is not true, in general.</p>\n<ul>\n<li>The default implementation returns a string consisting of the object's class name and its identity hashcode.  (An example of the types affected by this is any array type.)  You can't reconstruct an object from that.</li>\n<li>And even for cases where the <code>toString</code> result <em>does</em> include the information needed for deserialization, the string format is rarely standardized.  (The <code>Collection</code> APIs are the exception ...)</li>\n</ul>\n<p>In short, <code>toString</code> is not the answer.</p>\n"}],"owner":{"account_id":28170386,"reputation":3,"user_id":21529049,"display_name":"Alexandrite2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963192,"answer_count":2,"score":0,"last_activity_date":1681014342,"creation_date":1680920050,"question_id":75963002,"body_markdown":"```\r\n@NotNull\r\npublic static String toString(@NotNull Object object, @NotNull Object[] variables, Class&lt;?&gt;... parameters) throws NoSuchMethodException {\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(object.getClass().getConstructor(parameters)).append(&#39;\\n&#39;);\r\n    sb.append(object.getClass()).append(&quot;:&quot;);\r\n    for (Object variable : variables){\r\n        sb.append(&quot; | &quot;).append(variable.toString());\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n\r\nA brief explanation of the code, the toString() method uses an object, the variables of the constructor that the user wants to save, and the parameters of a constructor. This method would form the parameters in a way like this:\r\n\r\n```\r\npublic User(java.lang.String,int)\r\nclass User: | username | 369172\r\n```\r\n\r\nI want to use this String format to convert the above into a new instance of the Object that was taken in using the method below:\r\n\r\n```\r\npublic static Object toObject(@NotNull String formattedObject, @NotNull Object object, Class&lt;?&gt;... parameters){\r\n    // The code I need to figure out.\r\n}\r\n```\r\n\r\nI want to figure out: how to get all the variables cast into a form where I could use them to make a new instance of the object if I didn&#39;t know how many variables/parameters there are, how to use the method in the event the constructor of the Object is private, and if one of the parameters is an Object that prints out the default Object toString() method. How could I do this?\r\n\r\nEDIT: I want to avoid using the Serialization interface","title":"Converting a String into a Constructor to make a new Object","body":"<pre><code>@NotNull\npublic static String toString(@NotNull Object object, @NotNull Object[] variables, Class&lt;?&gt;... parameters) throws NoSuchMethodException {\n    StringBuilder sb = new StringBuilder();\n    sb.append(object.getClass().getConstructor(parameters)).append('\\n');\n    sb.append(object.getClass()).append(&quot;:&quot;);\n    for (Object variable : variables){\n        sb.append(&quot; | &quot;).append(variable.toString());\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>A brief explanation of the code, the toString() method uses an object, the variables of the constructor that the user wants to save, and the parameters of a constructor. This method would form the parameters in a way like this:</p>\n<pre><code>public User(java.lang.String,int)\nclass User: | username | 369172\n</code></pre>\n<p>I want to use this String format to convert the above into a new instance of the Object that was taken in using the method below:</p>\n<pre><code>public static Object toObject(@NotNull String formattedObject, @NotNull Object object, Class&lt;?&gt;... parameters){\n    // The code I need to figure out.\n}\n</code></pre>\n<p>I want to figure out: how to get all the variables cast into a form where I could use them to make a new instance of the object if I didn't know how many variables/parameters there are, how to use the method in the event the constructor of the Object is private, and if one of the parameters is an Object that prints out the default Object toString() method. How could I do this?</p>\n<p>EDIT: I want to avoid using the Serialization interface</p>\n"},{"tags":["java","spring","spring-mvc","parameters","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1389346193,"creation_date":1389345858,"answer_id":21040382,"question_id":21040198,"body_markdown":"Use JSR-303 annotations to validate the object (and don&#39;t use primitives but the Object representations in that case).\r\n\r\n    public class MyObject {\r\n        @NotNull\r\n        private Integer param1;\r\n\r\n        @NotNull\r\n        private Integer param2;\r\n\r\n        // Getters / Setters\r\n\r\n    }\r\n\r\nController method.\r\n\r\n    @RequestMapping(value = &quot;/method&quot;)\r\n    public void method(@Valid MyObject obj) { /*...*/ }\r\n\r\nIf you don&#39;t have a JSR-303 provider (hibernate-validator for instance) on your classpath create a `Validator` and use this to validate your object.\r\n\r\nLinks.\r\n\r\n1. Spring MVC [reference guide][1]\r\n2. Spring Validation [reference guide][2]\r\n\r\n[1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html\r\n[2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html","title":"How to ensure mandatory parameters are passed into a Spring MVC controller method?","body":"<p>Use JSR-303 annotations to validate the object (and don't use primitives but the Object representations in that case).</p>\n\n<pre><code>public class MyObject {\n    @NotNull\n    private Integer param1;\n\n    @NotNull\n    private Integer param2;\n\n    // Getters / Setters\n\n}\n</code></pre>\n\n<p>Controller method.</p>\n\n<pre><code>@RequestMapping(value = \"/method\")\npublic void method(@Valid MyObject obj) { /*...*/ }\n</code></pre>\n\n<p>If you don't have a JSR-303 provider (hibernate-validator for instance) on your classpath create a <code>Validator</code> and use this to validate your object.</p>\n\n<p>Links.</p>\n\n<ol>\n<li>Spring MVC <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html\" rel=\"nofollow\">reference guide</a></li>\n<li>Spring Validation <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html\" rel=\"nofollow\">reference guide</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3623564,"reputation":272,"user_id":3021768,"display_name":"Afshar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389346957,"creation_date":1389346530,"answer_id":21040631,"question_id":21040198,"body_markdown":"You can try @ModelAttribute and method=RequestMethod.POST:\r\nIn your controller:\r\n\r\n    //...\r\n    @RequestMapping(value=&quot;/method&quot;, method=RequestMethod.POST)\r\n    public String add(@ModelAttribute(&quot;modelName&quot;) ModelClass form)\r\n    {\r\n       //.. your code\r\n    }\r\n    \r\n    //..\r\n\r\nIn your JSP:\r\n\r\n    &lt;%@ taglib uri=&quot;http://www.springframework.org/tags/form&quot; prefix=&quot;f&quot; %&gt;\r\n    \r\n    //.. some code \r\n    \r\n    &lt;f:form action=&quot;method&quot; method=&quot;post&quot; modelAttribute=&quot;modelName&quot;&gt;\r\n    \r\n    &lt;/f:form&gt;\r\n\r\n If you are restricted to GET requests only, you might not be able to use a separate ModelClass. You need to resort to request parameters in that case. ","title":"How to ensure mandatory parameters are passed into a Spring MVC controller method?","body":"<p>You can try @ModelAttribute and method=RequestMethod.POST:\nIn your controller:</p>\n\n<pre><code>//...\n@RequestMapping(value=\"/method\", method=RequestMethod.POST)\npublic String add(@ModelAttribute(\"modelName\") ModelClass form)\n{\n   //.. your code\n}\n\n//..\n</code></pre>\n\n<p>In your JSP:</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://www.springframework.org/tags/form\" prefix=\"f\" %&gt;\n\n//.. some code \n\n&lt;f:form action=\"method\" method=\"post\" modelAttribute=\"modelName\"&gt;\n\n&lt;/f:form&gt;\n</code></pre>\n\n<p>If you are restricted to GET requests only, you might not be able to use a separate ModelClass. You need to resort to request parameters in that case. </p>\n"},{"tags":[],"owner":{"account_id":7693294,"reputation":1,"user_id":5828784,"display_name":"Nano Yulian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681011891,"creation_date":1681011891,"answer_id":75968674,"question_id":21040198,"body_markdown":"add ( ,@BindingResult result) in your parameter to bind the errors to all parameter. And you can check if the error exist using result.hasErrors()","title":"How to ensure mandatory parameters are passed into a Spring MVC controller method?","body":"<p>add ( ,@BindingResult result) in your parameter to bind the errors to all parameter. And you can check if the error exist using result.hasErrors()</p>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21040382,"answer_count":3,"score":0,"last_activity_date":1681011891,"creation_date":1389345257,"question_id":21040198,"body_markdown":"Given a Spring-MVC controller method:\r\n\r\n    @RequestMapping(value = &quot;/method&quot;)\r\n    public void method(@RequestParam int param1,\r\n                       @RequestParam int param2) { /*...*/ }\r\n\r\nIf parameters are missing in the request URL, an error is reported, e.g:\r\n\r\n&gt; JBWEB000068: message Required int parameter &#39;param1&#39; is not present\r\n\r\nI need to move the parameters into a single model class yet keep exactly the same GET request URL. So have modified `method`&#39;s parameter to `MyModel model`, which contains `param1` and `param2`.\r\n\r\nThis works if `@RequestParam` is omitted but the snag is **no error is reported if parameters are missing**. If, on the other hand `@RequestParam` is included, a parameter named &quot;model&quot; is expected in the GET request. Is there a way to make model parameters mandatory yet keep the same request URL?","title":"How to ensure mandatory parameters are passed into a Spring MVC controller method?","body":"<p>Given a Spring-MVC controller method:</p>\n\n<pre><code>@RequestMapping(value = \"/method\")\npublic void method(@RequestParam int param1,\n                   @RequestParam int param2) { /*...*/ }\n</code></pre>\n\n<p>If parameters are missing in the request URL, an error is reported, e.g:</p>\n\n<blockquote>\n  <p>JBWEB000068: message Required int parameter 'param1' is not present</p>\n</blockquote>\n\n<p>I need to move the parameters into a single model class yet keep exactly the same GET request URL. So have modified <code>method</code>'s parameter to <code>MyModel model</code>, which contains <code>param1</code> and <code>param2</code>.</p>\n\n<p>This works if <code>@RequestParam</code> is omitted but the snag is <strong>no error is reported if parameters are missing</strong>. If, on the other hand <code>@RequestParam</code> is included, a parameter named \"model\" is expected in the GET request. Is there a way to make model parameters mandatory yet keep the same request URL?</p>\n"},{"tags":["java","generics","list"],"comments":[{"owner":{"account_id":99169,"reputation":2517,"user_id":268016,"accept_rate":100,"display_name":"Yuri Ghensev"},"score":7,"creation_date":1338842486,"post_id":1351299,"comment_id":14191715,"body_markdown":"Reading `Effective Java` chapter 5 helps a lot understanding everything about generics.","body":"Reading <code>Effective Java</code> chapter 5 helps a lot understanding everything about generics."},{"owner":{"account_id":1289950,"reputation":2661,"user_id":1242236,"display_name":"Rugal"},"score":1,"creation_date":1499279273,"post_id":1351299,"comment_id":76842868,"body_markdown":"You can check [unbounded](https://docs.oracle.com/javase/tutorial/java/generics/unboundedWildcards.html). This is called a list of unknown type.","body":"You can check <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/unboundedWildcards.html\" rel=\"nofollow noreferrer\">unbounded</a>. This is called a list of unknown type."}],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1251550358,"creation_date":1251548581,"answer_id":1351319,"question_id":1351299,"body_markdown":"On your first question, the difference between `List` and `List&lt;?&gt;`:\r\n\r\nOne significant difference between the two is that when you have an wildcard as the type, the type of the `Collection` is unknown, so the `add` method will throw a compile time error.  \r\n\r\nYou can still get values out of the `List&lt;?&gt;`, but you need an explicit cast.\r\n\r\n","title":"What&#39;s the difference between unbounded wildcard type List&lt;?&gt; and raw type List?","body":"<p>On your first question, the difference between <code>List</code> and <code>List&lt;?&gt;</code>:</p>\n\n<p>One significant difference between the two is that when you have an wildcard as the type, the type of the <code>Collection</code> is unknown, so the <code>add</code> method will throw a compile time error.  </p>\n\n<p>You can still get values out of the <code>List&lt;?&gt;</code>, but you need an explicit cast.</p>\n"},{"tags":[],"owner":{"account_id":28214,"reputation":305260,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"down_vote_count":3,"up_vote_count":42,"is_accepted":true,"score":39,"last_activity_date":1681011495,"creation_date":1251548604,"answer_id":1351321,"question_id":1351299,"body_markdown":"Here&#39;s a summary of the three:\r\n\r\n* `List`: A list with no type parameter. It is a list whose elements are of any type -- **the elements may be of different types**.\r\n\r\n* `List&lt;?&gt;`: A list with an unbounded type parameter. Its elements are of a specific, but unknown, type; **the elements must all be instances of some specific type**.\r\n\r\n* `List&lt;T extends E&gt;`: A list with a type parameter called `T`. The supplied type for `T` must be of a type that extends `E`, or it is not a valid type for the parameter.","title":"What&#39;s the difference between unbounded wildcard type List&lt;?&gt; and raw type List?","body":"<p>Here's a summary of the three:</p>\n<ul>\n<li><p><code>List</code>: A list with no type parameter. It is a list whose elements are of any type -- <strong>the elements may be of different types</strong>.</p>\n</li>\n<li><p><code>List&lt;?&gt;</code>: A list with an unbounded type parameter. Its elements are of a specific, but unknown, type; <strong>the elements must all be instances of some specific type</strong>.</p>\n</li>\n<li><p><code>List&lt;T extends E&gt;</code>: A list with a type parameter called <code>T</code>. The supplied type for <code>T</code> must be of a type that extends <code>E</code>, or it is not a valid type for the parameter.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":31908,"reputation":21528,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1356852916,"creation_date":1251550809,"answer_id":1351384,"question_id":1351299,"body_markdown":"You should really look at Effective Java, Item 23: Don&#39;t use raw types in new code.\r\n\r\nTo use the example from that book, consider the following example... what if you have a collection where you do not care what types of elements are in it. For example, you want to see how many elements are in common between two sets. You might come up with the following:\r\n\r\n    public static int numElementsInCommon(Set s1, Set s2) {\r\n      int result = 0;\r\n      for (Object o : s1) {\r\n        if (s2.contains(o)) {\r\n          ++result;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\nThis example, while it works, is not a good idea to use because of the use of raw types. Raw types just aren&#39;t type safe at all... you could end up modifying the set in a way that is not type safe and corrupt your program. Instead, err on the side of caution and use the type safe alternative:\r\n\r\n    public static int numElementsInCommon(Set&lt;?&gt; s1, Set&lt;?&gt; s2) {\r\n      int result = 0;\r\n      for (Object o : s1) {\r\n        if (s2.contains(o)) {\r\n          ++result;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\nThe difference is that you can only add `null` to a `Set&lt;?&gt;`, and you CANNOT assume anything about the element you take out of a `Set&lt;?&gt;`. If you use a raw `Set`, you can add anything you want to it. The `numElementsInCommon` method is a good example where you don&#39;t even need to add anything and you don&#39;t need to assume anything about what is in the set. That&#39;s why it&#39;s a good candidate for using the `?` wildcard.\r\n\r\nHope this helps. Read that whole Item in Effective Java and it will really become clear.\r\n\r\nTo answer the second part of your question... remember that I said when you use the `?` wildcard, you cannot assume anything about the element you take out of the set? What if you do need to make an assumption about the interface of the object you removed from the set. For example, suppose you want to keep track of a set of `Cool` things.\r\n\r\n    public interface Cool {\r\n      // Reports why the object is cool\r\n      void cool();\r\n    }\r\n\r\nThen you might have some code like this:\r\n\r\n    public static void reportCoolness(Set s) {\r\n      for (Object item : s) {\r\n        Cool coolItem = (Cool) item;\r\n        coolItem.cool();\r\n      }\r\n    }\r\n\r\nThis is not type safe... you need to make sure you passed in a set with only `Cool` objects. To fix it, you might say:\r\n\r\n    public static void reportCoolness(Set&lt;Cool&gt; s) {\r\n      for (Cool coolItem : s) {\r\n        coolItem.cool();\r\n      }\r\n    }\r\n\r\nThis is great! Does exactly what you want and is type safe. But what if later you have this:\r\n\r\n    public interface ReallyCool extends Cool {\r\n      // Reports why the object is beyond cool\r\n      void reallyCool();\r\n    }\r\n\r\nSince all `ReallyCool` objects are `Cool`, you ought to be able to do the following:\r\n\r\n    Set&lt;ReallyCool&gt; s = new HashSet&lt;ReallyCool&gt;();\r\n    // populate s\r\n    reportCoolness(s);\r\n\r\nBut you can&#39;t do that because generics have the following property: Suppose `B` is a subclass of `A`, then `Set&lt;B&gt;` is NOT a subclass of `Set&lt;A&gt;`. The technical talk for this is &quot;Generic types are invariant.&quot; (As opposed to covariant).\r\n\r\nTo get the last example to work you would need to create a `Set&lt;Cool&gt;` by casting (safely) every element in the `Set&lt;ReallyCool&gt;`. To avoid letting clients of your api go through this nasty, unnecessary code, you can just make the `reportCoolness` method more flexible like this:\r\n\r\n    public static void reportCoolness(Set&lt;? extends Cool&gt; s) {\r\n      for (Cool coolItem : s) {\r\n        coolItem.cool();\r\n      }\r\n    }\r\n\r\nNow your method takes any `Set` that contains elements that are `Cool` or any subclass of `Cool`. All of these types adhere to the `Cool` api... so we can safely call the `cool()` method on any element\r\n\r\nMake sense? Hope this helps.","title":"What&#39;s the difference between unbounded wildcard type List&lt;?&gt; and raw type List?","body":"<p>You should really look at Effective Java, Item 23: Don't use raw types in new code.</p>\n\n<p>To use the example from that book, consider the following example... what if you have a collection where you do not care what types of elements are in it. For example, you want to see how many elements are in common between two sets. You might come up with the following:</p>\n\n<pre><code>public static int numElementsInCommon(Set s1, Set s2) {\n  int result = 0;\n  for (Object o : s1) {\n    if (s2.contains(o)) {\n      ++result;\n    }\n  }\n  return result;\n}\n</code></pre>\n\n<p>This example, while it works, is not a good idea to use because of the use of raw types. Raw types just aren't type safe at all... you could end up modifying the set in a way that is not type safe and corrupt your program. Instead, err on the side of caution and use the type safe alternative:</p>\n\n<pre><code>public static int numElementsInCommon(Set&lt;?&gt; s1, Set&lt;?&gt; s2) {\n  int result = 0;\n  for (Object o : s1) {\n    if (s2.contains(o)) {\n      ++result;\n    }\n  }\n  return result;\n}\n</code></pre>\n\n<p>The difference is that you can only add <code>null</code> to a <code>Set&lt;?&gt;</code>, and you CANNOT assume anything about the element you take out of a <code>Set&lt;?&gt;</code>. If you use a raw <code>Set</code>, you can add anything you want to it. The <code>numElementsInCommon</code> method is a good example where you don't even need to add anything and you don't need to assume anything about what is in the set. That's why it's a good candidate for using the <code>?</code> wildcard.</p>\n\n<p>Hope this helps. Read that whole Item in Effective Java and it will really become clear.</p>\n\n<p>To answer the second part of your question... remember that I said when you use the <code>?</code> wildcard, you cannot assume anything about the element you take out of the set? What if you do need to make an assumption about the interface of the object you removed from the set. For example, suppose you want to keep track of a set of <code>Cool</code> things.</p>\n\n<pre><code>public interface Cool {\n  // Reports why the object is cool\n  void cool();\n}\n</code></pre>\n\n<p>Then you might have some code like this:</p>\n\n<pre><code>public static void reportCoolness(Set s) {\n  for (Object item : s) {\n    Cool coolItem = (Cool) item;\n    coolItem.cool();\n  }\n}\n</code></pre>\n\n<p>This is not type safe... you need to make sure you passed in a set with only <code>Cool</code> objects. To fix it, you might say:</p>\n\n<pre><code>public static void reportCoolness(Set&lt;Cool&gt; s) {\n  for (Cool coolItem : s) {\n    coolItem.cool();\n  }\n}\n</code></pre>\n\n<p>This is great! Does exactly what you want and is type safe. But what if later you have this:</p>\n\n<pre><code>public interface ReallyCool extends Cool {\n  // Reports why the object is beyond cool\n  void reallyCool();\n}\n</code></pre>\n\n<p>Since all <code>ReallyCool</code> objects are <code>Cool</code>, you ought to be able to do the following:</p>\n\n<pre><code>Set&lt;ReallyCool&gt; s = new HashSet&lt;ReallyCool&gt;();\n// populate s\nreportCoolness(s);\n</code></pre>\n\n<p>But you can't do that because generics have the following property: Suppose <code>B</code> is a subclass of <code>A</code>, then <code>Set&lt;B&gt;</code> is NOT a subclass of <code>Set&lt;A&gt;</code>. The technical talk for this is \"Generic types are invariant.\" (As opposed to covariant).</p>\n\n<p>To get the last example to work you would need to create a <code>Set&lt;Cool&gt;</code> by casting (safely) every element in the <code>Set&lt;ReallyCool&gt;</code>. To avoid letting clients of your api go through this nasty, unnecessary code, you can just make the <code>reportCoolness</code> method more flexible like this:</p>\n\n<pre><code>public static void reportCoolness(Set&lt;? extends Cool&gt; s) {\n  for (Cool coolItem : s) {\n    coolItem.cool();\n  }\n}\n</code></pre>\n\n<p>Now your method takes any <code>Set</code> that contains elements that are <code>Cool</code> or any subclass of <code>Cool</code>. All of these types adhere to the <code>Cool</code> api... so we can safely call the <code>cool()</code> method on any element</p>\n\n<p>Make sense? Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11475553,"reputation":301,"user_id":8411174,"display_name":"Maria Pomazkina-Karpikova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594868848,"creation_date":1563851009,"answer_id":57156092,"question_id":1351299,"body_markdown":"Both cases let us put into this variable any type of list:\r\n\r\n    List nothing1 = new ArrayList&lt;String&gt;();\r\n    List nothing2 = new ArrayList();\r\n    List nothing3 = new ArrayList&lt;&gt;();\r\n    List nothing4 = new ArrayList&lt;Integer&gt;();\r\n\r\n    List&lt;?&gt; wildcard1 = new ArrayList&lt;String&gt;();\r\n    List&lt;?&gt; wildcard2 = new ArrayList();\r\n    List&lt;?&gt; wildcard3 = new ArrayList&lt;&gt;();\r\n    List&lt;?&gt; wildcard4 = new ArrayList&lt;Integer&gt;();\r\n\r\nBut what elements can we put into this objects?\r\n\r\nWe can put only String into `List&lt;String&gt;`:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    strings.add(&quot;A new string&quot;);\r\n\r\nWe can put any object into List:\r\n\r\n    List nothing = new ArrayList&lt;&gt;();\r\n    nothing.add(&quot;A new string&quot;);\r\n    nothing.add(1);\r\n    nothing.add(new Object());\r\n\r\nAnd we can&#39;t add anything (but for *null*) into `List&lt;?&gt;`! Because we use generic. And Java knows that it is typed List but doesn&#39;t know what type it is exact. And doesn&#39;t let us make a mistake.\r\n\r\nConclusion: `List&lt;?&gt;`, which is generic List, **gives us type safety**.\r\n\r\nP.S. Never use raw types in your code.","title":"What&#39;s the difference between unbounded wildcard type List&lt;?&gt; and raw type List?","body":"<p>Both cases let us put into this variable any type of list:</p>\n<pre><code>List nothing1 = new ArrayList&lt;String&gt;();\nList nothing2 = new ArrayList();\nList nothing3 = new ArrayList&lt;&gt;();\nList nothing4 = new ArrayList&lt;Integer&gt;();\n\nList&lt;?&gt; wildcard1 = new ArrayList&lt;String&gt;();\nList&lt;?&gt; wildcard2 = new ArrayList();\nList&lt;?&gt; wildcard3 = new ArrayList&lt;&gt;();\nList&lt;?&gt; wildcard4 = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>But what elements can we put into this objects?</p>\n<p>We can put only String into <code>List&lt;String&gt;</code>:</p>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(&quot;A new string&quot;);\n</code></pre>\n<p>We can put any object into List:</p>\n<pre><code>List nothing = new ArrayList&lt;&gt;();\nnothing.add(&quot;A new string&quot;);\nnothing.add(1);\nnothing.add(new Object());\n</code></pre>\n<p>And we can't add anything (but for <em>null</em>) into <code>List&lt;?&gt;</code>! Because we use generic. And Java knows that it is typed List but doesn't know what type it is exact. And doesn't let us make a mistake.</p>\n<p>Conclusion: <code>List&lt;?&gt;</code>, which is generic List, <strong>gives us type safety</strong>.</p>\n<p>P.S. Never use raw types in your code.</p>\n"}],"owner":{"account_id":45445,"reputation":6225,"user_id":133943,"accept_rate":100,"display_name":"Ashish Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7000,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":1351321,"answer_count":4,"score":24,"last_activity_date":1681011495,"creation_date":1251547976,"question_id":1351299,"body_markdown":"Could you help me understand the difference between *unbounded wildcard type List&lt;?&gt;* and *raw type List*?\r\n\r\n    List&lt;?&gt; b;    // unbounded wildcard type\r\n    List a;       // raw type\r\n&lt;br&gt;\r\nAlong with this can anybody help me understand what is a *bounded type parameter list*?\r\n\r\n    List&lt;E extends Number&gt; c;","title":"What&#39;s the difference between unbounded wildcard type List&lt;?&gt; and raw type List?","body":"<p>Could you help me understand the difference between <em>unbounded wildcard type List</em> and <em>raw type List</em>?</p>\n\n<pre><code>List&lt;?&gt; b;    // unbounded wildcard type\nList a;       // raw type\n</code></pre>\n\n<p><br>\nAlong with this can anybody help me understand what is a <em>bounded type parameter list</em>?</p>\n\n<pre><code>List&lt;E extends Number&gt; c;\n</code></pre>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681278644,"post_id":75960435,"comment_id":134028697,"body_markdown":"`List.of(&quot;abc&quot;,&quot;def&quot;).forEach(System.out::println);` would be more idiomatic.","body":"<code>List.of(&quot;abc&quot;,&quot;def&quot;).forEach(System.out::println);</code> would be more idiomatic."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680887044,"creation_date":1680887044,"answer_id":75960545,"question_id":75960435,"body_markdown":"&gt; My question is do we need stream ?\r\n\r\nNot for this example. `forEach` is a unique snowflake; it&#39;s the only one that is on list directly, most other stream things (`map`, `filter`, `max`, that sort of thing) is only on stream.\r\n\r\nMore generally, `forEach` should never be used. It&#39;s strictly inferior to a normal for loop. It isn&#39;t transparent in 3 ways:\r\n\r\n* It is not control flow transparent (you cannot break/continue a loop defined outside a lambda from inside it; you also cannot return the method that contains the lambda from inside one).\r\n* It is not checked exception transparent (you cannot `throw` checked exceptions inside a lambda even if the context around the lambda catches them).\r\n* It is not mutable local variable transparent: You cannot read or write to any local variable defined outside the lambda, unless that variable is (effectively) `final`.\r\n\r\nThese are significant downsides. There are situations where all 3 are irrelevant, but there isn&#39;t an upside to lambdas either, hence, don&#39;t use `list.forEach` with a lambda.\r\n\r\n`forEach` on list itself is _only_ to be used when you have a `Consumer&lt;T&gt;` already from elsewhere, say, in a field perhaps.\r\n\r\nThe `forEach` method on streams can be used, but it doesn&#39;t make any sense unless you have applied a series of stream operations. For example, this:\r\n\r\n```\r\nlist.stream()\r\n  .filter(x -&gt; x.length() &gt; 6)\r\n  .map(String::toLowerCase()\r\n  .forEach(System.out::println)\r\n  ;\r\n```\r\n\r\nIs probably still not a good idea (just use a for loop) but it&#39;s less egregiously &quot;Must... use... shiny... new... hammer!&quot; as `list.forEach(x -&gt;...)`.\r\n\r\n&gt; In functional programming, functions can be used similar to how data is used.\r\n\r\nBit of a nebulous statement. It&#39;s generally referring to the notion that functions can be passed around like variables. You can write a function that logs how many elements are removed from a string, for example, and you want the caller to pass to this function &quot;how can I tell if an element should be removed?&quot;. Which you can do:\r\n\r\n```\r\npublic static &lt;T&gt; int removeIfCount(List&lt;T&gt; elems, Predicate&lt;T&gt; filter) {\r\n  int a = elems.size();\r\n  elems.removeIf(filter);\r\n  int b = elems.size();\r\n  return b - a;\r\n}\r\n```\r\n\r\nHere calling code could e.g. call:\r\n\r\n```java\r\nList&lt;String&gt; names = ...;\r\nint count = removeIfCount(names, x -&gt; x.length() &gt; 6);\r\n```\r\n\r\nWhich removes all names longer than 6 characters long and gives you a count of how many were removed. Here we pass the function around like data - our `removeIfCount` code just accepts the function as a `Predicate&lt;T&gt;` variable and passes it along. Exactly like how one might pass data around.\r\n","title":"Java functional programming","body":"<blockquote>\n<p>My question is do we need stream ?</p>\n</blockquote>\n<p>Not for this example. <code>forEach</code> is a unique snowflake; it's the only one that is on list directly, most other stream things (<code>map</code>, <code>filter</code>, <code>max</code>, that sort of thing) is only on stream.</p>\n<p>More generally, <code>forEach</code> should never be used. It's strictly inferior to a normal for loop. It isn't transparent in 3 ways:</p>\n<ul>\n<li>It is not control flow transparent (you cannot break/continue a loop defined outside a lambda from inside it; you also cannot return the method that contains the lambda from inside one).</li>\n<li>It is not checked exception transparent (you cannot <code>throw</code> checked exceptions inside a lambda even if the context around the lambda catches them).</li>\n<li>It is not mutable local variable transparent: You cannot read or write to any local variable defined outside the lambda, unless that variable is (effectively) <code>final</code>.</li>\n</ul>\n<p>These are significant downsides. There are situations where all 3 are irrelevant, but there isn't an upside to lambdas either, hence, don't use <code>list.forEach</code> with a lambda.</p>\n<p><code>forEach</code> on list itself is <em>only</em> to be used when you have a <code>Consumer&lt;T&gt;</code> already from elsewhere, say, in a field perhaps.</p>\n<p>The <code>forEach</code> method on streams can be used, but it doesn't make any sense unless you have applied a series of stream operations. For example, this:</p>\n<pre><code>list.stream()\n  .filter(x -&gt; x.length() &gt; 6)\n  .map(String::toLowerCase()\n  .forEach(System.out::println)\n  ;\n</code></pre>\n<p>Is probably still not a good idea (just use a for loop) but it's less egregiously &quot;Must... use... shiny... new... hammer!&quot; as <code>list.forEach(x -&gt;...)</code>.</p>\n<blockquote>\n<p>In functional programming, functions can be used similar to how data is used.</p>\n</blockquote>\n<p>Bit of a nebulous statement. It's generally referring to the notion that functions can be passed around like variables. You can write a function that logs how many elements are removed from a string, for example, and you want the caller to pass to this function &quot;how can I tell if an element should be removed?&quot;. Which you can do:</p>\n<pre><code>public static &lt;T&gt; int removeIfCount(List&lt;T&gt; elems, Predicate&lt;T&gt; filter) {\n  int a = elems.size();\n  elems.removeIf(filter);\n  int b = elems.size();\n  return b - a;\n}\n</code></pre>\n<p>Here calling code could e.g. call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; names = ...;\nint count = removeIfCount(names, x -&gt; x.length() &gt; 6);\n</code></pre>\n<p>Which removes all names longer than 6 characters long and gives you a count of how many were removed. Here we pass the function around like data - our <code>removeIfCount</code> code just accepts the function as a <code>Predicate&lt;T&gt;</code> variable and passes it along. Exactly like how one might pass data around.</p>\n"},{"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681011440,"creation_date":1681010343,"answer_id":75968614,"question_id":75960435,"body_markdown":"I&#39;ll just try to explain difference between `Collections` and `Streams`, which explained [here][1]\r\n\r\n&gt; Collections and streams, while bearing some superficial similarities, have different goals. Collections are primarily concerned with the efficient management of, and access to, their elements. By contrast, streams do not provide a means to directly access or manipulate their elements, and are instead concerned with declaratively describing their source and the computational operations which will be performed in aggregate on that source.\r\n\r\nAlso if we check [here][2], it can be help to understand what is `Stream`, and why it said \r\n\r\n&gt; It was mentioned that stream() is to generate a source of objects.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [2]: https://www.baeldung.com/java-8-streams#referencing","title":"Java functional programming","body":"<p>I'll just try to explain difference between <code>Collections</code> and <code>Streams</code>, which explained <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Collections and streams, while bearing some superficial similarities, have different goals. Collections are primarily concerned with the efficient management of, and access to, their elements. By contrast, streams do not provide a means to directly access or manipulate their elements, and are instead concerned with declaratively describing their source and the computational operations which will be performed in aggregate on that source.</p>\n</blockquote>\n<p>Also if we check <a href=\"https://www.baeldung.com/java-8-streams#referencing\" rel=\"nofollow noreferrer\">here</a>, it can be help to understand what is <code>Stream</code>, and why it said</p>\n<blockquote>\n<p>It was mentioned that stream() is to generate a source of objects.</p>\n</blockquote>\n"}],"owner":{"account_id":25795866,"reputation":167,"user_id":19539055,"display_name":"Theju112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75960545,"answer_count":2,"score":0,"last_activity_date":1681011440,"creation_date":1680886321,"question_id":75960435,"body_markdown":"In a beginner course about Functional programming in Java, I saw examples such as below:\r\n\r\n    List.of(&quot;abc&quot;,&quot;def&quot;).stream().forEach(element -&gt; System.out.println(element));\r\n\r\nThis is the most basic example. In all the other examples, the pattern is almost the same where the stream() function is used. It was mentioned that stream() is to generate a source of objects.\r\n\r\nMy question is do we need stream ?\r\n\r\nCant it be ? :\r\n\r\n    List.of(&quot;abc&quot;,&quot;def&quot;).forEach(element -&gt; System.out.println(element));\r\n\r\nThe other thing I need help to understand is the statement: &quot;In functional programming, functions can be used similar to how data is used.&quot;\r\n\r\nIn the above example, what does that mean?\r\n\r\nDoes it refer to how the section, `element -&gt; System.out.println(element)` is being used in a way similar to data?","title":"Java functional programming","body":"<p>In a beginner course about Functional programming in Java, I saw examples such as below:</p>\n<pre><code>List.of(&quot;abc&quot;,&quot;def&quot;).stream().forEach(element -&gt; System.out.println(element));\n</code></pre>\n<p>This is the most basic example. In all the other examples, the pattern is almost the same where the stream() function is used. It was mentioned that stream() is to generate a source of objects.</p>\n<p>My question is do we need stream ?</p>\n<p>Cant it be ? :</p>\n<pre><code>List.of(&quot;abc&quot;,&quot;def&quot;).forEach(element -&gt; System.out.println(element));\n</code></pre>\n<p>The other thing I need help to understand is the statement: &quot;In functional programming, functions can be used similar to how data is used.&quot;</p>\n<p>In the above example, what does that mean?</p>\n<p>Does it refer to how the section, <code>element -&gt; System.out.println(element)</code> is being used in a way similar to data?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1680928689,"post_id":75961794,"comment_id":133981080,"body_markdown":"We can&#39;t help you with a locator without the HTML of the element you are trying to click. Edit the question and post the relevant HTML as text, properly formatted and we will try to help you.","body":"We can&#39;t help you with a locator without the HTML of the element you are trying to click. Edit the question and post the relevant HTML as text, properly formatted and we will try to help you."},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1680956334,"post_id":75961794,"comment_id":133983786,"body_markdown":"You are right, sorry.","body":"You are right, sorry."},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1681007488,"post_id":75961794,"comment_id":133989455,"body_markdown":"Why is this such a hard task? \nWhen I&#39;m searching the internet for answers, none of the solutions are working. Has the two sites put something on to make it harder for selenium to work?","body":"Why is this such a hard task?  When I&#39;m searching the internet for answers, none of the solutions are working. Has the two sites put something on to make it harder for selenium to work?"}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681010842,"creation_date":1681010842,"answer_id":75968637,"question_id":75961794,"body_markdown":"For Instagram, you need a wait before clicking the SVG because it takes the page a moment to load. Here&#39;s working code.\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://www.instagram.com/twitter/&quot;);\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;svg[aria-label=&#39;Search&#39;]&quot;))).click();\r\n    driver.findElement(By.cssSelector(&quot;input[aria-label=&#39;Search input&#39;]&quot;)).sendKeys(&quot;Test\\n&quot;);\r\n\r\n    driver.quit();\r\n\r\n","title":"I can&#39;t get selenium (java) to click the search bar in neither facebook or instagram","body":"<p>For Instagram, you need a wait before clicking the SVG because it takes the page a moment to load. Here's working code.</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.get(&quot;https://www.instagram.com/twitter/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;svg[aria-label='Search']&quot;))).click();\ndriver.findElement(By.cssSelector(&quot;input[aria-label='Search input']&quot;)).sendKeys(&quot;Test\\n&quot;);\n\ndriver.quit();\n</code></pre>\n"}],"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75968637,"answer_count":1,"score":-1,"last_activity_date":1681010842,"creation_date":1680900178,"question_id":75961794,"body_markdown":"I&#39;m fooling around with selenium to try to make my account search for a specific hashtag, but I&#39;m stuck on why I can&#39;t get it to push the search button.\r\n\r\ninstagram&#39;s buttons seems to be made with SVG, and this makes it harder for me to get it to work and with facebook it is just not accepting my approach, which is working with the login.\r\n\r\nHere is my example with instagram at the moment.\r\n\r\n    // Find the SVG element using XPath\r\n    WebElement svgElement = driver.findElement(By.xpath(&quot;//svg[@aria-label=&#39;Search&#39;]&quot;));\r\n\r\n    // Create an instance of the Actions class\r\n    Actions actions = new Actions(driver);\r\n\r\n    // Move to the SVG element and click it\r\n    actions.moveToElement(svgElement).click().build().perform();\r\n\r\nI have also tried this:\r\n\r\n    // Find the SVG element using XPath\r\n    WebElement search = driver.findElement(By.xpath(&quot;//*[local-name()=&#39;svg&#39; and @aria-label=&#39;Search&#39;]/*[localname()=&#39;path&#39;]&quot;));\r\n    // clicking on SVG element\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(search).click().build().perform();\r\n\r\nHere is the source for instagram:\r\n\r\n    &lt;div class=&quot;x9f619 x3nfvp2 xr9ek0c xjpr12u xo237n4 x6pnmvc x7nr27j x12dmmrz xz9dl7a xn6708d xsag5q8 x1ye3gou x1l895ks x159b3zp xdoji71 x1dejxi8 x9k3k5o xs3sg5q x11hdxyr x12ldp4w x1wj20lx x1dn74xm xif99yt x172qv1o x10djquj x1lhsz42 xzauu7c x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;div class=&quot;x9f619 xjbqb8w x78zum5 x168nmei x13lgxp2 x5pf9jr xo71vjh x1n2onr6 x1plvlek xryxfnj x1c4vz4f x2lah0s xdt5ytf xqjyukv x1qjc9v5 x1oa3qoh x1nhvcw1&quot;&gt;\r\n          &lt;div class=&quot;x9f619 xxk0z11 xvy4d1p x11xpdln xii2z7h x19c4wfv&quot;&gt;\r\n            &lt;svg aria-label=&quot;Search&quot; class=&quot;_ab6-&quot; color=&quot;rgb(245, 245, 245)&quot; fill=&quot;rgb(245, 245, 245)&quot; height=&quot;24&quot; role=&quot;img&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;24&quot;&gt;\r\n              &lt;path d=&quot;M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot;&gt;&lt;/path&gt;\r\n              &lt;line fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke- linejoin=&quot;round&quot; stroke-width=&quot;2&quot; x1=&quot;16.511&quot; x2=&quot;22&quot; y1=&quot;16.511&quot; y2=&quot;22&quot;&gt;&lt;/line&gt;\r\n            &lt;/svg&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;x6s0dn4 x9f619 xxk0z11 x6ikm8r xeq5yr9 x1s85apg x1swvt13 xzzcqpx&quot; style=&quot;opacity: 1;&quot;&gt;\r\n        &lt;div style=&quot;width: 100%;&quot;&gt;\r\n          &lt;div class=&quot;_aacl _aacp _aacu _aacx _aada&quot;&gt;Search&lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nHere is my current code for facebook:\r\n\r\n    WebElement searchbar = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//input[@dir=&#39;ltr&#39;]&quot;)));\r\n    searchbar.click();\r\n    searchbar.sendKeys(&quot;hello&quot;);\r\n\r\nHere is the sourcecode from facebook:\r\n\r\n    &lt;input dir=&quot;ltr&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;true&quot; aria-label=&quot;S&#248;g p&#229; Facebook&quot; role=&quot;combobox&quot; placeholder=&quot;S&#248;g p&#229; Facebook&quot; autocomplete=&quot;off&quot; spellcheck=&quot;false&quot; aria-invalid=&quot;false&quot; class=&quot;x1i10hfl xggy1nq x1s07b3s x1kdt53j x1yc453h xhb22t3 xb5gni xcj1dhv x2s2ed0 xq33zhf xjyslct xjbqb8w x6umtig x1b1mbwd xaqea5y xav7gou xnwf7zb x40j3uw x1s7lred x15gyhx8 x9f619 xzsf02u xdl72j9 x1iyjqo2 xs83m0k xjb2p0i x6prxxf xeuugli x1a2a7pz x1n2onr6 x15h3p50 xm7lytj x1sxyh0 xdvlbce xurb0ha x1vqgdyp xo6swyp x1ad04t7 x1glnyev x1ix68h3 x19gujb8&quot; type=&quot;search&quot; value=&quot;&quot; aria-controls=&quot;jsc_c_2t&quot;&gt;","title":"I can&#39;t get selenium (java) to click the search bar in neither facebook or instagram","body":"<p>I'm fooling around with selenium to try to make my account search for a specific hashtag, but I'm stuck on why I can't get it to push the search button.</p>\n<p>instagram's buttons seems to be made with SVG, and this makes it harder for me to get it to work and with facebook it is just not accepting my approach, which is working with the login.</p>\n<p>Here is my example with instagram at the moment.</p>\n<pre><code>// Find the SVG element using XPath\nWebElement svgElement = driver.findElement(By.xpath(&quot;//svg[@aria-label='Search']&quot;));\n\n// Create an instance of the Actions class\nActions actions = new Actions(driver);\n\n// Move to the SVG element and click it\nactions.moveToElement(svgElement).click().build().perform();\n</code></pre>\n<p>I have also tried this:</p>\n<pre><code>// Find the SVG element using XPath\nWebElement search = driver.findElement(By.xpath(&quot;//*[local-name()='svg' and @aria-label='Search']/*[localname()='path']&quot;));\n// clicking on SVG element\nActions actions = new Actions(driver);\nactions.moveToElement(search).click().build().perform();\n</code></pre>\n<p>Here is the source for instagram:</p>\n<pre><code>&lt;div class=&quot;x9f619 x3nfvp2 xr9ek0c xjpr12u xo237n4 x6pnmvc x7nr27j x12dmmrz xz9dl7a xn6708d xsag5q8 x1ye3gou x1l895ks x159b3zp xdoji71 x1dejxi8 x9k3k5o xs3sg5q x11hdxyr x12ldp4w x1wj20lx x1dn74xm xif99yt x172qv1o x10djquj x1lhsz42 xzauu7c x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6&quot;&gt;\n  &lt;div&gt;\n    &lt;div class=&quot;x9f619 xjbqb8w x78zum5 x168nmei x13lgxp2 x5pf9jr xo71vjh x1n2onr6 x1plvlek xryxfnj x1c4vz4f x2lah0s xdt5ytf xqjyukv x1qjc9v5 x1oa3qoh x1nhvcw1&quot;&gt;\n      &lt;div class=&quot;x9f619 xxk0z11 xvy4d1p x11xpdln xii2z7h x19c4wfv&quot;&gt;\n        &lt;svg aria-label=&quot;Search&quot; class=&quot;_ab6-&quot; color=&quot;rgb(245, 245, 245)&quot; fill=&quot;rgb(245, 245, 245)&quot; height=&quot;24&quot; role=&quot;img&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;24&quot;&gt;\n          &lt;path d=&quot;M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot;&gt;&lt;/path&gt;\n          &lt;line fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-linecap=&quot;round&quot; stroke- linejoin=&quot;round&quot; stroke-width=&quot;2&quot; x1=&quot;16.511&quot; x2=&quot;22&quot; y1=&quot;16.511&quot; y2=&quot;22&quot;&gt;&lt;/line&gt;\n        &lt;/svg&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;x6s0dn4 x9f619 xxk0z11 x6ikm8r xeq5yr9 x1s85apg x1swvt13 xzzcqpx&quot; style=&quot;opacity: 1;&quot;&gt;\n    &lt;div style=&quot;width: 100%;&quot;&gt;\n      &lt;div class=&quot;_aacl _aacp _aacu _aacx _aada&quot;&gt;Search&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Here is my current code for facebook:</p>\n<pre><code>WebElement searchbar = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//input[@dir='ltr']&quot;)));\nsearchbar.click();\nsearchbar.sendKeys(&quot;hello&quot;);\n</code></pre>\n<p>Here is the sourcecode from facebook:</p>\n<pre><code>&lt;input dir=&quot;ltr&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;true&quot; aria-label=&quot;Søg på Facebook&quot; role=&quot;combobox&quot; placeholder=&quot;Søg på Facebook&quot; autocomplete=&quot;off&quot; spellcheck=&quot;false&quot; aria-invalid=&quot;false&quot; class=&quot;x1i10hfl xggy1nq x1s07b3s x1kdt53j x1yc453h xhb22t3 xb5gni xcj1dhv x2s2ed0 xq33zhf xjyslct xjbqb8w x6umtig x1b1mbwd xaqea5y xav7gou xnwf7zb x40j3uw x1s7lred x15gyhx8 x9f619 xzsf02u xdl72j9 x1iyjqo2 xs83m0k xjb2p0i x6prxxf xeuugli x1a2a7pz x1n2onr6 x15h3p50 xm7lytj x1sxyh0 xdvlbce xurb0ha x1vqgdyp xo6swyp x1ad04t7 x1glnyev x1ix68h3 x19gujb8&quot; type=&quot;search&quot; value=&quot;&quot; aria-controls=&quot;jsc_c_2t&quot;&gt;\n</code></pre>\n"},{"tags":["javascript","java","npm"],"owner":{"account_id":22690417,"reputation":75,"user_id":16859414,"display_name":"monica_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681010603,"creation_date":1680977918,"question_id":75966961,"body_markdown":"I have a requirement where I need to perform some java tasks in my nodejs app. \r\nMy application is on node version 12.22.7 with java 8 installed on 64 bit windows machine\r\nI have installed java npm version ^0.12.1. But while trying to run the application it throws the following error\r\n&quot;\\\\node_modules\\\\java\\\\build\\\\Release\\\\nodejavabridge_bindings.node&quot;,&quot;stack&quot;:&quot;Error: The specified module could not be found.&quot;\r\nI have checked and the file exists in the above path\r\nIs there any work around for it?\r\n","title":"java npm gives &quot;\\\\node_modules\\\\java\\\\build\\\\Release\\\\nodejavabridge_bindings.node&quot;,&quot;stack&quot;:&quot;Error: The specified module could not be found.&quot; error","body":"<p>I have a requirement where I need to perform some java tasks in my nodejs app.\nMy application is on node version 12.22.7 with java 8 installed on 64 bit windows machine\nI have installed java npm version ^0.12.1. But while trying to run the application it throws the following error\n&quot;\\node_modules\\java\\build\\Release\\nodejavabridge_bindings.node&quot;,&quot;stack&quot;:&quot;Error: The specified module could not be found.&quot;\nI have checked and the file exists in the above path\nIs there any work around for it?</p>\n"},{"tags":["java","codenameone","netbeans-plugins"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681009419,"creation_date":1681009419,"answer_id":75968579,"question_id":75967436,"body_markdown":"We no longer support the plugins as newer IDE versions broke compatibility. They are here only around to support legacy ant projects. \r\n\r\nYou need to use Maven projects they don&#39;t work with a plugin. \r\n\r\nA maven skeleton for any IDE can be generated here: https://start.codenameone.com/","title":"I can&#39;t download the Codename One plugin in NetBeans because of NBM","body":"<p>We no longer support the plugins as newer IDE versions broke compatibility. They are here only around to support legacy ant projects.</p>\n<p>You need to use Maven projects they don't work with a plugin.</p>\n<p>A maven skeleton for any IDE can be generated here: <a href=\"https://start.codenameone.com/\" rel=\"nofollow noreferrer\">https://start.codenameone.com/</a></p>\n"}],"owner":{"account_id":28251976,"reputation":11,"user_id":21598062,"display_name":"lucy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681009419,"creation_date":1680984249,"question_id":75967436,"body_markdown":"I&#39;m trying to install the Codename One plugin in NetBeans 17 but i get a message saying The validation of downloaded plugins cannot be completed, cause: NBM. Don&#39;t really know what does mean, what should i try?\r\n\r\nThat is the only thing i have tried. Don&#39;t know what else to do","title":"I can&#39;t download the Codename One plugin in NetBeans because of NBM","body":"<p>I'm trying to install the Codename One plugin in NetBeans 17 but i get a message saying The validation of downloaded plugins cannot be completed, cause: NBM. Don't really know what does mean, what should i try?</p>\n<p>That is the only thing i have tried. Don't know what else to do</p>\n"},{"tags":["java","xml","xmlbeans","xml-binding"],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681006815,"creation_date":1681006815,"question_id":75968502,"body_markdown":"I have a bunch of Java classes. I have been using JAX-B to serialize them to XML. I am not interested in deserializing from XML. \r\n\r\nI am dissatisfied with how JAX-B works, especially when it comes to inheritance.\r\n\r\nI am exploring using XmlBeans. I cannot use XStream as it will never pass certification due to its vulnerabilities.\r\n\r\nI do not have any XSD. The following is an overly simplified set of classes I need to serialize to XML.\r\n\r\n    public class Line {\r\n      @XmlAttribute\r\n      public int width;\r\n      @XmlAttribute\r\n      public Color color;\r\n    } \r\n    \r\n    @XmlRootElement\r\n    public class Chart {\r\n      @XmlAttribute\r\n      public Color background;\r\n      public List&lt;Line&gt; lines;\r\n    }\r\n\r\nIn what ways could I use XmlBeans, as well as how should I modify these classes, to serialize an instance of the Chart class?","title":"Using XmlBeans to serialize POJO to XML","body":"<p>I have a bunch of Java classes. I have been using JAX-B to serialize them to XML. I am not interested in deserializing from XML.</p>\n<p>I am dissatisfied with how JAX-B works, especially when it comes to inheritance.</p>\n<p>I am exploring using XmlBeans. I cannot use XStream as it will never pass certification due to its vulnerabilities.</p>\n<p>I do not have any XSD. The following is an overly simplified set of classes I need to serialize to XML.</p>\n<pre><code>public class Line {\n  @XmlAttribute\n  public int width;\n  @XmlAttribute\n  public Color color;\n} \n\n@XmlRootElement\npublic class Chart {\n  @XmlAttribute\n  public Color background;\n  public List&lt;Line&gt; lines;\n}\n</code></pre>\n<p>In what ways could I use XmlBeans, as well as how should I modify these classes, to serialize an instance of the Chart class?</p>\n"},{"tags":["java","spring","spring-data-jpa","persistence","hibernate-onetomany"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680995090,"post_id":75965384,"comment_id":133988572,"body_markdown":"can you share how are you saving the entities?","body":"can you share how are you saving the entities?"},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681000358,"post_id":75965384,"comment_id":133988986,"body_markdown":"Hi, thank you for giving me a hand.  I’m just using the saving method of the repository : ‘’productRepository.save(product);’’ where I get the product from the @RequestBody as a method argument in my rest controller","body":"Hi, thank you for giving me a hand.  I’m just using the saving method of the repository : ‘’productRepository.save(product);’’ where I get the product from the @RequestBody as a method argument in my rest controller"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681002647,"creation_date":1681002647,"answer_id":75968355,"question_id":75965384,"body_markdown":"so basically i am assuming you want on call of ```productRepository.save(product)``` it automatically saves comments with it, if so you need to change cascade to ```@OneToMany(cascade = { CascadeType.ALL})``` otherwise you need manually to call both repositories to save entities, i tested your code, and only thing that is missing is to change cascade type ","title":"Can we create both parent and child in a row in OneToMany unidirectionnal relationship using Spring JPA?","body":"<p>so basically i am assuming you want on call of <code>productRepository.save(product)</code> it automatically saves comments with it, if so you need to change cascade to <code>@OneToMany(cascade = { CascadeType.ALL})</code> otherwise you need manually to call both repositories to save entities, i tested your code, and only thing that is missing is to change cascade type</p>\n"}],"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681002647,"creation_date":1680959173,"question_id":75965384,"body_markdown":"I&#39;m trying to understand how Spring JPA works in creating (POST http action) resources under relationships (@OneToMany).\r\nI have 2 simples classes, `Product` and `Comment`. One `product`is related to many `comments`.\r\n\r\nProduct class : \r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\r\n\t@OneToMany(cascade = { CascadeType.PERSIST})\r\n\t@JoinColumn(name = &quot;product_id&quot;)\r\n\tprivate List&lt;Comment&gt; comments;\r\n\r\n... getters and setters are also implemented\r\n\r\n}\r\n```\r\nComment class : \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;comment&quot;)\r\npublic class Comment {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;comment_id&quot;)\r\n\tprivate int commentId;\r\n\r\n\t@Column(name = &quot;content&quot;)\r\n\tprivate String content;\r\n\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\r\n... getters and setters\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI implemented this *@OneToMany relationship* as unidirectional, on purpose, just to understand how it works.\r\nI also made basic controller and repository classes for both resources.\r\nWhat I am trying to understand is, when I send a Post request (using postman) to `&quot;/products&quot;` with a new product and its new comments at the same time as below : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI dont understand why I&#39;m getting an error 500 from hibernate that successfully created the new product but did not for the comment because the comment `is missing the foreign key.` Of course I the get issue here. But since my relationship is unidirectional from the product, it should mean the product is leading the relation. So spring should synchronize the *persisting* operation (I added `CascadeType.PERSIST`), based on the product. In my request body, the product&#39;s `comments list` is filled with two new comments. This is supposed to set the `comments list` of the product and tell to hibernate that this product has two new `comments`.\r\nSo my question is, why doesnt hibernate create the product then get the new id of this product and then create the two new comments with a foreign key set to this new product id ?\r\nThank you for all your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p9fbf.png","title":"Can we create both parent and child in a row in OneToMany unidirectionnal relationship using Spring JPA?","body":"<p>I'm trying to understand how Spring JPA works in creating (POST http action) resources under relationships (@OneToMany).\nI have 2 simples classes, <code>Product</code> and <code>Comment</code>. One <code>product</code>is related to many <code>comments</code>.</p>\n<p>Product class :</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @OneToMany(cascade = { CascadeType.PERSIST})\n    @JoinColumn(name = &quot;product_id&quot;)\n    private List&lt;Comment&gt; comments;\n\n... getters and setters are also implemented\n\n}\n</code></pre>\n<p>Comment class :</p>\n<pre><code>@Entity\n@Table(name = &quot;comment&quot;)\npublic class Comment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;comment_id&quot;)\n    private int commentId;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n\n... getters and setters\n\n}\n</code></pre>\n<p>I implemented this <em>@OneToMany relationship</em> as unidirectional, on purpose, just to understand how it works.\nI also made basic controller and repository classes for both resources.\nWhat I am trying to understand is, when I send a Post request (using postman) to <code>&quot;/products&quot;</code> with a new product and its new comments at the same time as below :</p>\n<p><a href=\"https://i.stack.imgur.com/p9fbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9fbf.png\" alt=\"enter image description here\" /></a></p>\n<p>I dont understand why I'm getting an error 500 from hibernate that successfully created the new product but did not for the comment because the comment <code>is missing the foreign key.</code> Of course I the get issue here. But since my relationship is unidirectional from the product, it should mean the product is leading the relation. So spring should synchronize the <em>persisting</em> operation (I added <code>CascadeType.PERSIST</code>), based on the product. In my request body, the product's <code>comments list</code> is filled with two new comments. This is supposed to set the <code>comments list</code> of the product and tell to hibernate that this product has two new <code>comments</code>.\nSo my question is, why doesnt hibernate create the product then get the new id of this product and then create the two new comments with a foreign key set to this new product id ?\nThank you for all your help.</p>\n"},{"tags":["java","spring-boot","get","media"],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681002166,"creation_date":1681002166,"question_id":75968337,"body_markdown":"I&#39;m trying to implement a GET functionality in my springboot project but I&#39;m pretty new to backend development and I&#39;m struggling with debugging. I&#39;m choosing a File and passing it as a MultipartFile to the server through a POST call, compressing it, storing it in a database and then, for the output, I&#39;m decompressing and sending it back through a GET call for it to be displayed. I tested the server side through Postman and it works just fine (the image/video is being displayed properly in the body section of the app) so the error must be caused somewhere in the client side. The error code I&#39;m getting is:\r\n```\r\nCaused by: MediaException: MEDIA_UNSUPPORTED : Unrecognized file signature!\r\n```\r\nAnd is caused on this line, when I&#39;m creating the JavaFX Media object for the file, so that it can be displayed in a MediaView: \r\n```\r\nMedia media = new Media(file.toURI().toString());\r\nmediaPlayer = new MediaPlayer(media);\r\n```\r\nI&#39;m guessing that it&#39;s because the file is in the .tmp format at the end of the client-side get call method, but I don&#39;t know how to retrieve the original format and convert the file to it. This is the method that makes the GET call in the client:\r\n```\r\npublic File getFile(String fileName) throws IOException {\r\n        String url = getServer()+ &quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/&quot; + fileName;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.getForEntity(url, byte[].class);\r\n        InputStream inputStream = new ByteArrayInputStream(response.getBody());\r\n        File file = File.createTempFile(&quot;temp&quot;, &quot;.tmp&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n        byte[] buffer = new byte[1024];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            outputStream.write(buffer, 0, bytesRead);\r\n        }\r\n        outputStream.close();\r\n        inputStream.close();\r\n        return file;\r\n    }\r\n```\r\nCould you help?","title":"How can I modify the type of file that my client-side GET calling method returns?","body":"<p>I'm trying to implement a GET functionality in my springboot project but I'm pretty new to backend development and I'm struggling with debugging. I'm choosing a File and passing it as a MultipartFile to the server through a POST call, compressing it, storing it in a database and then, for the output, I'm decompressing and sending it back through a GET call for it to be displayed. I tested the server side through Postman and it works just fine (the image/video is being displayed properly in the body section of the app) so the error must be caused somewhere in the client side. The error code I'm getting is:</p>\n<pre><code>Caused by: MediaException: MEDIA_UNSUPPORTED : Unrecognized file signature!\n</code></pre>\n<p>And is caused on this line, when I'm creating the JavaFX Media object for the file, so that it can be displayed in a MediaView:</p>\n<pre><code>Media media = new Media(file.toURI().toString());\nmediaPlayer = new MediaPlayer(media);\n</code></pre>\n<p>I'm guessing that it's because the file is in the .tmp format at the end of the client-side get call method, but I don't know how to retrieve the original format and convert the file to it. This is the method that makes the GET call in the client:</p>\n<pre><code>public File getFile(String fileName) throws IOException {\n        String url = getServer()+ &quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/&quot; + fileName;\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.getForEntity(url, byte[].class);\n        InputStream inputStream = new ByteArrayInputStream(response.getBody());\n        File file = File.createTempFile(&quot;temp&quot;, &quot;.tmp&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            outputStream.write(buffer, 0, bytesRead);\n        }\n        outputStream.close();\n        inputStream.close();\n        return file;\n    }\n</code></pre>\n<p>Could you help?</p>\n"},{"tags":["java","generics","return-type"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681002225,"post_id":75968317,"comment_id":133989096,"body_markdown":"1) `return null;` always works if you&#39;re not dealing with a primitive or better yet: 2) throw a &quot;UnsupportedOperationException&quot;&quot; exception.","body":"1) <code>return null;</code> always works if you&#39;re not dealing with a primitive or better yet: 2) throw a &quot;UnsupportedOperationException&quot;&quot; exception."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681002603,"post_id":75968317,"comment_id":133989126,"body_markdown":"`public &lt;T&gt; T foo() {\n    throw new UnsupportedOperationException(&quot;Method not yet completed&quot;);\n  }`","body":"<code>public &lt;T&gt; T foo() {     throw new UnsupportedOperationException(&quot;Method not yet completed&quot;);   }</code>"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681002511,"answer_count":0,"score":0,"last_activity_date":1681001725,"creation_date":1681001725,"question_id":75968317,"body_markdown":"I&#39;m writing a few empty generic methods that I plan on coming back to finish later. However, I still want the program to compile. How do I return an empty generic method?\r\n\r\nFor example: \r\n\r\n    public AnyType getData()\r\n    {\r\n       return ???\r\n    }\r\n\r\nDo I have have to declare AnyType first and return the variable?\r\n\r\n","title":"Dummy return value for Generic Method","body":"<p>I'm writing a few empty generic methods that I plan on coming back to finish later. However, I still want the program to compile. How do I return an empty generic method?</p>\n<p>For example:</p>\n<pre><code>public AnyType getData()\n{\n   return ???\n}\n</code></pre>\n<p>Do I have have to declare AnyType first and return the variable?</p>\n"},{"tags":["java","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678713801,"post_id":75722429,"comment_id":133581572,"body_markdown":"Do you have the correct dependencies?","body":"Do you have the correct dependencies?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678714431,"post_id":75722429,"comment_id":133581784,"body_markdown":"`import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;`","body":"<code>import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.config&zwnj;&#8203;uration.EnableGlobal&zwnj;&#8203;MethodSecurity; import org.springframework.security.config.annotation.web.builders.&zwnj;&#8203;HttpSecurity; import org.springframework.security.crypto.bcrypt.BCryptPasswordEnc&zwnj;&#8203;oder; import org.springframework.security.crypto.password.PasswordEncoder&zwnj;&#8203;; import org.springframework.security.web.SecurityFilterChain;</code>"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678714452,"post_id":75722429,"comment_id":133581792,"body_markdown":"Do you have the `spring-boot-starter-security` dependency in pom.xml? I am not referring to imports.","body":"Do you have the <code>spring-boot-starter-security</code> dependency in pom.xml? I am not referring to imports."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678717319,"post_id":75722429,"comment_id":133582807,"body_markdown":"please remove the `spring-security-core` it is not needed as you have inccluded the `spring-security-starter` which in turn will pull in all relevant dependencies for you.","body":"please remove the <code>spring-security-core</code> it is not needed as you have inccluded the <code>spring-security-starter</code> which in turn will pull in all relevant dependencies for you."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678717376,"post_id":75722429,"comment_id":133582825,"body_markdown":"Your dependencies are a mess please clean them oup and fix them. In this case at least remove the `spring-security-core` dependency.","body":"Your dependencies are a mess please clean them oup and fix them. In this case at least remove the <code>spring-security-core</code> dependency."},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678718394,"post_id":75722429,"comment_id":133583182,"body_markdown":"i fixed my pom.xml and removed spring-security-core but the error still persists","body":"i fixed my pom.xml and removed spring-security-core but the error still persists"}],"answers":[{"tags":[],"owner":{"account_id":20427615,"reputation":11,"user_id":21386531,"display_name":"Luis Velasquez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681000951,"creation_date":1680317800,"answer_id":75904049,"question_id":75722429,"body_markdown":"Gateway and Spring Security generate conflicts. If not use gateway Spring security works fine. Someone could  give more reach? ","title":"Parameter 0 of method filterChain","body":"<p>Gateway and Spring Security generate conflicts. If not use gateway Spring security works fine. Someone could  give more reach?</p>\n"}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681000951,"creation_date":1678713658,"question_id":75722429,"body_markdown":"I am not able to configure my security class correctly, when I inject @Bean the application does not start, but when I remove @Bean the application starts but does not load my settings\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Parameter 0 of method filterChain in   com.xxxxxxxxx.xxxxxxxx.config.integracao.security.SpringSecurityV2 required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type  &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n\r\n\r\n    Process finished with exit code 1\r\n    \r\nSecurity configuration:\r\n\r\n     @Configuration\r\n     @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n     public class SpringSecurityV2 {\r\n\r\n\r\n\r\n     @Bean\r\n     public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n            http\r\n                    .httpBasic()\r\n                    .and()\r\n                    .authorizeHttpRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .csrf().disable();\r\n\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n \r\n    }\r\n\r\nThe pom.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.14&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xxxxxxxxxx&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;xxxxxxxxxxxx&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaybird&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.8.java11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.0.ga&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            \t&lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            \t&lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n```\r\n    ","title":"Parameter 0 of method filterChain","body":"<p>I am not able to configure my security class correctly, when I inject @Bean the application does not start, but when I remove @Bean the application starts but does not load my settings</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method filterChain in   com.xxxxxxxxx.xxxxxxxx.config.integracao.security.SpringSecurityV2 required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type  'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Security configuration:</p>\n<pre><code> @Configuration\n @EnableGlobalMethodSecurity(prePostEnabled = true)\n public class SpringSecurityV2 {\n\n\n\n @Bean\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http\n                .httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n                .csrf().disable();\n\n\n\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n}\n</code></pre>\n<p>The pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.6.14&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\n        &lt;artifactId&gt;xxxxxxxxxx&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;xxxxxxxxxxxx&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n                &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\n                &lt;version&gt;4.0.8.java11&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n                &lt;version&gt;3.6.3.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0.ga&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\n                &lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\n                &lt;version&gt;1.3.18&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n                &lt;version&gt;RELEASE&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","google-oauth","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":13487427,"reputation":294,"user_id":9730812,"display_name":"Wojciech Lesniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619816123,"creation_date":1619816123,"answer_id":67340353,"question_id":67317568,"body_markdown":"For OIDC by default Spring will map scopes and the default USER role to granted Authorities on OidcUser object.\r\nYour simply returning this in your CustomOidcUser\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return oidcUser.getAuthorities();\r\n    }\r\n\r\nYou need to create a custom GrantedAuthorities collection in your CustomOidcUser object, and then your CustomOidcUserService you need to add the roles from your database to this collection manually.\r\n\r\n    Collection&lt;GrantedAuthority&gt; authorities ....\r\n    authorities.add(new SimpleGrantedAuthority(&quot;ROLE_....&quot;));","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>For OIDC by default Spring will map scopes and the default USER role to granted Authorities on OidcUser object.\nYour simply returning this in your CustomOidcUser</p>\n<pre><code>@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return oidcUser.getAuthorities();\n}\n</code></pre>\n<p>You need to create a custom GrantedAuthorities collection in your CustomOidcUser object, and then your CustomOidcUserService you need to add the roles from your database to this collection manually.</p>\n<pre><code>Collection&lt;GrantedAuthority&gt; authorities ....\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_....&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681000387,"creation_date":1681000387,"answer_id":75968268,"question_id":67317568,"body_markdown":"To me, below code works, it&#39;s similar to [Lesniak][1]&#39;s answer, but not the same.\r\n\r\n    @Service\r\n    public class CustomOAuth2UserService extends DefaultOAuth2UserService {\r\n    \t@Override\r\n    \tpublic OAuth2User loadUser(OAuth2UserRequest userRequest)\r\n    \t\t\tthrows OAuth2AuthenticationException {\r\n    \t\tOAuth2User user = super.loadUser(userRequest);\r\n    \t\treturn new CustomOAuth2User(user);\r\n    \t}\r\n    }\r\n\r\nBelow shows CustomOAuth2User class:\r\n\r\n    @AllArgsConstructor\r\n    public class CustomOAuth2User implements OAuth2User {\r\n    \r\n    \tprivate OAuth2User oAuth2User;\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, Object&gt; getAttributes() {\r\n    \t\treturn oAuth2User.getAttributes();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n    \t\toAuth2User.getAuthorities().forEach(ga -&gt; authorities.add(ga));\r\n    \t\tauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n    \r\n    \t\treturn authorities;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getName() {\r\n    \t\treturn oAuth2User.getAttribute(&quot;name&quot;);\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67340353/3901138","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>To me, below code works, it's similar to <a href=\"https://stackoverflow.com/a/67340353/3901138\">Lesniak</a>'s answer, but not the same.</p>\n<pre><code>@Service\npublic class CustomOAuth2UserService extends DefaultOAuth2UserService {\n    @Override\n    public OAuth2User loadUser(OAuth2UserRequest userRequest)\n            throws OAuth2AuthenticationException {\n        OAuth2User user = super.loadUser(userRequest);\n        return new CustomOAuth2User(user);\n    }\n}\n</code></pre>\n<p>Below shows CustomOAuth2User class:</p>\n<pre><code>@AllArgsConstructor\npublic class CustomOAuth2User implements OAuth2User {\n\n    private OAuth2User oAuth2User;\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oAuth2User.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        oAuth2User.getAuthorities().forEach(ga -&gt; authorities.add(ga));\n        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n\n        return authorities;\n    }\n\n    @Override\n    public String getName() {\n        return oAuth2User.getAttribute(&quot;name&quot;);\n    }\n\n    public String getEmail() {\n        return oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12720348,"reputation":89,"user_id":9241003,"display_name":"Maks Chornyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4983,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67340353,"answer_count":2,"score":4,"last_activity_date":1681000387,"creation_date":1619699952,"question_id":67317568,"body_markdown":"I&#39;m struggling with spring security after implemented oauth2 in my application. That&#39;s my first experience, but will be glad to hear nice or anger comments. That&#39;s the way to improve.\r\n\r\n**Problem:**\r\nDuring the logging in my application I see that I retrieve from google oidcuser object of DefaultOidcUser class. This object has collection of `authorities` with 4 items: [![enter image description here][1]][1]\r\n\r\nHonestly, I don&#39;t understand why I get ROLE_USER for this user in my system, cos actually it has ADMIN role in my system (role is created by me). \r\n\r\nGenerally I have 3 roles in my app: User, Manager, Admin. But can&#39;t understand how to correctly set particular role for special user. \r\n\r\nBecause of this, when I put smth like:\r\n```\r\n  .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\r\n  .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\r\n```\r\nI get 403 cos as I understand I get ROLE_USER for each user. \r\n\r\nCan you please help me to set roles for each User but from my db (not this default ROLSER_USER from google)? \r\nAlso I read about GrantedAuthorities and mapper of grantedAuthorities, but it&#39;s a bit unclear for me. \r\n\r\nI will be glad to hear any opinion. any useful link to improve my knowledge about this. Cos main goal: to understand how it works. \r\n\r\nOther classes of my oauth2 implementation below:\r\n```\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class CustomOidcUser implements OidcUser {\r\n\r\n    private final OidcUser oidcUser;\r\n    private String email;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getClaims() {\r\n        return oidcUser.getClaims();\r\n    }\r\n    @Override\r\n    public OidcUserInfo getUserInfo() {\r\n        return oidcUser.getUserInfo();\r\n    }\r\n\r\n    @Override\r\n    public OidcIdToken getIdToken() {\r\n        return oidcUser.getIdToken();\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getAttributes() {\r\n        return oidcUser.getAttributes();\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return oidcUser.getAuthorities();\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return oidcUser.getName();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CustomOidcUserService extends OidcUserService {\r\n\r\n    private final UserRepository repository;\r\n    private static final String GOOGLE_KEY_LASTNAME = &quot;family_name&quot;;\r\n    private static final String GOOGLE_KEY_FIRSTNAME = &quot;given_name&quot;;\r\n\r\n    @Override\r\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\r\n        final OidcUser oidcUser = super.loadUser(userRequest);\r\n        CustomOidcUser newUser =  new CustomOidcUser(oidcUser);\r\n\r\n        String email = oidcUser.getAttributes().get(&quot;email&quot;).toString();\r\n        User user = createUserIfNoExist(email, oidcUser);\r\n        newUser.setEmail(email);\r\n        newUser.setFirstName(user.getFirstName());\r\n        newUser.setLastName(user.getLastName());\r\n\r\n        return newUser;\r\n    }\r\n\r\n    public User createUserIfNoExist(String email, OidcUser oidcUser) {\r\n        return repository.findByEmail(email)\r\n                .orElseGet(() -&gt; {\r\n                    User newUser = new User();\r\n                    newUser.setEmail(email);\r\n                    newUser.setRole(Role.USER);\r\n                    newUser.setStartWorkAt(LocalDate.now());\r\n                    newUser.setLastLoginDate(LocalDateTime.now());\r\n    ...\r\n\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableGlobalMethodSecurity(prePostEnabled = true,securedEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n  private final AuthProvider authProvider;\r\n  private final OnSuccessHandler onSuccessHandler;\r\n  private final CustomOidcUserService customOidcUserService;\r\n  private final UserService userService;\r\n\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\r\n    successHandler.setUseReferer(true);\r\n    successHandler.setDefaultTargetUrl(&quot;/success&quot;);\r\n    successHandler.setAlwaysUseDefaultTargetUrl(true);\r\n\r\n    http\r\n        .addFilterAfter(new UserHasManagerFilter(userService), BasicAuthenticationFilter.class)\r\n        .cors()\r\n        .and()\r\n          .csrf()\r\n          .disable()\r\n          .authorizeRequests()\r\n          .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\r\n          .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\r\n        .and()\r\n            .httpBasic()\r\n        .and()\r\n          .formLogin()\r\n          .loginPage(&quot;/unauthorized&quot;)\r\n          .loginProcessingUrl(&quot;/login&quot;)\r\n          .defaultSuccessUrl(&quot;/success&quot;)\r\n          .failureUrl(&quot;/failed&quot;)\r\n          .successHandler(successHandler)\r\n          .usernameParameter(&quot;email&quot;)\r\n          .passwordParameter(&quot;password&quot;)\r\n          .permitAll()\r\n        .and()\r\n          .logout()\r\n          .logoutUrl(&quot;/logout&quot;)\r\n          .logoutSuccessUrl(&quot;/logout_success&quot;)\r\n          .permitAll()\r\n        .and()\r\n            .oauth2Login()\r\n\r\n              .loginPage(&quot;/&quot;)\r\n              .userInfoEndpoint(userInfoEndpoint -&gt;\r\n                      userInfoEndpoint.oidcUserService(customOidcUserService)\r\n                      .customUserType(CustomOidcUser.class, &quot;google&quot;)\r\n//                      .userAuthoritiesMapper(userAuthoritiesMapper())\r\n              )\r\n\r\n              .defaultSuccessUrl(&quot;/dashboard&quot;, true)\r\n              .successHandler(onSuccessHandler)\r\n              .failureHandler(authenticationFailureHandler())\r\n            .permitAll()\r\n        .and()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/**&quot;)\r\n        .permitAll();\r\n  }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/xo06B.png","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>I'm struggling with spring security after implemented oauth2 in my application. That's my first experience, but will be glad to hear nice or anger comments. That's the way to improve.</p>\n<p><strong>Problem:</strong>\nDuring the logging in my application I see that I retrieve from google oidcuser object of DefaultOidcUser class. This object has collection of <code>authorities</code> with 4 items: <a href=\"https://i.stack.imgur.com/xo06B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo06B.png\" alt=\"enter image description here\" /></a></p>\n<p>Honestly, I don't understand why I get ROLE_USER for this user in my system, cos actually it has ADMIN role in my system (role is created by me).</p>\n<p>Generally I have 3 roles in my app: User, Manager, Admin. But can't understand how to correctly set particular role for special user.</p>\n<p>Because of this, when I put smth like:</p>\n<pre><code>  .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\n  .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\n</code></pre>\n<p>I get 403 cos as I understand I get ROLE_USER for each user.</p>\n<p>Can you please help me to set roles for each User but from my db (not this default ROLSER_USER from google)?\nAlso I read about GrantedAuthorities and mapper of grantedAuthorities, but it's a bit unclear for me.</p>\n<p>I will be glad to hear any opinion. any useful link to improve my knowledge about this. Cos main goal: to understand how it works.</p>\n<p>Other classes of my oauth2 implementation below:</p>\n<pre><code>@Getter\n@Setter\n@RequiredArgsConstructor\npublic class CustomOidcUser implements OidcUser {\n\n    private final OidcUser oidcUser;\n    private String email;\n    private String firstName;\n    private String lastName;\n\n    @Override\n    public Map&lt;String, Object&gt; getClaims() {\n        return oidcUser.getClaims();\n    }\n    @Override\n    public OidcUserInfo getUserInfo() {\n        return oidcUser.getUserInfo();\n    }\n\n    @Override\n    public OidcIdToken getIdToken() {\n        return oidcUser.getIdToken();\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oidcUser.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return oidcUser.getAuthorities();\n    }\n\n    @Override\n    public String getName() {\n        return oidcUser.getName();\n    }\n\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CustomOidcUserService extends OidcUserService {\n\n    private final UserRepository repository;\n    private static final String GOOGLE_KEY_LASTNAME = &quot;family_name&quot;;\n    private static final String GOOGLE_KEY_FIRSTNAME = &quot;given_name&quot;;\n\n    @Override\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\n        final OidcUser oidcUser = super.loadUser(userRequest);\n        CustomOidcUser newUser =  new CustomOidcUser(oidcUser);\n\n        String email = oidcUser.getAttributes().get(&quot;email&quot;).toString();\n        User user = createUserIfNoExist(email, oidcUser);\n        newUser.setEmail(email);\n        newUser.setFirstName(user.getFirstName());\n        newUser.setLastName(user.getLastName());\n\n        return newUser;\n    }\n\n    public User createUserIfNoExist(String email, OidcUser oidcUser) {\n        return repository.findByEmail(email)\n                .orElseGet(() -&gt; {\n                    User newUser = new User();\n                    newUser.setEmail(email);\n                    newUser.setRole(Role.USER);\n                    newUser.setStartWorkAt(LocalDate.now());\n                    newUser.setLastLoginDate(LocalDateTime.now());\n    ...\n\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableGlobalMethodSecurity(prePostEnabled = true,securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n  private final AuthProvider authProvider;\n  private final OnSuccessHandler onSuccessHandler;\n  private final CustomOidcUserService customOidcUserService;\n  private final UserService userService;\n\n  protected void configure(HttpSecurity http) throws Exception {\n    SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\n    successHandler.setUseReferer(true);\n    successHandler.setDefaultTargetUrl(&quot;/success&quot;);\n    successHandler.setAlwaysUseDefaultTargetUrl(true);\n\n    http\n        .addFilterAfter(new UserHasManagerFilter(userService), BasicAuthenticationFilter.class)\n        .cors()\n        .and()\n          .csrf()\n          .disable()\n          .authorizeRequests()\n          .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\n          .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\n        .and()\n            .httpBasic()\n        .and()\n          .formLogin()\n          .loginPage(&quot;/unauthorized&quot;)\n          .loginProcessingUrl(&quot;/login&quot;)\n          .defaultSuccessUrl(&quot;/success&quot;)\n          .failureUrl(&quot;/failed&quot;)\n          .successHandler(successHandler)\n          .usernameParameter(&quot;email&quot;)\n          .passwordParameter(&quot;password&quot;)\n          .permitAll()\n        .and()\n          .logout()\n          .logoutUrl(&quot;/logout&quot;)\n          .logoutSuccessUrl(&quot;/logout_success&quot;)\n          .permitAll()\n        .and()\n            .oauth2Login()\n\n              .loginPage(&quot;/&quot;)\n              .userInfoEndpoint(userInfoEndpoint -&gt;\n                      userInfoEndpoint.oidcUserService(customOidcUserService)\n                      .customUserType(CustomOidcUser.class, &quot;google&quot;)\n//                      .userAuthoritiesMapper(userAuthoritiesMapper())\n              )\n\n              .defaultSuccessUrl(&quot;/dashboard&quot;, true)\n              .successHandler(onSuccessHandler)\n              .failureHandler(authenticationFailureHandler())\n            .permitAll()\n        .and()\n        .authorizeRequests()\n        .antMatchers(&quot;/**&quot;)\n        .permitAll();\n  }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680939791,"post_id":75960746,"comment_id":133981992,"body_markdown":"Please look at the documentation of [`java.util.regex.Pattern`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html) to see the definition of `\\p{Print}`. It only includes characters in US-ASCII. The characters you mention aren&#39;t in ASCII, so using `\\P{Print}` will exclude all non-printable ASCII characters and **all** non-ASCII character. If you want `\\P{Print}` to use the Unicode definition, you must add the UNICODE_CHARACTER_CLASS flag or add `(?U)` before the start of your pattern. That is: `&quot;(?U)\\\\P{Print}&quot;`.","body":"Please look at the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.Pattern</code></a> to see the definition of <code>\\p{Print}</code>. It only includes characters in US-ASCII. The characters you mention aren&#39;t in ASCII, so using <code>\\P{Print}</code> will exclude all non-printable ASCII characters and <b>all</b> non-ASCII character. If you want <code>\\P{Print}</code> to use the Unicode definition, you must add the UNICODE_CHARACTER_CLASS flag or add <code>(?U)</code> before the start of your pattern. That is: <code>&quot;(?U)\\\\P{Print}&quot;</code>."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680959567,"post_id":75960746,"comment_id":133984150,"body_markdown":"Mark, I tried `\\P{Print}` with `UNICODE_CHARACTER_CLASS` and it didn&#39;t work. What did work was `\\p{Cntrl}`, i.e. anything outside of Control chars (0-32)","body":"Mark, I tried <code>\\P{Print}</code> with <code>UNICODE_CHARACTER_CLASS</code> and it didn&#39;t work. What did work was <code>\\p{Cntrl}</code>, i.e. anything outside of Control chars (0-32)"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1681057434,"post_id":75960746,"comment_id":133994334,"body_markdown":"Never mind, I see that `&quot;(?U)\\\\P{Print}&quot;` works, you&#39;re right. It&#39;s not exactly similar to `\\\\p{Cntrl}`, however: e.g. it will remove `65528` and `65534` from this list: `(65528,65529,65530,65531,65532,65533,65534)` whereas `\\\\p{Cntrl}` will keep them. So there&#39;s still a slight difference between `&quot;(?U)\\\\P{Print}&quot;` and `\\\\p{Cntrl}`.","body":"Never mind, I see that <code>&quot;(?U)\\\\P{Print}&quot;</code> works, you&#39;re right. It&#39;s not exactly similar to <code>\\\\p{Cntrl}</code>, however: e.g. it will remove <code>65528</code> and <code>65534</code> from this list: <code>(65528,65529,65530,65531,65532,65533,65534)</code> whereas <code>\\\\p{Cntrl}</code> will keep them. So there&#39;s still a slight difference between <code>&quot;(?U)\\\\P{Print}&quot;</code> and <code>\\\\p{Cntrl}</code>."}],"answers":[{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680893319,"creation_date":1680889284,"answer_id":75960784,"question_id":75960746,"body_markdown":"According to [the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html), by default those classes apply to US-ASCII only\r\n\r\nSpecifically:\r\n\r\n```\r\n\\p{Lower}\tA lower-case alphabetic character: [a-z]\r\n\\p{Upper}\tAn upper-case alphabetic character:[A-Z]\r\n\\p{Alpha}\tAn alphabetic character:[\\p{Lower}\\p{Upper}]\r\n\\p{Digit}\tA decimal digit: [0-9]\r\n\\p{Alnum}\tAn alphanumeric character:[\\p{Alpha}\\p{Digit}]\r\n\\p{Graph}\tA visible character: [\\p{Alnum}\\p{Punct}]\r\n\\p{Print}\tA printable character: [\\p{Graph}\\x20]\r\n```\r\n\r\nputting it all together, `\\p{print}` matches `[a-zA-Z0-9\\x20]` only.\r\n\r\n**However**, further down the documentation, we can find:\r\n\r\n&gt; The following Predefined Character classes and POSIX character classes are in conformance with the recommendation of Annex C: Compatibility Properties of Unicode Regular Expression , when UNICODE_CHARACTER_CLASS flag is specified.\r\n\r\n```\r\n\\p{Cntrl}\tA control character: \\p{gc=Cc}\r\n```\r\n\r\nSo, make sure to pass `Pattern.UNICODE_CHARACTER_CLASS`, and to use `Pattern.compile(&quot;\\\\p{Cntrl}&quot;).matcher(value).replaceAll(&quot;&quot;)`\r\n\r\nIt also seem that `\\p{Print}` would work, but if you specifically want to remove control characters `Cntrl` is the right class.\r\n\r\n### Demonstration\r\n\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) {\r\n    // Control characters are 00 to 1F included, this has 3\r\n    String value = &quot;&#193;&#233;&#252; œ, Š, Ÿ œ\\u0000\\u0010\\u001f&quot;;\r\n    String needle = &quot;\\\\p{Cntrl}&quot;;\r\n    Pattern pattern = Pattern.compile(needle, Pattern.UNICODE_CHARACTER_CLASS);\r\n    String result = pattern.matcher(value).replaceAll(&quot;&quot;);\r\n    System.out.println(value.length()); // Prints 16\r\n    System.out.println(result.length()); // Prints 13\r\n  }\r\n}\r\n```","title":"The regexp &quot;\\\\P{Print}&quot; used in Java deletes extended-Latin characters","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">the documentation</a>, by default those classes apply to US-ASCII only</p>\n<p>Specifically:</p>\n<pre><code>\\p{Lower}   A lower-case alphabetic character: [a-z]\n\\p{Upper}   An upper-case alphabetic character:[A-Z]\n\\p{Alpha}   An alphabetic character:[\\p{Lower}\\p{Upper}]\n\\p{Digit}   A decimal digit: [0-9]\n\\p{Alnum}   An alphanumeric character:[\\p{Alpha}\\p{Digit}]\n\\p{Graph}   A visible character: [\\p{Alnum}\\p{Punct}]\n\\p{Print}   A printable character: [\\p{Graph}\\x20]\n</code></pre>\n<p>putting it all together, <code>\\p{print}</code> matches <code>[a-zA-Z0-9\\x20]</code> only.</p>\n<p><strong>However</strong>, further down the documentation, we can find:</p>\n<blockquote>\n<p>The following Predefined Character classes and POSIX character classes are in conformance with the recommendation of Annex C: Compatibility Properties of Unicode Regular Expression , when UNICODE_CHARACTER_CLASS flag is specified.</p>\n</blockquote>\n<pre><code>\\p{Cntrl}   A control character: \\p{gc=Cc}\n</code></pre>\n<p>So, make sure to pass <code>Pattern.UNICODE_CHARACTER_CLASS</code>, and to use <code>Pattern.compile(&quot;\\\\p{Cntrl}&quot;).matcher(value).replaceAll(&quot;&quot;)</code></p>\n<p>It also seem that <code>\\p{Print}</code> would work, but if you specifically want to remove control characters <code>Cntrl</code> is the right class.</p>\n<h3>Demonstration</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {  \n  public static void main(String args[]) {\n    // Control characters are 00 to 1F included, this has 3\n    String value = &quot;Áéü œ, Š, Ÿ œ\\u0000\\u0010\\u001f&quot;;\n    String needle = &quot;\\\\p{Cntrl}&quot;;\n    Pattern pattern = Pattern.compile(needle, Pattern.UNICODE_CHARACTER_CLASS);\n    String result = pattern.matcher(value).replaceAll(&quot;&quot;);\n    System.out.println(value.length()); // Prints 16\n    System.out.println(result.length()); // Prints 13\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680889589,"answer_count":1,"score":1,"last_activity_date":1681000033,"creation_date":1680888893,"question_id":75960746,"body_markdown":"I see that the following line in Java deletes extended-Latin characters, which it should not do:\r\n\r\n    String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;); \r\n\r\nThe `\\\\P{Print}` regexp is used to delete non-printable characters below Code 32. But the Extended-Latin chars below are not non-printable, they are printable.\r\n\r\n`&#193;&#233;&#252; œ, Š, Ÿ œ`  =&gt; `     ,  ,    `\r\n\r\n    String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;);\r\n\r\nIn my case, I need to delete all non-printable chars &lt;Code 32, but keep all other characters including Extended-Latin.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6198986/how-can-i-replace-non-printable-unicode-characters-in-java","title":"The regexp &quot;\\\\P{Print}&quot; used in Java deletes extended-Latin characters","body":"<p>I see that the following line in Java deletes extended-Latin characters, which it should not do:</p>\n<pre><code>String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;); \n</code></pre>\n<p>The <code>\\\\P{Print}</code> regexp is used to delete non-printable characters below Code 32. But the Extended-Latin chars below are not non-printable, they are printable.</p>\n<p><code>Áéü œ, Š, Ÿ œ</code>  =&gt; <code>    ,  ,   </code></p>\n<pre><code>String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;);\n</code></pre>\n<p>In my case, I need to delete all non-printable chars &lt;Code 32, but keep all other characters including Extended-Latin.</p>\n"},{"tags":["java","android","ios","flutter","hive"],"comments":[{"owner":{"account_id":291848,"reputation":2085,"user_id":594253,"accept_rate":50,"display_name":"John Weidner"},"score":1,"creation_date":1681002257,"post_id":75968213,"comment_id":133989098,"body_markdown":"Where are the imageFiles coming from? It looks like the saveTo method might return void.  So you wouldn&#39;t be able to assign the value that saveTo returns to the savedFile variable.","body":"Where are the imageFiles coming from? It looks like the saveTo method might return void.  So you wouldn&#39;t be able to assign the value that saveTo returns to the savedFile variable."}],"owner":{"account_id":28253116,"reputation":1,"user_id":21599010,"display_name":"Maaz Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680998914,"creation_date":1680998914,"question_id":75968213,"body_markdown":"```\r\n    final imagePaths = &lt;String&gt;[];\r\n    for (int i = 0; i &lt; _imageFiles!.length; i++) {\r\n      final imageFile = _imageFiles![i];\r\n      final directory = await getApplicationDocumentsDirectory();\r\n      final imagePath = &#39;${directory.path}/${const Uuid().v1()}.jpg&#39;;\r\n      final savedFile = await imageFile.saveTo(imagePath);\r\n      imagePaths.add(savedFile.path);\r\n    }\r\n\r\n```\r\nerror ; saved.File.path\r\nThis expression has a type of &#39;void&#39; so its value can&#39;t be used.\r\n\r\n\r\nWhy is it showing error?\r\nCan someone help me please?\r\n","title":"Flutter project image path saving problem : This expression has a type of &#39;void&#39; so its value can&#39;t be used","body":"<pre><code>    final imagePaths = &lt;String&gt;[];\n    for (int i = 0; i &lt; _imageFiles!.length; i++) {\n      final imageFile = _imageFiles![i];\n      final directory = await getApplicationDocumentsDirectory();\n      final imagePath = '${directory.path}/${const Uuid().v1()}.jpg';\n      final savedFile = await imageFile.saveTo(imagePath);\n      imagePaths.add(savedFile.path);\n    }\n\n</code></pre>\n<p>error ; saved.File.path\nThis expression has a type of 'void' so its value can't be used.</p>\n<p>Why is it showing error?\nCan someone help me please?</p>\n"},{"tags":["java","spring","boot"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1667351033,"post_id":74283137,"comment_id":131145688,"body_markdown":"why do you use those constructors with validation annotations? There&#39;s no validation happening as far as I know when you manually &quot;new&quot; objects and annotations can simply go on fields (e.g. https://www.baeldung.com/javax-validation#validation). Entities usually have to have a simple no args constructor for database serialization purposes, you can make it private or protected if you don&#39;t want to expose it to regular code","body":"why do you use those constructors with validation annotations? There&#39;s no validation happening as far as I know when you manually &quot;new&quot; objects and annotations can simply go on fields (e.g. <a href=\"https://www.baeldung.com/javax-validation#validation\" rel=\"nofollow noreferrer\">baeldung.com/javax-validation#validation</a>). Entities usually have to have a simple no args constructor for database serialization purposes, you can make it private or protected if you don&#39;t want to expose it to regular code"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1667356010,"post_id":74283137,"comment_id":131146386,"body_markdown":"When I generate the constructors with my code editor&#39;s autocomplete tools it does so. Just omit the constructor annotations, it won&#39;t generate any errors on insert or constructor creation. I am new to Java. But I&#39;ve read that I can&#39;t just create a constructor with all the attributes of a class, or an empty constructor and one with all the attributes. I follow this example of constructor overloading but I don&#39;t understand what is wrong, I follow the following example of constructor overloading:\n[link](https://javadesdecero.es/poo/sobrecarga-de-constructores/)","body":"When I generate the constructors with my code editor&#39;s autocomplete tools it does so. Just omit the constructor annotations, it won&#39;t generate any errors on insert or constructor creation. I am new to Java. But I&#39;ve read that I can&#39;t just create a constructor with all the attributes of a class, or an empty constructor and one with all the attributes. I follow this example of constructor overloading but I don&#39;t understand what is wrong, I follow the following example of constructor overloading: <a href=\"https://javadesdecero.es/poo/sobrecarga-de-constructores/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1667390354,"post_id":74283137,"comment_id":131154657,"body_markdown":"There is nothing wrong with your constructors when it comes to Java itself, the issue is specific to JPA Entities. https://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity - Once you define a constructor in Java there is no more implicit no-argument constructor. So common practice it to manually add  one e.g. simply `protected Cliente() {}`. That constructor is used by the database code to create objects when loaded from the db, the others you define for yourself aren&#39;t used","body":"There is nothing wrong with your constructors when it comes to Java itself, the issue is specific to JPA Entities. <a href=\"https://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity\" title=\"create the perfect jpa entity\">stackoverflow.com/questions/6033905/&hellip;</a> - Once you define a constructor in Java there is no more implicit no-argument constructor. So common practice it to manually add  one e.g. simply <code>protected Cliente() {}</code>. That constructor is used by the database code to create objects when loaded from the db, the others you define for yourself aren&#39;t used"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1667401751,"post_id":74283137,"comment_id":131159156,"body_markdown":"@zapl Doing this solved my problem, thank you very much for taking the time to answer and add an explanation &#128077;","body":"@zapl Doing this solved my problem, thank you very much for taking the time to answer and add an explanation 👍"}],"answers":[{"tags":[],"owner":{"account_id":15506175,"reputation":1,"user_id":11186277,"display_name":"Cinthya Cabanzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680997826,"creation_date":1680997826,"answer_id":75968168,"question_id":74283137,"body_markdown":"When you override a constructor you must to include the default constructor.\r\n\r\n&quot;We must also notice that the java compiler invokes a default constructor when we do not use any constructor in the class. However, the default constructor is not invoked if we have used any constructor in the class, whether it is default or parameterized. In this case, the java compiler throws an exception saying the constructor is undefined.&quot;\r\n\r\nSolution : \r\nUsing Lombok @NoArgsConstructor or \r\n\r\npublic Cliente()  {\r\n   \r\n}\r\n\r\nhttps://www.javatpoint.com/constructor-overloading-in-java","title":"No primary or single unique constructor found for class - spring boot","body":"<p>When you override a constructor you must to include the default constructor.</p>\n<p>&quot;We must also notice that the java compiler invokes a default constructor when we do not use any constructor in the class. However, the default constructor is not invoked if we have used any constructor in the class, whether it is default or parameterized. In this case, the java compiler throws an exception saying the constructor is undefined.&quot;</p>\n<p>Solution :\nUsing Lombok @NoArgsConstructor or</p>\n<p>public Cliente()  {</p>\n<p>}</p>\n<p><a href=\"https://www.javatpoint.com/constructor-overloading-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/constructor-overloading-in-java</a></p>\n"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680997826,"creation_date":1667348682,"question_id":74283137,"body_markdown":"I got this error when using Spring *2.7.4*: **No primary or unique constructor found for class com.library.project.library_el_aleph.model.Client** I have two constructors for two possible inserts in my POJO Entity classes\r\n\r\n    \r\n     @Repository\r\n     public interface RoleRespository extends CrudRepository&lt;Role, Integer&gt;{\r\n\r\n         Role findByUserName(RoleList roleName);\r\n\r\n    \r\n    public Cliente(@NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, \r\n    @NotEmpty String email,\r\n        @NotEmpty String contrase&#241;a) {\r\n        this.userName = userName;\r\n        this.email = email;\r\n        this.contrase&#241;a = contrase&#241;a;\r\n    }\r\n\r\n    public Cliente(String productosCliente,\r\n        @NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, @NotEmpty String segundoNombre,\r\n        @NotEmpty String primerApellido, @NotEmpty String segundoApellido, @NotEmpty String ciudadCliente,\r\n        @NotEmpty String direccionCliente, @NotEmpty String email, @NotEmpty String contrase&#241;a,\r\n        @NotNull @Past Date fechaNacimiento, @NotNull Set&lt;Role&gt; roles) {\r\n        \r\n        this.productosCliente = productosCliente;\r\n        this.userName = userName;\r\n        this.segundoNombre = segundoNombre;\r\n        this.primerApellido = primerApellido;\r\n        this.segundoApellido = segundoApellido;\r\n        this.ciudadCliente = ciudadCliente;\r\n        this.direccionCliente = direccionCliente;\r\n        this.email = email;\r\n        this.contrase&#241;a = contrase&#241;a;\r\n        this.fechaNacimiento = fechaNacimiento;\r\n        this.roles = roles;\r\n    }\r\n\r\n    \r\n    }\r\n\r\nThis is part of the code of my RESTController with the method that sets the @RequesBody inputs:\r\n\r\n    @RequestMapping(value= &quot;/register&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;Object&gt; register(@Valid @RequestBody NewUser newUser, \r\n    BindingResult send){\r\n        \r\n        if(send.hasErrors())\r\n            return new ResponseEntity&lt;&gt;(new Message(&quot;Error en el registro, por favor \r\n        valide nuevamente&quot;), HttpStatus.BAD_REQUEST);\r\n\r\n        try {\r\n            Cliente creatingUser = new Cliente(newUser.getPrimerNombre(), \r\n            newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            roles.add(roleServices.getRoleByName(RoleList.ROLE_USER).get());\r\n            if(newUser.getRoles().contains(&quot;Admin&quot;))\r\n                roles.add(roleServices.getRoleByName(RoleList.ROLE_ADMIN).get());\r\n            creatingUser.setRoles(roles);\r\n            clienteServices.saveNewUser(creatingUser);\r\n            return new ResponseEntity&lt;&gt;(new Message(&quot;El usuario ha sido creado correctamente&quot;), HttpStatus.OK);\r\n\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;Object&gt;(new Message(&quot;Ha ocurrido un error inesperado con el servidor, por favor intente nuevamente m&#225;s tarde&quot;), HttpStatus.BAD_REQUEST);\r\n            \r\n        }  \r\n    } \r\n\r\nIt is the first time that I use more than one constructor for the same class and I think that is why the error is due... Can anybody help me?","title":"No primary or single unique constructor found for class - spring boot","body":"<p>I got this error when using Spring <em>2.7.4</em>: <strong>No primary or unique constructor found for class com.library.project.library_el_aleph.model.Client</strong> I have two constructors for two possible inserts in my POJO Entity classes</p>\n<pre><code> @Repository\n public interface RoleRespository extends CrudRepository&lt;Role, Integer&gt;{\n\n     Role findByUserName(RoleList roleName);\n\n\npublic Cliente(@NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, \n@NotEmpty String email,\n    @NotEmpty String contraseña) {\n    this.userName = userName;\n    this.email = email;\n    this.contraseña = contraseña;\n}\n\npublic Cliente(String productosCliente,\n    @NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, @NotEmpty String segundoNombre,\n    @NotEmpty String primerApellido, @NotEmpty String segundoApellido, @NotEmpty String ciudadCliente,\n    @NotEmpty String direccionCliente, @NotEmpty String email, @NotEmpty String contraseña,\n    @NotNull @Past Date fechaNacimiento, @NotNull Set&lt;Role&gt; roles) {\n    \n    this.productosCliente = productosCliente;\n    this.userName = userName;\n    this.segundoNombre = segundoNombre;\n    this.primerApellido = primerApellido;\n    this.segundoApellido = segundoApellido;\n    this.ciudadCliente = ciudadCliente;\n    this.direccionCliente = direccionCliente;\n    this.email = email;\n    this.contraseña = contraseña;\n    this.fechaNacimiento = fechaNacimiento;\n    this.roles = roles;\n}\n\n\n}\n</code></pre>\n<p>This is part of the code of my RESTController with the method that sets the @RequesBody inputs:</p>\n<pre><code>@RequestMapping(value= &quot;/register&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;Object&gt; register(@Valid @RequestBody NewUser newUser, \nBindingResult send){\n    \n    if(send.hasErrors())\n        return new ResponseEntity&lt;&gt;(new Message(&quot;Error en el registro, por favor \n    valide nuevamente&quot;), HttpStatus.BAD_REQUEST);\n\n    try {\n        Cliente creatingUser = new Cliente(newUser.getPrimerNombre(), \n        newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        roles.add(roleServices.getRoleByName(RoleList.ROLE_USER).get());\n        if(newUser.getRoles().contains(&quot;Admin&quot;))\n            roles.add(roleServices.getRoleByName(RoleList.ROLE_ADMIN).get());\n        creatingUser.setRoles(roles);\n        clienteServices.saveNewUser(creatingUser);\n        return new ResponseEntity&lt;&gt;(new Message(&quot;El usuario ha sido creado correctamente&quot;), HttpStatus.OK);\n\n    } catch (Exception e) {\n        return new ResponseEntity&lt;Object&gt;(new Message(&quot;Ha ocurrido un error inesperado con el servidor, por favor intente nuevamente más tarde&quot;), HttpStatus.BAD_REQUEST);\n        \n    }  \n} \n</code></pre>\n<p>It is the first time that I use more than one constructor for the same class and I think that is why the error is due... Can anybody help me?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679139469,"post_id":75775579,"comment_id":133669996,"body_markdown":"does following work: `ifPresent(parent -&gt; {parentRepository.delete(parent); parentRepository.flush();})`?","body":"does following work: <code>ifPresent(parent -&gt; {parentRepository.delete(parent); parentRepository.flush();})</code>?"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679140578,"post_id":75775579,"comment_id":133670131,"body_markdown":"@AndreyB.Panfilov : I tried below, but still getting same error.                                 \n   `parentIds.stream().forEach(id -&gt; parentRepository.findById(id).ifPresent(parent-&gt; {\n          parent.getchild1().clear();\n          parent.getchild2().clear();\n          parentRepository.delete(parent);\n          parentRepository.flush();\n        }));`","body":"@AndreyB.Panfilov : I tried below, but still getting same error.                                     <code>parentIds.stream().forEach(id -&gt; parentRepository.findById(id).ifPresent(parent-&gt; {           parent.getchild1().clear();           parent.getchild2().clear();           parentRepository.delete(parent);           parentRepository.flush();         }));</code>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1679153567,"post_id":75775579,"comment_id":133672208,"body_markdown":"Did you try without `stream`? I have a vague memory of something like this being solved with an enhanced for loop (implying you are only using `forEach`), but I can&#39;t find it at the moment.","body":"Did you try without <code>stream</code>? I have a vague memory of something like this being solved with an enhanced for loop (implying you are only using <code>forEach</code>), but I can&#39;t find it at the moment."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679157184,"post_id":75775579,"comment_id":133672884,"body_markdown":"@JettoMart&#237;nez : I tried like below also, but still same issue for second record, though it deletes the first one. `for (String id : ids) {\n      final var entity = parentRepository.findById(id);\n      if (entity.isPresent()) {\n        final var parent= entity.get();\n        parent.getchild1().clear(); parent.getchild2().clear(); parentRepository.delete(parent);           parentRepository.flush(); }}`","body":"@JettoMart&#237;nez : I tried like below also, but still same issue for second record, though it deletes the first one. <code>for (String id : ids) {       final var entity = parentRepository.findById(id);       if (entity.isPresent()) {         final var parent= entity.get();         parent.getchild1().clear(); parent.getchild2().clear(); parentRepository.delete(parent);           parentRepository.flush(); }}</code>"}],"answers":[{"tags":[],"owner":{"account_id":23743014,"reputation":41,"user_id":17760832,"display_name":"MohadAbulawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679163351,"creation_date":1679163351,"answer_id":75777808,"question_id":75775579,"body_markdown":"I tried doing the same as you did and it worked with no issues. Just make sure the data is correctly inserted into the database, for example, make sure the two child table&#39;s records reference different parent entities, so if the first one deletes the parent the other parent record doesn&#39;t get deleted.","title":"Spring Boot Jpa Delete not working for second entity","body":"<p>I tried doing the same as you did and it worked with no issues. Just make sure the data is correctly inserted into the database, for example, make sure the two child table's records reference different parent entities, so if the first one deletes the parent the other parent record doesn't get deleted.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680996820,"creation_date":1679139057,"question_id":75775579,"body_markdown":"I am using Spring Boot with Hibernate. I have an entity parent having relationship with two different child (child1 and child2) entities. I have two records in DB where first record, parent with child1 and second record, parent with chid2. At any point one parent cannot have both child1 and child2 in my case. I am trying to delete parent records using list of parent Ids, expecting both parent and child to get deleted. But only for first Id, I could see delete statement for both parent and child1 but for the second Id, it tries to delete parent without deleting child2 and it throws constraint violation error.\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;parent&quot; violates foreign key constraint &quot;child2_parent_FK&quot; on table &quot;child2&quot;\r\n    \r\n\r\n    Parent.java\r\n\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;parent&quot;)\r\n    public class Parent {\r\n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \r\n        orphanRemoval = true)\r\n        private Set&lt;Child1&gt; child1 = new HashSet&lt;&gt;();\r\n\r\n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \r\n        orphanRemoval = true)\r\n        private Set&lt;Child2&gt; child2 = new HashSet&lt;&gt;();\r\n\r\n        ...\r\n    }\r\n \r\n    Child1.java\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;child1&quot;)\r\n    public class Child1 {\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\r\n       private Parent parent;\r\n       ...\r\n    }\r\n\r\n    Child2.java\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;child2&quot;)\r\n    public class Child2 {\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\r\n       private Parent parent;\r\n       ...\r\n    }\r\n\r\nCreated two Parent records, first parent with child1 and another parent with child2. Using below code to delete Parent records.\r\n\r\n    parentIds.stream().forEach(id -&gt; parentRepository.findById(id)\r\n        .ifPresent(parent -&gt; parentRepository.delete(parent)));\r\n\r\nBut I could see for first Id it generates delete statement for both Parent and child1 and for second Id where it have relationship with child2, it tries to delete only Parent and throws above error. I tried passing Id that has child2 first, in this case it works for first Id and throws error for second one that has relationship with child1.\r\n\r\nI tried with @Transactional but still same error.\r\n\r\nEdit\r\n---\r\n\r\nIf I pass one id in first request and another id in another request, it gets deleted. Issue occurs if I pass two Ids in same request and iterate the Ids and delete one by one.\r\n","title":"Spring Boot Jpa Delete not working for second entity","body":"<p>I am using Spring Boot with Hibernate. I have an entity parent having relationship with two different child (child1 and child2) entities. I have two records in DB where first record, parent with child1 and second record, parent with chid2. At any point one parent cannot have both child1 and child2 in my case. I am trying to delete parent records using list of parent Ids, expecting both parent and child to get deleted. But only for first Id, I could see delete statement for both parent and child1 but for the second Id, it tries to delete parent without deleting child2 and it throws constraint violation error.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;parent&quot; violates foreign key constraint &quot;child2_parent_FK&quot; on table &quot;child2&quot;\n\n\nParent.java\n\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;parent&quot;)\npublic class Parent {\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \n    orphanRemoval = true)\n    private Set&lt;Child1&gt; child1 = new HashSet&lt;&gt;();\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \n    orphanRemoval = true)\n    private Set&lt;Child2&gt; child2 = new HashSet&lt;&gt;();\n\n    ...\n}\n\nChild1.java\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;child1&quot;)\npublic class Child1 {\n\n   @ManyToOne\n   @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\n   private Parent parent;\n   ...\n}\n\nChild2.java\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;child2&quot;)\npublic class Child2 {\n\n   @ManyToOne\n   @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\n   private Parent parent;\n   ...\n}\n</code></pre>\n<p>Created two Parent records, first parent with child1 and another parent with child2. Using below code to delete Parent records.</p>\n<pre><code>parentIds.stream().forEach(id -&gt; parentRepository.findById(id)\n    .ifPresent(parent -&gt; parentRepository.delete(parent)));\n</code></pre>\n<p>But I could see for first Id it generates delete statement for both Parent and child1 and for second Id where it have relationship with child2, it tries to delete only Parent and throws above error. I tried passing Id that has child2 first, in this case it works for first Id and throws error for second one that has relationship with child1.</p>\n<p>I tried with @Transactional but still same error.</p>\n<h2>Edit</h2>\n<p>If I pass one id in first request and another id in another request, it gets deleted. Issue occurs if I pass two Ids in same request and iterate the Ids and delete one by one.</p>\n"},{"tags":["java","spring-boot","hazelcast","hazelcast-jet"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680996761,"creation_date":1679915626,"question_id":75855072,"body_markdown":"I have created a Spring Boot application in which we are joining multiple datasources using Hazelcast Jet. For small datasource it is working very good but as datasource records increases above 1 million it start occupying too much memory and memory leakage. I am not sure what is wrong. How can I increase joining speed and low memory usage? I have allocated 8gb ram memory to my application.\r\n\r\nBelow is the code to call Pipeline:\r\n\r\n    UUID idOne = UUID.randomUUID();\r\n    DataFactory av = new DataFactory(idOne.toString());\r\n    av.buildJetInstance();\r\n    Map&lt;String, Object&gt; p = new HashMap&lt;String, Object&gt;();\r\n    p.putAll((Map&lt;String, Object&gt;) data.get(&quot;alldata&quot;));\r\n    av.readMaptoJsonFile(p);\r\n    Pipeline pl = av.createPipeline();\r\n    av.runProcess(pl);\r\n    \r\n    public class DataFactory implements Serializable {\r\n    \r\n    \tpublic String uid;\r\n    \tpublic DataFactory(String uid) {\r\n    \t\tthis.uid = uid;\r\n    \t}\r\n    \t\r\n    \tpublic JetInstance buildJetInstance() {\r\n    \t\t\r\n    \r\n            JetConfig jetConfig = new JetConfig();\r\n    \r\n            jetConfig.getInstanceConfig().setCooperativeThreadCount(5);\r\n            jetConfig.configureHazelcast(c -&gt; {\r\n                c.getNetworkConfig().setReuseAddress(true);\r\n                c.setClusterName(&quot;DATA&quot; + UUID.randomUUID().toString());\r\n                c.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setMembers(Arrays.asList(new String[] {&quot;localhost&quot;}));\r\n                \r\n            });\r\n            EtlObjects.jetInstance = Jet.newJetInstance(jetConfig);\r\n    \t\treturn EtlObjects.jetInstance;\r\n        }\r\n    \t\r\n    \tpublic Pipeline createPipeline() {\r\n    \t\treturn Pipeline.create();\r\n    \t}\r\n    \t\r\n    \tpublic void joinPipeToJet(Pipeline pl, String name) {\r\n    \t\tJobConfig j = new JobConfig();\r\n    \t\tj.setName(name);\r\n    \t\tEtlObjects.jetInstance.newJob(pl,j).join();\r\n    \t}\r\n    \t\r\n    \tpublic void readMaptoJsonFile(final Map&lt;String, Object&gt; data) {\r\n    \t\tString jobid = UUID.randomUUID().toString();\r\n    \t\ttry {\r\n    \t\t\tPipeline pl = createPipeline();\r\n    \t\t\tUUID idOne = UUID.randomUUID();\r\n    \t\t\t\r\n    \t\t\t final IMap&lt;Object, Object&gt; abc = EtlObjects.jetInstance.getMap(idOne.toString());\r\n    \t\t\t abc.putAll(data);\r\n    \t\t\t\r\n    \t\t\t final BatchSource batchSource = Sources.map(abc);\r\n    \t\t\t \r\n    \t\t\t        pl.readFrom(batchSource)\r\n    \t\t\t            .writeTo(Sinks.map(this.uid));\r\n    \t\t\t        \r\n    \t\t\tjoinPipeToJet(pl, jobid);\r\n    \t\t\t abc.destroy();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tJob j1 = EtlObjects.jetInstance.getJob(jobid);\r\n    \t\t\tif (j1 != null) {\r\n    \t\t\t\tj1.cancel();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tJob j1 = EtlObjects.jetInstance.getJob(jobid);\r\n    \t\t\tif (j1 != null) {\r\n    \t\t\t\tj1.cancel();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Map&lt;String, Object&gt; runProcess(final Pipeline pl) {\r\n    \t\t\r\n    \t\t//Where all source batch will be stored\r\n    \t\tfinal Map&lt;String, BatchStage&lt;Object&gt;&gt; allBatch = new HashMap&lt;String, BatchStage&lt;Object&gt;&gt;();\r\n    \t\r\n    \t\tfinal Map&lt;String, Object&gt; data = // will get data from Pipeline \r\n    \t\t\r\n    \t\t\r\n    \t\t//Here we will get data from different datasources (jdbc, csv, text etc.) and it will be store in allBatch\r\n    \t\t((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;sources&quot;)).stream().forEach(z -&gt; {\r\n    \t\t\r\n    \t\t\t\t//jdbcSource where we get data from database\r\n    \t\t\tallBatch.put(z.get(&quot;id&quot;).toString(), pl.readFrom(jdbcSource));\r\n    \t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\t//Here we will right the logic for the joining multiple datasources\r\n    \t\t((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;joins&quot;)).stream().forEach(z -&gt; {\r\n    \t\t\t\tallBatch.put(&quot;result&quot;,new JoinData().join(data, allBatch.get(z.get(&quot;id1&quot;).toString()), allBatch.get(z.get(&quot;id2&quot;).toString()),pl,joinKeys));\r\n    \t\t});\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t}\r\nBelow is the inner join where I join to datasources:\r\n\r\n    \tpublic BatchStage&lt;Object&gt; JoinData() {\r\n    \t\r\n    \t\t\t//Here is the logic for the inner joining\r\n    \t\r\n    \t\t\t BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n    \t\t\t\t\t// gorup by join key\r\n                });\r\n    \t\t\tBatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n    \t\t\t\t\t// gorup by join key\r\n                });\r\n    \t\t\t\r\n    \t\t\t//Aggregate here\r\n    \t\t\tBatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\r\n    \t\t\t\r\n    \t\t\tBatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.map(e -&gt; { \r\n    \t\t\t\t\t// joining\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\treturn jdbcBatchStageData;\r\n    \t\t\t\r\n    \t}\r\n    \t\r\nAnd sometime joining multiple pipeline at same time gives below error:\r\n\r\n        2023-03-24 09:39:15,092 [ INFO] - processors=4, physical.memory.total=15.4G, physical.memory.free=7.3G, swap.space.total=0, swap.space.free=0, heap.memory.used=2.8G, \r\n    heap.memory.free=1.1G, heap.memory.total=3.9G, heap.memory.max=7.1G, \r\n    heap.memory.used/total=70.82%, heap.memory.used/max=38.70%, minor.gc.count=228, \r\n    minor.gc.time=14798ms, major.gc.count=5, major.gc.time=2766ms, load.process=0.00%, \r\n    load.system=0.00%, load.systemAverage=2.28, thread.count=84, thread.peakCount=119, \r\n    cluster.timeDiff=0, event.q.size=0, executor.q.async.size=0, executor.q.client.size=0, \r\n    executor.q.client.query.size=0, executor.q.client.blocking.size=0, executor.q.query.size=0, \r\n    executor.q.scheduled.size=0, executor.q.io.size=0, executor.q.system.size=0, \r\n    executor.q.operations.size=0, executor.q.priorityOperation.size=0, \r\n    operations.completed.count=5818629, executor.q.mapLoad.size=0, executor.q.mapLoadAllKeys.size=0, \r\n    executor.q.cluster.size=0, executor.q.response.size=0, operations.running.count=0, \r\n    operations.pending.invocations.percentage=0.00%, operations.pending.invocations.count=0, \r\n    proxy.count=10, clientEndpoint.count=0, connection.active.count=0, client.connection.count=0,\r\n     connection.count=0\r\n\r\n    \t\r\nHow can I improve performance of it?\r\n ","title":"Hazelcast Jet multiple datasource join slow down machine and high memory usage","body":"<p>I have created a Spring Boot application in which we are joining multiple datasources using Hazelcast Jet. For small datasource it is working very good but as datasource records increases above 1 million it start occupying too much memory and memory leakage. I am not sure what is wrong. How can I increase joining speed and low memory usage? I have allocated 8gb ram memory to my application.</p>\n<p>Below is the code to call Pipeline:</p>\n<pre><code>UUID idOne = UUID.randomUUID();\nDataFactory av = new DataFactory(idOne.toString());\nav.buildJetInstance();\nMap&lt;String, Object&gt; p = new HashMap&lt;String, Object&gt;();\np.putAll((Map&lt;String, Object&gt;) data.get(&quot;alldata&quot;));\nav.readMaptoJsonFile(p);\nPipeline pl = av.createPipeline();\nav.runProcess(pl);\n\npublic class DataFactory implements Serializable {\n\n    public String uid;\n    public DataFactory(String uid) {\n        this.uid = uid;\n    }\n    \n    public JetInstance buildJetInstance() {\n        \n\n        JetConfig jetConfig = new JetConfig();\n\n        jetConfig.getInstanceConfig().setCooperativeThreadCount(5);\n        jetConfig.configureHazelcast(c -&gt; {\n            c.getNetworkConfig().setReuseAddress(true);\n            c.setClusterName(&quot;DATA&quot; + UUID.randomUUID().toString());\n            c.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setMembers(Arrays.asList(new String[] {&quot;localhost&quot;}));\n            \n        });\n        EtlObjects.jetInstance = Jet.newJetInstance(jetConfig);\n        return EtlObjects.jetInstance;\n    }\n    \n    public Pipeline createPipeline() {\n        return Pipeline.create();\n    }\n    \n    public void joinPipeToJet(Pipeline pl, String name) {\n        JobConfig j = new JobConfig();\n        j.setName(name);\n        EtlObjects.jetInstance.newJob(pl,j).join();\n    }\n    \n    public void readMaptoJsonFile(final Map&lt;String, Object&gt; data) {\n        String jobid = UUID.randomUUID().toString();\n        try {\n            Pipeline pl = createPipeline();\n            UUID idOne = UUID.randomUUID();\n            \n             final IMap&lt;Object, Object&gt; abc = EtlObjects.jetInstance.getMap(idOne.toString());\n             abc.putAll(data);\n            \n             final BatchSource batchSource = Sources.map(abc);\n             \n                    pl.readFrom(batchSource)\n                        .writeTo(Sinks.map(this.uid));\n                    \n            joinPipeToJet(pl, jobid);\n             abc.destroy();\n        } catch (Exception e) {\n            Job j1 = EtlObjects.jetInstance.getJob(jobid);\n            if (j1 != null) {\n                j1.cancel();\n            }\n        } finally {\n            Job j1 = EtlObjects.jetInstance.getJob(jobid);\n            if (j1 != null) {\n                j1.cancel();\n            }\n        }\n    }\n    \n    public Map&lt;String, Object&gt; runProcess(final Pipeline pl) {\n        \n        //Where all source batch will be stored\n        final Map&lt;String, BatchStage&lt;Object&gt;&gt; allBatch = new HashMap&lt;String, BatchStage&lt;Object&gt;&gt;();\n    \n        final Map&lt;String, Object&gt; data = // will get data from Pipeline \n        \n        \n        //Here we will get data from different datasources (jdbc, csv, text etc.) and it will be store in allBatch\n        ((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;sources&quot;)).stream().forEach(z -&gt; {\n        \n                //jdbcSource where we get data from database\n            allBatch.put(z.get(&quot;id&quot;).toString(), pl.readFrom(jdbcSource));\n        \n        });\n        \n        //Here we will right the logic for the joining multiple datasources\n        ((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;joins&quot;)).stream().forEach(z -&gt; {\n                allBatch.put(&quot;result&quot;,new JoinData().join(data, allBatch.get(z.get(&quot;id1&quot;).toString()), allBatch.get(z.get(&quot;id2&quot;).toString()),pl,joinKeys));\n        });\n        \n        \n        \n    }\n    }\n</code></pre>\n<p>Below is the inner join where I join to datasources:</p>\n<pre><code>    public BatchStage&lt;Object&gt; JoinData() {\n    \n            //Here is the logic for the inner joining\n    \n             BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                    // gorup by join key\n            });\n            BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                    // gorup by join key\n            });\n            \n            //Aggregate here\n            BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\n            \n            BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.map(e -&gt; { \n                    // joining\n            });\n            \n            return jdbcBatchStageData;\n            \n    }\n    \n</code></pre>\n<p>And sometime joining multiple pipeline at same time gives below error:</p>\n<pre><code>    2023-03-24 09:39:15,092 [ INFO] - processors=4, physical.memory.total=15.4G, physical.memory.free=7.3G, swap.space.total=0, swap.space.free=0, heap.memory.used=2.8G, \nheap.memory.free=1.1G, heap.memory.total=3.9G, heap.memory.max=7.1G, \nheap.memory.used/total=70.82%, heap.memory.used/max=38.70%, minor.gc.count=228, \nminor.gc.time=14798ms, major.gc.count=5, major.gc.time=2766ms, load.process=0.00%, \nload.system=0.00%, load.systemAverage=2.28, thread.count=84, thread.peakCount=119, \ncluster.timeDiff=0, event.q.size=0, executor.q.async.size=0, executor.q.client.size=0, \nexecutor.q.client.query.size=0, executor.q.client.blocking.size=0, executor.q.query.size=0, \nexecutor.q.scheduled.size=0, executor.q.io.size=0, executor.q.system.size=0, \nexecutor.q.operations.size=0, executor.q.priorityOperation.size=0, \noperations.completed.count=5818629, executor.q.mapLoad.size=0, executor.q.mapLoadAllKeys.size=0, \nexecutor.q.cluster.size=0, executor.q.response.size=0, operations.running.count=0, \noperations.pending.invocations.percentage=0.00%, operations.pending.invocations.count=0, \nproxy.count=10, clientEndpoint.count=0, connection.active.count=0, client.connection.count=0,\n connection.count=0\n\n    \n</code></pre>\n<p>How can I improve performance of it?</p>\n"},{"tags":["java","datetime","simpledateformat","localtime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680542320,"post_id":75918994,"comment_id":133912672,"body_markdown":"I suppose that `2023-04-02T06:30:00z` is a typo on your part and you want 6:30 PM AKA 18:30. Can you confirm or deny, please?","body":"I suppose that <code>2023-04-02T06:30:00z</code> is a typo on your part and you want 6:30 PM AKA 18:30. Can you confirm or deny, please?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680549346,"post_id":75918994,"comment_id":133914297,"body_markdown":"Though not the same you may find this question and its answers helpful: [Start and End of Week w/ ThreeTenBackport](https://stackoverflow.com/questions/56742948/start-and-end-of-week-w-threetenbackport)","body":"Though not the same you may find this question and its answers helpful: <a href=\"https://stackoverflow.com/questions/56742948/start-and-end-of-week-w-threetenbackport\">Start and End of Week w/ ThreeTenBackport</a>"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680525149,"creation_date":1680524375,"answer_id":75919435,"question_id":75918994,"body_markdown":"TLDR:\r\n```java\r\nLocalDate localDate = LocalDate.parse(&quot;2023-04-03&quot;);\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\r\nZonedDateTime endOfDay = localDate.plusDays(1).atStartOfDay().atZone(ZoneOffset.systemDefault());\r\n\r\nSystem.out.println(startOfDay.toInstant() + &quot;, &quot; + endOfDay.toInstant());\r\n```\r\n---\r\n**Explanation:**\r\n\r\nWith this Line\r\n\r\n```java\r\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\r\n```\r\n\r\nYou configure the time you created in the LocalDateTime at the Zone UTC.\r\n\r\nI assume you (or your system) are not at UTC-Time so you need to define the `ZonedDateTime` at your `ZoneId` like this:\r\n\r\n```java\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\r\n```\r\nIf you want to define your `ZoneID` not from your system you can do something like this (IST for example):\r\n\r\n```java\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneId.of(ZoneId.SHORT_IDS.get(&quot;IST&quot;)));\r\n```","title":"Convert Date to UTC DateTime","body":"<p>TLDR:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate localDate = LocalDate.parse(&quot;2023-04-03&quot;);\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\nZonedDateTime endOfDay = localDate.plusDays(1).atStartOfDay().atZone(ZoneOffset.systemDefault());\n\nSystem.out.println(startOfDay.toInstant() + &quot;, &quot; + endOfDay.toInstant());\n</code></pre>\n<hr />\n<p><strong>Explanation:</strong></p>\n<p>With this Line</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n<p>You configure the time you created in the LocalDateTime at the Zone UTC.</p>\n<p>I assume you (or your system) are not at UTC-Time so you need to define the <code>ZonedDateTime</code> at your <code>ZoneId</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\n</code></pre>\n<p>If you want to define your <code>ZoneID</code> not from your system you can do something like this (IST for example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneId.of(ZoneId.SHORT_IDS.get(&quot;IST&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680534022,"creation_date":1680534022,"answer_id":75920896,"question_id":75918994,"body_markdown":"# Skip `LocaDateTime`\r\n\r\nNo need to involve a `LocalDateTime`. That class cannot represent a point on the timeline. Its usage here only confuses things. \r\n\r\n    LocalDate               // Represent a date-only value. No time of day. No time zone or offset. \r\n    .parse( &quot;2023-04-03&quot; )  // Parse text in standard ISO 8601 format. Returns a `LocalDate` object. \r\n    .atStartOfDay(          // Let java.time determine the first moment of the day. While the day always starts at 00:00 in UTC, that is not always the case in some time zones on some dates. \r\n        ZoneOffset.UTC      // A constant, representing an offset of zero hours-minutes-seconds. \r\n    )                       // Returns a `ZonedDateTime`. \r\n    .toInstant()            // Adjusts to an offset from UTC of zero hours-minutes by converting to `Instant`. \r\n    .toString()             // Generate text in standard ISO 8601 format. ","title":"Convert Date to UTC DateTime","body":"<h1>Skip <code>LocaDateTime</code></h1>\n<p>No need to involve a <code>LocalDateTime</code>. That class cannot represent a point on the timeline. Its usage here only confuses things.</p>\n<pre><code>LocalDate               // Represent a date-only value. No time of day. No time zone or offset. \n.parse( &quot;2023-04-03&quot; )  // Parse text in standard ISO 8601 format. Returns a `LocalDate` object. \n.atStartOfDay(          // Let java.time determine the first moment of the day. While the day always starts at 00:00 in UTC, that is not always the case in some time zones on some dates. \n    ZoneOffset.UTC      // A constant, representing an offset of zero hours-minutes-seconds. \n)                       // Returns a `ZonedDateTime`. \n.toInstant()            // Adjusts to an offset from UTC of zero hours-minutes by converting to `Instant`. \n.toString()             // Generate text in standard ISO 8601 format. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680996743,"creation_date":1680546936,"answer_id":75922717,"question_id":75918994,"body_markdown":"&gt; I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.\r\n\r\nStop using the error-prone legacy date-time API\r\n--\r\n\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nYou need a time zone to get the desired output\r\n--\r\n\r\nYour desired output (**start and end of the day**) is in UTC and therefore you need to convert the date-time from your time zone to UTC. Once you have **start and end of the day** in your time zone, you can convert them to UTC using [`ZonedDateTime#withZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-). \r\n\r\n**Demo:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zoneIndia = ZoneId.of(&quot;Asia/Kolkata&quot;);\r\n            LocalDate date = LocalDate.parse(&quot;2023-04-03&quot;);\r\n    \r\n            System.out.println(date.atStartOfDay(zoneIndia)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n    \r\n            System.out.println(date.atStartOfDay(zoneIndia).with(LocalTime.MAX)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n    \r\n            // Or get the exlusive upper range (half-open interval for the day)\r\n            System.out.println(date.plusDays(1).atStartOfDay(zoneIndia)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-04-02T18:30Z\r\n    2023-04-03T18:29:59.999999999Z\r\n    2023-04-03T18:30Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/3VJoA1)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Convert Date to UTC DateTime","body":"<blockquote>\n<p>I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.</p>\n</blockquote>\n<h2>Stop using the error-prone legacy date-time API</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<h2>You need a time zone to get the desired output</h2>\n<p>Your desired output (<strong>start and end of the day</strong>) is in UTC and therefore you need to convert the date-time from your time zone to UTC. Once you have <strong>start and end of the day</strong> in your time zone, you can convert them to UTC using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#withZoneSameInstant</code></a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        ZoneId zoneIndia = ZoneId.of(&quot;Asia/Kolkata&quot;);\n        LocalDate date = LocalDate.parse(&quot;2023-04-03&quot;);\n\n        System.out.println(date.atStartOfDay(zoneIndia)\n                .withZoneSameInstant(ZoneOffset.UTC));\n\n        System.out.println(date.atStartOfDay(zoneIndia).with(LocalTime.MAX)\n                .withZoneSameInstant(ZoneOffset.UTC));\n\n        // Or get the exlusive upper range (half-open interval for the day)\n        System.out.println(date.plusDays(1).atStartOfDay(zoneIndia)\n                .withZoneSameInstant(ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-04-02T18:30Z\n2023-04-03T18:29:59.999999999Z\n2023-04-03T18:30Z\n</code></pre>\n<p><a href=\"https://ideone.com/3VJoA1\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":11312356,"reputation":57,"user_id":8295159,"display_name":"Anuj kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1680996743,"creation_date":1680521469,"question_id":75918994,"body_markdown":"I have the date 2023-04-03 and wanted to convert it into UTC time with range (start and end of the day)\r\n\r\n2023-04-03T00:00:00 -&gt; 2023-04-02T18:30:00z\\\r\n2023-04-03T24:00:00 -&gt; 2023-04-03T18:30:00z\r\n\r\nInput: 2023-04-03\\\r\nNeed this output: 2023-04-02T06:30:00z, 2023-04-03T18:30:00z\r\n\r\nI have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.\r\n\t\r\n```java\r\nLocalDateTime ldt = LocalDate.parse(&quot;2023-04-03&quot;).atStartOfDay();\r\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\r\nInstant instant = zdt.toInstant();\r\nSystem.out.println(&quot;:inst: &quot; + instant.toString());\r\n```\r\n\r\noutput of the above code:\r\n\r\nHello: 2016-06-12T00:00\r\n\r\n:inst: 2016-06-12T00:00:00Z","title":"Convert Date to UTC DateTime","body":"<p>I have the date 2023-04-03 and wanted to convert it into UTC time with range (start and end of the day)</p>\n<p>2023-04-03T00:00:00 -&gt; 2023-04-02T18:30:00z<br />\n2023-04-03T24:00:00 -&gt; 2023-04-03T18:30:00z</p>\n<p>Input: 2023-04-03<br />\nNeed this output: 2023-04-02T06:30:00z, 2023-04-03T18:30:00z</p>\n<p>I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldt = LocalDate.parse(&quot;2023-04-03&quot;).atStartOfDay();\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\nInstant instant = zdt.toInstant();\nSystem.out.println(&quot;:inst: &quot; + instant.toString());\n</code></pre>\n<p>output of the above code:</p>\n<p>Hello: 2016-06-12T00:00</p>\n<p>:inst: 2016-06-12T00:00:00Z</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681032509,"post_id":75967946,"comment_id":133991406,"body_markdown":"The security configuration needs the `UserDetailsService`, because it needs to create an `AuthenticationManager`. But your filter also needs the `AuthenticationManager`, your filter is also need to create the `SecurityConfig`, which is needed to create the `AuthenticationManager`. Hence a circulair dependency.","body":"The security configuration needs the <code>UserDetailsService</code>, because it needs to create an <code>AuthenticationManager</code>. But your filter also needs the <code>AuthenticationManager</code>, your filter is also need to create the <code>SecurityConfig</code>, which is needed to create the <code>AuthenticationManager</code>. Hence a circulair dependency."},{"owner":{"account_id":24295273,"reputation":17,"user_id":18239586,"display_name":"Santino Zanone"},"score":0,"creation_date":1681068815,"post_id":75967946,"comment_id":133995762,"body_markdown":"@M.Deinum so, the UserDetailsService is required in the InitializeUserDetailsManagerConfigurer class for creating the AuthenticationManager, but my UserDetails service is defined in my SecurityConfig class, which is dependent in the filters, whose at the same time are dependents in the manager. and this manager depends on the HttpSecurity bean that cannot be created because it needs the userDetailsService that is defined in my SecurityConfig class, creating a circular dependency. am i right?","body":"@M.Deinum so, the UserDetailsService is required in the InitializeUserDetailsManagerConfigurer class for creating the AuthenticationManager, but my UserDetails service is defined in my SecurityConfig class, which is dependent in the filters, whose at the same time are dependents in the manager. and this manager depends on the HttpSecurity bean that cannot be created because it needs the userDetailsService that is defined in my SecurityConfig class, creating a circular dependency. am i right?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681149228,"post_id":75967946,"comment_id":134006675,"body_markdown":"Yes. That is also what the analyze output is showing as the circulair dependency.","body":"Yes. That is also what the analyze output is showing as the circulair dependency."}],"answers":[{"tags":[],"owner":{"account_id":28252599,"reputation":61,"user_id":21598590,"display_name":"Eduard For&#233;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680996737,"creation_date":1680996617,"answer_id":75968130,"question_id":75967946,"body_markdown":"I check that the `UserDetailsService` dose not have any direct relation with the `HttpSecurity`. But you have to use the `UserDetailsService` to define roles into the `HttpSecurity`. You have the information in the [Spring API HttpSecurity][1].\r\n\r\nThe circular dependency should be related with the `HttpSecurity` of the `AuthenticationManager`. In old spring you create the `AuthenticationManager` overriding the `WebSecurityConfigurerAdapter`. The code was something like:\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\nBut in the last versions, you can use the `filterChain`, in your case `securityFilerChange`, to instance the `AuthenticationManager`. The bean could be something like:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\r\n        AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\r\n        return http.csrf().disable()\r\n                .httpBasic().and().{...}\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .authenticationManager(authenticationManager).{...}\r\n                .build();\r\n    }\r\nIn this implementation you only have one site where you are using the HttpSecurity and the circular dependency error should desapear.\r\n\r\nYou can check more information about how to use this `AuthenticationManager` in this [link][2] about how to upgrade the `WebSecurityConfigurerAdapter`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\r\n  [2]: https://stackoverflow.com/questions/72381114/spring-security-upgrading-the-deprecated-websecurityconfigureradapter-in-spring","title":"Spring Circular Dependency with HttpSecurityConfiguration","body":"<p>I check that the <code>UserDetailsService</code> dose not have any direct relation with the <code>HttpSecurity</code>. But you have to use the <code>UserDetailsService</code> to define roles into the <code>HttpSecurity</code>. You have the information in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\" rel=\"nofollow noreferrer\">Spring API HttpSecurity</a>.</p>\n<p>The circular dependency should be related with the <code>HttpSecurity</code> of the <code>AuthenticationManager</code>. In old spring you create the <code>AuthenticationManager</code> overriding the <code>WebSecurityConfigurerAdapter</code>. The code was something like:</p>\n<pre><code>@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n<p>But in the last versions, you can use the <code>filterChain</code>, in your case <code>securityFilerChange</code>, to instance the <code>AuthenticationManager</code>. The bean could be something like:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\n    AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\n    return http.csrf().disable()\n            .httpBasic().and().{...}\n            .anyRequest().authenticated()\n            .and()\n            .authenticationManager(authenticationManager).{...}\n            .build();\n}\n</code></pre>\n<p>In this implementation you only have one site where you are using the HttpSecurity and the circular dependency error should desapear.</p>\n<p>You can check more information about how to use this <code>AuthenticationManager</code> in this <a href=\"https://stackoverflow.com/questions/72381114/spring-security-upgrading-the-deprecated-websecurityconfigureradapter-in-spring\">link</a> about how to upgrade the <code>WebSecurityConfigurerAdapter</code>.</p>\n"}],"owner":{"account_id":24295273,"reputation":17,"user_id":18239586,"display_name":"Santino Zanone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680996737,"creation_date":1680992347,"question_id":75967946,"body_markdown":"i am having a problem with a circular dependency error. it is thrown when i define a UserDetailsService bean in my securityConfig class, however if i define that same bean in my authenticationConfig class,the error is gone and i dont get why.\r\nthis is the code.\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    @Autowired\r\n    private InitialAuthenticationFilter initialAuthenticationFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \r\n        return http.csrf().disable()\r\n                .httpBasic().and()\r\n                .addFilterBefore(initialAuthenticationFilter, BasicAuthenticationFilter.class)\r\n                .addFilterAfter(jwtAuthenticationFilter,BasicAuthenticationFilter.class)\r\n                .authorizeHttpRequests().requestMatchers(&quot;/actuator/**&quot;).permitAll().and()\r\n                .authorizeHttpRequests().anyRequest().authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){    \r\n        UserDetails user = User.builder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        UserDetails admin = User.builder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user, admin);        \r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class AuthenticationConfig {\r\n    @Autowired\r\n    private OtpAuthenticationProvider otpAuthenticationProvider;\r\n    @Autowired\r\n    private UsernamePasswordAuthenticationProvider usernamePasswordAuthenticationProvider;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private AuthenticationManager manager;\r\n\r\n    @Value(&quot;${jwt.signing.key}&quot;)\r\n    private String signingKey;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException { // do filtering\r\n        }\r\n}\r\n```\r\n\r\n```java\r\n// and then i have some providers like this one\r\n@Component\r\npublic class UsernamePasswordAuthenticationProvider implements AuthenticationProvider{\r\n     \r\n    @Autowired\r\n    private AuthenticationServerProxy proxy;\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n         String password = String.valueOf(authentication.getCredentials());\r\n         proxy.sendAuth(username, password);\r\n         return new UsernamePasswordAuthenticationToken(username, password);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        // TODO Auto-generated method stub\r\n        return UsernamePasswordAuthentication.class.isAssignableFrom(authentication);\r\n    }\r\n}\r\n```\r\n\r\nthis is the log:\r\n\r\n```java\r\nException: org.springframework.beans.factory.UnsatisfiedDependencyException. \r\nMessage: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;initialAuthenticationFilter&#39;: \r\nError creating bean with name &#39;initialAuthenticationFilter&#39;: Unsatisfied dependency expressed through field &#39;manager&#39;: \r\nError creating bean with name &#39;authManager&#39; defined in class path resource [root/AuthenticationConfig.class]: \r\nUnsatisfied dependency expressed through method &#39;authManager&#39; parameter 0: \r\nError creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; \r\ndefined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \r\nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \r\nFactory method &#39;httpSecurity&#39; threw exception with message: Error creating bean with name &#39;securityConfig&#39;: \r\nRequested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\n\r\nand then this diagram:\r\n\r\n```java\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n┌─────┐\r\n|  securityConfig (field private root.filters.InitialAuthenticationFilter root.SecurityConfig.initialAuthenticationFilter)\r\n↑     ↓\r\n|  initialAuthenticationFilter (field private org.springframework.security.authentication.AuthenticationManager root.filters.InitialAuthenticationFilter.manager)\r\n↑     ↓\r\n|  authManager defined in class path resource [root/AuthenticationConfig.class]\r\n↑     ↓\r\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\r\n└─────┘\r\n```\r\n\r\nif i move the UserDetailsService bean to another class, everything works perfect, but i am trying to understand where was the circular dependency coming from. The log says that the authManager depends on the HttpSecurity, which is correct, but then the HttpSecurity depends on securityConfig, i tried inspecting the HttpSecurity bean with the debugger but couldnt find any dependency","title":"Spring Circular Dependency with HttpSecurityConfiguration","body":"<p>i am having a problem with a circular dependency error. it is thrown when i define a UserDetailsService bean in my securityConfig class, however if i define that same bean in my authenticationConfig class,the error is gone and i dont get why.\nthis is the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    @Autowired\n    private InitialAuthenticationFilter initialAuthenticationFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \n        return http.csrf().disable()\n                .httpBasic().and()\n                .addFilterBefore(initialAuthenticationFilter, BasicAuthenticationFilter.class)\n                .addFilterAfter(jwtAuthenticationFilter,BasicAuthenticationFilter.class)\n                .authorizeHttpRequests().requestMatchers(&quot;/actuator/**&quot;).permitAll().and()\n                .authorizeHttpRequests().anyRequest().authenticated()\n                .and()\n                .build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(){    \n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(&quot;123&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(&quot;123&quot;)\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user, admin);        \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AuthenticationConfig {\n    @Autowired\n    private OtpAuthenticationProvider otpAuthenticationProvider;\n    @Autowired\n    private UsernamePasswordAuthenticationProvider usernamePasswordAuthenticationProvider;\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private AuthenticationManager manager;\n\n    @Value(&quot;${jwt.signing.key}&quot;)\n    private String signingKey;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException { // do filtering\n        }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// and then i have some providers like this one\n@Component\npublic class UsernamePasswordAuthenticationProvider implements AuthenticationProvider{\n     \n    @Autowired\n    private AuthenticationServerProxy proxy;\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n         String password = String.valueOf(authentication.getCredentials());\n         proxy.sendAuth(username, password);\n         return new UsernamePasswordAuthenticationToken(username, password);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        // TODO Auto-generated method stub\n        return UsernamePasswordAuthentication.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>this is the log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. \nMessage: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'initialAuthenticationFilter': \nError creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager': \nError creating bean with name 'authManager' defined in class path resource [root/AuthenticationConfig.class]: \nUnsatisfied dependency expressed through method 'authManager' parameter 0: \nError creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' \ndefined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \nFactory method 'httpSecurity' threw exception with message: Error creating bean with name 'securityConfig': \nRequested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>and then this diagram:</p>\n<pre class=\"lang-java prettyprint-override\"><code>The dependencies of some of the beans in the application context form a cycle:\n┌─────┐\n|  securityConfig (field private root.filters.InitialAuthenticationFilter root.SecurityConfig.initialAuthenticationFilter)\n↑     ↓\n|  initialAuthenticationFilter (field private org.springframework.security.authentication.AuthenticationManager root.filters.InitialAuthenticationFilter.manager)\n↑     ↓\n|  authManager defined in class path resource [root/AuthenticationConfig.class]\n↑     ↓\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\n└─────┘\n</code></pre>\n<p>if i move the UserDetailsService bean to another class, everything works perfect, but i am trying to understand where was the circular dependency coming from. The log says that the authManager depends on the HttpSecurity, which is correct, but then the HttpSecurity depends on securityConfig, i tried inspecting the HttpSecurity bean with the debugger but couldnt find any dependency</p>\n"},{"tags":["java","concurrency","quarkus","mutiny"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655393704,"post_id":72647827,"comment_id":128326751,"body_markdown":"Mutiny is a so-called &quot;reactive programming&quot; library. You don&#39;t specify that your `Uni`s should be &quot;executed&quot; on an extra thread (&quot;executed&quot; in quotes, because there&#39;s a difference between subscription and emission and you can configure threads for those separately), so the assumption is that they are non-blocking and they are all executed on the same thread. Therefore, since you ask for the slow `Uni` to be executed first (and the fast one second), you&#39;ll always end up with the slow one &quot;winning&quot;. See e.g. https://smallrye.io/smallrye-mutiny/guides/emit-subscription for more info.","body":"Mutiny is a so-called &quot;reactive programming&quot; library. You don&#39;t specify that your <code>Uni</code>s should be &quot;executed&quot; on an extra thread (&quot;executed&quot; in quotes, because there&#39;s a difference between subscription and emission and you can configure threads for those separately), so the assumption is that they are non-blocking and they are all executed on the same thread. Therefore, since you ask for the slow <code>Uni</code> to be executed first (and the fast one second), you&#39;ll always end up with the slow one &quot;winning&quot;. See e.g. <a href=\"https://smallrye.io/smallrye-mutiny/guides/emit-subscription\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/emit-subscription</a> for more info."},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403804,"post_id":72647827,"comment_id":128330232,"body_markdown":"@Ladicek How do I specify that Uni&#39;s should be executed on a different thread. By using the emitOn and subscribe on that you linked too? Honestly, I feel like that goes against my understanding of what Unis are.  In the documentation it says\n&quot;Typically, Uni&lt;T&gt; are great to represent asynchronous actions such as a remote procedure call, an HTTP request, or an operation producing a single result.&quot;  \nsource: https://smallrye.io/smallrye-mutiny/getting-started/creating-unis","body":"@Ladicek How do I specify that Uni&#39;s should be executed on a different thread. By using the emitOn and subscribe on that you linked too? Honestly, I feel like that goes against my understanding of what Unis are.  In the documentation it says &quot;Typically, Uni&lt;T&gt; are great to represent asynchronous actions such as a remote procedure call, an HTTP request, or an operation producing a single result.&quot;   source: <a href=\"https://smallrye.io/smallrye-mutiny/getting-started/creating-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/getting-started/creating-unis</a>"},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403888,"post_id":72647827,"comment_id":128330268,"body_markdown":"Also, \n&quot;It is common to trigger several concurrent operations, then join on the results. For instance you can make HTTP requests to 3 different HTTP APIs, then collect all HTTP responses. Or you can just take the response from the one who was the fastest.\n\nUni offers the join group to assemble all results from a list of Uni, pick the first one that terminates, or pick the first one that terminates with a value.&quot;\nsource: https://smallrye.io/smallrye-mutiny/guides/joining-unis","body":"Also,  &quot;It is common to trigger several concurrent operations, then join on the results. For instance you can make HTTP requests to 3 different HTTP APIs, then collect all HTTP responses. Or you can just take the response from the one who was the fastest.  Uni offers the join group to assemble all results from a list of Uni, pick the first one that terminates, or pick the first one that terminates with a value.&quot; source: <a href=\"https://smallrye.io/smallrye-mutiny/guides/joining-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/joining-unis</a>"},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403913,"post_id":72647827,"comment_id":128330277,"body_markdown":"If unis are supposed to be asynchronous, why wouldn&#39;t they be run on different threads if joining them?","body":"If unis are supposed to be asynchronous, why wouldn&#39;t they be run on different threads if joining them?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655450288,"post_id":72647827,"comment_id":128339680,"body_markdown":"Asynchronous is an overloaded word and means different things to different people. For some, it means &quot;run on a different thread&quot;, while for others, it means &quot;run on an event loop, because it&#39;s non-blocking&quot;. As I said, Mutiny is a so-called &quot;reactive programming&quot; library, so it is most often used to orchestrate non-blocking operations (such as the HTTP client example you mention). There&#39;s a lot of materials on the web around what non-blocking IO is, I suggest you read up on that.","body":"Asynchronous is an overloaded word and means different things to different people. For some, it means &quot;run on a different thread&quot;, while for others, it means &quot;run on an event loop, because it&#39;s non-blocking&quot;. As I said, Mutiny is a so-called &quot;reactive programming&quot; library, so it is most often used to orchestrate non-blocking operations (such as the HTTP client example you mention). There&#39;s a lot of materials on the web around what non-blocking IO is, I suggest you read up on that."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680996104,"creation_date":1655403775,"answer_id":72650299,"question_id":72647827,"body_markdown":"The problem is that you are not telling `Mutiny` on which thread should run each uni. If I add a `System.out` to your example:\r\n\r\n```\r\n// Slow and Fast for the different Uni\r\nSystem.out.println( &quot;Slow - &quot; + Thread.currentThread().getId() + &quot;:&quot; + Thread.currentThread().getName() );\r\n```\r\n\r\nI get the following output:\r\n```\r\nSlow - 1:Test worker\r\none\r\nSlow - 1:Test worker\r\nFast - 1:Test worker\r\none\r\n```\r\n\r\nThe output shows that everything runs on the same thread and therefore when we block the first one, the second one is blocked too.\r\nThat&#39;s why the output is `one one`.\r\n\r\nOne way to run the uni in parallel is to use a different executor at subscription:\r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool( 5 );\r\nuniSlow = uniSlow.runSubscriptionOn( executorService );\r\nuniFast = uniFast.runSubscriptionOn( executorService );\r\n```\r\nNow, when I run the test, I have the expected output:\r\n```\r\nSlow - 16:pool-3-thread-1\r\nFast - 17:pool-3-thread-2\r\ntwo\r\nSlow - 18:pool-3-thread-3\r\nFast - 19:pool-3-thread-4\r\ntwo\r\n```\r\n\r\nNote that this time Slow and Fast are running on different threads.\r\n\r\nThe Mutiny guide has a section about the difference between [emitOn vs. runSubscriptionOn][1] and [some examples on how to change the emission thread][2].\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/\r\n  [2]: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emission-threads/","title":"How to call multiple Uni concurrently","body":"<p>The problem is that you are not telling <code>Mutiny</code> on which thread should run each uni. If I add a <code>System.out</code> to your example:</p>\n<pre><code>// Slow and Fast for the different Uni\nSystem.out.println( &quot;Slow - &quot; + Thread.currentThread().getId() + &quot;:&quot; + Thread.currentThread().getName() );\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>Slow - 1:Test worker\none\nSlow - 1:Test worker\nFast - 1:Test worker\none\n</code></pre>\n<p>The output shows that everything runs on the same thread and therefore when we block the first one, the second one is blocked too.\nThat's why the output is <code>one one</code>.</p>\n<p>One way to run the uni in parallel is to use a different executor at subscription:</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool( 5 );\nuniSlow = uniSlow.runSubscriptionOn( executorService );\nuniFast = uniFast.runSubscriptionOn( executorService );\n</code></pre>\n<p>Now, when I run the test, I have the expected output:</p>\n<pre><code>Slow - 16:pool-3-thread-1\nFast - 17:pool-3-thread-2\ntwo\nSlow - 18:pool-3-thread-3\nFast - 19:pool-3-thread-4\ntwo\n</code></pre>\n<p>Note that this time Slow and Fast are running on different threads.</p>\n<p>The Mutiny guide has a section about the difference between <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/\" rel=\"nofollow noreferrer\">emitOn vs. runSubscriptionOn</a> and <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emission-threads/\" rel=\"nofollow noreferrer\">some examples on how to change the emission thread</a>.</p>\n"}],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72650299,"answer_count":1,"score":0,"last_activity_date":1680996104,"creation_date":1655391196,"question_id":72647827,"body_markdown":"Recently, I&#39;m working on a project where I have 2 make 2 asynchronous calls at the same time. Since I&#39;m working with Quarkus, I ended up trying to make use of Mutiny and the vert.x library. However, I can not get my code working with Unis. In the below code, I would imagine that both Unis would be called and the Uni that returns fastest would be returned. However, it seems that when combining Unis it simply returns the first one in the list, even though the first uni should take a longer time. \r\n\r\nThe below code prints out `one one` when it should print out `two two` since the uniFast should finish first. How do I combine Unis and have the faster one return first? \r\n```\r\n@Test\r\n\tpublic void testUniJion(){\r\n\t\tvar uniSLow = Uni.createFrom().item(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn &quot;one&quot;;\r\n\t\t});\r\n\r\n\t\tvar uniFast = Uni.createFrom().item(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn &quot;two&quot;;\r\n\t\t});\r\n\r\n\t\tvar resp = Uni.join().first(uniSLow,uniFast).withItem().await().indefinitely();\r\n\t\tSystem.out.println(resp);\r\n\r\n\t\tvar resp2 = Uni.combine().any().of(uniSLow,uniFast).await().indefinitely();\r\n\t\tSystem.out.println(resp2);\r\n\t}\r\n```\r\n\r\nNote: This is not the actual code I am trying to implement. In my code, I am trying to fetch from 2 different databases. However, one database often has a lot more latency than the other. However, Uni seems to always wait for the slower database. I&#39;m simply trying to understand Mutiny and Uni&#39;s better so I made this code example. ","title":"How to call multiple Uni concurrently","body":"<p>Recently, I'm working on a project where I have 2 make 2 asynchronous calls at the same time. Since I'm working with Quarkus, I ended up trying to make use of Mutiny and the vert.x library. However, I can not get my code working with Unis. In the below code, I would imagine that both Unis would be called and the Uni that returns fastest would be returned. However, it seems that when combining Unis it simply returns the first one in the list, even though the first uni should take a longer time.</p>\n<p>The below code prints out <code>one one</code> when it should print out <code>two two</code> since the uniFast should finish first. How do I combine Unis and have the faster one return first?</p>\n<pre><code>@Test\n    public void testUniJion(){\n        var uniSLow = Uni.createFrom().item(() -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return &quot;one&quot;;\n        });\n\n        var uniFast = Uni.createFrom().item(() -&gt; {\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return &quot;two&quot;;\n        });\n\n        var resp = Uni.join().first(uniSLow,uniFast).withItem().await().indefinitely();\n        System.out.println(resp);\n\n        var resp2 = Uni.combine().any().of(uniSLow,uniFast).await().indefinitely();\n        System.out.println(resp2);\n    }\n</code></pre>\n<p>Note: This is not the actual code I am trying to implement. In my code, I am trying to fetch from 2 different databases. However, one database often has a lot more latency than the other. However, Uni seems to always wait for the slower database. I'm simply trying to understand Mutiny and Uni's better so I made this code example.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680995299,"creation_date":1680987613,"answer_id":75967661,"question_id":75967289,"body_markdown":"A 415 means the content-type being sent by the page does not match that being expected by the controller.\r\n\r\n\r\nThe data being submitted is a FormData but the receiving controller method api/v1/users/create - createUser is expecting json (the default when `consumes` is not set). \r\n\r\nTry:\r\n\r\n    @PostMapping(\r\n      path = &quot;/create&quot;,\r\n      consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\r\n\r\n\r\nOr\r\n\r\n    MediaType.MULTIPART_FORM_DATA\r\n\r\nThe first answer [here][1] should be also helpful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55379499/how-to-fix-multipart-form-data-mediatype-not-being-set-with-jackson-spring-mvc","title":"Spring Boot Error while making Post Request receiving unsupported Media Type 415 error","body":"<p>A 415 means the content-type being sent by the page does not match that being expected by the controller.</p>\n<p>The data being submitted is a FormData but the receiving controller method api/v1/users/create - createUser is expecting json (the default when <code>consumes</code> is not set).</p>\n<p>Try:</p>\n<pre><code>@PostMapping(\n  path = &quot;/create&quot;,\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\n</code></pre>\n<p>Or</p>\n<pre><code>MediaType.MULTIPART_FORM_DATA\n</code></pre>\n<p>The first answer <a href=\"https://stackoverflow.com/questions/55379499/how-to-fix-multipart-form-data-mediatype-not-being-set-with-jackson-spring-mvc\">here</a> should be also helpful.</p>\n"}],"owner":{"account_id":16295595,"reputation":11,"user_id":11767934,"display_name":"devops777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680995299,"creation_date":1680982154,"question_id":75967289,"body_markdown":"USER CONTROLLER\r\n\r\n```\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\nimport org.apache.catalina.User;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/users&quot;)\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    \r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\r\n    }\r\n\r\n             \r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\r\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\n\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\r\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\r\n    }\r\n \r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\r\n      try {\r\n        // String firstName = user.getFullName();\r\n        // String lastName = user.getName();\r\n        // String email = ((Users) user).getEmail();\r\n        String password = user.getPassword();\r\n        // String picturePath = ((Users) user).getPicturePath();\r\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\r\n        String location = ((Users) user).getLocation();\r\n        String occupation = ((Users) user).getOccupation();\r\n  \r\n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\r\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\r\n  \r\n        Users newUser = new Users();\r\n  \r\n        Users savedUser = userRepository.save(newUser);\r\n  \r\n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\r\n      } catch (Exception e) {\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n      }\r\n    }\r\n \r\n}\r\n```\r\n\r\nUSER SERVICE\r\n\r\n```\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.query.Criteria;\r\nimport org.springframework.data.mongodb.core.query.Update;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n   \r\n    public List&lt;Users&gt; allPosts() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    \r\n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\r\n        return userRepository.findById(id);\r\n    }\r\n    \r\n\r\n    \r\n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\r\n        return userRepository.findPostsByUserId(userId);\r\n    }\r\n\r\n\r\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\r\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\r\n\r\n        mongoTemplate.update(User.class)\r\n            .matching(Criteria.where(&quot;id&quot;).is(id))\r\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\r\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\r\n            // .apply(new Update().push(&quot;password&quot;).value(password))\r\n\r\n            .first();\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n    \r\n\r\n    \r\n}\r\n```\r\n\r\nREACT COMPONENT FORM\r\n\r\n```\r\nimport { useState } from &quot;react&quot;;\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  useMediaQuery,\r\n  Typography,\r\n  useTheme,\r\n} from &quot;@mui/material&quot;;\r\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\r\nimport { Formik } from &quot;formik&quot;;\r\nimport * as yup from &quot;yup&quot;;\r\nimport { useNavigate } from &quot;react-router-dom&quot;;\r\nimport { useDispatch } from &quot;react-redux&quot;;\r\nimport { setLogin } from &quot;state&quot;;\r\nimport Dropzone from &quot;react-dropzone&quot;;\r\nimport FlexBetween from &quot;components/FlexBetween&quot;;\r\n\r\nconst registerSchema = yup.object().shape({\r\n  firstName: yup.string().required(&quot;required&quot;),\r\n  lastName: yup.string().required(&quot;required&quot;),\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n  location: yup.string().required(&quot;required&quot;),\r\n  occupation: yup.string().required(&quot;required&quot;),\r\n  picture: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst loginSchema = yup.object().shape({\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst initialValuesRegister = {\r\n  firstName: &quot;&quot;,\r\n  lastName: &quot;&quot;,\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n  location: &quot;&quot;,\r\n  occupation: &quot;&quot;,\r\n  picture: &quot;&quot;,\r\n};\r\n\r\nconst initialValuesLogin = {\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n};\r\n\r\nconst Form = () =&gt; {\r\n  const [pageType, setPageType] = useState(&quot;login&quot;);\r\n  const { palette } = useTheme();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\r\n  const isLogin = pageType === &quot;login&quot;;\r\n  const isRegister = pageType === &quot;register&quot;;\r\n\r\n  const register = async (values, onSubmitProps) =&gt; {\r\n    // this allows us to send form info with image\r\n    const formData = new FormData();\r\n    for (let value in values) {\r\n      formData.append(value, values[value]);\r\n    }\r\n    formData.append(&quot;picturePath&quot;, values.picture.name);\r\n\r\n    const savedUserResponse = await fetch(\r\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\r\n      {\r\n        method: &quot;POST&quot;,\r\n        body: formData,\r\n      }\r\n    );\r\n    const savedUser = await savedUserResponse.json();\r\n    onSubmitProps.resetForm();\r\n\r\n    if (savedUser) {\r\n      setPageType(&quot;login&quot;);\r\n    }\r\n  };\r\n\r\n  const login = async (values, onSubmitProps) =&gt; {\r\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\r\n      method: &quot;POST&quot;,\r\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\r\n      body: JSON.stringify(values),\r\n    });\r\n    const loggedIn = await loggedInResponse.json();\r\n    onSubmitProps.resetForm();\r\n    if (loggedIn) {\r\n      dispatch(\r\n        setLogin({\r\n          user: loggedIn.user,\r\n          token: loggedIn.token,\r\n        })\r\n      );\r\n      navigate(&quot;/home&quot;);\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\r\n    if (isLogin) await login(values, onSubmitProps);\r\n    if (isRegister) await register(values, onSubmitProps);\r\n  };\r\n\r\n  return (\r\n    &lt;Formik\r\n      onSubmit={handleFormSubmit}\r\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\r\n      validationSchema={isLogin ? loginSchema : registerSchema}\r\n    &gt;\r\n      {({\r\n        values,\r\n        errors,\r\n        touched,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        setFieldValue,\r\n        resetForm,\r\n      }) =&gt; (\r\n        &lt;form onSubmit={handleSubmit}&gt;\r\n          &lt;Box\r\n            display=&quot;grid&quot;\r\n            gap=&quot;30px&quot;\r\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\r\n            sx={{\r\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\r\n            }}\r\n          &gt;\r\n            {isRegister &amp;&amp; (\r\n              &lt;&gt;\r\n                &lt;TextField\r\n                  label=&quot;First Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.firstName}\r\n                  name=&quot;firstName&quot;\r\n                  error={\r\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\r\n                  }\r\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Last Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.lastName}\r\n                  name=&quot;lastName&quot;\r\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\r\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Location&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.location}\r\n                  name=&quot;location&quot;\r\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\r\n                  helperText={touched.location &amp;&amp; errors.location}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Occupation&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.occupation}\r\n                  name=&quot;occupation&quot;\r\n                  error={\r\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\r\n                  }\r\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;Box\r\n                  gridColumn=&quot;span 4&quot;\r\n                  border={`1px solid ${palette.neutral.medium}`}\r\n                  borderRadius=&quot;5px&quot;\r\n                  p=&quot;1rem&quot;\r\n                &gt;\r\n                  &lt;Dropzone\r\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\r\n                    multiple={false}\r\n                    onDrop={(acceptedFiles) =&gt;\r\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\r\n                    }\r\n                  &gt;\r\n                    {({ getRootProps, getInputProps }) =&gt; (\r\n                      &lt;Box\r\n                        {...getRootProps()}\r\n                        border={`2px dashed ${palette.primary.main}`}\r\n                        p=&quot;1rem&quot;\r\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\r\n                      &gt;\r\n                        &lt;input {...getInputProps()} /&gt;\r\n                        {!values.picture ? (\r\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\r\n                        ) : (\r\n                          &lt;FlexBetween&gt;\r\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\r\n                            &lt;EditOutlinedIcon /&gt;\r\n                          &lt;/FlexBetween&gt;\r\n                        )}\r\n                      &lt;/Box&gt;\r\n                    )}\r\n                  &lt;/Dropzone&gt;\r\n                &lt;/Box&gt;\r\n              &lt;/&gt;\r\n            )}\r\n\r\n            &lt;TextField\r\n              label=&quot;Email&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n              name=&quot;email&quot;\r\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\r\n              helperText={touched.email &amp;&amp; errors.email}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n            &lt;TextField\r\n              label=&quot;Password&quot;\r\n              type=&quot;password&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.password}\r\n              name=&quot;password&quot;\r\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\r\n              helperText={touched.password &amp;&amp; errors.password}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n          &lt;/Box&gt;\r\n\r\n          {/* BUTTONS */}\r\n          &lt;Box&gt;\r\n            &lt;Button\r\n              fullWidth\r\n              type=&quot;submit&quot;\r\n              sx={{\r\n                m: &quot;2rem 0&quot;,\r\n                p: &quot;1rem&quot;,\r\n                backgroundColor: palette.primary.main,\r\n                color: palette.background.alt,\r\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\r\n              }}\r\n            &gt;\r\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\r\n            &lt;/Button&gt;\r\n            &lt;Typography\r\n              onClick={() =&gt; {\r\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\r\n                resetForm();\r\n              }}\r\n              sx={{\r\n                textDecoration: &quot;underline&quot;,\r\n                color: palette.primary.main,\r\n                &quot;&amp;:hover&quot;: {\r\n                  cursor: &quot;pointer&quot;,\r\n                  color: palette.primary.light,\r\n                },\r\n              }}\r\n            &gt;\r\n              {isLogin\r\n                ? &quot;Don&#39;t have an account? Sign Up here.&quot;\r\n                : &quot;Already have an account? Login here.&quot;}\r\n            &lt;/Typography&gt;\r\n          &lt;/Box&gt;\r\n        &lt;/form&gt;\r\n      )}\r\n    &lt;/Formik&gt;\r\n  );\r\n};\r\n\r\nexport default Form;\r\n```\r\n\r\nAT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403 &amp; NOW IT IS GIVING CORS ERRORS AND 415\r\n\r\nTHINGS I HAVE TRIED\r\n\r\n- ADDING NO CORS MODE IN HEADERS\r\n- Changing RequestBody to ModelAttribute \r\n\r\nI would really appreciate any type of help or feedback since this taking such a long time to resolve","title":"Spring Boot Error while making Post Request receiving unsupported Media Type 415 error","body":"<p>USER CONTROLLER</p>\n<pre><code>package com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\nimport org.apache.catalina.User;\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/users&quot;)\npublic class UsersController {\n\n    @Autowired\n    private UserService userService;\n\n\n    @Autowired\n    private UserRepository userRepository;\n\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\n    }\n\n             \n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{userId}/all&quot;)\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\n    }\n\n\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\n    }\n \n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\n      try {\n        // String firstName = user.getFullName();\n        // String lastName = user.getName();\n        // String email = ((Users) user).getEmail();\n        String password = user.getPassword();\n        // String picturePath = ((Users) user).getPicturePath();\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\n        String location = ((Users) user).getLocation();\n        String occupation = ((Users) user).getOccupation();\n  \n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\n  \n        Users newUser = new Users();\n  \n        Users savedUser = userRepository.save(newUser);\n  \n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n \n}\n</code></pre>\n<p>USER SERVICE</p>\n<pre><code>package com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Update;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.PathVariable;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Autowired\n    private UserRepository userRepository;\n   \n    public List&lt;Users&gt; allPosts() {\n        return userRepository.findAll();\n    }\n\n    \n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\n        return userRepository.findById(id);\n    }\n    \n\n    \n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\n        return userRepository.findPostsByUserId(userId);\n    }\n\n\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\n\n        mongoTemplate.update(User.class)\n            .matching(Criteria.where(&quot;id&quot;).is(id))\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\n            // .apply(new Update().push(&quot;password&quot;).value(password))\n\n            .first();\n\n        return user;\n    }\n\n\n    \n\n    \n}\n</code></pre>\n<p>REACT COMPONENT FORM</p>\n<pre><code>import { useState } from &quot;react&quot;;\nimport {\n  Box,\n  Button,\n  TextField,\n  useMediaQuery,\n  Typography,\n  useTheme,\n} from &quot;@mui/material&quot;;\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\nimport { Formik } from &quot;formik&quot;;\nimport * as yup from &quot;yup&quot;;\nimport { useNavigate } from &quot;react-router-dom&quot;;\nimport { useDispatch } from &quot;react-redux&quot;;\nimport { setLogin } from &quot;state&quot;;\nimport Dropzone from &quot;react-dropzone&quot;;\nimport FlexBetween from &quot;components/FlexBetween&quot;;\n\nconst registerSchema = yup.object().shape({\n  firstName: yup.string().required(&quot;required&quot;),\n  lastName: yup.string().required(&quot;required&quot;),\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n  location: yup.string().required(&quot;required&quot;),\n  occupation: yup.string().required(&quot;required&quot;),\n  picture: yup.string().required(&quot;required&quot;),\n});\n\nconst loginSchema = yup.object().shape({\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n});\n\nconst initialValuesRegister = {\n  firstName: &quot;&quot;,\n  lastName: &quot;&quot;,\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n  location: &quot;&quot;,\n  occupation: &quot;&quot;,\n  picture: &quot;&quot;,\n};\n\nconst initialValuesLogin = {\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n};\n\nconst Form = () =&gt; {\n  const [pageType, setPageType] = useState(&quot;login&quot;);\n  const { palette } = useTheme();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\n  const isLogin = pageType === &quot;login&quot;;\n  const isRegister = pageType === &quot;register&quot;;\n\n  const register = async (values, onSubmitProps) =&gt; {\n    // this allows us to send form info with image\n    const formData = new FormData();\n    for (let value in values) {\n      formData.append(value, values[value]);\n    }\n    formData.append(&quot;picturePath&quot;, values.picture.name);\n\n    const savedUserResponse = await fetch(\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\n      {\n        method: &quot;POST&quot;,\n        body: formData,\n      }\n    );\n    const savedUser = await savedUserResponse.json();\n    onSubmitProps.resetForm();\n\n    if (savedUser) {\n      setPageType(&quot;login&quot;);\n    }\n  };\n\n  const login = async (values, onSubmitProps) =&gt; {\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\n      method: &quot;POST&quot;,\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\n      body: JSON.stringify(values),\n    });\n    const loggedIn = await loggedInResponse.json();\n    onSubmitProps.resetForm();\n    if (loggedIn) {\n      dispatch(\n        setLogin({\n          user: loggedIn.user,\n          token: loggedIn.token,\n        })\n      );\n      navigate(&quot;/home&quot;);\n    }\n  };\n\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\n    if (isLogin) await login(values, onSubmitProps);\n    if (isRegister) await register(values, onSubmitProps);\n  };\n\n  return (\n    &lt;Formik\n      onSubmit={handleFormSubmit}\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\n      validationSchema={isLogin ? loginSchema : registerSchema}\n    &gt;\n      {({\n        values,\n        errors,\n        touched,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        setFieldValue,\n        resetForm,\n      }) =&gt; (\n        &lt;form onSubmit={handleSubmit}&gt;\n          &lt;Box\n            display=&quot;grid&quot;\n            gap=&quot;30px&quot;\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\n            sx={{\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\n            }}\n          &gt;\n            {isRegister &amp;&amp; (\n              &lt;&gt;\n                &lt;TextField\n                  label=&quot;First Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.firstName}\n                  name=&quot;firstName&quot;\n                  error={\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\n                  }\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Last Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.lastName}\n                  name=&quot;lastName&quot;\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Location&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.location}\n                  name=&quot;location&quot;\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\n                  helperText={touched.location &amp;&amp; errors.location}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Occupation&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.occupation}\n                  name=&quot;occupation&quot;\n                  error={\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\n                  }\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;Box\n                  gridColumn=&quot;span 4&quot;\n                  border={`1px solid ${palette.neutral.medium}`}\n                  borderRadius=&quot;5px&quot;\n                  p=&quot;1rem&quot;\n                &gt;\n                  &lt;Dropzone\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\n                    multiple={false}\n                    onDrop={(acceptedFiles) =&gt;\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\n                    }\n                  &gt;\n                    {({ getRootProps, getInputProps }) =&gt; (\n                      &lt;Box\n                        {...getRootProps()}\n                        border={`2px dashed ${palette.primary.main}`}\n                        p=&quot;1rem&quot;\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\n                      &gt;\n                        &lt;input {...getInputProps()} /&gt;\n                        {!values.picture ? (\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\n                        ) : (\n                          &lt;FlexBetween&gt;\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\n                            &lt;EditOutlinedIcon /&gt;\n                          &lt;/FlexBetween&gt;\n                        )}\n                      &lt;/Box&gt;\n                    )}\n                  &lt;/Dropzone&gt;\n                &lt;/Box&gt;\n              &lt;/&gt;\n            )}\n\n            &lt;TextField\n              label=&quot;Email&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.email}\n              name=&quot;email&quot;\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\n              helperText={touched.email &amp;&amp; errors.email}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n            &lt;TextField\n              label=&quot;Password&quot;\n              type=&quot;password&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.password}\n              name=&quot;password&quot;\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\n              helperText={touched.password &amp;&amp; errors.password}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n          &lt;/Box&gt;\n\n          {/* BUTTONS */}\n          &lt;Box&gt;\n            &lt;Button\n              fullWidth\n              type=&quot;submit&quot;\n              sx={{\n                m: &quot;2rem 0&quot;,\n                p: &quot;1rem&quot;,\n                backgroundColor: palette.primary.main,\n                color: palette.background.alt,\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\n              }}\n            &gt;\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\n            &lt;/Button&gt;\n            &lt;Typography\n              onClick={() =&gt; {\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\n                resetForm();\n              }}\n              sx={{\n                textDecoration: &quot;underline&quot;,\n                color: palette.primary.main,\n                &quot;&amp;:hover&quot;: {\n                  cursor: &quot;pointer&quot;,\n                  color: palette.primary.light,\n                },\n              }}\n            &gt;\n              {isLogin\n                ? &quot;Don't have an account? Sign Up here.&quot;\n                : &quot;Already have an account? Login here.&quot;}\n            &lt;/Typography&gt;\n          &lt;/Box&gt;\n        &lt;/form&gt;\n      )}\n    &lt;/Formik&gt;\n  );\n};\n\nexport default Form;\n</code></pre>\n<p>AT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403 &amp; NOW IT IS GIVING CORS ERRORS AND 415</p>\n<p>THINGS I HAVE TRIED</p>\n<ul>\n<li>ADDING NO CORS MODE IN HEADERS</li>\n<li>Changing RequestBody to ModelAttribute</li>\n</ul>\n<p>I would really appreciate any type of help or feedback since this taking such a long time to resolve</p>\n"},{"tags":["java","printing","output"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680992729,"post_id":75967850,"comment_id":133988353,"body_markdown":"can you add what is args you are passing to application?","body":"can you add what is args you are passing to application?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680992822,"post_id":75967850,"comment_id":133988361,"body_markdown":"Can you post data for at least two lines from Lab #10 file?","body":"Can you post data for at least two lines from Lab #10 file?"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993011,"post_id":75967850,"comment_id":133988385,"body_markdown":"like the array?","body":"like the array?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993027,"post_id":75967850,"comment_id":133988387,"body_markdown":"Also, one VERY IMPORTANT thing.  I&#39;m guessing you are using a text editor and not an IDE.  A suggestion is to download Visual Studio Code and install the Java extension.  Then you can set break points and step through the code during runtime.","body":"Also, one VERY IMPORTANT thing.  I&#39;m guessing you are using a text editor and not an IDE.  A suggestion is to download Visual Studio Code and install the Java extension.  Then you can set break points and step through the code during runtime."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993049,"post_id":75967850,"comment_id":133988390,"body_markdown":"yes, the array in the file you are reading","body":"yes, the array in the file you are reading"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993134,"post_id":75967850,"comment_id":133988400,"body_markdown":"this is the array: 34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\nand thank u for the tip","body":"this is the array: 34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63 and thank u for the tip"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993185,"post_id":75967850,"comment_id":133988406,"body_markdown":"Can you post in the question please?  If that is two lines, I can&#39;t see the line break.  Thanks.","body":"Can you post in the question please?  If that is two lines, I can&#39;t see the line break.  Thanks."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993394,"post_id":75967850,"comment_id":133988429,"body_markdown":"Without the IDE, you will need to add print statements before your loop and within the loop to see where it&#39;s stopping and not building the array.  Put something like this before the while.  System.out.println(&quot;while&quot;);  This after the while.  System.out.println(&quot;in while&quot;);  etc","body":"Without the IDE, you will need to add print statements before your loop and within the loop to see where it&#39;s stopping and not building the array.  Put something like this before the while.  System.out.println(&quot;while&quot;);  This after the while.  System.out.println(&quot;in while&quot;);  etc"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993619,"post_id":75967850,"comment_id":133988449,"body_markdown":"it prints the array, it just doesn&#39;t print the part between the quotation, &quot;original array from file:&quot; this part","body":"it prints the array, it just doesn&#39;t print the part between the quotation, &quot;original array from file:&quot; this part"}],"answers":[{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680994842,"creation_date":1680993768,"answer_id":75968021,"question_id":75967850,"body_markdown":"String label is being passed as a parameter to the function as the string with argument value `&quot;original array from file:&quot;` .  However, you are not printing the label variable (aka label parameter).\r\n\r\n    public void printArray( String label, int[] array, int count)\r\n        {\r\n            System.out.print(label);\r\n            Scanner in = new Scanner(System.in);  \r\n            //Scanner in = new Scanner(label);\r\n            for( int i=0 ; i&lt;count ;++i )\r\n              System.out.print(array[i] + &quot; &quot; );\r\n            System.out.println();\r\n            \r\n        }\r\n\r\nThink of an argument as the data or information moving from the function call to the function.  Think of the parameter as the variable which stores that argument (or value) when the function executes during runtime.","title":"my prinln method is not outputing the same output i want","body":"<p>String label is being passed as a parameter to the function as the string with argument value <code>&quot;original array from file:&quot;</code> .  However, you are not printing the label variable (aka label parameter).</p>\n<pre><code>public void printArray( String label, int[] array, int count)\n    {\n        System.out.print(label);\n        Scanner in = new Scanner(System.in);  \n        //Scanner in = new Scanner(label);\n        for( int i=0 ; i&lt;count ;++i )\n          System.out.print(array[i] + &quot; &quot; );\n        System.out.println();\n        \n    }\n</code></pre>\n<p>Think of an argument as the data or information moving from the function call to the function.  Think of the parameter as the variable which stores that argument (or value) when the function executes during runtime.</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680994701,"creation_date":1680994701,"answer_id":75968065,"question_id":75967850,"body_markdown":"You are passing the string label as parameter. However, you are not using it or printing it in your `printArray` method. You have to include the &quot;label&quot; as well in `System.out.print()` statement so that it gets printed.\r\n\r\n```\r\n// out of loop since you want to print the label only once\r\nSystem.out.print(label);\r\n\r\n// loop over array to print each element  \r\nfor(int i=0;i&lt;count;++i) {\r\n System.out.print(array[i]+ &quot; &quot;);\r\n}\r\nSystem.out.println();","title":"my prinln method is not outputing the same output i want","body":"<p>You are passing the string label as parameter. However, you are not using it or printing it in your <code>printArray</code> method. You have to include the &quot;label&quot; as well in <code>System.out.print()</code> statement so that it gets printed.</p>\n<pre><code>// out of loop since you want to print the label only once\nSystem.out.print(label);\n\n// loop over array to print each element  \nfor(int i=0;i&lt;count;++i) {\n System.out.print(array[i]+ &quot; &quot;);\n}\nSystem.out.println();\n</code></pre>\n"}],"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75968065,"answer_count":2,"score":0,"last_activity_date":1680994842,"creation_date":1680990720,"question_id":75967850,"body_markdown":"```\r\nint[] array = myLib.loadArray( args[0] );\r\n\t\tmyLib.printArray( &quot;original array from file:  &quot;, array, array.length )\r\n```\r\n\r\nabove is the print order for this statement\r\n\r\n```\r\npublic int[] loadArray( String fileName ) throws Exception\r\n\t{\r\n\t\t\r\n\t\tScanner infileHandle = new Scanner( new File(fileName) );\r\n\t\tint[] array = new int[1]; \r\n\t\tint count = 0;\r\n\t\twhile ( infileHandle.hasNextInt() )\r\n\t\t{\tif (count &gt;= array.length)\r\n\t\t\t\tarray = upSizeArray( array );\r\n\t\t\tarray[count++] = infileHandle.nextInt();\r\n\t\t}\r\n\t\treturn trimArray( array, count );\r\n\t\t\r\n\t}\r\n```\r\n\r\nand this is the print array method\r\n\r\n```\r\npublic void printArray( String label, int[] array, int count)\r\n\t{\r\n\t\tScanner in = new Scanner(System.in);  \r\n\t\t//Scanner in = new Scanner(label);\r\n\t\tfor( int i=0 ; i&lt;count ;++i )\r\n        System.out.print(array[i] + &quot; &quot; );\r\n        System.out.println();\r\n\t\t\r\n\t}\r\n```\r\n\r\nit outputs correctly but does not print the between quotation part\r\n\r\n```\r\n&quot;original array from file:&quot; \r\n```\r\n\r\njust the stuff after it\r\n\r\nplz help\r\nthis is the array: \r\n```\r\n34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\r\n```","title":"my prinln method is not outputing the same output i want","body":"<pre><code>int[] array = myLib.loadArray( args[0] );\n        myLib.printArray( &quot;original array from file:  &quot;, array, array.length )\n</code></pre>\n<p>above is the print order for this statement</p>\n<pre><code>public int[] loadArray( String fileName ) throws Exception\n    {\n        \n        Scanner infileHandle = new Scanner( new File(fileName) );\n        int[] array = new int[1]; \n        int count = 0;\n        while ( infileHandle.hasNextInt() )\n        {   if (count &gt;= array.length)\n                array = upSizeArray( array );\n            array[count++] = infileHandle.nextInt();\n        }\n        return trimArray( array, count );\n        \n    }\n</code></pre>\n<p>and this is the print array method</p>\n<pre><code>public void printArray( String label, int[] array, int count)\n    {\n        Scanner in = new Scanner(System.in);  \n        //Scanner in = new Scanner(label);\n        for( int i=0 ; i&lt;count ;++i )\n        System.out.print(array[i] + &quot; &quot; );\n        System.out.println();\n        \n    }\n</code></pre>\n<p>it outputs correctly but does not print the between quotation part</p>\n<pre><code>&quot;original array from file:&quot; \n</code></pre>\n<p>just the stuff after it</p>\n<p>plz help\nthis is the array:</p>\n<pre><code>34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1680960106,"post_id":75965415,"comment_id":133984211,"body_markdown":"Yes you can. The only annotation required is the @Id. To tell Spring Data how to identify an entity object.","body":"Yes you can. The only annotation required is the @Id. To tell Spring Data how to identify an entity object."},{"owner":{"account_id":11001333,"reputation":97,"user_id":8081857,"display_name":"Arsen Nykytenko"},"score":0,"creation_date":1680960376,"post_id":75965415,"comment_id":133984253,"body_markdown":"So @GeneratedValue does nothing when there are no inserts, right?","body":"So @GeneratedValue does nothing when there are no inserts, right?"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680994753,"creation_date":1680994753,"answer_id":75968067,"question_id":75965415,"body_markdown":"no there is no need when your application is read-only, but it is safer to have one since you are uncertain that in future you may be updating entries, but for other entities which you are certain that it is read only then there is no need to add it. check (https://stackoverflow.com/questions/5115527/how-to-make-an-entity-read-only) for better making entities read only ","title":"Does @GeneratedValue make sense when there are no inserts?","body":"<p>no there is no need when your application is read-only, but it is safer to have one since you are uncertain that in future you may be updating entries, but for other entities which you are certain that it is read only then there is no need to add it. check (<a href=\"https://stackoverflow.com/questions/5115527/how-to-make-an-entity-read-only\">How to make an Entity read-only?</a>) for better making entities read only</p>\n"}],"owner":{"account_id":11001333,"reputation":97,"user_id":8081857,"display_name":"Arsen Nykytenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75968067,"answer_count":1,"score":0,"last_activity_date":1680994753,"creation_date":1680959536,"question_id":75965415,"body_markdown":"I&#39;m currently working on the project where ALL entities have `@GeneratedValue` for their `id` fields. But some of those entities are only read, some are only read and updated and there&#39;s no chance that there will be some inserts needed.\r\n\r\nSo does `@GeneratedValue` really make sense for entities which will never be inserted?\r\nI mean can I just remove all of them and it will be fine?","title":"Does @GeneratedValue make sense when there are no inserts?","body":"<p>I'm currently working on the project where ALL entities have <code>@GeneratedValue</code> for their <code>id</code> fields. But some of those entities are only read, some are only read and updated and there's no chance that there will be some inserts needed.</p>\n<p>So does <code>@GeneratedValue</code> really make sense for entities which will never be inserted?\nI mean can I just remove all of them and it will be fine?</p>\n"},{"tags":["java","spring-boot","lettuce","redis-sentinel"],"owner":{"account_id":7176791,"reputation":33,"user_id":5482418,"display_name":"sharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680992821,"creation_date":1624570886,"question_id":68123025,"body_markdown":"My setup as follows:\r\n 1. I am running this setup on the spring application.\r\n 2. I am using the lettuce module&#39;s RedisAsyncCommands. I was able to run it using a stand-alone Redis config.\r\n 3. When I try to run it using the sentinel mode it&#39;s getting stuck during the initial spring bootup process.\r\n 4. I am able to hit the same sentinel using manual object creation in a\r\n    terminal application. But it fails when I try in spring boot.\r\n\r\nbelow is the stage where it gets stuck.\r\n\r\n```\r\n2021-06-25 02:48:57,328 38486 [main] INFO  [i.l.c.EpollProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional epoll library \r\n2021-06-25 02:48:57,331 38489 [main] INFO  [i.l.c.KqueueProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional kqueue library\r\n```\r\n\r\nI have debugged it closely and it looks like the issue is coming while it&#39;s trying to connect to the sentinel server. It&#39;s trying to call the AbstractRedisClient class and not able to make a connection.\r\n\r\n```\r\n    protected &lt;T&gt; T getConnection(ConnectionFuture&lt;T&gt; connectionFuture) {\r\n        try {\r\n            return connectionFuture.get();\r\n        } catch (InterruptedException var3) {\r\n            Thread.currentThread().interrupt();\r\n            throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var3);\r\n        } catch (Exception var4) {\r\n            if (var4 instanceof ExecutionException) {\r\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4.getCause());\r\n            } else {\r\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nFails at line coonectionFuture.get().\r\n\r\n\r\nMy bean configuration:\r\n```\r\n    @Bean\r\n    public RedisClient redisClient() {\r\n        return RedisClient.create(RedisURI.builder()\r\n                .withSentinel(&quot;localhost&quot;, 26379)\r\n                .withSentinel(&quot;localhost&quot;, 5000)\r\n                .withSentinel(&quot;localhost&quot;, 5001)\r\n                .withSentinelMasterId(&quot;mymaster&quot;).build());\r\n    }\r\n\r\n    @Bean\r\n    public StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(final RedisClient redisClient) {\r\n        return redisClient.connect();\r\n    }\r\n\r\n    @Bean\r\n    public RedisAsyncCommands&lt;String, String&gt; redisAsyncCommands(\r\n            final StatefulRedisConnection&lt;String, String&gt; redisConnection\r\n    ) {\r\n        return redisConnection.async();\r\n    }\r\n```\r\n\r\nI will be using the async object below to run commands like async.hget(), async.set() etc.\r\n```\r\n    private final RedisClient redisClientNew;\r\n    private final StatefulRedisConnection&lt;String, String&gt; connection;\r\n    private final RedisAsyncCommands&lt;String, String&gt; async;\r\n```\r\n\r\n\r\n\r\nAny help is greatly appreciated and let me know any extra information if needed. Please do comment if you have any idea on this or if you can help me with the setup.\r\n","title":"Redis lettuce setup for using asyncRedisCommands on redis sentinel","body":"<p>My setup as follows:</p>\n<ol>\n<li>I am running this setup on the spring application.</li>\n<li>I am using the lettuce module's RedisAsyncCommands. I was able to run it using a stand-alone Redis config.</li>\n<li>When I try to run it using the sentinel mode it's getting stuck during the initial spring bootup process.</li>\n<li>I am able to hit the same sentinel using manual object creation in a\nterminal application. But it fails when I try in spring boot.</li>\n</ol>\n<p>below is the stage where it gets stuck.</p>\n<pre><code>2021-06-25 02:48:57,328 38486 [main] INFO  [i.l.c.EpollProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional epoll library \n2021-06-25 02:48:57,331 38489 [main] INFO  [i.l.c.KqueueProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional kqueue library\n</code></pre>\n<p>I have debugged it closely and it looks like the issue is coming while it's trying to connect to the sentinel server. It's trying to call the AbstractRedisClient class and not able to make a connection.</p>\n<pre><code>    protected &lt;T&gt; T getConnection(ConnectionFuture&lt;T&gt; connectionFuture) {\n        try {\n            return connectionFuture.get();\n        } catch (InterruptedException var3) {\n            Thread.currentThread().interrupt();\n            throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var3);\n        } catch (Exception var4) {\n            if (var4 instanceof ExecutionException) {\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4.getCause());\n            } else {\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4);\n            }\n        }\n    }\n</code></pre>\n<p>Fails at line coonectionFuture.get().</p>\n<p>My bean configuration:</p>\n<pre><code>    @Bean\n    public RedisClient redisClient() {\n        return RedisClient.create(RedisURI.builder()\n                .withSentinel(&quot;localhost&quot;, 26379)\n                .withSentinel(&quot;localhost&quot;, 5000)\n                .withSentinel(&quot;localhost&quot;, 5001)\n                .withSentinelMasterId(&quot;mymaster&quot;).build());\n    }\n\n    @Bean\n    public StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(final RedisClient redisClient) {\n        return redisClient.connect();\n    }\n\n    @Bean\n    public RedisAsyncCommands&lt;String, String&gt; redisAsyncCommands(\n            final StatefulRedisConnection&lt;String, String&gt; redisConnection\n    ) {\n        return redisConnection.async();\n    }\n</code></pre>\n<p>I will be using the async object below to run commands like async.hget(), async.set() etc.</p>\n<pre><code>    private final RedisClient redisClientNew;\n    private final StatefulRedisConnection&lt;String, String&gt; connection;\n    private final RedisAsyncCommands&lt;String, String&gt; async;\n</code></pre>\n<p>Any help is greatly appreciated and let me know any extra information if needed. Please do comment if you have any idea on this or if you can help me with the setup.</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"score":0,"creation_date":1680991538,"post_id":75967872,"comment_id":133988228,"body_markdown":"What is the error you are getting?","body":"What is the error you are getting?"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680992581,"creation_date":1680992581,"answer_id":75967961,"question_id":75967872,"body_markdown":"i&#39;m assuming you do not have sequence generated for \r\n\r\n``` \r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;CARD_ID&quot;)\r\n    private final Long cardId;\r\n```\r\n\r\ntry update it to \r\n\r\n```\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;card_sequence&quot;,\r\n            sequenceName = &quot;card_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;card_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;CARD_ID&quot;,\r\n            updatable = false\r\n    )\r\n```","title":"Why can&#39;t H2 create this table?","body":"<p>i'm assuming you do not have sequence generated for</p>\n<pre><code>    @Id\n    @GeneratedValue\n    @Column(name = &quot;CARD_ID&quot;)\n    private final Long cardId;\n</code></pre>\n<p>try update it to</p>\n<pre><code>    @Id\n    @SequenceGenerator(\n            name = &quot;card_sequence&quot;,\n            sequenceName = &quot;card_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;card_sequence&quot;\n    )\n    @Column(\n            name = &quot;CARD_ID&quot;,\n            updatable = false\n    )\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680992581,"creation_date":1680991101,"question_id":75967872,"body_markdown":"Why can&#39;t H2 create this table?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SCORE_CARD&quot;)\r\npublic final class ScoreCard implements Serializable {\r\n\r\n    public static final int DEFAULT_SCORE = 10;\r\n    private static final long serialVersionUID = -2504167837465532618L;\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;CARD_ID&quot;)\r\n    private final Long cardId;\r\n\r\n    @Column(name = &quot;USER_ID&quot;)\r\n    private final Long userId;\r\n\r\n    @Column(name = &quot;ATTEMPT_ID&quot;)\r\n    private final Long attemptId;\r\n\r\n    @Column(name = &quot;SCORE_TS&quot;)\r\n    private final Long scoreTimestamp;\r\n\r\n    @Column(name = &quot;SCORE&quot;)\r\n    private final int score;\r\n\r\n    @Column(name = &quot;CORRECT&quot;)\r\n    private final boolean correct;\r\n\r\n    public ScoreCard(Long cardId, Long userId, Long attemptId, Long scoreTimestamp, int score,\r\n                     boolean correct) {\r\n        this.cardId = cardId;\r\n        this.userId = userId;\r\n        this.attemptId = attemptId;\r\n        this.scoreTimestamp = scoreTimestamp;\r\n        this.score = correct ? DEFAULT_SCORE : 0;\r\n        this.correct = correct;\r\n    }\r\n\r\n    public ScoreCard() {\r\n        this(null, null, null, null, 0, false);\r\n    }\r\n\r\n    public ScoreCard(Long userId, Long attemptId, boolean correct) {\r\n        this(null, userId, attemptId, System.currentTimeMillis(), 0, correct);\r\n    }\r\n\r\n    public Long getCardId() {\r\n        return cardId;\r\n    }\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public Long getAttemptId() {\r\n        return attemptId;\r\n    }\r\n\r\n    public Long getScoreTimestamp() {\r\n        return scoreTimestamp;\r\n    }\r\n\r\n    public long getScore() {\r\n        return score;\r\n    }\r\n\r\n    public boolean isCorrect() {\r\n        return correct;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nhere&#39;s the application.properties:\r\n\r\n```\r\n####### START H2 #######\r\n\r\n# Creates the database in a file\r\nspring.datasource.url=jdbc:h2:file:~/projects-data/social-multiplication/gamification;DB_CLOSE_ON_EXIT=FALSE\r\n\r\n# Shows the SQL in console\r\nspring.jpa.properties.hibernate.show_sql=true\r\n\r\nspring.datasource.username=\r\nspring.datasource.password=\r\n\r\n####### END H2 #######\r\n```\r\n\r\nI&#39;ve tried changing the ```@GeneratedValue``` to ```@GeneratedValue(strategy = GenerationType.IDENTITY)``` but it didn&#39;t work. I have many other tables just like this one which get generated just fine... I don&#39;t get why this doesn&#39;t.\r\n\r\n\r\nI get an SQLGrammarException when trying to create this table.\r\n\r\n\r\n**EDIT** stack trace\r\n\r\n```\r\n2023-04-08 23:35:23.046 DEBUG 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Running with Spring Boot v2.7.5, Spring v5.3.23\r\n2023-04-08 23:35:23.047  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : The following 1 profile is active: &quot;local&quot;\r\n2023-04-08 23:35:23.153  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-04-08 23:35:23.154  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-08 23:35:24.566  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-08 23:35:24.652  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.\r\n2023-04-08 23:35:26.309  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\r\n2023-04-08 23:35:26.545  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-08 23:35:26.939  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-08 23:35:26.952  INFO 14292 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:file:~/projects-data/social-multiplication/gamification&#39;\r\n2023-04-08 23:35:27.198  INFO 14292 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-08 23:35:27.311  INFO 14292 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\r\n2023-04-08 23:35:27.623  INFO 14292 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-04-08 23:35:27.809  INFO 14292 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-08 23:35:28.017  WARN 14292 --- [  restartedMain] o.h.t.d.java.JavaTypeDescriptorRegistry  : HHH000481: Encountered Java type [interface microservices.book.gamification.domain.badge.Badge] for which we could not locate a JavaTypeDescriptor and which does not appear to implement equals and/or hashCode.  This can lead to significant performance problems when performing equality/dirty checking involving this Java type.  Consider registering a custom JavaTypeDescriptor or at least implementing equals/hashCode.\r\n2023-04-08 23:35:28.499  INFO 14292 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-08 23:35:28.515  INFO 14292 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-08 23:35:29.534  WARN 14292 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-08 23:35:30.832  WARN 14292 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\r\n2023-04-08 23:35:30.907  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2023-04-08 23:35:30.909  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n2023-04-08 23:35:31.003  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7261045c:0/SimpleConnection@7c3c110e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 56088]\r\n2023-04-08 23:35:31.094  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Started GamificationApplication in 8.787 seconds (JVM running for 9.656)\r\n2023-04-08 23:35:31.104  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\r\n2023-04-08 23:35:31.180 DEBUG 14292 --- [ntContainer#0-1] m.book.gamification.event.EventHandler   : MultiplicationSolvedEvent: MultiplicationSolvedEvent{userId=3, multiplicationResultAttemptId=1, correct=false}\r\nHibernate: call next value for hibernate_sequence\r\n2023-04-08 23:35:31.239  WARN 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036\r\n2023-04-08 23:35:31.239 ERROR 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\ncall next value for hibernate_sequence [90036-214]\r\n2023-04-08 23:35:31.259  WARN 14292 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\r\n\r\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method &#39;void microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(microservices.book.gamification.event.MultiplicationSolvedEvent) throws org.springframework.amqp.AmqpRejectAndDontRequeueException&#39; threw exception\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:272) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:209) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:85) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1319) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [call next value for hibernate_sequence]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy113.save(Unknown Source) ~[na:na]\r\n\tat microservices.book.gamification.service.impl.GameServiceImpl.newAttemptForUser(GameServiceImpl.java:47) ~[classes/:na]\r\n\tat microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(EventHandler.java:33) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.23.jar:5.3.23]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.23.jar:5.3.23]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:77) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:263) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\t... 13 common frames omitted\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:75) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:105) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:534) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy109.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\t... 30 common frames omitted\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\ncall next value for hibernate_sequence [90036-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readSequence(Parser.java:8471) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTermWithIdentifier(Parser.java:5347) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTermWithIdentifier(Parser.java:5217) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTerm(Parser.java:4901) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readFactor(Parser.java:3398) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readSum(Parser.java:3385) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readConcat(Parser.java:3350) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readCondition(Parser.java:3132) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readExpression(Parser.java:3053) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parseCall(Parser.java:6980) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:765) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\t... 67 common frames omitted\r\n\r\n2023-04-08 23:35:31.266  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\r\n2023-04-08 23:35:31.873  INFO 14292 --- [ionShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped\r\n2023-04-08 23:35:31.881  INFO 14292 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-08 23:35:31.887  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-04-08 23:35:31.899  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 130\r\n\r\n```\r\n\r\nLine 46,47 of GameServiceImpl.java:\r\n\r\n```\r\nScoreCard scoreCard = new ScoreCard(userId, attemptId, correct);\r\nscoreCardRepository.save(scoreCard);\r\n```","title":"Why can&#39;t H2 create this table?","body":"<p>Why can't H2 create this table?</p>\n<pre><code>@Entity\n@Table(name = &quot;SCORE_CARD&quot;)\npublic final class ScoreCard implements Serializable {\n\n    public static final int DEFAULT_SCORE = 10;\n    private static final long serialVersionUID = -2504167837465532618L;\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;CARD_ID&quot;)\n    private final Long cardId;\n\n    @Column(name = &quot;USER_ID&quot;)\n    private final Long userId;\n\n    @Column(name = &quot;ATTEMPT_ID&quot;)\n    private final Long attemptId;\n\n    @Column(name = &quot;SCORE_TS&quot;)\n    private final Long scoreTimestamp;\n\n    @Column(name = &quot;SCORE&quot;)\n    private final int score;\n\n    @Column(name = &quot;CORRECT&quot;)\n    private final boolean correct;\n\n    public ScoreCard(Long cardId, Long userId, Long attemptId, Long scoreTimestamp, int score,\n                     boolean correct) {\n        this.cardId = cardId;\n        this.userId = userId;\n        this.attemptId = attemptId;\n        this.scoreTimestamp = scoreTimestamp;\n        this.score = correct ? DEFAULT_SCORE : 0;\n        this.correct = correct;\n    }\n\n    public ScoreCard() {\n        this(null, null, null, null, 0, false);\n    }\n\n    public ScoreCard(Long userId, Long attemptId, boolean correct) {\n        this(null, userId, attemptId, System.currentTimeMillis(), 0, correct);\n    }\n\n    public Long getCardId() {\n        return cardId;\n    }\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public Long getAttemptId() {\n        return attemptId;\n    }\n\n    public Long getScoreTimestamp() {\n        return scoreTimestamp;\n    }\n\n    public long getScore() {\n        return score;\n    }\n\n    public boolean isCorrect() {\n        return correct;\n    }\n\n}\n\n\n</code></pre>\n<p>here's the application.properties:</p>\n<pre><code>####### START H2 #######\n\n# Creates the database in a file\nspring.datasource.url=jdbc:h2:file:~/projects-data/social-multiplication/gamification;DB_CLOSE_ON_EXIT=FALSE\n\n# Shows the SQL in console\nspring.jpa.properties.hibernate.show_sql=true\n\nspring.datasource.username=\nspring.datasource.password=\n\n####### END H2 #######\n</code></pre>\n<p>I've tried changing the <code>@GeneratedValue</code> to <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> but it didn't work. I have many other tables just like this one which get generated just fine... I don't get why this doesn't.</p>\n<p>I get an SQLGrammarException when trying to create this table.</p>\n<p><strong>EDIT</strong> stack trace</p>\n<pre><code>2023-04-08 23:35:23.046 DEBUG 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Running with Spring Boot v2.7.5, Spring v5.3.23\n2023-04-08 23:35:23.047  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : The following 1 profile is active: &quot;local&quot;\n2023-04-08 23:35:23.153  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-04-08 23:35:23.154  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-08 23:35:24.566  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-08 23:35:24.652  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.\n2023-04-08 23:35:26.309  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\n2023-04-08 23:35:26.545  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-08 23:35:26.939  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-08 23:35:26.952  INFO 14292 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/projects-data/social-multiplication/gamification'\n2023-04-08 23:35:27.198  INFO 14292 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-08 23:35:27.311  INFO 14292 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\n2023-04-08 23:35:27.623  INFO 14292 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-04-08 23:35:27.809  INFO 14292 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-08 23:35:28.017  WARN 14292 --- [  restartedMain] o.h.t.d.java.JavaTypeDescriptorRegistry  : HHH000481: Encountered Java type [interface microservices.book.gamification.domain.badge.Badge] for which we could not locate a JavaTypeDescriptor and which does not appear to implement equals and/or hashCode.  This can lead to significant performance problems when performing equality/dirty checking involving this Java type.  Consider registering a custom JavaTypeDescriptor or at least implementing equals/hashCode.\n2023-04-08 23:35:28.499  INFO 14292 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-08 23:35:28.515  INFO 14292 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-08 23:35:29.534  WARN 14292 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-08 23:35:30.832  WARN 14292 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\n2023-04-08 23:35:30.907  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2023-04-08 23:35:30.909  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2023-04-08 23:35:31.003  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7261045c:0/SimpleConnection@7c3c110e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 56088]\n2023-04-08 23:35:31.094  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Started GamificationApplication in 8.787 seconds (JVM running for 9.656)\n2023-04-08 23:35:31.104  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\n2023-04-08 23:35:31.180 DEBUG 14292 --- [ntContainer#0-1] m.book.gamification.event.EventHandler   : MultiplicationSolvedEvent: MultiplicationSolvedEvent{userId=3, multiplicationResultAttemptId=1, correct=false}\nHibernate: call next value for hibernate_sequence\n2023-04-08 23:35:31.239  WARN 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036\n2023-04-08 23:35:31.239 ERROR 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n2023-04-08 23:35:31.259  WARN 14292 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\n\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'void microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(microservices.book.gamification.event.MultiplicationSolvedEvent) throws org.springframework.amqp.AmqpRejectAndDontRequeueException' threw exception\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:272) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:209) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:85) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1319) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225) [spring-rabbit-2.4.7.jar:2.4.7]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [call next value for hibernate_sequence]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\n    at com.sun.proxy.$Proxy113.save(Unknown Source) ~[na:na]\n    at microservices.book.gamification.service.impl.GameServiceImpl.newAttemptForUser(GameServiceImpl.java:47) ~[classes/:na]\n    at microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(EventHandler.java:33) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.23.jar:5.3.23]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.23.jar:5.3.23]\n    at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:77) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:263) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    ... 13 common frames omitted\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:75) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:105) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:534) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\n    at com.sun.proxy.$Proxy109.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\n    ... 30 common frames omitted\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readSequence(Parser.java:8471) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5347) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5217) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTerm(Parser.java:4901) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readFactor(Parser.java:3398) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readSum(Parser.java:3385) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readConcat(Parser.java:3350) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readCondition(Parser.java:3132) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readExpression(Parser.java:3053) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseCall(Parser.java:6980) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parsePrepared(Parser.java:765) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    ... 67 common frames omitted\n\n2023-04-08 23:35:31.266  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\n2023-04-08 23:35:31.873  INFO 14292 --- [ionShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped\n2023-04-08 23:35:31.881  INFO 14292 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-08 23:35:31.887  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-08 23:35:31.899  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 130\n\n</code></pre>\n<p>Line 46,47 of GameServiceImpl.java:</p>\n<pre><code>ScoreCard scoreCard = new ScoreCard(userId, attemptId, correct);\nscoreCardRepository.save(scoreCard);\n</code></pre>\n"},{"tags":["java","user-interface","datatable","gwt","domino-ui"],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680992143,"creation_date":1680986088,"answer_id":75967562,"question_id":75967561,"body_markdown":"Domino-ui datatable has a built-in plugin called Marker plugin that can mark the row conditionally with different colors, the plugin adds the color as a border to the left border of the row\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nyou can find an example in domino-ui demo [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/73ral.png\r\n  [2]: https://demo.dominokit.org/datatable/marker-plugin\r\n\r\nand if that is not enough you can create your own plugin, like this \r\n\r\n    import elemental2.dom.HTMLTableRowElement;\r\n    import org.dominokit.domino.ui.datatable.DataTable;\r\n    import org.dominokit.domino.ui.datatable.TableRow;\r\n    import org.dominokit.domino.ui.datatable.plugins.DataTablePlugin;\r\n    \r\n    public class RowColorPlugin&lt;T&gt; implements DataTablePlugin&lt;T&gt; {\r\n    \r\n        @Override\r\n        public void onRowAdded(DataTable&lt;T&gt; dataTable, TableRow&lt;T&gt; tableRow) {\r\n            T record = tableRow.getRecord();\r\n            HTMLTableRowElement row = tableRow.element();\r\n            // Add css classes or set css properties in the row element based on the row record to change the row colors\r\n        }\r\n    }\r\n\r\nAnd here is a sample showing how to use the custom plugin\r\n\r\n    TableConfig&lt;Contact&gt; tableConfig = new TableConfig&lt;&gt;();\r\n            tableConfig\r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;id&quot;, &quot;#&quot;)\r\n                            .textAlign(&quot;right&quot;)\r\n                            .asHeader()\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getIndex() + 1 + &quot;&quot;)))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;status&quot;, &quot;Status&quot;)\r\n                            .textAlign(&quot;center&quot;)\r\n                            .setCellRenderer(cell -&gt; {\r\n                                if (cell.getTableRow().getRecord().isActive()) {\r\n                                    return Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\r\n                                } else {\r\n                                    return Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\r\n                                }\r\n                            }))\r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;firstName&quot;, &quot;First name&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())))\r\n    \r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;gender&quot;, &quot;Gender&quot;)\r\n                            .setCellRenderer(cell -&gt; ContactUiUtils.getGenderElement(cell.getRecord()))\r\n                            .textAlign(&quot;center&quot;))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;eyeColor&quot;, &quot;Eye color&quot;)\r\n                            .setCellRenderer(cell -&gt; ContactUiUtils.getEyeColorElement(cell.getRecord()))\r\n                            .textAlign(&quot;center&quot;))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;balance&quot;, &quot;Balance&quot;)\r\n                            .setCellRenderer(cellInfo -&gt; ContactUiUtils.getBalanceElement(cellInfo.getRecord())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;email&quot;, &quot;Email&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getEmail())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;phone&quot;, &quot;Phone&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getPhone())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;badges&quot;, &quot;Badges&quot;)\r\n                            .setCellRenderer(cell -&gt; {\r\n                                if (cell.getTableRow().getRecord().getAge() &lt; 35) {\r\n                                    return Badge.create(&quot;Young&quot;)\r\n                                            .setBackground(ColorScheme.GREEN.color()).element();\r\n                                }\r\n                                return TextNode.of(&quot;&quot;);\r\n                            }));\r\n    \r\n            tableConfig.addPlugin(new RowColorPlugin&lt;&gt;(tableCellInfo -&gt; ContactUiUtils.getBalanceColor(tableCellInfo.getRecord())));\r\n            LocalListDataStore&lt;Contact&gt; localListDataStore = new LocalListDataStore&lt;&gt;();\r\n            DataTable&lt;Contact&gt; defaultTable = new DataTable&lt;&gt;(tableConfig, localListDataStore);\r\n        localListDataStore.setData(contactsList);","title":"Conditional datatable row color using domino-ui","body":"<p>Domino-ui datatable has a built-in plugin called Marker plugin that can mark the row conditionally with different colors, the plugin adds the color as a border to the left border of the row</p>\n<p><a href=\"https://i.stack.imgur.com/73ral.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73ral.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find an example in domino-ui demo <a href=\"https://demo.dominokit.org/datatable/marker-plugin\" rel=\"nofollow noreferrer\">here</a></p>\n<p>and if that is not enough you can create your own plugin, like this</p>\n<pre><code>import elemental2.dom.HTMLTableRowElement;\nimport org.dominokit.domino.ui.datatable.DataTable;\nimport org.dominokit.domino.ui.datatable.TableRow;\nimport org.dominokit.domino.ui.datatable.plugins.DataTablePlugin;\n\npublic class RowColorPlugin&lt;T&gt; implements DataTablePlugin&lt;T&gt; {\n\n    @Override\n    public void onRowAdded(DataTable&lt;T&gt; dataTable, TableRow&lt;T&gt; tableRow) {\n        T record = tableRow.getRecord();\n        HTMLTableRowElement row = tableRow.element();\n        // Add css classes or set css properties in the row element based on the row record to change the row colors\n    }\n}\n</code></pre>\n<p>And here is a sample showing how to use the custom plugin</p>\n<pre><code>TableConfig&lt;Contact&gt; tableConfig = new TableConfig&lt;&gt;();\n        tableConfig\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;id&quot;, &quot;#&quot;)\n                        .textAlign(&quot;right&quot;)\n                        .asHeader()\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getIndex() + 1 + &quot;&quot;)))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;status&quot;, &quot;Status&quot;)\n                        .textAlign(&quot;center&quot;)\n                        .setCellRenderer(cell -&gt; {\n                            if (cell.getTableRow().getRecord().isActive()) {\n                                return Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\n                            } else {\n                                return Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\n                            }\n                        }))\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;firstName&quot;, &quot;First name&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())))\n\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;gender&quot;, &quot;Gender&quot;)\n                        .setCellRenderer(cell -&gt; ContactUiUtils.getGenderElement(cell.getRecord()))\n                        .textAlign(&quot;center&quot;))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;eyeColor&quot;, &quot;Eye color&quot;)\n                        .setCellRenderer(cell -&gt; ContactUiUtils.getEyeColorElement(cell.getRecord()))\n                        .textAlign(&quot;center&quot;))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;balance&quot;, &quot;Balance&quot;)\n                        .setCellRenderer(cellInfo -&gt; ContactUiUtils.getBalanceElement(cellInfo.getRecord())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;email&quot;, &quot;Email&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getEmail())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;phone&quot;, &quot;Phone&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getPhone())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;badges&quot;, &quot;Badges&quot;)\n                        .setCellRenderer(cell -&gt; {\n                            if (cell.getTableRow().getRecord().getAge() &lt; 35) {\n                                return Badge.create(&quot;Young&quot;)\n                                        .setBackground(ColorScheme.GREEN.color()).element();\n                            }\n                            return TextNode.of(&quot;&quot;);\n                        }));\n\n        tableConfig.addPlugin(new RowColorPlugin&lt;&gt;(tableCellInfo -&gt; ContactUiUtils.getBalanceColor(tableCellInfo.getRecord())));\n        LocalListDataStore&lt;Contact&gt; localListDataStore = new LocalListDataStore&lt;&gt;();\n        DataTable&lt;Contact&gt; defaultTable = new DataTable&lt;&gt;(tableConfig, localListDataStore);\n    localListDataStore.setData(contactsList);\n</code></pre>\n"}],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75967562,"answer_count":1,"score":0,"last_activity_date":1680992295,"creation_date":1680986088,"question_id":75967561,"body_markdown":"Can we change the background color of a domino-ui datatable row based on some expression or a condition? for example make the row background red if DueDate &lt; Today.","title":"Conditional datatable row color using domino-ui","body":"<p>Can we change the background color of a domino-ui datatable row based on some expression or a condition? for example make the row background red if DueDate &lt; Today.</p>\n"},{"tags":["java","count","digits"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1680979631,"post_id":75967028,"comment_id":133986818,"body_markdown":"did it have to be recursive?","body":"did it have to be recursive?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680981866,"post_id":75967028,"comment_id":133987070,"body_markdown":"If your code is already working, and you are asking for feedback on possible improvements, then that is probably off-topic for Stack Overflow - but is likely a good fit for [Code Review](https://codereview.stackexchange.com/). You can take a look at their [how to ask](https://codereview.stackexchange.com/help/how-to-ask) guidelines, and get a feel for what types of questions are well received, before posting a question there.","body":"If your code is already working, and you are asking for feedback on possible improvements, then that is probably off-topic for Stack Overflow - but is likely a good fit for <a href=\"https://codereview.stackexchange.com/\">Code Review</a>. You can take a look at their <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">how to ask</a> guidelines, and get a feel for what types of questions are well received, before posting a question there."}],"answers":[{"tags":[],"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680991277,"creation_date":1680991277,"answer_id":75967881,"question_id":75967028,"body_markdown":"**First** of all, your code does not work if input is `0`.\\\r\nWhen `0` is passed, your function immediately returns `0` digits, which is wrong. Input number `0` consists of single digit and hence result should be `1`.\r\n\r\n**Second**, you could optimize your recursive function using [tail-recursion][1].\r\n\r\n```java\r\npublic static int digitCount(int userNum) {\r\n    return digitCountRec(userNum, 0);\r\n}\r\n\r\n// Helper function performing tail recursion\r\nprivate static int digitCountRec(int number, int digitCount) {\r\n   if (number == 0) {\r\n       return digitCount == 0 ? 1 : digitCount;\r\n   }\r\n   return digitCountRec(number / 10, digitCount + 1);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/tail-recursion/","title":"LAB: Count the digits. How did I do?","body":"<p><strong>First</strong> of all, your code does not work if input is <code>0</code>.<br />\nWhen <code>0</code> is passed, your function immediately returns <code>0</code> digits, which is wrong. Input number <code>0</code> consists of single digit and hence result should be <code>1</code>.</p>\n<p><strong>Second</strong>, you could optimize your recursive function using <a href=\"https://www.geeksforgeeks.org/tail-recursion/\" rel=\"nofollow noreferrer\">tail-recursion</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int digitCount(int userNum) {\n    return digitCountRec(userNum, 0);\n}\n\n// Helper function performing tail recursion\nprivate static int digitCountRec(int number, int digitCount) {\n   if (number == 0) {\n       return digitCount == 0 ? 1 : digitCount;\n   }\n   return digitCountRec(number / 10, digitCount + 1);\n}\n</code></pre>\n"}],"owner":{"account_id":28204521,"reputation":1,"user_id":21557821,"display_name":"whomgodgiveth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680991277,"creation_date":1680978674,"question_id":75967028,"body_markdown":"Here is my code that I worked on and wondering how well did I do to simplify this? I just wanted to do my best to get a better understanding of Java. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   \r\n   /* TODO: Write recursive digitCount() method here. */\r\n   public static int digitCount(int userNum) {\r\n    if (userNum == 0) {\r\n        return 0;\r\n    }\r\n    return 1 + digitCount(userNum/10);\r\n    \r\n   }\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int num, digits;\r\n      \r\n      num = scnr.nextInt();\r\n      digits = digitCount(num);\r\n      System.out.println(digits);\r\n   }\r\n}\r\n```","title":"LAB: Count the digits. How did I do?","body":"<p>Here is my code that I worked on and wondering how well did I do to simplify this? I just wanted to do my best to get a better understanding of Java.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   /* TODO: Write recursive digitCount() method here. */\n   public static int digitCount(int userNum) {\n    if (userNum == 0) {\n        return 0;\n    }\n    return 1 + digitCount(userNum/10);\n    \n   }\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int num, digits;\n      \n      num = scnr.nextInt();\n      digits = digitCount(num);\n      System.out.println(digits);\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","django-rest-framework","vert.x","vert.x-webclient"],"answers":[{"tags":[],"owner":{"account_id":27844101,"reputation":1,"user_id":21259967,"display_name":"med ngh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680919154,"creation_date":1680919154,"answer_id":75962960,"question_id":75962938,"body_markdown":"Do you ensure that form that you send from vert. X isn&#39;t empty","title":"Send Multipart/form-data from Vert.x WebClient to Django rest framework","body":"<p>Do you ensure that form that you send from vert. X isn't empty</p>\n"}],"owner":{"account_id":28245926,"reputation":1,"user_id":21592965,"display_name":"Hassan Outhami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680990536,"creation_date":1680918524,"question_id":75962938,"body_markdown":"try to send a document and some data from my vert.x (client-side) to django rest-framework (server-side) :\r\nthe code server side is :\r\n```\r\n@api_view([&#39;POST&#39;])\r\n@parser_classes([MultiPartParser, FormParser])\r\ndef quick_indexing(request):\r\n    \r\n    data = request.data\r\n    print(data)  # print the entire request data dictionary\r\n    test_value = data.get(&quot;test&quot;)\r\n    if test_value:\r\n        return Response(f&quot;test attribute value: {test_value}&quot;)\r\n    else:\r\n        return Response(&quot;test attribute not found&quot;)\r\n```\r\n\r\nthe code client side :\r\n\r\n```\r\nVertx vertx = Vertx.vertx();\r\n        WebClient client = WebClient.create(vertx);\r\n        Buffer file = vertx.fileSystem().readFileBlocking(&quot;C:/Users/houth/CIN Hassan.pdf&quot;);\r\n        MultipartForm form = MultipartForm.create()\r\n            .attribute(&quot;test&quot;, &quot;succed&quot;)\r\n            .binaryFileUpload(&quot;file&quot;, &quot;filename&quot;, file, &quot;Application/pdf&quot;);\r\n// Send a POST request with the file and form data\r\n        client.postAbs(&quot;http://localhost:8000/quick-indexing&quot;)\r\n            .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), &quot;multipart/form-data&quot;)\r\n            .sendMultipartForm(form,\r\n                ar -&gt; {\r\n                    if (ar.succeeded()) {\r\n                        // Handle the response\r\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\r\n                        System.out.println(&quot;Status code: &quot; + response.statusCode());\r\n                        System.out.println(&quot;Response body: &quot; + response.bodyAsString());\r\n                    } else {\r\n                        // Handle the failure\r\n                        Throwable cause = ar.cause();\r\n                        System.err.println(&quot;Request failed: &quot; + cause.getMessage());\r\n                    }\r\n                });\r\n        System.out.println(&quot;end&quot;);\r\n```\r\n\r\n---&gt; the result in client side is: \r\n```\r\nend\r\nStatus code: 200\r\nResponse body: &quot;test attribute not found&quot;\r\n[ERROR] 2023-04-08 01:39:22.881  invalid version format: &lt;!DOCTYPE\r\njava.lang.IllegalArgumentException: invalid version format: &lt;!DOCTYPE\r\n\tat io.netty.handler.codec.http.HttpVersion.&lt;init&gt;(HttpVersion.java:116) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\r\n\tat io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:78) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\r\n```\r\n---&gt; the result in server side is:\r\n\r\n```\r\n&lt;QueryDict: {}&gt;\r\n[08/Apr/2023 01:39:22] &quot;POST /quick-indexing HTTP/1.1&quot; 200 26\r\n[08/Apr/2023 01:39:22] code 400, message Bad request syntax (&#39;9d&#39;)\r\n[08/Apr/2023 01:39:22] &quot;9d&quot; 400 -\r\n```\r\n\r\n----&gt; the problem is that if i call the api from postman it succeed\r\n\r\nCDL\r\n\r\n\r\n\r\n\r\n\r\nSend Data with file from vert.x webclient to an api rest framework ","title":"Send Multipart/form-data from Vert.x WebClient to Django rest framework","body":"<p>try to send a document and some data from my vert.x (client-side) to django rest-framework (server-side) :\nthe code server side is :</p>\n<pre><code>@api_view(['POST'])\n@parser_classes([MultiPartParser, FormParser])\ndef quick_indexing(request):\n    \n    data = request.data\n    print(data)  # print the entire request data dictionary\n    test_value = data.get(&quot;test&quot;)\n    if test_value:\n        return Response(f&quot;test attribute value: {test_value}&quot;)\n    else:\n        return Response(&quot;test attribute not found&quot;)\n</code></pre>\n<p>the code client side :</p>\n<pre><code>Vertx vertx = Vertx.vertx();\n        WebClient client = WebClient.create(vertx);\n        Buffer file = vertx.fileSystem().readFileBlocking(&quot;C:/Users/houth/CIN Hassan.pdf&quot;);\n        MultipartForm form = MultipartForm.create()\n            .attribute(&quot;test&quot;, &quot;succed&quot;)\n            .binaryFileUpload(&quot;file&quot;, &quot;filename&quot;, file, &quot;Application/pdf&quot;);\n// Send a POST request with the file and form data\n        client.postAbs(&quot;http://localhost:8000/quick-indexing&quot;)\n            .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), &quot;multipart/form-data&quot;)\n            .sendMultipartForm(form,\n                ar -&gt; {\n                    if (ar.succeeded()) {\n                        // Handle the response\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\n                        System.out.println(&quot;Status code: &quot; + response.statusCode());\n                        System.out.println(&quot;Response body: &quot; + response.bodyAsString());\n                    } else {\n                        // Handle the failure\n                        Throwable cause = ar.cause();\n                        System.err.println(&quot;Request failed: &quot; + cause.getMessage());\n                    }\n                });\n        System.out.println(&quot;end&quot;);\n</code></pre>\n<p>---&gt; the result in client side is:</p>\n<pre><code>end\nStatus code: 200\nResponse body: &quot;test attribute not found&quot;\n[ERROR] 2023-04-08 01:39:22.881  invalid version format: &lt;!DOCTYPE\njava.lang.IllegalArgumentException: invalid version format: &lt;!DOCTYPE\n    at io.netty.handler.codec.http.HttpVersion.&lt;init&gt;(HttpVersion.java:116) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:78) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\n</code></pre>\n<p>---&gt; the result in server side is:</p>\n<pre><code>&lt;QueryDict: {}&gt;\n[08/Apr/2023 01:39:22] &quot;POST /quick-indexing HTTP/1.1&quot; 200 26\n[08/Apr/2023 01:39:22] code 400, message Bad request syntax ('9d')\n[08/Apr/2023 01:39:22] &quot;9d&quot; 400 -\n</code></pre>\n<p>----&gt; the problem is that if i call the api from postman it succeed</p>\n<p>CDL</p>\n<p>Send Data with file from vert.x webclient to an api rest framework</p>\n"},{"tags":["java","spring-security"],"owner":{"account_id":19773138,"reputation":1,"user_id":14479724,"display_name":"Lidiia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680990285,"creation_date":1680990285,"question_id":75967819,"body_markdown":"So I can access method from the original port that I chose in properties file, but I am doing auth-service so I when im trying to register a new user, I need to do it through gateway, but it doesn&#39;t work.\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class AuthConfig {\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/register&quot;, &quot;/auth/token&quot;, &quot;/auth/validate&quot;).permitAll()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String addNewUser(@RequestBody UserCredential userCredential){\r\n        return authService.saveUser(userCredential);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class AuthService {\r\n\r\n    @Autowired\r\n    private UserCredentialRepository repository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    public String saveUser(UserCredential credential){\r\n        credential.setPassword(passwordEncoder.encode(credential.getPassword()));\r\n        repository.save(credential);\r\n        return &quot;user added to the system&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nserver.port=8083\r\nspring.application.name=auth-service\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\nlogging.level.org.springframework.security=DEBUG\r\n\r\nspring.cloud.gateway.routes[2].id=auth-service\r\nspring.cloud.gateway.routes[2].uri=http://localhost:8083\r\nspring.cloud.gateway.routes[2].predicates[0]=Path=/auth/**\r\nspring.cloud.gateway.routes[2].filters[0]=RewritePath=/auth/(?&lt;segment&gt;.*), /${segment}\r\nspring.cloud.gateway.routes[2].filters[1]=AddRequestHeader=X-Request-ServiceName, auth-service\r\n```\r\n\r\n o.s.security.web.FilterChainProxy        : Securing POST /auth/register\r\n o.s.security.web.FilterChainProxy        : Secured POST /auth/register\r\nHibernate: insert into user_credential (email, name, password) values (?, ?, ?)\r\n : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.security.web.FilterChainProxy        : Securing POST /register\r\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/register?continue to session\r\no.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n o.s.security.web.FilterChainProxy        : Securing POST /error\r\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/error?continue to session\r\nPre-authenticated entry point called. Rejecting access\r\n\r\n\r\nAs you can see gateway is can not create a new user because spring security is not giving access, but I did access to every user without any roles \r\n\r\n","title":"I can&#39;t access method from the gateway","body":"<p>So I can access method from the original port that I chose in properties file, but I am doing auth-service so I when im trying to register a new user, I need to do it through gateway, but it doesn't work.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AuthConfig {\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/register&quot;, &quot;/auth/token&quot;, &quot;/auth/validate&quot;).permitAll()\n                .and()\n                .build();\n    }\n\n    \n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n\n\n    @PostMapping(&quot;/register&quot;)\n    public String addNewUser(@RequestBody UserCredential userCredential){\n        return authService.saveUser(userCredential);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class AuthService {\n\n    @Autowired\n    private UserCredentialRepository repository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    public String saveUser(UserCredential credential){\n        credential.setPassword(passwordEncoder.encode(credential.getPassword()));\n        repository.save(credential);\n        return &quot;user added to the system&quot;;\n    }\n\n}\n</code></pre>\n<pre><code>\nserver.port=8083\nspring.application.name=auth-service\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\nlogging.level.org.springframework.security=DEBUG\n\nspring.cloud.gateway.routes[2].id=auth-service\nspring.cloud.gateway.routes[2].uri=http://localhost:8083\nspring.cloud.gateway.routes[2].predicates[0]=Path=/auth/**\nspring.cloud.gateway.routes[2].filters[0]=RewritePath=/auth/(?&lt;segment&gt;.*), /${segment}\nspring.cloud.gateway.routes[2].filters[1]=AddRequestHeader=X-Request-ServiceName, auth-service\n</code></pre>\n<p>o.s.security.web.FilterChainProxy        : Securing POST /auth/register\no.s.security.web.FilterChainProxy        : Secured POST /auth/register\nHibernate: insert into user_credential (email, name, password) values (?, ?, ?)\n: Set SecurityContextHolder to anonymous SecurityContext\no.s.security.web.FilterChainProxy        : Securing POST /register\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/register?continue to session\no.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\no.s.security.web.FilterChainProxy        : Securing POST /error\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/error?continue to session\nPre-authenticated entry point called. Rejecting access</p>\n<p>As you can see gateway is can not create a new user because spring security is not giving access, but I did access to every user without any roles</p>\n"},{"tags":["java","visual-studio-code","configuration"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1681105325,"post_id":75965311,"comment_id":133999102,"body_markdown":"Do you mean that when you open a script file written by someone else in vscode, it will automatically expand one line of import into multiple lines? Or do you automatically import multiple lines when editing the code yourself? Can you provide a [complete reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Do you mean that when you open a script file written by someone else in vscode, it will automatically expand one line of import into multiple lines? Or do you automatically import multiple lines when editing the code yourself? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680989377,"creation_date":1680989377,"answer_id":75967770,"question_id":75965311,"body_markdown":"I don&#39;t know if there&#39;s a setting to make the extension leave such star imports as untouched. Looking through the list of settings, the only relevantly-named ones I found were the following (although perhaps I just missed some?):\r\n\r\n```json\r\n&quot;java.sources.organizeImports.starThreshold&quot;: 99,\r\n&quot;java.sources.organizeImports.staticStarThreshold&quot;: 99\r\n```\r\n\r\nThe settings&#39; descriptions, respectively:\r\n\r\n&gt; Specifies the number of imports added before a star-import declaration is used.\r\n\r\n&gt; Specifies the number of static imports added before a star-import declaration is used.","title":"How can I configure VS Code to allow wildcard imports?","body":"<p>I don't know if there's a setting to make the extension leave such star imports as untouched. Looking through the list of settings, the only relevantly-named ones I found were the following (although perhaps I just missed some?):</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.sources.organizeImports.starThreshold&quot;: 99,\n&quot;java.sources.organizeImports.staticStarThreshold&quot;: 99\n</code></pre>\n<p>The settings' descriptions, respectively:</p>\n<blockquote>\n<p>Specifies the number of imports added before a star-import declaration is used.</p>\n</blockquote>\n<blockquote>\n<p>Specifies the number of static imports added before a star-import declaration is used.</p>\n</blockquote>\n"}],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75967770,"answer_count":1,"score":1,"last_activity_date":1680989518,"creation_date":1680958315,"question_id":75965311,"body_markdown":"We have a team currently developing a spring boot app, and I use VS Code, but other members use Intellij IDEA as development IDE. The issue is that when I pulled the project from the repository, opened it, and saved it, it expanded the wildcard imports automatically.\r\n\r\n**In Intellij IDEA**\r\n```\r\nimport javax.persistence.*;\r\n```\r\n\r\n**In VS Code**\r\n```\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n```\r\n\r\nIs there a way to configure VS Code to allow wildcard imports like IntelliJ?","title":"How can I configure VS Code to allow wildcard imports?","body":"<p>We have a team currently developing a spring boot app, and I use VS Code, but other members use Intellij IDEA as development IDE. The issue is that when I pulled the project from the repository, opened it, and saved it, it expanded the wildcard imports automatically.</p>\n<p><strong>In Intellij IDEA</strong></p>\n<pre><code>import javax.persistence.*;\n</code></pre>\n<p><strong>In VS Code</strong></p>\n<pre><code>import javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n</code></pre>\n<p>Is there a way to configure VS Code to allow wildcard imports like IntelliJ?</p>\n"},{"tags":["java","spring-boot","maven","spring-bean","beancreationexception"],"answers":[{"tags":[],"owner":{"account_id":21474482,"reputation":41,"user_id":15822985,"display_name":"Feng Bo Wen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680924087,"creation_date":1680924087,"answer_id":75963149,"question_id":75962324,"body_markdown":"at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\r\n\r\nFrom above error message, we are able to indicate that because of line 91, showing NullPointerException, thus lead to app startup failed.\r\n\r\nI have checked your application.properties. With below code to load property value. the key of property must be same as value in source code.\r\nJava code:\r\nenv.getProperty(&quot;**hibernate.hbm2ddl.auto**&quot;) \r\n\r\napplication.properties file\r\n\r\n**spring.jpa.hibernate.ddl-auto**=update\r\nhere should be **hibernate.hbm2ddl.auto**=update\r\n\r\nand the rest should follow same.\r\n","title":"How to fix &#39;Error Creating Bean&#39; (BeanCreationException) in Maven Spring Boot Application?","body":"<p>at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]</p>\n<p>From above error message, we are able to indicate that because of line 91, showing NullPointerException, thus lead to app startup failed.</p>\n<p>I have checked your application.properties. With below code to load property value. the key of property must be same as value in source code.\nJava code:\nenv.getProperty(&quot;<strong>hibernate.hbm2ddl.auto</strong>&quot;)</p>\n<p>application.properties file</p>\n<p><strong>spring.jpa.hibernate.ddl-auto</strong>=update\nhere should be <strong>hibernate.hbm2ddl.auto</strong>=update</p>\n<p>and the rest should follow same.</p>\n"}],"owner":{"account_id":28245105,"reputation":3,"user_id":21592283,"display_name":"Brent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963149,"answer_count":1,"score":0,"last_activity_date":1680988412,"creation_date":1680906009,"question_id":75962324,"body_markdown":"I am creating a User Registration System using Maven &amp; Java Spring Boot. While I am able to get the project to successfully build, the application cannot start with the following error trace:\r\n\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-07T18:10:43.674-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : Starting SpringDevApplication using Java 17.0.6 with PID 23400 (C:\\temp\\SpringDev\\target\\classes started by b.hasseman in C:\\temp\\SpringDev)\r\n2023-04-07T18:10:43.679-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-07T18:10:44.098-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-07T18:10:44.136-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.\r\n2023-04-07T18:10:44.444-04:00  INFO 23400 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;jpaConfig&#39; of type [com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-04-07T18:10:44.912-04:00  INFO 23400 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n2023-04-07T18:10:45.002-04:00  INFO 23400 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-07T18:10:45.004-04:00  INFO 23400 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms\r\n2023-04-07T18:10:45.085-04:00  WARN 23400 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mysqlEntityManagerFactory&#39; defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n2023-04-07T18:10:45.088-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-04-07T18:10:45.103-04:00  INFO 23400 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-07T18:10:45.122-04:00 ERROR 23400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mysqlEntityManagerFactory&#39; defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.registration.Spring.Test.SpringDevApplication.main(SpringDevApplication.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[na:na]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006) ~[na:na]\r\n\tat java.base/java.util.Properties.put(Properties.java:1301) ~[na:na]\r\n\tat java.base/java.util.Properties.setProperty(Properties.java:229) ~[na:na]\r\n\tat com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig.mysqlEntityManagerFactory(JpaConfig.java:65) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.CGLIB$mysqlEntityManagerFactory$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.mysqlEntityManagerFactory(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 25 common frames omitted\r\n\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\r\n[ [1;34mINFO [m]  [1;32mBUILD SUCCESS [m\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\r\n[ [1;34mINFO [m] Total time:  3.747 s\r\n[ [1;34mINFO [m] Finished at: 2023-04-07T18:10:45-04:00\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------\r\n```\r\n\r\nThis is my JpaConfig.java:\r\n\r\n```\r\npackage com.registration.Spring.Test;\r\n\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.context.annotation.PropertySources;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@PropertySources({\r\n\t@PropertySource(&quot;classpath:application.properties&quot;)\r\n})\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;com.registration.Spring.Test&quot;,\r\n\t\tentityManagerFactoryRef = &quot;mysqlEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;mysqlTransactionManager&quot;)\r\npublic class JpaConfig {\r\n\t@Autowired\r\n\tprivate final Environment env;\r\n\t\r\n\tpublic JpaConfig(Environment env) {\r\n\t\tthis.env = env;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;dataSource&quot;)\r\n\tpublic DataSource dataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n\t\tdataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\r\n\t\tdataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\r\n\t\tdataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\r\n\t\treturn dataSource;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;mysqlEntityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mysqlEntityManagerFactory(\r\n\t\t\t@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n\t\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\t\tem.setDataSource(dataSource);\r\n\t\tem.setPackagesToScan(new String [] { &quot;com.registration.Spring.Test&quot; });\r\n\t\t\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tem.setJpaVendorAdapter(vendorAdapter);\r\n\t\tem.setJpaProperties(additionalProperties());\r\n\t\t\r\n\t\treturn em;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;mysqlTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager mysqlTransactionManager(\r\n\t\t\t@Qualifier(&quot;mysqlEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\ttransactionManager.setEntityManagerFactory(entityManagerFactory);\r\n\t\treturn transactionManager;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n\t\treturn new PersistenceExceptionTranslationPostProcessor();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic JdbcTemplate jdbcTemplate(@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n\t\treturn new JdbcTemplate(dataSource);\r\n\t}\r\n\t\r\n\tprivate Properties additionalProperties() {\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;hibernate.format_sql&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.use_sql_comments&quot;, env.getProperty(&quot;hibernate.use_sql_comments&quot;));\r\n\t\treturn properties;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThis is my application.properties (with the actual username and password changed):\r\n\r\n```\r\n# data source configuration\r\nspring.datasource.url=jdbc:mysql://localhost:3306/user_registration_system\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\n\r\n# JPA configuration\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\nAnd this is my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;!--  lookup parent from repository  --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.spring&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringDev&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringDev&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried changing the driver class, changing between jakarta and javax, and using different qualifier annotations.\r\n\r\nHow to fix this?","title":"How to fix &#39;Error Creating Bean&#39; (BeanCreationException) in Maven Spring Boot Application?","body":"<p>I am creating a User Registration System using Maven &amp; Java Spring Boot. While I am able to get the project to successfully build, the application cannot start with the following error trace:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-07T18:10:43.674-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : Starting SpringDevApplication using Java 17.0.6 with PID 23400 (C:\\temp\\SpringDev\\target\\classes started by b.hasseman in C:\\temp\\SpringDev)\n2023-04-07T18:10:43.679-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-07T18:10:44.098-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-07T18:10:44.136-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.\n2023-04-07T18:10:44.444-04:00  INFO 23400 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jpaConfig' of type [com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-04-07T18:10:44.912-04:00  INFO 23400 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-07T18:10:45.002-04:00  INFO 23400 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-07T18:10:45.004-04:00  INFO 23400 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms\n2023-04-07T18:10:45.085-04:00  WARN 23400 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mysqlEntityManagerFactory' defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n2023-04-07T18:10:45.088-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-07T18:10:45.103-04:00  INFO 23400 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-07T18:10:45.122-04:00 ERROR 23400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mysqlEntityManagerFactory' defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.registration.Spring.Test.SpringDevApplication.main(SpringDevApplication.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 24 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[na:na]\n    at java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006) ~[na:na]\n    at java.base/java.util.Properties.put(Properties.java:1301) ~[na:na]\n    at java.base/java.util.Properties.setProperty(Properties.java:229) ~[na:na]\n    at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig.mysqlEntityManagerFactory(JpaConfig.java:65) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.CGLIB$mysqlEntityManagerFactory$0(&lt;generated&gt;) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.mysqlEntityManagerFactory(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 25 common frames omitted\n\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\n[ [1;34mINFO [m]  [1;32mBUILD SUCCESS [m\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\n[ [1;34mINFO [m] Total time:  3.747 s\n[ [1;34mINFO [m] Finished at: 2023-04-07T18:10:45-04:00\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------\n</code></pre>\n<p>This is my JpaConfig.java:</p>\n<pre><code>package com.registration.Spring.Test;\n\n\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.annotation.PropertySources;\nimport org.springframework.core.env.Environment;\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@PropertySources({\n    @PropertySource(&quot;classpath:application.properties&quot;)\n})\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;com.registration.Spring.Test&quot;,\n        entityManagerFactoryRef = &quot;mysqlEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;mysqlTransactionManager&quot;)\npublic class JpaConfig {\n    @Autowired\n    private final Environment env;\n    \n    public JpaConfig(Environment env) {\n        this.env = env;\n    }\n    \n    @Primary\n    @Bean(name = &quot;dataSource&quot;)\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\n        dataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\n        dataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\n        dataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\n        return dataSource;\n    }\n    \n    @Primary\n    @Bean(name = &quot;mysqlEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean mysqlEntityManagerFactory(\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource);\n        em.setPackagesToScan(new String [] { &quot;com.registration.Spring.Test&quot; });\n        \n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n        \n        return em;\n    }\n    \n    @Primary\n    @Bean(name = &quot;mysqlTransactionManager&quot;)\n    public PlatformTransactionManager mysqlTransactionManager(\n            @Qualifier(&quot;mysqlEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n        return transactionManager;\n    }\n    \n    @Bean\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n    \n    @Bean\n    public JdbcTemplate jdbcTemplate(@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        return new JdbcTemplate(dataSource);\n    }\n    \n    private Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\n        properties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\n        properties.setProperty(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;hibernate.format_sql&quot;));\n        properties.setProperty(&quot;hibernate.use_sql_comments&quot;, env.getProperty(&quot;hibernate.use_sql_comments&quot;));\n        return properties;\n    }\n    \n    \n}\n</code></pre>\n<p>This is my application.properties (with the actual username and password changed):</p>\n<pre><code># data source configuration\nspring.datasource.url=jdbc:mysql://localhost:3306/user_registration_system\nspring.datasource.username=root\nspring.datasource.password=password\n\n# JPA configuration\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>And this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;!--  lookup parent from repository  --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringDev&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringDev&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried changing the driver class, changing between jakarta and javax, and using different qualifier annotations.</p>\n<p>How to fix this?</p>\n"},{"tags":["java","linux","gitlab","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680987450,"creation_date":1680599515,"answer_id":75927541,"question_id":75923432,"body_markdown":"I was right. GitRunner Pipeline, could not access my home.\r\nTo fix it I used apt in Ubuntu.\r\n\r\n```yaml\r\n  - apt-get update &amp;&amp; apt-get install -y xvfb wget curl unzip gnupg -qq\r\n  - apt-get install -y openjdk-8-jdk ant\r\n  - java -version\r\n  - ant -version\r\n```","title":"Have set Java to Path, but cant find the java command (Gitlab pipeline)","body":"<p>I was right. GitRunner Pipeline, could not access my home.\nTo fix it I used apt in Ubuntu.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - apt-get update &amp;&amp; apt-get install -y xvfb wget curl unzip gnupg -qq\n  - apt-get install -y openjdk-8-jdk ant\n  - java -version\n  - ant -version\n</code></pre>\n"}],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680987450,"creation_date":1680552857,"question_id":75923432,"body_markdown":"I am tasked with creating pipelines in Gitlab the code is java with ant builds\r\nI have set up JAVA_HOME set up ANT_HOME\r\n\r\nechoed out the path, everything is correct, but I get the error java command not found\r\n```\r\n$ export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.5&quot;\r\n$ export ANT_HOME=&quot;C:\\Users\\TonyCav\\software\\apache-ant-1.10.13&quot;\r\n$ export PATH=${JAVA_HOME}/bin:$PATH\r\n$ export PATH=$PATH:${ANT_HOME}/bin\r\n$ echo &quot;PATH ${PATH}&quot;\r\nPATH C:\\Program Files\\Java\\jdk-17.0.5/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:C:\\Users\\TonyCav\\software\\apache-ant-1.10.13/bin\r\n$ java -version\r\n/bin/bash: line 145: java: command not found\r\n```\r\n\r\nis it because the gitlab runner cant see my path on my local c drive.\r\nThat I need to load it onto the gitrunner","title":"Have set Java to Path, but cant find the java command (Gitlab pipeline)","body":"<p>I am tasked with creating pipelines in Gitlab the code is java with ant builds\nI have set up JAVA_HOME set up ANT_HOME</p>\n<p>echoed out the path, everything is correct, but I get the error java command not found</p>\n<pre><code>$ export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.5&quot;\n$ export ANT_HOME=&quot;C:\\Users\\TonyCav\\software\\apache-ant-1.10.13&quot;\n$ export PATH=${JAVA_HOME}/bin:$PATH\n$ export PATH=$PATH:${ANT_HOME}/bin\n$ echo &quot;PATH ${PATH}&quot;\nPATH C:\\Program Files\\Java\\jdk-17.0.5/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:C:\\Users\\TonyCav\\software\\apache-ant-1.10.13/bin\n$ java -version\n/bin/bash: line 145: java: command not found\n</code></pre>\n<p>is it because the gitlab runner cant see my path on my local c drive.\nThat I need to load it onto the gitrunner</p>\n"},{"tags":["java","file","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1681020083,"post_id":75967644,"comment_id":133990218,"body_markdown":"I&#39;ve tried your code and it&#39;s worked fine for me, also when I moved the _#Q The Chihuahua Gidget is famous for what reason?_ question into the end of the file.","body":"I&#39;ve tried your code and it&#39;s worked fine for me, also when I moved the <i>#Q The Chihuahua Gidget is famous for what reason?</i> question into the end of the file."}],"owner":{"account_id":28144499,"reputation":1,"user_id":21507012,"display_name":"lakey dons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680987408,"creation_date":1680987365,"question_id":75967644,"body_markdown":"I am currently trying to write Java code that will read a .txt file containing various trivia questions, and store the prompt, correct answer, and the other answer choices in a Question object. Write now I am not worried about putting those values in an object, only scanning the questions properly. This code is supposed to go scan through a .txt file. If the line starts with &#39;#&#39;, then that means its question prompt and then it continues to scan the few lines and store the answer choices. If the answer choices only have two options, it skips over that question (only want 4 option multiple choice questions). By the end, every question in the file should be printed out in their original format in the .txt file.\r\n\r\n```\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class TextReader {\r\n    ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n    public static void main(String[] args) throws FileNotFoundException{\r\n        File file = new File(&quot;animals.txt&quot;);\r\n        TextReader.parseFile(file);\r\n\r\n    }\r\n\r\n    public static void parseFile(File file) throws FileNotFoundException{\r\n        ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n        String category = file.getName();\r\n        Scanner s = new Scanner(file);\r\n        while (s.hasNextLine()){\r\n            String string = s.nextLine();\r\n            if(string.length() &gt; 0 &amp;&amp; string.charAt(0) == &#39;#&#39;){ //checks for start of a question\r\n                System.out.println(string);\r\n                String correct = s.nextLine(); //scans correct answer\r\n                System.out.println(correct);\r\n                String a = s.nextLine(); //scans answers choices\r\n                System.out.println(a);\r\n                String b = s.nextLine();\r\n                System.out.println(b);\r\n                String c = s.nextLine();\r\n                System.out.println(c);\r\n                if(c.isEmpty()){ //checks if only has two answers (i.e true or false, yes or no), then goes to next questions\r\n                    s.nextLine();\r\n                }else{\r\n                    String d = s.nextLine();//scans last answer choice\r\n                    System.out.println(d);\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m using [this .txt file right now](https://github.com/uberspot/OpenTriviaQA/blob/master/categories/animals). It reads everything good up until line 690, where the code throws a NoSuchElementException error in the middle of reading option C for the question. \r\n\r\n```\r\n#Q The Chihuahua Gidget is famous for what reason?\r\n^ It was a mascot for Taco Bell.\r\nA Paris Hilton has it as a pet.\r\nB It was a fill-in mascot for the Georgia Bulldogs.\r\nC It was a mascot for Ta\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n```\r\n\r\nAnd this happens regardless of whether or not I delete this question, or if I delete every question before it and put it at the start, I keep getting this NoSuchElement exception even though it&#39;s in the middle of the .txt file. Everything after this point in the file just throws that error and I&#39;m not sure why and this occurs for the other .txt files as well.","title":"No Such Element Exception in the middle of a text file","body":"<p>I am currently trying to write Java code that will read a .txt file containing various trivia questions, and store the prompt, correct answer, and the other answer choices in a Question object. Write now I am not worried about putting those values in an object, only scanning the questions properly. This code is supposed to go scan through a .txt file. If the line starts with '#', then that means its question prompt and then it continues to scan the few lines and store the answer choices. If the answer choices only have two options, it skips over that question (only want 4 option multiple choice questions). By the end, every question in the file should be printed out in their original format in the .txt file.</p>\n<pre><code>import org.w3c.dom.Text;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class TextReader {\n    ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n    public static void main(String[] args) throws FileNotFoundException{\n        File file = new File(&quot;animals.txt&quot;);\n        TextReader.parseFile(file);\n\n    }\n\n    public static void parseFile(File file) throws FileNotFoundException{\n        ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n        String category = file.getName();\n        Scanner s = new Scanner(file);\n        while (s.hasNextLine()){\n            String string = s.nextLine();\n            if(string.length() &gt; 0 &amp;&amp; string.charAt(0) == '#'){ //checks for start of a question\n                System.out.println(string);\n                String correct = s.nextLine(); //scans correct answer\n                System.out.println(correct);\n                String a = s.nextLine(); //scans answers choices\n                System.out.println(a);\n                String b = s.nextLine();\n                System.out.println(b);\n                String c = s.nextLine();\n                System.out.println(c);\n                if(c.isEmpty()){ //checks if only has two answers (i.e true or false, yes or no), then goes to next questions\n                    s.nextLine();\n                }else{\n                    String d = s.nextLine();//scans last answer choice\n                    System.out.println(d);\n\n                }\n\n            }\n        }\n\n\n    }\n\n\n\n}\n\n</code></pre>\n<p>I'm using <a href=\"https://github.com/uberspot/OpenTriviaQA/blob/master/categories/animals\" rel=\"nofollow noreferrer\">this .txt file right now</a>. It reads everything good up until line 690, where the code throws a NoSuchElementException error in the middle of reading option C for the question.</p>\n<pre><code>#Q The Chihuahua Gidget is famous for what reason?\n^ It was a mascot for Taco Bell.\nA Paris Hilton has it as a pet.\nB It was a fill-in mascot for the Georgia Bulldogs.\nC It was a mascot for Ta\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n</code></pre>\n<p>And this happens regardless of whether or not I delete this question, or if I delete every question before it and put it at the start, I keep getting this NoSuchElement exception even though it's in the middle of the .txt file. Everything after this point in the file just throws that error and I'm not sure why and this occurs for the other .txt files as well.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1351107941,"creation_date":1351107941,"answer_id":13056574,"question_id":13056350,"body_markdown":"Do this instead:\r\n\r\n    public &lt;T extends Vehicle&gt; void exampleMethod(Class&lt;T&gt; type) ","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>Do this instead:</p>\n\n<pre><code>public &lt;T extends Vehicle&gt; void exampleMethod(Class&lt;T&gt; type) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1351115697,"creation_date":1351115039,"answer_id":13058260,"question_id":13056350,"body_markdown":"Why don&#39;t you use the [visitor pattern](http://en.wikipedia.org/wiki/Visitor_pattern)? \r\n\r\nThat way you\r\n\r\n  - don&#39;t need type tokens\r\n  - let dynamic dispatch handle the case distinction (instead of `if(v.getClass().equals(type))`)\r\n  - are more flexible (following [OCP](http://en.wikipedia.org/wiki/Open/closed_principle))\r\n\r\n-------\r\n\r\nIn detail:\r\n\r\nyour abstract class `Vehicle` gets a method `accept(Visitor v)`, with the subclasses implementing it by calling the appropriate method on `v`.\r\n\r\n    public interface Visitor {\r\n      visitRedVehicle(RedVehicle red);\r\n      visitYellowVehicle(YellowVehicle yellow);\r\n    }\r\n\r\n\r\nUsing a visitor:\r\n\r\n    public class Example {\r\n\r\n      public void useYellowOnly() {\r\n        exampleMethod(new Visitor() {\r\n            visitRedVehicle(RedVehicle red) {};\r\n            visitYellowVehicle(YellowVehicle yellow) {\r\n                 //...action\r\n            });\r\n      }\r\n      public void exampleMethod(Visitor visitor){\r\n          for(Vehicle v : vehicles) {\r\n              v.accept(visitor);\r\n          }  \r\n      }\r\n    }","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>Why don't you use the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow\">visitor pattern</a>? </p>\n\n<p>That way you</p>\n\n<ul>\n<li>don't need type tokens</li>\n<li>let dynamic dispatch handle the case distinction (instead of <code>if(v.getClass().equals(type))</code>)</li>\n<li>are more flexible (following <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\" rel=\"nofollow\">OCP</a>)</li>\n</ul>\n\n<hr>\n\n<p>In detail:</p>\n\n<p>your abstract class <code>Vehicle</code> gets a method <code>accept(Visitor v)</code>, with the subclasses implementing it by calling the appropriate method on <code>v</code>.</p>\n\n<pre><code>public interface Visitor {\n  visitRedVehicle(RedVehicle red);\n  visitYellowVehicle(YellowVehicle yellow);\n}\n</code></pre>\n\n<p>Using a visitor:</p>\n\n<pre><code>public class Example {\n\n  public void useYellowOnly() {\n    exampleMethod(new Visitor() {\n        visitRedVehicle(RedVehicle red) {};\n        visitYellowVehicle(YellowVehicle yellow) {\n             //...action\n        });\n  }\n  public void exampleMethod(Visitor visitor){\n      for(Vehicle v : vehicles) {\n          v.accept(visitor);\n      }  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197659,"reputation":2319,"user_id":441862,"accept_rate":67,"display_name":"Don Rolling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614792781,"creation_date":1614792781,"answer_id":66462038,"question_id":13056350,"body_markdown":"The accepted answer works and got me where I wanted to go. I thought I would add this just to make it clearer to anyone who might need it.\r\n\r\nIn this case RevisedExposure is a sub-class of Exposure. I need to call GetMetadata() with a list of either of these, which results in the same result set.\r\n\r\n    private async Task&lt;List&lt;Metadata&gt;&gt; GetMetadata&lt;T&gt;(List&lt;T&gt; exposures) where T : Exposure\r\n\r\nNow I can call this method from two places with different versions of the list like this.\r\n\r\n    var metadata = await GetExposureMetadata(revisions);\r\n\r\nor\r\n\r\n    var metadata = await GetExposureMetadata(exposures);\r\n\r\nworks great!","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>The accepted answer works and got me where I wanted to go. I thought I would add this just to make it clearer to anyone who might need it.</p>\n<p>In this case RevisedExposure is a sub-class of Exposure. I need to call GetMetadata() with a list of either of these, which results in the same result set.</p>\n<pre><code>private async Task&lt;List&lt;Metadata&gt;&gt; GetMetadata&lt;T&gt;(List&lt;T&gt; exposures) where T : Exposure\n</code></pre>\n<p>Now I can call this method from two places with different versions of the list like this.</p>\n<pre><code>var metadata = await GetExposureMetadata(revisions);\n</code></pre>\n<p>or</p>\n<pre><code>var metadata = await GetExposureMetadata(exposures);\n</code></pre>\n<p>works great!</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680987355,"creation_date":1680987355,"answer_id":75967643,"question_id":13056350,"body_markdown":"I have found this syntax to be working as expected:\r\n\r\n    public void exampleMethod(Class&lt;? extends Vehicle&gt; type) \r\n","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>I have found this syntax to be working as expected:</p>\n<pre><code>public void exampleMethod(Class&lt;? extends Vehicle&gt; type) \n</code></pre>\n"}],"owner":{"account_id":486073,"reputation":2221,"user_id":902766,"accept_rate":69,"display_name":"Peanut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43513,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":13056574,"answer_count":4,"score":40,"last_activity_date":1680987355,"creation_date":1351107009,"question_id":13056350,"body_markdown":"I have an abstract class `Vehicle` with 2 implemented subclasses `RedVehicle` and `YellowVehicle`. \r\n\r\nIn another class I have a `List&lt;Vehicle&gt;` containing instances of both subclasses.\r\nI want to be able to pass into a method a class type and then use that type to decide which set of objects I want to do something to in the `List`.\r\n\r\nSince `Class` is generic I should parameterise it with something, however putting the parameter as the parent class `Vehicle` stops the calling code working since `exampleMethod` is now expecting a type of Vehicle, not a subclass of `RedVehicle` or `YellowVehicle`.\r\n\r\nI feel there should be a clean way to do this so what would be the correct way to implement the functionality? \r\n\r\nn.b. I don&#39;t necessarily have to pass in the `Class` type, if there are better suggestions I&#39;d be happy to try those.\r\n\r\nCalling code:\r\n\r\n    service.exampleMethod(RedVehicle.class);\r\n    service.exampleMethod(YellowVehicle.class);\r\n\r\nFields/Method:\r\n\r\n    //List of vehicles\r\n    //Vehicle has 2 subclasses, RedVehicle and YellowVehicle\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n    //Having &lt;Vehicle&gt; as the Class parameter stops the calling code working\r\n    public void exampleMethod(Class&lt;Vehicle&gt; type) \r\n    {\r\n        for(Vehicle v : vehicles)\r\n        {\r\n            if(v.getClass().equals(type))\r\n\t        {\r\n\t\t        //do something\r\n\t        }\r\n        }\r\n    }","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>I have an abstract class <code>Vehicle</code> with 2 implemented subclasses <code>RedVehicle</code> and <code>YellowVehicle</code>. </p>\n\n<p>In another class I have a <code>List&lt;Vehicle&gt;</code> containing instances of both subclasses.\nI want to be able to pass into a method a class type and then use that type to decide which set of objects I want to do something to in the <code>List</code>.</p>\n\n<p>Since <code>Class</code> is generic I should parameterise it with something, however putting the parameter as the parent class <code>Vehicle</code> stops the calling code working since <code>exampleMethod</code> is now expecting a type of Vehicle, not a subclass of <code>RedVehicle</code> or <code>YellowVehicle</code>.</p>\n\n<p>I feel there should be a clean way to do this so what would be the correct way to implement the functionality? </p>\n\n<p>n.b. I don't necessarily have to pass in the <code>Class</code> type, if there are better suggestions I'd be happy to try those.</p>\n\n<p>Calling code:</p>\n\n<pre><code>service.exampleMethod(RedVehicle.class);\nservice.exampleMethod(YellowVehicle.class);\n</code></pre>\n\n<p>Fields/Method:</p>\n\n<pre><code>//List of vehicles\n//Vehicle has 2 subclasses, RedVehicle and YellowVehicle\nprivate List&lt;Vehicle&gt; vehicles;\n\n//Having &lt;Vehicle&gt; as the Class parameter stops the calling code working\npublic void exampleMethod(Class&lt;Vehicle&gt; type) \n{\n    for(Vehicle v : vehicles)\n    {\n        if(v.getClass().equals(type))\n        {\n            //do something\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680595381,"post_id":75926791,"comment_id":133920542,"body_markdown":"You excplicitly set `null` to `endDate`. The second parameter is enDate in this: `createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);` But the field is marked as `@NotNull`.","body":"You excplicitly set <code>null</code> to <code>endDate</code>. The second parameter is enDate in this: <code>createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);</code> But the field is marked as <code>@NotNull</code>."},{"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"score":0,"creation_date":1680595615,"post_id":75926791,"comment_id":133920590,"body_markdown":"I knew it, but my purpose is writing an unit test when endDate is Null","body":"I knew it, but my purpose is writing an unit test when endDate is Null"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680595938,"post_id":75926791,"comment_id":133920663,"body_markdown":"Then it is not a problem. So it doesn&#39;t have to fix as your asked, it had to be handled in tests.","body":"Then it is not a problem. So it doesn&#39;t have to fix as your asked, it had to be handled in tests."}],"answers":[{"tags":[],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986980,"creation_date":1680595568,"answer_id":75926934,"question_id":75926791,"body_markdown":"You passed a null value to `createChartRequest` at the `endDate` field at - \r\n\r\n`ChartDataSearchCondition chartDataSearchCondition = createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, &quot;Add a timestamp value here&quot;, columns);`","title":"attribute is marked non-null but is null in Junit Test","body":"<p>You passed a null value to <code>createChartRequest</code> at the <code>endDate</code> field at -</p>\n<p><code>ChartDataSearchCondition chartDataSearchCondition = createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, &quot;Add a timestamp value here&quot;, columns);</code></p>\n"}],"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680986980,"creation_date":1680594653,"question_id":75926791,"body_markdown":"I have an object like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;\r\n   \r\n\r\n     @Getter\r\n        @Setter\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        public class ChartDataSearchCondition {\r\n          @NotNull\r\n          @NotEmpty\r\n          @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\r\n          private String startDate;\r\n          @NotNull\r\n          @NotEmpty\r\n          @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\r\n          private String endDate;\r\n          @NotNull @NotEmpty private List&lt;String&gt; columns;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd here is my Unit Test\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;   \r\n      public ChartDataSearchCondition createChartRequest(\r\n          String startDate, String endDate, List&lt;String&gt; columnList) {\r\n        ChartDataSearchCondition chartDataSearchCondition = new ChartDataSearchCondition();\r\n        chartDataSearchCondition.setColumns(columnList);\r\n        chartDataSearchCondition.setStartDate(startDate);\r\n        chartDataSearchCondition.setEndDate(endDate);\r\n        return chartDataSearchCondition;\r\n      }\r\n      \r\n     @Test()\r\n      public void visualize_searchConditionWithEndDateIsNull() {\r\n        List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n        columns.add(&quot;col2&quot;);\r\n        ChartDataSearchCondition chartDataSearchCondition =\r\n            createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);\r\n        try {\r\n          controller.getTimeseriesSampling(cluster, database, container, chartDataSearchCondition);\r\n          Assert.fail();\r\n        } catch (CommonException e) {\r\n          assertThat(e.getCode(), is(ErrorCode.CHART_REQUEST_INVALID.getErrorCode()));\r\n        } catch (Exception e) {\r\n          Assert.fail();\r\n        }\r\n      }\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when i run my UnitTest, there is an error : \r\n\r\n&gt; java.lang.NullPointerException: endDate is marked non-null but is null\r\n\r\nWhat should i do to fix this problem ? Thank you very much\r\n\r\n","title":"attribute is marked non-null but is null in Junit Test","body":"<p>I have an object like this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   \n\n @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public class ChartDataSearchCondition {\n      @NotNull\n      @NotEmpty\n      @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\n      private String startDate;\n      @NotNull\n      @NotEmpty\n      @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\n      private String endDate;\n      @NotNull @NotEmpty private List&lt;String&gt; columns;\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And here is my Unit Test</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   \n  public ChartDataSearchCondition createChartRequest(\n      String startDate, String endDate, List&lt;String&gt; columnList) {\n    ChartDataSearchCondition chartDataSearchCondition = new ChartDataSearchCondition();\n    chartDataSearchCondition.setColumns(columnList);\n    chartDataSearchCondition.setStartDate(startDate);\n    chartDataSearchCondition.setEndDate(endDate);\n    return chartDataSearchCondition;\n  }\n  \n @Test()\n  public void visualize_searchConditionWithEndDateIsNull() {\n    List&lt;String&gt; columns = new ArrayList&lt;&gt;();\n    columns.add(\"col2\");\n    ChartDataSearchCondition chartDataSearchCondition =\n        createChartRequest(\"2021-06-01 19:00:00.000+0700\", null, columns);\n    try {\n      controller.getTimeseriesSampling(cluster, database, container, chartDataSearchCondition);\n      Assert.fail();\n    } catch (CommonException e) {\n      assertThat(e.getCode(), is(ErrorCode.CHART_REQUEST_INVALID.getErrorCode()));\n    } catch (Exception e) {\n      Assert.fail();\n    }\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when i run my UnitTest, there is an error :</p>\n<blockquote>\n<p>java.lang.NullPointerException: endDate is marked non-null but is null</p>\n</blockquote>\n<p>What should i do to fix this problem ? Thank you very much</p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1680985650,"post_id":75967521,"comment_id":133987526,"body_markdown":"Last I checked, logging libraries don&#39;t have color code... Your terminal might (i.e. IntelliJ), but this is not portable, and shouldn&#39;t be relied upon .","body":"Last I checked, logging libraries don&#39;t have color code... Your terminal might (i.e. IntelliJ), but this is not portable, and shouldn&#39;t be relied upon ."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986778,"creation_date":1680985835,"answer_id":75967545,"question_id":75967521,"body_markdown":"If you want all to be the same, you would use one appender. So, &quot;your code&quot; is cyan logs. \r\n\r\n```xml\r\n&lt;appender name=&quot;root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n   &lt;encoder&gt;\r\n        &lt;pattern&gt;\r\n            %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\r\n        &lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;INFO&quot;&gt;\r\n    &lt;appender-ref ref=&quot;root&quot; /&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nThen, you would only need one more appender to have classes in those packages (the &quot;teachers&quot;) use a different color, like `yellow`. \r\n\r\n    &lt;logger name=&quot;com.rudra.logging.teacher&quot;\r\n\r\nIf you want external library logs in packages you don&#39;t control to have un-colored / different logs, then yes, you need 3 appenders. ","title":"Using Logback to set different colors for logging messages of different package","body":"<p>If you want all to be the same, you would use one appender. So, &quot;your code&quot; is cyan logs.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n   &lt;encoder&gt;\n        &lt;pattern&gt;\n            %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\n        &lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;root&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Then, you would only need one more appender to have classes in those packages (the &quot;teachers&quot;) use a different color, like <code>yellow</code>.</p>\n<pre><code>&lt;logger name=&quot;com.rudra.logging.teacher&quot;\n</code></pre>\n<p>If you want external library logs in packages you don't control to have un-colored / different logs, then yes, you need 3 appenders.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680986778,"creation_date":1680985487,"question_id":75967521,"body_markdown":"I have just started using logback within Spring Boot for logging. And I have got a requirement for logging console based logs in a such a way that the log messages for different packages are written in different color depending upon which package the log belongs to.\r\n\r\nhere is my logback.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nCurrently, what I m able to log messages for two different packages looks like this (same logged message color for every package) :\r\n[![enter image description here][1]][1]\r\n\r\nWith some tweak I m able to achieve what I desire for, using the following logback.xml configuration : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;console-root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;console-p1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %yellow(%msg%n)\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;console-p2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-root&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.rudra.logging.teacher&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-p1&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;com.rudra.logging.user&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-p2&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\nAs you can see in the image below that the log message from teacher package is logged in yellow color, whereas the log message from user package is in cyan color :\r\n[![enter image description here][2]][2]  \r\n\r\n\r\nThe second xml configuration helps me achieve the desired goal, but the main issue is that this requires a lot of boilerplate and as number of packages increases it will be cumbersome to maintain, also I feel using multiple appenders solely for this purpose isn&#39;t the right thing to do. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UI5mQ.png\r\n  [2]: https://i.stack.imgur.com/zPI1c.png","title":"Using Logback to set different colors for logging messages of different package","body":"<p>I have just started using logback within Spring Boot for logging. And I have got a requirement for logging console based logs in a such a way that the log messages for different packages are written in different color depending upon which package the log belongs to.</p>\n<p>here is my logback.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Currently, what I m able to log messages for two different packages looks like this (same logged message color for every package) :\n<a href=\"https://i.stack.imgur.com/UI5mQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UI5mQ.png\" alt=\"enter image description here\" /></a></p>\n<p>With some tweak I m able to achieve what I desire for, using the following logback.xml configuration :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console-root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;console-p1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %yellow(%msg%n)\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;console-p2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;console-root&quot; /&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.rudra.logging.teacher&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console-p1&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.rudra.logging.user&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console-p2&quot; /&gt;\n    &lt;/logger&gt;\n\n\n&lt;/configuration&gt;\n</code></pre>\n<p>As you can see in the image below that the log message from teacher package is logged in yellow color, whereas the log message from user package is in cyan color :\n<a href=\"https://i.stack.imgur.com/zPI1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPI1c.png\" alt=\"enter image description here\" /></a></p>\n<p>The second xml configuration helps me achieve the desired goal, but the main issue is that this requires a lot of boilerplate and as number of packages increases it will be cumbersome to maintain, also I feel using multiple appenders solely for this purpose isn't the right thing to do.</p>\n"},{"tags":["java","loops","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":5,"up_vote_count":2736,"is_accepted":true,"score":2731,"last_activity_date":1543994850,"creation_date":1242810682,"answer_id":886979,"question_id":886955,"body_markdown":"Like other answerers, I&#39;d definitely *prefer* to put the loops in a different method, at which point you can just return to stop iterating completely. This answer just shows how the requirements in the question can be met.\r\n\r\nYou can use `break` with a label for the outer loop. For example:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            outerloop:\r\n            for (int i=0; i &lt; 5; i++) {\r\n                for (int j=0; j &lt; 5; j++) {\r\n                    if (i * j &gt; 6) {\r\n                        System.out.println(&quot;Breaking&quot;);\r\n                        break outerloop;\r\n                    }\r\n                    System.out.println(i + &quot; &quot; + j);\r\n                }\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    0 0\r\n    0 1\r\n    0 2\r\n    0 3\r\n    0 4\r\n    1 0\r\n    1 1\r\n    1 2\r\n    1 3\r\n    1 4\r\n    2 0\r\n    2 1\r\n    2 2\r\n    2 3\r\n    Breaking\r\n    Done\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Like other answerers, I'd definitely <em>prefer</em> to put the loops in a different method, at which point you can just return to stop iterating completely. This answer just shows how the requirements in the question can be met.</p>\n\n<p>You can use <code>break</code> with a label for the outer loop. For example:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        outerloop:\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (i * j &gt; 6) {\n                    System.out.println(\"Breaking\");\n                    break outerloop;\n                }\n                System.out.println(i + \" \" + j);\n            }\n        }\n        System.out.println(\"Done\");\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0 0\n0 1\n0 2\n0 3\n0 4\n1 0\n1 1\n1 2\n1 3\n1 4\n2 0\n2 1\n2 2\n2 3\nBreaking\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":876304,"reputation":3258,"user_id":108892,"display_name":"simon622"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1524241826,"creation_date":1242810716,"answer_id":886982,"question_id":886955,"body_markdown":"You can use labels:\r\n\r\n    label1: \r\n    for (int i = 0;;) {\r\n        for (int g = 0;;) {\r\n          break label1;\r\n        }\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can use labels:</p>\n\n<pre><code>label1: \nfor (int i = 0;;) {\n    for (int g = 0;;) {\n      break label1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18132,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"down_vote_count":8,"up_vote_count":32,"is_accepted":false,"score":24,"last_activity_date":1242810719,"creation_date":1242810719,"answer_id":886983,"question_id":886955,"body_markdown":"You can use a temporary variable:\r\n\r\n    boolean outerBreak = false;\r\n    for (Type type : types) {\r\n       if(outerBreak) break;\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 outerBreak = true;\r\n                 break; // Breaks out of the inner loop\r\n             }\r\n        }\r\n    }\r\n\r\nDepending on your function, you can also exit/return from the inner loop:\r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 return;\r\n             }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can use a temporary variable:</p>\n\n<pre><code>boolean outerBreak = false;\nfor (Type type : types) {\n   if(outerBreak) break;\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             outerBreak = true;\n             break; // Breaks out of the inner loop\n         }\n    }\n}\n</code></pre>\n\n<p>Depending on your function, you can also exit/return from the inner loop:</p>\n\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             return;\n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":1,"up_vote_count":241,"is_accepted":false,"score":240,"last_activity_date":1242810732,"creation_date":1242810732,"answer_id":886984,"question_id":886955,"body_markdown":"You can use a named block around the loops:\r\n\r\n    search: {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition) {\r\n                    // Do something and break...\r\n                    break search;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>You can use a named block around the loops:</p>\n\n<pre><code>search: {\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition) {\n                // Do something and break...\n                break search;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1546680156,"creation_date":1242819780,"answer_id":887443,"question_id":886955,"body_markdown":"Use a function:\r\n\r\n    public void doSomething(List&lt;Type&gt; types, List&lt;Type&gt; types2){\r\n      for(Type t1 : types){\r\n        for (Type t : types2) {\r\n          if (some condition) {\r\n             // Do something and return...\r\n             return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Use a function:</p>\n\n<pre><code>public void doSomething(List&lt;Type&gt; types, List&lt;Type&gt; types2){\n  for(Type t1 : types){\n    for (Type t : types2) {\n      if (some condition) {\n         // Do something and return...\n         return;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881180,"reputation":14633,"user_id":246394,"accept_rate":93,"display_name":"Zo72"},"down_vote_count":3,"up_vote_count":440,"is_accepted":false,"score":437,"last_activity_date":1338719501,"creation_date":1321295213,"answer_id":8126271,"question_id":886955,"body_markdown":"Technically the correct answer is to label the outer loop. In practice if you want to exit at any point inside an inner loop then you would be better off externalizing the code into a method (a static method if needs be) and then call it.\r\n\r\nThat would pay off for readability. \r\n\r\nThe code would become something like that: \r\n\r\n    private static String search(...) \r\n    {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition) {\r\n                    // Do something and break...\r\n                    return search;\r\n                }\r\n            }\r\n        }\r\n        return null; \r\n    }\r\n\r\nMatching the example for the accepted answer:\r\n\r\n     public class Test {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tloop();\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t}\r\n\r\n\t\tpublic static void loop() {\r\n\t\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; 5; j++) {\r\n\t\t\t\t\tif (i * j &gt; 6) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Breaking&quot;);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(i + &quot; &quot; + j);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How do I break out of nested loops in Java?","body":"<p>Technically the correct answer is to label the outer loop. In practice if you want to exit at any point inside an inner loop then you would be better off externalizing the code into a method (a static method if needs be) and then call it.</p>\n\n<p>That would pay off for readability. </p>\n\n<p>The code would become something like that: </p>\n\n<pre><code>private static String search(...) \n{\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition) {\n                // Do something and break...\n                return search;\n            }\n        }\n    }\n    return null; \n}\n</code></pre>\n\n<p>Matching the example for the accepted answer:</p>\n\n<pre><code> public class Test {\n    public static void main(String[] args) {\n        loop();\n        System.out.println(\"Done\");\n    }\n\n    public static void loop() {\n        for (int i = 0; i &lt; 5; i++) {\n            for (int j = 0; j &lt; 5; j++) {\n                if (i * j &gt; 6) {\n                    System.out.println(\"Breaking\");\n                    return;\n                }\n                System.out.println(i + \" \" + j);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411253,"reputation":2127,"user_id":783601,"display_name":"Elle Mundy"},"down_vote_count":6,"up_vote_count":160,"is_accepted":false,"score":154,"last_activity_date":1680986528,"creation_date":1323280346,"answer_id":8420080,"question_id":886955,"body_markdown":"I never use labels. It seems like a bad practice to get into. Here&#39;s what I would do:\r\n\r\n    boolean finished = false;\r\n    for (int i = 0; i &lt; 5 &amp;&amp; !finished; i++) {\r\n        for (int j = 0; j &lt; 5; j++) {\r\n            if (i * j &gt; 6) {\r\n                finished = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nBy having flag variable ,We can easily control execution of any number of loops ,Just we need to keep this flag value check at loop condition statement as done in main loop-&gt;i &lt; 5 &amp;&amp; !finished.","title":"How do I break out of nested loops in Java?","body":"<p>I never use labels. It seems like a bad practice to get into. Here's what I would do:</p>\n<pre><code>boolean finished = false;\nfor (int i = 0; i &lt; 5 &amp;&amp; !finished; i++) {\n    for (int j = 0; j &lt; 5; j++) {\n        if (i * j &gt; 6) {\n            finished = true;\n            break;\n        }\n    }\n}\n</code></pre>\n<p>By having flag variable ,We can easily control execution of any number of loops ,Just we need to keep this flag value check at loop condition statement as done in main loop-&gt;i &lt; 5 &amp;&amp; !finished.</p>\n"},{"tags":[],"owner":{"account_id":334731,"reputation":2647,"user_id":1951442,"accept_rate":68,"display_name":"Swifty McSwifterton"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478768090,"creation_date":1328421870,"answer_id":9147282,"question_id":886955,"body_markdown":"I needed to do a similar thing, but I chose not to use the enhanced for loop to do it.\r\n\r\n    int s = type.size();\r\n    for (int i = 0; i &lt; s; i++) {\r\n        for (int j = 0; j &lt; t.size(); j++) {\r\n            if (condition) {\r\n                // do stuff after which you want \r\n                // to completely break out of both loops\r\n                s = 0; // enables the _main_ loop to terminate\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I needed to do a similar thing, but I chose not to use the enhanced for loop to do it.</p>\n\n<pre><code>int s = type.size();\nfor (int i = 0; i &lt; s; i++) {\n    for (int j = 0; j &lt; t.size(); j++) {\n        if (condition) {\n            // do stuff after which you want \n            // to completely break out of both loops\n            s = 0; // enables the _main_ loop to terminate\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601507,"reputation":1717,"user_id":1482450,"accept_rate":62,"display_name":"Mahesh Peri"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1351154383,"creation_date":1350474649,"answer_id":12933669,"question_id":886955,"body_markdown":"You just use label for breaking inner loops\r\n\r\n    public class Test {\r\n    public static void main(String[] args) {\r\n        outerloop:\r\n    for (int i=0; i &lt; 5; i++) {\r\n      for (int j=0; j &lt; 5; j++) {\r\n        if (i * j &gt; 6) {\r\n          System.out.println(&quot;Breaking&quot;);\r\n          break outerloop;\r\n        }\r\n        System.out.println(i + &quot; &quot; + j);\r\n      }\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n    }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You just use label for breaking inner loops</p>\n\n<pre><code>public class Test {\npublic static void main(String[] args) {\n    outerloop:\nfor (int i=0; i &lt; 5; i++) {\n  for (int j=0; j &lt; 5; j++) {\n    if (i * j &gt; 6) {\n      System.out.println(\"Breaking\");\n      break outerloop;\n    }\n    System.out.println(i + \" \" + j);\n  }\n}\nSystem.out.println(\"Done\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1546680213,"creation_date":1367125713,"answer_id":16259831,"question_id":886955,"body_markdown":"Even creating a flag for the outer loop and checking that after each execution of the inner loop can be the answer.\r\n\r\nLike this:\r\n\r\n    for (Type type : types) {\r\n    \tboolean flag=false;\r\n\t    for (Type t : types2) {\r\n\t\t\tif (some condition) {\r\n\t\t\t\t// Do something and break...\r\n\t\t\t\tflag=true;\r\n\t\t\t\tbreak; // Breaks out of the inner loop\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(flag)\r\n\t\t\tbreak;\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Even creating a flag for the outer loop and checking that after each execution of the inner loop can be the answer.</p>\n\n<p>Like this:</p>\n\n<pre><code>for (Type type : types) {\n    boolean flag=false;\n    for (Type t : types2) {\n        if (some condition) {\n            // Do something and break...\n            flag=true;\n            break; // Breaks out of the inner loop\n        }\n    }\n    if(flag)\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737225,"reputation":19,"user_id":2359640,"display_name":"Edd"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1367953040,"creation_date":1367953040,"answer_id":16426527,"question_id":886955,"body_markdown":"Check if the inner loop is exited with an if statement, by checking the inner loop&#39;s variable. You could also create another variable such as a boolean to check if the inner loop is exited. \r\n\r\nIn this example it uses the inner loop&#39;s variable to check if it has been exited:\r\n\r\n    int i, j;\r\n    for(i = 0; i &lt; 7; i++){\r\n\r\n    for(j = 0; j &lt; 5; j++) {\r\n\r\n         if (some condition) {\r\n             // Do something and break...\r\n             break; // Breaks out of the inner loop\r\n         }\r\n    }\r\n         if(j &lt; 5){    // Checks if inner loop wasn&#39;t finished\r\n         break;    // Breaks out of the outer loop   \r\n         } \r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Check if the inner loop is exited with an if statement, by checking the inner loop's variable. You could also create another variable such as a boolean to check if the inner loop is exited. </p>\n\n<p>In this example it uses the inner loop's variable to check if it has been exited:</p>\n\n<pre><code>int i, j;\nfor(i = 0; i &lt; 7; i++){\n\nfor(j = 0; j &lt; 5; j++) {\n\n     if (some condition) {\n         // Do something and break...\n         break; // Breaks out of the inner loop\n     }\n}\n     if(j &lt; 5){    // Checks if inner loop wasn't finished\n     break;    // Breaks out of the outer loop   \n     } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104387,"reputation":4600,"user_id":279112,"accept_rate":82,"display_name":"Panzercrisis"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1378937699,"creation_date":1378937699,"answer_id":18752196,"question_id":886955,"body_markdown":"    boolean broken = false; // declared outside of the loop for efficiency\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n            if (some condition) {\r\n                broken = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (broken) {\r\n            break;\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<pre><code>boolean broken = false; // declared outside of the loop for efficiency\nfor (Type type : types) {\n    for (Type t : types2) {\n        if (some condition) {\n            broken = true;\n            break;\n        }\n    }\n\n    if (broken) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2765505,"reputation":4568,"user_id":2381321,"display_name":"zord"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1387666594,"creation_date":1387666594,"answer_id":20724432,"question_id":886955,"body_markdown":"If you don&#39;t like `break`s and `goto`s, you can use a &quot;traditional&quot; for loop instead the for-in, with an extra abort condition:\r\n\r\n    int a, b;\r\n    bool abort = false;\r\n    for (a = 0; a &lt; 10 &amp;&amp; !abort; a++) {\r\n        for (b = 0; b &lt; 10 &amp;&amp; !abort; b++) {\r\n            if (condition) {\r\n                doSomeThing();\r\n                abort = true;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>If you don't like <code>break</code>s and <code>goto</code>s, you can use a \"traditional\" for loop instead the for-in, with an extra abort condition:</p>\n\n<pre><code>int a, b;\nbool abort = false;\nfor (a = 0; a &lt; 10 &amp;&amp; !abort; a++) {\n    for (b = 0; b &lt; 10 &amp;&amp; !abort; b++) {\n        if (condition) {\n            doSomeThing();\n            abort = true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206700,"reputation":4911,"user_id":2707648,"accept_rate":33,"display_name":"Hitendra Solanki"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430001878,"creation_date":1400682786,"answer_id":23786300,"question_id":886955,"body_markdown":"You can break from all loops without using any label: and flags.\r\n\r\nIt&#39;s just tricky solution.\r\n\r\nHere condition1 is the condition which is used to break from loop K and J.\r\nAnd condition2 is the condition which is used to break from loop K , J and I.\r\n\r\nFor example:\r\n\r\n    public class BreakTesting {\r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                for (int j = 0; j &lt; 9; j++) {\r\n                    for (int k = 0; k &lt; 9; k++) {\r\n                        if (condition1) {\r\n                            System.out.println(&quot;Breaking from Loop K and J&quot;);\r\n                            k = 9;\r\n                            j = 9;\r\n                        }\r\n                        if (condition2) {\r\n                            System.out.println(&quot;Breaking from Loop K, J and I&quot;);\r\n                            k = 9;\r\n                            j = 9;\r\n                            i = 9;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;End of I , J , K&quot;);\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>You can break from all loops without using any label: and flags.</p>\n\n<p>It's just tricky solution.</p>\n\n<p>Here condition1 is the condition which is used to break from loop K and J.\nAnd condition2 is the condition which is used to break from loop K , J and I.</p>\n\n<p>For example:</p>\n\n<pre><code>public class BreakTesting {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 9; i++) {\n            for (int j = 0; j &lt; 9; j++) {\n                for (int k = 0; k &lt; 9; k++) {\n                    if (condition1) {\n                        System.out.println(\"Breaking from Loop K and J\");\n                        k = 9;\n                        j = 9;\n                    }\n                    if (condition2) {\n                        System.out.println(\"Breaking from Loop K, J and I\");\n                        k = 9;\n                        j = 9;\n                        i = 9;\n                    }\n                }\n            }\n        }\n        System.out.println(\"End of I , J , K\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2070174,"reputation":2478,"user_id":1844843,"accept_rate":80,"display_name":"Rumesh Eranga Hapuarachchi"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1524242063,"creation_date":1401626493,"answer_id":23979976,"question_id":886955,"body_markdown":"Use Labels.\r\n\r\n\r\n    INNER:for(int j = 0; j &lt; numbers.length; j++) {\r\n        System.out.println(&quot;Even number: &quot; + i + &quot;, break  from INNER label&quot;);\r\n        break INNER;\r\n    }\r\n\r\n\r\n\r\nRefer to [this article][1]\r\n\r\n\r\n  [1]: http://[http://javarevisited.blogspot.com/2012/05/break-continue-and-lablel-in-loop-java.html][1]","title":"How do I break out of nested loops in Java?","body":"<p>Use Labels.</p>\n\n<pre><code>INNER:for(int j = 0; j &lt; numbers.length; j++) {\n    System.out.println(\"Even number: \" + i + \", break  from INNER label\");\n    break INNER;\n}\n</code></pre>\n\n<p>Refer to <a href=\"http://[http://javarevisited.blogspot.com/2012/05/break-continue-and-lablel-in-loop-java.html][1]\" rel=\"nofollow noreferrer\">this article</a></p>\n"},{"tags":[],"owner":{"account_id":1565422,"reputation":1256,"user_id":1454347,"accept_rate":50,"display_name":"astryk"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1546680270,"creation_date":1405097188,"answer_id":24702701,"question_id":886955,"body_markdown":"    boolean condition = false;\r\n    for (Type type : types) {\r\n        for (int i = 0; i &lt; otherTypes.size &amp;&amp; !condition; i ++) {\r\n            condition = true; // If your condition is satisfied\r\n        }\r\n    }\r\n\r\nUse `condition` as a flag for when you are done processing. Then the inner loop only continues on while the condition has not been met. Either way, the outer loop will keep on chuggin&#39;.\r\n","title":"How do I break out of nested loops in Java?","body":"<pre><code>boolean condition = false;\nfor (Type type : types) {\n    for (int i = 0; i &lt; otherTypes.size &amp;&amp; !condition; i ++) {\n        condition = true; // If your condition is satisfied\n    }\n}\n</code></pre>\n\n<p>Use <code>condition</code> as a flag for when you are done processing. Then the inner loop only continues on while the condition has not been met. Either way, the outer loop will keep on chuggin'.</p>\n"},{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1524242013,"creation_date":1407173372,"answer_id":25124317,"question_id":886955,"body_markdown":"I prefer to add an explicit &quot;exit&quot; to the loop tests.  It makes it clear to \r\nany casual reader that the loop may terminate early.\r\n\r\n    boolean earlyExit = false;\r\n    for(int i = 0 ; i &lt; 10 &amp;&amp; !earlyExit; i++) {\r\n         for(int j = 0 ; i &lt; 10 &amp;&amp; !earlyExit; j++) { earlyExit = true; }\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I prefer to add an explicit \"exit\" to the loop tests.  It makes it clear to \nany casual reader that the loop may terminate early.</p>\n\n<pre><code>boolean earlyExit = false;\nfor(int i = 0 ; i &lt; 10 &amp;&amp; !earlyExit; i++) {\n     for(int j = 0 ; i &lt; 10 &amp;&amp; !earlyExit; j++) { earlyExit = true; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213709,"reputation":8276,"user_id":467240,"accept_rate":57,"display_name":"mtyson"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524241987,"creation_date":1410634817,"answer_id":25826609,"question_id":886955,"body_markdown":"Like @1800 INFORMATION suggestion, use the condition that breaks the inner loop as a condition on the outer loop:\r\n\r\n    boolean hasAccess = false;\r\n    for (int i = 0; i &lt; x &amp;&amp; hasAccess == false; i++){\r\n        for (int j = 0; j &lt; y; j++){\r\n            if (condition == true){\r\n                hasAccess = true;\r\n                break;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Like @1800 INFORMATION suggestion, use the condition that breaks the inner loop as a condition on the outer loop:</p>\n\n<pre><code>boolean hasAccess = false;\nfor (int i = 0; i &lt; x &amp;&amp; hasAccess == false; i++){\n    for (int j = 0; j &lt; y; j++){\n        if (condition == true){\n            hasAccess = true;\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1524246474,"creation_date":1412949450,"answer_id":26301177,"question_id":886955,"body_markdown":"Another one solution, mentioned without example (it actually works in prod code).\r\n\r\n    try {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition #1) {\r\n                    // Do something and break the loop.\r\n                    throw new BreakLoopException();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (BreakLoopException e) {\r\n        // Do something on look breaking.\r\n    }\r\n\r\nOf course `BreakLoopException` should be internal, private and accelerated with no-stack-trace:\r\n\r\n    private static class BreakLoopException extends Exception {\r\n        @Override\r\n        public StackTraceElement[] getStackTrace() {\r\n            return new StackTraceElement[0];\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Another one solution, mentioned without example (it actually works in prod code).</p>\n\n<pre><code>try {\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition #1) {\n                // Do something and break the loop.\n                throw new BreakLoopException();\n            }\n        }\n    }\n}\ncatch (BreakLoopException e) {\n    // Do something on look breaking.\n}\n</code></pre>\n\n<p>Of course <code>BreakLoopException</code> should be internal, private and accelerated with no-stack-trace:</p>\n\n<pre><code>private static class BreakLoopException extends Exception {\n    @Override\n    public StackTraceElement[] getStackTrace() {\n        return new StackTraceElement[0];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3430964,"reputation":3078,"user_id":2875404,"accept_rate":55,"display_name":"user2875404"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524241929,"creation_date":1429999266,"answer_id":29871230,"question_id":886955,"body_markdown":"Rather unusual approach but in terms of code length (**not performance**) this is the easiest thing you could do:\r\n\r\n    for(int i = 0; i++; i &lt; j) {\r\n        if(wanna exit) {\r\n            i = i + j; // if more nested, also add the \r\n                       // maximum value for the other loops\r\n        }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Rather unusual approach but in terms of code length (<strong>not performance</strong>) this is the easiest thing you could do:</p>\n\n<pre><code>for(int i = 0; i++; i &lt; j) {\n    if(wanna exit) {\n        i = i + j; // if more nested, also add the \n                   // maximum value for the other loops\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6828915,"reputation":130,"user_id":5253714,"display_name":"Keshav bansal"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1524241893,"creation_date":1440363880,"answer_id":32171521,"question_id":886955,"body_markdown":"Best and Easy Method..\r\n\r\n    outerloop:\r\n    for(int i=0; i&lt;10; i++){\r\n        // here we can break Outer loop by \r\n        break outerloop;\r\n\r\n        innerloop:\r\n        for(int i=0; i&lt;10; i++){\r\n            // here we can break innerloop by \r\n            break innerloop;\r\n         }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Best and Easy Method..</p>\n\n<pre><code>outerloop:\nfor(int i=0; i&lt;10; i++){\n    // here we can break Outer loop by \n    break outerloop;\n\n    innerloop:\n    for(int i=0; i&lt;10; i++){\n        // here we can break innerloop by \n        break innerloop;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1563693087,"creation_date":1454007235,"answer_id":35069676,"question_id":886955,"body_markdown":"Usually in such cases, it is coming in scope of more meaningful logic, let&#39;s say some searching or manipulating over some of the iterated &#39;for&#39;-objects in question, so I usually use the functional approach:\r\n\r\n    public Object searching(Object[] types) { // Or manipulating\r\n        List&lt;Object&gt; typesReferences = new ArrayList&lt;Object&gt;();\r\n        List&lt;Object&gt; typesReferences2 = new ArrayList&lt;Object&gt;();\r\n\r\n        for (Object type : typesReferences) {\r\n            Object o = getByCriterion(typesReferences2, type);\r\n            if(o != null) return o;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Object getByCriterion(List&lt;Object&gt; typesReferences2, Object criterion) {\r\n        for (Object typeReference : typesReferences2) {\r\n            if(typeReference.equals(criterion)) {\r\n                 // here comes other complex or specific logic || typeReference.equals(new Object())\r\n                 return typeReference;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nMajor cons:\r\n\r\n - roughly twice more lines\r\n - more consumption of computing cycles, meaning it is slower from algorithmic point-of-view\r\n - more typing work\r\n\r\nThe pros:\r\n\r\n - the higher ratio to separation of concerns because of functional granularity\r\n - the higher ratio of re-usability and control of\r\n   searching/manipulating logic without\r\n - the methods are not long, thus they are more compact and easier to comprehend\r\n - higher ratio of readability\r\n\r\nSo it is just handling the case via a different approach.\r\n\r\nBasically a question to the author of this question: what do you consider of this approach?\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Usually in such cases, it is coming in scope of more meaningful logic, let's say some searching or manipulating over some of the iterated 'for'-objects in question, so I usually use the functional approach:</p>\n\n<pre><code>public Object searching(Object[] types) { // Or manipulating\n    List&lt;Object&gt; typesReferences = new ArrayList&lt;Object&gt;();\n    List&lt;Object&gt; typesReferences2 = new ArrayList&lt;Object&gt;();\n\n    for (Object type : typesReferences) {\n        Object o = getByCriterion(typesReferences2, type);\n        if(o != null) return o;\n    }\n    return null;\n}\n\nprivate Object getByCriterion(List&lt;Object&gt; typesReferences2, Object criterion) {\n    for (Object typeReference : typesReferences2) {\n        if(typeReference.equals(criterion)) {\n             // here comes other complex or specific logic || typeReference.equals(new Object())\n             return typeReference;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Major cons:</p>\n\n<ul>\n<li>roughly twice more lines</li>\n<li>more consumption of computing cycles, meaning it is slower from algorithmic point-of-view</li>\n<li>more typing work</li>\n</ul>\n\n<p>The pros:</p>\n\n<ul>\n<li>the higher ratio to separation of concerns because of functional granularity</li>\n<li>the higher ratio of re-usability and control of\nsearching/manipulating logic without</li>\n<li>the methods are not long, thus they are more compact and easier to comprehend</li>\n<li>higher ratio of readability</li>\n</ul>\n\n<p>So it is just handling the case via a different approach.</p>\n\n<p>Basically a question to the author of this question: what do you consider of this approach?</p>\n"},{"tags":[],"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"down_vote_count":14,"up_vote_count":4,"is_accepted":false,"score":-10,"last_activity_date":1546680537,"creation_date":1459449194,"answer_id":36341074,"question_id":886955,"body_markdown":"I feel using labels makes the code seem very much like a goto statement. This is just a thought.\r\n\r\nInstead, throw an exception at the inner `for` loop and encapsulate the two `for` loops with a try catch block.\r\n\r\nSomething like\r\n\r\n    try {\r\n      // ...\r\n      for(Object outerForLoop : objectsOuter) {\r\n         // ...\r\n         for (Object innerForLoop : objectsInner) {\r\n            // ...\r\n            if (isConditionTrue)\r\n                 throw new WrappedException(&quot;With some useful message. Probably some logging as well.&quot;);\r\n         }\r\n      }\r\n      catch (WrappedException) {\r\n            // Do something awesome or just don&#39;t do anything to swallow the exception.\r\n      }\r\n\r\nJust a thought. I prefer this code since it gives me better loggability (like that&#39;s a word) for me when this is being run in production or something.\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I feel using labels makes the code seem very much like a goto statement. This is just a thought.</p>\n\n<p>Instead, throw an exception at the inner <code>for</code> loop and encapsulate the two <code>for</code> loops with a try catch block.</p>\n\n<p>Something like</p>\n\n<pre><code>try {\n  // ...\n  for(Object outerForLoop : objectsOuter) {\n     // ...\n     for (Object innerForLoop : objectsInner) {\n        // ...\n        if (isConditionTrue)\n             throw new WrappedException(\"With some useful message. Probably some logging as well.\");\n     }\n  }\n  catch (WrappedException) {\n        // Do something awesome or just don't do anything to swallow the exception.\n  }\n</code></pre>\n\n<p>Just a thought. I prefer this code since it gives me better loggability (like that's a word) for me when this is being run in production or something.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524241711,"creation_date":1460089798,"answer_id":36491552,"question_id":886955,"body_markdown":"   `for (int j = 0; j &lt; 5; j++) //inner loop ` should be replaced with \r\n    `for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++)`.\r\n\r\nHere, in this case complete nested loops should be exit if condition is `True` . But if we use  `exitloops` only to the upper `loop` \r\n          \r\n     for (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) //upper loop\r\nThen inner loop will continues, because there is no extra flag that notify this inner loop to exit. \r\n&gt;Example : if `i = 3` and `j=2` then condition is `false`.  But in next iteration of inner loop `j=3`  then condition `(i*j)` become `9` which is `true` but inner loop will be continue till `j` become `5`.\r\n\r\nSo, it must use `exitloops` to the inner loops too.\r\n\r\n    boolean exitloops = false;\r\n\tfor (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) { //here should exitloops as a Conditional Statement to get out from the loops if exitloops become true. \r\n        for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++) { //here should also use exitloops as a Conditional Statement. \r\n            if (i * j &gt; 6) {\r\n                exitloops = true;\r\n                System.out.println(&quot;Inner loop still Continues For i * j is =&gt; &quot;+i*j);\r\n                break;\r\n            }\r\n            System.out.println(i*j);\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p><code>for (int j = 0; j &lt; 5; j++) //inner loop</code> should be replaced with \n    <code>for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++)</code>.</p>\n\n<p>Here, in this case complete nested loops should be exit if condition is <code>True</code> . But if we use  <code>exitloops</code> only to the upper <code>loop</code> </p>\n\n<pre><code> for (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) //upper loop\n</code></pre>\n\n<p>Then inner loop will continues, because there is no extra flag that notify this inner loop to exit. </p>\n\n<blockquote>\n  <p>Example : if <code>i = 3</code> and <code>j=2</code> then condition is <code>false</code>.  But in next iteration of inner loop <code>j=3</code>  then condition <code>(i*j)</code> become <code>9</code> which is <code>true</code> but inner loop will be continue till <code>j</code> become <code>5</code>.</p>\n</blockquote>\n\n<p>So, it must use <code>exitloops</code> to the inner loops too.</p>\n\n<pre><code>boolean exitloops = false;\nfor (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) { //here should exitloops as a Conditional Statement to get out from the loops if exitloops become true. \n    for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++) { //here should also use exitloops as a Conditional Statement. \n        if (i * j &gt; 6) {\n            exitloops = true;\n            System.out.println(\"Inner loop still Continues For i * j is =&gt; \"+i*j);\n            break;\n        }\n        System.out.println(i*j);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7006242,"reputation":840,"user_id":5370518,"accept_rate":94,"display_name":"Chit Khine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472124358,"creation_date":1472124358,"answer_id":39143991,"question_id":886955,"body_markdown":"If it is inside some function why don&#39;t you just return it: \r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                return value;\r\n             }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>If it is inside some function why don't you just return it: </p>\n\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n            return value;\n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8210379,"reputation":41,"user_id":6178741,"display_name":"Dharmik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524241695,"creation_date":1490319821,"answer_id":42990008,"question_id":886955,"body_markdown":"For some cases, We can use ```while``` loop effectively here.\r\n\r\n\r\n    Random rand = new Random();\r\n    // Just an example\r\n    for (int k = 0; k &lt; 10; ++k) {\r\n        int count = 0;\r\n        while (!(rand.nextInt(200) == 100)) {\r\n           count++;\r\n        }\r\n                   \r\n        results[k] = count;\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>For some cases, We can use <code>while</code> loop effectively here.</p>\n\n<pre><code>Random rand = new Random();\n// Just an example\nfor (int k = 0; k &lt; 10; ++k) {\n    int count = 0;\n    while (!(rand.nextInt(200) == 100)) {\n       count++;\n    }\n\n    results[k] = count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546680713,"creation_date":1491076447,"answer_id":43161331,"question_id":886955,"body_markdown":"If it&#39;s a new implementation, you can try rewriting the logic as if-else_if-else statements.\r\n\r\n    while(keep_going) {\r\n\r\n        if(keep_going &amp;&amp; condition_one_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_two_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_three_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; something_goes_really_bad) {\r\n            keep_going=false;\r\n        }\r\n        if(keep_going &amp;&amp; condition_four_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_five_holds) {\r\n            // Code\r\n        }\r\n    }\r\n\r\nOtherwise you can try setting a flag when that special condition has occured and check for that flag in each of your loop-conditions.\r\n\r\n    something_bad_has_happened = false;\r\n    while(something is true &amp;&amp; !something_bad_has_happened){\r\n        // Code, things happen\r\n        while(something else &amp;&amp; !something_bad_has_happened){\r\n            // Lots of code, things happens\r\n            if(something happened){\r\n                -&gt; Then control should be returned -&gt;\r\n                something_bad_has_happened=true;\r\n                continue;\r\n            }\r\n        }\r\n        if(something_bad_has_happened) { // The things below will not be executed\r\n            continue;\r\n        }\r\n\r\n        // Other things may happen here as well, but they will not be executed\r\n        //  once control is returned from the inner cycle.\r\n    }\r\n\r\nHERE! So, while a simple break will not work, it can be made to work using `continue`.\r\n\r\nIf you are simply porting the logic from one programming language to Java and just want to get the thing working you can try using [labels][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/43161032/any-ways-to-multi-break-out-from-embedded-cycles-in-java\r\n  [2]: https://stackoverflow.com/questions/26430630/how-to-use-goto-statement-correctly\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>If it's a new implementation, you can try rewriting the logic as if-else_if-else statements.</p>\n\n<pre><code>while(keep_going) {\n\n    if(keep_going &amp;&amp; condition_one_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_two_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_three_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; something_goes_really_bad) {\n        keep_going=false;\n    }\n    if(keep_going &amp;&amp; condition_four_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_five_holds) {\n        // Code\n    }\n}\n</code></pre>\n\n<p>Otherwise you can try setting a flag when that special condition has occured and check for that flag in each of your loop-conditions.</p>\n\n<pre><code>something_bad_has_happened = false;\nwhile(something is true &amp;&amp; !something_bad_has_happened){\n    // Code, things happen\n    while(something else &amp;&amp; !something_bad_has_happened){\n        // Lots of code, things happens\n        if(something happened){\n            -&gt; Then control should be returned -&gt;\n            something_bad_has_happened=true;\n            continue;\n        }\n    }\n    if(something_bad_has_happened) { // The things below will not be executed\n        continue;\n    }\n\n    // Other things may happen here as well, but they will not be executed\n    //  once control is returned from the inner cycle.\n}\n</code></pre>\n\n<p>HERE! So, while a simple break will not work, it can be made to work using <code>continue</code>.</p>\n\n<p>If you are simply porting the logic from one programming language to Java and just want to get the thing working you can try using <a href=\"https://stackoverflow.com/questions/26430630/how-to-use-goto-statement-correctly\">labels</a>.</p>\n"},{"tags":[],"owner":{"account_id":3188586,"reputation":1268,"user_id":2693502,"display_name":"Bill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546680903,"creation_date":1493883673,"answer_id":43776772,"question_id":886955,"body_markdown":"Demo for `break`, `continue`, and `label`:\r\n\r\nJava keywords `break` and `continue` have a default value. It&#39;s the &quot;nearest loop&quot;, and today, after a few years of using Java, I just got it!\r\n\r\nIt&#39;s seem used rare, but useful.\r\n\r\n    import org.junit.Test;\r\n\r\n    /**\r\n     * Created by cui on 17-5-4.\r\n     */\r\n\r\n    public class BranchLabel {\r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;testBreak&quot;);\r\n            testBreak();\r\n\r\n            System.out.println(&quot;testBreakLabel&quot;);\r\n            testBreakLabel();\r\n\r\n            System.out.println(&quot;testContinue&quot;);\r\n            testContinue();\r\n            System.out.println(&quot;testContinueLabel&quot;);\r\n            testContinueLabel();\r\n        }\r\n\r\n        /**\r\n         testBreak\r\n         a=0,b=0\r\n         a=0,b=1\r\n         a=1,b=0\r\n         a=1,b=1\r\n         a=2,b=0\r\n         a=2,b=1\r\n         a=3,b=0\r\n         a=3,b=1\r\n         a=4,b=0\r\n         a=4,b=1\r\n         */\r\n        public void testBreak() {\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    if (b == 2) {\r\n                        break;\r\n                    }\r\n                    System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testContinue\r\n         a=0,b=0\r\n         a=0,b=1\r\n         a=0,b=3\r\n         a=0,b=4\r\n         a=1,b=0\r\n         a=1,b=1\r\n         a=1,b=3\r\n         a=1,b=4\r\n         a=2,b=0\r\n         a=2,b=1\r\n         a=2,b=3\r\n         a=2,b=4\r\n         a=3,b=0\r\n         a=3,b=1\r\n         a=3,b=3\r\n         a=3,b=4\r\n         a=4,b=0\r\n         a=4,b=1\r\n         a=4,b=3\r\n         a=4,b=4\r\n         */\r\n        public void testContinue() {\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    if (b == 2) {\r\n                        continue;\r\n                    }\r\n                    System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testBreakLabel\r\n         a=0,b=0,c=0\r\n         a=0,b=0,c=1\r\n         * */\r\n        public void testBreakLabel() {\r\n            anyName:\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    for (int c = 0; c &lt; 5; c++) {\r\n                        if (c == 2) {\r\n                            break anyName;\r\n                        }\r\n                        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b + &quot;,c=&quot; + c);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testContinueLabel\r\n         a=0,b=0,c=0\r\n         a=0,b=0,c=1\r\n         a=1,b=0,c=0\r\n         a=1,b=0,c=1\r\n         a=2,b=0,c=0\r\n         a=2,b=0,c=1\r\n         a=3,b=0,c=0\r\n         a=3,b=0,c=1\r\n         a=4,b=0,c=0\r\n         a=4,b=0,c=1\r\n         */\r\n        public void testContinueLabel() {\r\n            anyName:\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    for (int c = 0; c &lt; 5; c++) {\r\n                        if (c == 2) {\r\n                            continue anyName;\r\n                        }\r\n                        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b + &quot;,c=&quot; + c);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Demo for <code>break</code>, <code>continue</code>, and <code>label</code>:</p>\n\n<p>Java keywords <code>break</code> and <code>continue</code> have a default value. It's the \"nearest loop\", and today, after a few years of using Java, I just got it!</p>\n\n<p>It's seem used rare, but useful.</p>\n\n<pre><code>import org.junit.Test;\n\n/**\n * Created by cui on 17-5-4.\n */\n\npublic class BranchLabel {\n    @Test\n    public void test() {\n        System.out.println(\"testBreak\");\n        testBreak();\n\n        System.out.println(\"testBreakLabel\");\n        testBreakLabel();\n\n        System.out.println(\"testContinue\");\n        testContinue();\n        System.out.println(\"testContinueLabel\");\n        testContinueLabel();\n    }\n\n    /**\n     testBreak\n     a=0,b=0\n     a=0,b=1\n     a=1,b=0\n     a=1,b=1\n     a=2,b=0\n     a=2,b=1\n     a=3,b=0\n     a=3,b=1\n     a=4,b=0\n     a=4,b=1\n     */\n    public void testBreak() {\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                if (b == 2) {\n                    break;\n                }\n                System.out.println(\"a=\" + a + \",b=\" + b);\n            }\n        }\n    }\n\n    /**\n     testContinue\n     a=0,b=0\n     a=0,b=1\n     a=0,b=3\n     a=0,b=4\n     a=1,b=0\n     a=1,b=1\n     a=1,b=3\n     a=1,b=4\n     a=2,b=0\n     a=2,b=1\n     a=2,b=3\n     a=2,b=4\n     a=3,b=0\n     a=3,b=1\n     a=3,b=3\n     a=3,b=4\n     a=4,b=0\n     a=4,b=1\n     a=4,b=3\n     a=4,b=4\n     */\n    public void testContinue() {\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                if (b == 2) {\n                    continue;\n                }\n                System.out.println(\"a=\" + a + \",b=\" + b);\n            }\n        }\n    }\n\n    /**\n     testBreakLabel\n     a=0,b=0,c=0\n     a=0,b=0,c=1\n     * */\n    public void testBreakLabel() {\n        anyName:\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                for (int c = 0; c &lt; 5; c++) {\n                    if (c == 2) {\n                        break anyName;\n                    }\n                    System.out.println(\"a=\" + a + \",b=\" + b + \",c=\" + c);\n                }\n            }\n        }\n    }\n\n    /**\n     testContinueLabel\n     a=0,b=0,c=0\n     a=0,b=0,c=1\n     a=1,b=0,c=0\n     a=1,b=0,c=1\n     a=2,b=0,c=0\n     a=2,b=0,c=1\n     a=3,b=0,c=0\n     a=3,b=0,c=1\n     a=4,b=0,c=0\n     a=4,b=0,c=1\n     */\n    public void testContinueLabel() {\n        anyName:\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                for (int c = 0; c &lt; 5; c++) {\n                    if (c == 2) {\n                        continue anyName;\n                    }\n                    System.out.println(\"a=\" + a + \",b=\" + b + \",c=\" + c);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1524246418,"creation_date":1500200666,"answer_id":45127457,"question_id":886955,"body_markdown":"Java 8 [`Stream`][1] solution:\r\n\r\n    List&lt;Type&gt; types1 = ...\r\n    List&lt;Type&gt; types2 = ...\r\n    \r\n    types1.stream()\r\n          .flatMap(type1 -&gt; types2.stream().map(type2 -&gt; new Type[]{type1, type2}))\r\n          .filter(types -&gt; /**some condition**/)\r\n          .findFirst()\r\n          .ifPresent(types -&gt; /**do something**/);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html","title":"How do I break out of nested loops in Java?","body":"<p>Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a> solution:</p>\n\n<pre><code>List&lt;Type&gt; types1 = ...\nList&lt;Type&gt; types2 = ...\n\ntypes1.stream()\n      .flatMap(type1 -&gt; types2.stream().map(type2 -&gt; new Type[]{type1, type2}))\n      .filter(types -&gt; /**some condition**/)\n      .findFirst()\n      .ifPresent(types -&gt; /**do something**/);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7907855,"reputation":1079,"user_id":5972784,"accept_rate":0,"display_name":"Siddharth Choudhary"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1524241608,"creation_date":1505799711,"answer_id":46292644,"question_id":886955,"body_markdown":"You can do the following:\r\n\r\n1. set a local variable to `false`\r\n \r\n2. set that variable `true` in the first loop, when you want to break\r\n    \r\n3. then you can check in the outer loop, that whether the condition is set then break from the outer loop as well.\r\n\r\n        boolean isBreakNeeded = false;\r\n        for (int i = 0; i &lt; some.length; i++) {\r\n            for (int j = 0; j &lt; some.lengthasWell; j++) {\r\n        \t    //want to set variable if (){\r\n        \t\tisBreakNeeded = true;\r\n        \t\tbreak;\r\n        \t}\r\n        \t\t\t\t\r\n        \tif (isBreakNeeded) {\r\n        \t\tbreak; //will make you break from the outer loop as well\r\n        \t}\r\n        }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can do the following:</p>\n\n<ol>\n<li><p>set a local variable to <code>false</code></p></li>\n<li><p>set that variable <code>true</code> in the first loop, when you want to break</p></li>\n<li><p>then you can check in the outer loop, that whether the condition is set then break from the outer loop as well.</p>\n\n<pre><code>boolean isBreakNeeded = false;\nfor (int i = 0; i &lt; some.length; i++) {\n    for (int j = 0; j &lt; some.lengthasWell; j++) {\n        //want to set variable if (){\n        isBreakNeeded = true;\n        break;\n    }\n\n    if (isBreakNeeded) {\n        break; //will make you break from the outer loop as well\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6060889,"reputation":111,"user_id":4732645,"display_name":"Harsh Vardhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533383984,"creation_date":1533382715,"answer_id":51685197,"question_id":886955,"body_markdown":"Java does not have a goto feature like there is in C++. But still, `goto` is a reserved keyword in Java. They might implement it in the future. For your question, the answer is that there is something called label in Java to which you can apply a `continue` and `break` statement. Find the code below:\r\n\r\n    public static void main(String ...args) {\r\n        outerLoop: for(int i=0;i&lt;10;i++) {\r\n        for(int j=10;j&gt;0;j--) {\r\n            System.out.println(i+&quot; &quot;+j);\r\n            if(i==j) {\r\n                System.out.println(&quot;Condition Fulfilled&quot;);\r\n                break outerLoop;\r\n            }\r\n        }\r\n        }\r\n        System.out.println(&quot;Got out of the outer loop&quot;);\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Java does not have a goto feature like there is in C++. But still, <code>goto</code> is a reserved keyword in Java. They might implement it in the future. For your question, the answer is that there is something called label in Java to which you can apply a <code>continue</code> and <code>break</code> statement. Find the code below:</p>\n\n<pre><code>public static void main(String ...args) {\n    outerLoop: for(int i=0;i&lt;10;i++) {\n    for(int j=10;j&gt;0;j--) {\n        System.out.println(i+\" \"+j);\n        if(i==j) {\n            System.out.println(\"Condition Fulfilled\");\n            break outerLoop;\n        }\n    }\n    }\n    System.out.println(\"Got out of the outer loop\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554372917,"creation_date":1554372917,"answer_id":55513397,"question_id":886955,"body_markdown":"**Labeled break** concept is used to break out nested loops in java, by using labeled break you can break nesting of loops at any position. \r\nExample 1:\r\n\r\n    loop1:\r\n     for(int i= 0; i&lt;6; i++){\r\n        for(int j=0; j&lt;5; j++){\r\n              if(i==3)\r\n                break loop1;\r\n            }\r\n        }\r\n\r\nsuppose there are 3 loops and you want to terminate the loop3:\r\nExample 2:\r\n\r\n    loop3: \r\n    for(int i= 0; i&lt;6; i++){\r\n    loop2:\r\n      for(int k= 0; k&lt;6; k++){\r\n    loop1:\r\n        for(int j=0; j&lt;5; j++){\r\n              if(i==3)\r\n                break loop3;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p><strong>Labeled break</strong> concept is used to break out nested loops in java, by using labeled break you can break nesting of loops at any position. \nExample 1:</p>\n\n<pre><code>loop1:\n for(int i= 0; i&lt;6; i++){\n    for(int j=0; j&lt;5; j++){\n          if(i==3)\n            break loop1;\n        }\n    }\n</code></pre>\n\n<p>suppose there are 3 loops and you want to terminate the loop3:\nExample 2:</p>\n\n<pre><code>loop3: \nfor(int i= 0; i&lt;6; i++){\nloop2:\n  for(int k= 0; k&lt;6; k++){\nloop1:\n    for(int j=0; j&lt;5; j++){\n          if(i==3)\n            break loop3;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10411975,"reputation":595,"user_id":7677111,"display_name":"Deb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557310832,"creation_date":1557310832,"answer_id":56038465,"question_id":886955,"body_markdown":"Below is an example where &quot;break&quot; statement pushes the cursor out of the for loop whenever the condition is met.\r\n\r\n    public class Practice3_FindDuplicateNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] inp = { 2, 3, 4, 3, 3 };\r\n    \t\tInteger[] aux_arr = new Integer[inp.length];\r\n    \t\tboolean isduplicate = false;\r\n    \t\tfor (int i = 0; i &lt; aux_arr.length; i++) {\r\n    \r\n    \t\t\taux_arr[i] = -1;\r\n    \r\n    \t\t}\r\n    \t\touter: for (int i = 0; i &lt; inp.length; i++) {\r\n    \t\t\tif (aux_arr[inp[i]] == -200) {\r\n    \t\t\t\tSystem.out.println(&quot;Duplicate Found at index: &quot; + i + &quot; Carrying value: &quot; + inp[i]);\r\n    \t\t\t\tisduplicate = true;\r\n    \t\t\t\tbreak outer;\r\n    \t\t\t} else {\r\n    \t\t\t\taux_arr[inp[i]] = -200;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor (Integer integer : aux_arr) {\r\n    \t\t\tSystem.out.println(integer);\r\n    \t\t}\r\n    \r\n    \t\tif (isduplicate == false) {\r\n    \t\t\tSystem.out.println(&quot;No Duplicates!!!!!&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Duplicates!!!!!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Below is an example where \"break\" statement pushes the cursor out of the for loop whenever the condition is met.</p>\n\n<pre><code>public class Practice3_FindDuplicateNumber {\n\n    public static void main(String[] args) {\n        Integer[] inp = { 2, 3, 4, 3, 3 };\n        Integer[] aux_arr = new Integer[inp.length];\n        boolean isduplicate = false;\n        for (int i = 0; i &lt; aux_arr.length; i++) {\n\n            aux_arr[i] = -1;\n\n        }\n        outer: for (int i = 0; i &lt; inp.length; i++) {\n            if (aux_arr[inp[i]] == -200) {\n                System.out.println(\"Duplicate Found at index: \" + i + \" Carrying value: \" + inp[i]);\n                isduplicate = true;\n                break outer;\n            } else {\n                aux_arr[inp[i]] = -200;\n            }\n        }\n\n        for (Integer integer : aux_arr) {\n            System.out.println(integer);\n        }\n\n        if (isduplicate == false) {\n            System.out.println(\"No Duplicates!!!!!\");\n        } else {\n            System.out.println(\"Duplicates!!!!!\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566821493,"creation_date":1566821493,"answer_id":57657716,"question_id":886955,"body_markdown":"**Demo**\r\n\r\n    public static void main(String[] args) {\r\n        outer:\r\n        while (true) {\r\n            while (true) {\r\n                break outer;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p><strong>Demo</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    outer:\n    while (true) {\n        while (true) {\n            break outer;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11178690,"reputation":8617,"user_id":8203357,"display_name":"Kiran Maniya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568979609,"creation_date":1568979609,"answer_id":58027674,"question_id":886955,"body_markdown":"It&#39;s fairly easy to use `label`, You can break the outer loop from inner loop using the label, Consider the example below,\r\n```\r\npublic class Breaking{\r\n    public static void main(String[] args) {\r\n        outerscope:\r\n        for (int i=0; i &lt; 5; i++) {\r\n            for (int j=0; j &lt; 5; j++) {\r\n                if (condition) {\r\n                    break outerscope;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnother approach is to use the breaking variable/flag to keep track of required break. consider the following example.\r\n```\r\npublic class Breaking{ \r\n    public static void main(String[] args) {\r\n        boolean isBreaking = false;\r\n        for (int i=0; i &lt; 5; i++) {\r\n            for (int j=0; j &lt; 5; j++) {\r\n                if (condition) {\r\n                    isBreaking = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(isBreaking){\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHowever, I prefer using the first approach.","title":"How do I break out of nested loops in Java?","body":"<p>It's fairly easy to use <code>label</code>, You can break the outer loop from inner loop using the label, Consider the example below,</p>\n\n<pre><code>public class Breaking{\n    public static void main(String[] args) {\n        outerscope:\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (condition) {\n                    break outerscope;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Another approach is to use the breaking variable/flag to keep track of required break. consider the following example.</p>\n\n<pre><code>public class Breaking{ \n    public static void main(String[] args) {\n        boolean isBreaking = false;\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (condition) {\n                    isBreaking = true;\n                    break;\n                }\n            }\n            if(isBreaking){\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, I prefer using the first approach.</p>\n"},{"tags":[],"owner":{"account_id":15282082,"reputation":704,"user_id":11026123,"display_name":"RusJaI"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1602925870,"creation_date":1602925379,"answer_id":64400751,"question_id":886955,"body_markdown":"Using &#39;break&#39; keyword alone is not the appropriate way when you need to exit from more than one loops.\r\nYou can exit from immediate loop\r\nNo matter with how many loops your statement is surrounded with.\r\nYou can use &#39;break&#39; with a label!\r\nHere I&#39;ve used the label &quot;abc&quot;\r\nYou can write your code as following, within any function in Java\r\n\r\nThis code shows how to exit from the most outer loop\r\n\r\n     abc: \r\n        for (int i = 0; i &lt; 10; i++) { \r\n            for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break abc;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\nAlso you can use break statement to exit from any loop in a nested loop.\r\n \r\n        for (int i = 0; i &lt; 10; i++) { \r\n           abc:for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break abc;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\nThe following code shows an example of exiting from the innermost loop.\r\nIn other works,after executing the following code, you are at the outside of the loop of &#39;k&#39; variables and still inside the loop of &#39;j&#39; and &#39;i&#39; variables.\r\n \r\n        for (int i = 0; i &lt; 10; i++) { \r\n            for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Using 'break' keyword alone is not the appropriate way when you need to exit from more than one loops.\nYou can exit from immediate loop\nNo matter with how many loops your statement is surrounded with.\nYou can use 'break' with a label!\nHere I've used the label &quot;abc&quot;\nYou can write your code as following, within any function in Java</p>\n<p>This code shows how to exit from the most outer loop</p>\n<pre><code> abc: \n    for (int i = 0; i &lt; 10; i++) { \n        for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break abc;\n              } \n        } \n    } \n}\n</code></pre>\n<p>Also you can use break statement to exit from any loop in a nested loop.</p>\n<pre><code>    for (int i = 0; i &lt; 10; i++) { \n       abc:for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break abc;\n              } \n        } \n    } \n}\n</code></pre>\n<p>The following code shows an example of exiting from the innermost loop.\nIn other works,after executing the following code, you are at the outside of the loop of 'k' variables and still inside the loop of 'j' and 'i' variables.</p>\n<pre><code>    for (int i = 0; i &lt; 10; i++) { \n        for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break;\n              } \n        } \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18955587,"reputation":135,"user_id":13832244,"display_name":"Sanket Bhangale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667217639,"creation_date":1667217639,"answer_id":74262966,"question_id":886955,"body_markdown":"If someone is looking for the kotlin way of adding labeled loops\r\n\r\n    loop@ for (i in 1..100) {\r\n        for (j in 1..100) {\r\n            if (...) break@loop\r\n        }\r\n    }\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/returns.html#break-and-continue-labels","title":"How do I break out of nested loops in Java?","body":"<p>If someone is looking for the kotlin way of adding labeled loops</p>\n<pre><code>loop@ for (i in 1..100) {\n    for (j in 1..100) {\n        if (...) break@loop\n    }\n}\n</code></pre>\n<p><a href=\"https://kotlinlang.org/docs/returns.html#break-and-continue-labels\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1407973,"favorite_count":0,"down_vote_count":4,"up_vote_count":2073,"accepted_answer_id":886979,"answer_count":37,"score":2069,"last_activity_date":1680986528,"creation_date":1242810463,"question_id":886955,"body_markdown":"I&#39;ve got a nested loop construct like this:\r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 break; // Breaks out of the inner loop\r\n             }\r\n        }\r\n    }\r\n\r\nNow how can I break out of both loops? I&#39;ve looked at similar questions, but none concerns Java specifically. I couldn&#39;t apply these solutions because most used gotos.\r\n\r\nI don&#39;t want to put the inner loop in a different method.\r\n\r\nI don&#39;t want to return the loops. When breaking I&#39;m finished with the execution of the loop block.\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I've got a nested loop construct like this:</p>\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             break; // Breaks out of the inner loop\n         }\n    }\n}\n</code></pre>\n<p>Now how can I break out of both loops? I've looked at similar questions, but none concerns Java specifically. I couldn't apply these solutions because most used gotos.</p>\n<p>I don't want to put the inner loop in a different method.</p>\n<p>I don't want to return the loops. When breaking I'm finished with the execution of the loop block.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":365480,"reputation":1146,"user_id":2859911,"display_name":"Todoy"},"score":0,"creation_date":1680559233,"post_id":75924011,"comment_id":133916071,"body_markdown":"How are you running your application/setting your profile?","body":"How are you running your application/setting your profile?"}],"answers":[{"tags":[],"owner":{"account_id":19458558,"reputation":36,"user_id":14233308,"display_name":"Stuart Schmukler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680986501,"creation_date":1680559556,"answer_id":75924088,"question_id":75924011,"body_markdown":"I think the problem is the spaces in the expression. Try removing the spaces in your expression before and after the `:`.\r\n\r\n```java\r\n@Value(&quot;${apis.maxNumOfCics:88}&quot;)\r\nprivate Integer maxNumOfCics;\r\n```\r\n\r\nTry one of the pieces of syntax from [https://www.baeldung.com/spring-value-annotation][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-value-annotation#:~:text=We%20can%20also%20set%20default%20values%20for%20the%20properties%20or%20keys%20that%20might%20not%20exist%3A","title":"Spring boot is taking the default value instead of from application-local.yml","body":"<p>I think the problem is the spaces in the expression. Try removing the spaces in your expression before and after the <code>:</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${apis.maxNumOfCics:88}&quot;)\nprivate Integer maxNumOfCics;\n</code></pre>\n<p>Try one of the pieces of syntax from <a href=\"https://www.baeldung.com/spring-value-annotation#:%7E:text=We%20can%20also%20set%20default%20values%20for%20the%20properties%20or%20keys%20that%20might%20not%20exist%3A\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-value-annotation</a></p>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75924088,"answer_count":1,"score":0,"last_activity_date":1680986501,"creation_date":1680558512,"question_id":75924011,"body_markdown":"I have a class which takes a value from the config file but it is not working. \r\n\r\n```\r\n@Component\r\npublic class InputValidator {\r\n\r\n    private final Logger log = ESAPI.getLogger(this.getClass());\r\n\r\n    @Value(&quot;${apis.maxNumOfCics : 88}&quot;)\r\n    private Integer maxNumOfCics;\r\n\r\n// some methods\r\n}\r\n\r\n```\r\n\r\nI have configured a random default value of 88 which is being used even though I configured it as 20 in application-local.yml. When i don&#39;t use a default value:\r\n\r\n```\r\n@Value(&quot;${apis.maxNumOfCics}&quot;)\r\n```\r\n\r\nit takes the correct value from application-local.yml, and I set the the active profile to local as well. The spelling is correct and the other config values are coming from the yml file but when I put a default it always takes the default. Any help on this would be appreciated! ","title":"Spring boot is taking the default value instead of from application-local.yml","body":"<p>I have a class which takes a value from the config file but it is not working.</p>\n<pre><code>@Component\npublic class InputValidator {\n\n    private final Logger log = ESAPI.getLogger(this.getClass());\n\n    @Value(&quot;${apis.maxNumOfCics : 88}&quot;)\n    private Integer maxNumOfCics;\n\n// some methods\n}\n\n</code></pre>\n<p>I have configured a random default value of 88 which is being used even though I configured it as 20 in application-local.yml. When i don't use a default value:</p>\n<pre><code>@Value(&quot;${apis.maxNumOfCics}&quot;)\n</code></pre>\n<p>it takes the correct value from application-local.yml, and I set the the active profile to local as well. The spelling is correct and the other config values are coming from the yml file but when I put a default it always takes the default. Any help on this would be appreciated!</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680985545,"creation_date":1680985545,"answer_id":75967528,"question_id":75965504,"body_markdown":"Kafka records are ordered by offset. Any data sent by a producer is first buffered in memory before any network request is made towards the broker server. \r\n\r\nIf the producer send actions were not ordered, then you would receive out-of-order data at the broker, and thereby in the consumer. ","title":"Why ProduceRequestData use ImplicitLinkedHashCollection hold topicData","body":"<p>Kafka records are ordered by offset. Any data sent by a producer is first buffered in memory before any network request is made towards the broker server.</p>\n<p>If the producer send actions were not ordered, then you would receive out-of-order data at the broker, and thereby in the consumer.</p>\n"}],"owner":{"account_id":21170722,"reputation":1,"user_id":15567102,"display_name":"yanluyang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680985545,"creation_date":1680960546,"question_id":75965504,"body_markdown":"I am reading the source code of kafka producer recently. ProduceRequestData is a step in kafka producer processing request data. In ProduceRequestData, ImplicitLinkedHashCollection is used to store data. The documentation of ImplicitLinkedHashCollection says that it is a memory-efficient hash set which tracks the order of insertion of elements . But in ProduceRequestData I don&#39;t see any reason to tracks the order of insertion of TopicProduceData. \r\n\r\nCan someone help explain? ","title":"Why ProduceRequestData use ImplicitLinkedHashCollection hold topicData","body":"<p>I am reading the source code of kafka producer recently. ProduceRequestData is a step in kafka producer processing request data. In ProduceRequestData, ImplicitLinkedHashCollection is used to store data. The documentation of ImplicitLinkedHashCollection says that it is a memory-efficient hash set which tracks the order of insertion of elements . But in ProduceRequestData I don't see any reason to tracks the order of insertion of TopicProduceData.</p>\n<p>Can someone help explain?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":13560,"reputation":64060,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"score":0,"creation_date":1541074600,"post_id":53100643,"comment_id":93097641,"body_markdown":"AFAIK, Formula is pure SQL, while the dialect functions only work in HQL.","body":"AFAIK, Formula is pure SQL, while the dialect functions only work in HQL."}],"answers":[{"tags":[],"owner":{"account_id":13560,"reputation":64060,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541075210,"creation_date":1541074710,"answer_id":53101136,"question_id":53100643,"body_markdown":"You probably better implement a custom type instead.\r\n\r\nSee http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\r\n\r\n(You probably find tutorials which are a better resource to implement your own type).","title":"Any way to use custom function defined in the dialect in the @Formula or @CustomTransformer annotation","body":"<p>You probably better implement a custom type instead.</p>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type</a></p>\n\n<p>(You probably find tutorials which are a better resource to implement your own type).</p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680984839,"creation_date":1541072704,"question_id":53100643,"body_markdown":"I have to support Redshift and Clickhose. I have two dialect extensions:\r\n\r\n    public class RedshiftDialect extends PostgreSQL94Dialect {\r\n        public RedshiftDialect() {\r\n            super();\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new SQLFunctionTemplate(\r\n                            StandardBasicTypes.DATE,\r\n                            &quot;to_date(to_char(?1, &#39;YYYY-MM-DD&#39;), &#39;YYYY-MM-DD&#39;)&quot;));\r\n        }\r\n    }\r\n\r\n    public class ClickHouseDialect extends Dialect {\r\n    \r\n        private static final LimitHandler LIMIT_HANDLER =\r\n            new AbstractLimitHandler() {\r\n                @Override\r\n                public String processSql(String sql, RowSelection selection) {\r\n                    final boolean hasOffset = LimitHelper.hasFirstRow(selection);\r\n                    return sql + (hasOffset ? &quot; limit ? offset ?&quot; : &quot; limit ?&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public boolean supportsLimit() {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean bindLimitParametersInReverseOrder() {\r\n                    return true;\r\n                }\r\n            };\r\n    \r\n        public ClickHouseDialect() {\r\n            super();\r\n            registerColumnType(Types.VARCHAR, &quot;Nullable(String)&quot;);\r\n            registerColumnType(Types.BIGINT, &quot;Nullable(Int64)&quot;);\r\n            registerColumnType(Types.DATE, &quot;Nullable(Date)&quot;);\r\n            registerColumnType(Types.TIMESTAMP, &quot;Nullable(DateTime)&quot;);\r\n            registerColumnType(Types.FLOAT, &quot;Nullable(Float64)&quot;);\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new StandardSQLFunction(\r\n                            &quot;toDate&quot;,\r\n                            StandardBasicTypes.DATE));\r\n        }\r\n    \r\n        @Override\r\n        public LimitHandler getLimitHandler() {\r\n            return LIMIT_HANDLER;\r\n        }\r\n    }\r\n\r\n\r\n    public class RedshiftDialect extends PostgreSQL94Dialect {\r\n        public RedshiftDialect() {\r\n            super();\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new SQLFunctionTemplate(\r\n                            StandardBasicTypes.DATE,\r\n                            &quot;to_date(to_char(?1, &#39;YYYY-MM-DD&#39;), &#39;YYYY-MM-DD&#39;)&quot;));\r\n        }\r\n    }\r\n\r\n\r\nHere is my entity mapping:\r\n\r\n    @Immutable\r\n    @Entity(name = &quot;ReportEntry&quot;)\r\n    @Table(name = &quot;reporting&quot;)\r\n    public class ReportEntry implements Serializable {\r\n        ...\r\n        @Dimension\r\n        @Formula(&quot;to_date(date)&quot;)\r\n        @Column(nullable = false)\r\n        private Instant date;\r\n        ...\r\n    }\r\n\r\nI&#39;d like to that whenever I mention date attribute in my hql the to_date(date) expression evaluated depends on current dialect, but unfortunately @Formula annotation accepts only native SQL expression. Any ideas how use custom function with formula?\r\n","title":"Any way to use custom function defined in the dialect in the @Formula or @CustomTransformer annotation","body":"<p>I have to support Redshift and Clickhose. I have two dialect extensions:</p>\n<pre><code>public class RedshiftDialect extends PostgreSQL94Dialect {\n    public RedshiftDialect() {\n        super();\n        registerFunction(&quot;to_date&quot;,\n                new SQLFunctionTemplate(\n                        StandardBasicTypes.DATE,\n                        &quot;to_date(to_char(?1, 'YYYY-MM-DD'), 'YYYY-MM-DD')&quot;));\n    }\n}\n\npublic class ClickHouseDialect extends Dialect {\n\n    private static final LimitHandler LIMIT_HANDLER =\n        new AbstractLimitHandler() {\n            @Override\n            public String processSql(String sql, RowSelection selection) {\n                final boolean hasOffset = LimitHelper.hasFirstRow(selection);\n                return sql + (hasOffset ? &quot; limit ? offset ?&quot; : &quot; limit ?&quot;);\n            }\n\n            @Override\n            public boolean supportsLimit() {\n                return true;\n            }\n\n            @Override\n            public boolean bindLimitParametersInReverseOrder() {\n                return true;\n            }\n        };\n\n    public ClickHouseDialect() {\n        super();\n        registerColumnType(Types.VARCHAR, &quot;Nullable(String)&quot;);\n        registerColumnType(Types.BIGINT, &quot;Nullable(Int64)&quot;);\n        registerColumnType(Types.DATE, &quot;Nullable(Date)&quot;);\n        registerColumnType(Types.TIMESTAMP, &quot;Nullable(DateTime)&quot;);\n        registerColumnType(Types.FLOAT, &quot;Nullable(Float64)&quot;);\n        registerFunction(&quot;to_date&quot;,\n                new StandardSQLFunction(\n                        &quot;toDate&quot;,\n                        StandardBasicTypes.DATE));\n    }\n\n    @Override\n    public LimitHandler getLimitHandler() {\n        return LIMIT_HANDLER;\n    }\n}\n\n\npublic class RedshiftDialect extends PostgreSQL94Dialect {\n    public RedshiftDialect() {\n        super();\n        registerFunction(&quot;to_date&quot;,\n                new SQLFunctionTemplate(\n                        StandardBasicTypes.DATE,\n                        &quot;to_date(to_char(?1, 'YYYY-MM-DD'), 'YYYY-MM-DD')&quot;));\n    }\n}\n</code></pre>\n<p>Here is my entity mapping:</p>\n<pre><code>@Immutable\n@Entity(name = &quot;ReportEntry&quot;)\n@Table(name = &quot;reporting&quot;)\npublic class ReportEntry implements Serializable {\n    ...\n    @Dimension\n    @Formula(&quot;to_date(date)&quot;)\n    @Column(nullable = false)\n    private Instant date;\n    ...\n}\n</code></pre>\n<p>I'd like to that whenever I mention date attribute in my hql the to_date(date) expression evaluated depends on current dialect, but unfortunately @Formula annotation accepts only native SQL expression. Any ideas how use custom function with formula?</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1643467101,"post_id":68377027,"comment_id":125349763,"body_markdown":"The solution was to use any version higher than 1.12.2. 1.16.5 worked for me","body":"The solution was to use any version higher than 1.12.2. 1.16.5 worked for me"}],"answers":[{"tags":[],"owner":{"account_id":15891403,"reputation":323,"user_id":11466414,"display_name":"FloweyTF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626402039,"creation_date":1626402039,"answer_id":68402690,"question_id":68377027,"body_markdown":"I was just trying to figure out how to solve this. Based of off my research, you delete the `.gradle` folder in your home dir, or you reload gradle.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I was just trying to figure out how to solve this. Based of off my research, you delete the <code>.gradle</code> folder in your home dir, or you reload gradle.</p>\n"},{"tags":[],"owner":{"account_id":24694643,"reputation":1,"user_id":18586771,"display_name":"ErrorCation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648285382,"creation_date":1648285033,"answer_id":71626626,"question_id":68377027,"body_markdown":"I also got the same error as you when I did &quot;runClient&quot; (The only difference is that I use IDEA). I found that the directory name may be the reason of the error.My directory name is &quot;1.12.2&quot;.I tried to change it to &quot;mod&quot; and rebuild gradle. After that ,the &quot;runClient&quot; can run normally.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I also got the same error as you when I did &quot;runClient&quot; (The only difference is that I use IDEA). I found that the directory name may be the reason of the error.My directory name is &quot;1.12.2&quot;.I tried to change it to &quot;mod&quot; and rebuild gradle. After that ,the &quot;runClient&quot; can run normally.</p>\n"},{"tags":[],"owner":{"account_id":21980200,"reputation":103,"user_id":16255372,"display_name":"m-doescode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680984813,"creation_date":1680898875,"answer_id":75961697,"question_id":68377027,"body_markdown":"**NOTE: This fix may not be a permanent or good solution to the problem but I have found it to fix mine so try at your own risk.**\r\n\r\nWith no mention of what version of ForgeGradle you are using, I will have to assume that it is version 3.0 or higher.\r\n\r\nFor anyone experiencing the same issue for ForgeGradle version 5.1.73 or higher, using Forge version 1.12.2-14.23.5.2860 the following worked for me:\r\n\r\n## Solution\r\n\r\n### Solution 1 - Remove MergeTool\r\n\r\n**NOTE: I previously tried this method but it stopped working suddenly. If that happens to you, I suggest trying solution 2 or some of the other answers on this question such as clearing the Gradle cache or running a clean build.**\r\n\r\nAdd the following into the `configuration` block in your `build.gradle` file:\r\n```groovy\r\nconfigurations.configureEach {\r\n    exclude group: &quot;net.minecraftforge&quot;, module: &quot;mergetool&quot;\r\n}\r\n``` \r\nThis will remove the `mergetool` dependency which seems to be causing issues.\r\n\r\n### Solution 2 - Switch to a version of MergeTool that doesn&#39;t contain the BUKKIT entry\r\n\r\nAdd the following to the bottom of your `dependencies` block:\r\n```groovy\r\nimplementation (&quot;net.minecraftforge:mergetool:0.2.3.3&quot;) { force = true }\r\n```\r\n\r\nThis will force Gradle to use [this particular version of MergeTool](https://github.com/MinecraftForge/MergeTool/tree/0.2.3)\r\n\r\n### Solution 3 - Removing IDEA blocks and switching build mode to Gradle\r\n\r\nSome may have used this old solution to fix IntelliJ not copying resources properly with Gradle. The new solution is to add this block to your `build.gradle`:\r\n\r\n```groovy\r\nlegacy {\r\n    fixClasspath = true\r\n}\r\n```\r\n\r\nSo you must now remove the following from the top of your `build.gradle`:\r\n\r\n```groovy\r\napply plugin: &#39;idea&#39;\r\n\r\nidea {\r\n    module {\r\n        inheritOutputDirs = true\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    apply plugin: &#39;idea&#39;\r\n}\r\n```\r\n\r\nAnd you must also switch to building with Gradle:\r\n 1. Go to `File` &gt; `Settings...` (Or, Ctrl + Alt + S) &gt; `Build, Execution, Deployment` &gt; `Build Tools` &gt; `Gradle`\r\n 2. Select your project in the list on the left pane\r\n 3. Change both `Build and run using:` and `Run tests using:` to `Gradle`\r\n 4. Save (Click OK)\r\n\r\n## Explanation\r\n\r\nAccording to [Issue #748 on MinecraftForge/ForgeGradle by tie](https://github.com/MinecraftForge/ForgeGradle/issues/748), there seems to be an issue where the MergeTool dependency loads first before FML properly does, so `Side` is overwritten with a version which contains a `BUKKIT` entry which FML does not expect. (Normally, it only contains `SERVER` and `CLIENT` and only instantiates channels for the two)\r\n\r\nI have not experienced any issues with removing this dependency *yet*, however if I find anything I will mention it here in the future.\r\n\r\n## Confirmation\r\n\r\nI have tested this on Windows 10 build 21H2 19044.2728, with Gradle version 7.4.2, ForgeGradle version 5.1.73, Forge version 1.12.2-14.23.5.2860, Mappings channel &quot;stable&quot; version 39-1.12\r\n\r\n## Issues\r\n\r\n* [SOLUTION 1] For some strange reason, this isn&#39;t working anymore. I have no idea *how*, but somehow `Side` is gaining a `BUKKIT` enum entry immaculately. I will research this further and inspect why this is happening.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p><strong>NOTE: This fix may not be a permanent or good solution to the problem but I have found it to fix mine so try at your own risk.</strong></p>\n<p>With no mention of what version of ForgeGradle you are using, I will have to assume that it is version 3.0 or higher.</p>\n<p>For anyone experiencing the same issue for ForgeGradle version 5.1.73 or higher, using Forge version 1.12.2-14.23.5.2860 the following worked for me:</p>\n<h2>Solution</h2>\n<h3>Solution 1 - Remove MergeTool</h3>\n<p><strong>NOTE: I previously tried this method but it stopped working suddenly. If that happens to you, I suggest trying solution 2 or some of the other answers on this question such as clearing the Gradle cache or running a clean build.</strong></p>\n<p>Add the following into the <code>configuration</code> block in your <code>build.gradle</code> file:</p>\n<pre><code>configurations.configureEach {\n    exclude group: &quot;net.minecraftforge&quot;, module: &quot;mergetool&quot;\n}\n</code></pre>\n<p>This will remove the <code>mergetool</code> dependency which seems to be causing issues.</p>\n<h3>Solution 2 - Switch to a version of MergeTool that doesn't contain the BUKKIT entry</h3>\n<p>Add the following to the bottom of your <code>dependencies</code> block:</p>\n<pre><code>implementation (&quot;net.minecraftforge:mergetool:0.2.3.3&quot;) { force = true }\n</code></pre>\n<p>This will force Gradle to use <a href=\"https://github.com/MinecraftForge/MergeTool/tree/0.2.3\" rel=\"nofollow noreferrer\">this particular version of MergeTool</a></p>\n<h3>Solution 3 - Removing IDEA blocks and switching build mode to Gradle</h3>\n<p>Some may have used this old solution to fix IntelliJ not copying resources properly with Gradle. The new solution is to add this block to your <code>build.gradle</code>:</p>\n<pre><code>legacy {\n    fixClasspath = true\n}\n</code></pre>\n<p>So you must now remove the following from the top of your <code>build.gradle</code>:</p>\n<pre><code>apply plugin: 'idea'\n\nidea {\n    module {\n        inheritOutputDirs = true\n    }\n}\n\nsubprojects {\n    apply plugin: 'idea'\n}\n</code></pre>\n<p>And you must also switch to building with Gradle:</p>\n<ol>\n<li>Go to <code>File</code> &gt; <code>Settings...</code> (Or, Ctrl + Alt + S) &gt; <code>Build, Execution, Deployment</code> &gt; <code>Build Tools</code> &gt; <code>Gradle</code></li>\n<li>Select your project in the list on the left pane</li>\n<li>Change both <code>Build and run using:</code> and <code>Run tests using:</code> to <code>Gradle</code></li>\n<li>Save (Click OK)</li>\n</ol>\n<h2>Explanation</h2>\n<p>According to <a href=\"https://github.com/MinecraftForge/ForgeGradle/issues/748\" rel=\"nofollow noreferrer\">Issue #748 on MinecraftForge/ForgeGradle by tie</a>, there seems to be an issue where the MergeTool dependency loads first before FML properly does, so <code>Side</code> is overwritten with a version which contains a <code>BUKKIT</code> entry which FML does not expect. (Normally, it only contains <code>SERVER</code> and <code>CLIENT</code> and only instantiates channels for the two)</p>\n<p>I have not experienced any issues with removing this dependency <em>yet</em>, however if I find anything I will mention it here in the future.</p>\n<h2>Confirmation</h2>\n<p>I have tested this on Windows 10 build 21H2 19044.2728, with Gradle version 7.4.2, ForgeGradle version 5.1.73, Forge version 1.12.2-14.23.5.2860, Mappings channel &quot;stable&quot; version 39-1.12</p>\n<h2>Issues</h2>\n<ul>\n<li>[SOLUTION 1] For some strange reason, this isn't working anymore. I have no idea <em>how</em>, but somehow <code>Side</code> is gaining a <code>BUKKIT</code> enum entry immaculately. I will research this further and inspect why this is happening.</li>\n</ul>\n"}],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75961697,"answer_count":3,"score":1,"last_activity_date":1680984813,"creation_date":1626261304,"question_id":68377027,"body_markdown":"I&#39;m new to Minecraft Coding and Forge. I&#39;m repeatedly getting this error that FML (Forge Mod Loader) is loading causing errors. I have FML for 1.12.2 MC and Forge Version 1.12.2-14.23.5.2854\r\nI also tried Forge version 1.12.2-14.23.5.2855, but the same errors were thrown.\r\nI am using JRE 1.8.0_251.\r\nMy IDE is Eclipse 2020-12\r\n\r\nAnd when I do &quot;runClient.launch&quot; which launches Minecraft Client 1.12.2, it shows Constructing Mods, but when it comes to 3rd step, then bam! It crashes\r\nIn preferences Tab in eclipse, I have selected the Correct JRE.\r\nPls help me regarding this issue.\r\n\r\nJVM Args\r\n`-Xmx2G`\r\n\r\nError Log -\r\n\r\n   \r\n\r\n     Description: There was a severe problem during mod loading that has caused the game to fail\r\n    \r\n    net.minecraftforge.fml.common.LoaderExceptionModCrash: Caught exception from Forge Mod Loader (FML)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat net.minecraftforge.fml.common.network.NetworkRegistry.newChannel(NetworkRegistry.java:207)\r\n    \tat net.minecraftforge.fml.common.network.internal.FMLNetworkHandler.registerChannel(FMLNetworkHandler.java:185)\r\n    \tat net.minecraftforge.fml.common.FMLContainer.modConstruction(FMLContainer.java:92)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\r\n    \tat com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\r\n    \tat com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\r\n    \tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\r\n    \tat com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\r\n    \tat com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\r\n    \tat com.google.common.eventbus.EventBus.post(EventBus.java:217)\r\n    \tat net.minecraftforge.fml.common.LoadController.sendEventToModContainer(LoadController.java:219)\r\n    \tat net.minecraftforge.fml.common.LoadController.propogateStateMessage(LoadController.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\r\n    \tat com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\r\n    \tat com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\r\n    \tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\r\n    \tat com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\r\n    \tat com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\r\n    \tat com.google.common.eventbus.EventBus.post(EventBus.java:217)\r\n    \tat net.minecraftforge.fml.common.LoadController.distributeStateMessage(LoadController.java:136)\r\n    \tat net.minecraftforge.fml.common.Loader.loadMods(Loader.java:595)\r\n    \tat net.minecraftforge.fml.client.FMLClientHandler.beginMinecraftLoading(FMLClientHandler.java:232)\r\n    \tat net.minecraft.client.Minecraft.init(Minecraft.java:467)\r\n    \tat net.minecraft.client.Minecraft.run(Minecraft.java:378)\r\n    \tat net.minecraft.client.main.Main.main(SourceFile:123)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\r\n    \tat net.minecraft.launchwrapper.Launch.main(Launch.java:28)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat net.minecraftforge.legacydev.Main.start(Main.java:86)\r\n    \tat net.minecraftforge.legacydev.MainClient.main(MainClient.java:29)\r\n    \r\n    \r\n    A detailed walkthrough of the error, its code path and all known details is as follows:\r\n    ---------------------------------------------------------------------------------------\r\n    \r\n    -- System Details --\r\n    Details:\r\n    \tMinecraft Version: 1.12.2\r\n    \tOperating System: Windows 7 (amd64) version 6.1\r\n    \tJava Version: 1.8.0_51, Oracle Corporation\r\n    \tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\r\n    \tMemory: 125114560 bytes (119 MB) / 378011648 bytes (360 MB) up to 935854080 bytes (892 MB)\r\n    \tJVM Flags: 0 total; \r\n    \tIntCache: cache: 0, tcache: 0, allocated: 0, tallocated: 0\r\n    \tFML: MCP 9.42 Powered by Forge 14.23.5.2854 5 mods loaded, 5 mods active\r\n    \tStates: &#39;U&#39; = Unloaded &#39;L&#39; = Loaded &#39;C&#39; = Constructed &#39;H&#39; = Pre-initialized &#39;I&#39; = Initialized &#39;J&#39; = Post-initialized &#39;A&#39; = Available &#39;D&#39; = Disabled &#39;E&#39; = Errored\r\n    \r\n    \t| State | ID         | Version      | Source                                                      | Signature |\r\n    \t|:----- |:---------- |:------------ |:----------------------------------------------------------- |:--------- |\r\n    \t| LC    | minecraft  | 1.12.2       | minecraft.jar                                               | None      |\r\n    \t| LC    | mcp        | 9.42         | minecraft.jar                                               | None      |\r\n    \t| LE    | FML        | 8.0.99.99    | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\r\n    \t| L     | forge      | 14.23.5.2854 | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\r\n    \t| L     | examplemod | 1.0          | main                                                        | None      |\r\n    \r\n    \tLoaded coremods (and transformers): \r\n    \tGL info: &#39; Vendor: &#39;Intel&#39; Version: &#39;3.1.0 - Build 9.17.10.4229&#39; Renderer: &#39;Intel(R) HD Graphics 3000&#39;\r\n    [16:30:21] [Client thread/INFO] [STDOUT]: [net.minecraft.init.Bootstrap:printToSYSOUT:553]: #@!@# Game crashed! Crash report saved to: #@!@# D:\\1.12.2\\run\\.\\crash-reports\\crash-2021-07-14_16.30.21-client.txt\r\n\r\n","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I'm new to Minecraft Coding and Forge. I'm repeatedly getting this error that FML (Forge Mod Loader) is loading causing errors. I have FML for 1.12.2 MC and Forge Version 1.12.2-14.23.5.2854\nI also tried Forge version 1.12.2-14.23.5.2855, but the same errors were thrown.\nI am using JRE 1.8.0_251.\nMy IDE is Eclipse 2020-12</p>\n<p>And when I do &quot;runClient.launch&quot; which launches Minecraft Client 1.12.2, it shows Constructing Mods, but when it comes to 3rd step, then bam! It crashes\nIn preferences Tab in eclipse, I have selected the Correct JRE.\nPls help me regarding this issue.</p>\n<p>JVM Args\n<code>-Xmx2G</code></p>\n<p>Error Log -</p>\n<pre><code> Description: There was a severe problem during mod loading that has caused the game to fail\n\nnet.minecraftforge.fml.common.LoaderExceptionModCrash: Caught exception from Forge Mod Loader (FML)\nCaused by: java.lang.NullPointerException\n    at net.minecraftforge.fml.common.network.NetworkRegistry.newChannel(NetworkRegistry.java:207)\n    at net.minecraftforge.fml.common.network.internal.FMLNetworkHandler.registerChannel(FMLNetworkHandler.java:185)\n    at net.minecraftforge.fml.common.FMLContainer.modConstruction(FMLContainer.java:92)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n    at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n    at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n    at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n    at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n    at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n    at net.minecraftforge.fml.common.LoadController.sendEventToModContainer(LoadController.java:219)\n    at net.minecraftforge.fml.common.LoadController.propogateStateMessage(LoadController.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n    at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n    at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n    at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n    at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n    at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n    at net.minecraftforge.fml.common.LoadController.distributeStateMessage(LoadController.java:136)\n    at net.minecraftforge.fml.common.Loader.loadMods(Loader.java:595)\n    at net.minecraftforge.fml.client.FMLClientHandler.beginMinecraftLoading(FMLClientHandler.java:232)\n    at net.minecraft.client.Minecraft.init(Minecraft.java:467)\n    at net.minecraft.client.Minecraft.run(Minecraft.java:378)\n    at net.minecraft.client.main.Main.main(SourceFile:123)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at net.minecraftforge.legacydev.Main.start(Main.java:86)\n    at net.minecraftforge.legacydev.MainClient.main(MainClient.java:29)\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- System Details --\nDetails:\n    Minecraft Version: 1.12.2\n    Operating System: Windows 7 (amd64) version 6.1\n    Java Version: 1.8.0_51, Oracle Corporation\n    Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n    Memory: 125114560 bytes (119 MB) / 378011648 bytes (360 MB) up to 935854080 bytes (892 MB)\n    JVM Flags: 0 total; \n    IntCache: cache: 0, tcache: 0, allocated: 0, tallocated: 0\n    FML: MCP 9.42 Powered by Forge 14.23.5.2854 5 mods loaded, 5 mods active\n    States: 'U' = Unloaded 'L' = Loaded 'C' = Constructed 'H' = Pre-initialized 'I' = Initialized 'J' = Post-initialized 'A' = Available 'D' = Disabled 'E' = Errored\n\n    | State | ID         | Version      | Source                                                      | Signature |\n    |:----- |:---------- |:------------ |:----------------------------------------------------------- |:--------- |\n    | LC    | minecraft  | 1.12.2       | minecraft.jar                                               | None      |\n    | LC    | mcp        | 9.42         | minecraft.jar                                               | None      |\n    | LE    | FML        | 8.0.99.99    | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\n    | L     | forge      | 14.23.5.2854 | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\n    | L     | examplemod | 1.0          | main                                                        | None      |\n\n    Loaded coremods (and transformers): \n    GL info: ' Vendor: 'Intel' Version: '3.1.0 - Build 9.17.10.4229' Renderer: 'Intel(R) HD Graphics 3000'\n[16:30:21] [Client thread/INFO] [STDOUT]: [net.minecraft.init.Bootstrap:printToSYSOUT:553]: #@!@# Game crashed! Crash report saved to: #@!@# D:\\1.12.2\\run\\.\\crash-reports\\crash-2021-07-14_16.30.21-client.txt\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9479,"page":513,"page_size":100}
