{"items":[{"tags":["java","android","machine-learning","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":15448309,"reputation":36,"user_id":11144554,"display_name":"Masoud Sarabadani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667146636,"creation_date":1667146636,"answer_id":74254711,"question_id":74253440,"body_markdown":"the indexes start from zero , since the the length of your array is 1001 and it wants to go to index of 1001, it means the computer is reaching for 1002th item and it crashes, so id throws java.lang.ArrayIndexOutOfBoundsException\r\nso you have to check why your loop or iterator is reaching out of your array length, maybe your logic is wrong ??","title":"Error when deploying deep learning model with android studio","body":"<p>the indexes start from zero , since the the length of your array is 1001 and it wants to go to index of 1001, it means the computer is reaching for 1002th item and it crashes, so id throws java.lang.ArrayIndexOutOfBoundsException\nso you have to check why your loop or iterator is reaching out of your array length, maybe your logic is wrong ??</p>\n"}],"owner":{"account_id":26772754,"reputation":1,"user_id":20368856,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667146636,"creation_date":1667136356,"question_id":74253440,"body_markdown":"I am doing a simple app, classifing images. \r\n\r\nI am applying a tensorflow lite model on to the android app using java and android studio.\r\n\r\n1 - Building UI \r\n\r\n2 - Selecting image from local storage \r\n\r\n3 - Capturing image using camera \r\n\r\n4 - Handling permissions \r\n\r\n5 - Loading the TensorFlow tfflite model \r\n\r\n6 - Making predictions to the bitmap\r\n\r\nI do not understand why is the error and how to fix it.\r\n\r\nError:\r\n\r\n`java.lang.RuntimeException: Unable to start activity ComponentInfo{com.erfdrts.imagerecognition/com.erfdrts.imagerecognition.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1001; index=1001`\r\n\r\n`imagerecognition.MainActivity.onCreate(MainActivity.java:57)`\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button select, capture, predict;\r\n    ImageView imageView;\r\n    Bitmap bitmap;\r\n    TextView result;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //permisson\r\n        getPermission();\r\n\r\n        String[] labels = new String[1001]; \r\n        int cnt = 0;\r\n\r\n        try {\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(getAssets().open(&quot;label.txt&quot;)));\r\n            String line = bufferedReader.readLine();\r\n                                                    while (line!=null){ //LINE 57\r\n                labels[cnt] = line;\r\n                cnt++;\r\n            }\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        select = findViewById(R.id.buttonSelect);\r\n        predict = findViewById(R.id.buttonPredict);\r\n        capture = findViewById(R.id.buttonPredict);\r\n        result = findViewById(R.id.textViewResult);\r\n        imageView = findViewById(R.id.imageView);\r\n\r\n        select.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(intent, 10);\r\n            }\r\n        });\r\n\r\n        capture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(intent, 12);\r\n            }\r\n        });\r\n\r\n        predict.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    MobilenetV110224Quant model = MobilenetV110224Quant.newInstance(MainActivity.this); \r\n\r\n                    // Creates inputs for reference.\r\n                    TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n\r\n                    \r\n                    bitmap = Bitmap.createScaledBitmap(bitmap, 224, 224, true);\r\n                    inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\r\n                    MobilenetV110224Quant.Outputs outputs = model.process(inputFeature0);\r\n                    TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n                    result.setText(getMax(outputFeature0.getFloatArray()) +&quot; &quot;); \r\n        \r\n                    model.close();\r\n                } catch (IOException e) {\r\n                    // TODO Handle the exception\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    int getMax(float[] arr){\r\n        int max = 0;\r\n        for (int i = 0; i &lt; arr.length; i++){\r\n            if (arr[i] &gt; arr[max]) max=i;\r\n        }\r\n        return max;\r\n    }\r\n\r\n    public void getPermission(){\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\r\n            if (checkSelfPermission(Manifest.permission.CAMERA)!= PackageManager.PERMISSION_GRANTED){\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA}, 11);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if(requestCode==11){\r\n            if (grantResults[0]!= PackageManager.PERMISSION_GRANTED){\r\n                this.getPermission();\r\n            }\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if(requestCode==10){\r\n            if (data!=null){\r\n                Uri uri = data.getData();\r\n                try {\r\n                    bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\r\n                    imageView.setImageBitmap(bitmap);\r\n                }catch (IOException e){\r\n                    e.printStackTrace();\r\n                                    }\r\n            }\r\n        }\r\n        else if(requestCode==12){ //the user have capture the image\r\n            bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(bitmap);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n}\r\n```","title":"Error when deploying deep learning model with android studio","body":"<p>I am doing a simple app, classifing images.</p>\n<p>I am applying a tensorflow lite model on to the android app using java and android studio.</p>\n<p>1 - Building UI</p>\n<p>2 - Selecting image from local storage</p>\n<p>3 - Capturing image using camera</p>\n<p>4 - Handling permissions</p>\n<p>5 - Loading the TensorFlow tfflite model</p>\n<p>6 - Making predictions to the bitmap</p>\n<p>I do not understand why is the error and how to fix it.</p>\n<p>Error:</p>\n<p><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.erfdrts.imagerecognition/com.erfdrts.imagerecognition.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=1001; index=1001</code></p>\n<p><code>imagerecognition.MainActivity.onCreate(MainActivity.java:57)</code></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button select, capture, predict;\n    ImageView imageView;\n    Bitmap bitmap;\n    TextView result;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //permisson\n        getPermission();\n\n        String[] labels = new String[1001]; \n        int cnt = 0;\n\n        try {\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(getAssets().open(&quot;label.txt&quot;)));\n            String line = bufferedReader.readLine();\n                                                    while (line!=null){ //LINE 57\n                labels[cnt] = line;\n                cnt++;\n            }\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n        select = findViewById(R.id.buttonSelect);\n        predict = findViewById(R.id.buttonPredict);\n        capture = findViewById(R.id.buttonPredict);\n        result = findViewById(R.id.textViewResult);\n        imageView = findViewById(R.id.imageView);\n\n        select.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(intent, 10);\n            }\n        });\n\n        capture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(intent, 12);\n            }\n        });\n\n        predict.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                try {\n                    MobilenetV110224Quant model = MobilenetV110224Quant.newInstance(MainActivity.this); \n\n                    // Creates inputs for reference.\n                    TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n\n                    \n                    bitmap = Bitmap.createScaledBitmap(bitmap, 224, 224, true);\n                    inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\n                    MobilenetV110224Quant.Outputs outputs = model.process(inputFeature0);\n                    TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n                    result.setText(getMax(outputFeature0.getFloatArray()) +&quot; &quot;); \n        \n                    model.close();\n                } catch (IOException e) {\n                    // TODO Handle the exception\n                }\n            }\n        });\n\n    }\n\n    int getMax(float[] arr){\n        int max = 0;\n        for (int i = 0; i &lt; arr.length; i++){\n            if (arr[i] &gt; arr[max]) max=i;\n        }\n        return max;\n    }\n\n    public void getPermission(){\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n            if (checkSelfPermission(Manifest.permission.CAMERA)!= PackageManager.PERMISSION_GRANTED){\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA}, 11);\n            }\n\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if(requestCode==11){\n            if (grantResults[0]!= PackageManager.PERMISSION_GRANTED){\n                this.getPermission();\n            }\n        }\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(requestCode==10){\n            if (data!=null){\n                Uri uri = data.getData();\n                try {\n                    bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), uri);\n                    imageView.setImageBitmap(bitmap);\n                }catch (IOException e){\n                    e.printStackTrace();\n                                    }\n            }\n        }\n        else if(requestCode==12){ //the user have capture the image\n            bitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n            imageView.setImageBitmap(bitmap);\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","tree","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667146565,"creation_date":1667146565,"answer_id":74254702,"question_id":74254469,"body_markdown":"Just suffix each **`type`** literals, which represent keys, on the right hand side by square brackets, eg.converting them to **`type[]`** makes generating array results such as\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\r\n}\r\n```\r\neven if there were multiple objects composing `item` array, the resulting form is kept as the same and the result would yield such alike results\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot;, &quot;dfsds&quot;, &quot;fjghi&quot;, ... ]\r\n}\r\n```\r\ndepending on the input values","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels into a list in one spec","body":"<p>Just suffix each <strong><code>type</code></strong> literals, which represent keys, on the right hand side by square brackets, eg.converting them to <strong><code>type[]</code></strong> makes generating array results such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\n}\n</code></pre>\n<p>even if there were multiple objects composing <code>item</code> array, the resulting form is kept as the same and the result would yield such alike results</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot;, &quot;dfsds&quot;, &quot;fjghi&quot;, ... ]\n}\n</code></pre>\n<p>depending on the input values</p>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74254702,"answer_count":1,"score":0,"last_activity_date":1667146565,"creation_date":1667144773,"question_id":74254469,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get inner items from all the levels into an one array.\r\n**My goal is to get an array that contains a part of the items without knowing how many levels I have in the json into a list in one spen.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1_1&quot;,\r\n      &quot;foo&quot;: {\r\n        &quot;id&quot;: 1232,\r\n        &quot;nn&quot;: &quot;sdfsd&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*: (list)\r\n\r\n```json\r\n{\r\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\r\n}\r\n```\r\n\r\n*My jolt spec*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;foo&quot;: {\r\n                    &quot;nn&quot;: &quot;type&quot;\r\n                  }\r\n                }\r\n              },\r\n              &quot;foo&quot;: {\r\n                &quot;nn&quot;: &quot;type&quot;\r\n              }\r\n            }\r\n          },\r\n          &quot;foo&quot;: {\r\n            &quot;nn&quot;: &quot;type&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n*My output*:\r\n\r\n```json\r\n{\r\n  &quot;type&quot; : &quot;sdfsd&quot;\r\n}\r\n```\r\nIn case I&#39;ve multiple items in the input I got a list, but if I&#39;ve only one item not.\r\nDo you know how should I convert it to array anyway? \r\n**But I need to do it only in a one spec - its possible?**","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels into a list in one spec","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get inner items from all the levels into an one array.\n<strong>My goal is to get an array that contains a part of the items without knowing how many levels I have in the json into a list in one spen.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;1_1&quot;,\n      &quot;foo&quot;: {\n        &quot;id&quot;: 1232,\n        &quot;nn&quot;: &quot;sdfsd&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>: (list)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : [ &quot;sdfsd&quot; ]\n}\n</code></pre>\n<p><em>My jolt spec</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;foo&quot;: {\n                    &quot;nn&quot;: &quot;type&quot;\n                  }\n                }\n              },\n              &quot;foo&quot;: {\n                &quot;nn&quot;: &quot;type&quot;\n              }\n            }\n          },\n          &quot;foo&quot;: {\n            &quot;nn&quot;: &quot;type&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><em>My output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot; : &quot;sdfsd&quot;\n}\n</code></pre>\n<p>In case I've multiple items in the input I got a list, but if I've only one item not.\nDo you know how should I convert it to array anyway?\n<strong>But I need to do it only in a one spec - its possible?</strong></p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1667130282,"post_id":74252740,"comment_id":131093338,"body_markdown":"&quot;at com.fasterxml.jackson.databind.ser..............lots of lines &quot; turns out the error is in that &quot;lots of lines&quot; so please include them in your post. Not even the first line itself is complete.","body":"&quot;at com.fasterxml.jackson.databind.ser..............lots of lines &quot; turns out the error is in that &quot;lots of lines&quot; so please include them in your post. Not even the first line itself is complete."},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1667134714,"post_id":74252740,"comment_id":131094192,"body_markdown":"Somewhere in there with the stacktrace should be an actual error message you need to show us","body":"Somewhere in there with the stacktrace should be an actual error message you need to show us"},{"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"score":0,"creation_date":1667135638,"post_id":74252740,"comment_id":131094395,"body_markdown":"there are lots of lines in error, I can&#39;t get the start lines of it.","body":"there are lots of lines in error, I can&#39;t get the start lines of it."},{"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"score":0,"creation_date":1667141179,"post_id":74252740,"comment_id":131095498,"body_markdown":"Can anyone try running the spring boot application with these java files &amp; give some solution? or can anyone figure out the java files that I shared?","body":"Can anyone try running the spring boot application with these java files &amp; give some solution? or can anyone figure out the java files that I shared?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1667145624,"post_id":74252740,"comment_id":131096418,"body_markdown":"If you can&#39;t post the error message itself, others really don&#39;t have the incentive to load your project and take the time to run it to debug it for you. If the error is repeating the same stack, chances are you are getting a StackOverflowException - common with JSON serialization when you have circular references. Tons of quesions/answers and even tutorials on this - set one side to JsonIgnore in bidirectional relationships. JPA serialization is to/from the database, and those annotations have nothing to do with and no control over JSON serialization.","body":"If you can&#39;t post the error message itself, others really don&#39;t have the incentive to load your project and take the time to run it to debug it for you. If the error is repeating the same stack, chances are you are getting a StackOverflowException - common with JSON serialization when you have circular references. Tons of quesions/answers and even tutorials on this - set one side to JsonIgnore in bidirectional relationships. JPA serialization is to/from the database, and those annotations have nothing to do with and no control over JSON serialization."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667145952,"creation_date":1667145952,"answer_id":74254612,"question_id":74252740,"body_markdown":"The problem with serializing a Hostel will be that your Hostel has rooms which point back at the same Hostel. There are many ways to tell your JSON serializer how to handle it. Assuming you are using Jackson, the easiest might be to add the @JsonIgnore annotation on one side that you don&#39;t need serialized. Ie:\r\n\r\n    @Table(name = &quot;rooms&quot;)\r\n    public class Room {\r\n        \r\n        @Id\r\n        int roomNumber;\r\n        int noOfOccupants;\r\n        @OneToOne\r\n        RoomDetail roomDetail;\r\n        @OneToOne\r\n        @JsonIgnore\r\n        Hostel hostel;\r\n        @OneToMany\r\n        List&lt;Student&gt; student;   \r\n    }\r\n\r\nYou will have to look at all your circular references - the entire graph really - and decide what you really want serialized when fetching through REST calls, and how your clients might need to handle the data. ","title":"I want fetch hostel data but shows error. Anyone has solution?","body":"<p>The problem with serializing a Hostel will be that your Hostel has rooms which point back at the same Hostel. There are many ways to tell your JSON serializer how to handle it. Assuming you are using Jackson, the easiest might be to add the @JsonIgnore annotation on one side that you don't need serialized. Ie:</p>\n<pre><code>@Table(name = &quot;rooms&quot;)\npublic class Room {\n    \n    @Id\n    int roomNumber;\n    int noOfOccupants;\n    @OneToOne\n    RoomDetail roomDetail;\n    @OneToOne\n    @JsonIgnore\n    Hostel hostel;\n    @OneToMany\n    List&lt;Student&gt; student;   \n}\n</code></pre>\n<p>You will have to look at all your circular references - the entire graph really - and decide what you really want serialized when fetching through REST calls, and how your clients might need to handle the data.</p>\n"}],"owner":{"account_id":25239323,"reputation":31,"user_id":19073404,"display_name":"Aniket"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1258,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74254612,"answer_count":1,"score":0,"last_activity_date":1667145952,"creation_date":1667130192,"question_id":74252740,"body_markdown":"I am creating application called as hostel management system using spring boot application using JPA repo.\r\nI have added one hostel. then i added rooms, then update hostel to update join table entries.\r\nNow I am trying to fetching hostel.\r\nUnable to fetch hostel data, it shows :\r\n```\r\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\r\nlots of line.............\r\n```\r\n\r\nI have uploaded this project on gitHub : [https://github.com/aniketkadu0/hms_new.git][1]\r\n\r\n**Hostel.java**\r\n```\r\n@Table(name = &quot;hostels&quot;)\r\npublic class Hostel implements Cloneable {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint hostelId;\r\n\tString hostelName;\r\n\tString hostelAddress;\r\n\tString contactPersonName;\r\n\tString contactPersonNumber;\r\n\t\r\n\t@OneToMany\r\n\t@JoinTable(joinColumns = @JoinColumn(\r\n            name = &quot;hostel_id&quot;,\r\n            referencedColumnName = &quot;hostelId&quot;\r\n    ),\r\n    inverseJoinColumns = @JoinColumn(\r\n            name = &quot;room_number&quot;,\r\n            referencedColumnName = &quot;roomNumber&quot;\r\n    ))\r\n\tList&lt;Room&gt; rooms;\r\n\t@OneToOne\r\n\tMess mess;\r\n\t@OneToMany\r\n\tList&lt;Notice&gt; notices;\r\n\t\r\n}\r\n```\r\n\r\n**Room.java**\r\n```\r\n@Table(name = &quot;rooms&quot;)\r\npublic class Room {\r\n\t\r\n\t@Id\r\n\tint roomNumber;\r\n\tint noOfOccupants;\r\n\t@OneToOne\r\n\tRoomDetail roomDetail;\r\n\t@OneToOne\r\n\tHostel hostel;\r\n\t@OneToMany\r\n\tList&lt;Student&gt; student;\r\n\t\r\n}\r\n```\r\n\r\nRoomDetail.java\r\n```\r\n@Entity\r\npublic class RoomDetail {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint roomDetailId;\r\n\tString roomName;\r\n\tint price;\r\n\tint maxOccupants;\r\n}\r\n```\r\n\r\n**hostel JSON**\r\n```\r\n{\r\n    &quot;hostelId&quot;: 1,\r\n    &quot;hostelName&quot;: &quot;Hostel no. 1 Boys Hostel&quot;,\r\n    &quot;hostelAddress&quot;: &quot;building no. 5&quot;,\r\n    &quot;contactPersonName&quot;: &quot;XYZ&quot;,\r\n    &quot;contactPersonNumber&quot;: &quot;9999977777&quot;,\r\n    &quot;rooms&quot;: null,\r\n    &quot;mess&quot;: null,\r\n    &quot;notices&quot;: null\r\n}\r\n```\r\n\r\n**Room JSON**\r\n```\r\n{\r\n\t&quot;noOfOccupants&quot; : 0,\r\n\t&quot;roomDetail&quot; : {\r\n        &quot;roomDetailId&quot; : 1\r\n    } ,\r\n\t&quot;hostel&quot; : {\r\n        &quot;hostelId&quot; : 1\r\n    }\r\n}\r\n```\r\n\r\nAdminService.java\r\n```\r\n@Service\r\npublic class AdminService {\r\n\r\n\t@Autowired\r\n\tHostelDAO hostelDAO;\r\n\t@Autowired\r\n\tRoomDAO roomDAO;\r\n\t@Autowired\r\n\tRoomDetailDAO roomDetailDAO;\r\n\r\n\tpublic Hostel addHostel(Hostel hostel) {\r\n\t\treturn hostelDAO.save(hostel);\r\n\t}\r\n\r\n\tpublic Room addRoom(Room room,int qty,int firstRoomNumber){\r\n\t\t\r\n\t\tOptional&lt;Hostel&gt; hostel = hostelDAO.findById(room.getHostel().getHostelId());\t\r\n\t\tOptional&lt;RoomDetail&gt; roomDetail = roomDetailDAO.findById(room.getRoomDetail().getRoomDetailId());\r\n\t\t\r\n\t\troom.setHostel(hostel.get());\r\n\t\troom.setRoomDetail(roomDetail.get());\r\n\t\t\r\n\t\tList&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\t\r\n\t\troom.setRoomNumber(firstRoomNumber);\r\n\t\tSystem.out.println(room);\r\n\t\t\t\t\r\n\t\tfirstRoomNumber--;\r\n\t\tint i = 1;\r\n\t\twhile( i &lt;= qty) {\r\n\t\t\tRoom newRoom = new Room(room.getRoomNumber(),\r\n\t\t\t\t\t\t\t\t\troom.getNoOfOccupants(),room.getRoomDetail(),\r\n\t\t\t\t\t\t\t\t\troom.getHostel(),room.getStudent());\r\n\t\t\tnewRoom.setRoomNumber(firstRoomNumber + i);\r\n\t\t\trooms.add(newRoom);\r\n\t\t\ti++;\t\r\n\t\t}\r\n\r\n\t\troomDAO.saveAll(rooms);\r\n\t\thostel.get().setRooms(rooms);\r\n\t\thostelDAO.save(hostel.get());\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic List&lt;Hostel&gt; getHostelData() {\r\n\t\treturn hostelDAO.findAll();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/aniketkadu0/hms_new.git","title":"I want fetch hostel data but shows error. Anyone has solution?","body":"<p>I am creating application called as hostel management system using spring boot application using JPA repo.\nI have added one hostel. then i added rooms, then update hostel to update join table entries.\nNow I am trying to fetching hostel.\nUnable to fetch hostel data, it shows :</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n\nlots of line.............\n</code></pre>\n<p>I have uploaded this project on gitHub : <a href=\"https://github.com/aniketkadu0/hms_new.git\" rel=\"nofollow noreferrer\">https://github.com/aniketkadu0/hms_new.git</a></p>\n<p><strong>Hostel.java</strong></p>\n<pre><code>@Table(name = &quot;hostels&quot;)\npublic class Hostel implements Cloneable {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int hostelId;\n    String hostelName;\n    String hostelAddress;\n    String contactPersonName;\n    String contactPersonNumber;\n    \n    @OneToMany\n    @JoinTable(joinColumns = @JoinColumn(\n            name = &quot;hostel_id&quot;,\n            referencedColumnName = &quot;hostelId&quot;\n    ),\n    inverseJoinColumns = @JoinColumn(\n            name = &quot;room_number&quot;,\n            referencedColumnName = &quot;roomNumber&quot;\n    ))\n    List&lt;Room&gt; rooms;\n    @OneToOne\n    Mess mess;\n    @OneToMany\n    List&lt;Notice&gt; notices;\n    \n}\n</code></pre>\n<p><strong>Room.java</strong></p>\n<pre><code>@Table(name = &quot;rooms&quot;)\npublic class Room {\n    \n    @Id\n    int roomNumber;\n    int noOfOccupants;\n    @OneToOne\n    RoomDetail roomDetail;\n    @OneToOne\n    Hostel hostel;\n    @OneToMany\n    List&lt;Student&gt; student;\n    \n}\n</code></pre>\n<p>RoomDetail.java</p>\n<pre><code>@Entity\npublic class RoomDetail {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int roomDetailId;\n    String roomName;\n    int price;\n    int maxOccupants;\n}\n</code></pre>\n<p><strong>hostel JSON</strong></p>\n<pre><code>{\n    &quot;hostelId&quot;: 1,\n    &quot;hostelName&quot;: &quot;Hostel no. 1 Boys Hostel&quot;,\n    &quot;hostelAddress&quot;: &quot;building no. 5&quot;,\n    &quot;contactPersonName&quot;: &quot;XYZ&quot;,\n    &quot;contactPersonNumber&quot;: &quot;9999977777&quot;,\n    &quot;rooms&quot;: null,\n    &quot;mess&quot;: null,\n    &quot;notices&quot;: null\n}\n</code></pre>\n<p><strong>Room JSON</strong></p>\n<pre><code>{\n    &quot;noOfOccupants&quot; : 0,\n    &quot;roomDetail&quot; : {\n        &quot;roomDetailId&quot; : 1\n    } ,\n    &quot;hostel&quot; : {\n        &quot;hostelId&quot; : 1\n    }\n}\n</code></pre>\n<p>AdminService.java</p>\n<pre><code>@Service\npublic class AdminService {\n\n    @Autowired\n    HostelDAO hostelDAO;\n    @Autowired\n    RoomDAO roomDAO;\n    @Autowired\n    RoomDetailDAO roomDetailDAO;\n\n    public Hostel addHostel(Hostel hostel) {\n        return hostelDAO.save(hostel);\n    }\n\n    public Room addRoom(Room room,int qty,int firstRoomNumber){\n        \n        Optional&lt;Hostel&gt; hostel = hostelDAO.findById(room.getHostel().getHostelId());   \n        Optional&lt;RoomDetail&gt; roomDetail = roomDetailDAO.findById(room.getRoomDetail().getRoomDetailId());\n        \n        room.setHostel(hostel.get());\n        room.setRoomDetail(roomDetail.get());\n        \n        List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();   \n        room.setRoomNumber(firstRoomNumber);\n        System.out.println(room);\n                \n        firstRoomNumber--;\n        int i = 1;\n        while( i &lt;= qty) {\n            Room newRoom = new Room(room.getRoomNumber(),\n                                    room.getNoOfOccupants(),room.getRoomDetail(),\n                                    room.getHostel(),room.getStudent());\n            newRoom.setRoomNumber(firstRoomNumber + i);\n            rooms.add(newRoom);\n            i++;    \n        }\n\n        roomDAO.saveAll(rooms);\n        hostel.get().setRooms(rooms);\n        hostelDAO.save(hostel.get());\n        return null;\n    }\n\n    public List&lt;Hostel&gt; getHostelData() {\n        return hostelDAO.findAll();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":0,"creation_date":1667197484,"post_id":74254231,"comment_id":131105040,"body_markdown":"You can initialize in Application class once. No need to re-initialize in every fragment or activity","body":"You can initialize in Application class once. No need to re-initialize in every fragment or activity"}],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667145182,"creation_date":1667145182,"answer_id":74254521,"question_id":74254231,"body_markdown":"It is preferred to initialize when the App starts (In Splash Screen Activity)\r\n\r\n 1. You need to initialize the AdMob one time only not in every Activity or Fragment (After this just load and show the Ads)\r\n\r\n 2. If you want it to initialize in Fragment I&#39;ll suggest you use\r\n    requireActivity() instead of getActivity() method\r\n \r\n","title":"I am trying to initialize admob ads in Fragment of a Android App","body":"<p>It is preferred to initialize when the App starts (In Splash Screen Activity)</p>\n<ol>\n<li><p>You need to initialize the AdMob one time only not in every Activity or Fragment (After this just load and show the Ads)</p>\n</li>\n<li><p>If you want it to initialize in Fragment I'll suggest you use\nrequireActivity() instead of getActivity() method</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26777017,"reputation":1,"user_id":20372489,"display_name":"App Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667145182,"creation_date":1667142840,"question_id":74254231,"body_markdown":"I am trying to initialize admob ads in Fragment of Android App Is this the right way to do it\r\n\r\n`@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\nsuper.onViewCreated(view, savedInstanceState);\r\nMobileAds.initialize(getActivity());\r\n}`\r\n\r\nand do we need to initialize in every Fragment or whether one is enough?\r\n\r\nTried in one fragement ","title":"I am trying to initialize admob ads in Fragment of a Android App","body":"<p>I am trying to initialize admob ads in Fragment of Android App Is this the right way to do it</p>\n<p><code>@Override public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) { super.onViewCreated(view, savedInstanceState); MobileAds.initialize(getActivity()); }</code></p>\n<p>and do we need to initialize in every Fragment or whether one is enough?</p>\n<p>Tried in one fragement</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1471510728,"post_id":39013894,"comment_id":65378582,"body_markdown":"Why do you have *final static* rate. Try to remove these modifiers.","body":"Why do you have <i>final static</i> rate. Try to remove these modifiers."},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510765,"post_id":39013894,"comment_id":65378606,"body_markdown":"@Jens: at the line `@Scheduled(fixedRate = this.rate)`","body":"@Jens: at the line <code>@Scheduled(fixedRate = this.rate)</code>"},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510800,"post_id":39013894,"comment_id":65378631,"body_markdown":"@JanKhonski: Ok, I removed `final static`. Still getting the same error mesaage.","body":"@JanKhonski: Ok, I removed <code>final static</code>. Still getting the same error mesaage."},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1471510810,"post_id":39013894,"comment_id":65378636,"body_markdown":"this.rate -&gt; rate is not object field, but class field","body":"this.rate -&gt; rate is not object field, but class field"},{"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"score":0,"creation_date":1471510868,"post_id":39013894,"comment_id":65378666,"body_markdown":"@JanKhonski: So, how to access it properly?","body":"@JanKhonski: So, how to access it properly?"},{"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"score":0,"creation_date":1631204446,"post_id":39013894,"comment_id":122166116,"body_markdown":"I believe this is correct solution for above question but not complete. if you have refreshScope and you need to refresh property using actuator, this won&#39;t work, you have to use @Value and global var. I am looking for that solution.","body":"I believe this is correct solution for above question but not complete. if you have refreshScope and you need to refresh property using actuator, this won&#39;t work, you have to use @Value and global var. I am looking for that solution."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1471511027,"creation_date":1471510883,"answer_id":39013994,"question_id":39013894,"body_markdown":"Change to:\r\n\r\n\r\n    @Scheduled(fixedRateString = &quot;${update.rate}&quot;)\r\n    public void update()\r\n    {\r\n        System.out.println(this.message);\r\n    }\r\n","title":"Reading from application.properties: Attribute value must be constant","body":"<p>Change to:</p>\n\n<pre><code>@Scheduled(fixedRateString = \"${update.rate}\")\npublic void update()\n{\n    System.out.println(this.message);\n}\n</code></pre>\n"}],"owner":{"account_id":8843411,"reputation":249,"user_id":6605102,"accept_rate":71,"display_name":"HackerDuck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13854,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":39013994,"answer_count":1,"score":12,"last_activity_date":1667144934,"creation_date":1471510581,"question_id":39013894,"body_markdown":"In the below-given code I get the compilation error `Attribute value must be constant`. How to deal with it?\r\n\r\n    @Component\r\n    public class ScheduledTasks {\r\n    \r\n        @Value(&quot;${example}&quot;)\r\n        String message;\r\n    \r\n        @Value(&quot;${update.rate}&quot;)\r\n        final static long rate;\r\n    \r\n        @Scheduled(fixedRate = this.rate)\r\n        public void update()\r\n        {\r\n            System.out.println(this.message);\r\n        }\r\n    }","title":"Reading from application.properties: Attribute value must be constant","body":"<p>In the below-given code I get the compilation error <code>Attribute value must be constant</code>. How to deal with it?</p>\n\n<pre><code>@Component\npublic class ScheduledTasks {\n\n    @Value(\"${example}\")\n    String message;\n\n    @Value(\"${update.rate}\")\n    final static long rate;\n\n    @Scheduled(fixedRate = this.rate)\n    public void update()\n    {\n        System.out.println(this.message);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","queue","pixel","dda"],"comments":[{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":2,"creation_date":1660490228,"post_id":73352751,"comment_id":129540530,"body_markdown":"Look for Bresenham&#39;s line algorithm or DDA (Digital differential analyzer )","body":"Look for Bresenham&#39;s line algorithm or DDA (Digital differential analyzer )"}],"answers":[{"tags":[],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667144274,"creation_date":1667144274,"answer_id":74254414,"question_id":73352751,"body_markdown":"Thanks to the comment on using DDA, the problem I got is now fixed. I have used the following code for the counting of the pixels and storing their coordinates.\r\nI put this code inside the action listener for a mouse click. \r\n```\r\nprivate void counter() {//---------counter takes arguments x and y which are array that contain x1x2 and y1y2 coordinates of 1st and 2nd click\r\n\r\n        int dx = (x[1] - x[0]);\r\n        int dy = (y[1] - y[0]);//---------makes it applicable for both inclinations (if we add up there a math.abs it would work on only the positive inclination line )\r\n        step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\r\n        //------counts howmany pixels are to be recorded\r\n        float Xinc = dx / (float) step;//----slope change with respect to x axis\r\n        float Yinc = dy / (float) step;//----slope change with respect to y axis\r\n        \r\n        tog= new int[step][3];\r\n        tog[0][0]=x[0];\ttog[0][1]=y[0];\r\n        tog[0][2]= (black[0]!=0) ? 1 : 0;//------------Tertiary operator where the condition is true, then while is true\r\n        //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\r\n        float xt=x[0],yt=y[0];\tint i=0, j=1;\r\n        //-------------to get all the coordinates between the 2 points1111\r\n        System.out.println(tog[0][0]+&quot; &quot;+tog[0][1]+&quot; &quot;+tog[0][2]);\r\n        while (j&lt;step){\r\n        \tif(i==2) i=0;\r\n        \txt += Xinc;\r\n            yt += Yinc;\r\n            tog[j][i] = (int)xt;//------tog is the array where you store the coordinates of each pixel that overlaps the line made if the clicked points are connected\r\n            tog[j][i+1] = (int)yt;\r\n           \tj++;\r\n        }\r\n//-------print tog here to see if it has the coordinates or not for check\r\n    }\r\n```","title":"Cant figure this algorithm to pick image pixel by slope approach. (Any other approach is welcome)","body":"<p>Thanks to the comment on using DDA, the problem I got is now fixed. I have used the following code for the counting of the pixels and storing their coordinates.\nI put this code inside the action listener for a mouse click.</p>\n<pre><code>private void counter() {//---------counter takes arguments x and y which are array that contain x1x2 and y1y2 coordinates of 1st and 2nd click\n\n        int dx = (x[1] - x[0]);\n        int dy = (y[1] - y[0]);//---------makes it applicable for both inclinations (if we add up there a math.abs it would work on only the positive inclination line )\n        step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\n        //------counts howmany pixels are to be recorded\n        float Xinc = dx / (float) step;//----slope change with respect to x axis\n        float Yinc = dy / (float) step;//----slope change with respect to y axis\n        \n        tog= new int[step][3];\n        tog[0][0]=x[0]; tog[0][1]=y[0];\n        tog[0][2]= (black[0]!=0) ? 1 : 0;//------------Tertiary operator where the condition is true, then while is true\n        //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\n        float xt=x[0],yt=y[0];  int i=0, j=1;\n        //-------------to get all the coordinates between the 2 points1111\n        System.out.println(tog[0][0]+&quot; &quot;+tog[0][1]+&quot; &quot;+tog[0][2]);\n        while (j&lt;step){\n            if(i==2) i=0;\n            xt += Xinc;\n            yt += Yinc;\n            tog[j][i] = (int)xt;//------tog is the array where you store the coordinates of each pixel that overlaps the line made if the clicked points are connected\n            tog[j][i+1] = (int)yt;\n            j++;\n        }\n//-------print tog here to see if it has the coordinates or not for check\n    }\n</code></pre>\n"}],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74254414,"answer_count":1,"score":0,"last_activity_date":1667144274,"creation_date":1660489936,"question_id":73352751,"body_markdown":"What I&#39;m trying to do is take 2 mouceclick input which gives me pixel coordinate x[0],y[0] and x[1],y[1]. Then I get a queue of array containing pixels coordinate of every pixel where the line joining these points would make. Don&#39;t need the line to be seen at all.\r\n\r\nI decided to take the slope prospective such that **1 pixel change in x coordinate would change\r\n(x[1]-x[0])]/(y[1]-y[0]) in y coordinate**. I keep getting arithmetic error.\r\n\r\nEdit: Used the DDA algorithm and still getting / by zero error even if all values is pre-asigned to something non-zero. \r\n```\r\n  Queue&lt;int[]&gt; queue=new LinkedList&lt;int[]&gt;();\r\n            int dx = Math.abs(x[1] - x[0]);\r\n            int dy = Math.abs(y[1] - y[0]);\r\n            int sx = (x[0] &lt; x[1]) ? 1 : -1;\r\n            int sy = (y[0] &lt; y[1]) ? 1 : -1;\r\n            int err = dx / dy;\r\n            \r\n            int[] tog= {x[0],y[0]};\r\n            queue.add(tog);\t\t\t\t\t//1st pixel into queue. nothing else\r\n\r\n            while(true) {\r\n            \tif (x[0] == x[1] &amp;&amp; y[0] == y[1]) {\r\n                    break;\r\n                }\r\n            \tint e2 = 2 * err;\r\n\r\n                if (e2 &gt; -dy) {\r\n                    err = err - dy;\r\n                    x[0] = x[0] + sx;\r\n                }\r\n                \r\n                if (e2 &lt; dx) {\r\n                    err = err + dx;\r\n                    y[0] = y[0] + sy;\r\n                }\r\n                tog[0]= x[0];\r\n                tog[1]= y[0];\r\n                queue.add(tog);\r\n            }\r\n    System.out.println(queue);\r\n```","title":"Cant figure this algorithm to pick image pixel by slope approach. (Any other approach is welcome)","body":"<p>What I'm trying to do is take 2 mouceclick input which gives me pixel coordinate x[0],y[0] and x[1],y[1]. Then I get a queue of array containing pixels coordinate of every pixel where the line joining these points would make. Don't need the line to be seen at all.</p>\n<p>I decided to take the slope prospective such that <strong>1 pixel change in x coordinate would change\n(x[1]-x[0])]/(y[1]-y[0]) in y coordinate</strong>. I keep getting arithmetic error.</p>\n<p>Edit: Used the DDA algorithm and still getting / by zero error even if all values is pre-asigned to something non-zero.</p>\n<pre><code>  Queue&lt;int[]&gt; queue=new LinkedList&lt;int[]&gt;();\n            int dx = Math.abs(x[1] - x[0]);\n            int dy = Math.abs(y[1] - y[0]);\n            int sx = (x[0] &lt; x[1]) ? 1 : -1;\n            int sy = (y[0] &lt; y[1]) ? 1 : -1;\n            int err = dx / dy;\n            \n            int[] tog= {x[0],y[0]};\n            queue.add(tog);                 //1st pixel into queue. nothing else\n\n            while(true) {\n                if (x[0] == x[1] &amp;&amp; y[0] == y[1]) {\n                    break;\n                }\n                int e2 = 2 * err;\n\n                if (e2 &gt; -dy) {\n                    err = err - dy;\n                    x[0] = x[0] + sx;\n                }\n                \n                if (e2 &lt; dx) {\n                    err = err + dx;\n                    y[0] = y[0] + sy;\n                }\n                tog[0]= x[0];\n                tog[1]= y[0];\n                queue.add(tog);\n            }\n    System.out.println(queue);\n</code></pre>\n"},{"tags":["java","android","vlc","libvlc","subtitle"],"comments":[{"owner":{"account_id":1322576,"reputation":4039,"user_id":1268048,"accept_rate":94,"display_name":"Phil"},"score":0,"creation_date":1655382508,"post_id":68072085,"comment_id":128322408,"body_markdown":"did you ever get this working?  Having the same issue myself.","body":"did you ever get this working?  Having the same issue myself."}],"owner":{"account_id":22012441,"reputation":41,"user_id":16282503,"display_name":"avstreamdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1667144267,"creation_date":1624295558,"question_id":68072085,"body_markdown":"I want to add subtitles in vlc video player by using the SRT format file.\r\n\r\nI used LibVlc in android.\r\n\r\n 1. add libVLC in GRADLE file \r\n\r\n    implementation &#39;org.videolan.android:libvlc-all:3.3.13&#39;\r\n\r\n 2. MoviesDetailsActivity.java\r\n\r\nHere is my code to add subtitles. (MovieDetailsActivity.java)\r\n\r\n\r\n    private void initVideoPlayer() {\r\n     \r\n        ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\r\n        String subtitleUrl = &quot;https://example.com/subtitles/60ccb930346f3.srt&quot;; /* this would be example url, not real */\r\n    \r\n        args.add(&quot;--file-caching=2000&quot;);\r\n        args.add(&quot;-vvv&quot;);\r\n        LibVLC mLibVlc = new LibVLC(MovieDetailsActivity.this, args);\r\n        MediaPlayer mMediaPlayer = new MediaPlayer(mLibVlc);\r\n        mMediaPlayer = new MediaPlayer(mLibVlc);\r\n        mMediaPlayer.setEventListener(this);\r\n        mMediaPlayer.attachViews(videoLayout, null, true, true);\r\n    \r\n        Uri subtitle = Uri.parse(url.toString());\r\n        mMediaPlayer.addSlave(IMedia.Slave.Type.Subtitle, subtitle, true);  /* add subtitles here with URL */\r\n    \r\n        URL url = new URL(movie_url);  // this is movie url\r\n        Uri movie = Uri.parse(url.toString());\r\n        Media media = new Media(mLibVlc, movie); // media source for video\r\n        media.setHWDecoderEnabled(true, false); \r\n        media.addOption(&quot;:network-caching=150&quot;);\r\n        media.addOption(&quot;:clock-jitter=0&quot;);\r\n        media.addOption(&quot;:clock-synchro=0&quot;);\r\n        media.addOption(&quot;:-v&quot;);\r\n        mMediaPlayer.setMedia(media);  // set media \r\n        media.release();\r\n    \r\n        mMediaPlayer.play();\r\n    }\r\n\r\n\r\nI did like this.\r\nBut I can&#39;t see subtitles. only playing video with audio.\r\nIn the EXOPlayer it works well, But in the VLC player, I couldn&#39;t.\r\nWhat is the solution?\r\n\r\n\r\n    \r\n","title":"How to add subtitles vlc player with libvlc programmatically?","body":"<p>I want to add subtitles in vlc video player by using the SRT format file.</p>\n<p>I used LibVlc in android.</p>\n<ol>\n<li><p>add libVLC in GRADLE file</p>\n<p>implementation 'org.videolan.android:libvlc-all:3.3.13'</p>\n</li>\n<li><p>MoviesDetailsActivity.java</p>\n</li>\n</ol>\n<p>Here is my code to add subtitles. (MovieDetailsActivity.java)</p>\n<pre><code>private void initVideoPlayer() {\n \n    ArrayList&lt;String&gt; args = new ArrayList&lt;&gt;();\n    String subtitleUrl = &quot;https://example.com/subtitles/60ccb930346f3.srt&quot;; /* this would be example url, not real */\n\n    args.add(&quot;--file-caching=2000&quot;);\n    args.add(&quot;-vvv&quot;);\n    LibVLC mLibVlc = new LibVLC(MovieDetailsActivity.this, args);\n    MediaPlayer mMediaPlayer = new MediaPlayer(mLibVlc);\n    mMediaPlayer = new MediaPlayer(mLibVlc);\n    mMediaPlayer.setEventListener(this);\n    mMediaPlayer.attachViews(videoLayout, null, true, true);\n\n    Uri subtitle = Uri.parse(url.toString());\n    mMediaPlayer.addSlave(IMedia.Slave.Type.Subtitle, subtitle, true);  /* add subtitles here with URL */\n\n    URL url = new URL(movie_url);  // this is movie url\n    Uri movie = Uri.parse(url.toString());\n    Media media = new Media(mLibVlc, movie); // media source for video\n    media.setHWDecoderEnabled(true, false); \n    media.addOption(&quot;:network-caching=150&quot;);\n    media.addOption(&quot;:clock-jitter=0&quot;);\n    media.addOption(&quot;:clock-synchro=0&quot;);\n    media.addOption(&quot;:-v&quot;);\n    mMediaPlayer.setMedia(media);  // set media \n    media.release();\n\n    mMediaPlayer.play();\n}\n</code></pre>\n<p>I did like this.\nBut I can't see subtitles. only playing video with audio.\nIn the EXOPlayer it works well, But in the VLC player, I couldn't.\nWhat is the solution?</p>\n"},{"tags":["java","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647953719,"creation_date":1647953719,"answer_id":71572427,"question_id":71572027,"body_markdown":"First of all, I would personally consider strictly avoiding CDI annotations in your domain module a little bit overzealous. But if you really want that, I can see 2 options:\r\n\r\n1. You could limit yourself to only placing CDI annotations on your own annotations, and use `@Stereotype`. For example, if your `@DomainService` should be equivalent to `@ApplicationScoped`, it could be declared like this:\r\n\r\n    ```java\r\n    @Stereotype\r\n    @ApplicationScoped\r\n    @Target({ElementType.TYPE})\r\n    @Retention(value = RetentionPolicy.RUNTIME)\r\n    public @interface DomainService {\r\n    }\r\n    ```\r\n\r\n2. If you absolutely insist that no CDI annotation should ever be present in the domain module, you could create a Quarkus extension that would register `@DomainService` as a custom bean defining annotation. The Quarkus CDI Integration guide has more details about that: https://quarkus.io/guides/cdi-integration You would either use `AutoAddScopeBuildItem` or `BeanDefiningAnnotationBuildItem`.","title":"Quarkus CDI with custom annotations","body":"<p>First of all, I would personally consider strictly avoiding CDI annotations in your domain module a little bit overzealous. But if you really want that, I can see 2 options:</p>\n<ol>\n<li><p>You could limit yourself to only placing CDI annotations on your own annotations, and use <code>@Stereotype</code>. For example, if your <code>@DomainService</code> should be equivalent to <code>@ApplicationScoped</code>, it could be declared like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stereotype\n@ApplicationScoped\n@Target({ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface DomainService {\n}\n</code></pre>\n</li>\n<li><p>If you absolutely insist that no CDI annotation should ever be present in the domain module, you could create a Quarkus extension that would register <code>@DomainService</code> as a custom bean defining annotation. The Quarkus CDI Integration guide has more details about that: <a href=\"https://quarkus.io/guides/cdi-integration\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi-integration</a> You would either use <code>AutoAddScopeBuildItem</code> or <code>BeanDefiningAnnotationBuildItem</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9348817,"reputation":39,"user_id":6939223,"display_name":"Hamed Hatami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667142805,"creation_date":1667142805,"answer_id":74254224,"question_id":71572027,"body_markdown":"What an ugly way Spring supplies you for injecting your isolated CDI based domain whereas with CDI standard you would have two ways to add any external CDI beans from a maven dependency into your CDI context during compile-time.\r\n\r\n1) using Jandex Index maven plugin: \r\n\r\n     &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;{jandex-maven-plugin-version}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-index&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;jandex&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n2) configuration level (application.yaml):\r\n\r\nquarkus:    \r\n  index-dependency:\r\n    courtage:\r\n      group-id: org.acme\r\n      artifact-id: my-domain\r\n\r\n","title":"Quarkus CDI with custom annotations","body":"<p>What an ugly way Spring supplies you for injecting your isolated CDI based domain whereas with CDI standard you would have two ways to add any external CDI beans from a maven dependency into your CDI context during compile-time.</p>\n<ol>\n<li><p>using Jandex Index maven plugin:</p>\n  \n   \n     \n       org.jboss.jandex\n       jandex-maven-plugin\n       {jandex-maven-plugin-version}\n       \n         \n           make-index\n           \n             jandex\n           \n         \n       \n     \n   \n \n</li>\n<li><p>configuration level (application.yaml):</p>\n</li>\n</ol>\n<p>quarkus:<br />\nindex-dependency:\ncourtage:\ngroup-id: org.acme\nartifact-id: my-domain</p>\n"}],"owner":{"account_id":2056770,"reputation":343,"user_id":1834304,"display_name":"JYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667142805,"creation_date":1647951859,"question_id":71572027,"body_markdown":"I am currently developing an application respecting as much as possible the principles of hexagonal architecture.\r\n\r\nThus, my &quot;domain&quot; module (groupId: `acme` ; artifactId: `my-domain`) does not depend on any technical framework.\r\n\r\nAll my services are annotated with a custom annotation (itself part of my domain):\r\n\r\n```java\r\npackage acme.domain;\r\n\r\n@Target({ElementType.TYPE})\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\npublic @interface DomainService {\r\n}\r\n```\r\n\r\nHowever, in my &quot;Quarkus application&quot; module  (groupId: `acme` ; artifactId: `app-quarkus`), I need to inject services defined in my &quot;domain&quot; module (`acme:domain`).\r\n\r\nWith SpringBoot, it is [quite easy to inject those domain services (based on a custom annotation)][1] with the following annotation:\r\n\r\n```java\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.FilterType;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(\r\n\tbasePackageClasses = {CourtageSpringbootApplication.class, DomainService.class},\r\n\tincludeFilters = {@ComponentScan.Filter(type = FilterType.ANNOTATION, value = {DomainService.class})}\r\n)\r\npublic class MySpringbootApplication {\r\n}\r\n```\r\n\r\nIs there an equivalent to `@ComponentScan` with Quarkus?\r\n\r\nNB : I have added following lines in `app-quarkus/src/main/resources/application.properties` but it does not work:\r\n```properties\r\nquarkus.index-dependency.courtage.group-id=acme\r\nquarkus.index-dependency.courtage.artifact-id=my-domain\r\n```\r\n\r\nThrown exception: `javax.enterprise.inject.UnsatisfiedResolutionException`\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-componentscan-filter-type","title":"Quarkus CDI with custom annotations","body":"<p>I am currently developing an application respecting as much as possible the principles of hexagonal architecture.</p>\n<p>Thus, my &quot;domain&quot; module (groupId: <code>acme</code> ; artifactId: <code>my-domain</code>) does not depend on any technical framework.</p>\n<p>All my services are annotated with a custom annotation (itself part of my domain):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package acme.domain;\n\n@Target({ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface DomainService {\n}\n</code></pre>\n<p>However, in my &quot;Quarkus application&quot; module  (groupId: <code>acme</code> ; artifactId: <code>app-quarkus</code>), I need to inject services defined in my &quot;domain&quot; module (<code>acme:domain</code>).</p>\n<p>With SpringBoot, it is <a href=\"https://www.baeldung.com/spring-componentscan-filter-type\" rel=\"nofollow noreferrer\">quite easy to inject those domain services (based on a custom annotation)</a> with the following annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.FilterType;\n\n@SpringBootApplication\n@ComponentScan(\n    basePackageClasses = {CourtageSpringbootApplication.class, DomainService.class},\n    includeFilters = {@ComponentScan.Filter(type = FilterType.ANNOTATION, value = {DomainService.class})}\n)\npublic class MySpringbootApplication {\n}\n</code></pre>\n<p>Is there an equivalent to <code>@ComponentScan</code> with Quarkus?</p>\n<p>NB : I have added following lines in <code>app-quarkus/src/main/resources/application.properties</code> but it does not work:</p>\n<pre><code>quarkus.index-dependency.courtage.group-id=acme\nquarkus.index-dependency.courtage.artifact-id=my-domain\n</code></pre>\n<p>Thrown exception: <code>javax.enterprise.inject.UnsatisfiedResolutionException</code></p>\n"},{"tags":["java","security","encryption","aes","rsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1667146545,"post_id":74254222,"comment_id":131096622,"body_markdown":"Decryption must be performed with the private key (belonging to the public key used for encryption), not with the public key, see [RSA](https://en.wikipedia.org/wiki/RSA_(cryptosystem)).","body":"Decryption must be performed with the private key (belonging to the public key used for encryption), not with the public key, see <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)\" rel=\"nofollow noreferrer\">RSA</a>."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1667162834,"post_id":74254222,"comment_id":131100235,"body_markdown":"And as the first step `KeyFactory.generatePrivate` only works on the private key not the public one, hence the method name. And more specifically a private key in PKCS8 unencrypted format (hence the class name `PKCS8EncodedKeySpec`) -- while things other than Java often use the &quot;X.509&quot; format for a public key (when not in a certificate), for a private key quite a few different formats are used that are not supported by Java standardly (you need a third-party library like bouncycastle).","body":"And as the first step <code>KeyFactory.generatePrivate</code> only works on the private key not the public one, hence the method name. And more specifically a private key in PKCS8 unencrypted format (hence the class name <code>PKCS8EncodedKeySpec</code>) -- while things other than Java often use the &quot;X.509&quot; format for a public key (when not in a certificate), for a private key quite a few different formats are used that are not supported by Java standardly (you need a third-party library like bouncycastle)."}],"owner":{"account_id":26045726,"reputation":27,"user_id":19749794,"display_name":"darkman106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667142797,"creation_date":1667142797,"question_id":74254222,"body_markdown":"I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).\r\n\r\nhere below is the code:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.security.*;\r\nimport java.security.spec.EncodedKeySpec;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.spec.IvParameterSpec;\r\n\r\npublic class Main {\r\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(n);\r\n        SecretKey key = keyGenerator.generateKey();\r\n        return key;\r\n    }\r\n    public static IvParameterSpec generateIv() {\r\n        byte[] iv = new byte[128/8];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n\r\n    public static byte[] encryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n\r\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(key);\r\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\r\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\r\n        return encryptedKey;\r\n    }\r\n\r\n    public static SecretKey decryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        byte[] encryptedKey= encryptSymmetricKey(secKey);\r\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(key);\r\n        PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\r\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\r\n        return originalKey;\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\r\n\r\n        SecretKey secKey=generateKey(128);\r\n        IvParameterSpec iv=generateIv();\r\n\r\n        File inputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\r\n        File outputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\r\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\r\n\r\n\r\n        //Decrypt the cipher text using decrypted symmetric key\r\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, decryptSymmetricKey(secKey),iv,outputFile,inputFile);\r\n    }\r\n}\r\n```\r\n\r\nThe Error:\r\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format\r\n\r\n\r\nWhen I encrypt the symmetric key and then decrypt it, I produce an invalid key I guess. How can I solve this problem?","title":"java.security.InvalidKeyException: invalid key format while encrypting and decrypting a file using RSA with symmetrics Key in Java","body":"<p>I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).</p>\n<p>here below is the code:</p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\nimport java.security.spec.EncodedKeySpec;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\npublic class Main {\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGenerator.init(n);\n        SecretKey key = keyGenerator.generateKey();\n        return key;\n    }\n    public static IvParameterSpec generateIv() {\n        byte[] iv = new byte[128/8];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n\n    public static byte[] encryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(key);\n        PublicKey publicKey = keyFactory.generatePublic(keySpec);\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\n        return encryptedKey;\n    }\n\n    public static SecretKey decryptSymmetricKey(SecretKey secKey) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        byte[] encryptedKey= encryptSymmetricKey(secKey);\n        byte[] key = Files.readAllBytes(Paths.get(&quot;publicKey.key&quot;));\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(key);\n        PrivateKey privateKey = keyFactory.generatePrivate(keySpec);\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\n        return originalKey;\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\n\n        SecretKey secKey=generateKey(128);\n        IvParameterSpec iv=generateIv();\n\n        File inputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\n        File outputFile=new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\n\n\n        //Decrypt the cipher text using decrypted symmetric key\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, decryptSymmetricKey(secKey),iv,outputFile,inputFile);\n    }\n}\n</code></pre>\n<p>The Error:\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format</p>\n<p>When I encrypt the symmetric key and then decrypt it, I produce an invalid key I guess. How can I solve this problem?</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667141221,"post_id":74251848,"comment_id":131095510,"body_markdown":"Show the full `com.letoy.main.utils.NameCount` java file","body":"Show the full <code>com.letoy.main.utils.NameCount</code> java file"},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":0,"creation_date":1667142532,"post_id":74251848,"comment_id":131095769,"body_markdown":"Hi, I added relevant information in the question.","body":"Hi, I added relevant information in the question."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667142659,"post_id":74251848,"comment_id":131095794,"body_markdown":"Why can&#39;t you just call the main method of NameCount? You shouldn&#39;t need Spring boot","body":"Why can&#39;t you just call the main method of NameCount? You shouldn&#39;t need Spring boot"},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":0,"creation_date":1667143092,"post_id":74251848,"comment_id":131095881,"body_markdown":"Yeah, I know. I&#39;ve already tried to call the main method , it can works. But I&#39;d like to figure out how to use it with Spring Boot.","body":"Yeah, I know. I&#39;ve already tried to call the main method , it can works. But I&#39;d like to figure out how to use it with Spring Boot."},{"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"score":1,"creation_date":1667148818,"post_id":74251848,"comment_id":131097178,"body_markdown":"Hi, I solved the problem. The reason is Spring&#39;s default package pulgin package all the things into the jar. So hadoop can not find the classes. Then I changed another plugin to package the jar. And it can work!","body":"Hi, I solved the problem. The reason is Spring&#39;s default package pulgin package all the things into the jar. So hadoop can not find the classes. Then I changed another plugin to package the jar. And it can work!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1667169875,"post_id":74251848,"comment_id":131101522,"body_markdown":"Feel free to put your answer below rather than as a comment","body":"Feel free to put your answer below rather than as a comment"}],"owner":{"account_id":26774831,"reputation":1,"user_id":20370632,"display_name":"Letoy Keven"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667142453,"creation_date":1667121864,"question_id":74251848,"body_markdown":"I try to run the job with the Spring Boot, but it always tell me that the mapper class not found. I&#39;ve already set the jarClass and upload the whole application to the server.\r\n\r\n```\r\nprivate static Configuration getConfiguration() {\r\n        Configuration configuration = new Configuration();\r\n        configuration.addResource(&quot;../resources/core-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/hdfs-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/mapred-site.xml&quot;);\r\n        configuration.addResource(&quot;../resources/yarn-site.xml&quot;);\r\n        return configuration;\r\n    }\r\n\r\n    @Override\r\n    public void runJob() {\r\n        Configuration conf = getConfiguration();\r\n        try{\r\n//            File jarFile = EJob.createTempJar(&quot;/home/ubuntu/&quot;);\r\n            Job job = Job.getInstance(conf, &quot;My Count&quot;);\r\n//            job.setJar(String.valueOf(jarFile));\r\n//            ((JobConf) job.getConfiguration()).setJar(jarFile.toString());\r\n            job.setJarByClass(com.letoy.main.utils.NameCount.class);\r\n            FileInputFormat.addInputPath(job, new Path(&quot;/data/text.txt&quot;));\r\n            FileOutputFormat.setOutputPath(job, new Path(&quot;/output/resultCount&quot;));\r\n\r\n            job.setMapOutputKeyClass(Text.class);\r\n            job.setMapOutputValueClass(LongWritable.class);\r\n\r\n            job.setOutputKeyClass(NameCount.NameCountBean.class);\r\n            job.setOutputValueClass(NullWritable.class);\r\n\r\n            job.setMapperClass(NameCount.MyMapper.class);\r\n            job.setReducerClass(NameCount.MyReducer.class);\r\n\r\n            if (job.waitForCompletion(true)) {\r\n                if (job.isSuccessful()) {\r\n                    System.out.println(&quot;Job was successful&quot;);\r\n                } else if (!job.isSuccessful()) {\r\n                    System.out.println(&quot;Job was not successful&quot;);\r\n                }\r\n                System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI try sevral confs but they all failed.\r\n\r\nHere is the NamesCount Source Code:\r\n```\r\npublic class NameCount {\r\n\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\r\n        Job job = new Job();\r\n        job.setJarByClass(NameCount.class);\r\n        job.setJobName(&quot;nameCount&quot;);\r\n\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n\r\n\r\n        job.setMapOutputKeyClass(Text.class);\r\n        job.setMapOutputValueClass(LongWritable.class);\r\n\r\n        job.setOutputKeyClass(NameCountBean.class);\r\n        job.setOutputValueClass(NullWritable.class);\r\n\r\n\r\n        job.setMapperClass(MyMapper.class);\r\n        job.setReducerClass(MyReducer.class);\r\n\r\n\r\n        int returnValue = job.waitForCompletion(true) ? 0 : 1;\r\n\r\n        if (job.isSuccessful()) {\r\n            System.out.println(&quot;Job was successful&quot;);\r\n        } else if (!job.isSuccessful()) {\r\n            System.out.println(&quot;Job was not successful&quot;);\r\n        }\r\n    }\r\n\r\n    public static class MyMapper extends Mapper&lt;LongWritable, Text, Text, LongWritable&gt; {\r\n\r\n        private LongWritable outV = new LongWritable(1);\r\n\r\n        public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n\r\n\r\n            String line = value.toString();\r\n            if (line == null || line.trim().length() == 0) {\r\n                return;\r\n            }\r\n            String[] words = line.split(&quot;\\\\s+&quot;);\r\n            for (String word : words) {\r\n                if (word.contains(&quot;Sherlock&quot;)) {\r\n                    context.write(new Text(&quot;Sherlock&quot;), outV);\r\n                } else if (word.contains(&quot;Watson&quot;)) {\r\n                    context.write(new Text(&quot;Watson&quot;), outV);\r\n                } else if (word.contains(&quot;Jefferson&quot;)) {\r\n                    context.write(new Text(&quot;Jefferson&quot;), outV);\r\n                }\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static class MyReducer extends Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt; {\r\n\r\n\r\n        @Override\r\n        protected void reduce(Text key, Iterable&lt;LongWritable&gt; values, Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt;.Context context) throws IOException, InterruptedException {\r\n            long sum = 0;\r\n            for (LongWritable value : values) {\r\n                sum += value.get();\r\n            }\r\n            NameCountBean nameCountBean = new NameCountBean();\r\n            nameCountBean.setName(key.toString());\r\n            nameCountBean.setCount(sum);\r\n            context.write(nameCountBean, NullWritable.get());\r\n        }\r\n    }\r\n\r\n\r\n    public static class NameCountBean implements WritableComparable&lt;NameCountBean&gt; {\r\n\r\n        private String name;\r\n        private long count;\r\n\r\n        public NameCountBean() {\r\n\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public long getCount() {\r\n            return count;\r\n        }\r\n\r\n        public void setCount(long count) {\r\n            this.count = count;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(NameCountBean o) {\r\n            return Long.compare(count, o.count);\r\n        }\r\n\r\n        @Override\r\n        public void write(DataOutput dataOutput) throws IOException {\r\n            dataOutput.writeUTF(name);\r\n            dataOutput.writeLong(count);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void readFields(DataInput dataInput) throws IOException {\r\n\r\n            name = dataInput.readUTF();\r\n            count = dataInput.readLong();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name+&quot;\\t&quot;+count;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nI set the jar using the job.setJarByClass but it didn&#39;t worked.\r\nThis is the error when running the application:\r\nError: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found","title":"Hadoop java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found","body":"<p>I try to run the job with the Spring Boot, but it always tell me that the mapper class not found. I've already set the jarClass and upload the whole application to the server.</p>\n<pre><code>private static Configuration getConfiguration() {\n        Configuration configuration = new Configuration();\n        configuration.addResource(&quot;../resources/core-site.xml&quot;);\n        configuration.addResource(&quot;../resources/hdfs-site.xml&quot;);\n        configuration.addResource(&quot;../resources/mapred-site.xml&quot;);\n        configuration.addResource(&quot;../resources/yarn-site.xml&quot;);\n        return configuration;\n    }\n\n    @Override\n    public void runJob() {\n        Configuration conf = getConfiguration();\n        try{\n//            File jarFile = EJob.createTempJar(&quot;/home/ubuntu/&quot;);\n            Job job = Job.getInstance(conf, &quot;My Count&quot;);\n//            job.setJar(String.valueOf(jarFile));\n//            ((JobConf) job.getConfiguration()).setJar(jarFile.toString());\n            job.setJarByClass(com.letoy.main.utils.NameCount.class);\n            FileInputFormat.addInputPath(job, new Path(&quot;/data/text.txt&quot;));\n            FileOutputFormat.setOutputPath(job, new Path(&quot;/output/resultCount&quot;));\n\n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(LongWritable.class);\n\n            job.setOutputKeyClass(NameCount.NameCountBean.class);\n            job.setOutputValueClass(NullWritable.class);\n\n            job.setMapperClass(NameCount.MyMapper.class);\n            job.setReducerClass(NameCount.MyReducer.class);\n\n            if (job.waitForCompletion(true)) {\n                if (job.isSuccessful()) {\n                    System.out.println(&quot;Job was successful&quot;);\n                } else if (!job.isSuccessful()) {\n                    System.out.println(&quot;Job was not successful&quot;);\n                }\n                System.exit(job.waitForCompletion(true) ? 0 : 1);\n            }\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I try sevral confs but they all failed.</p>\n<p>Here is the NamesCount Source Code:</p>\n<pre><code>public class NameCount {\n\n\n    public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n        Job job = new Job();\n        job.setJarByClass(NameCount.class);\n        job.setJobName(&quot;nameCount&quot;);\n\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n\n        job.setMapOutputKeyClass(Text.class);\n        job.setMapOutputValueClass(LongWritable.class);\n\n        job.setOutputKeyClass(NameCountBean.class);\n        job.setOutputValueClass(NullWritable.class);\n\n\n        job.setMapperClass(MyMapper.class);\n        job.setReducerClass(MyReducer.class);\n\n\n        int returnValue = job.waitForCompletion(true) ? 0 : 1;\n\n        if (job.isSuccessful()) {\n            System.out.println(&quot;Job was successful&quot;);\n        } else if (!job.isSuccessful()) {\n            System.out.println(&quot;Job was not successful&quot;);\n        }\n    }\n\n    public static class MyMapper extends Mapper&lt;LongWritable, Text, Text, LongWritable&gt; {\n\n        private LongWritable outV = new LongWritable(1);\n\n        public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n\n\n            String line = value.toString();\n            if (line == null || line.trim().length() == 0) {\n                return;\n            }\n            String[] words = line.split(&quot;\\\\s+&quot;);\n            for (String word : words) {\n                if (word.contains(&quot;Sherlock&quot;)) {\n                    context.write(new Text(&quot;Sherlock&quot;), outV);\n                } else if (word.contains(&quot;Watson&quot;)) {\n                    context.write(new Text(&quot;Watson&quot;), outV);\n                } else if (word.contains(&quot;Jefferson&quot;)) {\n                    context.write(new Text(&quot;Jefferson&quot;), outV);\n                }\n\n            }\n\n\n        }\n    }\n\n\n    public static class MyReducer extends Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt; {\n\n\n        @Override\n        protected void reduce(Text key, Iterable&lt;LongWritable&gt; values, Reducer&lt;Text, LongWritable, NameCountBean, NullWritable&gt;.Context context) throws IOException, InterruptedException {\n            long sum = 0;\n            for (LongWritable value : values) {\n                sum += value.get();\n            }\n            NameCountBean nameCountBean = new NameCountBean();\n            nameCountBean.setName(key.toString());\n            nameCountBean.setCount(sum);\n            context.write(nameCountBean, NullWritable.get());\n        }\n    }\n\n\n    public static class NameCountBean implements WritableComparable&lt;NameCountBean&gt; {\n\n        private String name;\n        private long count;\n\n        public NameCountBean() {\n\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public long getCount() {\n            return count;\n        }\n\n        public void setCount(long count) {\n            this.count = count;\n        }\n\n        @Override\n        public int compareTo(NameCountBean o) {\n            return Long.compare(count, o.count);\n        }\n\n        @Override\n        public void write(DataOutput dataOutput) throws IOException {\n            dataOutput.writeUTF(name);\n            dataOutput.writeLong(count);\n\n        }\n\n        @Override\n        public void readFields(DataInput dataInput) throws IOException {\n\n            name = dataInput.readUTF();\n            count = dataInput.readLong();\n        }\n\n        @Override\n        public String toString() {\n            return name+&quot;\\t&quot;+count;\n        }\n    }\n\n}\n</code></pre>\n<p>I set the jar using the job.setJarByClass but it didn't worked.\nThis is the error when running the application:\nError: java.lang.RuntimeException: java.lang.ClassNotFoundException: Class com.letoy.main.utils.NameCount$MyMapper not found</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":17426837,"reputation":11,"user_id":12631600,"display_name":"Bhupesh Patil"},"score":0,"creation_date":1667140180,"post_id":74253685,"comment_id":131095293,"body_markdown":"I have edited the post and added the mock implementation @AlexanderIvanchenko","body":"I have edited the post and added the mock implementation @AlexanderIvanchenko"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667140385,"post_id":74253685,"comment_id":131095328,"body_markdown":"You forget to clarify what&#39;s wrong with the code you&#39;ve posted (show the output you have, and the output you need).","body":"You forget to clarify what&#39;s wrong with the code you&#39;ve posted (show the output you have, and the output you need)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667141604,"post_id":74253685,"comment_id":131095586,"body_markdown":"Your test (unfortunately) has same order (0..3;ab..Bf)...but Tree(sorted) map (at all) sorts by a *key* (+/-comparator). ..if you want to sort the *values*: &quot;double map&quot;!;)","body":"Your test (unfortunately) has same order (0..3;ab..Bf)...but Tree(sorted) map (at all) sorts by a <i>key</i> (+/-comparator). ..if you want to sort the <i>values</i>: &quot;double map&quot;!;)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667141965,"creation_date":1667141534,"answer_id":74254090,"question_id":74253685,"body_markdown":"`TreeMap` maintains the order of entries based on its *Keys*, **not** on its *Values*. Therefore, you can&#39;t instruct it to store the entries in the way you need.\r\n\r\nAs a workaround, you can use a [`LinkedHashMap`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html) which maintains the order of entries were added into the map.\r\n\r\n***Note** that if you update the map afterwards, the order might be disrupted.*\r\n\r\nThat&#39;s how it can be implemented using Stream API and Collector to `toMap()`\r\n\r\n```\r\nMap&lt;Integer, FileMap&gt; fileMap = Map.of(\r\n    0, new FileMap(&quot;abc.txt&quot;, 0),\r\n    1, new FileMap(&quot;abd.txt&quot;, 0),\r\n    2, new FileMap(&quot;abe.txt&quot;, 0),\r\n    3, new FileMap(&quot;abf.txt&quot;, 0)\r\n);\r\n    \r\nMap&lt;Integer, FileMap&gt; result = fileMap.entrySet().stream()\r\n    .sorted(Map.Entry.comparingByValue())\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue,\r\n        (left, right) -&gt; { \r\n            throw new AssertionError(&quot;All Keys in the source are expected to be unique&quot;);\r\n        },\r\n        LinkedHashMap::new\r\n    ));\r\n```\r\n\r\nThe same can be accomplished using plain old imperative programming:\r\n\r\n```\r\nMap&lt;Integer, FileMap&gt; fileMap = Map.of(\r\n    0, new FileMap(&quot;abc.txt&quot;, 0),\r\n    1, new FileMap(&quot;abd.txt&quot;, 0),\r\n    2, new FileMap(&quot;abe.txt&quot;, 0),\r\n    3, new FileMap(&quot;abf.txt&quot;, 0)\r\n);\r\n    \r\nList&lt;Map.Entry&lt;Integer, FileMap&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(fileMap.entrySet());\r\nsortedEntries.sort(Map.Entry.comparingByValue());\r\n        \r\nMap&lt;Integer, FileMap&gt; result = new LinkedHashMap&lt;&gt;();\r\n        \r\nfor (Map.Entry&lt;Integer, FileMap&gt; entry : sortedEntries) {\r\n    result.put(entry.getKey(), entry.getValue());\r\n}\r\n```","title":"How to sort the HashMap based on the value of the Class data member","body":"<p><code>TreeMap</code> maintains the order of entries based on its <em>Keys</em>, <strong>not</strong> on its <em>Values</em>. Therefore, you can't instruct it to store the entries in the way you need.</p>\n<p>As a workaround, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a> which maintains the order of entries were added into the map.</p>\n<p><em><strong>Note</strong> that if you update the map afterwards, the order might be disrupted.</em></p>\n<p>That's how it can be implemented using Stream API and Collector to <code>toMap()</code></p>\n<pre><code>Map&lt;Integer, FileMap&gt; fileMap = Map.of(\n    0, new FileMap(&quot;abc.txt&quot;, 0),\n    1, new FileMap(&quot;abd.txt&quot;, 0),\n    2, new FileMap(&quot;abe.txt&quot;, 0),\n    3, new FileMap(&quot;abf.txt&quot;, 0)\n);\n    \nMap&lt;Integer, FileMap&gt; result = fileMap.entrySet().stream()\n    .sorted(Map.Entry.comparingByValue())\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,\n        Map.Entry::getValue,\n        (left, right) -&gt; { \n            throw new AssertionError(&quot;All Keys in the source are expected to be unique&quot;);\n        },\n        LinkedHashMap::new\n    ));\n</code></pre>\n<p>The same can be accomplished using plain old imperative programming:</p>\n<pre><code>Map&lt;Integer, FileMap&gt; fileMap = Map.of(\n    0, new FileMap(&quot;abc.txt&quot;, 0),\n    1, new FileMap(&quot;abd.txt&quot;, 0),\n    2, new FileMap(&quot;abe.txt&quot;, 0),\n    3, new FileMap(&quot;abf.txt&quot;, 0)\n);\n    \nList&lt;Map.Entry&lt;Integer, FileMap&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(fileMap.entrySet());\nsortedEntries.sort(Map.Entry.comparingByValue());\n        \nMap&lt;Integer, FileMap&gt; result = new LinkedHashMap&lt;&gt;();\n        \nfor (Map.Entry&lt;Integer, FileMap&gt; entry : sortedEntries) {\n    result.put(entry.getKey(), entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":17426837,"reputation":11,"user_id":12631600,"display_name":"Bhupesh Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667149621,"answer_count":1,"score":0,"last_activity_date":1667141965,"creation_date":1667138446,"question_id":74253685,"body_markdown":"I have hashmap as \r\n```\r\nMap&lt;Integer, CustomClass&gt; \r\n``` \r\n\r\nCustomClass is defined as\r\n```\r\n\r\nClass CustomClass {\r\n    String s,\r\n    Integer i\r\n... constructors &amp; getter setters\r\n}\r\n```\r\n\r\nI have the object initialization as \r\n\r\n```\r\nMap&lt;Integer, CustomClass&gt; map = new HashMap&lt;&gt;() \r\n```\r\npopulated with the values.\r\n\r\nI want to sort on the basis of the CustomClass&#39;s String s data member.\r\n\r\nI have tried writing lambda expression but unable to get the proper sorted order map.\r\n\r\n\r\nI have tried mocking the following code\r\n\r\n```\r\nimport java.util.*;\r\n    \r\n    class FileMap implements Comparable&lt;FileMap&gt;{\r\n      private String fileName;\r\n      private int file;\r\n      public FileMap(String fileName, int file){\r\n        this.fileName = fileName;\r\n        this.file = file;\r\n      }\r\n    \r\n      public String getFileName() {\r\n        return fileName;\r\n      }\r\n    \r\n      public void setFileName(String fileName) {\r\n        this.fileName = fileName;\r\n      }\r\n    \r\n      public int getFile() {\r\n        return file;\r\n      }\r\n    \r\n      public void setFile(int file) {\r\n        this.file = file;\r\n      }\r\n    \t@Override\r\n    \tpublic int compareTo(FileMap that){\r\n    \t\treturn this.fileName.compareTo(that.getFileName());\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn this.fileName;\r\n    \t}\r\n    }\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        FileMap fm1 = new FileMap(&quot;abc.txt&quot;, 0);\r\n    \tFileMap fm2 = new FileMap(&quot;abd.txt&quot;, 0);\r\n    \tFileMap fm3 = new FileMap(&quot;abe.txt&quot;, 0);\r\n    \tFileMap fm4 = new FileMap(&quot;abf.txt&quot;, 0);\r\n    \tMap&lt;Integer, FileMap&gt; fileMap = new HashMap&lt;&gt;();\r\n    \t  fileMap.put(0, fm1);\r\n    \t  fileMap.put(1, fm3);\r\n    \t  fileMap.put(2, fm2);\r\n    \t  fileMap.put(3, fm4);\r\n    \tSystem.out.println(fileMap); \r\n    \r\n    \tMap&lt;Integer, FileMap&gt; tree = new TreeMap&lt;&gt;();\r\n    \t  tree.putAll(fileMap);\r\n    \t  System.out.println(tree);\r\n      }\r\n    }\r\n\r\n```","title":"How to sort the HashMap based on the value of the Class data member","body":"<p>I have hashmap as</p>\n<pre><code>Map&lt;Integer, CustomClass&gt; \n</code></pre>\n<p>CustomClass is defined as</p>\n<pre><code>\nClass CustomClass {\n    String s,\n    Integer i\n... constructors &amp; getter setters\n}\n</code></pre>\n<p>I have the object initialization as</p>\n<pre><code>Map&lt;Integer, CustomClass&gt; map = new HashMap&lt;&gt;() \n</code></pre>\n<p>populated with the values.</p>\n<p>I want to sort on the basis of the CustomClass's String s data member.</p>\n<p>I have tried writing lambda expression but unable to get the proper sorted order map.</p>\n<p>I have tried mocking the following code</p>\n<pre><code>import java.util.*;\n    \n    class FileMap implements Comparable&lt;FileMap&gt;{\n      private String fileName;\n      private int file;\n      public FileMap(String fileName, int file){\n        this.fileName = fileName;\n        this.file = file;\n      }\n    \n      public String getFileName() {\n        return fileName;\n      }\n    \n      public void setFileName(String fileName) {\n        this.fileName = fileName;\n      }\n    \n      public int getFile() {\n        return file;\n      }\n    \n      public void setFile(int file) {\n        this.file = file;\n      }\n        @Override\n        public int compareTo(FileMap that){\n            return this.fileName.compareTo(that.getFileName());\n        }\n        @Override\n        public String toString(){\n            return this.fileName;\n        }\n    }\n    class Main {\n      public static void main(String[] args) {\n        FileMap fm1 = new FileMap(&quot;abc.txt&quot;, 0);\n        FileMap fm2 = new FileMap(&quot;abd.txt&quot;, 0);\n        FileMap fm3 = new FileMap(&quot;abe.txt&quot;, 0);\n        FileMap fm4 = new FileMap(&quot;abf.txt&quot;, 0);\n        Map&lt;Integer, FileMap&gt; fileMap = new HashMap&lt;&gt;();\n          fileMap.put(0, fm1);\n          fileMap.put(1, fm3);\n          fileMap.put(2, fm2);\n          fileMap.put(3, fm4);\n        System.out.println(fileMap); \n    \n        Map&lt;Integer, FileMap&gt; tree = new TreeMap&lt;&gt;();\n          tree.putAll(fileMap);\n          System.out.println(tree);\n      }\n    }\n\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666998217,"post_id":74241563,"comment_id":131074843,"body_markdown":"Without seeing code, who knows?  But you do know that the default access is &quot;package&quot;, right?  You have to explicitly mark classes/methods/fields as &quot;public&quot; to get wider access.","body":"Without seeing code, who knows?  But you do know that the default access is &quot;package&quot;, right?  You have to explicitly mark classes/methods/fields as &quot;public&quot; to get wider access."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1666998339,"post_id":74241563,"comment_id":131074865,"body_markdown":"You should avoid placing classes in the root package - you cant import the root package","body":"You should avoid placing classes in the root package - you cant import the root package"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1667015685,"post_id":74241563,"comment_id":131076502,"body_markdown":"it seems you missed to ```import Main``` inside the AnotherClass. However, having a subclass dependent on Main class is strange and may lead to spaghetti code.","body":"it seems you missed to <code>import Main</code> inside the AnotherClass. However, having a subclass dependent on Main class is strange and may lead to spaghetti code."},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667020464,"post_id":74241563,"comment_id":131076915,"body_markdown":"Maybe just try menu &quot;Build -&gt; Rebuild Project&quot; - sometimes IntelliJ is a bit confused. It happens.","body":"Maybe just try menu &quot;Build -&gt; Rebuild Project&quot; - sometimes IntelliJ is a bit confused. It happens."}],"answers":[{"tags":[],"owner":{"account_id":22247857,"reputation":25,"user_id":16481274,"display_name":"RoverKnight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140981,"creation_date":1667140981,"answer_id":74254013,"question_id":74241563,"body_markdown":"I moved the Main class inside a package (which I also called Main), and the other classes are now able to import Main. Thanks @MadProgrammer","title":"Class inside a lower package cannot access Main class, but class in same package as Main can","body":"<p>I moved the Main class inside a package (which I also called Main), and the other classes are now able to import Main. Thanks @MadProgrammer</p>\n"}],"owner":{"account_id":22247857,"reputation":25,"user_id":16481274,"display_name":"RoverKnight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667140981,"creation_date":1666997048,"question_id":74241563,"body_markdown":"As the title already says, for some reason IntelliJ cannot resolve the symbol &quot;Main&quot; in any classes within a package, meaning I cannot access it&#39;s static methods from these classes. However, a class that is on the same &quot;level&quot; as the Main class does recognize the Main class. Why is this?\r\n\r\nI&#39;ve already tried invalidating the caches and have checked and changed the Java SDK used, but to no use unfortunately.\r\n\r\nExample:\r\n```\r\nClass Structure:\r\n&gt; src\r\n  &gt; Main\r\n  &gt; Test\r\n  &gt; A_Package\r\n    &gt; AnotherClass\r\n```\r\nHere, if Main has a static method called main(), the class Test is able to access it via Main.main(). However, putting Main.main() in the class AnotherClass inside the package A_Package will lead to IntelliJ saying &quot;Cannot resolve symbol &#39;Main&#39;.&quot;","title":"Class inside a lower package cannot access Main class, but class in same package as Main can","body":"<p>As the title already says, for some reason IntelliJ cannot resolve the symbol &quot;Main&quot; in any classes within a package, meaning I cannot access it's static methods from these classes. However, a class that is on the same &quot;level&quot; as the Main class does recognize the Main class. Why is this?</p>\n<p>I've already tried invalidating the caches and have checked and changed the Java SDK used, but to no use unfortunately.</p>\n<p>Example:</p>\n<pre><code>Class Structure:\n&gt; src\n  &gt; Main\n  &gt; Test\n  &gt; A_Package\n    &gt; AnotherClass\n</code></pre>\n<p>Here, if Main has a static method called main(), the class Test is able to access it via Main.main(). However, putting Main.main() in the class AnotherClass inside the package A_Package will lead to IntelliJ saying &quot;Cannot resolve symbol 'Main'.&quot;</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666790359,"creation_date":1666790359,"answer_id":74208517,"question_id":74203779,"body_markdown":"As you stated, 255 characters are sometimes 255 bytes but sometimes they are longer. This simple test shows that:\r\n```java\r\nString a = &quot;a&quot;;\r\nSystem.out.println(a);\r\nSystem.out.println((int)a.charAt(0));  \r\nSystem.out.println(Arrays.toString(a.getBytes(StandardCharsets.UTF_8)));\r\n// a\r\n// 97\r\n// [97]\r\n\r\n\r\nString aa = &quot;&#228;&quot;;\r\nSystem.out.println(aa);\r\nSystem.out.println((int)aa.charAt(0));    \r\nSystem.out.println(Arrays.toString(aa.getBytes(StandardCharsets.UTF_8)));\r\n// &#228;\r\n// 228\r\n// [-61, -92]\r\n```\r\n\r\nAs you can see, the `&#228;` letter is part of 0-255 space (8 bytes) but it is represented by array with length = 2\r\n\r\nWhat would I do? From question, I see that you generate the string, and in this new-path generator, I would create chars only in ASCII space (0-127). Then, you will be sure that generated string has one character as one byte, and `string.length()` will be the same as `getBytes().length`\r\n\r\nThe following code snippet shows that at 127th value everything is one byte long, and afterwards it is two byte long array. And you can also use that rule to shorten the string.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 255; i++) {\r\n    char c = (char)i;\r\n    String s = String.valueOf(c);\r\n    System.out.println(i + &quot;-&gt; &quot; + s + &quot; -&gt;&quot; + Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\r\n}\r\n\r\n// ...\r\n// ...\r\n// 125-&gt; } -&gt;[125]\r\n// 126-&gt; ~ -&gt;[126]\r\n// 127-&gt;  -&gt;[127]\r\n// 128-&gt;  -&gt;[-62, -128]\r\n// 129-&gt;  -&gt;[-62, -127]\r\n// 130-&gt;  -&gt;[-62, -126]\r\n\r\n```\r\n","title":"How to trim file segment length, so when written as new filepath is not longer than 255 chars for each segement","body":"<p>As you stated, 255 characters are sometimes 255 bytes but sometimes they are longer. This simple test shows that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a = &quot;a&quot;;\nSystem.out.println(a);\nSystem.out.println((int)a.charAt(0));  \nSystem.out.println(Arrays.toString(a.getBytes(StandardCharsets.UTF_8)));\n// a\n// 97\n// [97]\n\n\nString aa = &quot;&quot;;\nSystem.out.println(aa);\nSystem.out.println((int)aa.charAt(0));    \nSystem.out.println(Arrays.toString(aa.getBytes(StandardCharsets.UTF_8)));\n// \n// 228\n// [-61, -92]\n</code></pre>\n<p>As you can see, the <code></code> letter is part of 0-255 space (8 bytes) but it is represented by array with length = 2</p>\n<p>What would I do? From question, I see that you generate the string, and in this new-path generator, I would create chars only in ASCII space (0-127). Then, you will be sure that generated string has one character as one byte, and <code>string.length()</code> will be the same as <code>getBytes().length</code></p>\n<p>The following code snippet shows that at 127th value everything is one byte long, and afterwards it is two byte long array. And you can also use that rule to shorten the string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 255; i++) {\n    char c = (char)i;\n    String s = String.valueOf(c);\n    System.out.println(i + &quot;-&gt; &quot; + s + &quot; -&gt;&quot; + Arrays.toString(s.getBytes(StandardCharsets.UTF_8)));\n}\n\n// ...\n// ...\n// 125-&gt; } -&gt;[125]\n// 126-&gt; ~ -&gt;[126]\n// 127-&gt;  -&gt;[127]\n// 128-&gt;  -&gt;[-62, -128]\n// 129-&gt;  -&gt;[-62, -127]\n// 130-&gt;  -&gt;[-62, -126]\n\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667140901,"creation_date":1666767565,"question_id":74203779,"body_markdown":"My Java code generates a new path name for an existing file, as part of this, I have to ensure each path segment is no longer than 255 characters because this is illegal for most operating systems.\r\n\r\n```java\r\n// No path component can be longer than 255 chars\r\nString[] pathComponents = splitPath(newPath);\r\nfor(int i=0;i&lt;pathComponents.length - 1;i++) {\r\n    if (pathComponents[i]. length() &gt; MAX_FILELENGTH) {\r\n        String shortened = pathComponents[i].substring(0, MAX_FILELENGTH - 1);\r\n        shortened = shortened.trim();\r\n        sb.append(shortened).append(File.separator);\r\n    }\r\n    else {\r\n        sb.append(pathComponents[i]).append(File.separator);\r\n    }\r\n}\r\n```\r\n\r\nThis works fine most of the time, but it doesn&#39;t work if there are less than 255 Unicode characters but when the Unicode characters are written to the filesystem, some require more than one byte and therefore end up with more than 255 bytes, which isn&#39;t caught by test.\r\n\r\nI can count bytes instead of characters with\r\n\r\n```java\r\nif(pathComponents[i].getBytes(StandardCharsets.UTF_8).length &gt; MAX_FILELENGTH)\r\n```\r\n\r\nI cannot work out a nice way to trim by just the right amount of characters.\r\n\r\n\r\n","title":"How to trim file segment length, so when written as new filepath is not longer than 255 chars for each segement","body":"<p>My Java code generates a new path name for an existing file, as part of this, I have to ensure each path segment is no longer than 255 characters because this is illegal for most operating systems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No path component can be longer than 255 chars\nString[] pathComponents = splitPath(newPath);\nfor(int i=0;i&lt;pathComponents.length - 1;i++) {\n    if (pathComponents[i]. length() &gt; MAX_FILELENGTH) {\n        String shortened = pathComponents[i].substring(0, MAX_FILELENGTH - 1);\n        shortened = shortened.trim();\n        sb.append(shortened).append(File.separator);\n    }\n    else {\n        sb.append(pathComponents[i]).append(File.separator);\n    }\n}\n</code></pre>\n<p>This works fine most of the time, but it doesn't work if there are less than 255 Unicode characters but when the Unicode characters are written to the filesystem, some require more than one byte and therefore end up with more than 255 bytes, which isn't caught by test.</p>\n<p>I can count bytes instead of characters with</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(pathComponents[i].getBytes(StandardCharsets.UTF_8).length &gt; MAX_FILELENGTH)\n</code></pre>\n<p>I cannot work out a nice way to trim by just the right amount of characters.</p>\n"},{"tags":["java","windows","jpackage"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1621447138,"post_id":67607364,"comment_id":119501212,"body_markdown":"When I run `jpackage --help` on Windows, I only see `Valid values are: {&quot;app-image&quot;, &quot;exe&quot;, &quot;msi&quot;}` and as far as I know this is dependent on the platform you&#39;re running on. i.e. I don&#39;t think it&#39;s possible to create an `rpm` on Windows (at least not natively). Though, you might be able to run `jpackage` under WSL to do that, by using a Linux JDK distribution.","body":"When I run <code>jpackage --help</code> on Windows, I only see <code>Valid values are: {&quot;app-image&quot;, &quot;exe&quot;, &quot;msi&quot;}</code> and as far as I know this is dependent on the platform you&#39;re running on. i.e. I don&#39;t think it&#39;s possible to create an <code>rpm</code> on Windows (at least not natively). Though, you might be able to run <code>jpackage</code> under WSL to do that, by using a Linux JDK distribution."},{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1647285879,"post_id":67607364,"comment_id":126328760,"body_markdown":"Yes, that sucks, and Java used to be really multi-platform. One less-than-ideal possibility is to call jpackage once on the desired target OS (Linux in your case), and copy the output files somewhere on the host OS (Windows in your case). You can now call jpackage on the host OS. You can discard all the &quot;runtime/&quot; folder, and copy the content of &quot;app/&quot; folder and replace them inside the target structure. After the merge, you should hopefully get the desired result.","body":"Yes, that sucks, and Java used to be really multi-platform. One less-than-ideal possibility is to call jpackage once on the desired target OS (Linux in your case), and copy the output files somewhere on the host OS (Windows in your case). You can now call jpackage on the host OS. You can discard all the &quot;runtime/&quot; folder, and copy the content of &quot;app/&quot; folder and replace them inside the target structure. After the merge, you should hopefully get the desired result."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639783294,"creation_date":1639783294,"answer_id":70399798,"question_id":67607364,"body_markdown":"If this guy&#39;s presentation is still up to date, jpackage does not support cross platform compilation or cross platform deployment. Just look at the first slide in https://www.youtube.com/watch?v=ZGW9AalZLN4\r\n\r\nThe workaround may be to either involve the correct target machine or try yourself following https://www.oracle.com/technical-resources/articles/javase/javatomac3.html","title":"How can I JPackage an RPM/PKG/DEB on Windows?","body":"<p>If this guy's presentation is still up to date, jpackage does not support cross platform compilation or cross platform deployment. Just look at the first slide in <a href=\"https://www.youtube.com/watch?v=ZGW9AalZLN4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZGW9AalZLN4</a></p>\n<p>The workaround may be to either involve the correct target machine or try yourself following <a href=\"https://www.oracle.com/technical-resources/articles/javase/javatomac3.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/javase/javatomac3.html</a></p>\n"}],"owner":{"account_id":19869748,"reputation":167,"user_id":14556195,"display_name":"Ben Schreiber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667140460,"creation_date":1621442331,"question_id":67607364,"body_markdown":"I am attempting to create an executable for Linux systems using JPackage.\r\nI have successfully created an executable for windows using this command:\r\n\r\n    jpackage --type msi --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --win-shortcut\r\n\r\nHowever, when I attempt to make an RPM or DEB or PKG with this same command\r\n\r\n    jpackage --type rpm --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --linux-shortcut\r\n\r\nI get `Error: Invalid or unsupported type: [rpm]`\r\n\r\nOn the JPackage command docs I can clearly see RPM is an accepted value [allowed values][1]\r\n\r\nHow can I create an RPM/PKG/DEB file file with jpackage on windows?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mR0Tj.png","title":"How can I JPackage an RPM/PKG/DEB on Windows?","body":"<p>I am attempting to create an executable for Linux systems using JPackage.\nI have successfully created an executable for windows using this command:</p>\n<pre><code>jpackage --type msi --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --win-shortcut\n</code></pre>\n<p>However, when I attempt to make an RPM or DEB or PKG with this same command</p>\n<pre><code>jpackage --type rpm --name EzQuiz --description &quot;EzQuiz by Benjamin Schreiber&quot; --app-version 1.0 --input D:\\dev\\IdeaProjects\\fblaproj\\out\\artifacts\\fbla_gui_jar --dest D:\\Users\\Work\\Desktop\\ --main-jar fbla_gui.jar --linux-shortcut\n</code></pre>\n<p>I get <code>Error: Invalid or unsupported type: [rpm]</code></p>\n<p>On the JPackage command docs I can clearly see RPM is an accepted value <a href=\"https://i.stack.imgur.com/mR0Tj.png\" rel=\"nofollow noreferrer\">allowed values</a></p>\n<p>How can I create an RPM/PKG/DEB file file with jpackage on windows?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11791513,"reputation":685,"user_id":9652621,"display_name":"Vishnu"},"score":0,"creation_date":1667140689,"post_id":74253928,"comment_id":131095393,"body_markdown":"you might want to calculate the widths and manually do the rounding of numbers. [here](https://stackoverflow.com/a/64889106/9652621) is a similar answer I wrote a while back, hope it helps. :)","body":"you might want to calculate the widths and manually do the rounding of numbers. <a href=\"https://stackoverflow.com/a/64889106/9652621\">here</a> is a similar answer I wrote a while back, hope it helps. :)"},{"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"score":0,"creation_date":1667141738,"post_id":74253928,"comment_id":131095612,"body_markdown":"that&#39;s pretty much what I was thinking, I had hoped android had something more convenient and simple","body":"that&#39;s pretty much what I was thinking, I had hoped android had something more convenient and simple"},{"owner":{"account_id":11791513,"reputation":685,"user_id":9652621,"display_name":"Vishnu"},"score":0,"creation_date":1667229359,"post_id":74253928,"comment_id":131115075,"body_markdown":"Not to my knowledge, sadly :(","body":"Not to my knowledge, sadly :("}],"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667140373,"creation_date":1667140373,"question_id":74253928,"body_markdown":"Since there are many different phone screen sizes, I&#39;d like to know if there is a smile way to change the display precision of my numbers to change to fit the textview label.  Currently its just hardcoded to a fixed number.\r\n\r\n\t\tTextView field = (TextView)findViewById(R.id.textpercent1);\r\n        double y = 34.434359875385;\r\n\t\tfield.setText(String.format(&quot;%.4f%%&quot;,y));\r\n\r\nOn a small phone, it might want &quot;34.4344%&quot;, on a large phone, maybe &quot;34.43435975%&quot;.  I&#39;d rather not hard code in each possibility.","title":"Set decimal precision based on textview width","body":"<p>Since there are many different phone screen sizes, I'd like to know if there is a smile way to change the display precision of my numbers to change to fit the textview label.  Currently its just hardcoded to a fixed number.</p>\n<pre><code>    TextView field = (TextView)findViewById(R.id.textpercent1);\n    double y = 34.434359875385;\n    field.setText(String.format(&quot;%.4f%%&quot;,y));\n</code></pre>\n<p>On a small phone, it might want &quot;34.4344%&quot;, on a large phone, maybe &quot;34.43435975%&quot;.  I'd rather not hard code in each possibility.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1047244,"reputation":2191,"user_id":1051998,"accept_rate":69,"display_name":"cangrejo"},"score":1,"creation_date":1398682235,"post_id":23339015,"comment_id":35739370,"body_markdown":"Take a look at SortedMap http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html","body":"Take a look at SortedMap <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html</a>"},{"owner":{"account_id":276196,"reputation":12373,"user_id":569497,"accept_rate":84,"display_name":"Selvin"},"score":1,"creation_date":1398682292,"post_id":23339015,"comment_id":35739404,"body_markdown":"Is it mandatory to use java.util.Array.Sort() only? Why don&#39;t you just write your sort method?","body":"Is it mandatory to use java.util.Array.Sort() only? Why don&#39;t you just write your sort method?"},{"owner":{"account_id":276196,"reputation":12373,"user_id":569497,"accept_rate":84,"display_name":"Selvin"},"score":0,"creation_date":1398682347,"post_id":23339015,"comment_id":35739441,"body_markdown":"Its possible with a custom sort method.","body":"Its possible with a custom sort method."},{"owner":{"account_id":453874,"reputation":1117,"user_id":851118,"accept_rate":60,"display_name":"tkokasih"},"score":0,"creation_date":1398682681,"post_id":23339015,"comment_id":35739622,"body_markdown":"There is no information **link** between a and b, so it is not possible. Is using a `Map` also forbidden for this particular educational purpose?","body":"There is no information <b>link</b> between a and b, so it is not possible. Is using a <code>Map</code> also forbidden for this particular educational purpose?"},{"owner":{"account_id":341092,"reputation":2140,"user_id":3075037,"display_name":"Jakub H"},"score":1,"creation_date":1398682795,"post_id":23339015,"comment_id":35739690,"body_markdown":"Writing ambiguous and unclear code doesn&#39;t sound to me as an &quot;educational purpose&quot;. Create additional object and do it properly.","body":"Writing ambiguous and unclear code doesn&#39;t sound to me as an &quot;educational purpose&quot;. Create additional object and do it properly."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":1,"creation_date":1398682897,"post_id":23339015,"comment_id":35739741,"body_markdown":"You&#39;re not understanding me, I&#39;m not doing this just to solve my problem, I want to discover a way of sorting the arrays together using just loops. For me learning isn&#39;t just about finding a solution to a problem, it&#39;s learning all the possible solutions.","body":"You&#39;re not understanding me, I&#39;m not doing this just to solve my problem, I want to discover a way of sorting the arrays together using just loops. For me learning isn&#39;t just about finding a solution to a problem, it&#39;s learning all the possible solutions."},{"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"score":0,"creation_date":1398764325,"post_id":23339015,"comment_id":35779464,"body_markdown":"For all the downvotes on my question, could you tell me where I went wrong and how I can avoid it next time?","body":"For all the downvotes on my question, could you tell me where I went wrong and how I can avoid it next time?"},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423838508,"post_id":23339015,"comment_id":45323171,"body_markdown":"This question makes sense when you have a very big amount of primitive data that you want to sort very fast without the cost of a boxing object. It&#39;s a pity you have to make your own sort code in that case. If your amount of data is &quot;normal&quot; however, don&#39;t use two arrays, but one of a boxing object.","body":"This question makes sense when you have a very big amount of primitive data that you want to sort very fast without the cost of a boxing object. It&#39;s a pity you have to make your own sort code in that case. If your amount of data is &quot;normal&quot; however, don&#39;t use two arrays, but one of a boxing object."},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423838960,"post_id":23339015,"comment_id":45323466,"body_markdown":"Actually you do not have to make your own sort in the case you have huge arrays. Simply make a &quot;index&quot; array than you sort instead of your actual arrays (using a custom comparator)","body":"Actually you do not have to make your own sort in the case you have huge arrays. Simply make a &quot;index&quot; array than you sort instead of your actual arrays (using a custom comparator)"},{"owner":{"account_id":3206370,"reputation":273,"user_id":2707369,"accept_rate":100,"display_name":"Arnaud"},"score":0,"creation_date":1423843341,"post_id":23339015,"comment_id":45326288,"body_markdown":"Have a look at `it.unimi.dsi.fastutil.Arrays.quickSort` (http://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html). It allows you to sort your two arrays by specifying the swap() method.","body":"Have a look at <code>it.unimi.dsi.fastutil.Arrays.quickSort</code> (<a href=\"http://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html\" rel=\"nofollow noreferrer\">fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/Arrays.html</a>&zwnj;&#8203;). It allows you to sort your two arrays by specifying the swap() method."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1398682278,"creation_date":1398682278,"answer_id":23339152,"question_id":23339015,"body_markdown":"You should not have two parallel arrays. Instead, you should have a single array of `WestWingCharacter` objects, where each object would have a field `name` and a field `number`.\r\n\r\nSorting this array by number of by name would then be a piece of cake:\r\n\r\n    Collections.sort(characters, new Comparator&lt;WestWingCharacter&gt;() {\r\n        @Override\r\n        public int compare(WestWingCharacter c1, WestWingCharacter c2) {\r\n            return c1.getName().compareTo(c2.getName();\r\n        }\r\n    });\r\n\r\nor, with Java 8:\r\n\r\n    Collections.sort(characters, Comparator.comparing(WestWingCharacter::getName));\r\n\r\n\r\nJava is an OO language, and you should thus use objects.","title":"Sorting two arrays simultaneously","body":"<p>You should not have two parallel arrays. Instead, you should have a single array of <code>WestWingCharacter</code> objects, where each object would have a field <code>name</code> and a field <code>number</code>.</p>\n\n<p>Sorting this array by number of by name would then be a piece of cake:</p>\n\n<pre><code>Collections.sort(characters, new Comparator&lt;WestWingCharacter&gt;() {\n    @Override\n    public int compare(WestWingCharacter c1, WestWingCharacter c2) {\n        return c1.getName().compareTo(c2.getName();\n    }\n});\n</code></pre>\n\n<p>or, with Java 8:</p>\n\n<pre><code>Collections.sort(characters, Comparator.comparing(WestWingCharacter::getName));\n</code></pre>\n\n<p>Java is an OO language, and you should thus use objects.</p>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398682297,"creation_date":1398682297,"answer_id":23339159,"question_id":23339015,"body_markdown":"What you want is not possible because you don&#39;t know internally how `Arrays.sort` swap the elements in your String array, so there is no way to swap accordingly the elements in the int array.\r\n\r\n\r\nYou should create a class that contains the `String` name and the `int` position as parameter and then sort this class only with the name, providing a custom comparator to `Arrays.sort`.\r\n\r\nIf you want to keep your current code (with 2 arrays, but this not the ideal solution), don&#39;t use `Arrays.sort` and implement your own sorting algorithm. When you swap two names, get the index of them and swap the two integers in the other array accordingly.","title":"Sorting two arrays simultaneously","body":"<p>What you want is not possible because you don't know internally how <code>Arrays.sort</code> swap the elements in your String array, so there is no way to swap accordingly the elements in the int array.</p>\n\n<p>You should create a class that contains the <code>String</code> name and the <code>int</code> position as parameter and then sort this class only with the name, providing a custom comparator to <code>Arrays.sort</code>.</p>\n\n<p>If you want to keep your current code (with 2 arrays, but this not the ideal solution), don't use <code>Arrays.sort</code> and implement your own sorting algorithm. When you swap two names, get the index of them and swap the two integers in the other array accordingly.</p>\n"},{"tags":[],"owner":{"account_id":2133765,"reputation":27244,"user_id":1893995,"accept_rate":96,"display_name":"Pablo Francisco P&#233;rez Hidalgo"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1398682992,"creation_date":1398682361,"answer_id":23339191,"question_id":23339015,"body_markdown":"You have to ZIP your two arrays into an array which elements are instances of a class like:\r\n\r\n    class NameNumber \r\n    {\r\n\r\n        public NameNumber(String name, int n) {\r\n            this.name = name;\r\n            this.number = n;\r\n        }\r\n\r\n        public String name;\r\n        public int number;\r\n    }  \r\n\r\n\r\nAnd sort that array with a [custom comparator][1].\r\n\r\nYour code should be something like:\r\n\r\n    NameNumber [] zip = new NameNumber[Math.min(a.length,b.length)];\r\n    for(int i = 0; i &lt; zip.length; i++)\r\n    {\r\n        zip[i] = new NameNumber(a[i],b[i]);\r\n    }\r\n\r\n    Arrays.sort(zip, new Comparator&lt;NameNumber&gt;() {\r\n\r\n        @Override\r\n        public int compare(NameNumber o1, NameNumber o2) {\r\n            return Integer.compare(o1.number, o2.number);\r\n        }\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator","title":"Sorting two arrays simultaneously","body":"<p>You have to ZIP your two arrays into an array which elements are instances of a class like:</p>\n\n<pre><code>class NameNumber \n{\n\n    public NameNumber(String name, int n) {\n        this.name = name;\n        this.number = n;\n    }\n\n    public String name;\n    public int number;\n}  \n</code></pre>\n\n<p>And sort that array with a <a href=\"https://stackoverflow.com/questions/3699141/how-to-sort-an-array-of-ints-using-a-custom-comparator\">custom comparator</a>.</p>\n\n<p>Your code should be something like:</p>\n\n<pre><code>NameNumber [] zip = new NameNumber[Math.min(a.length,b.length)];\nfor(int i = 0; i &lt; zip.length; i++)\n{\n    zip[i] = new NameNumber(a[i],b[i]);\n}\n\nArrays.sort(zip, new Comparator&lt;NameNumber&gt;() {\n\n    @Override\n    public int compare(NameNumber o1, NameNumber o2) {\n        return Integer.compare(o1.number, o2.number);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3880498,"reputation":1594,"user_id":3213157,"accept_rate":84,"display_name":"NRKirby"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1398682411,"creation_date":1398682411,"answer_id":23339213,"question_id":23339015,"body_markdown":"The arrays are not linked in any way. Like someone pointed out take a look at \r\n\r\n`SortedMap` http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\r\n\r\n`TreeMap` http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","title":"Sorting two arrays simultaneously","body":"<p>The arrays are not linked in any way. Like someone pointed out take a look at </p>\n\n<p><code>SortedMap</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html</a></p>\n\n<p><code>TreeMap</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html</a></p>\n"},{"tags":[],"owner":{"account_id":1802675,"reputation":505,"user_id":3150733,"accept_rate":33,"display_name":"Prashant Gurav"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1405339614,"creation_date":1398684039,"answer_id":23339753,"question_id":23339015,"body_markdown":"Below is the code without using any `Map` Collection, but if you want to use `Map` then it becomes very easy. Add both the arrays into map and sort it.\r\n\r\n    public static void main(String args[]) {\r\n        String a[] = new String[] {\r\n            &quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;\r\n        };\r\n        int b[] = new int[] {\r\n            1, 2, 3, 4, 5\r\n        };\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            System.out.print(a[n] + &quot;...&quot;);\r\n            System.out.println(b[n]);\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n        //java.util.Arrays.sort(a);\r\n        /* Bubble Sort */\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            for (int m = 0; m &lt; 4 - n; m++) {\r\n                if ((a[m].compareTo(a[m + 1])) &gt; 0) {\r\n                    String swapString = a[m];\r\n                    a[m] = a[m + 1];\r\n                    a[m + 1] = swapString;\r\n                    int swapInt = b[m];\r\n                    b[m] = b[m + 1];\r\n                    b[m + 1] = swapInt;\r\n                }\r\n            }\r\n        }\r\n        for (int n = 0; n &lt; 5; n++) {\r\n            System.out.print(a[n] + &quot;...&quot;);\r\n            System.out.println(b[n]);\r\n        }\r\n    }","title":"Sorting two arrays simultaneously","body":"<p>Below is the code without using any <code>Map</code> Collection, but if you want to use <code>Map</code> then it becomes very easy. Add both the arrays into map and sort it.</p>\n\n<pre><code>public static void main(String args[]) {\n    String a[] = new String[] {\n        \"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"\n    };\n    int b[] = new int[] {\n        1, 2, 3, 4, 5\n    };\n    for (int n = 0; n &lt; 5; n++) {\n        System.out.print(a[n] + \"...\");\n        System.out.println(b[n]);\n    }\n    System.out.println(\" \");\n    //java.util.Arrays.sort(a);\n    /* Bubble Sort */\n    for (int n = 0; n &lt; 5; n++) {\n        for (int m = 0; m &lt; 4 - n; m++) {\n            if ((a[m].compareTo(a[m + 1])) &gt; 0) {\n                String swapString = a[m];\n                a[m] = a[m + 1];\n                a[m + 1] = swapString;\n                int swapInt = b[m];\n                b[m] = b[m + 1];\n                b[m + 1] = swapInt;\n            }\n        }\n    }\n    for (int n = 0; n &lt; 5; n++) {\n        System.out.print(a[n] + \"...\");\n        System.out.println(b[n]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11858232,"reputation":1,"user_id":8677691,"display_name":"Ravi Midathala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506443310,"creation_date":1506441811,"answer_id":46431135,"question_id":23339015,"body_markdown":"Here is the answer for your query.\r\n\r\n    public class Main {\r\n      public static void main(String args[]){\r\n    \r\n      String name[] = new String[] {&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n            int id[] = new int[] {1, 2, 3, 4, 5};\r\n     \r\n            for ( int i = 0; i &lt; n; i++) {\r\n                for (int j = i + 1; j &lt; n; j++) {\r\n                    int dtmp=0;\r\n                    String stmp=null;\r\n                    if (id[i] &gt; id[j]) {\r\n                        dtmp = rate[i];\r\n                        id[i] = id[j];\r\n                        id[j] = dtmp;\r\n                        stmp = name[i];\r\n                        name[i]=name[j];\r\n                        name[j]=stmp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;Details are :&quot;);\r\n            for(int i=0;i&lt;n;i++){\r\n                System.out.println(name[i]+&quot; - &quot;+id[i]);\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Sorting two arrays simultaneously","body":"<p>Here is the answer for your query.</p>\n\n<pre><code>public class Main {\n  public static void main(String args[]){\n\n  String name[] = new String[] {\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n        int id[] = new int[] {1, 2, 3, 4, 5};\n\n        for ( int i = 0; i &lt; n; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                int dtmp=0;\n                String stmp=null;\n                if (id[i] &gt; id[j]) {\n                    dtmp = rate[i];\n                    id[i] = id[j];\n                    id[j] = dtmp;\n                    stmp = name[i];\n                    name[i]=name[j];\n                    name[j]=stmp;\n                }\n            }\n        }\n        System.out.println(\"Details are :\");\n        for(int i=0;i&lt;n;i++){\n            System.out.println(name[i]+\" - \"+id[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873870,"reputation":47256,"user_id":924109,"accept_rate":86,"display_name":"Rok Kralj"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1508880476,"creation_date":1508880476,"answer_id":46920320,"question_id":23339015,"body_markdown":"Some people propose making a product type. That is feasible only if the amount of elements is small. By introducing another object you add object overhead (30+ bytes) for each element and a performance penalty of a pointer (also worsening cache locality).\r\n\r\nSolution without object overhead\r\n===\r\n\r\nMake a third array. Fill it with indices from `0` to `size-1`. Sort this array with comparator function polling into the array according to which you want to sort.\r\n\r\nFinally, reorder the elements in both arrays according to indices.\r\n\r\nAlternative solution\r\n===\r\nWrite the sorting algorithm yourself. This is not ideal, because you might make a mistake and the sorting efficiency might be subpar.","title":"Sorting two arrays simultaneously","body":"<p>Some people propose making a product type. That is feasible only if the amount of elements is small. By introducing another object you add object overhead (30+ bytes) for each element and a performance penalty of a pointer (also worsening cache locality).</p>\n\n<h1>Solution without object overhead</h1>\n\n<p>Make a third array. Fill it with indices from <code>0</code> to <code>size-1</code>. Sort this array with comparator function polling into the array according to which you want to sort.</p>\n\n<p>Finally, reorder the elements in both arrays according to indices.</p>\n\n<h1>Alternative solution</h1>\n\n<p>Write the sorting algorithm yourself. This is not ideal, because you might make a mistake and the sorting efficiency might be subpar.</p>\n"},{"tags":[],"owner":{"account_id":7177767,"reputation":199,"user_id":5483010,"display_name":"Gaurav londhe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581958228,"creation_date":1581957583,"answer_id":60266884,"question_id":23339015,"body_markdown":"       import java.util.*;\r\n    \r\n    class mergeArrays2\r\n    {\r\n      public static void main(String args[])\r\n      {\r\n         String a1[]={&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n    \t Integer a2[]={11, 2, 31, 24, 5};\r\n    \t \r\n    \t ArrayList ar1=new ArrayList(Arrays.asList(a1));\r\n    \t \r\n    \t Collections.sort(ar1);\r\n    \t \r\n    \t ArrayList ar2=new ArrayList(Arrays.asList(a2));\r\n    \t \r\n    \t Collections.sort(ar2);\r\n    \t\r\n    \t \r\n    \t \r\n    \t \r\n    \t \r\n    \t System.out.println(&quot;array list&quot;+ar1+ &quot; &quot;+ar2);\r\n      }\r\n      \r\n    }","title":"Sorting two arrays simultaneously","body":"<pre><code>   import java.util.*;\n\nclass mergeArrays2\n{\n  public static void main(String args[])\n  {\n     String a1[]={\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n     Integer a2[]={11, 2, 31, 24, 5};\n\n     ArrayList ar1=new ArrayList(Arrays.asList(a1));\n\n     Collections.sort(ar1);\n\n     ArrayList ar2=new ArrayList(Arrays.asList(a2));\n\n     Collections.sort(ar2);\n\n\n\n\n\n     System.out.println(\"array list\"+ar1+ \" \"+ar2);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114505,"reputation":21,"user_id":7473644,"display_name":"Santiago Egido Arteaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140256,"creation_date":1667140256,"answer_id":74253912,"question_id":23339015,"body_markdown":"The same solution, as a function that can be added to some utils class:\r\n\r\n\r\n    public static final boolean INCREASING = true;\r\n    public static final boolean DECREASING = false;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends Comparable, U extends Object&gt; void bubbleSort(ArrayList&lt;T&gt; list1, ArrayList&lt;U&gt;list2, boolean order) {\r\n      int cmpResult = (order ? 1 : -1);\r\n      for (int i = 0; i &lt; list1.size() - 1; i++) {\r\n        for (int j = 0; j &lt;= i; j++) {\r\n          if (list1.get(j).compareTo(list1.get(j+1)) == cmpResult) {\r\n            T tempComparable = list1.get(j);\r\n            list1.set(j      , list1.get(j + 1));\r\n            list1.set(j + 1  , tempComparable);\r\n            U tempObject     = list2.get(j);\r\n            list2.set(j      , list2.get(j + 1));\r\n            list2.set(j + 1  , tempObject);\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"Sorting two arrays simultaneously","body":"<p>The same solution, as a function that can be added to some utils class:</p>\n<pre><code>public static final boolean INCREASING = true;\npublic static final boolean DECREASING = false;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T extends Comparable, U extends Object&gt; void bubbleSort(ArrayList&lt;T&gt; list1, ArrayList&lt;U&gt;list2, boolean order) {\n  int cmpResult = (order ? 1 : -1);\n  for (int i = 0; i &lt; list1.size() - 1; i++) {\n    for (int j = 0; j &lt;= i; j++) {\n      if (list1.get(j).compareTo(list1.get(j+1)) == cmpResult) {\n        T tempComparable = list1.get(j);\n        list1.set(j      , list1.get(j + 1));\n        list1.set(j + 1  , tempComparable);\n        U tempObject     = list2.get(j);\n        list2.set(j      , list2.get(j + 1));\n        list2.set(j + 1  , tempObject);\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2366601,"reputation":362,"user_id":2799902,"accept_rate":75,"display_name":"Vedant Chandra"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32248,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":23339753,"answer_count":9,"score":5,"last_activity_date":1667140256,"creation_date":1398681912,"question_id":23339015,"body_markdown":"I&#39;m learning and understanding Java now, and while practising with arrays I had a doubt. I wrote the following code as an example:\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    class example\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tString a[] = new String[] {&quot;Sam&quot;, &quot;Claudia&quot;, &quot;Josh&quot;, &quot;Toby&quot;, &quot;Donna&quot;};\r\n    \t\tint b[] = new int[] {1, 2, 3, 4, 5};\r\n    \r\n    \t\tfor(int n=0;n&lt;5;n++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print (a[n] + &quot;...&quot;);\r\n    \t\t\tSystem.out.println (b[n]);\r\n    \t\t}\r\n    \t\tSystem.out.println (&quot; &quot;);\r\n    \t\t\r\n    \t\tjava.util.Arrays.sort(a);\r\n    \r\n    \t\tfor(int n=0;n&lt;5;n++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print (a[n] + &quot;...&quot;);\r\n    \t\t\tSystem.out.println (b[n]);\r\n    \t\t}\r\n    \t}\r\n\r\nIn a nutshell, this class created two arrays with five spaces each. It fills one with names of characters from the West Wing, and fills the other with numbering from one to five. We can say that the data in these two strings corresponds to each other.\r\n\r\nNow, the program sorts the array with the names in it using `Arrays.sort()`. After printing the array again, you can see that while the names are now in alphabetical order, the numbers do not correspond anymore as the second array is unchanged.\r\n\r\n**How can I shuffle the contents of the second array to match the sort requirements of the first?** The solution must also be flexible to allow for changes in the scope and size of the program. Please do not post any answers asking me to change my methodology with the arrays, or propose a more &#39;efficient&#39; way of doing things. This is for educational purposed and I&#39;d like a straight solution to the example code provided. Thanks in advance!\r\n\r\n**EDIT: I do NOT want to create an additional class, however I think some form of sorting through nested loops might be an option instead of Arrays.sort().**","title":"Sorting two arrays simultaneously","body":"<p>I'm learning and understanding Java now, and while practising with arrays I had a doubt. I wrote the following code as an example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class example\n{\n    public static void main(String args[])\n    {\n        String a[] = new String[] {\"Sam\", \"Claudia\", \"Josh\", \"Toby\", \"Donna\"};\n        int b[] = new int[] {1, 2, 3, 4, 5};\n\n        for(int n=0;n&lt;5;n++)\n        {\n            System.out.print (a[n] + \"...\");\n            System.out.println (b[n]);\n        }\n        System.out.println (\" \");\n\n        java.util.Arrays.sort(a);\n\n        for(int n=0;n&lt;5;n++)\n        {\n            System.out.print (a[n] + \"...\");\n            System.out.println (b[n]);\n        }\n    }\n</code></pre>\n\n<p>In a nutshell, this class created two arrays with five spaces each. It fills one with names of characters from the West Wing, and fills the other with numbering from one to five. We can say that the data in these two strings corresponds to each other.</p>\n\n<p>Now, the program sorts the array with the names in it using <code>Arrays.sort()</code>. After printing the array again, you can see that while the names are now in alphabetical order, the numbers do not correspond anymore as the second array is unchanged.</p>\n\n<p><strong>How can I shuffle the contents of the second array to match the sort requirements of the first?</strong> The solution must also be flexible to allow for changes in the scope and size of the program. Please do not post any answers asking me to change my methodology with the arrays, or propose a more 'efficient' way of doing things. This is for educational purposed and I'd like a straight solution to the example code provided. Thanks in advance!</p>\n\n<p><strong>EDIT: I do NOT want to create an additional class, however I think some form of sorting through nested loops might be an option instead of Arrays.sort().</strong></p>\n"},{"tags":["java","genetic-algorithm","crossover"],"answers":[{"tags":[],"owner":{"account_id":464675,"reputation":834,"user_id":868337,"display_name":"Franz Wilhelmst&#246;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667140036,"creation_date":1667140036,"answer_id":74253883,"question_id":74248824,"body_markdown":"You need to search for &quot;partially matched crossover&quot;. This crossover algorithm has the property you needed. The [Jenetics][1] library has an implementation for this use-case ([PartiallyMatchedCrossover.java][2]).\r\n\r\n\r\n  [1]: https://jenetics.io/\r\n  [2]: https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/PartiallyMatchedCrossover.java","title":"Crossover function in genetic algorithm to provide full set of tests and unique values in Java","body":"<p>You need to search for &quot;partially matched crossover&quot;. This crossover algorithm has the property you needed. The <a href=\"https://jenetics.io/\" rel=\"nofollow noreferrer\">Jenetics</a> library has an implementation for this use-case (<a href=\"https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/PartiallyMatchedCrossover.java\" rel=\"nofollow noreferrer\">PartiallyMatchedCrossover.java</a>).</p>\n"}],"owner":{"account_id":21834198,"reputation":53,"user_id":16128731,"display_name":"andsemenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667140036,"creation_date":1667077475,"question_id":74248824,"body_markdown":"I am trying to implement genetic algorithm for permutation problem. I have a file with results of tests and faults which were found during the tests, I need to find the optimal way to permutate the tests.\r\nI need some crossover function to mate genes of the fittest and second fittest chromosomes, which are the lists of strings, the strings are keys in LinkedHashMap, so the lists should contain the same set of strings, but in a different order.  \r\nFor instance, \r\nt1, t4, t2, t3, t0 \r\nor \r\nt4, t3, t2, t1, t0\r\n\r\nMy code:\r\n\r\n    static void crossover() {\r\n        //Select a random crossover point\r\n        int crossOverPoint = rand.nextInt(population.chromosomes[0].genes.size());\r\n        //\r\n        System.out.println(&quot;it&#39;s crossover time&quot;);\r\n        System.out.println(&quot;crossover point &quot; + crossOverPoint);\r\n        System.out.println(&quot;fittest before &quot; + fittest.genes);\r\n        System.out.println(&quot;second fittest &quot; + secondFittest.genes);\r\n        //\r\n    \r\n        //Swap values among parents\r\n        for (int i = 0; i &lt; crossOverPoint; i++) {\r\n            String temp = fittest.genes.get(i);\r\n            fittest.genes.set(i, secondFittest.genes.get(i));\r\n            secondFittest.genes.set(i, temp);\r\n        }\r\n    \r\n    \r\n        System.out.println(&quot;fittest after &quot; + fittest.genes);\r\n        System.out.println(&quot;second fittest after &quot; + secondFittest.genes);\r\n    \r\n    }\r\nI have created a function which for random crossover point replaces elements of the lists, but I need to make the sets valid  all elements should be unique to avoid doubled keys in the LinkedHashMap.\r\nFor instance,\r\n\r\nIf I have the fittest and second fittest, \r\n\r\nt1, t4, t2, t3, t0\r\n\r\nt4, t3, t2, t1, t0\r\n\r\nAnd crossing point 2, I will get following offspring\r\n\r\nt1, t4 |t2, t1, t0\r\n\r\nt4, t3, |t2, t3, t0\r\n\r\nAnd both will become invalid because we have doubled key t1 in the first and no t3,\r\nand second has doubled t3  and no t1\r\n\r\nWould appreciate any help. Thank you.\r\n","title":"Crossover function in genetic algorithm to provide full set of tests and unique values in Java","body":"<p>I am trying to implement genetic algorithm for permutation problem. I have a file with results of tests and faults which were found during the tests, I need to find the optimal way to permutate the tests.\nI need some crossover function to mate genes of the fittest and second fittest chromosomes, which are the lists of strings, the strings are keys in LinkedHashMap, so the lists should contain the same set of strings, but in a different order.<br />\nFor instance,\nt1, t4, t2, t3, t0\nor\nt4, t3, t2, t1, t0</p>\n<p>My code:</p>\n<pre><code>static void crossover() {\n    //Select a random crossover point\n    int crossOverPoint = rand.nextInt(population.chromosomes[0].genes.size());\n    //\n    System.out.println(&quot;it's crossover time&quot;);\n    System.out.println(&quot;crossover point &quot; + crossOverPoint);\n    System.out.println(&quot;fittest before &quot; + fittest.genes);\n    System.out.println(&quot;second fittest &quot; + secondFittest.genes);\n    //\n\n    //Swap values among parents\n    for (int i = 0; i &lt; crossOverPoint; i++) {\n        String temp = fittest.genes.get(i);\n        fittest.genes.set(i, secondFittest.genes.get(i));\n        secondFittest.genes.set(i, temp);\n    }\n\n\n    System.out.println(&quot;fittest after &quot; + fittest.genes);\n    System.out.println(&quot;second fittest after &quot; + secondFittest.genes);\n\n}\n</code></pre>\n<p>I have created a function which for random crossover point replaces elements of the lists, but I need to make the sets valid  all elements should be unique to avoid doubled keys in the LinkedHashMap.\nFor instance,</p>\n<p>If I have the fittest and second fittest,</p>\n<p>t1, t4, t2, t3, t0</p>\n<p>t4, t3, t2, t1, t0</p>\n<p>And crossing point 2, I will get following offspring</p>\n<p>t1, t4 |t2, t1, t0</p>\n<p>t4, t3, |t2, t3, t0</p>\n<p>And both will become invalid because we have doubled key t1 in the first and no t3,\nand second has doubled t3  and no t1</p>\n<p>Would appreciate any help. Thank you.</p>\n"},{"tags":["java","arrays","string","string-concatenation"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667139603,"creation_date":1667137565,"answer_id":74253578,"question_id":74253436,"body_markdown":"Avoid concatenating string in the loop, each concatenation `str1 + str2` in a new string stored as a separate object. As the consequence of this, lots of intermediate strings which you don&#39;t need would be created.\r\n\r\nUse `StringBuilder` or other built-in mechanisms when you need to join together more than just a couple of strings.\r\n\r\n# Collectors.joining()\r\n\r\nIt can be done with Stream API using built-in Collector [`joning()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)):\r\n\r\n```\r\nString[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\r\n    \r\nString result = Arrays.stream(tempArray)\r\n    .filter(str -&gt; !str.endsWith(&quot;suryavanshi&quot;)) // retain only elements which don&#39;t end with &quot;suryavanshi&quot;\r\n    .collect(Collectors.joining(&quot;, &quot;));\r\n```\r\n\r\n# StringJoiner\r\n\r\nAlternatively, you can use a so-called [enhanced `for`-loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) (also known as *for-each*) and [`StringJoiner`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html) :\r\n\r\n```\r\nStringJoiner joiner = new StringJoiner(&quot;, &quot;);\r\n    \r\nfor (String str : tempArray) {\r\n    if (str.endsWith(&quot;suryavanshi&quot;)) continue;\r\n    \r\n    joiner.add(str);\r\n}\r\n        \r\nString result = joiner.toString();\r\n```","title":"Discard elements of a String Array matching a specific criterion and Join them together without using indices","body":"<p>Avoid concatenating string in the loop, each concatenation <code>str1 + str2</code> in a new string stored as a separate object. As the consequence of this, lots of intermediate strings which you don't need would be created.</p>\n<p>Use <code>StringBuilder</code> or other built-in mechanisms when you need to join together more than just a couple of strings.</p>\n<h1>Collectors.joining()</h1>\n<p>It can be done with Stream API using built-in Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>joning()</code></a>:</p>\n<pre><code>String[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\n    \nString result = Arrays.stream(tempArray)\n    .filter(str -&gt; !str.endsWith(&quot;suryavanshi&quot;)) // retain only elements which don't end with &quot;suryavanshi&quot;\n    .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<h1>StringJoiner</h1>\n<p>Alternatively, you can use a so-called <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">enhanced <code>for</code>-loop</a> (also known as <em>for-each</em>) and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> :</p>\n<pre><code>StringJoiner joiner = new StringJoiner(&quot;, &quot;);\n    \nfor (String str : tempArray) {\n    if (str.endsWith(&quot;suryavanshi&quot;)) continue;\n    \n    joiner.add(str);\n}\n        \nString result = joiner.toString();\n</code></pre>\n"}],"owner":{"account_id":23181722,"reputation":13,"user_id":17279459,"display_name":"Rakesh Bhagat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74253578,"answer_count":1,"score":1,"last_activity_date":1667139603,"creation_date":1667136330,"question_id":74253436,"body_markdown":"I have a string array of full names with different surnames, i.e.\r\n```\r\nString[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\r\n```\r\nI want to create a new string of all names except one name, i.e.\r\n```\r\ntemp = &quot;rakesh bhagat, mayur suryavanshi, prathamesh ambre, akash tare, abhi ingle, rutvik patil&quot;;\r\n```\r\nSo here I want to remove **&quot;mayur suryavanshi&quot;** from array without using index because I don&#39;t know index of that item, but I have certain condition like\r\n```\r\nif(tempArray[i].endsWith(&quot;suryawanshi&quot;)){}\r\n```\r\n\r\nWhich I can use in for loop.\r\nI tried to make new string with removing those item in for loop\r\n\r\n```\r\nString result = joiner.toString();\r\n        \r\nString temp = null;\r\n        \r\nfor (int i = 0; i &lt; tempArray.length; i++) {\r\n    if (tempArray[i].endsWith(&quot;suryavanshi&quot;)) {\r\n        continue;\r\n    }\r\n    if (temp == null) {\r\n        temp = tempArray[i];\r\n    } else {\r\n        temp = temp + &quot;, &quot; + tempArray[i];\r\n    }\r\n}\r\n```","title":"Discard elements of a String Array matching a specific criterion and Join them together without using indices","body":"<p>I have a string array of full names with different surnames, i.e.</p>\n<pre><code>String[] tempArray = {&quot;rakesh bhagat&quot;, &quot;mayur suryavanshi&quot;, &quot;prathamesh ambre&quot;, &quot;akash tare&quot;, &quot;abhi ingle&quot;, &quot;rutvik patil&quot;};\n</code></pre>\n<p>I want to create a new string of all names except one name, i.e.</p>\n<pre><code>temp = &quot;rakesh bhagat, mayur suryavanshi, prathamesh ambre, akash tare, abhi ingle, rutvik patil&quot;;\n</code></pre>\n<p>So here I want to remove <strong>&quot;mayur suryavanshi&quot;</strong> from array without using index because I don't know index of that item, but I have certain condition like</p>\n<pre><code>if(tempArray[i].endsWith(&quot;suryawanshi&quot;)){}\n</code></pre>\n<p>Which I can use in for loop.\nI tried to make new string with removing those item in for loop</p>\n<pre><code>String result = joiner.toString();\n        \nString temp = null;\n        \nfor (int i = 0; i &lt; tempArray.length; i++) {\n    if (tempArray[i].endsWith(&quot;suryavanshi&quot;)) {\n        continue;\n    }\n    if (temp == null) {\n        temp = tempArray[i];\n    } else {\n        temp = temp + &quot;, &quot; + tempArray[i];\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","terminal","properties-file","jpackage"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1641040789,"post_id":70548809,"comment_id":124710588,"body_markdown":"You are just checking for zero and one arguments on startup. AFAIK the first argument always contains the application name itself and should always exist. Have you checked conditions when there are more arguments?","body":"You are just checking for zero and one arguments on startup. AFAIK the first argument always contains the application name itself and should always exist. Have you checked conditions when there are more arguments?"},{"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"score":0,"creation_date":1641042236,"post_id":70548809,"comment_id":124710807,"body_markdown":"@HiranChaudhuri Hi! I have added a System.out.println(args[0]) in both conditional blocks, and when starting the application &quot;normally&quot; - without opening a file, which should correspond to the case &quot;args.length == 0&quot; - it raises an ArrayIndexOutOfBoundsException, so I guess probably when it is started without passing a file path it actually has no arguments (hence the exception). I have also tried adding an &quot;args.length == 2&quot; conditional block, but it still does not work.","body":"@HiranChaudhuri Hi! I have added a System.out.println(args[0]) in both conditional blocks, and when starting the application &quot;normally&quot; - without opening a file, which should correspond to the case &quot;args.length == 0&quot; - it raises an ArrayIndexOutOfBoundsException, so I guess probably when it is started without passing a file path it actually has no arguments (hence the exception). I have also tried adding an &quot;args.length == 2&quot; conditional block, but it still does not work."}],"owner":{"account_id":21024939,"reputation":11,"user_id":15450499,"display_name":"andy_07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667139072,"creation_date":1641039270,"question_id":70548809,"body_markdown":"I am encountering a problem with file associations in Java (using the terminal command JPackage for building an executable file). The problem is basically the following: when I try to open a file with my application, the file path is not passed to my main method as an argument.\r\nLet me share a simplified example of the code below. I am working on IntelliJ Idea on MacOs 12 (Monterey).\r\n\r\nThis is the (only) class, containing the main method, from which I build an executable .jar file.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        if (args.length == 0) {\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            JLabel label = new JLabel(&quot;No arguments&quot;);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(label, BorderLayout.CENTER);\r\n            frame.setPreferredSize(new Dimension(1000,500));\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        } else if (args.length == 1) {\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            JLabel label = new JLabel(args[0]);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(label, BorderLayout.CENTER);\r\n            frame.setPreferredSize(new Dimension(1000,500));\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        }\r\n    }\r\n    }\r\n\r\nThis is the &quot;.properties&quot; file I have written, to set the file association with the &quot;.txt&quot; file type.\r\n\r\n    mime-type=text/plain\r\n    extension=txt\r\n    description=Text Source\r\n\r\nFinally, here is the terminal command I used to build the executable file for MacOs.\r\n\r\n    jpackage --type &quot;app-image&quot; --name JavaGuiApp --input /Users/username/Desktop/JavaGuiApp --main-jar JavaGuiApp.jar --file-associations /Users/username/Desktop/JavaGuiApp/FAtxt.properties\r\n\r\nI have relied on information found here on JPackage: https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html.\r\n\r\nThank you all in advance for your help!","title":"File Associations not working in JPackage","body":"<p>I am encountering a problem with file associations in Java (using the terminal command JPackage for building an executable file). The problem is basically the following: when I try to open a file with my application, the file path is not passed to my main method as an argument.\nLet me share a simplified example of the code below. I am working on IntelliJ Idea on MacOs 12 (Monterey).</p>\n<p>This is the (only) class, containing the main method, from which I build an executable .jar file.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n\npublic static void main(String[] args) {\n\n    if (args.length == 0) {\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        JLabel label = new JLabel(&quot;No arguments&quot;);\n        frame.setLayout(new BorderLayout());\n        frame.add(label, BorderLayout.CENTER);\n        frame.setPreferredSize(new Dimension(1000,500));\n        frame.pack();\n        frame.setVisible(true);\n\n    } else if (args.length == 1) {\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        JLabel label = new JLabel(args[0]);\n        frame.setLayout(new BorderLayout());\n        frame.add(label, BorderLayout.CENTER);\n        frame.setPreferredSize(new Dimension(1000,500));\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n}\n}\n</code></pre>\n<p>This is the &quot;.properties&quot; file I have written, to set the file association with the &quot;.txt&quot; file type.</p>\n<pre><code>mime-type=text/plain\nextension=txt\ndescription=Text Source\n</code></pre>\n<p>Finally, here is the terminal command I used to build the executable file for MacOs.</p>\n<pre><code>jpackage --type &quot;app-image&quot; --name JavaGuiApp --input /Users/username/Desktop/JavaGuiApp --main-jar JavaGuiApp.jar --file-associations /Users/username/Desktop/JavaGuiApp/FAtxt.properties\n</code></pre>\n<p>I have relied on information found here on JPackage: <a href=\"https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html</a>.</p>\n<p>Thank you all in advance for your help!</p>\n"},{"tags":["java","android","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1667130805,"post_id":74252710,"comment_id":131093422,"body_markdown":"The return type is `GroupModel` meaning need to return a `GroupModel` but when you use an `if` statement then it causes error since the value is conditional. You can create an `EmptyGroupModel` to be returned if the condition isn&#39;t met.","body":"The return type is <code>GroupModel</code> meaning need to return a <code>GroupModel</code> but when you use an <code>if</code> statement then it causes error since the value is conditional. You can create an <code>EmptyGroupModel</code> to be returned if the condition isn&#39;t met."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667138433,"post_id":74252710,"comment_id":131094964,"body_markdown":"&quot;But I got red line.&quot; doesn&#39;t provide enough information so we can help. What exactly is causing the code to provide that &quot;red line&quot;?","body":"&quot;But I got red line.&quot; doesn&#39;t provide enough information so we can help. What exactly is causing the code to provide that &quot;red line&quot;?"},{"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"score":0,"creation_date":1667196456,"post_id":74252710,"comment_id":131104853,"body_markdown":"@DarShan Your suggestion works almost. But it creates empty card views of that empty group model any way. I want to return nothing for the groups that doesn&#39;t match my condition. If any idea how?","body":"@DarShan Your suggestion works almost. But it creates empty card views of that empty group model any way. I want to return nothing for the groups that doesn&#39;t match my condition. If any idea how?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667139023,"creation_date":1667139023,"answer_id":74253757,"question_id":74252710,"body_markdown":"If you want to only show a subset of the child nodes in the adapter, you should [use a query]() to retrieve only those child nodes from the database.\r\n\r\nIt&#39;s hard to be certain without seeing your database, but using this query in the adapter might be an option:\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n    .child(&quot;Groups&quot;)\r\n    .orderByChild(&quot;groupName&quot;)\r\n    .startAt(null)\r\n```\r\n\r\nSince `null` is the first value in [Firebase Realtime Database ordering](https://firebase.google.com/docs/database/android/lists-of-data#data-order), this will return any node that has a `groupName` value.\r\n\r\n","title":"Could I use if (snapShot.hasChild(uid) in firebaseRecycleOptions? I am using Firebase Recycle adapter to retrieve data under node: &quot;Groups&quot;","body":"<p>If you want to only show a subset of the child nodes in the adapter, you should use a query to retrieve only those child nodes from the database.</p>\n<p>It's hard to be certain without seeing your database, but using this query in the adapter might be an option:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n    .child(&quot;Groups&quot;)\n    .orderByChild(&quot;groupName&quot;)\n    .startAt(null)\n</code></pre>\n<p>Since <code>null</code> is the first value in <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#data-order\" rel=\"nofollow noreferrer\">Firebase Realtime Database ordering</a>, this will return any node that has a <code>groupName</code> value.</p>\n"}],"owner":{"account_id":26585909,"reputation":3,"user_id":20209820,"display_name":"Don K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74253757,"answer_count":1,"score":0,"last_activity_date":1667139023,"creation_date":1667129913,"question_id":74252710,"body_markdown":"```\r\nprivate void RetrieveAndDisplayGroups() {\r\n    FirebaseRecyclerOptions&lt;GroupModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;GroupModel&gt;()\r\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;), new SnapshotParser&lt;GroupModel&gt;() {\r\n                @NonNull\r\n                public GroupModel parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                    // I tried to use if statment before return.\r\n                    return new GroupModel(snapshot.child(&quot;groupName&quot;).getValue().toString(), snapshot.child(&quot;groupDescription&quot;).getValue().toString());\r\n                }\r\n            }).build();\r\n    modelAdapter = new GroupModelAdapter(options, getContext());\r\n    recyclerExploreGroupView.setAdapter(modelAdapter);\r\n}\r\n```\r\n\r\n\r\n\r\nSo I am making a group chat app.\r\nIn my app, I want to show the users only the groups they have created. \r\nIn the database, under node &quot;Groups&quot;, I have all the groups created by all users.\r\n\r\nI am using firebase recycle adapter to retrieve data from firebase real time database.\r\nI am not familiar with how FirebaseRecycleOptions work. I think it returns a set of the model object I passed.\r\n\r\nI try to use if statement before new firebaseRecycleOptions return. But I got red line.\r\nThe goal is to check if each group has a child as a requirement. And only retrieve the ones who have it.\r\nAny help would be appreciated.\r\n\r\n","title":"Could I use if (snapShot.hasChild(uid) in firebaseRecycleOptions? I am using Firebase Recycle adapter to retrieve data under node: &quot;Groups&quot;","body":"<pre><code>private void RetrieveAndDisplayGroups() {\n    FirebaseRecyclerOptions&lt;GroupModel&gt; options = new FirebaseRecyclerOptions.Builder&lt;GroupModel&gt;()\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Groups&quot;), new SnapshotParser&lt;GroupModel&gt;() {\n                @NonNull\n                public GroupModel parseSnapshot(@NonNull DataSnapshot snapshot) {\n                    // I tried to use if statment before return.\n                    return new GroupModel(snapshot.child(&quot;groupName&quot;).getValue().toString(), snapshot.child(&quot;groupDescription&quot;).getValue().toString());\n                }\n            }).build();\n    modelAdapter = new GroupModelAdapter(options, getContext());\n    recyclerExploreGroupView.setAdapter(modelAdapter);\n}\n</code></pre>\n<p>So I am making a group chat app.\nIn my app, I want to show the users only the groups they have created.\nIn the database, under node &quot;Groups&quot;, I have all the groups created by all users.</p>\n<p>I am using firebase recycle adapter to retrieve data from firebase real time database.\nI am not familiar with how FirebaseRecycleOptions work. I think it returns a set of the model object I passed.</p>\n<p>I try to use if statement before new firebaseRecycleOptions return. But I got red line.\nThe goal is to check if each group has a child as a requirement. And only retrieve the ones who have it.\nAny help would be appreciated.</p>\n"},{"tags":["java","nlp","opennlp","lemmatization"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1649680985,"post_id":70064477,"comment_id":126930287,"body_markdown":"I do have exactly the same task and the same problem, as written above. I feel you.","body":"I do have exactly the same task and the same problem, as written above. I feel you."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1649681521,"post_id":70064477,"comment_id":126930547,"body_markdown":"Dropped a mail on dev@opennlp.a.o -&gt; https://lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1","body":"Dropped a mail on dev@opennlp.a.o -&gt; <a href=\"https://lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1\" rel=\"nofollow noreferrer\">lists.apache.org/thread/vc5lfzj81tco703noqxpvy8sfj8fw8b1</a>"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":1,"creation_date":1649686885,"post_id":70064477,"comment_id":126932781,"body_markdown":"https://issues.apache.org/jira/browse/OPENNLP-1366","body":"<a href=\"https://issues.apache.org/jira/browse/OPENNLP-1366\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/OPENNLP-1366</a>"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667138497,"creation_date":1667138497,"answer_id":74253692,"question_id":70064477,"body_markdown":"Recently, I&#39;ve written a patch to cure [OpenNLP-1366][1]. The related PR https://github.com/apache/opennlp/pull/427 documents the problem and solution in detail. \r\n\r\nIn this context, the upcoming OpenNLP version **2.0.1** will bring the cure for the problem reported in the OP. Updating to the aforementioned version will resolve the crashing during writing trained model files. \r\n\r\n*Note:* &lt;br/&gt;\r\nI verified that the patch works with `UD_German-HDT`, `UD_German-GSD`, and other treebanks for the German language.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/OPENNLP-1366","title":"How to handle LemmatizerTrainer &#39;UTFDataFormatException: encoded string too long&#39;?","body":"<p>Recently, I've written a patch to cure <a href=\"https://issues.apache.org/jira/browse/OPENNLP-1366\" rel=\"nofollow noreferrer\">OpenNLP-1366</a>. The related PR <a href=\"https://github.com/apache/opennlp/pull/427\" rel=\"nofollow noreferrer\">https://github.com/apache/opennlp/pull/427</a> documents the problem and solution in detail.</p>\n<p>In this context, the upcoming OpenNLP version <strong>2.0.1</strong> will bring the cure for the problem reported in the OP. Updating to the aforementioned version will resolve the crashing during writing trained model files.</p>\n<p><em>Note:</em> <br/>\nI verified that the patch works with <code>UD_German-HDT</code>, <code>UD_German-GSD</code>, and other treebanks for the German language.</p>\n"}],"owner":{"account_id":14244914,"reputation":1227,"user_id":10290286,"display_name":"wero026"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74253692,"answer_count":1,"score":1,"last_activity_date":1667138714,"creation_date":1637577714,"question_id":70064477,"body_markdown":"I am using Opennlp to train a model for lemmatization of german words. Therefore I use the opennlp cli and the training set of [UD_German-HDT](https://github.com/UniversalDependencies/UD_German-HDT/blob/master/README.md) which can be downloaded [here](https://universaldependencies.org/#download)\r\n\r\nThe training itself works fine (just need a little bit of ram) but the cli fails to write the model because of an `UTFDataFormatException: encoded string too long` exception.\r\n\r\nThe cli command I am using: `opennlp LemmatizerTrainerME.conllu -params params.txt -lang de -model de-lemmatizer.bin -data UD_German-HDT/de_hdt-ud-train.conllu -encoding UTF-8`\r\n\r\nStacktrace:  \r\n```\r\nWriting lemmatizer model ... failed\r\nError during writing model file &#39;de-lemmatizer.bin&#39;\r\nencoded string too long: 383769 bytes\r\njava.io.UTFDataFormatException: encoded string too long: 383769 bytes\r\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:364)\r\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:323)\r\n        at opennlp.tools.ml.maxent.io.BinaryGISModelWriter.writeUTF(BinaryGISModelWriter.java:71)\r\n        at opennlp.tools.ml.maxent.io.GISModelWriter.persist(GISModelWriter.java:97)\r\n        at opennlp.tools.ml.model.GenericModelWriter.persist(GenericModelWriter.java:75)\r\n        at opennlp.tools.util.model.ModelUtil.writeModel(ModelUtil.java:71)\r\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:36)\r\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:29)\r\n        at opennlp.tools.util.model.BaseModel.serialize(BaseModel.java:597)\r\n        at opennlp.tools.cmdline.CmdLineUtil.writeModel(CmdLineUtil.java:182)\r\n        at opennlp.tools.cmdline.lemmatizer.LemmatizerTrainerTool.run(LemmatizerTrainerTool.java:77)\r\n        at opennlp.tools.cmdline.CLI.main(CLI.java:256)\r\n```\r\n\r\nHas somebody encountered this problem and has a solution?","title":"How to handle LemmatizerTrainer &#39;UTFDataFormatException: encoded string too long&#39;?","body":"<p>I am using Opennlp to train a model for lemmatization of german words. Therefore I use the opennlp cli and the training set of <a href=\"https://github.com/UniversalDependencies/UD_German-HDT/blob/master/README.md\" rel=\"nofollow noreferrer\">UD_German-HDT</a> which can be downloaded <a href=\"https://universaldependencies.org/#download\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The training itself works fine (just need a little bit of ram) but the cli fails to write the model because of an <code>UTFDataFormatException: encoded string too long</code> exception.</p>\n<p>The cli command I am using: <code>opennlp LemmatizerTrainerME.conllu -params params.txt -lang de -model de-lemmatizer.bin -data UD_German-HDT/de_hdt-ud-train.conllu -encoding UTF-8</code></p>\n<p>Stacktrace:</p>\n<pre><code>Writing lemmatizer model ... failed\nError during writing model file 'de-lemmatizer.bin'\nencoded string too long: 383769 bytes\njava.io.UTFDataFormatException: encoded string too long: 383769 bytes\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:364)\n        at java.base/java.io.DataOutputStream.writeUTF(DataOutputStream.java:323)\n        at opennlp.tools.ml.maxent.io.BinaryGISModelWriter.writeUTF(BinaryGISModelWriter.java:71)\n        at opennlp.tools.ml.maxent.io.GISModelWriter.persist(GISModelWriter.java:97)\n        at opennlp.tools.ml.model.GenericModelWriter.persist(GenericModelWriter.java:75)\n        at opennlp.tools.util.model.ModelUtil.writeModel(ModelUtil.java:71)\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:36)\n        at opennlp.tools.util.model.GenericModelSerializer.serialize(GenericModelSerializer.java:29)\n        at opennlp.tools.util.model.BaseModel.serialize(BaseModel.java:597)\n        at opennlp.tools.cmdline.CmdLineUtil.writeModel(CmdLineUtil.java:182)\n        at opennlp.tools.cmdline.lemmatizer.LemmatizerTrainerTool.run(LemmatizerTrainerTool.java:77)\n        at opennlp.tools.cmdline.CLI.main(CLI.java:256)\n</code></pre>\n<p>Has somebody encountered this problem and has a solution?</p>\n"},{"tags":["java","json","swift"],"comments":[{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1667137813,"post_id":74253493,"comment_id":131094827,"body_markdown":"_different json for the same java parameters_, please rephrase this without any Java references","body":"<i>different json for the same java parameters</i>, please rephrase this without any Java references"},{"owner":{"account_id":56534,"reputation":85018,"user_id":169346,"display_name":"JeremyP"},"score":0,"creation_date":1667138053,"post_id":74253493,"comment_id":131094883,"body_markdown":"Also, an example off the JSON would be useful.","body":"Also, an example off the JSON would be useful."},{"owner":{"account_id":15299369,"reputation":464,"user_id":11038362,"display_name":"Paul Maltsev"},"score":0,"creation_date":1667138104,"post_id":74253493,"comment_id":131094900,"body_markdown":"@JeremyP added json examples","body":"@JeremyP added json examples"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1667138222,"post_id":74253493,"comment_id":131094918,"body_markdown":"No there is nothing like that in swift, you need to implement a custom logic for handling different keys like this.","body":"No there is nothing like that in swift, you need to implement a custom logic for handling different keys like this."}],"owner":{"account_id":15299369,"reputation":464,"user_id":11038362,"display_name":"Paul Maltsev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667138068,"creation_date":1667136812,"question_id":74253493,"body_markdown":"I receive different json for the same java parameters.\r\n\r\nIn java we can use alternate and pass all values for the same parameter, how can I do the same in swift?\r\n\r\nOr maybe some best practice for this case?\r\n\r\nThanks.\r\n\r\n\r\n\r\nJson for example:\r\n```\r\n{\r\n\r\n   id: 12345,\r\n   name: &quot;Some name&quot;\r\n\r\n}\r\n\r\n```\r\n```\r\n{\r\n\r\n   Id: 12345,\r\n   Name: &quot;Some name&quot;\r\n\r\n}\r\n```\r\n\r\n```\r\n{\r\n\r\n   someId: 12345,\r\n   someName: &quot;Some name&quot;\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5mvS4.jpg","title":"Java &#39;alternate&#39; analog in swift","body":"<p>I receive different json for the same java parameters.</p>\n<p>In java we can use alternate and pass all values for the same parameter, how can I do the same in swift?</p>\n<p>Or maybe some best practice for this case?</p>\n<p>Thanks.</p>\n<p>Json for example:</p>\n<pre><code>{\n\n   id: 12345,\n   name: &quot;Some name&quot;\n\n}\n\n</code></pre>\n<pre><code>{\n\n   Id: 12345,\n   Name: &quot;Some name&quot;\n\n}\n</code></pre>\n<pre><code>{\n\n   someId: 12345,\n   someName: &quot;Some name&quot;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5mvS4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mvS4.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","consumer"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667136804,"creation_date":1667136804,"answer_id":74253492,"question_id":74252767,"body_markdown":"`Consumer` is an interface. You can implement it as a real class, a named nested class or as lambda.\r\n\r\n### Explicit implementation as class\r\n\r\n```\r\nclass MyWebElementConsumer implements Consumer&lt;WebElement&gt; {\r\n  @Override\r\n  public void accept(final WebElement element) {\r\n    // do something with element\r\n  }\r\n}\r\n\r\nmethodThatAcceptsConsumer(new MyWebElementConsumer());\r\n```\r\n\r\n### Pass a lambda\r\n\r\n```\r\nmethodThatAcceptsConsumer(element -&gt; {/* do something with element */});\r\n```","title":"Java method that accepts Consumer&lt;WebElement&gt; as parameter - how to use it?","body":"<p><code>Consumer</code> is an interface. You can implement it as a real class, a named nested class or as lambda.</p>\n<h3>Explicit implementation as class</h3>\n<pre><code>class MyWebElementConsumer implements Consumer&lt;WebElement&gt; {\n  @Override\n  public void accept(final WebElement element) {\n    // do something with element\n  }\n}\n\nmethodThatAcceptsConsumer(new MyWebElementConsumer());\n</code></pre>\n<h3>Pass a lambda</h3>\n<pre><code>methodThatAcceptsConsumer(element -&gt; {/* do something with element */});\n</code></pre>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74253492,"answer_count":1,"score":-1,"last_activity_date":1667136804,"creation_date":1667130397,"question_id":74252767,"body_markdown":"\r\nIs there any chance and need to use something like below ?\r\n\r\nCould you show examples how to use function thats accepts Consumer WebElement ?\r\n\r\n    \r\n    private static void methodThatAcceptsConsumer (Consumer&lt;WebElement&gt; consumer) {\r\n        //something here\r\n    }","title":"Java method that accepts Consumer&lt;WebElement&gt; as parameter - how to use it?","body":"<p>Is there any chance and need to use something like below ?</p>\n<p>Could you show examples how to use function thats accepts Consumer WebElement ?</p>\n<pre><code>private static void methodThatAcceptsConsumer (Consumer&lt;WebElement&gt; consumer) {\n    //something here\n}\n</code></pre>\n"},{"tags":["java","hdfs","namenode"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667136819,"post_id":74253408,"comment_id":131094646,"body_markdown":"Consider using a different garbage collector. I believe this is entirely expected for CMS with a lot of memory.","body":"Consider using a different garbage collector. I believe this is entirely expected for CMS with a lot of memory."},{"owner":{"account_id":14111294,"reputation":1603,"user_id":10194070,"display_name":"Judy"},"score":0,"creation_date":1667137124,"post_id":74253408,"comment_id":131094698,"body_markdown":"about CMSInitiatingOccupancyFraction and ParallelGCThreads so you are against to increae them ?","body":"about CMSInitiatingOccupancyFraction and ParallelGCThreads so you are against to increae them ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1667141772,"post_id":74253408,"comment_id":131095622,"body_markdown":"What he is saying is that CMS is unlikely to work well ... *no matter what you try to tune it*.  If you want better performance, you should update your cluster to a newer version of Java so that you can get the better of a more modern garbage collector which supports large heaps better.  (And probably you should update the version of Hadoop too.  And maybe even the RHEL version ...)","body":"What he is saying is that CMS is unlikely to work well ... <i>no matter what you try to tune it</i>.  If you want better performance, you should update your cluster to a newer version of Java so that you can get the better of a more modern garbage collector which supports large heaps better.  (And probably you should update the version of Hadoop too.  And maybe even the RHEL version ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667142174,"post_id":74253408,"comment_id":131095709,"body_markdown":"I think you should try either G1GC or ZGC.  Note that CMS is deprecated in Java 9 and removed entirely in Java 14 ... which should tell you something.","body":"I think you should try either G1GC or ZGC.  Note that CMS is deprecated in Java 9 and removed entirely in Java 14 ... which should tell you something."}],"owner":{"account_id":14111294,"reputation":1603,"user_id":10194070,"display_name":"Judy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667136654,"creation_date":1667136023,"question_id":74253408,"body_markdown":"We have an old Hadoop cluster based on HDP from Hortonworks version HDP 2.6.4. The cluster includes 2 namenode services where one is the standby namenode and the second is the active namenode. All machines in the cluster are RHEL 7.2 version, and we not see any problem on OS level.\r\n\r\nThe cluster also includes 12 workers machines (workers include the datanode and node manager services, while each worker have 32 cores).\r\n\r\nThe story began when we get alerts from the smoke test script that complains about _&quot;Detected pause in JVM or host machine&quot;_ on the standby namenode. Based on that we decided to increase the namenode heap size from 60G to 100G.\r\n\r\nAbove setting was based on a table that shows how much memory to set according to number of files in HDFS. According to the table we decided to set the namenode heapsize to 100G and then we restarted the HDFS service.\r\n\r\nAfter HDFS is completely restarted, we still see the messages about _&quot;Detected pause in JVM or host machine&quot;_, and this is really strange because we almost twice the namenode heap size.\r\n\r\nSo, we started to perform deeply testing using `jstat`. For example, we get from jsat low very of FGCT that is really good values and not point on namenode heap problem (1837 is the HDFS PID number)\r\n\r\n      # /usr/jdk64/jdk1.8.0_112/bin/jstat -gcutil    1837 10 10\r\n      S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n      0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\r\n\r\nAnd here is the messages from namenode logs\r\n\r\n    2022-10-27 14:04:49,728 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2044ms\r\n    2022-10-27 16:21:33,973 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2524ms\r\n    2022-10-27 17:31:35,333 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2444ms\r\n    2022-10-27 18:55:55,387 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2134ms\r\n    2022-10-27 19:42:00,816 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2153ms\r\n    2022-10-27 20:50:23,624 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2050ms\r\n    2022-10-27 21:07:01,240 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2343ms\r\n    2022-10-27 23:53:00,507 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2120ms\r\n    2022-10-28 00:43:30,633 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1811ms\r\n    2022-10-28 00:53:35,120 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2192ms\r\n    2022-10-28 02:07:39,660 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2353ms\r\n    2022-10-28 02:49:25,018 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1698ms\r\n    2022-10-28 03:00:20,592 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2432ms\r\n    2022-10-28 05:02:15,093 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2016ms\r\n    2022-10-28 06:52:46,672 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approxim\r\n\r\nAs we can see each 1-2 hours message about pause in _&quot;JVM or host machine&quot;_ appears.\r\n\r\nWe checked the number of files in HDFS and number of file is 7 million files. \r\n\r\nFrom documentation -   https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html\r\n\r\nwe understand that one option to solve the issue is by tuning - `CMSInitiatingOccupancyFraction`\r\n\r\n `CMSInitiatingOccupancyFraction` , is indeed configured to 70 in our ENV as following \r\n\r\n    export HADOOP_NAMENODE_OPTS=&quot;-Dcom.sun.management.jmxremote -XX:+UseConcMarkSweepGC -XX:ParallelGCThreads=8 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -Xms1G -Xmx1G -XX:NewSize=128M -XX:MaxNewSize=128M -XX:PermSize=128M -XX:MaxPermSize=256M -verbose:gc -Xloggc:/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/gc.log-`date +&#39;%Y%m%d%H%M&#39;` -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:ErrorFile=/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/hs_err_pid%p.log -XX:+HeapDumpOnOutOfMemoryError $HADOOP_NAMENODE_OPTS&quot;\r\n\r\nSo based on that, is it right to increase `CMSInitiatingOccupancyFraction` to `90`? \r\n\r\nAadditionally, from ENV we can see that `ParallelGCThreads=8`, but on each machine we have 32 cores. So, can we increase `ParallelGCThreads` to `32` as the real number of cores? Can it help?","title":"How to tune the CMSInitiatingOccupancyFraction in Hadoop cluster","body":"<p>We have an old Hadoop cluster based on HDP from Hortonworks version HDP 2.6.4. The cluster includes 2 namenode services where one is the standby namenode and the second is the active namenode. All machines in the cluster are RHEL 7.2 version, and we not see any problem on OS level.</p>\n<p>The cluster also includes 12 workers machines (workers include the datanode and node manager services, while each worker have 32 cores).</p>\n<p>The story began when we get alerts from the smoke test script that complains about <em>&quot;Detected pause in JVM or host machine&quot;</em> on the standby namenode. Based on that we decided to increase the namenode heap size from 60G to 100G.</p>\n<p>Above setting was based on a table that shows how much memory to set according to number of files in HDFS. According to the table we decided to set the namenode heapsize to 100G and then we restarted the HDFS service.</p>\n<p>After HDFS is completely restarted, we still see the messages about <em>&quot;Detected pause in JVM or host machine&quot;</em>, and this is really strange because we almost twice the namenode heap size.</p>\n<p>So, we started to perform deeply testing using <code>jstat</code>. For example, we get from jsat low very of FGCT that is really good values and not point on namenode heap problem (1837 is the HDFS PID number)</p>\n<pre><code>  # /usr/jdk64/jdk1.8.0_112/bin/jstat -gcutil    1837 10 10\n  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n  0.00   1.95  32.30  34.74  97.89      -    197  173.922     2    1.798  175.720\n</code></pre>\n<p>And here is the messages from namenode logs</p>\n<pre><code>2022-10-27 14:04:49,728 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2044ms\n2022-10-27 16:21:33,973 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2524ms\n2022-10-27 17:31:35,333 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2444ms\n2022-10-27 18:55:55,387 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2134ms\n2022-10-27 19:42:00,816 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2153ms\n2022-10-27 20:50:23,624 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2050ms\n2022-10-27 21:07:01,240 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2343ms\n2022-10-27 23:53:00,507 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2120ms\n2022-10-28 00:43:30,633 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1811ms\n2022-10-28 00:53:35,120 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2192ms\n2022-10-28 02:07:39,660 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2353ms\n2022-10-28 02:49:25,018 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 1698ms\n2022-10-28 03:00:20,592 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2432ms\n2022-10-28 05:02:15,093 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approximately 2016ms\n2022-10-28 06:52:46,672 INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(196)) - Detected pause in JVM or host machine (eg GC): pause of approxim\n</code></pre>\n<p>As we can see each 1-2 hours message about pause in <em>&quot;JVM or host machine&quot;</em> appears.</p>\n<p>We checked the number of files in HDFS and number of file is 7 million files.</p>\n<p>From documentation -   <a href=\"https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html\" rel=\"nofollow noreferrer\">https://docs.cloudera.com/HDPDocuments/Ambari-2.5.1.0/bk_ambari-operations/content/tuning_garbage_collection.html</a></p>\n<p>we understand that one option to solve the issue is by tuning - <code>CMSInitiatingOccupancyFraction</code></p>\n<p><code>CMSInitiatingOccupancyFraction</code> , is indeed configured to 70 in our ENV as following</p>\n<pre><code>export HADOOP_NAMENODE_OPTS=&quot;-Dcom.sun.management.jmxremote -XX:+UseConcMarkSweepGC -XX:ParallelGCThreads=8 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -Xms1G -Xmx1G -XX:NewSize=128M -XX:MaxNewSize=128M -XX:PermSize=128M -XX:MaxPermSize=256M -verbose:gc -Xloggc:/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/gc.log-`date +'%Y%m%d%H%M'` -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:ErrorFile=/Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/logs/hs_err_pid%p.log -XX:+HeapDumpOnOutOfMemoryError $HADOOP_NAMENODE_OPTS&quot;\n</code></pre>\n<p>So based on that, is it right to increase <code>CMSInitiatingOccupancyFraction</code> to <code>90</code>?</p>\n<p>Aadditionally, from ENV we can see that <code>ParallelGCThreads=8</code>, but on each machine we have 32 cores. So, can we increase <code>ParallelGCThreads</code> to <code>32</code> as the real number of cores? Can it help?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667118140,"post_id":74251435,"comment_id":131091475,"body_markdown":"Even if you use the keyboard, youre still inserting escape characters - thats kind of how text works","body":"Even if you use the keyboard, youre still inserting escape characters - thats kind of how text works"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1667122946,"post_id":74251435,"comment_id":131092146,"body_markdown":"What do you mean &quot;break a sring&quot; Can you post a more complete example. Are you asking about word wrap? You can filter and interact with the text area while it is being edited.","body":"What do you mean &quot;break a sring&quot; Can you post a more complete example. Are you asking about word wrap? You can filter and interact with the text area while it is being edited."},{"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"score":0,"creation_date":1667124406,"post_id":74251435,"comment_id":131092374,"body_markdown":"@matt   exactly word wrap!, T,h,,a,n,k,s,  solved my problem by your hint!","body":"@matt   exactly word wrap!, T,h,,a,n,k,s,  solved my problem by your hint!"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667135879,"creation_date":1667135197,"answer_id":74253306,"question_id":74251435,"body_markdown":"Breaking a string onto a newline without actually adding a character is a word wrap.\r\n\r\n[JTextArea](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JTextArea.html#setLineWrap(boolean)) has word wrap.\r\n\r\n    mytextArea.setLineWrap(true);\r\n\r\n","title":"Break string in Javax.Swing.JTextArea without escape characters","body":"<p>Breaking a string onto a newline without actually adding a character is a word wrap.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/JTextArea.html#setLineWrap(boolean)\" rel=\"nofollow noreferrer\">JTextArea</a> has word wrap.</p>\n<pre><code>mytextArea.setLineWrap(true);\n</code></pre>\n"}],"owner":{"account_id":23551035,"reputation":85,"user_id":17593743,"display_name":"Ddll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74253306,"answer_count":1,"score":0,"last_activity_date":1667135879,"creation_date":1667117485,"question_id":74251435,"body_markdown":"Is there a way to automatically break a string entered into `JTextArea` (in package `javax.swing`), for example via the keyboard, into a readable form, without the need for escape characters, i.e. `\\n` and `\\r` ?\r\n\r\nEdit2: \r\n\r\nWith the help of @matt, I realized that the correct question is about word warp and therefore the answer is the answer function\r\n\r\n    mytextArea.setLineWrap(true);\r\n","title":"Break string in Javax.Swing.JTextArea without escape characters","body":"<p>Is there a way to automatically break a string entered into <code>JTextArea</code> (in package <code>javax.swing</code>), for example via the keyboard, into a readable form, without the need for escape characters, i.e. <code>\\n</code> and <code>\\r</code> ?</p>\n<p>Edit2:</p>\n<p>With the help of @matt, I realized that the correct question is about word warp and therefore the answer is the answer function</p>\n<pre><code>mytextArea.setLineWrap(true);\n</code></pre>\n"},{"tags":["java","eclipse","spring"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":3,"creation_date":1338181961,"post_id":10779621,"comment_id":14018739,"body_markdown":"Did you include the jar, as well as the source? That&#39;s what really matters.","body":"Did you include the jar, as well as the source? That&#39;s what really matters."},{"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"score":0,"creation_date":1338184829,"post_id":10779621,"comment_id":14019304,"body_markdown":"It isn&#39;t spring&#39;s problem that you can&#39;t import their classes in eclipse. Include the jars in your project and then restart eclipse. I suggest reading Spring in Action 3.0. Were you getting any compile errors when you manually import the two classes?","body":"It isn&#39;t spring&#39;s problem that you can&#39;t import their classes in eclipse. Include the jars in your project and then restart eclipse. I suggest reading Spring in Action 3.0. Were you getting any compile errors when you manually import the two classes?"},{"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"score":0,"creation_date":1338187435,"post_id":10779621,"comment_id":14019903,"body_markdown":"@PaulBellora yes i did include the jars file and even restarted but to no avail","body":"@PaulBellora yes i did include the jars file and even restarted but to no avail"},{"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"score":0,"creation_date":1338187595,"post_id":10779621,"comment_id":14019936,"body_markdown":"@VarunAchar yes i did get compile errors","body":"@VarunAchar yes i did get compile errors"},{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1338193855,"post_id":10779621,"comment_id":14021487,"body_markdown":"@sameer, I had similar problems some time ago. I decided it wasn&#39;t worth the bother to fiddle with it all and installed the SpringSource Tool Suite.","body":"@sameer, I had similar problems some time ago. I decided it wasn&#39;t worth the bother to fiddle with it all and installed the SpringSource Tool Suite."}],"answers":[{"tags":[],"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338193898,"creation_date":1338193898,"answer_id":10781580,"question_id":10779621,"body_markdown":"Based on comments:\r\n\r\nYour jars haven&#39;t been included in the classpath. Hence you&#39;re getting the compilation errors.\r\n\r\n 1. Go to project explorer perspective in eclipse \r\n 2. right click on lib folder &gt; Build path &gt; Add to build path.\r\n\r\nThis will include all jars inside the lib folder to your classpath and you won&#39;t get any compilation errors.\r\n\r\nBy the way. These classes are part of spring-context jar so make sure that&#39;s in the lib folder.\r\n\r\n\r\n\r\n","title":"Spring: cannot import library","body":"<p>Based on comments:</p>\n\n<p>Your jars haven't been included in the classpath. Hence you're getting the compilation errors.</p>\n\n<ol>\n<li>Go to project explorer perspective in eclipse </li>\n<li>right click on lib folder > Build path > Add to build path.</li>\n</ol>\n\n<p>This will include all jars inside the lib folder to your classpath and you won't get any compilation errors.</p>\n\n<p>By the way. These classes are part of spring-context jar so make sure that's in the lib folder.</p>\n"},{"tags":[],"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1338471951,"creation_date":1338471951,"answer_id":10834916,"question_id":10779621,"body_markdown":"Finally got it.  My mistake, i was using jars from the src folder and making it as a user library but the correct way is to use the jars from the **dist** folder.\r\n\r\nThank you guys for your answers. :)","title":"Spring: cannot import library","body":"<p>Finally got it.  My mistake, i was using jars from the src folder and making it as a user library but the correct way is to use the jars from the <strong>dist</strong> folder.</p>\n\n<p>Thank you guys for your answers. :)</p>\n"},{"tags":[],"owner":{"account_id":6200938,"reputation":1,"user_id":4830754,"display_name":"sada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429927592,"creation_date":1429927368,"answer_id":29860158,"question_id":10779621,"body_markdown":"Update dependency in your pom.xml file, as below:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring: cannot import library","body":"<p>Update dependency in your pom.xml file, as below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22907564,"reputation":11,"user_id":17204105,"display_name":"PKP_Speeder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634783308,"creation_date":1634750169,"answer_id":69650405,"question_id":10779621,"body_markdown":"Add the dependency of spring-context.\r\nFor gradle project.\r\n\r\n    implementation group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;, version: &#39;5.3.6&#39;\r\n\r\nthis solved the issue for me.\r\n\r\n","title":"Spring: cannot import library","body":"<p>Add the dependency of spring-context.\nFor gradle project.</p>\n<pre><code>implementation group: 'org.springframework', name: 'spring-context', version: '5.3.6'\n</code></pre>\n<p>this solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":20699445,"reputation":1,"user_id":15198891,"display_name":"Kshithi Holla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667135694,"creation_date":1666785918,"answer_id":74207461,"question_id":10779621,"body_markdown":"Delete `module-info.java` file. It worked for me.","title":"Spring: cannot import library","body":"<p>Delete <code>module-info.java</code> file. It worked for me.</p>\n"}],"owner":{"account_id":1284054,"reputation":220,"user_id":1237500,"accept_rate":69,"display_name":"sameer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10834916,"answer_count":5,"score":2,"last_activity_date":1667135694,"creation_date":1338181895,"question_id":10779621,"body_markdown":"i am new to Spring and went out to learn Spring tutorials from [here](http://www.mkyong.com/tutorials/spring-tutorials/ ) using Eclipse.\r\n\r\nBut, in Eclipse i cannot import these two libraries\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    \r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\nI even downloaded the Spring source files from the Spring site, included it in the system library, added it in my project and also in the lib folder of my project but no in vain.\r\n\r\nCan you help me out to know where exactly is the problem and suggest me some good Spring tutorials sites please.\r\n\r\nThank you all\r\n\r\n **EDIT** \r\n\r\nHere is the exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tApplicationContext cannot be resolved to a type\r\n    \tClassPathApplicationContext cannot be resolved to a type\r\n    \r\n    \tat com.test.App.main(App.java:12)","title":"Spring: cannot import library","body":"<p>i am new to Spring and went out to learn Spring tutorials from <a href=\"http://www.mkyong.com/tutorials/spring-tutorials/\" rel=\"nofollow\">here</a> using Eclipse.</p>\n\n<p>But, in Eclipse i cannot import these two libraries</p>\n\n<pre><code>import org.springframework.context.ApplicationContext;\n\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n</code></pre>\n\n<p>I even downloaded the Spring source files from the Spring site, included it in the system library, added it in my project and also in the lib folder of my project but no in vain.</p>\n\n<p>Can you help me out to know where exactly is the problem and suggest me some good Spring tutorials sites please.</p>\n\n<p>Thank you all</p>\n\n<p><strong>EDIT</strong> </p>\n\n<p>Here is the exception</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problems: \n    ApplicationContext cannot be resolved to a type\n    ClassPathApplicationContext cannot be resolved to a type\n\n    at com.test.App.main(App.java:12)\n</code></pre>\n"},{"tags":["java","javafx","event-handling"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666922105,"post_id":74227290,"comment_id":131054908,"body_markdown":"What is the initial state of the game? Set every variable and node back to it&#39;s initial state.","body":"What is the initial state of the game? Set every variable and node back to it&#39;s initial state."},{"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"score":0,"creation_date":1667087204,"post_id":74227290,"comment_id":131088222,"body_markdown":"If I do that, it will start a new game, not the game that was previously started. Thanks though!","body":"If I do that, it will start a new game, not the game that was previously started. Thanks though!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667089439,"post_id":74227290,"comment_id":131088479,"body_markdown":"At the start of a game, save the current state. Use that saved state to reset the game.","body":"At the start of a game, save the current state. Use that saved state to reset the game."},{"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"score":0,"creation_date":1667242707,"post_id":74227290,"comment_id":131119586,"body_markdown":"I tried saving the game variable to a new variable and making it final, then calling that in the restart button, but that still won&#39;t restart the game, rather it doesn&#39;t do anything. Maybe I am doing what you&#39;re saying incorrectly. Sorry super new to JavaFX!","body":"I tried saving the game variable to a new variable and making it final, then calling that in the restart button, but that still won&#39;t restart the game, rather it doesn&#39;t do anything. Maybe I am doing what you&#39;re saying incorrectly. Sorry super new to JavaFX!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667244294,"post_id":74227290,"comment_id":131120029,"body_markdown":"My guess is that this copying issue. See if Cloning or Deep Copy will work. https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java","body":"My guess is that this copying issue. See if Cloning or Deep Copy will work. <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\" title=\"how do i copy an object in java\">stackoverflow.com/questions/869033/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667244361,"post_id":74227290,"comment_id":131120046,"body_markdown":"https://stackoverflow.com/questions/27103443/what-is-the-difference-between-cloning-the-object-with-clone-method-and-sig","body":"<a href=\"https://stackoverflow.com/questions/27103443/what-is-the-difference-between-cloning-the-object-with-clone-method-and-sig\" title=\"what is the difference between cloning the object with clone method and sig\">stackoverflow.com/questions/27103443/&hellip;</a>"}],"owner":{"account_id":26664654,"reputation":1,"user_id":20276931,"display_name":"casscodes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667135574,"creation_date":1666898607,"question_id":74227290,"body_markdown":"I am creating a Solitaire game using JavaFX. I want a &lt;kbd&gt;Restart&lt;/kbd&gt; button to start a new game, but also a &lt;kbd&gt;Reset&lt;/kbd&gt; button that will restart the same game i.e. **the same scene to its original state**.\r\n\r\n&lt;kbd&gt;Restart&lt;/kbd&gt; works seamlessly as I was able to call the `start` method but I am unable to get &lt;kbd&gt;Reset&lt;/kbd&gt; working. \r\n\r\n```\r\npackage guisolitaire;\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class GUISolitaire extends Application {\r\n\tGame game;\r\n\tPane root;\r\n\tScoreTimer timer = new ScoreTimer();\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\tCanvas canvas = new Canvas(1000, 800);\r\n\r\n\t\troot = new Pane(canvas);\r\n\t\troot.setStyle(&quot;-fx-background-color: green&quot;);\r\n\r\n\t\tgame = new Game(canvas.getGraphicsContext2D());\r\n\t\tcanvas.setOnMouseClicked(game::handleMouseClicked);\r\n\r\n\t\ttimer.restart();\r\n\t\ttimer.start();\r\n\r\n\t\tScene scene = new Scene(root, Color.GREEN);\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.setTitle(&quot;Solitaire&quot;);\r\n\t\tprimaryStage.show();\r\n\r\n\t\tLabel l = new Label(); // Timer label\r\n\t\tTimeline timeline = new Timeline( \r\n\t\t\tnew KeyFrame(Duration.ZERO, ae -&gt; l.setText(&quot;Time elapsed: &quot; + timer.s)),\r\n\t\t\tnew KeyFrame(Duration.seconds(1))\r\n\t\t);\r\n\r\n\t\ttimeline.setCycleCount(Timeline.INDEFINITE);\r\n\t\ttimeline.play();\r\n\t\t\t\t\r\n\t\tl.setTranslateX(800);\r\n\t\tl.setTranslateY(765);\r\n\t\troot.getChildren().add(l); \r\n\r\n\t\tButton newGameButton = new Button();\r\n\t\tnewGameButton.setText(&quot;New Game&quot;);\r\n\t\tnewGameButton.setTranslateX(10);\r\n\t\tnewGameButton.setTranslateY(765);\r\n\t\troot.getChildren().add(newGameButton);\r\n\r\n\t\tEventHandler&lt;ActionEvent&gt; newGameEvent = ae -&gt; {\r\n\t\t\ttimer.stop();\r\n\t\t\ttimer.restart();\r\n\t\t\tstart(primaryStage);\r\n\t\t};\r\n\r\n\t\tnewGameButton.setOnAction(newGameEvent);\r\n\r\n\t\tButton restart = new Button();\r\n\t\trestart.setText(&quot;Restart&quot;);\r\n\t\trestart.setTranslateX(100);\r\n\t\trestart.setTranslateY(765);\r\n\t\troot.getChildren().add(restart);\r\n\r\n\t\tEventHandler&lt;ActionEvent&gt; resetGameEvent = ae -&gt; {\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t\ttimer.stop();\r\n\t\t\ttimer.restart();\r\n\t\t};\r\n\r\n\t\trestart.setOnAction(resetGameEvent);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nI have tried to reset `primaryStage` with the same scene and call the `show` method but that does not restart the game, it does not do anything. \r\n\r\nAny ideas on how this may be able to be implemented?  ","title":"How to reload the scene to its original state","body":"<p>I am creating a Solitaire game using JavaFX. I want a <kbd>Restart</kbd> button to start a new game, but also a <kbd>Reset</kbd> button that will restart the same game i.e. <strong>the same scene to its original state</strong>.</p>\n<p><kbd>Restart</kbd> works seamlessly as I was able to call the <code>start</code> method but I am unable to get <kbd>Reset</kbd> working.</p>\n<pre><code>package guisolitaire;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class GUISolitaire extends Application {\n    Game game;\n    Pane root;\n    ScoreTimer timer = new ScoreTimer();\n    \n    @Override\n    public void start(Stage primaryStage) {\n        Canvas canvas = new Canvas(1000, 800);\n\n        root = new Pane(canvas);\n        root.setStyle(&quot;-fx-background-color: green&quot;);\n\n        game = new Game(canvas.getGraphicsContext2D());\n        canvas.setOnMouseClicked(game::handleMouseClicked);\n\n        timer.restart();\n        timer.start();\n\n        Scene scene = new Scene(root, Color.GREEN);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Solitaire&quot;);\n        primaryStage.show();\n\n        Label l = new Label(); // Timer label\n        Timeline timeline = new Timeline( \n            new KeyFrame(Duration.ZERO, ae -&gt; l.setText(&quot;Time elapsed: &quot; + timer.s)),\n            new KeyFrame(Duration.seconds(1))\n        );\n\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n                \n        l.setTranslateX(800);\n        l.setTranslateY(765);\n        root.getChildren().add(l); \n\n        Button newGameButton = new Button();\n        newGameButton.setText(&quot;New Game&quot;);\n        newGameButton.setTranslateX(10);\n        newGameButton.setTranslateY(765);\n        root.getChildren().add(newGameButton);\n\n        EventHandler&lt;ActionEvent&gt; newGameEvent = ae -&gt; {\n            timer.stop();\n            timer.restart();\n            start(primaryStage);\n        };\n\n        newGameButton.setOnAction(newGameEvent);\n\n        Button restart = new Button();\n        restart.setText(&quot;Restart&quot;);\n        restart.setTranslateX(100);\n        restart.setTranslateY(765);\n        root.getChildren().add(restart);\n\n        EventHandler&lt;ActionEvent&gt; resetGameEvent = ae -&gt; {\n            primaryStage.setScene(scene);\n            primaryStage.show();\n            timer.stop();\n            timer.restart();\n        };\n\n        restart.setOnAction(resetGameEvent);\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I have tried to reset <code>primaryStage</code> with the same scene and call the <code>show</code> method but that does not restart the game, it does not do anything.</p>\n<p>Any ideas on how this may be able to be implemented?</p>\n"},{"tags":["java","rest","spring-boot","autowired","openfeign"],"comments":[{"owner":{"account_id":3488442,"reputation":87,"user_id":2918698,"accept_rate":90,"display_name":"9900kf"},"score":0,"creation_date":1692537087,"post_id":59082023,"comment_id":135634095,"body_markdown":"maybe try adding package name where feignclient is located in basepackages field of @enablefeignclients; and do mvn install","body":"maybe try adding package name where feignclient is located in basepackages field of @enablefeignclients; and do mvn install"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574921242,"creation_date":1574921242,"answer_id":59082678,"question_id":59082023,"body_markdown":"A couple of points that might help:\r\n\r\nFirst off:\r\nWhy do you use a qualifier to inject the `LegacyClient` bean into your service? Are there many? In general an interface should be wrapped into proxy and put as a single bean into the Application Context, so in my understanding Qualifier is not required here.\r\n\r\n\r\nAnother concern:\r\n\r\nIt looks like the `@FeignClient` annotation is not processed. Therefore the proxy is not created. In order to check this, place a breakpoint into the configuration `FeignConfig` some of beans / create a no-op constructor and check that it gets called at all (or mayble place log message just to see it works).\r\n\r\nYou haven&#39;t posted the package structure but it&#39;s possible that this configuration is not found by the package scanning mechanism and therefore is not created.","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>A couple of points that might help:</p>\n\n<p>First off:\nWhy do you use a qualifier to inject the <code>LegacyClient</code> bean into your service? Are there many? In general an interface should be wrapped into proxy and put as a single bean into the Application Context, so in my understanding Qualifier is not required here.</p>\n\n<p>Another concern:</p>\n\n<p>It looks like the <code>@FeignClient</code> annotation is not processed. Therefore the proxy is not created. In order to check this, place a breakpoint into the configuration <code>FeignConfig</code> some of beans / create a no-op constructor and check that it gets called at all (or mayble place log message just to see it works).</p>\n\n<p>You haven't posted the package structure but it's possible that this configuration is not found by the package scanning mechanism and therefore is not created.</p>\n"},{"tags":[],"owner":{"account_id":7356571,"reputation":1,"user_id":5601122,"display_name":"Amador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574949810,"creation_date":1574949810,"answer_id":59090639,"question_id":59082023,"body_markdown":"first of all thank you for your reply.\r\n\r\nI answered your first question, \r\nYeah, it&#39;s just a habit. I can eliminate that without problems. There are no more Beans that occupy that same interface. It&#39;s not a problem.\r\n\r\nResponding to your second comment, you are absolutely right.\r\n\r\nAdd a builder to the FeignConfig configuration class. Add a log and a breakpoint and don&#39;t stop there.\r\n\r\nAttached a ss with the package structure, to see if you can help me detect my problem.\r\n\r\n\r\n[project package structure][1]\r\n\r\n - In ms.config package, I have the FeignConfig configuration class\r\n - In rest.client package, I have all the interfaces Feign Client\r\n - In the ms package is the main class with the notation SpringBootApplication\r\n - In ms.p2.structure package is the class that call the feign client.\r\n\r\n\r\n\r\n\r\n\r\nThank you very much in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DPXLY.png","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>first of all thank you for your reply.</p>\n\n<p>I answered your first question, \nYeah, it's just a habit. I can eliminate that without problems. There are no more Beans that occupy that same interface. It's not a problem.</p>\n\n<p>Responding to your second comment, you are absolutely right.</p>\n\n<p>Add a builder to the FeignConfig configuration class. Add a log and a breakpoint and don't stop there.</p>\n\n<p>Attached a ss with the package structure, to see if you can help me detect my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DPXLY.png\" rel=\"nofollow noreferrer\">project package structure</a></p>\n\n<ul>\n<li>In ms.config package, I have the FeignConfig configuration class</li>\n<li>In rest.client package, I have all the interfaces Feign Client</li>\n<li>In the ms package is the main class with the notation SpringBootApplication</li>\n<li>In ms.p2.structure package is the class that call the feign client.</li>\n</ul>\n\n<p>Thank you very much in advance.</p>\n"},{"tags":[],"owner":{"account_id":20582418,"reputation":19,"user_id":15108167,"display_name":"Sergey"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1667135190,"creation_date":1666823975,"answer_id":74214959,"question_id":59082023,"body_markdown":"```java\r\n@SpringBootApplication\r\n\r\n@EnableFeignClients\r\n\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n\n@EnableFeignClients\n\npublic class Application {\n    public static void main(String[] args) {\n\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7356571,"reputation":1,"user_id":5601122,"display_name":"Amador"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667135190,"creation_date":1574917313,"question_id":59082023,"body_markdown":"I have a problem with spring and openfeign in which I think you can help me.\r\n\r\nI have a pom file as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;xx.yyy&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;component&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;component&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n\t\t&lt;pact.version&gt;3.6.7&lt;/pact.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Greenwich.SR4&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n......\r\n&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n......\r\n```\r\nI have declared in the main class the following configurations:\r\n```java\r\n@SpringBootApplication(scanBasePackages = {&quot;xx.yyy&quot;, &quot;xx.yyy.rest.client&quot;}, exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n@EnableAsync\r\n@Import({P2OrchestratorApplicationConfig.class})\r\npublic class P2OrchestratorApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(P2OrchestratorApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nI have a custom feign configuration class:\r\n\r\n```\r\n@Configuration\r\n@EnableFeignClients()\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\npublic class FeignConfig {\r\n\r\n\t@Bean\r\n\tpublic OkHttpClient client() {\r\n\t\treturn new OkHttpClient();\r\n\t}\r\n\t\r\n\t@Bean\r\n    public Logger.Level feignLoggerLevel() {\r\n        return Logger.Level.FULL;\r\n    }\r\n\t\r\n\t@Bean\r\n    public Contract feignContract() {\r\n        return new feign.Contract.Default();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have a open feign client as follow:\r\n```\r\n@FeignClient(name=&quot;legacyClient&quot;, value = &quot;legacyClient&quot;, url = &quot;${uri.microservice.legacy}&quot;, configuration = FeignConfig.class)\r\npublic interface LegacyClient {\r\n\t\r\n\t@PatchMapping(value = &quot;/legacy/xxx/cleanLine/{authorizationCode}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\r\n\tpublic ResponseEntity&lt;Boolean&gt; cleanLine(@PathVariable(&quot;authorizationCode&quot;) Long authorizationCode, @RequestParam(required = true) Long lineNumber);\r\n\t\r\n\r\n}\r\n```\r\n\r\nand finally a Component in which I need to use this client:\r\n\r\n```\r\n@Log4j\r\n@Component(&quot;p2ProcessAlgorithm&quot;)\r\npublic class P2ProcessAlgorithm {\r\n\r\n@Autowired\r\n@Qualifier(&quot;legacyClient&quot;)\r\nprivate LegacyClient legacyClient;\r\n\r\npublic final void process(){\r\n\r\nLong authorizationCode = 123L;\r\nLong lineNumber = 1L;\r\nBoolean isClean= this.legacClient.cleanLine(authorizationCode, lineNumber);\r\n......\r\n}\r\n```\r\n\r\nBut the app give me the next message:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField legacyClient in xxx.yyy.p2.structure.P2ProcessAlgorithm required a bean of type &#39;xxx.yyy.rest.client.LegacyClient&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\t- @org.springframework.beans.factory.annotation.Qualifier(value=p2AsyncOrchestratorService)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;xxx.yyy.rest.client.LegacyClient&#39; in your configuration.\r\n```\r\n\r\n\r\nI&#39;ve tried several configurations but I can&#39;t get the openfeign client to be a recognized bean in the P2ProcessAlgorithm class.\r\n\r\nDo you have any idea?\r\n\r\nThanks in advance","title":"Openfeign + Spring cloud : Field required a bean of type that could not be found","body":"<p>I have a problem with spring and openfeign in which I think you can help me.</p>\n<p>I have a pom file as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xx.yyy&lt;/groupId&gt;\n    &lt;artifactId&gt;component&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;component&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n        &lt;pact.version&gt;3.6.7&lt;/pact.version&gt;\n        &lt;spring-cloud.version&gt;Greenwich.SR4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.10.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n......\n&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n......\n</code></pre>\n<p>I have declared in the main class the following configurations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = {&quot;xx.yyy&quot;, &quot;xx.yyy.rest.client&quot;}, exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n@EnableAsync\n@Import({P2OrchestratorApplicationConfig.class})\npublic class P2OrchestratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(P2OrchestratorApplication.class, args);\n    }\n}\n</code></pre>\n<p>I have a custom feign configuration class:</p>\n<pre><code>@Configuration\n@EnableFeignClients()\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\npublic class FeignConfig {\n\n    @Bean\n    public OkHttpClient client() {\n        return new OkHttpClient();\n    }\n    \n    @Bean\n    public Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n    \n    @Bean\n    public Contract feignContract() {\n        return new feign.Contract.Default();\n    }\n}\n</code></pre>\n<p>I have a open feign client as follow:</p>\n<pre><code>@FeignClient(name=&quot;legacyClient&quot;, value = &quot;legacyClient&quot;, url = &quot;${uri.microservice.legacy}&quot;, configuration = FeignConfig.class)\npublic interface LegacyClient {\n    \n    @PatchMapping(value = &quot;/legacy/xxx/cleanLine/{authorizationCode}&quot;, produces = { MediaType.APPLICATION_JSON_VALUE })\n    public ResponseEntity&lt;Boolean&gt; cleanLine(@PathVariable(&quot;authorizationCode&quot;) Long authorizationCode, @RequestParam(required = true) Long lineNumber);\n    \n\n}\n</code></pre>\n<p>and finally a Component in which I need to use this client:</p>\n<pre><code>@Log4j\n@Component(&quot;p2ProcessAlgorithm&quot;)\npublic class P2ProcessAlgorithm {\n\n@Autowired\n@Qualifier(&quot;legacyClient&quot;)\nprivate LegacyClient legacyClient;\n\npublic final void process(){\n\nLong authorizationCode = 123L;\nLong lineNumber = 1L;\nBoolean isClean= this.legacClient.cleanLine(authorizationCode, lineNumber);\n......\n}\n</code></pre>\n<p>But the app give me the next message:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField legacyClient in xxx.yyy.p2.structure.P2ProcessAlgorithm required a bean of type 'xxx.yyy.rest.client.LegacyClient' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    - @org.springframework.beans.factory.annotation.Qualifier(value=p2AsyncOrchestratorService)\n\n\nAction:\n\nConsider defining a bean of type 'xxx.yyy.rest.client.LegacyClient' in your configuration.\n</code></pre>\n<p>I've tried several configurations but I can't get the openfeign client to be a recognized bean in the P2ProcessAlgorithm class.</p>\n<p>Do you have any idea?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","fonts"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1543409469,"post_id":53519821,"comment_id":93908323,"body_markdown":"What Java version are you on?","body":"What Java version are you on?"},{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1543409573,"post_id":53519821,"comment_id":93908396,"body_markdown":"I&#39;m on Java 1.8.0_192. I can&#39;t use newer versions because I&#39;m targetting 32-bit system. Of cource I don&#39;t like 32-bit too,","body":"I&#39;m on Java 1.8.0_192. I can&#39;t use newer versions because I&#39;m targetting 32-bit system. Of cource I don&#39;t like 32-bit too,"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1543614590,"post_id":53519821,"comment_id":93996611,"body_markdown":"Can you show a [mcve]? Not just to help us, but also to help you.","body":"Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Not just to help us, but also to help you."},{"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"score":0,"creation_date":1543711728,"post_id":53519821,"comment_id":94017026,"body_markdown":"Font baseFont = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/Noto.otf&quot;));\n            Font noto = baseFont.deriveFont(Font.PLAIN, 10);\n            System.out.println(noto);","body":"Font baseFont = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/Noto.otf&quot;));             Font noto = baseFont.deriveFont(Font.PLAIN, 10);             System.out.println(noto);"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1543915335,"post_id":53519821,"comment_id":94080133,"body_markdown":"Which is similar to my second example (except in this snippet you don&#39;t gather the metrics). **a)** What hardware spec do you have (CPU, RAM, HDD/SDD, OS)? **b)** From where did you get the `Noto.otf`? Have you tried with the version I mention in my examples? If so, could you notice a difference?","body":"Which is similar to my second example (except in this snippet you don&#39;t gather the metrics). <b>a)</b> What hardware spec do you have (CPU, RAM, HDD/SDD, OS)? <b>b)</b> From where did you get the <code>Noto.otf</code>? Have you tried with the version I mention in my examples? If so, could you notice a difference?"}],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543477139,"creation_date":1543415243,"answer_id":53521695,"question_id":53519821,"body_markdown":"Maybe you should provide step by step instructions to reproduce your issue.\r\n\r\nI did following on my system.\r\n\r\n - install font file `NotoSansCJKjp-Regular.otf` from [NotoSansCJKjp-hinted.zip](https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJKjp-hinted.zip)\r\n - compile the example code\r\n\r\n        $ javac NotoFont.java\r\n - run the compiled code\r\n\r\n        $ time java NotoFont\r\n\r\nThe execution takes less than a second on my system.\r\n\r\noutput of the above run\r\n\r\n    java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\r\n\r\n    real    0m0.522s\r\n    user    0m0.565s\r\n    sys     0m0.056s\r\n\r\n\r\n**NotoFont.java**\r\n\r\n    import java.awt.Font;\r\n    class NotoFont {\r\n        public static void main(String[] args) {\r\n            Font noto = new Font(&quot;Noto Sans CJK JP Regular&quot;, Font.PLAIN, 10);\r\n            System.out.println(noto);\r\n        }\r\n    }\r\n\r\n**edit** An example to read the font file from inside the Jar. The font is not installed on the system.\r\n\r\nAssume following structure.\r\n\r\n    build/fonts/NotoSansCJKjp-Regular.otf\r\n    dist/\r\n    NotoFont.java\r\n\r\n**NotoFont.java**\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.swing.*;\r\n    class NotoFont {\r\n        private void run() throws FontFormatException, IOException {\r\n            try (InputStream is = this.getClass().getResourceAsStream(&quot;/fonts/NotoSansCJKjp-Regular.otf&quot;)) {\r\n                Font baseFont = Font.createFont(Font.TRUETYPE_FONT, is);\r\n                Font noto = baseFont.deriveFont(Font.PLAIN, 10);\r\n                System.out.println(noto);\r\n                FontMetrics metrics = new JPanel().getFontMetrics(noto);\r\n                System.out.println(metrics);\r\n            }\r\n        }\r\n        public static void main(String[] args) throws FontFormatException, IOException {\r\n            new NotoFont().run();\r\n        }\r\n    }\r\n\r\n - compile the code\r\n\r\n        $ javac -d build/ NotoFont.java\r\n - create the Jar\r\n\r\n        $ jar cf dist/notofont.jar -C build/ .\r\n - check the Jar content\r\n\r\n        $ cd dist/\r\n        $ jar tf notofont.jar\r\n        META-INF/\r\n        META-INF/MANIFEST.MF\r\n        NotoFont.class\r\n        fonts/\r\n        fonts/NotoSansCJKjp-Regular.otf\r\n - run the code\r\n\r\n        $ time java -cp notofont.jar NotoFont\r\n    \r\noutput of above run\r\n\r\n    java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\r\n    sun.font.FontDesignMetrics[font=java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]ascent=9, descent=3, height=12]\r\n    real 3.02\r\n    user 2.11\r\n    sys 0.84\r\n\r\n","title":"Java takes too long time to initialize large OpenType fonts","body":"<p>Maybe you should provide step by step instructions to reproduce your issue.</p>\n\n<p>I did following on my system.</p>\n\n<ul>\n<li>install font file <code>NotoSansCJKjp-Regular.otf</code> from <a href=\"https://noto-website-2.storage.googleapis.com/pkgs/NotoSansCJKjp-hinted.zip\" rel=\"nofollow noreferrer\">NotoSansCJKjp-hinted.zip</a></li>\n<li><p>compile the example code</p>\n\n<pre><code>$ javac NotoFont.java\n</code></pre></li>\n<li><p>run the compiled code</p>\n\n<pre><code>$ time java NotoFont\n</code></pre></li>\n</ul>\n\n<p>The execution takes less than a second on my system.</p>\n\n<p>output of the above run</p>\n\n<pre><code>java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\n\nreal    0m0.522s\nuser    0m0.565s\nsys     0m0.056s\n</code></pre>\n\n<p><strong>NotoFont.java</strong></p>\n\n<pre><code>import java.awt.Font;\nclass NotoFont {\n    public static void main(String[] args) {\n        Font noto = new Font(\"Noto Sans CJK JP Regular\", Font.PLAIN, 10);\n        System.out.println(noto);\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong> An example to read the font file from inside the Jar. The font is not installed on the system.</p>\n\n<p>Assume following structure.</p>\n\n<pre><code>build/fonts/NotoSansCJKjp-Regular.otf\ndist/\nNotoFont.java\n</code></pre>\n\n<p><strong>NotoFont.java</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.swing.*;\nclass NotoFont {\n    private void run() throws FontFormatException, IOException {\n        try (InputStream is = this.getClass().getResourceAsStream(\"/fonts/NotoSansCJKjp-Regular.otf\")) {\n            Font baseFont = Font.createFont(Font.TRUETYPE_FONT, is);\n            Font noto = baseFont.deriveFont(Font.PLAIN, 10);\n            System.out.println(noto);\n            FontMetrics metrics = new JPanel().getFontMetrics(noto);\n            System.out.println(metrics);\n        }\n    }\n    public static void main(String[] args) throws FontFormatException, IOException {\n        new NotoFont().run();\n    }\n}\n</code></pre>\n\n<ul>\n<li><p>compile the code</p>\n\n<pre><code>$ javac -d build/ NotoFont.java\n</code></pre></li>\n<li><p>create the Jar</p>\n\n<pre><code>$ jar cf dist/notofont.jar -C build/ .\n</code></pre></li>\n<li><p>check the Jar content</p>\n\n<pre><code>$ cd dist/\n$ jar tf notofont.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nNotoFont.class\nfonts/\nfonts/NotoSansCJKjp-Regular.otf\n</code></pre></li>\n<li><p>run the code</p>\n\n<pre><code>$ time java -cp notofont.jar NotoFont\n</code></pre></li>\n</ul>\n\n<p>output of above run</p>\n\n<pre><code>java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]\nsun.font.FontDesignMetrics[font=java.awt.Font[family=Noto Sans CJK JP Regular,name=Noto Sans CJK JP Regular,style=plain,size=10]ascent=9, descent=3, height=12]\nreal 3.02\nuser 2.11\nsys 0.84\n</code></pre>\n"}],"owner":{"account_id":10518913,"reputation":101,"user_id":7752141,"display_name":"dhkim0800"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667135062,"creation_date":1543409152,"question_id":53519821,"body_markdown":"I must use Noto Sans CJK font in my application.\r\nBut when I call the method below It takes 10 seconds to initialize.\r\n\r\n    Font font = //Noto Sans CJK font\r\n    JComponent.getFontMetrics(An instance of Noto Sans CJK font);\r\n\r\nCan I fix this delay problem? The code can be complicated if the method can help fixing this problem(Like implementing FontMetrics, I don&#39;t know how).\r\n\r\nPlease don&#39;t recommend me convert otf font to ttf font. I couldn&#39;t convert it because font tool said it&#39;s alphabetic font and coundn&#39;t even load unicode glyphs. Also I have to use another otf font in application. And I won&#39;t use already converted version.\r\n\r\n* If you can fix this issue with Java code, I wanna use this method.\r\n\r\n* If any unicode otf fonts can be converted to ttf, I&#39;ll use that tool(BUT MUST BE FREE, NO TRIAL. FULL FREE). Please tell me how to convert otf to ttf. I tried website and fontforge. Both returned 7KB font even this font is 7MB.\r\n\r\nI&#39;m not good at English. Sorry. ","title":"Java takes too long time to initialize large OpenType fonts","body":"<p>I must use Noto Sans CJK font in my application.\nBut when I call the method below It takes 10 seconds to initialize.</p>\n\n<pre><code>Font font = //Noto Sans CJK font\nJComponent.getFontMetrics(An instance of Noto Sans CJK font);\n</code></pre>\n\n<p>Can I fix this delay problem? The code can be complicated if the method can help fixing this problem(Like implementing FontMetrics, I don't know how).</p>\n\n<p>Please don't recommend me convert otf font to ttf font. I couldn't convert it because font tool said it's alphabetic font and coundn't even load unicode glyphs. Also I have to use another otf font in application. And I won't use already converted version.</p>\n\n<ul>\n<li><p>If you can fix this issue with Java code, I wanna use this method.</p></li>\n<li><p>If any unicode otf fonts can be converted to ttf, I'll use that tool(BUT MUST BE FREE, NO TRIAL. FULL FREE). Please tell me how to convert otf to ttf. I tried website and fontforge. Both returned 7KB font even this font is 7MB.</p></li>\n</ul>\n\n<p>I'm not good at English. Sorry. </p>\n"},{"tags":["java","ssl","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":8596944,"reputation":41,"user_id":6439698,"display_name":"Rahul Chandna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667135044,"creation_date":1667135044,"answer_id":74253287,"question_id":74066314,"body_markdown":"assuming that your pem file has two entries first is cert and second is key.\r\n\r\nanother assumption is that key is of type pkcs8 and it is password protected.\r\n\r\nfirst call to pemParser.readObject() is done with assumption that first entry in pem file is of x509 certificate\r\n\r\nsecond call to pemParser.readObject() is done with assumption that second entry in pem file is of pkcs8 password protected key\r\n\r\nvariable certificate will contain the x509 certificate and variable finalKey will contain the private key\r\n\r\n    private void getCertAndKeyFromPemFile(String fileName, String keyPassword) throws Exception {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        PEMParser pemParser = new PEMParser(new FileReader(fileName));\r\n\r\n        JcaX509CertificateConverter x509Converter = new JcaX509CertificateConverter().setProvider(new BouncyCastleProvider());\r\n\r\n        X509Certificate certificate =x509Converter.getCertificate((X509CertificateHolder) pemParser.readObject());\r\n\r\n        PKCS8EncryptedPrivateKeyInfo privateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\r\n\r\n        InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(keyPassword.toCharArray());\r\n\r\n        PrivateKey finalKey = new JcaPEMKeyConverter().getPrivateKey(privateKeyInfo.decryptPrivateKeyInfo(decryptorProvider));\r\n\r\n    }","title":"PEMParser bouncy castle read certificate and private key from PEM","body":"<p>assuming that your pem file has two entries first is cert and second is key.</p>\n<p>another assumption is that key is of type pkcs8 and it is password protected.</p>\n<p>first call to pemParser.readObject() is done with assumption that first entry in pem file is of x509 certificate</p>\n<p>second call to pemParser.readObject() is done with assumption that second entry in pem file is of pkcs8 password protected key</p>\n<p>variable certificate will contain the x509 certificate and variable finalKey will contain the private key</p>\n<pre><code>private void getCertAndKeyFromPemFile(String fileName, String keyPassword) throws Exception {\n    Security.addProvider(new BouncyCastleProvider());\n    PEMParser pemParser = new PEMParser(new FileReader(fileName));\n\n    JcaX509CertificateConverter x509Converter = new JcaX509CertificateConverter().setProvider(new BouncyCastleProvider());\n\n    X509Certificate certificate =x509Converter.getCertificate((X509CertificateHolder) pemParser.readObject());\n\n    PKCS8EncryptedPrivateKeyInfo privateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemParser.readObject();\n\n    InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(keyPassword.toCharArray());\n\n    PrivateKey finalKey = new JcaPEMKeyConverter().getPrivateKey(privateKeyInfo.decryptPrivateKeyInfo(decryptorProvider));\n\n}\n</code></pre>\n"}],"owner":{"account_id":13226838,"reputation":175,"user_id":9551700,"display_name":"VladimirCoder84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667135044,"creation_date":1665735455,"question_id":74066314,"body_markdown":"I have created a PEMParser object to which I pass a PEM string containing chain certificate, encrypted private key etc.  Which is the way to retrieve the decrypted private key and the certificate X509? I have tried with :\r\n\r\n    pemParser.readObject() \r\n\r\nI am able to get a x509CertificateHolder (how to get the certificate from it?) and at the second call an encrypted privatekey info.\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"PEMParser bouncy castle read certificate and private key from PEM","body":"<p>I have created a PEMParser object to which I pass a PEM string containing chain certificate, encrypted private key etc.  Which is the way to retrieve the decrypted private key and the certificate X509? I have tried with :</p>\n<pre><code>pemParser.readObject() \n</code></pre>\n<p>I am able to get a x509CertificateHolder (how to get the certificate from it?) and at the second call an encrypted privatekey info.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-10"],"answers":[{"tags":[],"owner":{"account_id":8800331,"reputation":175,"user_id":6576754,"display_name":"Nolan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1522781002,"creation_date":1522780725,"answer_id":49637031,"question_id":49636993,"body_markdown":"`var` is something that is already in C#. Basically, instead of declaring a variable type, it assumes its type from what it is being set to. For instance:\r\n\r\n    var myString = &quot;Hello world&quot;\r\n\r\nBecause you are setting it to a value in quotes, it assumes it is a `String`, rather than having to specify like:\r\n\r\n    String myString = &quot;Hello world&quot;","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> is something that is already in C#. Basically, instead of declaring a variable type, it assumes its type from what it is being set to. For instance:</p>\n\n<pre><code>var myString = \"Hello world\"\n</code></pre>\n\n<p>Because you are setting it to a value in quotes, it assumes it is a <code>String</code>, rather than having to specify like:</p>\n\n<pre><code>String myString = \"Hello world\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1667134262,"creation_date":1570042290,"answer_id":58207673,"question_id":49636993,"body_markdown":"`var` serves a somewhat conceptually similar purpose in both languages, but there are important differences.\r\n\r\nJavaScript is a [dynamically typed language](https://stackoverflow.com/questions/2351190/static-dynamic-vs-strong-weak). A variable does not have type information. It does not have restrictions on what it can contain. It is just a holder for a value, and the value can be of any type.\r\n\r\nJava is a statically typed language and the opposite is true for all of those statements. A programmer has to say up-front what type their variable can hold. They may be as lenient as `Object` (every class extends `Object` implicitly) or as specific as [`FieldTagTestsVisitorComparator`](https://projects.haykranen.nl/java/).\r\n\r\n    Object objectVariable = &quot;hello&quot;;\r\n    FieldTagTestsVisitorComparator enterpriseVariable = new FieldTagTestsVisitorComparator();\r\n\r\nIn JavaScript, I can very concisely write\r\n\r\n    var age = 10;\r\n\r\nand I have a place in which to store a value which I can read or manipulate later.\r\n\r\nIf I decide later in my code that I want to reassign something else to this variable then I can do so.\r\n\r\n    age = {years: 10, months: 4, days: 5};\r\n\r\nYou can see clearly see which declarations are nicer to work with. People often complain about Java&#39;s verbosity. In my example above, I&#39;ve declared `FieldTagTestsVisitorComparator` twice on the same exact line. What value is that adding? I&#39;ve just repeated myself.\r\n\r\n`var` in Java seeks to [reduce the amount of repeated declarations](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). Like [the diamond operator](https://stackoverflow.com/questions/4166966/what-is-the-point-of-the-diamond-operator-in-java-7) before it, the language designers are trying to improve the Java compiler so that it is clever enough to make inferences about what programmers are intending. Why should something be explicit if it can be implicit?\r\n\r\nWhat this means in practice is that the type of the variable on the left-hand-side of the assignment is *deduced* from the right-hand-side.\r\n\r\nIf I write the following in Java\r\n\r\n    var foo = new StringBuilder();\r\n\r\nthen the Java 10+ compilers are clever enough to recognize a string builder on the right-hand-side and to automatically give the variable `foo` the appropriate type.\r\n\r\nThis fundamentally differs from JavaScript because although I have not specified the type, a type *is still present*. I cannot subsequently assign anything I like to it:\r\n\r\n    foo = 3; // fails to compile, foo is of type StringBuilder\r\n\r\n`var` is purely used at compile time. The compiler works out the type, replaces it, and the bytecode is the same as if it had never been used. There is no functional difference between\r\n\r\n    var foo = new StringBuilder();\r\n\r\nand\r\n\r\n    StringBuilder foo = new StringBuilder();\r\n\r\nIt is purely a [cosmetic difference](https://en.wikipedia.org/wiki/Syntactic_sugar) which makes the language more expressive.\r\n\r\n----\r\n\r\n**A note about `var`&#39;s status**\r\n\r\nJava language designers are always very careful when adding new features to not break backwards compatibility, and so `var` has somewhat special status. It is not a keyword, because having keyword status would be overly restrictive. Keywords cannot be used as identifiers, for example; I cannot have a method called `if` because `if` is a keyword.\r\n\r\n`var` is, as your quote states, a &quot;reserved type name&quot;. This sounds complex at first, but it is actually very descriptive of `var`&#39;s status. It is the name of a type that has been reserved by Java. You cannot name your types - classes, interfaces, enumerations - `var`, because that would introduce an ambiguity.\r\n\r\nYou are still free to use the word &quot;var&quot; in every other context - method names, variable identifiers, etc.\r\n\r\nBy having this status, the designers have maximized backwards compatibility (short of not adding the feature at all!). Unless you had a class called lowercase `var` -- and firstly what are you doing choosing these terrible names, and secondly why didn&#39;t you at least follow the naming convention and call it `Var`? -- then you&#39;re protected from any breaking changes.\r\n\r\nThere&#39;s a whole question about this here: https://stackoverflow.com/questions/49089124/what-type-of-token-exactly-is-var-in-java-10\r\n\r\n----\r\n\r\nGood feature, right? It definitely is, but it important not to simply start using it everywhere just because you can. Stuart Marks, one of the JDK developers, has some excellent [style guidelines](https://openjdk.java.net/projects/amber/LVTIstyle.html) which I recommend that you read.\r\n\r\nMy rule of thumb is that if the type is not specified on the same line (as it is in the above examples) then I do not use `var`. The compiler is clever enough to infer the type from the result of any valid expression, so the following is perfectly valid:\r\n\r\n    var foo = bar();\r\n\r\nHowever, without looking at the method signature, it is not immediately obvious what the type of the variable will be inferred to be. There isnt any ambiguity for the compiler, but it is less clear for the human who&#39;s reading it. In such a case, we have sacrificed readability for brevity.\r\n\r\n---\r\n\r\n**Further reading**\r\n\r\n - [JEP 286: Local-Variable Type Inference](http://openjdk.java.net/jeps/286)\r\n - [FAQ for JEP 286 (Local Variable Type\r\n   Inference)](http://cr.openjdk.java.net/~briangoetz/jep-286/lvti-faq.html)\r\n\r\n\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> serves a somewhat conceptually similar purpose in both languages, but there are important differences.</p>\n<p>JavaScript is a <a href=\"https://stackoverflow.com/questions/2351190/static-dynamic-vs-strong-weak\">dynamically typed language</a>. A variable does not have type information. It does not have restrictions on what it can contain. It is just a holder for a value, and the value can be of any type.</p>\n<p>Java is a statically typed language and the opposite is true for all of those statements. A programmer has to say up-front what type their variable can hold. They may be as lenient as <code>Object</code> (every class extends <code>Object</code> implicitly) or as specific as <a href=\"https://projects.haykranen.nl/java/\" rel=\"nofollow noreferrer\"><code>FieldTagTestsVisitorComparator</code></a>.</p>\n<pre><code>Object objectVariable = &quot;hello&quot;;\nFieldTagTestsVisitorComparator enterpriseVariable = new FieldTagTestsVisitorComparator();\n</code></pre>\n<p>In JavaScript, I can very concisely write</p>\n<pre><code>var age = 10;\n</code></pre>\n<p>and I have a place in which to store a value which I can read or manipulate later.</p>\n<p>If I decide later in my code that I want to reassign something else to this variable then I can do so.</p>\n<pre><code>age = {years: 10, months: 4, days: 5};\n</code></pre>\n<p>You can see clearly see which declarations are nicer to work with. People often complain about Java's verbosity. In my example above, I've declared <code>FieldTagTestsVisitorComparator</code> twice on the same exact line. What value is that adding? I've just repeated myself.</p>\n<p><code>var</code> in Java seeks to <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">reduce the amount of repeated declarations</a>. Like <a href=\"https://stackoverflow.com/questions/4166966/what-is-the-point-of-the-diamond-operator-in-java-7\">the diamond operator</a> before it, the language designers are trying to improve the Java compiler so that it is clever enough to make inferences about what programmers are intending. Why should something be explicit if it can be implicit?</p>\n<p>What this means in practice is that the type of the variable on the left-hand-side of the assignment is <em>deduced</em> from the right-hand-side.</p>\n<p>If I write the following in Java</p>\n<pre><code>var foo = new StringBuilder();\n</code></pre>\n<p>then the Java 10+ compilers are clever enough to recognize a string builder on the right-hand-side and to automatically give the variable <code>foo</code> the appropriate type.</p>\n<p>This fundamentally differs from JavaScript because although I have not specified the type, a type <em>is still present</em>. I cannot subsequently assign anything I like to it:</p>\n<pre><code>foo = 3; // fails to compile, foo is of type StringBuilder\n</code></pre>\n<p><code>var</code> is purely used at compile time. The compiler works out the type, replaces it, and the bytecode is the same as if it had never been used. There is no functional difference between</p>\n<pre><code>var foo = new StringBuilder();\n</code></pre>\n<p>and</p>\n<pre><code>StringBuilder foo = new StringBuilder();\n</code></pre>\n<p>It is purely a <a href=\"https://en.wikipedia.org/wiki/Syntactic_sugar\" rel=\"nofollow noreferrer\">cosmetic difference</a> which makes the language more expressive.</p>\n<hr />\n<p><strong>A note about <code>var</code>'s status</strong></p>\n<p>Java language designers are always very careful when adding new features to not break backwards compatibility, and so <code>var</code> has somewhat special status. It is not a keyword, because having keyword status would be overly restrictive. Keywords cannot be used as identifiers, for example; I cannot have a method called <code>if</code> because <code>if</code> is a keyword.</p>\n<p><code>var</code> is, as your quote states, a &quot;reserved type name&quot;. This sounds complex at first, but it is actually very descriptive of <code>var</code>'s status. It is the name of a type that has been reserved by Java. You cannot name your types - classes, interfaces, enumerations - <code>var</code>, because that would introduce an ambiguity.</p>\n<p>You are still free to use the word &quot;var&quot; in every other context - method names, variable identifiers, etc.</p>\n<p>By having this status, the designers have maximized backwards compatibility (short of not adding the feature at all!). Unless you had a class called lowercase <code>var</code> -- and firstly what are you doing choosing these terrible names, and secondly why didn't you at least follow the naming convention and call it <code>Var</code>? -- then you're protected from any breaking changes.</p>\n<p>There's a whole question about this here: <a href=\"https://stackoverflow.com/questions/49089124/what-type-of-token-exactly-is-var-in-java-10\">What type of token exactly is &quot;var&quot; in Java 10?</a></p>\n<hr />\n<p>Good feature, right? It definitely is, but it important not to simply start using it everywhere just because you can. Stuart Marks, one of the JDK developers, has some excellent <a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">style guidelines</a> which I recommend that you read.</p>\n<p>My rule of thumb is that if the type is not specified on the same line (as it is in the above examples) then I do not use <code>var</code>. The compiler is clever enough to infer the type from the result of any valid expression, so the following is perfectly valid:</p>\n<pre><code>var foo = bar();\n</code></pre>\n<p>However, without looking at the method signature, it is not immediately obvious what the type of the variable will be inferred to be. There isnt any ambiguity for the compiler, but it is less clear for the human who's reading it. In such a case, we have sacrificed readability for brevity.</p>\n<hr />\n<p><strong>Further reading</strong></p>\n<ul>\n<li><a href=\"http://openjdk.java.net/jeps/286\" rel=\"nofollow noreferrer\">JEP 286: Local-Variable Type Inference</a></li>\n<li><a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/jep-286/lvti-faq.html\" rel=\"nofollow noreferrer\">FAQ for JEP 286 (Local Variable Type\nInference)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667133843,"creation_date":1638192540,"answer_id":70155487,"question_id":49636993,"body_markdown":"`var` is a new *keyword* that was introduced in Java 10. The behaviors are almost the same as JavaScript. See below for what we can and cannot with the *var* keyword in Java.\r\n\r\n**Can**\r\n\r\n - Declare any datatype with the *var* keyword\r\n - Be used in a local variable declaration\r\n\r\n**Can not**\r\n\r\n - Be used in an instance and global variable declaration\r\n - Be used as a *generic* type\r\n - Be used with the generic type\r\n - Be used without explicit initialization\r\n - Be used with a *[lambda expression][1]*\r\n - Be used for method parameters and return type\r\n\r\n`var` supports *generic types* and also *lambda expressions* from Java 11.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Anonymous_function\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p><code>var</code> is a new <em>keyword</em> that was introduced in Java 10. The behaviors are almost the same as JavaScript. See below for what we can and cannot with the <em>var</em> keyword in Java.</p>\n<p><strong>Can</strong></p>\n<ul>\n<li>Declare any datatype with the <em>var</em> keyword</li>\n<li>Be used in a local variable declaration</li>\n</ul>\n<p><strong>Can not</strong></p>\n<ul>\n<li>Be used in an instance and global variable declaration</li>\n<li>Be used as a <em>generic</em> type</li>\n<li>Be used with the generic type</li>\n<li>Be used without explicit initialization</li>\n<li>Be used with a <em><a href=\"https://en.wikipedia.org/wiki/Anonymous_function\" rel=\"nofollow noreferrer\">lambda expression</a></em></li>\n<li>Be used for method parameters and return type</li>\n</ul>\n<p><code>var</code> supports <em>generic types</em> and also <em>lambda expressions</em> from Java 11.</p>\n"}],"owner":{"account_id":12524724,"reputation":499,"user_id":9114962,"display_name":"Eshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4643,"favorite_count":0,"down_vote_count":7,"up_vote_count":13,"accepted_answer_id":58207673,"answer_count":3,"score":6,"last_activity_date":1667134262,"creation_date":1522780575,"question_id":49636993,"body_markdown":"I was reading about the new features released in Java 10 and I found this:\r\n\r\n&gt; Java 10 introduced `var` as a reserve type name to reduce verbosity.\r\n&gt; It can be used as a variable, method, and package name, but we cannot\r\n&gt; use it as a class or interface name.\r\n\r\nIs `var` similar to the `var` keyword in JavaScript? What exactly are the similarities and the differences between Java&#39;s `var` and JavaScript&#39;s `var`?\r\n\r\n\r\n\r\n","title":"What is &#39;var&#39; in Java 10, and is it comparable to JavaScript?","body":"<p>I was reading about the new features released in Java 10 and I found this:</p>\n<blockquote>\n<p>Java 10 introduced <code>var</code> as a reserve type name to reduce verbosity.\nIt can be used as a variable, method, and package name, but we cannot\nuse it as a class or interface name.</p>\n</blockquote>\n<p>Is <code>var</code> similar to the <code>var</code> keyword in JavaScript? What exactly are the similarities and the differences between Java's <code>var</code> and JavaScript's <code>var</code>?</p>\n"},{"tags":["java","security","encryption","aes","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667134121,"post_id":74253159,"comment_id":131094064,"body_markdown":"[Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/238704)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/238704\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1667134720,"post_id":74253159,"comment_id":131094195,"body_markdown":"`generateKeyPair()` generates a *different* key pair every time you call it. You must use the public and private keys from a single pair to accomplish your task.","body":"<code>generateKeyPair()</code> generates a <i>different</i> key pair every time you call it. You must use the public and private keys from a single pair to accomplish your task."}],"owner":{"account_id":26045726,"reputation":27,"user_id":19749794,"display_name":"darkman106"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667133886,"creation_date":1667133886,"question_id":74253159,"body_markdown":"I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file). \r\n\r\nhere below is the code:\r\n\r\n``` \r\nimport java.io.*;\r\nimport java.security.*;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.spec.IvParameterSpec;\r\n\r\npublic class Main {\r\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGenerator.init(n);\r\n        SecretKey key = keyGenerator.generateKey();\r\n        return key;\r\n    }\r\n    public static IvParameterSpec generateIv() {\r\n        byte[] iv = new byte[128/8];\r\n        new SecureRandom().nextBytes(iv);\r\n        return new IvParameterSpec(iv);\r\n    }\r\n\r\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\r\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\r\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\r\n            BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(algorithm);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        byte[] buffer = new byte[64];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            byte[] output = cipher.update(buffer, 0, bytesRead);\r\n            if (output != null) {\r\n                outputStream.write(output);\r\n            }\r\n        }\r\n        byte[] outputBytes = cipher.doFinal();\r\n        if (outputBytes != null) {\r\n            outputStream.write(outputBytes);\r\n        }\r\n        inputStream.close();\r\n        outputStream.close();\r\n    }\r\n\r\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048);\r\n        KeyPair pair = generator.generateKeyPair();\r\n        return pair;\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\r\n\r\n        //generating a symmetric key\r\n        SecretKey secKey = generateKey(128);\r\n        //generating an IV\r\n        IvParameterSpec iv=generateIv();\r\n\r\n        //encrypt the data with AES\r\n        File inputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\r\n        File outputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\r\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\r\n\r\n        //RSA pair of keys generation\r\n        PrivateKey privateKey = generateKeyPair().getPrivate();\r\n        PublicKey publicKey = generateKeyPair().getPublic();\r\n\r\n        //encrypt the symmetric key with RSA public key\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\r\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\r\n\r\n        //decrypt the symmentric key with RSA private Key\r\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\r\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\r\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\r\n\r\n        //Decrypt the cipher text using decrypted symmetric key\r\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, originalKey,iv,outputFile,inputFile);\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute this, I get an BadPaddingException: Decryption error.\r\n[error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pLQdb.png\r\n\r\nWhat is the problem and how can I solve it?","title":"BadPaddingException: Decryption error while encrypting and decrypting a file using RSA with symmetrics Key in Java","body":"<p>I am doing a project to learn about encryption and decryption. I encrypt a file (input file) and encrypt the symmetric key using RSA public. Then I decrypt the symmetric key using RSA private key and then decrypt the file(output file).</p>\n<p>here below is the code:</p>\n<pre><code>import java.io.*;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\npublic class Main {\n    public static SecretKey generateKey(int n) throws NoSuchAlgorithmException {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGenerator.init(n);\n        SecretKey key = keyGenerator.generateKey();\n        return key;\n    }\n    public static IvParameterSpec generateIv() {\n        byte[] iv = new byte[128/8];\n        new SecureRandom().nextBytes(iv);\n        return new IvParameterSpec(iv);\n    }\n\n    public static void encryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static void decryptFile(String algorithm, SecretKey key, IvParameterSpec iv,\n                                   File inputFile, File outputFile) throws IOException, NoSuchPaddingException,\n            NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException,\n            BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        FileInputStream inputStream = new FileInputStream(inputFile);\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\n        byte[] buffer = new byte[64];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            byte[] output = cipher.update(buffer, 0, bytesRead);\n            if (output != null) {\n                outputStream.write(output);\n            }\n        }\n        byte[] outputBytes = cipher.doFinal();\n        if (outputBytes != null) {\n            outputStream.write(outputBytes);\n        }\n        inputStream.close();\n        outputStream.close();\n    }\n\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        generator.initialize(2048);\n        KeyPair pair = generator.generateKeyPair();\n        return pair;\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, IOException, RuntimeException, InvalidKeySpecException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchPaddingException, InvalidAlgorithmParameterException {\n\n        //generating a symmetric key\n        SecretKey secKey = generateKey(128);\n        //generating an IV\n        IvParameterSpec iv=generateIv();\n\n        //encrypt the data with AES\n        File inputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/inputFile.txt&quot;);\n        File outputFile = new File(&quot;C:/Users/nm-ca/IdeaProjects/RSA/src/outputFile.txt&quot;);\n        encryptFile(&quot;AES/CBC/PKCS5Padding&quot;,secKey,iv,inputFile,outputFile);\n\n        //RSA pair of keys generation\n        PrivateKey privateKey = generateKeyPair().getPrivate();\n        PublicKey publicKey = generateKeyPair().getPublic();\n\n        //encrypt the symmetric key with RSA public key\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.PUBLIC_KEY, publicKey);\n        byte[] encryptedKey = cipher.doFinal(secKey.getEncoded());\n\n        //decrypt the symmentric key with RSA private Key\n        cipher.init(Cipher.PRIVATE_KEY, privateKey);\n        byte[] decryptedKey = cipher.doFinal(encryptedKey);\n        SecretKey originalKey = new SecretKeySpec(decryptedKey , 0, decryptedKey .length, &quot;AES&quot;);\n\n        //Decrypt the cipher text using decrypted symmetric key\n        decryptFile(&quot;AES/CBC/PKCS5Padding&quot;, originalKey,iv,outputFile,inputFile);\n    }\n}\n</code></pre>\n<p>When I execute this, I get an BadPaddingException: Decryption error.\n<a href=\"https://i.stack.imgur.com/pLQdb.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>What is the problem and how can I solve it?</p>\n"},{"tags":["java","jtabbedpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1667139098,"post_id":74253102,"comment_id":131095088,"body_markdown":"If you want to add data to a table, then you need a reference to the table. We have no idea how each tab references the table in the first tab. I would guess you just need to make sure you define the table as an instance variable in your class so all tabs can reference the table. If you need more help, then post a [mre].","body":"If you want to add data to a table, then you need a reference to the table. We have no idea how each tab references the table in the first tab. I would guess you just need to make sure you define the table as an instance variable in your class so all tabs can reference the table. If you need more help, then post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26775956,"reputation":1,"user_id":20371598,"display_name":"Solider"},"score":0,"creation_date":1667143760,"post_id":74253102,"comment_id":131096023,"body_markdown":"no, i mean when i create a new tab it will be a new table, this new table and the old one in the old tab are 2 different tables and when I select the old tab and add data, the table in the old tab will pick up and display","body":"no, i mean when i create a new tab it will be a new table, this new table and the old one in the old tab are 2 different tables and when I select the old tab and add data, the table in the old tab will pick up and display"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667145333,"post_id":74253102,"comment_id":131096359,"body_markdown":"As I said you need a reference to the table. You need to access the table on the current tab. We have no idea how your code is structured so we can&#39;t give an exact solution. It is up to you to make sure you can reference the table on each tab.","body":"As I said you need a reference to the table. You need to access the table on the current tab. We have no idea how your code is structured so we can&#39;t give an exact solution. It is up to you to make sure you can reference the table on each tab."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667146566,"post_id":74253102,"comment_id":131096629,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26775956,"reputation":1,"user_id":20371598,"display_name":"Solider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667133438,"creation_date":1667133438,"question_id":74253102,"body_markdown":"I am developing an application that needs to use JTabbedpane, when I add a new tab and I want to add data to the Jtable in the old tab, it does not show the newly added data, but when I select the newly created tab and add it, it still display the newly added data. Does anyone know a way so that when I select the old tab and add data it works fine\r\n\r\n\r\nI can select random tab to add data to jatable and it shows the newly added data\r\n\r\n","title":"Add data to the old tab of JTabbedpane in java for it to work","body":"<p>I am developing an application that needs to use JTabbedpane, when I add a new tab and I want to add data to the Jtable in the old tab, it does not show the newly added data, but when I select the newly created tab and add it, it still display the newly added data. Does anyone know a way so that when I select the old tab and add data it works fine</p>\n<p>I can select random tab to add data to jatable and it shows the newly added data</p>\n"},{"tags":["java","multithreading","concurrency","reentrantlock"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634217234,"creation_date":1565448991,"answer_id":57443207,"question_id":57440851,"body_markdown":"&gt; Why do we need to acquire a lock multiple times?\r\n\r\nClearly, you don&#39;t *need* to.  But it is not unusual for an application to do it &quot;by accident&quot;.  For example:\r\n\r\n      public void binaryOperation(Operand op1, Operand op2) {\r\n          synchronized (op1) {\r\n              synchronized (op2) {\r\n                   // do something that needs the locks\r\n              }\r\n          }\r\n      }\r\n\r\n      // now call passing the same object for both operands\r\n      Operand op = ...\r\n      binaryOperation(op, op); \r\n\r\nIn this example, the `op` object will actually get locked twice.  If primitive locks weren&#39;t re-entrant, this could would fail (or deadlock).  \r\n\r\nNow we *could* fix the `binaryOperation` method to not do that, but it would make the code significantly more complicated.\r\n\r\nThe same scenario can happen with `ReentrantLock`.\r\n\r\n---------------------------\r\n\r\nQuestion 1.\r\n\r\n&gt; But to actually get to running state, it needs the lock however. So what&#39;s the point of wait(long timeout) method?\r\n\r\nThis is about `Object::wait`.  The `ReentrantLock` API doesn&#39;t support this.  (Beware: you can use `wait` and `notify` on a `ReentrantLock` object, but only if you are treating it as a primitive lock.  Not a good idea!)\r\n\r\nThe `wait` is waiting for a notification, and the `timeout` says how long the caller is prepared to wait for the notification.  As the [javadoc][1] says:\r\n\r\n&gt; &quot;Causes the current thread to wait until either another thread invokes the `notify()` method or the `notifyAll()` method for this object, or a specified amount of time has elapsed.&quot;\r\n\r\nWith both `wait()` and `wait(timeout)`, it is up to the caller to check that the condition that it was expecting to be &quot;notified about&quot; has actually satisfied.  (See the note about &quot;spurious wakeup&quot; ... and the example code.)\r\n  \r\n&gt; What&#39;s the advantage of wait(long timeout) over wait() method?\r\n\r\nSimply, it gives you the option of only waiting a limited time for the notification.   If this is not useful, don&#39;t use it.\r\n\r\n--------\r\n\r\nQuestion 2.\r\n\r\n&gt; But in the case of `ReentrantLock`, on which object is the lock acquired?\r\n\r\nStrictly speaking, it is the lock itself.  What that the lock actually means will depend on how you code your classes.  But that is exactly the same as with primitive mutexes.   \r\n\r\nLocking in Java doesn&#39;t prevent some misbehaving code from accessing and or updating some shared state without holding the lock.   It is up to the programmer to do it correctly.\r\n\r\n&gt; The threads trying to acquire whose lock are made to wait? \r\n\r\nYes.\r\n\r\n------------------\r\n\r\nQuestion 3.\r\n\r\n&gt; How does a ReentrantLock avoid deadlock?\r\n\r\nIn general, it doesn&#39;t.\r\n\r\nIn the case of reentrant locking (i.e. in the case where a thread attempts to acquire lock A while holding lock A), the `ReentrantLock` implementation notices that the thread holding the lock is the thread acquiring the lock.  A counter is incremented, so that the implementation knows that the lock must be released *twice*.\r\n\r\n&gt; How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. \r\n\r\nThat is one approach.\r\n\r\n&gt; But what could be the possible alternate operations? \r\n\r\n1.  Ensure that all threads acquire the locks in the same order.  (Deadlocks occur when threads attempt to acquire two or more threads in a different order.)\r\n\r\n2.  If `tryLock` fails while holding a different lock, release the lock, wait a bit, and try again.\r\n\r\n&gt; What if the thread must need the lock to work?\r\n\r\nThen you design the logic so that deadlock is avoided; see the alternatives above!\r\n\r\n-------------------\r\n\r\nQuestion 4.\r\n\r\n&gt; But why do we have to acquire lock several times?\r\n\r\nAs stated above, you *typically* don&#39;t.  But the point of a `ReentrantLock` is that you don&#39;t have to worry in the case where you do end up acquiring the lock twice ... for whatever reason.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<blockquote>\n<p>Why do we need to acquire a lock multiple times?</p>\n</blockquote>\n<p>Clearly, you don't <em>need</em> to.  But it is not unusual for an application to do it &quot;by accident&quot;.  For example:</p>\n<pre><code>  public void binaryOperation(Operand op1, Operand op2) {\n      synchronized (op1) {\n          synchronized (op2) {\n               // do something that needs the locks\n          }\n      }\n  }\n\n  // now call passing the same object for both operands\n  Operand op = ...\n  binaryOperation(op, op); \n</code></pre>\n<p>In this example, the <code>op</code> object will actually get locked twice.  If primitive locks weren't re-entrant, this could would fail (or deadlock).</p>\n<p>Now we <em>could</em> fix the <code>binaryOperation</code> method to not do that, but it would make the code significantly more complicated.</p>\n<p>The same scenario can happen with <code>ReentrantLock</code>.</p>\n<hr />\n<p>Question 1.</p>\n<blockquote>\n<p>But to actually get to running state, it needs the lock however. So what's the point of wait(long timeout) method?</p>\n</blockquote>\n<p>This is about <code>Object::wait</code>.  The <code>ReentrantLock</code> API doesn't support this.  (Beware: you can use <code>wait</code> and <code>notify</code> on a <code>ReentrantLock</code> object, but only if you are treating it as a primitive lock.  Not a good idea!)</p>\n<p>The <code>wait</code> is waiting for a notification, and the <code>timeout</code> says how long the caller is prepared to wait for the notification.  As the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-\" rel=\"nofollow noreferrer\">javadoc</a> says:</p>\n<blockquote>\n<p>&quot;Causes the current thread to wait until either another thread invokes the <code>notify()</code> method or the <code>notifyAll()</code> method for this object, or a specified amount of time has elapsed.&quot;</p>\n</blockquote>\n<p>With both <code>wait()</code> and <code>wait(timeout)</code>, it is up to the caller to check that the condition that it was expecting to be &quot;notified about&quot; has actually satisfied.  (See the note about &quot;spurious wakeup&quot; ... and the example code.)</p>\n<blockquote>\n<p>What's the advantage of wait(long timeout) over wait() method?</p>\n</blockquote>\n<p>Simply, it gives you the option of only waiting a limited time for the notification.   If this is not useful, don't use it.</p>\n<hr />\n<p>Question 2.</p>\n<blockquote>\n<p>But in the case of <code>ReentrantLock</code>, on which object is the lock acquired?</p>\n</blockquote>\n<p>Strictly speaking, it is the lock itself.  What that the lock actually means will depend on how you code your classes.  But that is exactly the same as with primitive mutexes.</p>\n<p>Locking in Java doesn't prevent some misbehaving code from accessing and or updating some shared state without holding the lock.   It is up to the programmer to do it correctly.</p>\n<blockquote>\n<p>The threads trying to acquire whose lock are made to wait?</p>\n</blockquote>\n<p>Yes.</p>\n<hr />\n<p>Question 3.</p>\n<blockquote>\n<p>How does a ReentrantLock avoid deadlock?</p>\n</blockquote>\n<p>In general, it doesn't.</p>\n<p>In the case of reentrant locking (i.e. in the case where a thread attempts to acquire lock A while holding lock A), the <code>ReentrantLock</code> implementation notices that the thread holding the lock is the thread acquiring the lock.  A counter is incremented, so that the implementation knows that the lock must be released <em>twice</em>.</p>\n<blockquote>\n<p>How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock.</p>\n</blockquote>\n<p>That is one approach.</p>\n<blockquote>\n<p>But what could be the possible alternate operations?</p>\n</blockquote>\n<ol>\n<li><p>Ensure that all threads acquire the locks in the same order.  (Deadlocks occur when threads attempt to acquire two or more threads in a different order.)</p>\n</li>\n<li><p>If <code>tryLock</code> fails while holding a different lock, release the lock, wait a bit, and try again.</p>\n</li>\n</ol>\n<blockquote>\n<p>What if the thread must need the lock to work?</p>\n</blockquote>\n<p>Then you design the logic so that deadlock is avoided; see the alternatives above!</p>\n<hr />\n<p>Question 4.</p>\n<blockquote>\n<p>But why do we have to acquire lock several times?</p>\n</blockquote>\n<p>As stated above, you <em>typically</em> don't.  But the point of a <code>ReentrantLock</code> is that you don't have to worry in the case where you do end up acquiring the lock twice ... for whatever reason.</p>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667133279,"creation_date":1667132944,"answer_id":74253048,"question_id":57440851,"body_markdown":"I think few use cases of Reentrancy (why do we to acquire a lock multiple times) are discussed in some Oracle docs: \r\n\r\n[ReentrantReadWriteLock class][1].\r\n\r\n&gt; This lock allows both readers and writers to reacquire read or write\r\n&gt; locks in the style of a ReentrantLock. Non-reentrant readers are not\r\n&gt; allowed until all write locks held by the writing thread have been\r\n&gt; released.\r\n&gt; \r\n&gt; Additionally, a writer can acquire the read lock, but not vice-versa.\r\n&gt; **Among other applications, reentrancy can be useful when write locks\r\n&gt; are held during calls or callbacks to methods that perform reads under\r\n&gt; read locks.** If a reader tries to acquire the write lock it will never\r\n&gt; succeed.\r\n\r\n[Reentrant Synchronization][2]\r\n\r\n&gt; Recall that a thread cannot acquire a lock owned by another thread.\r\n&gt; But a thread can acquire a lock that it already owns. Allowing a\r\n&gt; thread to acquire the same lock more than once enables reentrant\r\n&gt; synchronization. This describes a situation where synchronized code,\r\n&gt; directly or indirectly, invokes a method that also contains\r\n&gt; synchronized code, and both sets of code use the same lock. **Without\r\n&gt; reentrant synchronization, synchronized code would have to take many\r\n&gt; additional precautions to avoid having a thread cause itself to block.**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<p>I think few use cases of Reentrancy (why do we to acquire a lock multiple times) are discussed in some Oracle docs:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">ReentrantReadWriteLock class</a>.</p>\n<blockquote>\n<p>This lock allows both readers and writers to reacquire read or write\nlocks in the style of a ReentrantLock. Non-reentrant readers are not\nallowed until all write locks held by the writing thread have been\nreleased.</p>\n<p>Additionally, a writer can acquire the read lock, but not vice-versa.\n<strong>Among other applications, reentrancy can be useful when write locks\nare held during calls or callbacks to methods that perform reads under\nread locks.</strong> If a reader tries to acquire the write lock it will never\nsucceed.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Reentrant Synchronization</a></p>\n<blockquote>\n<p>Recall that a thread cannot acquire a lock owned by another thread.\nBut a thread can acquire a lock that it already owns. Allowing a\nthread to acquire the same lock more than once enables reentrant\nsynchronization. This describes a situation where synchronized code,\ndirectly or indirectly, invokes a method that also contains\nsynchronized code, and both sets of code use the same lock. <strong>Without\nreentrant synchronization, synchronized code would have to take many\nadditional precautions to avoid having a thread cause itself to block.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":7567353,"reputation":97,"user_id":5742365,"display_name":"Neeraja Gandla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3327,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57443207,"answer_count":2,"score":3,"last_activity_date":1667133279,"creation_date":1565428521,"question_id":57440851,"body_markdown":"I have recently been learning multithreading concepts in java. I have a few doubts which didn&#39;t resolve by looking up the relevant threads on StackOverflow. I couldn&#39;t find satisfactory answers for my following questions: \r\n\r\n1. wait() method makes the thread to wait till it gets the lock. Whereas, the wait(long timeout) method makes the thread wait for &#39;timeout&#39; no. of milliseconds and if it still doesn&#39;t get the lock, goes back to runnable state. But to actually get to running state, it needs the lock however. So what&#39;s the point of wait(long timeout) method? The thread however releases the locks acquired by it when it&#39;s in waiting state. So the difference is not even the resources acquired by it. What difference does it make if the thread stays in waiting state or runnable state? What&#39;s the advantage of wait(long timeout) over wait() method?\r\n\r\n2. synchonized keyword or block provides lock on the object on which the method or block is called. It causes another thread which tries to acquire the lock on the same instance to wait. But in the case of ReentrantLock, on which object is the lock acquired? The threads trying to acquire whose lock are made to wait? \r\n\r\n3. How does a ReentrantLock avoid deadlock? Suppose there are two methods m1 and m2. Both need to acquire a lock. m1 is calling m2 and m2 is calling m1. How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. But what could be the possible alternate operations? What if the thread must need the lock to work? \r\n\r\n4. I found that using ReentrantLock we can acquire lock multiple times. But why do we have to acquire lock several times? I have read theoretical answers on this but couldn&#39;t really get it. It will be helpful if you can demonstrate with a clear example code.","title":"Reentrantlock - Why do we need to acquire a lock multiple times?","body":"<p>I have recently been learning multithreading concepts in java. I have a few doubts which didn't resolve by looking up the relevant threads on StackOverflow. I couldn't find satisfactory answers for my following questions: </p>\n\n<ol>\n<li><p>wait() method makes the thread to wait till it gets the lock. Whereas, the wait(long timeout) method makes the thread wait for 'timeout' no. of milliseconds and if it still doesn't get the lock, goes back to runnable state. But to actually get to running state, it needs the lock however. So what's the point of wait(long timeout) method? The thread however releases the locks acquired by it when it's in waiting state. So the difference is not even the resources acquired by it. What difference does it make if the thread stays in waiting state or runnable state? What's the advantage of wait(long timeout) over wait() method?</p></li>\n<li><p>synchonized keyword or block provides lock on the object on which the method or block is called. It causes another thread which tries to acquire the lock on the same instance to wait. But in the case of ReentrantLock, on which object is the lock acquired? The threads trying to acquire whose lock are made to wait? </p></li>\n<li><p>How does a ReentrantLock avoid deadlock? Suppose there are two methods m1 and m2. Both need to acquire a lock. m1 is calling m2 and m2 is calling m1. How can we avoid deadlock in this situation using ReentrantLock? May be we can use tryLock() and provide an alternate operations for the thread which fails to acquire the lock. But what could be the possible alternate operations? What if the thread must need the lock to work? </p></li>\n<li><p>I found that using ReentrantLock we can acquire lock multiple times. But why do we have to acquire lock several times? I have read theoretical answers on this but couldn't really get it. It will be helpful if you can demonstrate with a clear example code.</p></li>\n</ol>\n"},{"tags":["java","file","methods"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667078923,"post_id":74248968,"comment_id":131087006,"body_markdown":"Remember to [show the actual error](/help/how-to-ask) in your post. And of course, remember to look at your post after posting so you can [edit] formatting mistakes.","body":"Remember to <a href=\"/help/how-to-ask\">show the actual error</a> in your post. And of course, remember to look at your post after posting so you can <a href=\"https://stackoverflow.com/posts/74248968/edit\">edit</a> formatting mistakes."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667079910,"creation_date":1667079910,"answer_id":74249078,"question_id":74248968,"body_markdown":"The `NoSuchElementException` is not a compilation error - it is an exception that is thrown at runtime. (The Java compiler cannot known how many values your input file contains and therefore cannot report such an error.)\r\n\r\nAnd to me it is clear why it is thrown: you read the two integers 5 and 5 from the file and then try to read another 25 integer values from the file - but your file contains (after those two values) only 5 values: 0, 0, 1110, 0 and 0.\r\n\r\n`nextInt()` is not the right method to read in your data. Instead of that you should use `next()` (to read a string containing 0s and 1s) and then split them:\r\n\r\n            for (int i = 0; i &lt; fileRow; i++) {\r\n                String s = scan2.next();\r\n                for (int j = 0; j &lt; fileColumn; j++) {\r\n                    array[i][j] = Integer.parseInt(s.substring(j, j+1));\r\n                }\r\n            }\r\n","title":"What does compilation error &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot; mean in regards to my code?","body":"<p>The <code>NoSuchElementException</code> is not a compilation error - it is an exception that is thrown at runtime. (The Java compiler cannot known how many values your input file contains and therefore cannot report such an error.)</p>\n<p>And to me it is clear why it is thrown: you read the two integers 5 and 5 from the file and then try to read another 25 integer values from the file - but your file contains (after those two values) only 5 values: 0, 0, 1110, 0 and 0.</p>\n<p><code>nextInt()</code> is not the right method to read in your data. Instead of that you should use <code>next()</code> (to read a string containing 0s and 1s) and then split them:</p>\n<pre><code>        for (int i = 0; i &lt; fileRow; i++) {\n            String s = scan2.next();\n            for (int j = 0; j &lt; fileColumn; j++) {\n                array[i][j] = Integer.parseInt(s.substring(j, j+1));\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26771987,"reputation":3,"user_id":20368224,"display_name":"Boncappuccino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249078,"answer_count":1,"score":0,"last_activity_date":1667133199,"creation_date":1667078874,"question_id":74248968,"body_markdown":"For the past few days I have been working on a project for my class and keep running into this same error repeatedly.  I am working in visual studio code and the goal of the project is to make the game of life using methods and scanning .txt files.  This same error message keeps showing up whenever I try to compile the code.  Here is the code in question:\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class GameOfLife3 {\r\n    public static final char ON = &#39;X&#39;;\r\n    public static final char OFF = &#39;*&#39;;\r\n    public static int fileRow, fileColumn; \r\n    public static int array[][];\r\n    public static char board[][];\r\n    public static char nextBoard[][];\r\n    public static int nextArray[][];\r\n    public static Scanner scan = new Scanner(System.in);\r\n\r\n    public static int[][] readGrid(String fileName) throws IOException{\r\n\r\n        File file = new File(fileName);\r\n        Scanner scan2 = new Scanner(file);\r\n    \r\n            \r\n            fileRow = scan2.nextInt();  \r\n            fileColumn = scan2.nextInt(); \r\n            array = new int[fileRow][fileColumn];\r\n\r\n            \r\n            for(int i = 0; i &lt; fileRow; i++){\r\n                for(int j = 0; j &lt; fileColumn; j++){\r\n                    array[i][j] = scan2.nextInt();\r\n                }\r\n            }\r\n        \r\n        return array;\r\n   \r\n(there is more code in between here but thats not the part I am having trouble on)\r\n\r\n    public static void main(String[] args) throws IOException{\r\n\r\n        String fileName;\r\n        \r\n        System.out.print(&quot;Please enter the name of the file you want to use (name.txt): &quot;);\r\n        fileName = scan.nextLine();\r\n\r\n        array = readGrid(fileName);\r\n    }\r\n}\r\n\r\n```\r\nI know its pretty messy but I am going to fix it later.\r\n\r\nAlso here is the the .txt file i am trying to use. (name is Blinker.txt)\r\n\r\n&gt; 5 5  \r\n&gt; 00000  \r\n&gt; 00000  \r\n&gt; 01110  \r\n&gt; 00000  \r\n&gt; 00000\r\n\r\nSome stuff I tried to do was use the .hasNextInt() function to check for when the .txt but it did not work.  Any help would be greatly appreciated.","title":"What does compilation error &quot;Exception in thread &quot;main&quot; java.util.NoSuchElementException&quot; mean in regards to my code?","body":"<p>For the past few days I have been working on a project for my class and keep running into this same error repeatedly.  I am working in visual studio code and the goal of the project is to make the game of life using methods and scanning .txt files.  This same error message keeps showing up whenever I try to compile the code.  Here is the code in question:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class GameOfLife3 {\n    public static final char ON = 'X';\n    public static final char OFF = '*';\n    public static int fileRow, fileColumn; \n    public static int array[][];\n    public static char board[][];\n    public static char nextBoard[][];\n    public static int nextArray[][];\n    public static Scanner scan = new Scanner(System.in);\n\n    public static int[][] readGrid(String fileName) throws IOException{\n\n        File file = new File(fileName);\n        Scanner scan2 = new Scanner(file);\n    \n            \n            fileRow = scan2.nextInt();  \n            fileColumn = scan2.nextInt(); \n            array = new int[fileRow][fileColumn];\n\n            \n            for(int i = 0; i &lt; fileRow; i++){\n                for(int j = 0; j &lt; fileColumn; j++){\n                    array[i][j] = scan2.nextInt();\n                }\n            }\n        \n        return array;\n   \n(there is more code in between here but thats not the part I am having trouble on)\n\n    public static void main(String[] args) throws IOException{\n\n        String fileName;\n        \n        System.out.print(&quot;Please enter the name of the file you want to use (name.txt): &quot;);\n        fileName = scan.nextLine();\n\n        array = readGrid(fileName);\n    }\n}\n\n</code></pre>\n<p>I know its pretty messy but I am going to fix it later.</p>\n<p>Also here is the the .txt file i am trying to use. (name is Blinker.txt)</p>\n<blockquote>\n<p>5 5<br />\n00000<br />\n00000<br />\n01110<br />\n00000<br />\n00000</p>\n</blockquote>\n<p>Some stuff I tried to do was use the .hasNextInt() function to check for when the .txt but it did not work.  Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":1,"creation_date":1370447098,"post_id":16942193,"comment_id":24465071,"body_markdown":"@michal +1. Here is a couple of tutorials showing how to do that: [Spring 3 MVC: Handling Forms in Spring 3.0 MVC](http://viralpatel.net/blogs/spring-3-mvc-handling-forms/), [What is and how to use `@ModelAttribute`](http://bearprogrammer.wordpress.com/2012/04/11/what-is-and-how-to-use-modelattribute/), [Spring MVC Form Handling Example](http://www.tutorialspoint.com/spring/spring_mvc_form_handling_example.htm). Just google &quot;*Spring MVC form handling*&quot; and you&#39;ll get a ton of tutorials/examples. But be sure to use modern way of form handling, i.e. Spring v2.5+","body":"@michal +1. Here is a couple of tutorials showing how to do that: <a href=\"http://viralpatel.net/blogs/spring-3-mvc-handling-forms/\" rel=\"nofollow noreferrer\">Spring 3 MVC: Handling Forms in Spring 3.0 MVC</a>, <a href=\"http://bearprogrammer.wordpress.com/2012/04/11/what-is-and-how-to-use-modelattribute/\" rel=\"nofollow noreferrer\">What is and how to use <code>@ModelAttribute</code></a>, <a href=\"http://www.tutorialspoint.com/spring/spring_mvc_form_handling_example.htm\" rel=\"nofollow noreferrer\">Spring MVC Form Handling Example</a>. Just google &quot;<i>Spring MVC form handling</i>&quot; and you&#39;ll get a ton of tutorials/examples. But be sure to use modern way of form handling, i.e. Spring v2.5+"},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1370447175,"post_id":16942193,"comment_id":24465129,"body_markdown":"Also useful: [What is `@ModelAttribute` in Spring MVC](http://stackoverflow.com/a/3423501/814702)","body":"Also useful: <a href=\"http://stackoverflow.com/a/3423501/814702\">What is <code>@ModelAttribute</code> in Spring MVC</a>"},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":2,"creation_date":1640588117,"post_id":16942193,"comment_id":124609159,"body_markdown":"remove @RequestParam from the MyObject and also make attributes of the MyObject definable (by adding a no-arg constructor and setter for all the attributes) or (define an all-args constructor without no-args constructor, the setter is not needed in this case).","body":"remove @RequestParam from the MyObject and also make attributes of the MyObject definable (by adding a no-arg constructor and setter for all the attributes) or (define an all-args constructor without no-args constructor, the setter is not needed in this case)."}],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":5,"up_vote_count":366,"is_accepted":true,"score":361,"last_activity_date":1370441809,"creation_date":1370441809,"answer_id":16942352,"question_id":16942193,"body_markdown":"You can absolutely do that, just remove the `@RequestParam` annotation, Spring will cleanly bind your request parameters to your class instance:\r\n\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        MyObject myObject)","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>You can absolutely do that, just remove the <code>@RequestParam</code> annotation, Spring will cleanly bind your request parameters to your class instance:</p>\n\n<pre><code>public @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    MyObject myObject)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910866,"reputation":2490,"user_id":944768,"accept_rate":48,"display_name":"hevi"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1395798476,"creation_date":1395798476,"answer_id":22649971,"question_id":16942193,"body_markdown":"I have a very similar problem. Actually the problem is deeper as I thought. I am using jquery `$.post` which uses `Content-Type:application/x-www-form-urlencoded; charset=UTF-8` as default. Unfortunately I based my system on that and when I needed a complex object as a `@RequestParam` I couldn&#39;t just make it happen.\r\n\r\nIn my case I am trying to send user preferences with something like;\r\n\r\n     $.post(&quot;/updatePreferences&quot;,  \r\n        {id: &#39;pr&#39;, preferences: p}, \r\n        function (response) {\r\n     ...\r\n\r\nOn client side the actual raw data sent to the server is; \r\n\r\n    ...\r\n    id=pr&amp;preferences%5BuserId%5D=1005012365&amp;preferences%5Baudio%5D=false&amp;preferences%5Btooltip%5D=true&amp;preferences%5Blanguage%5D=en\r\n    ...\r\nparsed as;\r\n\r\n    id:pr\r\n    preferences[userId]:1005012365\r\n    preferences[audio]:false\r\n    preferences[tooltip]:true\r\n    preferences[language]:en\r\n\r\nand the server side is;\r\n\r\n    @RequestMapping(value = &quot;/updatePreferences&quot;)\r\n    public\r\n    @ResponseBody\r\n    Object updatePreferences(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;preferences&quot;) UserPreferences preferences) {\r\n\r\n        ...\r\n            return someService.call(preferences);\r\n        ...\r\n    }\r\n\r\nI tried `@ModelAttribute`, added setter/getters, constructors with all possibilities to `UserPreferences` but no chance as it recognized the sent data as 5 parameters but in fact the mapped method has only 2 parameters. I also tried Biju&#39;s solution however what happens is that, spring creates an UserPreferences object with default constructor and doesn&#39;t fill in the data.\r\n\r\nI solved the problem by sending JSon string of the preferences from the client side and handle it as if it is a String on the server side;\r\n\r\nclient:\r\n\r\n    \r\n     $.post(&quot;/updatePreferences&quot;,  \r\n        {id: &#39;pr&#39;, preferences: JSON.stringify(p)}, \r\n        function (response) {\r\n     ...\r\n\r\nserver:\r\n\r\n    @RequestMapping(value = &quot;/updatePreferences&quot;)\r\n    public\r\n    @ResponseBody\r\n    Object updatePreferences(@RequestParam(&quot;id&quot;) String id, @RequestParam(&quot;preferences&quot;) String preferencesJSon) {\r\n\r\n\r\n            String ret = null;\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n                UserPreferences userPreferences = mapper.readValue(preferencesJSon, UserPreferences.class);\r\n                return someService.call(userPreferences);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\nto brief, I did the conversion manually inside the REST method. In my opinion the reason why spring doesn&#39;t recognize the sent data is the content-type.","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>I have a very similar problem. Actually the problem is deeper as I thought. I am using jquery <code>$.post</code> which uses <code>Content-Type:application/x-www-form-urlencoded; charset=UTF-8</code> as default. Unfortunately I based my system on that and when I needed a complex object as a <code>@RequestParam</code> I couldn't just make it happen.</p>\n\n<p>In my case I am trying to send user preferences with something like;</p>\n\n<pre><code> $.post(\"/updatePreferences\",  \n    {id: 'pr', preferences: p}, \n    function (response) {\n ...\n</code></pre>\n\n<p>On client side the actual raw data sent to the server is; </p>\n\n<pre><code>...\nid=pr&amp;preferences%5BuserId%5D=1005012365&amp;preferences%5Baudio%5D=false&amp;preferences%5Btooltip%5D=true&amp;preferences%5Blanguage%5D=en\n...\n</code></pre>\n\n<p>parsed as;</p>\n\n<pre><code>id:pr\npreferences[userId]:1005012365\npreferences[audio]:false\npreferences[tooltip]:true\npreferences[language]:en\n</code></pre>\n\n<p>and the server side is;</p>\n\n<pre><code>@RequestMapping(value = \"/updatePreferences\")\npublic\n@ResponseBody\nObject updatePreferences(@RequestParam(\"id\") String id, @RequestParam(\"preferences\") UserPreferences preferences) {\n\n    ...\n        return someService.call(preferences);\n    ...\n}\n</code></pre>\n\n<p>I tried <code>@ModelAttribute</code>, added setter/getters, constructors with all possibilities to <code>UserPreferences</code> but no chance as it recognized the sent data as 5 parameters but in fact the mapped method has only 2 parameters. I also tried Biju's solution however what happens is that, spring creates an UserPreferences object with default constructor and doesn't fill in the data.</p>\n\n<p>I solved the problem by sending JSon string of the preferences from the client side and handle it as if it is a String on the server side;</p>\n\n<p>client:</p>\n\n<pre><code> $.post(\"/updatePreferences\",  \n    {id: 'pr', preferences: JSON.stringify(p)}, \n    function (response) {\n ...\n</code></pre>\n\n<p>server:</p>\n\n<pre><code>@RequestMapping(value = \"/updatePreferences\")\npublic\n@ResponseBody\nObject updatePreferences(@RequestParam(\"id\") String id, @RequestParam(\"preferences\") String preferencesJSon) {\n\n\n        String ret = null;\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            UserPreferences userPreferences = mapper.readValue(preferencesJSon, UserPreferences.class);\n            return someService.call(userPreferences);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>to brief, I did the conversion manually inside the REST method. In my opinion the reason why spring doesn't recognize the sent data is the content-type.</p>\n"},{"tags":[],"owner":{"account_id":129495,"reputation":7313,"user_id":328121,"accept_rate":62,"display_name":"Przemek Nowak"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1531904451,"creation_date":1410359797,"answer_id":25768251,"question_id":16942193,"body_markdown":"I will add some short example from me.\r\n\r\nThe DTO class:\r\n\r\n    public class SearchDTO {\r\n\t    private Long id[];\r\n\r\n\t    public Long[] getId() {\r\n\t\t    return id;\r\n\t    }\r\n\r\n\t    public void setId(Long[] id) {\r\n\t\t    this.id = id;\r\n\t    }\r\n        // reflection toString from apache commons\r\n        @Override\r\n\t    public String toString() {\r\n\t\t    return ReflectionToStringBuilder.toString(this, ToStringStyle.SHORT_PREFIX_STYLE);\r\n\t    }\r\n    }\r\n\r\nRequest mapping inside controller class:\r\n\r\n\t@RequestMapping(value=&quot;/handle&quot;, method=RequestMethod.GET)\r\n\t@ResponseBody\r\n\tpublic String handleRequest(SearchDTO search) {\r\n\t\tLOG.info(&quot;criteria: {}&quot;, search);\r\n\t\treturn &quot;OK&quot;;\r\n\t}\r\n\r\nQuery:\r\n\r\n    http://localhost:8080/app/handle?id=353,234\r\n\r\nResult:\r\n\r\n    [http-apr-8080-exec-7] INFO  c.g.g.r.f.w.ExampleController.handleRequest:59 - criteria: SearchDTO[id={353,234}]\r\n\r\nI hope it helps :)\r\n\r\n**UPDATE / KOTLIN**\r\n\r\nBecause currently I&#39;m working a lot of with Kotlin if someone wants to define similar DTO the class in Kotlin should have the following form:\r\n\r\n    class SearchDTO {\r\n        var id: Array&lt;Long&gt;? = arrayOf()\r\n\r\n        override fun toString(): String {\r\n            // to string implementation\r\n        }\r\n    }\r\n\r\nWith the `data` class like this one:\r\n\r\n    data class SearchDTO(var id: Array&lt;Long&gt; = arrayOf())\r\n\r\nthe Spring (tested in Boot) returns the following error for request mentioned in answer:\r\n\r\n&gt; &quot;Failed to convert value of type &#39;java.lang.String[]&#39; to required type\r\n&gt; &#39;java.lang.Long[]&#39;; nested exception is\r\n&gt; java.lang.NumberFormatException: For input string: \\&quot;353,234\\&quot;&quot;\r\n\r\nThe data class will work only for the following request params form:\r\n\r\n    http://localhost:8080/handle?id=353&amp;id=234\r\n\r\nBe aware of this!","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>I will add some short example from me.</p>\n\n<p>The DTO class:</p>\n\n<pre><code>public class SearchDTO {\n    private Long id[];\n\n    public Long[] getId() {\n        return id;\n    }\n\n    public void setId(Long[] id) {\n        this.id = id;\n    }\n    // reflection toString from apache commons\n    @Override\n    public String toString() {\n        return ReflectionToStringBuilder.toString(this, ToStringStyle.SHORT_PREFIX_STYLE);\n    }\n}\n</code></pre>\n\n<p>Request mapping inside controller class:</p>\n\n<pre><code>@RequestMapping(value=\"/handle\", method=RequestMethod.GET)\n@ResponseBody\npublic String handleRequest(SearchDTO search) {\n    LOG.info(\"criteria: {}\", search);\n    return \"OK\";\n}\n</code></pre>\n\n<p>Query:</p>\n\n<pre><code>http://localhost:8080/app/handle?id=353,234\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[http-apr-8080-exec-7] INFO  c.g.g.r.f.w.ExampleController.handleRequest:59 - criteria: SearchDTO[id={353,234}]\n</code></pre>\n\n<p>I hope it helps :)</p>\n\n<p><strong>UPDATE / KOTLIN</strong></p>\n\n<p>Because currently I'm working a lot of with Kotlin if someone wants to define similar DTO the class in Kotlin should have the following form:</p>\n\n<pre><code>class SearchDTO {\n    var id: Array&lt;Long&gt;? = arrayOf()\n\n    override fun toString(): String {\n        // to string implementation\n    }\n}\n</code></pre>\n\n<p>With the <code>data</code> class like this one:</p>\n\n<pre><code>data class SearchDTO(var id: Array&lt;Long&gt; = arrayOf())\n</code></pre>\n\n<p>the Spring (tested in Boot) returns the following error for request mentioned in answer:</p>\n\n<blockquote>\n  <p>\"Failed to convert value of type 'java.lang.String[]' to required type\n  'java.lang.Long[]'; nested exception is\n  java.lang.NumberFormatException: For input string: \\\"353,234\\\"\"</p>\n</blockquote>\n\n<p>The data class will work only for the following request params form:</p>\n\n<pre><code>http://localhost:8080/handle?id=353&amp;id=234\n</code></pre>\n\n<p>Be aware of this!</p>\n"},{"tags":[],"owner":{"account_id":3151203,"reputation":236,"user_id":2664623,"display_name":"FluffyDestroyerOfCode"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1608456646,"creation_date":1549632641,"answer_id":54593488,"question_id":16942193,"body_markdown":"Since the question on how to set fields mandatory pops up under each post, I wrote a small example on how to set fields as required:\r\n\r\n    public class ExampleDTO {\r\n\t\t@NotNull\r\n\t\tprivate String mandatoryParam;\r\n\r\n\t\tprivate String optionalParam;\r\n\t\t\r\n\t\t@DateTimeFormat(iso = ISO.DATE) //accept Dates only in YYYY-MM-DD\r\n\t\t@NotNull\r\n\t\tprivate LocalDate testDate;\r\n\r\n\t\tpublic String getMandatoryParam() {\r\n\t\t\treturn mandatoryParam;\r\n\t\t}\r\n\t\tpublic void setMandatoryParam(String mandatoryParam) {\r\n\t\t\tthis.mandatoryParam = mandatoryParam;\r\n\t\t}\r\n\t\tpublic String getOptionalParam() {\r\n\t\t\treturn optionalParam;\r\n\t\t}\r\n\t\tpublic void setOptionalParam(String optionalParam) {\r\n\t\t\tthis.optionalParam = optionalParam;\r\n\t\t}\r\n\t\tpublic LocalDate getTestDate() {\r\n\t\t\treturn testDate;\r\n\t\t}\r\n\t\tpublic void setTestDate(LocalDate testDate) {\r\n\t\t\tthis.testDate = testDate;\r\n\t\t}\r\n    }\r\n\r\n    //Add this to your rest controller class\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testComplexObject (@Valid ExampleDTO e){\r\n    \tSystem.out.println(e.getMandatoryParam() + &quot; &quot; + e.getTestDate());\r\n    \treturn &quot;Does this work?&quot;;\r\n    }","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Since the question on how to set fields mandatory pops up under each post, I wrote a small example on how to set fields as required:</p>\n<pre><code>public class ExampleDTO {\n    @NotNull\n    private String mandatoryParam;\n\n    private String optionalParam;\n    \n    @DateTimeFormat(iso = ISO.DATE) //accept Dates only in YYYY-MM-DD\n    @NotNull\n    private LocalDate testDate;\n\n    public String getMandatoryParam() {\n        return mandatoryParam;\n    }\n    public void setMandatoryParam(String mandatoryParam) {\n        this.mandatoryParam = mandatoryParam;\n    }\n    public String getOptionalParam() {\n        return optionalParam;\n    }\n    public void setOptionalParam(String optionalParam) {\n        this.optionalParam = optionalParam;\n    }\n    public LocalDate getTestDate() {\n        return testDate;\n    }\n    public void setTestDate(LocalDate testDate) {\n        this.testDate = testDate;\n    }\n}\n\n//Add this to your rest controller class\n@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\npublic String testComplexObject (@Valid ExampleDTO e){\n    System.out.println(e.getMandatoryParam() + &quot; &quot; + e.getTestDate());\n    return &quot;Does this work?&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2546796,"reputation":53,"user_id":2211446,"display_name":"DKO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566511832,"creation_date":1566511832,"answer_id":57617593,"question_id":16942193,"body_markdown":"While answers that refer to `@ModelAttribute`, `@RequestParam`, `@PathParam` and the likes are valid, there is a small gotcha I ran into. The resulting method parameter is a proxy that Spring wraps around your DTO. So, if you attempt to use it in a context that requires your own custom type, you may get some unexpected results. \r\n\r\nThe following will not work:\r\n    \r\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CustomDto&gt; request(@ModelAttribute CustomDto dto) {\r\n        return ResponseEntity.ok(dto);\r\n    }\r\n\r\nIn my case, attempting to use it in Jackson binding resulted in a `com.fasterxml.jackson.databind.exc.InvalidDefinitionException`.\r\n\r\nYou will need to create a new object from the dto.","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>While answers that refer to <code>@ModelAttribute</code>, <code>@RequestParam</code>, <code>@PathParam</code> and the likes are valid, there is a small gotcha I ran into. The resulting method parameter is a proxy that Spring wraps around your DTO. So, if you attempt to use it in a context that requires your own custom type, you may get some unexpected results. </p>\n\n<p>The following will not work:</p>\n\n<pre><code>@GetMapping(produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;CustomDto&gt; request(@ModelAttribute CustomDto dto) {\n    return ResponseEntity.ok(dto);\n}\n</code></pre>\n\n<p>In my case, attempting to use it in Jackson binding resulted in a <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException</code>.</p>\n\n<p>You will need to create a new object from the dto.</p>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579453426,"creation_date":1579453426,"answer_id":59812367,"question_id":16942193,"body_markdown":"Yes, You can do it in a simple way. See below code of lines.\r\n\r\nURL - **http://localhost:8080/get/request/multiple/param/by/map?name=&#39;abc&#39; &amp; id=&#39;123&#39;**\r\n\r\n     @GetMapping(path = &quot;/get/request/header/by/map&quot;)\r\n\t\tpublic ResponseEntity&lt;String&gt; getRequestParamInMap(@RequestParam Map&lt;String,String&gt; map){\r\n\t\t\t// Do your business here \r\n\t\t\treturn new ResponseEntity&lt;String&gt;(map.toString(),HttpStatus.OK);\r\n\t\t} ","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Yes, You can do it in a simple way. See below code of lines.</p>\n\n<p>URL - <strong><a href=\"http://localhost:8080/get/request/multiple/param/by/map?name=\" rel=\"nofollow noreferrer\">http://localhost:8080/get/request/multiple/param/by/map?name=</a>'abc' &amp; id='123'</strong></p>\n\n<pre><code> @GetMapping(path = \"/get/request/header/by/map\")\n    public ResponseEntity&lt;String&gt; getRequestParamInMap(@RequestParam Map&lt;String,String&gt; map){\n        // Do your business here \n        return new ResponseEntity&lt;String&gt;(map.toString(),HttpStatus.OK);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7577228,"reputation":1078,"user_id":5749192,"accept_rate":100,"display_name":"Gabriel Brito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588129675,"creation_date":1588129675,"answer_id":61493556,"question_id":16942193,"body_markdown":"Accepted answer works like a charm but if the object has a list of objects it won&#39;t work as expected so here is my solution after some digging.\r\n\r\nFollowing [this thread][1] advice, here is how I&#39;ve done. \r\n\r\n - Frontend: stringify your object than encode it in base64 for submission. \r\n - Backend: decode base64 string then convert the string json into desired object. \r\n\r\nIt isn&#39;t the best for debugging your API with postman but it is working as expected for me.\r\n\r\n&gt; **Original object:** { page: 1, size: 5, filters: [{ field: &quot;id&quot;, value: 1, comparison: &quot;EQ&quot; }\r\n&gt; \r\n&gt; **Encoded object:** eyJwYWdlIjoxLCJzaXplIjo1LCJmaWx0ZXJzIjpbeyJmaWVsZCI6ImlkUGFyZW50IiwiY29tcGFyaXNvbiI6Ik5VTEwifV19 \r\n\r\n\r\n    @GetMapping\r\n    fun list(@RequestParam search: String?): ResponseEntity&lt;ListDTO&gt; {\r\n        val filter: SearchFilterDTO = decodeSearchFieldDTO(search)\r\n        ...\r\n    }\r\n    \r\n    private fun decodeSearchFieldDTO(search: String?): SearchFilterDTO {\r\n        if (search.isNullOrEmpty()) return SearchFilterDTO()\r\n        return Gson().fromJson(String(Base64.getDecoder().decode(search)), SearchFilterDTO::class.java)\r\n    }\r\n\r\nAnd here the SearchFilterDTO and FilterDTO\r\n\r\n    class SearchFilterDTO(\r\n        var currentPage: Int = 1,\r\n        var pageSize: Int = 10,\r\n        var sort: Sort? = null,\r\n        var column: String? = null,\r\n        var filters: List&lt;FilterDTO&gt; = ArrayList&lt;FilterDTO&gt;(),\r\n        var paged: Boolean = true\r\n    )\r\n    \r\n    class FilterDTO(\r\n        var field: String,\r\n        var value: Any,\r\n        var comparison: Comparison\r\n    )\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/353086/what-is-a-proper-way-to-do-a-complex-restful-search-method/353105#353105?newreg=d5e6360ebf2b434da957a9faa10bffe0","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Accepted answer works like a charm but if the object has a list of objects it won't work as expected so here is my solution after some digging.</p>\n\n<p>Following <a href=\"https://softwareengineering.stackexchange.com/questions/353086/what-is-a-proper-way-to-do-a-complex-restful-search-method/353105#353105?newreg=d5e6360ebf2b434da957a9faa10bffe0\">this thread</a> advice, here is how I've done. </p>\n\n<ul>\n<li>Frontend: stringify your object than encode it in base64 for submission. </li>\n<li>Backend: decode base64 string then convert the string json into desired object. </li>\n</ul>\n\n<p>It isn't the best for debugging your API with postman but it is working as expected for me.</p>\n\n<blockquote>\n  <p><strong>Original object:</strong> { page: 1, size: 5, filters: [{ field: \"id\", value: 1, comparison: \"EQ\" }</p>\n  \n  <p><strong>Encoded object:</strong> eyJwYWdlIjoxLCJzaXplIjo1LCJmaWx0ZXJzIjpbeyJmaWVsZCI6ImlkUGFyZW50IiwiY29tcGFyaXNvbiI6Ik5VTEwifV19 </p>\n</blockquote>\n\n<pre><code>@GetMapping\nfun list(@RequestParam search: String?): ResponseEntity&lt;ListDTO&gt; {\n    val filter: SearchFilterDTO = decodeSearchFieldDTO(search)\n    ...\n}\n\nprivate fun decodeSearchFieldDTO(search: String?): SearchFilterDTO {\n    if (search.isNullOrEmpty()) return SearchFilterDTO()\n    return Gson().fromJson(String(Base64.getDecoder().decode(search)), SearchFilterDTO::class.java)\n}\n</code></pre>\n\n<p>And here the SearchFilterDTO and FilterDTO</p>\n\n<pre><code>class SearchFilterDTO(\n    var currentPage: Int = 1,\n    var pageSize: Int = 10,\n    var sort: Sort? = null,\n    var column: String? = null,\n    var filters: List&lt;FilterDTO&gt; = ArrayList&lt;FilterDTO&gt;(),\n    var paged: Boolean = true\n)\n\nclass FilterDTO(\n    var field: String,\n    var value: Any,\n    var comparison: Comparison\n)\n</code></pre>\n"}],"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315167,"favorite_count":0,"down_vote_count":2,"up_vote_count":272,"accepted_answer_id":16942352,"answer_count":7,"score":270,"last_activity_date":1667132911,"creation_date":1370441414,"question_id":16942193,"body_markdown":"Suppose i have a page that lists the objects on a table and i need to put a form to filter the table. The filter is sent as an Ajax GET to an URL like that: http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z\r\n\r\nAnd instead of having lots of parameters on my Controller like:\r\n\r\n    @RequestMapping(value = &quot;/action&quot;)\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        @RequestParam(value = &quot;prop1&quot;, required = false) String prop1,\r\n        @RequestParam(value = &quot;prop2&quot;, required = false) String prop2,\r\n        @RequestParam(value = &quot;prop3&quot;, required = false) String prop3) { ... }\r\n\r\n\r\nAnd supposing i have MyObject as:\r\n\r\n    public class MyObject {\r\n        private String prop1;\r\n        private String prop2;\r\n        private String prop3;\r\n    \r\n        //Getters and setters\r\n        ...\r\n    }\r\n\r\n\r\nI wanna do something like:\r\n\r\n    @RequestMapping(value = &quot;/action&quot;)\r\n    public @ResponseBody List&lt;MyObject&gt; myAction(\r\n        @RequestParam(value = &quot;page&quot;, required = false) int page,\r\n        @RequestParam(value = &quot;myObject&quot;, required = false) MyObject myObject,) { ... }\r\n\r\n\r\nIs it possible? \r\nHow can i do that?\r\n","title":"Spring MVC: Complex object as GET @RequestParam","body":"<p>Suppose i have a page that lists the objects on a table and i need to put a form to filter the table. The filter is sent as an Ajax GET to an URL like that: <a href=\"http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z\">http://foo.com/system/controller/action?page=1&amp;prop1=x&amp;prop2=y&amp;prop3=z</a></p>\n\n<p>And instead of having lots of parameters on my Controller like:</p>\n\n<pre><code>@RequestMapping(value = \"/action\")\npublic @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    @RequestParam(value = \"prop1\", required = false) String prop1,\n    @RequestParam(value = \"prop2\", required = false) String prop2,\n    @RequestParam(value = \"prop3\", required = false) String prop3) { ... }\n</code></pre>\n\n<p>And supposing i have MyObject as:</p>\n\n<pre><code>public class MyObject {\n    private String prop1;\n    private String prop2;\n    private String prop3;\n\n    //Getters and setters\n    ...\n}\n</code></pre>\n\n<p>I wanna do something like:</p>\n\n<pre><code>@RequestMapping(value = \"/action\")\npublic @ResponseBody List&lt;MyObject&gt; myAction(\n    @RequestParam(value = \"page\", required = false) int page,\n    @RequestParam(value = \"myObject\", required = false) MyObject myObject,) { ... }\n</code></pre>\n\n<p>Is it possible? \nHow can i do that?</p>\n"},{"tags":["java","bit-manipulation","swap"],"comments":[{"owner":{"account_id":1924489,"reputation":5462,"user_id":1735262,"display_name":"Reinstate Monica -- notmaynard"},"score":0,"creation_date":1365603851,"post_id":15928545,"comment_id":22690686,"body_markdown":"How long do you want it to not be? I don&#39;t think there&#39;s a built-in that specifically swaps bits.","body":"How long do you want it to not be? I don&#39;t think there&#39;s a built-in that specifically swaps bits."},{"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"score":0,"creation_date":1365603981,"post_id":15928545,"comment_id":22690774,"body_markdown":"not  exists such a function","body":"not  exists such a function"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1365604145,"post_id":15928545,"comment_id":22690865,"body_markdown":"&quot;Long procedure of bit-wise operation&quot; is the way to go, though it probably won&#39;t be that long.","body":"&quot;Long procedure of bit-wise operation&quot; is the way to go, though it probably won&#39;t be that long."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1365604614,"post_id":15928545,"comment_id":22691185,"body_markdown":"Java integer is **not 1 byte** like you show. Did you by any chance mean `byte?`","body":"Java integer is <b>not 1 byte</b> like you show. Did you by any chance mean <code>byte?</code>"},{"owner":{"account_id":1924489,"reputation":5462,"user_id":1735262,"display_name":"Reinstate Monica -- notmaynard"},"score":1,"creation_date":1365604738,"post_id":15928545,"comment_id":22691272,"body_markdown":"@PM77-1 I&#39;m guessing OP simplified it so as not to need to write 30 blank spaces.","body":"@PM77-1 I&#39;m guessing OP simplified it so as not to need to write 30 blank spaces."},{"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"score":0,"creation_date":1365604871,"post_id":15928545,"comment_id":22691373,"body_markdown":"@iamnotmaynard well you have to do AND operation and bring each bit in others corresponding location and then you can swap them by doing another bit-wise operation, i thought there might be some packages/libraries to this","body":"@iamnotmaynard well you have to do AND operation and bring each bit in others corresponding location and then you can swap them by doing another bit-wise operation, i thought there might be some packages/libraries to this"},{"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"score":0,"creation_date":1365604942,"post_id":15928545,"comment_id":22691425,"body_markdown":"@PM77-1 8 bits i showed is for simplicity but i wana do this for integers(32bits)","body":"@PM77-1 8 bits i showed is for simplicity but i wana do this for integers(32bits)"}],"answers":[{"tags":[],"owner":{"account_id":50244,"reputation":23387,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365604665,"creation_date":1365604665,"answer_id":15928897,"question_id":15928545,"body_markdown":"I&#39;m making it in details, but you can join it into single line\r\n\r\n     int temp1 = (i &amp; 0x1) &lt;&lt; 3; //extract lowest bit #1 and place at pos# 4\r\n     int temp2 = (i &amp; 0x8) &gt;&gt; 3; //extract bit #4 and place at pos #1\r\n     i = (i &amp; temp1) | (i &amp; ~temp1); //now pos #4 is ready     \r\n     i = (i &amp; temp2) | (i &amp; ~temp2); //now pos #1 is ready\r\n\r\n","title":"How can I swap two bits of integer in Java?","body":"<p>I'm making it in details, but you can join it into single line</p>\n\n<pre><code> int temp1 = (i &amp; 0x1) &lt;&lt; 3; //extract lowest bit #1 and place at pos# 4\n int temp2 = (i &amp; 0x8) &gt;&gt; 3; //extract bit #4 and place at pos #1\n i = (i &amp; temp1) | (i &amp; ~temp1); //now pos #4 is ready     \n i = (i &amp; temp2) | (i &amp; ~temp2); //now pos #1 is ready\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1365617161,"creation_date":1365605059,"answer_id":15929054,"question_id":15928545,"body_markdown":"Here&#39;s an alternative way, called a delta-swap.\r\n\r\n    int t = (i ^ (i &gt;&gt; 3)) &amp; 1;\r\n    return i ^ t ^ (t &lt;&lt; 3);\r\n\r\nOr more generally:\r\n\r\n    static int swap(int x, int i, int j)\r\n    {\r\n        // precondition: i &gt; j\r\n        int d = i - j;\r\n        int y = (x ^ (x &gt;&gt; d)) &amp; (1 &lt;&lt; j);\r\n        return x ^ y ^ (y &lt;&lt; d);\r\n    }","title":"How can I swap two bits of integer in Java?","body":"<p>Here's an alternative way, called a delta-swap.</p>\n\n<pre><code>int t = (i ^ (i &gt;&gt; 3)) &amp; 1;\nreturn i ^ t ^ (t &lt;&lt; 3);\n</code></pre>\n\n<p>Or more generally:</p>\n\n<pre><code>static int swap(int x, int i, int j)\n{\n    // precondition: i &gt; j\n    int d = i - j;\n    int y = (x ^ (x &gt;&gt; d)) &amp; (1 &lt;&lt; j);\n    return x ^ y ^ (y &lt;&lt; d);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1667132243,"creation_date":1365607597,"answer_id":15930102,"question_id":15928545,"body_markdown":"You can also try this way\r\n\r\n\t//positions are indexed from 0 and in order ...[4][3][2][1][0]\r\n\t//so changing 3 and 0 will make             ...[4][0][2][1][3]\r\n\tpublic static int swapBits(int n, int pos1, int pos2) {\r\n\r\n\t\tint bit1 = (n &gt;&gt; pos1) &amp; 1;// bit at pos1\r\n\t\tint bit2 = (n &gt;&gt; pos2) &amp; 1;// bit at pos2\r\n\r\n\t\tif (bit1 == bit2) // no need to swap since we change 1 with 1 or 0 with 0\r\n\t\t\treturn n;     // so we can return original value\r\n\r\n\t\t// Since we are here it means that we need to change 1-&gt;0 and 0-&gt;1.\r\n\t\t// To do this we can use XOR (^).\r\n\t\t// Lets create mask like 000001001 with 1 at positions which need &quot;reversing&quot;\r\n\t\tint mask = (1 &lt;&lt; pos1) | (1 &lt;&lt; pos2);\r\n\t\t\r\n\t\treturn n ^ mask;// TA-DAH!!!\r\n\t}","title":"How can I swap two bits of integer in Java?","body":"<p>You can also try this way</p>\n<pre><code>//positions are indexed from 0 and in order ...[4][3][2][1][0]\n//so changing 3 and 0 will make             ...[4][0][2][1][3]\npublic static int swapBits(int n, int pos1, int pos2) {\n\n    int bit1 = (n &gt;&gt; pos1) &amp; 1;// bit at pos1\n    int bit2 = (n &gt;&gt; pos2) &amp; 1;// bit at pos2\n\n    if (bit1 == bit2) // no need to swap since we change 1 with 1 or 0 with 0\n        return n;     // so we can return original value\n\n    // Since we are here it means that we need to change 1-&gt;0 and 0-&gt;1.\n    // To do this we can use XOR (^).\n    // Lets create mask like 000001001 with 1 at positions which need &quot;reversing&quot;\n    int mask = (1 &lt;&lt; pos1) | (1 &lt;&lt; pos2);\n    \n    return n ^ mask;// TA-DAH!!!\n}\n</code></pre>\n"}],"owner":{"account_id":1331647,"reputation":293,"user_id":1275416,"accept_rate":86,"display_name":"waheebyaqub"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7494,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":15928897,"answer_count":3,"score":7,"last_activity_date":1667132243,"creation_date":1365603733,"question_id":15928545,"body_markdown":"Is there a built in function in Java that I could use to swap two bits?\r\n\r\nFor example:\r\n\r\n_ _ _ _ 1 _ _ 0  bit 3 swapped with bit 0 and becomes   _ _ _ _ 0 _ _ 1\r\n\r\nI know it can be done using a long procedure of bit-wise operation, but I want to avoid doing so.","title":"How can I swap two bits of integer in Java?","body":"<p>Is there a built in function in Java that I could use to swap two bits?</p>\n\n<p>For example:</p>\n\n<p>_ _ _ _ 1 _ _ 0  bit 3 swapped with bit 0 and becomes   _ _ _ _ 0 _ _ 1</p>\n\n<p>I know it can be done using a long procedure of bit-wise operation, but I want to avoid doing so.</p>\n"},{"tags":["java","algorithm","search","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1335006101,"post_id":10258305,"comment_id":13188482,"body_markdown":"Just stop searching when you&#39;ve reached the max depth?","body":"Just stop searching when you&#39;ve reached the max depth?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1335006198,"post_id":10258305,"comment_id":13188509,"body_markdown":"just maintain a depth parameter is your bfs routine so that when you hit max you don&#39;t keep searching deeper","body":"just maintain a depth parameter is your bfs routine so that when you hit max you don&#39;t keep searching deeper"},{"owner":{"account_id":1262003,"reputation":11405,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"score":0,"creation_date":1335006459,"post_id":10258305,"comment_id":13188568,"body_markdown":"Can you explain with an exmaple?","body":"Can you explain with an exmaple?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1335006529,"post_id":10258305,"comment_id":13188586,"body_markdown":"Example: `if(currentdepth &gt; maxdepth) { /*stop*/ }` (or `if( currentdepth &lt; maxdepth) { /*put children to visit list*/ }`), there&#39;s nothing complicated to that.","body":"Example: <code>if(currentdepth &gt; maxdepth) { &#47;*stop*&#47; }</code> (or <code>if( currentdepth &lt; maxdepth) { &#47;*put children to visit list*&#47; }</code>), there&#39;s nothing complicated to that."},{"owner":{"account_id":1262003,"reputation":11405,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"score":0,"creation_date":1335006599,"post_id":10258305,"comment_id":13188607,"body_markdown":"Yes but the problem is to keep track of the current depth. With a queue (on a graph not tree)","body":"Yes but the problem is to keep track of the current depth. With a queue (on a graph not tree)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1335006744,"post_id":10258305,"comment_id":13188631,"body_markdown":"Well, you normally should know the depth of a node. If a node does have multiple parents (I assume so since you mentioned it being a graph) then the depth might either be the shortest or longest path to the root (if there is no root you&#39;ll have a problem anyways).","body":"Well, you normally should know the depth of a node. If a node does have multiple parents (I assume so since you mentioned it being a graph) then the depth might either be the shortest or longest path to the root (if there is no root you&#39;ll have a problem anyways)."},{"owner":{"account_id":66410,"reputation":7247,"user_id":194834,"display_name":"Rickard"},"score":2,"creation_date":1335006943,"post_id":10258305,"comment_id":13188676,"body_markdown":"Add the depth of the node together with the node to the entry you put in your queue.","body":"Add the depth of the node together with the node to the entry you put in your queue."}],"answers":[{"tags":[],"owner":{"account_id":20180,"reputation":50570,"user_id":47984,"accept_rate":67,"display_name":"j_random_hacker"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1431446943,"creation_date":1351650356,"answer_id":13150405,"question_id":10258305,"body_markdown":"You can do this with constant space overhead.\r\n\r\nBFS has the property that unvisited nodes in the queue all have depths that never decrease, and increase by at most 1.  So as you read nodes from the BFS queue, you can keep track of the current depth in a single `depth` variable, which is initially 0.\r\n\r\nAll you need to do is record which node in the queue corresponds to the next depth increase.  You can do this simply by using a variable `timeToDepthIncrease` to record the number of elements that are already in the queue when you insert this node, and decrementing this counter whenever you pop a node from the queue.\r\n\r\nWhen it reaches zero, the next node you pop from the queue will be at a new, greater (by 1) depth, so:\r\n\r\n* Increment `depth`\r\n* Set `pendingDepthIncrease` to true\r\n\r\nWhenever you push a child node on the queue, first check whether `pendingDepthIncrease` is true.  If it is, this node will have greater depth, so set `timeToDepthIncrease` to the number of nodes in the queue before you push it, and reset `pendingDepthIncrease` to false.\r\n\r\nFinally, stop when `depth` exceeds the desired depth!  Every unvisited node that could appear later on must be at this depth or greater.\r\n\r\n**[EDIT: Thanks commenter keyser.]**","title":"How to implement a breadth first search to a certain depth?","body":"<p>You can do this with constant space overhead.</p>\n\n<p>BFS has the property that unvisited nodes in the queue all have depths that never decrease, and increase by at most 1.  So as you read nodes from the BFS queue, you can keep track of the current depth in a single <code>depth</code> variable, which is initially 0.</p>\n\n<p>All you need to do is record which node in the queue corresponds to the next depth increase.  You can do this simply by using a variable <code>timeToDepthIncrease</code> to record the number of elements that are already in the queue when you insert this node, and decrementing this counter whenever you pop a node from the queue.</p>\n\n<p>When it reaches zero, the next node you pop from the queue will be at a new, greater (by 1) depth, so:</p>\n\n<ul>\n<li>Increment <code>depth</code></li>\n<li>Set <code>pendingDepthIncrease</code> to true</li>\n</ul>\n\n<p>Whenever you push a child node on the queue, first check whether <code>pendingDepthIncrease</code> is true.  If it is, this node will have greater depth, so set <code>timeToDepthIncrease</code> to the number of nodes in the queue before you push it, and reset <code>pendingDepthIncrease</code> to false.</p>\n\n<p>Finally, stop when <code>depth</code> exceeds the desired depth!  Every unvisited node that could appear later on must be at this depth or greater.</p>\n\n<p><strong>[EDIT: Thanks commenter keyser.]</strong></p>\n"},{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1370555165,"creation_date":1370365026,"answer_id":16923440,"question_id":10258305,"body_markdown":"For future readers, look at this example of the algorithm described above. This implementation will monitor how many nodes the following level contains. In doing so, the implementation is able to keep track of the current depth. \r\n\r\n    void breadthFirst(Node parent, int maxDepth) {\r\n\r\n      if(maxDepth &lt; 0) {\r\n        return;\r\n      }\r\n    \r\n      Queue&lt;Node&gt; nodeQueue = new ArrayDeque&lt;Node&gt;();\r\n      nodeQueue.add(parent);\r\n    \r\n      int currentDepth = 0, \r\n          elementsToDepthIncrease = 1, \r\n          nextElementsToDepthIncrease = 0;\r\n    \r\n      while (!nodeQueue.isEmpty()) {\r\n        Node current = nodeQueue.poll();\r\n        process(current);\r\n        nextElementsToDepthIncrease += current.numberOfChildren();\r\n        if (--elementsToDepthIncrease == 0) {\r\n          if (++currentDepth &gt; maxDepth) return;\r\n          elementsToDepthIncrease = nextElementsToDepthIncrease;\r\n          nextElementsToDepthIncrease = 0;\r\n        }\r\n        for (Node child : current.children()) {\r\n          nodeQueue.add(child);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n    void process(Node node) {\r\n      // Do your own processing here. All nodes handed to\r\n      // this method will be within the specified depth limit.\r\n    }    ","title":"How to implement a breadth first search to a certain depth?","body":"<p>For future readers, look at this example of the algorithm described above. This implementation will monitor how many nodes the following level contains. In doing so, the implementation is able to keep track of the current depth. </p>\n\n<pre><code>void breadthFirst(Node parent, int maxDepth) {\n\n  if(maxDepth &lt; 0) {\n    return;\n  }\n\n  Queue&lt;Node&gt; nodeQueue = new ArrayDeque&lt;Node&gt;();\n  nodeQueue.add(parent);\n\n  int currentDepth = 0, \n      elementsToDepthIncrease = 1, \n      nextElementsToDepthIncrease = 0;\n\n  while (!nodeQueue.isEmpty()) {\n    Node current = nodeQueue.poll();\n    process(current);\n    nextElementsToDepthIncrease += current.numberOfChildren();\n    if (--elementsToDepthIncrease == 0) {\n      if (++currentDepth &gt; maxDepth) return;\n      elementsToDepthIncrease = nextElementsToDepthIncrease;\n      nextElementsToDepthIncrease = 0;\n    }\n    for (Node child : current.children()) {\n      nodeQueue.add(child);\n    }\n  }\n\n}\n\nvoid process(Node node) {\n  // Do your own processing here. All nodes handed to\n  // this method will be within the specified depth limit.\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3795445,"reputation":275,"user_id":3150658,"accept_rate":0,"display_name":"artofabhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470459863,"creation_date":1470459863,"answer_id":38800741,"question_id":10258305,"body_markdown":"This works. Assuming that visited flag is not there in Node. If isVisited is available, then there no need to tracker Map. \r\n\r\n    // k is depth, result should not contain initialNode.\r\n    public static Collection&lt;Node&gt; bfsWithK_Depth(Node initialNode, int k) {\r\n\r\n        if (initialNode == null || k &lt;= 0) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        Queue&lt;Node&gt; q = new LinkedList&lt;&gt;();\r\n        q.add(initialNode);\r\n        Map&lt;Node, Node&gt; tracker = new HashMap(); // no need if there is visited flag.\r\n        Collection&lt;Node&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        while (!q.isEmpty()) { // Q will be filled only with eligible nodes\r\n            --k ;\r\n            Node node = q.remove();\r\n            List&lt;Node&gt; neighbor = node.getNeighbor();\r\n            for (Node n : neighbor) {\r\n                if (tracker.get(n) == null &amp;&amp; k &gt; 0) {\r\n                    q.add(n);\r\n                }\r\n                if (tracker.get(n) == null) { \r\n                    tracker.put(n, n); \r\n                    result.add(n); // visit this node\r\n                }\r\n            }\r\n\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"How to implement a breadth first search to a certain depth?","body":"<p>This works. Assuming that visited flag is not there in Node. If isVisited is available, then there no need to tracker Map. </p>\n\n<pre><code>// k is depth, result should not contain initialNode.\npublic static Collection&lt;Node&gt; bfsWithK_Depth(Node initialNode, int k) {\n\n    if (initialNode == null || k &lt;= 0) {\n        return new ArrayList&lt;&gt;();\n    }\n\n    Queue&lt;Node&gt; q = new LinkedList&lt;&gt;();\n    q.add(initialNode);\n    Map&lt;Node, Node&gt; tracker = new HashMap(); // no need if there is visited flag.\n    Collection&lt;Node&gt; result = new ArrayList&lt;&gt;();\n\n    while (!q.isEmpty()) { // Q will be filled only with eligible nodes\n        --k ;\n        Node node = q.remove();\n        List&lt;Node&gt; neighbor = node.getNeighbor();\n        for (Node n : neighbor) {\n            if (tracker.get(n) == null &amp;&amp; k &gt; 0) {\n                q.add(n);\n            }\n            if (tracker.get(n) == null) { \n                tracker.put(n, n); \n                result.add(n); // visit this node\n            }\n        }\n\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3599116,"reputation":328,"user_id":3002853,"display_name":"a.s.p."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478197121,"creation_date":1478197121,"answer_id":40408634,"question_id":10258305,"body_markdown":"If you dont want to have a class node (and add a variable depth to your node) then you can have two maps for distance and visitedNodes or a 2d Array where each row is a node and column1:depth, column2: visited. Of course you can track both with one `map&lt;Node,Depth&gt;` (where Node is an instance of the class or int,String etc and Depth is an int that represent the Depth of the Node from the root node). if map contains a node (O(1) cost) then it is visited, if not proceed and add it to map with depth of current node +1.\r\n\r\n    public static void BfsToDepth(graph graphDb, Node rootNode, int depth) {\r\n        if(depth&lt;1)\r\n           return;\r\n        Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\r\n        ResourceIterator&lt;Node&gt; nodesIterator = graphDb.getAllNodes().iterator();\r\n        LinkedHashMap&lt;Node, Boolean&gt; visited = new LinkedHashMap&lt;&gt;();\r\n        LinkedHashMap&lt;Node, Integer&gt; distance = new LinkedHashMap&lt;&gt;();\r\n        // Start: Bfs Init Step\r\n        if (nodesIterator.hasNext() == true) {\r\n            while (nodesIterator.hasNext()) {\r\n                Node currentNode = nodesIterator.next();\r\n                visited.put(currentNode, false);\r\n                distance.put(currentNode, Integer.MAX_VALUE);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No nodes found&quot;);\r\n        }\r\n        // End: Bfs Init Step \r\n\r\n        distance.put(rootNode, 0);\r\n        visited.put(rootNode, true);\r\n        queue.add(rootNode);\r\n        Node current = null;\r\n\r\n        while (queue.isEmpty() == false) {\r\n            current = queue.poll();\r\n            if (distance.get(current) &lt;= depth) {\r\n                Iterator&lt;Relationship&gt; relationships = current.getRelationships().iterator();\r\n                if (relationships.hasNext() == true) {\r\n                    while (relationships.hasNext()) {\r\n                        Relationship relationship = relationships.next();\r\n                        Node adjacent = relationship.getOtherNode(current);\r\n\r\n                        if (visited.get(adjacent) == false) {\r\n                            /*if you want to print the distance of each node from root then \r\n                            System.out.println(&quot;len: &quot;+ (distance.get(current) + 1)+&quot; to: &quot;+ adjacent);*/\r\n                            distance.put(adjacent, (distance.get(current) + 1));\r\n                            visited.put(adjacent, true);\r\n                            queue.add(adjacent);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to implement a breadth first search to a certain depth?","body":"<p>If you dont want to have a class node (and add a variable depth to your node) then you can have two maps for distance and visitedNodes or a 2d Array where each row is a node and column1:depth, column2: visited. Of course you can track both with one <code>map&lt;Node,Depth&gt;</code> (where Node is an instance of the class or int,String etc and Depth is an int that represent the Depth of the Node from the root node). if map contains a node (O(1) cost) then it is visited, if not proceed and add it to map with depth of current node +1.</p>\n\n<pre><code>public static void BfsToDepth(graph graphDb, Node rootNode, int depth) {\n    if(depth&lt;1)\n       return;\n    Queue&lt;Node&gt; queue = new LinkedList&lt;&gt;();\n    ResourceIterator&lt;Node&gt; nodesIterator = graphDb.getAllNodes().iterator();\n    LinkedHashMap&lt;Node, Boolean&gt; visited = new LinkedHashMap&lt;&gt;();\n    LinkedHashMap&lt;Node, Integer&gt; distance = new LinkedHashMap&lt;&gt;();\n    // Start: Bfs Init Step\n    if (nodesIterator.hasNext() == true) {\n        while (nodesIterator.hasNext()) {\n            Node currentNode = nodesIterator.next();\n            visited.put(currentNode, false);\n            distance.put(currentNode, Integer.MAX_VALUE);\n        }\n    } else {\n        System.out.println(\"No nodes found\");\n    }\n    // End: Bfs Init Step \n\n    distance.put(rootNode, 0);\n    visited.put(rootNode, true);\n    queue.add(rootNode);\n    Node current = null;\n\n    while (queue.isEmpty() == false) {\n        current = queue.poll();\n        if (distance.get(current) &lt;= depth) {\n            Iterator&lt;Relationship&gt; relationships = current.getRelationships().iterator();\n            if (relationships.hasNext() == true) {\n                while (relationships.hasNext()) {\n                    Relationship relationship = relationships.next();\n                    Node adjacent = relationship.getOtherNode(current);\n\n                    if (visited.get(adjacent) == false) {\n                        /*if you want to print the distance of each node from root then \n                        System.out.println(\"len: \"+ (distance.get(current) + 1)+\" to: \"+ adjacent);*/\n                        distance.put(adjacent, (distance.get(current) + 1));\n                        visited.put(adjacent, true);\n                        queue.add(adjacent);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427505,"reputation":113,"user_id":809302,"display_name":"Somu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495589086,"creation_date":1495573506,"answer_id":44145005,"question_id":10258305,"body_markdown":"The easy Idea for keeping track of the depth is to add &quot;NULL&quot; to the Queue every time you go a level deep. As soon as you poll a null from the queue, Increase your level counter by 1 and add another &#39;null&#39; to the Queue. If you get two consecutive nulls you can exit from the loop. \r\n\r\n\r\n    q.offer(user);\r\n\tq.offer(null);\r\n\t\t\r\n\tuser.setVisited(true);\r\n\t\t\r\n\twhile(!q.isEmpty()){\r\n\t\t\t\r\n\t\tUser userFromQ = q.poll();\r\n\t\t\t\r\n\t    if(userFromQ == null){\r\n\t\t\tlevel++;\r\n\t\t\tq.offer(null);\r\n\t\t\tif(q.peek()==null)\r\n\t\t\t\tbreak;\r\n\t\t\telse\r\n\t\t\t\tcontinue;\r\n\t\t}\r\n","title":"How to implement a breadth first search to a certain depth?","body":"<p>The easy Idea for keeping track of the depth is to add \"NULL\" to the Queue every time you go a level deep. As soon as you poll a null from the queue, Increase your level counter by 1 and add another 'null' to the Queue. If you get two consecutive nulls you can exit from the loop. </p>\n\n<pre><code>q.offer(user);\nq.offer(null);\n\nuser.setVisited(true);\n\nwhile(!q.isEmpty()){\n\n    User userFromQ = q.poll();\n\n    if(userFromQ == null){\n        level++;\n        q.offer(null);\n        if(q.peek()==null)\n            break;\n        else\n            continue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17434000,"reputation":41,"user_id":12637437,"display_name":"Anders &#197;hsman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577911351,"creation_date":1577905677,"answer_id":59555331,"question_id":10258305,"body_markdown":"One simple way is to use a dictionary to keep track of the depth of each node when exploring the graph.\r\nThen just break if the max depth is reached. \r\n\r\nExample in Python:\r\n```\r\nfrom collections import deque\r\n\r\ndef bfs_maxdepth(graph, start, maxdepth):\r\n    queue = deque([start])\r\n    depths = {start: 0}\r\n    while queue:\r\n        vertex = queue.popleft()\r\n        if depths[vertex] == maxdepth:\r\n            break\r\n        for neighbour in graph[vertex]:\r\n            if neighbour in depths:\r\n                continue\r\n            queue.append(neighbour)\r\n            depths[neighbour] = depths[vertex] + 1\r\n    return depths","title":"How to implement a breadth first search to a certain depth?","body":"<p>One simple way is to use a dictionary to keep track of the depth of each node when exploring the graph.\nThen just break if the max depth is reached. </p>\n\n<p>Example in Python:</p>\n\n<pre><code>from collections import deque\n\ndef bfs_maxdepth(graph, start, maxdepth):\n    queue = deque([start])\n    depths = {start: 0}\n    while queue:\n        vertex = queue.popleft()\n        if depths[vertex] == maxdepth:\n            break\n        for neighbour in graph[vertex]:\n            if neighbour in depths:\n                continue\n            queue.append(neighbour)\n            depths[neighbour] = depths[vertex] + 1\n    return depths\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26775861,"reputation":1,"user_id":20371520,"display_name":"nandhakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667132131,"creation_date":1667132131,"answer_id":74252962,"question_id":10258305,"body_markdown":"this solution worked for me, it returns all the contents of vertex that can be accessible within the depth limit.\r\n``` lang-py\r\n\r\ndef bfs(graph,src,limit):\r\n  v = [src]\r\n  q = [src]\r\n  lastElement = src\r\n  \r\n  while len(q) &gt; 0 and limit &gt; 0:\r\n    ele = q.pop(0)\r\n\r\n    for i in graph[ele]:\r\n      if i not in v:\r\n        q.append(i)\r\n        v.append(i)\r\n\r\n    if len(q) &gt; 0 and ele == lastElement:        \r\n      lastElement = q[-1]\r\n      limit -= 1\r\n\r\n  return v\r\n\r\n\r\n```","title":"How to implement a breadth first search to a certain depth?","body":"<p>this solution worked for me, it returns all the contents of vertex that can be accessible within the depth limit.</p>\n<pre class=\"lang-py prettyprint-override\"><code>\ndef bfs(graph,src,limit):\n  v = [src]\n  q = [src]\n  lastElement = src\n  \n  while len(q) &gt; 0 and limit &gt; 0:\n    ele = q.pop(0)\n\n    for i in graph[ele]:\n      if i not in v:\n        q.append(i)\n        v.append(i)\n\n    if len(q) &gt; 0 and ele == lastElement:        \n      lastElement = q[-1]\n      limit -= 1\n\n  return v\n\n\n</code></pre>\n"}],"owner":{"account_id":1262003,"reputation":11405,"user_id":1220022,"accept_rate":83,"display_name":"user1220022"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24776,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":13150405,"answer_count":7,"score":15,"last_activity_date":1667132131,"creation_date":1335005819,"question_id":10258305,"body_markdown":"I understand and can easily implement BFS.\r\n\r\nMy question is, how can we make this BFS limited to a certain depth? Suppose, I just need to go 10 level deep.","title":"How to implement a breadth first search to a certain depth?","body":"<p>I understand and can easily implement BFS.</p>\n\n<p>My question is, how can we make this BFS limited to a certain depth? Suppose, I just need to go 10 level deep.</p>\n"},{"tags":["java","list","memory","hashmap","space"],"comments":[{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748662,"post_id":73665506,"comment_id":130086036,"body_markdown":"Alexander what is your point?","body":"Alexander what is your point?"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662748924,"post_id":73665506,"comment_id":130086105,"body_markdown":"yes, O(n log n) @AlexanderIvanchenko","body":"yes, O(n log n) @AlexanderIvanchenko"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1662749225,"post_id":73665506,"comment_id":130086183,"body_markdown":"I had a similar need and ended up building a hash map that was backed by a fast in process, key value, disk storage system. For example https://code.google.com/archive/p/jdbm2/","body":"I had a similar need and ended up building a hash map that was backed by a fast in process, key value, disk storage system. For example <a href=\"https://code.google.com/archive/p/jdbm2/\" rel=\"nofollow noreferrer\">code.google.com/archive/p/jdbm2</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1662749750,"post_id":73665506,"comment_id":130086311,"body_markdown":"@user16320675 `or memory, I would try removing entries with count &gt; 3` - I doubt if this can be efficient, since these entries might repair. And it&#39;s error-prone. Consider that there&#39;s a string that occur `7` times. The entry gets removed when the count is `4`, and then it reappears with the count of `3` - bingo, now it can affect the result.","body":"@user16320675 <code>or memory, I would try removing entries with count &gt; 3</code> - I doubt if this can be efficient, since these entries might repair. And it&#39;s error-prone. Consider that there&#39;s a string that occur <code>7</code> times. The entry gets removed when the count is <code>4</code>, and then it reappears with the count of <code>3</code> - bingo, now it can affect the result."},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662750409,"post_id":73665506,"comment_id":130086474,"body_markdown":"@AlexanderIvanchenko okey how?","body":"@AlexanderIvanchenko okey how?"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662751767,"creation_date":1662744720,"answer_id":73665671,"question_id":73665506,"body_markdown":"# Update: You should **not** use the following\r\n\r\n*I&#39;m just going to leave it here for a bit as a learning of what not to do. \r\nToday I learned using a `hashcode` for sole comparison is not enough. \r\nI think the idea of short-circuiting is good, but doesn&#39;t seem to be a concern.\r\nHashMap already does a great job resolving collisions, and a implementation that replicates that might end up using as much memory as the initial version.* \r\n\r\nRelated questions:\r\n\r\nhttps://stackoverflow.com/questions/7417668/java-use-hashcode-inside-of-equals-for-convenience  \r\nhttps://stackoverflow.com/questions/23584278/two-strings-same-hashcode  \r\nhttps://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings   \r\n\r\n\r\nOriginal answer follows: \r\n\r\nOne way could be to store the hash instead of the whole string:\r\n\r\n```java\r\n...\r\nvar count = new HashMap&lt;Integer, Long&gt;();\r\nfor(String val: list) {\r\n   count.put(val.hashCode(), count.getOrDefault(val.hashCode(), 0L)+1);\r\n}\r\n```\r\n\r\nExpanding on @Alexander&#39;s idea, I think you can save space and computation by saving the hash and the index instead of the plain string and recounting ( + short circuiting )\r\n\r\nSo:\r\n\r\n 1. Iterate the list\r\n 2. Search in the map, if seen for the first time save index and count = 1\r\n 3. If seen before increment count\r\n 4. If count is 3 finish.\r\n\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass SpaceTime {\r\n\r\n  public static void main(String ... args) {\r\n\r\n    var input = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;);\r\n    var map = new HashMap&lt;Integer, CountAndIndex&gt;();\r\n\r\n    for (int i = 0 ; i &lt; input.size(); i++ ) {\r\n      var s = input.get(i);\r\n      var hc = s.hashCode();\r\n      var cai = map.getOrDefault(hc, startAt(i));\r\n      cai.count++;\r\n      if (cai.count == 3) {\r\n        System.out.printf(&quot;We&#39;ve got it!!. Item: &#39;%s&#39; appears for the first time at index: %d%n&quot;, s, cai.index);\r\n        break;\r\n      }\r\n      map.put(hc, cai);\r\n    }\r\n  }\r\n  static CountAndIndex startAt(int index) {\r\n    var cai = new CountAndIndex();\r\n    cai.count = 0;\r\n    cai.index = index;\r\n    return cai;\r\n  }\r\n}\r\n\r\nclass CountAndIndex {\r\n  long count;\r\n  long index;\r\n}\r\n// output: \r\n\r\nWe&#39;ve got it!!. Item: &#39;two&#39; appears for the first time at index: 1\r\n\r\n```\r\n\r\n","title":"Java HashMap that takes to much of the memory","body":"<h1>Update: You should <strong>not</strong> use the following</h1>\n<p><em>I'm just going to leave it here for a bit as a learning of what not to do.\nToday I learned using a <code>hashcode</code> for sole comparison is not enough.\nI think the idea of short-circuiting is good, but doesn't seem to be a concern.\nHashMap already does a great job resolving collisions, and a implementation that replicates that might end up using as much memory as the initial version.</em></p>\n<p>Related questions:</p>\n<p><a href=\"https://stackoverflow.com/questions/7417668/java-use-hashcode-inside-of-equals-for-convenience\">Java: Use hashCode() inside of equals() for convenience?</a><br />\n<a href=\"https://stackoverflow.com/questions/23584278/two-strings-same-hashcode\">Two strings: same hashcode</a><br />\n<a href=\"https://stackoverflow.com/questions/1660501/what-is-a-good-64bit-hash-function-in-java-for-textual-strings\">What is a good 64bit hash function in Java for textual strings?</a></p>\n<p>Original answer follows:</p>\n<p>One way could be to store the hash instead of the whole string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nvar count = new HashMap&lt;Integer, Long&gt;();\nfor(String val: list) {\n   count.put(val.hashCode(), count.getOrDefault(val.hashCode(), 0L)+1);\n}\n</code></pre>\n<p>Expanding on @Alexander's idea, I think you can save space and computation by saving the hash and the index instead of the plain string and recounting ( + short circuiting )</p>\n<p>So:</p>\n<ol>\n<li>Iterate the list</li>\n<li>Search in the map, if seen for the first time save index and count = 1</li>\n<li>If seen before increment count</li>\n<li>If count is 3 finish.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass SpaceTime {\n\n  public static void main(String ... args) {\n\n    var input = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;, &quot;three&quot;, &quot;two&quot;);\n    var map = new HashMap&lt;Integer, CountAndIndex&gt;();\n\n    for (int i = 0 ; i &lt; input.size(); i++ ) {\n      var s = input.get(i);\n      var hc = s.hashCode();\n      var cai = map.getOrDefault(hc, startAt(i));\n      cai.count++;\n      if (cai.count == 3) {\n        System.out.printf(&quot;We've got it!!. Item: '%s' appears for the first time at index: %d%n&quot;, s, cai.index);\n        break;\n      }\n      map.put(hc, cai);\n    }\n  }\n  static CountAndIndex startAt(int index) {\n    var cai = new CountAndIndex();\n    cai.count = 0;\n    cai.index = index;\n    return cai;\n  }\n}\n\nclass CountAndIndex {\n  long count;\n  long index;\n}\n// output: \n\nWe've got it!!. Item: 'two' appears for the first time at index: 1\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662747966,"creation_date":1662746828,"answer_id":73666009,"question_id":73665506,"body_markdown":"Since your primary concern is a **space**, you might consider the following performance trade off, which doesn&#39;t require allocation of additional memory.\r\n\r\n```\r\nfor (int i = 1; i &lt; strings.size(); i++) {\r\n    String next = strings.get(i);\r\n    if (Collections.frequency(strings,next) == 3) {\r\n        System.out.println(i);\r\n        break;\r\n    }\r\n}\r\n```","title":"Java HashMap that takes to much of the memory","body":"<p>Since your primary concern is a <strong>space</strong>, you might consider the following performance trade off, which doesn't require allocation of additional memory.</p>\n<pre><code>for (int i = 1; i &lt; strings.size(); i++) {\n    String next = strings.get(i);\n    if (Collections.frequency(strings,next) == 3) {\n        System.out.println(i);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663361614,"creation_date":1663361614,"answer_id":73750195,"question_id":73665506,"body_markdown":"There are a couple of optimizations you can try on your current implementation. These are low-cost, quick wins:\r\n\r\n## Use explicit initial capacity and load factor\r\n\r\nBy using the [appropriate constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html#%3Cinit%3E(int,float)) you can specify both initial capacity and load factor for your LinkedHashMap.\r\n\r\n### Load factor\r\nHigher values decrease the space overhead but increase the lookup cost, according to the [docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html). You would have to experiment with values between `0.75` (the default) and `0.99` in order to find a sweet spot.\r\n\r\n### Initial capacity\r\nBy using a high value, you can minimize re-hashing due to buckets getting full. Since you are using LinkedHashMap, the impact of a large initial capacity is less critical since iteration time is unaffected. If your use case allows it, you can even eliminate re-hashing by choosing a large enough value to cover all distinct entries (i.e. if you have historical data of how many distinct keys you count or your dataset has finite elements anyway). If you can minimize/eliminate re-hashing, you also minimize any drawbacks cause by larger load factor values.\r\n\r\n## Only keep interesting entries\r\n\r\nIt seems that you only need to find _one_ key per frequency. If this is true, you can reduce the data retained in memory once you are done and keep only one key per frequency (count).\r\n\r\n## Sample code\r\n\r\n```java\r\n\r\n        Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;(10_000, 0.95f); //Using the appropriate constructor\r\n        for (String val : str) {\r\n            long count = counts2.getOrDefault(val, 0L);\r\n            counts2.put(val, ++count);\r\n        }\r\n\r\n        // Clean up unneeded (?) entries\r\n        final HashMap&lt;Long, Integer&gt; data = new HashMap&lt;&gt;();\r\n        for (Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; it = counts2.entrySet().iterator(); it.hasNext();) {\r\n            Map.Entry&lt;String, Long&gt; entry = it.next();\r\n            if (data.containsKey(entry.getValue())) {\r\n                it.remove();//Already exists; this will save space\r\n            } else {\r\n                data.put(entry.getValue(), str.indexOf(entry.getKey()));\r\n            }\r\n        }\r\n\r\n        //You can now remove original counts2 now\r\n        Integer indexOf3 = data.get(Long.valueOf(3));\r\n        System.out.println(str.get(indexOf3) + &quot; @ &quot; + data.get(Long.valueOf(3)));\r\n\r\n        //Original code\r\n        for (String key : counts2.keySet()) {\r\n            if (counts2.get(key) == 3) {\r\n                System.out.println(key + &quot; @ &quot; + str.indexOf(key));\r\n                break;\r\n            }\r\n        }\r\n\r\n```\r\n\r\nBonus note:\r\n\r\nYour use case reminded me of how Redis [optimizes memory usage for hashes](https://redis.io/docs/reference/optimization/memory-optimization/). This is an interesting approach, should you consider adding Redis to your stack.","title":"Java HashMap that takes to much of the memory","body":"<p>There are a couple of optimizations you can try on your current implementation. These are low-cost, quick wins:</p>\n<h2>Use explicit initial capacity and load factor</h2>\n<p>By using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html#%3Cinit%3E(int,float)\" rel=\"nofollow noreferrer\">appropriate constructor</a> you can specify both initial capacity and load factor for your LinkedHashMap.</p>\n<h3>Load factor</h3>\n<p>Higher values decrease the space overhead but increase the lookup cost, according to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">docs</a>. You would have to experiment with values between <code>0.75</code> (the default) and <code>0.99</code> in order to find a sweet spot.</p>\n<h3>Initial capacity</h3>\n<p>By using a high value, you can minimize re-hashing due to buckets getting full. Since you are using LinkedHashMap, the impact of a large initial capacity is less critical since iteration time is unaffected. If your use case allows it, you can even eliminate re-hashing by choosing a large enough value to cover all distinct entries (i.e. if you have historical data of how many distinct keys you count or your dataset has finite elements anyway). If you can minimize/eliminate re-hashing, you also minimize any drawbacks cause by larger load factor values.</p>\n<h2>Only keep interesting entries</h2>\n<p>It seems that you only need to find <em>one</em> key per frequency. If this is true, you can reduce the data retained in memory once you are done and keep only one key per frequency (count).</p>\n<h2>Sample code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;(10_000, 0.95f); //Using the appropriate constructor\n        for (String val : str) {\n            long count = counts2.getOrDefault(val, 0L);\n            counts2.put(val, ++count);\n        }\n\n        // Clean up unneeded (?) entries\n        final HashMap&lt;Long, Integer&gt; data = new HashMap&lt;&gt;();\n        for (Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; it = counts2.entrySet().iterator(); it.hasNext();) {\n            Map.Entry&lt;String, Long&gt; entry = it.next();\n            if (data.containsKey(entry.getValue())) {\n                it.remove();//Already exists; this will save space\n            } else {\n                data.put(entry.getValue(), str.indexOf(entry.getKey()));\n            }\n        }\n\n        //You can now remove original counts2 now\n        Integer indexOf3 = data.get(Long.valueOf(3));\n        System.out.println(str.get(indexOf3) + &quot; @ &quot; + data.get(Long.valueOf(3)));\n\n        //Original code\n        for (String key : counts2.keySet()) {\n            if (counts2.get(key) == 3) {\n                System.out.println(key + &quot; @ &quot; + str.indexOf(key));\n                break;\n            }\n        }\n\n</code></pre>\n<p>Bonus note:</p>\n<p>Your use case reminded me of how Redis <a href=\"https://redis.io/docs/reference/optimization/memory-optimization/\" rel=\"nofollow noreferrer\">optimizes memory usage for hashes</a>. This is an interesting approach, should you consider adding Redis to your stack.</p>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667131744,"creation_date":1667129778,"answer_id":74252692,"question_id":73665506,"body_markdown":"I could think of 2 things to reduce your memory usage:\r\n 1. Use `Byte` instead of `Long`\r\n 2. Drop elements that you know occur more than 3 times. This one probably won&#39;t save that much memory since I had to create a HashSet to implement that mechanism. Also, doesn&#39;t really improve worst-case scenario, but should help on average.\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        var str = List.of(&quot;blue&quot;, &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;green&quot;,\r\n                &quot;turquoise&quot;, &quot;red&quot;, &quot;green&quot;, &quot;green&quot;);\r\n        var exceeds3Count = new HashSet&lt;String&gt;();\r\n        var counts = new HashMap&lt;String, Byte&gt;();\r\n        for (String val : str) {\r\n            if (exceeds3Count.contains(val)) continue;\r\n            Byte count = counts.compute(val, (k, v) -&gt; v == null ? 1 : (byte) (v + 1));\r\n            if (count &gt; 3) {\r\n                counts.remove(val);\r\n                exceeds3Count.add(val);\r\n            }\r\n        }\r\n        System.out.println(counts);\r\n        var answer = str.stream().filter(s -&gt; counts.getOrDefault(s, (byte) 0) == 3).findFirst().get();\r\n        System.out.println(answer + &quot; is the first occurrence of a string that occurs 3 times&quot;);\r\n    }\r\n```","title":"Java HashMap that takes to much of the memory","body":"<p>I could think of 2 things to reduce your memory usage:</p>\n<ol>\n<li>Use <code>Byte</code> instead of <code>Long</code></li>\n<li>Drop elements that you know occur more than 3 times. This one probably won't save that much memory since I had to create a HashSet to implement that mechanism. Also, doesn't really improve worst-case scenario, but should help on average.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        var str = List.of(&quot;blue&quot;, &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, &quot;orange&quot;, &quot;green&quot;,\n                &quot;turquoise&quot;, &quot;red&quot;, &quot;green&quot;, &quot;green&quot;);\n        var exceeds3Count = new HashSet&lt;String&gt;();\n        var counts = new HashMap&lt;String, Byte&gt;();\n        for (String val : str) {\n            if (exceeds3Count.contains(val)) continue;\n            Byte count = counts.compute(val, (k, v) -&gt; v == null ? 1 : (byte) (v + 1));\n            if (count &gt; 3) {\n                counts.remove(val);\n                exceeds3Count.add(val);\n            }\n        }\n        System.out.println(counts);\n        var answer = str.stream().filter(s -&gt; counts.getOrDefault(s, (byte) 0) == 3).findFirst().get();\n        System.out.println(answer + &quot; is the first occurrence of a string that occurs 3 times&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1667131744,"creation_date":1662743798,"question_id":73665506,"body_markdown":"The problem is that my hashmap is taking too much space. I wanna know if the code can be done in a more efficient way for not taking that much memory. I have an huge array and the reason why im using HashMap is because I want a fast way to print out the first occurence of where key = 3 as shown in the code. But the problem is now the memory. **I still want it to be relatively fast O(n log n)**\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\r\nfor(String val : str){\r\n    long count = counts2.getOrDefault(val, 0L);\r\n    counts2.put(val, ++count);\r\n}\r\nfor(String key: counts2.keySet()){\r\n    if(counts2.get(key)==3){\r\n        System.out.println(list.indexOf(key));\r\n        break;\r\n    }\r\n}\r\n```\r\n","title":"Java HashMap that takes to much of the memory","body":"<p>The problem is that my hashmap is taking too much space. I wanna know if the code can be done in a more efficient way for not taking that much memory. I have an huge array and the reason why im using HashMap is because I want a fast way to print out the first occurence of where key = 3 as shown in the code. But the problem is now the memory. <strong>I still want it to be relatively fast O(n log n)</strong></p>\n<pre><code>\nArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\nfor(String val : str){\n    long count = counts2.getOrDefault(val, 0L);\n    counts2.put(val, ++count);\n}\nfor(String key: counts2.keySet()){\n    if(counts2.get(key)==3){\n        System.out.println(list.indexOf(key));\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","jar","zip","file-format"],"comments":[{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667144791,"post_id":74252683,"comment_id":131096234,"body_markdown":"That&#39;s a really interesting observation.  Checked my Ubuntu install but I can&#39;t find any jar files with comments. Don&#39;t have Kotin installed though. Would be surprized if these comments are accidental. but you never know. Downloaded the Kotlin source, but nothing is jumping out.","body":"That&#39;s a really interesting observation.  Checked my Ubuntu install but I can&#39;t find any jar files with comments. Don&#39;t have Kotin installed though. Would be surprized if these comments are accidental. but you never know. Downloaded the Kotlin source, but nothing is jumping out."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667146277,"post_id":74252683,"comment_id":131096563,"body_markdown":"@pmqs The source is in Zig, a fun new compiled language. I can post it in a gist or pastebin if you want to try it out. I might have some Swift source that does almost the same thing too. I&#39;ve definitely seen the same binary comments in .jar files that I think are for Java rather than Kotlin too.","body":"@pmqs The source is in Zig, a fun new compiled language. I can post it in a gist or pastebin if you want to try it out. I might have some Swift source that does almost the same thing too. I&#39;ve definitely seen the same binary comments in .jar files that I think are for Java rather than Kotlin too."},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":0,"creation_date":1667147409,"post_id":74252683,"comment_id":131096841,"body_markdown":"Hmm, if I remember correctly Java ultimately uses the `zipfile` class for creation of JAR files, but I don&#39;t think it has an API that allows writing of the zip comments. Wonder if this is a post-processing step that is applied to the JAR files after creation? Don&#39;t understand the connection with zig (assume this is zig?  https://github.com/ziglang/zig) , but then I don&#39;t know much about Kotin either. What us the connection? If there is a link, to something then yes, please post it.","body":"Hmm, if I remember correctly Java ultimately uses the <code>zipfile</code> class for creation of JAR files, but I don&#39;t think it has an API that allows writing of the zip comments. Wonder if this is a post-processing step that is applied to the JAR files after creation? Don&#39;t understand the connection with zig (assume this is zig?  <a href=\"https://github.com/ziglang/zig\" rel=\"nofollow noreferrer\">github.com/ziglang/zig</a>) , but then I don&#39;t know much about Kotin either. What us the connection? If there is a link, to something then yes, please post it."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667148416,"post_id":74252683,"comment_id":131097088,"body_markdown":"@pmqs. I found these things because I&#39;m writing my own zip file parsing code. I&#39;m going to post a nicely formatted dump of all the relevant .far files on my system to pastebin in a few minutes. I even saw some files with &quot;groovy&quot; in their path. OK here&#39;s the list: https://pastebin.com/wuzZwHn3","body":"@pmqs. I found these things because I&#39;m writing my own zip file parsing code. I&#39;m going to post a nicely formatted dump of all the relevant .far files on my system to pastebin in a few minutes. I even saw some files with &quot;groovy&quot; in their path. OK here&#39;s the list: <a href=\"https://pastebin.com/wuzZwHn3\" rel=\"nofollow noreferrer\">pastebin.com/wuzZwHn3</a>"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667149300,"post_id":74252683,"comment_id":131097290,"body_markdown":"Thanks -- I see lots of JetBrains in that list -- will see if I can get some time to download the source &amp; see if there is anything lurking. [full disclosure - I&#39;m the author of the `zipdetails` code you mentioned using]","body":"Thanks -- I see lots of JetBrains in that list -- will see if I can get some time to download the source &amp; see if there is anything lurking. [full disclosure - I&#39;m the author of the <code>zipdetails</code> code you mentioned using]"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667150200,"post_id":74252683,"comment_id":131097517,"body_markdown":"@pmqs: Oh cool! I actually had one file that my tool showed something odd in and zipdetails complained the file was cut short, but the end of the file looks fine, testing  with zip and unzipping it also seemed to work fine. So I thought it was either a bug in a corner case in zipdetails or corrupted zip file no other tool detected. I&#39;ll have to rack my brains to remember just what it was and let you know!","body":"@pmqs: Oh cool! I actually had one file that my tool showed something odd in and zipdetails complained the file was cut short, but the end of the file looks fine, testing  with zip and unzipping it also seemed to work fine. So I thought it was either a bug in a corner case in zipdetails or corrupted zip file no other tool detected. I&#39;ll have to rack my brains to remember just what it was and let you know!"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667151241,"post_id":74252683,"comment_id":131097758,"body_markdown":"@pmqs: Yes the very last file in the pastebin is the one that fails in zipdetails: IdeaIC2021.3/plugins/Kotlin.zip - error msg is `Unexpecded END at offset 0735434A, value 00000012` - I looked the other day to try to find somewhere to download it so I could investigate of file a bug report. I&#39;ll try again now...","body":"@pmqs: Yes the very last file in the pastebin is the one that fails in zipdetails: IdeaIC2021.3/plugins/Kotlin.zip - error msg is <code>Unexpecded END at offset 0735434A, value 00000012</code> - I looked the other day to try to find somewhere to download it so I could investigate of file a bug report. I&#39;ll try again now..."},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667168738,"post_id":74252683,"comment_id":131101368,"body_markdown":"Downloaded community IltelliJ and seeing jar files with binary comments just like you reported. Will have a dig tomorrow if I get some free time. Regarding the zipdetails error, you could try the latest development version from https://github.com/pmqs/zipdetails/blob/develop/bin/zipdetails. If still seeing a problem, can you create a ticket at https://github.com/pmqs/zipdetails/issues please?","body":"Downloaded community IltelliJ and seeing jar files with binary comments just like you reported. Will have a dig tomorrow if I get some free time. Regarding the zipdetails error, you could try the latest development version from <a href=\"https://github.com/pmqs/zipdetails/blob/develop/bin/zipdetails\" rel=\"nofollow noreferrer\">github.com/pmqs/zipdetails/blob/develop/bin/zipdetails</a>. If still seeing a problem, can you create a ticket at <a href=\"https://github.com/pmqs/zipdetails/issues\" rel=\"nofollow noreferrer\">github.com/pmqs/zipdetails/issues</a> please?"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667202143,"post_id":74252683,"comment_id":131106075,"body_markdown":"@pmqs: I had a bug report all typed out before I tested your new version. It works with the new version which reports `735434A 00038E4 ...         UNEXPECTED PADDING` where the old version failed. This is right between the last local header and the first central header. It still reports the 9-byte binary comment, which may or may not fit in with those in the `.jar` files...?","body":"@pmqs: I had a bug report all typed out before I tested your new version. It works with the new version which reports <code>735434A 00038E4 ...         UNEXPECTED PADDING</code> where the old version failed. This is right between the last local header and the first central header. It still reports the 9-byte binary comment, which may or may not fit in with those in the <code>.jar</code> files...?"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667207576,"post_id":74252683,"comment_id":131107493,"body_markdown":"good to hear that worked. 14k is quite a large amount of padding! Doubt it is related to the binary comments, but you never know.","body":"good to hear that worked. 14k is quite a large amount of padding! Doubt it is related to the binary comments, but you never know."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1667207740,"post_id":74252683,"comment_id":131107537,"body_markdown":"@pmqs: I might suggest such things be labelled &quot;unreferenced&quot; since it could be padding on purpose but it could just be due to a bug. It seems to be full of random bytes. The two might be related only due to both being caused by buggy code outputting unintialized buffers?","body":"@pmqs: I might suggest such things be labelled &quot;unreferenced&quot; since it could be padding on purpose but it could just be due to a bug. It seems to be full of random bytes. The two might be related only due to both being caused by buggy code outputting unintialized buffers?"},{"owner":{"account_id":2313135,"reputation":3294,"user_id":2030808,"display_name":"pmqs"},"score":1,"creation_date":1667230580,"post_id":74252683,"comment_id":131115505,"body_markdown":"It may be intentional padding in this case, but from a strict compliance perspective it is a badly formed zip file. Will keep your suggestion of &quot;unreferenced&quot; in mind","body":"It may be intentional padding in this case, but from a strict compliance perspective it is a badly formed zip file. Will keep your suggestion of &quot;unreferenced&quot; in mind"}],"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667130596,"creation_date":1667129657,"question_id":74252683,"body_markdown":"`.jar` files as used by Java and Kotlin are a specialization of the `.zip` file format. They most contain certain files and/or directories, and they may only use a restricted subset of the full features of zip files.\r\n\r\nWhile writing my own zip file handling code to educate myself, I noticed that about 2,000 `.jar` files on my Mac end with zip archive comment fields containing unprintable bytes. They are all either 5-byte or 9-byte comments, they all conform to the zip file format specification for comments, meaning they are not simply appended junk, they don&#39;t occur in other other files that are based on the zip archive format, and they look like they share some internal format.\r\n\r\nFirstly, I know they&#39;re not simply appended rubbish since the zip format spec says there is a 2-byte little-endian field specifying the length of the comment, and then the comment follows. The files I&#39;m talking about all have this length field that matches the size of the subsequent binary data in the comment field. This does not rule out being junk, but would require the code that creates them to count it as a field with a known size, rather than simply being added by any random tool the file may have been processed by.\r\n\r\nYou can see these fields using the `-v` switch of either `zipinfo` or `zipdetails`, both of which I believe come with macOS. It will be at the top of `zipinfo` output and at the bottom of `zipdetails` output.\r\n\r\nHere are some examples of each kind:\r\n\r\n**5 byte comments**\r\n\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_allopen-compiler-plugin.jar  \r\n `{ 3, 70, 104, 0, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-jps-common.jar  \r\n `{ 3, 36, 96, 5, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javaslang.jar  \r\n   `{ 3, 140, 63, 29, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javax-inject.jar  \r\n   `{ 3, 213, 10, 0, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-compiler-fe10.jar  \r\n   `{ 3, 63, 68, 73, 3 }`\r\n\r\nNote that the first byte is *always* `3` and the last byte is usually `0` but *never* greater than `9`.\r\n\r\n**9 byte comments**\r\n\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-fe10-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 199, 35, 0, 0, 58, 44, 65, 3 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/javaslang-2.0.6.jar  \r\n   `{ 1, 21, 1, 0, 0, 112, 110, 28, 0 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-ir-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 168, 10, 0, 0, 187, 137, 30, 1 }`\r\n - /Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-common-for-ide-1.6.20-release-275.jar  \r\n   `{ 1, 247, 13, 0, 0, 200, 187, 235, 0 }`\r\n\r\nNote that now the first byte is *always* `1` and the last byte is still usually `0` and still *never* greater than `9`.\r\n\r\nOn my whole system there are only two other zip-format files with binary comments of sizes other than 5 or 9 bytes. They are also both `.jar` files though and have 6-byte comments:\r\n\r\n - /Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/log4j.jar  \r\n   `{ 104, 11, 220, 104, 58, 0 }`\r\n - /Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/jna.jar  \r\n   `{ 104, 11, 220, 104, 61, 0 }`\r\n\r\nDoes anybody know if these fields are meaningful or able to confirm that they&#39;re junk caused by a bug?","title":"Do the 5-byte and 9-byte binary zip comments at the end of .jar files serve some purpose, or are they likely due to an uninitialized buffer bug?","body":"<p><code>.jar</code> files as used by Java and Kotlin are a specialization of the <code>.zip</code> file format. They most contain certain files and/or directories, and they may only use a restricted subset of the full features of zip files.</p>\n<p>While writing my own zip file handling code to educate myself, I noticed that about 2,000 <code>.jar</code> files on my Mac end with zip archive comment fields containing unprintable bytes. They are all either 5-byte or 9-byte comments, they all conform to the zip file format specification for comments, meaning they are not simply appended junk, they don't occur in other other files that are based on the zip archive format, and they look like they share some internal format.</p>\n<p>Firstly, I know they're not simply appended rubbish since the zip format spec says there is a 2-byte little-endian field specifying the length of the comment, and then the comment follows. The files I'm talking about all have this length field that matches the size of the subsequent binary data in the comment field. This does not rule out being junk, but would require the code that creates them to count it as a field with a known size, rather than simply being added by any random tool the file may have been processed by.</p>\n<p>You can see these fields using the <code>-v</code> switch of either <code>zipinfo</code> or <code>zipdetails</code>, both of which I believe come with macOS. It will be at the top of <code>zipinfo</code> output and at the bottom of <code>zipdetails</code> output.</p>\n<p>Here are some examples of each kind:</p>\n<p><strong>5 byte comments</strong></p>\n<ul>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_allopen-compiler-plugin.jar<br />\n<code>{ 3, 70, 104, 0, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-jps-common.jar<br />\n<code>{ 3, 36, 96, 5, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javaslang.jar<br />\n<code>{ 3, 140, 63, 29, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/javax-inject.jar<br />\n<code>{ 3, 213, 10, 0, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2022.1/plugins/Kotlin/lib/kotlinc_kotlin-compiler-fe10.jar<br />\n<code>{ 3, 63, 68, 73, 3 }</code></li>\n</ul>\n<p>Note that the first byte is <em>always</em> <code>3</code> and the last byte is usually <code>0</code> but <em>never</em> greater than <code>9</code>.</p>\n<p><strong>9 byte comments</strong></p>\n<ul>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-fe10-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 199, 35, 0, 0, 58, 44, 65, 3 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/javaslang-2.0.6.jar<br />\n<code>{ 1, 21, 1, 0, 0, 112, 110, 28, 0 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-ir-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 168, 10, 0, 0, 187, 137, 30, 1 }</code></li>\n<li>/Users/hippietrail/Library/Application Support/JetBrains/IdeaIC2021.3/plugins/Kotlin/lib/kotlin-compiler-common-for-ide-1.6.20-release-275.jar<br />\n<code>{ 1, 247, 13, 0, 0, 200, 187, 235, 0 }</code></li>\n</ul>\n<p>Note that now the first byte is <em>always</em> <code>1</code> and the last byte is still usually <code>0</code> and still <em>never</em> greater than <code>9</code>.</p>\n<p>On my whole system there are only two other zip-format files with binary comments of sizes other than 5 or 9 bytes. They are also both <code>.jar</code> files though and have 6-byte comments:</p>\n<ul>\n<li>/Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/log4j.jar<br />\n<code>{ 104, 11, 220, 104, 58, 0 }</code></li>\n<li>/Users/hippietrail/Library/Caches/Google/AndroidStudio2021.1/tmp/patch-update/jna.jar<br />\n<code>{ 104, 11, 220, 104, 61, 0 }</code></li>\n</ul>\n<p>Does anybody know if these fields are meaningful or able to confirm that they're junk caused by a bug?</p>\n"},{"tags":["java","android","kotlin","cassandra","datastax-astra"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666905528,"post_id":74228426,"comment_id":131052213,"body_markdown":"Can you list that directory and show us the result so we can see that the file really exists there?","body":"Can you list that directory and show us the result so we can see that the file really exists there?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1666906284,"post_id":74228426,"comment_id":131052389,"body_markdown":"You tagged this as [tag:android-studio] (which should almost certainly be [tag:android], since this question doesn&#39;t seem IDE specific). If this is supposed to run on Android, then that path will not work, because `E:\\ProjectAndroid\\...` is obviously a Window path and doesn&#39;t exist on Android.","body":"You tagged this as <a href=\"https://stackoverflow.com/questions/tagged/android-studio\">android-studio</a> (which should almost certainly be <a href=\"https://stackoverflow.com/questions/tagged/android\">android</a>, since this question doesn&#39;t seem IDE specific). If this is supposed to run on Android, then that path will not work, because <code>E:\\ProjectAndroid\\...</code> is obviously a Window path and doesn&#39;t exist on Android."}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667130466,"creation_date":1667130466,"answer_id":74252773,"question_id":74228426,"body_markdown":"It looks like you haven&#39;t provided the full name for the secure bundle. In your sample code, you&#39;ve specified the filename as `secure-connect-rentpk` which is incorrect.\r\n\r\nYou need to make sure that you include the `.zip` suffix in the filename and don&#39;t unzip the bundle leaving it intact. For example:\r\n\r\n```\r\n    .withCloudSecureConnectBundle(Paths.get(&quot;/path/to/secure-connect-db.zip&quot;))\r\n```\r\n\r\nAs a side note, you should never include the secure bundle in your source code. You need to place it in a separate location such as a configuration folder for best practice. Cheers!","title":"Connecting to Astra DB, withCloudSecureConnectBundle() returns java.io.FileNotFoundException","body":"<p>It looks like you haven't provided the full name for the secure bundle. In your sample code, you've specified the filename as <code>secure-connect-rentpk</code> which is incorrect.</p>\n<p>You need to make sure that you include the <code>.zip</code> suffix in the filename and don't unzip the bundle leaving it intact. For example:</p>\n<pre><code>    .withCloudSecureConnectBundle(Paths.get(&quot;/path/to/secure-connect-db.zip&quot;))\n</code></pre>\n<p>As a side note, you should never include the secure bundle in your source code. You need to place it in a separate location such as a configuration folder for best practice. Cheers!</p>\n"}],"owner":{"account_id":24762036,"reputation":323,"user_id":18646319,"display_name":"Uzzam Altaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667130466,"creation_date":1666905470,"question_id":74228426,"body_markdown":"I am trying to connect to Astra DB which requires a path to secure-connect zip.\r\n\r\nThis line is causing the issue:\r\n\r\n\r\n```\r\n.withCloudSecureConnectBundle(Paths.get(&quot;E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk&quot;))\r\n```\r\n\r\n\r\nPath.get gives the error.\r\n\r\n\r\nI wanted to connect Astra DB using secure-connect zip but `Paths.get()` not working for the given path. Where the path is:\r\n`E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk`","title":"Connecting to Astra DB, withCloudSecureConnectBundle() returns java.io.FileNotFoundException","body":"<p>I am trying to connect to Astra DB which requires a path to secure-connect zip.</p>\n<p>This line is causing the issue:</p>\n<pre><code>.withCloudSecureConnectBundle(Paths.get(&quot;E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk&quot;))\n</code></pre>\n<p>Path.get gives the error.</p>\n<p>I wanted to connect Astra DB using secure-connect zip but <code>Paths.get()</code> not working for the given path. Where the path is:\n<code>E:\\\\ProjectAndroid\\\\9_14_2022_2\\\\RentPK\\\\app\\\\src\\\\main\\\\res\\\\secure-connect-rentpk</code></p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1667127590,"post_id":74252442,"comment_id":131092880,"body_markdown":"How are you adding the fragment to your activity?","body":"How are you adding the fragment to your activity?"},{"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"score":0,"creation_date":1667127928,"post_id":74252442,"comment_id":131092942,"body_markdown":"class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        supportFragmentManager.beginTransaction()\n            .add(R.id.fragment_container, MoviesFragment())\n            .commit()\n    }\n}","body":"class MainActivity : AppCompatActivity() {     override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_main)          supportFragmentManager.beginTransaction()             .add(R.id.fragment_container, MoviesFragment())             .commit()     } }"},{"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"score":0,"creation_date":1667128268,"post_id":74252442,"comment_id":131092987,"body_markdown":"That was a problem! Thanks a lot!","body":"That was a problem! Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667130098,"creation_date":1667130098,"answer_id":74252727,"question_id":74252442,"body_markdown":"Screen rotation and other config changes recreate your activity by default. The recreated activity will restore its fragments. You should only add the fragment anew when the activity is starting fresh and is not being recreated, that is, the `savedInstanceState` bundle is null. Otherwise you&#39;d be adding a new fragment on top of the restored one(s).","title":"RecyclerView recreated on screen rotation","body":"<p>Screen rotation and other config changes recreate your activity by default. The recreated activity will restore its fragments. You should only add the fragment anew when the activity is starting fresh and is not being recreated, that is, the <code>savedInstanceState</code> bundle is null. Otherwise you'd be adding a new fragment on top of the restored one(s).</p>\n"}],"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74252727,"answer_count":1,"score":0,"last_activity_date":1667130098,"creation_date":1667127387,"question_id":74252442,"body_markdown":"`\r\n```\r\nclass MoviesFragment : Fragment() {\r\n\r\n    private var viewModel: MoviesViewModel? = null\r\n    private var adapter = MoviesAdapter()\r\n    private lateinit var binding : FragmentMoviesBinding\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentMoviesBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        recyclerViewInit()\r\n        viewModelInit()\r\n    }\r\n\r\n    private fun recyclerViewInit() {\r\n        val recyclerView = binding.recyclerView\r\n        recyclerView.adapter = adapter\r\n        recycler_view.layoutManager = LinearLayoutManager(requireContext())\r\n    }\r\n\r\n    private fun viewModelInit() {\r\n        viewModel = ViewModelProvider(this)[MoviesViewModel::class.java]\r\n        viewModel!!.getPageOfMovies()\r\n        viewModel!!.myResponse.observe(viewLifecycleOwner) { response -&gt;\r\n            if (response.isSuccessful) {\r\n                response.body()?.let { movies -&gt;\r\n                    adapter.setData(movies) }\r\n            } else {\r\n                Toast.makeText(requireContext(), response.code(), Toast.LENGTH_SHORT).show()\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesViewModel(application: Application) : AndroidViewModel(application) {\r\n\r\n    private val repository = MoviesRepository()\r\n    val myResponse: MutableLiveData&lt;Response&lt;MovieResponse&gt;&gt; = MutableLiveData()\r\n\r\n    fun getPageOfMovies() {\r\n        viewModelScope.launch {\r\n            val response = repository.getPageOfMovies()\r\n            myResponse.value = response\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.ViewHolder&gt;() {\r\n    private var moviesList = MovieResponse(0, emptyList(), 0, 0)\r\n\r\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        return ViewHolder(\r\n            LayoutInflater.from(parent.context).inflate(\r\n                R.layout.movies_recyclerview_item, parent, false\r\n            )\r\n        )\r\n    }\r\n\r\n    override fun getItemCount(): Int = moviesList.results.size\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        Glide.with(holder.itemView.context)\r\n            .load(Uri.parse(&quot;$BASE_URI_FOR_IMAGES${moviesList.results[position].posterPath}&quot;))\r\n            .centerCrop()\r\n            .into(holder.itemView.poster_imageview)\r\n        holder.itemView.title.text = moviesList.results[position].title\r\n        holder.itemView.overview.text = moviesList.results[position].overview\r\n        holder.itemView.release_date.text = moviesList.results[position].releaseDate\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    fun setData(movies: MovieResponse) {\r\n        moviesList = movies\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    companion object{\r\n        const val BASE_URI_FOR_IMAGES = &quot;https://www.themoviedb.org/t/p/w220_and_h330_face/&quot;\r\n    }\r\n}\r\n```\r\n`\r\n\r\n`\r\n```\r\nclass MoviesRepository {\r\n    suspend fun getPageOfMovies(): Response&lt;MovieResponse&gt; {\r\n        return MoviesClient.api.getFirstPageOfPopularMovies()\r\n    }\r\n}\r\n```\r\n`\r\n\r\nWhen the screen is rotated in the RecyclerView, the data is loaded again on top of the new ones, that is, the list is on top of the list. What could be the problem? That is, I can scroll and view my data, but in the background I see my old list.\r\n\r\nI tried to find where I recreate the RecyclerView, but apparently everything should work.","title":"RecyclerView recreated on screen rotation","body":"<p>`</p>\n<pre><code>class MoviesFragment : Fragment() {\n\n    private var viewModel: MoviesViewModel? = null\n    private var adapter = MoviesAdapter()\n    private lateinit var binding : FragmentMoviesBinding\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentMoviesBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        recyclerViewInit()\n        viewModelInit()\n    }\n\n    private fun recyclerViewInit() {\n        val recyclerView = binding.recyclerView\n        recyclerView.adapter = adapter\n        recycler_view.layoutManager = LinearLayoutManager(requireContext())\n    }\n\n    private fun viewModelInit() {\n        viewModel = ViewModelProvider(this)[MoviesViewModel::class.java]\n        viewModel!!.getPageOfMovies()\n        viewModel!!.myResponse.observe(viewLifecycleOwner) { response -&gt;\n            if (response.isSuccessful) {\n                response.body()?.let { movies -&gt;\n                    adapter.setData(movies) }\n            } else {\n                Toast.makeText(requireContext(), response.code(), Toast.LENGTH_SHORT).show()\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesViewModel(application: Application) : AndroidViewModel(application) {\n\n    private val repository = MoviesRepository()\n    val myResponse: MutableLiveData&lt;Response&lt;MovieResponse&gt;&gt; = MutableLiveData()\n\n    fun getPageOfMovies() {\n        viewModelScope.launch {\n            val response = repository.getPageOfMovies()\n            myResponse.value = response\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.ViewHolder&gt;() {\n    private var moviesList = MovieResponse(0, emptyList(), 0, 0)\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(\n            LayoutInflater.from(parent.context).inflate(\n                R.layout.movies_recyclerview_item, parent, false\n            )\n        )\n    }\n\n    override fun getItemCount(): Int = moviesList.results.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        Glide.with(holder.itemView.context)\n            .load(Uri.parse(&quot;$BASE_URI_FOR_IMAGES${moviesList.results[position].posterPath}&quot;))\n            .centerCrop()\n            .into(holder.itemView.poster_imageview)\n        holder.itemView.title.text = moviesList.results[position].title\n        holder.itemView.overview.text = moviesList.results[position].overview\n        holder.itemView.release_date.text = moviesList.results[position].releaseDate\n    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    fun setData(movies: MovieResponse) {\n        moviesList = movies\n        notifyDataSetChanged()\n    }\n\n    companion object{\n        const val BASE_URI_FOR_IMAGES = &quot;https://www.themoviedb.org/t/p/w220_and_h330_face/&quot;\n    }\n}\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>class MoviesRepository {\n    suspend fun getPageOfMovies(): Response&lt;MovieResponse&gt; {\n        return MoviesClient.api.getFirstPageOfPopularMovies()\n    }\n}\n</code></pre>\n<p>`</p>\n<p>When the screen is rotated in the RecyclerView, the data is loaded again on top of the new ones, that is, the list is on top of the list. What could be the problem? That is, I can scroll and view my data, but in the background I see my old list.</p>\n<p>I tried to find where I recreate the RecyclerView, but apparently everything should work.</p>\n"},{"tags":["java","casting","functional-interface"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667125217,"post_id":74252098,"comment_id":131092493,"body_markdown":"No, it is not possible. Please add the code you&#39;ve previously seen to your question.","body":"No, it is not possible. Please add the code you&#39;ve previously seen to your question."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667125269,"post_id":74252098,"comment_id":131092509,"body_markdown":"no, use getName() and getAge().","body":"no, use getName() and getAge()."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1667125455,"post_id":74252098,"comment_id":131092551,"body_markdown":"I think you got a bit confused about what you saw originally. It&#39;s not getting something based on the type cast. It&#39;s just that the programmer happens to know the current object there is Integer, and so casts to Integer. For example, when reading from a database that has an Integer column and a String column, you need to know which column you are reading to use this.","body":"I think you got a bit confused about what you saw originally. It&#39;s not getting something based on the type cast. It&#39;s just that the programmer happens to know the current object there is Integer, and so casts to Integer. For example, when reading from a database that has an Integer column and a String column, you need to know which column you are reading to use this."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667129785,"post_id":74252098,"comment_id":131093253,"body_markdown":"This^ though I m confused because even JDBC ResultSet doesnt use get() for both int and string but they have getInt(), getString() etc. Do you think you might have misremembered something OP?","body":"This^ though I m confused because even JDBC ResultSet doesnt use get() for both int and string but they have getInt(), getString() etc. Do you think you might have misremembered something OP?"}],"answers":[{"tags":[],"owner":{"account_id":17021680,"reputation":3,"user_id":12314069,"display_name":"Eyad Azzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667125503,"creation_date":1667125503,"answer_id":74252265,"question_id":74252098,"body_markdown":"That is not possible and if you are trying to overload the method then the number of parameters in two methods should be different or the data types of the parameters or the Order of the parameters.","title":"Return different value types from an object, depending on the type cast","body":"<p>That is not possible and if you are trying to overload the method then the number of parameters in two methods should be different or the data types of the parameters or the Order of the parameters.</p>\n"}],"owner":{"account_id":26774900,"reputation":9,"user_id":20370695,"display_name":"Cosmin Crisan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667129467,"creation_date":1667124105,"question_id":74252098,"body_markdown":"I&#39;ve seen methods that return a different value types from an object depending on the type cast, similar to this:\r\n\r\n`(String) Object.get() //returns a string`\r\n\r\n`(Integer) Object.get() //returns an int`\r\n\r\netc.\r\n\r\nIm trying to replicate this behavior (for learning purposes) by creating an Employee class like this:\r\n\r\n```\r\npublic class Employee {\r\n    String name;\r\n    int age;\r\n\r\n    public Employee (String name, int age){\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public String getName(){\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nNow, let&#39;s assume I create a new Employee object:\r\n\r\n`Employee tomJones = new Employee(&quot;Tom Jones&quot;, 38);`\r\n\r\nIs it possible to somehow do this (see below)?\r\n\r\n`(String) tomJones.get() //returns Tom Jones`\r\n\r\n`(Integer) tomjones.get() //returns 38`\r\n\r\nI&#39;m trying to replicate some behavior that I&#39;ve previously seen in code and not having all the problem&#39;s details makes it quite hard for me as a beginner to come up with something. So, I tried using different interfaces and some lambdas, but only managed to make a mess, with no result.","title":"Return different value types from an object, depending on the type cast","body":"<p>I've seen methods that return a different value types from an object depending on the type cast, similar to this:</p>\n<p><code>(String) Object.get() //returns a string</code></p>\n<p><code>(Integer) Object.get() //returns an int</code></p>\n<p>etc.</p>\n<p>Im trying to replicate this behavior (for learning purposes) by creating an Employee class like this:</p>\n<pre><code>public class Employee {\n    String name;\n    int age;\n\n    public Employee (String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getName(){\n        return name;\n    }\n}\n</code></pre>\n<p>Now, let's assume I create a new Employee object:</p>\n<p><code>Employee tomJones = new Employee(&quot;Tom Jones&quot;, 38);</code></p>\n<p>Is it possible to somehow do this (see below)?</p>\n<p><code>(String) tomJones.get() //returns Tom Jones</code></p>\n<p><code>(Integer) tomjones.get() //returns 38</code></p>\n<p>I'm trying to replicate some behavior that I've previously seen in code and not having all the problem's details makes it quite hard for me as a beginner to come up with something. So, I tried using different interfaces and some lambdas, but only managed to make a mess, with no result.</p>\n"},{"tags":["python","java","python-3.x","spyder","tabula-py"],"answers":[{"tags":[],"owner":{"account_id":15691261,"reputation":1,"user_id":11322275,"display_name":"moju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667128681,"creation_date":1667128681,"answer_id":74252577,"question_id":71542110,"body_markdown":"I had the same issue, and the solution I found is by using portable Java and registering it in the user environment path.\r\nThis explains how to install java from the EXE installer https://stackoverflow.com/a/6571736/11322275\r\nThen, register where you saved the java folder to the user environment path as explained here https://stackoverflow.com/a/67844469/11322275\r\nMake sure you can call `java -version` on your command prompt once you&#39;ve done the above","title":"Is it possible to use Tabula-Py on Portable IDE","body":"<p>I had the same issue, and the solution I found is by using portable Java and registering it in the user environment path.\nThis explains how to install java from the EXE installer <a href=\"https://stackoverflow.com/a/6571736/11322275\">https://stackoverflow.com/a/6571736/11322275</a>\nThen, register where you saved the java folder to the user environment path as explained here <a href=\"https://stackoverflow.com/a/67844469/11322275\">https://stackoverflow.com/a/67844469/11322275</a>\nMake sure you can call <code>java -version</code> on your command prompt once you've done the above</p>\n"}],"owner":{"account_id":5499285,"reputation":13,"user_id":4369129,"display_name":"David Bush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667128681,"creation_date":1647724152,"question_id":71542110,"body_markdown":"I am new to python and am working on setting up some automation for my job in python and part of that is pulling data from tables in pdf files. Short version is that no matter how I try and what I have looked up I cannot get Tabula-Py to look at the path to java on my portable drive.\r\n\r\nI am using a portable IDE set-up since I do not have admin privilege&#39;s on my work computer.\r\n\r\nTabula-Py throws the usual cannot find Java make sure it is in your PATH error message. I am using Python Portable and jPortable installed to a common directory with Spyder portable as the IDE. I have run pip install and uninstall on both Tabula and Tabula-Py multiple times. I have also run import sys for sys.path.append to add the filepath to my Java bin.\r\n\r\n**Code:**\r\n\r\n    import pandas as pd\r\n    import numpy\r\n    import tabula\r\n    import sys\r\n    sys.path.append(&#39;E:\\CommonFiles\\Java\\bin&#39;)\r\n    \r\n    \r\n    df = tabula.read_pdf(&#39;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf&#39;, pages=&#39;all&#39;)\r\n\r\n**Error Message:**\r\n\r\n    runfile(&#39;E:/CommonFiles/Python-Portable-3.9.6/Scripts/untitled01.py&#39;, wdir=&#39;E:/CommonFiles/Python-Portable-3.9.6/Scripts&#39;)\r\n    Traceback (most recent call last):\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\r\n        result = subprocess.run(\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 505, in run\r\n        with Popen(*popenargs, **kwargs) as process:\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py&quot;, line 108, in __init__\r\n        super(SubprocessPopen, self).__init__(*args, **kwargs)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 951, in __init__\r\n        self._execute_child(args, executable, preexec_fn, close_fds,\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 1420, in _execute_child\r\n        hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\n    \r\n    FileNotFoundError: [WinError 2] The system cannot find the file specified\r\n    \r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\untitled01.py&quot;, line 15, in &lt;module&gt;\r\n        df = tabula.read_pdf(&#39;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf&#39;, pages=&#39;all&#39;)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\r\n        output = _run(java_options, kwargs, path, encoding)\r\n    \r\n      File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 91, in _run\r\n        raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\r\n    \r\n    JavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\r\n\r\nI have also attempted to use camelot with a similar frustration over the ghostscript.dll.\r\n\r\nFinally I looked into pdfplumber but had even less luck there getting it to find the tables let alone do anything with them.\r\n\r\nI am sure this is doable but my google-fu is failing me currently and have spent the better part of 3 days looking into this with no solution I could find through Google, StackOverflow, Reddit, etc.","title":"Is it possible to use Tabula-Py on Portable IDE","body":"<p>I am new to python and am working on setting up some automation for my job in python and part of that is pulling data from tables in pdf files. Short version is that no matter how I try and what I have looked up I cannot get Tabula-Py to look at the path to java on my portable drive.</p>\n<p>I am using a portable IDE set-up since I do not have admin privilege's on my work computer.</p>\n<p>Tabula-Py throws the usual cannot find Java make sure it is in your PATH error message. I am using Python Portable and jPortable installed to a common directory with Spyder portable as the IDE. I have run pip install and uninstall on both Tabula and Tabula-Py multiple times. I have also run import sys for sys.path.append to add the filepath to my Java bin.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import pandas as pd\nimport numpy\nimport tabula\nimport sys\nsys.path.append('E:\\CommonFiles\\Java\\bin')\n\n\ndf = tabula.read_pdf('E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf', pages='all')\n</code></pre>\n<p><strong>Error Message:</strong></p>\n<pre><code>runfile('E:/CommonFiles/Python-Portable-3.9.6/Scripts/untitled01.py', wdir='E:/CommonFiles/Python-Portable-3.9.6/Scripts')\nTraceback (most recent call last):\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\n    result = subprocess.run(\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 505, in run\n    with Popen(*popenargs, **kwargs) as process:\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py&quot;, line 108, in __init__\n    super(SubprocessPopen, self).__init__(*args, **kwargs)\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 951, in __init__\n    self._execute_child(args, executable, preexec_fn, close_fds,\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\subprocess.py&quot;, line 1420, in _execute_child\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\n\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\untitled01.py&quot;, line 15, in &lt;module&gt;\n    df = tabula.read_pdf('E:\\CommonFiles\\Python-Portable-3.9.6\\Scripts\\Sample.pdf', pages='all')\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\n    output = _run(java_options, kwargs, path, encoding)\n\n  File &quot;E:\\CommonFiles\\Python-Portable-3.9.6\\apps\\lib\\site-packages\\tabula\\io.py&quot;, line 91, in _run\n    raise JavaNotFoundError(JAVA_NOT_FOUND_ERROR)\n\nJavaNotFoundError: `java` command is not found from this Python process.Please ensure Java is installed and PATH is set for `java`\n</code></pre>\n<p>I have also attempted to use camelot with a similar frustration over the ghostscript.dll.</p>\n<p>Finally I looked into pdfplumber but had even less luck there getting it to find the tables let alone do anything with them.</p>\n<p>I am sure this is doable but my google-fu is failing me currently and have spent the better part of 3 days looking into this with no solution I could find through Google, StackOverflow, Reddit, etc.</p>\n"},{"tags":["java","android","xml","api"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667125840,"post_id":74252302,"comment_id":131092617,"body_markdown":"this is not a &#39;problem&#39;, it&#39;s a notification. You should go to the documentation of that class and method, it should tell you what to use instead. Being deprecated means: it has been replaced by a better solution, will no longer be maintained, and might be removed in a future version","body":"this is not a &#39;problem&#39;, it&#39;s a notification. You should go to the documentation of that class and method, it should tell you what to use instead. Being deprecated means: it has been replaced by a better solution, will no longer be maintained, and might be removed in a future version"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1667140119,"post_id":74252302,"comment_id":131095278,"body_markdown":"Does this answer your question? [OnActivityResult method is deprecated, what is the alternative?](https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">OnActivityResult method is deprecated, what is the alternative?</a>"}],"owner":{"account_id":26701063,"reputation":27,"user_id":20308102,"display_name":"Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667128429,"creation_date":1667125803,"question_id":74252302,"body_markdown":"how to solve this problem \r\n\r\n&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated\r\n\r\nhere is for my MainActivity.java\r\n`\r\n```\r\npackage com.example.praktikump10;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private Button btnMoveActivity;\r\n    private Button btnMoveWithDataActivity;\r\n    private Button btnDialPhone;\r\n    private Button btnMoveWithObject;\r\n    private Button btnMoveForResult;\r\n    private TextView tvResult;\r\n    private int REQUEST_CODE = 100;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnMoveActivity = (Button) findViewById(R.id.btn_move_activity);\r\n        btnMoveActivity.setOnClickListener(this);\r\n\r\n        btnMoveWithDataActivity = (Button) findViewById(R.id.btn_move_activity_data);\r\n        btnMoveWithDataActivity.setOnClickListener(this);\r\n\r\n        btnDialPhone = (Button) findViewById(R.id.btn_dial_number);\r\n        btnDialPhone.setOnClickListener(this);\r\n\r\n        btnMoveWithObject = (Button) findViewById(R.id.btn_move_activity_object);\r\n        btnMoveWithObject.setOnClickListener(this);\r\n\r\n        btnMoveForResult = (Button) findViewById(R.id.btn_move_for_result);\r\n        btnMoveForResult.setOnClickListener(this);\r\n        tvResult = (TextView) findViewById(R.id.tv_result);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        switch (v.getId()) {\r\n            case R.id.btn_move_activity:\r\n                Intent moveIntent = new Intent(MainActivity.this, MoveActivity.class);\r\n                startActivity(moveIntent);\r\n                break;\r\n            case R.id.btn_move_activity_data:\r\n                Intent moveWithDataIntent = new Intent(MainActivity.this, MoveWithDataActivity.class);\r\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_NAME, &quot;Hafidz Izdihar Muslim\\n&quot;);\r\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_AGE, 20);\r\n                startActivity(moveWithDataIntent);\r\n                break;\r\n            case R.id.btn_dial_number:\r\n                String phoneNumber = &quot;087878336770&quot;;\r\n                Intent dialPhoneIntent = new Intent(Intent.ACTION_DIAL, Uri.parse(&quot;tel:&quot; + phoneNumber));\r\n                startActivity(dialPhoneIntent);\r\n                break;\r\n\r\n            case R.id.btn_move_activity_object:\r\n                Person mPerson = new Person();\r\n                mPerson.setName(&quot;DicodingAcademy&quot;);\r\n                mPerson.setAge(5);\r\n                mPerson.setEmail(&quot;academy@dicoding.com&quot;);\r\n                mPerson.setCity(&quot;Bandung&quot;);\r\n                Intent moveWithObjectIntent = new Intent(MainActivity.this, MoveWithObjectActivity.class);\r\n                moveWithObjectIntent.putExtra(MoveWithObjectActivity.EXTRA_PERSON, mPerson);\r\n                startActivity(moveWithObjectIntent);\r\n                break;\r\n\r\n            case R.id.btn_move_for_result:\r\n                Intent moveForResultIntent = new Intent(MainActivity.this, MoveForResultActivity.class);\r\n                startActivityForResult(moveForResultIntent, REQUEST_CODE);\r\n                break;\r\n\r\n        }\r\n    }\r\n    protected void onActivityResult ( int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (resultCode == MoveForResultActivity.RESULT_CODE) {\r\n                int selectedValue = data.getIntExtra(MoveForResultActivity.EXTRA_SELECTED_VALUE, 0);\r\n                tvResult.setText(&quot;Hasil : &quot; + selectedValue);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n`\r\n\r\nand this is my activity_main.xml\r\n\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;com.example.praktikump10.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity_data&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity Dengan Data&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_dial_number&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Dial a Number&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_activity_object&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity dengan Object&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_move_for_result&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pindah Activity untuk Result&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_result&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Hasil&quot;\r\n        android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n`\r\n\r\nthis is for my MoveForResultActivity.java\r\n`\r\n```\r\npackage com.example.praktikump10;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RadioGroup;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.praktikump10.R;\r\n\r\npublic class MoveForResultActivity extends AppCompatActivity\r\n        implements View.OnClickListener {\r\n    private Button btnChoose;\r\n    private RadioGroup rgNumber;\r\n    public static String EXTRA_SELECTED_VALUE = &quot;extra_selected_value&quot;;\r\n    public static int RESULT_CODE = 110;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_move_for_result);\r\n        btnChoose = (Button) findViewById(R.id.btn_choose);\r\n        btnChoose.setOnClickListener(this);\r\n        rgNumber = (RadioGroup) findViewById(R.id.rg_number);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if (v.getId() == R.id.btn_choose) {\r\n            if (rgNumber.getCheckedRadioButtonId() != 0) {\r\n                int value = 0;\r\n                switch (rgNumber.getCheckedRadioButtonId()) {\r\n                    case R.id.rb_50:\r\n                        value = 50;\r\n                        break;\r\n                    case R.id.rb_100:\r\n                        value = 100;\r\n                        break;\r\n                    case R.id.rb_150:\r\n                        value = 150;\r\n                        break;\r\n                    case R.id.rb_200:\r\n                        value = 200;\r\n                        break;\r\n                }\r\n                Intent resultIntent = new Intent();\r\n                resultIntent.putExtra(EXTRA_SELECTED_VALUE, value);\r\n                setResult(RESULT_CODE, resultIntent);\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nactivity_move_for_result.xml\r\n\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;com.example.praktikump10.MoveForResultActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:text=&quot;Pilih angka yang kamu suka&quot; /&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/rg_number&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_50&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;50&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_100&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;100&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_150&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;150&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/rb_200&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n            android:text=&quot;200&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_choose&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Pilih&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n`\r\n\r\nwhy the\r\n\r\n&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated \r\n\r\non MainActivity.java\r\n\r\nany answer i really appreciated\r\n\r\nthank you for the valueable answer...","title":"&#39;startActivityForResult(android.content.Intent, int)&#39; is deprecated &lt;&lt;Java&gt;&gt;","body":"<p>how to solve this problem</p>\n<p>'startActivityForResult(android.content.Intent, int)' is deprecated</p>\n<p>here is for my MainActivity.java\n`</p>\n<pre><code>package com.example.praktikump10;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private Button btnMoveActivity;\n    private Button btnMoveWithDataActivity;\n    private Button btnDialPhone;\n    private Button btnMoveWithObject;\n    private Button btnMoveForResult;\n    private TextView tvResult;\n    private int REQUEST_CODE = 100;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnMoveActivity = (Button) findViewById(R.id.btn_move_activity);\n        btnMoveActivity.setOnClickListener(this);\n\n        btnMoveWithDataActivity = (Button) findViewById(R.id.btn_move_activity_data);\n        btnMoveWithDataActivity.setOnClickListener(this);\n\n        btnDialPhone = (Button) findViewById(R.id.btn_dial_number);\n        btnDialPhone.setOnClickListener(this);\n\n        btnMoveWithObject = (Button) findViewById(R.id.btn_move_activity_object);\n        btnMoveWithObject.setOnClickListener(this);\n\n        btnMoveForResult = (Button) findViewById(R.id.btn_move_for_result);\n        btnMoveForResult.setOnClickListener(this);\n        tvResult = (TextView) findViewById(R.id.tv_result);\n\n\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        switch (v.getId()) {\n            case R.id.btn_move_activity:\n                Intent moveIntent = new Intent(MainActivity.this, MoveActivity.class);\n                startActivity(moveIntent);\n                break;\n            case R.id.btn_move_activity_data:\n                Intent moveWithDataIntent = new Intent(MainActivity.this, MoveWithDataActivity.class);\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_NAME, &quot;Hafidz Izdihar Muslim\\n&quot;);\n                moveWithDataIntent.putExtra(MoveWithDataActivity.EXTRA_AGE, 20);\n                startActivity(moveWithDataIntent);\n                break;\n            case R.id.btn_dial_number:\n                String phoneNumber = &quot;087878336770&quot;;\n                Intent dialPhoneIntent = new Intent(Intent.ACTION_DIAL, Uri.parse(&quot;tel:&quot; + phoneNumber));\n                startActivity(dialPhoneIntent);\n                break;\n\n            case R.id.btn_move_activity_object:\n                Person mPerson = new Person();\n                mPerson.setName(&quot;DicodingAcademy&quot;);\n                mPerson.setAge(5);\n                mPerson.setEmail(&quot;academy@dicoding.com&quot;);\n                mPerson.setCity(&quot;Bandung&quot;);\n                Intent moveWithObjectIntent = new Intent(MainActivity.this, MoveWithObjectActivity.class);\n                moveWithObjectIntent.putExtra(MoveWithObjectActivity.EXTRA_PERSON, mPerson);\n                startActivity(moveWithObjectIntent);\n                break;\n\n            case R.id.btn_move_for_result:\n                Intent moveForResultIntent = new Intent(MainActivity.this, MoveForResultActivity.class);\n                startActivityForResult(moveForResultIntent, REQUEST_CODE);\n                break;\n\n        }\n    }\n    protected void onActivityResult ( int requestCode, int resultCode, Intent data){\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == MoveForResultActivity.RESULT_CODE) {\n                int selectedValue = data.getIntExtra(MoveForResultActivity.EXTRA_SELECTED_VALUE, 0);\n                tvResult.setText(&quot;Hasil : &quot; + selectedValue);\n            }\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n<p>and this is my activity_main.xml</p>\n<p>`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.example.praktikump10.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity_data&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity Dengan Data&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_dial_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Dial a Number&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_activity_object&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity dengan Object&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_move_for_result&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pindah Activity untuk Result&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_result&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Hasil&quot;\n        android:textSize=&quot;24sp&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n<p>this is for my MoveForResultActivity.java\n`</p>\n<pre><code>package com.example.praktikump10;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioGroup;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.praktikump10.R;\n\npublic class MoveForResultActivity extends AppCompatActivity\n        implements View.OnClickListener {\n    private Button btnChoose;\n    private RadioGroup rgNumber;\n    public static String EXTRA_SELECTED_VALUE = &quot;extra_selected_value&quot;;\n    public static int RESULT_CODE = 110;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_move_for_result);\n        btnChoose = (Button) findViewById(R.id.btn_choose);\n        btnChoose.setOnClickListener(this);\n        rgNumber = (RadioGroup) findViewById(R.id.rg_number);\n    }\n\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.btn_choose) {\n            if (rgNumber.getCheckedRadioButtonId() != 0) {\n                int value = 0;\n                switch (rgNumber.getCheckedRadioButtonId()) {\n                    case R.id.rb_50:\n                        value = 50;\n                        break;\n                    case R.id.rb_100:\n                        value = 100;\n                        break;\n                    case R.id.rb_150:\n                        value = 150;\n                        break;\n                    case R.id.rb_200:\n                        value = 200;\n                        break;\n                }\n                Intent resultIntent = new Intent();\n                resultIntent.putExtra(EXTRA_SELECTED_VALUE, value);\n                setResult(RESULT_CODE, resultIntent);\n                finish();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>activity_move_for_result.xml</p>\n<p>`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.example.praktikump10.MoveForResultActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n        android:text=&quot;Pilih angka yang kamu suka&quot; /&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/rg_number&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_50&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;50&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_100&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;100&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_150&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;150&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/rb_200&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/activity_vertical_margin&quot;\n            android:text=&quot;200&quot; /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_choose&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Pilih&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>`</p>\n<p>why the</p>\n<p>'startActivityForResult(android.content.Intent, int)' is deprecated</p>\n<p>on MainActivity.java</p>\n<p>any answer i really appreciated</p>\n<p>thank you for the valueable answer...</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1667128344,"post_id":74252501,"comment_id":131092999,"body_markdown":"Have you checked if there might be a dependency between `noStroke()` and `line()`?","body":"Have you checked if there might be a dependency between <code>noStroke()</code> and <code>line()</code>?"},{"owner":{"account_id":20681939,"reputation":1,"user_id":15185314,"display_name":"Khalid"},"score":0,"creation_date":1667220539,"post_id":74252501,"comment_id":131111618,"body_markdown":"Yes. There was actually and I solved it by the adding new properties for the line(). Rookie mistake :((","body":"Yes. There was actually and I solved it by the adding new properties for the line(). Rookie mistake :(("}],"owner":{"account_id":20681939,"reputation":1,"user_id":15185314,"display_name":"Khalid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667128094,"creation_date":1667127895,"question_id":74252501,"body_markdown":"tried different solutions but not working. anyone might help?\r\nI want lines drawn from the center of the center circle and center of the outer circles.\r\n\r\n    void drawTree(float x, float y, float scale, float bulbs, float radius) {\r\n      for (float i = 0.0; i&lt;TWO_PI; i+=TWO_PI/bulbs) {\r\n        fill(#13430C);\r\n        noStroke();\r\n        circle(x+cos(i)*scale, y+sin(i)*scale, radius);\r\n        line(x, y, x+cos(i)*scale, y+sin(i)*scale);\r\n      }\r\n        \r\n      fill(#5D4A07);\r\n      noStroke();\r\n      circle(x, y, radius);\r\n    }\r\n\r\nCalling method:\r\n\r\n    void draw(){  \r\n      drawTree(width/2, height/2, 60, 5, 50);\r\n    \r\n    }\r\n\r\n","title":"Why the line is not showing up?/Processing","body":"<p>tried different solutions but not working. anyone might help?\nI want lines drawn from the center of the center circle and center of the outer circles.</p>\n<pre><code>void drawTree(float x, float y, float scale, float bulbs, float radius) {\n  for (float i = 0.0; i&lt;TWO_PI; i+=TWO_PI/bulbs) {\n    fill(#13430C);\n    noStroke();\n    circle(x+cos(i)*scale, y+sin(i)*scale, radius);\n    line(x, y, x+cos(i)*scale, y+sin(i)*scale);\n  }\n    \n  fill(#5D4A07);\n  noStroke();\n  circle(x, y, radius);\n}\n</code></pre>\n<p>Calling method:</p>\n<pre><code>void draw(){  \n  drawTree(width/2, height/2, 60, 5, 50);\n\n}\n</code></pre>\n"},{"tags":["java","swt","eclipse-rcp","slf4j","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667127660,"creation_date":1667127660,"answer_id":74252475,"question_id":74251819,"body_markdown":"Well, with 2.0 NatTable switched to use SLF4J API instead of a concrete logging implementation. You need to add the Log4j2 SLF4J binding to the application to get rid of the warning. ","title":"NatTable 1.6-&gt;2.0 upgrade causes &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;&quot;","body":"<p>Well, with 2.0 NatTable switched to use SLF4J API instead of a concrete logging implementation. You need to add the Log4j2 SLF4J binding to the application to get rid of the warning.</p>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667127660,"creation_date":1667121533,"question_id":74251819,"body_markdown":"I have an Eclipse RCP application which uses the NatTable component.\r\n\r\nThe application uses Log4J 2.19, libraries on the classpath, configured correctly etc and logging works fine to both console and file.\r\n\r\nWhen I try to upgrade from NatTable 1.6 to 2.0, at runtime logging fails to work with the following error printed to the console:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nI&#39;m aware ordinarily this would be caused by the libraries not being on the classpath but I don&#39;t think this is the problem here - my only guess is that the new version of NatTable dependency is including something else on the classpath that&#39;s messing up the dependency resolution?","title":"NatTable 1.6-&gt;2.0 upgrade causes &quot;Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;&quot;","body":"<p>I have an Eclipse RCP application which uses the NatTable component.</p>\n<p>The application uses Log4J 2.19, libraries on the classpath, configured correctly etc and logging works fine to both console and file.</p>\n<p>When I try to upgrade from NatTable 1.6 to 2.0, at runtime logging fails to work with the following error printed to the console:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>I'm aware ordinarily this would be caused by the libraries not being on the classpath but I don't think this is the problem here - my only guess is that the new version of NatTable dependency is including something else on the classpath that's messing up the dependency resolution?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1666350810,"post_id":74150909,"comment_id":130921912,"body_markdown":"Would this help? https://stackoverflow.com/questions/6118708/determine-whether-json-is-a-jsonobject-or-jsonarray","body":"Would this help? <a href=\"https://stackoverflow.com/questions/6118708/determine-whether-json-is-a-jsonobject-or-jsonarray\" title=\"determine whether json is a jsonobject or jsonarray\">stackoverflow.com/questions/6118708/&hellip;</a>"},{"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"score":0,"creation_date":1666361446,"post_id":74150909,"comment_id":130925696,"body_markdown":"not really. The thing is I want to return a Json regardless of its content. I want to pass an argument to OnDataLoaded but I don&#39;t know how to write it.","body":"not really. The thing is I want to return a Json regardless of its content. I want to pass an argument to OnDataLoaded but I don&#39;t know how to write it."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667108904,"post_id":74150909,"comment_id":131090343,"body_markdown":"Can you paste your possible response.data structure or sample? I believe there would be an easy way out of it.","body":"Can you paste your possible response.data structure or sample? I believe there would be an easy way out of it."},{"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"score":0,"creation_date":1667559993,"post_id":74150909,"comment_id":131200381,"body_markdown":"The reply might be:\n{\n    &quot;id&quot;: 14,\n    &quot;name&quot;: &quot;Italy2 (imported)&quot;,\n    &quot;wheelbase&quot;: 0,\n    &quot;k_max&quot;: 0,\n    &quot;seed_point_angle&quot;: null,\n    &quot;first_middle_last&quot;: null\n}\n\nbut it also might be:\n\n[\n    {\n        &quot;id&quot;: 14,\n        &quot;name&quot;: &quot;Italy2 (imported)&quot;\n\t},\n    {\n        &quot;id&quot;: 12,\n        &quot;name&quot;: &quot;USA (imported)&quot;\n\t}\n]\nit depends on what request I send","body":"The reply might be: {     &quot;id&quot;: 14,     &quot;name&quot;: &quot;Italy2 (imported)&quot;,     &quot;wheelbase&quot;: 0,     &quot;k_max&quot;: 0,     &quot;seed_point_angle&quot;: null,     &quot;first_middle_last&quot;: null }  but it also might be:  [     {         &quot;id&quot;: 14,         &quot;name&quot;: &quot;Italy2 (imported)&quot; \t},     {         &quot;id&quot;: 12,         &quot;name&quot;: &quot;USA (imported)&quot; \t} ] it depends on what request I send"}],"answers":[{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667127027,"creation_date":1667127027,"answer_id":74252415,"question_id":74150909,"body_markdown":"First off, you should mention which JSON library you are using. It makes life easier for potential answerers. You seem to be using JSON-java (org.json). Is that correct?\r\n\r\nAlso, it is rather unusual for a program not to know what the structure of the received JSON is. That is one of the reasons JSON library often don&#39;t direct support what you want to do. You may want to look into making sure that there is no way to know more clearly what you are getting. Consider this: Once you know if you have an array or object, what is the next step? Do you know the further structure? \r\n\r\nAs mentioned, JSON-java is  a library that doesn&#39;t provide a way to do this directly. Basically you can either just try to use `JSONObject` and catch the exception and then try `JSONArray` (or viceversa). Or you could look at the first (non-whitespace) character of the string to see if it&#39;s a `{` or a `[`.\r\n\r\nAlternatively consider using a different JSON library. [Jackson][1], for example, has a different data model structure where `JsonObject` and `JsonObject` inherit from a common `JsonNode` class which you parse into instead and which provides methods to check and access its properties independent from the actual implementation.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"String to JSONArray or JSONObect or what?","body":"<p>First off, you should mention which JSON library you are using. It makes life easier for potential answerers. You seem to be using JSON-java (org.json). Is that correct?</p>\n<p>Also, it is rather unusual for a program not to know what the structure of the received JSON is. That is one of the reasons JSON library often don't direct support what you want to do. You may want to look into making sure that there is no way to know more clearly what you are getting. Consider this: Once you know if you have an array or object, what is the next step? Do you know the further structure?</p>\n<p>As mentioned, JSON-java is  a library that doesn't provide a way to do this directly. Basically you can either just try to use <code>JSONObject</code> and catch the exception and then try <code>JSONArray</code> (or viceversa). Or you could look at the first (non-whitespace) character of the string to see if it's a <code>{</code> or a <code>[</code>.</p>\n<p>Alternatively consider using a different JSON library. <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>, for example, has a different data model structure where <code>JsonObject</code> and <code>JsonObject</code> inherit from a common <code>JsonNode</code> class which you parse into instead and which provides methods to check and access its properties independent from the actual implementation.</p>\n"}],"owner":{"account_id":26690481,"reputation":11,"user_id":20299123,"display_name":"ro.me"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667127027,"creation_date":1666341232,"question_id":74150909,"body_markdown":"I need to convert a string to JSON and return the converted JSON.\r\nThe thing is that the string might contain any json (object or array) and I do not know how to return a valid json in my listener. How can I call the listener when Java has two different classes (JSONArray and JSONObject)?\r\n```\r\nJSONArray obj = null;\r\nString str;\r\ntry {\r\n   str = new String(response.data); \r\n\r\n   obj = new JSONArray(str); // But this might be JSONObject as well!!! :-/\r\n\r\n   if (listener != null) listener.OnDataLoaded(obj); // what Type should obj be?!?\r\n\r\n} catch (JSONException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"String to JSONArray or JSONObect or what?","body":"<p>I need to convert a string to JSON and return the converted JSON.\nThe thing is that the string might contain any json (object or array) and I do not know how to return a valid json in my listener. How can I call the listener when Java has two different classes (JSONArray and JSONObject)?</p>\n<pre><code>JSONArray obj = null;\nString str;\ntry {\n   str = new String(response.data); \n\n   obj = new JSONArray(str); // But this might be JSONObject as well!!! :-/\n\n   if (listener != null) listener.OnDataLoaded(obj); // what Type should obj be?!?\n\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","icons","png"],"comments":[{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1667339031,"post_id":74252359,"comment_id":131143453,"body_markdown":"The reason is that Java 8 doesn&#39;t handle properly the DPI settings of the OS. From Java9, it does. So if the DPI is set to 125%, all the icons will be enlarged by 125%. The solution to avoid blurred images is to provide images at different sizes. See [Can I supply image icons in Java in a higher resolution to avoid blurred icons after scaling?](https://stackoverflow.com/questions/70672430/can-i-supply-image-icons-in-java-in-a-higher-resolution-to-avoid-blurred-icons-a) for a solution.","body":"The reason is that Java 8 doesn&#39;t handle properly the DPI settings of the OS. From Java9, it does. So if the DPI is set to 125%, all the icons will be enlarged by 125%. The solution to avoid blurred images is to provide images at different sizes. See <a href=\"https://stackoverflow.com/questions/70672430/can-i-supply-image-icons-in-java-in-a-higher-resolution-to-avoid-blurred-icons-a\">Can I supply image icons in Java in a higher resolution to avoid blurred icons after scaling?</a> for a solution."}],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667126406,"creation_date":1667126406,"question_id":74252359,"body_markdown":"In my Swing application, since I migrated to Java 11, all my icons are bigger (with an unly antilias):\r\n\r\nWith Java 11 : [![Java 11][1]][1]\r\n\r\n\r\nWith Java 8 : [![Java 8][2]][2]\r\n\r\nThe icons are loaded basically this way:\r\n```\r\nBufferedInputStream stream = new BufferedInputStream(getApplicationRessource(pathToIcon));\r\nint count = 0;\r\nbyte buf[] = new byte[MAX_IMAGE_SIZE];\r\ntry {\r\n    count = stream.read(buf);\r\n    stream.close();\r\n} catch (IOException ieo) {\r\n    logger.error(&quot;Reading icon file \\&quot;&quot; + p + &quot;\\&quot;&quot;, ieo);\r\n}\r\nicon = new ImageIcon(Toolkit.getDefaultToolkit().createImage(buf));\r\n```\r\n\r\nHow to improve this ? By either preventing this resize or providing icons alternates ?\r\n\r\n  [1]: https://i.stack.imgur.com/NsDtv.png\r\n  [2]: https://i.stack.imgur.com/Cxevz.png","title":"Icons are bigger with Java 11 than with Java 8","body":"<p>In my Swing application, since I migrated to Java 11, all my icons are bigger (with an unly antilias):</p>\n<p>With Java 11 : <a href=\"https://i.stack.imgur.com/NsDtv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NsDtv.png\" alt=\"Java 11\" /></a></p>\n<p>With Java 8 : <a href=\"https://i.stack.imgur.com/Cxevz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cxevz.png\" alt=\"Java 8\" /></a></p>\n<p>The icons are loaded basically this way:</p>\n<pre><code>BufferedInputStream stream = new BufferedInputStream(getApplicationRessource(pathToIcon));\nint count = 0;\nbyte buf[] = new byte[MAX_IMAGE_SIZE];\ntry {\n    count = stream.read(buf);\n    stream.close();\n} catch (IOException ieo) {\n    logger.error(&quot;Reading icon file \\&quot;&quot; + p + &quot;\\&quot;&quot;, ieo);\n}\nicon = new ImageIcon(Toolkit.getDefaultToolkit().createImage(buf));\n</code></pre>\n<p>How to improve this ? By either preventing this resize or providing icons alternates ?</p>\n"},{"tags":["java","exe","launch4j"],"answers":[{"tags":[],"owner":{"account_id":24027167,"reputation":23,"user_id":18008649,"display_name":"Rudraraj Kar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667126261,"creation_date":1667117569,"answer_id":74251444,"question_id":74251235,"body_markdown":"You can select the exe you want to run --&gt; Click properties --&gt; Under the general tab beside the security option --&gt; check the unblock. Then it should definitely run\r\n\r\nTo have your exe like other software , you have to get your exe signed but I don&#39;t know how to do it. The solution I gave is a duct tape glue solution and I thought it would help.\r\n\r\nYou can check this link for more info:-\r\nhttps://stackoverflow.com/questions/252226/signing-a-windows-exe-file","title":"How to assure windows that my app is safe to run?","body":"<p>You can select the exe you want to run --&gt; Click properties --&gt; Under the general tab beside the security option --&gt; check the unblock. Then it should definitely run</p>\n<p>To have your exe like other software , you have to get your exe signed but I don't know how to do it. The solution I gave is a duct tape glue solution and I thought it would help.</p>\n<p>You can check this link for more info:-\n<a href=\"https://stackoverflow.com/questions/252226/signing-a-windows-exe-file\">Signing a Windows EXE file</a></p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667126261,"creation_date":1667114856,"question_id":74251235,"body_markdown":"For my college project, I created a MapGenerator to create maps for the project. It is a group project, so I converted my `.java` files to `.exe` using Launch4J.\r\nI then shared it to my friends using Google Drive. But then, while downloading, my friends said that Google said that the download is potentially dangerous. They just selected &quot;Keep&quot; and continued the download. The problem came when Windows doesn&#39;t let them to run that app at all. We know it&#39;s a safe application and does nothing wrong other than creating `.csv` files. \r\n\r\nSo, is there any way to assure Windows that this is a safe application and allow it to run the application?\r\n\r\nPS: *I use IntelliJ without gradle or maven, just IntelliJ (if this is a necessary info)*","title":"How to assure windows that my app is safe to run?","body":"<p>For my college project, I created a MapGenerator to create maps for the project. It is a group project, so I converted my <code>.java</code> files to <code>.exe</code> using Launch4J.\nI then shared it to my friends using Google Drive. But then, while downloading, my friends said that Google said that the download is potentially dangerous. They just selected &quot;Keep&quot; and continued the download. The problem came when Windows doesn't let them to run that app at all. We know it's a safe application and does nothing wrong other than creating <code>.csv</code> files.</p>\n<p>So, is there any way to assure Windows that this is a safe application and allow it to run the application?</p>\n<p>PS: <em>I use IntelliJ without gradle or maven, just IntelliJ (if this is a necessary info)</em></p>\n"},{"tags":["java","list","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667117618,"creation_date":1667117618,"answer_id":74251448,"question_id":74251238,"body_markdown":"Use association mappings to model the relationship between two database tables as attributes in your entity. \r\n\r\nJPA and Hibernate support the same associations as you know from your relational database model, all are described in [the blog post][1]. It&#39;s important to understand them correctly.\r\n\r\nFor this particular case, you can focus on the `@ManyToMany` association, since many students can be enrolled in many courses.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>Use association mappings to model the relationship between two database tables as attributes in your entity.</p>\n<p>JPA and Hibernate support the same associations as you know from your relational database model, all are described in <a href=\"https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/\" rel=\"nofollow noreferrer\">the blog post</a>. It's important to understand them correctly.</p>\n<p>For this particular case, you can focus on the <code>@ManyToMany</code> association, since many students can be enrolled in many courses.</p>\n"}],"owner":{"account_id":20613780,"reputation":1,"user_id":15132365,"display_name":"Sagar Rawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667126012,"creation_date":1667114889,"question_id":74251238,"body_markdown":"I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.\r\n\r\nBut looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.\r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Table(name=&quot;Courses&quot;)\r\n@Data\r\npublic class CourseEntity {\r\n    \r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;course_Name&quot;)\r\n\tprivate String courseName;\r\n\t\r\n\t@Column(name=&quot;students&quot;)\r\n\t**private List&lt;StudentEntity&gt; students;**\r\n}\r\n```\r\nabove is the list I am talking about","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.</p>\n<p>But looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Table(name=&quot;Courses&quot;)\n@Data\npublic class CourseEntity {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;course_Name&quot;)\n    private String courseName;\n    \n    @Column(name=&quot;students&quot;)\n    **private List&lt;StudentEntity&gt; students;**\n}\n</code></pre>\n<p>above is the list I am talking about</p>\n"},{"tags":["java","spring","date","localdatetime"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667127308,"post_id":74252316,"comment_id":131092839,"body_markdown":"That string is the URL encoded equivalent of `2022-10-30T13:28:41.530530`. You need to figure out why it is being provided in that format, or just decode it.","body":"That string is the URL encoded equivalent of <code>2022-10-30T13:28:41.530530</code>. You need to figure out why it is being provided in that format, or just decode it."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1667132521,"post_id":74252316,"comment_id":131093714,"body_markdown":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter `T`.","body":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter <code>T</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667145426,"post_id":74252316,"comment_id":131096375,"body_markdown":"Once URL decoded into `2022-10-30T13:28:41.530530`, forget about the formatter and just pass the string to the one-arg `LocalDateTime.parse(CharSequence)`. The string is in the [ISO 8501](https://en.wikipedia.org/wiki/ISO_8601) format, the default for java.time classes, which is why you dont need to specify any formatter.","body":"Once URL decoded into <code>2022-10-30T13:28:41.530530</code>, forget about the formatter and just pass the string to the one-arg <code>LocalDateTime.parse(CharSequence)</code>. The string is in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8501</a> format, the default for java.time classes, which is why you dont need to specify any formatter."}],"owner":{"account_id":25132170,"reputation":9,"user_id":19494722,"display_name":"Arnologus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667125952,"creation_date":1667125952,"question_id":74252316,"body_markdown":"I send a request from the main service to the statistics service, where I send parameters, including the encoded date\r\n\r\n[![the request looks like this](https://i.stack.imgur.com/nWOWa.png)](https://i.stack.imgur.com/nWOWa.png)\r\n\r\n\r\nhere is the code in the statistics service that formats the date\r\n\r\n```\r\ndefault Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\r\n   return (((root, query, criteriaBuilder) -&gt; {\r\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n      if (params.getUris() != null) {\r\n         for (String uri : params.getUris()) {\r\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\r\n         }\r\n      }\r\n      if (params.getStart() != null) {\r\n         predicates.add(criteriaBuilder.greaterThan(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getStart(), formatter)));\r\n      }\r\n      if (params.getEnd() != null) {\r\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getEnd(), formatter)));\r\n      }\r\n\r\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\r\n   }));\r\n```\r\n\r\n\r\nwhen sending a request, I get an error with the following stack trace\r\n\r\n\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\r\n\tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\r\n```\r\nhow to format a string into a date correctly?\r\n\r\n\r\nI tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)","title":"Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10","body":"<p>I send a request from the main service to the statistics service, where I send parameters, including the encoded date</p>\n<p><a href=\"https://i.stack.imgur.com/nWOWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWOWa.png\" alt=\"the request looks like this\" /></a></p>\n<p>here is the code in the statistics service that formats the date</p>\n<pre><code>default Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\n   return (((root, query, criteriaBuilder) -&gt; {\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n      if (params.getUris() != null) {\n         for (String uri : params.getUris()) {\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\n         }\n      }\n      if (params.getStart() != null) {\n         predicates.add(criteriaBuilder.greaterThan(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getStart(), formatter)));\n      }\n      if (params.getEnd() != null) {\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getEnd(), formatter)));\n      }\n\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\n   }));\n</code></pre>\n<p>when sending a request, I get an error with the following stack trace</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-10-30T13%3A28%3A41.530530' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\n    at com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\n    at com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\n</code></pre>\n<p>how to format a string into a date correctly?</p>\n<p>I tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-livedata"],"comments":[{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596749155,"post_id":63291868,"comment_id":111919122,"body_markdown":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document","body":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document"},{"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"score":0,"creation_date":1596750390,"post_id":63291868,"comment_id":111919527,"body_markdown":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!","body":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596754650,"post_id":63291868,"comment_id":111920615,"body_markdown":"I will add it as an answer, you can check it","body":"I will add it as an answer, you can check it"}],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667125212,"creation_date":1596754671,"answer_id":63292882,"question_id":63291868,"body_markdown":"The problem is not in the observer, I think you have a problem with your Firebase reference.\r\n\r\nThat&#39;s why it does not enter in your onSuccess `.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)` --&gt; check this reference you should use `.document` to navigate to a certain document.","title":"LiveData observer not getting triggered","body":"<p>The problem is not in the observer, I think you have a problem with your Firebase reference.</p>\n<p>That's why it does not enter in your onSuccess <code>.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)</code> --&gt; check this reference you should use <code>.document</code> to navigate to a certain document.</p>\n"}],"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667125212,"creation_date":1596748654,"question_id":63291868,"body_markdown":"I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a `MainActivityViewModel` where the data (a `FirestoreMenu`) is taken from the firestore and then it is provided and observed in the `MainActivity`. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?\r\n\r\n\r\n\r\nMainActivity\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n    private MainActivityViewModel mainActivityViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        \r\n        final MenuAdapter adapter = new MenuAdapter();\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n                //update recycle view\r\n                adapter.setFirestoreMenus(firestoreMenus);\r\n            }\r\n        });\r\n\r\n\r\n        /* I also have tried this approach\r\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\r\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\r\n\r\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n\r\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\r\n                menusListView.setAdapter(mAdapter);\r\n            }\r\n        });\r\n           */\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        signInAnonymously();\r\n    }\r\n\r\n    private void signInAnonymously() {\r\n    ...\r\n    }\r\n}\r\n```\r\nMainActivityViewModel\r\n```\r\npublic class MainActivityViewModel extends ViewModel {\r\n\r\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\r\n\r\n\r\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\r\n        if (mMenus == null){\r\n            mMenus = new MutableLiveData&lt;&gt;();\r\n\r\n        }\r\n        return mMenus;\r\n    }\r\n\r\n    public void setMenusCollection(String location){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\r\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\r\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\r\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\r\n                    dataSet.add(menu);\r\n                }\r\n                mMenus.setValue(dataSet);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nMenuAdapter\r\n```\r\npublic class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\r\n\r\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.menu_item,parent,false);\r\n        return new MenuHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\r\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\r\n        holder.textViewTitle.setText(currentMenu.getName());\r\n        holder.textViewDescritpion.setText(currentMenu.getId());\r\n        holder.textViewDescritpion.setText(currentMenu.getImage());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return firestoreMenus.size();\r\n    }\r\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\r\n        this.firestoreMenus = menus;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    class MenuHolder extends RecyclerView.ViewHolder{\r\n        private TextView textViewTitle;\r\n        private TextView textViewDescritpion;\r\n        private TextView textViewPriority;\r\n\r\n        public MenuHolder(View itemView){\r\n            super(itemView);\r\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\r\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\r\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"LiveData observer not getting triggered","body":"<p>I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a <code>MainActivityViewModel</code> where the data (a <code>FirestoreMenu</code>) is taken from the firestore and then it is provided and observed in the <code>MainActivity</code>. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n    private MainActivityViewModel mainActivityViewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setHasFixedSize(true);\n        \n        final MenuAdapter adapter = new MenuAdapter();\n\n        recyclerView.setAdapter(adapter);\n\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n                //update recycle view\n                adapter.setFirestoreMenus(firestoreMenus);\n            }\n        });\n\n\n        /* I also have tried this approach\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\n\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\n                menusListView.setAdapter(mAdapter);\n            }\n        });\n           */\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        signInAnonymously();\n    }\n\n    private void signInAnonymously() {\n    ...\n    }\n}\n</code></pre>\n<p>MainActivityViewModel</p>\n<pre><code>public class MainActivityViewModel extends ViewModel {\n\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\n\n\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\n        if (mMenus == null){\n            mMenus = new MutableLiveData&lt;&gt;();\n\n        }\n        return mMenus;\n    }\n\n    public void setMenusCollection(String location){\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\n                    dataSet.add(menu);\n                }\n                mMenus.setValue(dataSet);\n            }\n        });\n    }\n}\n</code></pre>\n<p>MenuAdapter</p>\n<pre><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\n\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.menu_item,parent,false);\n        return new MenuHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\n        holder.textViewTitle.setText(currentMenu.getName());\n        holder.textViewDescritpion.setText(currentMenu.getId());\n        holder.textViewDescritpion.setText(currentMenu.getImage());\n    }\n\n    @Override\n    public int getItemCount() {\n        return firestoreMenus.size();\n    }\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\n        this.firestoreMenus = menus;\n        notifyDataSetChanged();\n    }\n\n    class MenuHolder extends RecyclerView.ViewHolder{\n        private TextView textViewTitle;\n        private TextView textViewDescritpion;\n        private TextView textViewPriority;\n\n        public MenuHolder(View itemView){\n            super(itemView);\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4959818,"reputation":480,"user_id":3991350,"display_name":"cosh"},"score":2,"creation_date":1517442146,"post_id":48553231,"comment_id":84102949,"body_markdown":"check [this](https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array) out.","body":"check <a href=\"https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array\">this</a> out."}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517443057,"creation_date":1517443057,"answer_id":48553396,"question_id":48553231,"body_markdown":"Why not just use the ordinary multidimensional array initialization syntax?\r\n\r\n        int[][] a = {{1,2,3}, {4,5,6}};\r\n        int[][] b = new int[a.length][a[0].length];\r\n\r\nThis seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don&#39;t get any AIOOBEs:\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = 0; j &lt; a[0].length; j++) {\r\n              b[i][j] = a[i][j];\r\n            }\r\n        }\r\n\r\nThis, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>Why not just use the ordinary multidimensional array initialization syntax?</p>\n\n<pre><code>    int[][] a = {{1,2,3}, {4,5,6}};\n    int[][] b = new int[a.length][a[0].length];\n</code></pre>\n\n<p>This seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don't get any AIOOBEs:</p>\n\n<pre><code>    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = 0; j &lt; a[0].length; j++) {\n          b[i][j] = a[i][j];\n        }\n    }\n</code></pre>\n\n<p>This, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.</p>\n"}],"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6214,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48553396,"answer_count":1,"score":6,"last_activity_date":1667125144,"creation_date":1517441955,"question_id":48553231,"body_markdown":"I have the following 2D Array:\r\n\r\n         int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\r\n         \r\n\r\nAnd I want to create another 2D Array with the same size of `matrixA`, my question is how do I do it with, the same way of an ordinary array, i.e, `int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]`\r\n\r\n        int[][] matrixB = new int[matrixA.length][]\r\n\r\nCan I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there&#39;s a more correct and flexible way to do this? ","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>I have the following 2D Array:</p>\n\n<pre><code>     int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\n</code></pre>\n\n<p>And I want to create another 2D Array with the same size of <code>matrixA</code>, my question is how do I do it with, the same way of an ordinary array, i.e, <code>int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]</code></p>\n\n<pre><code>    int[][] matrixB = new int[matrixA.length][]\n</code></pre>\n\n<p>Can I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there's a more correct and flexible way to do this? </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1576486939,"post_id":59353213,"comment_id":104901650,"body_markdown":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the `Jenkinsfile` then.","body":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the <code>Jenkinsfile</code> then."}],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kopotek"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1602624454,"creation_date":1576490244,"answer_id":59354208,"question_id":59353213,"body_markdown":"In the [Configuring executable archive packaging][1] section of the [Spring Boot Gradle Plugin Reference Guide][2] we can read:\r\n\r\n&gt; The [`BootJar`][3] and [`BootWar`][4] tasks are subclasses of Gradles `Jar` and `War` tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.\r\n\r\nHaving that in mind if we look at [Gradle&#39;s Jar plugin][5] documentation it has [`destinationDirectory`][6] property denoting the directory where the archive will be placed.\r\n\r\nTry updating your `build.gradle` script according to this:\r\n\r\n    bootJar {\r\n      destinationDirectory = file(project.buildDir)\r\n    }\r\n\r\nThis should do the trick.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\r\n  [4]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\r\n  [5]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\r\n  [6]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory","title":"Change &quot;bootJar&quot; target directory","body":"<p>In the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\" rel=\"noreferrer\">Configuring executable archive packaging</a> section of the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\" rel=\"noreferrer\">Spring Boot Gradle Plugin Reference Guide</a> we can read:</p>\n<blockquote>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\" rel=\"noreferrer\"><code>BootJar</code></a> and <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\" rel=\"noreferrer\"><code>BootWar</code></a> tasks are subclasses of Gradles <code>Jar</code> and <code>War</code> tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.</p>\n</blockquote>\n<p>Having that in mind if we look at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"noreferrer\">Gradle's Jar plugin</a> documentation it has <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory\" rel=\"noreferrer\"><code>destinationDirectory</code></a> property denoting the directory where the archive will be placed.</p>\n<p>Try updating your <code>build.gradle</code> script according to this:</p>\n<pre><code>bootJar {\n  destinationDirectory = file(project.buildDir)\n}\n</code></pre>\n<p>This should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":5430327,"reputation":323,"user_id":4321406,"accept_rate":80,"display_name":"Partizanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667124535,"creation_date":1667124535,"answer_id":74252158,"question_id":59353213,"body_markdown":"gradle 7.5\r\n\r\n\r\n    tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\r\n        destinationDirectory.set(file(&quot;jarfile&quot;))\r\n        println(destinationDirectory.get())\r\n    }","title":"Change &quot;bootJar&quot; target directory","body":"<p>gradle 7.5</p>\n<pre><code>tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\n    destinationDirectory.set(file(&quot;jarfile&quot;))\n    println(destinationDirectory.get())\n}\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6038,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59354208,"answer_count":2,"score":4,"last_activity_date":1667124535,"creation_date":1576486402,"question_id":59353213,"body_markdown":"New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.\r\n\r\nBelow is my build.gradle\r\n\r\n    import io.swagger.codegen.DefaultGenerator\r\n    import io.swagger.codegen.config.CodegenConfigurator\r\n    \r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;2.0.5.RELEASE&#39;\r\n            jacocoWorkspaceDirectory = &quot;/jacoco/&quot;\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion&quot;\r\n            classpath group: &quot;io.spring.gradle&quot;, name: &quot;dependency-management-plugin&quot;, version: &quot;1.0.6.RELEASE&quot;\r\n            classpath &#39;com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE&#39;\r\n            classpath group: &quot;org.unbroken-dome.gradle-plugins&quot;, name: &quot;gradle-testsets-plugin&quot;, version: &quot;1.4.2&quot;\r\n            classpath(&quot;io.swagger:swagger-codegen:2.3.1&quot;)\r\n            classpath(&quot;io.swagger.core.v3:swagger-gradle-plugin:2.0.5&quot;)\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    apply plugin: &quot;org.springframework.boot&quot;\r\n    apply plugin: &quot;io.swagger.core.v3.swagger-gradle-plugin&quot;\r\n    apply plugin: &#39;abc-sonar&#39;\r\n    apply plugin: &quot;jacoco&quot;\r\n    apply plugin: &quot;findbugs&quot;\r\n    apply plugin: &quot;checkstyle&quot;\r\n    apply plugin: &quot;pmd&quot;\r\n    \r\n    \r\n    def excludeStudentManagementConstants = &quot;src/main/java/com/abc/student/management/constants/studentManagementConstants.java&quot;\r\n    def excludeCaasConstants = &quot;src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java&quot;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    project.buildDir = &#39;target&#39;\r\n    \r\n    group = &#39;com.abc.studentmanagement&#39;\r\n    version = &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n    }\r\n    \r\n    \r\n    // PLUGIN CONFIGs\r\n    springBoot {\r\n        mainClassName = &#39;com.abc.student.management.StudentManagementApplication&#39;\r\n        buildInfo()\r\n    }\r\n    \r\n    bootJar {\r\n        baseName = &#39;student-management&#39;\r\n    }\r\n    \r\n    // FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\r\n    checkstyle {\r\n        maxErrors = 11\r\n        maxWarnings = 11\r\n        toolVersion = 8.17\r\n    }\r\n    \r\n    [checkstyleMain, checkstyleTest].each { task -&gt;\r\n        task.logging.setLevel(LogLevel.LIFECYCLE)\r\n        // FIXME -  This is to be updated with False.\r\n        task.ignoreFailures = false\r\n    }\r\n    // ---- PLUGIN CONFIG ENDs\r\n    \r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Spring specific dependencies\r\n        implementation(&#39;org.springframework:spring-tx&#39;)\r\n        implementation(&#39;org.springframework:spring-core&#39;)\r\n        implementation(&#39;org.springframework:spring-context&#39;)\r\n        implementation(&#39;org.springframework:spring-beans&#39;)\r\n        implementation(&#39;org.springframework:spring-expression&#39;)\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-aop&#39;\r\n        implementation group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;\r\n    \r\n        // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;\r\n    \r\n        // Spring cloud\r\n        // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-vault-config&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        implementation group: &#39;io.pivotal.spring.cloud&#39;, name: &#39;spring-cloud-services-starter-config-client&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        // Upgraded &quot;spring-cloud-starter-bus-amqp&quot; following from 2.0.0.RC1 to 2.0.1.RELEASE\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-bus-amqp&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n    \r\n    \r\n        // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-core&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;bson&#39;, version: &#39;3.10.1&#39;\r\n    \r\n        // SWagger dependencies\r\n        implementation group: &#39;io.swagger&#39;, name: &#39;swagger-parser&#39;, version: &#39;1.0.23&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;com.atlassian.oai&#39;, name: &#39;swagger-request-validator-core&#39;, version: &#39;1.3.9&#39;\r\n    \r\n        // Apache - Commons\r\n        implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    \r\n        // Oracle dependencies\r\n    //    implementation group: &#39;com.oracle.jdbc&#39;, name: &#39;ojdbc7&#39;, version: &#39;12.1.0&#39;\r\n    \r\n        // Logback\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.2.3&#39;\r\n    \r\n        implementation group: &#39;org.apache.camel&#39;, name: &#39;camel-jsonpath&#39;, version: &#39;2.22.0&#39;\r\n        implementation group: &#39;com.google.gdata&#39;, name: &#39;core&#39;, version: &#39;1.47.1&#39;\r\n        implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;20.0&#39;\r\n    \r\n        // Mapper\r\n        implementation group: &#39;ma.glasnost.orika&#39;, name: &#39;orika-core&#39;, version: &#39;1.5.4&#39;\r\n    \r\n        // JSON\r\n        implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-xml&#39;, version: &#39;2.8.10&#39;\r\n        implementation group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n    \r\n    \r\n        // abc - exception handler\r\n        implementation(group: &#39;com.abc.consumer.exception&#39;, name: &#39;exception-handler&#39;, version: &#39;1.3.3-SNAPSHOT&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n        // AXON - SDK\r\n        implementation(group: &#39;com.abc.apie.axon&#39;, name: &#39;axon-sdk&#39;, version: &#39;2.0.5&#39;) {\r\n            exclude(module: &#39;hibernate-validator&#39;)\r\n        }\r\n    \r\n        // abc Reference Arch - Messaging\r\n        implementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-messaging-base&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude module: &#39;axon-sdk&#39;\r\n            exclude module: &#39;hibernate-validator&#39;\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n    \r\n        // Test specific.\r\n        testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n        testImplementation group: &#39;com.github.tomakehurst&#39;, name: &#39;wiremock&#39;, version: &#39;2.21.0&#39;\r\n    \r\n        // abc Reference Arch - Testing\r\n        testImplementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-unit-test-jar&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n        testImplementation(group: &#39;com.intuit.karate&#39;, name: &#39;karate-apache&#39;, version: &#39;0.9.4&#39;) {\r\n            exclude(module: &#39;logback-classic&#39;)\r\n        }\r\n        testImplementation group: &#39;net.masterthought&#39;, name: &#39;cucumber-reporting&#39;, version: &#39;3.20.0&#39;\r\n    \r\n        // Karate Framework\r\n        testImplementation group: &#39;com.intuit.karate&#39;, name: &#39;karate-junit4&#39;, version: &#39;0.9.4&#39;\r\n    \r\n        // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\r\n        compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.10&#39;\r\n    }\r\n    \r\n    ext.appName = &#39;student-management&#39;\r\n    ext.apiPackage = &#39;com.abc.student.management.generated.api&#39;\r\n    ext.modelPackage = &#39;com.abc.student.management.generated.model&#39;\r\n    ext.swaggerFile = &quot;${rootDir}/src/main/resources/StudentManagement.v1.yaml&quot;\r\n    ext.swaggerBuildDir = &quot;${project.buildDir}/${ext.appName}&quot;\r\n    \r\n    // Actual task for generating the server\r\n    task generateServer {\r\n        doLast {\r\n            def config = new CodegenConfigurator()\r\n            config.setLang(&quot;spring&quot;)\r\n            config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\r\n            config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\r\n            config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\r\n            config.setOutputDir(rootProject.swaggerBuildDir)\r\n            // The output directory, user-service-contract/build/user-service-server/\r\n            config.addSystemProperty(&quot;models&quot;, &quot;&quot;);\r\n            config.addSystemProperty(&quot;apis&quot;, &quot;&quot;);\r\n    \r\n            config.setAdditionalProperties([\r\n                    &#39;dateLibrary&#39;    : &#39;java8&#39;, // Date library to use\r\n                    &#39;useTags&#39;        : &#39;true&#39;,  // Use tags for the naming\r\n                    &#39;delegatePattern&#39;: &#39;true&#39;   // Generating the code with the delegate pattern\r\n            ])\r\n            new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\r\n        }\r\n    }\r\n    \r\n    findbugs {\r\n        toolVersion = &quot;3.0.1&quot;\r\n        sourceSets = [sourceSets.main]\r\n        // FIXME - Make this false.\r\n        ignoreFailures = true\r\n        effort = &quot;max&quot;\r\n        reportLevel = &quot;medium&quot;\r\n        excludeFilter = file(&quot;$rootDir/config/findbugs/exclude.xml&quot;)\r\n    }\r\n    \r\n    pmd {\r\n        toolVersion = &quot;5.6.1&quot;\r\n        ignoreFailures = false\r\n        sourceSets = [sourceSets.main]\r\n        reportsDir = file(&quot;${project.buildDir}/reports/pmdTest&quot;)\r\n        ruleSets = [\r\n                &#39;java-basic&#39;\r\n        ]\r\n    }\r\n    \r\n    tasks.withType(FindBugs) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    tasks.withType(Pmd) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.projectName&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.projectKey&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.jacoco.reportPath&quot;, &quot;build/jacoco/test.exec&quot;\r\n            property &quot;sonar.junit.reportPaths&quot;, &quot;build/test-results/test&quot;\r\n            property &quot;sonar.host.url&quot;, &quot;https://fusion.abc.int/sonar&quot;\r\n            property &quot;sonar.gateId&quot;, &quot;307&quot;\r\n            property &quot;sonar.projectDescription&quot;, &quot;student management microservice.&quot;\r\n            property &quot;sonar.skip.qualityGate&quot;, &quot;false&quot;\r\n            property &quot;sonar.exclusions&quot;, [excludeStudentManagementConstants, excludeCaasConstants]\r\n        }\r\n    }\r\n\r\n\r\nP.S- I tried project.buildDir but that changed the `build` to `target`, the jar is still generated inside the target/lib directory.\r\n\r\n\r\n","title":"Change &quot;bootJar&quot; target directory","body":"<p>New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.</p>\n\n<p>Below is my build.gradle</p>\n\n<pre><code>import io.swagger.codegen.DefaultGenerator\nimport io.swagger.codegen.config.CodegenConfigurator\n\nbuildscript {\n    ext {\n        springBootVersion = '2.0.5.RELEASE'\n        jacocoWorkspaceDirectory = \"/jacoco/\"\n    }\n    repositories {\n        mavenLocal()\n        maven { url \"http://repo.maven.apache.org/maven2\" }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\"\n        classpath group: \"io.spring.gradle\", name: \"dependency-management-plugin\", version: \"1.0.6.RELEASE\"\n        classpath 'com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE'\n        classpath group: \"org.unbroken-dome.gradle-plugins\", name: \"gradle-testsets-plugin\", version: \"1.4.2\"\n        classpath(\"io.swagger:swagger-codegen:2.3.1\")\n        classpath(\"io.swagger.core.v3:swagger-gradle-plugin:2.0.5\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'maven'\napply plugin: 'maven-publish'\napply plugin: \"io.spring.dependency-management\"\napply plugin: \"org.springframework.boot\"\napply plugin: \"io.swagger.core.v3.swagger-gradle-plugin\"\napply plugin: 'abc-sonar'\napply plugin: \"jacoco\"\napply plugin: \"findbugs\"\napply plugin: \"checkstyle\"\napply plugin: \"pmd\"\n\n\ndef excludeStudentManagementConstants = \"src/main/java/com/abc/student/management/constants/studentManagementConstants.java\"\ndef excludeCaasConstants = \"src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java\"\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nproject.buildDir = 'target'\n\ngroup = 'com.abc.studentmanagement'\nversion = '1.0.0-SNAPSHOT'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nrepositories {\n    mavenLocal()\n    maven { url \"http://repo.maven.apache.org/maven2\" }\n}\n\n\n// PLUGIN CONFIGs\nspringBoot {\n    mainClassName = 'com.abc.student.management.StudentManagementApplication'\n    buildInfo()\n}\n\nbootJar {\n    baseName = 'student-management'\n}\n\n// FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\ncheckstyle {\n    maxErrors = 11\n    maxWarnings = 11\n    toolVersion = 8.17\n}\n\n[checkstyleMain, checkstyleTest].each { task -&gt;\n    task.logging.setLevel(LogLevel.LIFECYCLE)\n    // FIXME -  This is to be updated with False.\n    task.ignoreFailures = false\n}\n// ---- PLUGIN CONFIG ENDs\n\n\ndependencyManagement {\n    imports {\n        mavenBom \"org.springframework.boot:spring-boot-dependencies:$springBootVersion\"\n    }\n}\n\ndependencies {\n    // Spring specific dependencies\n    implementation('org.springframework:spring-tx')\n    implementation('org.springframework:spring-core')\n    implementation('org.springframework:spring-context')\n    implementation('org.springframework:spring-beans')\n    implementation('org.springframework:spring-expression')\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-aop'\n    implementation group: 'org.springframework.retry', name: 'spring-retry'\n\n    // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb'\n\n    // Spring cloud\n    // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-vault-config', version: '2.0.1.RELEASE'\n    implementation group: 'io.pivotal.spring.cloud', name: 'spring-cloud-services-starter-config-client', version: '2.0.1.RELEASE'\n    // Upgraded \"spring-cloud-starter-bus-amqp\" following from 2.0.0.RC1 to 2.0.1.RELEASE\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-bus-amqp', version: '2.0.1.RELEASE'\n\n\n    // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.mongodb', name: 'mongodb-driver', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'mongodb-driver-core', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'bson', version: '3.10.1'\n\n    // SWagger dependencies\n    implementation group: 'io.swagger', name: 'swagger-parser', version: '1.0.23'\n    implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\n    implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'\n    implementation group: 'com.atlassian.oai', name: 'swagger-request-validator-core', version: '1.3.9'\n\n    // Apache - Commons\n    implementation group: 'commons-io', name: 'commons-io', version: '2.6'\n\n    // Oracle dependencies\n//    implementation group: 'com.oracle.jdbc', name: 'ojdbc7', version: '12.1.0'\n\n    // Logback\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.2.3'\n\n    implementation group: 'org.apache.camel', name: 'camel-jsonpath', version: '2.22.0'\n    implementation group: 'com.google.gdata', name: 'core', version: '1.47.1'\n    implementation group: 'com.google.guava', name: 'guava', version: '20.0'\n\n    // Mapper\n    implementation group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4'\n\n    // JSON\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.8.10'\n    implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n\n\n    // abc - exception handler\n    implementation(group: 'com.abc.consumer.exception', name: 'exception-handler', version: '1.3.3-SNAPSHOT') {\n        exclude group: 'org.springframework'\n    }\n\n    // AXON - SDK\n    implementation(group: 'com.abc.apie.axon', name: 'axon-sdk', version: '2.0.5') {\n        exclude(module: 'hibernate-validator')\n    }\n\n    // abc Reference Arch - Messaging\n    implementation(group: 'com.abc.refarch', name: 'ref-arch-messaging-base', version: '5.3.2') {\n        exclude module: 'axon-sdk'\n        exclude module: 'hibernate-validator'\n        exclude group: 'org.springframework'\n    }\n\n\n    // Test specific.\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: '2.21.0'\n\n    // abc Reference Arch - Testing\n    testImplementation(group: 'com.abc.refarch', name: 'ref-arch-unit-test-jar', version: '5.3.2') {\n        exclude group: 'org.springframework'\n    }\n    testImplementation(group: 'com.intuit.karate', name: 'karate-apache', version: '0.9.4') {\n        exclude(module: 'logback-classic')\n    }\n    testImplementation group: 'net.masterthought', name: 'cucumber-reporting', version: '3.20.0'\n\n    // Karate Framework\n    testImplementation group: 'com.intuit.karate', name: 'karate-junit4', version: '0.9.4'\n\n    // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.10'\n}\n\next.appName = 'student-management'\next.apiPackage = 'com.abc.student.management.generated.api'\next.modelPackage = 'com.abc.student.management.generated.model'\next.swaggerFile = \"${rootDir}/src/main/resources/StudentManagement.v1.yaml\"\next.swaggerBuildDir = \"${project.buildDir}/${ext.appName}\"\n\n// Actual task for generating the server\ntask generateServer {\n    doLast {\n        def config = new CodegenConfigurator()\n        config.setLang(\"spring\")\n        config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\n        config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\n        config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\n        config.setOutputDir(rootProject.swaggerBuildDir)\n        // The output directory, user-service-contract/build/user-service-server/\n        config.addSystemProperty(\"models\", \"\");\n        config.addSystemProperty(\"apis\", \"\");\n\n        config.setAdditionalProperties([\n                'dateLibrary'    : 'java8', // Date library to use\n                'useTags'        : 'true',  // Use tags for the naming\n                'delegatePattern': 'true'   // Generating the code with the delegate pattern\n        ])\n        new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\n    }\n}\n\nfindbugs {\n    toolVersion = \"3.0.1\"\n    sourceSets = [sourceSets.main]\n    // FIXME - Make this false.\n    ignoreFailures = true\n    effort = \"max\"\n    reportLevel = \"medium\"\n    excludeFilter = file(\"$rootDir/config/findbugs/exclude.xml\")\n}\n\npmd {\n    toolVersion = \"5.6.1\"\n    ignoreFailures = false\n    sourceSets = [sourceSets.main]\n    reportsDir = file(\"${project.buildDir}/reports/pmdTest\")\n    ruleSets = [\n            'java-basic'\n    ]\n}\n\ntasks.withType(FindBugs) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\ntasks.withType(Pmd) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\nsonarqube {\n    properties {\n        property \"sonar.projectName\", \"student-management\"\n        property \"sonar.projectKey\", \"student-management\"\n        property \"sonar.jacoco.reportPath\", \"build/jacoco/test.exec\"\n        property \"sonar.junit.reportPaths\", \"build/test-results/test\"\n        property \"sonar.host.url\", \"https://fusion.abc.int/sonar\"\n        property \"sonar.gateId\", \"307\"\n        property \"sonar.projectDescription\", \"student management microservice.\"\n        property \"sonar.skip.qualityGate\", \"false\"\n        property \"sonar.exclusions\", [excludeStudentManagementConstants, excludeCaasConstants]\n    }\n}\n</code></pre>\n\n<p>P.S- I tried project.buildDir but that changed the <code>build</code> to <code>target</code>, the jar is still generated inside the target/lib directory.</p>\n"},{"tags":["java","rest","testing","mocking"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667050247,"post_id":74245330,"comment_id":131081338,"body_markdown":"It looks like the call to `userRepository.findById` isn&#39;t mocked.","body":"It looks like the call to <code>userRepository.findById</code> isn&#39;t mocked."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667051008,"post_id":74245330,"comment_id":131081522,"body_markdown":"Thanks for your answer! But I mock userRepository with @Mock annotation.","body":"Thanks for your answer! But I mock userRepository with @Mock annotation."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667069000,"post_id":74245330,"comment_id":131085351,"body_markdown":"when(roleRepository.findById(any()))\nwhy is it called roleRepository if you return an instance of user?","body":"when(roleRepository.findById(any())) why is it called roleRepository if you return an instance of user?"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667069458,"post_id":74245330,"comment_id":131085428,"body_markdown":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix","body":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667124400,"creation_date":1667096811,"answer_id":74250117,"question_id":74245330,"body_markdown":"The `updateUser` method calls `userRepository.findById(Integer.valueOf(updatedUser.getUserName()))`.\r\n\r\nThe test does not stub this method, so the `userRepository` mock object will use the default answer behaviour to return a value. The example code does not show how the `userRepository` mock is created, but if the default answer is not customised, it will use [`RETURNS_DEFAULTS`](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS) and return an empty `Optional` by default for methods returning `Optional`.\r\n\r\nTo make it return `userDto` instead, you should stub the method before calling `userService.updateUser` in the test:\r\n\r\n    when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\r\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n\r\n    userService.updateUser(String.valueOf(id), userDto);\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>The <code>updateUser</code> method calls <code>userRepository.findById(Integer.valueOf(updatedUser.getUserName()))</code>.</p>\n<p>The test does not stub this method, so the <code>userRepository</code> mock object will use the default answer behaviour to return a value. The example code does not show how the <code>userRepository</code> mock is created, but if the default answer is not customised, it will use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS\" rel=\"nofollow noreferrer\"><code>RETURNS_DEFAULTS</code></a> and return an empty <code>Optional</code> by default for methods returning <code>Optional</code>.</p>\n<p>To make it return <code>userDto</code> instead, you should stub the method before calling <code>userService.updateUser</code> in the test:</p>\n<pre><code>when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\nwhen(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\nuserService.updateUser(String.valueOf(id), userDto);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74250117,"answer_count":1,"score":-1,"last_activity_date":1667124400,"creation_date":1667047033,"question_id":74245330,"body_markdown":"I&#39;ve written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn&#39;t work. \r\nI&#39;ve tried to add optional but it didn&#39;t work too.\r\nCould you give me a little piece of advice please? What should I fix in my test?\r\n**My testing method looks like:**\r\n\r\n    @Override\r\n    public UserDTO updateUser(String id, UserDTO updatedUser) {\r\n        Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\r\n        if (databaseUser.isEmpty()) {\r\n            throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\r\n        }\r\n        UserEntity entity = mapToUserEntity(updatedUser);\r\n        return map(userRepository.save(entity));\r\n    }\r\n\r\n**My test looks like:**\r\n\r\n    @Test\r\n    void updateUserTest(){\r\n        final int id = 1;\r\n        final long roleId = 2L;\r\n    \r\n        UserDTO userDto = new UserDTO();\r\n    \r\n        userDto.setUserName(String.valueOf(12));\r\n        userDto.setId(String.valueOf(id));\r\n        userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\r\n        userDto.setActive(true);\r\n        userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\r\n        userDto.setRoles(List.of(&quot;2&quot;));\r\n        userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\r\n        userDto.setUnit(null);\r\n    \r\n        when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\r\n        UserEntity userEntity = userService.mapToUserEntity(userDto);\r\n    \r\n        when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n    \r\n        userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        var actualUser = userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        userDto.setUserName(String.valueOf(id));\r\n        assertEquals(actualUser, userDto);\r\n    }\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>I've written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn't work.\nI've tried to add optional but it didn't work too.\nCould you give me a little piece of advice please? What should I fix in my test?\n<strong>My testing method looks like:</strong></p>\n<pre><code>@Override\npublic UserDTO updateUser(String id, UserDTO updatedUser) {\n    Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\n    if (databaseUser.isEmpty()) {\n        throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\n    }\n    UserEntity entity = mapToUserEntity(updatedUser);\n    return map(userRepository.save(entity));\n}\n</code></pre>\n<p><strong>My test looks like:</strong></p>\n<pre><code>@Test\nvoid updateUserTest(){\n    final int id = 1;\n    final long roleId = 2L;\n\n    UserDTO userDto = new UserDTO();\n\n    userDto.setUserName(String.valueOf(12));\n    userDto.setId(String.valueOf(id));\n    userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\n    userDto.setActive(true);\n    userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\n    userDto.setRoles(List.of(&quot;2&quot;));\n    userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\n    userDto.setUnit(null);\n\n    when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\n    UserEntity userEntity = userService.mapToUserEntity(userDto);\n\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\n    userService.updateUser(String.valueOf(id), userDto);\n\n    var actualUser = userService.updateUser(String.valueOf(id), userDto);\n\n    userDto.setUserName(String.valueOf(id));\n    assertEquals(actualUser, userDto);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1667125776,"post_id":74252109,"comment_id":131092604,"body_markdown":"Have you tried logging `onCancelled` error message?","body":"Have you tried logging <code>onCancelled</code> error message?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1667127809,"post_id":74252109,"comment_id":131092917,"body_markdown":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)","body":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667124176,"creation_date":1667124176,"question_id":74252109,"body_markdown":" I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code\r\n\r\n\r\nactivity with receive method\r\n```\r\nprivate void getUsermenwomInfo()\r\n{\r\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\r\n            .child(&quot;Userwoman_men&quot;);\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\r\n            {\r\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\r\n                nameusercard.setText(name);\r\n                if (snapshot.hasChild(&quot;image&quot;)) {\r\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                    Picasso.get().load(image).into(imageosnovnoe);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n}\r\n}\r\n```\r\nxml with shapeableimageview\r\n```\r\nLinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        android:layout_margin=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearmain&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;400dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                android:id=&quot;@+id/imageosnovnoe&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;400dp&quot;\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n\r\n                 /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearhori&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;100dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:weightSum=&quot;3&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/like&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/sas&quot;\r\n\r\n\r\n\r\n                    /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/disslike&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/aan&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nher adapter java class\r\n```\r\npublic class SwipeAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n    private List&lt;Integer&gt; list;\r\n\r\n\r\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\r\n        this.context=context;\r\n        this.list=list;\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 20;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int i) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int i) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int i, View convertView, ViewGroup parent) {\r\n     View view;\r\n     if(convertView==null)\r\n     {\r\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\r\n\r\n     }else {\r\n         view=convertView;\r\n     }\r\n     return view;\r\n    }\r\n   \r\n}\r\n```\r\nhow to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help","title":"method of receiving data from firebase is not working","body":"<p>I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code</p>\n<p>activity with receive method</p>\n<pre><code>private void getUsermenwomInfo()\n{\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Userwoman_men&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\n            {\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\n                nameusercard.setText(name);\n                if (snapshot.hasChild(&quot;image&quot;)) {\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\n                    Picasso.get().load(image).into(imageosnovnoe);\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>xml with shapeableimageview</p>\n<pre><code>LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:gravity=&quot;center&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;500dp&quot;\n        android:layout_margin=&quot;15dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearmain&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;400dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n                android:id=&quot;@+id/imageosnovnoe&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;400dp&quot;\n                android:backgroundTint=&quot;@color/white&quot;\n                android:scaleType=&quot;fitXY&quot;\n\n                 /&gt;\n        &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/linearhori&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;100dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:weightSum=&quot;3&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/like&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/sas&quot;\n\n\n\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/disslike&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/aan&quot;\n\n                    /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>her adapter java class</p>\n<pre><code>public class SwipeAdapter extends BaseAdapter {\n\n    private Context context;\n    private List&lt;Integer&gt; list;\n\n\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\n        this.context=context;\n        this.list=list;\n\n    }\n\n    @Override\n    public int getCount() {\n        return 20;\n    }\n\n    @Override\n    public Object getItem(int i) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int i) {\n        return 0;\n    }\n\n    @Override\n    public View getView(int i, View convertView, ViewGroup parent) {\n     View view;\n     if(convertView==null)\n     {\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\n\n     }else {\n         view=convertView;\n     }\n     return view;\n    }\n   \n}\n</code></pre>\n<p>how to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help</p>\n"},{"tags":["java","inheritance","casting"],"comments":[{"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":3,"creation_date":1298398680,"post_id":5082044,"comment_id":5693589,"body_markdown":"the answer you have here: http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java","body":"the answer you have here: <a href=\"http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java\" title=\"how can i cast a list using generics in java\">stackoverflow.com/questions/662508/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":204,"is_accepted":true,"score":204,"last_activity_date":1298398813,"creation_date":1298398342,"answer_id":5082088,"question_id":5082044,"body_markdown":"The syntax for this sort of assignment uses a wildcard:\r\n\r\n    List&lt;SubClass&gt; subs = ...;\r\n    List&lt;? extends BaseClass&gt; bases = subs;\r\n\r\nIt&#39;s important to realize that a `List&lt;SubClass&gt;` is **not** interchangeable with a `List&lt;BaseClass&gt;`. Code that retains a reference to the `List&lt;SubClass&gt;` will expect every item in the list to be a `SubClass`. If another part of code referred to the list as a `List&lt;BaseClass&gt;`, the compiler will not complain when a `BaseClass` or `AnotherSubClass` is inserted. But this will cause a `ClassCastException` for the first piece of code, which assumes that everything in the list is a `SubClass`.\r\n\r\nGeneric collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:\r\n\r\n    SubClass[] subs = ...;\r\n    BaseClass[] bases = subs;\r\n\r\nThis is allowed, because the array &quot;knows&quot; the type of its elements. If someone attempts to store something that isn&#39;t an instance of `SubClass` in the array (via the `bases` reference), a runtime exception will be thrown. \r\n\r\nGeneric collections do *not* &quot;know&quot; their component type; this information is &quot;erased&quot; at compile time. Therefore, they can&#39;t raise a runtime exception when an invalid store occurs. Instead, a `ClassCastException` will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The syntax for this sort of assignment uses a wildcard:</p>\n\n<pre><code>List&lt;SubClass&gt; subs = ...;\nList&lt;? extends BaseClass&gt; bases = subs;\n</code></pre>\n\n<p>It's important to realize that a <code>List&lt;SubClass&gt;</code> is <strong>not</strong> interchangeable with a <code>List&lt;BaseClass&gt;</code>. Code that retains a reference to the <code>List&lt;SubClass&gt;</code> will expect every item in the list to be a <code>SubClass</code>. If another part of code referred to the list as a <code>List&lt;BaseClass&gt;</code>, the compiler will not complain when a <code>BaseClass</code> or <code>AnotherSubClass</code> is inserted. But this will cause a <code>ClassCastException</code> for the first piece of code, which assumes that everything in the list is a <code>SubClass</code>.</p>\n\n<p>Generic collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:</p>\n\n<pre><code>SubClass[] subs = ...;\nBaseClass[] bases = subs;\n</code></pre>\n\n<p>This is allowed, because the array \"knows\" the type of its elements. If someone attempts to store something that isn't an instance of <code>SubClass</code> in the array (via the <code>bases</code> reference), a runtime exception will be thrown. </p>\n\n<p>Generic collections do <em>not</em> \"know\" their component type; this information is \"erased\" at compile time. Therefore, they can't raise a runtime exception when an invalid store occurs. Instead, a <code>ClassCastException</code> will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.</p>\n"},{"tags":[],"owner":{"account_id":207873,"reputation":1751,"user_id":458014,"accept_rate":83,"display_name":"hd42"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1298400335,"creation_date":1298400335,"answer_id":5082437,"question_id":5082044,"body_markdown":"As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\r\n\r\nI would not recommend this if you don&#39;t know what happens to the List&lt;BaseClass&gt; and would suggest you change whatever code needs the List&lt;BaseClass&gt; to accept the List you have.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\n</code></pre>\n\n<p>I would not recommend this if you don't know what happens to the List and would suggest you change whatever code needs the List to accept the List you have.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1298408701,"creation_date":1298408701,"answer_id":5083949,"question_id":5082044,"body_markdown":"erickson already explained why you can&#39;t do this, but here some solutions:\r\n\r\nIf you only want to take elements out of your base list, in principle your receiving method should be declared as taking a `List&lt;? extends BaseClass&gt;`.\r\n\r\nBut if it isn&#39;t and you can&#39;t change it, you can wrap the list with `Collections.unmodifiableList(...)`, which allows returning a List of a supertype of the argument&#39;s parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>erickson already explained why you can't do this, but here some solutions:</p>\n\n<p>If you only want to take elements out of your base list, in principle your receiving method should be declared as taking a <code>List&lt;? extends BaseClass&gt;</code>.</p>\n\n<p>But if it isn't and you can't change it, you can wrap the list with <code>Collections.unmodifiableList(...)</code>, which allows returning a List of a supertype of the argument's parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)</p>\n"},{"tags":[],"owner":{"account_id":235159,"reputation":276,"user_id":501789,"display_name":"olivervbk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1427324772,"creation_date":1427324772,"answer_id":29268187,"question_id":5082044,"body_markdown":"Something like this should work too:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\r\n\t\tfinal List&lt; ? extends T&gt; originalList,\r\n\t\tfinal Class&lt;T&gt; clazz )\r\n\t{\r\n\t\tfinal List&lt;T&gt; newList = new ArrayList&lt;&gt;();\r\n\t\tfor ( final T item : originalList )\r\n\t\t{\r\n\t\t\tnewList.add( item );\r\n\t\t}// for\r\n\t\treturn newList;\r\n\t}\r\nDon&#39;t really know why clazz is needed in Eclipse..","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Something like this should work too:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\n    final List&lt; ? extends T&gt; originalList,\n    final Class&lt;T&gt; clazz )\n{\n    final List&lt;T&gt; newList = new ArrayList&lt;&gt;();\n    for ( final T item : originalList )\n    {\n        newList.add( item );\n    }// for\n    return newList;\n}\n</code></pre>\n\n<p>Don't really know why clazz is needed in Eclipse..</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665740087,"creation_date":1491503420,"answer_id":43263131,"question_id":5082044,"body_markdown":"What you are trying to do is very useful and I find that I need to do it very often in code that I write.\r\n\r\nMost java programmers would not think twice before implementing `getConvertedList()` by allocating a new `ArrayList&lt;&gt;()`, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of `ArrayList`s which are garbage-collected microseconds after their creation.\r\n\r\nThe solution to this problem is, of course, down-casting the collection. Here is how to do it:\r\n\r\n\tstatic &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\r\n\t{\r\n\t\t@SuppressWarnings( &quot;unchecked&quot; )\r\n\t\tList&lt;T&gt; result = (List&lt;T&gt;)list;\r\n\t\treturn result;\r\n\t}\r\n\r\nThe intermediate `result` variable is necessary due to a perversion of the java language: \r\n\r\n* `return (List&lt;T&gt;)list;` would produce an &quot;unchecked cast&quot; warning;\r\n\r\n* in order to suppress the warning, you need a `@SuppressWarnings( &quot;unchecked&quot; )` annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.\r\n\r\n* in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.\r\n\r\n* luckily, one such annotatable entity is a local variable declaration.\r\n\r\n* therefore, we have to declare a new local variable to use the `@SuppressWarnings` annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)\r\n\r\nNote: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: https://stackoverflow.com/a/72195980/773113\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>What you are trying to do is very useful and I find that I need to do it very often in code that I write.</p>\n<p>Most java programmers would not think twice before implementing <code>getConvertedList()</code> by allocating a new <code>ArrayList&lt;&gt;()</code>, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of <code>ArrayList</code>s which are garbage-collected microseconds after their creation.</p>\n<p>The solution to this problem is, of course, down-casting the collection. Here is how to do it:</p>\n<pre><code>static &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\n{\n    @SuppressWarnings( &quot;unchecked&quot; )\n    List&lt;T&gt; result = (List&lt;T&gt;)list;\n    return result;\n}\n</code></pre>\n<p>The intermediate <code>result</code> variable is necessary due to a perversion of the java language:</p>\n<ul>\n<li><p><code>return (List&lt;T&gt;)list;</code> would produce an &quot;unchecked cast&quot; warning;</p>\n</li>\n<li><p>in order to suppress the warning, you need a <code>@SuppressWarnings( &quot;unchecked&quot; )</code> annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.</p>\n</li>\n<li><p>in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.</p>\n</li>\n<li><p>luckily, one such annotatable entity is a local variable declaration.</p>\n</li>\n<li><p>therefore, we have to declare a new local variable to use the <code>@SuppressWarnings</code> annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)</p>\n</li>\n</ul>\n<p>Note: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: <a href=\"https://stackoverflow.com/a/72195980/773113\">https://stackoverflow.com/a/72195980/773113</a></p>\n"},{"tags":[],"owner":{"account_id":1304399,"reputation":329,"user_id":1253663,"display_name":"sigirisetti"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500474187,"creation_date":1500447834,"answer_id":45183177,"question_id":5082044,"body_markdown":"Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. \r\n\r\nI saw other answers are un-necessarily complicated.\r\n\r\n    List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. </p>\n\n<p>I saw other answers are un-necessarily complicated.</p>\n\n<pre><code>List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519380,"reputation":388,"user_id":1256928,"display_name":"drordk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628516765,"creation_date":1527435543,"answer_id":50553783,"question_id":5082044,"body_markdown":"How about casting all elements. It will create a new list, but will reference the original objects from the old list.\r\n\r\n    List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>How about casting all elements. It will create a new list, but will reference the original objects from the old list.</p>\n<pre><code>List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536178525,"creation_date":1536178525,"answer_id":52192809,"question_id":5082044,"body_markdown":"This is the complete working piece of code using Generics, to cast sub class list to super class.\r\n\r\nCaller method that passes subclass type\r\n\r\n    List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \r\n    getElementDefinitionStatuses(subClassParam);\r\n\r\nCallee method that accepts any subtype of the base class\r\n\r\n    private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \r\n        BaseClass&gt; baseClassVariableName) {\r\n         return allElementStatuses;\r\n        }\r\n    }","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>This is the complete working piece of code using Generics, to cast sub class list to super class.</p>\n\n<p>Caller method that passes subclass type</p>\n\n<pre><code>List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \ngetElementDefinitionStatuses(subClassParam);\n</code></pre>\n\n<p>Callee method that accepts any subtype of the base class</p>\n\n<pre><code>private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \n    BaseClass&gt; baseClassVariableName) {\n     return allElementStatuses;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582397434,"creation_date":1582397434,"answer_id":60355596,"question_id":5082044,"body_markdown":"I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\r\n\r\nNothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the `subList` starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\n</code></pre>\n\n<p>Nothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the <code>subList</code> starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1667123699,"creation_date":1652248077,"answer_id":72195980,"question_id":5082044,"body_markdown":"The most efficient and at the same time ***safe*** way of accomplishing this is as follows:\r\n\r\n    List&lt;S&gt; supers = List.copyOf( descendants );\r\n\r\nThe documentation of this function is here: [oracle.com - Java SE 19 docs - List.copyOf()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection))  The documentation states that this function exists &quot;Since: 10&quot;.\r\n\r\nThe use of this function has the following advantages:\r\n\r\n- It is a neat one-liner.\r\n- It produces no warnings.\r\n- It does not require any typecast.\r\n- It does not require the cumbersome `List&lt;? extends S&gt;` construct.\r\n- It does **not necessarily** make a copy !!!\r\n- Most importantly: **it does the right thing.** (It is safe.)\r\n\r\n### Why is this the right thing?\r\n\r\nIf you look at the source code of `List.copyOf()` you will see that it works as follows:\r\n - If your list was created with `List.of()`, then it will do the cast and return it without copying it.\r\n - Otherwise, (e.g. if your list is an `ArrayList()`,) it will create a copy and return it.\r\n\r\nIf your original `List&lt;D&gt;` is an `ArrayList&lt;D&gt;`, then in order to obtain a `List&lt;S&gt;`, a copy of the `ArrayList` **must be made**. If a cast was made instead, it would be opening up the possibility of inadvertently adding an `S` into that `List&lt;S&gt;`, causing your original `ArrayList&lt;D&gt;` to contain an `S` among the `D`s, which is a disastrous situation known as ***Heap Pollution*** ([Wikipedia](https://en.wikipedia.org/wiki/Heap_pollution)): attempting to iterate all the `D`s in the original `ArrayList&lt;D&gt;` would throw a `ClassCastException`.\r\n\r\nOn the other hand, if your original `List&lt;D&gt;` has been created using `List.of()`, then it is unchangeable&lt;sup&gt;(*1)&lt;/sup&gt;, so it is okay to simply cast it to `List&lt;S&gt;`, because nobody can actually add an `S` among the `D`s.\r\n\r\n`List.copyOf()` takes care of this decision logic for you.\r\n\r\n------------------\r\n&lt;sup&gt;(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable ***to you*** view of ***my*** list which I am still free to mutate as I please, and ***the mutations will be very visible to you***&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.&lt;/sup&gt;","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The most efficient and at the same time <em><strong>safe</strong></em> way of accomplishing this is as follows:</p>\n<pre><code>List&lt;S&gt; supers = List.copyOf( descendants );\n</code></pre>\n<p>The documentation of this function is here: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\">oracle.com - Java SE 19 docs - List.copyOf()</a>  The documentation states that this function exists &quot;Since: 10&quot;.</p>\n<p>The use of this function has the following advantages:</p>\n<ul>\n<li>It is a neat one-liner.</li>\n<li>It produces no warnings.</li>\n<li>It does not require any typecast.</li>\n<li>It does not require the cumbersome <code>List&lt;? extends S&gt;</code> construct.</li>\n<li>It does <strong>not necessarily</strong> make a copy !!!</li>\n<li>Most importantly: <strong>it does the right thing.</strong> (It is safe.)</li>\n</ul>\n<h3>Why is this the right thing?</h3>\n<p>If you look at the source code of <code>List.copyOf()</code> you will see that it works as follows:</p>\n<ul>\n<li>If your list was created with <code>List.of()</code>, then it will do the cast and return it without copying it.</li>\n<li>Otherwise, (e.g. if your list is an <code>ArrayList()</code>,) it will create a copy and return it.</li>\n</ul>\n<p>If your original <code>List&lt;D&gt;</code> is an <code>ArrayList&lt;D&gt;</code>, then in order to obtain a <code>List&lt;S&gt;</code>, a copy of the <code>ArrayList</code> <strong>must be made</strong>. If a cast was made instead, it would be opening up the possibility of inadvertently adding an <code>S</code> into that <code>List&lt;S&gt;</code>, causing your original <code>ArrayList&lt;D&gt;</code> to contain an <code>S</code> among the <code>D</code>s, which is a disastrous situation known as <em><strong>Heap Pollution</strong></em> (<a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"noreferrer\">Wikipedia</a>): attempting to iterate all the <code>D</code>s in the original <code>ArrayList&lt;D&gt;</code> would throw a <code>ClassCastException</code>.</p>\n<p>On the other hand, if your original <code>List&lt;D&gt;</code> has been created using <code>List.of()</code>, then it is unchangeable<sup>(*1)</sup>, so it is okay to simply cast it to <code>List&lt;S&gt;</code>, because nobody can actually add an <code>S</code> among the <code>D</code>s.</p>\n<p><code>List.copyOf()</code> takes care of this decision logic for you.</p>\n<hr />\n<p><sup>(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable <em><strong>to you</strong></em> view of <em><strong>my</strong></em> list which I am still free to mutate as I please, and <em><strong>the mutations will be very visible to you</strong></em>&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.</sup></p>\n"}],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93421,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"accepted_answer_id":5082088,"answer_count":10,"score":161,"last_activity_date":1667123699,"creation_date":1298398098,"question_id":5082044,"body_markdown":"I have a `List&lt;SubClass&gt;` that I want to treat as a `List&lt;BaseClass&gt;`.  It seems like it shouldn&#39;t be a problem since casting a `SubClass` to a `BaseClass` is a snap, but my compiler complains that the cast is impossible.\r\n\r\nSo, what&#39;s the best way to get a reference to the same objects as a `List&lt;BaseClass&gt;`?\r\n\r\nRight now I&#39;m just making a new list and copying the old list:\r\n\r\n    List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\r\n\r\nBut as I understand it that has to create an entirely new list.  I&#39;d like a reference to the original list, if possible!","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I have a <code>List&lt;SubClass&gt;</code> that I want to treat as a <code>List&lt;BaseClass&gt;</code>.  It seems like it shouldn't be a problem since casting a <code>SubClass</code> to a <code>BaseClass</code> is a snap, but my compiler complains that the cast is impossible.</p>\n\n<p>So, what's the best way to get a reference to the same objects as a <code>List&lt;BaseClass&gt;</code>?</p>\n\n<p>Right now I'm just making a new list and copying the old list:</p>\n\n<pre><code>List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\n</code></pre>\n\n<p>But as I understand it that has to create an entirely new list.  I'd like a reference to the original list, if possible!</p>\n"},{"tags":["java","3d","libgdx"],"answers":[{"tags":[],"owner":{"account_id":2874615,"reputation":1084,"user_id":2972145,"display_name":"Deniz Ylmaz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1471079598,"creation_date":1471079598,"answer_id":38931166,"question_id":38928229,"body_markdown":"Model Builder works well for me. \r\n\r\n\r\n    ModelBuilder modelBuilder = new ModelBuilder();\r\n    modelBuilder.begin();\r\n    MeshPartBuilder builder = modelBuilder.part(&quot;line&quot;, 1, 3, new Material());\r\n    builder.setColor(Color.RED);\r\n    builder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\r\n    lineModel = modelBuilder.end();\r\n    lineInstance = new ModelInstance(lineModel);","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>Model Builder works well for me. </p>\n\n<pre><code>ModelBuilder modelBuilder = new ModelBuilder();\nmodelBuilder.begin();\nMeshPartBuilder builder = modelBuilder.part(\"line\", 1, 3, new Material());\nbuilder.setColor(Color.RED);\nbuilder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\nlineModel = modelBuilder.end();\nlineInstance = new ModelInstance(lineModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7597398,"reputation":81,"user_id":5763170,"display_name":"Kright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667122431,"creation_date":1667122431,"answer_id":74251904,"question_id":38928229,"body_markdown":"You need to set camera matrix before rendering:\r\n\r\n```java\r\n@Override\r\n    public void create() {\r\n        ...\r\n        srend = new ShapeRenderer();\r\n        srend.setProjectionMatrix(new Matrix4())\r\n        srend.setColor(Color.RED);\r\n        ...\r\n    }\r\n```\r\n\r\nI don&#39;t know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.\r\n\r\nIn real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:\r\n\r\n```java\r\nshapeRenderer.setProjectionMatrix(camera.combined)\r\n```","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>You need to set camera matrix before rendering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setProjectionMatrix(new Matrix4())\n        srend.setColor(Color.RED);\n        ...\n    }\n</code></pre>\n<p>I don't know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.</p>\n<p>In real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shapeRenderer.setProjectionMatrix(camera.combined)\n</code></pre>\n"}],"owner":{"account_id":6353549,"reputation":247,"user_id":5036929,"accept_rate":62,"display_name":"Jacob_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38931166,"answer_count":2,"score":4,"last_activity_date":1667122431,"creation_date":1471050217,"question_id":38928229,"body_markdown":"I&#39;m trying to learn the 3D side of LibGDX, and I&#39;ve came to a problem. I want to draw a line from `0, 0, -5` to `0, 0, 5`. I&#39;ve tried a few things to make this work.&lt;br&gt;\r\nFirst I looked to see if I could create a line as a `Model`. As far as I can see, I can&#39;t do this.&lt;br&gt;\r\nWhat I then realised is that theoretically I can draw a line using a `ShapeRenderer`. Here&#39;s my code to try to do this.\r\n\r\n    public class Main implements ApplicationListener {\r\n        ...\r\n        public ShapeRenderer srend;\r\n        ...\r\n        @Override\r\n        public void create() {\r\n            ...\r\n            srend = new ShapeRenderer();\r\n            srend.setColor(Color.RED);\r\n            ...\r\n        }\r\n        \r\n        @Override\r\n        public void render() {\r\n            ...\r\n            srend.begin(ShapeType.Line);\r\n            srend.line(0, 0, -5, 0, 0, 5);\r\n            srend.end();\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nBut for some reason this doesn&#39;t appear to work. I use ShapeRenderers a lot, but it&#39;s possible that I&#39;m making a mistake initializing or using it, I don&#39;t think that&#39;s the problem though.&lt;br&gt;\r\nI&#39;ve only just started using the 3D part of LibGDX, so I assume the problem is around where I&#39;m drawing the actual line.","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>I'm trying to learn the 3D side of LibGDX, and I've came to a problem. I want to draw a line from <code>0, 0, -5</code> to <code>0, 0, 5</code>. I've tried a few things to make this work.<br>\nFirst I looked to see if I could create a line as a <code>Model</code>. As far as I can see, I can't do this.<br>\nWhat I then realised is that theoretically I can draw a line using a <code>ShapeRenderer</code>. Here's my code to try to do this.</p>\n\n<pre><code>public class Main implements ApplicationListener {\n    ...\n    public ShapeRenderer srend;\n    ...\n    @Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setColor(Color.RED);\n        ...\n    }\n\n    @Override\n    public void render() {\n        ...\n        srend.begin(ShapeType.Line);\n        srend.line(0, 0, -5, 0, 0, 5);\n        srend.end();\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>But for some reason this doesn't appear to work. I use ShapeRenderers a lot, but it's possible that I'm making a mistake initializing or using it, I don't think that's the problem though.<br>\nI've only just started using the 3D part of LibGDX, so I assume the problem is around where I'm drawing the actual line.</p>\n"},{"tags":["java","azure","databricks","autoload"],"comments":[{"owner":{"account_id":4916681,"reputation":591,"user_id":3960445,"accept_rate":33,"display_name":"Vincent"},"score":1,"creation_date":1666711208,"post_id":74196294,"comment_id":130998902,"body_markdown":"Hello Artur, \nYou can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream().","body":"Hello Artur,  You can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream()."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666714311,"post_id":74196294,"comment_id":131000071,"body_markdown":"Hi Vincent by why did it work with scala: val df = spark.readstream..","body":"Hi Vincent by why did it work with scala: val df = spark.readstream.."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666728268,"post_id":74196294,"comment_id":131004203,"body_markdown":"@Vincent thanks i willl check","body":"@Vincent thanks i willl check"}],"answers":[{"tags":[],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667120950,"creation_date":1667120950,"answer_id":74251766,"question_id":74196294,"body_markdown":"So finally, I have found a way to get Autoloader working inside my Java Jar.\r\n\r\nAs Vincent already commented you have to combine readstream with a writestream.\r\n\r\nSo I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.\r\n\r\n        spark.readStream().format(&quot;cloudFiles&quot;)\r\n                .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\r\n                .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n                .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\r\n                .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\r\n                .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\r\n                .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\r\n                .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\r\n                .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\r\n                .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n                .schema(DF_SCHEMA)\r\n                .load(BLOB_STORAGE_LANDING_ZONE_PATH)\r\n                .writeStream()\r\n                .format(&quot;delta&quot;)\r\n                .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\r\n                .option(&quot;mergeSchema&quot;, &quot;true&quot;)\r\n                .trigger(Trigger.Once())\r\n                .outputMode(&quot;append&quot;)\r\n                .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\r\n\r\nThis works fine with Java when you need to run a Jar as Databricks Jobs.\r\n\r\nBut to be honest I am still wondering why, from inside a Notebook, I don&#39;t have to use writestream in scala language to receive new files from the autoloader.","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>So finally, I have found a way to get Autoloader working inside my Java Jar.</p>\n<p>As Vincent already commented you have to combine readstream with a writestream.</p>\n<p>So I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.</p>\n<pre><code>    spark.readStream().format(&quot;cloudFiles&quot;)\n            .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\n            .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n            .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\n            .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\n            .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\n            .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\n            .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\n            .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\n            .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n            .schema(DF_SCHEMA)\n            .load(BLOB_STORAGE_LANDING_ZONE_PATH)\n            .writeStream()\n            .format(&quot;delta&quot;)\n            .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\n            .option(&quot;mergeSchema&quot;, &quot;true&quot;)\n            .trigger(Trigger.Once())\n            .outputMode(&quot;append&quot;)\n            .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\n</code></pre>\n<p>This works fine with Java when you need to run a Jar as Databricks Jobs.</p>\n<p>But to be honest I am still wondering why, from inside a Notebook, I don't have to use writestream in scala language to receive new files from the autoloader.</p>\n"}],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74251766,"answer_count":1,"score":0,"last_activity_date":1667120950,"creation_date":1666710632,"question_id":74196294,"body_markdown":"currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in **Java** and running as a Job on a Shared Cluster.\r\n\r\nCode:\r\n\r\n```\r\nDataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\r\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\r\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\r\nnewdata.show();\r\n```\r\nBut unfortunatelly I get the following exception:\r\n\r\n```\r\nWARN SQLExecution: Error executing delta metering\r\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\ncloudFiles\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\r\n```\r\n\r\nWhat makes me wonder is, that the exactly same code is **running fine** inside a Databricks Notebook written in **Scala**:\r\n\r\n```\r\nval df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n.option(&quot;cloudFiles.clientId&quot;, spappid)\r\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\r\n\r\ndisplay(df1);\r\n```\r\n\r\nI expect a Dataset&lt;Row&gt; object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in <strong>Java</strong> and running as a Job on a Shared Cluster.</p>\n<p>Code:</p>\n<pre><code>Dataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\nnewdata.show();\n</code></pre>\n<p>But unfortunatelly I get the following exception:</p>\n<pre><code>WARN SQLExecution: Error executing delta metering\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\ncloudFiles\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\n</code></pre>\n<p>What makes me wonder is, that the exactly same code is <strong>running fine</strong> inside a Databricks Notebook written in <strong>Scala</strong>:</p>\n<pre><code>val df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n.option(&quot;cloudFiles.clientId&quot;, spappid)\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\n\ndisplay(df1);\n</code></pre>\n<p>I expect a Dataset object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary</p>\n"},{"tags":["java","string","for-loop","stringbuilder"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667145856,"post_id":74251370,"comment_id":131096478,"body_markdown":"This comment is for the person who voted to close this question. Your reason: &quot;_The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem._&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive.","body":"This comment is for the person who voted to close this question. Your reason: &quot;<i>The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.</i>&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667117329,"creation_date":1667117329,"answer_id":74251427,"question_id":74251370,"body_markdown":"Your problem is that you are adding the strings to the same instance of `StringBuilder` and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the `sb` buffer.\r\n\r\nTo fix, replace the contents of the `else` block with the following snippet:\r\n```\r\nStringBuilder temp = new StringBuilder(arr[i]).reverse();\r\nsb.append(temp.toString()).append(&quot; &quot;);\r\n```\r\n\r\nThe program now outputs\r\n```\r\n[One, Two, three, Four]\r\nenO owT eerht Four \r\n```","title":"Reverse odd length words from a string","body":"<p>Your problem is that you are adding the strings to the same instance of <code>StringBuilder</code> and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the <code>sb</code> buffer.</p>\n<p>To fix, replace the contents of the <code>else</code> block with the following snippet:</p>\n<pre><code>StringBuilder temp = new StringBuilder(arr[i]).reverse();\nsb.append(temp.toString()).append(&quot; &quot;);\n</code></pre>\n<p>The program now outputs</p>\n<pre><code>[One, Two, three, Four]\nenO owT eerht Four \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667117575,"creation_date":1667117575,"answer_id":74251445,"question_id":74251370,"body_markdown":"I would use a stream approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;One Two three Four&quot;;\r\n    String output = Arrays.stream(input.split(&quot; &quot;))\r\n                          .map(x -&gt; new StringBuilder(x).reverse().toString())\r\n                          .collect(Collectors.joining(&quot; &quot;));\r\n    System.out.println(output);  // enO owT eerht ruoF","title":"Reverse odd length words from a string","body":"<p>I would use a stream approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;One Two three Four&quot;;\nString output = Arrays.stream(input.split(&quot; &quot;))\n                      .map(x -&gt; new StringBuilder(x).reverse().toString())\n                      .collect(Collectors.joining(&quot; &quot;));\nSystem.out.println(output);  // enO owT eerht ruoF\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667120045,"creation_date":1667118919,"answer_id":74251591,"question_id":74251370,"body_markdown":"You can use `Pattern` like this.\r\n\r\n    static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\r\n\r\n    static String secretAgentII(String s) {\r\n        return WORD.matcher(s)\r\n            .replaceAll(m -&gt; m.group().length() % 2 == 0\r\n                ? m.group()\r\n                : new StringBuilder(m.group()).reverse().toString());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    enO     owT eerht Four\r\n\r\n","title":"Reverse odd length words from a string","body":"<p>You can use <code>Pattern</code> like this.</p>\n<pre><code>static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\n\nstatic String secretAgentII(String s) {\n    return WORD.matcher(s)\n        .replaceAll(m -&gt; m.group().length() % 2 == 0\n            ? m.group()\n            : new StringBuilder(m.group()).reverse().toString());\n}\n\npublic static void main(String[] args) {\n    System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>enO     owT eerht Four\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74251427,"answer_count":3,"score":-1,"last_activity_date":1667120045,"creation_date":1667116484,"question_id":74251370,"body_markdown":"I am trying to reverse the words from a **string = &quot;One Two three Four&quot;** whose length is odd, I am using **StringBuilder** class to reverse the words my expected output is **&quot;enO owT eerht Four&quot;** but I am getting **&quot;eerht enO Two Four&quot;** here the order is not correct also it is not reversing **&quot;Two&quot;**, what&#39;s wrong with my code also please provide a solution to it.\r\n\r\n```\r\npackage QAIntvSprint;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class SecretAgent {\r\n  static StringBuilder sb = new StringBuilder();\r\n\r\n  public static void main(String[] args) {\r\n    secretAgentII(&quot;One Two three Four&quot;);\r\n  }\r\n\r\n  static void secretAgentII(String s) {\r\n    String[] arr = s.split(&quot; &quot;);\r\n    System.out.println(Arrays.toString(arr));\r\n    int i;\r\n    for (i = 0; i &lt; arr.length; i++) {\r\n      if (arr[i].length() % 2 == 0) {\r\n        sb.append(arr[i] + &quot; &quot;);\r\n      } else {\r\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\r\n      }\r\n    }\r\n    System.out.println(sb.toString());\r\n  }\r\n}\r\n```\r\noutput is below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/way2H.png","title":"Reverse odd length words from a string","body":"<p>I am trying to reverse the words from a <strong>string = &quot;One Two three Four&quot;</strong> whose length is odd, I am using <strong>StringBuilder</strong> class to reverse the words my expected output is <strong>&quot;enO owT eerht Four&quot;</strong> but I am getting <strong>&quot;eerht enO Two Four&quot;</strong> here the order is not correct also it is not reversing <strong>&quot;Two&quot;</strong>, what's wrong with my code also please provide a solution to it.</p>\n<pre><code>package QAIntvSprint;\n\nimport java.util.Arrays;\n\npublic class SecretAgent {\n  static StringBuilder sb = new StringBuilder();\n\n  public static void main(String[] args) {\n    secretAgentII(&quot;One Two three Four&quot;);\n  }\n\n  static void secretAgentII(String s) {\n    String[] arr = s.split(&quot; &quot;);\n    System.out.println(Arrays.toString(arr));\n    int i;\n    for (i = 0; i &lt; arr.length; i++) {\n      if (arr[i].length() % 2 == 0) {\n        sb.append(arr[i] + &quot; &quot;);\n      } else {\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\n      }\n    }\n    System.out.println(sb.toString());\n  }\n}\n</code></pre>\n<p>output is below\n<a href=\"https://i.stack.imgur.com/way2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/way2H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1667115002,"post_id":74251242,"comment_id":131091007,"body_markdown":"`javac` just *compiles* the code. You haven&#39;t *executed* the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. `javac` is just the compiler, everywhere.) If you then run `java Main` (assuming your `Main` class is in the default package) it will actually execute it.","body":"<code>javac</code> just <i>compiles</i> the code. You haven&#39;t <i>executed</i> the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. <code>javac</code> is just the compiler, everywhere.) If you then run <code>java Main</code> (assuming your <code>Main</code> class is in the default package) it will actually execute it."},{"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"score":0,"creation_date":1667115129,"post_id":74251242,"comment_id":131091020,"body_markdown":"@JonSkeet  so then what do I execute?","body":"@JonSkeet  so then what do I execute?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1667115185,"post_id":74251242,"comment_id":131091030,"body_markdown":"You run `java Main` - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow.","body":"You run <code>java Main</code> - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow."}],"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667119919,"answer_count":0,"score":0,"last_activity_date":1667119877,"creation_date":1667114937,"question_id":74251242,"body_markdown":"I&#39;m running a Java program on a Chromebook, and I&#39;m trying to run the file in the Linux terminal. I ran the command `javac Main.java`, but it shows nothing, not an error, but just straight up nothing.\r\n\r\nI have Java installed. The file I&#39;m running has no bugs. I did not make a typo. Everything is perfectly right.\r\n\r\nIs there something I&#39;m missing? \r\n\r\n```none\r\nuser@penguin:~$ javac Main.java\r\nuser@penguin:~$ \r\n```","title":"Java program isn&#39;t showing output on Linux terminal","body":"<p>I'm running a Java program on a Chromebook, and I'm trying to run the file in the Linux terminal. I ran the command <code>javac Main.java</code>, but it shows nothing, not an error, but just straight up nothing.</p>\n<p>I have Java installed. The file I'm running has no bugs. I did not make a typo. Everything is perfectly right.</p>\n<p>Is there something I'm missing?</p>\n<pre class=\"lang-none prettyprint-override\"><code>user@penguin:~$ javac Main.java\nuser@penguin:~$ \n</code></pre>\n"},{"tags":["java","pagination","lucene"],"comments":[{"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"score":0,"creation_date":1667113498,"post_id":74251081,"comment_id":131090820,"body_markdown":"Why down vote? respect me.","body":"Why down vote? respect me."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667134895,"post_id":74251081,"comment_id":131094233,"body_markdown":"(I can&#39;t comment on why the down vote.) See the [official demo code](https://lucene.apache.org/core/9_4_1/demo/index.html) for an example which includes one possible approach to support pagination. More specifically, take a look at the `doPagingSearch()` method in the [`SearchFiles`](https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html) source code.","body":"(I can&#39;t comment on why the down vote.) See the <a href=\"https://lucene.apache.org/core/9_4_1/demo/index.html\" rel=\"nofollow noreferrer\">official demo code</a> for an example which includes one possible approach to support pagination. More specifically, take a look at the <code>doPagingSearch()</code> method in the <a href=\"https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html\" rel=\"nofollow noreferrer\"><code>SearchFiles</code></a> source code."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1667134899,"post_id":74251081,"comment_id":131094234,"body_markdown":"See also the various `searchAfter()` methods in [`IndexSearcher`](https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html) - and existing SO [Lucene pagination](https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination) questions - although some of their code examples may be out-of-date now.","body":"See also the various <code>searchAfter()</code> methods in <a href=\"https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html\" rel=\"nofollow noreferrer\"><code>IndexSearcher</code></a> - and existing SO <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination\" rel=\"nofollow noreferrer\">Lucene pagination</a> questions - although some of their code examples may be out-of-date now."}],"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667119746,"creation_date":1667112741,"question_id":74251081,"body_markdown":"```\r\npackage com.mylucene;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\r\nimport org.apache.lucene.document.Document;\r\nimport org.apache.lucene.index.DirectoryReader;\r\nimport org.apache.lucene.index.IndexReader;\r\nimport org.apache.lucene.queryparser.classic.QueryParser;\r\nimport org.apache.lucene.search.IndexSearcher;\r\nimport org.apache.lucene.search.Query;\r\nimport org.apache.lucene.search.ScoreDoc;\r\nimport org.apache.lucene.search.TopDocs;\r\nimport org.apache.lucene.search.TotalHitCountCollector;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.FSDirectory;\r\n \r\npublic class DemoReader \r\n{\r\n    private String INDEX_DIR = &quot;&quot;;\r\n    \r\n    public DemoReader(String indexDir) throws Exception{\r\n        INDEX_DIR = indexDir;\r\n\r\n        IndexSearcher searcher = createSearcher();\r\n        \r\n\r\n\r\n        //Search by ID\r\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\r\n     \r\n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\r\n     \r\n        for (ScoreDoc sd : foundDocs.scoreDocs) {\r\n            Document d = searcher.doc(sd.doc);\r\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\r\n        }\r\n  \r\n    }\r\n\r\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\r\n   \r\n        return hits;\r\n    }\r\n \r\n    private IndexSearcher createSearcher() throws IOException {\r\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\r\n        IndexReader reader = DirectoryReader.open(dir);\r\n        IndexSearcher searcher = new IndexSearcher(reader);\r\n        return searcher;\r\n    }\r\n}\r\n```\r\nThis class read all records from lucene&#39;s index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records. \r\nThe output is something as:\r\n``` \r\n...\r\n199989 Nicola\r\n199990 Nicola\r\n199991 Nicola\r\n199992 Nicola\r\n199993 Nicola\r\n199994 Nicola\r\n199995 Nicola\r\n199996 Nicola\r\n199997 Nicola\r\n199998 Nicola\r\n199999 Nicola\r\nend\r\n``` \r\nI would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\r\nI&#39;m also tried to use ```TopScoreDocCollector```  but I don&#39;t know how. Can you post me an simple please?\r\nI want get something as:\r\n```\r\n...\r\n100000 Nicola\r\n100001 Nicola\r\n100002 Nicola\r\n100003 Nicola\r\n100004 Nicola\r\n100005 Nicola\r\n100006 Nicola\r\n100007 Nicola\r\n100008 Nicola\r\n100009 Nicola\r\n```\r\n\r\nUPDATE \r\ni have edited searchByFirstName method. But I have a doubt if it&#39;s correct.\r\n\r\n```\r\n   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        \r\n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\r\n    \r\n        searcher.search(firstNameQuery, scoreCollector);\r\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\r\n\r\n        return hitss;\r\n    }\r\n```\r\n\r\n","title":"an example TopScoreDocCollector pagination in Lucene - how to","body":"<pre><code>package com.mylucene;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.queryparser.classic.QueryParser;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.Query;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.search.TopDocs;\nimport org.apache.lucene.search.TotalHitCountCollector;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.FSDirectory;\n \npublic class DemoReader \n{\n    private String INDEX_DIR = &quot;&quot;;\n    \n    public DemoReader(String indexDir) throws Exception{\n        INDEX_DIR = indexDir;\n\n        IndexSearcher searcher = createSearcher();\n        \n\n\n        //Search by ID\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\n     \n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\n     \n        for (ScoreDoc sd : foundDocs.scoreDocs) {\n            Document d = searcher.doc(sd.doc);\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\n        }\n  \n    }\n\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\n   \n        return hits;\n    }\n \n    private IndexSearcher createSearcher() throws IOException {\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\n        IndexReader reader = DirectoryReader.open(dir);\n        IndexSearcher searcher = new IndexSearcher(reader);\n        return searcher;\n    }\n}\n</code></pre>\n<p>This class read all records from lucene's index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records.\nThe output is something as:</p>\n<pre><code>...\n199989 Nicola\n199990 Nicola\n199991 Nicola\n199992 Nicola\n199993 Nicola\n199994 Nicola\n199995 Nicola\n199996 Nicola\n199997 Nicola\n199998 Nicola\n199999 Nicola\nend\n</code></pre>\n<p>I would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\nI'm also tried to use <code>TopScoreDocCollector</code>  but I don't know how. Can you post me an simple please?\nI want get something as:</p>\n<pre><code>...\n100000 Nicola\n100001 Nicola\n100002 Nicola\n100003 Nicola\n100004 Nicola\n100005 Nicola\n100006 Nicola\n100007 Nicola\n100008 Nicola\n100009 Nicola\n</code></pre>\n<p>UPDATE\ni have edited searchByFirstName method. But I have a doubt if it's correct.</p>\n<pre><code>   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        \n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\n    \n        searcher.search(firstNameQuery, scoreCollector);\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\n\n        return hitss;\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1667054139,"post_id":74233801,"comment_id":131082198,"body_markdown":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one.","body":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one."}],"answers":[{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667053712,"creation_date":1667053712,"answer_id":74246130,"question_id":74233801,"body_markdown":"I don&#39;t think you&#39;re missing something. All you mentioned is correct.\r\n\r\nThe way I understand it is that `UnnecessaryStubbingsException` is Mockito&#39;s way of telling you:\r\n\r\n&gt; Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.\r\n\r\nAnd if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won&#39;t, _lenient_ would be the way to go. So the exception goes away if you define your mock like this:\r\n\r\n```java\r\n@Mock(lenient = true)\r\nService someService;\r\n```\r\n\r\nSo my actual personal answer is: It&#39;s good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I don't think you're missing something. All you mentioned is correct.</p>\n<p>The way I understand it is that <code>UnnecessaryStubbingsException</code> is Mockito's way of telling you:</p>\n<blockquote>\n<p>Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.</p>\n</blockquote>\n<p>And if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won't, <em>lenient</em> would be the way to go. So the exception goes away if you define your mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock(lenient = true)\nService someService;\n</code></pre>\n<p>So my actual personal answer is: It's good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.</p>\n"},{"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667119410,"creation_date":1667119410,"answer_id":74251616,"question_id":74233801,"body_markdown":"With junit 5.x and mockito 4.x the `UnnecessaryStubbingsException` will only show up,\r\nwhen you add `@ExtendWith(MockitoExtension.class)` to your test class like this:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MainTest {\r\n  private Service someService;\r\n  private MainService serviceUnderTest;\r\n\r\n  @BeforeEach\r\n  void setup() {\r\n    this.someService = Mockito.mock(Service.class);\r\n    this.serviceUnderTest = new MainService(someService);\r\n  }\r\n//...see full code example below\r\n}\r\n```\r\nBut that `@ExtendWith(MockitoExtension.class)` is actually not necessary for this type of test. Mockitos JavaDoc says:\r\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don&#39;t use the `@Mock` annotation in\r\nyour tests, you ain&#39;t gonna need it.\r\n\r\nBut if you need to use `@ExtendWith(MockitoExtension.class)`\r\nthen you have several options:&lt;br&gt;\r\n\r\nYou can replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\nOr another option would be to use:&lt;br&gt;\r\n```\r\n@Mock(strictness = Mock.Strictness.LENIENT)\r\nprivate Service someService;\r\n```\r\nYou might also be able to use this old, deprecated annotation option.\r\n```\r\n@Mock(lenient = true) //deprecated!\r\nService someService;\r\n```\r\nAs Andreas Siegel suggested in the other answer above,\r\nbut as I said `@Mock(lenient = true)` is actually deprecated.\r\n\r\n\r\n\r\nYou can get and run a complete code example using:\r\n```\r\ngit clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\r\ncd backend\r\ngradle test --tests &#39;*MainTest*&#39; --console plain\r\n```\r\n\r\nThe code without any annotations and therefore without the `UnnecessaryStubbingsException` showing up looks like:\r\n\r\n    public interface Service {\r\n      public boolean execute(String flag) ;\r\n    }\r\n\r\nand\r\n\r\n    public class MainService {\r\n      private Service someService;\r\n    \r\n      public MainService(Service service) {\r\n        this.someService = service;\r\n      }\r\n    \r\n      public boolean process(String flag) {\r\n        if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n       boolean result = someService.execute(flag);\r\n        if (result) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n        return result;\r\n      }\r\n    }\r\n\r\nwhen the Test is:\r\n\r\n    class MainTest {\r\n    \r\n      private Service someService;\r\n      private MainService serviceUnderTest;\r\n      @BeforeEach\r\n      void setup(){\r\n        this.someService = Mockito.mock(Service.class);\r\n        this.serviceUnderTest = new MainService(someService);\r\n      }\r\n    \r\n      @ParameterizedTest\r\n      @MethodSource(&quot;getFlags&quot;)\r\n      void shouldTestIfFlagWorks(String someFlag) {\r\n        // Given\r\n        Mockito.doReturn(true).when(someService).execute(someFlag);\r\n    \r\n        // When\r\n        Throwable thrown = Assertions.catchThrowable(() -&gt; \r\n           serviceUnderTest.process(someFlag));\r\n    \r\n        // Then\r\n        Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n      }\r\n    \r\n      private static Stream&lt;Arguments&gt; getFlags() {\r\n        return Stream.of(\r\n                Arguments.of(&quot;flag1&quot;),\r\n                Arguments.of(&quot;flag2&quot;)\r\n        );\r\n      }\r\n    }\r\n\r\nthe test run shoes no `UnnecessaryStubbingsException`:\r\n\r\nBTW I&#39;m using these dependencies:\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:4.8.1&#39;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter&#39;, version: &#39;5.9.1&#39;\r\n\r\nNow try adding `@ExtendWith(MockitoExtension.class)` and run the test again. The `UnnecessaryStubbingsException` \r\nshould show up now, until you either replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\n\r\nI just also checked with \r\n`testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-all&#39;, version: &#39;2.0.2-beta&#39;` \r\nbut each time with `junit-jupiter 5.9.1`: same result. \r\nJunit 4 however does have different annotations and behaves quite differently.\r\n\r\n","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>With junit 5.x and mockito 4.x the <code>UnnecessaryStubbingsException</code> will only show up,\nwhen you add <code>@ExtendWith(MockitoExtension.class)</code> to your test class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MainTest {\n  private Service someService;\n  private MainService serviceUnderTest;\n\n  @BeforeEach\n  void setup() {\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n//...see full code example below\n}\n</code></pre>\n<p>But that <code>@ExtendWith(MockitoExtension.class)</code> is actually not necessary for this type of test. Mockitos JavaDoc says:\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don't use the <code>@Mock</code> annotation in\nyour tests, you ain't gonna need it.</p>\n<p>But if you need to use <code>@ExtendWith(MockitoExtension.class)</code>\nthen you have several options:<br></p>\n<p>You can replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.\nOr another option would be to use:<br></p>\n<pre><code>@Mock(strictness = Mock.Strictness.LENIENT)\nprivate Service someService;\n</code></pre>\n<p>You might also be able to use this old, deprecated annotation option.</p>\n<pre><code>@Mock(lenient = true) //deprecated!\nService someService;\n</code></pre>\n<p>As Andreas Siegel suggested in the other answer above,\nbut as I said <code>@Mock(lenient = true)</code> is actually deprecated.</p>\n<p>You can get and run a complete code example using:</p>\n<pre><code>git clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\ncd backend\ngradle test --tests '*MainTest*' --console plain\n</code></pre>\n<p>The code without any annotations and therefore without the <code>UnnecessaryStubbingsException</code> showing up looks like:</p>\n<pre><code>public interface Service {\n  public boolean execute(String flag) ;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class MainService {\n  private Service someService;\n\n  public MainService(Service service) {\n    this.someService = service;\n  }\n\n  public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n   boolean result = someService.execute(flag);\n    if (result) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n  }\n}\n</code></pre>\n<p>when the Test is:</p>\n<pre><code>class MainTest {\n\n  private Service someService;\n  private MainService serviceUnderTest;\n  @BeforeEach\n  void setup(){\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;getFlags&quot;)\n  void shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; \n       serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n  }\n\n  private static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n            Arguments.of(&quot;flag1&quot;),\n            Arguments.of(&quot;flag2&quot;)\n    );\n  }\n}\n</code></pre>\n<p>the test run shoes no <code>UnnecessaryStubbingsException</code>:</p>\n<p>BTW I'm using these dependencies:</p>\n<pre><code>testImplementation 'org.mockito:mockito-core:4.8.1'\ntestImplementation 'org.mockito:mockito-junit-jupiter:4.8.1'\ntestImplementation group: 'org.junit.jupiter', name: 'junit-jupiter', version: '5.9.1'\n</code></pre>\n<p>Now try adding <code>@ExtendWith(MockitoExtension.class)</code> and run the test again. The <code>UnnecessaryStubbingsException</code>\nshould show up now, until you either replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.</p>\n<p>I just also checked with\n<code>testImplementation group: 'org.mockito', name: 'mockito-all', version: '2.0.2-beta'</code>\nbut each time with <code>junit-jupiter 5.9.1</code>: same result.\nJunit 4 however does have different annotations and behaves quite differently.</p>\n"}],"owner":{"account_id":14650680,"reputation":521,"user_id":10580773,"display_name":"jure"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74251616,"answer_count":2,"score":2,"last_activity_date":1667119410,"creation_date":1666951687,"question_id":74233801,"body_markdown":"I&#39;m moving some tests to newer Mockito versions and I&#39;m running into a wall when it comes to `@ParameterizedTest` tests and Mockito&#39;s `UnnecessaryStubbingsException`.\r\n\r\nThe issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will. \r\n\r\nThis results in Mockito throwing the `UnnecessaryStubbingsException` for the cases where the mock is unused. I can&#39;t remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.\r\n\r\nTo illustrate, let&#39;s say I have this dummy method I&#39;m testing:\r\n```\r\npublic boolean process(String flag) {\r\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    boolean result = someService.execute(flag);\r\n    if (result) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAnd then the parameterised test to check multiple flags:\r\n```\r\n@ParameterizedTest\r\n@MethodSource(&quot;getFlags&quot;)\r\nvoid shouldTestIfFlagWorks(String someFlag) {\r\n    // Given\r\n    Mockito.doReturn(true).when(someService).execute(someFlag);\r\n\r\n    // When\r\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\r\n\r\n    // Then\r\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; getFlags() {\r\n    return Stream.of(\r\n        Arguments.of(&quot;flag1&quot;),\r\n        Arguments.of(&quot;flag2&quot;)\r\n    );\r\n}\r\n```\r\n\r\nThe example is a bit contrived, but this will fail with `UnnecessaryStubbingsException` because the first parameter the test runs with doesn&#39;t need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.\r\n\r\nIs there any way to circumvent this? One option I know would solve this is to use `Mockito.lenient()`. The other option is to refactor and move the parameters that need the mock to a separate test.\r\n\r\nI&#39;m curious if there&#39;s any different / better approach, or something else that I&#39;m missing here.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I'm moving some tests to newer Mockito versions and I'm running into a wall when it comes to <code>@ParameterizedTest</code> tests and Mockito's <code>UnnecessaryStubbingsException</code>.</p>\n<p>The issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will.</p>\n<p>This results in Mockito throwing the <code>UnnecessaryStubbingsException</code> for the cases where the mock is unused. I can't remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.</p>\n<p>To illustrate, let's say I have this dummy method I'm testing:</p>\n<pre><code>public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    boolean result = someService.execute(flag);\n    if (result) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n}\n</code></pre>\n<p>And then the parameterised test to check multiple flags:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;getFlags&quot;)\nvoid shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n}\n\nprivate static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n        Arguments.of(&quot;flag1&quot;),\n        Arguments.of(&quot;flag2&quot;)\n    );\n}\n</code></pre>\n<p>The example is a bit contrived, but this will fail with <code>UnnecessaryStubbingsException</code> because the first parameter the test runs with doesn't need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.</p>\n<p>Is there any way to circumvent this? One option I know would solve this is to use <code>Mockito.lenient()</code>. The other option is to refactor and move the parameters that need the mock to a separate test.</p>\n<p>I'm curious if there's any different / better approach, or something else that I'm missing here.</p>\n"},{"tags":["java","cluster-analysis"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1667140175,"post_id":74251608,"comment_id":131095292,"body_markdown":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java).","body":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java)."}],"owner":{"account_id":24682650,"reputation":11,"user_id":18576188,"display_name":"Putra R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667119219,"creation_date":1667119219,"question_id":74251608,"body_markdown":"I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\r\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster. \r\n\r\nIs there anyone can help? I don&#39;t know where to start. \r\nThank you\r\n\r\nExample:\r\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\r\nNumber of cluster: 3\r\nResult:\r\n\r\n&gt; Cluster 1: 2, 8, 10, 13, 17, 20\r\n&gt; Cluster 2: 34, 38\r\n&gt; Cluster 3: 53","title":"Single Linkage Clustering using Java","body":"<p>I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster.</p>\n<p>Is there anyone can help? I don't know where to start.\nThank you</p>\n<p>Example:\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\nNumber of cluster: 3\nResult:</p>\n<blockquote>\n<p>Cluster 1: 2, 8, 10, 13, 17, 20\nCluster 2: 34, 38\nCluster 3: 53</p>\n</blockquote>\n"},{"tags":["java","jenkins","kubernetes","groovy","azure-aks"],"comments":[{"owner":{"account_id":2745772,"reputation":209,"user_id":2366213,"accept_rate":83,"display_name":"tollgen"},"score":0,"creation_date":1643979382,"post_id":70978904,"comment_id":125489024,"body_markdown":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once","body":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once"},{"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"score":0,"creation_date":1643992029,"post_id":70978904,"comment_id":125494465,"body_markdown":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins. \nI&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts.","body":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins.  I&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts."}],"answers":[{"tags":[],"owner":{"account_id":257758,"reputation":31,"user_id":18175012,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647037969,"creation_date":1644526553,"answer_id":71072163,"question_id":70978904,"body_markdown":"**EDIT:** Doesn&#39;t seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven&#39;t got that figured out.\r\n\r\n---\r\n\r\nStarted seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.\r\n\r\nExcept I&#39;m getting 5000 instead of 7000 milliseconds.\r\n\r\n    io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n\r\nDigging into the stacktrace and source on Github leads back to [this][1] default timeout (which haven&#39;t changed in 6 years), so somehow you seem to have a non-default.\r\n\r\n    public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\r\n\r\nIt seems it can [be overriden with environment variable][2] **KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY** on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.\r\n\r\nMight be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I&#39;m not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven&#39;t changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.\r\n\r\nEDIT: I&#39;m on running on bare metal cluster\r\n\r\n [1]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\r\n [2]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p><strong>EDIT:</strong> Doesn't seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven't got that figured out.</p>\n<hr />\n<p>Started seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.</p>\n<p>Except I'm getting 5000 instead of 7000 milliseconds.</p>\n<pre><code>io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n</code></pre>\n<p>Digging into the stacktrace and source on Github leads back to <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\" rel=\"nofollow noreferrer\">this</a> default timeout (which haven't changed in 6 years), so somehow you seem to have a non-default.</p>\n<pre><code>public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\n</code></pre>\n<p>It seems it can <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421\" rel=\"nofollow noreferrer\">be overriden with environment variable</a> <strong>KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY</strong> on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.</p>\n<p>Might be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I'm not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven't changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.</p>\n<p>EDIT: I'm on running on bare metal cluster</p>\n"},{"tags":[],"owner":{"account_id":11100419,"reputation":1,"user_id":8149256,"display_name":"Ammar Rami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667119071,"creation_date":1666790884,"answer_id":74208643,"question_id":70978904,"body_markdown":"The solution for me is to add `-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000` in the controller (Jenkins) service line command\r\nThis work for the last version of the plugin also","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>The solution for me is to add <code>-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000</code> in the controller (Jenkins) service line command\nThis work for the last version of the plugin also</p>\n"}],"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7741,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1667119071,"creation_date":1643925664,"question_id":70978904,"body_markdown":"Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error? \r\nTroubleshooting steps i did.\r\n\r\nrevert Jenkins to old version =&gt; results in same Error\r\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\r\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\r\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error\r\n\r\nHow to fix this? \r\n\r\n```\r\n18:23:33  [Pipeline] // podTemplate\r\n18:23:33  [Pipeline] End of Pipeline\r\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n18:23:33  \tat io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\r\n18:23:33  \tat hudson.Launcher$ProcStarter.start(Launcher.java:507)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n18:23:33  \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n18:23:33  \tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n18:23:33  \tat WorkflowScript.run(WorkflowScript:114)\r\n18:23:33  \tat ___cps.transform___(Native Method)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\r\n\r\n\r\n","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error?\nTroubleshooting steps i did.</p>\n<p>revert Jenkins to old version =&gt; results in same Error\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error</p>\n<p>How to fix this?</p>\n<pre><code>18:23:33  [Pipeline] // podTemplate\n18:23:33  [Pipeline] End of Pipeline\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n18:23:33    at io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\n18:23:33    at hudson.Launcher$ProcStarter.start(Launcher.java:507)\n18:23:33    at org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\n18:23:33    at org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\n18:23:33    at org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n18:23:33    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n18:23:33    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\n18:23:33    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n18:23:33    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\n18:23:33    at org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\n18:23:33    at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\n18:23:33    at WorkflowScript.run(WorkflowScript:114)\n18:23:33    at ___cps.transform___(Native Method)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n18:23:33    at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\n18:23:33    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\n18:23:33    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\n\n\n</code></pre>\n"},{"tags":["java","printf"],"answers":[{"tags":[],"owner":{"account_id":4876168,"reputation":3687,"user_id":3931225,"display_name":"KompjoeFriek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667092253,"creation_date":1667092253,"answer_id":74249902,"question_id":74249879,"body_markdown":"You can add it with `%s` in the format string:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\nAlternatively, you can just add the text inside the format string:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);","title":"How do you add a string in a print f statement","body":"<p>You can add it with <code>%s</code> in the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n</code></pre>\n<p>Alternatively, you can just add the text inside the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);\n</code></pre>\n"}],"owner":{"account_id":26039276,"reputation":7,"user_id":19744334,"display_name":"Songline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667119066,"creation_date":1667091828,"question_id":74249879,"body_markdown":"\r\n```\r\n        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\n```\r\n\r\nI want the output to be `~~~~100.0% success! ~~~~`, but it&#39;s giving me only `~~~~100.0%`. How do I fix this?\r\n\r\nI tried using `+`, but it gave me a bunch of errors.","title":"How do you add a string in a print f statement","body":"<pre><code>        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n\n</code></pre>\n<p>I want the output to be <code>~~~~100.0% success! ~~~~</code>, but it's giving me only <code>~~~~100.0%</code>. How do I fix this?</p>\n<p>I tried using <code>+</code>, but it gave me a bunch of errors.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565744056,"post_id":57486892,"comment_id":101444665,"body_markdown":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals","body":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565744610,"post_id":57486892,"comment_id":101444741,"body_markdown":"You need to use `join fetch` instead of just `join` since the collections are lazily loading, That is why you don&#39;t see any results","body":"You need to use <code>join fetch</code> instead of just <code>join</code> since the collections are lazily loading, That is why you don&#39;t see any results"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565745555,"post_id":57486892,"comment_id":101444909,"body_markdown":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal.","body":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1565745967,"post_id":57486892,"comment_id":101445000,"body_markdown":"If you are passing objects as parameters use equal instead of in eg `where g=:gemstone1` or better keep in and pass a list instead as a parameter of the 2 objects e.g `setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))`","body":"If you are passing objects as parameters use equal instead of in eg <code>where g=:gemstone1</code> or better keep in and pass a list instead as a parameter of the 2 objects e.g <code>setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))</code>"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565746106,"post_id":57486892,"comment_id":101445030,"body_markdown":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list.","body":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list."},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565761144,"post_id":57486892,"comment_id":101447810,"body_markdown":"Edited the post with my latest try and cleaned up the question","body":"Edited the post with my latest try and cleaned up the question"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794608,"post_id":57486892,"comment_id":101464115,"body_markdown":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products \n\nBTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use `GROUP  BY g` instead of `p` but like I said before you don&#39;t need using having at all","body":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products   BTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use <code>GROUP  BY g</code> instead of <code>p</code> but like I said before you don&#39;t need using having at all"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794704,"post_id":57486892,"comment_id":101464171,"body_markdown":"Make sure to use `select distinct(p.productId)` so that you don&#39;t have any duplicates","body":"Make sure to use <code>select distinct(p.productId)</code> so that you don&#39;t have any duplicates"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565794861,"post_id":57486892,"comment_id":101464263,"body_markdown":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening.","body":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565798633,"post_id":57486892,"comment_id":101466264,"body_markdown":"see this post similar case to yours https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set","body":"see this post similar case to yours <a href=\"https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set\" title=\"hql to get elements that possess all items in a set\">stackoverflow.com/questions/2879161/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667118195,"creation_date":1565817663,"answer_id":57502223,"question_id":57486892,"body_markdown":"Actually the SQL query that we need here is pretty simple:\r\n```SQL\r\nSELECT t1.product_id \r\nFROM gemstone_product AS t1 \r\nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\r\nGROUP BY  t1.product_id  \r\nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\r\n```\r\nIt&#39;s a bit frustrating that it&#39;s not easy to create it with JPA, but it can be done with [FluentJPA][1] (produces the query above):\r\n\r\n```java\r\npublic List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\r\n    int count = gemstoneIds.size();\r\n\r\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\r\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\r\n\r\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\r\n\r\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\r\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\r\n\r\n        SELECT(productId);\r\n        FROM(gemstoneProduct);\r\n        WHERE(gemstoneIds.contains(gemstoneId));\r\n        GROUP(BY(productId));\r\n        HAVING(COUNT(gemstoneId) == count);\r\n    });\r\n    return query.createQuery(em).getResultList();\r\n}\r\n```\r\n\r\nMore details on how it works can be found [here][2].\r\n\r\n\r\n  [1]: https://github.com/streamx-co/FluentJPA\r\n  [2]: https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany","title":"HQL or SQL query to get data from many to many related entities","body":"<p>Actually the SQL query that we need here is pretty simple:</p>\n<pre><code>SELECT t1.product_id \nFROM gemstone_product AS t1 \nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\nGROUP BY  t1.product_id  \nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\n</code></pre>\n<p>It's a bit frustrating that it's not easy to create it with JPA, but it can be done with <a href=\"https://github.com/streamx-co/FluentJPA\" rel=\"nofollow noreferrer\">FluentJPA</a> (produces the query above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\n    int count = gemstoneIds.size();\n\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\n\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\n\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\n\n        SELECT(productId);\n        FROM(gemstoneProduct);\n        WHERE(gemstoneIds.contains(gemstoneId));\n        GROUP(BY(productId));\n        HAVING(COUNT(gemstoneId) == count);\n    });\n    return query.createQuery(em).getResultList();\n}\n</code></pre>\n<p>More details on how it works can be found <a href=\"https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667118195,"creation_date":1565743670,"question_id":57486892,"body_markdown":"I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\r\nI have the following tables/entities : Product and Gemstone\r\n\r\n####**Relations:** ####\r\n- Product many2many Gemstone\r\n\r\n*I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.*\r\n\r\n\r\n####**Use Case:**####\r\nIf user is asking for a product with gemstones 51 and 46. Query should only return product id 4. \r\n\r\n####**Query:**####\r\nfilterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove ```HAVING Count(DISTINCT p.product_id) = 2``` I get product id 4, 5\r\n\r\n![two muppets][1]\r\n\r\n - HQL : \r\n         \r\n        createQuery(&quot;select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =&quot; +  filterGemstones().size() ).setParameter(&quot;gemstones&quot;,filterGemstones());\r\n - SQL generate by hibernate :\r\n\r\n        \r\n        SELECT p.product_id \r\n        FROM   product p \r\n        INNER JOIN gemstone_product gp \r\n               ON p.product_id = gp.product_id \r\n        INNER JOIN gemstone g \r\n               ON gp.gemstone_id = g.gemstone_id \r\n        WHERE  g.gemstone_id IN ( 51, 46 ) \r\n        GROUP  BY p.product_id \r\n        HAVING Count(DISTINCT p.product_id) = 2 \r\n\r\n\r\n\r\n###Product class:###\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;product_id&quot;)\r\n    private long productId;\r\n\r\n    @ManyToMany()\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;product_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)}\r\n    )\r\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\r\n  \r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n\r\n###Gemstone class:###\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gemstone&quot;)\r\npublic class Gemstone {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;gemstone_id&quot;)\r\n    private long gemstoneId;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;product_id&quot;)}\r\n    )\r\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\r\n\r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/ProJB.png &quot;tooltip&quot;","title":"HQL or SQL query to get data from many to many related entities","body":"<p>I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\nI have the following tables/entities : Product and Gemstone</p>\n\n<strong>Relations:</strong>\n\n<ul>\n<li>Product many2many Gemstone</li>\n</ul>\n\n<p><em>I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.</em></p>\n\n<strong>Use Case:</strong>\n\n<p>If user is asking for a product with gemstones 51 and 46. Query should only return product id 4. </p>\n\n<strong>Query:</strong>\n\n<p>filterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove <code>HAVING Count(DISTINCT p.product_id) = 2</code> I get product id 4, 5</p>\n\n<p><img src=\"https://i.stack.imgur.com/ProJB.png\" alt=\"two muppets\" title=\"tooltip\"></p>\n\n<ul>\n<li><p>HQL : </p>\n\n<pre><code>createQuery(\"select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =\" +  filterGemstones().size() ).setParameter(\"gemstones\",filterGemstones());\n</code></pre></li>\n<li><p>SQL generate by hibernate :</p>\n\n<pre><code>SELECT p.product_id \nFROM   product p \nINNER JOIN gemstone_product gp \n       ON p.product_id = gp.product_id \nINNER JOIN gemstone g \n       ON gp.gemstone_id = g.gemstone_id \nWHERE  g.gemstone_id IN ( 51, 46 ) \nGROUP  BY p.product_id \nHAVING Count(DISTINCT p.product_id) = 2 \n</code></pre></li>\n</ul>\n\n<h3>Product class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"product\")\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"product_id\")\n    private long productId;\n\n    @ManyToMany()\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"product_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"gemstone_id\")}\n    )\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n\n<h3>Gemstone class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"gemstone\")\npublic class Gemstone {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = \"gemstone_id\")\n    private long gemstoneId;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"gemstone_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"product_id\")}\n    )\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n"},{"tags":["java","validation","java.util.scanner"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667115830,"post_id":74251217,"comment_id":131091136,"body_markdown":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?","body":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667116785,"post_id":74251217,"comment_id":131091258,"body_markdown":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples","body":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1667133583,"post_id":74251217,"comment_id":131093946,"body_markdown":"`if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }` Validates a string entry for a signed or unsigned Integer or Floating Point numerical value.","body":"<code>if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }</code> Validates a string entry for a signed or unsigned Integer or Floating Point numerical value."}],"owner":{"account_id":21362606,"reputation":3,"user_id":15731013,"display_name":"Aldrin James Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667114779,"creation_date":1667114608,"question_id":74251217,"body_markdown":"This is my code. I want to check if the input is either double or int.. it doesn&#39;t throw an error but it also doesn&#39;t work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar) \r\n\r\n```\r\nimport java.util.Scanner;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        double number1 = 0;\r\n        double numb2 = 0;\r\n        int number3 = 0;\r\n        try{\r\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\r\n        String num1 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\r\n        String num2 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\r\n        String num3 = scan.nextLine();\r\n       if(scan.hasNext()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       if(scan.hasNext()){\r\n              number3 =  Integer.parseInt(num3);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       \r\n       double ans = number1 + numb2 + number3;\r\n       \r\n       System.out.println(ans);\r\n       \r\n       \r\n\r\n        }\r\n        catch (Exception e) {\r\n      System.out.println(&quot;Something went wrong.&quot;);\r\n    }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI also try doing this but it does the same.\r\n```\r\n if(scan.hasNextDouble() || scan.hasNextInt()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n             number3 =  Integer.parseInt(num3);\r\n           \r\n       }else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n\r\n```\r\n","title":"Validation for double and Integer","body":"<p>This is my code. I want to check if the input is either double or int.. it doesn't throw an error but it also doesn't work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar)</p>\n<pre><code>import java.util.Scanner;\nclass HelloWorld {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        double number1 = 0;\n        double numb2 = 0;\n        int number3 = 0;\n        try{\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\n        String num1 = scan.nextLine();\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\n        String num2 = scan.nextLine();\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\n        String num3 = scan.nextLine();\n       if(scan.hasNext()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       if(scan.hasNext()){\n              number3 =  Integer.parseInt(num3);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       \n       double ans = number1 + numb2 + number3;\n       \n       System.out.println(ans);\n       \n       \n\n        }\n        catch (Exception e) {\n      System.out.println(&quot;Something went wrong.&quot;);\n    }\n    }\n}\n\n</code></pre>\n<p>I also try doing this but it does the same.</p>\n<pre><code> if(scan.hasNextDouble() || scan.hasNextInt()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n             number3 =  Integer.parseInt(num3);\n           \n       }else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n\n</code></pre>\n"},{"tags":["java","android","android-studio","keystore","jks"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667119068,"post_id":74251142,"comment_id":131091605,"body_markdown":"You are looking for KeyStore or TrustStore?  Request you to please add more details in question.","body":"You are looking for KeyStore or TrustStore?  Request you to please add more details in question."},{"owner":{"account_id":21222937,"reputation":21,"user_id":15609094,"display_name":"Learner"},"score":0,"creation_date":1667128928,"post_id":74251142,"comment_id":131093097,"body_markdown":"@RohitAgarwal\nThe .jks file that&#39;s required to generate apk and aab","body":"@RohitAgarwal The .jks file that&#39;s required to generate apk and aab"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667135182,"post_id":74251142,"comment_id":131094301,"body_markdown":"Yes that is possible, you are refer this link https://stackoverflow.com/a/47565937/7871511 to generate custom Keystore/truststore","body":"Yes that is possible, you are refer this link <a href=\"https://stackoverflow.com/a/47565937/7871511\">stackoverflow.com/a/47565937/7871511</a> to generate custom Keystore/truststore"}],"owner":{"account_id":21222937,"reputation":21,"user_id":15609094,"display_name":"Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667154055,"answer_count":0,"score":0,"last_activity_date":1667113507,"creation_date":1667113507,"question_id":74251142,"body_markdown":"I want to create new keystore file for my app. Is it possible?","title":"How to change .jks file for my app? I want to change both passwords","body":"<p>I want to create new keystore file for my app. Is it possible?</p>\n"},{"tags":["java","spring-boot","datetime-format","datetime-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667112409,"post_id":74250824,"comment_id":131090690,"body_markdown":"Welcome to Stack Overflow. Please search before asking.","body":"Welcome to Stack Overflow. Please search before asking."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667113029,"post_id":74250824,"comment_id":131090765,"body_markdown":"Only when you search, avoid any suggestions to use the old classes like `SimpleDateFormat` and `Date`. They were supplanted nearly 10 years ago by [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). You will need classes `OffsetDateTime` and `DateTimeFormatter` and possibly more.","body":"Only when you search, avoid any suggestions to use the old classes like <code>SimpleDateFormat</code> and <code>Date</code>. They were supplanted nearly 10 years ago by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You will need classes <code>OffsetDateTime</code> and <code>DateTimeFormatter</code> and possibly more."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667113248,"post_id":74250824,"comment_id":131090791,"body_markdown":"Your source strings include offset from UTC or GMT (zero in both your examples). Assuming that the offset may also be non-zero,in which time zone or at which offset do you want the result format? It will be a bad idea to retain the offset from the original string without telling the reader of the new string which it was.","body":"Your source strings include offset from UTC or GMT (zero in both your examples). Assuming that the offset may also be non-zero,in which time zone or at which offset do you want the result format? It will be a bad idea to retain the offset from the original string without telling the reader of the new string which it was."}],"owner":{"account_id":26736261,"reputation":1,"user_id":20337795,"display_name":"YYC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667112475,"answer_count":0,"score":0,"last_activity_date":1667113135,"creation_date":1667109074,"question_id":74250824,"body_markdown":"Date string1: 2022-10-30T04:45:00+00:00  \r\nDate string2: Oct 30, 2022 at 04:45 GMT\r\n\r\nDate string1 and Date string2, i want formate is &quot;yyyy/MM/dd HH:mm:ss&quot;","title":"Date string format convert","body":"<p>Date string1: 2022-10-30T04:45:00+00:00<br />\nDate string2: Oct 30, 2022 at 04:45 GMT</p>\n<p>Date string1 and Date string2, i want formate is &quot;yyyy/MM/dd HH:mm:ss&quot;</p>\n"},{"tags":["java","multithreading","ipc","java-threads"],"comments":[{"owner":{"account_id":9938803,"reputation":128,"user_id":7466089,"display_name":"Fabian Brand&#227;o"},"score":0,"creation_date":1544698248,"post_id":43289395,"comment_id":94372210,"body_markdown":"I think this can help you: [Java Threads: Using wait, notify, and notifyAll](https://www.devmedia.com.br/java-threads-utilizando-wait-notify-e-notifyall/29545)","body":"I think this can help you: <a href=\"https://www.devmedia.com.br/java-threads-utilizando-wait-notify-e-notifyall/29545\" rel=\"nofollow noreferrer\">Java Threads: Using wait, notify, and notifyAll</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1544696311,"creation_date":1491617950,"answer_id":43289477,"question_id":43289395,"body_markdown":"You don&#39;t / can&#39;t notify a specific thread.  You call `notify()` on a lock object.  This wakes up one of the threads&lt;sup&gt;1&lt;/sup&gt; that is waiting on the lock.  In your case, the lock object is a `Thread` ... which rather confuses the picture.  However, see below.\r\n\r\nBut your problem (the `IllegalMonitorStateException`) happens because the thread doing the notifying (i.e. the *current* thread) does not hold the lock.  It is a (hard) requirement that the current thread must hold the lock when it notifies a lock.\r\n\r\nFor more details, read the javadocs for `Object.wait(timeout)` or (for example) this: http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/\r\n\r\n&lt;sup&gt;1 - If multiple threads are waiting on your lock, one thread is chosen &quot;randomly&quot; by the scheduler.  Alternatively notifyAll will wake up all of the waiting threads.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\nI would NOT use a `Thread` object as a lock object.  It will possibly work, but there is also a chance that something else (maybe something in the runtime system) is also locking / waiting / notifying the `Thread` objects.  Then things would get very confusing.  \r\n \r\n(Indeed, read the [javadoc][1] for `Thread.join(long)` !)\r\n\r\n\r\nIt is BETTER to create lock objects specifically for this purpose; e.g.\r\n\r\n    private final Object lock = new Object();\r\n\r\n------------------\r\n\r\nAlso, writing classes that extend `Thread` is usually a bad idea.  It is usually better to implement the `Runnable` interface, instantiate it, and pass the instance as a parameter to the `Thread` constructor; e.g.\r\n\r\n    Thread t = new Thread(new Runnable() {\r\n        public void run() {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }});\r\n    t.start();\r\n\r\nOne advantage of implementing `Runnable` rather than extending `Thread` is that you can use your code more easily with something that manages the thread life cycles for you; e.g. an `ExecutorService`, a fork-join thread pool or a classic thread pool.\r\n\r\nA second one is that light-weight thread logic can be implemented concisely as an anonymous class ... as in my example.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#join(long)","title":"How to notify a specific thread in Java","body":"<p>You don't / can't notify a specific thread.  You call <code>notify()</code> on a lock object.  This wakes up one of the threads<sup>1</sup> that is waiting on the lock.  In your case, the lock object is a <code>Thread</code> ... which rather confuses the picture.  However, see below.</p>\n\n<p>But your problem (the <code>IllegalMonitorStateException</code>) happens because the thread doing the notifying (i.e. the <em>current</em> thread) does not hold the lock.  It is a (hard) requirement that the current thread must hold the lock when it notifies a lock.</p>\n\n<p>For more details, read the javadocs for <code>Object.wait(timeout)</code> or (for example) this: <a href=\"http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/\" rel=\"nofollow noreferrer\">http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/</a></p>\n\n<p><sup>1 - If multiple threads are waiting on your lock, one thread is chosen \"randomly\" by the scheduler.  Alternatively notifyAll will wake up all of the waiting threads.</sup></p>\n\n<hr>\n\n<p>I would NOT use a <code>Thread</code> object as a lock object.  It will possibly work, but there is also a chance that something else (maybe something in the runtime system) is also locking / waiting / notifying the <code>Thread</code> objects.  Then things would get very confusing.  </p>\n\n<p>(Indeed, read the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#join(long)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Thread.join(long)</code> !)</p>\n\n<p>It is BETTER to create lock objects specifically for this purpose; e.g.</p>\n\n<pre><code>private final Object lock = new Object();\n</code></pre>\n\n<hr>\n\n<p>Also, writing classes that extend <code>Thread</code> is usually a bad idea.  It is usually better to implement the <code>Runnable</code> interface, instantiate it, and pass the instance as a parameter to the <code>Thread</code> constructor; e.g.</p>\n\n<pre><code>Thread t = new Thread(new Runnable() {\n    public void run() {\n        System.out.println(\"Hello world\");\n    }});\nt.start();\n</code></pre>\n\n<p>One advantage of implementing <code>Runnable</code> rather than extending <code>Thread</code> is that you can use your code more easily with something that manages the thread life cycles for you; e.g. an <code>ExecutorService</code>, a fork-join thread pool or a classic thread pool.</p>\n\n<p>A second one is that light-weight thread logic can be implemented concisely as an anonymous class ... as in my example.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491626358,"creation_date":1491622096,"answer_id":43289832,"question_id":43289395,"body_markdown":"To add some points;\r\n\r\nYour code is using intrinsic locks. Every object in the JVM has its own lock. *This lock has nothing to do with the functionality of the object.* Acquiring the lock by itself does nothing (in the absence of further measures like using the synchronized keyword) to prevent other threads from monkeying with the object&#39;s contents. Calling notify on a thread does not mean that that particular thread will receive a notification.\r\n\r\nAs said previously acquiring the lock on Thread objects is discouraged. The join method on Thread uses the intrinsic lock on the thread joined to. If code acquires a lock for different reasons then a thread can be notified for some condition that it may not care about.\r\n\r\nThe intrinsic lock is a go-between that tells the OS scheduler which threads are waiting. The OS scheduler decides which threads in the wait set for the lock get notified. When a thread calls notify on an object, it is telling the lock on that object to tell the scheduler to choose which waiting thread gets notified. The lock knows which threads are waiting but it doesn&#39;t know what condition they&#39;re waiting for. (ReentrantLock is a big improvement for this, see the API doc for Condition.)\r\n\r\nOf course notifyAll wakes up all the threads in the wait set, but again that is something the lock and the scheduler know. The thread calling notifyAll doesn&#39;t know about what threads are waiting. The system is designed intentionally so that threads cannot notify other threads directly.\r\n\r\nYet another thing here is that calling wait with no check for a condition is unreliable. If a thread doesn&#39;t happen to have acquired a lock before a notification is made, it misses that notification. If a thread receives a notification, that is no guarantee it will get the lock next, another thread could act and invalidate the state that the notified thread is expecting. Always have some internal state that the current thread can check to verify that the object&#39;s state is what the thread is expecting, and make that check as the test in a loop.\r\n\r\nFor instance if I have a fixed size blocking queue (implemented using a list internally, protecting it from concurrent access using synchronization) where threads try to take something from the queue but block if the queue is empty, the take method could look like:\r\n\r\n    public synchronized T take() throws InterruptedException {\r\n        while (list.isEmpty()) {\r\n            wait();\r\n        }\r\n        notifyAll();\r\n        return list.remove(0);\r\n    }\r\n\r\nOnce a waiting thread wakes and reacquires the lock, it checks to see if the current situation is what it has been waiting for. Only if that is the case should the thread exit the loop and proceed.\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>To add some points;</p>\n\n<p>Your code is using intrinsic locks. Every object in the JVM has its own lock. <em>This lock has nothing to do with the functionality of the object.</em> Acquiring the lock by itself does nothing (in the absence of further measures like using the synchronized keyword) to prevent other threads from monkeying with the object's contents. Calling notify on a thread does not mean that that particular thread will receive a notification.</p>\n\n<p>As said previously acquiring the lock on Thread objects is discouraged. The join method on Thread uses the intrinsic lock on the thread joined to. If code acquires a lock for different reasons then a thread can be notified for some condition that it may not care about.</p>\n\n<p>The intrinsic lock is a go-between that tells the OS scheduler which threads are waiting. The OS scheduler decides which threads in the wait set for the lock get notified. When a thread calls notify on an object, it is telling the lock on that object to tell the scheduler to choose which waiting thread gets notified. The lock knows which threads are waiting but it doesn't know what condition they're waiting for. (ReentrantLock is a big improvement for this, see the API doc for Condition.)</p>\n\n<p>Of course notifyAll wakes up all the threads in the wait set, but again that is something the lock and the scheduler know. The thread calling notifyAll doesn't know about what threads are waiting. The system is designed intentionally so that threads cannot notify other threads directly.</p>\n\n<p>Yet another thing here is that calling wait with no check for a condition is unreliable. If a thread doesn't happen to have acquired a lock before a notification is made, it misses that notification. If a thread receives a notification, that is no guarantee it will get the lock next, another thread could act and invalidate the state that the notified thread is expecting. Always have some internal state that the current thread can check to verify that the object's state is what the thread is expecting, and make that check as the test in a loop.</p>\n\n<p>For instance if I have a fixed size blocking queue (implemented using a list internally, protecting it from concurrent access using synchronization) where threads try to take something from the queue but block if the queue is empty, the take method could look like:</p>\n\n<pre><code>public synchronized T take() throws InterruptedException {\n    while (list.isEmpty()) {\n        wait();\n    }\n    notifyAll();\n    return list.remove(0);\n}\n</code></pre>\n\n<p>Once a waiting thread wakes and reacquires the lock, it checks to see if the current situation is what it has been waiting for. Only if that is the case should the thread exit the loop and proceed.</p>\n"},{"tags":[],"owner":{"account_id":6326429,"reputation":31,"user_id":4912772,"display_name":"Niraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552330688,"creation_date":1552071354,"answer_id":55069355,"question_id":43289395,"body_markdown":" Here you can find out the nice example how to use wait and notify or notifyAll()  Niraj 2 days ago    \r\nIf you are using notify() instead of notifyAll() it will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. \r\n\r\n\r\n       package com.construction.house;\r\n    \r\n    import com.construction.labours.LabourCement;\r\n    import com.construction.labours.LabourPainting;\r\n    import com.construction.labours.LabourPolishMarbel;\r\n    \r\n    public class House implements Runnable{\r\n    \r\n    \tpublic House() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tHouse myHouse = new House();\r\n    \t\tLabourCement labourCement = new LabourCement(myHouse,&quot;Cement&quot;);\r\n    \t\tlabourCement.start();\r\n    \r\n    \t\tLabourPainting labourPaining = new LabourPainting(myHouse,&quot;Painter&quot;);\r\n    \t\tlabourPaining.start();\r\n    \r\n    \t\tLabourPolishMarbel labourPolish = new LabourPolishMarbel(myHouse,&quot;PolishMan&quot;);\r\n    \t\tlabourPolish.start();\r\n    \r\n    \t}\r\n    \tboolean isPolished = false,isCemented = false,isPaited = false;\r\n    \r\n    \tpublic synchronized void workAsDemand() throws InterruptedException {\r\n    \t\tif (!isPolished) {\r\n    \t\t\tisPolished = true;\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Polish in progress&quot;);\r\n    \t\t\twait();\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Polish Completed&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (!isPaited) {\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Painting house in Progress&quot;);\r\n    \t\t\tisPaited = true;\r\n    \t\t\t//notify();\r\n    \t\t\twait();\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Painting house in Completed&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (!isCemented) {\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;----&gt;&gt;Cemented house&quot;);\r\n    \t\t\tisCemented = true;\r\n    \t\t\tnotifyAll();\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\ttry {\r\n    \t\t\tworkAsDemand();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourCement extends Thread {\r\n    \r\n    \tpublic LabourCement() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourPolishMarbel extends Thread {\r\n    \r\n    \tpublic LabourPolishMarbel() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourPainting extends Thread {\r\n    \r\n    \tpublic LabourPainting() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>Here you can find out the nice example how to use wait and notify or notifyAll()  Niraj 2 days ago<br>\nIf you are using notify() instead of notifyAll() it will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. </p>\n\n<pre><code>   package com.construction.house;\n\nimport com.construction.labours.LabourCement;\nimport com.construction.labours.LabourPainting;\nimport com.construction.labours.LabourPolishMarbel;\n\npublic class House implements Runnable{\n\n    public House() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        House myHouse = new House();\n        LabourCement labourCement = new LabourCement(myHouse,\"Cement\");\n        labourCement.start();\n\n        LabourPainting labourPaining = new LabourPainting(myHouse,\"Painter\");\n        labourPaining.start();\n\n        LabourPolishMarbel labourPolish = new LabourPolishMarbel(myHouse,\"PolishMan\");\n        labourPolish.start();\n\n    }\n    boolean isPolished = false,isCemented = false,isPaited = false;\n\n    public synchronized void workAsDemand() throws InterruptedException {\n        if (!isPolished) {\n            isPolished = true;\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Polish in progress\");\n            wait();\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Polish Completed\");\n\n        }\n\n        else if (!isPaited) {\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Painting house in Progress\");\n            isPaited = true;\n            //notify();\n            wait();\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Painting house in Completed\");\n\n        }\n\n        else if (!isCemented) {\n            System.out.println(Thread.currentThread().getName()+\"----&gt;&gt;Cemented house\");\n            isCemented = true;\n            notifyAll();\n\n        }\n\n\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        try {\n            workAsDemand();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n\n\n\npackage com.construction.labours;\n\npublic class LabourCement extends Thread {\n\n    public LabourCement() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n\n}\n\n\n\npackage com.construction.labours;\n\npublic class LabourPolishMarbel extends Thread {\n\n    public LabourPolishMarbel() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n}\n\n\n\n\npackage com.construction.labours;\n\npublic class LabourPainting extends Thread {\n\n    public LabourPainting() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16288710,"reputation":3,"user_id":11762740,"display_name":"amit patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602176929,"creation_date":1602175596,"answer_id":64267098,"question_id":43289395,"body_markdown":"\r\nSolution: remove calling object `t1`.\r\n\r\nChange `t1.notify()` to `notify()`.","title":"How to notify a specific thread in Java","body":"<p>Solution: remove calling object <code>t1</code>.</p>\n<p>Change <code>t1.notify()</code> to <code>notify()</code>.</p>\n"},{"tags":[],"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657554328,"creation_date":1657553830,"answer_id":72941118,"question_id":43289395,"body_markdown":"    Proper Explanation:\r\nOkay first of all wait(), notify() and notifyAll() methods have to be called over the lock object which are used by threads for synchronization. In your case, you have used synchronization on the method level so JRE takes this as something like:\r\n    \r\n    void methodOne() {\r\n    synchronised(this) {\r\n    // code you want to execute mutually exclusively.\r\n    }\r\n    }\r\n so here the monitor lock object is your Shared object itself, and the threads will use this as the monitor object to execute their code mutually exclusively. So now, One of your thread might be in the WAITING STATE in the lock object monitor, So to notify that object you have to call a method notify() or notifyAll() on the lock monitor object(because threads are in the monitor state of the lock object in different STATES) only. \r\n    So you will say this.notify() or this.notifyAll() on the monitor object only.\r\n    (If you use any other lock object for synchronization then all these methods get called over that lock object only).\r\n    notify(): will notify any of the thread which is in WAITING STATE in the lock object monitor.\r\n    notifyAll(): will notify all the threads which are in WAITING STATE in the lock object monitor.\r\n    When we call notify() or notifyAll() over the monitor lock object then the threads state gets changed from WAITING to RUNNABLE, as it gets to RUNNABLE STATE for a very short period of time, then the STATE gets changed to BLOCKED STATE because the threads in lock object monitor which just got notify() didn&#39;t get the lock object for executing their code -&gt; if the thread which calls the method this.notify() didn&#39;t complete its execution after notifying.","title":"How to notify a specific thread in Java","body":"<pre><code>Proper Explanation:\n</code></pre>\n<p>Okay first of all wait(), notify() and notifyAll() methods have to be called over the lock object which are used by threads for synchronization. In your case, you have used synchronization on the method level so JRE takes this as something like:</p>\n<pre><code>void methodOne() {\nsynchronised(this) {\n// code you want to execute mutually exclusively.\n}\n}\n</code></pre>\n<p>so here the monitor lock object is your Shared object itself, and the threads will use this as the monitor object to execute their code mutually exclusively. So now, One of your thread might be in the WAITING STATE in the lock object monitor, So to notify that object you have to call a method notify() or notifyAll() on the lock monitor object(because threads are in the monitor state of the lock object in different STATES) only.\nSo you will say this.notify() or this.notifyAll() on the monitor object only.\n(If you use any other lock object for synchronization then all these methods get called over that lock object only).\nnotify(): will notify any of the thread which is in WAITING STATE in the lock object monitor.\nnotifyAll(): will notify all the threads which are in WAITING STATE in the lock object monitor.\nWhen we call notify() or notifyAll() over the monitor lock object then the threads state gets changed from WAITING to RUNNABLE, as it gets to RUNNABLE STATE for a very short period of time, then the STATE gets changed to BLOCKED STATE because the threads in lock object monitor which just got notify() didn't get the lock object for executing their code -&gt; if the thread which calls the method this.notify() didn't complete its execution after notifying.</p>\n"},{"tags":[],"owner":{"account_id":26774128,"reputation":1,"user_id":20370020,"display_name":"Sunil Rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667113101,"creation_date":1667113101,"answer_id":74251106,"question_id":43289395,"body_markdown":"To communicate specific thread you need make use of thread owner follow below example here exp and singleton are object class\r\n\r\n\r\n\r\n      Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               synchronized (exp){\r\n                   try {\r\n                       Log.e(&quot;Thread 1&quot;,&quot;thread 1 going to waiting state &quot;);\r\n                       exp.wait();\r\n                   } catch (InterruptedException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n               }\r\n               synchronized (singleton) {\r\n                   singleton.notify();\r\n               }\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (exp) {\r\n                    Log.e(&quot;Thread 2&quot;,&quot;notified to all thread &quot;);\r\n                    exp.notify();\r\n                }\r\n            }\r\n        });\r\n        Thread t3 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (singleton){\r\n                    try {\r\n                        Log.e(&quot;Thread 3&quot;,&quot;thread 3 going to waiting state &quot;);\r\n                        singleton.wait();\r\n                        Log.e(&quot;Thread 3&quot;,&quot;thread 3 notified&quot;);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n\r\nif you try to notify a thread which owner object is different then it will give error IllegalMonitorState exception while notify you must be care full same object owner must required.","title":"How to notify a specific thread in Java","body":"<p>To communicate specific thread you need make use of thread owner follow below example here exp and singleton are object class</p>\n<pre><code>  Thread t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n           synchronized (exp){\n               try {\n                   Log.e(&quot;Thread 1&quot;,&quot;thread 1 going to waiting state &quot;);\n                   exp.wait();\n               } catch (InterruptedException e) {\n                   e.printStackTrace();\n               }\n           }\n           synchronized (singleton) {\n               singleton.notify();\n           }\n        }\n    });\n\n    Thread t2 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            synchronized (exp) {\n                Log.e(&quot;Thread 2&quot;,&quot;notified to all thread &quot;);\n                exp.notify();\n            }\n        }\n    });\n    Thread t3 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            synchronized (singleton){\n                try {\n                    Log.e(&quot;Thread 3&quot;,&quot;thread 3 going to waiting state &quot;);\n                    singleton.wait();\n                    Log.e(&quot;Thread 3&quot;,&quot;thread 3 notified&quot;);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    t1.start();\n    t2.start();\n    t3.start();\n</code></pre>\n<p>if you try to notify a thread which owner object is different then it will give error IllegalMonitorState exception while notify you must be care full same object owner must required.</p>\n"}],"owner":{"account_id":8856540,"reputation":81,"user_id":6614159,"accept_rate":0,"display_name":"Muniyasamy V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18840,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1667113101,"creation_date":1491616935,"question_id":43289395,"body_markdown":"How I can call a particular thread in inter-thread communication?\r\n\r\nIn the program below I have two threads `t1` and `t2`.\r\n\r\nWhen I call `t1.notify()` it raises:\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException\r\n    \tat java.lang.Object.notify(Native Method)\r\n    \tat Shared.methodTwo(NotifyThread.java:43)\r\n    \tat Thread2.run(NotifyThread.java:77)\r\n    Error \r\n\r\n---\r\n\r\n    class Shared {\r\n    \t\r\n    \tThread1 t1 ;\r\n    \tThread2 t2 ;\r\n    \t\r\n    \tvoid ThreadInit( Thread1 t1 , Thread2 t2 ) {\r\n    \t\tthis.t1 = t1 ;\r\n    \t\tthis.t2 = t2 ;\r\n    \t}\r\n    \t\r\n        synchronized void methodOne()\r\n        {\r\n            Thread t = Thread.currentThread();\r\n     \r\n            System.out.println(t.getName()+&quot; is relasing the lock and going to wait&quot;);\r\n     \r\n            try\r\n            {\r\n                wait();        //releases the lock of this object and waits\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            System.out.println(t.getName()+&quot; got the object lock back and can continue with it&#39;s execution&quot;);\r\n        }\r\n     \r\n        synchronized void methodTwo()\r\n        {\r\n            Thread t = Thread.currentThread();\r\n     \r\n            try\r\n            {\r\n                Thread.sleep(5000);\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            t1.notify();     \r\n     \r\n            System.out.println(&quot;A thread which is waiting for lock of this object is notified by &quot;+t.getName());\r\n        }\r\n        }\r\n    \r\n        class Thread1 extends Thread \r\n        {\r\n    \tShared s ;\r\n    \tThread1( Shared s ) {\r\n    \t\t\r\n    \t\tthis.s = s ;\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n                {\r\n                    s.methodOne();   //t1 calling methodOne() of &#39;s&#39; object\r\n                }\r\n    \t\r\n        } \r\n     \r\n        class Thread2 extends Thread {\r\n    \t     Shared s ;\r\n    \tThread2( Shared s ) {\r\n    \t\t\r\n    \t\tthis.s = s ;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n                {\r\n                    s.methodTwo();   //t1 calling methodOne() of &#39;s&#39; object\r\n                }\r\n    \t\r\n    \t\r\n        }\r\n        public class NotifyThread \r\n        {\r\n        public static void main(String[] args)\r\n        {\r\n            final Shared s = new Shared();\r\n            \r\n    \t\tThread1 t1 = new Thread1(s) ;\r\n    \t\tThread2 t2 = new Thread2(s) ;\r\n    \t\t\r\n    \t\ts.ThreadInit(t1,t2) ;\r\n    \t\t\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>How I can call a particular thread in inter-thread communication?</p>\n\n<p>In the program below I have two threads <code>t1</code> and <code>t2</code>.</p>\n\n<p>When I call <code>t1.notify()</code> it raises:</p>\n\n<pre><code>Exception in thread \"Thread-1\" java.lang.IllegalMonitorStateException\n    at java.lang.Object.notify(Native Method)\n    at Shared.methodTwo(NotifyThread.java:43)\n    at Thread2.run(NotifyThread.java:77)\nError \n</code></pre>\n\n<hr>\n\n<pre><code>class Shared {\n\n    Thread1 t1 ;\n    Thread2 t2 ;\n\n    void ThreadInit( Thread1 t1 , Thread2 t2 ) {\n        this.t1 = t1 ;\n        this.t2 = t2 ;\n    }\n\n    synchronized void methodOne()\n    {\n        Thread t = Thread.currentThread();\n\n        System.out.println(t.getName()+\" is relasing the lock and going to wait\");\n\n        try\n        {\n            wait();        //releases the lock of this object and waits\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n\n        System.out.println(t.getName()+\" got the object lock back and can continue with it's execution\");\n    }\n\n    synchronized void methodTwo()\n    {\n        Thread t = Thread.currentThread();\n\n        try\n        {\n            Thread.sleep(5000);\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n\n        t1.notify();     \n\n        System.out.println(\"A thread which is waiting for lock of this object is notified by \"+t.getName());\n    }\n    }\n\n    class Thread1 extends Thread \n    {\n    Shared s ;\n    Thread1( Shared s ) {\n\n        this.s = s ;\n    }\n\n    public void run()\n            {\n                s.methodOne();   //t1 calling methodOne() of 's' object\n            }\n\n    } \n\n    class Thread2 extends Thread {\n         Shared s ;\n    Thread2( Shared s ) {\n\n        this.s = s ;\n\n    }\n\n    public void run()\n            {\n                s.methodTwo();   //t1 calling methodOne() of 's' object\n            }\n\n\n    }\n    public class NotifyThread \n    {\n    public static void main(String[] args)\n    {\n        final Shared s = new Shared();\n\n        Thread1 t1 = new Thread1(s) ;\n        Thread2 t2 = new Thread2(s) ;\n\n        s.ThreadInit(t1,t2) ;\n\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","bit-manipulation","bit"],"answers":[{"tags":[],"owner":{"account_id":28129,"reputation":53928,"user_id":74815,"accept_rate":92,"display_name":"i_am_jorf"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1328549767,"creation_date":1237948003,"answer_id":680012,"question_id":680002,"body_markdown":"Well, you can just count how many times you shift right before you&#39;re left with just zero:\r\n\r\n    int value = 11;\r\n    int count = 0;\r\n    while (value &gt; 0) {\r\n        count++;\r\n        value = value &gt;&gt; 1;\r\n    }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Well, you can just count how many times you shift right before you're left with just zero:</p>\n\n<pre><code>int value = 11;\nint count = 0;\nwhile (value &gt; 0) {\n    count++;\n    value = value &gt;&gt; 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21633,"reputation":125374,"user_id":52738,"accept_rate":50,"display_name":"gnovice"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1237949913,"creation_date":1237948289,"answer_id":680024,"question_id":680002,"body_markdown":"My Java is a bit rusty, but the language-agnostic answer (if there is a &quot;log2&quot; function and a &quot;floor&quot; function available) would be:\r\n\r\n    numberOfBits = floor(log2(decimalNumber))+1\r\n\r\nAssuming that &quot;decimalNumber&quot; is greater than 0. If it is 0, you just need 1 bit.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>My Java is a bit rusty, but the language-agnostic answer (if there is a \"log2\" function and a \"floor\" function available) would be:</p>\n\n<pre><code>numberOfBits = floor(log2(decimalNumber))+1\n</code></pre>\n\n<p>Assuming that \"decimalNumber\" is greater than 0. If it is 0, you just need 1 bit.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":4,"up_vote_count":19,"is_accepted":false,"score":15,"last_activity_date":1480782071,"creation_date":1237948387,"answer_id":680026,"question_id":680002,"body_markdown":"Integer.toBinaryString(number).length();\r\n\r\nGood grief... why the down votes?\r\n\r\n    public class Main\r\n    {\r\n        public static void main(final String[] argv)\r\n        {\r\n            System.out.println(Integer.toBinaryString(0).length());\r\n            System.out.println(Integer.toBinaryString(1).length());\r\n            System.out.println(Integer.toBinaryString(2).length());\r\n            System.out.println(Integer.toBinaryString(3).length());\r\n            System.out.println(Integer.toBinaryString(4).length());\r\n            System.out.println(Integer.toBinaryString(5).length());\r\n            System.out.println(Integer.toBinaryString(6).length());\r\n            System.out.println(Integer.toBinaryString(7).length());\r\n            System.out.println(Integer.toBinaryString(8).length());\r\n            System.out.println(Integer.toBinaryString(9).length());\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    1\r\n    2\r\n    2\r\n    3\r\n    3\r\n    3\r\n    3\r\n    4\r\n    4\r\n\r\n\r\nHere is a simple test for the speed of the various solutions:\r\n\r\n    public class Tester \r\n    {\r\n        public static void main(final String[] argv) \r\n        {\r\n            final int size;\r\n            final long totalA;\r\n            final long totalB;\r\n            final long totalC;\r\n            final long totalD;\r\n            \r\n            size = 100000000;\r\n            \r\n            totalA = test(new A(), size);\r\n            totalB = test(new B(), size);\r\n            totalC = test(new C(), size);\r\n            totalD = test(new D(), size);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Total D = &quot; + totalD + &quot; ms&quot;);\r\n            System.out.println(&quot;Total B = &quot; + totalB + &quot; ms&quot;);\r\n            System.out.println(&quot;Total C = &quot; + totalC + &quot; ms&quot;);\r\n            System.out.println(&quot;Total A = &quot; + totalA + &quot; ms&quot;);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Total B = &quot; + (totalB / totalD) + &quot; times slower&quot;);\r\n            System.out.println(&quot;Total C = &quot; + (totalC / totalD) + &quot; times slower&quot;);\r\n            System.out.println(&quot;Total A = &quot; + (totalA / totalD) + &quot; times slower&quot;);\r\n        }\r\n        \r\n        private static long test(final Testable tester, \r\n                                 final int      size)\r\n        {\r\n            final long start;\r\n            final long end;\r\n            final long total;\r\n            \r\n            start = System.nanoTime();\r\n            tester.test(size);\r\n            end   = System.nanoTime();\r\n            total = end - start;\r\n            \r\n            return (total / 1000000);\r\n        }\r\n        \r\n        private static interface Testable\r\n        {\r\n            void test(int size);\r\n        }\r\n        \r\n        private static class A\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int value;\r\n    \r\n                value = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    value += Integer.toBinaryString(i).length();\r\n                }\r\n    \r\n                System.out.println(&quot;value = &quot; + value);\r\n            }    \r\n        }\r\n        \r\n        private static class B\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n    \r\n                total = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    int value = i;\r\n                    int count = 0;\r\n    \r\n                    while (value &gt; 0) \r\n                    {\r\n                        count++;\r\n                        value &gt;&gt;= 1;\r\n                    }\r\n    \r\n                    total += count;\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n        \r\n        private static class C\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n                final double log2;\r\n    \r\n                total = 0;\r\n                log2  = Math.log(2);\r\n                \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    final double logX;\r\n                    final double temp;\r\n                    \r\n                    logX   = Math.log(i);\r\n                    temp   = logX / log2;                \r\n                    total += (int)Math.floor(temp) + 1;\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n        \r\n        private static class D\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n                \r\n                total = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    total += 32-Integer.numberOfLeadingZeros(i);\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n    }\r\n\r\nOutput on my machine is:\r\n\r\n    value = -1729185023\r\n    total = -1729185023\r\n    total = -1729185023\r\n    total = -1729185023\r\n    \r\n    Total D = 118 ms\r\n    Total B = 1722 ms\r\n    Total C = 4462 ms\r\n    Total A = 5704 ms\r\n    \r\n    Total B = 14 times slower\r\n    Total C = 37 times slower\r\n    Total A = 48 times slower\r\n\r\nFor those of you complaining about speed... [https://en.wikipedia.org/wiki/Program_optimization#Quotes][1].\r\n\r\nWrite the program to be readable first, then find out where it is slow, then make it faster.  Before and after you optimize test the change.  If the change wasn&#39;t large enough for the expense of making the code less readable don&#39;t bother with the change.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Program_optimization#Quotes\r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Integer.toBinaryString(number).length();</p>\n\n<p>Good grief... why the down votes?</p>\n\n<pre><code>public class Main\n{\n    public static void main(final String[] argv)\n    {\n        System.out.println(Integer.toBinaryString(0).length());\n        System.out.println(Integer.toBinaryString(1).length());\n        System.out.println(Integer.toBinaryString(2).length());\n        System.out.println(Integer.toBinaryString(3).length());\n        System.out.println(Integer.toBinaryString(4).length());\n        System.out.println(Integer.toBinaryString(5).length());\n        System.out.println(Integer.toBinaryString(6).length());\n        System.out.println(Integer.toBinaryString(7).length());\n        System.out.println(Integer.toBinaryString(8).length());\n        System.out.println(Integer.toBinaryString(9).length());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n1\n2\n2\n3\n3\n3\n3\n4\n4\n</code></pre>\n\n<p>Here is a simple test for the speed of the various solutions:</p>\n\n<pre><code>public class Tester \n{\n    public static void main(final String[] argv) \n    {\n        final int size;\n        final long totalA;\n        final long totalB;\n        final long totalC;\n        final long totalD;\n\n        size = 100000000;\n\n        totalA = test(new A(), size);\n        totalB = test(new B(), size);\n        totalC = test(new C(), size);\n        totalD = test(new D(), size);\n\n        System.out.println();\n        System.out.println(\"Total D = \" + totalD + \" ms\");\n        System.out.println(\"Total B = \" + totalB + \" ms\");\n        System.out.println(\"Total C = \" + totalC + \" ms\");\n        System.out.println(\"Total A = \" + totalA + \" ms\");\n\n        System.out.println();\n        System.out.println(\"Total B = \" + (totalB / totalD) + \" times slower\");\n        System.out.println(\"Total C = \" + (totalC / totalD) + \" times slower\");\n        System.out.println(\"Total A = \" + (totalA / totalD) + \" times slower\");\n    }\n\n    private static long test(final Testable tester, \n                             final int      size)\n    {\n        final long start;\n        final long end;\n        final long total;\n\n        start = System.nanoTime();\n        tester.test(size);\n        end   = System.nanoTime();\n        total = end - start;\n\n        return (total / 1000000);\n    }\n\n    private static interface Testable\n    {\n        void test(int size);\n    }\n\n    private static class A\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int value;\n\n            value = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                value += Integer.toBinaryString(i).length();\n            }\n\n            System.out.println(\"value = \" + value);\n        }    \n    }\n\n    private static class B\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n\n            total = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                int value = i;\n                int count = 0;\n\n                while (value &gt; 0) \n                {\n                    count++;\n                    value &gt;&gt;= 1;\n                }\n\n                total += count;\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n\n    private static class C\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n            final double log2;\n\n            total = 0;\n            log2  = Math.log(2);\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                final double logX;\n                final double temp;\n\n                logX   = Math.log(i);\n                temp   = logX / log2;                \n                total += (int)Math.floor(temp) + 1;\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n\n    private static class D\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n\n            total = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                total += 32-Integer.numberOfLeadingZeros(i);\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n}\n</code></pre>\n\n<p>Output on my machine is:</p>\n\n<pre><code>value = -1729185023\ntotal = -1729185023\ntotal = -1729185023\ntotal = -1729185023\n\nTotal D = 118 ms\nTotal B = 1722 ms\nTotal C = 4462 ms\nTotal A = 5704 ms\n\nTotal B = 14 times slower\nTotal C = 37 times slower\nTotal A = 48 times slower\n</code></pre>\n\n<p>For those of you complaining about speed... <a href=\"https://en.wikipedia.org/wiki/Program_optimization#Quotes\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Program_optimization#Quotes</a>.</p>\n\n<p>Write the program to be readable first, then find out where it is slow, then make it faster.  Before and after you optimize test the change.  If the change wasn't large enough for the expense of making the code less readable don't bother with the change.</p>\n"},{"tags":[],"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1400974640,"creation_date":1237948403,"answer_id":680028,"question_id":680002,"body_markdown":"Taking the two based log of the number will report the number of bits required to store it. \r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Taking the two based log of the number will report the number of bits required to store it. </p>\n"},{"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1667111825,"creation_date":1237948842,"answer_id":680040,"question_id":680002,"body_markdown":"Well, the answer is pretty simple. If you have an int value:\r\n\r\n    int log2(int value) {\r\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\r\n    }\r\nThe same exists for Long...\r\n\r\n[Edit]\r\nIf shaving milliseconds is an issue here, Integer.numberOfLeadingZeros(int) is reasonably efficient, but still does 15 operations... Expanding a reasonable amount of memory (300 bytes, static) you could shave that to between 1 and 8 operations, depending on the range of your integers.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Well, the answer is pretty simple. If you have an int value:</p>\n<pre><code>int log2(int value) {\n    return Integer.SIZE - Integer.numberOfLeadingZeros(value);\n}\n</code></pre>\n<p>The same exists for Long...</p>\n<p>[Edit]\nIf shaving milliseconds is an issue here, Integer.numberOfLeadingZeros(int) is reasonably efficient, but still does 15 operations... Expanding a reasonable amount of memory (300 bytes, static) you could shave that to between 1 and 8 operations, depending on the range of your integers.</p>\n"},{"tags":[],"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1237954372,"creation_date":1237954372,"answer_id":680192,"question_id":680002,"body_markdown":"This is in C, but I suspect you could convert to Java fairly easily:\r\n\r\n[Find the log base 2 of an N-bit integer in O(lg(N)) operations][1]\r\n\r\n\r\n  [1]: http://www-graphics.stanford.edu/~seander/bithacks.html#IntegerLog","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This is in C, but I suspect you could convert to Java fairly easily:</p>\n\n<p><a href=\"http://www-graphics.stanford.edu/~seander/bithacks.html#IntegerLog\" rel=\"nofollow noreferrer\">Find the log base 2 of an N-bit integer in O(lg(N)) operations</a></p>\n"},{"tags":[],"owner":{"account_id":29004,"reputation":1782,"user_id":78006,"display_name":"AHelps"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1332263906,"creation_date":1237959863,"answer_id":680357,"question_id":680002,"body_markdown":"If you&#39;re trying to avoid a loop and you care about speed, you can use a method like this:\r\n\r\n    int value = ...;\r\n    int count = 0;\r\n    if( value &lt; 0 ) { value = 0; count = 32; }\r\n    if( value &gt;= 0x7FFF ) { value &gt;&gt;= 16; count += 16; }\r\n    if( value &gt;= 0x7F ) { value &gt;&gt;= 8; count += 8; }\r\n    if( value &gt;= 0x7 ) { value &gt;&gt;= 4; count += 4; }\r\n    if( value &gt;= 0x3 ) { value &gt;&gt;= 2; count += 2; }\r\n    if( value &gt;= 0x1 ) { value &gt;&gt;= 1; count += 1; }\r\n\r\nJava doesn&#39;t have unsigned integers, so that first if( value &lt; 0 ) is a little questionable. Negative numbers always set the most significant bit, so arguably require the full word to to represent them. Adapt that behavior if you care.\r\n\r\nIncidentally, to handle a 64-bit integer, replace the if( value &lt; 0 ) line with these two:\r\n\r\n    if( value &lt; 0 ) { value = 0; count = 64; }\r\n    if( value &gt;= 0x7FFFFFFF ) { value &gt;&gt;= 32; count += 32; }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>If you're trying to avoid a loop and you care about speed, you can use a method like this:</p>\n\n<pre><code>int value = ...;\nint count = 0;\nif( value &lt; 0 ) { value = 0; count = 32; }\nif( value &gt;= 0x7FFF ) { value &gt;&gt;= 16; count += 16; }\nif( value &gt;= 0x7F ) { value &gt;&gt;= 8; count += 8; }\nif( value &gt;= 0x7 ) { value &gt;&gt;= 4; count += 4; }\nif( value &gt;= 0x3 ) { value &gt;&gt;= 2; count += 2; }\nif( value &gt;= 0x1 ) { value &gt;&gt;= 1; count += 1; }\n</code></pre>\n\n<p>Java doesn't have unsigned integers, so that first if( value &lt; 0 ) is a little questionable. Negative numbers always set the most significant bit, so arguably require the full word to to represent them. Adapt that behavior if you care.</p>\n\n<p>Incidentally, to handle a 64-bit integer, replace the if( value &lt; 0 ) line with these two:</p>\n\n<pre><code>if( value &lt; 0 ) { value = 0; count = 64; }\nif( value &gt;= 0x7FFFFFFF ) { value &gt;&gt;= 32; count += 32; }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Merzbow"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1237974396,"creation_date":1237974396,"answer_id":680891,"question_id":680002,"body_markdown":"    (int) Math.ceil((Math.log(n) / Math.log(2))\r\n\r\nOf course this only works for positive integers.\r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<pre><code>(int) Math.ceil((Math.log(n) / Math.log(2))\n</code></pre>\n\n<p>Of course this only works for positive integers.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1346429693,"creation_date":1237980091,"answer_id":681160,"question_id":680002,"body_markdown":"For non-negative values, probably the most direct answer is:\r\n\r\n    java.math.BigDecimal.valueOf(value).bitLength()\r\n\r\n(For negative numbers it will give the bit length of one less than the absolute value, rather than infinity you&#39;d expect from two&#39;s complement notation.)","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>For non-negative values, probably the most direct answer is:</p>\n\n<pre><code>java.math.BigDecimal.valueOf(value).bitLength()\n</code></pre>\n\n<p>(For negative numbers it will give the bit length of one less than the absolute value, rather than infinity you'd expect from two's complement notation.)</p>\n"},{"tags":[],"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346465519,"creation_date":1346465519,"answer_id":12224373,"question_id":680002,"body_markdown":"I would like to add some other alternatives, just for the sake of completeness:\r\n\r\n**1** `BigInteger.valueOf(i).bitLength()`\r\n\r\nNot very fast. Furthermore, `BigInteger.bitLength()` it&#39;s bugged and unreliable (fixed in Java7), since when more than `Integer.MAX_VALUE` bits are needed (freakishly high input number needed!! [such as 1 left-shifted `Integer.MAX_VALUE` times, aka `2^Integer.MAX_VALUE`]) the result overflows and negative numbers appear for the next `2^(2*Integer.MAX_VALUE)-2^Integer.MAX_VALUE` numbers, which is a number so high your head could explode. Note that it is estimated the universe containes some 10^80 atoms; that number is `2^4G` (`G` as in Giga, `1024*1024*1024`).\r\n\r\n**2**\r\n\r\n    static int neededBits(int i)\r\n    {\r\n        assert i &gt; 0;\r\n        int res;\r\n        int sh;\r\n        res = ((i &gt; 0xFFFF) ? 1 : 0) &lt;&lt; 4;\r\n        i &gt;&gt;= res;\r\n        sh = ((i &gt; 0xFF) ? 1 : 0) &lt;&lt; 3;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        sh = ((i &gt; 0xF) ? 1 : 0) &lt;&lt; 2;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        sh = ((i &gt; 0x3) ? 1 : 0) &lt;&lt; 1;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        res |= (i &gt;&gt; 1);\r\n        return res + 1;\r\n    }\r\n\r\nA very fast solution, but still half as fast as ye olde `32 - Integer.numberOfLeadingZeros(i);`.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>I would like to add some other alternatives, just for the sake of completeness:</p>\n\n<p><strong>1</strong> <code>BigInteger.valueOf(i).bitLength()</code></p>\n\n<p>Not very fast. Furthermore, <code>BigInteger.bitLength()</code> it's bugged and unreliable (fixed in Java7), since when more than <code>Integer.MAX_VALUE</code> bits are needed (freakishly high input number needed!! [such as 1 left-shifted <code>Integer.MAX_VALUE</code> times, aka <code>2^Integer.MAX_VALUE</code>]) the result overflows and negative numbers appear for the next <code>2^(2*Integer.MAX_VALUE)-2^Integer.MAX_VALUE</code> numbers, which is a number so high your head could explode. Note that it is estimated the universe containes some 10^80 atoms; that number is <code>2^4G</code> (<code>G</code> as in Giga, <code>1024*1024*1024</code>).</p>\n\n<p><strong>2</strong></p>\n\n<pre><code>static int neededBits(int i)\n{\n    assert i &gt; 0;\n    int res;\n    int sh;\n    res = ((i &gt; 0xFFFF) ? 1 : 0) &lt;&lt; 4;\n    i &gt;&gt;= res;\n    sh = ((i &gt; 0xFF) ? 1 : 0) &lt;&lt; 3;\n    i &gt;&gt;= sh;\n    res |= sh;\n    sh = ((i &gt; 0xF) ? 1 : 0) &lt;&lt; 2;\n    i &gt;&gt;= sh;\n    res |= sh;\n    sh = ((i &gt; 0x3) ? 1 : 0) &lt;&lt; 1;\n    i &gt;&gt;= sh;\n    res |= sh;\n    res |= (i &gt;&gt; 1);\n    return res + 1;\n}\n</code></pre>\n\n<p>A very fast solution, but still half as fast as ye olde <code>32 - Integer.numberOfLeadingZeros(i);</code>.</p>\n"},{"tags":[],"owner":{"account_id":3614088,"reputation":1,"user_id":3014426,"display_name":"Doogles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384971226,"creation_date":1384971226,"answer_id":20103691,"question_id":680002,"body_markdown":"What about something like this:\r\n\r\n    public static int getNumberOfBits(int N) {\r\n        int bits = 0;\r\n            while(Math.pow(2, bits) &lt;= N){\r\n    \t       bits++;\r\n    \t   }\r\n    \t   return bits;\r\n    }\r\n\r\nI know you are looking for a way to not use loops, but I feel this is pretty strait forward otherwise since bits are just a two to the power of a number.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>What about something like this:</p>\n\n<pre><code>public static int getNumberOfBits(int N) {\n    int bits = 0;\n        while(Math.pow(2, bits) &lt;= N){\n           bits++;\n       }\n       return bits;\n}\n</code></pre>\n\n<p>I know you are looking for a way to not use loops, but I feel this is pretty strait forward otherwise since bits are just a two to the power of a number.</p>\n"},{"tags":[],"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534952772,"creation_date":1534902981,"answer_id":51958886,"question_id":680002,"body_markdown":"Binary search over the the exponents of 2 is faster than the bit shift ([top voted answer][1]) solution, which might be valuable if the numbers are huge (thousands of decimal digits), you know the maximum available bits and you do not want to generate the tables:\r\n \r\n        int  minExpVal   = 0;\r\n        int  maxExpVal   = 62;\r\n        int  medExpVal   = maxExpVal &gt;&gt; 1;\r\n        long medianValue = 0l;\r\n\r\n        while (maxExpVal - minExpVal &gt; 1) {\r\n            medianValue = 1l &lt;&lt; medExpVal;\r\n            if (value &gt; medianValue) {\r\n                minExpVal = medExpVal;\r\n            } else {\r\n                maxExpVal = medExpVal;\r\n            }\r\n            medExpVal = (minExpVal + maxExpVal) &gt;&gt; 1;\r\n        }\r\n\r\n        return value == 1l &lt;&lt; maxExpVal ?  maxExpVal  + 1 : maxExpVal;\r\n\r\nHowever, the solution using the leading zeros would be still by far faster:\r\n\r\n    return Long.SIZE - Long.numberOfLeadingZeros(value);\r\n\r\nBenchmarks:\r\n\r\n    Leading zeros time is: 2 ms\r\n    BinarySearch time is: 95 ms\r\n    BitShift time is: 135 ms\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/680012/5983976","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Binary search over the the exponents of 2 is faster than the bit shift (<a href=\"https://stackoverflow.com/a/680012/5983976\">top voted answer</a>) solution, which might be valuable if the numbers are huge (thousands of decimal digits), you know the maximum available bits and you do not want to generate the tables:</p>\n\n<pre><code>    int  minExpVal   = 0;\n    int  maxExpVal   = 62;\n    int  medExpVal   = maxExpVal &gt;&gt; 1;\n    long medianValue = 0l;\n\n    while (maxExpVal - minExpVal &gt; 1) {\n        medianValue = 1l &lt;&lt; medExpVal;\n        if (value &gt; medianValue) {\n            minExpVal = medExpVal;\n        } else {\n            maxExpVal = medExpVal;\n        }\n        medExpVal = (minExpVal + maxExpVal) &gt;&gt; 1;\n    }\n\n    return value == 1l &lt;&lt; maxExpVal ?  maxExpVal  + 1 : maxExpVal;\n</code></pre>\n\n<p>However, the solution using the leading zeros would be still by far faster:</p>\n\n<pre><code>return Long.SIZE - Long.numberOfLeadingZeros(value);\n</code></pre>\n\n<p>Benchmarks:</p>\n\n<pre><code>Leading zeros time is: 2 ms\nBinarySearch time is: 95 ms\nBitShift time is: 135 ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3876767,"reputation":100,"user_id":3210560,"display_name":"Thiagesh thg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539432106,"creation_date":1539431774,"answer_id":52792668,"question_id":680002,"body_markdown":"This one works for me!\r\n\r\n    int numberOfBitsRequired(int n)\r\n    {\r\n        return (int)Math.floor(Math.log(n)/Math.log(2)) + 1;\r\n    }\r\n\r\n\r\n\r\nTo include negative numbers as well, you can add an extra bit and use it to specify the sign.\r\n\r\n    public static int numberOfBitsRequiredSigned(int n)\r\n    {\r\n        return (int)Math.floor(Math.log(Math.abs(n))/Math.log(2)) + 2;\r\n    }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This one works for me!</p>\n\n<pre><code>int numberOfBitsRequired(int n)\n{\n    return (int)Math.floor(Math.log(n)/Math.log(2)) + 1;\n}\n</code></pre>\n\n<p>To include negative numbers as well, you can add an extra bit and use it to specify the sign.</p>\n\n<pre><code>public static int numberOfBitsRequiredSigned(int n)\n{\n    return (int)Math.floor(Math.log(Math.abs(n))/Math.log(2)) + 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":993260,"reputation":2717,"user_id":1009901,"accept_rate":90,"display_name":"Yeti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549908359,"creation_date":1549908359,"answer_id":54636555,"question_id":680002,"body_markdown":"You can also do it like this, if you don&#39;t want to modify the original value.\r\n\r\n    unsigned int value = 11;\r\n    unsigned int count = 0;\r\n    if(value &gt; 0)\r\n    {\r\n        for(int i=1;i&lt;value;i*=2) // multiply by two =&gt; shift one to left\r\n        {\r\n            ++count;\r\n        }\r\n    }\r\n\r\nNote: Let the compiler worry about turning `i*=2` into a bit shift operation to improve performance.\r\n\r\nFor the visual thinkers among us:\r\n\r\n    64 32 16  8  4  2  1\r\n     0  0  0  1  0  1  1  -&gt; binary representation of decimal number &#39;value&#39; = 11 (=1+2+8)\r\n\r\nWe start with `i=1` at the right.\r\nThen we keep multiplying by two, for as long as `i &lt; value`.\r\nIn the meanwhile, we keep track of how many bits we went to the left.\r\n\r\nSo in this example, as soon as `i` reaches 16 the value is larger than 11, and thus we stop. And we will then have counted 4 bits: `1 *2 *2 *2 *2 = 16 (=2^4)`.\r\n\r\n**Careful with signed numbers.** When dealing with signed numbers that may be positive or negative, you would first have to multiply the negative numbers by -1. Additionally, you would have to consider how you want to take the sign-bit into account.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>You can also do it like this, if you don't want to modify the original value.</p>\n\n<pre><code>unsigned int value = 11;\nunsigned int count = 0;\nif(value &gt; 0)\n{\n    for(int i=1;i&lt;value;i*=2) // multiply by two =&gt; shift one to left\n    {\n        ++count;\n    }\n}\n</code></pre>\n\n<p>Note: Let the compiler worry about turning <code>i*=2</code> into a bit shift operation to improve performance.</p>\n\n<p>For the visual thinkers among us:</p>\n\n<pre><code>64 32 16  8  4  2  1\n 0  0  0  1  0  1  1  -&gt; binary representation of decimal number 'value' = 11 (=1+2+8)\n</code></pre>\n\n<p>We start with <code>i=1</code> at the right.\nThen we keep multiplying by two, for as long as <code>i &lt; value</code>.\nIn the meanwhile, we keep track of how many bits we went to the left.</p>\n\n<p>So in this example, as soon as <code>i</code> reaches 16 the value is larger than 11, and thus we stop. And we will then have counted 4 bits: <code>1 *2 *2 *2 *2 = 16 (=2^4)</code>.</p>\n\n<p><strong>Careful with signed numbers.</strong> When dealing with signed numbers that may be positive or negative, you would first have to multiply the negative numbers by -1. Additionally, you would have to consider how you want to take the sign-bit into account.</p>\n"}],"owner":{"account_id":562120,"reputation":1287,"user_id":69658,"accept_rate":75,"display_name":"joinJpegs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48187,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":680012,"answer_count":14,"score":34,"last_activity_date":1667111825,"creation_date":1237947649,"question_id":680002,"body_markdown":"This is probably pretty basic, but to save me an hour or so of grief can anyone tell me how you can work out the number of bits required to represent a given positive integer in Java?\r\n\r\ne.g. I get a decimal 11, (1011). I need to get the answer, 4.\r\n\r\nI figured if I could work out how to set all the bits other than the most significant bit to 0, and then &gt;&gt;&gt; it, I&#39;d get my answer. But... I can&#39;t.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This is probably pretty basic, but to save me an hour or so of grief can anyone tell me how you can work out the number of bits required to represent a given positive integer in Java?</p>\n\n<p>e.g. I get a decimal 11, (1011). I need to get the answer, 4.</p>\n\n<p>I figured if I could work out how to set all the bits other than the most significant bit to 0, and then >>> it, I'd get my answer. But... I can't.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1666867960,"post_id":74220813,"comment_id":131039483,"body_markdown":"If you want to test JavaFX apps, look into a testing framework dedicated for that purpose: [TestFX](http://testfx.github.io/TestFX/).","body":"If you want to test JavaFX apps, look into a testing framework dedicated for that purpose: <a href=\"http://testfx.github.io/TestFX/\" rel=\"nofollow noreferrer\">TestFX</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666877517,"post_id":74220813,"comment_id":131042848,"body_markdown":"The rule for `launch()` is not that it can only be called once per instance. The rule is that it can only be called once per *application*, i.e. it must only be called once in the lifecycle of the JVM. You would see the same error without the unit test, e.g. if you called `PlayVideoSnippet.playVideo(...)` twice from the `main(...)` method (or anywhere). If you want to be able to show multiple windows in JavaFX by calling a method multiple times, you should move that functionality out of `Application.start()`, make `start()` essentially a no-op, and call `launch()` once at startup.","body":"The rule for <code>launch()</code> is not that it can only be called once per instance. The rule is that it can only be called once per <i>application</i>, i.e. it must only be called once in the lifecycle of the JVM. You would see the same error without the unit test, e.g. if you called <code>PlayVideoSnippet.playVideo(...)</code> twice from the <code>main(...)</code> method (or anywhere). If you want to be able to show multiple windows in JavaFX by calling a method multiple times, you should move that functionality out of <code>Application.start()</code>, make <code>start()</code> essentially a no-op, and call <code>launch()</code> once at startup."},{"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"score":0,"creation_date":1666881839,"post_id":74220813,"comment_id":131044609,"body_markdown":"@James_D So how to stop the JVM in between 2 test cases ? Tried calling ```Platform.exit()``` between each test case, not helpful !!  Piece of code would be helpful. Thank you !!","body":"@James_D So how to stop the JVM in between 2 test cases ? Tried calling <code>Platform.exit()</code> between each test case, not helpful !!  Piece of code would be helpful. Thank you !!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666882491,"post_id":74220813,"comment_id":131044862,"body_markdown":"You can&#39;t stop the JVM in between the test cases. The test cases are running in a JVM. As I described in my previous comment, your approach is incorrect: you **must not** call `launch()` more than once and you are setting up your code to do so. Just read the answer to the question you already linked.","body":"You can&#39;t stop the JVM in between the test cases. The test cases are running in a JVM. As I described in my previous comment, your approach is incorrect: you <b>must not</b> call <code>launch()</code> more than once and you are setting up your code to do so. Just read the answer to the question you already linked."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666882859,"post_id":74220813,"comment_id":131045015,"body_markdown":"Just to clarify: having a method (other than `main()`) which calls `launch()` is wrong. That&#39;s the part you need to fix.","body":"Just to clarify: having a method (other than <code>main()</code>) which calls <code>launch()</code> is wrong. That&#39;s the part you need to fix."},{"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"score":0,"creation_date":1666893037,"post_id":74220813,"comment_id":131048626,"body_markdown":"Thanks @James_D Got your point. Will look into it !!","body":"Thanks @James_D Got your point. Will look into it !!"}],"answers":[{"tags":[],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667109851,"creation_date":1667109851,"answer_id":74250888,"question_id":74220813,"body_markdown":"I was able to fix the issue with help of below inputs:\r\n\r\n - Using TestFX for testing purpose as suggested by @jewelsea. \r\n - Inputs from @James_D\r\n - [StackOver flow issue][1]\r\n\r\n`ApplicationTest.launch()` method internally takes care of setting up primary stage and cleaning before each test.\r\n\r\nSolution: \r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testfx.framework.junit5.ApplicationTest;\r\nclass VideoTest extends ApplicationTest {\r\n  \r\n  final String pathOfSupportedFile = &quot;video.mp4&quot;;\r\n  final String pathOfUnsupportedFile = &quot;video.wmv&quot;;\r\n\r\n\r\n  @Test\r\n  void testSupportedVideoFilePlaysSuccessfully() throws Exception {\r\n    assertDoesNotThrow(() -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\r\n            new String[]{pathOfSupportedFile}));\r\n  }\r\n\r\n  @Test\r\n  void testUnsupportedVideoFileThrowsError() throws Exception {\r\n    RuntimeException exception = assertThrows(RuntimeException.class,\r\n        () -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\r\n                    new String[]{pathOfUnsupportedFile}));\r\n    assertTrue(exception.getCause().getCause().getClass().equals(MediaException.class));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java","title":"JavaFX error &quot;Application launch must not be called more than once&quot; while running 2 Test cases","body":"<p>I was able to fix the issue with help of below inputs:</p>\n<ul>\n<li>Using TestFX for testing purpose as suggested by @jewelsea.</li>\n<li>Inputs from @James_D</li>\n<li><a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">StackOver flow issue</a></li>\n</ul>\n<p><code>ApplicationTest.launch()</code> method internally takes care of setting up primary stage and cleaning before each test.</p>\n<p>Solution:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.testfx.framework.junit5.ApplicationTest;\nclass VideoTest extends ApplicationTest {\n  \n  final String pathOfSupportedFile = &quot;video.mp4&quot;;\n  final String pathOfUnsupportedFile = &quot;video.wmv&quot;;\n\n\n  @Test\n  void testSupportedVideoFilePlaysSuccessfully() throws Exception {\n    assertDoesNotThrow(() -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\n            new String[]{pathOfSupportedFile}));\n  }\n\n  @Test\n  void testUnsupportedVideoFileThrowsError() throws Exception {\n    RuntimeException exception = assertThrows(RuntimeException.class,\n        () -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\n                    new String[]{pathOfUnsupportedFile}));\n    assertTrue(exception.getCause().getCause().getClass().equals(MediaException.class));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667109851,"creation_date":1666867465,"question_id":74220813,"body_markdown":"I am using JavaFX to write a sample video player. But the tests fails when run together, ( Note: individually test passes).\r\n\r\nError: ```Unexpected exception thrown: java.lang.IllegalStateException: Application launch must not be called more than once```\r\n\r\nI understand that calling ```launch()``` twice on same Application Instance is causing this issue as per [this][1] . But I am not able to understand, that after one test completes, why the app is still running ? Why new instance is not getting created for 2nd test. ```testUnsupportedVideoFileThrowsError()``` succeeds but ```testSupportedVideoFilePlaysSuccessfully()``` fails. \r\n\r\n```\r\npackage media;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\n\r\npublic class PlayVideoSnippet extends Application {\r\n\r\n    private static String source;\r\n    private Media media = null;\r\n    private MediaPlayer mediaPlayer = null;\r\n    private MediaView mediaView = null;\r\n    private Scene scene = null;\r\n\r\n    public static void playVideo(String source) {\r\n        PlayVideoSnippet.source = source;\r\n        PlayVideoSnippet.launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws InterruptedException {\r\n        try {\r\n            media = new Media(new File(source).toURI().toString());\r\n            //onError close the app\r\n            media.setOnError(() -&gt; {\r\n                Platform.exit();\r\n            });\r\n            //Create MediaPlayer, with media\r\n            mediaPlayer = new MediaPlayer(media);\r\n            mediaPlayer.setAutoPlay(true);\r\n            //onEnd of media, close the app\r\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\r\n                Platform.exit();\r\n            });\r\n            //Create media viewer\r\n            mediaView = new MediaView(mediaPlayer);\r\n            //create scene\r\n            scene = new Scene(new Group(), media.getWidth(), media.getHeight());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Video Player&quot;);\r\n            //attach the mediaView to the scene root\r\n            ((Group) scene.getRoot()).getChildren().add(mediaView);\r\n            stage.show();\r\n        } finally {\r\n            System.out.println(&quot;Inside finally&quot;);\r\n            stage.close();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n\r\npackage media;\r\n\r\nimport javafx.scene.media.MediaException;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass PlayVideoSnippetTest {\r\n    /**\r\n     * Tests for {@link PlayVideoSnippet#playVideo(String)}.\r\n     */\r\n\r\n    final String PATH_OF_SUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_MP4_480_1_5MG.mp4&quot;;\r\n    final String PATH_OF_UNSUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_WMV_480_1_2MB.wmv&quot;;\r\n\r\n\r\n    @Test\r\n    void testSupportedVideoFilePlaysSuccessfully() {\r\n\r\n        assertDoesNotThrow(() -&gt; PlayVideoSnippet.playVideo(PATH_OF_SUPPORTED_VIDEO_FILE));\r\n    }\r\n\r\n    @Test\r\n    void testUnsupportedVideoFileThrowsError() {\r\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; PlayVideoSnippet.playVideo(PATH_OF_UNSUPPORTED_VIDEO_FILE));\r\n        assertTrue(exception.getCause().getClass().equals(MediaException.class));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java","title":"JavaFX error &quot;Application launch must not be called more than once&quot; while running 2 Test cases","body":"<p>I am using JavaFX to write a sample video player. But the tests fails when run together, ( Note: individually test passes).</p>\n<p>Error: <code>Unexpected exception thrown: java.lang.IllegalStateException: Application launch must not be called more than once</code></p>\n<p>I understand that calling <code>launch()</code> twice on same Application Instance is causing this issue as per <a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">this</a> . But I am not able to understand, that after one test completes, why the app is still running ? Why new instance is not getting created for 2nd test. <code>testUnsupportedVideoFileThrowsError()</code> succeeds but <code>testSupportedVideoFilePlaysSuccessfully()</code> fails.</p>\n<pre><code>package media;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class PlayVideoSnippet extends Application {\n\n    private static String source;\n    private Media media = null;\n    private MediaPlayer mediaPlayer = null;\n    private MediaView mediaView = null;\n    private Scene scene = null;\n\n    public static void playVideo(String source) {\n        PlayVideoSnippet.source = source;\n        PlayVideoSnippet.launch();\n    }\n\n    @Override\n    public void start(Stage stage) throws InterruptedException {\n        try {\n            media = new Media(new File(source).toURI().toString());\n            //onError close the app\n            media.setOnError(() -&gt; {\n                Platform.exit();\n            });\n            //Create MediaPlayer, with media\n            mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.setAutoPlay(true);\n            //onEnd of media, close the app\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\n                Platform.exit();\n            });\n            //Create media viewer\n            mediaView = new MediaView(mediaPlayer);\n            //create scene\n            scene = new Scene(new Group(), media.getWidth(), media.getHeight());\n            stage.setScene(scene);\n            stage.setTitle(&quot;Video Player&quot;);\n            //attach the mediaView to the scene root\n            ((Group) scene.getRoot()).getChildren().add(mediaView);\n            stage.show();\n        } finally {\n            System.out.println(&quot;Inside finally&quot;);\n            stage.close();\n        }\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage media;\n\nimport javafx.scene.media.MediaException;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass PlayVideoSnippetTest {\n    /**\n     * Tests for {@link PlayVideoSnippet#playVideo(String)}.\n     */\n\n    final String PATH_OF_SUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_MP4_480_1_5MG.mp4&quot;;\n    final String PATH_OF_UNSUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_WMV_480_1_2MB.wmv&quot;;\n\n\n    @Test\n    void testSupportedVideoFilePlaysSuccessfully() {\n\n        assertDoesNotThrow(() -&gt; PlayVideoSnippet.playVideo(PATH_OF_SUPPORTED_VIDEO_FILE));\n    }\n\n    @Test\n    void testUnsupportedVideoFileThrowsError() {\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; PlayVideoSnippet.playVideo(PATH_OF_UNSUPPORTED_VIDEO_FILE));\n        assertTrue(exception.getCause().getClass().equals(MediaException.class));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":4896710,"reputation":1488,"user_id":3946096,"accept_rate":71,"display_name":"Alexander N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667108733,"creation_date":1667108733,"answer_id":74250797,"question_id":74231306,"body_markdown":"If you&#39;re like me and were recently tripped up by this, it&#39;s likely a permission issue. Would you check the app permissions to see if the notification permission is enabled?\r\n\r\n[Notification runtime permissions][1] were added in the latest Android release.\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/notifications/notification-permission","title":"FCM notification isn&#39;t showing even when data is being received from server","body":"<p>If you're like me and were recently tripped up by this, it's likely a permission issue. Would you check the app permissions to see if the notification permission is enabled?</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">Notification runtime permissions</a> were added in the latest Android release.</p>\n"}],"owner":{"display_name":"user20355435"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667108733,"creation_date":1666937748,"question_id":74231306,"body_markdown":"I am trying to receive notification data in my `FirebaseMessagingService` like this:\r\n\r\n```\r\n@Override\r\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n    String notificationTitle = null, notificationBody = null, url = null;\r\n    remoteMessage.getData();\r\n    Object obj = remoteMessage.getData().get(&quot;title&quot;);\r\n    Object obj1 = remoteMessage.getData().get(&quot;body&quot;);\r\n    Object obj2 = remoteMessage.getData().get(&quot;click_action&quot;);\r\n    notificationTitle = String.valueOf(obj);\r\n    notificationBody = String.valueOf(obj1);\r\n    url = String.valueOf(obj2);\r\n    Log.d(&quot;notification&quot;,notificationTitle+&quot; &quot;+notificationBody+&quot; &quot;+url); //this shows the correct data\r\n    sendLocalNotification(notificationTitle, notificationBody, url);\r\n}\r\n\r\nprivate void sendLocalNotification(String notificationTitle, String notificationBody, String url) {\r\n    NotificationCompat.Builder notificationBuilder;\r\n    if(url == null || url.length() == 0) { //when user taps the notification then it should open the app by default\r\n        Intent intent = new Intent(this, record_viewer.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder = new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentIntent(pendingIntent)\r\n                .setContentTitle(notificationTitle)\r\n                .setContentText(notificationBody)\r\n                .setSound(defaultSoundUri);\r\n    }\r\n    else{ //when user taps the notification then it should redirect to the url\r\n        Intent notificationIntent = new Intent(Intent.ACTION_VIEW);\r\n        notificationIntent.setData(Uri.parse(url));\r\n\r\n        PendingIntent pending = PendingIntent.getActivity(this, 0, notificationIntent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder = new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.drawable.download_icon)\r\n                .setContentIntent(pending)\r\n                .setContentTitle(notificationTitle)\r\n                .setContentText(notificationBody)\r\n                .setSound(defaultSoundUri);\r\n    }\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n    notificationManager.notify(1234, notificationBuilder.build());\r\n}\r\n```\r\n\r\nI am sending the notification payload using `cURL` method in my `PHP` :\r\n\r\n```\r\n$notifData = [\r\n    \t&#39;title&#39; =&gt; &quot;Hey, &quot;.$_POST[&quot;employee&quot;],\r\n    \t&#39;body&#39; =&gt; $body,\r\n    \t&#39;click_action&#39; =&gt; &quot;URL HERE&quot;\r\n];\r\n$apiBody = [\r\n    \t&#39;data&#39; =&gt; $notifData,\r\n    \t&#39;time_to_live&#39; =&gt; 2000, \r\n    \t&#39;to&#39; =&gt; $deviceToken\r\n];\r\n                        \r\n$ch = curl_init();\r\ncurl_setopt ($ch, CURLOPT_URL, $url);\r\ncurl_setopt ($ch, CURLOPT_POST, true);\r\ncurl_setopt ($ch, CURLOPT_HTTPHEADER, $headers);\r\ncurl_setopt ($ch, CURLOPT_RETURNTRANSFER, true);\r\ncurl_setopt ($ch, CURLOPT_POSTFIELDS, json_encode($apiBody));\r\n```\r\n\r\nThe `click_action` is optional here. When I pass the URL then the user should be able to redirect to the url site on tapping the notification,  otherwise it should just open the app.\r\n\r\nBut the problem is that, the notification never shows, irrespective of the app being in foreground or background. Why is that? How do I fix this issue?","title":"FCM notification isn&#39;t showing even when data is being received from server","body":"<p>I am trying to receive notification data in my <code>FirebaseMessagingService</code> like this:</p>\n<pre><code>@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    String notificationTitle = null, notificationBody = null, url = null;\n    remoteMessage.getData();\n    Object obj = remoteMessage.getData().get(&quot;title&quot;);\n    Object obj1 = remoteMessage.getData().get(&quot;body&quot;);\n    Object obj2 = remoteMessage.getData().get(&quot;click_action&quot;);\n    notificationTitle = String.valueOf(obj);\n    notificationBody = String.valueOf(obj1);\n    url = String.valueOf(obj2);\n    Log.d(&quot;notification&quot;,notificationTitle+&quot; &quot;+notificationBody+&quot; &quot;+url); //this shows the correct data\n    sendLocalNotification(notificationTitle, notificationBody, url);\n}\n\nprivate void sendLocalNotification(String notificationTitle, String notificationBody, String url) {\n    NotificationCompat.Builder notificationBuilder;\n    if(url == null || url.length() == 0) { //when user taps the notification then it should open the app by default\n        Intent intent = new Intent(this, record_viewer.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder = new NotificationCompat.Builder(this)\n                .setAutoCancel(true)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentIntent(pendingIntent)\n                .setContentTitle(notificationTitle)\n                .setContentText(notificationBody)\n                .setSound(defaultSoundUri);\n    }\n    else{ //when user taps the notification then it should redirect to the url\n        Intent notificationIntent = new Intent(Intent.ACTION_VIEW);\n        notificationIntent.setData(Uri.parse(url));\n\n        PendingIntent pending = PendingIntent.getActivity(this, 0, notificationIntent,\n                PendingIntent.FLAG_ONE_SHOT);\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder = new NotificationCompat.Builder(this)\n                .setAutoCancel(true)\n                .setSmallIcon(R.drawable.download_icon)\n                .setContentIntent(pending)\n                .setContentTitle(notificationTitle)\n                .setContentText(notificationBody)\n                .setSound(defaultSoundUri);\n    }\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    notificationManager.notify(1234, notificationBuilder.build());\n}\n</code></pre>\n<p>I am sending the notification payload using <code>cURL</code> method in my <code>PHP</code> :</p>\n<pre><code>$notifData = [\n        'title' =&gt; &quot;Hey, &quot;.$_POST[&quot;employee&quot;],\n        'body' =&gt; $body,\n        'click_action' =&gt; &quot;URL HERE&quot;\n];\n$apiBody = [\n        'data' =&gt; $notifData,\n        'time_to_live' =&gt; 2000, \n        'to' =&gt; $deviceToken\n];\n                        \n$ch = curl_init();\ncurl_setopt ($ch, CURLOPT_URL, $url);\ncurl_setopt ($ch, CURLOPT_POST, true);\ncurl_setopt ($ch, CURLOPT_HTTPHEADER, $headers);\ncurl_setopt ($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt ($ch, CURLOPT_POSTFIELDS, json_encode($apiBody));\n</code></pre>\n<p>The <code>click_action</code> is optional here. When I pass the URL then the user should be able to redirect to the url site on tapping the notification,  otherwise it should just open the app.</p>\n<p>But the problem is that, the notification never shows, irrespective of the app being in foreground or background. Why is that? How do I fix this issue?</p>\n"},{"tags":["java","maven","heroku","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":15638938,"reputation":16,"user_id":11282938,"display_name":"Sergey Nik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1553981681,"creation_date":1553981681,"answer_id":55435863,"question_id":51241023,"body_markdown":"\r\n&gt; Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n\r\nThe error tells us that you need to listen to the port that the heroku will give us. So let&#39;s do it\r\n\r\n        public class Bot extends TelegramLongPollingBot {\r\n        private static final String TOKEN = System.getenv(&quot;TOKEN&quot;);\r\n        private static final String BOT_USERNAME = System.getenv(&quot;BOT_USERNAME&quot;);\r\n        private static final String PORT = System.getenv(&quot;PORT&quot;);\r\n    \r\n        public void onUpdateReceived(Update update) {\r\n            \r\n        }\r\n    \r\n        public String getBotUsername() {\r\n            return BOT_USERNAME;\r\n        }\r\n    \r\n        public String getBotToken() {\r\n            return TOKEN;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ApiContextInitializer.init();\r\n            TelegramBotsApi api = new TelegramBotsApi();\r\n            try {\r\n                api.registerBot(new Bot());\r\n            } catch (TelegramApiRequestException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try (ServerSocket serverSocket = new ServerSocket(Integer.valueOf(PORT))) {\r\n                while (true) {\r\n                    Socket clientSocket = serverSocket.accept();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Heroku crash after 90 sec working java telegram bot","body":"<blockquote>\n  <p>Error R10 (Boot timeout) -> Web process failed to bind to $PORT within 90 seconds of launch</p>\n</blockquote>\n\n<p>The error tells us that you need to listen to the port that the heroku will give us. So let's do it</p>\n\n<pre><code>    public class Bot extends TelegramLongPollingBot {\n    private static final String TOKEN = System.getenv(\"TOKEN\");\n    private static final String BOT_USERNAME = System.getenv(\"BOT_USERNAME\");\n    private static final String PORT = System.getenv(\"PORT\");\n\n    public void onUpdateReceived(Update update) {\n\n    }\n\n    public String getBotUsername() {\n        return BOT_USERNAME;\n    }\n\n    public String getBotToken() {\n        return TOKEN;\n    }\n\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n        TelegramBotsApi api = new TelegramBotsApi();\n        try {\n            api.registerBot(new Bot());\n        } catch (TelegramApiRequestException e) {\n            e.printStackTrace();\n        }\n\n        try (ServerSocket serverSocket = new ServerSocket(Integer.valueOf(PORT))) {\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10663745,"reputation":1,"user_id":8260212,"display_name":"K1TS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578205088,"creation_date":1578205088,"answer_id":59597496,"question_id":51241023,"body_markdown":"Sergey Nik&#39;s answer helped me a lot after wasting plenty of time on attempts to fix this R10 error. I can append that Procfile should be placed in a root directory and can look like this:\r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/&lt;custom-bot&gt;.jar\r\n","title":"Heroku crash after 90 sec working java telegram bot","body":"<p>Sergey Nik's answer helped me a lot after wasting plenty of time on attempts to fix this R10 error. I can append that Procfile should be placed in a root directory and can look like this:</p>\n\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/&lt;custom-bot&gt;.jar\n</code></pre>\n"}],"owner":{"account_id":12995693,"reputation":17,"user_id":9442898,"display_name":"Y2Kot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55435863,"answer_count":2,"score":0,"last_activity_date":1667108360,"creation_date":1531124740,"question_id":51241023,"body_markdown":"I wrote java Telegram bot using this api - https://github.com/rubenlagus/TelegramBots . I test it on my PC and it works good. So I decided to test it on Heroku, how ever, after 90sec working it crash (first 90 sec works well). Heroku log:\r\n\r\n    2018-07-09T08:01:45.000000+00:00 app[api]: Build succeeded\r\n    2018-07-09T08:01:46.940201+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=18914 -jar target/AllaBot-1.0.0.jar`\r\n    2018-07-09T08:01:49.163121+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n    2018-07-09T08:01:49.166682+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -Dfile.encoding=UTF-8\r\n    2018-07-09T08:03:17.028453+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n    2018-07-09T08:03:17.028604+00:00 heroku[web.1]: Stopping process with SIGKILL\r\n    2018-07-09T08:03:17.121323+00:00 heroku[web.1]: Process exited with status 137\r\n    2018-07-09T08:03:17.140915+00:00 heroku[web.1]: State changed from starting to crashed\r\n\r\nmy Procfile:\r\n\r\n    web: java -Dserver.port=$PORT -jar target/AllaBot-1.0.0.jar\r\n\r\nAs I understand, I need to change port in my project, don&#39;t me? I try to use some tips from internet but they don&#39;t works for me.","title":"Heroku crash after 90 sec working java telegram bot","body":"<p>I wrote java Telegram bot using this api - <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots</a> . I test it on my PC and it works good. So I decided to test it on Heroku, how ever, after 90sec working it crash (first 90 sec works well). Heroku log:</p>\n\n<pre><code>2018-07-09T08:01:45.000000+00:00 app[api]: Build succeeded\n2018-07-09T08:01:46.940201+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=18914 -jar target/AllaBot-1.0.0.jar`\n2018-07-09T08:01:49.163121+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2018-07-09T08:01:49.166682+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -Dfile.encoding=UTF-8\n2018-07-09T08:03:17.028453+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\n2018-07-09T08:03:17.028604+00:00 heroku[web.1]: Stopping process with SIGKILL\n2018-07-09T08:03:17.121323+00:00 heroku[web.1]: Process exited with status 137\n2018-07-09T08:03:17.140915+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>my Procfile:</p>\n\n<pre><code>web: java -Dserver.port=$PORT -jar target/AllaBot-1.0.0.jar\n</code></pre>\n\n<p>As I understand, I need to change port in my project, don't me? I try to use some tips from internet but they don't works for me.</p>\n"},{"tags":["java","arraylist","shuffle"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1667108254,"post_id":74250641,"comment_id":131090273,"body_markdown":"I would like to add that you aren&#39;t following Java naming conventions for methods (in some places). Method names should be camelCased i.e., they should start with a lower case letter","body":"I would like to add that you aren&#39;t following Java naming conventions for methods (in some places). Method names should be camelCased i.e., they should start with a lower case letter"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667107804,"creation_date":1667107804,"answer_id":74250720,"question_id":74250641,"body_markdown":"You are having two instances of `Deck` class - one in the main method and one in the `CardPlayer` class. The one in the `CardPlayer` class is used in `getCard` but that deck isn&#39;t shuffled.\r\n\r\nEither shuffle the deck created in `CardPlayer` class. Or pass the shuffled deck created in main to the constructor of the `CardPlayer` class.","title":"Java Deck of Cards List Shuffle","body":"<p>You are having two instances of <code>Deck</code> class - one in the main method and one in the <code>CardPlayer</code> class. The one in the <code>CardPlayer</code> class is used in <code>getCard</code> but that deck isn't shuffled.</p>\n<p>Either shuffle the deck created in <code>CardPlayer</code> class. Or pass the shuffled deck created in main to the constructor of the <code>CardPlayer</code> class.</p>\n"}],"owner":{"account_id":24639223,"reputation":33,"user_id":18537528,"display_name":"Soul Manipulator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74250720,"answer_count":1,"score":0,"last_activity_date":1667107804,"creation_date":1667106626,"question_id":74250641,"body_markdown":"Need some assistance on this program I&#39;m working on. Basically a card draw program that creates a deck of cards (card and deck classes), shuffles the created deck, and adds the first card of the shuffled deck to the player&#39;s hand. (CardPlayer class).\r\n```\r\npackage cards;\r\n\r\npublic class Card {\r\n\t\tprivate String[]cardSuit = {&quot;Hearts&quot;, &quot;Diamonds&quot;, &quot;Spades&quot;, &quot;Clubs&quot;};\r\n\t\tprivate String[]cardFaceValue = {&quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;10&quot;, &quot;9&quot;, &quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;};\r\n\t\t\r\n\t\tprivate int suit;\r\n\t\tprivate int faceValue;\r\n\t\t\r\n\t\tpublic Card(int newSuit, int newValue) {\r\n\t\t\tsuit = newSuit;\r\n\t\t\tfaceValue = newValue;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\tString card = cardFaceValue[faceValue] + &quot; of &quot; + cardSuit[suit];\r\n\t\t\t\r\n\t\t\treturn card;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\nimport java.util.*;\r\n\r\npublic class Deck {\r\n\t\t\r\n\t\tArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tpublic Deck() {\r\n\t\t\tfor(int suit = 0; suit &lt;= 3; suit++) {\r\n\t\t\t\tfor(int value = 0; value &lt;= 12; value++) {\r\n\t\t\t\t\tdeck.add(new Card(suit,value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void Shuffle() {\r\n\t\t\tCollections.shuffle(deck);\r\n\t\t}\r\n\t\tpublic Card Deal() {\r\n\t\t\tCard card = deck.get(0);\r\n\t\t\tdeck.remove(0);\r\n\t\t\treturn card;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\nimport java.util.*;\r\n\r\npublic class CardPlayer {\r\n\r\n\t\tDeck deck = new Deck();\r\n    \t\r\n\t\tArrayList&lt;Card&gt; hand = new ArrayList&lt;&gt;();\r\n\r\n\t\tpublic void getCard(){\r\n\t\t\thand.add(deck.Deal());\r\n\t\t}\r\n\r\n\t\tpublic ArrayList&lt;Card&gt; showCards(){\r\n\t\t\t\r\n\t\t\treturn hand;\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\npublic class Demonstration {\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDeck deck;\r\n    \tdeck = new Deck();\r\n    \t\r\n    \tCardPlayer cardPlayer;\r\n    \tcardPlayer = new CardPlayer();\r\n    \t\r\n    \tSystem.out.println(&quot;The deck contains the cards: &quot; + deck.deck);\r\n    \t\r\n    \tdeck.Shuffle();\r\n    \tSystem.out.println(&quot;New order of cards: &quot; + deck.deck);\r\n    \t\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tSystem.out.println(&quot;The card player&#39;s hand is now: &quot; + cardPlayer.showCards());\r\n    \t\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy issue is that whenever I run the demonstration program, the deck and shuffle work, but when I try to show the cards in the player&#39;s hand, it&#39;s always the same cards in the order created by the initial deck creation, without the shuffle. How would I go about fixing this issue?\r\n","title":"Java Deck of Cards List Shuffle","body":"<p>Need some assistance on this program I'm working on. Basically a card draw program that creates a deck of cards (card and deck classes), shuffles the created deck, and adds the first card of the shuffled deck to the player's hand. (CardPlayer class).</p>\n<pre><code>package cards;\n\npublic class Card {\n        private String[]cardSuit = {&quot;Hearts&quot;, &quot;Diamonds&quot;, &quot;Spades&quot;, &quot;Clubs&quot;};\n        private String[]cardFaceValue = {&quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;10&quot;, &quot;9&quot;, &quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;};\n        \n        private int suit;\n        private int faceValue;\n        \n        public Card(int newSuit, int newValue) {\n            suit = newSuit;\n            faceValue = newValue;\n        }\n        \n        public String toString() {\n            String card = cardFaceValue[faceValue] + &quot; of &quot; + cardSuit[suit];\n            \n            return card;\n        }\n    }\n</code></pre>\n<pre><code>package cards;\n\nimport java.util.*;\n\npublic class Deck {\n        \n        ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\n        \n        public Deck() {\n            for(int suit = 0; suit &lt;= 3; suit++) {\n                for(int value = 0; value &lt;= 12; value++) {\n                    deck.add(new Card(suit,value));\n                }\n            }\n        }\n        public void Shuffle() {\n            Collections.shuffle(deck);\n        }\n        public Card Deal() {\n            Card card = deck.get(0);\n            deck.remove(0);\n            return card;\n        }\n    }\n</code></pre>\n<pre><code>package cards;\n\nimport java.util.*;\n\npublic class CardPlayer {\n\n        Deck deck = new Deck();\n        \n        ArrayList&lt;Card&gt; hand = new ArrayList&lt;&gt;();\n\n        public void getCard(){\n            hand.add(deck.Deal());\n        }\n\n        public ArrayList&lt;Card&gt; showCards(){\n            \n            return hand;\n        }\n\n    }\n</code></pre>\n<pre><code>package cards;\n\npublic class Demonstration {\n        \n    public static void main(String[] args) {\n        Deck deck;\n        deck = new Deck();\n        \n        CardPlayer cardPlayer;\n        cardPlayer = new CardPlayer();\n        \n        System.out.println(&quot;The deck contains the cards: &quot; + deck.deck);\n        \n        deck.Shuffle();\n        System.out.println(&quot;New order of cards: &quot; + deck.deck);\n        \n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        System.out.println(&quot;The card player's hand is now: &quot; + cardPlayer.showCards());\n        \n    }\n}\n</code></pre>\n<p>My issue is that whenever I run the demonstration program, the deck and shuffle work, but when I try to show the cards in the player's hand, it's always the same cards in the order created by the initial deck creation, without the shuffle. How would I go about fixing this issue?</p>\n"},{"tags":["java","reflection","protocol-buffers"],"comments":[{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1288368650,"post_id":4053691,"comment_id":4353440,"body_markdown":"Do Builder have setTestProp method?","body":"Do Builder have setTestProp method?"},{"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"score":1,"creation_date":1288707780,"post_id":4053691,"comment_id":4384540,"body_markdown":"I should  point out that the destination java object is an instance of com.google.protobuf.GeneratedMessage , which are immutable beans. Therefore using Dozer or simple reflection read/write on GeneratedMessage won&#39;t work.","body":"I should  point out that the destination java object is an instance of com.google.protobuf.GeneratedMessage , which are immutable beans. Therefore using Dozer or simple reflection read/write on GeneratedMessage won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288369078,"creation_date":1288369078,"answer_id":4053819,"question_id":4053691,"body_markdown":"You can go throw all properties *getClass().getFields()* and make copy using reflection. It will be smt like: \r\n\r\n    for(Field f : to.getClass().getFields()){\r\n    \tf.set(to, from.getClass().getField(f.getName()).get(from));\r\n    }\r\n\r\n**+** probably you might be use *field.setAccessible(true)* invocation.","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>You can go throw all properties <em>getClass().getFields()</em> and make copy using reflection. It will be smt like: </p>\n\n<pre><code>for(Field f : to.getClass().getFields()){\n    f.set(to, from.getClass().getField(f.getName()).get(from));\n}\n</code></pre>\n\n<p><strong>+</strong> probably you might be use <em>field.setAccessible(true)</em> invocation.</p>\n"},{"tags":[],"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543599292,"creation_date":1288372160,"answer_id":4054240,"question_id":4053691,"body_markdown":"I hate to answer my question but I cant believe that I am the only one who ran into this problem. Documenting solution here in case other people are also getting started with protobuf and java. Using reflection saves wrting dozens of getter and setters.\r\n\r\nOk , I managed to get it to work using some of example test code shipping with protobuf. This is a very simple use case; typically a message would be a lot more complex. This code does not handle nested messages or repeated messages.\r\n\r\n\r\n    public static void setMessageBuilder(com.google.protobuf.GeneratedMessage.Builder message,Descriptors.Descriptor descriptor,Object srcObject) throws Exception {\r\n        String cname = srcObject.getClass().getName();\r\n        /*BeanMapper.getSimpleProperties -- this is a warpper method that gets the list of property names*/ \r\n        List&lt;String&gt; simpleProps = BeanMapper.getSimpleProperties(srcObject.getClass());\r\n\r\n        Map map = new HashMap();\r\n        for (String pName : simpleProps) {\r\n            System.out.println(&quot; processing property &quot;+ pName);\r\n            Object value= PropertyUtils.getProperty(srcObject, pName);\r\n            if(value==null) continue;\r\n           \r\n            Descriptors.FieldDescriptor fd=descriptor.findFieldByName(pName) ;\r\n            \r\n            System.out.println(&quot; property &quot;+  pName+&quot; , found fd :&quot;+ (fd==null ? &quot;nul&quot;:&quot;ok&quot;));\r\n             message.setField(fd, value);\r\n             System.out.println(&quot; property &quot;+  pName+&quot;  set ok,&quot;);\r\n\r\n        }\r\n        return ;\r\n    }","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I hate to answer my question but I cant believe that I am the only one who ran into this problem. Documenting solution here in case other people are also getting started with protobuf and java. Using reflection saves wrting dozens of getter and setters.</p>\n\n<p>Ok , I managed to get it to work using some of example test code shipping with protobuf. This is a very simple use case; typically a message would be a lot more complex. This code does not handle nested messages or repeated messages.</p>\n\n<pre><code>public static void setMessageBuilder(com.google.protobuf.GeneratedMessage.Builder message,Descriptors.Descriptor descriptor,Object srcObject) throws Exception {\n    String cname = srcObject.getClass().getName();\n    /*BeanMapper.getSimpleProperties -- this is a warpper method that gets the list of property names*/ \n    List&lt;String&gt; simpleProps = BeanMapper.getSimpleProperties(srcObject.getClass());\n\n    Map map = new HashMap();\n    for (String pName : simpleProps) {\n        System.out.println(\" processing property \"+ pName);\n        Object value= PropertyUtils.getProperty(srcObject, pName);\n        if(value==null) continue;\n\n        Descriptors.FieldDescriptor fd=descriptor.findFieldByName(pName) ;\n\n        System.out.println(\" property \"+  pName+\" , found fd :\"+ (fd==null ? \"nul\":\"ok\"));\n         message.setField(fd, value);\n         System.out.println(\" property \"+  pName+\"  set ok,\");\n\n    }\n    return ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288375225,"creation_date":1288375225,"answer_id":4054580,"question_id":4053691,"body_markdown":"I may be off, but would [protostuff][1] help? It has nice extended support for working with other data formats, types. And even if it didn&#39;t have direct conversion support, if you go to/from JSON there are many choices for good data binding.\r\n\r\n  [1]: http://code.google.com/p/protostuff/","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I may be off, but would <a href=\"http://code.google.com/p/protostuff/\" rel=\"nofollow\">protostuff</a> help? It has nice extended support for working with other data formats, types. And even if it didn't have direct conversion support, if you go to/from JSON there are many choices for good data binding.</p>\n"},{"tags":[],"owner":{"account_id":144764,"reputation":2527,"user_id":354063,"accept_rate":94,"display_name":"Ither"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288376864,"creation_date":1288376864,"answer_id":4054759,"question_id":4053691,"body_markdown":"I don&#39;t know the size of your project but you may want to try [Dozer][1], a mapper that recursively copies data from one object to another of the same type or between different complex types. Supports implicit and explicit mapping as well. I used it in a big project and worked very well. It could be as simple as\r\n\r\n    Mapper mapper = new DozerBeanMapper();\r\n    DestinationObject destObject = mapper.map(sourceObject, DestinationObject.class);\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I don't know the size of your project but you may want to try <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow\">Dozer</a>, a mapper that recursively copies data from one object to another of the same type or between different complex types. Supports implicit and explicit mapping as well. I used it in a big project and worked very well. It could be as simple as</p>\n\n<pre><code>Mapper mapper = new DozerBeanMapper();\nDestinationObject destObject = mapper.map(sourceObject, DestinationObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8138569,"reputation":1,"user_id":6129495,"display_name":"yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459257873,"creation_date":1459257873,"answer_id":36285644,"question_id":4053691,"body_markdown":"I&#39;ve got the same issue, the solution is a little bit tricky.\r\n\r\nPlease use \r\nMethodUtils.invokeMethod\r\ninstead.\r\n\r\nwhere the method name is &quot;setXXX&quot;.","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I've got the same issue, the solution is a little bit tricky.</p>\n\n<p>Please use \nMethodUtils.invokeMethod\ninstead.</p>\n\n<p>where the method name is \"setXXX\".</p>\n"}],"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8614,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1667107512,"creation_date":1288368322,"question_id":4053691,"body_markdown":"Typically I could copy values between two java beans, which have identical property names, using `BeanUtils` with java reflection e.g. `PropertyUtils.setProperty(....)`\r\n\r\nIn protobuf `Message`, we use the message builder class to set the value. This works but I would rather use reflection to automatically copy properties from the bean to the message as both have identical property names and type.\r\n\r\nWhen I invoke the `PropertyUtils.setProperty` on the builder object ( got from `message.newBuilder()`), I get this message.\r\n\r\n`java.lang.NoSuchMethodException: Property &#39;testProp&#39; has no setter method in class &#39;class teststuff.TestBeanProtos$TestBeanMessage$Builder&#39;`\r\n\r\n\r\nHow do I automatically copy values from java bean to protobuf message object (and vice-versa) using java reflection?\r\n\r\n\r\n\r\n\r\n","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>Typically I could copy values between two java beans, which have identical property names, using <code>BeanUtils</code> with java reflection e.g. <code>PropertyUtils.setProperty(....)</code></p>\n<p>In protobuf <code>Message</code>, we use the message builder class to set the value. This works but I would rather use reflection to automatically copy properties from the bean to the message as both have identical property names and type.</p>\n<p>When I invoke the <code>PropertyUtils.setProperty</code> on the builder object ( got from <code>message.newBuilder()</code>), I get this message.</p>\n<p><code>java.lang.NoSuchMethodException: Property 'testProp' has no setter method in class 'class teststuff.TestBeanProtos$TestBeanMessage$Builder'</code></p>\n<p>How do I automatically copy values from java bean to protobuf message object (and vice-versa) using java reflection?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1518170757,"post_id":48701673,"comment_id":84404901,"body_markdown":"I would simply working with the doubles having in mind the floating point problems. But what you could doing is getting the double values and then doing the same as Excel does, rounding to 15 significant digits using [BigDecimal.round](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#round%28java.math.MathContext%29). I have shown this here : https://stackoverflow.com/questions/41067328/apache-poi-not-returning-the-proper-value-for-large-numbers-coming-from-excel/41106535#41106535.","body":"I would simply working with the doubles having in mind the floating point problems. But what you could doing is getting the double values and then doing the same as Excel does, rounding to 15 significant digits using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#round%28java.math.MathContext%29\" rel=\"nofollow noreferrer\">BigDecimal.round</a>. I have shown this here : <a href=\"https://stackoverflow.com/questions/41067328/apache-poi-not-returning-the-proper-value-for-large-numbers-coming-from-excel/41106535#41106535\" title=\"apache poi not returning the proper value for large numbers coming from excel\">stackoverflow.com/questions/41067328/&hellip;</a>."},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518172275,"post_id":48701673,"comment_id":84405916,"body_markdown":"@AxelRichter yes i could do it this way, thanks for pointing out. Problem is we have a convention in our software that our BigDecimals need to be max 9 digits before fraction and max. 7 digits after fraction, so they can be stored in database and we can be sure they are not larger than our database field allows.\n\nThe Value of Excel is for example: 62.474099999999993 which is larger than our 7 digits after fraction. I dont want to cut off the rest of the number, and i also dont want to lose precision for price-values. My above code-example (which is a hack) does not have this problem.","body":"@AxelRichter yes i could do it this way, thanks for pointing out. Problem is we have a convention in our software that our BigDecimals need to be max 9 digits before fraction and max. 7 digits after fraction, so they can be stored in database and we can be sure they are not larger than our database field allows.  The Value of Excel is for example: 62.474099999999993 which is larger than our 7 digits after fraction. I dont want to cut off the rest of the number, and i also dont want to lose precision for price-values. My above code-example (which is a hack) does not have this problem."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1518173834,"post_id":48701673,"comment_id":84406893,"body_markdown":"Can&#39;t test at the moment. But could you try using [DataFormatter(java.util.Locale locale)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html#DataFormatter-java.util.Locale-) having `Locale.US`? Or setting [LocaleUtil.setUserLocale](https://poi.apache.org/apidocs/org/apache/poi/util/LocaleUtil.html#setUserLocale-java.util.Locale-) to `Locale.US` before using the `DataFormatter`?","body":"Can&#39;t test at the moment. But could you try using <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html#DataFormatter-java.util.Locale-\" rel=\"nofollow noreferrer\">DataFormatter(java.util.Locale locale)</a> having <code>Locale.US</code>? Or setting <a href=\"https://poi.apache.org/apidocs/org/apache/poi/util/LocaleUtil.html#setUserLocale-java.util.Locale-\" rel=\"nofollow noreferrer\">LocaleUtil.setUserLocale</a> to <code>Locale.US</code> before using the <code>DataFormatter</code>?"},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518180161,"post_id":48701673,"comment_id":84410566,"body_markdown":"@AxelRichter good idea. I have tryed it like follow:\n`formatter = new DataFormatter(Locale.US)`. And i have tryed using the `formatRawCellContents` --&gt; With value: &quot;1333&quot;, format-string: &quot;#,##0&quot; result: &quot;1,333&quot;. With value: &quot;1&quot;, format-string: &quot;0.00&quot;, result: &quot;1.00&quot;. So it really does change something, but it still produces &quot;,&quot; in result. But thanks this helps. It would be a solution if with Locale.US it would never produce a comma.","body":"@AxelRichter good idea. I have tryed it like follow: <code>formatter = new DataFormatter(Locale.US)</code>. And i have tryed using the <code>formatRawCellContents</code> --&gt; With value: &quot;1333&quot;, format-string: &quot;#,##0&quot; result: &quot;1,333&quot;. With value: &quot;1&quot;, format-string: &quot;0.00&quot;, result: &quot;1.00&quot;. So it really does change something, but it still produces &quot;,&quot; in result. But thanks this helps. It would be a solution if with Locale.US it would never produce a comma."},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518180630,"post_id":48701673,"comment_id":84410891,"body_markdown":"@AxelRichter hey now that i think about it. If the result now always conforms to the Locale.US it will always have &quot;.&quot; as decimal separator. Cool Thx. I think this could solve my problem","body":"@AxelRichter hey now that i think about it. If the result now always conforms to the Locale.US it will always have &quot;.&quot; as decimal separator. Cool Thx. I think this could solve my problem"}],"answers":[{"tags":[],"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667107504,"creation_date":1518165531,"answer_id":48701755,"question_id":48701673,"body_markdown":"From [Apache POI docs][1]:\r\n\r\n*Cell.getNumericCellValue()* should already return a double value.\r\n\r\nFor other formats, use *DataFormatter* class:\r\n\r\n&gt; DataFormatter contains methods for formatting the value stored in an\r\n&gt; Cell. This can be useful for reports and GUI presentations when you\r\n&gt; need to display data exactly as it appears in Excel. Supported formats\r\n&gt; include currency, SSN, percentages, decimals, dates, phone numbers,\r\n&gt; zip codes, etc.\r\n\r\nWhen using XSSF SAX Event API, you don&#39;t have that kind of access but fortunately there&#39;s a code sample at\r\n\r\n[https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java][2]\r\n\r\nthat shows how to retrieve the numeric / formatted string value of a cell by implementing the *SheetContentsHandler* interface and overriding its *cell*, *startRow*, *endRow*, etc. methods (in the example, look for the *XLSX2CSV.SheetToCSV.cell*(...) method.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/index.html\r\n  [2]: https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>From <a href=\"https://poi.apache.org/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache POI docs</a>:</p>\n<p><em>Cell.getNumericCellValue()</em> should already return a double value.</p>\n<p>For other formats, use <em>DataFormatter</em> class:</p>\n<blockquote>\n<p>DataFormatter contains methods for formatting the value stored in an\nCell. This can be useful for reports and GUI presentations when you\nneed to display data exactly as it appears in Excel. Supported formats\ninclude currency, SSN, percentages, decimals, dates, phone numbers,\nzip codes, etc.</p>\n</blockquote>\n<p>When using XSSF SAX Event API, you don't have that kind of access but fortunately there's a code sample at</p>\n<p><a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java</a></p>\n<p>that shows how to retrieve the numeric / formatted string value of a cell by implementing the <em>SheetContentsHandler</em> interface and overriding its <em>cell</em>, <em>startRow</em>, <em>endRow</em>, etc. methods (in the example, look for the <em>XLSX2CSV.SheetToCSV.cell</em>(...) method.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1518181387,"creation_date":1518181387,"answer_id":48706525,"question_id":48701673,"body_markdown":"With help of @AxelRichter following solution now solves my problem:\r\n\r\n    // we must use Locale.US, because we want to make sure that the DataFormatter will\r\n    // always product &quot;.&quot; as decimal-separator and &quot;,&quot; as thousands-separator.\r\n    this.formatter = new DataFormatter(Locale.US);\r\n\r\n    // format the floating-point value\r\n    String xlsxValue = formatter.formatRawCellContents(\r\n            Double.parseDouble(value),\r\n            formatIndex,\r\n            formatString);\r\n\r\n    // xlsxValue may contain format-symbols, which we need to remove...\r\n    xlsxValue = xlsxValue.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>With help of @AxelRichter following solution now solves my problem:</p>\n\n<pre><code>// we must use Locale.US, because we want to make sure that the DataFormatter will\n// always product \".\" as decimal-separator and \",\" as thousands-separator.\nthis.formatter = new DataFormatter(Locale.US);\n\n// format the floating-point value\nString xlsxValue = formatter.formatRawCellContents(\n        Double.parseDouble(value),\n        formatIndex,\n        formatString);\n\n// xlsxValue may contain format-symbols, which we need to remove...\nxlsxValue = xlsxValue.replaceAll(\"[^\\\\d.]\", \"\");\n</code></pre>\n"}],"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9045,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48706525,"answer_count":2,"score":6,"last_activity_date":1667107504,"creation_date":1518165181,"question_id":48701673,"body_markdown":"I want to Import an XLSX-File with Help of Apache-POI (XSSF and SAX Event API).\r\n\r\nBecause Excel stores numbers as floating-point numbers it is necessary in java to format them back to the way they originally look in Excel. This is possible by reading the cell-format:\r\n\r\n\r\n    String cellStyle = sheetReader.getAttributeValue(null, &quot;s&quot;);\r\n    if (cellStyle != null) {\r\n      // save the format of the cell for later use.\r\n      int styleIndex = Integer.parseInt(cellStyle);\r\n      XSSFCellStyle style = stylesTable.getStyleAt(styleIndex);\r\n      formatIndex = style.getDataFormat();\r\n      formatString = style.getDataFormatString();\r\n      if (formatString == null) {\r\n        // formatString could not be found, so it must be a builtin format.\r\n        formatString = BuiltinFormats.getBuiltinFormat(formatIndex);\r\n      }\r\n    }\r\n    ...\r\n    // format the floating-point value\r\n    String xlsxValue = formatter.formatRawCellContents(\r\n      Double.parseDouble(value),\r\n      formatIndex,\r\n      formatString);\r\n\r\n\r\nThe above code does work well for me... but it gives me the numbers like they are originally formatted in Excel while running Excel in Germany Locale. Example for such numbers:\r\n\r\n\r\n    10,30\r\n    100.00.00,43\r\n\r\n\r\nNow how can i reformat those numbers so that they can be fed to Java Double and Java BigDecimal?\r\n\r\nApache-POI seemingly does not provide Utility-Classes for this case, but how can the numbers be processed in java then?\r\n\r\nI have hacked my way into poi to make this happen like this, but is there no other way?\r\n\r\n\r\n    // hack apache-poi classes that are private, so we can retrieve the &#39;format&#39;\r\n    // which helps us to transform the formated value to the expected java-format\r\n    CellStyle style = new CellStyleHack(formatIndex, formatString);\r\n    Cell cell = new CellHack(Double.parseDouble(xlsxValue), style);\r\n\r\n    java.text.Format format = formatter.createFormat(cell);\r\n    if (format instanceof DecimalFormat) {\r\n      DecimalFormat decimalFormat = ((DecimalFormat) format);\r\n      char dSep = decimalFormat.getDecimalFormatSymbols().getDecimalSeparator();\r\n      char gSep = decimalFormat.getDecimalFormatSymbols().getGroupingSeparator();\r\n      String cSymbol = decimalFormat.getDecimalFormatSymbols().getCurrencySymbol();\r\n\r\n      // java always expects &#39;.&#39; as decimal seperator for BigDecimal and Double.\r\n      xlsxValue = xlsxValue.replace(&quot;&quot; + gSep, &quot;&quot;);\r\n      xlsxValue = xlsxValue.replace(dSep, &#39;.&#39;);\r\n      if (cSymbol != null) {\r\n        xlsxValue = xlsxValue.replace(cSymbol, &quot;&quot;).trim();\r\n      }\r\n    }\r\n\r\n","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>I want to Import an XLSX-File with Help of Apache-POI (XSSF and SAX Event API).</p>\n\n<p>Because Excel stores numbers as floating-point numbers it is necessary in java to format them back to the way they originally look in Excel. This is possible by reading the cell-format:</p>\n\n<pre><code>String cellStyle = sheetReader.getAttributeValue(null, \"s\");\nif (cellStyle != null) {\n  // save the format of the cell for later use.\n  int styleIndex = Integer.parseInt(cellStyle);\n  XSSFCellStyle style = stylesTable.getStyleAt(styleIndex);\n  formatIndex = style.getDataFormat();\n  formatString = style.getDataFormatString();\n  if (formatString == null) {\n    // formatString could not be found, so it must be a builtin format.\n    formatString = BuiltinFormats.getBuiltinFormat(formatIndex);\n  }\n}\n...\n// format the floating-point value\nString xlsxValue = formatter.formatRawCellContents(\n  Double.parseDouble(value),\n  formatIndex,\n  formatString);\n</code></pre>\n\n<p>The above code does work well for me... but it gives me the numbers like they are originally formatted in Excel while running Excel in Germany Locale. Example for such numbers:</p>\n\n<pre><code>10,30\n100.00.00,43\n</code></pre>\n\n<p>Now how can i reformat those numbers so that they can be fed to Java Double and Java BigDecimal?</p>\n\n<p>Apache-POI seemingly does not provide Utility-Classes for this case, but how can the numbers be processed in java then?</p>\n\n<p>I have hacked my way into poi to make this happen like this, but is there no other way?</p>\n\n<pre><code>// hack apache-poi classes that are private, so we can retrieve the 'format'\n// which helps us to transform the formated value to the expected java-format\nCellStyle style = new CellStyleHack(formatIndex, formatString);\nCell cell = new CellHack(Double.parseDouble(xlsxValue), style);\n\njava.text.Format format = formatter.createFormat(cell);\nif (format instanceof DecimalFormat) {\n  DecimalFormat decimalFormat = ((DecimalFormat) format);\n  char dSep = decimalFormat.getDecimalFormatSymbols().getDecimalSeparator();\n  char gSep = decimalFormat.getDecimalFormatSymbols().getGroupingSeparator();\n  String cSymbol = decimalFormat.getDecimalFormatSymbols().getCurrencySymbol();\n\n  // java always expects '.' as decimal seperator for BigDecimal and Double.\n  xlsxValue = xlsxValue.replace(\"\" + gSep, \"\");\n  xlsxValue = xlsxValue.replace(dSep, '.');\n  if (cSymbol != null) {\n    xlsxValue = xlsxValue.replace(cSymbol, \"\").trim();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","aspectj"],"owner":{"account_id":4787468,"reputation":43,"user_id":3867517,"display_name":"Nandeesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667107495,"creation_date":1595697151,"question_id":63091200,"body_markdown":"I have two applied @Around and @After throwing annotation on a method. @Around method is doing Authorization, @After throwing is handling the exception when Authorization throws an exception, see the example below:\r\n\r\n```java\r\nclass AuthClass {\r\n\r\n    @Authorize\r\n    @HandleException\r\n    public String isValidUser() {\r\n        return &quot;yes&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect AuthorizeAdvice {\r\n\r\n    declare precedence : HandleExceptionAdvice;\r\n\r\n    pointcut authorizeRequest() : execution (@Authorize * *(..));\r\n\r\n    Object around() : authorizeRequest() {\r\n        //call method which throws exception\r\n        throw new AppException();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect HandleExceptionAdvice {\r\n\r\n    pointcut handleException() : execution (@HandleException  * *(..));\r\n\r\n    after() throwing(AppException e) : handleException() &amp;&amp; \r\n        !within(HandleException) {\r\n        //handle AppException here\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect CachingAspect {\r\n\r\n    pointcut cachePut() : execution(@Cacheable * *(..));\r\n\r\n    Object around() : cachePut() {\r\n      //do caching stuff\r\n    }\r\n}\r\n```\r\n\r\nMy question here is, when `AuthorizeAdvice` aspect throws `AppException`, `HandleExceptionAdvice` aspect intercepts the `AppException` and handling the exception perfectly. But the problem started when I added one more aspect `CachingAspect`. `CachingAspect` is not applied to any methods of `AuthClass` but `HandleExceptionAdvice` is not intercepting `AppException` when `AuthorizeAdvice` throws `AppException`.","title":"AspectJ @Around and @After throwing on same method is not working","body":"<p>I have two applied @Around and @After throwing annotation on a method. @Around method is doing Authorization, @After throwing is handling the exception when Authorization throws an exception, see the example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AuthClass {\n\n    @Authorize\n    @HandleException\n    public String isValidUser() {\n        return &quot;yes&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect AuthorizeAdvice {\n\n    declare precedence : HandleExceptionAdvice;\n\n    pointcut authorizeRequest() : execution (@Authorize * *(..));\n\n    Object around() : authorizeRequest() {\n        //call method which throws exception\n        throw new AppException();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect HandleExceptionAdvice {\n\n    pointcut handleException() : execution (@HandleException  * *(..));\n\n    after() throwing(AppException e) : handleException() &amp;&amp; \n        !within(HandleException) {\n        //handle AppException here\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect CachingAspect {\n\n    pointcut cachePut() : execution(@Cacheable * *(..));\n\n    Object around() : cachePut() {\n      //do caching stuff\n    }\n}\n</code></pre>\n<p>My question here is, when <code>AuthorizeAdvice</code> aspect throws <code>AppException</code>, <code>HandleExceptionAdvice</code> aspect intercepts the <code>AppException</code> and handling the exception perfectly. But the problem started when I added one more aspect <code>CachingAspect</code>. <code>CachingAspect</code> is not applied to any methods of <code>AuthClass</code> but <code>HandleExceptionAdvice</code> is not intercepting <code>AppException</code> when <code>AuthorizeAdvice</code> throws <code>AppException</code>.</p>\n"},{"tags":["java","runtime"],"comments":[{"owner":{"account_id":2915696,"reputation":12460,"user_id":2498956,"accept_rate":71,"display_name":"August"},"score":0,"creation_date":1451546644,"post_id":34542756,"comment_id":56827235,"body_markdown":"Are you supplying the online compiler with input to stdin?","body":"Are you supplying the online compiler with input to stdin?"},{"owner":{"account_id":3305982,"reputation":22309,"user_id":2780791,"accept_rate":65,"display_name":"Alexei - check Codidact"},"score":0,"creation_date":1451546681,"post_id":34542756,"comment_id":56827255,"body_markdown":"What is the line that throws the exception?","body":"What is the line that throws the exception?"}],"answers":[{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667107421,"creation_date":1451547764,"answer_id":34542972,"question_id":34542756,"body_markdown":"You&#39;re not checking scanner if it has more data to scan, that&#39;s why you&#39;re getting exception.\r\n\r\nSee the `throwFor` method defined in Scanner below.\r\n\r\n    // If we are at the end of input then NoSuchElement;\r\n    // If there is still input left then InputMismatch\r\n    private void throwFor() {\r\n        skipped = false;\r\n        if ((sourceClosed) &amp;&amp; (position == buf.limit()))\r\n            throw new NoSuchElementException();\r\n        else\r\n            throw new InputMismatchException();\r\n    }\r\n\r\nIn the comments it says that this is called when end of input has been reached.\r\n\r\nCorrect usage of Scanner is always something like below\r\n\r\n\tScanner scan = new Scanner(inputstream);\r\n\r\n\twhile(scan.hasNext()) {\r\n\t\t//read data\r\n\t}\r\n\r\nIt&#39;s same as reading a file, you&#39;ve to check for EOF(end of file) every time you try to read.\r\n\r\nIn your code correction can be applied like following.\r\n\r\n\timport java.util.*;\r\n\t\r\n\tclass head {\r\n\t\tpublic static void main(String arg[]) {\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint n = sc.nextInt();\r\n\t\t\tint c1 = 0, c2 = 0;\r\n\t\t\tint i;\r\n\t\t\twhile (n &gt; 0) {\r\n\t\t\t\t//check for EOF\r\n\t\t\t\tif(!sc.hasNext()) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tint l = sc.nextInt();\r\n\t\t\t\tString str = sc.next();\r\n\t\r\n\t\t\t\tfor (i = 0; i &lt; l; i++) {\r\n\t\t\t\t\tchar ch = str.charAt(i);\r\n\t\t\t\t\tif (ch == &#39;i&#39; || ch == &#39;I&#39;)\r\n\t\t\t\t\t\tc1++;\r\n\t\t\t\t\tif (ch == &#39;y&#39; || ch == &#39;Y&#39;)\r\n\t\t\t\t\t\tc2++;\r\n\t\t\t\t}\r\n\t\t\t\tif (c1 &gt; 0)\r\n\t\t\t\t\tSystem.out.println(&quot;INDIAN&quot;);\r\n\t\t\t\telse if (c2 &gt; 0)\r\n\t\t\t\t\tSystem.out.println(&quot;NOT INDIAN&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.println(&quot;NOT SURE&quot;);\r\n\t\t\t\tc1 = 0;\r\n\t\t\t\tc2 = 0;\r\n\t\t\t\tn--;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"facing runtime error on online compiler and not on command prompt","body":"<p>You're not checking scanner if it has more data to scan, that's why you're getting exception.</p>\n<p>See the <code>throwFor</code> method defined in Scanner below.</p>\n<pre><code>// If we are at the end of input then NoSuchElement;\n// If there is still input left then InputMismatch\nprivate void throwFor() {\n    skipped = false;\n    if ((sourceClosed) &amp;&amp; (position == buf.limit()))\n        throw new NoSuchElementException();\n    else\n        throw new InputMismatchException();\n}\n</code></pre>\n<p>In the comments it says that this is called when end of input has been reached.</p>\n<p>Correct usage of Scanner is always something like below</p>\n<pre><code>Scanner scan = new Scanner(inputstream);\n\nwhile(scan.hasNext()) {\n    //read data\n}\n</code></pre>\n<p>It's same as reading a file, you've to check for EOF(end of file) every time you try to read.</p>\n<p>In your code correction can be applied like following.</p>\n<pre><code>import java.util.*;\n\nclass head {\n    public static void main(String arg[]) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int c1 = 0, c2 = 0;\n        int i;\n        while (n &gt; 0) {\n            //check for EOF\n            if(!sc.hasNext()) {\n                break;\n            }\n            int l = sc.nextInt();\n            String str = sc.next();\n\n            for (i = 0; i &lt; l; i++) {\n                char ch = str.charAt(i);\n                if (ch == 'i' || ch == 'I')\n                    c1++;\n                if (ch == 'y' || ch == 'Y')\n                    c2++;\n            }\n            if (c1 &gt; 0)\n                System.out.println(&quot;INDIAN&quot;);\n            else if (c2 &gt; 0)\n                System.out.println(&quot;NOT INDIAN&quot;);\n            else\n                System.out.println(&quot;NOT SURE&quot;);\n            c1 = 0;\n            c2 = 0;\n            n--;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7373919,"reputation":23,"user_id":5613263,"display_name":"karan_13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34542972,"answer_count":1,"score":0,"last_activity_date":1667107421,"creation_date":1451546520,"question_id":34542756,"body_markdown":"I am not getting why this java code works fine in command prompt and not in online compiler and getting runtime error.\r\nI tried to find out the reason on web but didn&#39;t find suitable answer.\r\n\r\nits getiing runtime error-\r\n\r\n           Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.util.Scanner.throwFor(Scanner.java:862)\r\n\tat java.util.Scanner.next(Scanner.java:1485)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2117)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2076)\r\n\tat head.main(Main.java:9)\r\n\r\ncode is-\r\n\r\n\r\n\r\n           import java.util.*;\r\n\r\n\r\n           class head\r\n             {\r\n           public static void main(String arg[])\r\n            {\r\n           Scanner sc=new Scanner(System.in);\r\n            int n=sc.nextInt();\r\n            int c1=0,c2=0;\r\n            int i;\r\n            while(n&gt;0)\r\n            {\r\n            int l=sc.nextInt();\r\n            String str=sc.next();\r\n\r\n            for(i=0;i&lt;l;i++)\r\n            {\r\n            char ch=str.charAt(i);\r\n            if(ch==&#39;i&#39;||ch==&#39;I&#39;) \r\n            c1++;\r\n              if(ch==&#39;y&#39;||ch==&#39;Y&#39;)\r\n             c2++;\r\n             } \r\n             if(c1&gt;0)\r\n             System.out.println(&quot;INDIAN&quot;);\r\n            else if(c2&gt;0)\r\n            System.out.println(&quot;NOT INDIAN&quot;);\r\n            else \r\n            System.out.println(&quot;NOT SURE&quot;);\r\n            c1=0;\r\n            c2=0;\r\n            n--;\r\n            }\r\n           }\r\n         } ","title":"facing runtime error on online compiler and not on command prompt","body":"<p>I am not getting why this java code works fine in command prompt and not in online compiler and getting runtime error.\nI tried to find out the reason on web but didn't find suitable answer.</p>\n\n<p>its getiing runtime error-</p>\n\n<pre><code>       Exception in thread \"main\" java.util.NoSuchElementException\nat java.util.Scanner.throwFor(Scanner.java:862)\nat java.util.Scanner.next(Scanner.java:1485)\nat java.util.Scanner.nextInt(Scanner.java:2117)\nat java.util.Scanner.nextInt(Scanner.java:2076)\nat head.main(Main.java:9)\n</code></pre>\n\n<p>code is-</p>\n\n<pre><code>       import java.util.*;\n\n\n       class head\n         {\n       public static void main(String arg[])\n        {\n       Scanner sc=new Scanner(System.in);\n        int n=sc.nextInt();\n        int c1=0,c2=0;\n        int i;\n        while(n&gt;0)\n        {\n        int l=sc.nextInt();\n        String str=sc.next();\n\n        for(i=0;i&lt;l;i++)\n        {\n        char ch=str.charAt(i);\n        if(ch=='i'||ch=='I') \n        c1++;\n          if(ch=='y'||ch=='Y')\n         c2++;\n         } \n         if(c1&gt;0)\n         System.out.println(\"INDIAN\");\n        else if(c2&gt;0)\n        System.out.println(\"NOT INDIAN\");\n        else \n        System.out.println(\"NOT SURE\");\n        c1=0;\n        c2=0;\n        n--;\n        }\n       }\n     } \n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667120624,"post_id":74250574,"comment_id":131091774,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1667121617,"post_id":74250574,"comment_id":131091939,"body_markdown":"no photo acceptance, shapeableimageview empty in textview no info from firebase","body":"no photo acceptance, shapeableimageview empty in textview no info from firebase"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667105400,"creation_date":1667105400,"question_id":74250574,"body_markdown":"**Given**:method of receiving data which for some reason does not work.  adapter for using SwipeCard koloda library\r\n**Goal**: load photo and name from folder in firebase into shapeableimageview and textview respectively\r\n**Problem**: the method of receiving data does not work and the name and photo are not loaded from the folder.\r\nAdapter:\r\n```\r\npublic class SwipeAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n\r\n    private List&lt;Integer&gt; list;\r\n\r\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\r\n\r\n        this.context=context;\r\n\r\n        this.list=list;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public int getCount() {\r\n\r\n        return 20;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public Object getItem(int i) {\r\n\r\n        return null;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public long getItemId(int i) {\r\n\r\n        return 0;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public View getView(int i, View convertView, ViewGroup parent) {\r\n\r\n     View view;\r\n\r\n     if(convertView==null)\r\n\r\n     {\r\n\r\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\r\n\r\n     }else {\r\n\r\n         view=convertView;\r\n\r\n     }\r\n\r\n     return view;\r\n\r\n    }\r\n\r\n   \r\n\r\n}\r\n```\r\nActivity with a receive method\r\n\r\n```\r\nprivate SwipeAdapter adapter;\r\n\r\nprivate List&lt;Integer&gt; list;\r\n\r\nprivate TextView nameusercard;\r\n\r\nprivate ShapeableImageView imageosnovnoe;\r\n\r\nKoloda koloda;\r\n\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_home);\r\n\r\n        koloda=findViewById(R.id.koloda);\r\n\r\n        list=new ArrayList&lt;&gt;();\r\n\r\n        adapter=new SwipeAdapter(this,list);\r\n\r\n        koloda.setAdapter(adapter);\r\n\r\n        nameusercard=(TextView) findViewById(R.id.nameusercard);\r\n\r\n        imageosnovnoe=(ShapeableImageView) findViewById(R.id.imageosnovnoe);\r\n\r\n    }\r\n\r\nprivate void getUserWInfo()\r\n\r\n{\r\n\r\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\r\n\r\n            .child(&quot;Userw&quot;);\r\n\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n\r\n        @Override\r\n\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\r\n\r\n            {\r\n\r\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n                nameusercard.setText(name);\r\n\r\n                if (snapshot.hasChild(&quot;image&quot;)) {\r\n\r\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\r\n\r\n                    Picasso.get().load(image).into(imageosnovnoe);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n\r\n    });\r\n\r\n}\r\n\r\n}\r\n\r\n                    \r\n\r\n```\r\nXml item_koloda\r\n```\r\nLinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    android:orientation=&quot;vertical&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n\r\n    android:layout_gravity=&quot;center&quot;\r\n\r\n    android:gravity=&quot;center&quot;\r\n\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;500dp&quot;\r\n\r\n        android:layout_margin=&quot;15dp&quot;\r\n\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n\r\n        app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n\r\n            android:id=&quot;@+id/linearmain&quot;\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\n            android:layout_height=&quot;400dp&quot;\r\n\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n\r\n                android:id=&quot;@+id/imageosnovnoe&quot;\r\n\r\n                android:layout_width=&quot;match_parent&quot;\r\n\r\n                android:layout_height=&quot;400dp&quot;\r\n\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n\r\n                android:scaleType=&quot;fitXY&quot;\r\n\r\n                app:srcCompat=&quot;@drawable/aaaaa&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n\r\n                android:id=&quot;@+id/linearhori&quot;\r\n\r\n                android:layout_width=&quot;match_parent&quot;\r\n\r\n                android:layout_height=&quot;100dp&quot;\r\n\r\n                android:orientation=&quot;horizontal&quot;\r\n\r\n                android:layout_gravity=&quot;bottom&quot;\r\n\r\n                android:weightSum=&quot;3&quot;&gt;\r\n\r\n                &lt;ImageView\r\n\r\n                    android:id=&quot;@+id/like&quot;\r\n\r\n                    android:layout_width=&quot;90dp&quot;\r\n\r\n                    android:layout_height=&quot;90dp&quot;\r\n\r\n                    android:layout_gravity=&quot;center&quot;\r\n\r\n                    android:layout_weight=&quot;1&quot;\r\n\r\n                    android:src=&quot;@drawable/sas&quot;\r\n\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n\r\n                    android:id=&quot;@+id/disslike&quot;\r\n\r\n                    android:layout_width=&quot;90dp&quot;\r\n\r\n                    android:layout_height=&quot;90dp&quot;\r\n\r\n                    android:layout_gravity=&quot;center&quot;\r\n\r\n                    android:layout_weight=&quot;1&quot;\r\n\r\n                    android:src=&quot;@drawable/aan&quot;\r\n\r\n                    /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nI tried to register the method in the adapter but it didn&#39;t work either.","title":"how to display data in shapeableimageview from firebase?","body":"<p><strong>Given</strong>:method of receiving data which for some reason does not work.  adapter for using SwipeCard koloda library\n<strong>Goal</strong>: load photo and name from folder in firebase into shapeableimageview and textview respectively\n<strong>Problem</strong>: the method of receiving data does not work and the name and photo are not loaded from the folder.\nAdapter:</p>\n<pre><code>public class SwipeAdapter extends BaseAdapter {\n\n    private Context context;\n\n    private List&lt;Integer&gt; list;\n\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\n\n        this.context=context;\n\n        this.list=list;\n\n    }\n\n    @Override\n\n    public int getCount() {\n\n        return 20;\n\n    }\n\n    @Override\n\n    public Object getItem(int i) {\n\n        return null;\n\n    }\n\n    @Override\n\n    public long getItemId(int i) {\n\n        return 0;\n\n    }\n\n    @Override\n\n    public View getView(int i, View convertView, ViewGroup parent) {\n\n     View view;\n\n     if(convertView==null)\n\n     {\n\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\n\n     }else {\n\n         view=convertView;\n\n     }\n\n     return view;\n\n    }\n\n   \n\n}\n</code></pre>\n<p>Activity with a receive method</p>\n<pre><code>private SwipeAdapter adapter;\n\nprivate List&lt;Integer&gt; list;\n\nprivate TextView nameusercard;\n\nprivate ShapeableImageView imageosnovnoe;\n\nKoloda koloda;\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_home);\n\n        koloda=findViewById(R.id.koloda);\n\n        list=new ArrayList&lt;&gt;();\n\n        adapter=new SwipeAdapter(this,list);\n\n        koloda.setAdapter(adapter);\n\n        nameusercard=(TextView) findViewById(R.id.nameusercard);\n\n        imageosnovnoe=(ShapeableImageView) findViewById(R.id.imageosnovnoe);\n\n    }\n\nprivate void getUserWInfo()\n\n{\n\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\n\n            .child(&quot;Userw&quot;);\n\n    reference.addValueEventListener(new ValueEventListener() {\n\n        @Override\n\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\n\n            {\n\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\n\n                nameusercard.setText(name);\n\n                if (snapshot.hasChild(&quot;image&quot;)) {\n\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\n\n                    Picasso.get().load(image).into(imageosnovnoe);\n\n                }\n\n            }\n\n        }\n\n        @Override\n\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n\n    });\n\n}\n\n}\n\n                    \n\n</code></pre>\n<p>Xml item_koloda</p>\n<pre><code>LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    android:orientation=&quot;vertical&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n\n    android:layout_gravity=&quot;center&quot;\n\n    android:gravity=&quot;center&quot;\n\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;500dp&quot;\n\n        android:layout_margin=&quot;15dp&quot;\n\n        app:cardCornerRadius=&quot;15dp&quot;\n\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n\n            android:id=&quot;@+id/linearmain&quot;\n\n            android:layout_width=&quot;match_parent&quot;\n\n            android:layout_height=&quot;400dp&quot;\n\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n\n                android:id=&quot;@+id/imageosnovnoe&quot;\n\n                android:layout_width=&quot;match_parent&quot;\n\n                android:layout_height=&quot;400dp&quot;\n\n                android:backgroundTint=&quot;@color/white&quot;\n\n                android:scaleType=&quot;fitXY&quot;\n\n                app:srcCompat=&quot;@drawable/aaaaa&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n\n                android:id=&quot;@+id/linearhori&quot;\n\n                android:layout_width=&quot;match_parent&quot;\n\n                android:layout_height=&quot;100dp&quot;\n\n                android:orientation=&quot;horizontal&quot;\n\n                android:layout_gravity=&quot;bottom&quot;\n\n                android:weightSum=&quot;3&quot;&gt;\n\n                &lt;ImageView\n\n                    android:id=&quot;@+id/like&quot;\n\n                    android:layout_width=&quot;90dp&quot;\n\n                    android:layout_height=&quot;90dp&quot;\n\n                    android:layout_gravity=&quot;center&quot;\n\n                    android:layout_weight=&quot;1&quot;\n\n                    android:src=&quot;@drawable/sas&quot;\n\n                    /&gt;\n\n                &lt;ImageView\n\n                    android:id=&quot;@+id/disslike&quot;\n\n                    android:layout_width=&quot;90dp&quot;\n\n                    android:layout_height=&quot;90dp&quot;\n\n                    android:layout_gravity=&quot;center&quot;\n\n                    android:layout_weight=&quot;1&quot;\n\n                    android:src=&quot;@drawable/aan&quot;\n\n                    /&gt;\n\n            &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried to register the method in the adapter but it didn't work either.</p>\n"},{"tags":["java","collections","synchronized","concurrentmodification"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1667104668,"post_id":74250421,"comment_id":131089920,"body_markdown":"Have you read javadoc for `ConcurrentModificationException`? Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.","body":"Have you read javadoc for <code>ConcurrentModificationException</code>? Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667111014,"post_id":74250421,"comment_id":131090540,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667105202,"creation_date":1667105202,"answer_id":74250561,"question_id":74250421,"body_markdown":"The &quot;concurrent&quot; in `ConcurrentModificationException` has __nothing__ to do with threads. In fact, if you concurrently modify a collection in the sense of &#39;change it from 2 threads simultaneously&#39;, you _may_ get a ConcurrentModificationException, but you may not. The JVM has a lot of leeway.\r\n\r\nThe problem is much, much simpler. You did the following:\r\n\r\n1. Create an `iterator()` from a list.\r\n2. _After_ step 1, modify the list (and not via the iterator).\r\n3. Interact with the iterator made in step 1.\r\n\r\nThis trivially causes CoModEx, every time:\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Apple&quot;);\r\nlist.add(&quot;Pear&quot;);\r\nlist.add(&quot;Orange&quot;);\r\n\r\nfor (String item : list) {\r\n  if (item.equals(&quot;Pear&quot;)) list.remove(item);\r\n}\r\n```\r\n\r\nHere the list is modified (`list.remove(item)`) _after_ an iterator is made (`for ( x : y)` makes an iterator), and then after the modification, the iterator is interacted with (looping that for loop iteracts with it).\r\n\r\nThink about it: What does this even mean - what if the change you make affects something you haven&#39;t looped over yet. Do you expect the loop to still cover it, or not, or should it depend on where we are in the iteration? These are tricky questions. That&#39;s why the answer is &#39;nope, exception instead&#39;.\r\n\r\nSo, what do you do?\r\n\r\n1. Use `CopyOnWriteArrayList`. Which is probably overkill. These more or less let you iterate a copy.\r\n2. Instead of changing the list, register what you want to change, then after you are done looping, apply it.\r\n3. Instead of `for (String x : y)`, create a `listIterator` object and use that. Then, to modify the list, call methods on `listIterator` to modify it, which is fine.\r\n4. Use a database.\r\n","title":"Working of synchronized methods in Collection class","body":"<p>The &quot;concurrent&quot; in <code>ConcurrentModificationException</code> has <strong>nothing</strong> to do with threads. In fact, if you concurrently modify a collection in the sense of 'change it from 2 threads simultaneously', you <em>may</em> get a ConcurrentModificationException, but you may not. The JVM has a lot of leeway.</p>\n<p>The problem is much, much simpler. You did the following:</p>\n<ol>\n<li>Create an <code>iterator()</code> from a list.</li>\n<li><em>After</em> step 1, modify the list (and not via the iterator).</li>\n<li>Interact with the iterator made in step 1.</li>\n</ol>\n<p>This trivially causes CoModEx, every time:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Apple&quot;);\nlist.add(&quot;Pear&quot;);\nlist.add(&quot;Orange&quot;);\n\nfor (String item : list) {\n  if (item.equals(&quot;Pear&quot;)) list.remove(item);\n}\n</code></pre>\n<p>Here the list is modified (<code>list.remove(item)</code>) <em>after</em> an iterator is made (<code>for ( x : y)</code> makes an iterator), and then after the modification, the iterator is interacted with (looping that for loop iteracts with it).</p>\n<p>Think about it: What does this even mean - what if the change you make affects something you haven't looped over yet. Do you expect the loop to still cover it, or not, or should it depend on where we are in the iteration? These are tricky questions. That's why the answer is 'nope, exception instead'.</p>\n<p>So, what do you do?</p>\n<ol>\n<li>Use <code>CopyOnWriteArrayList</code>. Which is probably overkill. These more or less let you iterate a copy.</li>\n<li>Instead of changing the list, register what you want to change, then after you are done looping, apply it.</li>\n<li>Instead of <code>for (String x : y)</code>, create a <code>listIterator</code> object and use that. Then, to modify the list, call methods on <code>listIterator</code> to modify it, which is fine.</li>\n<li>Use a database.</li>\n</ol>\n"}],"owner":{"account_id":26125882,"reputation":1,"user_id":19817311,"display_name":"Parthiban Ramasamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667114010,"answer_count":1,"score":-2,"last_activity_date":1667105202,"creation_date":1667102434,"question_id":74250421,"body_markdown":"I try to understand the working of Concurrent modification exception in Java,\r\nInitially I tried Concurrent modification exception example with normal ArrayList and HashSet by removing elements while iterating,\r\nand then with help of CopyOnWriteArrayList &amp; CopyOnWriteArraySet, I resolved the Concurrent modification exception, Everything works fine.\r\nBut the problem is, when I implicitly make the set as synchronized with help of Collection.synchronized(set)\r\nmethod, still it throws the Concurrent modification exception.\r\nCopyOnWriteArrayList &amp; CopyOnWriteArraySet both are synchronized classes,so it doesnt throw Concurrent modification exception. Collection.synchronized(set) also returns synchronized set, then why it throws\r\nthe Concurrent modification exception.\r\n\r\nCan anyone explain what is issue here?\r\n\r\n\r\n\r\nHere is the sample program,\r\n\r\n[![enter image description here](https://i.stack.imgur.com/HulYb.png)](https://i.stack.imgur.com/HulYb.png)","title":"Working of synchronized methods in Collection class","body":"<p>I try to understand the working of Concurrent modification exception in Java,\nInitially I tried Concurrent modification exception example with normal ArrayList and HashSet by removing elements while iterating,\nand then with help of CopyOnWriteArrayList &amp; CopyOnWriteArraySet, I resolved the Concurrent modification exception, Everything works fine.\nBut the problem is, when I implicitly make the set as synchronized with help of Collection.synchronized(set)\nmethod, still it throws the Concurrent modification exception.\nCopyOnWriteArrayList &amp; CopyOnWriteArraySet both are synchronized classes,so it doesnt throw Concurrent modification exception. Collection.synchronized(set) also returns synchronized set, then why it throws\nthe Concurrent modification exception.</p>\n<p>Can anyone explain what is issue here?</p>\n<p>Here is the sample program,</p>\n<p><a href=\"https://i.stack.imgur.com/HulYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HulYb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667076866,"creation_date":1667076866,"answer_id":74248753,"question_id":74248577,"body_markdown":"You can not use applicationcontext in here, but if you want you need to add flags to the intent. So easier method for you to use &quot;this&quot; instead:\r\n```\r\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(this, FoodAddReminder.class);\r\n                startActivity(intent);\r\n                //Starts the new activity to add Reminders\r\n            }\r\n        });\r\n```","title":"Why is second floating action button not working?","body":"<p>You can not use applicationcontext in here, but if you want you need to add flags to the intent. So easier method for you to use &quot;this&quot; instead:</p>\n<pre><code>        mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(this, FoodAddReminder.class);\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667104350,"creation_date":1667092348,"answer_id":74249907,"question_id":74248577,"body_markdown":"We can only &quot;guess&quot; why, but &quot;**not working**&quot; and &quot;**app keeps stopping**&quot; could mean a lot of things and you didn&#39;t provide any `Log` information or an `Exception stacktrace`. Its also hard to guess what `FoodAddReminder.class` is, if its an `activity`,  make sure its declared in your `AndroidManifest.xml`\r\n\r\n\r\n    mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(this, FoodAddReminder.class); // &lt;-- is this an activity?\r\n                    startActivity(intent);\r\n                    //Starts the new activity to add Reminders\r\n                }\r\n            });\r\n\r\nCheck your `AndroidManifest.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.me.my.project&quot;&gt;\r\n        &lt;application &gt;\r\n            &lt;activity\r\n                android:name=&quot;.FoodAddReminder&quot;/&gt;  &lt;!-- here --&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nIf that is not the issue, I suspect that using `getApplicationContext()`, you&#39;re having this crash log\r\n\r\n&gt;AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this\r\n&gt; really what you want?\r\n\r\nYou should then tell the system you want to start a new task,\r\n\r\n    public void onClick(View v) {\r\n            Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n     }\r\n\r\nBut I would suggest not doing it, instead use your `FoodActivity` as your calling activity to `FoodReminder` in this case, and pay attention to `this`, it should be prefixed with `FoodActivity` otherwise it will refer to its enclosing anonymous `OnClickListener` instance.\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n           Intent intent = new Intent(FoodActivity.this, FoodAddReminder.class);\r\n           startActivity(intent);\r\n    }\r\n\r\nIf none of these solved your &quot;not working&quot; issue, please provide a more specific Log information and reduce your code to something that is copy-and-paste-able. ","title":"Why is second floating action button not working?","body":"<p>We can only &quot;guess&quot; why, but &quot;<strong>not working</strong>&quot; and &quot;<strong>app keeps stopping</strong>&quot; could mean a lot of things and you didn't provide any <code>Log</code> information or an <code>Exception stacktrace</code>. Its also hard to guess what <code>FoodAddReminder.class</code> is, if its an <code>activity</code>,  make sure its declared in your <code>AndroidManifest.xml</code></p>\n<pre><code>mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(this, FoodAddReminder.class); // &lt;-- is this an activity?\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n</code></pre>\n<p>Check your <code>AndroidManifest.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.me.my.project&quot;&gt;\n    &lt;application &gt;\n        &lt;activity\n            android:name=&quot;.FoodAddReminder&quot;/&gt;  &lt;!-- here --&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>If that is not the issue, I suspect that using <code>getApplicationContext()</code>, you're having this crash log</p>\n<blockquote>\n<p>AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this\nreally what you want?</p>\n</blockquote>\n<p>You should then tell the system you want to start a new task,</p>\n<pre><code>public void onClick(View v) {\n        Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n }\n</code></pre>\n<p>But I would suggest not doing it, instead use your <code>FoodActivity</code> as your calling activity to <code>FoodReminder</code> in this case, and pay attention to <code>this</code>, it should be prefixed with <code>FoodActivity</code> otherwise it will refer to its enclosing anonymous <code>OnClickListener</code> instance.</p>\n<pre><code>@Override\npublic void onClick(View v) {\n       Intent intent = new Intent(FoodActivity.this, FoodAddReminder.class);\n       startActivity(intent);\n}\n</code></pre>\n<p>If none of these solved your &quot;not working&quot; issue, please provide a more specific Log information and reduce your code to something that is copy-and-paste-able.</p>\n"}],"owner":{"account_id":26771677,"reputation":11,"user_id":20367958,"display_name":"Roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667104350,"creation_date":1667075143,"question_id":74248577,"body_markdown":"I&#39;m a beginner in android app making and I&#39;m trying to do an app for a project. I found this tutorial and I&#39;m currently trying to put to apps together in android studio. Both are reminders apps, however the second one (the food one), the FAB is not working it register the touch but when it does it says APP keeps stopping. If anybody can help me I&#39;ll appreciated. \r\n\r\nFirst Reminder .java\r\n\r\n\r\n```\r\npublic class MedicineActivity extends AppCompatActivity {\r\n\r\n    @BindView(R.id.compactcalendar_view)\r\n    CompactCalendarView mCompactCalendarView;\r\n\r\n    @BindView(R.id.date_picker_text_view)\r\n    TextView datePickerTextView;\r\n\r\n    @BindView(R.id.date_picker_button)\r\n    RelativeLayout datePickerButton;\r\n\r\n    @BindView(R.id.toolbar)\r\n    Toolbar toolbar;\r\n\r\n    @BindView(R.id.collapsingToolbarLayout)\r\n    CollapsingToolbarLayout collapsingToolbarLayout;\r\n\r\n    @BindView(R.id.app_bar_layout)\r\n    AppBarLayout appBarLayout;\r\n\r\n    @BindView(R.id.contentFrame)\r\n    FrameLayout contentFrame;\r\n\r\n    @BindView(R.id.fab_add_task)\r\n    FloatingActionButton fabAddTask;\r\n\r\n   @BindView(R.id.coordinatorLayout)\r\n    CoordinatorLayout coordinatorLayout;\r\n\r\n    @BindView(R.id.date_picker_arrow)\r\n    ImageView arrow;\r\n\r\n    private MedicinePresenter presenter;\r\n\r\n    private SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMM dd&quot;, /*Locale.getDefault()*/Locale.ENGLISH);\r\n\r\n    private boolean isExpanded = false;\r\n\r\n    public ImageButton imageButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_medicine);\r\n        ButterKnife.bind(this);\r\n        setSupportActionBar(toolbar);\r\n\r\n        imageButton = (ImageButton) findViewById(R.id.image2button);\r\n\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent= new Intent(MedicineActivity.this,dashboard_screen.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        mCompactCalendarView.setLocale(TimeZone.getDefault(), /*Locale.getDefault()*/Locale.ENGLISH);\r\n\r\n        mCompactCalendarView.setShouldDrawDaysHeader(true);\r\n\r\n        mCompactCalendarView.setListener(new CompactCalendarView.CompactCalendarViewListener() {\r\n            @Override\r\n            public void onDayClick(Date dateClicked) {\r\n                setSubtitle(dateFormat.format(dateClicked));\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setTime(dateClicked);\r\n\r\n                int day = calendar.get(Calendar.DAY_OF_WEEK);\r\n\r\n                if (isExpanded) {\r\n                    ViewCompat.animate(arrow).rotation(0).start();\r\n                } else {\r\n                    ViewCompat.animate(arrow).rotation(180).start();\r\n                }\r\n                isExpanded = !isExpanded;\r\n                appBarLayout.setExpanded(isExpanded, true);\r\n                presenter.reload(day);\r\n            }\r\n\r\n            @Override\r\n            public void onMonthScroll(Date firstDayOfNewMonth) {\r\n                setSubtitle(dateFormat.format(firstDayOfNewMonth));\r\n            }\r\n        });\r\n        setCurrentDate(new Date());\r\n        MedicineFragment medicineFragment = (MedicineFragment) getSupportFragmentManager().findFragmentById(R.id.contentFrame);\r\n        if (medicineFragment == null) {\r\n            medicineFragment = MedicineFragment.newInstance();\r\n            ActivityUtils.addFragmentToActivity(getSupportFragmentManager(), medicineFragment, R.id.contentFrame);\r\n        }\r\n\r\n        //Create MedicinePresenter\r\n        presenter = new MedicinePresenter(Injection.provideMedicineRepository(MedicineActivity.this), medicineFragment);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.medicine_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == R.id.menu_stats) {\r\n            Intent intent = new Intent(this, MonthlyReportActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void setCurrentDate(Date date) {\r\n        setSubtitle(dateFormat.format(date));\r\n        mCompactCalendarView.setCurrentDate(date);\r\n    }\r\n\r\n    public void setSubtitle(String subtitle) {\r\n        datePickerTextView.setText(subtitle);\r\n    }\r\n\r\n    @OnClick(R.id.date_picker_button)\r\n    void onDatePickerButtonClicked() {\r\n        if (isExpanded) {\r\n            ViewCompat.animate(arrow).rotation(0).start();\r\n        } else {\r\n            ViewCompat.animate(arrow).rotation(180).start();\r\n        }\r\n\r\n        isExpanded = !isExpanded;\r\n        appBarLayout.setExpanded(isExpanded, true);\r\n    }\r\n}\r\n```\r\n\r\nFirst Reminder XML File\r\n\r\n\r\n```\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:id=&quot;@+id/coordinatorLayout&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/app_bar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\r\n        app:expanded=&quot;false&quot;\r\n        app:layout_behavior=&quot;com.gautam.medicinetime.utils.ScrollingCalendarBehavior&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:id=&quot;@+id/collapsingToolbarLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n            app:titleEnabled=&quot;false&quot;\r\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\r\n            app:statusBarScrim=&quot;?attr/colorPrimaryDark&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/compactcalendar_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;250dp&quot;\r\n                android:paddingTop=&quot;?attr/actionBarSize&quot;\r\n                app:layout_collapseMode=&quot;parallax&quot;\r\n                app:layout_collapseParallaxMultiplier=&quot;1.0&quot;&gt;\r\n\r\n                &lt;com.github.sundeepk.compactcalendarview.CompactCalendarView\r\n                    android:id=&quot;@+id/compactcalendar_view&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingLeft=&quot;10dp&quot;\r\n                    android:paddingRight=&quot;10dp&quot;\r\n                    app:compactCalendarBackgroundColor=&quot;?attr/colorPrimary&quot;\r\n                    app:compactCalendarCurrentDayBackgroundColor=&quot;#FFC107&quot;\r\n                    app:compactCalendarCurrentSelectedDayBackgroundColor=&quot;#BBDEFB&quot;\r\n                    app:compactCalendarTextColor=&quot;#fff&quot;\r\n                    app:compactCalendarTextSize=&quot;12sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                style=&quot;@style/ToolbarStyle&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:id=&quot;@+id/date_picker_button&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?android:selectableItemBackground&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/date_picker_text_view&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:ellipsize=&quot;end&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        android:textColor=&quot;@android:color/white&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/date_picker_arrow&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignBottom=&quot;@id/date_picker_text_view&quot;\r\n                        android:layout_toRightOf=&quot;@id/date_picker_text_view&quot;\r\n                        app:srcCompat=&quot;@drawable/ic_arrow_drop_down&quot;\r\n                        tools:ignore=&quot;ContentDescription,RtlHardcoded&quot; /&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/relativeLayout2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:backgroundTint=&quot;@color/design_default_color_background&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/image2button&quot;\r\n                android:layout_width=&quot;48dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:background=&quot;@drawable/roundbutton&quot;\r\n                android:src=&quot;@drawable/menu_icon&quot;\r\n                android:text=&quot;Button&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.046&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab_add_task&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;@dimen/sixteen_dp&quot;\r\n        app:fabSize=&quot;normal&quot;\r\n        app:layout_anchor=&quot;@+id/relativeLayout2&quot;\r\n        app:layout_anchorGravity=&quot;end|bottom&quot;\r\n        app:srcCompat=&quot;@drawable/ic_add&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/contentFrame&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;674dp&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nSecond Remider .java\r\n\r\n\r\n```\r\npublic class FoodActivity extends AppCompatActivity {\r\n\r\n    FloatingActionButton mCreateRem;\r\n    RecyclerView mRecyclerview;\r\n    ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\r\n    //Array list to add reminders and display in recyclerview\r\n    myAdapter adapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_food);\r\n\r\n        mRecyclerview = (RecyclerView) findViewById(R.id.recyclerView_food);\r\n        mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n        mCreateRem = (FloatingActionButton) findViewById(R.id.create_reminder);\r\n        //Floating action button to change activity\r\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\r\n                startActivity(intent);\r\n                //Starts the new activity to add Reminders\r\n            }\r\n        });\r\n\r\n        Cursor cursor = new dbManager(getApplicationContext()).readallreminders();\r\n        //Cursor To Load data From the database\r\n        while (cursor.moveToNext()) {\r\n            Model model = new Model (cursor.getString(1), cursor.getString(2), cursor.getString(3));\r\n            dataholder.add(model);\r\n        }\r\n\r\n        adapter = new myAdapter(dataholder);\r\n        mRecyclerview.setAdapter(adapter);\r\n        //Binds the adapter with recyclerview\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        finish();\r\n        //Makes the user to exit from the app\r\n        super.onBackPressed();\r\n\r\n    }\r\n}\r\n```\r\n\r\nSecond Reminder XML file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FoodActivity&quot;\r\n    android:id=&quot;@+id/Food_Container&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/FoodToolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellow_light&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;What&#39;s on you firdge?&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView_food&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBaseline_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/FoodToolbar&quot;\r\n        tools:layout_editor_absoluteX=&quot;-4dp&quot; /&gt;\r\n\r\n         &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;No food reminder added\\n + Add now&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/recyclerView_food&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/recyclerView_food&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/FoodToolbar&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.523&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;379dp&quot;\r\n            android:layout_height=&quot;46dp&quot;\r\n            android:src=&quot;@drawable/food_icon&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/FoodToolbar&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.966&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/create_reminder&quot;\r\n        android:layout_width=&quot;65dp&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\r\n        app:backgroundTint=&quot;@color/yellow_light&quot;\r\n        app:layout_anchorGravity=&quot;right|bottom&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.928&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.961&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n","title":"Why is second floating action button not working?","body":"<p>I'm a beginner in android app making and I'm trying to do an app for a project. I found this tutorial and I'm currently trying to put to apps together in android studio. Both are reminders apps, however the second one (the food one), the FAB is not working it register the touch but when it does it says APP keeps stopping. If anybody can help me I'll appreciated.</p>\n<p>First Reminder .java</p>\n<pre><code>public class MedicineActivity extends AppCompatActivity {\n\n    @BindView(R.id.compactcalendar_view)\n    CompactCalendarView mCompactCalendarView;\n\n    @BindView(R.id.date_picker_text_view)\n    TextView datePickerTextView;\n\n    @BindView(R.id.date_picker_button)\n    RelativeLayout datePickerButton;\n\n    @BindView(R.id.toolbar)\n    Toolbar toolbar;\n\n    @BindView(R.id.collapsingToolbarLayout)\n    CollapsingToolbarLayout collapsingToolbarLayout;\n\n    @BindView(R.id.app_bar_layout)\n    AppBarLayout appBarLayout;\n\n    @BindView(R.id.contentFrame)\n    FrameLayout contentFrame;\n\n    @BindView(R.id.fab_add_task)\n    FloatingActionButton fabAddTask;\n\n   @BindView(R.id.coordinatorLayout)\n    CoordinatorLayout coordinatorLayout;\n\n    @BindView(R.id.date_picker_arrow)\n    ImageView arrow;\n\n    private MedicinePresenter presenter;\n\n    private SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMM dd&quot;, /*Locale.getDefault()*/Locale.ENGLISH);\n\n    private boolean isExpanded = false;\n\n    public ImageButton imageButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_medicine);\n        ButterKnife.bind(this);\n        setSupportActionBar(toolbar);\n\n        imageButton = (ImageButton) findViewById(R.id.image2button);\n\n        imageButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent= new Intent(MedicineActivity.this,dashboard_screen.class);\n                startActivity(intent);\n            }\n        });\n\n\n\n        mCompactCalendarView.setLocale(TimeZone.getDefault(), /*Locale.getDefault()*/Locale.ENGLISH);\n\n        mCompactCalendarView.setShouldDrawDaysHeader(true);\n\n        mCompactCalendarView.setListener(new CompactCalendarView.CompactCalendarViewListener() {\n            @Override\n            public void onDayClick(Date dateClicked) {\n                setSubtitle(dateFormat.format(dateClicked));\n                Calendar calendar = Calendar.getInstance();\n                calendar.setTime(dateClicked);\n\n                int day = calendar.get(Calendar.DAY_OF_WEEK);\n\n                if (isExpanded) {\n                    ViewCompat.animate(arrow).rotation(0).start();\n                } else {\n                    ViewCompat.animate(arrow).rotation(180).start();\n                }\n                isExpanded = !isExpanded;\n                appBarLayout.setExpanded(isExpanded, true);\n                presenter.reload(day);\n            }\n\n            @Override\n            public void onMonthScroll(Date firstDayOfNewMonth) {\n                setSubtitle(dateFormat.format(firstDayOfNewMonth));\n            }\n        });\n        setCurrentDate(new Date());\n        MedicineFragment medicineFragment = (MedicineFragment) getSupportFragmentManager().findFragmentById(R.id.contentFrame);\n        if (medicineFragment == null) {\n            medicineFragment = MedicineFragment.newInstance();\n            ActivityUtils.addFragmentToActivity(getSupportFragmentManager(), medicineFragment, R.id.contentFrame);\n        }\n\n        //Create MedicinePresenter\n        presenter = new MedicinePresenter(Injection.provideMedicineRepository(MedicineActivity.this), medicineFragment);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.medicine_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.menu_stats) {\n            Intent intent = new Intent(this, MonthlyReportActivity.class);\n            startActivity(intent);\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void setCurrentDate(Date date) {\n        setSubtitle(dateFormat.format(date));\n        mCompactCalendarView.setCurrentDate(date);\n    }\n\n    public void setSubtitle(String subtitle) {\n        datePickerTextView.setText(subtitle);\n    }\n\n    @OnClick(R.id.date_picker_button)\n    void onDatePickerButtonClicked() {\n        if (isExpanded) {\n            ViewCompat.animate(arrow).rotation(0).start();\n        } else {\n            ViewCompat.animate(arrow).rotation(180).start();\n        }\n\n        isExpanded = !isExpanded;\n        appBarLayout.setExpanded(isExpanded, true);\n    }\n}\n</code></pre>\n<p>First Reminder XML File</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n     android:id=&quot;@+id/coordinatorLayout&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/app_bar_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\n        app:expanded=&quot;false&quot;\n        app:layout_behavior=&quot;com.gautam.medicinetime.utils.ScrollingCalendarBehavior&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsingToolbarLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\n            app:titleEnabled=&quot;false&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\n            app:statusBarScrim=&quot;?attr/colorPrimaryDark&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/compactcalendar_view_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;250dp&quot;\n                android:paddingTop=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;parallax&quot;\n                app:layout_collapseParallaxMultiplier=&quot;1.0&quot;&gt;\n\n                &lt;com.github.sundeepk.compactcalendarview.CompactCalendarView\n                    android:id=&quot;@+id/compactcalendar_view&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:paddingLeft=&quot;10dp&quot;\n                    android:paddingRight=&quot;10dp&quot;\n                    app:compactCalendarBackgroundColor=&quot;?attr/colorPrimary&quot;\n                    app:compactCalendarCurrentDayBackgroundColor=&quot;#FFC107&quot;\n                    app:compactCalendarCurrentSelectedDayBackgroundColor=&quot;#BBDEFB&quot;\n                    app:compactCalendarTextColor=&quot;#fff&quot;\n                    app:compactCalendarTextSize=&quot;12sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                style=&quot;@style/ToolbarStyle&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;pin&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:id=&quot;@+id/date_picker_button&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\n                    android:background=&quot;?android:selectableItemBackground&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/date_picker_text_view&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:ellipsize=&quot;end&quot;\n                        android:maxLines=&quot;1&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;18sp&quot;\n                        android:textColor=&quot;@android:color/white&quot; /&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/date_picker_arrow&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignBottom=&quot;@id/date_picker_text_view&quot;\n                        android:layout_toRightOf=&quot;@id/date_picker_text_view&quot;\n                        app:srcCompat=&quot;@drawable/ic_arrow_drop_down&quot;\n                        tools:ignore=&quot;ContentDescription,RtlHardcoded&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/relativeLayout2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/design_default_color_background&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/image2button&quot;\n                android:layout_width=&quot;48dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:background=&quot;@drawable/roundbutton&quot;\n                android:src=&quot;@drawable/menu_icon&quot;\n                android:text=&quot;Button&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.046&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab_add_task&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/sixteen_dp&quot;\n        app:fabSize=&quot;normal&quot;\n        app:layout_anchor=&quot;@+id/relativeLayout2&quot;\n        app:layout_anchorGravity=&quot;end|bottom&quot;\n        app:srcCompat=&quot;@drawable/ic_add&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/contentFrame&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;674dp&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Second Remider .java</p>\n<pre><code>public class FoodActivity extends AppCompatActivity {\n\n    FloatingActionButton mCreateRem;\n    RecyclerView mRecyclerview;\n    ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\n    //Array list to add reminders and display in recyclerview\n    myAdapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_food);\n\n        mRecyclerview = (RecyclerView) findViewById(R.id.recyclerView_food);\n        mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n        mCreateRem = (FloatingActionButton) findViewById(R.id.create_reminder);\n        //Floating action button to change activity\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n\n        Cursor cursor = new dbManager(getApplicationContext()).readallreminders();\n        //Cursor To Load data From the database\n        while (cursor.moveToNext()) {\n            Model model = new Model (cursor.getString(1), cursor.getString(2), cursor.getString(3));\n            dataholder.add(model);\n        }\n\n        adapter = new myAdapter(dataholder);\n        mRecyclerview.setAdapter(adapter);\n        //Binds the adapter with recyclerview\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        finish();\n        //Makes the user to exit from the app\n        super.onBackPressed();\n\n    }\n}\n</code></pre>\n<p>Second Reminder XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FoodActivity&quot;\n    android:id=&quot;@+id/Food_Container&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/FoodToolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellow_light&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:title=&quot;What's on you firdge?&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView_food&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBaseline_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/FoodToolbar&quot;\n        tools:layout_editor_absoluteX=&quot;-4dp&quot; /&gt;\n\n         &lt;TextView\n            android:id=&quot;@+id/textView4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;No food reminder added\\n + Add now&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;18dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/recyclerView_food&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/recyclerView_food&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/FoodToolbar&quot;\n            app:layout_constraintVertical_bias=&quot;0.523&quot;\n            android:visibility=&quot;gone&quot;\n            /&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;379dp&quot;\n            android:layout_height=&quot;46dp&quot;\n            android:src=&quot;@drawable/food_icon&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/FoodToolbar&quot;\n            app:layout_constraintVertical_bias=&quot;0.966&quot;\n            android:visibility=&quot;gone&quot;\n            /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/create_reminder&quot;\n        android:layout_width=&quot;65dp&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\n        app:backgroundTint=&quot;@color/yellow_light&quot;\n        app:layout_anchorGravity=&quot;right|bottom&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.928&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.961&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667120459,"post_id":74250254,"comment_id":131091759,"body_markdown":"Have you solved the issue? Have you tried Frank&#39;s suggestion?","body":"Have you solved the issue? Have you tried Frank&#39;s suggestion?"}],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667102663,"creation_date":1667100989,"answer_id":74250345,"question_id":74250254,"body_markdown":"In your Firebase the value of your month is in integer but you are querying the month&#39;s name instead. Should you be passing position instead like\r\n\r\n```\r\nquery = ref.orderByChild(&quot;month&quot;).equalTo(position);\r\n```","title":"Filtering by month using spinner in recyclerview in android studio firebase database","body":"<p>In your Firebase the value of your month is in integer but you are querying the month's name instead. Should you be passing position instead like</p>\n<pre><code>query = ref.orderByChild(&quot;month&quot;).equalTo(position);\n</code></pre>\n"}],"owner":{"account_id":26769544,"reputation":11,"user_id":20366171,"display_name":"Zephyr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667102663,"creation_date":1667099125,"question_id":74250254,"body_markdown":"0\r\n\r\n\r\nI&#39;m using Android Studio and firebase as my database, I tried this and still unknown on what to do in this if condition, I just need what to put in if statement to filter the information I get by month. his is the app im trying to sort it by month, tried sort to january, BUT appointments from month 9 still shows up \r\n[![this is the database](https://i.stack.imgur.com/qpEly.png)](https://i.stack.imgur.com/qpEly.png)\r\n[![this is the app](https://i.stack.imgur.com/f0L3s.png)](https://i.stack.imgur.com/f0L3s.png)\r\n\r\n```\r\npublic class adminAppoinment extends AppCompatActivity {\r\n\r\n    ImageView drawerButton;\r\n    RecyclerView recyclerView;\r\n    List&lt;Bookings&gt;bookingsList;\r\n    List&lt;ModelUser&gt;modelUsers;\r\n    AppointmentAdapter appointmentAdapter;\r\n    Spinner months;\r\n    String month;\r\n\r\n    private ActivityAdminAppoinmentBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityAdminAppoinmentBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        NavigationView navigationView = (binding.navView);\r\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\r\n\r\n        DrawerLayout drawerLayout = (binding.drawerLayout);\r\n        drawerButton = (binding.hamburger);\r\n\r\n        drawerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                drawerLayout.openDrawer(GravityCompat.START);\r\n            }\r\n        });\r\n\r\n        recyclerView = binding.recyclerView;\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplication()));\r\n        bookingsList = new ArrayList&lt;&gt;();\r\n        modelUsers = new ArrayList&lt;&gt;();\r\n\r\n        months = binding.spinner3;\r\n\r\n        ArrayAdapter&lt;CharSequence&gt;adapterMonth = ArrayAdapter.createFromResource(this,R.array.months, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\r\n        adapterMonth.setDropDownViewResource(androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\r\n        months.setAdapter(adapterMonth);\r\n        months.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                month = parent.getItemAtPosition(position).toString();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\r\n                Query query;\r\n                //if january then 1, then filter by month 1 from database\r\n\r\n                if (position == 1){\r\n                     query = ref.child(&quot;bookingDetails&quot;).orderByChild(&quot;month&quot;).equalTo(&quot;January&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                getAllBooks();\r\n\r\n            }\r\n        });\r\n\r\n\r\n        getAllBooks();\r\n\r\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case R.id.nav_home:\r\n                        startActivity(new Intent(getApplication(), govethome2.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                    case R.id.nav_adminUsers:\r\n                        startActivity(new Intent(getApplication(),adminUsers.class));\r\n                        finishAfterTransition();\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        item.setChecked(true);\r\n                        break;\r\n                    case R.id.nav_adminAppointment:\r\n                        item.setChecked(true);\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        break;\r\n                    case R.id.nav_adminOnlinePayment:\r\n                        startActivity(new Intent(getApplication(),adminOnlinePayments.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                    case R.id.nav_adminSettings:\r\n                        startActivity(new Intent(getApplication(),adminSettings.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void getAllBooks() {\r\n        DatabaseReference mDatabase =FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;);\r\n\r\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                bookingsList.clear();\r\n                for(DataSnapshot ds : snapshot.getChildren()){\r\n                    Bookings bookings = ds.getValue(Bookings.class);\r\n                    if(!bookings.getName().equals(firebaseUser.getDisplayName())){\r\n                        bookingsList.add(bookings);\r\n                    }\r\n\r\n                    appointmentAdapter = new AppointmentAdapter(getApplication(), bookingsList);\r\n                    recyclerView.setAdapter(appointmentAdapter);\r\n                    recyclerView.setVisibility(View.VISIBLE);\r\n\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Filtering by month using spinner in recyclerview in android studio firebase database","body":"<p>0</p>\n<p>I'm using Android Studio and firebase as my database, I tried this and still unknown on what to do in this if condition, I just need what to put in if statement to filter the information I get by month. his is the app im trying to sort it by month, tried sort to january, BUT appointments from month 9 still shows up\n<a href=\"https://i.stack.imgur.com/qpEly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qpEly.png\" alt=\"this is the database\" /></a>\n<a href=\"https://i.stack.imgur.com/f0L3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f0L3s.png\" alt=\"this is the app\" /></a></p>\n<pre><code>public class adminAppoinment extends AppCompatActivity {\n\n    ImageView drawerButton;\n    RecyclerView recyclerView;\n    List&lt;Bookings&gt;bookingsList;\n    List&lt;ModelUser&gt;modelUsers;\n    AppointmentAdapter appointmentAdapter;\n    Spinner months;\n    String month;\n\n    private ActivityAdminAppoinmentBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityAdminAppoinmentBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        NavigationView navigationView = (binding.navView);\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\n\n        DrawerLayout drawerLayout = (binding.drawerLayout);\n        drawerButton = (binding.hamburger);\n\n        drawerButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                drawerLayout.openDrawer(GravityCompat.START);\n            }\n        });\n\n        recyclerView = binding.recyclerView;\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplication()));\n        bookingsList = new ArrayList&lt;&gt;();\n        modelUsers = new ArrayList&lt;&gt;();\n\n        months = binding.spinner3;\n\n        ArrayAdapter&lt;CharSequence&gt;adapterMonth = ArrayAdapter.createFromResource(this,R.array.months, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\n        adapterMonth.setDropDownViewResource(androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\n        months.setAdapter(adapterMonth);\n        months.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                month = parent.getItemAtPosition(position).toString();\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\n                Query query;\n                //if january then 1, then filter by month 1 from database\n\n                if (position == 1){\n                     query = ref.child(&quot;bookingDetails&quot;).orderByChild(&quot;month&quot;).equalTo(&quot;January&quot;);\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                getAllBooks();\n\n            }\n        });\n\n\n        getAllBooks();\n\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.nav_home:\n                        startActivity(new Intent(getApplication(), govethome2.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                    case R.id.nav_adminUsers:\n                        startActivity(new Intent(getApplication(),adminUsers.class));\n                        finishAfterTransition();\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        item.setChecked(true);\n                        break;\n                    case R.id.nav_adminAppointment:\n                        item.setChecked(true);\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        break;\n                    case R.id.nav_adminOnlinePayment:\n                        startActivity(new Intent(getApplication(),adminOnlinePayments.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                    case R.id.nav_adminSettings:\n                        startActivity(new Intent(getApplication(),adminSettings.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                }\n\n                return true;\n            }\n        });\n\n\n    }\n\n    private void getAllBooks() {\n        DatabaseReference mDatabase =FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;);\n\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\n\n        ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                bookingsList.clear();\n                for(DataSnapshot ds : snapshot.getChildren()){\n                    Bookings bookings = ds.getValue(Bookings.class);\n                    if(!bookings.getName().equals(firebaseUser.getDisplayName())){\n                        bookingsList.add(bookings);\n                    }\n\n                    appointmentAdapter = new AppointmentAdapter(getApplication(), bookingsList);\n                    recyclerView.setAdapter(appointmentAdapter);\n                    recyclerView.setVisibility(View.VISIBLE);\n\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","switch-statement","lexical-analysis"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667092914,"post_id":74249899,"comment_id":131088840,"body_markdown":"Well, `getNonBlank()` could be an obvious culprit.  Could you show its source code?","body":"Well, <code>getNonBlank()</code> could be an obvious culprit.  Could you show its source code?"},{"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"score":0,"creation_date":1667093209,"post_id":74249899,"comment_id":131088874,"body_markdown":"@markspace added to the original post","body":"@markspace added to the original post"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667094403,"post_id":74249899,"comment_id":131088968,"body_markdown":"Honestly your code is kind of convoluted and there&#39;s still a lot that&#39;s not being shown.  I think it would be best if you produced a runnable example that shows the error.  [mcve]","body":"Honestly your code is kind of convoluted and there&#39;s still a lot that&#39;s not being shown.  I think it would be best if you produced a runnable example that shows the error.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"score":0,"creation_date":1667096453,"post_id":74249899,"comment_id":131089209,"body_markdown":"@markspace I updated it. Tried my best to take out as much as I can.","body":"@markspace I updated it. Tried my best to take out as much as I can."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1667099608,"post_id":74249899,"comment_id":131089466,"body_markdown":"The short answer is that when you call `lookup()` your index `charIndex` is already equal to 7, meaning it points to the semicolon.  Then when you call `case UNKOWN` in `lex()` you call `addChar()` which advances the index to 8, which is past the end of the string, so parsing stops.  I think using static variables is sloppy and you need to restructure your code to be easier to read, it seems to rely on side effects too much.","body":"The short answer is that when you call <code>lookup()</code> your index <code>charIndex</code> is already equal to 7, meaning it points to the semicolon.  Then when you call <code>case UNKOWN</code> in <code>lex()</code> you call <code>addChar()</code> which advances the index to 8, which is past the end of the string, so parsing stops.  I think using static variables is sloppy and you need to restructure your code to be easier to read, it seems to rely on side effects too much."}],"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667101376,"creation_date":1667092232,"question_id":74249899,"body_markdown":"It seems when there is an operator or parenthesis it won&#39;t print what comes last. For example when taking the &quot;(47+12);&quot; It will output: \r\n\r\n    Next token is: LEFT_PAREN   Next lexeme is (\r\n    Next token is: INT_LIT      Next lexeme is 47\r\n    Next token is: ADD_OP       Next lexeme is +\r\n    Next token is: INT_LIT      Next lexeme is 12\r\n    Next token is: RIGHT_PAREN  Next lexeme is )\r\n\r\nand skip the semicolon.\r\n\r\n\r\n    \r\n    package lexPackage;\r\n     \r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Lex {\r\n    \r\n    \tstatic final int MAX_LEXEME_LEN = 100;\r\n    \tstatic Token charClass;                            // Compare to enum to identify the character&#39;s class\r\n    \tstatic int lexLen;                                 // Current lexeme&#39;s length\r\n    \tstatic char lexeme[] = new char[MAX_LEXEME_LEN];   // Current lexeme&#39;s character array\r\n    \tstatic char nextChar;\r\n    \tstatic Token nextToken;\r\n    \tstatic int charIndex;\r\n    \r\n    \t //Tokens and categories\r\n    \tenum Token {\r\n    \t\tINT_LIT,\r\n    \t\tADD_OP,\r\n    \t\tLEFT_PAREN,\r\n    \t\tRIGHT_PAREN,\r\n    \t\tDIGIT,\r\n    \t\tSEMICOLON,\r\n    \t\tUNKNOWN,\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tString line;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t// For each line, grab each character \r\n    \t\t\t\tline = &quot;(47+12);&quot;;\r\n    \t\t\t\tcharIndex = 0;\r\n    \t\t\t\t\r\n    \t\t\t\tif (getChar(line)) {\r\n    \t\t\t\t\t// Perform lexical analysis within array bounds \r\n    \t\t\t\t\twhile (charIndex &lt; line.length()) {\r\n    \t\t\t\t\t\tlex(line);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tcatch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t}\r\n    \r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static Token lookup(char ch) {\r\n    \r\n    \t\tswitch (ch) {\r\n    \t\t\r\n    \t\tcase &#39;(&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.LEFT_PAREN;\r\n    \t\t\tbreak;\r\n    \r\n    \t\tcase &#39;)&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.RIGHT_PAREN;\r\n    \t\t\tbreak;\r\n    \r\n    \t\tcase &#39;+&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.ADD_OP;\r\n    \t\t\tbreak;\r\n    \t\r\n    \t\tcase &#39;;&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.SEMICOLON;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t/*\r\n    \t * No default case - each lexeme should fall\r\n    \t * within one of the categories set above.\r\n    \t */\r\n    \t\t}\r\n    \r\n    \t\treturn nextToken;\r\n    \t}\r\n    \r\n    \t/************* addChar - a function to add nextChar to lexeme *************/\r\n    \tprivate static boolean addChar() {\r\n    \t\t\r\n    \t\tif (lexLen &lt;= 98) {\r\n    \t\t\tlexeme[lexLen++] = nextChar;\r\n    \t\t\tlexeme[lexLen] = 0;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Error - lexeme is too long \\n&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \t/************* getChar - a function to get the next character in the line *************/\r\n    \tprivate static boolean getChar(String ln) {\r\n    \t\t\r\n    \r\n    \t\tif (charIndex &gt;= ln.length()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\tnextChar = ln.charAt(charIndex++);\r\n    \r\n    \t\tif (Character.isDigit(nextChar)) {\r\n    \t\t\tcharClass = Token.DIGIT;\r\n    \t\t} \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\telse {\r\n    \t\t\tcharClass = Token.UNKNOWN;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t/************* lex - a simple lexical analyzer for arithmetic expressions *************/\r\n    \tpublic static Token lex(String ln) throws IOException {\r\n    \t\t\r\n    \t\tlexLen = 0;\r\n    \r\n    \t\t\r\n    \t\tswitch (charClass) {\r\n    \t\t// Parse integer literals \r\n    \t\tcase DIGIT:\r\n    \t\t\tnextToken = Token.INT_LIT;\r\n    \t\t\taddChar();\r\n    \t\t\t\r\n    \t\t\tif (getChar(ln)) {\r\n    \t\t\t\twhile (charClass == Token.DIGIT) {\r\n    \t\t\t\t\taddChar();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (!getChar(ln)) {\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (charClass == Token.UNKNOWN &amp;&amp; charIndex == ln.length()) {\r\n    \t\t\t\t\tcharIndex--;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t // Parentheses and operators \r\n    \t\tcase UNKNOWN:\r\n    \t\t\tlookup(nextChar);\r\n    \t\t\tgetChar(ln);\r\n    \t\t\t\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tdefault:\r\n    \t\t\tnextToken = Token.UNKNOWN;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t} // End of switch \r\n    \t\t\r\n    \t\t // Print each token and its respective lexeme \r\n    \t\tSystem.out.printf(&quot;Next token is: %-12s Next lexeme is %s\\n&quot;, String.valueOf(nextToken), String.valueOf(lexeme, 0, lexLen));\r\n    \r\n    \t\treturn nextToken;\r\n    \t} // End of function lex \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Lexical Analyzer not printing all tokens and lexemes","body":"<p>It seems when there is an operator or parenthesis it won't print what comes last. For example when taking the &quot;(47+12);&quot; It will output:</p>\n<pre><code>Next token is: LEFT_PAREN   Next lexeme is (\nNext token is: INT_LIT      Next lexeme is 47\nNext token is: ADD_OP       Next lexeme is +\nNext token is: INT_LIT      Next lexeme is 12\nNext token is: RIGHT_PAREN  Next lexeme is )\n</code></pre>\n<p>and skip the semicolon.</p>\n<pre><code>package lexPackage;\n \nimport java.util.*;\nimport java.io.*;\n\npublic class Lex {\n\n    static final int MAX_LEXEME_LEN = 100;\n    static Token charClass;                            // Compare to enum to identify the character's class\n    static int lexLen;                                 // Current lexeme's length\n    static char lexeme[] = new char[MAX_LEXEME_LEN];   // Current lexeme's character array\n    static char nextChar;\n    static Token nextToken;\n    static int charIndex;\n\n     //Tokens and categories\n    enum Token {\n        INT_LIT,\n        ADD_OP,\n        LEFT_PAREN,\n        RIGHT_PAREN,\n        DIGIT,\n        SEMICOLON,\n        UNKNOWN,\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        String line;\n\n        try {\n\n            // For each line, grab each character \n                line = &quot;(47+12);&quot;;\n                charIndex = 0;\n                \n                if (getChar(line)) {\n                    // Perform lexical analysis within array bounds \n                    while (charIndex &lt; line.length()) {\n                        lex(line);\n                    }\n                    \n                }\n        }\n\n        catch (FileNotFoundException e) {\n            System.out.println(e.toString());\n        }\n\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static Token lookup(char ch) {\n\n        switch (ch) {\n        \n        case '(':\n            addChar();\n            nextToken = Token.LEFT_PAREN;\n            break;\n\n        case ')':\n            addChar();\n            nextToken = Token.RIGHT_PAREN;\n            break;\n\n        case '+':\n            addChar();\n            nextToken = Token.ADD_OP;\n            break;\n    \n        case ';':\n            addChar();\n            nextToken = Token.SEMICOLON;\n            break;\n            \n    /*\n     * No default case - each lexeme should fall\n     * within one of the categories set above.\n     */\n        }\n\n        return nextToken;\n    }\n\n    /************* addChar - a function to add nextChar to lexeme *************/\n    private static boolean addChar() {\n        \n        if (lexLen &lt;= 98) {\n            lexeme[lexLen++] = nextChar;\n            lexeme[lexLen] = 0;\n            return true;\n        }\n        \n        else {\n            System.out.println(&quot;Error - lexeme is too long \\n&quot;);\n            return false;\n        }\n    }\n\n    \n    /************* getChar - a function to get the next character in the line *************/\n    private static boolean getChar(String ln) {\n        \n\n        if (charIndex &gt;= ln.length()) {\n            return false;\n        }\n        \n\n        nextChar = ln.charAt(charIndex++);\n\n        if (Character.isDigit(nextChar)) {\n            charClass = Token.DIGIT;\n        } \n        \n        \n        \n        else {\n            charClass = Token.UNKNOWN;\n        }\n\n        return true;\n    }\n\n    /************* lex - a simple lexical analyzer for arithmetic expressions *************/\n    public static Token lex(String ln) throws IOException {\n        \n        lexLen = 0;\n\n        \n        switch (charClass) {\n        // Parse integer literals \n        case DIGIT:\n            nextToken = Token.INT_LIT;\n            addChar();\n            \n            if (getChar(ln)) {\n                while (charClass == Token.DIGIT) {\n                    addChar();\n                    \n                    if (!getChar(ln)) {\n                        break;\n                    }\n                }\n                \n                if (charClass == Token.UNKNOWN &amp;&amp; charIndex == ln.length()) {\n                    charIndex--;\n                }\n            }\n            break;\n            \n         // Parentheses and operators \n        case UNKNOWN:\n            lookup(nextChar);\n            getChar(ln);\n            \n            break;\n            \n        default:\n            nextToken = Token.UNKNOWN;\n            break;\n            \n        } // End of switch \n        \n         // Print each token and its respective lexeme \n        System.out.printf(&quot;Next token is: %-12s Next lexeme is %s\\n&quot;, String.valueOf(nextToken), String.valueOf(lexeme, 0, lexLen));\n\n        return nextToken;\n    } // End of function lex \n}\n</code></pre>\n"},{"tags":["java","object","java.util.scanner"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666966467,"post_id":74233438,"comment_id":131066027,"body_markdown":"You should not have code outside of functions (or static blocks). Move the code into the `main` method. Your code currently runs 3 times because you create 3 test objects, and for each it will run the unnamed block that asks for input.","body":"You should not have code outside of functions (or static blocks). Move the code into the <code>main</code> method. Your code currently runs 3 times because you create 3 test objects, and for each it will run the unnamed block that asks for input."},{"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"score":0,"creation_date":1667100459,"post_id":74233438,"comment_id":131089531,"body_markdown":"Hello! As for I I have code outside main method, it is because our professor thought us that way because we are learning about the topic on how to create objects and he told us to initialize outside main method. And as for the 3 test objects, I found a solution for that from a friend that I should only create one object and use that for all.","body":"Hello! As for I I have code outside main method, it is because our professor thought us that way because we are learning about the topic on how to create objects and he told us to initialize outside main method. And as for the 3 test objects, I found a solution for that from a friend that I should only create one object and use that for all."}],"answers":[{"tags":[],"owner":{"account_id":16507843,"reputation":772,"user_id":11927434,"display_name":"MarkusAnd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666964667,"creation_date":1666964667,"answer_id":74236330,"question_id":74233438,"body_markdown":"I don&#39;t know your level of expertise in programming and Java. However there are a few things that I believe are strongly recommended to follow. Don&#39;t use a `Scanner` outside a method. Never print outside a method. Initiate all class attributes that aren&#39;t immutable inside a class constructor call. \r\n\r\nIn your current code you have three calls to `new test();` where each call will initiate all class attributes and hence the line `int c = myObj.nextInt();` will be executed three times. \r\n\r\nInstead create a constructor method in your `Test` class. Initiate all your attributes here and execute all `System.out` prints here or in the main method. \r\n\r\n```\r\npublic class Test {\r\n\t//Declare attributes only\r\n\tint c;\r\n\tdouble g, cg, gm, mg;\r\n\r\n\t//Class constructor method\r\n\tpublic Test(Scanner myObj) {\r\n\t\tSystem.out.print(&quot;Enter Carat Value: &quot;);\r\n\t\t//Give declared attributes their values\r\n\t\tc = myObj.nextInt();\r\n\t    g = 0.20;\r\n\t    cg = c*g;\r\n\t    gm = cg*1000;\r\n\t    mg = gm*0.00220462/1000;\r\n\t    \r\n\t    System.out.println(&quot;Carats in Grams: &quot;+ cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+ gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+ mg);\r\n\t}\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner myObj = new Scanner(System.in);\r\n\r\n        //Calling new Test() executes the constructor method above\r\n        new Test(myObj);\r\n        \r\n        myObj.close();\r\n    }\r\n}\r\n```","title":"I am trying to use scanner outside the main method, and it keeps repeating after 3 inputs","body":"<p>I don't know your level of expertise in programming and Java. However there are a few things that I believe are strongly recommended to follow. Don't use a <code>Scanner</code> outside a method. Never print outside a method. Initiate all class attributes that aren't immutable inside a class constructor call.</p>\n<p>In your current code you have three calls to <code>new test();</code> where each call will initiate all class attributes and hence the line <code>int c = myObj.nextInt();</code> will be executed three times.</p>\n<p>Instead create a constructor method in your <code>Test</code> class. Initiate all your attributes here and execute all <code>System.out</code> prints here or in the main method.</p>\n<pre><code>public class Test {\n    //Declare attributes only\n    int c;\n    double g, cg, gm, mg;\n\n    //Class constructor method\n    public Test(Scanner myObj) {\n        System.out.print(&quot;Enter Carat Value: &quot;);\n        //Give declared attributes their values\n        c = myObj.nextInt();\n        g = 0.20;\n        cg = c*g;\n        gm = cg*1000;\n        mg = gm*0.00220462/1000;\n        \n        System.out.println(&quot;Carats in Grams: &quot;+ cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+ gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+ mg);\n    }\n    \n    public static void main(String[] args) {\n        Scanner myObj = new Scanner(System.in);\n\n        //Calling new Test() executes the constructor method above\n        new Test(myObj);\n        \n        myObj.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74236330,"answer_count":1,"score":0,"last_activity_date":1667101130,"creation_date":1666950059,"question_id":74233438,"body_markdown":"So I am trying to use scanner outside main method and keeps on repeating on enter, and idk if the new Obj is causing it cause I observed that the number of obj I created is the same as the amount of times I repeated input process and enter. Then after those tries it will then show the output inside the main method.\r\n\r\nThis is my code:\r\n\r\n```\r\npackage galitkami;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n\r\n    Scanner myObj = new Scanner(System.in);\r\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\r\n    int c = myObj.nextInt();\r\n    double g = 0.20;\r\n    double cg = c*g;\r\n    double gm = cg*1000;\r\n    double mg = gm*0.00220462/1000;\r\n    public static void main(String[] args) {\r\n\r\n        test a = new test();\r\n        test b = new test();\r\n        test c = new test();\r\n       \r\n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+b.gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+c.mg);\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI am expecting that after I input value on &quot;Enter Carat Value:&quot; it will automatically show the output inside the main method.\r\n\r\n**Update,** I have found a solution for this and this is what it looks like:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n\r\n    static Scanner myObj = new Scanner(System.in);\r\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\r\n    final int c = myObj.nextInt();\r\n   \r\n    double g = 0.20;\r\n    double cg = c*g;\r\n    double gm = cg*1000;\r\n    double mg = gm*0.00220462/1000;\r\n    public static void main(String[] args) {\r\n\r\n        test a = new test();\r\n   \r\n\r\n       \r\n      \r\n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+a.gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+a.mg);\r\n    \r\n\r\n   \r\n}   \r\n}\r\n```\r\n\r\nMy friend told me that I have simply need to create one object and call it out for all.","title":"I am trying to use scanner outside the main method, and it keeps repeating after 3 inputs","body":"<p>So I am trying to use scanner outside main method and keeps on repeating on enter, and idk if the new Obj is causing it cause I observed that the number of obj I created is the same as the amount of times I repeated input process and enter. Then after those tries it will then show the output inside the main method.</p>\n<p>This is my code:</p>\n<pre><code>package galitkami;\n\nimport java.util.Scanner;\n\npublic class test {\n\n    Scanner myObj = new Scanner(System.in);\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\n    int c = myObj.nextInt();\n    double g = 0.20;\n    double cg = c*g;\n    double gm = cg*1000;\n    double mg = gm*0.00220462/1000;\n    public static void main(String[] args) {\n\n        test a = new test();\n        test b = new test();\n        test c = new test();\n       \n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+b.gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+c.mg);\n\n    }\n    \n}\n\n</code></pre>\n<p>I am expecting that after I input value on &quot;Enter Carat Value:&quot; it will automatically show the output inside the main method.</p>\n<p><strong>Update,</strong> I have found a solution for this and this is what it looks like:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n\n    static Scanner myObj = new Scanner(System.in);\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\n    final int c = myObj.nextInt();\n   \n    double g = 0.20;\n    double cg = c*g;\n    double gm = cg*1000;\n    double mg = gm*0.00220462/1000;\n    public static void main(String[] args) {\n\n        test a = new test();\n   \n\n       \n      \n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+a.gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+a.mg);\n    \n\n   \n}   \n}\n</code></pre>\n<p>My friend told me that I have simply need to create one object and call it out for all.</p>\n"},{"tags":["java","eclipse","refactoring"],"comments":[{"owner":{"account_id":895889,"reputation":1066,"user_id":933189,"accept_rate":25,"display_name":"Balaji Dhanasekar"},"score":0,"creation_date":1380014384,"post_id":18977407,"comment_id":28030940,"body_markdown":"Have a look at this.  http://stackoverflow.com/questions/10161840/change-name-of-a-package-after-if-it-is-created-and-have-classes-in-eclipse-pos","body":"Have a look at this.  <a href=\"http://stackoverflow.com/questions/10161840/change-name-of-a-package-after-if-it-is-created-and-have-classes-in-eclipse-pos\" title=\"change name of a package after if it is created and have classes in eclipse pos\">stackoverflow.com/questions/10161840/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014400,"creation_date":1380014400,"answer_id":18977509,"question_id":18977407,"body_markdown":"Create your directory structure in src folder like\r\n\r\n&lt;pkg1&gt;.&lt;subpkg1&gt;\r\n\r\nmeans to create subpkg1 folder under pkg1 folder (source folder in eclipse) then place your source code inside and then modify its package declaration.","title":"How to change a package name in Eclipse?","body":"<p>Create your directory structure in src folder like</p>\n\n<p>.</p>\n\n<p>means to create subpkg1 folder under pkg1 folder (source folder in eclipse) then place your source code inside and then modify its package declaration.</p>\n"},{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014402,"creation_date":1380014402,"answer_id":18977510,"question_id":18977407,"body_markdown":"Select all files in the default package, **right click** -&gt; **Refactor...** -&gt; **Move..** and select a package in the dialog or create a new one.","title":"How to change a package name in Eclipse?","body":"<p>Select all files in the default package, <strong>right click</strong> -> <strong>Refactor...</strong> -> <strong>Move..</strong> and select a package in the dialog or create a new one.</p>\n"},{"tags":[],"owner":{"account_id":1063475,"reputation":677,"user_id":1064781,"accept_rate":75,"display_name":"cete3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014407,"creation_date":1380014407,"answer_id":18977514,"question_id":18977407,"body_markdown":"Try creating a new package and then move your files in there.\r\n\r\nA short overview : \r\nhttp://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm","title":"How to change a package name in Eclipse?","body":"<p>Try creating a new package and then move your files in there.</p>\n\n<p>A short overview : \n<a href=\"http://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2780943,"reputation":9651,"user_id":2393509,"accept_rate":88,"display_name":"jtomaszk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014438,"creation_date":1380014438,"answer_id":18977528,"question_id":18977407,"body_markdown":"Just create new package and move Classes to created package. \r\n\r\n*(default package)* means that is no package.","title":"How to change a package name in Eclipse?","body":"<p>Just create new package and move Classes to created package. </p>\n\n<p><em>(default package)</em> means that is no package.</p>\n"},{"tags":[],"owner":{"account_id":3067379,"reputation":737,"user_id":2598783,"accept_rate":80,"display_name":"Iren Patel"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1380014494,"creation_date":1380014494,"answer_id":18977549,"question_id":18977407,"body_markdown":"Press `Alt+shift+R` key and change package name","title":"How to change a package name in Eclipse?","body":"<p>Press <code>Alt+shift+R</code> key and change package name</p>\n"},{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380014496,"creation_date":1380014496,"answer_id":18977551,"question_id":18977407,"body_markdown":"You can&#39;t rename default package since it actually doesn&#39;t even exist. All files in default package are actually in `src` folder.\r\n\r\n\r\n    src--\r\n        |\r\n        MyClass1.java &lt;==== These files are in default package\r\n        MyClass2.java\r\n        |\r\n        org\r\n          |\r\n          mypackage\r\n                  |\r\n                  MyClass3.java &lt;=== class in org.mypackage package\r\n\r\n \r\nJust create new package and move your classes within.","title":"How to change a package name in Eclipse?","body":"<p>You can't rename default package since it actually doesn't even exist. All files in default package are actually in <code>src</code> folder.</p>\n\n<pre><code>src--\n    |\n    MyClass1.java &lt;==== These files are in default package\n    MyClass2.java\n    |\n    org\n      |\n      mypackage\n              |\n              MyClass3.java &lt;=== class in org.mypackage package\n</code></pre>\n\n<p>Just create new package and move your classes within.</p>\n"},{"tags":[],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014500,"creation_date":1380014500,"answer_id":18977553,"question_id":18977407,"body_markdown":"Just go to the class and replace the package statement with package com.myCompany.executabe after this eclipse will give you options to rename move the class to the new package and will do the needful","title":"How to change a package name in Eclipse?","body":"<p>Just go to the class and replace the package statement with package com.myCompany.executabe after this eclipse will give you options to rename move the class to the new package and will do the needful</p>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":0,"up_vote_count":119,"is_accepted":true,"score":119,"last_activity_date":1403282769,"creation_date":1380014527,"answer_id":18977569,"question_id":18977407,"body_markdown":"First you need to create package:\r\n   \r\n  `com.myCompany.executabe`  (src &gt; right click &gt; new &gt; package).\r\n\r\nFollow these steps to move the Java files to your new package.\r\n\r\n 1. Select the Java files\r\n 2. Right click\r\n 3. Refactor\r\n 4. Move\r\n 5. Select your preferred package","title":"How to change a package name in Eclipse?","body":"<p>First you need to create package:</p>\n\n<p><code>com.myCompany.executabe</code>  (src > right click > new > package).</p>\n\n<p>Follow these steps to move the Java files to your new package.</p>\n\n<ol>\n<li>Select the Java files</li>\n<li>Right click</li>\n<li>Refactor</li>\n<li>Move</li>\n<li>Select your preferred package</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3328786,"reputation":81,"user_id":2798163,"display_name":"XaverB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380014533,"creation_date":1380014533,"answer_id":18977571,"question_id":18977407,"body_markdown":"create a new package, drag and drop the class into it and now you are able to rename the new package","title":"How to change a package name in Eclipse?","body":"<p>create a new package, drag and drop the class into it and now you are able to rename the new package</p>\n"},{"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380014536,"creation_date":1380014536,"answer_id":18977573,"question_id":18977407,"body_markdown":"1. Select the classes you want to move to a different package name.\r\n2. Right click - Refactor - Move\r\n3. Create Package","title":"How to change a package name in Eclipse?","body":"<ol>\n<li>Select the classes you want to move to a different package name.</li>\n<li>Right click - Refactor - Move</li>\n<li>Create Package</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2861465,"reputation":242,"user_id":2456647,"accept_rate":67,"display_name":"Meet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380015993,"creation_date":1380015993,"answer_id":18978141,"question_id":18977407,"body_markdown":"com.myCompany.executabe is the path of executabe package. Here com,myCompany,executable are three different package.\r\nYou have to manually rename individual package name you want to change.","title":"How to change a package name in Eclipse?","body":"<p>com.myCompany.executabe is the path of executabe package. Here com,myCompany,executable are three different package.\nYou have to manually rename individual package name you want to change.</p>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406233606,"creation_date":1406232430,"answer_id":24942993,"question_id":18977407,"body_markdown":"HOW TO COPY AND PASTE ANDROID PROJECT\r\n\r\nA. If you are using Eclipse and all you want to do is first open the project that you want to copy(DON&quot;T FORGET TO OPEN THE PROJECT THAT YOU NEED TO COPY), then clone(copy/paste) your Android project within the explorer package window on the left side of Eclipse. Eclipse will ask you for a new project name when you paste. Give it a new project name. Since Eclipse project name and directory are independent of the application name and package, the following steps will help you on how to change package names. Note: there are two types of package names.\r\n\r\n1.To change src package names of packages within Src folder follow the following steps:\r\nFirst you need to create new package: (src &gt;&gt;&gt;&gt; right click &gt;&gt;&gt;&gt; new &gt;&gt;&gt;&gt; package).\r\n\r\nExample of creating package: com.new.name \r\n\r\nFollow these steps to move the Java files from the old copied package in part A to your new package.\r\n\r\nSelect the Java files within that old package\r\n\r\nRight click that java files\r\n\r\nselect &quot;Refactor&quot; option\r\n\r\nselect &quot;Move&quot; option\r\n\r\nSelect your preferred package from the list of packages in a dialogue window. Most probably you need to select the new one you just created and hit &quot;OK&quot; \r\n\r\n2.To change Application package name(main package), follow the following steps:\r\n\r\nFirst right click your project\r\n\r\nThen go to &quot;Android tools&quot;\r\n\r\nThen select &quot;Rename Application package&quot;\r\n\r\nEnter a new name in a dialogue window , and hit OK.\r\n\r\nThen It will show you in which part of your project the Application name will be changed. \r\n\r\nIt will show you that the Application name will be changed in manifest, and in most relevant Java files. Hit &quot;OK&quot;\r\n\r\nYOU DONE in this part, but make sure you rebuild your project to take effect. \r\n\t\t\r\nTo rebuild your project, go to &quot;&quot;project&quot; &gt;&gt;&gt; &quot;Clean&quot; &gt;&gt;&gt;&gt; select a Project from a projects \r\n\r\nlist, and hit &quot;OK&quot;. Finally, you can run your new project. ","title":"How to change a package name in Eclipse?","body":"<p>HOW TO COPY AND PASTE ANDROID PROJECT</p>\n\n<p>A. If you are using Eclipse and all you want to do is first open the project that you want to copy(DON\"T FORGET TO OPEN THE PROJECT THAT YOU NEED TO COPY), then clone(copy/paste) your Android project within the explorer package window on the left side of Eclipse. Eclipse will ask you for a new project name when you paste. Give it a new project name. Since Eclipse project name and directory are independent of the application name and package, the following steps will help you on how to change package names. Note: there are two types of package names.</p>\n\n<p>1.To change src package names of packages within Src folder follow the following steps:\nFirst you need to create new package: (src >>>> right click >>>> new >>>> package).</p>\n\n<p>Example of creating package: com.new.name </p>\n\n<p>Follow these steps to move the Java files from the old copied package in part A to your new package.</p>\n\n<p>Select the Java files within that old package</p>\n\n<p>Right click that java files</p>\n\n<p>select \"Refactor\" option</p>\n\n<p>select \"Move\" option</p>\n\n<p>Select your preferred package from the list of packages in a dialogue window. Most probably you need to select the new one you just created and hit \"OK\" </p>\n\n<p>2.To change Application package name(main package), follow the following steps:</p>\n\n<p>First right click your project</p>\n\n<p>Then go to \"Android tools\"</p>\n\n<p>Then select \"Rename Application package\"</p>\n\n<p>Enter a new name in a dialogue window , and hit OK.</p>\n\n<p>Then It will show you in which part of your project the Application name will be changed. </p>\n\n<p>It will show you that the Application name will be changed in manifest, and in most relevant Java files. Hit \"OK\"</p>\n\n<p>YOU DONE in this part, but make sure you rebuild your project to take effect. </p>\n\n<p>To rebuild your project, go to \"\"project\" >>> \"Clean\" >>>> select a Project from a projects </p>\n\n<p>list, and hit \"OK\". Finally, you can run your new project. </p>\n"},{"tags":[],"owner":{"account_id":4103956,"reputation":337,"user_id":3368626,"accept_rate":71,"display_name":"Syed Rahman Mashwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407409618,"creation_date":1407409618,"answer_id":25180939,"question_id":18977407,"body_markdown":"In pack explorer of eclipse&gt; Single Click on the name of Package&gt; click F2 keyboard key &gt;type new name&gt; click finish.\r\n\r\n\r\nEclipse will do the rest of job. It will rename old package name to new in code files also.\r\n","title":"How to change a package name in Eclipse?","body":"<p>In pack explorer of eclipse> Single Click on the name of Package> click F2 keyboard key >type new name> click finish.</p>\n\n<p>Eclipse will do the rest of job. It will rename old package name to new in code files also.</p>\n"},{"tags":[],"owner":{"account_id":3723533,"reputation":767,"user_id":3097931,"accept_rate":44,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415986159,"creation_date":1415985084,"answer_id":26935331,"question_id":18977407,"body_markdown":"In Eclipse Kepler/4.3 (and probably most other versions), you can:\r\n\r\nA: Rename package in all files:\r\n\r\n1. Select the project or any of its members in the Project Explorer\r\n2. Menu: Search &gt; File... (&lt;Alt-a&gt; &lt;f&gt;)\r\n3. In field &quot;Containing text:&quot; enter the old package name (eg. com.domain.oldpackage)\r\n4. Replace... (&lt;Alt-r&gt;)\r\n5. (Eclipse searches the project files for the old package name as a pattern)\r\n6. In field &quot;With:&quot; enter the new package name (eg. com.domain.newpackage), OK\r\n7. Proceed to confirm unless previews show some kind of conflict (which would probably mean that there&#39;s something else to be cleaned up before renaming the package)\r\n\r\nB: Rename src package:\r\n\r\n1. Select the source code package (eg. expand Project &gt; src and select com.domain.oldpackage) in the Project Explorer\r\n2. Menum: Refactor &gt; Rename... (&lt;Alt-Shift-r&gt;)\r\n3. In field &quot;New name:&quot; enter the new package name (eg. com.domain.newpackage)\r\n4. Proceed to confirm unless previews show some kind of conflict (which would probably mean that there&#39;s something else to be cleaned up before renaming the package)\r\n\r\nNote that in each of the Replace... and Rename... dialogs leave all other defaults, unless you&#39;re selectively omitting renaming instances of the package name.\r\n\r\nThis procedure should automatically clean your project after each of A and B are completed (including the gen/ directory). But if you see any errors you should manually clean and rebuild (&lt;Alt-p&gt; &lt;n&gt;, then select project, OK) to restore project elements integrity before proceeding. And you should immediately test the project to ensure this procedure worked before making further changes and confounding them.","title":"How to change a package name in Eclipse?","body":"<p>In Eclipse Kepler/4.3 (and probably most other versions), you can:</p>\n\n<p>A: Rename package in all files:</p>\n\n<ol>\n<li>Select the project or any of its members in the Project Explorer</li>\n<li>Menu: Search > File... ( )</li>\n<li>In field \"Containing text:\" enter the old package name (eg. com.domain.oldpackage)</li>\n<li>Replace... ()</li>\n<li>(Eclipse searches the project files for the old package name as a pattern)</li>\n<li>In field \"With:\" enter the new package name (eg. com.domain.newpackage), OK</li>\n<li>Proceed to confirm unless previews show some kind of conflict (which would probably mean that there's something else to be cleaned up before renaming the package)</li>\n</ol>\n\n<p>B: Rename src package:</p>\n\n<ol>\n<li>Select the source code package (eg. expand Project > src and select com.domain.oldpackage) in the Project Explorer</li>\n<li>Menum: Refactor > Rename... ()</li>\n<li>In field \"New name:\" enter the new package name (eg. com.domain.newpackage)</li>\n<li>Proceed to confirm unless previews show some kind of conflict (which would probably mean that there's something else to be cleaned up before renaming the package)</li>\n</ol>\n\n<p>Note that in each of the Replace... and Rename... dialogs leave all other defaults, unless you're selectively omitting renaming instances of the package name.</p>\n\n<p>This procedure should automatically clean your project after each of A and B are completed (including the gen/ directory). But if you see any errors you should manually clean and rebuild ( , then select project, OK) to restore project elements integrity before proceeding. And you should immediately test the project to ensure this procedure worked before making further changes and confounding them.</p>\n"},{"tags":[],"owner":{"account_id":5460067,"reputation":11,"user_id":4342446,"display_name":"Eugen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418145056,"creation_date":1418145056,"answer_id":27384752,"question_id":18977407,"body_markdown":"Android app package name?\r\n\r\nJust for the record, my case concerned an android app so if it concerns renaming the package name in an android application, then you can do it directly from the AndroidManifest.xml file, it&#39;s the first field in the android manifest, you change your package name and update it. Then if it shows you errors, so just &quot;clean&quot; your project in the &quot;project&quot; menu.","title":"How to change a package name in Eclipse?","body":"<p>Android app package name?</p>\n\n<p>Just for the record, my case concerned an android app so if it concerns renaming the package name in an android application, then you can do it directly from the AndroidManifest.xml file, it's the first field in the android manifest, you change your package name and update it. Then if it shows you errors, so just \"clean\" your project in the \"project\" menu.</p>\n"},{"tags":[],"owner":{"account_id":3242792,"reputation":1544,"user_id":2735349,"display_name":"Ehsan Jelodar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430547325,"creation_date":1430547325,"answer_id":29999126,"question_id":18977407,"body_markdown":"&quot;AndroidManifest&quot; file not changed for me and i change package name manually.","title":"How to change a package name in Eclipse?","body":"<p>\"AndroidManifest\" file not changed for me and i change package name manually.</p>\n"},{"tags":[],"owner":{"account_id":2622167,"reputation":11,"user_id":2269977,"display_name":"Jaoadun Nasif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461820385,"creation_date":1461818089,"answer_id":36905331,"question_id":18977407,"body_markdown":" 1. Change the Package Name in Manifest.   \r\n 2. A warning box will be said to\r\n        change into workspace ,press &quot;yes&quot;    \r\n 3. then right click on src-&gt; refactor -&gt; rename paste your package name \r\n 4. select package name and sub package name both\r\n       \r\n 5. press &quot;save&quot;   a warning pop ups , press &quot;continue&quot;\r\n\r\nname changed successfully\r\n\r\n","title":"How to change a package name in Eclipse?","body":"<ol>\n<li>Change the Package Name in Manifest.   </li>\n<li>A warning box will be said to\n    change into workspace ,press \"yes\"    </li>\n<li>then right click on src-> refactor -> rename paste your package name </li>\n<li><p>select package name and sub package name both</p></li>\n<li><p>press \"save\"   a warning pop ups , press \"continue\"</p></li>\n</ol>\n\n<p>name changed successfully</p>\n"},{"tags":[],"owner":{"account_id":2093302,"reputation":1,"user_id":1862620,"display_name":"Pokhrel Rajat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489854268,"creation_date":1489854268,"answer_id":42876868,"question_id":18977407,"body_markdown":"[enter image description here][1]You can open the class file in eclipse and at the top add &quot;package XYZ(package_name), then while it shows error click to it and select &#39; move ABC.java(class_file) to package XYZ(package_name)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3vYD2.jpg","title":"How to change a package name in Eclipse?","body":"<p><a href=\"https://i.stack.imgur.com/3vYD2.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>You can open the class file in eclipse and at the top add \"package XYZ(package_name), then while it shows error click to it and select ' move ABC.java(class_file) to package XYZ(package_name)</p>\n"},{"tags":[],"owner":{"account_id":7226475,"reputation":774,"user_id":5514856,"accept_rate":83,"display_name":"Pratheesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497252558,"creation_date":1497252558,"answer_id":44493655,"question_id":18977407,"body_markdown":"Right Click your Project  \r\nAndroid Tools&gt;&gt;Rename Application Package\r\nJust Change Package in there...\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2qhqo.png","title":"How to change a package name in Eclipse?","body":"<p>Right Click your Project<br>\nAndroid Tools>>Rename Application Package\nJust Change Package in there...\n<a href=\"https://i.stack.imgur.com/2qhqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qhqo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11266045,"reputation":11,"user_id":8262818,"display_name":"Ritu "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504872634,"creation_date":1504006036,"answer_id":45937960,"question_id":18977407,"body_markdown":"I have tried this and quite Simple process:\r\n\r\nCreated a new Package with required **name--&gt; Moved** all my classes to this new package (Right click on previous **package --&gt; Refractor--&gt; Move**)\r\n","title":"How to change a package name in Eclipse?","body":"<p>I have tried this and quite Simple process:</p>\n\n<p>Created a new Package with required <strong>name--> Moved</strong> all my classes to this new package (Right click on previous <strong>package --> Refractor--> Move</strong>)</p>\n"},{"tags":[],"owner":{"account_id":19355195,"reputation":1,"user_id":14151680,"display_name":"Shrijith P.S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667100712,"creation_date":1663477813,"answer_id":73760254,"question_id":18977407,"body_markdown":"To rename package in eclipse:\r\n1. Right click on the package\r\n1. Click on refactor\r\n1. Click on rename\r\n1. Change the name\r\n1. Click OK","title":"How to change a package name in Eclipse?","body":"<p>To rename package in eclipse:</p>\n<ol>\n<li>Right click on the package</li>\n<li>Click on refactor</li>\n<li>Click on rename</li>\n<li>Change the name</li>\n<li>Click OK</li>\n</ol>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234187,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":18977569,"answer_count":21,"score":80,"last_activity_date":1667100712,"creation_date":1380014133,"question_id":18977407,"body_markdown":"In Eclipse I have a simple Java project that contains a package named **(default package)** and inside this package I have a class.\r\n\r\nI want to rename this package into something like: **com.myCompany.executable**\r\n\r\nI tried to select the **(default package) ---&gt; right click ---&gt; refactor** but now I see only the single voice named: **Infer generic type arguments** but not the possibility to change the package name.\r\n\r\nWhy? What have I to do in Eclipse to change the name of the package?","title":"How to change a package name in Eclipse?","body":"<p>In Eclipse I have a simple Java project that contains a package named <strong>(default package)</strong> and inside this package I have a class.</p>\n\n<p>I want to rename this package into something like: <strong>com.myCompany.executable</strong></p>\n\n<p>I tried to select the <strong>(default package) ---> right click ---> refactor</strong> but now I see only the single voice named: <strong>Infer generic type arguments</strong> but not the possibility to change the package name.</p>\n\n<p>Why? What have I to do in Eclipse to change the name of the package?</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667100287,"creation_date":1667099110,"answer_id":74250252,"question_id":74250211,"body_markdown":"It should be `hint`.\r\n\r\n```\r\nandroid:hint=&quot;Password&quot;\r\n```\r\n\r\nand not \r\n```\r\nandroid:text=&quot;Password&quot;\r\n```\r\nEdited:\r\nRemove this line \r\n```\r\nView fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n```\r\n\r\nonCreateView should only contain the binding root layout\r\n```\r\n@Override\r\n    public View onCreateView(\r\n            @NonNull LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n```\r\nThen you can access it on onViewCreated like\r\n\r\n```\r\nbinding.login_button.setOnClickListener(new View.OnClickListener() {\r\n     @Override\r\n     public void onClick(View view) {\r\n         String username = binding.username_box.getText().toString();\r\n     }\r\n\r\n}\r\n```\r\n","title":"Android Studio gettext not updating on click","body":"<p>It should be <code>hint</code>.</p>\n<pre><code>android:hint=&quot;Password&quot;\n</code></pre>\n<p>and not</p>\n<pre><code>android:text=&quot;Password&quot;\n</code></pre>\n<p>Edited:\nRemove this line</p>\n<pre><code>View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n</code></pre>\n<p>onCreateView should only contain the binding root layout</p>\n<pre><code>@Override\n    public View onCreateView(\n            @NonNull LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n</code></pre>\n<p>Then you can access it on onViewCreated like</p>\n<pre><code>binding.login_button.setOnClickListener(new View.OnClickListener() {\n     @Override\n     public void onClick(View view) {\n         String username = binding.username_box.getText().toString();\n     }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26773075,"reputation":13,"user_id":20369134,"display_name":"millerstuff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74250252,"answer_count":1,"score":1,"last_activity_date":1667100287,"creation_date":1667098329,"question_id":74250211,"body_markdown":"I am trying to make a login screen. When I get text from the textboxes on click however, the text doesn&#39;t update. Any ideas why? \r\n\r\n\r\n\r\n\r\n\r\nMy xml file for the first fragment: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#F8E00A&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textview_first&quot;\r\n        android:layout_width=&quot;186dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:fontFamily=&quot;@font/alegreya_sc&quot;\r\n        android:text=&quot;Welcome&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@android:color/holo_blue_bright&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/login_button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/login_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;login&quot;\r\n        android:text=&quot;Login&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_first&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/username_box&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;Name&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.421&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password_box&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:text=&quot;Password&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.535&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nand my first fragment java code: \r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\n\r\nimport com.example.myapplication.databinding.FragmentFirstBinding;\r\n\r\npublic class FirstFragment extends Fragment {\r\n\r\n    private FragmentFirstBinding binding;\r\n    EditText usernameT;\r\n    EditText passwordT;\r\n    @Override\r\n    public View onCreateView(\r\n            @NonNull LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        usernameT = (EditText) fragmentFirstLayout.findViewById(R.id.username_box);\r\n        passwordT = (EditText) fragmentFirstLayout.findViewById(R.id.password_box);\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        view.findViewById(R.id.login_button).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String username = usernameT.getText().toString();\r\n                String password = passwordT.getText().toString();\r\n                Log.d(&quot;debug&quot;, username);\r\n                Log.d(&quot;debug&quot;, password);\r\n                if (username.equals(&quot;Na&quot;) &amp;&amp; password.equals(&quot;Pa&quot;)) {\r\n                    NavHostFragment.findNavController(FirstFragment.this)\r\n                            .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n                } else {\r\n                    Toast myToast = Toast.makeText(getActivity(), &quot;Wrong Username or Password&quot;, Toast.LENGTH_SHORT);\r\n                    myToast.show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nAs you can see I am printing to log the username and password everytime I click the button. However, even when I change the text, &quot;Name&quot; and &quot;Password&quot; are still being printed out. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Es05V.png)](https://i.stack.imgur.com/Es05V.png)\r\n","title":"Android Studio gettext not updating on click","body":"<p>I am trying to make a login screen. When I get text from the textboxes on click however, the text doesn't update. Any ideas why?</p>\n<p>My xml file for the first fragment:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#F8E00A&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textview_first&quot;\n        android:layout_width=&quot;186dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:fontFamily=&quot;@font/alegreya_sc&quot;\n        android:text=&quot;Welcome&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@android:color/holo_blue_bright&quot;\n        android:textSize=&quot;30sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/login_button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/login_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;login&quot;\n        android:text=&quot;Login&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_first&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/username_box&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Name&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.421&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password_box&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:text=&quot;Password&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.535&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and my first fragment java code:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.myapplication.databinding.FragmentFirstBinding;\n\npublic class FirstFragment extends Fragment {\n\n    private FragmentFirstBinding binding;\n    EditText usernameT;\n    EditText passwordT;\n    @Override\n    public View onCreateView(\n            @NonNull LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n        usernameT = (EditText) fragmentFirstLayout.findViewById(R.id.username_box);\n        passwordT = (EditText) fragmentFirstLayout.findViewById(R.id.password_box);\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        view.findViewById(R.id.login_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String username = usernameT.getText().toString();\n                String password = passwordT.getText().toString();\n                Log.d(&quot;debug&quot;, username);\n                Log.d(&quot;debug&quot;, password);\n                if (username.equals(&quot;Na&quot;) &amp;&amp; password.equals(&quot;Pa&quot;)) {\n                    NavHostFragment.findNavController(FirstFragment.this)\n                            .navigate(R.id.action_FirstFragment_to_SecondFragment);\n                } else {\n                    Toast myToast = Toast.makeText(getActivity(), &quot;Wrong Username or Password&quot;, Toast.LENGTH_SHORT);\n                    myToast.show();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n\n\n}\n</code></pre>\n<p>As you can see I am printing to log the username and password everytime I click the button. However, even when I change the text, &quot;Name&quot; and &quot;Password&quot; are still being printed out.</p>\n<p><a href=\"https://i.stack.imgur.com/Es05V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Es05V.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","heroku"],"answers":[{"tags":[],"owner":{"account_id":17150828,"reputation":1,"user_id":12412795,"display_name":"Servet Ak&#231;ada"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654720323,"creation_date":1654720323,"answer_id":72551877,"question_id":70873130,"body_markdown":"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html\r\n\r\n\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p><a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html</a></p>\n<p>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</p>\n"},{"tags":[],"owner":{"account_id":11631039,"reputation":1,"user_id":8519201,"display_name":"Chandru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667100216,"creation_date":1667100216,"answer_id":74250307,"question_id":70873130,"body_markdown":"jakarta servlet is supported only in tomcat 10 version.\r\n\r\nMore so Heroku supports webapp-runner for tomcat 9.0.68.0, as of Oct 2022.\r\n\r\nSo the error.\r\n\r\nEven if you deploy with 9.0.68.0, the code will fail for want of jakarta servlet.","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p>jakarta servlet is supported only in tomcat 10 version.</p>\n<p>More so Heroku supports webapp-runner for tomcat 9.0.68.0, as of Oct 2022.</p>\n<p>So the error.</p>\n<p>Even if you deploy with 9.0.68.0, the code will fail for want of jakarta servlet.</p>\n"}],"owner":{"account_id":24067210,"reputation":1,"user_id":18043579,"display_name":"Martin Iriarte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667100216,"creation_date":1643255639,"question_id":70873130,"body_markdown":"I am trying to deploy my webapp in java with heroku, I implement this simple example: \r\n\r\n \r\n\r\n    package launch;\r\n\r\n    import java.io.File;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import org.apache.catalina.WebResourceRoot;\r\n    import org.apache.catalina.WebResourceSet;\r\n    import org.apache.catalina.core.StandardContext;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.apache.catalina.webresources.DirResourceSet;\r\n    import org.apache.catalina.webresources.EmptyResourceSet;\r\n    import org.apache.catalina.webresources.StandardRoot;\r\n\r\n    public class Main {\r\n\r\n    private static File getRootFolder() {\r\n        try {\r\n            File root;\r\n            String runningJarPath = Main.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n            int lastIndexOf = runningJarPath.lastIndexOf(&quot;/target/&quot;);\r\n            if (lastIndexOf &lt; 0) {\r\n                root = new File(&quot;&quot;);\r\n            } else {\r\n                root = new File(runningJarPath.substring(0, lastIndexOf));\r\n            }\r\n            System.out.println(&quot;application resolved root folder: &quot; + root.getAbsolutePath());\r\n            return root;\r\n        } catch (URISyntaxException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        File root = getRootFolder();\r\n        System.setProperty(&quot;org.apache.catalina.startup.EXIT_ON_INIT_FAILURE&quot;, &quot;true&quot;);\r\n        Tomcat tomcat = new Tomcat();\r\n        Path tempPath = Files.createTempDirectory(&quot;tomcat-base-dir&quot;);\r\n        tomcat.setBaseDir(tempPath.toString());\r\n\r\n        //The port that we should run on can be set into an environment variable\r\n        //Look for that variable and default to 8080 if it isn&#39;t there.\r\n        String webPort = System.getenv(&quot;PORT&quot;);\r\n        if (webPort == null || webPort.isEmpty()) {\r\n            webPort = &quot;8080&quot;;\r\n        }\r\n\r\n        tomcat.setPort(Integer.valueOf(webPort));\r\n        File webContentFolder = new File(root.getAbsolutePath(), &quot;src/main/webapp/&quot;);\r\n        if (!webContentFolder.exists()) {\r\n            webContentFolder = Files.createTempDirectory(&quot;default-doc-base&quot;).toFile();\r\n        }\r\n        StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, webContentFolder.getAbsolutePath());\r\n        //Set execution independent of current thread context classloader (compatibility with exec:java mojo)\r\n        ctx.setParentClassLoader(Main.class.getClassLoader());\r\n\r\n        System.out.println(&quot;configuring app with basedir: &quot; + webContentFolder.getAbsolutePath());\r\n\r\n        // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\r\n        // Servlet 3.0 annotation will work\r\n        File additionWebInfClassesFolder = new File(root.getAbsolutePath(), &quot;target/classes&quot;);\r\n        WebResourceRoot resources = new StandardRoot(ctx);\r\n\r\n        WebResourceSet resourceSet;\r\n        if (additionWebInfClassesFolder.exists()) {\r\n            resourceSet = new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, additionWebInfClassesFolder.getAbsolutePath(), &quot;/&quot;);\r\n            System.out.println(&quot;loading WEB-INF resources from as &#39;&quot; + additionWebInfClassesFolder.getAbsolutePath() + &quot;&#39;&quot;);\r\n        } else {\r\n            resourceSet = new EmptyResourceSet(resources);\r\n        }\r\n        resources.addPreResources(resourceSet);\r\n        ctx.setResources(resources);\r\n\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n    }\r\n}\r\n\r\n\r\nand my jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Hola Mundo!&lt;/h2&gt;\r\n\r\n    &lt;a href=&quot;/hello&quot;&gt;pincha aca&lt;/a&gt;\r\n\r\n    &lt;c:if test=&quot;${true}&quot;&gt;\r\n\t&lt;h3&gt;Hola&lt;/h3&gt;\r\n    &lt;/c:if&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nwhen I include the jstl in my project after doing the deploy it throws this exception: \r\n\r\n[java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0kpdi.png\r\n\r\nmy pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;tomcat.version&gt;8.5.38&lt;/tomcat.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\r\n\t\t\t\t\t&lt;programs&gt;\r\n\t\t\t\t\t\t&lt;program&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;webapp&lt;/name&gt;\r\n\t\t\t\t\t\t&lt;/program&gt;\r\n\t\t\t\t\t&lt;/programs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;assemble&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nand my Procfile\r\n\r\n    web: sh target/bin/webapp\r\n\r\n\r\nI tried everything but nothing worked. Please help.\r\n\r\n","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p>I am trying to deploy my webapp in java with heroku, I implement this simple example:</p>\n<pre><code>package launch;\n\nimport java.io.File;\nimport java.net.URISyntaxException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport org.apache.catalina.WebResourceRoot;\nimport org.apache.catalina.WebResourceSet;\nimport org.apache.catalina.core.StandardContext;\nimport org.apache.catalina.startup.Tomcat;\nimport org.apache.catalina.webresources.DirResourceSet;\nimport org.apache.catalina.webresources.EmptyResourceSet;\nimport org.apache.catalina.webresources.StandardRoot;\n\npublic class Main {\n\nprivate static File getRootFolder() {\n    try {\n        File root;\n        String runningJarPath = Main.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\n        int lastIndexOf = runningJarPath.lastIndexOf(&quot;/target/&quot;);\n        if (lastIndexOf &lt; 0) {\n            root = new File(&quot;&quot;);\n        } else {\n            root = new File(runningJarPath.substring(0, lastIndexOf));\n        }\n        System.out.println(&quot;application resolved root folder: &quot; + root.getAbsolutePath());\n        return root;\n    } catch (URISyntaxException ex) {\n        throw new RuntimeException(ex);\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n\n    File root = getRootFolder();\n    System.setProperty(&quot;org.apache.catalina.startup.EXIT_ON_INIT_FAILURE&quot;, &quot;true&quot;);\n    Tomcat tomcat = new Tomcat();\n    Path tempPath = Files.createTempDirectory(&quot;tomcat-base-dir&quot;);\n    tomcat.setBaseDir(tempPath.toString());\n\n    //The port that we should run on can be set into an environment variable\n    //Look for that variable and default to 8080 if it isn't there.\n    String webPort = System.getenv(&quot;PORT&quot;);\n    if (webPort == null || webPort.isEmpty()) {\n        webPort = &quot;8080&quot;;\n    }\n\n    tomcat.setPort(Integer.valueOf(webPort));\n    File webContentFolder = new File(root.getAbsolutePath(), &quot;src/main/webapp/&quot;);\n    if (!webContentFolder.exists()) {\n        webContentFolder = Files.createTempDirectory(&quot;default-doc-base&quot;).toFile();\n    }\n    StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, webContentFolder.getAbsolutePath());\n    //Set execution independent of current thread context classloader (compatibility with exec:java mojo)\n    ctx.setParentClassLoader(Main.class.getClassLoader());\n\n    System.out.println(&quot;configuring app with basedir: &quot; + webContentFolder.getAbsolutePath());\n\n    // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\n    // Servlet 3.0 annotation will work\n    File additionWebInfClassesFolder = new File(root.getAbsolutePath(), &quot;target/classes&quot;);\n    WebResourceRoot resources = new StandardRoot(ctx);\n\n    WebResourceSet resourceSet;\n    if (additionWebInfClassesFolder.exists()) {\n        resourceSet = new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, additionWebInfClassesFolder.getAbsolutePath(), &quot;/&quot;);\n        System.out.println(&quot;loading WEB-INF resources from as '&quot; + additionWebInfClassesFolder.getAbsolutePath() + &quot;'&quot;);\n    } else {\n        resourceSet = new EmptyResourceSet(resources);\n    }\n    resources.addPreResources(resourceSet);\n    ctx.setResources(resources);\n\n    tomcat.start();\n    tomcat.getServer().await();\n}\n</code></pre>\n<p>}</p>\n<p>and my jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\npageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Hola Mundo!&lt;/h2&gt;\n\n&lt;a href=&quot;/hello&quot;&gt;pincha aca&lt;/a&gt;\n\n&lt;c:if test=&quot;${true}&quot;&gt;\n&lt;h3&gt;Hola&lt;/h3&gt;\n&lt;/c:if&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>when I include the jstl in my project after doing the deploy it throws this exception:</p>\n<p><a href=\"https://i.stack.imgur.com/0kpdi.png\" rel=\"nofollow noreferrer\">java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator</a></p>\n<p>my pom</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\n&lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;properties&gt;\n    &lt;tomcat.version&gt;8.5.38&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\n                        &lt;name&gt;webapp&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and my Procfile</p>\n<pre><code>web: sh target/bin/webapp\n</code></pre>\n<p>I tried everything but nothing worked. Please help.</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666953272,"post_id":74233995,"comment_id":131061701,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6952202,"reputation":3306,"user_id":5334486,"display_name":"GrafiCode"},"score":0,"creation_date":1666953299,"post_id":74233995,"comment_id":131061717,"body_markdown":"that&#39;s not javascript, looks more like Java","body":"that&#39;s not javascript, looks more like Java"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666996193,"post_id":74233995,"comment_id":131074514,"body_markdown":"What is the type of `recipeItems`? `List&lt;Predicate&gt;`? Also, why is it validating the first element there against the second item in `pContainer`? I understand what the code is doing, but it would help to know **why** it has to do it that way (or what is supposed to be doing).","body":"What is the type of <code>recipeItems</code>? <code>List&lt;Predicate&gt;</code>? Also, why is it validating the first element there against the second item in <code>pContainer</code>? I understand what the code is doing, but it would help to know <b>why</b> it has to do it that way (or what is supposed to be doing)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1666996258,"post_id":74233995,"comment_id":131074525,"body_markdown":"What &quot;input slots&quot; are you talking about? It sounds like you&#39;re using some kind of library/framework/tool that has those, but you don&#39;t mention what it is. (Edit: apparently [it&#39;s Minecraft](https://forums.minecraftforge.net/topic/117772-how-to-make-a-multiple-input-block-entity/), would have helped if you had mentioned that, Nathan!)","body":"What &quot;input slots&quot; are you talking about? It sounds like you&#39;re using some kind of library/framework/tool that has those, but you don&#39;t mention what it is. (Edit: apparently <a href=\"https://forums.minecraftforge.net/topic/117772-how-to-make-a-multiple-input-block-entity/\" rel=\"nofollow noreferrer\">it&#39;s Minecraft</a>, would have helped if you had mentioned that, Nathan!)"},{"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"score":0,"creation_date":1666997265,"post_id":74233995,"comment_id":131074689,"body_markdown":"Oh my goodness, how did I not provide information that simple? I am so sorry!","body":"Oh my goodness, how did I not provide information that simple? I am so sorry!"},{"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"score":0,"creation_date":1666997436,"post_id":74233995,"comment_id":131074722,"body_markdown":"I have updated the post. I deeply apologize for that; hope this provides enough information!","body":"I have updated the post. I deeply apologize for that; hope this provides enough information!"}],"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667099792,"creation_date":1666952707,"question_id":74233995,"body_markdown":"I am coding a minecraft mod and I have recently been trying to make a custom block entity. My problem is relatively simple; how would I make a block entity that has multiple input slots? I have everything else done, I am just not sure how to get the public boolean matches to work.\r\n\r\n    public class AltarOfEssenceRecipe implements Recipe&lt;SimpleContainer&gt; {\r\n    private final ResourceLocation id;\r\n    private final ItemStack output;\r\n    private final NonNullList&lt;Ingredient&gt; recipeItems;\r\n\r\n    public AltarOfEssenceRecipe(ResourceLocation id, ItemStack output,\r\n                                NonNullList&lt;Ingredient&gt; recipeItems) {\r\n        this.id = id;\r\n        this.output = output;\r\n        this.recipeItems = recipeItems;\r\n    }\r\n\r\n  \r\n     @Override\r\n    public boolean matches(SimpleContainer pContainer, Level pLevel) {\r\n        if(pLevel.isClientSide()) {\r\n            return false;\r\n        }\r\n\r\n        return recipeItems.get(0).test(pContainer.getItem(1));\r\n    }\r\n\r\n\r\nI understand that the current code above is for when there is only one input slot, but mine has four. How could I approach this?\r\n\r\nThe code above is only for one slot, which obviously will not work with my four-input block entity.\r\n","title":"How to make a multiple input block entity?","body":"<p>I am coding a minecraft mod and I have recently been trying to make a custom block entity. My problem is relatively simple; how would I make a block entity that has multiple input slots? I have everything else done, I am just not sure how to get the public boolean matches to work.</p>\n<pre><code>public class AltarOfEssenceRecipe implements Recipe&lt;SimpleContainer&gt; {\nprivate final ResourceLocation id;\nprivate final ItemStack output;\nprivate final NonNullList&lt;Ingredient&gt; recipeItems;\n\npublic AltarOfEssenceRecipe(ResourceLocation id, ItemStack output,\n                            NonNullList&lt;Ingredient&gt; recipeItems) {\n    this.id = id;\n    this.output = output;\n    this.recipeItems = recipeItems;\n}\n\n\n @Override\npublic boolean matches(SimpleContainer pContainer, Level pLevel) {\n    if(pLevel.isClientSide()) {\n        return false;\n    }\n\n    return recipeItems.get(0).test(pContainer.getItem(1));\n}\n</code></pre>\n<p>I understand that the current code above is for when there is only one input slot, but mine has four. How could I approach this?</p>\n<p>The code above is only for one slot, which obviously will not work with my four-input block entity.</p>\n"},{"tags":["java","linux","ubuntu","awt"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1611408173,"post_id":65852545,"comment_id":116444323,"body_markdown":"Does this answer your question? [Open a path with Desktop.open() from java on ubuntu (linux)](https://stackoverflow.com/questions/9692331/open-a-path-with-desktop-open-from-java-on-ubuntu-linux)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9692331/open-a-path-with-desktop-open-from-java-on-ubuntu-linux\">Open a path with Desktop.open() from java on ubuntu (linux)</a>"},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611417192,"post_id":65852545,"comment_id":116446935,"body_markdown":"@DuncG it does not. The issue you linked is about path problems and they have clear exception. I do not get any exception, the program is just stuck.","body":"@DuncG it does not. The issue you linked is about path problems and they have clear exception. I do not get any exception, the program is just stuck."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1611418476,"post_id":65852545,"comment_id":116447272,"body_markdown":"Do you use JavaFX too? There have been issues in this area https://bugs.openjdk.java.net/browse/JDK-8195086","body":"Do you use JavaFX too? There have been issues in this area <a href=\"https://bugs.openjdk.java.net/browse/JDK-8195086\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8195086</a>"},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611426945,"post_id":65852545,"comment_id":116449907,"body_markdown":"This is actually exactly whats happening, but it is resolved in JDK 8 it seems, but I am using open jdk 13 and I am experiencing this problem, which is weird then.","body":"This is actually exactly whats happening, but it is resolved in JDK 8 it seems, but I am using open jdk 13 and I am experiencing this problem, which is weird then."},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611429461,"post_id":65852545,"comment_id":116450643,"body_markdown":"@DuncG okay I went through a relative issue to the one you linked and there one comment helped... posting that as an answer now. Thank you!","body":"@DuncG okay I went through a relative issue to the one you linked and there one comment helped... posting that as an answer now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611429545,"creation_date":1611429545,"answer_id":65863422,"question_id":65852545,"body_markdown":"From [here][1]:\r\n\r\nIn order to use the API, you have to call java.awt.EventQueue.invokeLater() and call methods of the Desktop class from a runnable passed to the invokeLater():\r\n\r\n    void fxEventHandler() {\r\n       EQ.invokeLater(() -&gt; {\r\n          Desktop.open(...);\r\n       });\r\n    }\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8096706?focusedCommentId=13785982&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13785982","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>From <a href=\"https://bugs.openjdk.java.net/browse/JDK-8096706?focusedCommentId=13785982&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13785982\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p>In order to use the API, you have to call java.awt.EventQueue.invokeLater() and call methods of the Desktop class from a runnable passed to the invokeLater():</p>\n<pre><code>void fxEventHandler() {\n   EQ.invokeLater(() -&gt; {\n      Desktop.open(...);\n   });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14172002,"reputation":11,"user_id":10238328,"display_name":"mynor peralta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667099416,"creation_date":1667099261,"answer_id":74250262,"question_id":65852545,"body_markdown":"I am just going to add an example function\r\n\r\n        private static void OpenFile(String filePath){\r\n                try\r\n                {\r\n                    //constructor of file class having file as argument\r\n                    File file = new File(filePath);\r\n                    if(!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not\r\n                    {\r\n                        System.out.println(&quot;not supported&quot;);\r\n                        return;\r\n                    }\r\n                    Desktop desktop = Desktop.getDesktop();\r\n                    if(file.exists()) {         //checks file exists or not\r\n                        EventQueue.invokeLater(() -&gt; {\r\n                            try {\r\n                                desktop.open(file);\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                catch(Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n        }","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>I am just going to add an example function</p>\n<pre><code>    private static void OpenFile(String filePath){\n            try\n            {\n                //constructor of file class having file as argument\n                File file = new File(filePath);\n                if(!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not\n                {\n                    System.out.println(&quot;not supported&quot;);\n                    return;\n                }\n                Desktop desktop = Desktop.getDesktop();\n                if(file.exists()) {         //checks file exists or not\n                    EventQueue.invokeLater(() -&gt; {\n                        try {\n                            desktop.open(file);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    });\n                }\n            }\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65863422,"answer_count":2,"score":1,"last_activity_date":1667099416,"creation_date":1611348427,"question_id":65852545,"body_markdown":"I have a Java application, and when I use java.awt.Desktop:\r\n\r\n```java\r\nDesktop.getDesktop().open(file);\r\n```\r\n\r\nIt works fine on Windows (opens a file in my default program), but on Ubuntu (with openJdk 13), the Java application gets stuck and I do not even get any log error or anything. I have to force quit the app in order to recover.\r\n\r\nThe file path it correct, otherwise I would actually get an Exception. Also, `isDesktopSupported` a `isSupported(Action.OPEN)` returns `true`.\r\n\r\nWhat can I do? Can I check some system settings or logs? Or perhaps get some logs from `java.awt.Desktop`? Or does this not work on Ubuntu/Linux? \r\n\r\nAre there any alternatives?","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>I have a Java application, and when I use java.awt.Desktop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Desktop.getDesktop().open(file);\n</code></pre>\n<p>It works fine on Windows (opens a file in my default program), but on Ubuntu (with openJdk 13), the Java application gets stuck and I do not even get any log error or anything. I have to force quit the app in order to recover.</p>\n<p>The file path it correct, otherwise I would actually get an Exception. Also, <code>isDesktopSupported</code> a <code>isSupported(Action.OPEN)</code> returns <code>true</code>.</p>\n<p>What can I do? Can I check some system settings or logs? Or perhaps get some logs from <code>java.awt.Desktop</code>? Or does this not work on Ubuntu/Linux?</p>\n<p>Are there any alternatives?</p>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"score":0,"creation_date":1667095563,"post_id":74175629,"comment_id":131089102,"body_markdown":"In output I got &quot;Number of sessions: 1&quot; for each WS client.","body":"In output I got &quot;Number of sessions: 1&quot; for each WS client."}],"answers":[{"tags":[],"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667098518,"creation_date":1667098518,"answer_id":74250220,"question_id":74175629,"body_markdown":"Broadcast in WebLogic was successfully done with following code:\r\n\r\n    @OnMessage\r\n    public void onMessage(String message, Session session) throws IOException {\r\n        for (Session sess : session.getOpenSessions()) {\r\n            sess.getBasicRemote().sendText(&quot;Echo: &quot; + message);\r\n        }\r\n    }","title":"Broadcast message in WebSocket (Java)","body":"<p>Broadcast in WebLogic was successfully done with following code:</p>\n<pre><code>@OnMessage\npublic void onMessage(String message, Session session) throws IOException {\n    for (Session sess : session.getOpenSessions()) {\n        sess.getBasicRemote().sendText(&quot;Echo: &quot; + message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74250220,"answer_count":1,"score":1,"last_activity_date":1667098518,"creation_date":1666570201,"question_id":74175629,"body_markdown":"WS Server code:\r\n\r\n    import java.io.IOException;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.ejb.Local;\r\n    import javax.websocket.*;\r\n    import javax.websocket.server.ServerEndpoint;\r\n    \r\n    @ServerEndpoint(value = &quot;/websockets/broadcast-server&quot;)\r\n    @Local\r\n    public class BroadcastServer {\r\n    \r\n        private static final Logger LOGGER = Logger.getLogger(BroadcastServer.class.getName());\r\n        private final Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\r\n    \r\n        @OnMessage\r\n        public String onMessage(String message, Session session) throws IOException {\r\n            LOGGER.log(Level.INFO, &quot;Received message: {0}&quot;, message);\r\n            \r\n            broadcastMessage(&quot;!!!BROADCAST!!! &quot; + message);\r\n            \r\n            return &quot;Echo: &quot; + message;\r\n        }\r\n    \r\n        @OnOpen\r\n        public void onOpen(Session session) throws IOException {\r\n            session.getBasicRemote().sendText(&quot;* The session is open.&quot;);\r\n            LOGGER.info(&quot;The session is open.&quot;);\r\n            this.sessions.add(session);\r\n        }\r\n    \r\n        @OnClose\r\n        public void onClose(Session session) throws IOException {\r\n            LOGGER.info(&quot;The session is close.&quot;);\r\n            this.sessions.remove(session);\r\n        }\r\n    \r\n        @OnError\r\n        public void onError(Session session, Throwable error) throws Exception {\r\n            session.getBasicRemote().sendText(&quot;* Error happen. &quot; + error.getMessage());\r\n            LOGGER.warning(&quot;Error happen. &quot; + error.getMessage());\r\n        }\r\n    \r\n        public void broadcastMessage(String message) throws IOException {\r\n            LOGGER.info(&quot;Number of sessions: &quot; + this.sessions.size());\r\n            \r\n            for (Session session : this.sessions) {\r\n                session.getBasicRemote().sendText(message);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nUnit test/WS client code:\r\n\r\n    public class BroadcastClientTest {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            BroadcastClient client = new BroadcastClient();\r\n            client.connect(URI.create(&quot;ws://localhost:7001/ee-ejb/websockets/broadcast-server&quot;));\r\n    \r\n            client.send(&quot;Hello World!&quot;);\r\n            \r\n            Thread.sleep(Integer.MAX_VALUE);\r\n        }\r\n    \r\n    }\r\n\r\nIf I run a few instances of above Unit test then each client sends a single message to the server and receive a single response.\r\n\r\nBut I expect to receive more messages because every message should be broadcasted to all clients.\r\n\r\nIt feels like for each client WebLogic creates separate WS server instance.\r\n\r\nHow to broadcast a message?","title":"Broadcast message in WebSocket (Java)","body":"<p>WS Server code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.ejb.Local;\nimport javax.websocket.*;\nimport javax.websocket.server.ServerEndpoint;\n\n@ServerEndpoint(value = &quot;/websockets/broadcast-server&quot;)\n@Local\npublic class BroadcastServer {\n\n    private static final Logger LOGGER = Logger.getLogger(BroadcastServer.class.getName());\n    private final Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\n\n    @OnMessage\n    public String onMessage(String message, Session session) throws IOException {\n        LOGGER.log(Level.INFO, &quot;Received message: {0}&quot;, message);\n        \n        broadcastMessage(&quot;!!!BROADCAST!!! &quot; + message);\n        \n        return &quot;Echo: &quot; + message;\n    }\n\n    @OnOpen\n    public void onOpen(Session session) throws IOException {\n        session.getBasicRemote().sendText(&quot;* The session is open.&quot;);\n        LOGGER.info(&quot;The session is open.&quot;);\n        this.sessions.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session) throws IOException {\n        LOGGER.info(&quot;The session is close.&quot;);\n        this.sessions.remove(session);\n    }\n\n    @OnError\n    public void onError(Session session, Throwable error) throws Exception {\n        session.getBasicRemote().sendText(&quot;* Error happen. &quot; + error.getMessage());\n        LOGGER.warning(&quot;Error happen. &quot; + error.getMessage());\n    }\n\n    public void broadcastMessage(String message) throws IOException {\n        LOGGER.info(&quot;Number of sessions: &quot; + this.sessions.size());\n        \n        for (Session session : this.sessions) {\n            session.getBasicRemote().sendText(message);\n        }\n    }\n    \n}\n</code></pre>\n<p>Unit test/WS client code:</p>\n<pre><code>public class BroadcastClientTest {\n\n    @Test\n    public void test() throws Exception {\n        BroadcastClient client = new BroadcastClient();\n        client.connect(URI.create(&quot;ws://localhost:7001/ee-ejb/websockets/broadcast-server&quot;));\n\n        client.send(&quot;Hello World!&quot;);\n        \n        Thread.sleep(Integer.MAX_VALUE);\n    }\n\n}\n</code></pre>\n<p>If I run a few instances of above Unit test then each client sends a single message to the server and receive a single response.</p>\n<p>But I expect to receive more messages because every message should be broadcasted to all clients.</p>\n<p>It feels like for each client WebLogic creates separate WS server instance.</p>\n<p>How to broadcast a message?</p>\n"},{"tags":["java","ant","junit","timeout","junit4"],"answers":[{"tags":[],"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1325773623,"creation_date":1325773623,"answer_id":8744090,"question_id":8743594,"body_markdown":"If you use JUnit 4 and `@Test`, you can specifiy the `timeout` parameter that will fail a tests that&#39;s taking longer than specified. Downside for that is that you&#39;d have to add it to every test method.\r\n\r\nA probably better alternative is the use of a `@Rule` with [`org.junit.rules.Timeout`](http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Timeout.html). With this, you can do it per class (or even in a shared super class).","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>If you use JUnit 4 and <code>@Test</code>, you can specifiy the <code>timeout</code> parameter that will fail a tests that's taking longer than specified. Downside for that is that you'd have to add it to every test method.</p>\n\n<p>A probably better alternative is the use of a <code>@Rule</code> with <a href=\"http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Timeout.html\" rel=\"noreferrer\"><code>org.junit.rules.Timeout</code></a>. With this, you can do it per class (or even in a shared super class).</p>\n"},{"tags":[],"owner":{"account_id":2314766,"reputation":13150,"user_id":2032064,"accept_rate":100,"display_name":"Mifeet"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1634316170,"creation_date":1439727145,"answer_id":32034936,"question_id":8743594,"body_markdown":"Reviving an old question since the answer doesn&#39;t provide an example.\r\n\r\nYou can specify timeout \r\n\r\n1. Per test method:\r\n\r\n        @Test(timeout = 100) // Exception: test timed out after 100 milliseconds\r\n        public void test1() throws Exception {\r\n            Thread.sleep(200);\r\n        }\r\n\r\n2. For all methods in a test class using [`Timeout`][1] `@Rule`:\r\n\r\n        @Rule\r\n        public Timeout timeout = new Timeout(100);\r\n\r\n        @Test // Exception: test timed out after 100 milliseconds\r\n        public void methodTimeout() throws Exception {\r\n            Thread.sleep(200);\r\n        }\r\n\r\n        @Test\r\n        public void methodInTime() throws Exception {\r\n            Thread.sleep(50);\r\n        }\r\n\r\n3. Globally for the total time to run all test methods in the class using a static `Timeout` `@ClassRule`:\r\n\r\n        @ClassRule\r\n        public static Timeout classTimeout = new Timeout(200);\r\n\r\n        @Test\r\n        public void test1() throws Exception {\r\n            Thread.sleep(150);\r\n        }\r\n\r\n        @Test // InterruptedException: sleep interrupted\r\n        public void test2() throws Exception {\r\n            Thread.sleep(100);\r\n        }\r\n\r\n4. And even apply timeout (either `@Rule` or `@ClassRule`) to [all classes in your entire suite](https://stackoverflow.com/a/16633184/2032064):\r\n\r\n        @RunWith(Suite.class)\r\n        @SuiteClasses({ Test1.class, Test2.class})\r\n        public class SuiteWithTimeout {\r\n            @ClassRule\r\n            public static Timeout classTimeout = new Timeout(1000);\r\n\r\n            @Rule\r\n            public Timeout timeout = new Timeout(100);\r\n        }\r\n\r\n\r\nEDIT: \r\ntimeout was deprecated recently to utilize this initialization \r\n   \r\n    @Rule\r\n    public Timeout timeout = new Timeout(120000, TimeUnit.MILLISECONDS);\r\n\r\nYou should provide the Timeunit now, as this will provide more granularity to your code. \r\n\r\n[1]: https://junit.org/junit4/javadoc/4.12/org/junit/rules/Timeout.html","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>Reviving an old question since the answer doesn't provide an example.</p>\n<p>You can specify timeout</p>\n<ol>\n<li><p>Per test method:</p>\n<pre><code> @Test(timeout = 100) // Exception: test timed out after 100 milliseconds\n public void test1() throws Exception {\n     Thread.sleep(200);\n }\n</code></pre>\n</li>\n<li><p>For all methods in a test class using <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/Timeout.html\" rel=\"noreferrer\"><code>Timeout</code></a> <code>@Rule</code>:</p>\n<pre><code> @Rule\n public Timeout timeout = new Timeout(100);\n\n @Test // Exception: test timed out after 100 milliseconds\n public void methodTimeout() throws Exception {\n     Thread.sleep(200);\n }\n\n @Test\n public void methodInTime() throws Exception {\n     Thread.sleep(50);\n }\n</code></pre>\n</li>\n<li><p>Globally for the total time to run all test methods in the class using a static <code>Timeout</code> <code>@ClassRule</code>:</p>\n<pre><code> @ClassRule\n public static Timeout classTimeout = new Timeout(200);\n\n @Test\n public void test1() throws Exception {\n     Thread.sleep(150);\n }\n\n @Test // InterruptedException: sleep interrupted\n public void test2() throws Exception {\n     Thread.sleep(100);\n }\n</code></pre>\n</li>\n<li><p>And even apply timeout (either <code>@Rule</code> or <code>@ClassRule</code>) to <a href=\"https://stackoverflow.com/a/16633184/2032064\">all classes in your entire suite</a>:</p>\n<pre><code> @RunWith(Suite.class)\n @SuiteClasses({ Test1.class, Test2.class})\n public class SuiteWithTimeout {\n     @ClassRule\n     public static Timeout classTimeout = new Timeout(1000);\n\n     @Rule\n     public Timeout timeout = new Timeout(100);\n }\n</code></pre>\n</li>\n</ol>\n<p>EDIT:\ntimeout was deprecated recently to utilize this initialization</p>\n<pre><code>@Rule\npublic Timeout timeout = new Timeout(120000, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>You should provide the Timeunit now, as this will provide more granularity to your code.</p>\n"},{"tags":[],"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667095362,"creation_date":1667095362,"answer_id":74250044,"question_id":8743594,"body_markdown":"I know from the tags that this question was aimed at JUnit 4, but in JUnit 5 (Jupiter), the [mechanism has changed](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Timeout.html). \r\n\r\nFrom the [guide](https://junit.org/junit5/docs/current/user-guide/#writing-tests-declarative-timeouts):\r\n\r\n&gt; ```lang-java\r\n&gt;    @Test\r\n&gt;    @Timeout(value = 500, unit = TimeUnit.MILLISECONDS)\r\n&gt;    void failsIfExecutionTimeExceeds500Milliseconds() {\r\n&gt;        // fails if execution time exceeds 500 milliseconds\r\n&gt;    }\r\n&gt;```\r\n(The `unit` defaults to seconds, so you could just use `@Timeout(1)`.)\r\n\r\nIt&#39;s easy to apply once across a class:\r\n&gt; To apply the same timeout to all test methods within a test class and all of its @Nested classes, you can declare the @Timeout annotation at the class level.\r\n\r\nFor your purposes, you might even experiment with top-level configuration on your build jobs:\r\n&gt; &quot;junit.jupiter.execution.timeout.test.method.default&quot;  \r\n&gt;    Default timeout for @Test methods\r\n","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>I know from the tags that this question was aimed at JUnit 4, but in JUnit 5 (Jupiter), the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Timeout.html\" rel=\"nofollow noreferrer\">mechanism has changed</a>.</p>\n<p>From the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-declarative-timeouts\" rel=\"nofollow noreferrer\">guide</a>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>   @Test\n   @Timeout(value = 500, unit = TimeUnit.MILLISECONDS)\n   void failsIfExecutionTimeExceeds500Milliseconds() {\n       // fails if execution time exceeds 500 milliseconds\n   }\n</code></pre>\n</blockquote>\n<p>(The <code>unit</code> defaults to seconds, so you could just use <code>@Timeout(1)</code>.)</p>\n<p>It's easy to apply once across a class:</p>\n<blockquote>\n<p>To apply the same timeout to all test methods within a test class and all of its @Nested classes, you can declare the @Timeout annotation at the class level.</p>\n</blockquote>\n<p>For your purposes, you might even experiment with top-level configuration on your build jobs:</p>\n<blockquote>\n<p>&quot;junit.jupiter.execution.timeout.test.method.default&quot;<br />\nDefault timeout for @Test methods</p>\n</blockquote>\n"}],"owner":{"account_id":525472,"reputation":5585,"user_id":1132278,"accept_rate":46,"display_name":"Jun-Dai Bates-Kobashigawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17658,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":32034936,"answer_count":3,"score":26,"last_activity_date":1667095362,"creation_date":1325771285,"question_id":8743594,"body_markdown":"I want to fail the build if anyone writes a test that takes longer than 1 second to run, but if I run &lt;junit&gt; in perTest mode it takes much, much longer.\r\n\r\nI could probably write a custom task that parses the junit reports and fails the build based on that, but I was wondering if anyone knows or can think of a better option.","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>I want to fail the build if anyone writes a test that takes longer than 1 second to run, but if I run  in perTest mode it takes much, much longer.</p>\n\n<p>I could probably write a custom task that parses the junit reports and fails the build based on that, but I was wondering if anyone knows or can think of a better option.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1444861916,"post_id":33136739,"comment_id":54084990,"body_markdown":"`this.grid = (Sprite[][]) new Object[numRows][numColumns];` -- You can&#39;t magically turn objects into sprites just by casting them.","body":"<code>this.grid = (Sprite[][]) new Object[numRows][numColumns];</code> -- You can&#39;t magically turn objects into sprites just by casting them."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1444862021,"creation_date":1444862021,"answer_id":33136787,"question_id":33136739,"body_markdown":"This is the problem:\r\n\r\n    public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt;\r\n\r\nThe way you&#39;ve declared the class, `Sprite` is the name of a type parameter. You&#39;ve made this a generic class, and I *suspect* you didn&#39;t mean to. Within that class, `Sprite` refers to the type parameter, not the type - so you could have an `ArrayGrid&lt;String&gt;` which implemented `Grid&lt;String&gt;`... at which point you&#39;d have a string array rather than a sprite array, so it&#39;s no wonder that `getSymbol()` wouldn&#39;t work, just as *one* symptom of the problem.\r\n\r\nI suspect you just wanted:\r\n\r\n    public class ArrayGrid implements Grid&lt;Sprite&gt;\r\n\r\nAt that point, `Sprite` really refers to the type. And that means you can avoid the code that wouldn&#39;t work around arrays, and instead just write:\r\n\r\n    this.grid = new Sprite[numRows][numColumns];\r\n\r\nThen there&#39;s no need to suppress the warnings :)","title":"The method *****is undefined for the type***** in Java","body":"<p>This is the problem:</p>\n\n<pre><code>public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt;\n</code></pre>\n\n<p>The way you've declared the class, <code>Sprite</code> is the name of a type parameter. You've made this a generic class, and I <em>suspect</em> you didn't mean to. Within that class, <code>Sprite</code> refers to the type parameter, not the type - so you could have an <code>ArrayGrid&lt;String&gt;</code> which implemented <code>Grid&lt;String&gt;</code>... at which point you'd have a string array rather than a sprite array, so it's no wonder that <code>getSymbol()</code> wouldn't work, just as <em>one</em> symptom of the problem.</p>\n\n<p>I suspect you just wanted:</p>\n\n<pre><code>public class ArrayGrid implements Grid&lt;Sprite&gt;\n</code></pre>\n\n<p>At that point, <code>Sprite</code> really refers to the type. And that means you can avoid the code that wouldn't work around arrays, and instead just write:</p>\n\n<pre><code>this.grid = new Sprite[numRows][numColumns];\n</code></pre>\n\n<p>Then there's no need to suppress the warnings :)</p>\n"}],"owner":{"account_id":7123317,"reputation":51,"user_id":5447129,"display_name":"Mingyu Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4713,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":33136787,"answer_count":1,"score":3,"last_activity_date":1667095226,"creation_date":1444861797,"question_id":33136739,"body_markdown":"I&#39;m trying to call a method from an abstract class Sprite in another package, but I got &quot;The method getSymbol() is undefined for the type Sprite&quot;\r\n\r\nHere&#39;s the code.\r\n\r\n    public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt; {\r\n\r\n      private int numRows;\r\n      private int numColumns;\r\n      private Sprite[][] grid;\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public ArrayGrid(int numRows, int numColumns) {\r\n        this.numRows = numRows;\r\n        this.numColumns = numColumns;\r\n        this.grid = (Sprite[][]) new Object[numRows][numColumns];\r\n      }\r\n\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      @Override\r\n      public boolean equals(Object other) {\r\n        if (this.getClass().equals(other.getClass())) {\r\n          if (this.numRows == ((ArrayGrid&lt;Sprite&gt;) other).numRows\r\n              &amp;&amp; this.numColumns == ((ArrayGrid&lt;Sprite&gt;) other).numColumns) {\r\n            for (int i = 0; i &lt; this.numRows; i++) {\r\n              for (int j = 0; j &lt; this.numColumns; j++) {\r\n                if (this.getCell(i, j).getSymbol() == ((ArrayGrid&lt;Sprite&gt;) other).getCell(i, j).getSymbol()) { // &lt;&lt;&lt;&lt;&lt; the error is here\r\n                  return true;\r\n                }\r\n              }\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n\r\n\r\nAnd here is the code from another package sprites\r\n\r\n    public abstract class Sprite {\r\n\r\n      protected char symbol;\r\n      protected int row;\r\n      protected int column;\r\n\r\n      public Sprite(char symbol, int row, int column) {\r\n        this.symbol = symbol;\r\n        this.row = row;\r\n        this.column = column;\r\n      }\r\n\r\n      public char getSymbol() {\r\n        return symbol;\r\n      }\r\n\r\nI guess the problem is that the method from an abstract class cannot be instantiated.\r\n\r\nBut I don&#39;t know how to fix it.\r\n","title":"The method *****is undefined for the type***** in Java","body":"<p>I'm trying to call a method from an abstract class Sprite in another package, but I got &quot;The method getSymbol() is undefined for the type Sprite&quot;</p>\n<p>Here's the code.</p>\n<pre><code>public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt; {\n\n  private int numRows;\n  private int numColumns;\n  private Sprite[][] grid;\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public ArrayGrid(int numRows, int numColumns) {\n    this.numRows = numRows;\n    this.numColumns = numColumns;\n    this.grid = (Sprite[][]) new Object[numRows][numColumns];\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  @Override\n  public boolean equals(Object other) {\n    if (this.getClass().equals(other.getClass())) {\n      if (this.numRows == ((ArrayGrid&lt;Sprite&gt;) other).numRows\n          &amp;&amp; this.numColumns == ((ArrayGrid&lt;Sprite&gt;) other).numColumns) {\n        for (int i = 0; i &lt; this.numRows; i++) {\n          for (int j = 0; j &lt; this.numColumns; j++) {\n            if (this.getCell(i, j).getSymbol() == ((ArrayGrid&lt;Sprite&gt;) other).getCell(i, j).getSymbol()) { // &lt;&lt;&lt;&lt;&lt; the error is here\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p>And here is the code from another package sprites</p>\n<pre><code>public abstract class Sprite {\n\n  protected char symbol;\n  protected int row;\n  protected int column;\n\n  public Sprite(char symbol, int row, int column) {\n    this.symbol = symbol;\n    this.row = row;\n    this.column = column;\n  }\n\n  public char getSymbol() {\n    return symbol;\n  }\n</code></pre>\n<p>I guess the problem is that the method from an abstract class cannot be instantiated.</p>\n<p>But I don't know how to fix it.</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667093028,"post_id":74249920,"comment_id":131088855,"body_markdown":"I recommend researching the topic &quot;mocking&quot;. A commonly used mocking framework in java is [mockito (`site.mockito.org`)](https://site.mockito.org/).","body":"I recommend researching the topic &quot;mocking&quot;. A commonly used mocking framework in java is <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito (<code>site.mockito.org</code>)</a>."}],"answers":[{"tags":[],"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667093222,"creation_date":1667092912,"answer_id":74249923,"question_id":74249920,"body_markdown":"If you want to test both the class and the loader you have to do an integration test, you are right, but for unit test you have to mock other classes (that you are going to test next or you have already tested in other unit tests)\r\n\r\nYou can mock the loader (you can use [mockito][1]) and create a new list containing the mock\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class MyServiceTests {\r\n\r\n        private MyService myService;\r\n\r\n        @Mock\r\n        private Loader loader;\r\n\r\n        @BeforeAll\r\n        void init() {\r\n            myService= new MyServiceImpl(List.of(loader));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://site.mockito.org/","title":"How to set up unit test for service with dependency?","body":"<p>If you want to test both the class and the loader you have to do an integration test, you are right, but for unit test you have to mock other classes (that you are going to test next or you have already tested in other unit tests)</p>\n<p>You can mock the loader (you can use <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito</a>) and create a new list containing the mock</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MyServiceTests {\n\n    private MyService myService;\n\n    @Mock\n    private Loader loader;\n\n    @BeforeAll\n    void init() {\n        myService= new MyServiceImpl(List.of(loader));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249923,"answer_count":1,"score":0,"last_activity_date":1667093222,"creation_date":1667092640,"question_id":74249920,"body_markdown":"I have a service interface:\r\n\r\n    interface MyService\r\n    {\r\n        int getItem();\r\n    }\r\n\r\nand a implementation:\r\n\r\n    @Service\r\n    class MyServiceImpl : implements MyService {\r\n        public MyServiceImpl(List&lt;Loader&gt; loaders) {\r\n        }\r\n  \r\n        public int getItem() {\r\n           Loader loader = getTheLoader();\r\n           return loader.getItem();\r\n        }\r\n    }\r\n\r\nI want to unit test `MyServiceImpl`. There&#39;s more to it then just forwarding the `getItem()` call to the loader, so I&#39;d think I&#39;d want to test the actual class. I don&#39;t think I&#39;d want to test an actual loader, because that would be more of an integration test, yeah?\r\n\r\nSo, I&#39;m not sure if this is the right approach? To create a real instance of the Impl class and then create a real instance of the TestLoader?\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class MyServiceTests {\r\n    \r\n        private MyService myService;\r\n    \r\n        static class TestLoader implements Loader&lt;String, Object&gt; {\r\n           @Override\r\n           int getItem() {\r\n           }\r\n        }\r\n\r\n        @BeforeAll\r\n        void init() {\r\n            myService= new MyServiceImpl(List.of(new \r\n             TestLoader()));\r\n        }\r\n\r\nI do want to capture call counts to the TestLoader::getItem, etc.\r\n\r\nKinda seems like I need to create a mock loader instead of a real loader to capture the call counts?\r\n\r\nBut its not clear how I would mock a `Loader&lt;String, Object&gt;` and override the getItem() class. ","title":"How to set up unit test for service with dependency?","body":"<p>I have a service interface:</p>\n<pre><code>interface MyService\n{\n    int getItem();\n}\n</code></pre>\n<p>and a implementation:</p>\n<pre><code>@Service\nclass MyServiceImpl : implements MyService {\n    public MyServiceImpl(List&lt;Loader&gt; loaders) {\n    }\n\n    public int getItem() {\n       Loader loader = getTheLoader();\n       return loader.getItem();\n    }\n}\n</code></pre>\n<p>I want to unit test <code>MyServiceImpl</code>. There's more to it then just forwarding the <code>getItem()</code> call to the loader, so I'd think I'd want to test the actual class. I don't think I'd want to test an actual loader, because that would be more of an integration test, yeah?</p>\n<p>So, I'm not sure if this is the right approach? To create a real instance of the Impl class and then create a real instance of the TestLoader?</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MyServiceTests {\n\n    private MyService myService;\n\n    static class TestLoader implements Loader&lt;String, Object&gt; {\n       @Override\n       int getItem() {\n       }\n    }\n\n    @BeforeAll\n    void init() {\n        myService= new MyServiceImpl(List.of(new \n         TestLoader()));\n    }\n</code></pre>\n<p>I do want to capture call counts to the TestLoader::getItem, etc.</p>\n<p>Kinda seems like I need to create a mock loader instead of a real loader to capture the call counts?</p>\n<p>But its not clear how I would mock a <code>Loader&lt;String, Object&gt;</code> and override the getItem() class.</p>\n"},{"tags":["python","java","signature","public-key","ed25519"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666892125,"post_id":74223413,"comment_id":131048292,"body_markdown":"`token` is a concatenation of the hex encoded raw public key, the Base64 encoded message and the hex encoded signature, where `/` separates the key and message parts and `.` separates the message and signature parts. The error message indicates that (at least) the encoding of the key was not taken into account when separating. Please post your most recent Java code.","body":"<code>token</code> is a concatenation of the hex encoded raw public key, the Base64 encoded message and the hex encoded signature, where <code>&#47;</code> separates the key and message parts and <code>.</code> separates the message and signature parts. The error message indicates that (at least) the encoding of the key was not taken into account when separating. Please post your most recent Java code."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667092639,"creation_date":1666879779,"answer_id":74223489,"question_id":74223413,"body_markdown":"The public key encoded as hexadecimals, and then encoded using base64. To revert this incorrect way of encoding you&#39;d first need to decode the base64 and then decode the hexadecimals to bytes. To fix the python script instead, perform `base64.b64encode(public_key.to_bytes()` and remove the `public_key_string`.\r\n\r\nIt seems weird that the public key is base 64 &amp; hex encoded and why the signature is only hex encoded. It makes most sense to encode both using base64, if any textual output is required at all. Quite often text is used where binary could suffice just as well.","title":"load ed25519 public key with java","body":"<p>The public key encoded as hexadecimals, and then encoded using base64. To revert this incorrect way of encoding you'd first need to decode the base64 and then decode the hexadecimals to bytes. To fix the python script instead, perform <code>base64.b64encode(public_key.to_bytes()</code> and remove the <code>public_key_string</code>.</p>\n<p>It seems weird that the public key is base 64 &amp; hex encoded and why the signature is only hex encoded. It makes most sense to encode both using base64, if any textual output is required at all. Quite often text is used where binary could suffice just as well.</p>\n"}],"owner":{"account_id":14961026,"reputation":15,"user_id":10800749,"display_name":"DanielC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74223489,"answer_count":1,"score":0,"last_activity_date":1667092639,"creation_date":1666872463,"question_id":74223413,"body_markdown":"I have to read and load ed25519 public key for verifying signature in java, the token input pattern is:\r\n{public_key}/message.signature\r\nfor example:\r\n\r\n    6a3239269f93999baec60382189c718031ad22c4c807ff29417824132cf0aa2d/eyJpc3N1ZV9kYXRlIjogIjIwMjItMTAtMjMiLCAiZXhwaXJ5X2RhdGUiOiAiMjAyMi0xMS0yMyIsICJsaWNlbnNlX3R5cGUiOiAxLCAibGljZW5zZV9rZXkiOiAiOTczZTIxOWVlNDg5NDVlNmViMDhjYzQzM2QyYjBjMDUifQ==.122ff0664a54122c6929183a561bb211a4168801e5917f33b69231eea56205ae32af4804a69a9fd25c6fab4bbf44048b57b11d71c5b8fe4fb153d0f45c5e140f\r\n\r\nThis token created via python library &#39;ed25519&#39;:\r\n\r\n```\r\nprivate_key, public_key = ed25519.create_keypair()\r\npublic_key_string = public_key.to_ascii(encoding=&#39;hex&#39;).decode(&#39;utf-8&#39;)\r\nsignature = private_key.sign(json_string.encode(&#39;utf-8&#39;), encoding=&#39;hex&#39;)\r\ntoken = public_key_string + &#39;/&#39; +\r\n                        base64.b64encode(json_string.encode(&#39;utf-8&#39;)).decode(&#39;utf-8&#39;) +\r\n                        &#39;.&#39; + signature.decode(&#39;utf-8&#39;)\r\n\r\n```\r\n\r\nWhen Im trying to split the token into parts in java and load the public key (with bouncycastle library), exception have been thrown and said that the buffer must be 32 length (which as you can see the length of the public key is 64), what am I missing here?\r\n\r\n ","title":"load ed25519 public key with java","body":"<p>I have to read and load ed25519 public key for verifying signature in java, the token input pattern is:\n{public_key}/message.signature\nfor example:</p>\n<pre><code>6a3239269f93999baec60382189c718031ad22c4c807ff29417824132cf0aa2d/eyJpc3N1ZV9kYXRlIjogIjIwMjItMTAtMjMiLCAiZXhwaXJ5X2RhdGUiOiAiMjAyMi0xMS0yMyIsICJsaWNlbnNlX3R5cGUiOiAxLCAibGljZW5zZV9rZXkiOiAiOTczZTIxOWVlNDg5NDVlNmViMDhjYzQzM2QyYjBjMDUifQ==.122ff0664a54122c6929183a561bb211a4168801e5917f33b69231eea56205ae32af4804a69a9fd25c6fab4bbf44048b57b11d71c5b8fe4fb153d0f45c5e140f\n</code></pre>\n<p>This token created via python library 'ed25519':</p>\n<pre><code>private_key, public_key = ed25519.create_keypair()\npublic_key_string = public_key.to_ascii(encoding='hex').decode('utf-8')\nsignature = private_key.sign(json_string.encode('utf-8'), encoding='hex')\ntoken = public_key_string + '/' +\n                        base64.b64encode(json_string.encode('utf-8')).decode('utf-8') +\n                        '.' + signature.decode('utf-8')\n\n</code></pre>\n<p>When Im trying to split the token into parts in java and load the public key (with bouncycastle library), exception have been thrown and said that the buffer must be 32 length (which as you can see the length of the public key is 64), what am I missing here?</p>\n"},{"tags":["java","android","android-sqlite","sqliteopenhelper"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667091320,"creation_date":1667091320,"answer_id":74249853,"question_id":74247039,"body_markdown":"**Potential Issue 1 (probable cause according to your symptoms)**\r\n\r\nYour ***`checkUsername`*** method is probably incorrect as it **returns false if the username has been located**, true if not.  I suspect that you really want:-\r\n\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\nHowever, you might want to consider using the more compact/consice :-\r\n\r\n    public boolean checkUserName(String userName) {\r\n        return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\r\n    }\r\n\r\n\r\n**Potential Issue 2 (may well cause future issues)**\r\n\r\n&gt; when i press the register button nothing will happened, and the app showing no errors.\r\n\r\nYou don&#39;t say what doesn&#39;t happen i.e. what you expect to happen.\r\n\r\nA lot could depend upon the code that you haven&#39;t shown and you may encounters issues due to using `startActivity` to apparently return to the invoking/parent activity (without the complete code this may or may not be the case).\r\n\r\nUsing &#39;startActivity&#39; will not return to the actual activity, instead it will end (destroy) the invoking activity and start a brand new one.\r\n\r\nInstead, you should return to the invoking/parent activity by finishing the child activity using `finish()`.\r\n\r\n\r\n\r\n**Potential Issue 3 (may well result in issues)\r\nThe phone number column is indicated as being a java integer. This would be insufficient to hold the full range of 10 figure phone numbers.\r\n\r\nThat is the highest value a Java int can be is 2147483647.\r\n\r\n**Potential Issue 4 (unlikely, according to your sysmptoms, to be an issue)**\r\n\r\n&gt; At first i build the the onCreate and insert function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number).\r\n\r\nThis could also be an issue, if you used the App, then altered the onCreate code to add the new columns and just reran the App. The `onCreate` method is only run once for the lifetime of the database, which unless you specifically delete the database or uninstall the App would then result in the new columns not existing. However, you would encounter ***column not found*** errors which would contradict you saying that there are no errors.\r\n\r\n**Demo**\r\n\r\nPerhaps consider the following that was used to debug **Issue 1**.\r\n\r\nThe used a modified **DatabaseHelper** with the following modifications:-\r\n\r\n    // check if username already exists\r\n    public Boolean CheckUsernameOriginal(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check if username already exists\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            //return false;\r\n            return true; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\r\n        }else{\r\n            //return true;\r\n            return false; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\r\n        }\r\n    }\r\n\r\n    public boolean checkUserName(String userName) {\r\n        return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\r\n    }\r\n\r\ni.e.:-\r\n\r\n- the original **CheckUsername** method renamed to **CheckUsernameOriginal**\r\n- a new **CheckUserName** method changed accordingly to return true if the username was found.\r\n- a new **checkUserName** method that uses the suggested more compact/concise code and the **longForQuery** method.\r\n\r\nThe DBHelper was then used in **MainActivity** to check the code and additionally the resultant data in the database using :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DatabaseHelper dbHelper;\r\n        //boolean logged_in = false;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            dbHelper = new DatabaseHelper(this);\r\n            testUser(&quot;User001&quot;,&quot;password001&quot;, &quot;User001@email.com&quot;,1234567890);\r\n            //testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,9999999999); /* WARNING 9999999999 too big for int */\r\n            testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,1333333333);\r\n    \r\n            DatabaseUtils.dumpCursor(\r\n                    dbHelper.getWritableDatabase().query(&quot;user&quot;,null,null,null,null,null,null)\r\n            );\r\n    \r\n        }\r\n    \r\n        void testUser(String testUserName, String testUserPassword, String testUserEmail, int testUserPhone) {\r\n            Log.d(&quot;DBTEST001&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\r\n            Log.d(&quot;DBTEST002A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\r\n            Log.d(&quot;DBTEST002B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\r\n            Log.d(&quot;DBTEST002C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\r\n            Log.d(&quot;DBTEST003&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\r\n            Log.d(&quot;DBTEST004&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\r\n            Log.d(&quot;DBTEST005A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\r\n            Log.d(&quot;DBTEST005B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\r\n            Log.d(&quot;DBTEST005C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\r\n            Log.d(&quot;DBTEST006&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\r\n        }\r\n    }\r\n\r\nThe result written to the log:-\r\n\r\n    2022-10-30 11:19:01.465 D/DBTEST001: User User001 login = false\r\n    2022-10-30 11:19:01.466 D/DBTEST002A: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.466 D/DBTEST002B: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.467 D/DBTEST002C: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.477 D/DBTEST003: User User001 added = true\r\n    2022-10-30 11:19:01.478 D/DBTEST004: User User001 login = true\r\n    2022-10-30 11:19:01.479 D/DBTEST005A: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.479 D/DBTEST005B: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.480 D/DBTEST005C: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.488 D/DBTEST006: User User001 added = true\r\n    \r\n    \r\n    2022-10-30 11:19:01.489 D/DBTEST001: User User002 login = false\r\n    2022-10-30 11:19:01.490 D/DBTEST002A: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.490 D/DBTEST002B: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.491 D/DBTEST002C: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.500 D/DBTEST003: User User002 added = true\r\n    2022-10-30 11:19:01.500 D/DBTEST004: User User002 login = true\r\n    2022-10-30 11:19:01.501 D/DBTEST005A: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.537 D/DBTEST005B: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.537 D/DBTEST005C: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.555 D/DBTEST006: User User002 added = true\r\n    \r\n    \r\n    2022-10-30 11:19:01.555 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@cf2ef01\r\n    2022-10-30 11:19:01.556 I/System.out: 0 {\r\n    2022-10-30 11:19:01.556 I/System.out:    ID=1\r\n    2022-10-30 11:19:01.556 I/System.out:    username=User001\r\n    2022-10-30 11:19:01.556 I/System.out:    password=password001\r\n    2022-10-30 11:19:01.556 I/System.out:    email=User001@email.com\r\n    2022-10-30 11:19:01.556 I/System.out:    phone=1234567890\r\n    2022-10-30 11:19:01.556 I/System.out: }\r\n    2022-10-30 11:19:01.557 I/System.out: 1 {\r\n    2022-10-30 11:19:01.557 I/System.out:    ID=2\r\n    2022-10-30 11:19:01.557 I/System.out:    username=User001\r\n    2022-10-30 11:19:01.557 I/System.out:    password=password001\r\n    2022-10-30 11:19:01.557 I/System.out:    email=User001@email.com\r\n    2022-10-30 11:19:01.557 I/System.out:    phone=1234567890\r\n    2022-10-30 11:19:01.557 I/System.out: }\r\n    2022-10-30 11:19:01.557 I/System.out: 2 {\r\n    2022-10-30 11:19:01.557 I/System.out:    ID=3\r\n    2022-10-30 11:19:01.557 I/System.out:    username=User002\r\n    2022-10-30 11:19:01.557 I/System.out:    password=password002\r\n    2022-10-30 11:19:01.557 I/System.out:    email=User002@email.com\r\n    2022-10-30 11:19:01.557 I/System.out:    phone=1333333333\r\n    2022-10-30 11:19:01.557 I/System.out: }\r\n    2022-10-30 11:19:01.558 I/System.out: 3 {\r\n    2022-10-30 11:19:01.558 I/System.out:    ID=4\r\n    2022-10-30 11:19:01.558 I/System.out:    username=User002\r\n    2022-10-30 11:19:01.558 I/System.out:    password=password002\r\n    2022-10-30 11:19:01.558 I/System.out:    email=User002@email.com\r\n    2022-10-30 11:19:01.558 I/System.out:    phone=1333333333\r\n    2022-10-30 11:19:01.558 I/System.out: }\r\n    2022-10-30 11:19:01.558 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\nAs can be seen:-\r\n\r\n- the corrected CheckUsername method (A) returns the appropriate result (false if the user does not exist and true if the user does exist)\r\n- the alternative checkUserName method (B) returns the same as (A)\r\n- the original CheckUsername now CheckUsernameOriginal (C) returns the incorrect results .\r\n- the users have been added accordingly (note that no logic has been incorporated to stop the duplication of a username and hence the 4 rows)\r\n    - if you want to restrict usernames, then rather than using logic you could make the username column UNIQUE.\r\n\r\n**Output if using UNIQUE constraint on username column** :-\r\n\r\n    2022-10-30 11:46:23.992 D/DBTEST001: User User001 login = false\r\n    2022-10-30 11:46:23.993 D/DBTEST002A: UserUser001 checkuser = false\r\n    2022-10-30 11:46:23.994 D/DBTEST002B: UserUser001 checkuser = false\r\n    2022-10-30 11:46:23.995 D/DBTEST002C: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.006 D/DBTEST003: User User001 added = true\r\n    2022-10-30 11:46:24.006 D/DBTEST004: User User001 login = true\r\n    2022-10-30 11:46:24.006 D/DBTEST005A: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.007 D/DBTEST005B: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.007 D/DBTEST005C: UserUser001 checkuser = false\r\n    2022-10-30 11:46:24.011 E/SQLiteDatabase: Error inserting username=User001 email=User001@email.com phone=1234567890 password=password001\r\n        android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\r\n            at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\r\n            at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\r\n            at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:19)\r\n            at android.app.Activity.performCreate(Activity.java:7994)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    2022-10-30 11:46:24.011 D/DBTEST006: User User001 added = false\r\n    2022-10-30 11:46:24.011 D/DBTEST001: User User002 login = false\r\n    2022-10-30 11:46:24.012 D/DBTEST002A: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.012 D/DBTEST002B: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.013 D/DBTEST002C: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.026 D/DBTEST003: User User002 added = true\r\n    2022-10-30 11:46:24.026 D/DBTEST004: User User002 login = true\r\n    2022-10-30 11:46:24.027 D/DBTEST005A: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.055 D/DBTEST005B: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.055 D/DBTEST005C: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.057 E/SQLiteDatabase: Error inserting username=User002 email=User002@email.com phone=1333333333 password=password002\r\n        android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\r\n            at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\r\n            at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\r\n            at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:21)\r\n            at android.app.Activity.performCreate(Activity.java:7994)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    2022-10-30 11:46:24.057 D/DBTEST006: User User002 added = false\r\n\r\n\r\n- Note that the UNIQUE constraint conflict is trapped by the **insert** method but the trapped exception is still written to the log.\r\n- as can be seen the duplicated user names are not added and the DBTEST006 messages indicate that the row was not added.\r\n- the additional rows are now not present in the extract from the database.\r\n\r\n\r\n","title":"Data Registration to database and validation from database Sqlite won&#39;t work","body":"<p><strong>Potential Issue 1 (probable cause according to your symptoms)</strong></p>\n<p>Your <em><strong><code>checkUsername</code></strong></em> method is probably incorrect as it <strong>returns false if the username has been located</strong>, true if not.  I suspect that you really want:-</p>\n<pre><code>public Boolean CheckUsername(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        return false;\n    }else{\n        return true;\n    }\n}\n</code></pre>\n<p>However, you might want to consider using the more compact/consice :-</p>\n<pre><code>public boolean checkUserName(String userName) {\n    return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\n}\n</code></pre>\n<p><strong>Potential Issue 2 (may well cause future issues)</strong></p>\n<blockquote>\n<p>when i press the register button nothing will happened, and the app showing no errors.</p>\n</blockquote>\n<p>You don't say what doesn't happen i.e. what you expect to happen.</p>\n<p>A lot could depend upon the code that you haven't shown and you may encounters issues due to using <code>startActivity</code> to apparently return to the invoking/parent activity (without the complete code this may or may not be the case).</p>\n<p>Using 'startActivity' will not return to the actual activity, instead it will end (destroy) the invoking activity and start a brand new one.</p>\n<p>Instead, you should return to the invoking/parent activity by finishing the child activity using <code>finish()</code>.</p>\n<p>**Potential Issue 3 (may well result in issues)\nThe phone number column is indicated as being a java integer. This would be insufficient to hold the full range of 10 figure phone numbers.</p>\n<p>That is the highest value a Java int can be is 2147483647.</p>\n<p><strong>Potential Issue 4 (unlikely, according to your sysmptoms, to be an issue)</strong></p>\n<blockquote>\n<p>At first i build the the onCreate and insert function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number).</p>\n</blockquote>\n<p>This could also be an issue, if you used the App, then altered the onCreate code to add the new columns and just reran the App. The <code>onCreate</code> method is only run once for the lifetime of the database, which unless you specifically delete the database or uninstall the App would then result in the new columns not existing. However, you would encounter <em><strong>column not found</strong></em> errors which would contradict you saying that there are no errors.</p>\n<p><strong>Demo</strong></p>\n<p>Perhaps consider the following that was used to debug <strong>Issue 1</strong>.</p>\n<p>The used a modified <strong>DatabaseHelper</strong> with the following modifications:-</p>\n<pre><code>// check if username already exists\npublic Boolean CheckUsernameOriginal(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        return false;\n    }else{\n        return true;\n    }\n}\n// check if username already exists\npublic Boolean CheckUsername(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        //return false;\n        return true; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\n    }else{\n        //return true;\n        return false; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\n    }\n}\n\npublic boolean checkUserName(String userName) {\n    return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\n}\n</code></pre>\n<p>i.e.:-</p>\n<ul>\n<li>the original <strong>CheckUsername</strong> method renamed to <strong>CheckUsernameOriginal</strong></li>\n<li>a new <strong>CheckUserName</strong> method changed accordingly to return true if the username was found.</li>\n<li>a new <strong>checkUserName</strong> method that uses the suggested more compact/concise code and the <strong>longForQuery</strong> method.</li>\n</ul>\n<p>The DBHelper was then used in <strong>MainActivity</strong> to check the code and additionally the resultant data in the database using :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DatabaseHelper dbHelper;\n    //boolean logged_in = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        dbHelper = new DatabaseHelper(this);\n        testUser(&quot;User001&quot;,&quot;password001&quot;, &quot;User001@email.com&quot;,1234567890);\n        //testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,9999999999); /* WARNING 9999999999 too big for int */\n        testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,1333333333);\n\n        DatabaseUtils.dumpCursor(\n                dbHelper.getWritableDatabase().query(&quot;user&quot;,null,null,null,null,null,null)\n        );\n\n    }\n\n    void testUser(String testUserName, String testUserPassword, String testUserEmail, int testUserPhone) {\n        Log.d(&quot;DBTEST001&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\n        Log.d(&quot;DBTEST002A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\n        Log.d(&quot;DBTEST002B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\n        Log.d(&quot;DBTEST002C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\n        Log.d(&quot;DBTEST003&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\n        Log.d(&quot;DBTEST004&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\n        Log.d(&quot;DBTEST005A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\n        Log.d(&quot;DBTEST005B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\n        Log.d(&quot;DBTEST005C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\n        Log.d(&quot;DBTEST006&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\n    }\n}\n</code></pre>\n<p>The result written to the log:-</p>\n<pre><code>2022-10-30 11:19:01.465 D/DBTEST001: User User001 login = false\n2022-10-30 11:19:01.466 D/DBTEST002A: UserUser001 checkuser = false\n2022-10-30 11:19:01.466 D/DBTEST002B: UserUser001 checkuser = false\n2022-10-30 11:19:01.467 D/DBTEST002C: UserUser001 checkuser = true\n2022-10-30 11:19:01.477 D/DBTEST003: User User001 added = true\n2022-10-30 11:19:01.478 D/DBTEST004: User User001 login = true\n2022-10-30 11:19:01.479 D/DBTEST005A: UserUser001 checkuser = true\n2022-10-30 11:19:01.479 D/DBTEST005B: UserUser001 checkuser = true\n2022-10-30 11:19:01.480 D/DBTEST005C: UserUser001 checkuser = false\n2022-10-30 11:19:01.488 D/DBTEST006: User User001 added = true\n\n\n2022-10-30 11:19:01.489 D/DBTEST001: User User002 login = false\n2022-10-30 11:19:01.490 D/DBTEST002A: UserUser002 checkuser = false\n2022-10-30 11:19:01.490 D/DBTEST002B: UserUser002 checkuser = false\n2022-10-30 11:19:01.491 D/DBTEST002C: UserUser002 checkuser = true\n2022-10-30 11:19:01.500 D/DBTEST003: User User002 added = true\n2022-10-30 11:19:01.500 D/DBTEST004: User User002 login = true\n2022-10-30 11:19:01.501 D/DBTEST005A: UserUser002 checkuser = true\n2022-10-30 11:19:01.537 D/DBTEST005B: UserUser002 checkuser = true\n2022-10-30 11:19:01.537 D/DBTEST005C: UserUser002 checkuser = false\n2022-10-30 11:19:01.555 D/DBTEST006: User User002 added = true\n\n\n2022-10-30 11:19:01.555 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@cf2ef01\n2022-10-30 11:19:01.556 I/System.out: 0 {\n2022-10-30 11:19:01.556 I/System.out:    ID=1\n2022-10-30 11:19:01.556 I/System.out:    username=User001\n2022-10-30 11:19:01.556 I/System.out:    password=password001\n2022-10-30 11:19:01.556 I/System.out:    email=User001@email.com\n2022-10-30 11:19:01.556 I/System.out:    phone=1234567890\n2022-10-30 11:19:01.556 I/System.out: }\n2022-10-30 11:19:01.557 I/System.out: 1 {\n2022-10-30 11:19:01.557 I/System.out:    ID=2\n2022-10-30 11:19:01.557 I/System.out:    username=User001\n2022-10-30 11:19:01.557 I/System.out:    password=password001\n2022-10-30 11:19:01.557 I/System.out:    email=User001@email.com\n2022-10-30 11:19:01.557 I/System.out:    phone=1234567890\n2022-10-30 11:19:01.557 I/System.out: }\n2022-10-30 11:19:01.557 I/System.out: 2 {\n2022-10-30 11:19:01.557 I/System.out:    ID=3\n2022-10-30 11:19:01.557 I/System.out:    username=User002\n2022-10-30 11:19:01.557 I/System.out:    password=password002\n2022-10-30 11:19:01.557 I/System.out:    email=User002@email.com\n2022-10-30 11:19:01.557 I/System.out:    phone=1333333333\n2022-10-30 11:19:01.557 I/System.out: }\n2022-10-30 11:19:01.558 I/System.out: 3 {\n2022-10-30 11:19:01.558 I/System.out:    ID=4\n2022-10-30 11:19:01.558 I/System.out:    username=User002\n2022-10-30 11:19:01.558 I/System.out:    password=password002\n2022-10-30 11:19:01.558 I/System.out:    email=User002@email.com\n2022-10-30 11:19:01.558 I/System.out:    phone=1333333333\n2022-10-30 11:19:01.558 I/System.out: }\n2022-10-30 11:19:01.558 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>As can be seen:-</p>\n<ul>\n<li>the corrected CheckUsername method (A) returns the appropriate result (false if the user does not exist and true if the user does exist)</li>\n<li>the alternative checkUserName method (B) returns the same as (A)</li>\n<li>the original CheckUsername now CheckUsernameOriginal (C) returns the incorrect results .</li>\n<li>the users have been added accordingly (note that no logic has been incorporated to stop the duplication of a username and hence the 4 rows)\n<ul>\n<li>if you want to restrict usernames, then rather than using logic you could make the username column UNIQUE.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Output if using UNIQUE constraint on username column</strong> :-</p>\n<pre><code>2022-10-30 11:46:23.992 D/DBTEST001: User User001 login = false\n2022-10-30 11:46:23.993 D/DBTEST002A: UserUser001 checkuser = false\n2022-10-30 11:46:23.994 D/DBTEST002B: UserUser001 checkuser = false\n2022-10-30 11:46:23.995 D/DBTEST002C: UserUser001 checkuser = true\n2022-10-30 11:46:24.006 D/DBTEST003: User User001 added = true\n2022-10-30 11:46:24.006 D/DBTEST004: User User001 login = true\n2022-10-30 11:46:24.006 D/DBTEST005A: UserUser001 checkuser = true\n2022-10-30 11:46:24.007 D/DBTEST005B: UserUser001 checkuser = true\n2022-10-30 11:46:24.007 D/DBTEST005C: UserUser001 checkuser = false\n2022-10-30 11:46:24.011 E/SQLiteDatabase: Error inserting username=User001 email=User001@email.com phone=1234567890 password=password001\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\n        at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:19)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-10-30 11:46:24.011 D/DBTEST006: User User001 added = false\n2022-10-30 11:46:24.011 D/DBTEST001: User User002 login = false\n2022-10-30 11:46:24.012 D/DBTEST002A: UserUser002 checkuser = false\n2022-10-30 11:46:24.012 D/DBTEST002B: UserUser002 checkuser = false\n2022-10-30 11:46:24.013 D/DBTEST002C: UserUser002 checkuser = true\n2022-10-30 11:46:24.026 D/DBTEST003: User User002 added = true\n2022-10-30 11:46:24.026 D/DBTEST004: User User002 login = true\n2022-10-30 11:46:24.027 D/DBTEST005A: UserUser002 checkuser = true\n2022-10-30 11:46:24.055 D/DBTEST005B: UserUser002 checkuser = true\n2022-10-30 11:46:24.055 D/DBTEST005C: UserUser002 checkuser = false\n2022-10-30 11:46:24.057 E/SQLiteDatabase: Error inserting username=User002 email=User002@email.com phone=1333333333 password=password002\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\n        at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:21)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-10-30 11:46:24.057 D/DBTEST006: User User002 added = false\n</code></pre>\n<ul>\n<li>Note that the UNIQUE constraint conflict is trapped by the <strong>insert</strong> method but the trapped exception is still written to the log.</li>\n<li>as can be seen the duplicated user names are not added and the DBTEST006 messages indicate that the row was not added.</li>\n<li>the additional rows are now not present in the extract from the database.</li>\n</ul>\n"}],"owner":{"account_id":24716160,"reputation":17,"user_id":18605870,"display_name":"suppatra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74249853,"answer_count":1,"score":-1,"last_activity_date":1667091320,"creation_date":1667061644,"question_id":74247039,"body_markdown":"I&#39;ve got this Sqlite database named DatabaseHelper and i need to register the data (username, pass, email, and phone) i need to check if username already exists when button register pushed and check user and pass data at login activity. Here is my code :\r\n\r\nAt first i build the the *onCreate* and *insert* function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number), when i press the register button nothing will happened, and the app showing no errors.\r\n\r\n\r\n**DatabaseHelper.java**  \r\n\r\n```\r\npublic class DatabaseHelper extends SQLiteOpenHelper {\r\n    public static final String DATABASE_NAME = &quot;login.db&quot;;\r\n\r\n\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, 1);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(&quot;CREATE TABLE user(ID INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, password TEXT, email TEXT, phone INTEGER)&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS user&quot;);\r\n    }\r\n\r\n    public boolean Insert(String username, String password, String email, Integer phone){\r\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;username&quot;, username);\r\n        contentValues.put(&quot;password&quot;, password);\r\n        contentValues.put(&quot;email&quot;, email);\r\n        contentValues.put(&quot;phone&quot;, phone);\r\n        long result = sqLiteDatabase.insert(&quot;user&quot;, null, contentValues);\r\n        if(result == -1){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check if username already exists\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check user and pass matching at login activity\r\n    public Boolean CheckLogin(String username, String password){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=? AND password=?&quot;, new String[]{username, password});\r\n        if(cursor.getCount() &gt; 0){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Register.java**\r\n\r\n```\r\nregister.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n            String User = user.getText().toString().trim();\r\n            String Pass = pass.getText().toString().trim();\r\n            String Email = email.getText().toString().trim();\r\n            String Phone = phone.getText().toString().trim();\r\n            Integer phoneNumber = Integer.parseInt(Phone);\r\n            Boolean checkUsername = databaseHelper.CheckUsername(User);\r\n            if(checkUsername){\r\n                Boolean insert = databaseHelper.Insert(User, Pass, Email, phoneNumber);\r\n                if(insert){\r\n                    Intent registerIntent = new Intent(Register.this,MainActivity.class);\r\n                    startActivity(registerIntent);\r\n                }\r\n            }else{\r\n                Toast.makeText(getApplicationContext(), &quot;Username already taken&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    }\r\n});\r\n```\r\n\r\n**Login.java**\r\n\r\n```\r\nlogin.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        String User = username.getText().toString();\r\n        String Pass = password.getText().toString();\r\n        Boolean checklogin = databaseHelper.CheckLogin(User, Pass);\r\n        if(username.getText().toString().isEmpty()){\r\n            Toast.makeText(getApplicationContext(), &quot;Username must not be empty!&quot;, Toast.LENGTH_SHORT).show();\r\n        }else if(password.getText().toString().isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), &quot;Password must not be empty!&quot;, Toast.LENGTH_SHORT).show();\r\n        }else if(checklogin){\r\n            Intent homeintent = new Intent(getBaseContext(),Home.class);\r\n            startActivity(homeintent);\r\n        }else{\r\n            Toast.makeText(getApplicationContext(), &quot;Invalid username or password&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n});\r\n```\r\n\r\n","title":"Data Registration to database and validation from database Sqlite won&#39;t work","body":"<p>I've got this Sqlite database named DatabaseHelper and i need to register the data (username, pass, email, and phone) i need to check if username already exists when button register pushed and check user and pass data at login activity. Here is my code :</p>\n<p>At first i build the the <em>onCreate</em> and <em>insert</em> function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number), when i press the register button nothing will happened, and the app showing no errors.</p>\n<p><strong>DatabaseHelper.java</strong></p>\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;login.db&quot;;\n\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;CREATE TABLE user(ID INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, password TEXT, email TEXT, phone INTEGER)&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS user&quot;);\n    }\n\n    public boolean Insert(String username, String password, String email, Integer phone){\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;username&quot;, username);\n        contentValues.put(&quot;password&quot;, password);\n        contentValues.put(&quot;email&quot;, email);\n        contentValues.put(&quot;phone&quot;, phone);\n        long result = sqLiteDatabase.insert(&quot;user&quot;, null, contentValues);\n        if(result == -1){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    // check if username already exists\n    public Boolean CheckUsername(String username){\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n        if(cursor.getCount() &gt; 0){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    // check user and pass matching at login activity\n    public Boolean CheckLogin(String username, String password){\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=? AND password=?&quot;, new String[]{username, password});\n        if(cursor.getCount() &gt; 0){\n            return true;\n        }else{\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>Register.java</strong></p>\n<pre><code>register.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n            String User = user.getText().toString().trim();\n            String Pass = pass.getText().toString().trim();\n            String Email = email.getText().toString().trim();\n            String Phone = phone.getText().toString().trim();\n            Integer phoneNumber = Integer.parseInt(Phone);\n            Boolean checkUsername = databaseHelper.CheckUsername(User);\n            if(checkUsername){\n                Boolean insert = databaseHelper.Insert(User, Pass, Email, phoneNumber);\n                if(insert){\n                    Intent registerIntent = new Intent(Register.this,MainActivity.class);\n                    startActivity(registerIntent);\n                }\n            }else{\n                Toast.makeText(getApplicationContext(), &quot;Username already taken&quot;, Toast.LENGTH_SHORT).show();\n            }\n    }\n});\n</code></pre>\n<p><strong>Login.java</strong></p>\n<pre><code>login.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        String User = username.getText().toString();\n        String Pass = password.getText().toString();\n        Boolean checklogin = databaseHelper.CheckLogin(User, Pass);\n        if(username.getText().toString().isEmpty()){\n            Toast.makeText(getApplicationContext(), &quot;Username must not be empty!&quot;, Toast.LENGTH_SHORT).show();\n        }else if(password.getText().toString().isEmpty()) {\n            Toast.makeText(getApplicationContext(), &quot;Password must not be empty!&quot;, Toast.LENGTH_SHORT).show();\n        }else if(checklogin){\n            Intent homeintent = new Intent(getBaseContext(),Home.class);\n            startActivity(homeintent);\n        }else{\n            Toast.makeText(getApplicationContext(), &quot;Invalid username or password&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":97511,"reputation":2688,"user_id":264482,"accept_rate":94,"display_name":"Rob Goodwin"},"score":1,"creation_date":1663185370,"post_id":73722512,"comment_id":130182657,"body_markdown":"What different method are you wanting to use?  Shortcut?","body":"What different method are you wanting to use?  Shortcut?"},{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663185461,"post_id":73722512,"comment_id":130182682,"body_markdown":"It can be any method but not the methods I mentioned above.","body":"It can be any method but not the methods I mentioned above."},{"owner":{"account_id":97511,"reputation":2688,"user_id":264482,"accept_rate":94,"display_name":"Rob Goodwin"},"score":0,"creation_date":1663185831,"post_id":73722512,"comment_id":130182770,"body_markdown":"ok, then a shortcut?","body":"ok, then a shortcut?"},{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663185940,"post_id":73722512,"comment_id":130182798,"body_markdown":"Shortcut on a IDE ?","body":"Shortcut on a IDE ?"},{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":0,"creation_date":1663186959,"post_id":73722512,"comment_id":130183070,"body_markdown":"And what is your project&#39;s build like? Is it maven or gradle? Assuming its maven you can just need to execute `mvn spring-boot:run`","body":"And what is your project&#39;s build like? Is it maven or gradle? Assuming its maven you can just need to execute <code>mvn spring-boot:run</code>"},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663186961,"post_id":73722512,"comment_id":130183071,"body_markdown":"No, the shortcut would be targeting the java executable in the JRE, and your JAR (or wherever your class files are) would be a parameter to the shortcut. Someone did it here: https://superuser.com/questions/975687/how-to-pin-an-executable-jar-to-start-in-windows-10","body":"No, the shortcut would be targeting the java executable in the JRE, and your JAR (or wherever your class files are) would be a parameter to the shortcut. Someone did it here: <a href=\"https://superuser.com/questions/975687/how-to-pin-an-executable-jar-to-start-in-windows-10\" title=\"how to pin an executable jar to start in windows 10\">superuser.com/questions/975687/&hellip;</a>"},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663187006,"post_id":73722512,"comment_id":130183084,"body_markdown":"@AsifKamranMalick That would violate his command line constraint.","body":"@AsifKamranMalick That would violate his command line constraint."},{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":0,"creation_date":1663187289,"post_id":73722512,"comment_id":130183174,"body_markdown":"Is the OP completely excluding the option of running from commandline or just not willing to use the old vanilla way of executing the jar as opposed to the Springboot maven plugin way?","body":"Is the OP completely excluding the option of running from commandline or just not willing to use the old vanilla way of executing the jar as opposed to the Springboot maven plugin way?"}],"answers":[{"tags":[],"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663185837,"creation_date":1663185837,"answer_id":73722599,"question_id":73722512,"body_markdown":"A couple of options, depending on how advanced you want to make it.\r\n\r\nHere&#39;s a related answer on how to use Launch4J:\r\nhttps://stackoverflow.com/questions/44983169/how-do-i-bundle-a-jre-in-my-jar-so-that-it-can-run-on-systems-without-java\r\n\r\nYou can also look into using https://www.advancedinstaller.com, which allows helps you create installation wizards for different operating systems, including setting registry values, etc.","title":"How to run Java project on local without any program?","body":"<p>A couple of options, depending on how advanced you want to make it.</p>\n<p>Here's a related answer on how to use Launch4J:\n<a href=\"https://stackoverflow.com/questions/44983169/how-do-i-bundle-a-jre-in-my-jar-so-that-it-can-run-on-systems-without-java\">How do I bundle a JRE in my JAR, so that it can run on systems without Java?</a></p>\n<p>You can also look into using <a href=\"https://www.advancedinstaller.com\" rel=\"nofollow noreferrer\">https://www.advancedinstaller.com</a>, which allows helps you create installation wizards for different operating systems, including setting registry values, etc.</p>\n"},{"tags":[],"owner":{"account_id":16266080,"reputation":56,"user_id":16564712,"display_name":"Gaya Touak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667091209,"creation_date":1663185860,"answer_id":73722605,"question_id":73722512,"body_markdown":"Make sure that the JRE is installed on your machine (which is the case if you&#39;re running `.jar` files from `cmd`) then open the jar file as any windows program, if you want to generate an executable `.exe` from your file then use launch4j.\r\n","title":"How to run Java project on local without any program?","body":"<p>Make sure that the JRE is installed on your machine (which is the case if you're running <code>.jar</code> files from <code>cmd</code>) then open the jar file as any windows program, if you want to generate an executable <code>.exe</code> from your file then use launch4j.</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663186999,"creation_date":1663186692,"answer_id":73722740,"question_id":73722512,"body_markdown":"## GraalVM\r\n\r\nAnother more modern and efficient approach than launch4j would be to use GraalVM.\r\n\r\n - Install GraalVM\r\n - Install some C developer environment like Visual Studio\r\n - Run: `gu install native-image`\r\n\r\nAfter compiling your Java code with `javac` compile as a **native image**\r\n\r\n - `javac YourClass.java`\r\n - `native-image YourClass`\r\n\r\nNow you have an efficient executable that can run on its own anywhere.\r\n\r\n*At least this is how you do it manually.*\r\n\r\nYou have a library for Spring, `spring-native`, to help you. Or you can develop your project using Quarkus instead, which can build a native image out of the box","title":"How to run Java project on local without any program?","body":"<h2>GraalVM</h2>\n<p>Another more modern and efficient approach than launch4j would be to use GraalVM.</p>\n<ul>\n<li>Install GraalVM</li>\n<li>Install some C developer environment like Visual Studio</li>\n<li>Run: <code>gu install native-image</code></li>\n</ul>\n<p>After compiling your Java code with <code>javac</code> compile as a <strong>native image</strong></p>\n<ul>\n<li><code>javac YourClass.java</code></li>\n<li><code>native-image YourClass</code></li>\n</ul>\n<p>Now you have an efficient executable that can run on its own anywhere.</p>\n<p><em>At least this is how you do it manually.</em></p>\n<p>You have a library for Spring, <code>spring-native</code>, to help you. Or you can develop your project using Quarkus instead, which can build a native image out of the box</p>\n"}],"owner":{"display_name":"user19997904"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667091209,"creation_date":1663185263,"question_id":73722512,"body_markdown":"I have a spring boot project. How can I make the java spring boot project run on my local machine without using any application (Intellij IDEA, Eclipse, Heroku, Docker etc.)? I can do this using jar file on command line, but I want to use a different method. How can I do that on windows ? ","title":"How to run Java project on local without any program?","body":"<p>I have a spring boot project. How can I make the java spring boot project run on my local machine without using any application (Intellij IDEA, Eclipse, Heroku, Docker etc.)? I can do this using jar file on command line, but I want to use a different method. How can I do that on windows ?</p>\n"},{"tags":["java","mysql","date","validation","try-catch"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667089635,"post_id":74249440,"comment_id":131088497,"body_markdown":"Put more effort into drafting your Question. Use punctuation, correct spelling, etc. Avoid run-on sentences. Organize your thoughts. This site is meant to be more like Wikipedia than a casual chat room. You need not have perfect English is English is not your first language. But you do need to take care, and make an effort.","body":"Put more effort into drafting your Question. Use punctuation, correct spelling, etc. Avoid run-on sentences. Organize your thoughts. This site is meant to be more like Wikipedia than a casual chat room. You need not have perfect English is English is not your first language. But you do need to take care, and make an effort."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1667089715,"post_id":74249440,"comment_id":131088507,"body_markdown":"Give exact example input data  and output result/error to demonstrate your problem. Your prose says &quot;Feb-31&quot; but your formatter says `uuuu/MM/dd`.","body":"Give exact example input data  and output result/error to demonstrate your problem. Your prose says &quot;Feb-31&quot; but your formatter says <code>uuuu&#47;MM&#47;dd</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667090857,"creation_date":1667090525,"answer_id":74249822,"question_id":74249440,"body_markdown":"# `ResolverStyle.STRICT`\r\n\r\nThe default resolver style in `DateTimeFormatter` will adjust your invalid 31st of February to the appropriate 28th or 29th. \r\n\r\nIf you want to avoid that tolerant adjustment, specify a different [resolver style][1].\r\n\r\n```java\r\n    DateTimeFormatter\r\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\r\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\r\n```\r\n\r\nCall `parse` on the `LocalDate` class rather than the `DateTimeFormatter` class. \r\n\r\n```java\r\nLocalDate ld = null ; \r\n\r\nString input = &quot;2022/02/31&quot; ;\r\nDateTimeFormatter formatter = \r\n    DateTimeFormatter\r\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\r\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\r\ntry {\r\n\tld = LocalDate.parse( input , formatter ) ;\r\n} catch ( DateTimeParseException e ) {\r\n\tSystem.out.println( e ) ;\r\n}\r\nSystem.out.println( ld ) ;\r\n```\r\n\r\nSee this [code run at Ideone.com.][2]\r\n\r\n&gt;java.time.format.DateTimeParseException: Text &#39;2022/02/31&#39; could not be parsed: Invalid date &#39;FEBRUARY 31&#39;\r\n&gt;\r\n&gt;null\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html\r\n  [2]: https://ideone.com/TNdS09","title":"Validate a date in a string java (block errors like Feb 30)","body":"<h1><code>ResolverStyle.STRICT</code></h1>\n<p>The default resolver style in <code>DateTimeFormatter</code> will adjust your invalid 31st of February to the appropriate 28th or 29th.</p>\n<p>If you want to avoid that tolerant adjustment, specify a different <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html\" rel=\"nofollow noreferrer\">resolver style</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DateTimeFormatter\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\n</code></pre>\n<p>Call <code>parse</code> on the <code>LocalDate</code> class rather than the <code>DateTimeFormatter</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate ld = null ; \n\nString input = &quot;2022/02/31&quot; ;\nDateTimeFormatter formatter = \n    DateTimeFormatter\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\ntry {\n    ld = LocalDate.parse( input , formatter ) ;\n} catch ( DateTimeParseException e ) {\n    System.out.println( e ) ;\n}\nSystem.out.println( ld ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/TNdS09\" rel=\"nofollow noreferrer\">code run at Ideone.com.</a></p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '2022/02/31' could not be parsed: Invalid date 'FEBRUARY 31'</p>\n<p>null</p>\n</blockquote>\n"}],"owner":{"account_id":26771877,"reputation":3,"user_id":20368132,"display_name":"Jassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249822,"answer_count":1,"score":0,"last_activity_date":1667090857,"creation_date":1667084349,"question_id":74249440,"body_markdown":"Im trying to do a connection with a database in Java using OOP and DAO pattern with MySQL and need to validate a date string in java and insert it into MySQl, the connection is fine the problem is the validation. I have to use Strings in both because thats what i was asked for but it doesnt recognize months like february or the ones with 30 days i tried with a while but apparentrly it can be done with the method im usinng (TemporalAccesor for unary operator ERROR). I also have to calculate the age of the person based on that date but since is a string, i cant figure out how to connect it with the date of the computer.\r\n\r\nThanks for any help, really need it\r\n\r\nMethod that throws the exception but allows Feb-31 or Sep-31:\r\nI call it on the method where I fill all the other data and works well except for that detail\r\nAlso tried a regex but i saw is not convenient and doesnt catch that either\r\n```\r\nprivate static void FechaNacV(){\r\n\r\nString date;\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu/MM/dd&quot;);\r\n        date = sc.nextLine();\r\n        try {\r\n\r\n            formatter.parse(date);\r\n            System.out.println(&quot;Valid date&quot;);\r\n        } catch (Exception e) {\r\n            \r\n            System.out.println(&quot;Invalid Date, try yyyy/mm/dd format again&quot;);\r\n            FechaNacV();\r\n        }\r\n    } \r\n```\r\n\r\n","title":"Validate a date in a string java (block errors like Feb 30)","body":"<p>Im trying to do a connection with a database in Java using OOP and DAO pattern with MySQL and need to validate a date string in java and insert it into MySQl, the connection is fine the problem is the validation. I have to use Strings in both because thats what i was asked for but it doesnt recognize months like february or the ones with 30 days i tried with a while but apparentrly it can be done with the method im usinng (TemporalAccesor for unary operator ERROR). I also have to calculate the age of the person based on that date but since is a string, i cant figure out how to connect it with the date of the computer.</p>\n<p>Thanks for any help, really need it</p>\n<p>Method that throws the exception but allows Feb-31 or Sep-31:\nI call it on the method where I fill all the other data and works well except for that detail\nAlso tried a regex but i saw is not convenient and doesnt catch that either</p>\n<pre><code>private static void FechaNacV(){\n\nString date;\n        \n        Scanner sc = new Scanner(System.in);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu/MM/dd&quot;);\n        date = sc.nextLine();\n        try {\n\n            formatter.parse(date);\n            System.out.println(&quot;Valid date&quot;);\n        } catch (Exception e) {\n            \n            System.out.println(&quot;Invalid Date, try yyyy/mm/dd format again&quot;);\n            FechaNacV();\n        }\n    } \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9070,"page":922,"page_size":100}
