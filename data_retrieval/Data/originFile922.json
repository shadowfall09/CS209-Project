{"items":[{"tags":["java","lambda","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1667198820,"post_id":74259436,"comment_id":131105328,"body_markdown":"Using TreeMap for the purpose of finding the closest point is quite inefficient. Just keep track of the smallest known distance and discard points further away than that.","body":"Using TreeMap for the purpose of finding the closest point is quite inefficient. Just keep track of the smallest known distance and discard points further away than that."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667197940,"post_id":74259496,"comment_id":131105123,"body_markdown":"This won&#39;t work as you need an additional function to resolve conflicts as well. Nor does the function to generate the key work.","body":"This won&#39;t work as you need an additional function to resolve conflicts as well. Nor does the function to generate the key work."},{"owner":{"account_id":5047636,"reputation":25,"user_id":4053106,"display_name":"Ambrish Mayank"},"score":0,"creation_date":1667198275,"post_id":74259496,"comment_id":131105202,"body_markdown":"@Teddy Tsai distanceTo also gives compilation error :(","body":"@Teddy Tsai distanceTo also gives compilation error :("},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1667198909,"post_id":74259496,"comment_id":131105346,"body_markdown":"Yeah thanks for noticing, since it&#39;s mapping by distance it could have duplicate keys, a merger is needed to resolve the conflict and there is no method that takes 3 arguments and a default merger, even so the default throwing merger probably would not work.\n\nBut you can still take the track to follow from the answer, by just reading the source code of the toMap() method the solution becomes pretty clear","body":"Yeah thanks for noticing, since it&#39;s mapping by distance it could have duplicate keys, a merger is needed to resolve the conflict and there is no method that takes 3 arguments and a default merger, even so the default throwing merger probably would not work.  But you can still take the track to follow from the answer, by just reading the source code of the toMap() method the solution becomes pretty clear"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667200577,"post_id":74259496,"comment_id":131105673,"body_markdown":"So you haven&#39;t (fully) answered the question, but gave another puzzler for the reader to solve :).","body":"So you haven&#39;t (fully) answered the question, but gave another puzzler for the reader to solve :)."}],"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199110,"creation_date":1667197900,"answer_id":74259496,"question_id":74259436,"body_markdown":"EDIT: the solution is not correct as explained in the comment, still by reading the implementation of toMap() with two arguments in the source code the solution becomes rather obvious with a few minor adjustments.\r\n\r\nThe default Map Implementation the function will use is HashMap, you just need to provide the map implementation you need as last argument like:  \r\n\r\n```\r\n Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point, Treemap::new));\r\n```\r\nIf you chek out the source code you&#39;ll see that the toMap method you used just calls the overload method beneath it with the defaul HashMap implementation:\r\n```\r\n    /**\r\n     * Returns a {@code Collector} that accumulates elements into a\r\n     * {@code Map} whose keys and values are the result of applying the provided\r\n     * mapping functions to the input elements.\r\n     *\r\n     * &lt;p&gt;If the mapped keys contains duplicates (according to\r\n     * {@link Object#equals(Object)}), an {@code IllegalStateException} is\r\n     * thrown when the collection operation is performed.  If the mapped keys\r\n     * may have duplicates, use {@link #toMap(Function, Function, BinaryOperator)}\r\n     * instead.\r\n     *\r\n     * @apiNote\r\n     * It is common for either the key or the value to be the input elements.\r\n     * In this case, the utility method\r\n     * {@link java.util.function.Function#identity()} may be helpful.\r\n     * For example, the following produces a {@code Map} mapping\r\n     * students to their grade point average:\r\n     * &lt;pre&gt;{@code\r\n     *     Map&lt;Student, Double&gt; studentToGPA\r\n     *         students.stream().collect(toMap(Functions.identity(),\r\n     *                                         student -&gt; computeGPA(student)));\r\n     * }&lt;/pre&gt;\r\n     * And the following produces a {@code Map} mapping a unique identifier to\r\n     * students:\r\n     * &lt;pre&gt;{@code\r\n     *     Map&lt;String, Student&gt; studentIdToStudent\r\n     *         students.stream().collect(toMap(Student::getId,\r\n     *                                         Functions.identity());\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * @implNote\r\n     * The returned {@code Collector} is not concurrent.  For parallel stream\r\n     * pipelines, the {@code combiner} function operates by merging the keys\r\n     * from one map into another, which can be an expensive operation.  If it is\r\n     * not required that results are inserted into the {@code Map} in encounter\r\n     * order, using {@link #toConcurrentMap(Function, Function)}\r\n     * may offer better parallel performance.\r\n     *\r\n     * @param &lt;T&gt; the type of the input elements\r\n     * @param &lt;K&gt; the output type of the key mapping function\r\n     * @param &lt;U&gt; the output type of the value mapping function\r\n     * @param keyMapper a mapping function to produce keys\r\n     * @param valueMapper a mapping function to produce values\r\n     * @return a {@code Collector} which collects elements into a {@code Map}\r\n     * whose keys and values are the result of applying mapping functions to\r\n     * the input elements\r\n     *\r\n     * @see #toMap(Function, Function, BinaryOperator)\r\n     * @see #toMap(Function, Function, BinaryOperator, Supplier)\r\n     * @see #toConcurrentMap(Function, Function)\r\n     */\r\n    public static &lt;T, K, U&gt;\r\n    Collector&lt;T, ?, Map&lt;K,U&gt;&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\r\n                                    Function&lt;? super T, ? extends U&gt; valueMapper) {\r\n        return toMap(keyMapper, valueMapper, throwingMerger(), HashMap::new);\r\n    }\r\n```\r\n```\r\n    /**\r\n     * Returns a {@code Collector} that accumulates elements into a\r\n     * {@code Map} whose keys and values are the result of applying the provided\r\n     * mapping functions to the input elements.\r\n     *\r\n     * &lt;p&gt;If the mapped\r\n     * keys contains duplicates (according to {@link Object#equals(Object)}),\r\n     * the value mapping function is applied to each equal element, and the\r\n     * results are merged using the provided merging function.  The {@code Map}\r\n     * is created by a provided supplier function.\r\n     *\r\n     * @implNote\r\n     * The returned {@code Collector} is not concurrent.  For parallel stream\r\n     * pipelines, the {@code combiner} function operates by merging the keys\r\n     * from one map into another, which can be an expensive operation.  If it is\r\n     * not required that results are merged into the {@code Map} in encounter\r\n     * order, using {@link #toConcurrentMap(Function, Function, BinaryOperator, Supplier)}\r\n     * may offer better parallel performance.\r\n     *\r\n     * @param &lt;T&gt; the type of the input elements\r\n     * @param &lt;K&gt; the output type of the key mapping function\r\n     * @param &lt;U&gt; the output type of the value mapping function\r\n     * @param &lt;M&gt; the type of the resulting {@code Map}\r\n     * @param keyMapper a mapping function to produce keys\r\n     * @param valueMapper a mapping function to produce values\r\n     * @param mergeFunction a merge function, used to resolve collisions between\r\n     *                      values associated with the same key, as supplied\r\n     *                      to {@link Map#merge(Object, Object, BiFunction)}\r\n     * @param mapSupplier a function which returns a new, empty {@code Map} into\r\n     *                    which the results will be inserted\r\n     * @return a {@code Collector} which collects elements into a {@code Map}\r\n     * whose keys are the result of applying a key mapping function to the input\r\n     * elements, and whose values are the result of applying a value mapping\r\n     * function to all input elements equal to the key and combining them\r\n     * using the merge function\r\n     *\r\n     * @see #toMap(Function, Function)\r\n     * @see #toMap(Function, Function, BinaryOperator)\r\n     * @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)\r\n     */\r\n    public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt;\r\n    Collector&lt;T, ?, M&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\r\n                                Function&lt;? super T, ? extends U&gt; valueMapper,\r\n                                BinaryOperator&lt;U&gt; mergeFunction,\r\n                                Supplier&lt;M&gt; mapSupplier) {\r\n        BiConsumer&lt;M, T&gt; accumulator\r\n                = (map, element) -&gt; map.merge(keyMapper.apply(element),\r\n                                              valueMapper.apply(element), mergeFunction);\r\n        return new CollectorImpl&lt;&gt;(mapSupplier, accumulator, mapMerger(mergeFunction), CH_ID);\r\n    }\r\n```","title":"Java 8 stream API to convert List to TreeMap","body":"<p>EDIT: the solution is not correct as explained in the comment, still by reading the implementation of toMap() with two arguments in the source code the solution becomes rather obvious with a few minor adjustments.</p>\n<p>The default Map Implementation the function will use is HashMap, you just need to provide the map implementation you need as last argument like:</p>\n<pre><code> Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point, Treemap::new));\n</code></pre>\n<p>If you chek out the source code you'll see that the toMap method you used just calls the overload method beneath it with the defaul HashMap implementation:</p>\n<pre><code>    /**\n     * Returns a {@code Collector} that accumulates elements into a\n     * {@code Map} whose keys and values are the result of applying the provided\n     * mapping functions to the input elements.\n     *\n     * &lt;p&gt;If the mapped keys contains duplicates (according to\n     * {@link Object#equals(Object)}), an {@code IllegalStateException} is\n     * thrown when the collection operation is performed.  If the mapped keys\n     * may have duplicates, use {@link #toMap(Function, Function, BinaryOperator)}\n     * instead.\n     *\n     * @apiNote\n     * It is common for either the key or the value to be the input elements.\n     * In this case, the utility method\n     * {@link java.util.function.Function#identity()} may be helpful.\n     * For example, the following produces a {@code Map} mapping\n     * students to their grade point average:\n     * &lt;pre&gt;{@code\n     *     Map&lt;Student, Double&gt; studentToGPA\n     *         students.stream().collect(toMap(Functions.identity(),\n     *                                         student -&gt; computeGPA(student)));\n     * }&lt;/pre&gt;\n     * And the following produces a {@code Map} mapping a unique identifier to\n     * students:\n     * &lt;pre&gt;{@code\n     *     Map&lt;String, Student&gt; studentIdToStudent\n     *         students.stream().collect(toMap(Student::getId,\n     *                                         Functions.identity());\n     * }&lt;/pre&gt;\n     *\n     * @implNote\n     * The returned {@code Collector} is not concurrent.  For parallel stream\n     * pipelines, the {@code combiner} function operates by merging the keys\n     * from one map into another, which can be an expensive operation.  If it is\n     * not required that results are inserted into the {@code Map} in encounter\n     * order, using {@link #toConcurrentMap(Function, Function)}\n     * may offer better parallel performance.\n     *\n     * @param &lt;T&gt; the type of the input elements\n     * @param &lt;K&gt; the output type of the key mapping function\n     * @param &lt;U&gt; the output type of the value mapping function\n     * @param keyMapper a mapping function to produce keys\n     * @param valueMapper a mapping function to produce values\n     * @return a {@code Collector} which collects elements into a {@code Map}\n     * whose keys and values are the result of applying mapping functions to\n     * the input elements\n     *\n     * @see #toMap(Function, Function, BinaryOperator)\n     * @see #toMap(Function, Function, BinaryOperator, Supplier)\n     * @see #toConcurrentMap(Function, Function)\n     */\n    public static &lt;T, K, U&gt;\n    Collector&lt;T, ?, Map&lt;K,U&gt;&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n                                    Function&lt;? super T, ? extends U&gt; valueMapper) {\n        return toMap(keyMapper, valueMapper, throwingMerger(), HashMap::new);\n    }\n</code></pre>\n<pre><code>    /**\n     * Returns a {@code Collector} that accumulates elements into a\n     * {@code Map} whose keys and values are the result of applying the provided\n     * mapping functions to the input elements.\n     *\n     * &lt;p&gt;If the mapped\n     * keys contains duplicates (according to {@link Object#equals(Object)}),\n     * the value mapping function is applied to each equal element, and the\n     * results are merged using the provided merging function.  The {@code Map}\n     * is created by a provided supplier function.\n     *\n     * @implNote\n     * The returned {@code Collector} is not concurrent.  For parallel stream\n     * pipelines, the {@code combiner} function operates by merging the keys\n     * from one map into another, which can be an expensive operation.  If it is\n     * not required that results are merged into the {@code Map} in encounter\n     * order, using {@link #toConcurrentMap(Function, Function, BinaryOperator, Supplier)}\n     * may offer better parallel performance.\n     *\n     * @param &lt;T&gt; the type of the input elements\n     * @param &lt;K&gt; the output type of the key mapping function\n     * @param &lt;U&gt; the output type of the value mapping function\n     * @param &lt;M&gt; the type of the resulting {@code Map}\n     * @param keyMapper a mapping function to produce keys\n     * @param valueMapper a mapping function to produce values\n     * @param mergeFunction a merge function, used to resolve collisions between\n     *                      values associated with the same key, as supplied\n     *                      to {@link Map#merge(Object, Object, BiFunction)}\n     * @param mapSupplier a function which returns a new, empty {@code Map} into\n     *                    which the results will be inserted\n     * @return a {@code Collector} which collects elements into a {@code Map}\n     * whose keys are the result of applying a key mapping function to the input\n     * elements, and whose values are the result of applying a value mapping\n     * function to all input elements equal to the key and combining them\n     * using the merge function\n     *\n     * @see #toMap(Function, Function)\n     * @see #toMap(Function, Function, BinaryOperator)\n     * @see #toConcurrentMap(Function, Function, BinaryOperator, Supplier)\n     */\n    public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt;\n    Collector&lt;T, ?, M&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n                                Function&lt;? super T, ? extends U&gt; valueMapper,\n                                BinaryOperator&lt;U&gt; mergeFunction,\n                                Supplier&lt;M&gt; mapSupplier) {\n        BiConsumer&lt;M, T&gt; accumulator\n                = (map, element) -&gt; map.merge(keyMapper.apply(element),\n                                              valueMapper.apply(element), mergeFunction);\n        return new CollectorImpl&lt;&gt;(mapSupplier, accumulator, mapMerger(mergeFunction), CH_ID);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5047636,"reputation":25,"user_id":4053106,"display_name":"Ambrish Mayank"},"score":0,"creation_date":1667203333,"post_id":74259579,"comment_id":131106347,"body_markdown":"Worked! I should have been used forEach to make it more simpler. :)","body":"Worked! I should have been used forEach to make it more simpler. :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667218795,"post_id":74259579,"comment_id":131110985,"body_markdown":"You don’t even need the `TreeMap` when you only want the minimum element, as [this answer](https://stackoverflow.com/a/74259755/2711488) demonstrates.","body":"You don’t even need the <code>TreeMap</code> when you only want the minimum element, as <a href=\"https://stackoverflow.com/a/74259755/2711488\">this answer</a> demonstrates."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667218930,"post_id":74259579,"comment_id":131111041,"body_markdown":"True but that wasn&#39;t the question (although we could argue that the forEach wasn&#39;t either).","body":"True but that wasn&#39;t the question (although we could argue that the forEach wasn&#39;t either)."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667198542,"creation_date":1667198542,"answer_id":74259579,"question_id":74259436,"body_markdown":"Your code won&#39;t even compile as the key function is wrong. You also have an intermediate step which isn&#39;t needed, you can directly use the `toMap` function which takes 4 arguments and return a `TreeMap` directly. \r\n\r\nSomething like this should work\r\n\r\n```java\r\nTreeMap &lt;Double, Point3d&gt; distanceMap = points.stream().collect(\r\nCollectors.toMap(\r\n  parentStartVertex::distanceTo,\r\n  Function.identity(),\r\n  (k1, k2) -&gt; k2,\r\n  TreeMap::new));\r\nreturn distanceMap.firstEntry().getValue();\r\n```\r\n\r\nFor what is worth I don&#39;t think there is anything wrong with the `forEach` approach and in this case it might even be easier to read (and might even be faster due to less overhead). \r\n\r\n```java\r\nTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\r\npoints.forEach( point -&gt; distanceMap.put(parentStartVertex.distanceTo(point), point));\r\nreturn distanceMap.firstEntry().getValue();\r\n```\r\n\r\n","title":"Java 8 stream API to convert List to TreeMap","body":"<p>Your code won't even compile as the key function is wrong. You also have an intermediate step which isn't needed, you can directly use the <code>toMap</code> function which takes 4 arguments and return a <code>TreeMap</code> directly.</p>\n<p>Something like this should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap &lt;Double, Point3d&gt; distanceMap = points.stream().collect(\nCollectors.toMap(\n  parentStartVertex::distanceTo,\n  Function.identity(),\n  (k1, k2) -&gt; k2,\n  TreeMap::new));\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n<p>For what is worth I don't think there is anything wrong with the <code>forEach</code> approach and in this case it might even be easier to read (and might even be faster due to less overhead).</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\npoints.forEach( point -&gt; distanceMap.put(parentStartVertex.distanceTo(point), point));\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667199818,"creation_date":1667199818,"answer_id":74259755,"question_id":74259436,"body_markdown":"If you want to find the smallest distance (`min`) between the target `parentStartVertex` and the individual points in the list, then you can use `Stream#min` or `Collections#min` with a custom `Comparator` comparing based on the distance between `parentStartVertex` and the individual items. Pick one of the solutions below:\r\n\r\n```\r\n/**\r\n * Returns null in case the list `points` is empty\r\n */\r\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\r\n\t\treturn points.stream()\r\n\t\t\t\t.min(Comparator.comparingDouble(parentStartVertex::distanceTo))\r\n\t\t\t\t.orElse(null);\r\n}\r\n```\r\n```\r\n/**\r\n * Throws NoSuchElementException in case the list `points` is empty\r\n */\r\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\r\n\t\treturn Collections.min(\r\n                points,\r\n                Comparator.comparingDouble(parentStartVertex::distanceTo));\r\n}\r\n```","title":"Java 8 stream API to convert List to TreeMap","body":"<p>If you want to find the smallest distance (<code>min</code>) between the target <code>parentStartVertex</code> and the individual points in the list, then you can use <code>Stream#min</code> or <code>Collections#min</code> with a custom <code>Comparator</code> comparing based on the distance between <code>parentStartVertex</code> and the individual items. Pick one of the solutions below:</p>\n<pre><code>/**\n * Returns null in case the list `points` is empty\n */\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\n        return points.stream()\n                .min(Comparator.comparingDouble(parentStartVertex::distanceTo))\n                .orElse(null);\n}\n</code></pre>\n<pre><code>/**\n * Throws NoSuchElementException in case the list `points` is empty\n */\nprivate Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points, Point3d parentStartVertex) {\n        return Collections.min(\n                points,\n                Comparator.comparingDouble(parentStartVertex::distanceTo));\n}\n</code></pre>\n"}],"owner":{"account_id":5047636,"reputation":25,"user_id":4053106,"display_name":"Ambrish Mayank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74259579,"answer_count":3,"score":0,"last_activity_date":1667202184,"creation_date":1667197427,"question_id":74259436,"body_markdown":"Hi i am trying to convert the following code using java 8 stream API.\r\n\r\n    private Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points,Point3d parentStartVertex)\r\n    \t{\r\n    \t\t\r\n    \t\tTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\r\n    \t\tfor (Point3d point : points) {\r\n    \t\t\tdistanceMap.put(parentStartVertex.distanceTo(point), point);\r\n    \t\t}\r\n    \t\treturn distanceMap.firstEntry().getValue();\r\n    \t}\r\n\r\nI am trying to do something like\r\n\r\n    Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point));\r\n    TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;&gt;(result);\r\n    return distanceMap.firstEntry().getValue();\r\n","title":"Java 8 stream API to convert List to TreeMap","body":"<p>Hi i am trying to convert the following code using java 8 stream API.</p>\n<pre><code>private Point3d findClosestNodeToParentStartNode1(List&lt;Point3d&gt; points,Point3d parentStartVertex)\n    {\n        \n        TreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;Double, Point3d&gt;();\n        for (Point3d point : points) {\n            distanceMap.put(parentStartVertex.distanceTo(point), point);\n        }\n        return distanceMap.firstEntry().getValue();\n    }\n</code></pre>\n<p>I am trying to do something like</p>\n<pre><code>Map&lt;Double, Point3d&gt; result =  points.stream().collect(Collectors.toMap(parentStartVertex.distanceTo(point-&gt;point) , point -&gt; point));\nTreeMap&lt;Double, Point3d&gt; distanceMap = new TreeMap&lt;&gt;(result);\nreturn distanceMap.firstEntry().getValue();\n</code></pre>\n"},{"tags":["java","spring","testing","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":14776636,"reputation":113,"user_id":10671367,"display_name":"Mert &#214;zler"},"score":0,"creation_date":1666968354,"post_id":74237032,"comment_id":131066677,"body_markdown":"I&#39;ve already tried this, and tested it again considering the warning, but the queryParam always takes a string. First I created it as localDate and then I did my test but in vain.","body":"I&#39;ve already tried this, and tested it again considering the warning, but the queryParam always takes a string. First I created it as localDate and then I did my test but in vain."},{"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"score":0,"creation_date":1667199031,"post_id":74237032,"comment_id":131105371,"body_markdown":"Okay, with a search through this site, I found a solution for your case. This error you&#39;re facing is probably occurs because of the mismatching of expected date type and the value you&#39;re sending. If you change parameters of your controller to `@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate startDate,\n            @RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate endDate`, then you&#39;ll successfully parse the value given in your test.\n\nI&#39;ll update my answer to add reference for this.","body":"Okay, with a search through this site, I found a solution for your case. This error you&#39;re facing is probably occurs because of the mismatching of expected date type and the value you&#39;re sending. If you change parameters of your controller to <code>@RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate startDate,             @RequestParam @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate endDate</code>, then you&#39;ll successfully parse the value given in your test.  I&#39;ll update my answer to add reference for this."}],"tags":[],"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667201915,"creation_date":1666968140,"answer_id":74237032,"question_id":74236820,"body_markdown":"**Edit:** After searching a little bit, I found this thread which could be use as a solution for this topic:\r\n\r\nhttps://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\r\n\r\nSince the exact type of LocalDate parameter doesn&#39;t match with the one user sending in queryParam, the exceptions is being thrown. Adding `@DateTimeFormat` to the parameters in the controller with the expected type will solve the issue.\r\n\r\n\r\n------------------------\r\n\r\n\r\nCan you try to give your `startDate` and `endDate` parameters with using `LocalDate` object creation? This is a very good guide that you can follow: ~\r\n\r\nhttps://www.baeldung.com/java-creating-localdate-with-values\r\n\r\nThe error occurs due to giving string to that LocalDate fields probably.   ","title":"Mockmcv query param with localdate MethodArgumentTypeMismatchException exception","body":"<p><strong>Edit:</strong> After searching a little bit, I found this thread which could be use as a solution for this topic:</p>\n<p><a href=\"https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\">How to use LocalDateTime RequestParam in Spring? I get &quot;Failed to convert String to LocalDateTime&quot;</a></p>\n<p>Since the exact type of LocalDate parameter doesn't match with the one user sending in queryParam, the exceptions is being thrown. Adding <code>@DateTimeFormat</code> to the parameters in the controller with the expected type will solve the issue.</p>\n<hr />\n<p>Can you try to give your <code>startDate</code> and <code>endDate</code> parameters with using <code>LocalDate</code> object creation? This is a very good guide that you can follow: ~</p>\n<p><a href=\"https://www.baeldung.com/java-creating-localdate-with-values\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-creating-localdate-with-values</a></p>\n<p>The error occurs due to giving string to that LocalDate fields probably.</p>\n"}],"owner":{"account_id":14776636,"reputation":113,"user_id":10671367,"display_name":"Mert &#214;zler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74237032,"answer_count":1,"score":-1,"last_activity_date":1667201915,"creation_date":1666967264,"question_id":74236820,"body_markdown":"I&#39;m trying to write an integration test with mockmvc, but I&#39;m getting an error. While startDate and endDate, which I receive as request param, normally work without any problems, I get the following error in the test; MethodArgumentTypeMismatchException\r\n\r\nMy controller\r\n\r\n```\r\n @GetMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;List&lt;TransactionDto&gt;&gt; getTransactionByDateRange(@RequestParam LocalDate startDate,\r\n                                                                          @RequestParam  LocalDate endDate) {\r\n\r\n        logger.info(&quot;Get transaction request received with date range, start date: {} and end date: {}&quot;,\r\n                startDate,\r\n                endDate);\r\n\r\n        List&lt;TransactionDto&gt; transactionDtoList = transactionService.findTransactionByDateRange(startDate,endDate);\r\n\r\n        if(transactionDtoList.isEmpty()){\r\n            throw new TransactionListIsEmptyException(&quot;No transaction data can be found in this date range. &quot; +\r\n                    &quot;Please check the date range you entered.&quot;);\r\n        }\r\n\r\n        return new ResponseEntity(Response.ok().setPayload(transactionDtoList), HttpStatus.OK);\r\n    }\r\n```\r\n\r\nMy Test\r\n```\r\n@Test\r\n    public void testfindTransactionByDateRange_whenTransactionsAreExists_ShouldReturnTransactionDtoList() throws Exception {\r\n        //given\r\n        LocalDate startDate = LocalDate.of(2020,10,5);\r\n        LocalDate endDate = LocalDate.now();\r\n\r\n        Transaction transaction = transactionRepository.save(generateTransaction());\r\n        Transaction transaction2 = transactionRepository.save(generateTransaction());\r\n        Transaction transaction3 = transactionRepository.save(generateTransaction());\r\n        transactionService.createTransaction(transaction);\r\n        transactionService.createTransaction(transaction2);\r\n        transactionService.createTransaction(transaction3);\r\n        List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\r\n        transactionList.add(transaction);\r\n        transactionList.add(transaction2);\r\n        transactionList.add(transaction3);\r\n        List&lt;TransactionDto&gt; expected = converter.convertList(transactionList);\r\n\r\n\r\n        //when\r\n        //then\r\n        this.mockMvc.perform(get(TRANSACTION_API_ENDPOINT)\r\n                        .queryParam(&quot;startDate&quot;,&quot;10.10.2015&quot;)\r\n                        .queryParam(&quot;endDate&quot;,&quot;10.10.2015&quot;))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n\r\n    }\r\n```","title":"Mockmcv query param with localdate MethodArgumentTypeMismatchException exception","body":"<p>I'm trying to write an integration test with mockmvc, but I'm getting an error. While startDate and endDate, which I receive as request param, normally work without any problems, I get the following error in the test; MethodArgumentTypeMismatchException</p>\n<p>My controller</p>\n<pre><code> @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;List&lt;TransactionDto&gt;&gt; getTransactionByDateRange(@RequestParam LocalDate startDate,\n                                                                          @RequestParam  LocalDate endDate) {\n\n        logger.info(&quot;Get transaction request received with date range, start date: {} and end date: {}&quot;,\n                startDate,\n                endDate);\n\n        List&lt;TransactionDto&gt; transactionDtoList = transactionService.findTransactionByDateRange(startDate,endDate);\n\n        if(transactionDtoList.isEmpty()){\n            throw new TransactionListIsEmptyException(&quot;No transaction data can be found in this date range. &quot; +\n                    &quot;Please check the date range you entered.&quot;);\n        }\n\n        return new ResponseEntity(Response.ok().setPayload(transactionDtoList), HttpStatus.OK);\n    }\n</code></pre>\n<p>My Test</p>\n<pre><code>@Test\n    public void testfindTransactionByDateRange_whenTransactionsAreExists_ShouldReturnTransactionDtoList() throws Exception {\n        //given\n        LocalDate startDate = LocalDate.of(2020,10,5);\n        LocalDate endDate = LocalDate.now();\n\n        Transaction transaction = transactionRepository.save(generateTransaction());\n        Transaction transaction2 = transactionRepository.save(generateTransaction());\n        Transaction transaction3 = transactionRepository.save(generateTransaction());\n        transactionService.createTransaction(transaction);\n        transactionService.createTransaction(transaction2);\n        transactionService.createTransaction(transaction3);\n        List&lt;Transaction&gt; transactionList = new ArrayList&lt;&gt;();\n        transactionList.add(transaction);\n        transactionList.add(transaction2);\n        transactionList.add(transaction3);\n        List&lt;TransactionDto&gt; expected = converter.convertList(transactionList);\n\n\n        //when\n        //then\n        this.mockMvc.perform(get(TRANSACTION_API_ENDPOINT)\n                        .queryParam(&quot;startDate&quot;,&quot;10.10.2015&quot;)\n                        .queryParam(&quot;endDate&quot;,&quot;10.10.2015&quot;))\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667200195,"post_id":74259797,"comment_id":131105591,"body_markdown":"Not very clear, but sounds like you&#39;re looking for [enum](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)?","body":"Not very clear, but sounds like you&#39;re looking for <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a>?"},{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":0,"creation_date":1667200217,"post_id":74259797,"comment_id":131105594,"body_markdown":"It&#39;s been a while since I used Java, but if it were me, I wouldn&#39;t make these variables private.","body":"It&#39;s been a while since I used Java, but if it were me, I wouldn&#39;t make these variables private."},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1667200326,"post_id":74259797,"comment_id":131105619,"body_markdown":"I have not used enum before, how could I use enum that would only have two numbers. Personally, I would like to stick to classes, as I am more comfortable using them as of now","body":"I have not used enum before, how could I use enum that would only have two numbers. Personally, I would like to stick to classes, as I am more comfortable using them as of now"}],"answers":[{"tags":[],"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667200691,"creation_date":1667200691,"answer_id":74259883,"question_id":74259797,"body_markdown":"When using enums you can define custom fields, so in your case you can do for example:\r\n\r\n     public enum CustomNumber {\r\n            PLUS_ONE(1),\r\n            MINUS_ONE(-1);\r\n    \r\n            public final int value;\r\n    \r\n            CustomNumber(int value) {\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(CustomNumber.MINUS_ONE.value);\r\n            System.out.println(CustomNumber.PLUS_ONE.value);\r\n        }","title":"How to create a class of two integers (a sort of custom type)","body":"<p>When using enums you can define custom fields, so in your case you can do for example:</p>\n<pre><code> public enum CustomNumber {\n        PLUS_ONE(1),\n        MINUS_ONE(-1);\n\n        public final int value;\n\n        CustomNumber(int value) {\n            this.value = value;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(CustomNumber.MINUS_ONE.value);\n        System.out.println(CustomNumber.PLUS_ONE.value);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667200758,"creation_date":1667200758,"answer_id":74259889,"question_id":74259797,"body_markdown":"Java does not let you write your own primitives, and does not have operator overloading. It is therefore simply impossible to have a class such that any expressions that are of that type act like a number. In other words, given:\r\n\r\n```java\r\nPlusOrMinusOne a = ...;\r\nint b = a + 1; // cannot be made to work\r\nif (a == -1) // cannot be made to work\r\n```\r\n\r\nWhat you can do is simply create 2 instances such that they are the __only__ instances of a given class. One of them is the value associated with +1, the other with -1. There is nothing specific about these 2 instances that reflects that they represent -1 or +1 - you can code them however you like.\r\n\r\n`enum` is the general way to do this - it takes care of ensuring nobody can make instances other than the ones you defined, for example.\r\n\r\n```\r\npublic enum PlusOrMinusOne /* horrible name, come up with a better one */ {\r\n  PLUS_ONE(+1),\r\n  MINUS_ONE(-1),\r\n  ;\r\n\r\n  private final int value;\r\n\r\n  PlusOrMinusOne(int value) {\r\n    this.value = value;\r\n  }\r\n\r\n  public static PlusOrMinusOne of(int value) {\r\n    if (value == -1) return MINUS_ONE;\r\n    if (value == +1) return PLUS_ONE;\r\n    throw new IllegalArgumentException(&quot;&quot; + value);\r\n  }\r\n\r\n  public int getValue() {\r\n    return value;\r\n  }\r\n\r\n  public PlusOrMinusOne neg() {\r\n    if (this == PLUS_ONE) return MINUS_ONE;\r\n    return PLUS_ONE;\r\n  }\r\n\r\n  public String toString() {\r\n    return this == PLUS_ONE ? &quot;+1&quot; : &quot;-1&quot;;\r\n  }\r\n}\r\n```\r\n","title":"How to create a class of two integers (a sort of custom type)","body":"<p>Java does not let you write your own primitives, and does not have operator overloading. It is therefore simply impossible to have a class such that any expressions that are of that type act like a number. In other words, given:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlusOrMinusOne a = ...;\nint b = a + 1; // cannot be made to work\nif (a == -1) // cannot be made to work\n</code></pre>\n<p>What you can do is simply create 2 instances such that they are the <strong>only</strong> instances of a given class. One of them is the value associated with +1, the other with -1. There is nothing specific about these 2 instances that reflects that they represent -1 or +1 - you can code them however you like.</p>\n<p><code>enum</code> is the general way to do this - it takes care of ensuring nobody can make instances other than the ones you defined, for example.</p>\n<pre><code>public enum PlusOrMinusOne /* horrible name, come up with a better one */ {\n  PLUS_ONE(+1),\n  MINUS_ONE(-1),\n  ;\n\n  private final int value;\n\n  PlusOrMinusOne(int value) {\n    this.value = value;\n  }\n\n  public static PlusOrMinusOne of(int value) {\n    if (value == -1) return MINUS_ONE;\n    if (value == +1) return PLUS_ONE;\n    throw new IllegalArgumentException(&quot;&quot; + value);\n  }\n\n  public int getValue() {\n    return value;\n  }\n\n  public PlusOrMinusOne neg() {\n    if (this == PLUS_ONE) return MINUS_ONE;\n    return PLUS_ONE;\n  }\n\n  public String toString() {\n    return this == PLUS_ONE ? &quot;+1&quot; : &quot;-1&quot;;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"score":0,"creation_date":1667220203,"post_id":74259956,"comment_id":131111498,"body_markdown":"How is different from my answer?","body":"How is different from my answer?"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667201114,"creation_date":1667201114,"answer_id":74259956,"question_id":74259797,"body_markdown":"```java\r\nenum PlusOrMinusOne {\r\n    PLUS_ONE(1),\r\n    MINUS_ONE(-1);\r\n\r\n    public final int num;\r\n\r\n    PlusOrMinusOne(int num) {\r\n        this.num = num;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(CustomNumber.MINUS_ONE.num);\r\n    System.out.println(CustomNumber.PLUS_ONE.num);\r\n}\r\n```","title":"How to create a class of two integers (a sort of custom type)","body":"<pre class=\"lang-java prettyprint-override\"><code>enum PlusOrMinusOne {\n    PLUS_ONE(1),\n    MINUS_ONE(-1);\n\n    public final int num;\n\n    PlusOrMinusOne(int num) {\n        this.num = num;\n    }\n}\n\npublic static void main(String[] args) {\n    System.out.println(CustomNumber.MINUS_ONE.num);\n    System.out.println(CustomNumber.PLUS_ONE.num);\n}\n</code></pre>\n"}],"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667208230,"answer_count":3,"score":0,"last_activity_date":1667201114,"creation_date":1667200087,"question_id":74259797,"body_markdown":"Basically need to create a class which is custom type that has two integers: -1 and 1, instead of all the integers that exist.\r\n\r\nIf you would suggest using enum (never implemented before), could you please suggest how would that work.\r\n\r\n```\r\npublic class PlusOrMinusOne{\r\n    private int plusOne=1;\r\n    private int minusOne=-1;\r\n}\r\n```\r\n","title":"How to create a class of two integers (a sort of custom type)","body":"<p>Basically need to create a class which is custom type that has two integers: -1 and 1, instead of all the integers that exist.</p>\n<p>If you would suggest using enum (never implemented before), could you please suggest how would that work.</p>\n<pre><code>public class PlusOrMinusOne{\n    private int plusOne=1;\n    private int minusOne=-1;\n}\n</code></pre>\n"},{"tags":["python","java","android-studio","tensorflow","tflite"],"comments":[{"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"score":0,"creation_date":1659937122,"post_id":73246611,"comment_id":129404410,"body_markdown":"@ Maxim would you please take a look at my question ?","body":"@ Maxim would you please take a look at my question ?"}],"answers":[{"tags":[],"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667201095,"creation_date":1667201095,"answer_id":74259951,"question_id":73246611,"body_markdown":"Finally, I found the answer.\r\n\r\nThere was a problem with my .tflite model. I could not feed input to my model. when I removed some nodes from my graph and added some preprocessing steps to my graph. the problem fixed. ","title":"Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes","body":"<p>Finally, I found the answer.</p>\n<p>There was a problem with my .tflite model. I could not feed input to my model. when I removed some nodes from my graph and added some preprocessing steps to my graph. the problem fixed.</p>\n"}],"owner":{"account_id":12346412,"reputation":69,"user_id":9008599,"accept_rate":100,"display_name":"creative_sh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667201095,"creation_date":1659687061,"question_id":73246611,"body_markdown":"Hi I want to feed an input to my .tflite model in android studio 7.2.1 with below code : \r\n\r\n            val catBitmap = getBitmapFromAsset(&quot;bwr.jpg&quot;)// a 64*64 image \r\n            val output2 = TensorImage(DataType.FLOAT32)\r\n            \r\n            for (y in 0..63) {\r\n                for (x in 0..63) {\r\n                    val px: Int = catBitmap.getPixel(x, y)\r\n\r\n                    // Get channel values from the pixel value.\r\n                    val r: Int = Color.red(px)\r\n                    val g: Int = Color.green(px)\r\n                    val b: Int = Color.blue(px)\r\n\r\n                    // Normalize channel values to [-1.0, 1.0]. This requirement depends\r\n                    // on the model. For example, some models might require values to be\r\n                    // normalized to the range [0.0, 1.0] instead.\r\n                    val rf = (r - 127) / 255.0f\r\n                    val gf = (g - 127) / 255.0f\r\n                    val bf = (b - 127) / 255.0f\r\n                    input.putFloat(rf)\r\n                    input.putFloat(gf)\r\n                    input.putFloat(bf)\r\n                }\r\n            }\r\n            \r\n            tflite.run(input, output2)\r\n\r\nand this is my tflite model properties: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cPcyT.png\r\n\r\n\r\nand it causes this error: \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.tag22, PID: 15184\r\n    java.lang.IllegalArgumentException: Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes.\r\n\r\n\r\nthis is my python interpreter code by which I could successfully get predictions:\r\n\r\n    image_filename=&#39;img.jpeg&#39;\r\n    input_data  = tf.compat.v1.gfile.FastGFile(image_filename, \r\n    &#39;rb&#39;).read()\r\n    cc=[input_data ]\r\n    input_data = np.array([input_data ])\r\n    interpreter.set_tensor(input_details[0][&#39;index&#39;], input_data)\r\n\r\n**can you please help me to fix this ?** I do not know hot to feed input to my model in android. ","title":"Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes","body":"<p>Hi I want to feed an input to my .tflite model in android studio 7.2.1 with below code :</p>\n<pre><code>        val catBitmap = getBitmapFromAsset(&quot;bwr.jpg&quot;)// a 64*64 image \n        val output2 = TensorImage(DataType.FLOAT32)\n        \n        for (y in 0..63) {\n            for (x in 0..63) {\n                val px: Int = catBitmap.getPixel(x, y)\n\n                // Get channel values from the pixel value.\n                val r: Int = Color.red(px)\n                val g: Int = Color.green(px)\n                val b: Int = Color.blue(px)\n\n                // Normalize channel values to [-1.0, 1.0]. This requirement depends\n                // on the model. For example, some models might require values to be\n                // normalized to the range [0.0, 1.0] instead.\n                val rf = (r - 127) / 255.0f\n                val gf = (g - 127) / 255.0f\n                val bf = (b - 127) / 255.0f\n                input.putFloat(rf)\n                input.putFloat(gf)\n                input.putFloat(bf)\n            }\n        }\n        \n        tflite.run(input, output2)\n</code></pre>\n<p>and this is my tflite model properties:</p>\n<p><a href=\"https://i.stack.imgur.com/cPcyT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPcyT.png\" alt=\"enter image description here\" /></a></p>\n<p>and it causes this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.tag22, PID: 15184\njava.lang.IllegalArgumentException: Cannot copy to a TensorFlowLite tensor (input_values:0) with 0 bytes from a Java Buffer with 49152 bytes.\n</code></pre>\n<p>this is my python interpreter code by which I could successfully get predictions:</p>\n<pre><code>image_filename='img.jpeg'\ninput_data  = tf.compat.v1.gfile.FastGFile(image_filename, \n'rb').read()\ncc=[input_data ]\ninput_data = np.array([input_data ])\ninterpreter.set_tensor(input_details[0]['index'], input_data)\n</code></pre>\n<p><strong>can you please help me to fix this ?</strong> I do not know hot to feed input to my model in android.</p>\n"},{"tags":["java","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1667196091,"post_id":74259267,"comment_id":131104805,"body_markdown":"Have you started by using the much simpler parallel streams instead of completable futures?","body":"Have you started by using the much simpler parallel streams instead of completable futures?"},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1667196464,"post_id":74259267,"comment_id":131104854,"body_markdown":"this was my first thought but using parrelStream leads me to out of memory on large dataset. So I moved to Completable future, referring  link\n\nhttps://roytuts.com/difference-between-parallel-stream-and-completablefuture-in-java/#:~:text=One%20of%20the%20advantages%20of,based%20on%20your%20application%20requirements.&amp;text=Now%20it%20took%20just%2010,of%20tasks%20with%2010%20threads.","body":"this was my first thought but using parrelStream leads me to out of memory on large dataset. So I moved to Completable future, referring  link  <a href=\"https://roytuts.com/difference-between-parallel-stream-and-completablefuture-in-java/#:~:text=One%20of%20the%20advantages%20of,based%20on%20your%20application%20requirements.&amp;text=Now%20it%20took%20just%2010,of%20tasks%20with%2010%20threads\" rel=\"nofollow noreferrer\">roytuts.com/&hellip;</a>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667205053,"post_id":74259267,"comment_id":131106782,"body_markdown":"Now if only the stream API had an easy way to do things in parallel... Have you tried `stream().parallel()` instead of shoehorning the completable future API in there. I also doubt the bulk of the processing is in the Java stuff but more or less in the writing (or reading of the whole list). Having 50k things in memory probably isn&#39;t the smart way of doing things (especially if those are also read from a database before hand).","body":"Now if only the stream API had an easy way to do things in parallel... Have you tried <code>stream().parallel()</code> instead of shoehorning the completable future API in there. I also doubt the bulk of the processing is in the Java stuff but more or less in the writing (or reading of the whole list). Having 50k things in memory probably isn&#39;t the smart way of doing things (especially if those are also read from a database before hand)."},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1667213873,"post_id":74259267,"comment_id":131109442,"body_markdown":"These list are not read from the database.  This is all read from an csv file and input is expected to be large of-course. I guess parralelStream () and stream().parralel() are the same things right? There is no control of defining your own thread pool hence  I tried experimenting with CompetableFuture.","body":"These list are not read from the database.  This is all read from an csv file and input is expected to be large of-course. I guess parralelStream () and stream().parralel() are the same things right? There is no control of defining your own thread pool hence  I tried experimenting with CompetableFuture."}],"answers":[{"comments":[{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1667213239,"post_id":74259936,"comment_id":131109207,"body_markdown":"I tried this way. but no luck","body":"I tried this way. but no luck"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667215958,"post_id":74259936,"comment_id":131110055,"body_markdown":"@AnuragSrivastava If this (useful looking) answer doesn&#39;t help then maybe you are looking in wrong place. Is `executeListPart (item)` designed to work in different threads?  check the code: perhaps it synchronises due to contention on some shared resources / files / database.  Check noOfCores is greater than 2.  Running N copies of same task does not always speed things up.","body":"@AnuragSrivastava If this (useful looking) answer doesn&#39;t help then maybe you are looking in wrong place. Is <code>executeListPart (item)</code> designed to work in different threads?  check the code: perhaps it synchronises due to contention on some shared resources / files / database.  Check noOfCores is greater than 2.  Running N copies of same task does not always speed things up."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1667906473,"post_id":74259936,"comment_id":131274428,"body_markdown":"Hey @AnuragSrivastava can you provide more details as to what happens when you try my approach? If you figured it out how to do the code using my answer then I would appreciate it if you marked it as correct!","body":"Hey @AnuragSrivastava can you provide more details as to what happens when you try my approach? If you figured it out how to do the code using my answer then I would appreciate it if you marked it as correct!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667201013,"creation_date":1667201013,"answer_id":74259936,"question_id":74259267,"body_markdown":"The reason why your tasks are being executed sequentially is because you do `.map(CompletableFuture::join)` during the pipeline execution and what actually happens is that the execution will wait for the `CompletableFuture` to join before moving with the next item in the `forEach`. You would need to remove that particular map operation from your stream.\r\n\r\nTo wait for the all the task termination, there are a couple of ways to do it. One is to call `shutdown()` on your ExecutorService and then `awaitTermination(TIMEOUT)`. However this is not efficient if you are going to use that same ExecutorService again during your app lifecycle.\r\n\r\nAnother, would be to do something like the following: \r\n\r\n```java \r\nExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\r\nvar completableFutureList = Lists.partition(list, 500).stream()\r\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service)).flatMap(List::stream).collect(Collectors.toList());\r\n```\r\n...and then:\r\n```java\r\ncompletableFutureList.forEach(CompletableFuture::join);\r\n```\r\nHappy hacking! =)\r\n","title":"Run Completable Future in parallel for an large list with same method","body":"<p>The reason why your tasks are being executed sequentially is because you do <code>.map(CompletableFuture::join)</code> during the pipeline execution and what actually happens is that the execution will wait for the <code>CompletableFuture</code> to join before moving with the next item in the <code>forEach</code>. You would need to remove that particular map operation from your stream.</p>\n<p>To wait for the all the task termination, there are a couple of ways to do it. One is to call <code>shutdown()</code> on your ExecutorService and then <code>awaitTermination(TIMEOUT)</code>. However this is not efficient if you are going to use that same ExecutorService again during your app lifecycle.</p>\n<p>Another, would be to do something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\nvar completableFutureList = Lists.partition(list, 500).stream()\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service)).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>...and then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>completableFutureList.forEach(CompletableFuture::join);\n</code></pre>\n<p>Happy hacking! =)</p>\n"}],"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1039,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667201013,"creation_date":1667195956,"question_id":74259267,"body_markdown":"I have list contains large amount of data ( e,g 50 k approx). I need to perform some operation on each list item and then have to map the result from processing to java object to write into the csv.  so far the sequential code for this is working fine for me.\r\n\r\n    list.stream().map(listItem-&gt;\r\n               service.methodA(listItem)\r\n                        .map(result -&gt;mapToBean(result, listItem))\r\n        ).flatMap(Optional::stream).collect(Collectors.toList());\r\n\r\nThis operation is slow takes around 4 hr for 2k data processing. So I decided to speedup this by Aysnc Processing using completable future library.( I&#39;m new to Completable future) Here is the code I written for parallel processing.\r\n\r\n \r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\r\n    Lists.partition(list, 500).stream()\r\n                    .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service))\r\n                            .map(CompletableFuture::join).flatMap(List::stream).collect(Collectors.toList());\r\n    \r\n\r\nBut when I run this code, I observed that thread 1 processing the one part of list then wait for it to complete and then Thread2 start processing another part and so on. Hence it seems to execute sequentially (of-course in different thread) hence here no gain for me.  I want to execute the each partition in parallel and finally collect the result of each thread and combine at the last. Can someone let help me to achieve this. \r\n\r\n\r\n","title":"Run Completable Future in parallel for an large list with same method","body":"<p>I have list contains large amount of data ( e,g 50 k approx). I need to perform some operation on each list item and then have to map the result from processing to java object to write into the csv.  so far the sequential code for this is working fine for me.</p>\n<pre><code>list.stream().map(listItem-&gt;\n           service.methodA(listItem)\n                    .map(result -&gt;mapToBean(result, listItem))\n    ).flatMap(Optional::stream).collect(Collectors.toList());\n</code></pre>\n<p>This operation is slow takes around 4 hr for 2k data processing. So I decided to speedup this by Aysnc Processing using completable future library.( I'm new to Completable future) Here is the code I written for parallel processing.</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(noOfCores-1);\nLists.partition(list, 500).stream()\n                .map(item-&gt; CompletableFuture.supplyAsync(()-&gt; executeListPart (item),service))\n                        .map(CompletableFuture::join).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>But when I run this code, I observed that thread 1 processing the one part of list then wait for it to complete and then Thread2 start processing another part and so on. Hence it seems to execute sequentially (of-course in different thread) hence here no gain for me.  I want to execute the each partition in parallel and finally collect the result of each thread and combine at the last. Can someone let help me to achieve this.</p>\n"},{"tags":["java","google-api","gmail-api"],"answers":[{"comments":[{"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"score":0,"creation_date":1667070869,"post_id":74248084,"comment_id":131085677,"body_markdown":"Hi @DalmTo\nThank you for the response. Could you please share the steps/document  for &quot;configuring domain wide deligation to a service account&quot;\nAnd any working java sample for reference would help a lot","body":"Hi @DalmTo Thank you for the response. Could you please share the steps/document  for &quot;configuring domain wide deligation to a service account&quot; And any working java sample for reference would help a lot"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667072031,"post_id":74248084,"comment_id":131085884,"body_markdown":"check out the documtation the workspace admin needs to configure it https://developers.google.com/cloud-search/docs/guides/delegation  I may have some code floating around I will look in the morning","body":"check out the documtation the workspace admin needs to configure it <a href=\"https://developers.google.com/cloud-search/docs/guides/delegation\" rel=\"nofollow noreferrer\">developers.google.com/cloud-search/docs/guides/delegation</a>  I may have some code floating around I will look in the morning"},{"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"score":0,"creation_date":1667198210,"post_id":74248084,"comment_id":131105186,"body_markdown":"Hi @Dalm T0\nPlease help me with the reference if you have. It would be really helpfull","body":"Hi @Dalm T0 Please help me with the reference if you have. It would be really helpfull"},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1667201030,"post_id":74248084,"comment_id":131105797,"body_markdown":"That&#39;s the drive example I havent had time to make any designed for Gmail just yet with java","body":"That&#39;s the drive example I havent had time to make any designed for Gmail just yet with java"}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667200889,"creation_date":1667070483,"answer_id":74248084,"question_id":74248016,"body_markdown":"The only way to access gmail API without user intervention and showing a consent screen is through Google workspace domain accounts and configuring domain wide deligation to a service account\r\n\r\nif the account you are connecting from is a standard gmail google account then you need to authorize the user using oauth2 and display the consent screen.   there is no other way you can store the refresh token in your database and request a new Access token after that the user need only authorize your application once.   unfortunately there is no other option.\r\n\r\nWith the possible exception of going through the smtp / IMAP server using an apps password from a Gmail account with 2fa enabled.   Personally I question the security ramifications of giving third party appliances an apps password to my Gmail account.  that said I thought I should mention the option. \r\n\r\n# Example\r\n\r\nThis is the Google drive sample I have for authorization with a service account using domain wide delegation.\r\n\r\nAgain [domain wide delegation with a service account][1] can only be done though a google workspace account with delegation configured by the workspace admin.\r\n\r\nNote that setServiceAccountUser is the user on your domain which you would like the service account to impersonate.\r\n\r\n\r\n\r\n    private GoogleCredential authorize1() {\r\n    \r\n        GoogleCredential credential = null;\r\n    \r\n        HttpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    \r\n        JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \r\n        try {\r\n    \r\n          InputStream jsonFileStream =\r\n              DriveSample.class.getClassLoader().getResourceAsStream(&quot;client_secrets.json&quot;);\r\n    \r\n          GoogleCredential readJsonFile = GoogleCredential\r\n              .fromStream(jsonFileStream, httpTransport, JSON_FACTORY).createScoped(DriveScopes.all());\r\n    \r\n          credential = new GoogleCredential.Builder().setTransport(readJsonFile.getTransport())\r\n              .setJsonFactory(readJsonFile.getJsonFactory())\r\n              .setServiceAccountId(readJsonFile.getServiceAccountId())\r\n              .setServiceAccountUser(userEmail)\r\n              .setServiceAccountScopes(readJsonFile.getServiceAccountScopes())\r\n              .setServiceAccountPrivateKey(readJsonFile.getServiceAccountPrivateKey()).build();\r\n        } catch (IOException exception) {\r\n          exception.printStackTrace();\r\n        }\r\n        return credential;\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/cloud-search/docs/guides/delegation","title":"Gmail API client credential flow for Java rest service","body":"<p>The only way to access gmail API without user intervention and showing a consent screen is through Google workspace domain accounts and configuring domain wide deligation to a service account</p>\n<p>if the account you are connecting from is a standard gmail google account then you need to authorize the user using oauth2 and display the consent screen.   there is no other way you can store the refresh token in your database and request a new Access token after that the user need only authorize your application once.   unfortunately there is no other option.</p>\n<p>With the possible exception of going through the smtp / IMAP server using an apps password from a Gmail account with 2fa enabled.   Personally I question the security ramifications of giving third party appliances an apps password to my Gmail account.  that said I thought I should mention the option.</p>\n<h1>Example</h1>\n<p>This is the Google drive sample I have for authorization with a service account using domain wide delegation.</p>\n<p>Again <a href=\"https://developers.google.com/cloud-search/docs/guides/delegation\" rel=\"nofollow noreferrer\">domain wide delegation with a service account</a> can only be done though a google workspace account with delegation configured by the workspace admin.</p>\n<p>Note that setServiceAccountUser is the user on your domain which you would like the service account to impersonate.</p>\n<pre><code>private GoogleCredential authorize1() {\n\n    GoogleCredential credential = null;\n\n    HttpTransport = GoogleNetHttpTransport.newTrustedTransport();\n\n    JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\n    try {\n\n      InputStream jsonFileStream =\n          DriveSample.class.getClassLoader().getResourceAsStream(&quot;client_secrets.json&quot;);\n\n      GoogleCredential readJsonFile = GoogleCredential\n          .fromStream(jsonFileStream, httpTransport, JSON_FACTORY).createScoped(DriveScopes.all());\n\n      credential = new GoogleCredential.Builder().setTransport(readJsonFile.getTransport())\n          .setJsonFactory(readJsonFile.getJsonFactory())\n          .setServiceAccountId(readJsonFile.getServiceAccountId())\n          .setServiceAccountUser(userEmail)\n          .setServiceAccountScopes(readJsonFile.getServiceAccountScopes())\n          .setServiceAccountPrivateKey(readJsonFile.getServiceAccountPrivateKey()).build();\n    } catch (IOException exception) {\n      exception.printStackTrace();\n    }\n    return credential;\n}\n</code></pre>\n"}],"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667200889,"creation_date":1667069915,"question_id":74248016,"body_markdown":"I am really trying hard to find a solution for this.\r\n\r\nMine is a notification service application which send email to multiple clients. \r\nSome of our clients are using Outlook accounts and some of our clients are using Google accounts. \r\nFor outlook clients, we have implemented client credential flow(Which does not have any human intervention for authorisation) thorough MS graph and it works very well\r\n\r\nNow we need to use Google API for Google client. I am not able to get the proper guide and document to setup the same. Could any one please help me on this. Please find my requirement summary below\r\n\r\n - its a Java rest API\r\n   \r\n  \r\n - we have around 100 different clients, currently we are keeping   \r\n   credentials in DB and using it accordingly\r\n\r\n  \r\n\r\n - We have get the tokens from client one time and we need to use it   \r\n   through the java application without any manual intervention\r\n\r\nPlease help me with the configuration and java implementation sample for the same.","title":"Gmail API client credential flow for Java rest service","body":"<p>I am really trying hard to find a solution for this.</p>\n<p>Mine is a notification service application which send email to multiple clients.\nSome of our clients are using Outlook accounts and some of our clients are using Google accounts.\nFor outlook clients, we have implemented client credential flow(Which does not have any human intervention for authorisation) thorough MS graph and it works very well</p>\n<p>Now we need to use Google API for Google client. I am not able to get the proper guide and document to setup the same. Could any one please help me on this. Please find my requirement summary below</p>\n<ul>\n<li><p>its a Java rest API</p>\n</li>\n<li><p>we have around 100 different clients, currently we are keeping<br />\ncredentials in DB and using it accordingly</p>\n</li>\n<li><p>We have get the tokens from client one time and we need to use it<br />\nthrough the java application without any manual intervention</p>\n</li>\n</ul>\n<p>Please help me with the configuration and java implementation sample for the same.</p>\n"},{"tags":["java","base64","itext"],"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1666954987,"post_id":74234242,"comment_id":131062186,"body_markdown":"Base64 is not an image format but just encoding. Decode the base64 string to the original image format, manipulate the image and reencode it to base64.","body":"Base64 is not an image format but just encoding. Decode the base64 string to the original image format, manipulate the image and reencode it to base64."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666956157,"post_id":74234242,"comment_id":131062555,"body_markdown":"Also you have tagged your question [tag:itext]. This points towards PDF as format. And your screenshot looks like from a PDF with signatures applied using DocuSign. So, is this about changing signature stroke images?","body":"Also you have tagged your question <a href=\"https://stackoverflow.com/questions/tagged/itext\">itext</a>. This points towards PDF as format. And your screenshot looks like from a PDF with signatures applied using DocuSign. So, is this about changing signature stroke images?"},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1666956720,"post_id":74234242,"comment_id":131062768,"body_markdown":"@mkl thanks for replying. I was previously using com.itextpdf.signatures.PdfSignatureAppearance to add some metadata about signatures. that is why i tagged iText. but i now feel, as jps suggested, i should first perform modifications and then just provide the updated image to iText.","body":"@mkl thanks for replying. I was previously using com.itextpdf.signatures.PdfSignatureAppearance to add some metadata about signatures. that is why i tagged iText. but i now feel, as jps suggested, i should first perform modifications and then just provide the updated image to iText."},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1666957007,"post_id":74234242,"comment_id":131062854,"body_markdown":"just curious, do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance ? @mkl","body":"just curious, do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance ? @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1666974713,"post_id":74234242,"comment_id":131069007,"body_markdown":"*&quot;do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance&quot;* - Well, it isn&#39;t the default design created by `PdfSignatureAppearance`. But as you can provide arbitrary own designs (see [Digital Signing with iText 7 / Part IV - Appearances](https://kb.itextpdf.com/home/it7kb/examples/digital-signing-with-itext-7/part-iv-appearances)), it&#39;s achievable.","body":"<i>&quot;do u think that the design that I&#39;ve provided is achievable by the options provided in PdfSignatureAppearance&quot;</i> - Well, it isn&#39;t the default design created by <code>PdfSignatureAppearance</code>. But as you can provide arbitrary own designs (see <a href=\"https://kb.itextpdf.com/home/it7kb/examples/digital-signing-with-itext-7/part-iv-appearances\" rel=\"nofollow noreferrer\">Digital Signing with iText 7 / Part IV - Appearances</a>), it&#39;s achievable."},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1666974790,"post_id":74234242,"comment_id":131069023,"body_markdown":"If there&#39;s a question about DocuSign - please update the question. Not clear how this is related to DocuSign except the image, so not sure how to help.","body":"If there&#39;s a question about DocuSign - please update the question. Not clear how this is related to DocuSign except the image, so not sure how to help."},{"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"score":0,"creation_date":1667200220,"post_id":74234242,"comment_id":131105595,"body_markdown":"nothing except the design @InbarGazit, removing the docusignapi tag. couldnt find a design tag so added this one.","body":"nothing except the design @InbarGazit, removing the docusignapi tag. couldnt find a design tag so added this one."}],"owner":{"account_id":10741311,"reputation":855,"user_id":7904302,"display_name":"Kalpit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667200266,"creation_date":1666953931,"question_id":74234242,"body_markdown":"I am using base64 as signatures in my project and I need to modify the existing base64 to add some lines and designs. How do we do that?\r\n\r\n[![sign right now][1]][1]\r\n[![target sign (my source image will be inside instead of the text)][2]]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lssyd.png\r\n  [2]: https://i.stack.imgur.com/jpfvk.jpg","title":"modify / beautify / edit base64 images in Java","body":"<p>I am using base64 as signatures in my project and I need to modify the existing base64 to add some lines and designs. How do we do that?</p>\n<p><a href=\"https://i.stack.imgur.com/lssyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lssyd.png\" alt=\"sign right now\" /></a>\n[<img src=\"https://i.stack.imgur.com/jpfvk.jpg\" alt=\"target sign (my source image will be inside instead of the text)\" />]</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1495594129,"post_id":44148107,"comment_id":75313582,"body_markdown":"Look at the stack trace to determine the cause of the crash. https://stackoverflow.com/questions/23353173","body":"Look at the stack trace to determine the cause of the crash. <a href=\"https://stackoverflow.com/questions/23353173\">stackoverflow.com/questions/23353173</a>"},{"owner":{"account_id":10858344,"reputation":15,"user_id":7983943,"display_name":"Jeff"},"score":0,"creation_date":1495594515,"post_id":44148107,"comment_id":75313683,"body_markdown":"I have added in the stack trace. Could you explain to me the reason for the crash?","body":"I have added in the stack trace. Could you explain to me the reason for the crash?"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1495594571,"creation_date":1495594571,"answer_id":44148194,"question_id":44148107,"body_markdown":"You want to change\r\n\r\n    no1 = Integer.parseInt(first.toString());\r\n\r\nto\r\n\r\n    no1 = Integer.parseInt(first.getText ().toString());\r\n\r\nsame for `second`\r\n","title":"Android simple calculator crash","body":"<p>You want to change</p>\n\n<pre><code>no1 = Integer.parseInt(first.toString());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>no1 = Integer.parseInt(first.getText ().toString());\n</code></pre>\n\n<p>same for <code>second</code></p>\n"},{"tags":[],"owner":{"account_id":1631551,"reputation":945,"user_id":1505969,"accept_rate":0,"display_name":"Durgesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516280309,"creation_date":1516280309,"answer_id":48321953,"question_id":44148107,"body_markdown":"you are getting the value from editText in wrong way\r\n    `no1 = Integer.parseInt(first.toString());\r\n    no2 = Integer.parseInt(second.toString());\r\n    answer = no1 + no2;\r\n    textview3.setText(&quot;Answer: &quot; + answer);`\r\n    \r\nit should be `first.getText().toString();`\r\n\r\n\r\n","title":"Android simple calculator crash","body":"<p>you are getting the value from editText in wrong way\n    <code>no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 + no2;\n    textview3.setText(\"Answer: \" + answer);</code></p>\n\n<p>it should be <code>first.getText().toString();</code></p>\n"}],"owner":{"account_id":10858344,"reputation":15,"user_id":7983943,"display_name":"Jeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":44148194,"answer_count":2,"score":-1,"last_activity_date":1667200233,"creation_date":1495594049,"question_id":44148107,"body_markdown":"I am new to android developing and made a simple calculator project. However, my app keeps crashing and I have no idea why\r\n\r\n**Java Codes:**\r\n\r\n    package com.example.zhiwen.calculator;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    Button plus,minus,times,divide;\r\n    TextView textview3;\r\n    EditText first, second;\r\n    double no1 = 0, no2 = 0;\r\n    double answer = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        plus = (Button) findViewById(R.id.plus);\r\n        minus = (Button) findViewById(R.id.minus);\r\n        times = (Button) findViewById(R.id.times);\r\n        divide = (Button) findViewById(R.id.divide);\r\n        textview3 = (TextView) findViewById(R.id.textview3);\r\n        first = (EditText) findViewById(R.id.editText);\r\n        second = (EditText) findViewById(R.id.editText2);\r\n    }\r\n\r\n    public void ClickMeButton(View view){\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 + no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton2(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 - no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton3(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 * no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }\r\n    public void ClickMeButton4(View view) {\r\n        no1 = Integer.parseInt(first.toString());\r\n        no2 = Integer.parseInt(second.toString());\r\n        answer = no1 / no2;\r\n        textview3.setText(&quot;Answer: &quot; + answer);\r\n    }}\r\n\r\n\r\n\r\n**Stack Trace:**\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;                                                                              Process: com.example.zhiwen.calculator, PID: 2027\r\n&gt;                                                                              java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\r\n&gt;                                                                               Caused by: java.lang.reflect.InvocationTargetException\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)&#160;\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)&#160;\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)&#160;\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)&#160;\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)&#160;\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)&#160;\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)&#160;\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)&#160;\r\n&gt;                                                                               Caused by: java.lang.NumberFormatException: For input string:\r\n&gt; &quot;android.support.v7.widget.AppCompatEditText{271441f VFED..CL.\r\n&gt; ........ 0,57-441,193 #7f0b0063 app:id/editText}&quot;\r\n&gt;                                                                                  at java.lang.Integer.parseInt(Integer.java:521)\r\n&gt;                                                                                  at java.lang.Integer.parseInt(Integer.java:556)\r\n&gt;                                                                                  at\r\n&gt; com.example.zhiwen.calculator.MainActivity.ClickMeButton(MainActivity.java:33)\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)&#160;\r\n&gt;                                                                                  at android.view.View.performClick(View.java:6207)&#160;\r\n&gt;                                                                                  at android.widget.TextView.performClick(TextView.java:11094)&#160;\r\n&gt;                                                                                  at android.view.View$PerformClick.run(View.java:23639)&#160;\r\n&gt;                                                                                  at android.os.Handler.handleCallback(Handler.java:751)&#160;\r\n&gt;                                                                                  at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n&gt;                                                                                  at android.os.Looper.loop(Looper.java:154)&#160;\r\n&gt;                                                                                  at android.app.ActivityThread.main(ActivityThread.java:6688)&#160;\r\n&gt;                                                                                  at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                  at\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)&#160;\r\n&gt;                                                                                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)","title":"Android simple calculator crash","body":"<p>I am new to android developing and made a simple calculator project. However, my app keeps crashing and I have no idea why</p>\n<p><strong>Java Codes:</strong></p>\n<pre><code>package com.example.zhiwen.calculator;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\nButton plus,minus,times,divide;\nTextView textview3;\nEditText first, second;\ndouble no1 = 0, no2 = 0;\ndouble answer = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    plus = (Button) findViewById(R.id.plus);\n    minus = (Button) findViewById(R.id.minus);\n    times = (Button) findViewById(R.id.times);\n    divide = (Button) findViewById(R.id.divide);\n    textview3 = (TextView) findViewById(R.id.textview3);\n    first = (EditText) findViewById(R.id.editText);\n    second = (EditText) findViewById(R.id.editText2);\n}\n\npublic void ClickMeButton(View view){\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 + no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton2(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 - no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton3(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 * no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}\npublic void ClickMeButton4(View view) {\n    no1 = Integer.parseInt(first.toString());\n    no2 = Integer.parseInt(second.toString());\n    answer = no1 / no2;\n    textview3.setText(&quot;Answer: &quot; + answer);\n}}\n</code></pre>\n<p><strong>Stack Trace:</strong></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.zhiwen.calculator, PID: 2027\njava.lang.IllegalStateException: Could not execute method for\nandroid:onClick\nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\nat android.view.View.performClick(View.java:6207)\nat android.widget.TextView.performClick(TextView.java:11094)\nat android.view.View$PerformClick.run(View.java:23639)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6688)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)\nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Method.invoke(Native Method)\nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\nat android.view.View.performClick(View.java:6207) \nat android.widget.TextView.performClick(TextView.java:11094) \nat android.view.View$PerformClick.run(View.java:23639) \nat android.os.Handler.handleCallback(Handler.java:751) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:154) \nat android.app.ActivityThread.main(ActivityThread.java:6688) \nat java.lang.reflect.Method.invoke(Native Method) \nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358) \nCaused by: java.lang.NumberFormatException: For input string:\n&quot;android.support.v7.widget.AppCompatEditText{271441f VFED..CL.\n........ 0,57-441,193 #7f0b0063 app:id/editText}&quot;\nat java.lang.Integer.parseInt(Integer.java:521)\nat java.lang.Integer.parseInt(Integer.java:556)\nat\ncom.example.zhiwen.calculator.MainActivity.ClickMeButton(MainActivity.java:33)\nat java.lang.reflect.Method.invoke(Native Method) \nat\nandroid.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288) \nat android.view.View.performClick(View.java:6207) \nat android.widget.TextView.performClick(TextView.java:11094) \nat android.view.View$PerformClick.run(View.java:23639) \nat android.os.Handler.handleCallback(Handler.java:751) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:154) \nat android.app.ActivityThread.main(ActivityThread.java:6688) \nat java.lang.reflect.Method.invoke(Native Method) \nat\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1468) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1358)</p>\n</blockquote>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":1219770,"reputation":3961,"user_id":1186624,"display_name":"relent95"},"score":0,"creation_date":1667091722,"post_id":74248997,"comment_id":131088735,"body_markdown":"See [ask]. This is impossible technically. And ```automation``` means automating an application simulating user inputs such as keyboard and mouse events. Remove that tag.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. This is impossible technically. And <code>automation</code> means automating an application simulating user inputs such as keyboard and mouse events. Remove that tag."},{"owner":{"account_id":25943400,"reputation":1,"user_id":19662477,"display_name":"Hector"},"score":0,"creation_date":1667116698,"post_id":74248997,"comment_id":131091248,"body_markdown":"Thanks for your comment @relent95 I have updated the tags. And good to know that it’s impossible from your knowledge. \n\nI will wait to see if anyone else can suggest any solution.","body":"Thanks for your comment @relent95 I have updated the tags. And good to know that it’s impossible from your knowledge.   I will wait to see if anyone else can suggest any solution."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199414,"creation_date":1667117679,"answer_id":74251456,"question_id":74248997,"body_markdown":"It is not possible to reliably identify the country for a phone number if the number doesn&#39;t include the standard country code prefix.  Numbers (as dialed) are only unambiguous when you know *where* they were dialed.\r\n\r\nTherefore you won&#39;t find library that can do this (reliably).\r\n\r\nNote that someone suggested this library:\r\n\r\n  - https://pypi.org/project/phonenumbers/\r\n\r\nHowever, if you read the documentation carefully, you will see that if the number doesn&#39;t have a `+nnn` international prefix, you need to give a 2nd parameter representing a country in which to (attempt to) understand the number.  Unless you know *that*, the library doesn&#39;t have the context for interpreting the number, and hence to work out the (real) country of the number.\r\n\r\n-----------------\r\n\r\nThe solution to your problem will be to require the user to enter the phone number with a proper international prefix, OR enter the country explicitly as a separate field.\r\n","title":"how to identify any phone number&#39;s Country","body":"<p>It is not possible to reliably identify the country for a phone number if the number doesn't include the standard country code prefix.  Numbers (as dialed) are only unambiguous when you know <em>where</em> they were dialed.</p>\n<p>Therefore you won't find library that can do this (reliably).</p>\n<p>Note that someone suggested this library:</p>\n<ul>\n<li><a href=\"https://pypi.org/project/phonenumbers/\" rel=\"nofollow noreferrer\">https://pypi.org/project/phonenumbers/</a></li>\n</ul>\n<p>However, if you read the documentation carefully, you will see that if the number doesn't have a <code>+nnn</code> international prefix, you need to give a 2nd parameter representing a country in which to (attempt to) understand the number.  Unless you know <em>that</em>, the library doesn't have the context for interpreting the number, and hence to work out the (real) country of the number.</p>\n<hr />\n<p>The solution to your problem will be to require the user to enter the phone number with a proper international prefix, OR enter the country explicitly as a separate field.</p>\n"}],"owner":{"account_id":25943400,"reputation":1,"user_id":19662477,"display_name":"Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667199414,"creation_date":1667079217,"question_id":74248997,"body_markdown":"I want to predict and create a new column named Proposed_Telephone_Country based on the phone number.\r\n\r\nNote:- Phone number may or may not start with ISO code/ Country code. We dont know which phone number belongs to which country, hence if it matches to multiple countries i would need the top 5 matches to be populated in the country column.\r\n\r\n\r\nI have tried using phone numbers library- geocoder and phone-iso 3166 library in python but it only predict numbers where the initials represents country code/iso code. For ex.. +61406034*** will show AU but 0406034*** (local format) will show nothing.\r\n\r\nALSO NOTE:- If you can suggest how to predict if number is from a list of specific country or not(10 specific countries I have). That would be of great help too. ","title":"how to identify any phone number&#39;s Country","body":"<p>I want to predict and create a new column named Proposed_Telephone_Country based on the phone number.</p>\n<p>Note:- Phone number may or may not start with ISO code/ Country code. We dont know which phone number belongs to which country, hence if it matches to multiple countries i would need the top 5 matches to be populated in the country column.</p>\n<p>I have tried using phone numbers library- geocoder and phone-iso 3166 library in python but it only predict numbers where the initials represents country code/iso code. For ex.. +61406034*** will show AU but 0406034*** (local format) will show nothing.</p>\n<p>ALSO NOTE:- If you can suggest how to predict if number is from a list of specific country or not(10 specific countries I have). That would be of great help too.</p>\n"},{"tags":["java","mongodb","upsert","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":1215628,"reputation":52,"user_id":1183288,"display_name":"wvandrunen1982"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":true,"score":0,"last_activity_date":1394063469,"creation_date":1394063469,"answer_id":22211965,"question_id":20001627,"body_markdown":"I ran into the same problem. In het current Spring Data MongoDB version no such thing is available. You have to update the seperate fields by hand.\r\n\r\nHowever it is possible with another framework: Morphia.\r\n\r\nThis framework has a wrapper for DAO functionality: https://github.com/mongodb/morphia/wiki/DAOSupport\r\n\r\nYou can use the DAO API to do things like this:\r\n\r\n    SomePojo pojo = daoInstance.findOne(&quot;some-field&quot;, &quot;some-value&quot;);\r\n    pojo.setAProperty(&quot;changing this property&quot;);\r\n    daoInstance.save(pojo);\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I ran into the same problem. In het current Spring Data MongoDB version no such thing is available. You have to update the seperate fields by hand.</p>\n\n<p>However it is possible with another framework: Morphia.</p>\n\n<p>This framework has a wrapper for DAO functionality: <a href=\"https://github.com/mongodb/morphia/wiki/DAOSupport\" rel=\"nofollow\">https://github.com/mongodb/morphia/wiki/DAOSupport</a></p>\n\n<p>You can use the DAO API to do things like this:</p>\n\n<pre><code>SomePojo pojo = daoInstance.findOne(\"some-field\", \"some-value\");\npojo.setAProperty(\"changing this property\");\ndaoInstance.save(pojo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324022,"reputation":63,"user_id":3531321,"accept_rate":25,"display_name":"stoneHah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400060644,"creation_date":1400060644,"answer_id":23651030,"question_id":20001627,"body_markdown":"I think that:\r\nDescription add a property\r\n\r\n    @Id\r\n\tprivate String id;\r\nthen get a document by the query condition,set Description&#39;s id by document&#39;s id.\r\nand save","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I think that:\nDescription add a property</p>\n\n<pre><code>@Id\nprivate String id;\n</code></pre>\n\n<p>then get a document by the query condition,set Description's id by document's id.\nand save</p>\n"},{"tags":[],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450781820,"creation_date":1412670841,"answer_id":26231824,"question_id":20001627,"body_markdown":"you can use save : (if non exist = insert else = upsert)\r\n\r\n&gt; save(Object objectToSave, String collectionName)\r\n\r\nread : [javadoc][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>you can use save : (if non exist = insert else = upsert)</p>\n\n<blockquote>\n  <p>save(Object objectToSave, String collectionName)</p>\n</blockquote>\n\n<p>read : <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-\" rel=\"noreferrer\">javadoc</a></p>\n"},{"comments":[{"owner":{"account_id":1719961,"reputation":3647,"user_id":1576149,"accept_rate":60,"display_name":"gogstad"},"score":1,"creation_date":1461327528,"post_id":31861008,"comment_id":61161611,"body_markdown":"You need to make sure the `ObjectMapper` doesn&#39;t serialize nulls: `String jsonStr = objectMapper.copy().setSerializationInclusion(JsonInclude.Include.NON_NULL).writeValueAsString(object);`","body":"You need to make sure the <code>ObjectMapper</code> doesn&#39;t serialize nulls: <code>String jsonStr = objectMapper.copy().setSerializationInclusion(JsonInclude.In&zwnj;&#8203;clude.NON_NULL).writ&zwnj;&#8203;eValueAsString(objec&zwnj;&#8203;t);</code>"}],"tags":[],"owner":{"account_id":1536659,"reputation":904,"user_id":1628839,"accept_rate":80,"display_name":"Vivek Sethi"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1438878184,"creation_date":1438878184,"answer_id":31861008,"question_id":20001627,"body_markdown":"This is what I am doing for the time being. Not so much elegant way to do it, but it does save a precious DB call:\r\n\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.mongodb.BasicDBObject;\r\n    import com.mongodb.DB;\r\n    import com.mongodb.DBCollection;\r\n    import com.mongodb.DBObject;\r\n    import com.mongodb.util.JSON;\r\n\r\n    /**\r\n     * Perform an upsert operation to update ALL FIELDS in an object using native mongo driver&#39;s methods\r\n     * since mongoTemplate&#39;s upsert method doesn&#39;t allow it\r\n     * @param upsertQuery\r\n     * @param object\r\n     * @param collectionName\r\n     */\r\n    private void performUpsert(Query upsertQuery, Object object, String collectionName){\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        try {\r\n            String jsonStr = mapper.writeValueAsString(object);\r\n            DB db = mongoTemplate.getDb();\r\n            DBCollection collection = db.getCollection(collectionName);\r\n            DBObject query = upsertQuery.getQueryObject();\r\n            DBObject update = new BasicDBObject(&quot;$set&quot;, JSON.parse(jsonStr));\r\n            collection.update(query, update, true, false);\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Unable to persist the metrics in DB. Error while parsing object: {}&quot;, e);\r\n        }\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>This is what I am doing for the time being. Not so much elegant way to do it, but it does save a precious DB call:</p>\n\n<pre><code>import org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Query;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.DB;\nimport com.mongodb.DBCollection;\nimport com.mongodb.DBObject;\nimport com.mongodb.util.JSON;\n\n/**\n * Perform an upsert operation to update ALL FIELDS in an object using native mongo driver's methods\n * since mongoTemplate's upsert method doesn't allow it\n * @param upsertQuery\n * @param object\n * @param collectionName\n */\nprivate void performUpsert(Query upsertQuery, Object object, String collectionName){\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    try {\n        String jsonStr = mapper.writeValueAsString(object);\n        DB db = mongoTemplate.getDb();\n        DBCollection collection = db.getCollection(collectionName);\n        DBObject query = upsertQuery.getQueryObject();\n        DBObject update = new BasicDBObject(\"$set\", JSON.parse(jsonStr));\n        collection.update(query, update, true, false);\n    } catch (IOException e) {\n        LOGGER.error(\"Unable to persist the metrics in DB. Error while parsing object: {}\", e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6961990,"reputation":583,"user_id":5341129,"display_name":"PaniniGelato"},"score":1,"creation_date":1460622720,"post_id":34943183,"comment_id":60831775,"body_markdown":"@starkk92 plz note that Update.fromDBObject will replace all fields in dbDoc. If u just want to create Update with non-null fields, u have to code it yourself.","body":"@starkk92 plz note that Update.fromDBObject will replace all fields in dbDoc. If u just want to create Update with non-null fields, u have to code it yourself."},{"owner":{"account_id":1389614,"reputation":1649,"user_id":1320774,"accept_rate":50,"display_name":"javadev"},"score":0,"creation_date":1488363365,"post_id":34943183,"comment_id":72193630,"body_markdown":"OK for the answer, but this also sets null objects. If you don&#39;t want null objects to be updated, you have to include an ObjectMapper with the option to ignore inlcudes. This is @gogstad comment on Vivek Sethi&#39;s answer. Thanks by the way.","body":"OK for the answer, but this also sets null objects. If you don&#39;t want null objects to be updated, you have to include an ObjectMapper with the option to ignore inlcudes. This is @gogstad comment on Vivek Sethi&#39;s answer. Thanks by the way."}],"tags":[],"owner":{"account_id":6961990,"reputation":583,"user_id":5341129,"display_name":"PaniniGelato"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1460623445,"creation_date":1453454838,"answer_id":34943183,"question_id":20001627,"body_markdown":"I found a pretty good solution for this question\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n\r\n    //build query\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n\r\n    //build update\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\r\n    Update update = Update.fromDBObject(dbDoc);\r\n\r\n    //run it!\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\n\r\nPlz note that Update.fromDBObject return an update object with all fields in dbDoc. If you just want to update non-null fields, you should code a new method to exclude null fields.\r\n\r\n\r\nFor example, the front-end post a doc like below:\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setEnglish(&quot;norwegian&quot;);\r\n\r\nWe only need to update the field &#39;language&#39;:\r\n\r\n    //return Update object\r\n    public static Update fromDBObjectExcludeNullFields(DBObject object) {\r\n\t\tUpdate update = new Update();\t\t\r\n\t\tfor (String key : object.keySet()) {\r\n\t\t\tObject value = object.get(key);\r\n\t\t\tif(value!=null){\r\n\t\t\t\tupdate.set(key, value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn update;\r\n\t}\r\n\r\n    //build udpate\r\n    Update update = fromDBObjectExcludeNullFields(dbDoc);","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>I found a pretty good solution for this question</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\n\n//build query\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\n//build update\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\nUpdate update = Update.fromDBObject(dbDoc);\n\n//run it!\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>Plz note that Update.fromDBObject return an update object with all fields in dbDoc. If you just want to update non-null fields, you should code a new method to exclude null fields.</p>\n\n<p>For example, the front-end post a doc like below:</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setEnglish(\"norwegian\");\n</code></pre>\n\n<p>We only need to update the field 'language':</p>\n\n<pre><code>//return Update object\npublic static Update fromDBObjectExcludeNullFields(DBObject object) {\n    Update update = new Update();       \n    for (String key : object.keySet()) {\n        Object value = object.get(key);\n        if(value!=null){\n            update.set(key, value);\n        }\n    }\n    return update;\n}\n\n//build udpate\nUpdate update = fromDBObjectExcludeNullFields(dbDoc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8587145,"reputation":1,"user_id":6432862,"display_name":"V. F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465261818,"creation_date":1465261818,"answer_id":37669029,"question_id":20001627,"body_markdown":"Just use `ReflectionDBObject` - if you make `Description` extend it, you should just get your object&#39;s fields transferred to `Update` reflectively, automagically. The note from above about null fields included in the update still holds true.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Just use <code>ReflectionDBObject</code> - if you make <code>Description</code> extend it, you should just get your object's fields transferred to <code>Update</code> reflectively, automagically. The note from above about null fields included in the update still holds true.</p>\n"},{"comments":[{"owner":{"account_id":1543136,"reputation":795,"user_id":1437307,"accept_rate":77,"display_name":"Mr.Radar"},"score":0,"creation_date":1490034738,"post_id":39290410,"comment_id":72921782,"body_markdown":"caveat: If you are using a `@Version` - tagged field in your entity, this approach will interfere with spring&#39;s version incrementation, producing an exception &quot;Invalid BSON field name $inc&quot;. In this case, one must iterate over the dbDoc and use `update.set` like in @PaniniGelatos answer.","body":"caveat: If you are using a <code>@Version</code> - tagged field in your entity, this approach will interfere with spring&#39;s version incrementation, producing an exception &quot;Invalid BSON field name $inc&quot;. In this case, one must iterate over the dbDoc and use <code>update.set</code> like in @PaniniGelatos answer."}],"tags":[],"owner":{"account_id":4755420,"reputation":523,"user_id":3844310,"display_name":"schmichri"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1472812862,"creation_date":1472812862,"answer_id":39290410,"question_id":20001627,"body_markdown":"If you want to upsert Pojos incl. property `String id;` you have to exclude the _id field in the fromDBObject method `Update.fromDBObject(dbDoc,&quot;_id&quot;`).\r\n\r\nOtherwise you get the Exception:\r\n\r\n    org.springframework.dao.DuplicateKeyException: { &quot;serverUsed&quot; : &quot;127.0.0.1:27017&quot; , &quot;ok&quot; : 1 , &quot;n&quot; : 0 , &quot;updatedExisting&quot; : false , &quot;err&quot; : &quot;E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }&quot; , &quot;code&quot; : 11000}; nested exception is com.mongodb.MongoException$DuplicateKey: { &quot;serverUsed&quot; : &quot;127.0.0.1:27017&quot; , &quot;ok&quot; : 1 , &quot;n&quot; : 0 , &quot;updatedExisting&quot; : false , &quot;err&quot; : &quot;E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }&quot; , &quot;code&quot; : 11000}\r\n\r\nbecause the _id field of the first is null \r\n\r\n    {\r\n        &quot;_id&quot; : null,\r\n    ...\r\n    \r\n    }\r\n\r\nFullcode based on @PaniniGelato answer would be \r\n\r\n\r\n    public class Description(){\r\n        public String id;\r\n    ...\r\n    }\r\n\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n    \r\n    //build query\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    \r\n    //build update\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\r\n    Update update = Update.fromDBObject(dbDoc, &quot;_id&quot;);\r\n    \r\n    //run it!\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nThen the upsert is working in the cases of insert **and** update. Corrections &amp; thoughts are welcome ;)\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>If you want to upsert Pojos incl. property <code>String id;</code> you have to exclude the _id field in the fromDBObject method <code>Update.fromDBObject(dbDoc,\"_id\"</code>).</p>\n\n<p>Otherwise you get the Exception:</p>\n\n<pre><code>org.springframework.dao.DuplicateKeyException: { \"serverUsed\" : \"127.0.0.1:27017\" , \"ok\" : 1 , \"n\" : 0 , \"updatedExisting\" : false , \"err\" : \"E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }\" , \"code\" : 11000}; nested exception is com.mongodb.MongoException$DuplicateKey: { \"serverUsed\" : \"127.0.0.1:27017\" , \"ok\" : 1 , \"n\" : 0 , \"updatedExisting\" : false , \"err\" : \"E11000 duplicate key error collection: db.description index: _id_ dup key: { : null }\" , \"code\" : 11000}\n</code></pre>\n\n<p>because the _id field of the first is null </p>\n\n<pre><code>{\n    \"_id\" : null,\n...\n\n}\n</code></pre>\n\n<p>Fullcode based on @PaniniGelato answer would be </p>\n\n<pre><code>public class Description(){\n    public String id;\n...\n}\n\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\n\n//build query\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\n//build update\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(d, dbDoc); //it is the one spring use for convertions.\nUpdate update = Update.fromDBObject(dbDoc, \"_id\");\n\n//run it!\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>Then the upsert is working in the cases of insert <strong>and</strong> update. Corrections &amp; thoughts are welcome ;)</p>\n"},{"tags":[],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482784975,"creation_date":1482784975,"answer_id":41336110,"question_id":20001627,"body_markdown":"There are two cases here that need to be distinguished:\r\n\r\n 1. Update an item that was previously fetched from the DB.\r\n 2. Update or insert (upsert) an item you created by code.\r\n\r\nIn Case 1) You can simply use [mongoTemplate.save(pojo, &quot;collection&quot;)][1], because your POJO will already have a filled ObjectID in its id field.\r\n\r\nIn case 2) You have to explain to mongo what &quot;already exists&quot; means in case of your domain model: By default the mongoTemplate.save() method updates an existing item, if there is one with that same ObjectId.   But with a newly instantiated POJO you do not have that id. Therefore the mongoTemplate.upsert() method has a query parameter that you can create like this:\r\n\r\n    MyDomainClass pojo = new MyDomainClass(...);\r\n\r\n    Query query = Query.query(Criteria.where(&quot;email&quot;).is(&quot;user1@domain.com&quot;));\r\n\r\n    DBObject dbDoc = new BasicDBObject();\r\n    mongoTemplate.getConverter().write(pojo, dbDoc);   //it is the one spring use for convertions.\r\n    dbDoc.removeField(&quot;_id&quot;);    // just to be sure to not create any duplicates\r\n    Update update = Update.fromDBObject(dbDoc);\r\n\r\n    WriteResult writeResult = mongoTemplate.upsert(query, update, UserModel.class);\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>There are two cases here that need to be distinguished:</p>\n\n<ol>\n<li>Update an item that was previously fetched from the DB.</li>\n<li>Update or insert (upsert) an item you created by code.</li>\n</ol>\n\n<p>In Case 1) You can simply use <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoOperations.html#save-java.lang.Object-java.lang.String-\" rel=\"nofollow noreferrer\">mongoTemplate.save(pojo, \"collection\")</a>, because your POJO will already have a filled ObjectID in its id field.</p>\n\n<p>In case 2) You have to explain to mongo what \"already exists\" means in case of your domain model: By default the mongoTemplate.save() method updates an existing item, if there is one with that same ObjectId.   But with a newly instantiated POJO you do not have that id. Therefore the mongoTemplate.upsert() method has a query parameter that you can create like this:</p>\n\n<pre><code>MyDomainClass pojo = new MyDomainClass(...);\n\nQuery query = Query.query(Criteria.where(\"email\").is(\"user1@domain.com\"));\n\nDBObject dbDoc = new BasicDBObject();\nmongoTemplate.getConverter().write(pojo, dbDoc);   //it is the one spring use for convertions.\ndbDoc.removeField(\"_id\");    // just to be sure to not create any duplicates\nUpdate update = Update.fromDBObject(dbDoc);\n\nWriteResult writeResult = mongoTemplate.upsert(query, update, UserModel.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879257,"reputation":640,"user_id":2470498,"display_name":"Awanish Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521741007,"creation_date":1521741007,"answer_id":49435336,"question_id":20001627,"body_markdown":"       \r\n    public void saveOrUpdate(String json) {\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            DBObject update1 = new BasicDBObject(&quot;$set&quot;, JSON.parse(json));\r\n            mongoTemplate.getCollection(&quot;collectionName&quot;).update(new Query(Criteria.where(&quot;name&quot;).is(jsonObject.getString(&quot;name&quot;))).getQueryObject(), update1, true, false);\r\n        } catch (Exception e) {\r\n            throw new GenericServiceException(&quot;Error while save/udpate. Error msg: &quot; + e.getMessage(), e);\r\n        }\r\n\r\n    }\r\n\r\nthis is very simple way to save json string into collection using mongodb \r\n and spring.\r\nThis method can be override to use as JSONObject.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<pre><code>public void saveOrUpdate(String json) {\n    try {\n        JSONObject jsonObject = new JSONObject(json);\n        DBObject update1 = new BasicDBObject(\"$set\", JSON.parse(json));\n        mongoTemplate.getCollection(\"collectionName\").update(new Query(Criteria.where(\"name\").is(jsonObject.getString(\"name\"))).getQueryObject(), update1, true, false);\n    } catch (Exception e) {\n        throw new GenericServiceException(\"Error while save/udpate. Error msg: \" + e.getMessage(), e);\n    }\n\n}\n</code></pre>\n\n<p>this is very simple way to save json string into collection using mongodb \n and spring.\nThis method can be override to use as JSONObject.</p>\n"},{"comments":[{"owner":{"account_id":4639178,"reputation":735,"user_id":3759528,"accept_rate":57,"display_name":"madcolonel10"},"score":1,"creation_date":1569926564,"post_id":51241118,"comment_id":102745968,"body_markdown":"why does this fail to work for BulkOperations any idea \nhere is a snippet of my code https://pastebin.com/t0mZDZd8\njava.lang.IllegalArgumentException: Invalid BSON field name code","body":"why does this fail to work for BulkOperations any idea  here is a snippet of my code <a href=\"https://pastebin.com/t0mZDZd8\" rel=\"nofollow noreferrer\">pastebin.com/t0mZDZd8</a> java.lang.IllegalArgumentException: Invalid BSON field name code"},{"owner":{"account_id":3896072,"reputation":322,"user_id":3225089,"accept_rate":60,"display_name":"chris115379"},"score":0,"creation_date":1573546648,"post_id":51241118,"comment_id":103907154,"body_markdown":"@madcolonel10 did you find any solution to this? I have the same problem.","body":"@madcolonel10 did you find any solution to this? I have the same problem."},{"owner":{"account_id":4639178,"reputation":735,"user_id":3759528,"accept_rate":57,"display_name":"madcolonel10"},"score":0,"creation_date":1573643826,"post_id":51241118,"comment_id":103946592,"body_markdown":"@chris115379 check if this helps https://pastebin.com/LxEPym3S","body":"@chris115379 check if this helps <a href=\"https://pastebin.com/LxEPym3S\" rel=\"nofollow noreferrer\">pastebin.com/LxEPym3S</a>"}],"tags":[],"owner":{"account_id":4273159,"reputation":1154,"user_id":3494508,"display_name":"Dawid Naczke"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1531125109,"creation_date":1531125109,"answer_id":51241118,"question_id":20001627,"body_markdown":"The solution for a new spring-data-mongodb version 2.X.X.\r\n\r\nThe API has evolved, since 2.X.X version there is:\r\n\r\n    Update.fromDocument(org.bson.Document object, String... exclude)\r\ninstead of (1.X.X):\r\n\r\n    Update.fromDBObject(com.mongodb.DBObject object, String... exclude)\r\n\r\nThe full solution:\r\n\r\n    //make a new description here\r\n    Description d = new Description();\r\n    d.setCode(&quot;no&quot;);\r\n    d.setName(&quot;norwegian&quot;);\r\n    d.setNorwegian(&quot;norwegian&quot;);\r\n    d.setEnglish(&quot;english&quot;);\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    \r\n    Document doc = new Document(); // org.bson.Document\r\n    mongoTemplate.getConverter().write(item, doc);\r\n    Update update = Update.fromDocument(doc);\r\n    \r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nIt works!","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>The solution for a new spring-data-mongodb version 2.X.X.</p>\n\n<p>The API has evolved, since 2.X.X version there is:</p>\n\n<pre><code>Update.fromDocument(org.bson.Document object, String... exclude)\n</code></pre>\n\n<p>instead of (1.X.X):</p>\n\n<pre><code>Update.fromDBObject(com.mongodb.DBObject object, String... exclude)\n</code></pre>\n\n<p>The full solution:</p>\n\n<pre><code>//make a new description here\nDescription d = new Description();\nd.setCode(\"no\");\nd.setName(\"norwegian\");\nd.setNorwegian(\"norwegian\");\nd.setEnglish(\"english\");\nQuery query = new Query(Criteria.where(\"code\").is(description.getCode()));\n\nDocument doc = new Document(); // org.bson.Document\nmongoTemplate.getConverter().write(item, doc);\nUpdate update = Update.fromDocument(doc);\n\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>It works!</p>\n"},{"comments":[{"owner":{"account_id":14360452,"reputation":2758,"user_id":10372900,"display_name":"itsmysterybox"},"score":1,"creation_date":1540901808,"post_id":53063858,"comment_id":93026551,"body_markdown":"Code only answers are really discouraged. To help future readers, please explain what you are doing too!","body":"Code only answers are really discouraged. To help future readers, please explain what you are doing too!"}],"tags":[],"owner":{"account_id":14121286,"reputation":11,"user_id":10201705,"display_name":"字云龙"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1540900805,"creation_date":1540900805,"answer_id":53063858,"question_id":20001627,"body_markdown":"    @Override\r\n    public void updateInfo(UpdateObject algorithm) {\r\n        Document document = new Document();\r\n        mongoTemplate.getConverter().write(algorithm, document);\r\n        Update update = Update.fromDocument(document);\r\n        mongoTemplate.updateFirst(query(where(&quot;_id&quot;).is(algorithm.get_id())), update, UpdateObject.class);\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<pre><code>@Override\npublic void updateInfo(UpdateObject algorithm) {\n    Document document = new Document();\n    mongoTemplate.getConverter().write(algorithm, document);\n    Update update = Update.fromDocument(document);\n    mongoTemplate.updateFirst(query(where(\"_id\").is(algorithm.get_id())), update, UpdateObject.class);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2268823,"reputation":164,"user_id":1996772,"accept_rate":75,"display_name":"gfyhser"},"score":0,"creation_date":1640724917,"post_id":59066951,"comment_id":124644354,"body_markdown":"As surprising as it looks, this solutions helps us out ! Why would we have to manually add the $set key to the update definition ?","body":"As surprising as it looks, this solutions helps us out ! Why would we have to manually add the $set key to the update definition ?"},{"owner":{"account_id":9476982,"reputation":71,"user_id":7046024,"display_name":"arthurdai"},"score":1,"creation_date":1650190807,"post_id":59066951,"comment_id":127054428,"body_markdown":"@gfyhser Because not all updates are using &quot;$set&quot;, so it makes sense to let the user to add it if needed.","body":"@gfyhser Because not all updates are using &quot;$set&quot;, so it makes sense to let the user to add it if needed."},{"owner":{"account_id":2975552,"reputation":131,"user_id":2526656,"display_name":"antonmarin"},"score":0,"creation_date":1662457513,"post_id":59066951,"comment_id":130004222,"body_markdown":"Thanks. Helped me to get difference between UPDATED and ALREADY_UPDATED","body":"Thanks. Helped me to get difference between UPDATED and ALREADY_UPDATED"}],"tags":[],"owner":{"account_id":9476982,"reputation":71,"user_id":7046024,"display_name":"arthurdai"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1574846843,"creation_date":1574846843,"answer_id":59066951,"question_id":20001627,"body_markdown":"Just like previous answers said, use mongoTemplate.getConverter().write() and Update.fromDocument() functions. But i found Update.fromDocument() won&#39;t add &quot;$set&quot; key and won&#39;t work directly, the solution is to add &quot;$set&quot; yourself, like below (PS: I&#39;m using 2.2.1.RELEASE version):\r\n\r\n    public static Update updateFromObject(Object object, MongoTemplate mongoTemplate) {\r\n        Document doc = new Document();\r\n        mongoTemplate.getConverter().write(object, doc);\r\n        return Update.fromDocument(new Document(&quot;$set&quot;, doc));\r\n    }","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Just like previous answers said, use mongoTemplate.getConverter().write() and Update.fromDocument() functions. But i found Update.fromDocument() won't add \"$set\" key and won't work directly, the solution is to add \"$set\" yourself, like below (PS: I'm using 2.2.1.RELEASE version):</p>\n\n<pre><code>public static Update updateFromObject(Object object, MongoTemplate mongoTemplate) {\n    Document doc = new Document();\n    mongoTemplate.getConverter().write(object, doc);\n    return Update.fromDocument(new Document(\"$set\", doc));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23646640,"reputation":1,"user_id":17676176,"display_name":"virat suresh"},"score":0,"creation_date":1667198749,"post_id":74259597,"comment_id":131105309,"body_markdown":"Can someone help me with this.","body":"Can someone help me with this."},{"owner":{"account_id":4350664,"reputation":508,"user_id":3551126,"accept_rate":30,"display_name":"teik"},"score":0,"creation_date":1667446966,"post_id":74259597,"comment_id":131170804,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/33068793)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/33068793\">From Review</a>"}],"tags":[],"owner":{"account_id":23646640,"reputation":1,"user_id":17676176,"display_name":"virat suresh"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667198689,"creation_date":1667198689,"answer_id":74259597,"question_id":20001627,"body_markdown":"After upsert, I was Tring to fetch same record but it was given me the old one.\r\n\r\nBut in dB I am having new records.\r\n\r\n","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>After upsert, I was Tring to fetch same record but it was given me the old one.</p>\n<p>But in dB I am having new records.</p>\n"}],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73107,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":22211965,"answer_count":13,"score":23,"last_activity_date":1667198689,"creation_date":1384520158,"question_id":20001627,"body_markdown":"Here is a simple pojo:\r\n\r\n    public class Description {\r\n        private String code;\r\n        private String name;\r\n        private String norwegian;\r\n        private String english;\r\n    }\r\n\r\nAnd please see the following code to apply an `upsert` to MongoDb via spring MongoTemplate:\r\n\r\n    Query query = new Query(Criteria.where(&quot;code&quot;).is(description.getCode()));\r\n    Update update = new Update().set(&quot;name&quot;, description.getName()).set(&quot;norwegian&quot;, description.getNorwegian()).set(&quot;english&quot;, description.getEnglish());\r\n    mongoTemplate.upsert(query, update, &quot;descriptions&quot;);\r\n\r\nThe line to generate the `Update` object specifies every field of the `Item` class manually.\r\n\r\nBut if my `Item` object changes then my Dao layer breaks.\r\n\r\nSo is there a way to avoid doing this, so that all fields from my `Item` class are applied automatically to the update?\r\n\r\nE.g.\r\n\r\n    Update update = new Update().fromObject(item);\r\n\r\nNote that my pojo does not extend `DBObject`.","title":"MongoTemplate upsert - easy way to make Update from pojo (which user has editted)?","body":"<p>Here is a simple pojo:</p>\n\n<pre><code>public class Description {\n    private String code;\n    private String name;\n    private String norwegian;\n    private String english;\n}\n</code></pre>\n\n<p>And please see the following code to apply an <code>upsert</code> to MongoDb via spring MongoTemplate:</p>\n\n<pre><code>Query query = new Query(Criteria.where(\"code\").is(description.getCode()));\nUpdate update = new Update().set(\"name\", description.getName()).set(\"norwegian\", description.getNorwegian()).set(\"english\", description.getEnglish());\nmongoTemplate.upsert(query, update, \"descriptions\");\n</code></pre>\n\n<p>The line to generate the <code>Update</code> object specifies every field of the <code>Item</code> class manually.</p>\n\n<p>But if my <code>Item</code> object changes then my Dao layer breaks.</p>\n\n<p>So is there a way to avoid doing this, so that all fields from my <code>Item</code> class are applied automatically to the update?</p>\n\n<p>E.g.</p>\n\n<pre><code>Update update = new Update().fromObject(item);\n</code></pre>\n\n<p>Note that my pojo does not extend <code>DBObject</code>.</p>\n"},{"tags":["java","arrays","for-loop","if-statement","math"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":1,"creation_date":1667183646,"post_id":74258049,"comment_id":131103196,"body_markdown":"Should your solution only work with 4x4 grids?","body":"Should your solution only work with 4x4 grids?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667185604,"creation_date":1667185604,"answer_id":74258383,"question_id":74258049,"body_markdown":"You can return an array of grid that contains `{topLeft, topRight, bottomLeft, bottomRight}` like this.\r\n\r\n    public static void main(String[] args) {\r\n        double[][] array1 = {\r\n            {1, 5, 6, 2},\r\n            {3, 1, 6, 5},\r\n            {6, 3, 9, 4},\r\n            {3, 8, 4, 2}};\r\n\r\n        double[][][] result = splitGrid(array1);\r\n\r\n        for (double[][] grid : result) {\r\n            for (double[] row : grid)\r\n                System.out.println(Arrays.toString(row));\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static double[][][] splitGrid(double[][] grid) {\r\n        int rows = grid.length, cols = grid[0].length;\r\n        int subRows = rows / 2, subCols = cols / 2;\r\n        double[][][] result = {\r\n            new double[subRows][], new double[subRows][],\r\n            new double[rows - subRows][], new double[rows - subRows][]};\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            if (i &lt; subRows) {\r\n                result[0][i] = Arrays.copyOf(grid[i], subCols);\r\n                result[1][i] = Arrays.copyOfRange(grid[i], subCols, cols);\r\n            } else {\r\n                result[2][i - subRows] = Arrays.copyOf(grid[i], subCols);\r\n                result[3][i - subRows] = Arrays.copyOfRange(grid[i], subCols, cols);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\noutput:\r\n\r\n    [1.0, 5.0]\r\n    [3.0, 1.0]\r\n    \r\n    [6.0, 2.0]\r\n    [6.0, 5.0]\r\n    \r\n    [6.0, 3.0]\r\n    [3.0, 8.0]\r\n    \r\n    [9.0, 4.0]\r\n    [4.0, 2.0]\r\n\r\n","title":"method that splits a 2D array into 4 parts in Java","body":"<p>You can return an array of grid that contains <code>{topLeft, topRight, bottomLeft, bottomRight}</code> like this.</p>\n<pre><code>public static void main(String[] args) {\n    double[][] array1 = {\n        {1, 5, 6, 2},\n        {3, 1, 6, 5},\n        {6, 3, 9, 4},\n        {3, 8, 4, 2}};\n\n    double[][][] result = splitGrid(array1);\n\n    for (double[][] grid : result) {\n        for (double[] row : grid)\n            System.out.println(Arrays.toString(row));\n        System.out.println();\n    }\n}\n\npublic static double[][][] splitGrid(double[][] grid) {\n    int rows = grid.length, cols = grid[0].length;\n    int subRows = rows / 2, subCols = cols / 2;\n    double[][][] result = {\n        new double[subRows][], new double[subRows][],\n        new double[rows - subRows][], new double[rows - subRows][]};\n    for (int i = 0; i &lt; rows; i++) {\n        if (i &lt; subRows) {\n            result[0][i] = Arrays.copyOf(grid[i], subCols);\n            result[1][i] = Arrays.copyOfRange(grid[i], subCols, cols);\n        } else {\n            result[2][i - subRows] = Arrays.copyOf(grid[i], subCols);\n            result[3][i - subRows] = Arrays.copyOfRange(grid[i], subCols, cols);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[1.0, 5.0]\n[3.0, 1.0]\n\n[6.0, 2.0]\n[6.0, 5.0]\n\n[6.0, 3.0]\n[3.0, 8.0]\n\n[9.0, 4.0]\n[4.0, 2.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667198390,"creation_date":1667198390,"answer_id":74259563,"question_id":74258049,"body_markdown":"There are many ways to do this, one of them (and probably the safest!) of course being `copy` methods from the standard lib&#39;s `Arrays` class. However, if you are looking to develop your &quot;manual&quot; algorithmic skills with this one, then something like the following could be appropriate: \r\n```java\r\npublic static void main(String[] args) {\r\n    double[][] fourByFourArray = {{1, 5, 6, 2},\r\n            {3, 1, 6, 5},\r\n            {6, 3, 9, 4},\r\n            {3, 8, 4, 2}};\r\n    System.out.println(&quot;Printing 4x4 array: &quot;);\r\n    splitGridInto4equalParts(fourByFourArray);\r\n    System.out.println(&quot;Printing 6x6 array: &quot;);\r\n    double[][] sixBySixArray = {{1, 5, 7, 6, 8, 2},\r\n            {3, 1, 9, 6, 1, 5},\r\n            {6, 3, 20, 10, 2, 4},\r\n            {3, 8, 31, 2, 5, 2},\r\n            {3, 1, 9, 6, 1, 5},\r\n            {3, 8, 31, 2, 5, 2},\r\n    };\r\n    splitGridInto4equalParts(sixBySixArray);\r\n}\r\n\r\npublic static void splitGridInto4equalParts(double[][] grid) {\r\n    //assuming grid has equal sides\r\n    var gridSide = grid.length;\r\n    //assuming grid side is even number\r\n    var half = gridSide / 2;\r\n    //filling arrays\r\n    double[][] topLeft = getPart(grid, half, 0, 0, half, half);\r\n    double[][] topRight = getPart(grid, half, 0, half, half, gridSide);\r\n    double[][] bottomLeft = getPart(grid, half, half, 0, gridSide, half);\r\n    double[][] bottomRight = getPart(grid, half, half, half, gridSide, gridSide);\r\n    //printing\r\n    printGridPart(half, topLeft);\r\n    printGridPart(half, topRight);\r\n    printGridPart(half, bottomLeft);\r\n    printGridPart(half, bottomRight);\r\n}\r\n\r\nprivate static double[][] getPart(double[][] grid, int partSideLength, int gridRow, int gridCol, int gridRowLimit, int gridColLimit) {\r\n    double[][] gridPart = new double[partSideLength][partSideLength];\r\n    int resRow = 0, resCol = 0;\r\n    //saving original grid column parameter, in order to reset it when execution moves on new grid row\r\n    int origGridCol = gridCol;\r\n    while (gridRow &lt; gridRowLimit) {\r\n        while (gridCol &lt; gridColLimit) {\r\n            gridPart[resRow][resCol] = grid[gridRow][gridCol];\r\n            //checking whether result column has reached limit in order to move to next row and reset column\r\n            if (resCol == partSideLength - 1) {\r\n                resRow++;\r\n                resCol = 0;\r\n                break;\r\n            }\r\n            //moving one column to the right for both result and grid\r\n            resCol++;\r\n            gridCol++;\r\n        }\r\n        //checking whether result row has reached limit, if so exit from traversing rows\r\n        if (resRow == partSideLength) {\r\n            break;\r\n        }\r\n        gridCol = origGridCol;\r\n        gridRow++;\r\n    }\r\n    return gridPart;\r\n}\r\n\r\n\r\nprivate static void printGridPart(int gridLength, double[][] gridPart) {\r\n    for (int i = 0; i &lt; gridLength; i++) {\r\n        for (int j = 0; j &lt; gridLength; j++) {\r\n            System.out.print(gridPart[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\nThis outputs: \r\n```\r\nPrinting 4x4 array: \r\n1.0 5.0 \r\n3.0 1.0 \r\n\r\n6.0 2.0 \r\n6.0 5.0 \r\n\r\n6.0 3.0 \r\n3.0 8.0 \r\n\r\n9.0 4.0 \r\n4.0 2.0 \r\n\r\nPrinting 6x6 array: \r\n1.0 5.0 7.0 \r\n3.0 1.0 9.0 \r\n6.0 3.0 20.0 \r\n\r\n6.0 8.0 2.0 \r\n6.0 1.0 5.0 \r\n10.0 2.0 4.0 \r\n\r\n3.0 8.0 31.0 \r\n3.0 1.0 9.0 \r\n3.0 8.0 31.0 \r\n\r\n2.0 5.0 2.0 \r\n6.0 1.0 5.0 \r\n2.0 5.0 2.0 \r\n```","title":"method that splits a 2D array into 4 parts in Java","body":"<p>There are many ways to do this, one of them (and probably the safest!) of course being <code>copy</code> methods from the standard lib's <code>Arrays</code> class. However, if you are looking to develop your &quot;manual&quot; algorithmic skills with this one, then something like the following could be appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double[][] fourByFourArray = {{1, 5, 6, 2},\n            {3, 1, 6, 5},\n            {6, 3, 9, 4},\n            {3, 8, 4, 2}};\n    System.out.println(&quot;Printing 4x4 array: &quot;);\n    splitGridInto4equalParts(fourByFourArray);\n    System.out.println(&quot;Printing 6x6 array: &quot;);\n    double[][] sixBySixArray = {{1, 5, 7, 6, 8, 2},\n            {3, 1, 9, 6, 1, 5},\n            {6, 3, 20, 10, 2, 4},\n            {3, 8, 31, 2, 5, 2},\n            {3, 1, 9, 6, 1, 5},\n            {3, 8, 31, 2, 5, 2},\n    };\n    splitGridInto4equalParts(sixBySixArray);\n}\n\npublic static void splitGridInto4equalParts(double[][] grid) {\n    //assuming grid has equal sides\n    var gridSide = grid.length;\n    //assuming grid side is even number\n    var half = gridSide / 2;\n    //filling arrays\n    double[][] topLeft = getPart(grid, half, 0, 0, half, half);\n    double[][] topRight = getPart(grid, half, 0, half, half, gridSide);\n    double[][] bottomLeft = getPart(grid, half, half, 0, gridSide, half);\n    double[][] bottomRight = getPart(grid, half, half, half, gridSide, gridSide);\n    //printing\n    printGridPart(half, topLeft);\n    printGridPart(half, topRight);\n    printGridPart(half, bottomLeft);\n    printGridPart(half, bottomRight);\n}\n\nprivate static double[][] getPart(double[][] grid, int partSideLength, int gridRow, int gridCol, int gridRowLimit, int gridColLimit) {\n    double[][] gridPart = new double[partSideLength][partSideLength];\n    int resRow = 0, resCol = 0;\n    //saving original grid column parameter, in order to reset it when execution moves on new grid row\n    int origGridCol = gridCol;\n    while (gridRow &lt; gridRowLimit) {\n        while (gridCol &lt; gridColLimit) {\n            gridPart[resRow][resCol] = grid[gridRow][gridCol];\n            //checking whether result column has reached limit in order to move to next row and reset column\n            if (resCol == partSideLength - 1) {\n                resRow++;\n                resCol = 0;\n                break;\n            }\n            //moving one column to the right for both result and grid\n            resCol++;\n            gridCol++;\n        }\n        //checking whether result row has reached limit, if so exit from traversing rows\n        if (resRow == partSideLength) {\n            break;\n        }\n        gridCol = origGridCol;\n        gridRow++;\n    }\n    return gridPart;\n}\n\n\nprivate static void printGridPart(int gridLength, double[][] gridPart) {\n    for (int i = 0; i &lt; gridLength; i++) {\n        for (int j = 0; j &lt; gridLength; j++) {\n            System.out.print(gridPart[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n    System.out.println();\n}\n</code></pre>\n<p>This outputs:</p>\n<pre><code>Printing 4x4 array: \n1.0 5.0 \n3.0 1.0 \n\n6.0 2.0 \n6.0 5.0 \n\n6.0 3.0 \n3.0 8.0 \n\n9.0 4.0 \n4.0 2.0 \n\nPrinting 6x6 array: \n1.0 5.0 7.0 \n3.0 1.0 9.0 \n6.0 3.0 20.0 \n\n6.0 8.0 2.0 \n6.0 1.0 5.0 \n10.0 2.0 4.0 \n\n3.0 8.0 31.0 \n3.0 1.0 9.0 \n3.0 8.0 31.0 \n\n2.0 5.0 2.0 \n6.0 1.0 5.0 \n2.0 5.0 2.0 \n</code></pre>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74259563,"answer_count":2,"score":0,"last_activity_date":1667198390,"creation_date":1667181140,"question_id":74258049,"body_markdown":"I&#39;m creating a method that splits a 2D array into 4 parts.\r\n\r\nFor example if the grid is:\r\n\r\n    1 5 6 2\r\n    3 1 6 5\r\n    6 3 9 4\r\n    3 8 4 2\r\n\r\nThe method should return this:\r\n\r\n    1 5\r\n    3 1\r\n    \r\n    6 2\r\n    6 5\r\n    \r\n    6 3\r\n    3 8\r\n    \r\n    9 4\r\n    4 2\r\n\r\nThe code I have only prints the 2D array into a grid. What I was thinking was to create 4 new grids in the method and then, with a series of forloops and if statements, print each new grid. that&#39;s why there are 4 2d arrays in the method. Any suggestions?\r\n\r\n```\r\npublic class problem {\r\n    public static void main(String[] args) {\r\n        double[][] array1 = { {1, 5,   6, 2}, \r\n                            { 3, 1,    6, 5}, \r\n                            \r\n                            { 6, 3,    9, 4}, \r\n                            {3, 8,     4, 2} };\r\n        \r\n        splitGrid(array1);\r\n    }\r\n    \r\n    public static void splitGrid( double[][] grid ) {\r\n        //Create four new grids here\r\n        double[][] TopLeft;\r\n        double[][] TopRight;\r\n        double[][] BottomLeft;\r\n        double[][] BottonRight;\r\n        // Filling the top-left grid\r\n        for( int i = 0; i &lt; grid.length; i++) {\r\n            System.out.println();\r\n            for(int j = 0; j &lt; grid[i].length; j++) {\r\n                System.out.print(grid[i][j] + &quot; &quot; );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"method that splits a 2D array into 4 parts in Java","body":"<p>I'm creating a method that splits a 2D array into 4 parts.</p>\n<p>For example if the grid is:</p>\n<pre><code>1 5 6 2\n3 1 6 5\n6 3 9 4\n3 8 4 2\n</code></pre>\n<p>The method should return this:</p>\n<pre><code>1 5\n3 1\n\n6 2\n6 5\n\n6 3\n3 8\n\n9 4\n4 2\n</code></pre>\n<p>The code I have only prints the 2D array into a grid. What I was thinking was to create 4 new grids in the method and then, with a series of forloops and if statements, print each new grid. that's why there are 4 2d arrays in the method. Any suggestions?</p>\n<pre><code>public class problem {\n    public static void main(String[] args) {\n        double[][] array1 = { {1, 5,   6, 2}, \n                            { 3, 1,    6, 5}, \n                            \n                            { 6, 3,    9, 4}, \n                            {3, 8,     4, 2} };\n        \n        splitGrid(array1);\n    }\n    \n    public static void splitGrid( double[][] grid ) {\n        //Create four new grids here\n        double[][] TopLeft;\n        double[][] TopRight;\n        double[][] BottomLeft;\n        double[][] BottonRight;\n        // Filling the top-left grid\n        for( int i = 0; i &lt; grid.length; i++) {\n            System.out.println();\n            for(int j = 0; j &lt; grid[i].length; j++) {\n                System.out.print(grid[i][j] + &quot; &quot; );\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jsch","sshd","apache-sshd"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667151856,"post_id":74255106,"comment_id":131097905,"body_markdown":"So your server is running on an Android device. Ok. And where is your client running?","body":"So your server is running on an Android device. Ok. And where is your client running?"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667164536,"post_id":74255106,"comment_id":131100601,"body_markdown":"I don&#39;t have two device currently so client run on windows Android studio pixel 3 device emulator","body":"I don&#39;t have two device currently so client run on windows Android studio pixel 3 device emulator"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667168601,"post_id":74255106,"comment_id":131101337,"body_markdown":"And how is a connection established between the &#39;devices&#39;? Wifi? Or mobile connection of Android device? Please explain your setup to the point.","body":"And how is a connection established between the &#39;devices&#39;? Wifi? Or mobile connection of Android device? Please explain your setup to the point."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667168659,"post_id":74255106,"comment_id":131101348,"body_markdown":"Which ip is used by the client to connect to the server? Or how are you trying?","body":"Which ip is used by the client to connect to the server? Or how are you trying?"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667183914,"post_id":74255106,"comment_id":131103226,"body_markdown":"for server i am using mobile network 4G . for client my desktop connected to a broadband connection via ethernet cable","body":"for server i am using mobile network 4G . for client my desktop connected to a broadband connection via ethernet cable"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184034,"post_id":74255106,"comment_id":131103244,"body_markdown":"Context context = MainActivity.this.getApplicationContext();\n        WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n        String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddress());","body":"Context context = MainActivity.this.getApplicationContext();         WifiManager wm = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);         String ip = Formatter.formatIpAddress(wm.getConnectionInfo().getIpAddres&zwnj;&#8203;s());"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184295,"post_id":74255106,"comment_id":131103269,"body_markdown":"i am getting the ip of my server mobile by above codeand server port sett to 8888 , then i use that ip and port number 8888 on the client side . i am using the port 8888 because i am not able to connect port 22 getting error any port below 1024  unless both device rooted","body":"i am getting the ip of my server mobile by above codeand server port sett to 8888 , then i use that ip and port number 8888 on the client side . i am using the port 8888 because i am not able to connect port 22 getting error any port below 1024  unless both device rooted"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667184695,"post_id":74255106,"comment_id":131103335,"body_markdown":"File path = getApplicationContext().getDatabasePath(&quot;au.au_1&quot;);                                            \nLog.d(&quot;T&quot;, String.valueOf(path));   i use this line of code to get the path of my storage i don&#39;t know is this the right way","body":"File path = getApplicationContext().getDatabasePath(&quot;au.au_1&quot;);                                             Log.d(&quot;T&quot;, String.valueOf(path));   i use this line of code to get the path of my storage i don&#39;t know is this the right way"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667196799,"post_id":74255106,"comment_id":131104910,"body_markdown":"You should put all code readable in you post. No in a comments.","body":"You should put all code readable in you post. No in a comments."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667196911,"post_id":74255106,"comment_id":131104926,"body_markdown":"That code is messing around with wifi manager and will not give you mobile/public/internet ip of your Android device. So useless. You did not tell which ip you actually got.","body":"That code is messing around with wifi manager and will not give you mobile/public/internet ip of your Android device. So useless. You did not tell which ip you actually got."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667218338,"post_id":74255106,"comment_id":131110832,"body_markdown":"&quot;192.168.1.39&quot; this is the ip i got","body":"&quot;192.168.1.39&quot; this is the ip i got"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667218918,"post_id":74255106,"comment_id":131111030,"body_markdown":"Well you could comment on that ip. Why didn&#39;t you?","body":"Well you could comment on that ip. Why didn&#39;t you?"}],"answers":[{"comments":[{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667219549,"post_id":74259424,"comment_id":131111277,"body_markdown":"ok then two Wi-Fi connected mobile phone then . i have only one broad band internet connection if i connect two mobile to same Wi-Fi  will it work how can i debug the app","body":"ok then two Wi-Fi connected mobile phone then . i have only one broad band internet connection if i connect two mobile to same Wi-Fi  will it work how can i debug the app"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219607,"post_id":74259424,"comment_id":131111295,"body_markdown":"Are both devices connected to the same wifi? I mean to the same router? You do not need internet connections if both devices use your wif router.","body":"Are both devices connected to the same wifi? I mean to the same router? You do not need internet connections if both devices use your wif router."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219751,"post_id":74259424,"comment_id":131111341,"body_markdown":"And then: if the server has local lan ip 192.168.1.39 then the client should use that ip to connect.","body":"And then: if the server has local lan ip 192.168.1.39 then the client should use that ip to connect."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667221123,"post_id":74259424,"comment_id":131111866,"body_markdown":"most mobile providers block incoming connections.  so then how anydesk kind of app works and  i am running a torrent on my mobile this kind of app use some kind of incoming connection right","body":"most mobile providers block incoming connections.  so then how anydesk kind of app works and  i am running a torrent on my mobile this kind of app use some kind of incoming connection right"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667221227,"post_id":74259424,"comment_id":131111916,"body_markdown":"i like to know my server or client code is ok ?","body":"i like to know my server or client code is ok ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667221834,"post_id":74259424,"comment_id":131112143,"body_markdown":"Can you stay to the point please? We first wanna know if your client can connect if you use that ip. And you did not even comment on that ip although asked.","body":"Can you stay to the point please? We first wanna know if your client can connect if you use that ip. And you did not even comment on that ip although asked."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667223751,"post_id":74259424,"comment_id":131112813,"body_markdown":"the first time  asked about the ip i gave u code because that where i got the ip . i thought maybe that&#39;s not the way to get the ip .if i gave u a Radom number like  192.168.1.39 how can u figure out the problem that what i am thinking .  i am really sorry","body":"the first time  asked about the ip i gave u code because that where i got the ip . i thought maybe that&#39;s not the way to get the ip .if i gave u a Radom number like  192.168.1.39 how can u figure out the problem that what i am thinking .  i am really sorry"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667226092,"post_id":74259424,"comment_id":131113756,"body_markdown":"i tried to run server on a nexus  ipServer 192.168.232.2  then tried to connect server with client with pixel 3a ipClient 10.0.2.16  i got a time out error W/System.err: com.jcraft.jsch.JSchException: timeout: socket is not established","body":"i tried to run server on a nexus  ipServer 192.168.232.2  then tried to connect server with client with pixel 3a ipClient 10.0.2.16  i got a time out error W/System.err: com.jcraft.jsch.JSchException: timeout: socket is not established"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667226396,"post_id":74259424,"comment_id":131113881,"body_markdown":"Those ip&#39;s are so different that clearly both devices do not use the same wifi network.","body":"Those ip&#39;s are so different that clearly both devices do not use the same wifi network."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667227939,"post_id":74259424,"comment_id":131114515,"body_markdown":"Your client should try to connect to the 33. Not to the 36 as the 36 is the client itself if i have to believe you.","body":"Your client should try to connect to the 33. Not to the 36 as the 36 is the client itself if i have to believe you."},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667228547,"post_id":74259424,"comment_id":131114762,"body_markdown":"i fixed it now ipServer 192.168.1.33 / ipClient 192.168.1.36 W/System.err: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read","body":"i fixed it now ipServer 192.168.1.33 / ipClient 192.168.1.36 W/System.err: com.jcraft.jsch.JSchException: Session.connect: java.io.IOException: End of IO Stream Read"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667228645,"post_id":74259424,"comment_id":131114809,"body_markdown":"So you could establish a connection. Great!","body":"So you could establish a connection. Great!"},{"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"score":0,"creation_date":1667228808,"post_id":74259424,"comment_id":131114863,"body_markdown":"i tried to serch the error i found this link https://stackoverflow.com/questions/37280442/jsch-0-1-53-session-connect-throws-end-of-io-stream-read                   i change this session conifg like this  session.setConfig(&quot;kex&quot;, &quot;diffie-hellman-group1-sha1&quot;);   same error","body":"i tried to serch the error i found this link <a href=\"https://stackoverflow.com/questions/37280442/jsch-0-1-53-session-connect-throws-end-of-io-stream-read\" title=\"jsch 0 1 53 session connect throws end of io stream read\">stackoverflow.com/questions/37280442/&hellip;</a>                   i change this session conifg like this  session.setConfig(&quot;kex&quot;, &quot;diffie-hellman-group1-sha1&quot;);   same error"}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667197333,"creation_date":1667197333,"answer_id":74259424,"question_id":74255106,"body_markdown":"To make a long story short:\r\n\r\nEven if you would manage to determine the public internet ip of your Android device that ip would be useless as most mobile providers block incoming connections.\r\n\r\nHence it makes no sense trying your mobile phone to act as a server.\r\n\r\nOnly possible on wifi.","title":"how can i download a file from sshd server to jsch client properly mobile to mobile","body":"<p>To make a long story short:</p>\n<p>Even if you would manage to determine the public internet ip of your Android device that ip would be useless as most mobile providers block incoming connections.</p>\n<p>Hence it makes no sense trying your mobile phone to act as a server.</p>\n<p>Only possible on wifi.</p>\n"}],"owner":{"account_id":26617220,"reputation":1,"user_id":20236431,"display_name":"CodeBlack"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667197333,"creation_date":1667149684,"question_id":74255106,"body_markdown":"i have a sshd server running on my mobile without error i am trying to download a file from my mobile internal storage using jsch as client . getting this errors\r\n\r\n\\*\\* CLIENT \\*\\*\r\n\r\n```\r\n```\r\n\r\n        public void startClient(){\r\n    \r\n       String localFile = &quot;/data/user/0/com.open.jsch/databases/au.au_1&quot;;\r\n        String remoteFile = &quot;/data/user/0/com.open.androidsshd/databases/au.au_1&quot;;\r\n    \r\n        Session jschSession = null;\r\n    \r\n        try {\r\n    \r\n        JSch jsch = new JSch();\r\n        jsch.setKnownHosts(&quot;/home/mkyong/.ssh/known_hosts&quot;);\r\n        jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n    \r\n        // authenticate using private key\r\n        // jsch.addIdentity(&quot;/home/mkyong/.ssh/id_rsa&quot;);\r\n    \r\n        // authenticate using password\r\n        jschSession.setPassword(PASSWORD);\r\n    \r\n        //Missing code\r\n        java.util.Properties config = new java.util.Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.setConfig(config);\r\n        //\r\n        System.out.println(&quot;Establishing connection&quot;);\r\n        // 10 seconds session timeout\r\n        jschSession.connect(SESSION_TIMEOUT);\r\n    \r\n        Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\r\n    \r\n        // 5 seconds timeout\r\n        sftp.connect(CHANNEL_TIMEOUT);\r\n    \r\n        ChannelSftp channelSftp = (ChannelSftp) sftp;\r\n    \r\n        // transfer file from local to remote server\r\n        //channelSftp.put(localFile, remoteFile);\r\n    \r\n        // download file from remote server to local\r\n        channelSftp.get(remoteFile, localFile);\r\n        System.out.println(&quot;got the file&quot;);\r\n        channelSftp.exit();\r\n    \r\n        } catch (JSchException | SftpException e) {\r\n    \r\n        e.printStackTrace();\r\n    \r\n        } finally {\r\n        if (jschSession != null) {\r\n            jschSession.disconnect();\r\n        }\r\n        }\r\n    \r\n    \r\n       }\r\n\r\n```\r\n```\r\n\r\n**Client Error**\r\n\r\n```\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err: com.jcraft.jsch.JSchException:     Session.connect: java.net.SocketException: Connection reset\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at  com.jcraft.jsch.Session.connect(Session.java:565)\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.Client.startClient(Client.java:71)\r\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.MainActivity$2.run(MainActivity.java:78)\r\n    2022-10-30 21:55:59.229 15159-15202/com.allah.jsch W/System.err:     at java.lang.Thread.run(Thread.java:764)\r\n```\r\n\r\n**SERVER**\r\n\r\n```\r\n```\r\n\r\n    int port = 8888;\r\n    SshServer sshd = SshServer.setUpDefaultServer();\r\n    sshd.setPort(port);\r\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\r\n        &quot;src/test/resources/hostkey.ser&quot;));\r\n    sshd.setSubsystemFactories(Arrays\r\n        .&lt;NamedFactory&lt;Command&gt;&gt;asList(new SftpSubsystem.Factory()));\r\n    sshd.setCommandFactory(new ScpCommandFactory());\r\n    sshd.setShellFactory(new EchoShellFactory()); // necessary if you want to type commands over ssh\r\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n    \r\n    @Override\r\n    public boolean authenticate(String u, String p, ServerSession s) {\r\n        return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    });\r\n    \r\n    \r\n    try {\r\n    sshd.start();\r\n    } catch (IOException e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\n```\r\n```\r\n\r\nfor client side testing. i am running on my android studio emulator .for server i am running on mobile. for the first time i run the code there is a lots of error but i fixed it by adding dependencies and internet permission whatever i can find it online  now the errors i cant fixit there is no answers on the google or stack i an understanding  i need help\r\n\r\n\\*\\*permission \\*\\*\r\n\r\n```\r\n```\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n```\r\n```\r\n\r\n\\*\\*gradle on client \\*\\*\r\n\r\n```\r\n```\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.sshd/sshd-core\r\n    implementation group: &#39;org.apache.sshd&#39;, name: &#39;sshd-core&#39;, version: &#39;0.6.0&#39;\r\n    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\r\n    testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;1.6.2&#39;\r\n    \r\n    // https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk16\r\n    implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk16&#39;, version: &#39;1.46&#39;\r\n\r\n```\r\n    implementation files(&#39;libs\\\\jsch-0.1.55.jar&#39;)\r\n```\r\n\r\n```\r\n```\r\n\r\ni am expecting to download a file from SSHD server to JSCH client/ SSHD Client . i think i am missing some code on server side i need some help with this . i know you guys are very busy please a humble request give me a correct working solution thanks for advance","title":"how can i download a file from sshd server to jsch client properly mobile to mobile","body":"<p>i have a sshd server running on my mobile without error i am trying to download a file from my mobile internal storage using jsch as client . getting this errors</p>\n<p>** CLIENT **</p>\n<pre><code></code></pre>\n<pre><code>    public void startClient(){\n\n   String localFile = &quot;/data/user/0/com.open.jsch/databases/au.au_1&quot;;\n    String remoteFile = &quot;/data/user/0/com.open.androidsshd/databases/au.au_1&quot;;\n\n    Session jschSession = null;\n\n    try {\n\n    JSch jsch = new JSch();\n    jsch.setKnownHosts(&quot;/home/mkyong/.ssh/known_hosts&quot;);\n    jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n\n    // authenticate using private key\n    // jsch.addIdentity(&quot;/home/mkyong/.ssh/id_rsa&quot;);\n\n    // authenticate using password\n    jschSession.setPassword(PASSWORD);\n\n    //Missing code\n    java.util.Properties config = new java.util.Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    jschSession.setConfig(config);\n    //\n    System.out.println(&quot;Establishing connection&quot;);\n    // 10 seconds session timeout\n    jschSession.connect(SESSION_TIMEOUT);\n\n    Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\n\n    // 5 seconds timeout\n    sftp.connect(CHANNEL_TIMEOUT);\n\n    ChannelSftp channelSftp = (ChannelSftp) sftp;\n\n    // transfer file from local to remote server\n    //channelSftp.put(localFile, remoteFile);\n\n    // download file from remote server to local\n    channelSftp.get(remoteFile, localFile);\n    System.out.println(&quot;got the file&quot;);\n    channelSftp.exit();\n\n    } catch (JSchException | SftpException e) {\n\n    e.printStackTrace();\n\n    } finally {\n    if (jschSession != null) {\n        jschSession.disconnect();\n    }\n    }\n\n\n   }\n</code></pre>\n<pre><code></code></pre>\n<p><strong>Client Error</strong></p>\n<pre><code>    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err: com.jcraft.jsch.JSchException:     Session.connect: java.net.SocketException: Connection reset\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at  com.jcraft.jsch.Session.connect(Session.java:565)\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.Client.startClient(Client.java:71)\n    2022-10-30 21:55:59.228 15159-15202/com.allah.jsch W/System.err:     at com.allah.jsch.MainActivity$2.run(MainActivity.java:78)\n    2022-10-30 21:55:59.229 15159-15202/com.allah.jsch W/System.err:     at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n<p><strong>SERVER</strong></p>\n<pre><code></code></pre>\n<pre><code>int port = 8888;\nSshServer sshd = SshServer.setUpDefaultServer();\nsshd.setPort(port);\nsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\n    &quot;src/test/resources/hostkey.ser&quot;));\nsshd.setSubsystemFactories(Arrays\n    .&lt;NamedFactory&lt;Command&gt;&gt;asList(new SftpSubsystem.Factory()));\nsshd.setCommandFactory(new ScpCommandFactory());\nsshd.setShellFactory(new EchoShellFactory()); // necessary if you want to type commands over ssh\nsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n\n@Override\npublic boolean authenticate(String u, String p, ServerSession s) {\n    return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\n\n\n}\n\n\n});\n\n\ntry {\nsshd.start();\n} catch (IOException e) {\ne.printStackTrace();\n}\n</code></pre>\n<pre><code></code></pre>\n<p>for client side testing. i am running on my android studio emulator .for server i am running on mobile. for the first time i run the code there is a lots of error but i fixed it by adding dependencies and internet permission whatever i can find it online  now the errors i cant fixit there is no answers on the google or stack i an understanding  i need help</p>\n<p>**permission **</p>\n<pre><code></code></pre>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n<pre><code></code></pre>\n<p>**gradle on client **</p>\n<pre><code></code></pre>\n<pre><code>// https://mvnrepository.com/artifact/org.apache.sshd/sshd-core\nimplementation group: 'org.apache.sshd', name: 'sshd-core', version: '0.6.0'\n// https://mvnrepository.com/artifact/org.slf4j/slf4j-simple\ntestImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '1.6.2'\n\n// https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk16\nimplementation group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'\n</code></pre>\n<pre><code>    implementation files('libs\\\\jsch-0.1.55.jar')\n</code></pre>\n<pre><code></code></pre>\n<p>i am expecting to download a file from SSHD server to JSCH client/ SSHD Client . i think i am missing some code on server side i need some help with this . i know you guys are very busy please a humble request give me a correct working solution thanks for advance</p>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"score":0,"creation_date":1667197411,"post_id":74259419,"comment_id":131105018,"body_markdown":"Also apologies for any errors as I am rookie at this ~ Thanks","body":"Also apologies for any errors as I am rookie at this ~ Thanks"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667199437,"post_id":74259419,"comment_id":131105441,"body_markdown":"If you run a test it will come from `src/test/resourcs` if you run the application normally `src/main/resources`.","body":"If you run a test it will come from <code>src&#47;test&#47;resourcs</code> if you run the application normally <code>src&#47;main&#47;resources</code>."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":2,"creation_date":1667199661,"post_id":74259419,"comment_id":131105485,"body_markdown":"It depends on the order of those folders in your classpath. That is why you should call the test configuration `log4j2-test.xml`, which is looked up before `log4j2.xml`.","body":"It depends on the order of those folders in your classpath. That is why you should call the test configuration <code>log4j2-test.xml</code>, which is looked up before <code>log4j2.xml</code>."},{"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"score":0,"creation_date":1667270993,"post_id":74259419,"comment_id":131124844,"body_markdown":"@PiotrP.Karwasz but if log4j2-test has root level as error it will override the log4j2.xml with root level as info. But I want the main application to run with level as info and tests with level as error. Also is there a default classpath order or is it random?","body":"@PiotrP.Karwasz but if log4j2-test has root level as error it will override the log4j2.xml with root level as info. But I want the main application to run with level as info and tests with level as error. Also is there a default classpath order or is it random?"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1667720108,"post_id":74259419,"comment_id":131230538,"body_markdown":"I think I don&#39;t entirely understand what are you trying to achieve: when you are running tests you want the main code to have a different threshold level than the test code? That is hard to achieve (as they probably use the same package names). If you want to see only messages from your code (both main and test code), you can set the root log level to `ERROR` and the level of you own packages to `DEBUG`.","body":"I think I don&#39;t entirely understand what are you trying to achieve: when you are running tests you want the main code to have a different threshold level than the test code? That is hard to achieve (as they probably use the same package names). If you want to see only messages from your code (both main and test code), you can set the root log level to <code>ERROR</code> and the level of you own packages to <code>DEBUG</code>."}],"owner":{"account_id":26781800,"reputation":1,"user_id":20376537,"display_name":"AppsMaker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667197270,"creation_date":1667197270,"question_id":74259419,"body_markdown":"I have a java spring boot application, that needs only the junit test logs to be of error level.\r\n\r\nIf I have a log4j2.xml(with root level as error) in src/test/resources in addition to log4j2.xml (with root level as info) in src/main/resources which log4j2 configuration is chosen when  main application goes up?\r\n\r\nI checked the documentation for apache log4j2 but I couldn&#39;t find any references to which configuration is chosen in this case and would also like to know why?\r\n\r\nhttps://logging.apache.org/log4j/log4j-2.1/manual/configuration.html","title":"Which Log4j2 configuration is taken up if there is a log4j2.xml in src/main/resources and src/test/resources?","body":"<p>I have a java spring boot application, that needs only the junit test logs to be of error level.</p>\n<p>If I have a log4j2.xml(with root level as error) in src/test/resources in addition to log4j2.xml (with root level as info) in src/main/resources which log4j2 configuration is chosen when  main application goes up?</p>\n<p>I checked the documentation for apache log4j2 but I couldn't find any references to which configuration is chosen in this case and would also like to know why?</p>\n<p><a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html</a></p>\n"},{"tags":["java","parsing","functional-programming","java-stream","record"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1667082572,"post_id":74249226,"comment_id":131087592,"body_markdown":"It&#39;s returning void, because `forEach` is `public void forEach(Consumer&lt;? super T&gt; action)`.","body":"It&#39;s returning void, because <code>forEach</code> is <code>public void forEach(Consumer&lt;? super T&gt; action)</code>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667088688,"post_id":74249226,"comment_id":131088398,"body_markdown":"What you want is called CSV parsing.  This is a solved problem and there are multiple open source libraries that do a good job. Do not reinvent the wheel.","body":"What you want is called CSV parsing.  This is a solved problem and there are multiple open source libraries that do a good job. Do not reinvent the wheel."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667198626,"post_id":74249226,"comment_id":131105283,"body_markdown":"What&#39;s a `String&lt;Record&gt;`?","body":"What&#39;s a <code>String&lt;Record&gt;</code>?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667255691,"post_id":74249226,"comment_id":131122570,"body_markdown":"Using split is not a good way to process csv files (especially when the file contains strings).  How will you parse the following line with three strings using `split(&quot;,&quot;)`? \n `&quot;abc&quot;,&quot;def&quot;,&quot;ghi, jkl&quot;`.","body":"Using split is not a good way to process csv files (especially when the file contains strings).  How will you parse the following line with three strings using <code>split(&quot;,&quot;)</code>?   <code>&quot;abc&quot;,&quot;def&quot;,&quot;ghi, jkl&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667112737,"creation_date":1667082416,"answer_id":74249288,"question_id":74249226,"body_markdown":"`forEach` doesn&#39;t return anything (it is [declared](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-) as `public void forEach(Consumer&lt;? super T&gt; action)`). You want to use [`Stream#map`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-) instead:\r\n\r\n&gt; Returns a stream consisting of the results of applying the given function to the elements of this stream.\r\n\r\nHowever, `s.split` will return a String array (`String[]`), not any sort of record. If you want to have instances of a class, you need to construct them, for instance with `new Record(s.split(&quot;,&quot;))` or `Record.fromArray(s.split(&quot;,&quot;))`\r\n\r\nThe Record constructor/factory could then parse the array:\r\n\r\n```\r\npublic static Record fromArray(final String[] array) {\r\n  return new Record(\r\n      Integer.parseInt(array[0]),\r\n      array[1],\r\n      array[2],\r\n      array[3],\r\n      Double.parseDouble(array[4]),\r\n      Double.parseDouble(array[5]));\r\n}\r\n```\r\n\r\nBut since you are parsing a CSV file, you are better off using a CSV parser such as [opencsv](https://opencsv.sourceforge.net/).","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p><code>forEach</code> doesn't return anything (it is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">declared</a> as <code>public void forEach(Consumer&lt;? super T&gt; action)</code>). You want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Stream#map</code></a> instead:</p>\n<blockquote>\n<p>Returns a stream consisting of the results of applying the given function to the elements of this stream.</p>\n</blockquote>\n<p>However, <code>s.split</code> will return a String array (<code>String[]</code>), not any sort of record. If you want to have instances of a class, you need to construct them, for instance with <code>new Record(s.split(&quot;,&quot;))</code> or <code>Record.fromArray(s.split(&quot;,&quot;))</code></p>\n<p>The Record constructor/factory could then parse the array:</p>\n<pre><code>public static Record fromArray(final String[] array) {\n  return new Record(\n      Integer.parseInt(array[0]),\n      array[1],\n      array[2],\n      array[3],\n      Double.parseDouble(array[4]),\n      Double.parseDouble(array[5]));\n}\n</code></pre>\n<p>But since you are parsing a CSV file, you are better off using a CSV parser such as <a href=\"https://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a>.</p>\n"},{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667197066,"creation_date":1667196680,"answer_id":74259340,"question_id":74249226,"body_markdown":"Assuming fileToStream is returning each record of the CSV as a stream what you wanna do is probably map to a record and then collect the result.\r\n\r\nForeach only loops throgh the Collection like an iterator, it doesn&#39;t return anything.\r\n\r\n\r\n```\r\nfileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\r\n```\r\nis equivalent to:\r\n```\r\nfor(String s : fileToStream(&quot;data.csv&quot;)) {\r\n s.split(&quot;,&quot;); // note that you are splitting and ignoring the return result\r\n}\r\n```\r\n\r\n (It actually is a bit different as stream uses the default iterator and the collection iterator will use the forEach method of the collection, but in this use case we can ignore this fact for now, the result in this case is the same)\r\n\r\n\r\n```\r\nreturn fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;))\r\n        .map(***your conversion logic***).collect(Collectors.toList()); //or toList() depending on your Java version\r\n```","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p>Assuming fileToStream is returning each record of the CSV as a stream what you wanna do is probably map to a record and then collect the result.</p>\n<p>Foreach only loops throgh the Collection like an iterator, it doesn't return anything.</p>\n<pre><code>fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>for(String s : fileToStream(&quot;data.csv&quot;)) {\n s.split(&quot;,&quot;); // note that you are splitting and ignoring the return result\n}\n</code></pre>\n<p>(It actually is a bit different as stream uses the default iterator and the collection iterator will use the forEach method of the collection, but in this use case we can ignore this fact for now, the result in this case is the same)</p>\n<pre><code>return fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;))\n        .map(***your conversion logic***).collect(Collectors.toList()); //or toList() depending on your Java version\n</code></pre>\n"}],"owner":{"account_id":18313599,"reputation":53,"user_id":13335868,"display_name":"skiboy108"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667197066,"creation_date":1667081644,"question_id":74249226,"body_markdown":"I am trying to write a program that will convert a Stream\\&lt;String\\&gt; into a String\\&lt;Record\\&gt; where everytime there is a comma in the string, it puts that data into one section of the data. My first thought on doing this was to use split() like so:\r\n```\r\nreturn fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\r\n```\r\nThe fileToStream function is simply taking the data.csv and converting it into a Stream&lt;String&gt;\r\nI don&#39;t quite understand why this is returning void, any help would be greatly appreciated.\r\n\r\n\r\nI expected it to take something like 123,hello,hello,hello,123,123 and instead of it all being one string, turning it into a record of int, string, string, string, double, double, etc.","title":"Converting a Stream&lt;String&gt; to String&lt;Record&gt; is returning void","body":"<p>I am trying to write a program that will convert a Stream&lt;String&gt; into a String&lt;Record&gt; where everytime there is a comma in the string, it puts that data into one section of the data. My first thought on doing this was to use split() like so:</p>\n<pre><code>return fileToStream(&quot;data.csv&quot;).forEach(s -&gt; s.split(&quot;,&quot;));\n</code></pre>\n<p>The fileToStream function is simply taking the data.csv and converting it into a Stream\nI don't quite understand why this is returning void, any help would be greatly appreciated.</p>\n<p>I expected it to take something like 123,hello,hello,hello,123,123 and instead of it all being one string, turning it into a record of int, string, string, string, double, double, etc.</p>\n"},{"tags":["java","arrays","for-loop","if-statement","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667192785,"post_id":74258929,"comment_id":131104358,"body_markdown":"Why would you break on the first non-two?","body":"Why would you break on the first non-two?"},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1667192915,"post_id":74258929,"comment_id":131104379,"body_markdown":"@shmosel becouse i wanted it to break if there was no 2 in the array.","body":"@shmosel becouse i wanted it to break if there was no 2 in the array."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667193201,"post_id":74258929,"comment_id":131104424,"body_markdown":"That doesn&#39;t make sense. Break implies early termination, and you can&#39;t know there&#39;s no 2 until you&#39;ve scanned the entire array.","body":"That doesn&#39;t make sense. Break implies early termination, and you can&#39;t know there&#39;s no 2 until you&#39;ve scanned the entire array."},{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1667193345,"post_id":74258929,"comment_id":131104443,"body_markdown":"@shmosel so it wouldn&#39;t be possible to see if the four was before two to just stop?","body":"@shmosel so it wouldn&#39;t be possible to see if the four was before two to just stop?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1667193597,"post_id":74258929,"comment_id":131104476,"body_markdown":"That&#39;s a separate question. Sure you can. Just break as soon as you hit a 4.","body":"That&#39;s a separate question. Sure you can. Just break as soon as you hit a 4."}],"answers":[{"comments":[{"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"score":0,"creation_date":1667196522,"post_id":74258959,"comment_id":131104860,"body_markdown":"do you know then how to make it so that if 2 is before 4 it returns true","body":"do you know then how to make it so that if 2 is before 4 it returns true"},{"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"score":0,"creation_date":1667238509,"post_id":74258959,"comment_id":131118373,"body_markdown":"Yes. Without major modifications to your code, you need to add some extra checks 1) When you are checking for a 2 and you get a 2, then check that `check2` is still false, so that you haven&#39;t seen a 4 before. 2) When you are checking for a 4 and you get a 4, then add a check for the `check1` to be necessarily true, so that check2 only turns true when you also found a 2 before.","body":"Yes. Without major modifications to your code, you need to add some extra checks 1) When you are checking for a 2 and you get a 2, then check that <code>check2</code> is still false, so that you haven&#39;t seen a 4 before. 2) When you are checking for a 4 and you get a 4, then add a check for the <code>check1</code> to be necessarily true, so that check2 only turns true when you also found a 2 before."}],"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667192892,"creation_date":1667192892,"answer_id":74258959,"question_id":74258929,"body_markdown":"You&#39;re breaking the loop execution if `array[i]==two` is false, and it eventually always is, because at position `1` you have a `3`, and you always run the first check.\r\n\r\nYou need to remove the `break` of the `else`.","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>You're breaking the loop execution if <code>array[i]==two</code> is false, and it eventually always is, because at position <code>1</code> you have a <code>3</code>, and you always run the first check.</p>\n<p>You need to remove the <code>break</code> of the <code>else</code>.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667196946,"creation_date":1667196946,"answer_id":74259378,"question_id":74258929,"body_markdown":"You need to break when you find a 4, not when you don&#39;t find a 2. Something like this:\r\n\r\n    boolean foundTwo = false;\r\n    for (int x : array) {\r\n        if (x == 2) {\r\n            foundTwo = true;\r\n        } else if (x == 4) {\r\n            break;\r\n        }\r\n    }\r\n    return foundTwo;\r\n\r\nIf you want to make sure there&#39;s both a 2 and a 4, in the correct order, just return on 4 instead of breaking, and default to false otherwise:\r\n\r\n    boolean foundTwo = false;\r\n    for (int x : array) {\r\n        if (x == 2) {\r\n            foundTwo = true;\r\n        } else if (x == 4) {\r\n            return foundTwo;\r\n        }\r\n    }\r\n    return false;","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>You need to break when you find a 4, not when you don't find a 2. Something like this:</p>\n<pre><code>boolean foundTwo = false;\nfor (int x : array) {\n    if (x == 2) {\n        foundTwo = true;\n    } else if (x == 4) {\n        break;\n    }\n}\nreturn foundTwo;\n</code></pre>\n<p>If you want to make sure there's both a 2 and a 4, in the correct order, just return on 4 instead of breaking, and default to false otherwise:</p>\n<pre><code>boolean foundTwo = false;\nfor (int x : array) {\n    if (x == 2) {\n        foundTwo = true;\n    } else if (x == 4) {\n        return foundTwo;\n    }\n}\nreturn false;\n</code></pre>\n"}],"owner":{"account_id":26361681,"reputation":1,"user_id":20017772,"display_name":"wonder_9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667196946,"creation_date":1667192571,"question_id":74258929,"body_markdown":"what i&#39;m trying to do is to check if 2 is before 4 in a array i used a for loop and condition check and i see that i&#39;m going wrong in my first condition check. i want to make it so that if two is not in the loop it just breaks and if it sees that four is before it breaks as well. \r\n\r\ni put the print statement to see where i was going wrong and it seems to if(array[i] == two and it goes to the else and breaks. i also read that you can do it with another array but that sound off so i also wanted to ask if that was possible.\r\n&lt;br/&gt;\r\n```\r\npublic static void main(String[] args) {\r\n    int[] check = {2, 3, 4, 2, 6};\r\n\r\n    System.out.println(universe42(check));\r\n\r\n\r\n}\r\n\r\n\r\n private static boolean universe42(int[]array){\r\n        boolean check1 = false;\r\n        boolean check2 = false;\r\n        int two = 2;\r\n        int four = 4;\r\n\r\n        for(int i=0; i&lt; array.length; i++) {\r\n            if (array[i] == two) {\r\n                    check1 = true;\r\n                System.out.println(&quot;check1&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;check-------&quot;);\r\n                break;\r\n            }\r\n            if (array[i]== four){\r\n                check2=true;\r\n            }\r\n\r\n\r\n        }\r\n        if(check1==true &amp;&amp; check2== true){\r\n            return true;\r\n        }\r\n\r\n\r\n        return false;\r\n    }\r\n    \r\n}\r\n```\r\n","title":"checking for a specific number in a specific order with arrays and condition checks","body":"<p>what i'm trying to do is to check if 2 is before 4 in a array i used a for loop and condition check and i see that i'm going wrong in my first condition check. i want to make it so that if two is not in the loop it just breaks and if it sees that four is before it breaks as well.</p>\n<p>i put the print statement to see where i was going wrong and it seems to if(array[i] == two and it goes to the else and breaks. i also read that you can do it with another array but that sound off so i also wanted to ask if that was possible.\n<br/></p>\n<pre><code>public static void main(String[] args) {\n    int[] check = {2, 3, 4, 2, 6};\n\n    System.out.println(universe42(check));\n\n\n}\n\n\n private static boolean universe42(int[]array){\n        boolean check1 = false;\n        boolean check2 = false;\n        int two = 2;\n        int four = 4;\n\n        for(int i=0; i&lt; array.length; i++) {\n            if (array[i] == two) {\n                    check1 = true;\n                System.out.println(&quot;check1&quot;);\n            }\n            else {\n                System.out.println(&quot;check-------&quot;);\n                break;\n            }\n            if (array[i]== four){\n                check2=true;\n            }\n\n\n        }\n        if(check1==true &amp;&amp; check2== true){\n            return true;\n        }\n\n\n        return false;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","mapstruct","mapper"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667140111,"creation_date":1667140111,"answer_id":74253891,"question_id":74253468,"body_markdown":"Since the 1.4 release, MapStruct supports using constructors when instantiating mapping targets. \r\n\r\nOne solution would be marking the parametrized constructor as `@Default`. For more possible solutions and more details on how the Constructor support works have a look at the [reference guide][1].\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/reference/html/#mapping-with-constructors","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p>Since the 1.4 release, MapStruct supports using constructors when instantiating mapping targets.</p>\n<p>One solution would be marking the parametrized constructor as <code>@Default</code>. For more possible solutions and more details on how the Constructor support works have a look at the <a href=\"https://mapstruct.org/documentation/dev/reference/html/#mapping-with-constructors\" rel=\"nofollow noreferrer\">reference guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667196803,"creation_date":1667196803,"answer_id":74259360,"question_id":74253468,"body_markdown":"[ObjectFactory][1] is the way to go.\r\n\r\n&gt; By default beans are created during the mapping process with the\r\n&gt; default constructor. If a factory method with a return type that is\r\n&gt; assignable to the required object type is present, then the factory\r\n&gt; method is used instead.\r\n&gt; \r\n&gt; Factory methods can be defined ***without parameters, with an @TargetType\r\n&gt; parameter, a @Context parameter, or with the mapping source parameter***.\r\n&gt; If any of those parameters are defined, then the mapping method that\r\n&gt; is supposed to use the factory method needs to be declared with an\r\n&gt; assignable result type, assignable context parameter, and/or\r\n&gt; assignable source types.\r\n\r\nI left to you the pleasure of reading documentation and solve the problem :)\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p><a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/ObjectFactory.html\" rel=\"nofollow noreferrer\">ObjectFactory</a> is the way to go.</p>\n<blockquote>\n<p>By default beans are created during the mapping process with the\ndefault constructor. If a factory method with a return type that is\nassignable to the required object type is present, then the factory\nmethod is used instead.</p>\n<p>Factory methods can be defined <em><strong>without parameters, with an @TargetType\nparameter, a @Context parameter, or with the mapping source parameter</strong></em>.\nIf any of those parameters are defined, then the mapping method that\nis supposed to use the factory method needs to be declared with an\nassignable result type, assignable context parameter, and/or\nassignable source types.</p>\n</blockquote>\n<p>I left to you the pleasure of reading documentation and solve the problem :)</p>\n"}],"owner":{"account_id":26776253,"reputation":11,"user_id":20371858,"display_name":"diegombf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667196803,"creation_date":1667136572,"question_id":74253468,"body_markdown":"Mapstruct always generate mappers that use a default empty constructor and setters to construct an object.\r\n\r\nI need mapstruct to construct objects using parameterized constructor instead.\r\n\r\n\r\nI have this mapper configured using maptruct:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface FlightMapper {\r\n        FlightBooking  flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto flightBookingDto);\r\n    }\r\n\r\n\r\nThe implementation that mapstruct generates uses the default constructor without parameters:\r\n\r\n\r\n\r\n    public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto     flightBookingDto) {\r\n        if ( flightBookingDto == null ) {\r\n            return null;\r\n        }\r\n\r\n        FlightBooking flightBooking = new FlightBooking();\r\n\r\n        flightBooking.setFlight_booking_id( flightBookingDto.getBooking_id() );\r\n\r\n        return flightBooking;\r\n    }\r\n\r\n\r\n\r\n\r\nBut I need this implementation with a parameterized constructor instead:\r\n\r\n\r\n    public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto    flightBookingDto) {\r\n        if ( flightBookingDto == null ) {\r\n            return null;\r\n        }\r\n\r\n        FlightBooking flightBooking = new FlightBooking(flightBookingDto.getBooking_id());\r\n\r\n        return flightBooking;\r\n    }\r\n\r\n\r\nHow can I configure mapstruct to achieve this? I haven&#39;t found any responses in the official documentation. Thanks in advance\r\n\r\n","title":"Spring &amp; mapstruct, generate a mapper using a parameterized constructor?","body":"<p>Mapstruct always generate mappers that use a default empty constructor and setters to construct an object.</p>\n<p>I need mapstruct to construct objects using parameterized constructor instead.</p>\n<p>I have this mapper configured using maptruct:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface FlightMapper {\n    FlightBooking  flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto flightBookingDto);\n}\n</code></pre>\n<p>The implementation that mapstruct generates uses the default constructor without parameters:</p>\n<pre><code>public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto     flightBookingDto) {\n    if ( flightBookingDto == null ) {\n        return null;\n    }\n\n    FlightBooking flightBooking = new FlightBooking();\n\n    flightBooking.setFlight_booking_id( flightBookingDto.getBooking_id() );\n\n    return flightBooking;\n}\n</code></pre>\n<p>But I need this implementation with a parameterized constructor instead:</p>\n<pre><code>public FlightBooking flightBookingPostRequestDtoToFlightBooking(FlightBookingPostRequestDto    flightBookingDto) {\n    if ( flightBookingDto == null ) {\n        return null;\n    }\n\n    FlightBooking flightBooking = new FlightBooking(flightBookingDto.getBooking_id());\n\n    return flightBooking;\n}\n</code></pre>\n<p>How can I configure mapstruct to achieve this? I haven't found any responses in the official documentation. Thanks in advance</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14355182,"reputation":35,"user_id":10369318,"display_name":"Luciano Marti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667196731,"creation_date":1667196731,"answer_id":74259349,"question_id":74259207,"body_markdown":"I solved this issue by using @JoinFormula annotation from Hibernate, so my student entity looks like this:\r\n\r\n```java\r\n@Entity\r\npublic class Student implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinFormula(&quot;(select t.id from teacher t where t.badge_code = teacher or t.name = teacher)&quot;)\r\n    private Teacher teacher;\r\n\r\n...\r\n```\r\n\r\nIt looks like a native SQL query between parentheses **that returns the target entity id**, is enough to join given two or more conditions with the same column, like in this case.\r\n","title":"JPA join by one value or another","body":"<p>I solved this issue by using @JoinFormula annotation from Hibernate, so my student entity looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Student implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinFormula(&quot;(select t.id from teacher t where t.badge_code = teacher or t.name = teacher)&quot;)\n    private Teacher teacher;\n\n...\n</code></pre>\n<p>It looks like a native SQL query between parentheses <strong>that returns the target entity id</strong>, is enough to join given two or more conditions with the same column, like in this case.</p>\n"}],"owner":{"account_id":14355182,"reputation":35,"user_id":10369318,"display_name":"Luciano Marti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667196731,"creation_date":1667195442,"question_id":74259207,"body_markdown":"I have an example database as a simplification of a real life production environment. In this case, there&#39;s a student table (id, name, **teacher**) and a teacher table (id, name, badge_code). The teacher can be identified by their badge_code or by name, and there is a many-to-one relationship between these two tables, where a teacher corresponds to many students. \r\n\r\nThe thing is that the student table has its **teacher** column, and this column may have either the teacher&#39;s name or badge code. If I want to successfully join these tables, a query like this would be enough:\r\n\r\n```sql\r\nselect * from student s\r\nleft join teacher t on s.teacher = t.badge_code or s.teacher = t.name\r\n```\r\n\r\nIf the first join condition fails, it falls back to the second possible match. This is a left join, so it can be null cases.\r\n\r\nI want to replicate this join in JPA and I don&#39;t know how to do it. It doesn&#39;t matter if it&#39;s by annotations, JPQL or a criteria query; any option will be fine. I know this kind of reference is not ideal between tables, but unfortunately, I&#39;m unable to change how data is related in this case. ","title":"JPA join by one value or another","body":"<p>I have an example database as a simplification of a real life production environment. In this case, there's a student table (id, name, <strong>teacher</strong>) and a teacher table (id, name, badge_code). The teacher can be identified by their badge_code or by name, and there is a many-to-one relationship between these two tables, where a teacher corresponds to many students.</p>\n<p>The thing is that the student table has its <strong>teacher</strong> column, and this column may have either the teacher's name or badge code. If I want to successfully join these tables, a query like this would be enough:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from student s\nleft join teacher t on s.teacher = t.badge_code or s.teacher = t.name\n</code></pre>\n<p>If the first join condition fails, it falls back to the second possible match. This is a left join, so it can be null cases.</p>\n<p>I want to replicate this join in JPA and I don't know how to do it. It doesn't matter if it's by annotations, JPQL or a criteria query; any option will be fine. I know this kind of reference is not ideal between tables, but unfortunately, I'm unable to change how data is related in this case.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658724608,"post_id":73104111,"comment_id":129113064,"body_markdown":"Take a look at the [link](https://marketplace.visualstudio.com/items?itemName=ms-vscode.vs-keybindings) at the end of this answer on another question about using Visual Studio Keybindings for VS code: [How do you auto remove unused imports - Visual Studio Code](https://stackoverflow.com/a/63312550/1270000)","body":"Take a look at the <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.vs-keybindings\" rel=\"nofollow noreferrer\">link</a> at the end of this answer on another question about using Visual Studio Keybindings for VS code: <a href=\"https://stackoverflow.com/a/63312550/1270000\">How do you auto remove unused imports - Visual Studio Code</a>"}],"answers":[{"comments":[{"owner":{"account_id":212684,"reputation":2467,"user_id":465662,"accept_rate":73,"display_name":"Rom098"},"score":0,"creation_date":1675840158,"post_id":73104741,"comment_id":133012163,"body_markdown":"Currently &quot;Shift+Alt+O&quot; may remove imports that are really used, e.g. &quot;sun.net.spi.nameservice.NameService&quot; in my case.","body":"Currently &quot;Shift+Alt+O&quot; may remove imports that are really used, e.g. &quot;sun.net.spi.nameservice.NameService&quot; in my case."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684051527,"post_id":73104741,"comment_id":134457802,"body_markdown":"@Rom098 - Ermm ... why are you using that class?   Do you realize that it is *internal* and that it is removed (!!!) in Java SE 9?  Methinks that VSCode is doing you a favor by removing it!","body":"@Rom098 - Ermm ... why are you using that class?   Do you realize that it is <i>internal</i> and that it is removed (!!!) in Java SE 9?  Methinks that VSCode is doing you a favor by removing it!"},{"owner":{"account_id":212684,"reputation":2467,"user_id":465662,"accept_rate":73,"display_name":"Rom098"},"score":0,"creation_date":1684135808,"post_id":73104741,"comment_id":134466790,"body_markdown":"@StephenC I&#39;m fixing JDK8 bugs and creating tests for the fixes. So yes, I completely realize this. It&#39;s a pity that VSCode doesn&#39;t.","body":"@StephenC I&#39;m fixing JDK8 bugs and creating tests for the fixes. So yes, I completely realize this. It&#39;s a pity that VSCode doesn&#39;t."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1667196574,"creation_date":1658729918,"answer_id":73104741,"question_id":73104111,"body_markdown":"**UPDATA**\r\n\r\nNow that vs code **Java** has added a code action, you can use `Remove all unused imports` directly in `quickfix` to remove all unused imports.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nYou can use the shortcut key &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt;\r\n. This will format your **import code** and of course remove unused imports.\r\n\r\nFor example, the original import code is like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter using the &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; to format the import code\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bxgv4.png\r\n  [2]: https://i.stack.imgur.com/xeJKV.png\r\n  [3]: https://i.stack.imgur.com/xHEKL.png","title":"How to remove all unused imports from a Java file in VS code","body":"<p><strong>UPDATA</strong></p>\n<p>Now that vs code <strong>Java</strong> has added a code action, you can use <code>Remove all unused imports</code> directly in <code>quickfix</code> to remove all unused imports.</p>\n<p><a href=\"https://i.stack.imgur.com/Bxgv4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Bxgv4.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>You can use the shortcut key <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>O</kbd>\n. This will format your <strong>import code</strong> and of course remove unused imports.</p>\n<p>For example, the original import code is like this</p>\n<p><a href=\"https://i.stack.imgur.com/xeJKV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xeJKV.png\" alt=\"enter image description here\" /></a></p>\n<p>After using the <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>O</kbd> to format the import code</p>\n<p><a href=\"https://i.stack.imgur.com/xHEKL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xHEKL.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":15039053,"reputation":67,"user_id":10854368,"display_name":"snich"},"score":0,"creation_date":1695725732,"post_id":73104963,"comment_id":136059981,"body_markdown":"Make use of the Command Palette for faster access with `Ctrl + Shift + P`. Anyway, thanks for this.","body":"Make use of the Command Palette for faster access with <code>Ctrl + Shift + P</code>. Anyway, thanks for this."}],"tags":[],"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1658731417,"creation_date":1658731417,"answer_id":73104963,"question_id":73104111,"body_markdown":"**Fix them on just SAVING the file, the easiest way** \r\n\r\nFollow these steps to setup settings in VS Code.\r\n\r\n1. Press [Ctrl + , ] to open setting \r\n2. Click on that top-right icon (Open settings JSON) as shown in the below image marked in red.\r\n[![image][1]][1]\r\n\r\n3. Add this below code in settings.json file.\r\n\r\n    &quot;editor.codeActionsOnSave&quot;: {\r\n        &quot;source.organizeImports&quot;: true\r\n    }\r\n\r\n4. Now just save it and its done\r\n\r\n  [1]: https://i.stack.imgur.com/PbOam.png\r\n","title":"How to remove all unused imports from a Java file in VS code","body":"<p><strong>Fix them on just SAVING the file, the easiest way</strong></p>\n<p>Follow these steps to setup settings in VS Code.</p>\n<ol>\n<li><p>Press [Ctrl + , ] to open setting</p>\n</li>\n<li><p>Click on that top-right icon (Open settings JSON) as shown in the below image marked in red.\n<a href=\"https://i.stack.imgur.com/PbOam.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PbOam.png\" alt=\"image\" /></a></p>\n</li>\n<li><p>Add this below code in settings.json file.</p>\n<p>&quot;editor.codeActionsOnSave&quot;: {\n&quot;source.organizeImports&quot;: true\n}</p>\n</li>\n<li><p>Now just save it and its done</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4030,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73104741,"answer_count":2,"score":5,"last_activity_date":1667196574,"creation_date":1658723871,"question_id":73104111,"body_markdown":"I use VS Code with the Extension Pack for Java.\r\n\r\nWhen I have unused imports like\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n\r\n\r\nin my `.java` file I can remove each import *individually* via the &quot;Quick Fix&quot; action (`Ctrl`+`.`).\r\n\r\nBut how can I remove *all* unused imports from a Java file in VS Code?","title":"How to remove all unused imports from a Java file in VS code","body":"<p>I use VS Code with the Extension Pack for Java.</p>\n<p>When I have unused imports like</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.stream.Collectors;\n</code></pre>\n<p>in my <code>.java</code> file I can remove each import <em>individually</em> via the &quot;Quick Fix&quot; action (<code>Ctrl</code>+<code>.</code>).</p>\n<p>But how can I remove <em>all</em> unused imports from a Java file in VS Code?</p>\n"},{"tags":["java","c","assembly","operating-system"],"comments":[{"owner":{"account_id":16769737,"reputation":1501,"user_id":12122460,"display_name":"kotatsuyaki"},"score":1,"creation_date":1667194412,"post_id":74259068,"comment_id":131104589,"body_markdown":"&quot;where can I find the Linux kernel source code?&quot; - [kernel.org](https://kernel.org/).","body":"&quot;where can I find the Linux kernel source code?&quot; - <a href=\"https://kernel.org/\" rel=\"nofollow noreferrer\">kernel.org</a>."},{"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"score":0,"creation_date":1667194790,"post_id":74259068,"comment_id":131104640,"body_markdown":"thanks, but is it possible?","body":"thanks, but is it possible?"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1667195513,"post_id":74259068,"comment_id":131104727,"body_markdown":"If you need to ask if it is possible, it means you probably need to spend months to years learning C and kernel programming. Because of course it is possible, JVM is pure software.","body":"If you need to ask if it is possible, it means you probably need to spend months to years learning C and kernel programming. Because of course it is possible, JVM is pure software."},{"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"score":0,"creation_date":1667258669,"post_id":74259068,"comment_id":131123103,"body_markdown":"This is actually a really good idea for making a operating system and because linux is open source, I can just edit ~/.bashrc and add some lines of code that downloads jre or jdk executes some java code.","body":"This is actually a really good idea for making a operating system and because linux is open source, I can just edit ~/.bashrc and add some lines of code that downloads jre or jdk executes some java code."}],"answers":[{"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667195248,"creation_date":1667195248,"answer_id":74259188,"question_id":74259068,"body_markdown":"If you wanted to run Java code from within the kernel, that would end you having to implement a JVM embedded like a module, or launch a java program from within a driver, by making the driver depend on the JVM. That seems not a great idea, as it usually would end with a very fragile system in terms of dependencies, a very heavy image, and a mix of responsibilities in the kernel space.\r\n\r\nYou&#39;re probably mistaking the kernel space, the init sequence and the user space. From your description &quot;so the back end is made on c and assembly and the front end is made on java?&quot; it seems more likely that you want to run some java programs as SysVInit / systemd services that are providing the user with an interface to the OS, not as part of the Kernel.\r\n\r\nWhen done so, the init manager will cascade-run all necessary services from the distribution, giving them appropriate resources and permissions, after the kernel initializes itself, filesystems, virtual memory,... and the hardware.\r\n\r\nRunning a java program as a systemd service is very easy (and from SysVInit, too). From a simple unit service,\r\n```\r\n[Unit]\r\nDescription=Hello Service -- A Service.\r\n# Before and after directives go in this section. \r\n# Example for waiting for the network to start the service:\r\n# After=network.target\r\n\r\n[Service]\r\nUser=user\r\nGroup=group\r\nExecStart=/path/to/start.sh\r\nExecStop=/path/to/stop.sh\r\nType=forking\r\n\r\n[Install]\r\nWantedBy=default.target\r\n```\r\nyou only need to set the appropriate users and groups, according to the privileges of your software, and launch your Java program from `start.sh` and stop it from `stop.sh`, where you can set your java command line, environment variables and checks.\r\n\r\nMake sure you start your Java program with nohup, to avoid interfering with systemd and its logs:\r\n\r\n```bash\r\n#!/bin/bash\r\nnohup java -cp /opt/hello:/opt/hello/* com.package.hello.Start &gt; /tmp/hello.out 2&gt;&amp;1 &amp;\r\n```\r\nProbably you would like to check SysVInit as it usually is lighter, but I hope this answer gives you some ideas.","title":"Is it possible to make a operating system by getting a linux kernel to run java code?","body":"<p>If you wanted to run Java code from within the kernel, that would end you having to implement a JVM embedded like a module, or launch a java program from within a driver, by making the driver depend on the JVM. That seems not a great idea, as it usually would end with a very fragile system in terms of dependencies, a very heavy image, and a mix of responsibilities in the kernel space.</p>\n<p>You're probably mistaking the kernel space, the init sequence and the user space. From your description &quot;so the back end is made on c and assembly and the front end is made on java?&quot; it seems more likely that you want to run some java programs as SysVInit / systemd services that are providing the user with an interface to the OS, not as part of the Kernel.</p>\n<p>When done so, the init manager will cascade-run all necessary services from the distribution, giving them appropriate resources and permissions, after the kernel initializes itself, filesystems, virtual memory,... and the hardware.</p>\n<p>Running a java program as a systemd service is very easy (and from SysVInit, too). From a simple unit service,</p>\n<pre><code>[Unit]\nDescription=Hello Service -- A Service.\n# Before and after directives go in this section. \n# Example for waiting for the network to start the service:\n# After=network.target\n\n[Service]\nUser=user\nGroup=group\nExecStart=/path/to/start.sh\nExecStop=/path/to/stop.sh\nType=forking\n\n[Install]\nWantedBy=default.target\n</code></pre>\n<p>you only need to set the appropriate users and groups, according to the privileges of your software, and launch your Java program from <code>start.sh</code> and stop it from <code>stop.sh</code>, where you can set your java command line, environment variables and checks.</p>\n<p>Make sure you start your Java program with nohup, to avoid interfering with systemd and its logs:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nnohup java -cp /opt/hello:/opt/hello/* com.package.hello.Start &gt; /tmp/hello.out 2&gt;&amp;1 &amp;\n</code></pre>\n<p>Probably you would like to check SysVInit as it usually is lighter, but I hope this answer gives you some ideas.</p>\n"}],"owner":{"account_id":26295545,"reputation":19,"user_id":20116546,"display_name":"Elmo YT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667195779,"answer_count":1,"score":0,"last_activity_date":1667195248,"creation_date":1667194144,"question_id":74259068,"body_markdown":"I have always gotten the idea of getting a kernel to run java code, so the back end is made on c and assembly and the front end is made on java? If so, where can I find the Linux kernel source code?","title":"Is it possible to make a operating system by getting a linux kernel to run java code?","body":"<p>I have always gotten the idea of getting a kernel to run java code, so the back end is made on c and assembly and the front end is made on java? If so, where can I find the Linux kernel source code?</p>\n"},{"tags":["java","git","git-bash","git-merge","git-merge-conflict"],"comments":[{"owner":{"account_id":62041,"reputation":23965,"user_id":184546,"accept_rate":78,"display_name":"TTT"},"score":1,"creation_date":1667185164,"post_id":74258024,"comment_id":131103384,"body_markdown":"Is your intention to setup a Merge Request to merge your feature branch into `master` in GitLab, or are you trying to merge it into `master` locally and push `master`?","body":"Is your intention to setup a Merge Request to merge your feature branch into <code>master</code> in GitLab, or are you trying to merge it into <code>master</code> locally and push <code>master</code>?"}],"answers":[{"tags":[],"owner":{"account_id":244127,"reputation":107,"user_id":3304825,"accept_rate":43,"display_name":"user3304825"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667181468,"creation_date":1667181468,"answer_id":74258072,"question_id":74258024,"body_markdown":"If you git diff each file to be commuted with the main branch you should see only your core changes, not the merged changes. \r\n\r\nFor example: if you are using a tool like IntelliJ, if you right click on an uncommitted file and git compare it with the main branch, only the “new changes” should be highlighted, the merged changes should not be.","title":"After fixing merge conflicts, too many changes to be committed that I didn&#39;t work on showed up","body":"<p>If you git diff each file to be commuted with the main branch you should see only your core changes, not the merged changes.</p>\n<p>For example: if you are using a tool like IntelliJ, if you right click on an uncommitted file and git compare it with the main branch, only the “new changes” should be highlighted, the merged changes should not be.</p>\n"}],"owner":{"account_id":26780452,"reputation":9,"user_id":20375369,"display_name":"Bilal Daher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667194639,"creation_date":1667180810,"question_id":74258024,"body_markdown":"I know this could&#39;ve been a question previously asked, but I am not sure it was answered properly.\r\nI am trying to fix merge conflicts when merging to the master branch. So what I did was, I checked out the master branch, did a git fetch, git pull, then checked out my feature branch, and fixed the merge conflicts I needed to fix.\r\n\r\nNow, all the files I have fixed will need to be manually added, then committed, then pushed to the master branch. That, I understand.\r\nHowever, a lot of files showed up in the Changed to be committed section, that are already on the master branch, when I checked the git lab repo.\r\n\r\nMy question is, am I supposed to keep those and commit them alongside my changes? or should I remove them and just commit and push my changes?\r\n\r\n\r\nI have tried following this https://stackoverflow.com/questions/9189867/after-a-git-merge-conflict-a-lot-of-files-i-didnt-touch-become-changes-to-be-c, but I didn&#39;t find it pretty helpful.\r\n","title":"After fixing merge conflicts, too many changes to be committed that I didn&#39;t work on showed up","body":"<p>I know this could've been a question previously asked, but I am not sure it was answered properly.\nI am trying to fix merge conflicts when merging to the master branch. So what I did was, I checked out the master branch, did a git fetch, git pull, then checked out my feature branch, and fixed the merge conflicts I needed to fix.</p>\n<p>Now, all the files I have fixed will need to be manually added, then committed, then pushed to the master branch. That, I understand.\nHowever, a lot of files showed up in the Changed to be committed section, that are already on the master branch, when I checked the git lab repo.</p>\n<p>My question is, am I supposed to keep those and commit them alongside my changes? or should I remove them and just commit and push my changes?</p>\n<p>I have tried following this <a href=\"https://stackoverflow.com/questions/9189867/after-a-git-merge-conflict-a-lot-of-files-i-didnt-touch-become-changes-to-be-c\">After a Git merge conflict, a lot of files I didn&#39;t touch become changes to be committed</a>, but I didn't find it pretty helpful.</p>\n"},{"tags":["java","spring","list","spring-boot","dto"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666769091,"post_id":74204051,"comment_id":131011822,"body_markdown":"Don&#39;t. Issue a single query to get everything and let JPA do the mapping to a DTO. Also why would you need to save a dto?","body":"Don&#39;t. Issue a single query to get everything and let JPA do the mapping to a DTO. Also why would you need to save a dto?"},{"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"score":0,"creation_date":1666770069,"post_id":74204051,"comment_id":131012109,"body_markdown":"Thanks for the idea, I know it&#39;s the right one. But for some reasons I need to do it this way. So I need an answer that can be done with the logic I mentioned above. It would be really helpful to talk about that","body":"Thanks for the idea, I know it&#39;s the right one. But for some reasons I need to do it this way. So I need an answer that can be done with the logic I mentioned above. It would be really helpful to talk about that"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666770259,"post_id":74204051,"comment_id":131012184,"body_markdown":"There is no reason to not do it the way described the result is the same with better performance and memory usage. Yours will be slow because you issue x queries, retrieve too much data and do everything in memory. Use the tools you have not around them.","body":"There is no reason to not do it the way described the result is the same with better performance and memory usage. Yours will be slow because you issue x queries, retrieve too much data and do everything in memory. Use the tools you have not around them."},{"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"score":0,"creation_date":1666770678,"post_id":74204051,"comment_id":131012302,"body_markdown":"I understand what you&#39;re saying and I&#39;m sure it&#39;s true. The goal here is not performance, but learning these processes. It&#39;s not about saving dto or performance that matters to me. Understanding the operations in lists is my priority. As you can imagine, I&#39;m a beginner and I asked this question in this way to learn it and to explain it more clearly. Otherwise, I could only ask for the list part. Like I said, I need to learn how to convert the above logic to code. Thanks for the answer.","body":"I understand what you&#39;re saying and I&#39;m sure it&#39;s true. The goal here is not performance, but learning these processes. It&#39;s not about saving dto or performance that matters to me. Understanding the operations in lists is my priority. As you can imagine, I&#39;m a beginner and I asked this question in this way to learn it and to explain it more clearly. Otherwise, I could only ask for the list part. Like I said, I need to learn how to convert the above logic to code. Thanks for the answer."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666773185,"post_id":74204051,"comment_id":131013140,"body_markdown":"if you are a beginner you should learn the proper way not the wrong way. Yours is the wrong way. But if you really want you should use a stream, twice a map (first the retrieval of the entity, then a map to convert entity to a dto). Then do a toList. But as stated you should really learn the proper way and not the wrong way, if you learn the wrong way you are going to apply it in real projects as well with all consequences.","body":"if you are a beginner you should learn the proper way not the wrong way. Yours is the wrong way. But if you really want you should use a stream, twice a map (first the retrieval of the entity, then a map to convert entity to a dto). Then do a toList. But as stated you should really learn the proper way and not the wrong way, if you learn the wrong way you are going to apply it in real projects as well with all consequences."}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667194390,"creation_date":1667194390,"answer_id":74259092,"question_id":74204051,"body_markdown":"You can achieve that by using java streams like this\r\n\r\n    List&lt;DataDTO&gt; rpaDataList = id.stream().map(x -&gt; repository.findById(x)).filter(Optional::isPresent).map(Optional::get).toList();\r\n    repository.saveAll(rpaDataList);","title":"Iterate through a list of ids, find other attributes on repo and set them into another list","body":"<p>You can achieve that by using java streams like this</p>\n<pre><code>List&lt;DataDTO&gt; rpaDataList = id.stream().map(x -&gt; repository.findById(x)).filter(Optional::isPresent).map(Optional::get).toList();\nrepository.saveAll(rpaDataList);\n</code></pre>\n"}],"owner":{"account_id":22323267,"reputation":3,"user_id":16545626,"display_name":"dun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74259092,"answer_count":1,"score":-1,"last_activity_date":1667194390,"creation_date":1666768983,"question_id":74204051,"body_markdown":"I have a function that accepts *List&lt;Long&gt; id* as a @RequestBody parameter.\r\n\r\nI need to find each id&#39;s other variables (message,date,noofp), set them in a list of DTO objects.\r\n\r\n\r\n```\r\npublic class DataDTO {\r\n        private long id;\r\n\r\n\tprivate String message;\r\n\r\n\tprivate Date date;\r\n\r\n\tprivate String noofp;\r\n\r\n\tprivate String meaningofp;\r\n}\r\n```\r\n\r\n```\r\nList&lt;DataDTO&gt; rpaDataList = new ArrayList&lt;&gt;();\r\n\t\t\r\n//this part is where I am confused\r\n\t\t id.forEach(x-&gt; {\r\n\t\t\trepository.findById(x).map( rpa -&gt; {\r\n\t\t\t??????????\r\n\t\t\t})\t\r\n\t\t});\r\n\t\t\r\nreturn repository.saveAll(rpaDataList);\r\n```\r\n\r\nHow can i do it ? \r\n\r\n\r\nThe logic in my head is that I need to iterarte through list of ids, find each id in repository and get other informations. Set them in a DTO object, put these objects into a list and use saveAll method.\r\n\r\nCan&#39;t seem to put it on code.","title":"Iterate through a list of ids, find other attributes on repo and set them into another list","body":"<p>I have a function that accepts <em>List id</em> as a @RequestBody parameter.</p>\n<p>I need to find each id's other variables (message,date,noofp), set them in a list of DTO objects.</p>\n<pre><code>public class DataDTO {\n        private long id;\n\n    private String message;\n\n    private Date date;\n\n    private String noofp;\n\n    private String meaningofp;\n}\n</code></pre>\n<pre><code>List&lt;DataDTO&gt; rpaDataList = new ArrayList&lt;&gt;();\n        \n//this part is where I am confused\n         id.forEach(x-&gt; {\n            repository.findById(x).map( rpa -&gt; {\n            ??????????\n            })  \n        });\n        \nreturn repository.saveAll(rpaDataList);\n</code></pre>\n<p>How can i do it ?</p>\n<p>The logic in my head is that I need to iterarte through list of ids, find each id in repository and get other informations. Set them in a DTO object, put these objects into a list and use saveAll method.</p>\n<p>Can't seem to put it on code.</p>\n"},{"tags":["java","mysql","spring-boot","persistence"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1657981417,"post_id":73003797,"comment_id":128941288,"body_markdown":"You&#39;re creating a user with password, but nowhere in your `DataSource` configuration you&#39;re using that username or password. Can you explain what you&#39;re trying to do there?","body":"You&#39;re creating a user with password, but nowhere in your <code>DataSource</code> configuration you&#39;re using that username or password. Can you explain what you&#39;re trying to do there?"},{"owner":{"display_name":"user18472511"},"score":0,"creation_date":1658383175,"post_id":73003797,"comment_id":129038621,"body_markdown":"Thank you very much. I made this code with some tutorial, and  you know... :)","body":"Thank you very much. I made this code with some tutorial, and  you know... :)"}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658567617,"creation_date":1658567617,"answer_id":73089470,"question_id":73003797,"body_markdown":"[If you configure `spring.datasource.*` properties](https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration) Spring will automatically inject an `DataSource` for you, you do not need the `@Bean` producer method using the builder.","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration\" rel=\"nofollow noreferrer\">If you configure <code>spring.datasource.*</code> properties</a> Spring will automatically inject an <code>DataSource</code> for you, you do not need the <code>@Bean</code> producer method using the builder.</p>\n"},{"tags":[],"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667194191,"creation_date":1667194191,"answer_id":74259071,"question_id":73003797,"body_markdown":"In my case, I just remove the port:3306 in my spring.datasource.url. If you are using phpmyadmin as a database management tool.\r\n\r\nHere&#39;s the link for the reference: [DataSource Configuration][1]\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost/test\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p>In my case, I just remove the port:3306 in my spring.datasource.url. If you are using phpmyadmin as a database management tool.</p>\n<p>Here's the link for the reference: <a href=\"https://docs.spring.io/spring-boot/docs/2.7.2/reference/html/data.html#data.sql.datasource.configuration\" rel=\"nofollow noreferrer\">DataSource Configuration</a></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/test\n</code></pre>\n"}],"owner":{"display_name":"user18472511"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667194191,"creation_date":1657970780,"question_id":73003797,"body_markdown":"I have found the same issue here, but it did not help to asker, and it didnt help me too. So  I try it again after three years :)\r\n\r\nI made a Spring Boot app with MySQL database. All CRUD operations works fine, its tested by Postman. When I add Persistance.autoconfiguration.java it makes **SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39;** **(using password: NO)**. User XXX is my Windows user profile.\r\n\r\n**Persistence.configuration.java** is placed in config package, it is placed in conferencedemo2, where  are controller, repository, ect packages.\r\n\r\n    package com.cg.conferencedemo2.config;\r\n    \r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    public class PersistenceConfiguration {\r\n    \r\n    \r\n        @Bean\r\n        public DataSource dataSource(){\r\n            DataSourceBuilder builder = DataSourceBuilder.create();\r\n            builder.url(&quot;jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\r\n            System.out.println(&quot;My custom datasource hean has benn initialized and  set&quot;);\r\n            return  builder.build();\r\n        }\r\n    }\r\n\r\nI have  tryed  to make  this sql , but with no affect.\r\n\r\n    CREATE USER &#39;XXX&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;     ----&gt;\t0 row(s) affected\t\r\n    GRANT ALL PRIVILEGES ON conference_demo.* TO &#39;XXX&#39;@&#39;localhost&#39;\t -----&gt;0 row(s) affected\r\n\r\n**application.properties**\r\n\r\n     spring.datasource.url=jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n     spring.datasource.username=root\r\n     spring.datasource.password=password\r\n     spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n**Thank you for the any advice.**\r\n","title":"SpringBoot: SQLException: Access denied for user &#39;XXX&#39;@&#39;localhost&#39; (using password: NO)","body":"<p>I have found the same issue here, but it did not help to asker, and it didnt help me too. So  I try it again after three years :)</p>\n<p>I made a Spring Boot app with MySQL database. All CRUD operations works fine, its tested by Postman. When I add Persistance.autoconfiguration.java it makes <strong>SQLException: Access denied for user 'XXX'@'localhost'</strong> <strong>(using password: NO)</strong>. User XXX is my Windows user profile.</p>\n<p><strong>Persistence.configuration.java</strong> is placed in config package, it is placed in conferencedemo2, where  are controller, repository, ect packages.</p>\n<pre><code>package com.cg.conferencedemo2.config;\n\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\n\n@Configuration\npublic class PersistenceConfiguration {\n\n\n    @Bean\n    public DataSource dataSource(){\n        DataSourceBuilder builder = DataSourceBuilder.create();\n        builder.url(&quot;jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;);\n        System.out.println(&quot;My custom datasource hean has benn initialized and  set&quot;);\n        return  builder.build();\n    }\n}\n</code></pre>\n<p>I have  tryed  to make  this sql , but with no affect.</p>\n<pre><code>CREATE USER 'XXX'@'localhost' IDENTIFIED BY 'password'     ----&gt;    0 row(s) affected   \nGRANT ALL PRIVILEGES ON conference_demo.* TO 'XXX'@'localhost'   -----&gt;0 row(s) affected\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost:3306/conference_demo?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n spring.datasource.username=root\n spring.datasource.password=password\n spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>Thank you for the any advice.</strong></p>\n"},{"tags":["java","apache-arrow"],"owner":{"account_id":68968,"reputation":1758,"user_id":200937,"accept_rate":57,"display_name":"YaOg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667194154,"creation_date":1667194154,"question_id":74259069,"body_markdown":"I am looking for an example of converting a parquet file to csv and vice versa. I am missing things like how to set the delimiter (comma or tab), how to specify date and timestamp formats (when reading from csv) and things like that.\r\n\r\nLooked at arrow source and examples and I can&#39;t find anything for the java implementation.","title":"apache arrow java parquet to csv conversion and vice versa","body":"<p>I am looking for an example of converting a parquet file to csv and vice versa. I am missing things like how to set the delimiter (comma or tab), how to specify date and timestamp formats (when reading from csv) and things like that.</p>\n<p>Looked at arrow source and examples and I can't find anything for the java implementation.</p>\n"},{"tags":["java","algorithm","solution"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667139652,"post_id":74253652,"comment_id":131095200,"body_markdown":"I recommend you show your attempt and explain the problem you are having.  Also, are you required/permitted to consider duplicate items like 10 of the same item at a cost of 10 = 100?","body":"I recommend you show your attempt and explain the problem you are having.  Also, are you required/permitted to consider duplicate items like 10 of the same item at a cost of 10 = 100?"}],"answers":[{"comments":[{"owner":{"account_id":20963054,"reputation":9,"user_id":15402043,"display_name":"katerina"},"score":0,"creation_date":1667219087,"post_id":74258869,"comment_id":131111094,"body_markdown":"Now I see where the issue was... I had a mistake in the recursion and I was not using the tempList as you did. Thank you very much for your help and also for the comments explaining everything!","body":"Now I see where the issue was... I had a mistake in the recursion and I was not using the tempList as you did. Thank you very much for your help and also for the comments explaining everything!"}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667194036,"creation_date":1667192017,"answer_id":74258869,"question_id":74253652,"body_markdown":"Below is example code which demonstrates how this can be accomplished (no sorting is carried out). For the sake of this particular task, the method is named **combinationsEqualTarget()** and it works with a recursive helper method that does the summing named **sumToTargetValue()**. Be sure to read the comments in code:\r\n\r\n    /**\r\n     * This method will take your supplied int[] array and the supplied target\r\n     * value and fill your supplied String List with all the combinations\r\n     * of elements within the int[] array that will equal the supplied target\r\n     * value.\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     * {@code\r\n     *         List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n     *          int myTarget = 53;\r\n     *          int[] a = {1, 2, 5, 10, 10, 25, 25, 25, 50};\r\n     *          CombinationsEqual(myList, a, myTarget, false);\r\n     *          for (String strg : myList) {\r\n     *              System.out.println(strg);\r\n     *          }\r\n     * }\r\n     * Console output will be:  1, 2, 5, 10, 10, 25\r\n     *                          1, 2, 25, 25\r\n     *                          1, 2, 50&lt;/pre&gt;&lt;br&gt;\r\n     *\r\n     * @param array           (String List Interface) A List Interface variable \r\n     *                        you declare and pass to this method. The method \r\n     *                        will fill your ArrayList with the appropriate\r\n     *                        combinations that meet target.&lt;br&gt;\r\n     *\r\n     * @param numbers         (int[] Array) The int[] array to supply which\r\n     *                        contains all the different values which can equal\r\n     *                        the supplied target value when elemental values\r\n     *                        are summed.&lt;br&gt;\r\n     *\r\n     * @param target          (int) The target value to get combinations\r\n     *                        for.&lt;br&gt;\r\n     *\r\n     * @param allowDuplicatesInList (Optional - boolean - Default is &#39;true&#39;) Allow for\r\n     *                              or disallow for duplicate combinations within your\r\n     *                              list.\r\n     */\r\n    public static void combinationsEqualTarget(List&lt;String&gt; list, int[] numbers, \r\n                                   int target, boolean... allowDuplicatesInList) {\r\n        boolean allowDuplicates = true; //Default - We do allow duplicate List elements.\r\n        \r\n        /* Has somethig been supplied to our optional allowDuplicates (varArgs) \r\n           parameter? If so then update the allowDuplicates boolean variable.*/\r\n        if (allowDuplicatesInList.length &gt; 0) {\r\n            allowDuplicates = allowDuplicatesInList[0];\r\n        }\r\n\r\n        /* Recursively sum up array values and add those combinations\r\n           which equals our target value to the supplied List.  */\r\n        sumToTargetValue(list, new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().collect(\r\n                    java.util.stream.Collectors.toList())), target, new ArrayList&lt;&gt;());\r\n\r\n        /* Remove Duplicate elements from the List if asked to do\r\n           so through the optional allowDuplicates parameter (if\r\n           allowDuplicates has been supplied &#39;false&#39;).      */\r\n        if (!allowDuplicates) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                for (int j = i + 1; j &lt; list.size(); j++) {\r\n                    if (list.get(i).equals(list.get(j))) {\r\n                        list.remove(j);\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    /**\r\n     * This recursive method is used in conjunction with the combinationsEqualTarget() \r\n     * method and is not meant to be used alone.&lt;br&gt;\r\n     * \r\n     * @param listToReturn ({@code List&lt;String&gt;})\r\n     * \r\n     * @param numbers ({@code List&lt;Integer&gt;})\r\n     * \r\n     * @param target (int)\r\n     * \r\n     * @param temp ({@code List&lt;Integer&gt;})\r\n     */\r\n    private static void sumToTargetValue(List&lt;String&gt; listToReturn, \r\n                        List&lt;Integer&gt; numbers, int target, List&lt;Integer&gt; temp) {\r\n        int s = 0;\r\n        for (int x : temp) {\r\n            s += x;\r\n        }\r\n        if (s == target) {\r\n            listToReturn.add(temp.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n        }\r\n        if (s &gt;= target) {\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; numbers.size(); i++) {\r\n            List&lt;Integer&gt; remaining = new ArrayList&lt;&gt;();\r\n            int n = numbers.get(i);\r\n            for (int j = i + 1; j &lt; numbers.size(); j++) {\r\n                remaining.add(numbers.get(j));\r\n            }\r\n            List&lt;Integer&gt; tempRec = new ArrayList&lt;&gt;(temp);\r\n            tempRec.add(n);\r\n            sumToTargetValue(listToReturn, remaining, target, tempRec);\r\n        }\r\n    }\r\n\r\nTo use the **combinationsEqualTarget()** method, you might do something like this:\r\n\r\n    // The example int[] array you provided in your post:\r\n    int[] prices = {10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2};\r\n    int moneyToSpend = 100;  // Target value.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();  // List to hold results...\r\n    combinationsEqualTarget(list, prices, moneyToSpend);\r\n        \r\n    // Display the list of results within the Console Window:\r\n    for (String items : list) {\r\n        System.out.println(items);\r\n    }\r\n\r\nWhen run with the example int[] Array, the Console Window should display:\r\n\r\n```\r\n10, 3, 4, 80, 3\r\n10, 3, 80, 7\r\n10, 3, 80, 5, 2\r\n10, 3, 80, 7\r\n10, 80, 7, 3\r\n10, 80, 5, 3, 2\r\n10, 80, 3, 7\r\n10, 90\r\n15, 3, 80, 2\r\n15, 80, 5\r\n15, 80, 3, 2\r\n3, 4, 90, 3\r\n3, 80, 7, 5, 3, 2\r\n3, 80, 7, 3, 7\r\n3, 80, 5, 3, 7, 2\r\n3, 90, 7\r\n3, 90, 5, 2\r\n3, 90, 7\r\n3, 92, 5\r\n3, 92, 3, 2\r\n4, 80, 7, 7, 2\r\n90, 7, 3\r\n90, 5, 3, 2\r\n90, 3, 7\r\n92, 5, 3\r\n```","title":"Array or products with prices, how to find all possible combinations for a given amount of money","body":"<p>Below is example code which demonstrates how this can be accomplished (no sorting is carried out). For the sake of this particular task, the method is named <strong>combinationsEqualTarget()</strong> and it works with a recursive helper method that does the summing named <strong>sumToTargetValue()</strong>. Be sure to read the comments in code:</p>\n<pre><code>/**\n * This method will take your supplied int[] array and the supplied target\n * value and fill your supplied String List with all the combinations\n * of elements within the int[] array that will equal the supplied target\n * value.\n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n * {@code\n *         List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n *          int myTarget = 53;\n *          int[] a = {1, 2, 5, 10, 10, 25, 25, 25, 50};\n *          CombinationsEqual(myList, a, myTarget, false);\n *          for (String strg : myList) {\n *              System.out.println(strg);\n *          }\n * }\n * Console output will be:  1, 2, 5, 10, 10, 25\n *                          1, 2, 25, 25\n *                          1, 2, 50&lt;/pre&gt;&lt;br&gt;\n *\n * @param array           (String List Interface) A List Interface variable \n *                        you declare and pass to this method. The method \n *                        will fill your ArrayList with the appropriate\n *                        combinations that meet target.&lt;br&gt;\n *\n * @param numbers         (int[] Array) The int[] array to supply which\n *                        contains all the different values which can equal\n *                        the supplied target value when elemental values\n *                        are summed.&lt;br&gt;\n *\n * @param target          (int) The target value to get combinations\n *                        for.&lt;br&gt;\n *\n * @param allowDuplicatesInList (Optional - boolean - Default is 'true') Allow for\n *                              or disallow for duplicate combinations within your\n *                              list.\n */\npublic static void combinationsEqualTarget(List&lt;String&gt; list, int[] numbers, \n                               int target, boolean... allowDuplicatesInList) {\n    boolean allowDuplicates = true; //Default - We do allow duplicate List elements.\n    \n    /* Has somethig been supplied to our optional allowDuplicates (varArgs) \n       parameter? If so then update the allowDuplicates boolean variable.*/\n    if (allowDuplicatesInList.length &gt; 0) {\n        allowDuplicates = allowDuplicatesInList[0];\n    }\n\n    /* Recursively sum up array values and add those combinations\n       which equals our target value to the supplied List.  */\n    sumToTargetValue(list, new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().collect(\n                java.util.stream.Collectors.toList())), target, new ArrayList&lt;&gt;());\n\n    /* Remove Duplicate elements from the List if asked to do\n       so through the optional allowDuplicates parameter (if\n       allowDuplicates has been supplied 'false').      */\n    if (!allowDuplicates) {\n        for (int i = 0; i &lt; list.size(); i++) {\n            for (int j = i + 1; j &lt; list.size(); j++) {\n                if (list.get(i).equals(list.get(j))) {\n                    list.remove(j);\n                    j--;\n                }\n            }\n        }\n    }\n}\n\n\n/**\n * This recursive method is used in conjunction with the combinationsEqualTarget() \n * method and is not meant to be used alone.&lt;br&gt;\n * \n * @param listToReturn ({@code List&lt;String&gt;})\n * \n * @param numbers ({@code List&lt;Integer&gt;})\n * \n * @param target (int)\n * \n * @param temp ({@code List&lt;Integer&gt;})\n */\nprivate static void sumToTargetValue(List&lt;String&gt; listToReturn, \n                    List&lt;Integer&gt; numbers, int target, List&lt;Integer&gt; temp) {\n    int s = 0;\n    for (int x : temp) {\n        s += x;\n    }\n    if (s == target) {\n        listToReturn.add(temp.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\n    }\n    if (s &gt;= target) {\n        return;\n    }\n    for (int i = 0; i &lt; numbers.size(); i++) {\n        List&lt;Integer&gt; remaining = new ArrayList&lt;&gt;();\n        int n = numbers.get(i);\n        for (int j = i + 1; j &lt; numbers.size(); j++) {\n            remaining.add(numbers.get(j));\n        }\n        List&lt;Integer&gt; tempRec = new ArrayList&lt;&gt;(temp);\n        tempRec.add(n);\n        sumToTargetValue(listToReturn, remaining, target, tempRec);\n    }\n}\n</code></pre>\n<p>To use the <strong>combinationsEqualTarget()</strong> method, you might do something like this:</p>\n<pre><code>// The example int[] array you provided in your post:\nint[] prices = {10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2};\nint moneyToSpend = 100;  // Target value.\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();  // List to hold results...\ncombinationsEqualTarget(list, prices, moneyToSpend);\n    \n// Display the list of results within the Console Window:\nfor (String items : list) {\n    System.out.println(items);\n}\n</code></pre>\n<p>When run with the example int[] Array, the Console Window should display:</p>\n<pre><code>10, 3, 4, 80, 3\n10, 3, 80, 7\n10, 3, 80, 5, 2\n10, 3, 80, 7\n10, 80, 7, 3\n10, 80, 5, 3, 2\n10, 80, 3, 7\n10, 90\n15, 3, 80, 2\n15, 80, 5\n15, 80, 3, 2\n3, 4, 90, 3\n3, 80, 7, 5, 3, 2\n3, 80, 7, 3, 7\n3, 80, 5, 3, 7, 2\n3, 90, 7\n3, 90, 5, 2\n3, 90, 7\n3, 92, 5\n3, 92, 3, 2\n4, 80, 7, 7, 2\n90, 7, 3\n90, 5, 3, 2\n90, 3, 7\n92, 5, 3\n</code></pre>\n"}],"owner":{"account_id":20963054,"reputation":9,"user_id":15402043,"display_name":"katerina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667239950,"accepted_answer_id":74258869,"answer_count":1,"score":-2,"last_activity_date":1667194036,"creation_date":1667138136,"question_id":74253652,"body_markdown":"So I am given an array of prices of products and a fixed amount of money I have and can spend. The question is to return a list of all given combinations of products that I can buy with the fixed amount of money I have. \r\neg. prices = [10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2.....] (duplicates are allowed cause they represent different products)\r\namountOfMoney = 100\r\nresult = {[90, 10], [90, 5, 3, 2], [90, 5, 3, 2], [....]}\r\n\r\nMy thought was: \r\n1. Sort the array\r\n2. two nested loops, in order to have the outside loop as the first product and then add up to that one\r\n... \r\ndoesn&#39;t really work out the way I thought it...\r\n\r\nAny ideas? Any help? ","title":"Array or products with prices, how to find all possible combinations for a given amount of money","body":"<p>So I am given an array of prices of products and a fixed amount of money I have and can spend. The question is to return a list of all given combinations of products that I can buy with the fixed amount of money I have.\neg. prices = [10, 15, 3, 4, 80, 110, 90, 92, 7, 5, 3, 7, 2.....] (duplicates are allowed cause they represent different products)\namountOfMoney = 100\nresult = {[90, 10], [90, 5, 3, 2], [90, 5, 3, 2], [....]}</p>\n<p>My thought was:</p>\n<ol>\n<li>Sort the array</li>\n<li>two nested loops, in order to have the outside loop as the first product and then add up to that one\n...\ndoesn't really work out the way I thought it...</li>\n</ol>\n<p>Any ideas? Any help?</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":2,"creation_date":1667193708,"post_id":74259025,"comment_id":131104492,"body_markdown":"Please do not answer duplicate questions - vote them as dupe instead","body":"Please do not answer duplicate questions - vote them as dupe instead"}],"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667193675,"creation_date":1667193675,"answer_id":74259025,"question_id":74258999,"body_markdown":"You need to escape `%` with another `%`, i.e. `%%`.\r\n\r\n```\r\nString format = &quot;Your name is %s, 100%%point&quot;;\r\nString name = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(name); // I want to print &quot;Your name is Harry, 100%point&quot;\r\n```","title":"How to use string format %s and &#39;%&#39; in the same line?","body":"<p>You need to escape <code>%</code> with another <code>%</code>, i.e. <code>%%</code>.</p>\n<pre><code>String format = &quot;Your name is %s, 100%%point&quot;;\nString name = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(name); // I want to print &quot;Your name is Harry, 100%point&quot;\n</code></pre>\n"}],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1667193833,"accepted_answer_id":74259025,"answer_count":1,"score":0,"last_activity_date":1667193743,"creation_date":1667193334,"question_id":74258999,"body_markdown":"Here is simple string format and it works.\r\n```\r\nString format = &quot;Your name is %s&quot;;\r\nString text = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(text);//print &quot;Your name is Harry&quot;\r\n```\r\nBut when I use &quot;%&quot; in the same line \r\n```\r\nString format = &quot;Your name is %s, 100%point&quot;;\r\nString name = String.format(format, &quot;Harry&quot;);\r\n\r\nSystem.out.print(name);// I want to print &quot;Your name is Harry, 100%point&quot;\r\n```\r\nI want to print &quot;Your name is Harry, 100%point&quot;,\r\n\r\nbut it come into runtime error\r\n```\r\n java.util.UnknownFormatConversionException: Conversion = &#39;p&#39;\r\n        at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2781)\r\n        at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2811)\r\n        at java.util.Formatter$FormatSpecifierParser.&lt;init&gt;(Formatter.java:2624)\r\n        at java.util.Formatter.parse(Formatter.java:2557)\r\n        at java.util.Formatter.format(Formatter.java:2504)\r\n        at java.util.Formatter.format(Formatter.java:2458)\r\n        at java.lang.String.format(String.java:2842)\r\n```\r\n\r\nHow to solve it.\r\nAny help will be appreciate.\r\n","title":"How to use string format %s and &#39;%&#39; in the same line?","body":"<p>Here is simple string format and it works.</p>\n<pre><code>String format = &quot;Your name is %s&quot;;\nString text = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(text);//print &quot;Your name is Harry&quot;\n</code></pre>\n<p>But when I use &quot;%&quot; in the same line</p>\n<pre><code>String format = &quot;Your name is %s, 100%point&quot;;\nString name = String.format(format, &quot;Harry&quot;);\n\nSystem.out.print(name);// I want to print &quot;Your name is Harry, 100%point&quot;\n</code></pre>\n<p>I want to print &quot;Your name is Harry, 100%point&quot;,</p>\n<p>but it come into runtime error</p>\n<pre><code> java.util.UnknownFormatConversionException: Conversion = 'p'\n        at java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2781)\n        at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2811)\n        at java.util.Formatter$FormatSpecifierParser.&lt;init&gt;(Formatter.java:2624)\n        at java.util.Formatter.parse(Formatter.java:2557)\n        at java.util.Formatter.format(Formatter.java:2504)\n        at java.util.Formatter.format(Formatter.java:2458)\n        at java.lang.String.format(String.java:2842)\n</code></pre>\n<p>How to solve it.\nAny help will be appreciate.</p>\n"},{"tags":["java","lombok","builder"],"answers":[{"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1667233987,"post_id":74258954,"comment_id":131116792,"body_markdown":"In fact you _can_ customize the `build` method since a few releases. It&#39;s just not simple, as you have to delombok and copy the builder and method headers from there. So my advice is: don&#39;t do it unless you really know what you are doing.","body":"In fact you <i>can</i> customize the <code>build</code> method since a few releases. It&#39;s just not simple, as you have to delombok and copy the builder and method headers from there. So my advice is: don&#39;t do it unless you really know what you are doing."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667192873,"creation_date":1667192873,"answer_id":74258954,"question_id":74258923,"body_markdown":"Due to the cavalcade of generics and other trickery to make `@SuperBuilder` work, you can&#39;t just write it yourself. `@SuperBuilder` is more picky, in other words (`@Builder` will let you write various things yourself, SuperBuilder does not). For example, your `FooBuilder` class needs a bevy of generics. Instead of forcing you to read a lot of documentation, or delomboking to know what it should look like, SuperBuilder just doesn&#39;t let you, instead.","title":"How can I customize lombok SuperBuilder&#39;s build method?","body":"<p>Due to the cavalcade of generics and other trickery to make <code>@SuperBuilder</code> work, you can't just write it yourself. <code>@SuperBuilder</code> is more picky, in other words (<code>@Builder</code> will let you write various things yourself, SuperBuilder does not). For example, your <code>FooBuilder</code> class needs a bevy of generics. Instead of forcing you to read a lot of documentation, or delomboking to know what it should look like, SuperBuilder just doesn't let you, instead.</p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74258954,"answer_count":1,"score":1,"last_activity_date":1667192873,"creation_date":1667192510,"question_id":74258923,"body_markdown":"I want to execute some method after lombok ```builder().build();```.\r\n\r\nBut I don&#39;t want to execute it manually like ```builder().build().someMethod();```\r\n\r\n```@SuperBuilder```&#39;s ```build()``` was different from ```@Builder```.\r\n\r\nHow can I customize it?\r\n\r\n```\r\n@SuperBuilder(buildMethodName = &quot;defaultBuild&quot;)\r\nclass Foo {\r\n    \r\n    ...\r\n\r\n    public static class FooBuilder {\r\n        public FooBuilder build() {\r\n            return defaultBuild().someMethod();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt works in ```@Builder``` but not in ```@SuperBuilder```.","title":"How can I customize lombok SuperBuilder&#39;s build method?","body":"<p>I want to execute some method after lombok <code>builder().build();</code>.</p>\n<p>But I don't want to execute it manually like <code>builder().build().someMethod();</code></p>\n<p><code>@SuperBuilder</code>'s <code>build()</code> was different from <code>@Builder</code>.</p>\n<p>How can I customize it?</p>\n<pre><code>@SuperBuilder(buildMethodName = &quot;defaultBuild&quot;)\nclass Foo {\n    \n    ...\n\n    public static class FooBuilder {\n        public FooBuilder build() {\n            return defaultBuild().someMethod();\n        }\n    }\n}\n</code></pre>\n<p>It works in <code>@Builder</code> but not in <code>@SuperBuilder</code>.</p>\n"},{"tags":["java","php","android","mysql","retrofit2"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":2,"creation_date":1667194040,"post_id":74258947,"comment_id":131104542,"body_markdown":"In MySQL there is no BOOLEAN datatype, it is an alias of TINYINT(1), and it does not provide any constraint to the value. https://dbfiddle.uk/pkUw5onV You may try to use `SELECT !!boolean_column ..` - maybe this will help. If not then you&#39;d define this column as numeric in your model.","body":"In MySQL there is no BOOLEAN datatype, it is an alias of TINYINT(1), and it does not provide any constraint to the value. <a href=\"https://dbfiddle.uk/pkUw5onV\" rel=\"nofollow noreferrer\">dbfiddle.uk/pkUw5onV</a> You may try to use <code>SELECT !!boolean_column ..</code> - maybe this will help. If not then you&#39;d define this column as numeric in your model."},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667227410,"post_id":74258947,"comment_id":131114301,"body_markdown":"@Akina As I wrote, impossible to change type. And I already know there isn&#39;t boolean type in mysql. I didn&#39;t ask why it happens but how to do other way.","body":"@Akina As I wrote, impossible to change type. And I already know there isn&#39;t boolean type in mysql. I didn&#39;t ask why it happens but how to do other way."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1667233556,"post_id":74258947,"comment_id":131116629,"body_markdown":"*As I wrote, impossible to change type* In the model? you cannot alter in the database - this is clear.. but in your application you cannot do this too?","body":"<i>As I wrote, impossible to change type</i> In the model? you cannot alter in the database - this is clear.. but in your application you cannot do this too?"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667244580,"post_id":74258947,"comment_id":131120100,"body_markdown":"@Akina _&quot;I can&#39;t modify the type of the field in the java model.&quot;_ because it&#39;s linked to a local Room database too. I can&#39;t, and/or I don&#39;t want, to modify the model.","body":"@Akina <i>&quot;I can&#39;t modify the type of the field in the java model.&quot;</i> because it&#39;s linked to a local Room database too. I can&#39;t, and/or I don&#39;t want, to modify the model."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1667245791,"post_id":74258947,"comment_id":131120399,"body_markdown":"If you can do nothing then your problem seems to be not solvable...","body":"If you can do nothing then your problem seems to be not solvable..."},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1667257418,"post_id":74258947,"comment_id":131122880,"body_markdown":"Not really, I added a (dirty) solution, so no &quot;not solvable&quot;. Maybe someone else could have another idea. That&#39;s why I ask here... But not you, I understood.","body":"Not really, I added a (dirty) solution, so no &quot;not solvable&quot;. Maybe someone else could have another idea. That&#39;s why I ask here... But not you, I understood."}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667192778,"creation_date":1667192778,"question_id":74258947,"body_markdown":"I have a problem with retrofit in my android app (java) retrieving a boolean field from php/mysql webservice.\r\n\r\nIn my java model, I have a boolean field `selected`, declared as:\r\n\r\n    @SerializedName(&quot;selected&quot;)\r\n    @Expose\r\n    private boolean selected;\r\n\r\nIn my MySQL database, the field is declared as TINYINT\r\n\r\nWhen I upload my object, it is correctly saved in the database (0 or 1).\r\n\r\nBut when I want to download the same object, I get an error:\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\r\n&gt; Expected a boolean but was NUMBER at line 11 column 22 path\r\n&gt; $[0].selected\r\n\r\nphp code:\r\n\r\n    &lt;?php\r\n    \theader(&#39;content-type:application/json&#39;);\r\n    \tif (isset($_GET[&#39;deviceName&#39;]) &amp;&amp; $_GET[&#39;deviceName&#39;] != &quot;&quot;) {\r\n    \t\t$deviceName = $_GET[&#39;deviceName&#39;];\r\n    \t\t$sql = &quot;SELECT * FROM `ComList` WHERE deviceName = &#39;$deviceName&#39; ORDER BY clistId, ord, categOrd ASC;&quot;;\r\n    \r\n    \t\t$pdo_options[PDO::ATTR_ERRMODE] = PDO::ERRMODE_EXCEPTION;\r\n    \t\t$pdo_options[PDO::MYSQL_ATTR_INIT_COMMAND] = &#39;SET NAMES utf8&#39;;\r\n    \t\t$bdd = new PDO(&#39;mysql:host=localhost;dbname=bdd&#39;, &#39;user&#39;, &#39;password&#39;, $pdo_options);\r\n    \t\t$bdd-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\r\n    \t\t$bdd-&gt;setAttribute(PDO::ATTR_STRINGIFY_FETCHES, false);\r\n    \t\t$response = $bdd-&gt;query($sql);\r\n    \t\t$output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\r\n    \t\techo(json_encode($output, JSON_PRETTY_PRINT));\r\n    ?&gt;\r\n\r\nI can&#39;t modify the type of the field in the java model.\r\n\r\nAny idea please?\r\nSomething to modify in the SQL request?\r\nModify the output in PHP?\r\n\r\nThe only way I found that give a good result is:\r\n\r\n    $output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\r\n    $tab = array();\r\n    foreach($output AS $value) {\r\n        $value[&#39;selected&#39;] = $value[&#39;selected&#39;] ? true : false;\r\n        array_push($tab, $value);\r\n    }\r\n    echo(json_encode($tab, JSON_PRETTY_PRINT));\r\n\r\nBut I think it&#39;s such a dirty process.","title":"retrofit get boolean from mysql","body":"<p>I have a problem with retrofit in my android app (java) retrieving a boolean field from php/mysql webservice.</p>\n<p>In my java model, I have a boolean field <code>selected</code>, declared as:</p>\n<pre><code>@SerializedName(&quot;selected&quot;)\n@Expose\nprivate boolean selected;\n</code></pre>\n<p>In my MySQL database, the field is declared as TINYINT</p>\n<p>When I upload my object, it is correctly saved in the database (0 or 1).</p>\n<p>But when I want to download the same object, I get an error:</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException:\nExpected a boolean but was NUMBER at line 11 column 22 path\n$[0].selected</p>\n</blockquote>\n<p>php code:</p>\n<pre><code>&lt;?php\n    header('content-type:application/json');\n    if (isset($_GET['deviceName']) &amp;&amp; $_GET['deviceName'] != &quot;&quot;) {\n        $deviceName = $_GET['deviceName'];\n        $sql = &quot;SELECT * FROM `ComList` WHERE deviceName = '$deviceName' ORDER BY clistId, ord, categOrd ASC;&quot;;\n\n        $pdo_options[PDO::ATTR_ERRMODE] = PDO::ERRMODE_EXCEPTION;\n        $pdo_options[PDO::MYSQL_ATTR_INIT_COMMAND] = 'SET NAMES utf8';\n        $bdd = new PDO('mysql:host=localhost;dbname=bdd', 'user', 'password', $pdo_options);\n        $bdd-&gt;setAttribute(PDO::ATTR_EMULATE_PREPARES, false);\n        $bdd-&gt;setAttribute(PDO::ATTR_STRINGIFY_FETCHES, false);\n        $response = $bdd-&gt;query($sql);\n        $output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\n        echo(json_encode($output, JSON_PRETTY_PRINT));\n?&gt;\n</code></pre>\n<p>I can't modify the type of the field in the java model.</p>\n<p>Any idea please?\nSomething to modify in the SQL request?\nModify the output in PHP?</p>\n<p>The only way I found that give a good result is:</p>\n<pre><code>$output = $response-&gt;fetchAll(PDO::FETCH_ASSOC);\n$tab = array();\nforeach($output AS $value) {\n    $value['selected'] = $value['selected'] ? true : false;\n    array_push($tab, $value);\n}\necho(json_encode($tab, JSON_PRETTY_PRINT));\n</code></pre>\n<p>But I think it's such a dirty process.</p>\n"},{"tags":["java","android","eclipse","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559549565,"creation_date":1559549565,"answer_id":56423425,"question_id":56420993,"body_markdown":"My expectation is that your [PATH][1] variable has `/usr/local/share/android-sdk/emulator/aapt` entry and it is resolved **before** your additions of the `ANDROID_HOME` variable. \r\n\r\nSo either [remove that Android SDK which lives under `/usr/local/share/android-sdk/`][2] from your operating system like:\r\n\r\n    brew cask uninstall android-sdk\r\n\r\nor amend your PATH variable definition so your &quot;good&quot; Android SDK installation goes **before** anything else like:\r\n\r\n    export PATH=$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$PATH\r\n\r\nSee [Appium Java Code examples][3] for more information regarding proper setup of Appium environment. You might also want to check the integrity of the infrastructure setup using [`appium-doctor`][4]\r\n\r\n    appium-doctor --android\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/PATH_(variable)\r\n  [2]: https://stackoverflow.com/questions/26209083/where-does-homebrew-install-android-sdk\r\n  [3]: https://docs.experitest.com/display/TE/Java\r\n  [4]: https://www.npmjs.com/package/appium-doctor","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>My expectation is that your <a href=\"https://en.wikipedia.org/wiki/PATH_(variable)\" rel=\"nofollow noreferrer\">PATH</a> variable has <code>/usr/local/share/android-sdk/emulator/aapt</code> entry and it is resolved <strong>before</strong> your additions of the <code>ANDROID_HOME</code> variable. </p>\n\n<p>So either <a href=\"https://stackoverflow.com/questions/26209083/where-does-homebrew-install-android-sdk\">remove that Android SDK which lives under <code>/usr/local/share/android-sdk/</code></a> from your operating system like:</p>\n\n<pre><code>brew cask uninstall android-sdk\n</code></pre>\n\n<p>or amend your PATH variable definition so your \"good\" Android SDK installation goes <strong>before</strong> anything else like:</p>\n\n<pre><code>export PATH=$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$PATH\n</code></pre>\n\n<p>See <a href=\"https://docs.experitest.com/display/TE/Java\" rel=\"nofollow noreferrer\">Appium Java Code examples</a> for more information regarding proper setup of Appium environment. You might also want to check the integrity of the infrastructure setup using <a href=\"https://www.npmjs.com/package/appium-doctor\" rel=\"nofollow noreferrer\"><code>appium-doctor</code></a></p>\n\n<pre><code>appium-doctor --android\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4037768,"reputation":1,"user_id":3321534,"display_name":"ST215"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584120443,"creation_date":1584120443,"answer_id":60674876,"question_id":56420993,"body_markdown":"I just struggled with on MacOS Catalina 10.15.3, Appium 1.10.1, Appium Doctor v.1.13.0 trying to set up Android with Appium.\r\n\r\nMake sure you are changing the correct file. You have 3 possible locations.\r\n\r\n**~/.bash_profile**\r\n\r\n**~/.profile**\r\n\r\n**~/.zshrc**\r\n\r\nI was editing my **~/.bash_profile** instead of **~/.zshrc** you can have a situation where you are setting the correct path but not in the right file.\r\n\r\nIf your trying to get going with Android Appium in Mac here is what I put in my **~/.zshrc** at the bottom\r\n\r\n    # Android Paths for Appium\r\n    export ANDROID_HOME=/Users/**PUT_YOUR_USER_NAME_HERE_WITHOUT_STARS**/Library/Android/sdk\r\n    export PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform_tools\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    export PATH=${JAVA_HOME}/bin:$PATH\r\n\r\nAlso if you don&#39;t want to edit in a terminal-based editor use the following command to open the files in a text editor.\r\n\r\n`open -e .bash_profile`\r\n\r\n`open -e .zshrc`\r\n\r\n`open -e .profile`\r\n\r\nAfter editing do not forget to save.\r\n \r\nQuit your Terminal.\r\n\r\nRun `Appium_Doctor`\r\n\r\nThe following post helped me out a lot when setting up my Appium\r\n\r\n**appium-workshop/Appium Mac Installation Instructions**\r\n\r\nhttps://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md\r\n\r\n","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>I just struggled with on MacOS Catalina 10.15.3, Appium 1.10.1, Appium Doctor v.1.13.0 trying to set up Android with Appium.</p>\n\n<p>Make sure you are changing the correct file. You have 3 possible locations.</p>\n\n<p><strong>~/.bash_profile</strong></p>\n\n<p><strong>~/.profile</strong></p>\n\n<p><strong>~/.zshrc</strong></p>\n\n<p>I was editing my <strong>~/.bash_profile</strong> instead of <strong>~/.zshrc</strong> you can have a situation where you are setting the correct path but not in the right file.</p>\n\n<p>If your trying to get going with Android Appium in Mac here is what I put in my <strong>~/.zshrc</strong> at the bottom</p>\n\n<pre><code># Android Paths for Appium\nexport ANDROID_HOME=/Users/**PUT_YOUR_USER_NAME_HERE_WITHOUT_STARS**/Library/Android/sdk\nexport PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform_tools\nexport JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=${JAVA_HOME}/bin:$PATH\n</code></pre>\n\n<p>Also if you don't want to edit in a terminal-based editor use the following command to open the files in a text editor.</p>\n\n<p><code>open -e .bash_profile</code></p>\n\n<p><code>open -e .zshrc</code></p>\n\n<p><code>open -e .profile</code></p>\n\n<p>After editing do not forget to save.</p>\n\n<p>Quit your Terminal.</p>\n\n<p>Run <code>Appium_Doctor</code></p>\n\n<p>The following post helped me out a lot when setting up my Appium</p>\n\n<p><strong>appium-workshop/Appium Mac Installation Instructions</strong></p>\n\n<p><a href=\"https://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md\" rel=\"nofollow noreferrer\">https://github.com/isonic1/appium-workshop/blob/master/Appium%20Mac%20Installation%20Instructions.md</a></p>\n"},{"tags":[],"owner":{"account_id":2162085,"reputation":77,"user_id":1916029,"display_name":"gvisoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667192429,"creation_date":1667192429,"answer_id":74258914,"question_id":56420993,"body_markdown":"If you have a system-wide eclipse installation, it usually won&#39;t read your environment variables from your `.bashrc` or `.bashprofile`, but from `/etc/environment`.\r\n\r\nIf you don&#39;t want to modify this file, or if it doesn&#39;t exist on a Mac, then you can always set the variables at a project level. This is done in the &quot;Environment&quot; tab of the configuration (run, debug, external tools,...) you&#39;re running within Eclipse, like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JxFrl.png","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>If you have a system-wide eclipse installation, it usually won't read your environment variables from your <code>.bashrc</code> or <code>.bashprofile</code>, but from <code>/etc/environment</code>.</p>\n<p>If you don't want to modify this file, or if it doesn't exist on a Mac, then you can always set the variables at a project level. This is done in the &quot;Environment&quot; tab of the configuration (run, debug, external tools,...) you're running within Eclipse, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JxFrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxFrl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3972689,"reputation":416,"user_id":3276822,"accept_rate":60,"display_name":"Sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667192429,"creation_date":1559534728,"question_id":56420993,"body_markdown":"I am currently trying to learn about Appium Automated Testing. Everything is setup perfectly on my Mac.\r\n\r\nAll my environmental variables are set up correctly :\r\n\r\n&gt; export ANDROID_HOME=/Users/abc/Library/Android/sdk\r\n&gt; \r\n&gt; export\r\n&gt; PATH=$PATH:$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools\r\n\r\n\r\nHowever when I run the eclipse program, eclipse throws an error saying:\r\n\r\n&gt; remote stacktrace: UnknownError: An unknown server-side error occurred\r\n&gt; while processing the command. Original error: Could not find &#39;aapt&#39; in\r\n&gt; [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;,&quot;/usr/local/share/android-sdk/emulator/aapt&quot;,&quot;/usr/local/share/android-sdk/tools/aapt&quot;,&quot;/usr/local/share/android-sdk/tools/bin/aapt&quot;].\r\n&gt; Do you have Android Build Tools installed at\r\n&gt; &#39;/usr/local/share/android-sdk&#39;?\r\n\r\nSo my question is why eclipse is looking for Android SDK tools in usr/local , my sdk tools are located in \r\n\r\n&gt; /Users/abc/Library/Android/sdk.\r\n\r\nHow can I tell eclipse to look for the appt,adb, etc in my User folder and not the admin usr folder.\r\n","title":"Original error: Could not find &#39;aapt&#39; in [&quot;/usr/local/share/android-sdk/platform-tools/aapt&quot;] Appium - Eclipse","body":"<p>I am currently trying to learn about Appium Automated Testing. Everything is setup perfectly on my Mac.</p>\n\n<p>All my environmental variables are set up correctly :</p>\n\n<blockquote>\n  <p>export ANDROID_HOME=/Users/abc/Library/Android/sdk</p>\n  \n  <p>export\n  PATH=$PATH:$JAVA_HOME/bin:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools</p>\n</blockquote>\n\n<p>However when I run the eclipse program, eclipse throws an error saying:</p>\n\n<blockquote>\n  <p>remote stacktrace: UnknownError: An unknown server-side error occurred\n  while processing the command. Original error: Could not find 'aapt' in\n  [\"/usr/local/share/android-sdk/platform-tools/aapt\",\"/usr/local/share/android-sdk/emulator/aapt\",\"/usr/local/share/android-sdk/tools/aapt\",\"/usr/local/share/android-sdk/tools/bin/aapt\"].\n  Do you have Android Build Tools installed at\n  '/usr/local/share/android-sdk'?</p>\n</blockquote>\n\n<p>So my question is why eclipse is looking for Android SDK tools in usr/local , my sdk tools are located in </p>\n\n<blockquote>\n  <p>/Users/abc/Library/Android/sdk.</p>\n</blockquote>\n\n<p>How can I tell eclipse to look for the appt,adb, etc in my User folder and not the admin usr folder.</p>\n"},{"tags":["java","swing","jbutton","setbounds"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1667189659,"post_id":74258672,"comment_id":131103919,"body_markdown":"`setLocation`/`setBounds` is ill advised.  See [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for a better starting point","body":"<code>setLocation</code>/<code>setBounds</code> is ill advised.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for a better starting point"}],"answers":[{"comments":[{"owner":{"account_id":26781171,"reputation":3,"user_id":20375989,"display_name":"Hazzard_09"},"score":0,"creation_date":1667199301,"post_id":74258730,"comment_id":131105418,"body_markdown":"thanks, @Abra, I&#39;m new at using Swing so I didn&#39;t know that it was possible to set a background on a JPanel. I&#39;ve tried to use a Layout for organizing the components but I saw that, for the project that I&#39;m working on, it wouldn&#39;t have been useful, due to the limitations when it comes to customizing the GUI.\nEven so, I&#39;ll try to refactor the code following your feedback and also use the Layouts, You surely can make really complex GUIs with them but as an amateur, it becomes really difficult. \nThanks for your time!","body":"thanks, @Abra, I&#39;m new at using Swing so I didn&#39;t know that it was possible to set a background on a JPanel. I&#39;ve tried to use a Layout for organizing the components but I saw that, for the project that I&#39;m working on, it wouldn&#39;t have been useful, due to the limitations when it comes to customizing the GUI. Even so, I&#39;ll try to refactor the code following your feedback and also use the Layouts, You surely can make really complex GUIs with them but as an amateur, it becomes really difficult.  Thanks for your time!"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667192239,"creation_date":1667190194,"answer_id":74258730,"question_id":74258672,"body_markdown":"You need to use an appropriate [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html), one that considers `setLocation` and `setBounds` &amp;ndash; or [not use a layout manager at all](https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html).\r\n\r\nI believe either [SpringLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html) or [GroupLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html) are appropriate.\r\n\r\nAlternatively, you could nest containers and use different layout managers. You would probably also need to manipulate the container sizes when nesting layouts.\r\n\r\nAlso note that after you change the location of a component within a container (after the GUI is displayed) you will probably need to call method [revalidate](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#revalidate()) and possibly, after that, to call method [repaint](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()).\r\n\r\nRegarding the code in your question. It looks like the method, whose code you posted, is from a class that extends [JFrame](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html). It is not necessary that your GUI application class extends `JFrame`.\r\n\r\nAlso from the code in your question:\r\n```java\r\nsetLayout(new BorderLayout());\r\n```\r\nThis is the [default](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) so no need to explicitly set it.\r\n```java\r\nbackground.add(btnOk);\r\n```\r\nComponents such as `JButton` should be added to a container like `JPanel` and not to a `JLabel`. You can set a [background image](https://stackoverflow.com/questions/19125707/simplest-way-to-set-image-as-jpanel-background) on a `JPanel`.\r\n","title":"can&#39;t relocate a JButton object in a window","body":"<p>You need to use an appropriate <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a>, one that considers <code>setLocation</code> and <code>setBounds</code> – or <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow noreferrer\">not use a layout manager at all</a>.</p>\n<p>I believe either <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> or <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/group.html\" rel=\"nofollow noreferrer\">GroupLayout</a> are appropriate.</p>\n<p>Alternatively, you could nest containers and use different layout managers. You would probably also need to manipulate the container sizes when nesting layouts.</p>\n<p>Also note that after you change the location of a component within a container (after the GUI is displayed) you will probably need to call method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#revalidate()\" rel=\"nofollow noreferrer\">revalidate</a> and possibly, after that, to call method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\">repaint</a>.</p>\n<p>Regarding the code in your question. It looks like the method, whose code you posted, is from a class that extends <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">JFrame</a>. It is not necessary that your GUI application class extends <code>JFrame</code>.</p>\n<p>Also from the code in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setLayout(new BorderLayout());\n</code></pre>\n<p>This is the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">default</a> so no need to explicitly set it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>background.add(btnOk);\n</code></pre>\n<p>Components such as <code>JButton</code> should be added to a container like <code>JPanel</code> and not to a <code>JLabel</code>. You can set a <a href=\"https://stackoverflow.com/questions/19125707/simplest-way-to-set-image-as-jpanel-background\">background image</a> on a <code>JPanel</code>.</p>\n"}],"owner":{"account_id":26781171,"reputation":3,"user_id":20375989,"display_name":"Hazzard_09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74258730,"answer_count":1,"score":0,"last_activity_date":1667192239,"creation_date":1667189461,"question_id":74258672,"body_markdown":"I&#39;ve been trying to resize the button or to use the `setLocation` and `setBounds` methods. It doesn&#39;t matter whatever I put in the args the button just never changes.\r\nI need to learn to relocate whether a button, a label, a textfield, any component in the GUI.\r\n\r\nThanks in advance!\r\n\r\n    private void iniciarComponentes(){\r\n        setTitle(&quot;PARA QUE SIRVE&quot;);\r\n        setSize(1280,800);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(HIDE_ON_CLOSE);\r\n        getRootPane().setWindowDecorationStyle(JRootPane.NONE);\r\n        setUndecorated(true);\r\n        setVisible(true);\r\n        \r\n        setLayout(new BorderLayout());\r\n        JLabel background = new JLabel(new ImageIcon(&quot;C:\\\\...&quot;));\r\n        add(background);\r\n        background.setLayout(new FlowLayout());\r\n        JButton btnOk = new JButton(&quot;OK&quot;);\r\n        Dimension size = btnOk.getPreferredSize();\r\n        btnOk.setBounds(0,0, 10, 10);\r\n        btnOk.addActionListener(this);\r\n        background.add(btnOk);\r\n    }\r\n","title":"can&#39;t relocate a JButton object in a window","body":"<p>I've been trying to resize the button or to use the <code>setLocation</code> and <code>setBounds</code> methods. It doesn't matter whatever I put in the args the button just never changes.\nI need to learn to relocate whether a button, a label, a textfield, any component in the GUI.</p>\n<p>Thanks in advance!</p>\n<pre><code>private void iniciarComponentes(){\n    setTitle(&quot;PARA QUE SIRVE&quot;);\n    setSize(1280,800);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(HIDE_ON_CLOSE);\n    getRootPane().setWindowDecorationStyle(JRootPane.NONE);\n    setUndecorated(true);\n    setVisible(true);\n    \n    setLayout(new BorderLayout());\n    JLabel background = new JLabel(new ImageIcon(&quot;C:\\\\...&quot;));\n    add(background);\n    background.setLayout(new FlowLayout());\n    JButton btnOk = new JButton(&quot;OK&quot;);\n    Dimension size = btnOk.getPreferredSize();\n    btnOk.setBounds(0,0, 10, 10);\n    btnOk.addActionListener(this);\n    background.add(btnOk);\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667139127,"post_id":74253749,"comment_id":131095101,"body_markdown":"You cannot keep calling `age()` you have to store the result to a value.","body":"You cannot keep calling <code>age()</code> you have to store the result to a value."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667139237,"post_id":74253749,"comment_id":131095123,"body_markdown":"That is total? `total()=total() -3` is broked. Again you should use an intermediate variable instead of calling the method again and again.","body":"That is total? <code>total()=total() -3</code> is broked. Again you should use an intermediate variable instead of calling the method again and again."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1667139349,"post_id":74253749,"comment_id":131095149,"body_markdown":"Hint: the semi-colon after each of your `if` statement conditions is the complete body for that if statement. Aside from anything else, you should remove those - e.g. the semi-colon in `if (age()&lt;=18);{`. There are various other things wrong though, such as method calls appearing between method declarations.","body":"Hint: the semi-colon after each of your <code>if</code> statement conditions is the complete body for that if statement. Aside from anything else, you should remove those - e.g. the semi-colon in <code>if (age()&lt;=18);{</code>. There are various other things wrong though, such as method calls appearing between method declarations."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667139708,"creation_date":1667139708,"answer_id":74253829,"question_id":74253749,"body_markdown":"First problem, don&#39;t write these isolated statements in the class body `yesornodisability();`, `age();` and `total();` . I doubt they compile. \r\n\r\nSecond store intermediate values. Since age() asks to input the age each time, it will be very inconvenient. Plus the user might enter different values.\r\n\r\n    int userAge = age();\r\n    int totalCost = total();\r\n    boolean disability = yesornodisability();\r\n\r\nI also made a variable for `total()` because you want to update the value, and a variable `yesornodisability()` so the question gets asked immediately.\r\n\r\nYour if statements have valid but incorrect syntax. You need to remove the semi-colons after them otherwise they won&#39;t have a body and the statement following will always be executed.\r\n\r\n","title":"How can I correct this code, so it can work?","body":"<p>First problem, don't write these isolated statements in the class body <code>yesornodisability();</code>, <code>age();</code> and <code>total();</code> . I doubt they compile.</p>\n<p>Second store intermediate values. Since age() asks to input the age each time, it will be very inconvenient. Plus the user might enter different values.</p>\n<pre><code>int userAge = age();\nint totalCost = total();\nboolean disability = yesornodisability();\n</code></pre>\n<p>I also made a variable for <code>total()</code> because you want to update the value, and a variable <code>yesornodisability()</code> so the question gets asked immediately.</p>\n<p>Your if statements have valid but incorrect syntax. You need to remove the semi-colons after them otherwise they won't have a body and the statement following will always be executed.</p>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667191389,"creation_date":1667140796,"answer_id":74253988,"question_id":74253749,"body_markdown":"Consider calling your methods from within the `main` method and utilizing the **[BigDecimal][1]** class:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Scanner;\r\n    \r\n    public class AnonymosDaAnimeViewersSwimmingPriceCalculator {\r\n    \r\n        private static final int MAX_YOUTH_AGE = 18;\r\n        private static final int MIN_SENIOR_CITIZEN_AGE = 65;\r\n        private static final BigDecimal BASE_SWIMMING_PRICE = BigDecimal.TEN;  // ₤10.\r\n        private static final BigDecimal YOUTH_DISCOUNT_PERCENT = BigDecimal.valueOf(0.5);  // 50%.\r\n        private static final BigDecimal SENIOR_CITIZEN_DISCOUNT_POUNDS = BigDecimal.valueOf(3);  // ₤3.\r\n        private static final BigDecimal DISABLED_DISCOUNT_POUNDS = BigDecimal.valueOf(4);  // ₤4.\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int age = getPositiveIntegerInput(&quot;How old are you? &quot;, scanner);\r\n            boolean isDisabled = getYesOrNoInput(&quot;Are you registered disabled (Yes/No)? &quot;, scanner);\r\n            BigDecimal actualSwimmingPrice = getSwimmingPrice(age, isDisabled);\r\n            System.out.printf(&quot;The swimming price for you is ₤%.2f pounds.%n&quot;, actualSwimmingPrice);\r\n        }\r\n    \r\n        public static BigDecimal getSwimmingPrice(int age, boolean isDisabled) {\r\n            BigDecimal actualSwimmingPrice = BASE_SWIMMING_PRICE;\r\n            if (age &lt;= MAX_YOUTH_AGE) {\r\n                actualSwimmingPrice = actualSwimmingPrice.multiply(YOUTH_DISCOUNT_PERCENT);\r\n            } else if (age &gt;= MIN_SENIOR_CITIZEN_AGE) {\r\n                actualSwimmingPrice = actualSwimmingPrice.subtract(SENIOR_CITIZEN_DISCOUNT_POUNDS);\r\n            }\r\n            if (isDisabled) {\r\n                actualSwimmingPrice = actualSwimmingPrice.subtract(DISABLED_DISCOUNT_POUNDS);\r\n            }\r\n            return actualSwimmingPrice;\r\n        }\r\n    \r\n        public static int getIntegerInput(String prompt, Scanner scanner) {\r\n            System.out.print(prompt);\r\n            int validInteger = -1;\r\n            while (scanner.hasNext()) {\r\n                if (scanner.hasNextInt()) {\r\n                    validInteger = scanner.nextInt();\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Error: Invalid input, must be integer, try again...&quot;);\r\n                    System.out.print(prompt);\r\n                    scanner.next();\r\n                }\r\n            }\r\n            return validInteger;\r\n        }\r\n    \r\n        public static int getPositiveIntegerInput(String prompt, Scanner scanner) {\r\n            int validInteger = getIntegerInput(prompt, scanner);\r\n            while (validInteger &lt;= 0) {\r\n                System.out.println(&quot;Error: Integer must be positive.&quot;);\r\n                validInteger = getIntegerInput(prompt, scanner);\r\n            }\r\n            return validInteger;\r\n        }\r\n    \r\n        public static boolean getYesOrNoInput(String prompt, Scanner scanner) {\r\n            System.out.print(prompt);\r\n            String input = scanner.nextLine().toLowerCase();\r\n            while (!input.equals(&quot;yes&quot;) &amp;&amp; !input.equals(&quot;no&quot;)) {\r\n                input = scanner.nextLine().toLowerCase();\r\n            }\r\n            return input.equals(&quot;yes&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**Example Usage 1:**\r\n\r\n    How old are you? 25\r\n    Are you registered disabled (Yes/No)? No\r\n    The swimming price for you is ₤10.00 pounds.\r\n\r\n**Example Usage 2:**\r\n\r\n    How old are you? 18\r\n    Are you registered disabled (Yes/No)? Yes\r\n    The swimming price for you is ₤1.00 pounds.\r\n\r\n**Example Usage 3:**\r\n\r\n    How old are you? 67\r\n    Are you registered disabled (Yes/No)? YeS\r\n    The swimming price for you is ₤3.00 pounds.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n","title":"How can I correct this code, so it can work?","body":"<p>Consider calling your methods from within the <code>main</code> method and utilizing the <strong><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></strong> class:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Scanner;\n\npublic class AnonymosDaAnimeViewersSwimmingPriceCalculator {\n\n    private static final int MAX_YOUTH_AGE = 18;\n    private static final int MIN_SENIOR_CITIZEN_AGE = 65;\n    private static final BigDecimal BASE_SWIMMING_PRICE = BigDecimal.TEN;  // ₤10.\n    private static final BigDecimal YOUTH_DISCOUNT_PERCENT = BigDecimal.valueOf(0.5);  // 50%.\n    private static final BigDecimal SENIOR_CITIZEN_DISCOUNT_POUNDS = BigDecimal.valueOf(3);  // ₤3.\n    private static final BigDecimal DISABLED_DISCOUNT_POUNDS = BigDecimal.valueOf(4);  // ₤4.\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int age = getPositiveIntegerInput(&quot;How old are you? &quot;, scanner);\n        boolean isDisabled = getYesOrNoInput(&quot;Are you registered disabled (Yes/No)? &quot;, scanner);\n        BigDecimal actualSwimmingPrice = getSwimmingPrice(age, isDisabled);\n        System.out.printf(&quot;The swimming price for you is ₤%.2f pounds.%n&quot;, actualSwimmingPrice);\n    }\n\n    public static BigDecimal getSwimmingPrice(int age, boolean isDisabled) {\n        BigDecimal actualSwimmingPrice = BASE_SWIMMING_PRICE;\n        if (age &lt;= MAX_YOUTH_AGE) {\n            actualSwimmingPrice = actualSwimmingPrice.multiply(YOUTH_DISCOUNT_PERCENT);\n        } else if (age &gt;= MIN_SENIOR_CITIZEN_AGE) {\n            actualSwimmingPrice = actualSwimmingPrice.subtract(SENIOR_CITIZEN_DISCOUNT_POUNDS);\n        }\n        if (isDisabled) {\n            actualSwimmingPrice = actualSwimmingPrice.subtract(DISABLED_DISCOUNT_POUNDS);\n        }\n        return actualSwimmingPrice;\n    }\n\n    public static int getIntegerInput(String prompt, Scanner scanner) {\n        System.out.print(prompt);\n        int validInteger = -1;\n        while (scanner.hasNext()) {\n            if (scanner.hasNextInt()) {\n                validInteger = scanner.nextInt();\n                break;\n            } else {\n                System.out.println(&quot;Error: Invalid input, must be integer, try again...&quot;);\n                System.out.print(prompt);\n                scanner.next();\n            }\n        }\n        return validInteger;\n    }\n\n    public static int getPositiveIntegerInput(String prompt, Scanner scanner) {\n        int validInteger = getIntegerInput(prompt, scanner);\n        while (validInteger &lt;= 0) {\n            System.out.println(&quot;Error: Integer must be positive.&quot;);\n            validInteger = getIntegerInput(prompt, scanner);\n        }\n        return validInteger;\n    }\n\n    public static boolean getYesOrNoInput(String prompt, Scanner scanner) {\n        System.out.print(prompt);\n        String input = scanner.nextLine().toLowerCase();\n        while (!input.equals(&quot;yes&quot;) &amp;&amp; !input.equals(&quot;no&quot;)) {\n            input = scanner.nextLine().toLowerCase();\n        }\n        return input.equals(&quot;yes&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Example Usage 1:</strong></p>\n<pre><code>How old are you? 25\nAre you registered disabled (Yes/No)? No\nThe swimming price for you is ₤10.00 pounds.\n</code></pre>\n<p><strong>Example Usage 2:</strong></p>\n<pre><code>How old are you? 18\nAre you registered disabled (Yes/No)? Yes\nThe swimming price for you is ₤1.00 pounds.\n</code></pre>\n<p><strong>Example Usage 3:</strong></p>\n<pre><code>How old are you? 67\nAre you registered disabled (Yes/No)? YeS\nThe swimming price for you is ₤3.00 pounds.\n</code></pre>\n"}],"owner":{"account_id":20817037,"reputation":11,"user_id":20372133,"display_name":"Anonymos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1667141287,"answer_count":2,"score":-1,"last_activity_date":1667191389,"creation_date":1667138972,"question_id":74253749,"body_markdown":"```\r\nimport java.util.Scanner; // Needed to make Scanner available\r\n\r\npublic static int age()\r\n{\r\n    int age;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;How old are you? &quot;);\r\n    age = Integer.parseInt(scanner.nextLine());\r\n    return age;\r\n}\r\n\r\nage();\r\n\r\npublic static void yesornodisability()\r\n{\r\n    String disabled;\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\r\n    disabled = scanner.nextLine();\r\n    return;\r\n}\r\n\r\nyesornodisability();\r\n\r\npublic static int total()\r\n{\r\n    int total;\r\n    total = 10;\r\n    return total;\r\n}\r\n\r\ntotal();\r\n\r\npublic static void swimmingprice()\r\n{\r\n    if (age()&lt;=18);{\r\n    total() = total()/2};\r\n    \r\n    else if (age()&gt;=65);{\r\n        total()=total()-3};\r\n    \r\n    else if (yesornodisability().equals(&quot;Yes&quot;);{\r\n        total() = total()-4};\r\n    \r\n    System.out.println(&quot;The swimming price for you is &quot;+total()+&quot; pounds.&quot;);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI am asking two sets of questions the first question is asking there age, second question is asking if they are registered disabled. Then using both results I put them in a if statement. As if they are younger than 18 they get 50% discount, if they are registered disable they get 4 pounds discount. My inputs are working, but when I put them in the if statement they are class it expected and else without if error.\r\n","title":"How can I correct this code, so it can work?","body":"<pre><code>import java.util.Scanner; // Needed to make Scanner available\n\npublic static int age()\n{\n    int age;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;How old are you? &quot;);\n    age = Integer.parseInt(scanner.nextLine());\n    return age;\n}\n\nage();\n\npublic static void yesornodisability()\n{\n    String disabled;\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Are you registered disabled(Yes / No)? &quot;);\n    disabled = scanner.nextLine();\n    return;\n}\n\nyesornodisability();\n\npublic static int total()\n{\n    int total;\n    total = 10;\n    return total;\n}\n\ntotal();\n\npublic static void swimmingprice()\n{\n    if (age()&lt;=18);{\n    total() = total()/2};\n    \n    else if (age()&gt;=65);{\n        total()=total()-3};\n    \n    else if (yesornodisability().equals(&quot;Yes&quot;);{\n        total() = total()-4};\n    \n    System.out.println(&quot;The swimming price for you is &quot;+total()+&quot; pounds.&quot;);\n}\n\n</code></pre>\n<p>I am asking two sets of questions the first question is asking there age, second question is asking if they are registered disabled. Then using both results I put them in a if statement. As if they are younger than 18 they get 50% discount, if they are registered disable they get 4 pounds discount. My inputs are working, but when I put them in the if statement they are class it expected and else without if error.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":0,"creation_date":1551459334,"post_id":43773840,"comment_id":96660969,"body_markdown":"FYI you could look into `Clear Site Data` header, you might find this answer useful https://stackoverflow.com/a/54949089/1225551","body":"FYI you could look into <code>Clear Site Data</code> header, you might find this answer useful <a href=\"https://stackoverflow.com/a/54949089/1225551\">stackoverflow.com/a/54949089/1225551</a>"}],"answers":[{"comments":[{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1493876767,"post_id":43773961,"comment_id":74590312,"body_markdown":"How is the `JSESSIONID` used on the client side ? should the client explicitly include it in the header for each request ?","body":"How is the <code>JSESSIONID</code> used on the client side ? should the client explicitly include it in the header for each request ?"},{"owner":{"account_id":4293398,"reputation":1061,"user_id":3509106,"display_name":"ThrawnCA"},"score":3,"creation_date":1493879308,"post_id":43773961,"comment_id":74591510,"body_markdown":"Cookies are automatically sent as headers in the request.","body":"Cookies are automatically sent as headers in the request."},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":0,"creation_date":1684295558,"post_id":43773961,"comment_id":134495795,"body_markdown":"@ThrawnCA There are sometimes good reason to delete the session cookie.  For example, if a load balancer is looking at that cookie to route you to a consistent server on the backend, you may want the user to be assigned a new server when they log out and back in again.  Such is the case in Blue-Green Deployment - once you&#39;ve deployed a new version, you would want the user to be routed to a new server with the new software if they explicitly log out and back in again.","body":"@ThrawnCA There are sometimes good reason to delete the session cookie.  For example, if a load balancer is looking at that cookie to route you to a consistent server on the backend, you may want the user to be assigned a new server when they log out and back in again.  Such is the case in Blue-Green Deployment - once you&#39;ve deployed a new version, you would want the user to be routed to a new server with the new software if they explicitly log out and back in again."},{"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"score":0,"creation_date":1684296310,"post_id":43773961,"comment_id":134495876,"body_markdown":"To be more clear: although you get a new cookie when you log in, if you don&#39;t delete the cookie on logout, then the login request will still have the old cookie which will cause the client to get routed to the old server.","body":"To be more clear: although you get a new cookie when you log in, if you don&#39;t delete the cookie on logout, then the login request will still have the old cookie which will cause the client to get routed to the old server."}],"tags":[],"owner":{"account_id":4293398,"reputation":1061,"user_id":3509106,"display_name":"ThrawnCA"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1493872471,"creation_date":1493872471,"answer_id":43773961,"question_id":43773840,"body_markdown":"You shouldn&#39;t need to delete the cookie. Once the session has closed on the server, the cookie can&#39;t be used anyway, and it will be replaced if the person returns. Just let it expire normally (by default, when the browser is closed).\r\n","title":"Spring security: Delete cookie for logout","body":"<p>You shouldn't need to delete the cookie. Once the session has closed on the server, the cookie can't be used anyway, and it will be replaced if the person returns. Just let it expire normally (by default, when the browser is closed).</p>\n"},{"comments":[{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1493876657,"post_id":43774016,"comment_id":74590269,"body_markdown":"Maybe I was not clear on my question. I don&#39;t want to unset JSESSIONID. I don&#39;t care about it. I want to delete the cookie for the `auth_code`. To delete a cookie from the server side, do I have to set its expiration time to some time in the past and set it again ? or deleteCookies is good enough ? There&#39;s nothing on the header that tells the browser to delete the cookie.","body":"Maybe I was not clear on my question. I don&#39;t want to unset JSESSIONID. I don&#39;t care about it. I want to delete the cookie for the <code>auth_code</code>. To delete a cookie from the server side, do I have to set its expiration time to some time in the past and set it again ? or deleteCookies is good enough ? There&#39;s nothing on the header that tells the browser to delete the cookie."},{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":2,"creation_date":1493878391,"post_id":43774016,"comment_id":74591053,"body_markdown":"Yes that is enough. When you set the cookie name in `deleteCookies` that cookie will be set a maxAge of 0 by the CookieClearingLogoutHandler in the response header http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/4.0.2.RELEASE/org/springframework/security/web/authentication/logout/CookieClearingLogoutHandler.java","body":"Yes that is enough. When you set the cookie name in <code>deleteCookies</code> that cookie will be set a maxAge of 0 by the CookieClearingLogoutHandler in the response header <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.springframework.security/spring-security-web/4.0.2.RELEASE/org/springframework/security/web/authentication/logout/CookieClearingLogoutHandler.java\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/&hellip;</a>"},{"owner":{"account_id":3026387,"reputation":440,"user_id":2566304,"accept_rate":0,"display_name":"Andrey M. Stepanov"},"score":1,"creation_date":1554727865,"post_id":43774016,"comment_id":97846434,"body_markdown":"in my app I have\n`.logout().deleteCookies(&quot;JSESSIONID&quot;, &quot;JWT&quot;).logoutSuccessUrl(&quot;/index.html&quot;) .clearAuthentication(true).invalidateHttpSession(true)`\nredirect to successUrl is going but cookies are not erased ... what might be the reason?","body":"in my app I have <code>.logout().deleteCookies(&quot;JSESSIONID&quot;, &quot;JWT&quot;).logoutSuccessUrl(&quot;&#47;index.html&quot;) .clearAuthentication(true).invalidateHttpSession(true)</code> redirect to successUrl is going but cookies are not erased ... what might be the reason?"},{"owner":{"account_id":12508688,"reputation":113,"user_id":9104707,"display_name":"Muralidhar"},"score":0,"creation_date":1580108951,"post_id":43774016,"comment_id":105975199,"body_markdown":"did you find fix for this issue? am facing same issue unable to delete cookies at sever side.  first time after logout url is redirect to login page asking for user password. next time it is not redirecting to login page and loaded home page without user password.","body":"did you find fix for this issue? am facing same issue unable to delete cookies at sever side.  first time after logout url is redirect to login page asking for user password. next time it is not redirecting to login page and loaded home page without user password."},{"owner":{"account_id":14724786,"reputation":49,"user_id":13613719,"display_name":"Epoch"},"score":0,"creation_date":1638570810,"post_id":43774016,"comment_id":124133040,"body_markdown":"I am also experiencing the issue that Andrey and Muralidhar are having and would much appreciate an answer.","body":"I am also experiencing the issue that Andrey and Muralidhar are having and would much appreciate an answer."}],"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493872784,"creation_date":1493872784,"answer_id":43774016,"question_id":43773840,"body_markdown":"Add `JSESSIONID` in the `.deleteCookies(&quot;auth_code&quot;, &quot;JSESSIONID&quot;)`.\r\n        \r\n    logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;auth_code&quot;, &quot;JSESSIONID&quot;).invalidateHttpSession(true)","title":"Spring security: Delete cookie for logout","body":"<p>Add <code>JSESSIONID</code> in the <code>.deleteCookies(\"auth_code\", \"JSESSIONID\")</code>.</p>\n\n<pre><code>logout().logoutUrl(\"/logout\").logoutSuccessUrl(\"/login\").deleteCookies(\"auth_code\", \"JSESSIONID\").invalidateHttpSession(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4094017,"reputation":355,"user_id":3361311,"display_name":"Rashid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667191083,"creation_date":1616087622,"answer_id":66695895,"question_id":43773840,"body_markdown":"There can be different approaches to delete the cookies using spring security:\r\n\r\n1. You may add the following methods with logout in the spring security configure method.\r\n\r\n    `.logout()`\r\n\r\ndelete cookies method to delete the list of cookies separated by comma(,)\r\n\r\n    `.deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)`\r\n\r\nClear all authentication\r\n\r\n    `.clearAuthentication(true)`\r\n\r\nand then invalidate the session object.\r\n\r\n    `.invalidateHttpSession(true)`\r\n\r\n\r\n2. Expire and remove the cookies explicitly and map that with `/logout` path.\r\n\r\n    `@RequestMapping(path = &quot;/logout&quot;, method = RequestMethod.GET)`\r\n    \r\n`private void removeCookies(HttpServletRequest request, HttpServletResponse response) {`\r\n\r\n     Cookie rememberMeCookie = new Cookie(&quot;remember-me&quot;, &quot;&quot;);\r\n\r\n     rememberMeCookie.setMaxAge(0);\r\n\r\n     response.addCookie(rememberMeCookie);\r\n\r\n     securityService.logoutCurrentUser();\r\n    \t}\r\n\r\n\r\nReference: [https://www.baeldung.com/java-servlet-cookies-session][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-servlet-cookies-session","title":"Spring security: Delete cookie for logout","body":"<p>There can be different approaches to delete the cookies using spring security:</p>\n<ol>\n<li><p>You may add the following methods with logout in the spring security configure method.</p>\n<p><code>.logout()</code></p>\n</li>\n</ol>\n<p>delete cookies method to delete the list of cookies separated by comma(,)</p>\n<pre><code>`.deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)`\n</code></pre>\n<p>Clear all authentication</p>\n<pre><code>`.clearAuthentication(true)`\n</code></pre>\n<p>and then invalidate the session object.</p>\n<pre><code>`.invalidateHttpSession(true)`\n</code></pre>\n<ol start=\"2\">\n<li><p>Expire and remove the cookies explicitly and map that with <code>/logout</code> path.</p>\n<p><code>@RequestMapping(path = &quot;/logout&quot;, method = RequestMethod.GET)</code></p>\n</li>\n</ol>\n<p><code>private void removeCookies(HttpServletRequest request, HttpServletResponse response) {</code></p>\n<pre><code> Cookie rememberMeCookie = new Cookie(&quot;remember-me&quot;, &quot;&quot;);\n\n rememberMeCookie.setMaxAge(0);\n\n response.addCookie(rememberMeCookie);\n\n securityService.logoutCurrentUser();\n    }\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/java-servlet-cookies-session\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-servlet-cookies-session</a></p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38084,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43773961,"answer_count":3,"score":3,"last_activity_date":1667191083,"creation_date":1493871772,"question_id":43773840,"body_markdown":"I use the following security configuration for my Spring boot app:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t\t.csrf().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/signup&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.anyRequest().authenticated()\r\n    \t\t.and()\r\n    \t\t\t.logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;auth_code&quot;).invalidateHttpSession(true)\r\n    \t\t.and()\r\n    \t\t// We filter the api/signup requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTSignupFilter(&quot;/signup&quot;, authenticationManager(),\r\n    \t\t\t\t\taccountRepository, passwordEncoder),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// We filter the api/login requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTLoginFilter(&quot;/login&quot;, authenticationManager()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// And filter other requests to check the presence of JWT in\r\n    \t\t// header\r\n    \t\t.addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class);\r\n    } \r\n\r\nWhen I do the logout, I want to delete the cookie which was set during the login. I use `deleteCookie`, but in the header there&#39;s no notion of deleting the cookie which was set during the login. Why ? \r\n\r\nHow should I tell the browser to delete the cookie ? \r\n\r\nRight now, the header for the response contains : \r\n\r\n    Set-Cookie →JSESSIONID=E4060381B435217F7D68EAAE82903BB0;path=/;Secure;HttpOnly\r\n\r\nShould I set the expiration time for the cookie to a date past the current date ?","title":"Spring security: Delete cookie for logout","body":"<p>I use the following security configuration for my Spring boot app:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n            .antMatchers(\"/login\").permitAll()\n        .and()\n        .authorizeRequests()\n            .antMatchers(\"/signup\").permitAll()\n        .and()\n        .authorizeRequests()\n            .anyRequest().authenticated()\n        .and()\n            .logout().logoutUrl(\"/logout\").logoutSuccessUrl(\"/login\").deleteCookies(\"auth_code\").invalidateHttpSession(true)\n        .and()\n        // We filter the api/signup requests\n        .addFilterBefore(\n            new JWTSignupFilter(\"/signup\", authenticationManager(),\n                    accountRepository, passwordEncoder),\n            UsernamePasswordAuthenticationFilter.class)\n        // We filter the api/login requests\n        .addFilterBefore(\n            new JWTLoginFilter(\"/login\", authenticationManager()),\n            UsernamePasswordAuthenticationFilter.class)\n        // And filter other requests to check the presence of JWT in\n        // header\n        .addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\n            UsernamePasswordAuthenticationFilter.class);\n} \n</code></pre>\n\n<p>When I do the logout, I want to delete the cookie which was set during the login. I use <code>deleteCookie</code>, but in the header there's no notion of deleting the cookie which was set during the login. Why ? </p>\n\n<p>How should I tell the browser to delete the cookie ? </p>\n\n<p>Right now, the header for the response contains : </p>\n\n<pre><code>Set-Cookie →JSESSIONID=E4060381B435217F7D68EAAE82903BB0;path=/;Secure;HttpOnly\n</code></pre>\n\n<p>Should I set the expiration time for the cookie to a date past the current date ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1665076510,"post_id":73977336,"comment_id":130620553,"body_markdown":"Perhaps I missed it, but where is your attempt to redirect standard input to a `TextField`? What went wrong with that attempt? Please provide a [mre].","body":"Perhaps I missed it, but where is your attempt to redirect standard input to a <code>TextField</code>? What went wrong with that attempt? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665077235,"post_id":73977336,"comment_id":130620792,"body_markdown":"@Slaw it what at &quot;where the problem starts&quot; but that was my latest attempt as in I tried to just send the input straight to the method instead of redirecting it and as you might guess it didn&#39;t work. I&#39;ve also looked into inputstream but I got confused by how to use it. so now I&#39;m hoping I get help with this problem since I have no clue.","body":"@Slaw it what at &quot;where the problem starts&quot; but that was my latest attempt as in I tried to just send the input straight to the method instead of redirecting it and as you might guess it didn&#39;t work. I&#39;ve also looked into inputstream but I got confused by how to use it. so now I&#39;m hoping I get help with this problem since I have no clue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665078321,"post_id":73977336,"comment_id":130621163,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665078364,"post_id":73977336,"comment_id":130621177,"body_markdown":"But nowhere in the code between the &quot;where the problem starts&quot; and &quot;where the problem ends&quot; comments do you do anything resembling redirecting standard input to the text field. What you do is read the text from the text field and convert it to an int, and then pass it to a method call, which is all completely normal JavaFX work.","body":"But nowhere in the code between the &quot;where the problem starts&quot; and &quot;where the problem ends&quot; comments do you do anything resembling redirecting standard input to the text field. What you do is read the text from the text field and convert it to an int, and then pass it to a method call, which is all completely normal JavaFX work."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665078560,"post_id":73977336,"comment_id":130621234,"body_markdown":"But what actually are you trying to do here? Normally, standard input is a stream of text that the user types at the keyboard into the console/terminal. It would be redundant to pipe standard input in this context to a text field; you may as well have the user type into the text field. If you are piping the output of one program into your Java program (the other context for standard input), you can just read the value from standard input and use it (there&#39;s no obvious need for the text field). What is the actual use case for what you say you are trying to do?","body":"But what actually are you trying to do here? Normally, standard input is a stream of text that the user types at the keyboard into the console/terminal. It would be redundant to pipe standard input in this context to a text field; you may as well have the user type into the text field. If you are piping the output of one program into your Java program (the other context for standard input), you can just read the value from standard input and use it (there&#39;s no obvious need for the text field). What is the actual use case for what you say you are trying to do?"},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665079976,"post_id":73977336,"comment_id":130621687,"body_markdown":"@James_D well the idea was to use the text field in the gui as an input to the java console program but as you can tell I have no idea how to achieve that result.","body":"@James_D well the idea was to use the text field in the gui as an input to the java console program but as you can tell I have no idea how to achieve that result."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665081339,"post_id":73977336,"comment_id":130622096,"body_markdown":"What goes wrong? What actually happens when you execute the code you posted?","body":"What goes wrong? What actually happens when you execute the code you posted?"},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665083623,"post_id":73977336,"comment_id":130622752,"body_markdown":"@James_D when I run the program without input the program works and runs the function in task.java but without input from the user the task can never get past the first line. So that&#39;s why I need input field.\n\nbtw the task.java file is just an example.","body":"@James_D when I run the program without input the program works and runs the function in task.java but without input from the user the task can never get past the first line. So that&#39;s why I need input field.  btw the task.java file is just an example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665087309,"post_id":73977336,"comment_id":130623834,"body_markdown":"You should refactor `Task.java` (aside: please use proper naming conventions) so that getting the user input is separated from the functionality. I.e. you should have `public boolean isLeapYear(int year)`, `public String isLeapYearDialog(int year)` and `public void isLeapYearDialog()` (the latter using standard input for input and output and delegating to the second method). That way you can use the logic part from the UI without hacking standard input and output.","body":"You should refactor <code>Task.java</code> (aside: please use proper naming conventions) so that getting the user input is separated from the functionality. I.e. you should have <code>public boolean isLeapYear(int year)</code>, <code>public String isLeapYearDialog(int year)</code> and <code>public void isLeapYearDialog()</code> (the latter using standard input for input and output and delegating to the second method). That way you can use the logic part from the UI without hacking standard input and output."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665089536,"post_id":73977336,"comment_id":130624495,"body_markdown":"@James_D could you show an example of that? since I&#39;m new to java it&#39;s  hard to understand what I should do and btw did you check out the methods picture? since that&#39;s what actually should be in the task.java.","body":"@James_D could you show an example of that? since I&#39;m new to java it&#39;s  hard to understand what I should do and btw did you check out the methods picture? since that&#39;s what actually should be in the task.java."}],"answers":[{"comments":[{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665090802,"post_id":73979850,"comment_id":130624847,"body_markdown":"okay, so how would you do &quot;the methods&quot; function in the picture? since that is the actual task I want to run in the gui.\n-\n I can provide a picture of what the functions do in that picture as well if you need it.","body":"okay, so how would you do &quot;the methods&quot; function in the picture? since that is the actual task I want to run in the gui. -  I can provide a picture of what the functions do in that picture as well if you need it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1665093610,"post_id":73979850,"comment_id":130625435,"body_markdown":"@UnseenSnick Don’t post pictures of text. (Seriously; why do you think that’s a good idea?) Post the code as text, properly formatted.","body":"@UnseenSnick Don’t post pictures of text. (Seriously; why do you think that’s a good idea?) Post the code as text, properly formatted."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665094892,"post_id":73979850,"comment_id":130625654,"body_markdown":"there I put the actual task in edit 3","body":"there I put the actual task in edit 3"},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665096382,"post_id":73979850,"comment_id":130625935,"body_markdown":"this part didn&#39;t output:\n\n        **System.out.print(&quot;\\nWrite a year: &quot;);** to the text area, is there a reason for that?@James_D","body":"this part didn&#39;t output:          <b>System.out.print(&quot;\\nWrite a year: &quot;);</b> to the text area, is there a reason for that?@James_D"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665099329,"post_id":73979850,"comment_id":130626417,"body_markdown":"@UnseenSnick Yes: there’s no code that displays that text in the text area. Why would you want it to be there anyway?","body":"@UnseenSnick Yes: there’s no code that displays that text in the text area. Why would you want it to be there anyway?"},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665101547,"post_id":73979850,"comment_id":130626697,"body_markdown":"well because of something called user feedback, so the user knows what to do.@James_D","body":"well because of something called user feedback, so the user knows what to do.@James_D"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665138541,"post_id":73979850,"comment_id":130634672,"body_markdown":"But why would you put that in the `TextArea`? Put that in a label next to the text field.","body":"But why would you put that in the <code>TextArea</code>? Put that in a label next to the text field."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1665153362,"post_id":73979850,"comment_id":130639951,"body_markdown":"@UnseenSnick What I&#39;m driving at here, is that if you want to write a GUI application, you should write a GUI application. Slaw&#39;s answer shows how to do what you explicitly ask, but really all that does is recreate an interface which is already available to the user via the command line or terminal. Ultimately, that isn&#39;t really writing a GUI program; you&#39;re using JavaFX simply to recreate your terminal program. Instead, I would recommend using the correct UI tools; e.g. to choose something, use a combo box. When the user makes a choice, display the appropriate controls for them to input data.","body":"@UnseenSnick What I&#39;m driving at here, is that if you want to write a GUI application, you should write a GUI application. Slaw&#39;s answer shows how to do what you explicitly ask, but really all that does is recreate an interface which is already available to the user via the command line or terminal. Ultimately, that isn&#39;t really writing a GUI program; you&#39;re using JavaFX simply to recreate your terminal program. Instead, I would recommend using the correct UI tools; e.g. to choose something, use a combo box. When the user makes a choice, display the appropriate controls for them to input data."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665154380,"post_id":73979850,"comment_id":130640349,"body_markdown":"if I wasn&#39;t clear enough of what I was trying to do then let me spell it out for you **I wanted to recreate the terminal inside a gui** and with the answer from Slaw now I can do it without fxml file but I want to recreate the terminal using an **fxml file** so that part I haven&#39;t figured out yet, do you have an idea of how I could do that? @James_D","body":"if I wasn&#39;t clear enough of what I was trying to do then let me spell it out for you <b>I wanted to recreate the terminal inside a gui</b> and with the answer from Slaw now I can do it without fxml file but I want to recreate the terminal using an <b>fxml file</b> so that part I haven&#39;t figured out yet, do you have an idea of how I could do that? @James_D"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665089171,"creation_date":1665089171,"answer_id":73979850,"question_id":73977336,"body_markdown":"Refactor `Task.java` to separate the logic from the user input/output. I&#39;d also recommend not naming the class something that clashes with a standard class from the JavaFX API (though you can obviously get around this with imports and explicit use of fully-qualified class names.) \r\n\r\nSomething like:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LeapYearTask {\r\n        \r\n        private static final Scanner input = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            leapYearDialog();\r\n        }\r\n    \r\n        public static void leapYearDialog(){\r\n            System.out.print(&quot;\\nWrite a year: &quot;);\r\n            int year = input.nextInt();\r\n            System.out.println(leapYearDialog(year));\r\n        }\r\n    \r\n        public static String leapYearDialog(int year) { \r\n            \r\n            String standardMsg =&quot;This is leapYearDialog method:&quot;;\r\n    \r\n    \r\n            if (isLeapYear(year)){\r\n                return &quot;\\n&quot;+standardMsg+&quot;\\n&quot;+year+&quot; is a leap year.&quot;;\r\n            }else{\r\n                return &quot;\\n&quot;+standardMsg+&quot;\\n&quot;+year+&quot; is not a leap year.&quot;;\r\n            }\r\n        }\r\n    \r\n        public static boolean isLeapYear(int year) {\r\n            boolean divideByFour = year % 4 ==0;\r\n            boolean divideByHundred = year % 100 ==0;\r\n            boolean divideByFourHundred = year % 400 ==0;\r\n            return divideByFour &amp;&amp; (!divideByHundred || divideByFourHundred);\r\n        }\r\n    }\r\n\r\n(You may even want to refactor further, separating the logical `isLeapYear()` into a different class to the methods with the textual interaction.)\r\n\r\nThen your JavaFX program only needs to interact with the logical part, as is natural. There is now no need to hack the standard input and standard output.\r\n\r\n    public class Controller {\r\n        \r\n        @FXML\r\n        private TextArea console;\r\n        @FXML\r\n        private TextField inputField;\r\n        \r\n    \r\n        \r\n        //somehow get input to work with task.leapYearDialog()\r\n        public void runCommand(ActionEvent event) {\r\n    \r\n            int year = Integer.parseInt(inputField.getText());\r\n            // I&#39;m assuming you were using a background thread because this is a\r\n            // stand-in for a long-running process.\r\n            Task&lt;String&gt; leapYearTask = new Task&lt;&gt;() {\r\n                @Override\r\n                protected String call() throws Exception {\r\n                    return LeapYearTask.leapYearDialog(year);\r\n                }\r\n            };\r\n            leapYearTask.setOnSucceeded(e -&gt; console.append(leapYearTask.getValue()));\r\n            new Thread(leapYearTask).start();\r\n        }\r\n    }\r\n\r\n","title":"how to redirect system input to javaFX textfield?","body":"<p>Refactor <code>Task.java</code> to separate the logic from the user input/output. I'd also recommend not naming the class something that clashes with a standard class from the JavaFX API (though you can obviously get around this with imports and explicit use of fully-qualified class names.)</p>\n<p>Something like:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LeapYearTask {\n    \n    private static final Scanner input = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        leapYearDialog();\n    }\n\n    public static void leapYearDialog(){\n        System.out.print(&quot;\\nWrite a year: &quot;);\n        int year = input.nextInt();\n        System.out.println(leapYearDialog(year));\n    }\n\n    public static String leapYearDialog(int year) { \n        \n        String standardMsg =&quot;This is leapYearDialog method:&quot;;\n\n\n        if (isLeapYear(year)){\n            return &quot;\\n&quot;+standardMsg+&quot;\\n&quot;+year+&quot; is a leap year.&quot;;\n        }else{\n            return &quot;\\n&quot;+standardMsg+&quot;\\n&quot;+year+&quot; is not a leap year.&quot;;\n        }\n    }\n\n    public static boolean isLeapYear(int year) {\n        boolean divideByFour = year % 4 ==0;\n        boolean divideByHundred = year % 100 ==0;\n        boolean divideByFourHundred = year % 400 ==0;\n        return divideByFour &amp;&amp; (!divideByHundred || divideByFourHundred);\n    }\n}\n</code></pre>\n<p>(You may even want to refactor further, separating the logical <code>isLeapYear()</code> into a different class to the methods with the textual interaction.)</p>\n<p>Then your JavaFX program only needs to interact with the logical part, as is natural. There is now no need to hack the standard input and standard output.</p>\n<pre><code>public class Controller {\n    \n    @FXML\n    private TextArea console;\n    @FXML\n    private TextField inputField;\n    \n\n    \n    //somehow get input to work with task.leapYearDialog()\n    public void runCommand(ActionEvent event) {\n\n        int year = Integer.parseInt(inputField.getText());\n        // I'm assuming you were using a background thread because this is a\n        // stand-in for a long-running process.\n        Task&lt;String&gt; leapYearTask = new Task&lt;&gt;() {\n            @Override\n            protected String call() throws Exception {\n                return LeapYearTask.leapYearDialog(year);\n            }\n        };\n        leapYearTask.setOnSucceeded(e -&gt; console.append(leapYearTask.getValue()));\n        new Thread(leapYearTask).start();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665140691,"post_id":73981973,"comment_id":130635423,"body_markdown":"what should I change in order to use this with a controller.java and fxml file? @Slaw","body":"what should I change in order to use this with a controller.java and fxml file? @Slaw"},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665144797,"post_id":73981973,"comment_id":130636885,"body_markdown":"or if there is a way to use it inside the main.java with fxml file could you show an example of it?  (didn&#39;t get the chance to edit the other comment and sorry if this is a stupid question but I had to ask so I can learn about this)@Slaw","body":"or if there is a way to use it inside the main.java with fxml file could you show an example of it?  (didn&#39;t get the chance to edit the other comment and sorry if this is a stupid question but I had to ask so I can learn about this)@Slaw"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1665155037,"post_id":73981973,"comment_id":130640608,"body_markdown":"Off the top of my head, essentially only the `wireInputAndOutput` method would need to be moved to the controller class (assuming the `TextArea` and `TextField` are injected into the controller). Then call it in the `initialize` method. I suggest studying the example to try and truly understand it. If you understand what is happening, then adapting it to your needs will be relatively trivial.","body":"Off the top of my head, essentially only the <code>wireInputAndOutput</code> method would need to be moved to the controller class (assuming the <code>TextArea</code> and <code>TextField</code> are injected into the controller). Then call it in the <code>initialize</code> method. I suggest studying the example to try and truly understand it. If you understand what is happening, then adapting it to your needs will be relatively trivial."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665159053,"post_id":73981973,"comment_id":130641974,"body_markdown":"check edit 4, I tried to just put the **wireInputAndOutput** into the controller and it didn&#39;t run. Then I tried also putting **startConsoleTask** inside controller and it didn&#39;t run, so what am I doing wrong? @Slaw","body":"check edit 4, I tried to just put the <b>wireInputAndOutput</b> into the controller and it didn&#39;t run. Then I tried also putting <b>startConsoleTask</b> inside controller and it didn&#39;t run, so what am I doing wrong? @Slaw"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665159361,"post_id":73981973,"comment_id":130642077,"body_markdown":"I assume you&#39;re getting a `NullPointerException`? Your `inputPane` field is not annotated with `@FXML`, so it won&#39;t be injected. On top of that, your `TextField` element in the FXML file you provided has `fx:id=&quot;inputField&quot;`. The name of the field and the value of the `fx:id` attribute must match exactly.","body":"I assume you&#39;re getting a <code>NullPointerException</code>? Your <code>inputPane</code> field is not annotated with <code>@FXML</code>, so it won&#39;t be injected. On top of that, your <code>TextField</code> element in the FXML file you provided has <code>fx:id=&quot;inputField&quot;</code>. The name of the field and the value of the <code>fx:id</code> attribute must match exactly."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665159851,"post_id":73981973,"comment_id":130642264,"body_markdown":"check the fxml file in edit 4...had forgoten to add it -.-&#39; @Slaw","body":"check the fxml file in edit 4...had forgoten to add it -.-&#39; @Slaw"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665160058,"post_id":73981973,"comment_id":130642337,"body_markdown":"Well, you still have the missing annotation problem. Also, it may be best to only have your _current_ code in the question—it&#39;s getting quite bloated. If someone wants to look at the old code, then they can look at the question&#39;s revision history.","body":"Well, you still have the missing annotation problem. Also, it may be best to only have your <i>current</i> code in the question—it&#39;s getting quite bloated. If someone wants to look at the old code, then they can look at the question&#39;s revision history."},{"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"score":0,"creation_date":1665160524,"post_id":73981973,"comment_id":130642482,"body_markdown":"what do you mean **missing annotation problem?** I don&#39;t understand what you mean, could you show me what I have to do? @Slaw","body":"what do you mean <b>missing annotation problem?</b> I don&#39;t understand what you mean, could you show me what I have to do? @Slaw"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665163149,"post_id":73981973,"comment_id":130643309,"body_markdown":"As I said, your `inputPane` field does not have an `@FXML` annotation. The `console` field does, but not the `inputPane` field.","body":"As I said, your <code>inputPane</code> field does not have an <code>@FXML</code> annotation. The <code>console</code> field does, but not the <code>inputPane</code> field."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665166390,"post_id":73981973,"comment_id":130644249,"body_markdown":"I see you found a solution. Looking at the older code, I think the problem was that you were manually assigning the `console` and `inputPane` fields in the `initialize` method. This replaces the instances that were injected by the `FXMLLoader`, which means it replaced the instances that were actually being displayed in the scene. So, your code was working, it just was updating the wrong `TextArea` instance and using the wrong `TextField` instance.","body":"I see you found a solution. Looking at the older code, I think the problem was that you were manually assigning the <code>console</code> and <code>inputPane</code> fields in the <code>initialize</code> method. This replaces the instances that were injected by the <code>FXMLLoader</code>, which means it replaced the instances that were actually being displayed in the scene. So, your code was working, it just was updating the wrong <code>TextArea</code> instance and using the wrong <code>TextField</code> instance."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667190582,"creation_date":1665112069,"answer_id":73981973,"question_id":73977336,"body_markdown":"_**Preface:** Given your &quot;console application&quot; doesn&#39;t involve forking any processes or performing any &quot;actual&quot; I/O, you may want to redesign your application to use the `TextField` and `TextArea` directly, or at least more directly than you&#39;re currently trying to do. Using `System.out` and `System.in` adds a layer of unnecessary indirection and makes everything more complex. Also, redirecting standard out and standard in affects the whole process, which may not be desirable._\r\n\r\n---\r\n\r\n# General Idea\r\n\r\nReading characters from standard in and writing characters to standard out will involve decoding and encoding those characters. You&#39;ll want to use classes which already implement this for you, such as `BufferedReader` and `BufferedWriter`. And since you essentially want to communicate between threads via streams, you can have the underlying streams be instances of `PipedInputStream` and `PipedOutputStream`.\r\n\r\nAlso, since most console-based applications can print prompting text without a new line at the end, you have to &quot;read from&quot; standard out by reading each individual character rather than line-by-line. This could involve a lot of calls to `Platform#runLater(Runnable)`, potentially overwhelming the FX thread, which means you should probably buffer this output.\r\n\r\nThe example below shows a _proof-of-concept_ for this. It uses UTF-8 for the character encoding. There&#39;s a GIF of the example code running at the end of this answer.\r\n\r\nHere&#39;s a brief overview of the classes:\r\n\r\n| Class                      | Description                                  |\r\n|----------------------------|----------------------------------------------|\r\n| `Main`                     | The JavaFX application class. Creates the UI and otherwise initializes and starts the application.               |\r\n| `StreamWriter`             | Responsible for writing the user&#39;s input so that it can later be read by `System.in`. Also provides the code for redirecting `System.in` so that ultimately the input can come from a `TextField`. |\r\n| `StreamReader`             | Responsible for reading the output from `System.out` character-by-character. Also provides the code for redirecting `System.out` so that ultimately it can be appended to a `TextArea`. |\r\n| `BufferedTextAreaAppender` | Responsible for taking the stream of characters from `StreamReader` and appending them to the `TextArea` in batches. |\r\n| `ConsoleTask`              | The &quot;console application&quot;. Uses `System.in` and `System.out` to interact with the user.\r\n\r\n---\r\n\r\n# Example\r\n\r\nNote that I have the `TextArea` set up to automatically scroll to the end when the text changes. Unfortunately, this doesn&#39;t seem to work the first time text goes &quot;off the screen&quot;. But after that first time it seems to work.\r\n\r\n**Main.java**\r\n\r\n```lang-java\r\nimport java.io.IOException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.Priority;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private final ExecutorService threadPool = Executors.newFixedThreadPool(3, r -&gt; {\r\n        var t = new Thread(r);\r\n        t.setDaemon(true);\r\n        return t;\r\n    });\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        var textField = new TextField();\r\n        textField.setFont(Font.font(&quot;Monospaced&quot;, 13));\r\n\r\n        var textArea = new TextArea();\r\n        textArea.setFont(textField.getFont());\r\n        textArea.setEditable(false);\r\n        textArea.setFocusTraversable(false);\r\n        textArea.textProperty().addListener(obs -&gt; textArea.end());\r\n\r\n        var root = new VBox(10, textArea, textField);\r\n        root.setPadding(new Insets(10));\r\n        VBox.setVgrow(textArea, Priority.ALWAYS);\r\n\r\n        primaryStage.setScene(new Scene(root, 600, 400));\r\n        textField.requestFocus();\r\n\r\n        primaryStage.setTitle(&quot;Console App&quot;);\r\n        primaryStage.show();\r\n\r\n        wireInputAndOutput(textField, textArea);\r\n        startConsoleTask();\r\n    }\r\n\r\n    private void wireInputAndOutput(TextField input, TextArea output) throws IOException {\r\n        var inputConsumer = StreamWriter.redirectStandardIn(threadPool);\r\n        StreamReader.redirectStandardOut(new BufferedTextAreaAppender(output), threadPool);\r\n\r\n        input.setOnAction(e -&gt; {\r\n            e.consume();\r\n            var text = input.textProperty().getValueSafe() + &quot;\\n&quot;;\r\n            output.appendText(text);\r\n            inputConsumer.accept(text);\r\n            input.clear();\r\n        });\r\n    }\r\n\r\n    private void startConsoleTask() {\r\n        threadPool.execute(new ConsoleTask(Platform::exit));\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        threadPool.shutdownNow();\r\n    }\r\n}\r\n```\r\n\r\n**BufferedTextAreaAppender.java**\r\n\r\n```lang-java\r\nimport java.util.function.IntConsumer;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.control.TextArea;\r\n\r\nclass BufferedTextAreaAppender implements IntConsumer {\r\n\r\n    private final StringBuilder buffer = new StringBuilder();\r\n    private final TextArea textArea;\r\n    private boolean runLater = true;\r\n\r\n    BufferedTextAreaAppender(TextArea textArea) {\r\n        this.textArea = textArea;\r\n    }\r\n\r\n    @Override\r\n    public void accept(int characterCodePoint) {\r\n        synchronized (buffer) {\r\n            buffer.append((char) characterCodePoint);\r\n            if (runLater) {\r\n                runLater = false;\r\n                Platform.runLater(this::appendToTextArea);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void appendToTextArea() {\r\n        synchronized (buffer) {\r\n            textArea.appendText(buffer.toString());\r\n            buffer.delete(0, buffer.length());\r\n            runLater = true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**StreamReader.java** (could probably use a better name)\r\n\r\n```lang-java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.InterruptedIOException;\r\nimport java.io.PipedInputStream;\r\nimport java.io.PipedOutputStream;\r\nimport java.io.PrintStream;\r\nimport java.io.UncheckedIOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.function.IntConsumer;\r\n\r\nclass StreamReader implements Runnable {\r\n\r\n    static void redirectStandardOut(IntConsumer onNextCharacter, Executor executor) throws IOException {\r\n        var out = new PipedOutputStream();\r\n        System.setOut(new PrintStream(out, true, StandardCharsets.UTF_8));\r\n\r\n        var reader = new StreamReader(new PipedInputStream(out), onNextCharacter);\r\n        executor.execute(reader);\r\n    }\r\n\r\n    private final BufferedReader reader;\r\n    private final IntConsumer onNextCharacter;\r\n\r\n    StreamReader(InputStream stream, IntConsumer onNextCharacter) {\r\n        this.reader = new BufferedReader(new InputStreamReader(stream, StandardCharsets.UTF_8));\r\n        this.onNextCharacter = onNextCharacter;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try (reader) {\r\n            int charAsInt;\r\n            while (!Thread.interrupted() &amp;&amp; (charAsInt = reader.read()) != -1) {\r\n                onNextCharacter.accept(charAsInt);\r\n            }\r\n        } catch (InterruptedIOException ignore) {\r\n        } catch (IOException ioe) {\r\n            throw new UncheckedIOException(ioe);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**StreamWriter.java** (could probably use a better name)\r\n\r\n```lang-java\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InterruptedIOException;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PipedInputStream;\r\nimport java.io.PipedOutputStream;\r\nimport java.io.UncheckedIOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.function.Consumer;\r\n\r\nclass StreamWriter implements Runnable {\r\n\r\n    static Consumer&lt;CharSequence&gt; redirectStandardIn(Executor executor) throws IOException {\r\n        var in = new PipedInputStream();\r\n        System.setIn(in);\r\n\r\n        var queue = new ArrayBlockingQueue&lt;CharSequence&gt;(500);\r\n        var writer = new StreamWriter(new PipedOutputStream(in), queue);\r\n        executor.execute(writer);\r\n\r\n        return queue::add;\r\n    }\r\n\r\n    private final BufferedWriter writer;\r\n    private final BlockingQueue&lt;? extends CharSequence&gt; lineQueue;\r\n\r\n    StreamWriter(OutputStream out, BlockingQueue&lt;? extends CharSequence&gt; lineQueue) {\r\n        this.writer = new BufferedWriter(new OutputStreamWriter(out, StandardCharsets.UTF_8));\r\n        this.lineQueue = lineQueue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try (writer) {\r\n            while (!Thread.interrupted()) {\r\n                writer.append(lineQueue.take());\r\n                writer.flush();\r\n            }\r\n        } catch (InterruptedIOException | InterruptedException ignore) {\r\n        } catch (IOException ioe) {\r\n            throw new UncheckedIOException(ioe);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**ConsoleTask.java**\r\n\r\n```lang-java\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\nclass ConsoleTask implements Runnable {\r\n\r\n    private final Scanner scanner = new Scanner(System.in);\r\n    private final Runnable onExit;\r\n\r\n    ConsoleTask(Runnable onExit) {\r\n        this.onExit = onExit;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;WELCOME TO CONSOLE APP!&quot;);\r\n\r\n        boolean running = true;\r\n        while (running &amp;&amp; !Thread.interrupted()) {\r\n            printOptions();\r\n\r\n            int choice = readInt(&quot;Choose option: &quot;, 1, 3);\r\n            switch (choice) {\r\n                case 1 -&gt; doCheckIfLeapYear();\r\n                case 2 -&gt; doCheckIfPrime();\r\n                case 3 -&gt; running = false;\r\n                default -&gt; System.out.println(&quot;Unknown option!&quot;);\r\n            }\r\n        }\r\n\r\n        onExit.run();\r\n    }\r\n\r\n    private void printOptions() {\r\n        System.out.println();\r\n        System.out.println(&quot;Options&quot;);\r\n        System.out.println(&quot;-------&quot;);\r\n        System.out.println(&quot;  1) Test Leap Year&quot;);\r\n        System.out.println(&quot;  2) Test Prime&quot;);\r\n        System.out.println(&quot;  3) Exit&quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    private int readInt(String prompt, int min, int max) {\r\n        while (true) {\r\n            System.out.print(prompt);\r\n\r\n            try {\r\n                int i = Integer.parseInt(scanner.nextLine());\r\n                if (i &gt;= min &amp;&amp; i &lt;= max) {\r\n                    return i;\r\n                }\r\n            } catch (NumberFormatException | NoSuchElementException ignored) {\r\n            }\r\n            System.out.printf(&quot;Please enter an integer between [%,d, %,d]%n&quot;, min, max);\r\n        }\r\n    }\r\n\r\n    private void doCheckIfLeapYear() {\r\n        System.out.println();\r\n        int year = readInt(&quot;Enter year: &quot;, 0, 1_000_000);\r\n        if (year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0)) {\r\n            System.out.printf(&quot;The year %d is a leap year.%n&quot;, year);\r\n        } else {\r\n            System.out.printf(&quot;The year %d is NOT a leap year.%n&quot;, year);\r\n        }\r\n    }\r\n\r\n    private void doCheckIfPrime() {\r\n        System.out.println();\r\n        int number = readInt(&quot;Enter an integer: &quot;, 1, Integer.MAX_VALUE);\r\n\r\n        boolean isPrime = true;\r\n        for (int i = 2; i &lt;= (int) Math.sqrt(number); i++) {\r\n            if (number % i == 0) {\r\n                isPrime = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isPrime) {\r\n            System.out.printf(&quot;The number %,d is prime.%n&quot;, number);\r\n        } else {\r\n            System.out.printf(&quot;The number %,d is NOT prime.%n&quot;, number);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## GIF of Example\r\n\r\n[![GIF image of example code running][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeNyX.gif","title":"how to redirect system input to javaFX textfield?","body":"<p><em><strong>Preface:</strong> Given your &quot;console application&quot; doesn't involve forking any processes or performing any &quot;actual&quot; I/O, you may want to redesign your application to use the <code>TextField</code> and <code>TextArea</code> directly, or at least more directly than you're currently trying to do. Using <code>System.out</code> and <code>System.in</code> adds a layer of unnecessary indirection and makes everything more complex. Also, redirecting standard out and standard in affects the whole process, which may not be desirable.</em></p>\n<hr />\n<h1>General Idea</h1>\n<p>Reading characters from standard in and writing characters to standard out will involve decoding and encoding those characters. You'll want to use classes which already implement this for you, such as <code>BufferedReader</code> and <code>BufferedWriter</code>. And since you essentially want to communicate between threads via streams, you can have the underlying streams be instances of <code>PipedInputStream</code> and <code>PipedOutputStream</code>.</p>\n<p>Also, since most console-based applications can print prompting text without a new line at the end, you have to &quot;read from&quot; standard out by reading each individual character rather than line-by-line. This could involve a lot of calls to <code>Platform#runLater(Runnable)</code>, potentially overwhelming the FX thread, which means you should probably buffer this output.</p>\n<p>The example below shows a <em>proof-of-concept</em> for this. It uses UTF-8 for the character encoding. There's a GIF of the example code running at the end of this answer.</p>\n<p>Here's a brief overview of the classes:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Class</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Main</code></td>\n<td>The JavaFX application class. Creates the UI and otherwise initializes and starts the application.</td>\n</tr>\n<tr>\n<td><code>StreamWriter</code></td>\n<td>Responsible for writing the user's input so that it can later be read by <code>System.in</code>. Also provides the code for redirecting <code>System.in</code> so that ultimately the input can come from a <code>TextField</code>.</td>\n</tr>\n<tr>\n<td><code>StreamReader</code></td>\n<td>Responsible for reading the output from <code>System.out</code> character-by-character. Also provides the code for redirecting <code>System.out</code> so that ultimately it can be appended to a <code>TextArea</code>.</td>\n</tr>\n<tr>\n<td><code>BufferedTextAreaAppender</code></td>\n<td>Responsible for taking the stream of characters from <code>StreamReader</code> and appending them to the <code>TextArea</code> in batches.</td>\n</tr>\n<tr>\n<td><code>ConsoleTask</code></td>\n<td>The &quot;console application&quot;. Uses <code>System.in</code> and <code>System.out</code> to interact with the user.</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<h1>Example</h1>\n<p>Note that I have the <code>TextArea</code> set up to automatically scroll to the end when the text changes. Unfortunately, this doesn't seem to work the first time text goes &quot;off the screen&quot;. But after that first time it seems to work.</p>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private final ExecutorService threadPool = Executors.newFixedThreadPool(3, r -&gt; {\n        var t = new Thread(r);\n        t.setDaemon(true);\n        return t;\n    });\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        var textField = new TextField();\n        textField.setFont(Font.font(&quot;Monospaced&quot;, 13));\n\n        var textArea = new TextArea();\n        textArea.setFont(textField.getFont());\n        textArea.setEditable(false);\n        textArea.setFocusTraversable(false);\n        textArea.textProperty().addListener(obs -&gt; textArea.end());\n\n        var root = new VBox(10, textArea, textField);\n        root.setPadding(new Insets(10));\n        VBox.setVgrow(textArea, Priority.ALWAYS);\n\n        primaryStage.setScene(new Scene(root, 600, 400));\n        textField.requestFocus();\n\n        primaryStage.setTitle(&quot;Console App&quot;);\n        primaryStage.show();\n\n        wireInputAndOutput(textField, textArea);\n        startConsoleTask();\n    }\n\n    private void wireInputAndOutput(TextField input, TextArea output) throws IOException {\n        var inputConsumer = StreamWriter.redirectStandardIn(threadPool);\n        StreamReader.redirectStandardOut(new BufferedTextAreaAppender(output), threadPool);\n\n        input.setOnAction(e -&gt; {\n            e.consume();\n            var text = input.textProperty().getValueSafe() + &quot;\\n&quot;;\n            output.appendText(text);\n            inputConsumer.accept(text);\n            input.clear();\n        });\n    }\n\n    private void startConsoleTask() {\n        threadPool.execute(new ConsoleTask(Platform::exit));\n    }\n\n    @Override\n    public void stop() {\n        threadPool.shutdownNow();\n    }\n}\n</code></pre>\n<p><strong>BufferedTextAreaAppender.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.IntConsumer;\nimport javafx.application.Platform;\nimport javafx.scene.control.TextArea;\n\nclass BufferedTextAreaAppender implements IntConsumer {\n\n    private final StringBuilder buffer = new StringBuilder();\n    private final TextArea textArea;\n    private boolean runLater = true;\n\n    BufferedTextAreaAppender(TextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    @Override\n    public void accept(int characterCodePoint) {\n        synchronized (buffer) {\n            buffer.append((char) characterCodePoint);\n            if (runLater) {\n                runLater = false;\n                Platform.runLater(this::appendToTextArea);\n            }\n        }\n    }\n\n    private void appendToTextArea() {\n        synchronized (buffer) {\n            textArea.appendText(buffer.toString());\n            buffer.delete(0, buffer.length());\n            runLater = true;\n        }\n    }\n}\n</code></pre>\n<p><strong>StreamReader.java</strong> (could probably use a better name)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.InterruptedIOException;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.PrintStream;\nimport java.io.UncheckedIOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.concurrent.Executor;\nimport java.util.function.IntConsumer;\n\nclass StreamReader implements Runnable {\n\n    static void redirectStandardOut(IntConsumer onNextCharacter, Executor executor) throws IOException {\n        var out = new PipedOutputStream();\n        System.setOut(new PrintStream(out, true, StandardCharsets.UTF_8));\n\n        var reader = new StreamReader(new PipedInputStream(out), onNextCharacter);\n        executor.execute(reader);\n    }\n\n    private final BufferedReader reader;\n    private final IntConsumer onNextCharacter;\n\n    StreamReader(InputStream stream, IntConsumer onNextCharacter) {\n        this.reader = new BufferedReader(new InputStreamReader(stream, StandardCharsets.UTF_8));\n        this.onNextCharacter = onNextCharacter;\n    }\n\n    @Override\n    public void run() {\n        try (reader) {\n            int charAsInt;\n            while (!Thread.interrupted() &amp;&amp; (charAsInt = reader.read()) != -1) {\n                onNextCharacter.accept(charAsInt);\n            }\n        } catch (InterruptedIOException ignore) {\n        } catch (IOException ioe) {\n            throw new UncheckedIOException(ioe);\n        }\n    }\n}\n</code></pre>\n<p><strong>StreamWriter.java</strong> (could probably use a better name)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InterruptedIOException;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.UncheckedIOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.Executor;\nimport java.util.function.Consumer;\n\nclass StreamWriter implements Runnable {\n\n    static Consumer&lt;CharSequence&gt; redirectStandardIn(Executor executor) throws IOException {\n        var in = new PipedInputStream();\n        System.setIn(in);\n\n        var queue = new ArrayBlockingQueue&lt;CharSequence&gt;(500);\n        var writer = new StreamWriter(new PipedOutputStream(in), queue);\n        executor.execute(writer);\n\n        return queue::add;\n    }\n\n    private final BufferedWriter writer;\n    private final BlockingQueue&lt;? extends CharSequence&gt; lineQueue;\n\n    StreamWriter(OutputStream out, BlockingQueue&lt;? extends CharSequence&gt; lineQueue) {\n        this.writer = new BufferedWriter(new OutputStreamWriter(out, StandardCharsets.UTF_8));\n        this.lineQueue = lineQueue;\n    }\n\n    @Override\n    public void run() {\n        try (writer) {\n            while (!Thread.interrupted()) {\n                writer.append(lineQueue.take());\n                writer.flush();\n            }\n        } catch (InterruptedIOException | InterruptedException ignore) {\n        } catch (IOException ioe) {\n            throw new UncheckedIOException(ioe);\n        }\n    }\n}\n</code></pre>\n<p><strong>ConsoleTask.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport java.util.NoSuchElementException;\nimport java.util.Scanner;\n\nclass ConsoleTask implements Runnable {\n\n    private final Scanner scanner = new Scanner(System.in);\n    private final Runnable onExit;\n\n    ConsoleTask(Runnable onExit) {\n        this.onExit = onExit;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;WELCOME TO CONSOLE APP!&quot;);\n\n        boolean running = true;\n        while (running &amp;&amp; !Thread.interrupted()) {\n            printOptions();\n\n            int choice = readInt(&quot;Choose option: &quot;, 1, 3);\n            switch (choice) {\n                case 1 -&gt; doCheckIfLeapYear();\n                case 2 -&gt; doCheckIfPrime();\n                case 3 -&gt; running = false;\n                default -&gt; System.out.println(&quot;Unknown option!&quot;);\n            }\n        }\n\n        onExit.run();\n    }\n\n    private void printOptions() {\n        System.out.println();\n        System.out.println(&quot;Options&quot;);\n        System.out.println(&quot;-------&quot;);\n        System.out.println(&quot;  1) Test Leap Year&quot;);\n        System.out.println(&quot;  2) Test Prime&quot;);\n        System.out.println(&quot;  3) Exit&quot;);\n        System.out.println();\n    }\n\n    private int readInt(String prompt, int min, int max) {\n        while (true) {\n            System.out.print(prompt);\n\n            try {\n                int i = Integer.parseInt(scanner.nextLine());\n                if (i &gt;= min &amp;&amp; i &lt;= max) {\n                    return i;\n                }\n            } catch (NumberFormatException | NoSuchElementException ignored) {\n            }\n            System.out.printf(&quot;Please enter an integer between [%,d, %,d]%n&quot;, min, max);\n        }\n    }\n\n    private void doCheckIfLeapYear() {\n        System.out.println();\n        int year = readInt(&quot;Enter year: &quot;, 0, 1_000_000);\n        if (year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0)) {\n            System.out.printf(&quot;The year %d is a leap year.%n&quot;, year);\n        } else {\n            System.out.printf(&quot;The year %d is NOT a leap year.%n&quot;, year);\n        }\n    }\n\n    private void doCheckIfPrime() {\n        System.out.println();\n        int number = readInt(&quot;Enter an integer: &quot;, 1, Integer.MAX_VALUE);\n\n        boolean isPrime = true;\n        for (int i = 2; i &lt;= (int) Math.sqrt(number); i++) {\n            if (number % i == 0) {\n                isPrime = false;\n                break;\n            }\n        }\n\n        if (isPrime) {\n            System.out.printf(&quot;The number %,d is prime.%n&quot;, number);\n        } else {\n            System.out.printf(&quot;The number %,d is NOT prime.%n&quot;, number);\n        }\n    }\n}\n</code></pre>\n<h2>GIF of Example</h2>\n<p><a href=\"https://i.stack.imgur.com/VeNyX.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeNyX.gif\" alt=\"GIF image of example code running\" /></a></p>\n"}],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73981973,"answer_count":2,"score":-3,"last_activity_date":1667190582,"creation_date":1665074578,"question_id":73977336,"body_markdown":"**SOLUTION FOUND**\r\n\r\nThis code works with fxml.files and **rest of the code I used was from Slaws&#39;s answer.**\r\n\r\nMain.java:\r\n\r\n```\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    final static ExecutorService threadPool = Executors.newFixedThreadPool(3, r -&gt; {\r\n        var t = new Thread(r);\r\n        t.setDaemon(true);\r\n        return t;\r\n    });\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainScreen.fxml&quot;));\r\n        String css = this.getClass().getResource(&quot;style.css&quot;).toExternalForm();\r\n        Scene scene = new Scene(root);\r\n        scene.getStylesheets().add(css);\r\n        stage.setMinHeight(800);\r\n        stage.setMinWidth(1200);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        threadPool.shutdownNow();\r\n    }\r\n}\r\n```\r\n\r\n\r\nController.java\r\n\r\n```\r\nimport java.io.IOException;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.text.Font;\r\nimport javafx.application.Platform;\r\n\r\npublic class Controller {\r\n    \r\n    @FXML\r\n    private TextArea console;\r\n    @FXML\r\n    private TextField inputPane;\r\n    \r\n    public void initialize() throws IOException{\r\n\r\n        wireInputAndOutput(inputPane, console);\r\n        startConsoleTask();\r\n\r\n    }\r\n\r\n    static void wireInputAndOutput(TextField input, TextArea output) throws IOException {\r\n        var inputConsumer = StreamWriter.redirectStandardIn(Main.threadPool);\r\n        StreamReader.redirectStandardOut(new BufferedTextAreaAppender(output), Main.threadPool);\r\n\r\n        input.setOnAction(e -&gt; {\r\n            e.consume();\r\n            var text = input.textProperty().getValueSafe() + &quot;\\n&quot;;\r\n            output.appendText(text);\r\n            inputConsumer.accept(text);\r\n            input.clear();\r\n        });\r\n    }\r\n    private void startConsoleTask() {\r\n        Main.threadPool.execute(new ConsoleTask(Platform::exit));\r\n    }\r\n}\r\n```\r\n\r\n--------------\r\n--------------\r\n\r\n\r\n**Edit 2**\r\n\r\nthe problem now is that the ConsoleTask doesn&#39;t run when I put it inside controller.java (this is the problem atm.).\r\nIt worked when I copy/pasted Slaw&#39;s main.java but I wanted to use fxml file so I tried this and it doesn&#39;t work anymore.\r\n\r\ntest.fxml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.TextArea?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n\r\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;800.0&quot; style=&quot;-fx-background-color: white;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextArea fx:id=&quot;console&quot; editable=&quot;false&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/TextArea&gt;\r\n      &lt;TextField fx:id=&quot;inputPane&quot; prefHeight=&quot;40.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n   &lt;/children&gt;\r\n   &lt;padding&gt;\r\n      &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n   &lt;/padding&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n\r\nConsoleTask.java:\r\n\r\n```\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\nclass ConsoleTask implements Runnable {\r\n\r\n    private final static Scanner scanner = new Scanner(System.in);\r\n    private final Runnable onExit;\r\n\r\n    ConsoleTask(Runnable onExit) {\r\n        this.onExit = onExit;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;WELCOME TO CONSOLE APP!&quot;);\r\n\r\n        boolean running = true;\r\n        while (running &amp;&amp; !Thread.interrupted()) {\r\n            printOptions();\r\n\r\n            int choice = readInt(&quot;Choose option: &quot;, 1, 20);\r\n            switch (choice) {\r\n                case 1 -&gt; doCheckIfLeapYear();\r\n                case 2 -&gt; doCheckIfPrime();\r\n                case 3 -&gt; doPrintStringBackwards();\r\n                case 20 -&gt; running = false;\r\n                default -&gt; System.out.println(&quot;Unknown option!&quot;);\r\n            }\r\n            \r\n            System.out.println(&quot;\\nPlease wait...&quot;);\r\n            wait(6000);\r\n        }\r\n        \r\n        onExit.run();\r\n    }\r\n\r\n    private void printOptions() {\r\n        System.out.println();\r\n        System.out.println(&quot;Options&quot;);\r\n        System.out.println(&quot;-------&quot;);\r\n        System.out.println(&quot;  1) Test Leap Year&quot;);\r\n        System.out.println(&quot;  2) Test Prime&quot;);\r\n        System.out.println(&quot;  3) Print String backwards&quot;);\r\n        System.out.println(&quot;  20) Exit&quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    private int readInt(String prompt, int min, int max) {\r\n        while (true) {\r\n            System.out.print(prompt);\r\n\r\n            try {\r\n                int i = Integer.parseInt(scanner.nextLine());\r\n                if (i &gt;= min &amp;&amp; i &lt;= max) {\r\n                    return i;\r\n                }\r\n            } catch (NumberFormatException | NoSuchElementException ignored) {\r\n            }\r\n            System.out.printf(&quot;Please enter an integer between [%,d, %,d]%n&quot;, min, max);\r\n        }\r\n    }\r\n\r\n    private void doCheckIfLeapYear() {\r\n        System.out.println();\r\n        int year = readInt(&quot;Enter year: &quot;, 0, 1_000_000);\r\n        if (year % 4 == 0 || (year % 100 == 0 &amp;&amp; year % 400 != 0)) {\r\n            System.out.printf(&quot;The year %d is a leap year.%n&quot;, year);\r\n        } else {\r\n            System.out.printf(&quot;The year %d is NOT a leap year.%n&quot;, year);\r\n        }\r\n    }\r\n\r\n    private void doCheckIfPrime() {\r\n        System.out.println();\r\n        int limit = readInt(&quot;Enter an Integer: &quot;, 1, Integer.MAX_VALUE);\r\n\r\n        while (limit &lt;= 1){\r\n            System.out.print(&quot;Wrong number! the number should be higher or equal to 2: &quot;);\r\n            limit = scanner.nextInt();\r\n        }\r\n\r\n        if(isPrime(limit)){\r\n            System.out.println(limit+&quot; is a prime number.&quot;);\r\n        }else{\r\n            System.out.println(limit+&quot; is not a prime number.&quot;);\r\n        }\r\n    }\r\n    private static boolean isPrime(int n){\r\n        if(n &lt;= 1){\r\n            return false;\r\n        }\r\n        for(int i = 2; i &lt;= Math.sqrt(n); i++){\r\n            if(n % i == 0){\r\n            return false;\r\n            }\r\n        }\r\n        return true;   \r\n    }\r\n\r\n    private static void doPrintStringBackwards(){\r\n        System.out.println();\r\n        System.out.print(&quot;\\nEnter a word or a sentence: &quot;);\r\n        String answer = scanner.nextLine();\r\n\r\n        //StackOverflow version: (simple) \r\n        System.out.println(&quot;\\n&quot;+new StringBuilder(answer).reverse().toString());\r\n        \r\n        //Lecture version:\r\n        /*for (int i = answer.length()-1;i&gt;=0;i--){\r\n            System.out.print(answer.charAt(i));\r\n        }*/\r\n    }\r\n    private static void wait(int ms){\r\n        try {\r\n            Thread.sleep(ms);\r\n        }\r\n        catch(InterruptedException ex) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Edit 1**\r\n\r\nThe result I want to achieve with this is:\r\n\r\nto use the text field in the gui as an input to the java console program but I have no idea how to achieve that result.\r\n\r\n\r\n**Original**\r\n\r\nI&#39;m new to java/javaFX and I&#39;m trying to make a console gui app. The problem is that I can&#39;t find a way to redirect system.in to JavaFX text field. \r\n\r\nI have tried these solutions but I didn&#39;t get them working:\r\n\r\n[this][1] and [this][2].\r\n\r\npictures of some of the code:\r\n\r\n[the methods][3] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41267435/how-can-i-redirect-system-in-to-javafx-textfield\r\n  [2]: https://stackoverflow.com/questions/16381826/java-redirecting-system-in-inputstream-read-called-but-nothing-returned\r\n  [3]: https://i.stack.imgur.com/tkwjs.png","title":"how to redirect system input to javaFX textfield?","body":"<p><strong>SOLUTION FOUND</strong></p>\n<p>This code works with fxml.files and <strong>rest of the code I used was from Slaws's answer.</strong></p>\n<p>Main.java:</p>\n<pre><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    final static ExecutorService threadPool = Executors.newFixedThreadPool(3, r -&gt; {\n        var t = new Thread(r);\n        t.setDaemon(true);\n        return t;\n    });\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainScreen.fxml&quot;));\n        String css = this.getClass().getResource(&quot;style.css&quot;).toExternalForm();\n        Scene scene = new Scene(root);\n        scene.getStylesheets().add(css);\n        stage.setMinHeight(800);\n        stage.setMinWidth(1200);\n        stage.setScene(scene);\n        stage.show();\n        \n    }\n\n    @Override\n    public void stop() {\n        threadPool.shutdownNow();\n    }\n}\n</code></pre>\n<p>Controller.java</p>\n<pre><code>import java.io.IOException;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.text.Font;\nimport javafx.application.Platform;\n\npublic class Controller {\n    \n    @FXML\n    private TextArea console;\n    @FXML\n    private TextField inputPane;\n    \n    public void initialize() throws IOException{\n\n        wireInputAndOutput(inputPane, console);\n        startConsoleTask();\n\n    }\n\n    static void wireInputAndOutput(TextField input, TextArea output) throws IOException {\n        var inputConsumer = StreamWriter.redirectStandardIn(Main.threadPool);\n        StreamReader.redirectStandardOut(new BufferedTextAreaAppender(output), Main.threadPool);\n\n        input.setOnAction(e -&gt; {\n            e.consume();\n            var text = input.textProperty().getValueSafe() + &quot;\\n&quot;;\n            output.appendText(text);\n            inputConsumer.accept(text);\n            input.clear();\n        });\n    }\n    private void startConsoleTask() {\n        Main.threadPool.execute(new ConsoleTask(Platform::exit));\n    }\n}\n</code></pre>\n<hr />\n<hr />\n<p><strong>Edit 2</strong></p>\n<p>the problem now is that the ConsoleTask doesn't run when I put it inside controller.java (this is the problem atm.).\nIt worked when I copy/pasted Slaw's main.java but I wanted to use fxml file so I tried this and it doesn't work anymore.</p>\n<p>test.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n\n&lt;VBox maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;800.0&quot; style=&quot;-fx-background-color: white;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;TextArea fx:id=&quot;console&quot; editable=&quot;false&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets bottom=&quot;20.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/TextArea&gt;\n      &lt;TextField fx:id=&quot;inputPane&quot; prefHeight=&quot;40.0&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\n   &lt;/children&gt;\n   &lt;padding&gt;\n      &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n   &lt;/padding&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>ConsoleTask.java:</p>\n<pre><code>import java.util.NoSuchElementException;\nimport java.util.Scanner;\n\nclass ConsoleTask implements Runnable {\n\n    private final static Scanner scanner = new Scanner(System.in);\n    private final Runnable onExit;\n\n    ConsoleTask(Runnable onExit) {\n        this.onExit = onExit;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;WELCOME TO CONSOLE APP!&quot;);\n\n        boolean running = true;\n        while (running &amp;&amp; !Thread.interrupted()) {\n            printOptions();\n\n            int choice = readInt(&quot;Choose option: &quot;, 1, 20);\n            switch (choice) {\n                case 1 -&gt; doCheckIfLeapYear();\n                case 2 -&gt; doCheckIfPrime();\n                case 3 -&gt; doPrintStringBackwards();\n                case 20 -&gt; running = false;\n                default -&gt; System.out.println(&quot;Unknown option!&quot;);\n            }\n            \n            System.out.println(&quot;\\nPlease wait...&quot;);\n            wait(6000);\n        }\n        \n        onExit.run();\n    }\n\n    private void printOptions() {\n        System.out.println();\n        System.out.println(&quot;Options&quot;);\n        System.out.println(&quot;-------&quot;);\n        System.out.println(&quot;  1) Test Leap Year&quot;);\n        System.out.println(&quot;  2) Test Prime&quot;);\n        System.out.println(&quot;  3) Print String backwards&quot;);\n        System.out.println(&quot;  20) Exit&quot;);\n        System.out.println();\n    }\n\n    private int readInt(String prompt, int min, int max) {\n        while (true) {\n            System.out.print(prompt);\n\n            try {\n                int i = Integer.parseInt(scanner.nextLine());\n                if (i &gt;= min &amp;&amp; i &lt;= max) {\n                    return i;\n                }\n            } catch (NumberFormatException | NoSuchElementException ignored) {\n            }\n            System.out.printf(&quot;Please enter an integer between [%,d, %,d]%n&quot;, min, max);\n        }\n    }\n\n    private void doCheckIfLeapYear() {\n        System.out.println();\n        int year = readInt(&quot;Enter year: &quot;, 0, 1_000_000);\n        if (year % 4 == 0 || (year % 100 == 0 &amp;&amp; year % 400 != 0)) {\n            System.out.printf(&quot;The year %d is a leap year.%n&quot;, year);\n        } else {\n            System.out.printf(&quot;The year %d is NOT a leap year.%n&quot;, year);\n        }\n    }\n\n    private void doCheckIfPrime() {\n        System.out.println();\n        int limit = readInt(&quot;Enter an Integer: &quot;, 1, Integer.MAX_VALUE);\n\n        while (limit &lt;= 1){\n            System.out.print(&quot;Wrong number! the number should be higher or equal to 2: &quot;);\n            limit = scanner.nextInt();\n        }\n\n        if(isPrime(limit)){\n            System.out.println(limit+&quot; is a prime number.&quot;);\n        }else{\n            System.out.println(limit+&quot; is not a prime number.&quot;);\n        }\n    }\n    private static boolean isPrime(int n){\n        if(n &lt;= 1){\n            return false;\n        }\n        for(int i = 2; i &lt;= Math.sqrt(n); i++){\n            if(n % i == 0){\n            return false;\n            }\n        }\n        return true;   \n    }\n\n    private static void doPrintStringBackwards(){\n        System.out.println();\n        System.out.print(&quot;\\nEnter a word or a sentence: &quot;);\n        String answer = scanner.nextLine();\n\n        //StackOverflow version: (simple) \n        System.out.println(&quot;\\n&quot;+new StringBuilder(answer).reverse().toString());\n        \n        //Lecture version:\n        /*for (int i = answer.length()-1;i&gt;=0;i--){\n            System.out.print(answer.charAt(i));\n        }*/\n    }\n    private static void wait(int ms){\n        try {\n            Thread.sleep(ms);\n        }\n        catch(InterruptedException ex) {\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p><strong>Edit 1</strong></p>\n<p>The result I want to achieve with this is:</p>\n<p>to use the text field in the gui as an input to the java console program but I have no idea how to achieve that result.</p>\n<p><strong>Original</strong></p>\n<p>I'm new to java/javaFX and I'm trying to make a console gui app. The problem is that I can't find a way to redirect system.in to JavaFX text field.</p>\n<p>I have tried these solutions but I didn't get them working:</p>\n<p><a href=\"https://stackoverflow.com/questions/41267435/how-can-i-redirect-system-in-to-javafx-textfield\">this</a> and <a href=\"https://stackoverflow.com/questions/16381826/java-redirecting-system-in-inputstream-read-called-but-nothing-returned\">this</a>.</p>\n<p>pictures of some of the code:</p>\n<p><a href=\"https://i.stack.imgur.com/tkwjs.png\" rel=\"nofollow noreferrer\">the methods</a></p>\n"},{"tags":["java","spring","filter"],"answers":[{"tags":[],"owner":{"account_id":19679999,"reputation":59,"user_id":14407322,"display_name":"Fahrul Putr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666929840,"creation_date":1666929840,"answer_id":74230549,"question_id":74230245,"body_markdown":"If you want to filter only url with path /api/**, you can extend your class CustomJwtAuthenticationFilter with class AbstractAuthenticationProcessingFilter. And you can skip url path with class RequestMatcher. For example.\r\n\r\n    class CustomJwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter{\r\n        public CustomJwtAuthenticationFilter(RequestMatcher matcher){\r\n            super(matcher);\r\n        }\r\n    }\r\n\r\nand for class RequestMatcher,\r\n\r\n    class SomeRequestMatcher implements RequestMatcher {\r\n        @Override\r\n         public boolean matches(HttpServletRequest request) {\r\n         OrRequestMatcher skipRequestMatcher = new OrRequestMatcher(List.of(&quot;/api/**&quot;).stream().map(p-&gt; new AntPathRequestMatcher(p))\r\n                .collect(Collectors.toList()));\r\n\r\n        if(skipRequestMatcher.matches(request))\r\n            return false;\r\n        return true;\r\n      }\r\n    }\r\n\r\n","title":"i want JWT filter for only specified url patterns (admin service urls) not for all urls in spring boot security","body":"<p>If you want to filter only url with path /api/**, you can extend your class CustomJwtAuthenticationFilter with class AbstractAuthenticationProcessingFilter. And you can skip url path with class RequestMatcher. For example.</p>\n<pre><code>class CustomJwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter{\n    public CustomJwtAuthenticationFilter(RequestMatcher matcher){\n        super(matcher);\n    }\n}\n</code></pre>\n<p>and for class RequestMatcher,</p>\n<pre><code>class SomeRequestMatcher implements RequestMatcher {\n    @Override\n     public boolean matches(HttpServletRequest request) {\n     OrRequestMatcher skipRequestMatcher = new OrRequestMatcher(List.of(&quot;/api/**&quot;).stream().map(p-&gt; new AntPathRequestMatcher(p))\n            .collect(Collectors.toList()));\n\n    if(skipRequestMatcher.matches(request))\n        return false;\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26755876,"reputation":1,"user_id":20354489,"display_name":"Đ&#236;nh Chiểu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667190039,"creation_date":1667190039,"answer_id":74258712,"question_id":74230245,"body_markdown":"I use this code in CustomFilterJWT.class and it&#39;s work.\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        String path = request.getServletPath();\r\n        return !path.startsWith(&quot;/api&quot;);\r\n    }\r\n`\r\n","title":"i want JWT filter for only specified url patterns (admin service urls) not for all urls in spring boot security","body":"<p>I use this code in CustomFilterJWT.class and it's work.</p>\n<pre><code>@Override\nprotected boolean shouldNotFilter(HttpServletRequest request) {\n    String path = request.getServletPath();\n    return !path.startsWith(&quot;/api&quot;);\n}\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":26755876,"reputation":1,"user_id":20354489,"display_name":"Đ&#236;nh Chiểu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667190039,"creation_date":1666926695,"question_id":74230245,"body_markdown":"i want filter endpoint urls starts with &quot;/api/**&quot; but customJwtAuthenticationFilter filter all url other.\r\n\r\n```\r\n@Override\r\npublic void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/users&quot;,&quot;/api/users&quot;).authenticated()\r\n            .anyRequest().permitAll()\r\n            .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and().exceptionHandling().accessDeniedPage(&quot;/403&quot;).authenticationEntryPoint(jwtAuthenticationEntryPoint).and().\r\n            formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .defaultSuccessUrl(&quot;/users&quot;)\r\n            .failureUrl(&quot;/login?error=true&quot;)\r\n            .permitAll()\r\n            .and()\r\n            .logout().logoutSuccessUrl(&quot;/&quot;).permitAll()\r\n          .and().addFilterBefore(customJwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n}\r\n```\r\n\r\nKindly help?\r\n\r\nThanks in Advance","title":"i want JWT filter for only specified url patterns (admin service urls) not for all urls in spring boot security","body":"<p>i want filter endpoint urls starts with &quot;/api/**&quot; but customJwtAuthenticationFilter filter all url other.</p>\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/users&quot;,&quot;/api/users&quot;).authenticated()\n            .anyRequest().permitAll()\n            .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and().exceptionHandling().accessDeniedPage(&quot;/403&quot;).authenticationEntryPoint(jwtAuthenticationEntryPoint).and().\n            formLogin()\n            .loginPage(&quot;/login&quot;)\n            .defaultSuccessUrl(&quot;/users&quot;)\n            .failureUrl(&quot;/login?error=true&quot;)\n            .permitAll()\n            .and()\n            .logout().logoutSuccessUrl(&quot;/&quot;).permitAll()\n          .and().addFilterBefore(customJwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n<p>Kindly help?</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","android-studio","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667189279,"creation_date":1667189232,"answer_id":74258645,"question_id":74176685,"body_markdown":"I solve this problem by set TabLayout IndicatorAnimationDuration 0, but i dont know the exactly problem with. Can someone explain for me? thanks.","title":"TabLayout indicator didn&#39;t change position when click tab","body":"<p>I solve this problem by set TabLayout IndicatorAnimationDuration 0, but i dont know the exactly problem with. Can someone explain for me? thanks.</p>\n"}],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74258645,"answer_count":1,"score":0,"last_activity_date":1667189279,"creation_date":1666585348,"question_id":74176685,"body_markdown":"In my another fragment has similar TabLayout and ViewPager2 architecture, but that fragment&#39;s TabLayout work normally.\r\nThis problem only occur when click tab, but swipe page at ViewPager2 the indicator work fine, and if I click tab then swipe to other page the indicator will work fine too.\r\nIs there any wrong with my code?\r\n\r\nTabLayout and ViewPager2 in xml:\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/mTabLayout&quot;\r\n            style=&quot;@style/MyTabStyle2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/light_gray_1&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:tabGravity=&quot;fill&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot;\r\n            tools:layout_height=&quot;50dp&quot;&gt;\r\n        &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n\r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/mViewPager&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@color/light_gray_1&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/mTabLayout&quot; /&gt;\r\n\r\nhere is fragment which put TabLayout and ViewPager2:\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        initAdapter();\r\n        initViewPager();\r\n        initTabLayout();\r\n    }\r\n    private void initAdapter() {\r\n        titlesList.add(getString(R.string.message_tab_multi));\r\n        titlesList.add(getString(R.string.message_tab_single));\r\n        titlesList.add(getString(R.string.message_tab_welcome));\r\n        productPagerAdapter = new MessagePager2Adapter(this);\r\n    }\r\n\r\n    public void initViewPager() {\r\n        mViewPager.setAdapter(productPagerAdapter);\r\n        mViewPager.setOffscreenPageLimit(titlesList.size());\r\n    }\r\n\r\n    public void initTabLayout() {\r\n        new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt;\r\n                tab.setText(titlesList.get(position))).attach();\r\n    }\r\n\r\n    private class MessagePager2Adapter extends FragmentStateAdapter {\r\n\r\n        public MessagePager2Adapter(@NonNull FragmentActivity fragmentActivity) {\r\n            super(fragmentActivity);\r\n        }\r\n\r\n        public MessagePager2Adapter(@NonNull Fragment fragment) {\r\n            super(fragment);\r\n        }\r\n\r\n        public MessagePager2Adapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n            super(fragmentManager, lifecycle);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position) {\r\n                default:\r\n                case TAB_MESSAGE_MULTI:\r\n                    return MessagePostMultiFragment.newInstance();\r\n                case TAB_MESSAGE_SINGLE:\r\n                    return MessagePostSingleFragment.newInstance();\r\n                case TAB_MESSAGE_WELCOME:\r\n                    return MessagePostWelcomeFragment.newInstance();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return titlesList.size();\r\n        }\r\n    }\r\n\r\nProblem image and video:\r\n[Click tab at position 1(click position 1 but indicator still at position 0)][1]\r\n[video][2]\r\n\r\nBelow is another fragment architecture:\r\n\r\nTabLayout and ViewPager2 in xml:\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/mTabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        style=&quot;@style/MyTabStyle&quot;\r\n        app:tabGravity=&quot;fill&quot;\r\n        android:background=&quot;@color/light_gray_2&quot;\r\n        tools:layout_height=&quot;50dp&quot;/&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/mViewPager&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;@color/light_gray_1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mTabLayout&quot; /&gt;\r\n\r\nfragment which put TabLayout and ViewPager2:\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        initAdapter();\r\n        initViewPager();\r\n        initTabLayout();\r\n\r\n    }\r\n\r\n    private void initAdapter() {\r\n        titlesList.add(getString(R.string.product_tab_product_search));\r\n        titlesList.add(getString(R.string.product_tab_product_serving));\r\n        pagerAdapter = new ProductPagerAdapter(this);\r\n    }\r\n\r\n    public void initViewPager() {\r\n        mViewPager.setAdapter(pagerAdapter);\r\n        mViewPager.setOffscreenPageLimit(titlesList.size());\r\n    }\r\n\r\n    public void initTabLayout() {\r\n        new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt;\r\n                tab.setText(titlesList.get(position))).attach();\r\n\r\n    }\r\n\r\n    public class ProductPagerAdapter extends FragmentStateAdapter {\r\n\r\n        public ProductPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n            super(fragmentActivity);\r\n        }\r\n\r\n        public ProductPagerAdapter(@NonNull Fragment fragment) {\r\n            super(fragment);\r\n        }\r\n\r\n        public ProductPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n            super(fragmentManager, lifecycle);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position) {\r\n                case TAB_PRODUCT_SEARCH:\r\n                    return ProductSearchFragment.newInstance();\r\n                case TAB_PRODUCT_SERVING:\r\n                    return ProductServingFragment.newInstance();\r\n                default:\r\n                    return ProductSearchFragment.newInstance();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return titlesList.size();\r\n        }\r\n    }\r\nUpdate:\r\nMy each fragment in ViewPager2 has recyclerView, and this situation only occur when recyclerView has item, if I set adapter getItemCount return 0, then the indicator work correctly, but return 1 or more, indicator will broken, even my TabLayout not attach with ViewPager2.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y9PzA.png\r\n  [2]: https://i.stack.imgur.com/rV8uQ.gif","title":"TabLayout indicator didn&#39;t change position when click tab","body":"<p>In my another fragment has similar TabLayout and ViewPager2 architecture, but that fragment's TabLayout work normally.\nThis problem only occur when click tab, but swipe page at ViewPager2 the indicator work fine, and if I click tab then swipe to other page the indicator will work fine too.\nIs there any wrong with my code?</p>\n<p>TabLayout and ViewPager2 in xml:</p>\n<pre><code>&lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/mTabLayout&quot;\n        style=&quot;@style/MyTabStyle2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/light_gray_1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:tabGravity=&quot;fill&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot;\n        tools:layout_height=&quot;50dp&quot;&gt;\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/mViewPager&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;@color/light_gray_1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/mTabLayout&quot; /&gt;\n</code></pre>\n<p>here is fragment which put TabLayout and ViewPager2:</p>\n<pre><code>@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    initAdapter();\n    initViewPager();\n    initTabLayout();\n}\nprivate void initAdapter() {\n    titlesList.add(getString(R.string.message_tab_multi));\n    titlesList.add(getString(R.string.message_tab_single));\n    titlesList.add(getString(R.string.message_tab_welcome));\n    productPagerAdapter = new MessagePager2Adapter(this);\n}\n\npublic void initViewPager() {\n    mViewPager.setAdapter(productPagerAdapter);\n    mViewPager.setOffscreenPageLimit(titlesList.size());\n}\n\npublic void initTabLayout() {\n    new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt;\n            tab.setText(titlesList.get(position))).attach();\n}\n\nprivate class MessagePager2Adapter extends FragmentStateAdapter {\n\n    public MessagePager2Adapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public MessagePager2Adapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public MessagePager2Adapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position) {\n            default:\n            case TAB_MESSAGE_MULTI:\n                return MessagePostMultiFragment.newInstance();\n            case TAB_MESSAGE_SINGLE:\n                return MessagePostSingleFragment.newInstance();\n            case TAB_MESSAGE_WELCOME:\n                return MessagePostWelcomeFragment.newInstance();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return titlesList.size();\n    }\n}\n</code></pre>\n<p>Problem image and video:\n<a href=\"https://i.stack.imgur.com/Y9PzA.png\" rel=\"nofollow noreferrer\">Click tab at position 1(click position 1 but indicator still at position 0)</a>\n<a href=\"https://i.stack.imgur.com/rV8uQ.gif\" rel=\"nofollow noreferrer\">video</a></p>\n<p>Below is another fragment architecture:</p>\n<p>TabLayout and ViewPager2 in xml:</p>\n<pre><code>&lt;com.google.android.material.tabs.TabLayout\n    android:id=&quot;@+id/mTabLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    style=&quot;@style/MyTabStyle&quot;\n    app:tabGravity=&quot;fill&quot;\n    android:background=&quot;@color/light_gray_2&quot;\n    tools:layout_height=&quot;50dp&quot;/&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/mViewPager&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:background=&quot;@color/light_gray_1&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/mTabLayout&quot; /&gt;\n</code></pre>\n<p>fragment which put TabLayout and ViewPager2:</p>\n<pre><code>@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    initAdapter();\n    initViewPager();\n    initTabLayout();\n\n}\n\nprivate void initAdapter() {\n    titlesList.add(getString(R.string.product_tab_product_search));\n    titlesList.add(getString(R.string.product_tab_product_serving));\n    pagerAdapter = new ProductPagerAdapter(this);\n}\n\npublic void initViewPager() {\n    mViewPager.setAdapter(pagerAdapter);\n    mViewPager.setOffscreenPageLimit(titlesList.size());\n}\n\npublic void initTabLayout() {\n    new TabLayoutMediator(mTabLayout, mViewPager, (tab, position) -&gt;\n            tab.setText(titlesList.get(position))).attach();\n\n}\n\npublic class ProductPagerAdapter extends FragmentStateAdapter {\n\n    public ProductPagerAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public ProductPagerAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public ProductPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position) {\n            case TAB_PRODUCT_SEARCH:\n                return ProductSearchFragment.newInstance();\n            case TAB_PRODUCT_SERVING:\n                return ProductServingFragment.newInstance();\n            default:\n                return ProductSearchFragment.newInstance();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return titlesList.size();\n    }\n}\n</code></pre>\n<p>Update:\nMy each fragment in ViewPager2 has recyclerView, and this situation only occur when recyclerView has item, if I set adapter getItemCount return 0, then the indicator work correctly, but return 1 or more, indicator will broken, even my TabLayout not attach with ViewPager2.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":8,"creation_date":1255479409,"post_id":1563030,"comment_id":1422802,"body_markdown":"Well, I tend to use them in conjunction with `if`, `else`, `for`, `while`, `do`, `switch` and `case`.","body":"Well, I tend to use them in conjunction with <code>if</code>, <code>else</code>, <code>for</code>, <code>while</code>, <code>do</code>, <code>switch</code> and <code>case</code>."},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":5,"creation_date":1255501766,"post_id":1563030,"comment_id":1423811,"body_markdown":"Incidentally, so do I. But then again, I decided not to rule out the uses which ( to me ) seemed obvious, like the ones you mentioned.","body":"Incidentally, so do I. But then again, I decided not to rule out the uses which ( to me ) seemed obvious, like the ones you mentioned."}],"answers":[{"comments":[{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":3,"creation_date":1255470604,"post_id":1563039,"comment_id":1422227,"body_markdown":"Good answer, and completely agree with the method comment.","body":"Good answer, and completely agree with the method comment."},{"owner":{"account_id":48454,"reputation":12964,"user_id":143969,"accept_rate":91,"display_name":"aperkins"},"score":8,"creation_date":1255470964,"post_id":1563039,"comment_id":1422272,"body_markdown":"+1: correct answer, and it is a sign of a desperately needed refactor, aka a &quot;code smell&quot; as Martin Fowler puts it :)","body":"+1: correct answer, and it is a sign of a desperately needed refactor, aka a &quot;code smell&quot; as Martin Fowler puts it :)"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1323135262,"post_id":1563039,"comment_id":10363803,"body_markdown":"The only time you do not want to factor it out into a private method is if that code block needs a lot of context (in the form of other local variables). But that is probably another code smell...","body":"The only time you do not want to factor it out into a private method is if that code block needs a lot of context (in the form of other local variables). But that is probably another code smell..."},{"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"score":0,"creation_date":1395150534,"post_id":1563039,"comment_id":34198518,"body_markdown":"@DavidSeiler are named blocks used in same way?","body":"@DavidSeiler are named blocks used in same way?"},{"owner":{"account_id":41828,"reputation":9595,"user_id":121674,"accept_rate":75,"display_name":"David Seiler"},"score":1,"creation_date":1395167120,"post_id":1563039,"comment_id":34210953,"body_markdown":"@Eugene yes, named blocks can also be used that way.  But they are usually used as targets for break statements; if I saw a named block without a break statement, I&#39;d wonder if I were looking at a bad merge or half-finished refactoring.  My advice: use an unnamed block and a comment.  For more discussion, [see this SO answer](http://stackoverflow.com/questions/205458/named-blocks-to-limit-variable-scope-good-idea).","body":"@Eugene yes, named blocks can also be used that way.  But they are usually used as targets for break statements; if I saw a named block without a break statement, I&#39;d wonder if I were looking at a bad merge or half-finished refactoring.  My advice: use an unnamed block and a comment.  For more discussion, <a href=\"http://stackoverflow.com/questions/205458/named-blocks-to-limit-variable-scope-good-idea\">see this SO answer</a>."},{"owner":{"account_id":2431854,"reputation":1186,"user_id":2122590,"display_name":"XForCE07"},"score":0,"creation_date":1395637170,"post_id":1563039,"comment_id":34411705,"body_markdown":"What if they are not in a method?\nWhat if the are in the class body directly?","body":"What if they are not in a method? What if the are in the class body directly?"},{"owner":{"account_id":41828,"reputation":9595,"user_id":121674,"accept_rate":75,"display_name":"David Seiler"},"score":0,"creation_date":1395761238,"post_id":1563039,"comment_id":34478684,"body_markdown":"You should probably open a new question.","body":"You should probably open a new question."},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":1,"creation_date":1397853507,"post_id":1563039,"comment_id":35419712,"body_markdown":"I often use those in testing class, so I don&#39;t have to worry about using the same variable name over and over. Pretty neat.","body":"I often use those in testing class, so I don&#39;t have to worry about using the same variable name over and over. Pretty neat."},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1414650575,"post_id":1563039,"comment_id":41898108,"body_markdown":"what if the `Anonymous code block` is defined Globally?","body":"what if the <code>Anonymous code block</code> is defined Globally?"}],"tags":[],"owner":{"account_id":41828,"reputation":9595,"user_id":121674,"accept_rate":75,"display_name":"David Seiler"},"comment_count":9,"down_vote_count":4,"up_vote_count":142,"is_accepted":true,"score":138,"last_activity_date":1255469791,"creation_date":1255469791,"answer_id":1563039,"question_id":1563030,"body_markdown":"They restrict variable scope.\r\n\r\n    public void foo()\r\n    {\r\n        {\r\n            int i = 10;\r\n        }\r\n        System.out.println(i); // Won&#39;t compile.\r\n    }\r\n\r\nIn practice, though, if you find yourself using such a code block that&#39;s probably a sign that you want to refactor that block out to a method.","title":"Anonymous code blocks in Java","body":"<p>They restrict variable scope.</p>\n\n<pre><code>public void foo()\n{\n    {\n        int i = 10;\n    }\n    System.out.println(i); // Won't compile.\n}\n</code></pre>\n\n<p>In practice, though, if you find yourself using such a code block that's probably a sign that you want to refactor that block out to a method.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":7,"creation_date":1255479250,"post_id":1563043,"comment_id":1422793,"body_markdown":"That&#39;s actually an instance initialiser, which is a different thing.","body":"That&#39;s actually an instance initialiser, which is a different thing."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":2,"creation_date":1255535966,"post_id":1563043,"comment_id":1426859,"body_markdown":"Different to ... ? Constructors? Oh yes, I mean &quot;as substitute or complement to..&quot; when referring to constructor.","body":"Different to ... ? Constructors? Oh yes, I mean &quot;as substitute or complement to..&quot; when referring to constructor."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1302710795,"post_id":1563043,"comment_id":6446208,"body_markdown":"different to code blocks inside methods as demonstrated in the sample code of the question.","body":"different to code blocks inside methods as demonstrated in the sample code of the question."},{"owner":{"account_id":2506651,"reputation":18472,"user_id":2180189,"accept_rate":71,"display_name":"MightyPork"},"score":1,"creation_date":1397853592,"post_id":1563043,"comment_id":35419749,"body_markdown":"Now that&#39;s a pretty cool trick, but with auto-formatting it will turn into an ugly mess. Still interesting idea.","body":"Now that&#39;s a pretty cool trick, but with auto-formatting it will turn into an ugly mess. Still interesting idea."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":4,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1556651131,"creation_date":1255469817,"answer_id":1563043,"question_id":1563030,"body_markdown":"You may use it as constructor for anonymous inner classes.\r\n\r\nLike this:\r\n\r\n\r\n\r\n[![alt text][1]][1]\n&lt;!-- source: http://img113.imageshack.us/img113/888/capturadepantalla200910.png --&gt;\r\n\r\nThis way you can initialize your object, since the free block is executed during the object construction.\r\n\r\nIt is not restricted to anonymous inner classes, it applies to regular classes too. \r\n\r\n\r\n    public class SomeClass {\r\n        public List data;{\r\n            data = new ArrayList();\r\n            data.add(1);\r\n            data.add(1);\r\n            data.add(1);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b9Jda.png","title":"Anonymous code blocks in Java","body":"<p>You may use it as constructor for anonymous inner classes.</p>\n\n<p>Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b9Jda.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b9Jda.png\" alt=\"alt text\"></a>\n</p>\n\n<p>This way you can initialize your object, since the free block is executed during the object construction.</p>\n\n<p>It is not restricted to anonymous inner classes, it applies to regular classes too. </p>\n\n<pre><code>public class SomeClass {\n    public List data;{\n        data = new ArrayList();\n        data.add(1);\n        data.add(1);\n        data.add(1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":0,"creation_date":1255471941,"post_id":1563068,"comment_id":1422353,"body_markdown":"Whoah, that double brace initialization stuff is pretty sweet.","body":"Whoah, that double brace initialization stuff is pretty sweet."},{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":6,"creation_date":1255473742,"post_id":1563068,"comment_id":1422479,"body_markdown":"Bevare though that in a second instance validCodes now is not a HashSet, but rather a subclass of a HashSet.  With more complex classes this can lead to some unexpected behavior.","body":"Bevare though that in a second instance validCodes now is not a HashSet, but rather a subclass of a HashSet.  With more complex classes this can lead to some unexpected behavior."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":4,"creation_date":1255479290,"post_id":1563068,"comment_id":1422797,"body_markdown":"Again, instance initialisers are different from blocks.","body":"Again, instance initialisers are different from blocks."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":6,"creation_date":1255508238,"post_id":1563068,"comment_id":1424241,"body_markdown":"I know the double brace initialization trick, but it&#39;s not sweet, it&#39;s a dirty trick that will thouroughly confuse people who don&#39;t know it. Don&#39;t use it!","body":"I know the double brace initialization trick, but it&#39;s not sweet, it&#39;s a dirty trick that will thouroughly confuse people who don&#39;t know it. Don&#39;t use it!"}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":4,"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1527593188,"creation_date":1255470053,"answer_id":1563068,"question_id":1563030,"body_markdown":"Anonymous blocks are useful for limiting the scope of a variable as well as for [double brace initialization][1]. \r\n\r\nCompare\r\n\r\n    Set&lt;String&gt; validCodes = new HashSet&lt;String&gt;();\r\n    validCodes.add(&quot;XZ13s&quot;);\r\n    validCodes.add(&quot;AB21/X&quot;);\r\n    validCodes.add(&quot;YYLEX&quot;);\r\n    validCodes.add(&quot;AR2D&quot;);\r\n\r\nwith\r\n\r\n    Set&lt;String&gt; validCodes = new HashSet&lt;String&gt;() {{\r\n\t  add(&quot;XZ13s&quot;);\r\n\t  add(&quot;AB21/X&quot;);\r\n\t  add(&quot;YYLEX&quot;);\r\n\t  add(&quot;AR5E&quot;);\r\n    }};\r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?DoubleBraceInitialization","title":"Anonymous code blocks in Java","body":"<p>Anonymous blocks are useful for limiting the scope of a variable as well as for <a href=\"http://c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"nofollow noreferrer\">double brace initialization</a>. </p>\n\n<p>Compare</p>\n\n<pre><code>Set&lt;String&gt; validCodes = new HashSet&lt;String&gt;();\nvalidCodes.add(\"XZ13s\");\nvalidCodes.add(\"AB21/X\");\nvalidCodes.add(\"YYLEX\");\nvalidCodes.add(\"AR2D\");\n</code></pre>\n\n<p>with</p>\n\n<pre><code>Set&lt;String&gt; validCodes = new HashSet&lt;String&gt;() {{\n  add(\"XZ13s\");\n  add(\"AB21/X\");\n  add(\"YYLEX\");\n  add(\"AR5E\");\n}};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":1,"creation_date":1451777503,"post_id":1563458,"comment_id":56888451,"body_markdown":"Thanks! Could you please expand more or point to some article on the &quot;performance hit for the inner loop of the interpreter&quot; part?","body":"Thanks! Could you please expand more or point to some article on the &quot;performance hit for the inner loop of the interpreter&quot; part?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1451781089,"post_id":1563458,"comment_id":56889264,"body_markdown":"Calling a method (that cannot be inlined) takes extra CPU cycles - it is a performance hit. It might be significant","body":"Calling a method (that cannot be inlined) takes extra CPU cycles - it is a performance hit. It might be significant"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1451781213,"creation_date":1255475429,"answer_id":1563458,"question_id":1563030,"body_markdown":"I think you and/or the other answers are confusing two distinct syntactic constructs; namely Instance Initializers and Blocks.  (And by the way, a &quot;named block&quot; is really a Labeled Statement, where the Statement happens to be a Block.)\r\n\r\nAn Instance Initializer is used at the syntactic level of a class member; e.g.\r\n\r\n    public class Test {\r\n        final int foo;\r\n\r\n        {\r\n             // Some complicated initialization sequence; e.g.\r\n             int tmp;\r\n             if (...) {\r\n                 ...\r\n                 tmp = ...\r\n             } else {\r\n                 ...\r\n                 tmp = ...\r\n             }\r\n             foo = tmp;\r\n        }\r\n    }\r\n\r\nThe Initializer construct is most commonly used with anonymous classes as per @dfa&#39;s example.  Another use-case is for doing complicated initialization of &#39;final&#39; attributes; e.g. see the example above.  (However, it is more common to do this using a regular constructor.  The pattern above is more commonly used with Static Initializers.)\r\n\r\nThe other construct is an ordinary block and appears within a code block such as method; e.g.\r\n\r\n    public void test() {\r\n        int i = 1;\r\n        {\r\n           int j = 2;\r\n           ...\r\n        }\r\n        {\r\n           int j = 3;\r\n           ...\r\n        }\r\n    }\r\n\r\nBlocks are most commonly used as part of control statements to group a sequence of statements.  But when you use them above, they (just) allow you to restrict the visibility of declarations; e.g. `j` in the above.\r\n\r\nThis usually indicates that you need to refactor your code, but it is not always clear cut. For example, you sometimes see this sort of thing in interpreters coded in Java.  The statements in the switch arms could be factored into separate methods, but this may result in a significant performance hit for the &quot;inner loop&quot; of an interpreter; e.g.\r\n\r\n        switch (op) {\r\n        case OP1: {\r\n                 int tmp = ...;\r\n                 // do something\r\n                 break;\r\n             }\r\n        case OP2: {\r\n                 int tmp = ...;\r\n                 // do something else\r\n                 break;\r\n             }\r\n        ...\r\n        };\r\n","title":"Anonymous code blocks in Java","body":"<p>I think you and/or the other answers are confusing two distinct syntactic constructs; namely Instance Initializers and Blocks.  (And by the way, a \"named block\" is really a Labeled Statement, where the Statement happens to be a Block.)</p>\n\n<p>An Instance Initializer is used at the syntactic level of a class member; e.g.</p>\n\n<pre><code>public class Test {\n    final int foo;\n\n    {\n         // Some complicated initialization sequence; e.g.\n         int tmp;\n         if (...) {\n             ...\n             tmp = ...\n         } else {\n             ...\n             tmp = ...\n         }\n         foo = tmp;\n    }\n}\n</code></pre>\n\n<p>The Initializer construct is most commonly used with anonymous classes as per @dfa's example.  Another use-case is for doing complicated initialization of 'final' attributes; e.g. see the example above.  (However, it is more common to do this using a regular constructor.  The pattern above is more commonly used with Static Initializers.)</p>\n\n<p>The other construct is an ordinary block and appears within a code block such as method; e.g.</p>\n\n<pre><code>public void test() {\n    int i = 1;\n    {\n       int j = 2;\n       ...\n    }\n    {\n       int j = 3;\n       ...\n    }\n}\n</code></pre>\n\n<p>Blocks are most commonly used as part of control statements to group a sequence of statements.  But when you use them above, they (just) allow you to restrict the visibility of declarations; e.g. <code>j</code> in the above.</p>\n\n<p>This usually indicates that you need to refactor your code, but it is not always clear cut. For example, you sometimes see this sort of thing in interpreters coded in Java.  The statements in the switch arms could be factored into separate methods, but this may result in a significant performance hit for the \"inner loop\" of an interpreter; e.g.</p>\n\n<pre><code>    switch (op) {\n    case OP1: {\n             int tmp = ...;\n             // do something\n             break;\n         }\n    case OP2: {\n             int tmp = ...;\n             // do something else\n             break;\n         }\n    ...\n    };\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47375,"reputation":1777,"user_id":140290,"accept_rate":80,"display_name":"Jan"},"score":12,"creation_date":1346669500,"post_id":5651708,"comment_id":16415393,"body_markdown":"I&#39;m just working through code that uses this &quot;feature&quot; a lot and it&#39;s rather difficult to follow. I think it&#39;s a bad way to structure code","body":"I&#39;m just working through code that uses this &quot;feature&quot; a lot and it&#39;s rather difficult to follow. I think it&#39;s a bad way to structure code"},{"owner":{"account_id":84543,"reputation":22147,"user_id":236255,"accept_rate":74,"display_name":"Stephen Swensen"},"score":2,"creation_date":1346676136,"post_id":5651708,"comment_id":16418081,"body_markdown":"@Jan - there&#39;s lots of ways to use good features poorly, and I can imagine this one getting out of hand easily enough (deep nesting, long scrolling, lots of mutation, ...).","body":"@Jan - there&#39;s lots of ways to use good features poorly, and I can imagine this one getting out of hand easily enough (deep nesting, long scrolling, lots of mutation, ...)."},{"owner":{"account_id":47375,"reputation":1777,"user_id":140290,"accept_rate":80,"display_name":"Jan"},"score":1,"creation_date":1346677696,"post_id":5651708,"comment_id":16418717,"body_markdown":"@Steven - I have yet to see one example where this feature does not lead to incomprehensible clutter. Your example above is ok but rather small.","body":"@Steven - I have yet to see one example where this feature does not lead to incomprehensible clutter. Your example above is ok but rather small."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":8,"creation_date":1392046631,"post_id":5651708,"comment_id":32775614,"body_markdown":"@Jan &quot;Rather difficult to follow&quot; and &quot;incomprehensible clutter&quot; are subjective opinions. All they sum up to is &quot;I am not used to doing it this way, therefore it must be bad.&quot;  Stephen explained _objective_ reasons why this is better. (And I happen to agree.) So, either come up with _objective_ objections, or remain silent.","body":"@Jan &quot;Rather difficult to follow&quot; and &quot;incomprehensible clutter&quot; are subjective opinions. All they sum up to is &quot;I am not used to doing it this way, therefore it must be bad.&quot;  Stephen explained <i>objective</i> reasons why this is better. (And I happen to agree.) So, either come up with <i>objective</i> objections, or remain silent."},{"owner":{"account_id":1599316,"reputation":1369,"user_id":1480704,"accept_rate":57,"display_name":"jonS90"},"score":3,"creation_date":1422553139,"post_id":5651708,"comment_id":44805212,"body_markdown":"It seems to me this this style of coding comes in handy with code that is *already* incomprehensibly cluttered and difficult to follow. It only makes it *slightly easier* to follow. I think it&#39;s preferable for a class to contain 50 anonymous code blacks rather than 50 small, single-use functions. I&#39;d like to hear dissenting opinions, if there are any.","body":"It seems to me this this style of coding comes in handy with code that is <i>already</i> incomprehensibly cluttered and difficult to follow. It only makes it <i>slightly easier</i> to follow. I think it&#39;s preferable for a class to contain 50 anonymous code blacks rather than 50 small, single-use functions. I&#39;d like to hear dissenting opinions, if there are any."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":4,"creation_date":1477713450,"post_id":5651708,"comment_id":67888792,"body_markdown":"I&#39;d prefer: `mainPanel.add(label(&quot;Hello World&quot;,...);`, and `southPanel.add(label(&quot;Hello&quot;));`, and `southPanel.add(label(&quot;World&quot;));` without the extraneous braces. I cannot fathom how it&#39;s harder to read because appropriately named methods should provide clues as to their intent. Also, IDEs show Javadocs as tooltips by hovering over the methods, which implies that visual context is not lost. And refactoring often reduces the possibility of (or draws attention to) copy/paste errors.","body":"I&#39;d prefer: <code>mainPanel.add(label(&quot;Hello World&quot;,...);</code>, and <code>southPanel.add(label(&quot;Hello&quot;));</code>, and <code>southPanel.add(label(&quot;World&quot;));</code> without the extraneous braces. I cannot fathom how it&#39;s harder to read because appropriately named methods should provide clues as to their intent. Also, IDEs show Javadocs as tooltips by hovering over the methods, which implies that visual context is not lost. And refactoring often reduces the possibility of (or draws attention to) copy/paste errors."}],"tags":[],"owner":{"account_id":84543,"reputation":22147,"user_id":236255,"accept_rate":74,"display_name":"Stephen Swensen"},"comment_count":6,"down_vote_count":3,"up_vote_count":51,"is_accepted":false,"score":48,"last_activity_date":1302709774,"creation_date":1302708338,"answer_id":5651708,"question_id":1563030,"body_markdown":"@David Seiler&#39;s answer is right, but I would contend that code blocks are very useful and should be used frequently and don&#39;t necessarily indicate the need to factor out into a method. I find they are particularly useful for constructing Swing Component trees, e.g:\r\n\r\n    JPanel mainPanel = new JPanel(new BorderLayout());\r\n    {\r\n        JLabel centerLabel = new JLabel();\r\n        centerLabel.setText(&quot;Hello World&quot;);\r\n        mainPanel.add(centerLabel, BorderLayout.CENTER);\r\n    }\r\n    {\r\n        JPanel southPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 0,0));\r\n        {\r\n            JLabel label1 = new JLabel();\r\n            label1.setText(&quot;Hello&quot;);\r\n            southPanel.add(label1);\r\n        }\r\n        {\r\n            JLabel label2 = new JLabel();\r\n            label2.setText(&quot;World&quot;);\r\n            southPanel.add(label2);\r\n        }\r\n        mainPanel.add(southPanel, BorderLayout.SOUTH);\r\n    }\r\n\r\nNot only do the code blocks limit the scope of variables as tightly as possible (which is always good, especially when dealing with mutable state and non-final variables), but they also illustrate the component hierarchy much in the way as XML / HTML making the code easier to read, write and maintain.\r\n\r\nMy issue with factoring out each component instantiation into a method is that\r\n\r\n 1. The method will only be used once yet exposed to a wider audience, even if it is a private instance method.\r\n 2. It&#39;s harder to read, imagining a deeper more complex component tree, you&#39;d have to drill down to find the code you&#39;re interested, and then loose visual context.\r\n\r\nIn this Swing example, I find that when complexity really does grow beyond manageability it indicates that it&#39;s time to factor out a branch of the tree into a new class rather than a bunch of small methods.","title":"Anonymous code blocks in Java","body":"<p>@David Seiler's answer is right, but I would contend that code blocks are very useful and should be used frequently and don't necessarily indicate the need to factor out into a method. I find they are particularly useful for constructing Swing Component trees, e.g:</p>\n\n<pre><code>JPanel mainPanel = new JPanel(new BorderLayout());\n{\n    JLabel centerLabel = new JLabel();\n    centerLabel.setText(\"Hello World\");\n    mainPanel.add(centerLabel, BorderLayout.CENTER);\n}\n{\n    JPanel southPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 0,0));\n    {\n        JLabel label1 = new JLabel();\n        label1.setText(\"Hello\");\n        southPanel.add(label1);\n    }\n    {\n        JLabel label2 = new JLabel();\n        label2.setText(\"World\");\n        southPanel.add(label2);\n    }\n    mainPanel.add(southPanel, BorderLayout.SOUTH);\n}\n</code></pre>\n\n<p>Not only do the code blocks limit the scope of variables as tightly as possible (which is always good, especially when dealing with mutable state and non-final variables), but they also illustrate the component hierarchy much in the way as XML / HTML making the code easier to read, write and maintain.</p>\n\n<p>My issue with factoring out each component instantiation into a method is that</p>\n\n<ol>\n<li>The method will only be used once yet exposed to a wider audience, even if it is a private instance method.</li>\n<li>It's harder to read, imagining a deeper more complex component tree, you'd have to drill down to find the code you're interested, and then loose visual context.</li>\n</ol>\n\n<p>In this Swing example, I find that when complexity really does grow beyond manageability it indicates that it's time to factor out a branch of the tree into a new class rather than a bunch of small methods.</p>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1371422254,"creation_date":1371422254,"answer_id":17138387,"question_id":1563030,"body_markdown":"It&#39;s usually best to [make the scope of local variables as small as possible][1].  Anonymous code blocks can help with this.\r\n\r\nI find this especially useful with `switch` statements.  Consider the following example, without anonymous code blocks:\r\n\r\n\tpublic String manipulate(Mode mode) {\r\n\t\tswitch(mode) {\r\n\t\tcase FOO: \r\n\t\t\tString result = foo();\r\n\t\t\ttweak(result);\r\n\t\t\treturn result;\r\n\t\tcase BAR: \r\n\t\t\tString result = bar();\t// Compiler error\r\n\t\t\ttwiddle(result);\r\n\t\t\treturn result;\r\n\t\tcase BAZ: \r\n\t\t\tString rsult = bar();\t// Whoops, typo!\r\n\t\t\ttwang(result);\t// No compiler error\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\nAnd with anonymous code blocks:\r\n\r\n\tpublic String manipulate(Mode mode) {\r\n\t\tswitch(mode) {\r\n\t\t\tcase FOO: {\r\n\t\t\t\tString result = foo();\r\n\t\t\t\ttweak(result);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tcase BAR: {\r\n\t\t\t\tString result = bar();\t// No compiler error\r\n\t\t\t\ttwiddle(result);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t\tcase BAZ: {\r\n\t\t\t\tString rsult = bar();\t// Whoops, typo!\r\n\t\t\t\ttwang(result);\t// Compiler error\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI consider the second version to be cleaner and easier to read.  And, it reduces the scope of variables declared within the switch to the case to which they were declared, which in my experience is what you want 99% of the time anyways.\r\n\r\nBe warned however, it does *not* change the behavior for case fall-through - you&#39;ll still need to remember to include a `break` or `return` to prevent it!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8803806/292728","title":"Anonymous code blocks in Java","body":"<p>It's usually best to <a href=\"https://stackoverflow.com/a/8803806/292728\">make the scope of local variables as small as possible</a>.  Anonymous code blocks can help with this.</p>\n\n<p>I find this especially useful with <code>switch</code> statements.  Consider the following example, without anonymous code blocks:</p>\n\n<pre><code>public String manipulate(Mode mode) {\n    switch(mode) {\n    case FOO: \n        String result = foo();\n        tweak(result);\n        return result;\n    case BAR: \n        String result = bar();  // Compiler error\n        twiddle(result);\n        return result;\n    case BAZ: \n        String rsult = bar();   // Whoops, typo!\n        twang(result);  // No compiler error\n        return result;\n    }\n}\n</code></pre>\n\n<p>And with anonymous code blocks:</p>\n\n<pre><code>public String manipulate(Mode mode) {\n    switch(mode) {\n        case FOO: {\n            String result = foo();\n            tweak(result);\n            return result;\n        }\n        case BAR: {\n            String result = bar();  // No compiler error\n            twiddle(result);\n            return result;\n        }\n        case BAZ: {\n            String rsult = bar();   // Whoops, typo!\n            twang(result);  // Compiler error\n            return result;\n        }\n    }\n}\n</code></pre>\n\n<p>I consider the second version to be cleaner and easier to read.  And, it reduces the scope of variables declared within the switch to the case to which they were declared, which in my experience is what you want 99% of the time anyways.</p>\n\n<p>Be warned however, it does <em>not</em> change the behavior for case fall-through - you'll still need to remember to include a <code>break</code> or <code>return</code> to prevent it!</p>\n"},{"comments":[{"owner":{"account_id":9049902,"reputation":919,"user_id":6740561,"display_name":"svaponi"},"score":0,"creation_date":1529835391,"post_id":43054871,"comment_id":89010640,"body_markdown":"I don&#39;t see any reason to use the curly brackets block in this case, it is useless.","body":"I don&#39;t see any reason to use the curly brackets block in this case, it is useless."}],"tags":[],"owner":{"account_id":292490,"reputation":124,"user_id":595265,"display_name":"stewartbracken"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1490642924,"creation_date":1490642924,"answer_id":43054871,"question_id":1563030,"body_markdown":"You can use a block to initialize a final variable from the parent scope. This a nice way to limit the scope of some variables only used to initialize the single variable.\r\n\r\n    public void test(final int x) {\r\n        final ClassA a;\r\n        final ClassB b;\r\n        {\r\n            final ClassC parmC = getC(x);\r\n            a = parmC.getA();\r\n            b = parmC.getB();\r\n        }\r\n        //... a and b are initialized\r\n    }\r\n\r\nIn general it&#39;s preferable to move the block into a method, but this syntax can be nice for one-off cases when multiple variables need to be returned and you don&#39;t want to create a wrapper class.","title":"Anonymous code blocks in Java","body":"<p>You can use a block to initialize a final variable from the parent scope. This a nice way to limit the scope of some variables only used to initialize the single variable.</p>\n\n<pre><code>public void test(final int x) {\n    final ClassA a;\n    final ClassB b;\n    {\n        final ClassC parmC = getC(x);\n        a = parmC.getA();\n        b = parmC.getB();\n    }\n    //... a and b are initialized\n}\n</code></pre>\n\n<p>In general it's preferable to move the block into a method, but this syntax can be nice for one-off cases when multiple variables need to be returned and you don't want to create a wrapper class.</p>\n"},{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517328556,"creation_date":1517328556,"answer_id":48525832,"question_id":1563030,"body_markdown":"**Instance initializer block:**\r\n\r\n\tclass Test {\r\n\t    // this line of code is executed whenever a new instance of Test is created\r\n\t    { System.out.println(&quot;Instance created!&quot;); }\r\n\t\r\n\t    public static void main() {\r\n\t        new Test(); // prints &quot;Instance created!&quot;\r\n\t        new Test(); // prints &quot;Instance created!&quot;\r\n\t    }\r\n\t}\r\n\r\n**Anonymous initializer block:** \r\n\r\n\tclass Test {\r\n\t\t\r\n\t\tclass Main {\r\n\t\t\tpublic void method() {\r\n\t\t\t\tSystem.out.println(&quot;Test method&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test().new Main() {\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod(); // prints &quot;Test method&quot;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\r\n\t\t\t{\r\n\t\t\t\t//=========================================================================\r\n\t\t\t\t// which means you can even create a List using double brace\r\n\t\t\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;() {\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tadd(&quot;el1&quot;);\r\n\t\t\t\t\t\tadd(&quot;el2&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tSystem.out.println(list); // prints [el1, el2]\r\n\t\t\t}\r\n\t\r\n\t\t\t{\r\n\t\t\t\t//==========================================================================\r\n\t\t\t\t// you can even create your own methods for your anonymous class and use them\r\n\t\t\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;() {\r\n\t\t\t\t\tprivate void myCustomMethod(String s1, String s2) {\r\n\t\t\t\t\t\tadd(s1);\r\n\t\t\t\t\t\tadd(s2);\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmyCustomMethod(&quot;el3&quot;, &quot;el4&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\r\n\t\t\t\tSystem.out.println(list); // prints [el3, el4]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**Variable scope restrict:**\r\n\r\n\tclass Test {\r\n\t    public static void main() {\r\n\t        { int i = 20; }\r\n\t        System.out.println(i); // error\r\n\t    }\r\n\t}","title":"Anonymous code blocks in Java","body":"<p><strong>Instance initializer block:</strong></p>\n\n<pre><code>class Test {\n    // this line of code is executed whenever a new instance of Test is created\n    { System.out.println(\"Instance created!\"); }\n\n    public static void main() {\n        new Test(); // prints \"Instance created!\"\n        new Test(); // prints \"Instance created!\"\n    }\n}\n</code></pre>\n\n<p><strong>Anonymous initializer block:</strong> </p>\n\n<pre><code>class Test {\n\n    class Main {\n        public void method() {\n            System.out.println(\"Test method\");\n        }\n    }\n\n    public static void main(String[] args) {\n        new Test().new Main() {\n            {\n                method(); // prints \"Test method\"\n            }\n        };\n\n        {\n            //=========================================================================\n            // which means you can even create a List using double brace\n            List&lt;String&gt; list = new ArrayList&lt;&gt;() {\n                {\n                    add(\"el1\");\n                    add(\"el2\");\n                }\n            };\n            System.out.println(list); // prints [el1, el2]\n        }\n\n        {\n            //==========================================================================\n            // you can even create your own methods for your anonymous class and use them\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;() {\n                private void myCustomMethod(String s1, String s2) {\n                    add(s1);\n                    add(s2);\n                }\n\n                {\n                    myCustomMethod(\"el3\", \"el4\");\n                }\n            };\n\n            System.out.println(list); // prints [el3, el4]\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Variable scope restrict:</strong></p>\n\n<pre><code>class Test {\n    public static void main() {\n        { int i = 20; }\n        System.out.println(i); // error\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608645526,"creation_date":1608645526,"answer_id":65409992,"question_id":1563030,"body_markdown":"Describe a task, either with a comment or inherently due to the structure of your code and the identifiers chosen, and then use code blocks to create a hierarchical relationship there where the language itself doesn&#39;t enforce one. For example:\r\n\r\n```\r\npublic void sendAdminMessage(String msg) throws IOException {\r\n    MessageService service; {\r\n        String senderKey = properties.get(&quot;admin-message-server&quot;);\r\n        service = MessageService.of(senderKey);\r\n        if (!ms.available()) {\r\n          throw new MessageServiceException(&quot;Not available: &quot; + senderKey);\r\n        }\r\n    }\r\n\r\n    /* workaround for issue 1298: Stop sending passwords. */ {\r\n        final Pattern p = Pattern.compile(&quot;^(.*?)\\&quot;pass\\&quot;:.*(\\&quot;stamp\\&quot;.*)$&quot;);\r\n        Matcher m = p.matcher(msg);\r\n        if (m.matches()) msg = m.group(1) + m.group(2);\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nThe above is just some sample code to explain the concept. The first block is &#39;documented&#39; by what is immediately preceding it: That block serves to initialize the `service` variable. The second block is documented by a comment. In both cases, the block provide &#39;scope&#39; for the comment/variable declaration: They explain where that particular process ends. It&#39;s an alternative to this much more common style:\r\n\r\n```\r\npublic void sendAdminMessage(String msg) throws IOException {\r\n    // START: initialize service\r\n    String senderKey = properties.get(&quot;admin-message-server&quot;);\r\n    MessageService service = MessageService.of(senderKey);\r\n    if (!ms.available()) {\r\n      throw new MessageServiceException(&quot;Not available: &quot; + senderKey);\r\n    }\r\n    // END: initialize service\r\n\r\n    // START: workaround for issue 1298: Stop sending passwords.\r\n    final Pattern p = Pattern.compile(&quot;^(.*?)\\&quot;pass\\&quot;:.*(\\&quot;stamp\\&quot;.*)$&quot;);\r\n    Matcher m = p.matcher(msg);\r\n    if (m.matches()) msg = m.group(1) + m.group(2);\r\n    // END: workaround for issue 1298: Stop sending passwords.\r\n\r\n    ...\r\n}\r\n```\r\n\r\nThe blocks are better, though: They let you use your editor tooling to navigate more efficiently (&#39;go to end of block&#39;), they scope the local variables used within the block so that they cannot escape, and most of all, they align the concept of containment: You are already familiar, as java programmer, with the concept of containment: for blocks, if blocks, method blocks: They are all expressions of hierarchy in code flow. Containment for code for documentary reasons instead of technical is still containment. Why use a different mechanism? Consistency is useful. Less mental load.\r\n\r\nNB: Most likely the best design is to isolate the initialisation of the MessageService object to a separate method. However, this does lead to spaghettification: At some point isolating a simple and easily understood task to a method makes it harder to reason about method structure: By isolating it, you&#39;ve turned the job of initializing the messageservice into a black box (at least, until you look at the helper method), and to fully read the code in order of how it flows, you need to hop around all over your source files. That&#39;s usually the better choice (the alternative is very long methods that are hard to test, or reuse parts of), but there are times when it&#39;s not. For example, if your block contains references to a significant number of local variables: If you make a helper method you&#39;d have to pass all those variables. A method is also not control flow and local variable transparent (a helper method cannot break out of the loop from the main method, and a helper method cannot see or modify the local variables from the main method). Sometimes that&#39;s an impediment.\r\n","title":"Anonymous code blocks in Java","body":"<p>Describe a task, either with a comment or inherently due to the structure of your code and the identifiers chosen, and then use code blocks to create a hierarchical relationship there where the language itself doesn't enforce one. For example:</p>\n<pre><code>public void sendAdminMessage(String msg) throws IOException {\n    MessageService service; {\n        String senderKey = properties.get(&quot;admin-message-server&quot;);\n        service = MessageService.of(senderKey);\n        if (!ms.available()) {\n          throw new MessageServiceException(&quot;Not available: &quot; + senderKey);\n        }\n    }\n\n    /* workaround for issue 1298: Stop sending passwords. */ {\n        final Pattern p = Pattern.compile(&quot;^(.*?)\\&quot;pass\\&quot;:.*(\\&quot;stamp\\&quot;.*)$&quot;);\n        Matcher m = p.matcher(msg);\n        if (m.matches()) msg = m.group(1) + m.group(2);\n    }\n    ...\n}\n</code></pre>\n<p>The above is just some sample code to explain the concept. The first block is 'documented' by what is immediately preceding it: That block serves to initialize the <code>service</code> variable. The second block is documented by a comment. In both cases, the block provide 'scope' for the comment/variable declaration: They explain where that particular process ends. It's an alternative to this much more common style:</p>\n<pre><code>public void sendAdminMessage(String msg) throws IOException {\n    // START: initialize service\n    String senderKey = properties.get(&quot;admin-message-server&quot;);\n    MessageService service = MessageService.of(senderKey);\n    if (!ms.available()) {\n      throw new MessageServiceException(&quot;Not available: &quot; + senderKey);\n    }\n    // END: initialize service\n\n    // START: workaround for issue 1298: Stop sending passwords.\n    final Pattern p = Pattern.compile(&quot;^(.*?)\\&quot;pass\\&quot;:.*(\\&quot;stamp\\&quot;.*)$&quot;);\n    Matcher m = p.matcher(msg);\n    if (m.matches()) msg = m.group(1) + m.group(2);\n    // END: workaround for issue 1298: Stop sending passwords.\n\n    ...\n}\n</code></pre>\n<p>The blocks are better, though: They let you use your editor tooling to navigate more efficiently ('go to end of block'), they scope the local variables used within the block so that they cannot escape, and most of all, they align the concept of containment: You are already familiar, as java programmer, with the concept of containment: for blocks, if blocks, method blocks: They are all expressions of hierarchy in code flow. Containment for code for documentary reasons instead of technical is still containment. Why use a different mechanism? Consistency is useful. Less mental load.</p>\n<p>NB: Most likely the best design is to isolate the initialisation of the MessageService object to a separate method. However, this does lead to spaghettification: At some point isolating a simple and easily understood task to a method makes it harder to reason about method structure: By isolating it, you've turned the job of initializing the messageservice into a black box (at least, until you look at the helper method), and to fully read the code in order of how it flows, you need to hop around all over your source files. That's usually the better choice (the alternative is very long methods that are hard to test, or reuse parts of), but there are times when it's not. For example, if your block contains references to a significant number of local variables: If you make a helper method you'd have to pass all those variables. A method is also not control flow and local variable transparent (a helper method cannot break out of the loop from the main method, and a helper method cannot see or modify the local variables from the main method). Sometimes that's an impediment.</p>\n"},{"tags":[],"owner":{"account_id":1357161,"reputation":891,"user_id":1295333,"accept_rate":75,"display_name":"programaths"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659521332,"creation_date":1659521332,"answer_id":73219901,"question_id":1563030,"body_markdown":"I use the anonymous blocks for all the reasons explained in other answers, which boils down to limiting the scope of variables. I also use them to have proper delimitation of pairs of method belonging together.\r\n\r\nConsider the following excerpt:\r\n\r\n```java\r\njg.writeStartObject();\r\n{\r\n  jg.writeStringField(&quot;fieldName&quot;, ((JsonFormFieldDependencyData.FieldLocator) valueOrLocator).getFieldName());\r\n  jg.writeStringField(&quot;kind&quot;, &quot;field&quot;);\r\n}\r\njg.writeEndObject();\r\n```\r\n\r\nNot only you can see at a glance that the methods are properly paired, but doesn&#39;t also kind of look like the output too ?\r\n\r\nJust be careful to not abuse it and end up in-lining methods ^^","title":"Anonymous code blocks in Java","body":"<p>I use the anonymous blocks for all the reasons explained in other answers, which boils down to limiting the scope of variables. I also use them to have proper delimitation of pairs of method belonging together.</p>\n<p>Consider the following excerpt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jg.writeStartObject();\n{\n  jg.writeStringField(&quot;fieldName&quot;, ((JsonFormFieldDependencyData.FieldLocator) valueOrLocator).getFieldName());\n  jg.writeStringField(&quot;kind&quot;, &quot;field&quot;);\n}\njg.writeEndObject();\n</code></pre>\n<p>Not only you can see at a glance that the methods are properly paired, but doesn't also kind of look like the output too ?</p>\n<p>Just be careful to not abuse it and end up in-lining methods ^^</p>\n"},{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667188379,"creation_date":1667187722,"answer_id":74258529,"question_id":1563030,"body_markdown":"Refer to\r\n- https://stackoverflow.com/questions/14805547/are-fields-initialized-before-constructor-code-is-run-in-java/74253037#74253037 \r\nfor the order or execution used in this discussion.\r\n\r\nInstance init blocks in Java solve initialization problems other languages have been grappling with - what if we need to enforce of perform an instance initialization that must be run but only after all the static intializers and constructors have completed.\r\n\r\n\r\nConsider this issue is more prevalent in C# with WPF components where sequence of component initialization is tighter. In Java backend such issues are probably resolved by some redesign. So this remains an overly simplistic illustration of the issue.\r\n\r\n\tpublic class SessionInfo {\r\n\t  public String uri;\r\n\t  ..blah, blah ..\r\n\t}\r\n\r\n\r\n\tabstract public class Session {\r\n\t  final public SessionInfo sessInf;\r\n\t  final public Connection connection;\r\n\t  public Session(SessionInfo sessInf) {\r\n\t\tthis.sessInf = sessInf;\r\n\t\tthis.connection = connect(sessInf.uri);\r\n\t  }\r\n\t  abstract void connect(String uri) throws NullPointerException;\r\n\t}\r\n\r\n\r\nsessInf.uri is looked up by each impl by the impl constructor.\r\n\r\n\tabstract public class SessionImpl extends Session {\r\n\t  public SessionImpl (SessionInfo sessInf) {\r\n        super(sessInf);\r\n\t\tsessInf.uri = lookUpUri();\r\n\t  }\r\n\t  ..blah, blah ..\r\n\t}\r\n\r\nIf you trace the flow, you will find that SessionImpl connect would throw NPE, simply because \r\n- SessionImpl constructor is run after constructor of parent Session.\r\n- therefore sessInf.uri will be null\r\n- and connect(sessInf.uri) at parent constructor would hit NPE.\r\n\r\nThe solution for such requirement for such a right initialization cycle is \r\n\r\n\r\n\tabstract public class Session {\r\n\t  final public SessionInfo sessInf;\r\n\t  final public Connection connection;\r\n\t  public Session(SessionInfo sessInf) {\r\n\t\tthis.sessInf = sessInf;\r\n\t  }\r\n\t  abstract void connect(String uri) throws NullPointerException;\r\n\r\n      // This block runs after all the constuctors and static members have completed\r\n      {\r\n        // instance init blocks can initialize final instance objects.\r\n\t\tthis.connection = connect(sessInf.uri);\r\n      }\r\n\t}\r\n\r\nIn this way, you will be able to enforce getting connection onto all extension classes and have it done after all constructors have completed.\r\n\r\n\r\n","title":"Anonymous code blocks in Java","body":"<p>Refer to</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14805547/are-fields-initialized-before-constructor-code-is-run-in-java/74253037#74253037\">Are fields initialized before constructor code is run in Java?</a>\nfor the order or execution used in this discussion.</li>\n</ul>\n<p>Instance init blocks in Java solve initialization problems other languages have been grappling with - what if we need to enforce of perform an instance initialization that must be run but only after all the static intializers and constructors have completed.</p>\n<p>Consider this issue is more prevalent in C# with WPF components where sequence of component initialization is tighter. In Java backend such issues are probably resolved by some redesign. So this remains an overly simplistic illustration of the issue.</p>\n<pre><code>public class SessionInfo {\n  public String uri;\n  ..blah, blah ..\n}\n\n\nabstract public class Session {\n  final public SessionInfo sessInf;\n  final public Connection connection;\n  public Session(SessionInfo sessInf) {\n    this.sessInf = sessInf;\n    this.connection = connect(sessInf.uri);\n  }\n  abstract void connect(String uri) throws NullPointerException;\n}\n</code></pre>\n<p>sessInf.uri is looked up by each impl by the impl constructor.</p>\n<pre><code>abstract public class SessionImpl extends Session {\n  public SessionImpl (SessionInfo sessInf) {\n    super(sessInf);\n    sessInf.uri = lookUpUri();\n  }\n  ..blah, blah ..\n}\n</code></pre>\n<p>If you trace the flow, you will find that SessionImpl connect would throw NPE, simply because</p>\n<ul>\n<li>SessionImpl constructor is run after constructor of parent Session.</li>\n<li>therefore sessInf.uri will be null</li>\n<li>and connect(sessInf.uri) at parent constructor would hit NPE.</li>\n</ul>\n<p>The solution for such requirement for such a right initialization cycle is</p>\n<pre><code>abstract public class Session {\n  final public SessionInfo sessInf;\n  final public Connection connection;\n  public Session(SessionInfo sessInf) {\n    this.sessInf = sessInf;\n  }\n  abstract void connect(String uri) throws NullPointerException;\n\n  // This block runs after all the constuctors and static members have completed\n  {\n    // instance init blocks can initialize final instance objects.\n    this.connection = connect(sessInf.uri);\n  }\n}\n</code></pre>\n<p>In this way, you will be able to enforce getting connection onto all extension classes and have it done after all constructors have completed.</p>\n"}],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47042,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":1563039,"answer_count":11,"score":72,"last_activity_date":1667188379,"creation_date":1255469651,"question_id":1563030,"body_markdown":"Are there any practical uses of anonymous code blocks in Java?\r\n\r\n    public static void main(String[] args) {\r\n        // in\r\n        {\r\n            // out\r\n        }\r\n    }\r\n\r\nPlease note that this is not about _named_ blocks, i.e.\r\n\r\n    name: { \r\n         if ( /* something */ ) \r\n             break name;\r\n    }\r\n\r\n.","title":"Anonymous code blocks in Java","body":"<p>Are there any practical uses of anonymous code blocks in Java?</p>\n\n<pre><code>public static void main(String[] args) {\n    // in\n    {\n        // out\n    }\n}\n</code></pre>\n\n<p>Please note that this is not about <em>named</em> blocks, i.e.</p>\n\n<pre><code>name: { \n     if ( /* something */ ) \n         break name;\n}\n</code></pre>\n\n<p>.</p>\n"},{"tags":["java","performance","java-8"],"answers":[{"comments":[{"owner":{"account_id":24950283,"reputation":11,"user_id":18815165,"display_name":"Santiagolp"},"score":0,"creation_date":1667187934,"post_id":74230638,"comment_id":131103707,"body_markdown":"This answer still gets Time Limit Exceeded error, nevertheless thanks for the tips, I applied them for another solution I came out with and it passed.","body":"This answer still gets Time Limit Exceeded error, nevertheless thanks for the tips, I applied them for another solution I came out with and it passed."}],"tags":[],"owner":{"account_id":6429179,"reputation":1985,"user_id":4983082,"accept_rate":59,"display_name":"GAVD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666930936,"creation_date":1666930936,"answer_id":74230638,"question_id":74230516,"body_markdown":"Some point helps to improve your code.\r\n\r\n1. Why do you need to create two new ArrayList? It takes time to create/push element to new sub list. You can just calculate left sum and right sum from nums[j].\r\n2. You don&#39;t need `else` block. Just return -1 at the end of function. Because if you don&#39;t find any pivot `i`, then return `-1` as request.\r\n\r\nCode look like this.\r\n\r\n    public int pivotIndex(int[] nums) {\r\n            for(int i = 0; i &lt; nums.length; i++) {\r\n                int left_sum = 0;\r\n                int right_sum = 0;\r\n                for(int j = 0; j &lt; i; j++) left_sum += nums[j];\r\n                for(int j = i+1; j &lt; nums.length; j++) right_sum += nums[j];\r\n                if (left_sum == right_sum) return i;\r\n            }\r\n            return -1;\r\n        }","title":"How to improve performance for this leetcode solution?","body":"<p>Some point helps to improve your code.</p>\n<ol>\n<li>Why do you need to create two new ArrayList? It takes time to create/push element to new sub list. You can just calculate left sum and right sum from nums[j].</li>\n<li>You don't need <code>else</code> block. Just return -1 at the end of function. Because if you don't find any pivot <code>i</code>, then return <code>-1</code> as request.</li>\n</ol>\n<p>Code look like this.</p>\n<pre><code>public int pivotIndex(int[] nums) {\n        for(int i = 0; i &lt; nums.length; i++) {\n            int left_sum = 0;\n            int right_sum = 0;\n            for(int j = 0; j &lt; i; j++) left_sum += nums[j];\n            for(int j = i+1; j &lt; nums.length; j++) right_sum += nums[j];\n            if (left_sum == right_sum) return i;\n        }\n        return -1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666940878,"creation_date":1666940878,"answer_id":74231756,"question_id":74230516,"body_markdown":"Try this.\r\n\r\nThere are no nested loops, so this is `O(n)`.\r\n\r\n    public static int pivotIndex(int[] nums) {\r\n        int length = nums.length;\r\n        int pivot = 0, left = 0, right = IntStream.of(nums).skip(1).sum();\r\n        for (;;) {\r\n            if (left == right) return pivot;\r\n            left += nums[pivot];\r\n            if (++pivot &gt;= length) break;\r\n            right -= nums[pivot];\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(pivotIndex(new int[] {2, 1, -1}));\r\n        System.out.println(pivotIndex(new int[] {1, -1, 3}));\r\n        System.out.println(pivotIndex(new int[] {1, 7, 3, 6, 5, 6}));\r\n    }\r\n\r\noutput:\r\n\r\n    0\r\n    2\r\n    3\r\n\r\n","title":"How to improve performance for this leetcode solution?","body":"<p>Try this.</p>\n<p>There are no nested loops, so this is <code>O(n)</code>.</p>\n<pre><code>public static int pivotIndex(int[] nums) {\n    int length = nums.length;\n    int pivot = 0, left = 0, right = IntStream.of(nums).skip(1).sum();\n    for (;;) {\n        if (left == right) return pivot;\n        left += nums[pivot];\n        if (++pivot &gt;= length) break;\n        right -= nums[pivot];\n    }\n    return -1;\n}\n\npublic static void main(String[] args) {\n    System.out.println(pivotIndex(new int[] {2, 1, -1}));\n    System.out.println(pivotIndex(new int[] {1, -1, 3}));\n    System.out.println(pivotIndex(new int[] {1, 7, 3, 6, 5, 6}));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>0\n2\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24950283,"reputation":11,"user_id":18815165,"display_name":"Santiagolp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667187792,"creation_date":1667187792,"answer_id":74258533,"question_id":74230516,"body_markdown":"For anyone curious, I ended up creating another solution to this.\r\n\r\n    class Solution {\r\n        public int pivotIndex(int[] nums) {\r\n            int leftSum = 0, sum = Arrays.stream(nums).sum();\r\n    \r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                if (i != 0) {\r\n                    leftSum += nums[i - 1];\r\n                }\r\n                if (leftSum == sum - leftSum - nums[i]) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\nFor me is easier to understand than the other answers.","title":"How to improve performance for this leetcode solution?","body":"<p>For anyone curious, I ended up creating another solution to this.</p>\n<pre><code>class Solution {\n    public int pivotIndex(int[] nums) {\n        int leftSum = 0, sum = Arrays.stream(nums).sum();\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            if (i != 0) {\n                leftSum += nums[i - 1];\n            }\n            if (leftSum == sum - leftSum - nums[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>For me is easier to understand than the other answers.</p>\n"}],"owner":{"account_id":24950283,"reputation":11,"user_id":18815165,"display_name":"Santiagolp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74258533,"answer_count":3,"score":-4,"last_activity_date":1667187792,"creation_date":1666929518,"question_id":74230516,"body_markdown":"I am solving this Leetcode problem: https://leetcode.com/problems/find-pivot-index/\r\nAnd I came up with this solution:\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Solution {\r\n    public int pivotIndex(int[] nums) {\r\n        Integer result = null;\r\n        List&lt;Integer&gt; right = new ArrayList&lt;&gt;(nums.length);\r\n        List&lt;Integer&gt; left = new ArrayList&lt;&gt;(nums.length);\r\n        int leftSum, rightSum;\r\n\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            leftSum = 0;\r\n            rightSum = 0;\r\n\r\n            for (int j = 0; j &lt; i; j++) {\r\n                left.add(nums[j]);\r\n            }\r\n\r\n            for (int num : left) {\r\n                leftSum += num;\r\n            }\r\n\r\n            for (int j = i + 1; j &lt; nums.length; j++) {\r\n                if (j &gt; nums.length) {\r\n                    right.add(0);\r\n                } else {\r\n                    right.add(nums[j]);\r\n                }\r\n            }\r\n\r\n            for (int num : right) {\r\n                rightSum += num;\r\n            }\r\n\r\n            if (leftSum == rightSum) {\r\n                result = i;\r\n                return result;\r\n            } else {\r\n                result = -1;\r\n                left.clear();\r\n                right.clear();\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nBut I&#39;m getting Time Limit Exceeded...\r\nCan someone help me with some advise on how to make this run faster?\\\r\nBefore, I was instantiating a new ArrayList object at the start of the first for loop, so I changed their  scope so that only one instantiation happens and just cleared the ArrayLists at the end of the for loop.\\\r\nSame for leftSum and rightSum, I changed their scope for the whole method and just change their value to 0 at the start of the first for loop. I figured both these changed would make it faster but apparently didn&#39;t?\\\r\nMy code is slow somewhere else I can&#39;t detect it right now.\r\n\r\nAny tips / good practices would be highly appreciated as someone who&#39;s trying to prepare for the first job interviews in this field :)\r\n\r\n\r\n","title":"How to improve performance for this leetcode solution?","body":"<p>I am solving this Leetcode problem: <a href=\"https://leetcode.com/problems/find-pivot-index/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/find-pivot-index/</a>\nAnd I came up with this solution:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Solution {\n    public int pivotIndex(int[] nums) {\n        Integer result = null;\n        List&lt;Integer&gt; right = new ArrayList&lt;&gt;(nums.length);\n        List&lt;Integer&gt; left = new ArrayList&lt;&gt;(nums.length);\n        int leftSum, rightSum;\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            leftSum = 0;\n            rightSum = 0;\n\n            for (int j = 0; j &lt; i; j++) {\n                left.add(nums[j]);\n            }\n\n            for (int num : left) {\n                leftSum += num;\n            }\n\n            for (int j = i + 1; j &lt; nums.length; j++) {\n                if (j &gt; nums.length) {\n                    right.add(0);\n                } else {\n                    right.add(nums[j]);\n                }\n            }\n\n            for (int num : right) {\n                rightSum += num;\n            }\n\n            if (leftSum == rightSum) {\n                result = i;\n                return result;\n            } else {\n                result = -1;\n                left.clear();\n                right.clear();\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>But I'm getting Time Limit Exceeded...\nCan someone help me with some advise on how to make this run faster?<br />\nBefore, I was instantiating a new ArrayList object at the start of the first for loop, so I changed their  scope so that only one instantiation happens and just cleared the ArrayLists at the end of the for loop.<br />\nSame for leftSum and rightSum, I changed their scope for the whole method and just change their value to 0 at the start of the first for loop. I figured both these changed would make it faster but apparently didn't?<br />\nMy code is slow somewhere else I can't detect it right now.</p>\n<p>Any tips / good practices would be highly appreciated as someone who's trying to prepare for the first job interviews in this field :)</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1667189235,"post_id":74258487,"comment_id":131103865,"body_markdown":"Hi! Is the error point to line `JSONObject imgobject = imghttp.getJSONObject(0)`?","body":"Hi! Is the error point to line <code>JSONObject imgobject = imghttp.getJSONObject(0)</code>?"},{"owner":{"account_id":25947355,"reputation":1,"user_id":19665917,"display_name":"hbtousa"},"score":0,"creation_date":1667231347,"post_id":74258487,"comment_id":131115766,"body_markdown":"I switched the code to this and it solved my issue.  String imageurl = httpimage.toString()","body":"I switched the code to this and it solved my issue.  String imageurl = httpimage.toString()"}],"owner":{"account_id":25947355,"reputation":1,"user_id":19665917,"display_name":"hbtousa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667187449,"creation_date":1667187245,"question_id":74258487,"body_markdown":"By using the code below, I was able to extract the ean,title,upc, and couple other fields from the XML file shown in picture. The problem I have is that I haven&#39;t being able to get the url stored on the &quot;images&quot; field.\r\n\r\n\r\n [enter image description here][1]\r\n\r\n\r\n\r\n    public void onResponse(String response) {\r\n                        // Display response string.\r\n                        //Log.d(&quot;response&quot;, response);\r\n                        output =&quot;&quot;;\r\n                        try {\r\n                            JSONObject jsonresponse = new JSONObject(response);\r\n                            JSONArray jsonarray = jsonresponse.getJSONArray(&quot;items&quot;);\r\n                            JSONObject jsonobject = jsonarray.getJSONObject(0);\r\n                            String name = jsonobject.getString(&quot;title&quot;);                     \r\n                            Toast.makeText(context, &quot;Description&quot;+ name, Toast.LENGTH_SHORT).show();\r\n                            output = name;\r\n                            //Toast.makeText(context, &quot;Imagen:&quot;+output, Toast.LENGTH_SHORT).show();\r\n                            volleyResponseListener.onResponse(output);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3ODJ.png\r\n\r\n\r\n\r\nI tried the code shown below but I got an error. Can anyone please help me?\r\n\r\n\r\n    public void onResponse(String response) {\r\n                        // Display response string.\r\n                        //Log.d(&quot;response&quot;, response);\r\n                        \r\n                        try {\r\n                            JSONObject jsonresponse = new JSONObject(response);\r\n                            JSONArray jsonarray = jsonresponse.getJSONArray(&quot;items&quot;);\r\n                            JSONObject jsonobject = jsonarray.getJSONObject(0);\r\n                            JSONArray imghttp = jsonobject.getJSONArray(&quot;images&quot;);\r\n                            JSONObject imgobject = imghttp.getJSONObject(0);\r\n                            String httpimage = imgobject.getString(&quot;images&quot;);\r\n                            Toast.makeText(context, &quot;Articulo &quot;+ httpimage, Toast.LENGTH_SHORT).show();\r\n                            \r\n                            volleyResponseListener.onResponse(output);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\n\r\nThe error I&#39;m getting is:\r\n\r\n&gt;  &quot;2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at android.app.ActivityThread.main(ActivityThread.java:7898)\r\n    2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at java.lang.reflect.Method.invoke(Native Method)\r\n    2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n    2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n    2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n    2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: at java.util.ArrayList.get(ArrayList.java:437)\r\n    2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: at org.json.JSONArray.get(JSONArray.java:289)&quot;\r\n\r\n\r\n\r\n\r\nThanks\r\n\r\nI would like to add I am working on building an app using Android Studio.\r\n","title":"Unable to read an URL field from an XML file using Java","body":"<p>By using the code below, I was able to extract the ean,title,upc, and couple other fields from the XML file shown in picture. The problem I have is that I haven't being able to get the url stored on the &quot;images&quot; field.</p>\n<p><a href=\"https://i.stack.imgur.com/F3ODJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public void onResponse(String response) {\n                    // Display response string.\n                    //Log.d(&quot;response&quot;, response);\n                    output =&quot;&quot;;\n                    try {\n                        JSONObject jsonresponse = new JSONObject(response);\n                        JSONArray jsonarray = jsonresponse.getJSONArray(&quot;items&quot;);\n                        JSONObject jsonobject = jsonarray.getJSONObject(0);\n                        String name = jsonobject.getString(&quot;title&quot;);                     \n                        Toast.makeText(context, &quot;Description&quot;+ name, Toast.LENGTH_SHORT).show();\n                        output = name;\n                        //Toast.makeText(context, &quot;Imagen:&quot;+output, Toast.LENGTH_SHORT).show();\n                        volleyResponseListener.onResponse(output);\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n</code></pre>\n<p>I tried the code shown below but I got an error. Can anyone please help me?</p>\n<pre><code>public void onResponse(String response) {\n                    // Display response string.\n                    //Log.d(&quot;response&quot;, response);\n                    \n                    try {\n                        JSONObject jsonresponse = new JSONObject(response);\n                        JSONArray jsonarray = jsonresponse.getJSONArray(&quot;items&quot;);\n                        JSONObject jsonobject = jsonarray.getJSONObject(0);\n                        JSONArray imghttp = jsonobject.getJSONArray(&quot;images&quot;);\n                        JSONObject imgobject = imghttp.getJSONObject(0);\n                        String httpimage = imgobject.getString(&quot;images&quot;);\n                        Toast.makeText(context, &quot;Articulo &quot;+ httpimage, Toast.LENGTH_SHORT).show();\n                        \n                        volleyResponseListener.onResponse(output);\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n</code></pre>\n<p>The error I'm getting is:</p>\n<blockquote>\n<p>&quot;2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at android.app.ActivityThread.main(ActivityThread.java:7898)\n2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at java.lang.reflect.Method.invoke(Native Method)\n2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n2022-10-28 13:18:38.006 9846-9846/com.example.weatherapp W/System.err: at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: at java.util.ArrayList.get(ArrayList.java:437)\n2022-10-28 13:18:38.007 9846-9846/com.example.weatherapp W/System.err: at org.json.JSONArray.get(JSONArray.java:289)&quot;</p>\n</blockquote>\n<p>Thanks</p>\n<p>I would like to add I am working on building an app using Android Studio.</p>\n"},{"tags":["java","arrays","algorithm","time-complexity"],"comments":[{"owner":{"account_id":7171011,"reputation":1801,"user_id":5478462,"accept_rate":100,"display_name":"pastaleg"},"score":0,"creation_date":1667119957,"post_id":74251525,"comment_id":131091697,"body_markdown":"There should be a **minimum** of n elements: but you break on line 11. Does the min-match have to be sequential or can they be in any position to the left or right of the pivot?","body":"There should be a <b>minimum</b> of n elements: but you break on line 11. Does the min-match have to be sequential or can they be in any position to the left or right of the pivot?"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1667120950,"post_id":74251525,"comment_id":131091826,"body_markdown":"Simple answer: Count inversions.","body":"Simple answer: Count inversions."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1667136348,"post_id":74251525,"comment_id":131094537,"body_markdown":"@pastaleg, it can be in any position.","body":"@pastaleg, it can be in any position."},{"owner":{"account_id":7171011,"reputation":1801,"user_id":5478462,"accept_rate":100,"display_name":"pastaleg"},"score":0,"creation_date":1667160570,"post_id":74251525,"comment_id":131099779,"body_markdown":"Dont know who closed it but saw your response just now :) I have a solution for time complexity O(n*s)","body":"Dont know who closed it but saw your response just now :) I have a solution for time complexity O(n*s)"},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1667366053,"post_id":74251525,"comment_id":131147602,"body_markdown":"@learner This works for only distinct elements in the array as of now. https://pastebin.com/XJrqfS2e  I have compared my answer with your brute force one and they should match.","body":"@learner This works for only distinct elements in the array as of now. <a href=\"https://pastebin.com/XJrqfS2e\" rel=\"nofollow noreferrer\">pastebin.com/XJrqfS2e</a>  I have compared my answer with your brute force one and they should match."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1667543588,"post_id":74251525,"comment_id":131195483,"body_markdown":"@nice_dev, for this problem the input elements are distinct. For input `[1,3,2,5,4] and 1`, the expected output is 2. But the program you shared is giving me 1 as output. Can you please check this case also.","body":"@nice_dev, for this problem the input elements are distinct. For input <code>[1,3,2,5,4] and 1</code>, the expected output is 2. But the program you shared is giving me 1 as output. Can you please check this case also."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1667545685,"post_id":74251525,"comment_id":131195958,"body_markdown":"@learner Glad that the elements are distinct(lol!). Can you add this important aspect your question? Also, the algorithm I shared works fine on my machine as shown in this image https://imgur.com/a/FefuTg1","body":"@learner Glad that the elements are distinct(lol!). Can you add this important aspect your question? Also, the algorithm I shared works fine on my machine as shown in this image <a href=\"https://imgur.com/a/FefuTg1\" rel=\"nofollow noreferrer\">imgur.com/a/FefuTg1</a>"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":0,"score":0,"last_activity_date":1667187333,"creation_date":1667118374,"question_id":74251525,"body_markdown":"The time complexity of my solution is O(s&lt;sup&gt;2&lt;/sup&gt;), where *s* is the size of the array.\r\nI want to reduce the time complexity of this program: What is the better approach for this?\r\n\r\n**Problem statement:**\r\n\r\nGiven an `array` of numbers of size `s` and variable `n`.\r\n\r\nFind the number of occurrences where :\r\n\r\n 1. There should be a minimum of n elements from (0, i-1) that are\r\n    lower to array[i].\r\n 2. There should be a minimum of n elements from\r\n    (i+1, s-1) that is lower than array[i]\r\n\r\nso basically for a given index, if we have a minimum of n elements to the left and right sides that are lesser than the element at the selected index, then it is a valid occurrence.\r\n\r\n**Example:**\r\n\r\n    array = [1,2,8,5,3,4]\r\n    n = 2\r\n\r\n**Answer:**\r\n\r\n    2\r\n\r\n    Explanation:\r\n\r\n    The possibilities are:\r\n    \r\n    1) For array[2], we have array[0] and array[1] that is 2 elements less than array[2] towards its left side, to the right side we have 3 elements that are an array[3], array[4], array[5]\r\n    \r\n    2) For array[3] we have array[0] and array[1] which are 2 elements less than array[3] towards its left side, to the right side we have 2 elements that are an array[4] and array[5].\r\n\r\n**My code:**\r\n\r\n    int process(List&lt;Integer&gt; array, int n) {\r\n    \tint s = array.size();\r\n    \tList&lt;Integer&gt; left = new ArrayList&lt;&gt;();\r\n    \tfor(int i=0; i&lt;s; i++) {\r\n    \t\tint a = array.get(i);\r\n    \t\tint count = 0;\r\n    \t\tfor(int j=i-1; j&gt;=0; j--) {\r\n    \t\t\tint b = array.get(j);\r\n    \t\t\tif(b&lt;a) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t\tif(count &gt;= n) break;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tleft.add(count);\r\n    \t}\r\n    \t\r\n    \tList&lt;Integer&gt; right = new ArrayList&lt;&gt;();\r\n    \tfor(int i=0; i&lt;s; i++) {\r\n    \t\tint a = array.get(i);\r\n    \t\tint count = 0;\r\n    \t\tfor(int j=i+1; j&lt;s; j++) {\r\n    \t\t\tint b = array.get(j);\r\n    \t\t\tif(b&lt;a) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t\tif(count &gt;= n) break;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tright.add(count);\r\n    \t}\r\n    \tint result = 0;\r\n    \tfor(int i=0; i&lt;s; i++) {\r\n    \t\tint a = left.get(i);\r\n    \t\tint b= right.get(i);\r\n    \t\tif(a &gt;= n &amp;&amp; b &gt;= n) {\r\n    \t\t\tresult++;\r\n    \t\t}\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n\r\n","title":"I want to reduce the time complexity to something lower than O(n^2)","body":"<p>The time complexity of my solution is O(s<sup>2</sup>), where <em>s</em> is the size of the array.\nI want to reduce the time complexity of this program: What is the better approach for this?</p>\n<p><strong>Problem statement:</strong></p>\n<p>Given an <code>array</code> of numbers of size <code>s</code> and variable <code>n</code>.</p>\n<p>Find the number of occurrences where :</p>\n<ol>\n<li>There should be a minimum of n elements from (0, i-1) that are\nlower to array[i].</li>\n<li>There should be a minimum of n elements from\n(i+1, s-1) that is lower than array[i]</li>\n</ol>\n<p>so basically for a given index, if we have a minimum of n elements to the left and right sides that are lesser than the element at the selected index, then it is a valid occurrence.</p>\n<p><strong>Example:</strong></p>\n<pre><code>array = [1,2,8,5,3,4]\nn = 2\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>2\n\nExplanation:\n\nThe possibilities are:\n\n1) For array[2], we have array[0] and array[1] that is 2 elements less than array[2] towards its left side, to the right side we have 3 elements that are an array[3], array[4], array[5]\n\n2) For array[3] we have array[0] and array[1] which are 2 elements less than array[3] towards its left side, to the right side we have 2 elements that are an array[4] and array[5].\n</code></pre>\n<p><strong>My code:</strong></p>\n<pre><code>int process(List&lt;Integer&gt; array, int n) {\n    int s = array.size();\n    List&lt;Integer&gt; left = new ArrayList&lt;&gt;();\n    for(int i=0; i&lt;s; i++) {\n        int a = array.get(i);\n        int count = 0;\n        for(int j=i-1; j&gt;=0; j--) {\n            int b = array.get(j);\n            if(b&lt;a) {\n                count++;\n                if(count &gt;= n) break;\n            }\n        }\n        left.add(count);\n    }\n    \n    List&lt;Integer&gt; right = new ArrayList&lt;&gt;();\n    for(int i=0; i&lt;s; i++) {\n        int a = array.get(i);\n        int count = 0;\n        for(int j=i+1; j&lt;s; j++) {\n            int b = array.get(j);\n            if(b&lt;a) {\n                count++;\n                if(count &gt;= n) break;\n            }\n        }\n        right.add(count);\n    }\n    int result = 0;\n    for(int i=0; i&lt;s; i++) {\n        int a = left.get(i);\n        int b= right.get(i);\n        if(a &gt;= n &amp;&amp; b &gt;= n) {\n            result++;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sqs","amazon-vpc"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1667146163,"post_id":74251634,"comment_id":131096545,"body_markdown":"What is your SQS endpoint URL? It should be sqs.eu-west-1.amazonaws.com for eu-west-1. But, if I understand, you&#39;re saying that you&#39;re having intermittent problems reaching the public SQS endpoint for eu-west-1 and your workaround for this is to use a VPC Endpoint to the regional SQS service. That doesn&#39;t seem right and suggests some other root cause (perhaps networking related).","body":"What is your SQS endpoint URL? It should be sqs.eu-west-1.amazonaws.com for eu-west-1. But, if I understand, you&#39;re saying that you&#39;re having intermittent problems reaching the public SQS endpoint for eu-west-1 and your workaround for this is to use a VPC Endpoint to the regional SQS service. That doesn&#39;t seem right and suggests some other root cause (perhaps networking related)."}],"answers":[{"tags":[],"owner":{"account_id":8993036,"reputation":17,"user_id":6704334,"display_name":"Abdul Renish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667187026,"creation_date":1667141291,"answer_id":74254049,"question_id":74251634,"body_markdown":"Since vpc created, the url with vpc/account/sqs is not the right configuration.\r\n\r\nThe issue is missing `EndpointConfiguration`.\r\n\r\nOn building amazonSQSClient, for VPC end point we have to add VPC endpoint and Queue URL added when sendMessage is called.\r\n\r\n```\r\nAmazonSQSClientBuilder.standard()\r\n\t\t    \t\t\t.withCredentials(new AWSStaticCredentialsProvider(temporaryCredentials)).withEndpointConfiguration(new EndpointConfiguration(vpcURL, Region).build();\r\n\r\namazonSQSClient.sendMessage(new SendMessageRequest(vpc-sqs url/account/queue,message));\r\n```","title":"AWS SQS programmatically accessed via a VPC endpoint throws error","body":"<p>Since vpc created, the url with vpc/account/sqs is not the right configuration.</p>\n<p>The issue is missing <code>EndpointConfiguration</code>.</p>\n<p>On building amazonSQSClient, for VPC end point we have to add VPC endpoint and Queue URL added when sendMessage is called.</p>\n<pre><code>AmazonSQSClientBuilder.standard()\n                        .withCredentials(new AWSStaticCredentialsProvider(temporaryCredentials)).withEndpointConfiguration(new EndpointConfiguration(vpcURL, Region).build();\n\namazonSQSClient.sendMessage(new SendMessageRequest(vpc-sqs url/account/queue,message));\n</code></pre>\n"}],"owner":{"account_id":8993036,"reputation":17,"user_id":6704334,"display_name":"Abdul Renish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74254049,"answer_count":1,"score":-1,"last_activity_date":1667187026,"creation_date":1667119528,"question_id":74251634,"body_markdown":"For Amazon SQS service, due to the SQS public IPs, which keep changing dynamically and for some of these IPs, intermittently the port is blocked, system fails in multiple attempts of queue sending. To overcome that, we created a VPC. Now, programmatically sending to SQS using VPC URL also fails because _&quot;Credential should be scoped to a valid region&quot;_.\r\n\r\nWe have an SQS and accessed via a VPC. We use the code as simple like below:\r\n\r\n```\r\n@Bean\r\npublic AmazonSQSClient amazonSQSClient()\r\n.\r\n.\r\n.\r\nreturn (AmazonSQSClient) AmazonSQSClientBuilder.standard().withRegion(Regions.EU_WEST_1)\r\n\t\t    \t\t\t.withCredentials(new AWSStaticCredentialsProvider(..))\r\n\t\t    \t\t\t.build();\r\n```\r\nAnd in a function where autowired\r\n```\r\namazonSQSClient.sendMessage(new SendMessageRequest(sqsUrl + &quot;/accid/qname&quot;, message));\r\n```\r\n\r\nSending a message to queue, we receive the error:\r\n\r\n&gt; Caught an AmazonServiceException, which means your request made it to\r\n&gt; Amazon SQS, but was rejected with an error response for some reason.\r\n&gt; Error Message:    Credential should be scoped to a valid region.\r\n&gt; (Service: AmazonSQS; Status Code: 403; Error Code:\r\n&gt; SignatureDoesNotMatch;\r\n\r\n","title":"AWS SQS programmatically accessed via a VPC endpoint throws error","body":"<p>For Amazon SQS service, due to the SQS public IPs, which keep changing dynamically and for some of these IPs, intermittently the port is blocked, system fails in multiple attempts of queue sending. To overcome that, we created a VPC. Now, programmatically sending to SQS using VPC URL also fails because <em>&quot;Credential should be scoped to a valid region&quot;</em>.</p>\n<p>We have an SQS and accessed via a VPC. We use the code as simple like below:</p>\n<pre><code>@Bean\npublic AmazonSQSClient amazonSQSClient()\n.\n.\n.\nreturn (AmazonSQSClient) AmazonSQSClientBuilder.standard().withRegion(Regions.EU_WEST_1)\n                        .withCredentials(new AWSStaticCredentialsProvider(..))\n                        .build();\n</code></pre>\n<p>And in a function where autowired</p>\n<pre><code>amazonSQSClient.sendMessage(new SendMessageRequest(sqsUrl + &quot;/accid/qname&quot;, message));\n</code></pre>\n<p>Sending a message to queue, we receive the error:</p>\n<blockquote>\n<p>Caught an AmazonServiceException, which means your request made it to\nAmazon SQS, but was rejected with an error response for some reason.\nError Message:    Credential should be scoped to a valid region.\n(Service: AmazonSQS; Status Code: 403; Error Code:\nSignatureDoesNotMatch;</p>\n</blockquote>\n"},{"tags":["java","constructor","initialization"],"comments":[{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":5,"creation_date":1525793089,"post_id":14805547,"comment_id":87491637,"body_markdown":"**TL;DR:** The new&#39;s in the class member initializations are implicitly put at the top of the constructors.","body":"<b>TL;DR:</b> The new&#39;s in the class member initializations are implicitly put at the top of the constructors."}],"answers":[{"comments":[{"owner":{"account_id":1587132,"reputation":6980,"user_id":1471203,"accept_rate":89,"display_name":"Rais Alam"},"score":0,"creation_date":1360555672,"post_id":14805608,"comment_id":20737373,"body_markdown":"Great explanation @Arun P Johhny +1 for you.","body":"Great explanation @Arun P Johhny +1 for you."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1451513690,"post_id":14805608,"comment_id":56818330,"body_markdown":"The *initialization* of the instance variable is moved inside the constructor.","body":"The <i>initialization</i> of the instance variable is moved inside the constructor."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1519586968,"post_id":14805608,"comment_id":84960169,"body_markdown":"At least not another wrong interpretation of the spec. It is incomplete but helps explaining what happens.","body":"At least not another wrong interpretation of the spec. It is incomplete but helps explaining what happens."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1685795434,"post_id":14805608,"comment_id":134712994,"body_markdown":"Why don&#39;t I see a `super()` call if it&#39;s decompiled code?","body":"Why don&#39;t I see a <code>super()</code> call if it&#39;s decompiled code?"}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":4,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1360554743,"creation_date":1360554430,"answer_id":14805608,"question_id":14805547,"body_markdown":"If you look at the decompiled version of the class file\r\n\r\n    class X {\r\n        Y b;\r\n\r\n        X() {\r\n            b = new Y();\r\n            System.out.print(&quot;X&quot;);\r\n        }\r\n    }\r\n    \r\n    class Y {\r\n        Y() {\r\n            System.out.print(&quot;Y&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Z extends X {\r\n    \r\n        Y y;\r\n    \r\n        Z() {\r\n            y = new Y();\r\n            System.out.print(&quot;Z&quot;);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            new Z();\r\n        }\r\n    }\r\n\r\nYou can find that the instance variable `y` is moved inside the constructor, so the execution sequence is as follows\r\n\r\n\r\n1. Call the constructor of `Z`\r\n2. It triggers the default constructor of `X`\r\n3. First line of `X` constructor `new Y()` is called.\r\n4. Print Y\r\n5. Print X\r\n6. Call the first line in constructor Z `new Y()`\r\n7. Print `Y`\r\n8. Print Z\r\n\r\nAll the instance variables are initialized by using constructor statements.    \r\n\r\n","title":"Are fields initialized before constructor code is run in Java?","body":"<p>If you look at the decompiled version of the class file</p>\n\n<pre><code>class X {\n    Y b;\n\n    X() {\n        b = new Y();\n        System.out.print(\"X\");\n    }\n}\n\nclass Y {\n    Y() {\n        System.out.print(\"Y\");\n    }\n}\n\npublic class Z extends X {\n\n    Y y;\n\n    Z() {\n        y = new Y();\n        System.out.print(\"Z\");\n    }\n\n    public static void main(String args[]) {\n        new Z();\n    }\n}\n</code></pre>\n\n<p>You can find that the instance variable <code>y</code> is moved inside the constructor, so the execution sequence is as follows</p>\n\n<ol>\n<li>Call the constructor of <code>Z</code></li>\n<li>It triggers the default constructor of <code>X</code></li>\n<li>First line of <code>X</code> constructor <code>new Y()</code> is called.</li>\n<li>Print Y</li>\n<li>Print X</li>\n<li>Call the first line in constructor Z <code>new Y()</code></li>\n<li>Print <code>Y</code></li>\n<li>Print Z</li>\n</ol>\n\n<p>All the instance variables are initialized by using constructor statements.    </p>\n"},{"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":3,"creation_date":1452721453,"post_id":14806340,"comment_id":57300296,"body_markdown":"Link to JLS for Java 8: http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5","body":"Link to JLS for Java 8: <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12&zwnj;&#8203;.5</a>"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1518924042,"post_id":14806340,"comment_id":84700125,"body_markdown":"And also wrong - see my comment to @&#211;scarL&#243;pez with same issue. Note that `static` is simply not part of the documentation section you are referring.","body":"And also wrong - see my comment to @&#211;scarL&#243;pez with same issue. Note that <code>static</code> is simply not part of the documentation section you are referring."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1518925095,"post_id":14806340,"comment_id":84700268,"body_markdown":"The other article with the comment has been deleted - but I supplied the specifics in a supplementary answer with sample code. Not a complete answer - but at least highlights the `static {}` case.","body":"The other article with the comment has been deleted - but I supplied the specifics in a supplementary answer with sample code. Not a complete answer - but at least highlights the <code>static {}</code> case."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1519970939,"post_id":14806340,"comment_id":85132339,"body_markdown":"@YoYo This answer agrees with the JLS: specifically, in respect of the execution you mention in your answer, with [&#167;12.4.2](http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4.2) item 9. If your implementation doesn&#39;t comply with the JLS, report it as a bug.","body":"@YoYo This answer agrees with the JLS: specifically, in respect of the execution you mention in your answer, with <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">&#167;12.4.2</a> item 9. If your implementation doesn&#39;t comply with the JLS, report it as a bug."},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1519972031,"post_id":14806340,"comment_id":85132650,"body_markdown":"What confuses is that class and instance instantiation is discussed separately. I guess that leaves implementation specifics open in how the two will intermix.","body":"What confuses is that class and instance instantiation is discussed separately. I guess that leaves implementation specifics open in how the two will intermix."},{"owner":{"account_id":6992890,"reputation":552,"user_id":5361482,"display_name":"Murphy Ng"},"score":0,"creation_date":1549719011,"post_id":14806340,"comment_id":96008523,"body_markdown":"It&#39;s worth pointing out that the &quot;in textural order&quot; in step 3 applys to interleaved order of both instance initialisation blocks(IIB) and Instance variable initialiser(IVB) which means there can be the execution order such as IIB1, IVB1, IIB2, IVB2.","body":"It&#39;s worth pointing out that the &quot;in textural order&quot; in step 3 applys to interleaved order of both instance initialisation blocks(IIB) and Instance variable initialiser(IVB) which means there can be the execution order such as IIB1, IVB1, IIB2, IVB2."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1561460241,"post_id":14806340,"comment_id":100062492,"body_markdown":"@YoYo Not at all. The class has to be fully initialized before the instance can be created. Surely this is obvious?","body":"@YoYo Not at all. The class has to be fully initialized before the instance can be created. Surely this is obvious?"},{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1561943150,"post_id":14806340,"comment_id":100210574,"body_markdown":"See my answer - I was able to create an instance *before* full static initialization. All I had to do is create the instance in a static context, kind of the same way enum values are created.","body":"See my answer - I was able to create an instance <i>before</i> full static initialization. All I had to do is create the instance in a static context, kind of the same way enum values are created."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":8,"down_vote_count":1,"up_vote_count":138,"is_accepted":false,"score":137,"last_activity_date":1473902169,"creation_date":1360560109,"answer_id":14806340,"question_id":14805547,"body_markdown":"The correct order of initialisation is:\r\n\r\n1. Static variable initialisers and static initialisation blocks, in textual order, if the class hasn&#39;t been previously initialised.\r\n2. The super() call in the constructor, whether explicit or implicit.\r\n3. Instance variable initialisers and instance initialisation blocks, in textual order.\r\n4. Remaining body of constructor after super().\r\n\r\nSee sections [&#167;2.17.5-6 of the Java Virtual Machine Specification](http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5).","title":"Are fields initialized before constructor code is run in Java?","body":"<p>The correct order of initialisation is:</p>\n\n<ol>\n<li>Static variable initialisers and static initialisation blocks, in textual order, if the class hasn't been previously initialised.</li>\n<li>The super() call in the constructor, whether explicit or implicit.</li>\n<li>Instance variable initialisers and instance initialisation blocks, in textual order.</li>\n<li>Remaining body of constructor after super().</li>\n</ol>\n\n<p>See sections <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"noreferrer\">§2.17.5-6 of the Java Virtual Machine Specification</a>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1615786410,"post_id":48848146,"comment_id":117789476,"body_markdown":"This is because of `private static Foo instance = new Foo();`, which runs before the 2nd static block. In fact it *is* the 2nd static block, and what you have labelled 2nd is really 3rd. No mystery here.","body":"This is because of <code>private static Foo instance = new Foo();</code>, which runs before the 2nd static block. In fact it <i>is</i> the 2nd static block, and what you have labelled 2nd is really 3rd. No mystery here."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1652355903,"post_id":48848146,"comment_id":127589096,"body_markdown":"I think the takeaway here is to always make sure that `static` fields containing instantiations of the class they&#39;re written in, are the last `static` initializations within the class. For example, wrong is: `class Color { static final Color RED = new Color(255,0,0); static { ... } }`, right is: `class Color { static { ... } static final Color RED = new Color(255,0,0); }`.","body":"I think the takeaway here is to always make sure that <code>static</code> fields containing instantiations of the class they&#39;re written in, are the last <code>static</code> initializations within the class. For example, wrong is: <code>class Color { static final Color RED = new Color(255,0,0); static { ... } }</code>, right is: <code>class Color { static { ... } static final Color RED = new Color(255,0,0); }</code>."}],"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1652355588,"creation_date":1518924443,"answer_id":48848146,"question_id":14805547,"body_markdown":"To clarify the misconceptions with static - I will simply refer to this small piece of code:\r\n\r\n```java\r\npublic class Foo {\r\n\r\n    {\r\n        System.out.println(&quot;Instance Block 1&quot;);\r\n    }\r\n\r\n    static {\r\n        System.out.println(&quot;Static Block 1&quot;);\r\n    }\r\n\r\n    public static final Foo FOO = new Foo();\r\n\r\n    {\r\n        System.out.println(&quot;Instance Block 2&quot;);\r\n    }\r\n\r\n    static {\r\n        System.out.println(&quot;Static Block 2 (Weird!!)&quot;);\r\n    }\r\n\r\n    public Foo() {\r\n        System.out.println(&quot;Constructor&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;In Main&quot;);\r\n        new Foo();\r\n    }\r\n}\r\n```\r\n\r\nSurprise is that the output is as follows:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Static Block 1\r\n    Instance Block 1\r\n    Instance Block 2\r\n    Constructor\r\n    Static Block 2 (Weird!!)\r\n    In Main\r\n    Instance Block 1\r\n    Instance Block 2\r\n    Constructor\r\n\r\nNote that we have a `static {}` that is called *after* two instance `{}`. this happens because we throw in the constructor in the middle, interjecting execution order the first time the constructor is called.\r\n\r\nDiscovered this when I was working on this answer - https://stackoverflow.com/a/30837385/744133.\r\n\r\nBasically we observe this to happen: \r\n\r\n 1. During the first time an object is initialized, \r\nInitialize current object for both static and instance initialization intermixed based on order of occurrence\r\n\r\n 2. For all next initializations, only do the instance initialization in the order of occurrence, as static initialization already happened. \r\n\r\nI need to research how the mix of inheritance, and both explicit and implicit calls to super and this will affect this, and will update with findings. It would be likely similar to the other supplied answers, except that they got it wrong with the static initialization. ","title":"Are fields initialized before constructor code is run in Java?","body":"<p>To clarify the misconceptions with static - I will simply refer to this small piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    {\n        System.out.println(&quot;Instance Block 1&quot;);\n    }\n\n    static {\n        System.out.println(&quot;Static Block 1&quot;);\n    }\n\n    public static final Foo FOO = new Foo();\n\n    {\n        System.out.println(&quot;Instance Block 2&quot;);\n    }\n\n    static {\n        System.out.println(&quot;Static Block 2 (Weird!!)&quot;);\n    }\n\n    public Foo() {\n        System.out.println(&quot;Constructor&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;In Main&quot;);\n        new Foo();\n    }\n}\n</code></pre>\n<p>Surprise is that the output is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Static Block 1\nInstance Block 1\nInstance Block 2\nConstructor\nStatic Block 2 (Weird!!)\nIn Main\nInstance Block 1\nInstance Block 2\nConstructor\n</code></pre>\n<p>Note that we have a <code>static {}</code> that is called <em>after</em> two instance <code>{}</code>. this happens because we throw in the constructor in the middle, interjecting execution order the first time the constructor is called.</p>\n<p>Discovered this when I was working on this answer - <a href=\"https://stackoverflow.com/a/30837385/744133\">https://stackoverflow.com/a/30837385/744133</a>.</p>\n<p>Basically we observe this to happen:</p>\n<ol>\n<li><p>During the first time an object is initialized,\nInitialize current object for both static and instance initialization intermixed based on order of occurrence</p>\n</li>\n<li><p>For all next initializations, only do the instance initialization in the order of occurrence, as static initialization already happened.</p>\n</li>\n</ol>\n<p>I need to research how the mix of inheritance, and both explicit and implicit calls to super and this will affect this, and will update with findings. It would be likely similar to the other supplied answers, except that they got it wrong with the static initialization.</p>\n"},{"comments":[{"owner":{"account_id":11047947,"reputation":1318,"user_id":8113350,"display_name":"Sen"},"score":2,"creation_date":1545748929,"post_id":51713544,"comment_id":94688293,"body_markdown":"So you are basically trying to show that the constructor will keep on invoking itself (because of the line private Tester internalInstance = new Tester();) before the control comes to the throw section. Is my understanding correct?","body":"So you are basically trying to show that the constructor will keep on invoking itself (because of the line private Tester internalInstance = new Tester();) before the control comes to the throw section. Is my understanding correct?"}],"tags":[],"owner":{"account_id":4638095,"reputation":9506,"user_id":3758710,"accept_rate":82,"display_name":"Vivek Pratap Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533579691,"creation_date":1533579691,"answer_id":51713544,"question_id":14805547,"body_markdown":"**When you invoke a constructor, the instance variable initializers run before the body of the constructor.** What do you think the output of the below program ?\r\n\r\n    public class Tester {\r\n        private Tester internalInstance = new Tester();\r\n        public Tester() throws Exception {\r\n            throw new Exception(&quot;Boom&quot;);\r\n        }\r\n        public static void main(String[] args) {\r\n            try {\r\n                Tester b = new Tester();\r\n                System.out.println(&quot;Eye-Opener!&quot;);\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Exception catched&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe main method invokes the Tester constructor, which throws an exception. You might expect the catch clause to catch this exception and print *Exception catched*.\r\nBut if you tried running it, you\r\nfound that it does nothing of that sort and It throws a `StackOverflowError`.","title":"Are fields initialized before constructor code is run in Java?","body":"<p><strong>When you invoke a constructor, the instance variable initializers run before the body of the constructor.</strong> What do you think the output of the below program ?</p>\n\n<pre><code>public class Tester {\n    private Tester internalInstance = new Tester();\n    public Tester() throws Exception {\n        throw new Exception(\"Boom\");\n    }\n    public static void main(String[] args) {\n        try {\n            Tester b = new Tester();\n            System.out.println(\"Eye-Opener!\");\n        } catch (Exception ex) {\n            System.out.println(\"Exception catched\");\n        }\n    }\n}\n</code></pre>\n\n<p>The main method invokes the Tester constructor, which throws an exception. You might expect the catch clause to catch this exception and print <em>Exception catched</em>.\nBut if you tried running it, you\nfound that it does nothing of that sort and It throws a <code>StackOverflowError</code>.</p>\n"},{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667185117,"creation_date":1667132843,"answer_id":74253037,"question_id":14805547,"body_markdown":"Observe the code: \r\n\r\n\r\n\r\n\tpublic class CodeBlockSeq {\r\n\t  static int k = 0;\r\n\t  static protected String log(Class&lt;?&gt; cls, String message) {\r\n\t\treturn log(cls, &quot;static&quot;, message);\r\n\t  }\r\n\t  static protected String log(Class&lt;?&gt; cls, String name, String message) {\r\n\t\tSystem.out.println(k++ +&quot;:&quot;+  cls.getSimpleName() +&#39;:&#39;+ name +&#39;:&#39;+ message );\r\n\t\treturn message;\r\n\t  }\r\n\r\n\t  static public class Hello {\r\n\t\tfinal protected String name;\r\n\r\n\t\tprivate static String s0 = CodeBlockSeq.log(Hello.class,&quot;var 0&quot;);\r\n\t\tprivate String a0 = log(Hello.class,&quot;var 0&quot;);\r\n\t\tstatic {\r\n\t\t  CodeBlockSeq.log(Hello.class, &quot;block 0&quot;);\r\n\t\t}\r\n\t\tprivate static String s1 = CodeBlockSeq.log(Hello.class,&quot;var 1&quot;);\r\n\t\tprivate String a1 = log(Hello.class, &quot;var 1&quot;);\r\n\t\t{\r\n\t\t  log(Hello.class, &quot;init block 1&quot;);\r\n\t\t}\r\n\r\n\t\tpublic Hello(String name) {\r\n\t\t  this.name = name;\r\n\t\t  log(Hello.class,&quot;Constructor\\n&quot;);\r\n\t\t}\r\n\t\tprivate static String s2 = CodeBlockSeq.log(Hello.class,&quot;var 2&quot;);\r\n\t\tprivate String a2 = log(Hello.class, &quot;var 2&quot;);\r\n\t\t{\r\n\t\t  log(Hello.class, &quot;init block 2&quot;);\r\n\t\t}\r\n\t\tstatic {\r\n\t\t  CodeBlockSeq.log(Hello.class, &quot;block 2&quot;);\r\n\t\t}\r\n\r\n\t\tprivate static String s3 = CodeBlockSeq.log(Hello.class,&quot;var 3&quot;);\r\n\t\tprivate String a3 = log(Hello.class, &quot;var 3&quot;);\r\n\t\t{\r\n\t\t  log(Hello.class, &quot;init block 3&quot;);\r\n\t\t}\r\n\r\n\t\tprivate static String s4 = CodeBlockSeq.log(Hello.class, &quot;var 4&quot;);\r\n\r\n\t\tprotected String log(Class&lt;?&gt; cls, String message) {\r\n\t\t  return CodeBlockSeq.log(cls, &quot;Hello-&quot;+name, message);\r\n\t\t}\r\n\r\n\t  }\r\n\r\n\t  static public class Bello extends Hello {\r\n\t//\tstatic private Hello s0 = new Hello(&quot;jello&quot;);\r\n\t\tprivate static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\r\n\t\tprivate String a0 = log(Bello.class, &quot;var 0&quot;);\r\n\t\tstatic {\r\n\t\t  CodeBlockSeq.log(Bello.class, &quot;block 0&quot;);\r\n\t\t}\r\n\t\tprivate static String s1 = CodeBlockSeq.log(Bello.class,&quot;var 1&quot;);\r\n\t\tprivate String a1 = log(Bello.class, &quot;var 1&quot;);\r\n\t\t{\r\n\t\t  log(Bello.class, &quot;init block 1&quot;);\r\n\t\t}\r\n\r\n\t\tpublic Bello(String name) {\r\n\t\t  super(name);\r\n\t\t  log(Bello.class, &quot;Constructor\\n&quot;);\r\n\t\t}\r\n\r\n\t\tprivate static String s2 = CodeBlockSeq.log(Bello.class,&quot;var 2&quot;);\r\n\t\tprivate String a2 = log(Bello.class, &quot;var 2&quot;);\r\n\t\t{\r\n\t\t  log(Bello.class, &quot;init block 2&quot;);\r\n\t\t}\r\n\t\tstatic {\r\n\t\t  CodeBlockSeq.log(Bello.class, &quot;block 2&quot;);\r\n\t\t}\r\n\r\n\t\tprivate static String s3 = CodeBlockSeq.log(Bello.class,&quot;var 3&quot;);\r\n\t\tprivate String a3 = log(Bello.class, &quot;var 3&quot;);\r\n\t\t{\r\n\t\t  log(Bello.class, &quot;init block 3&quot;);\r\n\t\t}\r\n\r\n\t\tprivate static String s4 = CodeBlockSeq.log(Bello.class,&quot;var 4&quot;);\r\n\t\tpublic String getName() {\r\n\t\t  return this.name;\r\n\t\t}\r\n\t\tprotected String log(Class&lt;?&gt; cls, String message) {\r\n\t\t  return null;\r\n\t\t}\r\n\t  }\r\n\r\n\t  @Test\r\n\t  public void testIt() {\r\n\t\tHello x = new Bello(&quot;pollo&quot;) {\r\n\t\t  private String a1 = log(this.getClass(), &quot;var 1&quot;);\r\n\t\t  {\r\n\t\t\tlog(this.getClass(), &quot;init block 1&quot;);\r\n\t\t  }\r\n\t\t  private String a2 = log(this.getClass(), &quot;var 2&quot;);\r\n\t\t  {\r\n\t\t\tlog(this.getClass(), &quot;init block 2&quot;);\r\n\t\t  }\r\n\t\t  private String a3 = log(this.getClass(), &quot;var 3&quot;);\r\n\t\t  {\r\n\t\t\tlog(this.getClass(), &quot;init block 3&quot;);\r\n\t\t  }\r\n\r\n\t\t  protected String log(Class&lt;?&gt; cls, String message) {\r\n\t\t\treturn CodeBlockSeq.log(cls, &quot;pollo-&quot;+name, message);\r\n\t\t  }\r\n\r\n\t\t};\r\n\t  }\r\n\t}\r\n\r\n\r\n\r\nRunning the test would produce:\r\n\r\n\t0:Hello:static:var 0\r\n\t1:Hello:static:block 0\r\n\t2:Hello:static:var 1\r\n\t3:Hello:static:var 2\r\n\t4:Hello:static:block 2\r\n\t5:Hello:static:var 3\r\n\t6:Hello:static:var 4\r\n\t7:Bello:static:var 0\r\n\t8:Bello:static:block 0\r\n\t9:Bello:static:var 1\r\n\t10:Bello:static:var 2\r\n\t11:Bello:static:block 2\r\n\t12:Bello:static:var 3\r\n\t13:Bello:static:var 4\r\n\t14:Hello:pollo-null:var 0\r\n\t15:Hello:pollo-null:var 1\r\n\t16:Hello:pollo-null:init block 1\r\n\t17:Hello:pollo-null:var 2\r\n\t18:Hello:pollo-null:init block 2\r\n\t19:Hello:pollo-null:var 3\r\n\t20:Hello:pollo-null:init block 3\r\n\t21:Hello:pollo-pollo:Constructor\r\n\r\n\t22:Bello:pollo-pollo:var 0\r\n\t23:Bello:pollo-pollo:var 1\r\n\t24:Bello:pollo-pollo:init block 1\r\n\t25:Bello:pollo-pollo:var 2\r\n\t26:Bello:pollo-pollo:init block 2\r\n\t27:Bello:pollo-pollo:var 3\r\n\t28:Bello:pollo-pollo:init block 3\r\n\t29:Bello:pollo-pollo:Constructor\r\n\r\n\t30::pollo-pollo:var 1\r\n\t31::pollo-pollo:init block 1\r\n\t32::pollo-pollo:var 2\r\n\t33::pollo-pollo:init block 2\r\n\t34::pollo-pollo:var 3\r\n\t35::pollo-pollo:init block 3\r\n\r\nNotice that they are run in this order:\r\n1. static blocks and objects of parent class\r\n   - in the order that they are declared.\r\n2. static blocks and objects of extension class\r\n   - in the order that they are declared.\r\n3. instance blocks and objects of parent class\r\n   - in the order that they are declared.\r\n4. parent constructor\r\n5. instance blocks and objects of extension class\r\n   - in the order that they are declared.\r\n6. extension class constructor\r\n7. instance blocks and objects of anonymous extension class\r\n   - in the order that they are declared.\r\n\r\n\r\nNotice that:\r\n\r\n\t//\tstatic private Hello s0 = new Hello(&quot;jello&quot;);\r\n\tprivate static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\r\n\r\nIs a static object that is printed as the first line.\r\n\r\n**What if**\r\nreplace that with:  \r\n\r\n    static private Hello s0 = new Hello(&quot;jello&quot;);\r\n    //\tprivate static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\r\n\r\nSo that it will print in this order\r\n1. static blocks and objects of parent class\r\n   - in the order that they are declared.\r\n\r\n2. Then the first static member of extension class Bello\r\n\r\n   - 2.1 static blocks and objects of jello&#39;s static class\r\n      - But has already run in step 1, so was not done again.\r\n\r\n   - 2.2 instance blocks and objects of jello instance\r\n      - in the order that they are declared.\r\n   - 2.3 constructor for jello instance\r\n\r\n   - 2.4 The rest of the static blocks and objects of extension class\r\n     - in the order that they are declared.\r\n\r\n\r\nJust as it would have done for static String s0.\r\n\r\nThen\r\n\r\n3. instance blocks and objects of parent class\r\n   - in the order that they are declared.\r\n4. parent constructor\r\n5. instance blocks and objects of extension class\r\n   - in the order that they are declared.\r\n6. extension class constructor\r\n7. instance blocks and objects of anonymous extension class\r\n   - in the order that they are declared.\r\n\r\n&lt;br/&gt;\r\n\r\n\t0:Hello:static:var 0\r\n\t1:Hello:static:block 0\r\n\t2:Hello:static:var 1\r\n\t3:Hello:static:var 2\r\n\t4:Hello:static:block 2\r\n\t5:Hello:static:var 3\r\n\t6:Hello:static:var 4\r\n\t7:Hello:Hello-null:var 0\r\n\t8:Hello:Hello-null:var 1\r\n\t9:Hello:Hello-null:init block 1\r\n\t10:Hello:Hello-null:var 2\r\n\t11:Hello:Hello-null:init block 2\r\n\t12:Hello:Hello-null:var 3\r\n\t13:Hello:Hello-null:init block 3\r\n\t14:Hello:Hello-jello:Constructor\r\n\r\n\t15:Bello:static:block 0\r\n\t16:Bello:static:var 1\r\n\t17:Bello:static:var 2\r\n\t18:Bello:static:block 2\r\n\t19:Bello:static:var 3\r\n\t20:Bello:static:var 4\r\n\t21:Hello:pollo-null:var 0\r\n\t22:Hello:pollo-null:var 1\r\n\t23:Hello:pollo-null:init block 1\r\n\t24:Hello:pollo-null:var 2\r\n\t25:Hello:pollo-null:init block 2\r\n\t26:Hello:pollo-null:var 3\r\n\t27:Hello:pollo-null:init block 3\r\n\t28:Hello:pollo-pollo:Constructor\r\n\r\n\t29:Bello:pollo-pollo:var 0\r\n\t30:Bello:pollo-pollo:var 1\r\n\t31:Bello:pollo-pollo:init block 1\r\n\t32:Bello:pollo-pollo:var 2\r\n\t33:Bello:pollo-pollo:init block 2\r\n\t34:Bello:pollo-pollo:var 3\r\n\t35:Bello:pollo-pollo:init block 3\r\n\t36:Bello:pollo-pollo:Constructor\r\n\r\n\t37::pollo-pollo:var 1\r\n\t38::pollo-pollo:init block 1\r\n\t39::pollo-pollo:var 2\r\n\t40::pollo-pollo:init block 2\r\n\t41::pollo-pollo:var 3\r\n\t42::pollo-pollo:init block 3\r\n\r\n\r\nJust because the static object s0 changed from String to Hello class, the java runtime does not have built-in intelligence to, make an exception for and then, relegate s0 to the back of the execution queue. It does not matter what class s0 is.\r\n\r\n","title":"Are fields initialized before constructor code is run in Java?","body":"<p>Observe the code:</p>\n<pre><code>public class CodeBlockSeq {\n  static int k = 0;\n  static protected String log(Class&lt;?&gt; cls, String message) {\n    return log(cls, &quot;static&quot;, message);\n  }\n  static protected String log(Class&lt;?&gt; cls, String name, String message) {\n    System.out.println(k++ +&quot;:&quot;+  cls.getSimpleName() +':'+ name +':'+ message );\n    return message;\n  }\n\n  static public class Hello {\n    final protected String name;\n\n    private static String s0 = CodeBlockSeq.log(Hello.class,&quot;var 0&quot;);\n    private String a0 = log(Hello.class,&quot;var 0&quot;);\n    static {\n      CodeBlockSeq.log(Hello.class, &quot;block 0&quot;);\n    }\n    private static String s1 = CodeBlockSeq.log(Hello.class,&quot;var 1&quot;);\n    private String a1 = log(Hello.class, &quot;var 1&quot;);\n    {\n      log(Hello.class, &quot;init block 1&quot;);\n    }\n\n    public Hello(String name) {\n      this.name = name;\n      log(Hello.class,&quot;Constructor\\n&quot;);\n    }\n    private static String s2 = CodeBlockSeq.log(Hello.class,&quot;var 2&quot;);\n    private String a2 = log(Hello.class, &quot;var 2&quot;);\n    {\n      log(Hello.class, &quot;init block 2&quot;);\n    }\n    static {\n      CodeBlockSeq.log(Hello.class, &quot;block 2&quot;);\n    }\n\n    private static String s3 = CodeBlockSeq.log(Hello.class,&quot;var 3&quot;);\n    private String a3 = log(Hello.class, &quot;var 3&quot;);\n    {\n      log(Hello.class, &quot;init block 3&quot;);\n    }\n\n    private static String s4 = CodeBlockSeq.log(Hello.class, &quot;var 4&quot;);\n\n    protected String log(Class&lt;?&gt; cls, String message) {\n      return CodeBlockSeq.log(cls, &quot;Hello-&quot;+name, message);\n    }\n\n  }\n\n  static public class Bello extends Hello {\n//  static private Hello s0 = new Hello(&quot;jello&quot;);\n    private static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\n    private String a0 = log(Bello.class, &quot;var 0&quot;);\n    static {\n      CodeBlockSeq.log(Bello.class, &quot;block 0&quot;);\n    }\n    private static String s1 = CodeBlockSeq.log(Bello.class,&quot;var 1&quot;);\n    private String a1 = log(Bello.class, &quot;var 1&quot;);\n    {\n      log(Bello.class, &quot;init block 1&quot;);\n    }\n\n    public Bello(String name) {\n      super(name);\n      log(Bello.class, &quot;Constructor\\n&quot;);\n    }\n\n    private static String s2 = CodeBlockSeq.log(Bello.class,&quot;var 2&quot;);\n    private String a2 = log(Bello.class, &quot;var 2&quot;);\n    {\n      log(Bello.class, &quot;init block 2&quot;);\n    }\n    static {\n      CodeBlockSeq.log(Bello.class, &quot;block 2&quot;);\n    }\n\n    private static String s3 = CodeBlockSeq.log(Bello.class,&quot;var 3&quot;);\n    private String a3 = log(Bello.class, &quot;var 3&quot;);\n    {\n      log(Bello.class, &quot;init block 3&quot;);\n    }\n\n    private static String s4 = CodeBlockSeq.log(Bello.class,&quot;var 4&quot;);\n    public String getName() {\n      return this.name;\n    }\n    protected String log(Class&lt;?&gt; cls, String message) {\n      return null;\n    }\n  }\n\n  @Test\n  public void testIt() {\n    Hello x = new Bello(&quot;pollo&quot;) {\n      private String a1 = log(this.getClass(), &quot;var 1&quot;);\n      {\n        log(this.getClass(), &quot;init block 1&quot;);\n      }\n      private String a2 = log(this.getClass(), &quot;var 2&quot;);\n      {\n        log(this.getClass(), &quot;init block 2&quot;);\n      }\n      private String a3 = log(this.getClass(), &quot;var 3&quot;);\n      {\n        log(this.getClass(), &quot;init block 3&quot;);\n      }\n\n      protected String log(Class&lt;?&gt; cls, String message) {\n        return CodeBlockSeq.log(cls, &quot;pollo-&quot;+name, message);\n      }\n\n    };\n  }\n}\n</code></pre>\n<p>Running the test would produce:</p>\n<pre><code>0:Hello:static:var 0\n1:Hello:static:block 0\n2:Hello:static:var 1\n3:Hello:static:var 2\n4:Hello:static:block 2\n5:Hello:static:var 3\n6:Hello:static:var 4\n7:Bello:static:var 0\n8:Bello:static:block 0\n9:Bello:static:var 1\n10:Bello:static:var 2\n11:Bello:static:block 2\n12:Bello:static:var 3\n13:Bello:static:var 4\n14:Hello:pollo-null:var 0\n15:Hello:pollo-null:var 1\n16:Hello:pollo-null:init block 1\n17:Hello:pollo-null:var 2\n18:Hello:pollo-null:init block 2\n19:Hello:pollo-null:var 3\n20:Hello:pollo-null:init block 3\n21:Hello:pollo-pollo:Constructor\n\n22:Bello:pollo-pollo:var 0\n23:Bello:pollo-pollo:var 1\n24:Bello:pollo-pollo:init block 1\n25:Bello:pollo-pollo:var 2\n26:Bello:pollo-pollo:init block 2\n27:Bello:pollo-pollo:var 3\n28:Bello:pollo-pollo:init block 3\n29:Bello:pollo-pollo:Constructor\n\n30::pollo-pollo:var 1\n31::pollo-pollo:init block 1\n32::pollo-pollo:var 2\n33::pollo-pollo:init block 2\n34::pollo-pollo:var 3\n35::pollo-pollo:init block 3\n</code></pre>\n<p>Notice that they are run in this order:</p>\n<ol>\n<li>static blocks and objects of parent class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>static blocks and objects of extension class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>instance blocks and objects of parent class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>parent constructor</li>\n<li>instance blocks and objects of extension class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>extension class constructor</li>\n<li>instance blocks and objects of anonymous extension class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n</ol>\n<p>Notice that:</p>\n<pre><code>//  static private Hello s0 = new Hello(&quot;jello&quot;);\nprivate static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\n</code></pre>\n<p>Is a static object that is printed as the first line.</p>\n<p><strong>What if</strong>\nreplace that with:</p>\n<pre><code>static private Hello s0 = new Hello(&quot;jello&quot;);\n//  private static String s0 = CodeBlockSeq.log(Bello.class,&quot;var 0&quot;);\n</code></pre>\n<p>So that it will print in this order</p>\n<ol>\n<li><p>static blocks and objects of parent class</p>\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li><p>Then the first static member of extension class Bello</p>\n<ul>\n<li><p>2.1 static blocks and objects of jello's static class</p>\n<ul>\n<li>But has already run in step 1, so was not done again.</li>\n</ul>\n</li>\n<li><p>2.2 instance blocks and objects of jello instance</p>\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li><p>2.3 constructor for jello instance</p>\n</li>\n<li><p>2.4 The rest of the static blocks and objects of extension class</p>\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>Just as it would have done for static String s0.</p>\n<p>Then</p>\n<ol start=\"3\">\n<li>instance blocks and objects of parent class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>parent constructor</li>\n<li>instance blocks and objects of extension class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n<li>extension class constructor</li>\n<li>instance blocks and objects of anonymous extension class\n<ul>\n<li>in the order that they are declared.</li>\n</ul>\n</li>\n</ol>\n<br/>\n<pre><code>0:Hello:static:var 0\n1:Hello:static:block 0\n2:Hello:static:var 1\n3:Hello:static:var 2\n4:Hello:static:block 2\n5:Hello:static:var 3\n6:Hello:static:var 4\n7:Hello:Hello-null:var 0\n8:Hello:Hello-null:var 1\n9:Hello:Hello-null:init block 1\n10:Hello:Hello-null:var 2\n11:Hello:Hello-null:init block 2\n12:Hello:Hello-null:var 3\n13:Hello:Hello-null:init block 3\n14:Hello:Hello-jello:Constructor\n\n15:Bello:static:block 0\n16:Bello:static:var 1\n17:Bello:static:var 2\n18:Bello:static:block 2\n19:Bello:static:var 3\n20:Bello:static:var 4\n21:Hello:pollo-null:var 0\n22:Hello:pollo-null:var 1\n23:Hello:pollo-null:init block 1\n24:Hello:pollo-null:var 2\n25:Hello:pollo-null:init block 2\n26:Hello:pollo-null:var 3\n27:Hello:pollo-null:init block 3\n28:Hello:pollo-pollo:Constructor\n\n29:Bello:pollo-pollo:var 0\n30:Bello:pollo-pollo:var 1\n31:Bello:pollo-pollo:init block 1\n32:Bello:pollo-pollo:var 2\n33:Bello:pollo-pollo:init block 2\n34:Bello:pollo-pollo:var 3\n35:Bello:pollo-pollo:init block 3\n36:Bello:pollo-pollo:Constructor\n\n37::pollo-pollo:var 1\n38::pollo-pollo:init block 1\n39::pollo-pollo:var 2\n40::pollo-pollo:init block 2\n41::pollo-pollo:var 3\n42::pollo-pollo:init block 3\n</code></pre>\n<p>Just because the static object s0 changed from String to Hello class, the java runtime does not have built-in intelligence to, make an exception for and then, relegate s0 to the back of the execution queue. It does not matter what class s0 is.</p>\n"}],"owner":{"account_id":1937706,"reputation":1634,"user_id":1744745,"accept_rate":0,"display_name":"Praveen Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28359,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"answer_count":5,"score":85,"last_activity_date":1667185117,"creation_date":1360554082,"question_id":14805547,"body_markdown":"Can anyone explain the output of following program? I thought constructors are initialized before instance variables. So I was expecting the output to be &quot;XZYY&quot;.\r\n\r\n\tclass X {\r\n\t\tY b = new Y();\r\n\t\r\n\t\tX() {\r\n\t\t\tSystem.out.print(&quot;X&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Y {\r\n\t\tY() {\r\n\t\t\tSystem.out.print(&quot;Y&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class Z extends X {\r\n\t\tY y = new Y();\r\n\t\r\n\t\tZ() {\r\n\t\t\tSystem.out.print(&quot;Z&quot;);\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Z();\r\n\t\t}\r\n\t}","title":"Are fields initialized before constructor code is run in Java?","body":"<p>Can anyone explain the output of following program? I thought constructors are initialized before instance variables. So I was expecting the output to be \"XZYY\".</p>\n\n<pre><code>class X {\n    Y b = new Y();\n\n    X() {\n        System.out.print(\"X\");\n    }\n}\n\nclass Y {\n    Y() {\n        System.out.print(\"Y\");\n    }\n}\n\npublic class Z extends X {\n    Y y = new Y();\n\n    Z() {\n        System.out.print(\"Z\");\n    }\n\n    public static void main(String[] args) {\n        new Z();\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1667182439,"post_id":74258103,"comment_id":131103066,"body_markdown":"In a nutshell: your code isn&#39;t thread-safe (you&#39;re not using thread safe collections, or synchronizing/locking), so it&#39;s an &quot;all bets are off&quot; type thing. But, `System.out.println` _is_ synchronized, which can often &quot;bring in&quot; a lot of things from one thread to another. It&#39;s not guaranteed behavior by any means, but it can have effects like what you&#39;re seeing. A full tutorial on how to write thread-safe code is unfortunately out of scope for what this site is suited for, but I highly recommend finding one and reading it through. Multi-threading is very hard to learn piecemeal.","body":"In a nutshell: your code isn&#39;t thread-safe (you&#39;re not using thread safe collections, or synchronizing/locking), so it&#39;s an &quot;all bets are off&quot; type thing. But, <code>System.out.println</code> <i>is</i> synchronized, which can often &quot;bring in&quot; a lot of things from one thread to another. It&#39;s not guaranteed behavior by any means, but it can have effects like what you&#39;re seeing. A full tutorial on how to write thread-safe code is unfortunately out of scope for what this site is suited for, but I highly recommend finding one and reading it through. Multi-threading is very hard to learn piecemeal."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1667184430,"post_id":74258103,"comment_id":131103291,"body_markdown":"Related: https://stackoverflow.com/q/25425130/217324","body":"Related: <a href=\"https://stackoverflow.com/q/25425130/217324\">stackoverflow.com/q/25425130/217324</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667185774,"post_id":74258103,"comment_id":131103465,"body_markdown":"What is `ScheduledEvent`?","body":"What is <code>ScheduledEvent</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667185923,"post_id":74258103,"comment_id":131103489,"body_markdown":"You seem to be needlessly reinventing [`ScheduledExecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html).","body":"You seem to be needlessly reinventing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667185972,"post_id":74258103,"comment_id":131103499,"body_markdown":"By the way, check out *java.time* for your time-keeping.","body":"By the way, check out <i>java.time</i> for your time-keeping."}],"owner":{"account_id":19103459,"reputation":41,"user_id":13951184,"display_name":"CollidaCube"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667181869,"creation_date":1667181869,"question_id":74258103,"body_markdown":"If I schedule an event sometime after the program starts, it won&#39;t say that its anticipating an event UNLESS I uncomment the code on line 11 (`else System.out.println(&quot;[&quot; + now() + &quot;ms] In statis...&quot;)`). What is going on with the thread?\r\n\r\n```java\r\npublic class Scheduler extends Thread {\r\n\r\n    private final Queue&lt;ScheduledEvent&gt; actions = new LinkedList&lt;&gt;();\r\n    private boolean running = true;\r\n    @Override\r\n    public void run() {\r\n        while (running) {\r\n            ScheduledEvent nextEvent = actions.peek();\r\n            if (nextEvent != null) {\r\n                System.out.println(&quot;[&quot; + now() + &quot;ms] Anticipating event at: &quot; + nextEvent.time + &quot;ms&quot;);\r\n            } //else System.out.println(&quot;[&quot; + now() + &quot;ms] In statis...&quot;);\r\n\r\n            if (nextEvent != null &amp;&amp; nextEvent.time &lt;= now())\r\n                actions.poll().execute();\r\n        }\r\n    }\r\n\r\n    private long now() {\r\n        return System.currentTimeMillis();\r\n    }\r\n\r\n    public ScheduledEvent schedule(long delay, Runnable action) {\r\n        return schedule(ScheduledEvent.delayedEvent(delay, action));\r\n    }\r\n\r\n    public ScheduledEvent scheduleAt(long time, Runnable action) {\r\n        return schedule(ScheduledEvent.absoluteEvent(time, action));\r\n    }\r\n\r\n    public ScheduledEvent schedule(ScheduledEvent event) {\r\n        System.out.println(&quot;Scheduled event at: &quot; + event.time);\r\n        actions.add(event);\r\n        return event;\r\n    }\r\n\r\n    public void unschedule(ScheduledEvent event) {\r\n        actions.remove(event);\r\n    }\r\n\r\n    public void quit() {\r\n        running = false;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI wrote a class to schedule events and run them after/at a given time (in milliseconds). If I schedule an event right as the program starts, it will continue to run and eventually execute the scheduled event.  I added `System.out.println(&quot;exiting!&quot;);` to the end of the `run()` function but it never outputs `exiting!`.\r\n\r\nAfter some digging, I found [this issue](https://stackoverflow.com/questions/44928206/java-why-is-this-thread-executed-twice-before-sleeping) which seemed to fix the issue. However, I don&#39;t understand why this is happening and why `where(!this.isInterrupted())` fixed the issue.","title":"Why is this thread stopping?","body":"<p>If I schedule an event sometime after the program starts, it won't say that its anticipating an event UNLESS I uncomment the code on line 11 (<code>else System.out.println(&quot;[&quot; + now() + &quot;ms] In statis...&quot;)</code>). What is going on with the thread?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scheduler extends Thread {\n\n    private final Queue&lt;ScheduledEvent&gt; actions = new LinkedList&lt;&gt;();\n    private boolean running = true;\n    @Override\n    public void run() {\n        while (running) {\n            ScheduledEvent nextEvent = actions.peek();\n            if (nextEvent != null) {\n                System.out.println(&quot;[&quot; + now() + &quot;ms] Anticipating event at: &quot; + nextEvent.time + &quot;ms&quot;);\n            } //else System.out.println(&quot;[&quot; + now() + &quot;ms] In statis...&quot;);\n\n            if (nextEvent != null &amp;&amp; nextEvent.time &lt;= now())\n                actions.poll().execute();\n        }\n    }\n\n    private long now() {\n        return System.currentTimeMillis();\n    }\n\n    public ScheduledEvent schedule(long delay, Runnable action) {\n        return schedule(ScheduledEvent.delayedEvent(delay, action));\n    }\n\n    public ScheduledEvent scheduleAt(long time, Runnable action) {\n        return schedule(ScheduledEvent.absoluteEvent(time, action));\n    }\n\n    public ScheduledEvent schedule(ScheduledEvent event) {\n        System.out.println(&quot;Scheduled event at: &quot; + event.time);\n        actions.add(event);\n        return event;\n    }\n\n    public void unschedule(ScheduledEvent event) {\n        actions.remove(event);\n    }\n\n    public void quit() {\n        running = false;\n    }\n    \n}\n</code></pre>\n<p>I wrote a class to schedule events and run them after/at a given time (in milliseconds). If I schedule an event right as the program starts, it will continue to run and eventually execute the scheduled event.  I added <code>System.out.println(&quot;exiting!&quot;);</code> to the end of the <code>run()</code> function but it never outputs <code>exiting!</code>.</p>\n<p>After some digging, I found <a href=\"https://stackoverflow.com/questions/44928206/java-why-is-this-thread-executed-twice-before-sleeping\">this issue</a> which seemed to fix the issue. However, I don't understand why this is happening and why <code>where(!this.isInterrupted())</code> fixed the issue.</p>\n"},{"tags":["java","spring-boot","spring-mvc","payara"],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667181559,"creation_date":1667181559,"answer_id":74258083,"question_id":74252922,"body_markdown":"You need to exclude the tomcat embedded server in your pom.xml like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Spring Boot Called several time on Payara Srver","body":"<p>You need to exclude the tomcat embedded server in your pom.xml like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667181559,"creation_date":1667131753,"question_id":74252922,"body_markdown":"I&#39;m new to Spring and I&#39;m trying to setup a application by using spring-boot-starter-web. The application can started successfully but I found that the application will start several times when I deployed it to Payara Server.\r\n\r\nBelow is the part of message printed by Payara Server.   \r\n\r\n```\r\nInitializing Soteria 1.1-b01.payara-p5 for context &#39;/springweb&#39;\r\n\r\nRegistering WebSocket filter for url pattern /*]]\r\n\r\nServletContext.log():2 Spring WebApplicationInitializers detected on classpath\r\n\r\n    .   ____          _            __ _ _\r\n   /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n  ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n   =========|_|==============|___/=/_/_/_/\r\n\r\n:: Spring Boot ::                (v2.7.4)\r\n\r\nINFO 2470 --- [in-listener(56)] springweb.Application  : Starting Application using Java 11.0.11 on 192.168.0.1 with PID 2470 (/usr/share/payara/payara5/glassfish/domains/domain1/applications/springweb/WEB-INF/classes/springweb/Application.class started by root in /usr/share/payara/payara5/glassfish/domains/domain1/config)\r\n\r\nINFO 2470 --- [in-listener(56)] springweb.Application  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\r\nWebModule[/springerb] ServletContext.log():Initializing Spring embedded WebApplicationContext\r\n\r\nINFO 2470 --- [in-listener(56)] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1975 ms\r\n\r\nINFO 2470 --- [in-listener(56)] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: ServletContext resource [/index.html]\r\n\r\nWARN 2470 --- [in-listener(56)] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\r\n\r\nWARN 2470 --- [in-listener(56)] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: b200e25a-ee5a-49f1-b7f4-047aa11fa4fb\r\n\r\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n\r\nINFO 2470 --- [in-listener(56)] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78d61d6d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2de8cf84, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e79b72e, org.springframework.security.web.header.HeaderWriterFilter@1aca9626, org.springframework.security.web.csrf.CsrfFilter@387eb143, org.springframework.security.web.authentication.logout.LogoutFilter@39199309, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29d0bc34, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34c4cf9e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5603f50, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1d190e55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30f8298b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b7f364, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e208791, org.springframework.security.web.session.SessionManagementFilter@1ab27ca7, org.springframework.security.web.access.ExceptionTranslationFilter@330305b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@196974a2\r\n\r\nINFO 2470 --- [in-listener(56)] springweb.Application  : Started Application in 5.942 seconds (JVM running for 274786.407)\r\n\r\nInitializing Mojarra |version.string| for context &#39;/springweb&#39;\r\n\r\nInitializing Soteria 1.1-b01.payara-p5 for context &#39;/springweb&#39;\r\n\r\nRegistering WebSocket filter for url pattern /*\r\n\r\nServletContext.log():2 Spring WebApplicationInitializers detected on classpath\r\n\r\n    .   ____          _            __ _ _]]\r\n   /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\]]\r\n  ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\]]\r\n   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )]]\r\n    &#39;  |____| .__|_| |_|_| |_\\__, | / / / /]]\r\n   =========|_|==============|___/=/_/_/_/]]\r\n\r\n:: Spring Boot ::                (v2.7.4)]]\r\n\r\n.\r\n.\r\n.\r\n.\r\n\r\n```\r\n\r\nAnd the dependency that I used : \r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                      &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.unboundid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;unboundid-ldapsdk&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;                 \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nAnd I use the annotation @SpringBootApplication to start the \r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application extends SpringBootServletInitializer {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\nI have removed or changed the version of dependency but it can&#39;t solve the problem. I have no idea why it will restart the application and some function such as schedulers because it will be initiated multi-times. \r\n\r\nThe version of Payara Server is 5.2021.1 and the Java version is 11","title":"Spring Boot Called several time on Payara Srver","body":"<p>I'm new to Spring and I'm trying to setup a application by using spring-boot-starter-web. The application can started successfully but I found that the application will start several times when I deployed it to Payara Server.</p>\n<p>Below is the part of message printed by Payara Server.</p>\n<pre><code>Initializing Soteria 1.1-b01.payara-p5 for context '/springweb'\n\nRegistering WebSocket filter for url pattern /*]]\n\nServletContext.log():2 Spring WebApplicationInitializers detected on classpath\n\n    .   ____          _            __ _ _\n   /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n  ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n    '  |____| .__|_| |_|_| |_\\__, | / / / /\n   =========|_|==============|___/=/_/_/_/\n\n:: Spring Boot ::                (v2.7.4)\n\nINFO 2470 --- [in-listener(56)] springweb.Application  : Starting Application using Java 11.0.11 on 192.168.0.1 with PID 2470 (/usr/share/payara/payara5/glassfish/domains/domain1/applications/springweb/WEB-INF/classes/springweb/Application.class started by root in /usr/share/payara/payara5/glassfish/domains/domain1/config)\n\nINFO 2470 --- [in-listener(56)] springweb.Application  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n\nWebModule[/springerb] ServletContext.log():Initializing Spring embedded WebApplicationContext\n\nINFO 2470 --- [in-listener(56)] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1975 ms\n\nINFO 2470 --- [in-listener(56)] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: ServletContext resource [/index.html]\n\nWARN 2470 --- [in-listener(56)] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\n\nWARN 2470 --- [in-listener(56)] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: b200e25a-ee5a-49f1-b7f4-047aa11fa4fb\n\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\n\nINFO 2470 --- [in-listener(56)] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78d61d6d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2de8cf84, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e79b72e, org.springframework.security.web.header.HeaderWriterFilter@1aca9626, org.springframework.security.web.csrf.CsrfFilter@387eb143, org.springframework.security.web.authentication.logout.LogoutFilter@39199309, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29d0bc34, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34c4cf9e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5603f50, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1d190e55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30f8298b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b7f364, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e208791, org.springframework.security.web.session.SessionManagementFilter@1ab27ca7, org.springframework.security.web.access.ExceptionTranslationFilter@330305b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@196974a2\n\nINFO 2470 --- [in-listener(56)] springweb.Application  : Started Application in 5.942 seconds (JVM running for 274786.407)\n\nInitializing Mojarra |version.string| for context '/springweb'\n\nInitializing Soteria 1.1-b01.payara-p5 for context '/springweb'\n\nRegistering WebSocket filter for url pattern /*\n\nServletContext.log():2 Spring WebApplicationInitializers detected on classpath\n\n    .   ____          _            __ _ _]]\n   /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\]]\n  ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\]]\n   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )]]\n    '  |____| .__|_| |_|_| |_\\__, | / / / /]]\n   =========|_|==============|___/=/_/_/_/]]\n\n:: Spring Boot ::                (v2.7.4)]]\n\n.\n.\n.\n.\n\n</code></pre>\n<p>And the dependency that I used :</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                      &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n        &lt;/dependency&gt;        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.unboundid&lt;/groupId&gt;\n            &lt;artifactId&gt;unboundid-ldapsdk&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;                 \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And I use the annotation @SpringBootApplication to start the</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>I have removed or changed the version of dependency but it can't solve the problem. I have no idea why it will restart the application and some function such as schedulers because it will be initiated multi-times.</p>\n<p>The version of Payara Server is 5.2021.1 and the Java version is 11</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667180115,"post_id":74257966,"comment_id":131102806,"body_markdown":"maybe you could match a whitespace with a lookbehind for NOT commas?","body":"maybe you could match a whitespace with a lookbehind for NOT commas?"}],"answers":[{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667181199,"creation_date":1667181199,"answer_id":74258053,"question_id":74257966,"body_markdown":"This worked for me. The trick is to choose the group you want to keep and reference it in the replacement parameter of the `replaceAll` method.\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    var before = &quot;{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy X7 Capsule, rarity=3.0}, votes=0.0}]}&quot;;\r\n    var after = before.replaceAll(&quot;([^,])\\\\s+&quot;, &quot;$1&quot;);\r\n    System.out.println(before);\r\n    System.out.println(after);\r\n  }\r\n```","title":"Regular Expression to remove every whitespace which is not after a comma","body":"<p>This worked for me. The trick is to choose the group you want to keep and reference it in the replacement parameter of the <code>replaceAll</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    var before = &quot;{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy X7 Capsule, rarity=3.0}, votes=0.0}]}&quot;;\n    var after = before.replaceAll(&quot;([^,])\\\\s+&quot;, &quot;$1&quot;);\n    System.out.println(before);\n    System.out.println(after);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24030798,"reputation":326,"user_id":18011737,"display_name":"E Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667181218,"creation_date":1667181218,"answer_id":74258054,"question_id":74257966,"body_markdown":"This can be accomplished using a negative lookbehind:\r\n\r\n    (?&lt;!,)\\\\s+\r\n\r\nThe Output:\r\n\r\n    {id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel_horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy_X7_Capsule, rarity=3.0}, votes=0.0}]}\r\n\r\n\r\n","title":"Regular Expression to remove every whitespace which is not after a comma","body":"<p>This can be accomplished using a negative lookbehind:</p>\n<pre><code>(?&lt;!,)\\\\s+\n</code></pre>\n<p>The Output:</p>\n<pre><code>{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel_horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy_X7_Capsule, rarity=3.0}, votes=0.0}]}\n</code></pre>\n"}],"owner":{"account_id":17420575,"reputation":3,"user_id":12626216,"display_name":"Skippero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74258054,"answer_count":2,"score":-1,"last_activity_date":1667181218,"creation_date":1667179969,"question_id":74257966,"body_markdown":"i want to replace remove/replace every whitespace in a string which is not after a comma. \r\nI already searched for a suitable regex but i did not find one.\r\nHere is a sample of the strings i want to modify:\r\n\r\n\r\n```\r\n{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy X7 Capsule, rarity=3.0}, votes=0.0}]}\r\n```\r\n\r\nshould change to (_ trough replace)\r\n\r\n```\r\n{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel_horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy_X7_Capsule, rarity=3.0}, votes=0.0}]}\r\n```\r\n\r\nCan someone with a high knowledge then me over regular expression&#39;s create one for this case?\r\nThanks in advance\r\n\r\nI already tried this expression: \r\n```\r\n(^|[^,])\\\\s+\r\n```\r\n.. but it always removed a character with the whitespace","title":"Regular Expression to remove every whitespace which is not after a comma","body":"<p>i want to replace remove/replace every whitespace in a string which is not after a comma.\nI already searched for a suitable regex but i did not find one.\nHere is a sample of the strings i want to modify:</p>\n<pre><code>{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy X7 Capsule, rarity=3.0}, votes=0.0}]}\n</code></pre>\n<p>should change to (_ trough replace)</p>\n<pre><code>{id=565189.0, server=Ealyn, merchantName=Nox, activeMerchants=[{id=f01b617d-2dc7-4597-2297-08dabad9a125, name=Nox, zone=Nebel_horn, card={name=Bergstrom, rarity=2.0}, rapport={name=Energy_X7_Capsule, rarity=3.0}, votes=0.0}]}\n</code></pre>\n<p>Can someone with a high knowledge then me over regular expression's create one for this case?\nThanks in advance</p>\n<p>I already tried this expression:</p>\n<pre><code>(^|[^,])\\\\s+\n</code></pre>\n<p>.. but it always removed a character with the whitespace</p>\n"},{"tags":["java","json","serialization","jackson","pojo"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667180156,"post_id":74248895,"comment_id":131102809,"body_markdown":"In the question, you&#39;ve emphasized that you&#39;re concerned about `serialization` into JSON, not `deserialization`. The currently accepted solution does validation during `deserialization`. If that&#39;s want you&#39;re really needed - fine. I&#39;ve provided a possible solution for the case of `serialization` into JSON as required according to your original problem statement.","body":"In the question, you&#39;ve emphasized that you&#39;re concerned about <code>serialization</code> into JSON, not <code>deserialization</code>. The currently accepted solution does validation during <code>deserialization</code>. If that&#39;s want you&#39;re really needed - fine. I&#39;ve provided a possible solution for the case of <code>serialization</code> into JSON as required according to your original problem statement."}],"answers":[{"comments":[{"owner":{"account_id":15163625,"reputation":35,"user_id":10941865,"display_name":"Alexey Lvov"},"score":0,"creation_date":1667132877,"post_id":74249697,"comment_id":131093793,"body_markdown":"Thank you very much! I&#39;m so obsessed with Jackson annotations that I completely forgot about others.","body":"Thank you very much! I&#39;m so obsessed with Jackson annotations that I completely forgot about others."}],"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667088215,"creation_date":1667088215,"answer_id":74249697,"question_id":74248895,"body_markdown":"I think you can add the [`@NonNull`][1] annotation to the field you require to not be null. Then you can try to handle the exception whenever you build the `BigJsonDto` object. For example the code below will throw the following exception\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: field1 is marked non-null but is null\r\n\tat BigJsonDto.&lt;init&gt;(StackOverflowQuestion.java:21)\r\n\tat BigJsonDto$BigJsonDtoBuilder.build(StackOverflowQuestion.java:21)\r\n\tat StackOverflowQuestion.main(StackOverflowQuestion.java:16)\r\n```\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NonNull;\r\n\r\npublic class StackOverflowQuestion {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        var output = mapper.writeValueAsString(\r\n                BigJsonDto.builder()\r\n                        // uncomment this line to not throw exception\r\n                        //.field1(&quot;a&quot;)\r\n                        .field2(&quot;b&quot;)\r\n                        .field100(&quot;c&quot;).build());\r\n        System.out.println(output);\r\n    }\r\n}\r\n\r\n@Builder\r\n@Data\r\nclass BigJsonDto {\r\n    @NonNull\r\n    private String field1;\r\n    private String field2;\r\n    private String field100;\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://projectlombok.org/features/NonNull","title":"How to not proceed serialization of whole object if one or more required fields have null value?","body":"<p>I think you can add the <a href=\"https://projectlombok.org/features/NonNull\" rel=\"nofollow noreferrer\"><code>@NonNull</code></a> annotation to the field you require to not be null. Then you can try to handle the exception whenever you build the <code>BigJsonDto</code> object. For example the code below will throw the following exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: field1 is marked non-null but is null\n    at BigJsonDto.&lt;init&gt;(StackOverflowQuestion.java:21)\n    at BigJsonDto$BigJsonDtoBuilder.build(StackOverflowQuestion.java:21)\n    at StackOverflowQuestion.main(StackOverflowQuestion.java:16)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NonNull;\n\npublic class StackOverflowQuestion {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        var output = mapper.writeValueAsString(\n                BigJsonDto.builder()\n                        // uncomment this line to not throw exception\n                        //.field1(&quot;a&quot;)\n                        .field2(&quot;b&quot;)\n                        .field100(&quot;c&quot;).build());\n        System.out.println(output);\n    }\n}\n\n@Builder\n@Data\nclass BigJsonDto {\n    @NonNull\n    private String field1;\n    private String field2;\n    private String field100;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667179675,"creation_date":1667179675,"answer_id":74257948,"question_id":74248895,"body_markdown":"If you need to prevent an invalid POJO from being serialized you can create a *custom serializer* by extending `JsonSerializer`.\r\n\r\nFor that, you would need to override `serialize()` method.\r\n\r\n    public class BigJsonDtoSerializer extends JsonSerializer&lt;BigJsonDto&gt; {\r\n        \r\n        public static final Predicate&lt;BigJsonDto&gt; IS_NOT_VALID =\r\n            dto -&gt; Stream.of(dto.getField1(), // add as many fields as you need\r\n                             dto.getFieldN())\r\n                .anyMatch(Objects::isNull);\r\n    \r\n        @Override\r\n        public void serialize(BigJsonDto value, JsonGenerator gen,\r\n                              SerializerProvider serializers) throws IOException {\r\n        \r\n            // Serialization fails\r\n            if (IS_NOT_VALID.test(value)) throw new JsonGenerationException(&quot;BigJsonDto instance is not valid&quot;, gen);\r\n            \r\n            // Serialization succeeds (we need to provide the value of every field to JsonGenerator)\r\n            gen.writeString(value.getField1());\r\n            gen.writeString(value.getField2());\r\n            gen.writeString(value.getField3());\r\n            // Et cetera\r\n            gen.writeString(value.getFieldN());\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;BigJsonDto&gt; handledType() { // needed ONLY if registered as part of module\r\n            return BigJsonDto.class;\r\n        }\r\n    }\r\n\r\nThen you can register the serializer through the `using` attribute of the annotation `@JsonSerialize` applied on the top of your class.\r\n\r\n    @Data\r\n    @Builder\r\n    @JsonSerialize(using = BigJsonDtoSerializer.class)\r\n    public static class BigJsonDto {\r\n        private String field1;\r\n        private String field2;\r\n        private String field3;\r\n        private String fieldN;\r\n    }\r\n\r\nOr you can register the serializer (or multiple serializers) globally by including it into a custom module (as described in the [Jackson&#39;s documentation](https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers#with-jackson-17-and-above)). This way also require `handledType()` to be overridden in each these serializers. If you&#39;re using Spring Boot, to register the module you can place in the Spring&#39;s Context as a Bean, or do it manually (if you&#39;re not using Spring in your project) via `ObjectMapper.registerModule()`. Annotation `@JsonSerialize` would not be needed in this case.\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule mySerializationModule = new SimpleModule(\r\n        &quot;MySerializationModule&quot;,\r\n        new Version(1, 0, 0,\r\n            &quot;module-description&quot;,\r\n            &quot;groupId&quot;,\r\n            &quot;artifactId&quot;\r\n        ),\r\n        Map.of(),                           // deserializers\r\n        List.of(new BigJsonDtoSerializer()) // serializers\r\n    );\r\n\r\nmapper.registerModule(mySerializationModule);\r\n```\r\n\r\n*Usage example:*\r\n\r\n```\r\nString sourceJson = &quot;&quot;&quot;\r\n    {\r\n        &quot;field1&quot; : null,\r\n        &quot;field2&quot; : &quot;Bob&quot;,\r\n        &quot;field3&quot; : &quot;Carol&quot;,\r\n        &quot;fieldN&quot; : &quot;N&quot;\r\n    }\r\n    &quot;&quot;&quot;;\r\n    \r\nObjectMapper mapper = new ObjectMapper(); // for simplisity let&#39;s assume you chosen annotate the class with @JsonSerialize instead of registing the module\r\n    \r\nBigJsonDto dto = mapper.readValue(sourceJson, BigJsonDto.class);\r\nString resultingJson = mapper.writeValueAsString(dto); // &lt;- this line would fale because field1 is null\r\n```","title":"How to not proceed serialization of whole object if one or more required fields have null value?","body":"<p>If you need to prevent an invalid POJO from being serialized you can create a <em>custom serializer</em> by extending <code>JsonSerializer</code>.</p>\n<p>For that, you would need to override <code>serialize()</code> method.</p>\n<pre><code>public class BigJsonDtoSerializer extends JsonSerializer&lt;BigJsonDto&gt; {\n    \n    public static final Predicate&lt;BigJsonDto&gt; IS_NOT_VALID =\n        dto -&gt; Stream.of(dto.getField1(), // add as many fields as you need\n                         dto.getFieldN())\n            .anyMatch(Objects::isNull);\n\n    @Override\n    public void serialize(BigJsonDto value, JsonGenerator gen,\n                          SerializerProvider serializers) throws IOException {\n    \n        // Serialization fails\n        if (IS_NOT_VALID.test(value)) throw new JsonGenerationException(&quot;BigJsonDto instance is not valid&quot;, gen);\n        \n        // Serialization succeeds (we need to provide the value of every field to JsonGenerator)\n        gen.writeString(value.getField1());\n        gen.writeString(value.getField2());\n        gen.writeString(value.getField3());\n        // Et cetera\n        gen.writeString(value.getFieldN());\n    }\n\n    @Override\n    public Class&lt;BigJsonDto&gt; handledType() { // needed ONLY if registered as part of module\n        return BigJsonDto.class;\n    }\n}\n</code></pre>\n<p>Then you can register the serializer through the <code>using</code> attribute of the annotation <code>@JsonSerialize</code> applied on the top of your class.</p>\n<pre><code>@Data\n@Builder\n@JsonSerialize(using = BigJsonDtoSerializer.class)\npublic static class BigJsonDto {\n    private String field1;\n    private String field2;\n    private String field3;\n    private String fieldN;\n}\n</code></pre>\n<p>Or you can register the serializer (or multiple serializers) globally by including it into a custom module (as described in the <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers#with-jackson-17-and-above\" rel=\"nofollow noreferrer\">Jackson's documentation</a>). This way also require <code>handledType()</code> to be overridden in each these serializers. If you're using Spring Boot, to register the module you can place in the Spring's Context as a Bean, or do it manually (if you're not using Spring in your project) via <code>ObjectMapper.registerModule()</code>. Annotation <code>@JsonSerialize</code> would not be needed in this case.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule mySerializationModule = new SimpleModule(\n        &quot;MySerializationModule&quot;,\n        new Version(1, 0, 0,\n            &quot;module-description&quot;,\n            &quot;groupId&quot;,\n            &quot;artifactId&quot;\n        ),\n        Map.of(),                           // deserializers\n        List.of(new BigJsonDtoSerializer()) // serializers\n    );\n\nmapper.registerModule(mySerializationModule);\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>String sourceJson = &quot;&quot;&quot;\n    {\n        &quot;field1&quot; : null,\n        &quot;field2&quot; : &quot;Bob&quot;,\n        &quot;field3&quot; : &quot;Carol&quot;,\n        &quot;fieldN&quot; : &quot;N&quot;\n    }\n    &quot;&quot;&quot;;\n    \nObjectMapper mapper = new ObjectMapper(); // for simplisity let's assume you chosen annotate the class with @JsonSerialize instead of registing the module\n    \nBigJsonDto dto = mapper.readValue(sourceJson, BigJsonDto.class);\nString resultingJson = mapper.writeValueAsString(dto); // &lt;- this line would fale because field1 is null\n</code></pre>\n"}],"owner":{"account_id":15163625,"reputation":35,"user_id":10941865,"display_name":"Alexey Lvov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74249697,"answer_count":2,"score":2,"last_activity_date":1667180241,"creation_date":1667078164,"question_id":74248895,"body_markdown":"I have next big JSON...\r\n\r\n```\r\n{\r\n  &quot;field1&quot;: &quot;value1&quot;,\r\n  &quot;field2&quot;: &quot;value2&quot;,\r\n  ...\r\n  &quot;field100&quot;: &quot;value100&quot;,\r\n}\r\n```\r\n\r\n...and appropriate POJO\r\n\r\n```\r\n@Builder\r\n@Data\r\npublic class BigJsonDto{\r\n    private String field1;\r\n    private String field2;\r\n\r\n    private String field100;\r\n}\r\n```\r\n\r\nLet&#39;s say all fields are required and nullable except `field1` that can&#39;t have a `null` value.\r\n\r\nSo I want to tell Jackson (or another way) stop serialization if one or more required fields have `null` value, rather than just ignore it (with `@JsonInclude`). How can I reach it?\r\n\r\nIt would be nice if it&#39;s possible to use built-in `ObjectMapper`.\r\n\r\nI tried to use `@JsonProperty(required = true)` annotation but as I can see this annotation is used in deserialization. So in this case, I got required fields with null values.","title":"How to not proceed serialization of whole object if one or more required fields have null value?","body":"<p>I have next big JSON...</p>\n<pre><code>{\n  &quot;field1&quot;: &quot;value1&quot;,\n  &quot;field2&quot;: &quot;value2&quot;,\n  ...\n  &quot;field100&quot;: &quot;value100&quot;,\n}\n</code></pre>\n<p>...and appropriate POJO</p>\n<pre><code>@Builder\n@Data\npublic class BigJsonDto{\n    private String field1;\n    private String field2;\n\n    private String field100;\n}\n</code></pre>\n<p>Let's say all fields are required and nullable except <code>field1</code> that can't have a <code>null</code> value.</p>\n<p>So I want to tell Jackson (or another way) stop serialization if one or more required fields have <code>null</code> value, rather than just ignore it (with <code>@JsonInclude</code>). How can I reach it?</p>\n<p>It would be nice if it's possible to use built-in <code>ObjectMapper</code>.</p>\n<p>I tried to use <code>@JsonProperty(required = true)</code> annotation but as I can see this annotation is used in deserialization. So in this case, I got required fields with null values.</p>\n"},{"tags":["java","math","formula","pq"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1667177340,"post_id":74257741,"comment_id":131102480,"body_markdown":"_&quot;the numbers are different that they should be&quot;_ -- What should they be and what results are you getting?  Please read [What Every Computer Scientist Should Know About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html) and \n[Is Floating Point Broken?](https://stackoverflow.com/q/588004/18157)","body":"<i>&quot;the numbers are different that they should be&quot;</i> -- What should they be and what results are you getting?  Please read <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a> and  <a href=\"https://stackoverflow.com/q/588004/18157\">Is Floating Point Broken?</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667177580,"post_id":74257741,"comment_id":131102511,"body_markdown":"Maybe you can also add an example with p and q values and what you believe to be the correct output should be.","body":"Maybe you can also add an example with p and q values and what you believe to be the correct output should be."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667178266,"post_id":74257741,"comment_id":131102584,"body_markdown":"This looks like an attempt to solve x^2 + p\\*x + q = 0. The formula looks correct but your Java does not seem to reflect that formula. Using the quadratic formula one can write the zeros in pseudo-Java as (-p&#177;Math.sqrt(p*p - 4*q)) / 2.","body":"This looks like an attempt to solve x^2 + p*x + q = 0. The formula looks correct but your Java does not seem to reflect that formula. Using the quadratic formula one can write the zeros in pseudo-Java as (-p&#177;Math.sqrt(p*p - 4*q)) / 2."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667179034,"post_id":74257741,"comment_id":131102679,"body_markdown":"Note that trying to do maths with simple ascii/unicode is not precise enough, so use more syntax to show what the _actual_ formula should be, because the `x1,2` in `x1,2 = -p/2 &#177; √(p^2/4 -q)` doesn&#39;t actually mean anything (it&#39;s not maths notation, nor latex notation), and `p^2/4` is `p^0.25` without parentheses. Also, _never_ call your variables `Null`, because `null` is a reserved keyword, there&#39;s only one `null`, and variables use lowerCamelCase.","body":"Note that trying to do maths with simple ascii/unicode is not precise enough, so use more syntax to show what the <i>actual</i> formula should be, because the <code>x1,2</code> in <code>x1,2 = -p&#47;2 &#177; √(p^2&#47;4 -q)</code> doesn&#39;t actually mean anything (it&#39;s not maths notation, nor latex notation), and <code>p^2&#47;4</code> is <code>p^0.25</code> without parentheses. Also, <i>never</i> call your variables <code>Null</code>, because <code>null</code> is a reserved keyword, there&#39;s only one <code>null</code>, and variables use lowerCamelCase."}],"owner":{"account_id":26779198,"reputation":11,"user_id":20374325,"display_name":"Bennyx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667179167,"creation_date":1667176616,"question_id":74257741,"body_markdown":"I want to do math with the pq-formula but for some reason everything works except that the numbers are different then they should be.\r\n\r\nThe Formula that I want to represent is:\r\nx1,2 = -p/2 &#177; √(p^2/4 -q)\r\n\r\n\r\n- If I do the Math with a calculator and not with my program I get other results (I tried with calculator and by hand)\r\n\r\nExample with p=12 &amp; q=-12:\r\n\r\nwhat I get: x1 = 9.0 and x2= -21.0\r\nwhat I want to get (does not have to be exact the same but close): x1 = 0.92820323027551 x2 = -12.928203230276\r\n\r\n\r\n(teil means part; null means zero)\r\n\r\n\r\n```\r\npublic class PQ {\r\n  public static void main(String[] args) {\r\n    if (args.length != 2) {\r\n      System.out.println(&quot;ERROR: Bitte genau zwei Argumente angeben&quot;);\r\n      return;\r\n    }\r\n\r\n    double p = Double.parseDouble(args[0]);\r\n    double q = Double.parseDouble(args[1]);\r\n    double teil1 = -(p / 2);\r\n    double teil2 = (Math.sqrt(p * p) / 4 - q);\r\n    double teil3 = (p * p / 4 - q);\r\n    double Null1 = teil1 + teil2;\r\n    double Null2 = teil1 - teil2;\r\n\r\n    if (teil3 &lt; 0) {\r\n      System.out.println(&quot;Es gibt 0 Nullstellen.&quot;);\r\n    }\r\n\r\n    if (Null1 &gt; Null2) {\r\n      System.out.println(Null2);\r\n      System.out.println(Null1);\r\n      System.out.println(&quot;Es gibt 2 Nullstellen.&quot;);\r\n    } else if (Null1 &lt; Null2) {\r\n      System.out.println(Null1);\r\n      System.out.println(Null2);\r\n      System.out.println(&quot;Es gibt 2 Nullstellen.&quot;);\r\n      return;\r\n    }\r\n\r\n    if (Null1 == Null2) {\r\n      System.out.println(Null1);\r\n      System.out.println(&quot;Es gibt 1 Nullstelle.&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried changing the formula but there are always the same results","title":"Why is my Math with pq-formula wrong or in-precise","body":"<p>I want to do math with the pq-formula but for some reason everything works except that the numbers are different then they should be.</p>\n<p>The Formula that I want to represent is:\nx1,2 = -p/2 ± √(p^2/4 -q)</p>\n<ul>\n<li>If I do the Math with a calculator and not with my program I get other results (I tried with calculator and by hand)</li>\n</ul>\n<p>Example with p=12 &amp; q=-12:</p>\n<p>what I get: x1 = 9.0 and x2= -21.0\nwhat I want to get (does not have to be exact the same but close): x1 = 0.92820323027551 x2 = -12.928203230276</p>\n<p>(teil means part; null means zero)</p>\n<pre><code>public class PQ {\n  public static void main(String[] args) {\n    if (args.length != 2) {\n      System.out.println(&quot;ERROR: Bitte genau zwei Argumente angeben&quot;);\n      return;\n    }\n\n    double p = Double.parseDouble(args[0]);\n    double q = Double.parseDouble(args[1]);\n    double teil1 = -(p / 2);\n    double teil2 = (Math.sqrt(p * p) / 4 - q);\n    double teil3 = (p * p / 4 - q);\n    double Null1 = teil1 + teil2;\n    double Null2 = teil1 - teil2;\n\n    if (teil3 &lt; 0) {\n      System.out.println(&quot;Es gibt 0 Nullstellen.&quot;);\n    }\n\n    if (Null1 &gt; Null2) {\n      System.out.println(Null2);\n      System.out.println(Null1);\n      System.out.println(&quot;Es gibt 2 Nullstellen.&quot;);\n    } else if (Null1 &lt; Null2) {\n      System.out.println(Null1);\n      System.out.println(Null2);\n      System.out.println(&quot;Es gibt 2 Nullstellen.&quot;);\n      return;\n    }\n\n    if (Null1 == Null2) {\n      System.out.println(Null1);\n      System.out.println(&quot;Es gibt 1 Nullstelle.&quot;);\n    }\n  }\n}\n</code></pre>\n<p>I tried changing the formula but there are always the same results</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":3418593,"reputation":762,"user_id":2866849,"display_name":"Ostap Gonchar"},"score":0,"creation_date":1422096921,"post_id":28114715,"comment_id":44622805,"body_markdown":"Tried that also - same result. Tried pre/post processing - didn&#39;t help either. Try to post about it on thymeleaf forum or open an issue on github.","body":"Tried that also - same result. Tried pre/post processing - didn&#39;t help either. Try to post about it on thymeleaf forum or open an issue on github."}],"answers":[{"tags":[],"owner":{"account_id":6540819,"reputation":1279,"user_id":5058466,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441030125,"creation_date":1441030125,"answer_id":32313270,"question_id":28114715,"body_markdown":"I just tried this using Thymeleaf 2.1.4 and it works if you reference the `replace` template using a preprocessor expression: \r\n\r\n    &lt;div th:replace=&quot;__${someVariable}__&quot; /&gt;","title":"Strange mistake in Thymeleaf replace with variable","body":"<p>I just tried this using Thymeleaf 2.1.4 and it works if you reference the <code>replace</code> template using a preprocessor expression: </p>\n\n<pre><code>&lt;div th:replace=\"__${someVariable}__\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667196453,"post_id":74257860,"comment_id":131104852,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74257860/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":4350664,"reputation":508,"user_id":3551126,"accept_rate":30,"display_name":"teik"},"score":0,"creation_date":1667443077,"post_id":74257860,"comment_id":131170241,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33067572)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33067572\">From Review</a>"}],"tags":[],"owner":{"account_id":26780346,"reputation":1,"user_id":20375285,"display_name":"Jean-Claude MBENG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667178428,"creation_date":1667178428,"answer_id":74257860,"question_id":28114715,"body_markdown":"__${someVariable}__ as @Andrew describe works for me\r\n\r\nI do this &lt;div  th:replace=&quot;__${subview}__&quot; /&gt;","title":"Strange mistake in Thymeleaf replace with variable","body":"<p><strong>${someVariable}</strong> as @Andrew describe works for me</p>\n<p>I do this </p>\n"}],"owner":{"account_id":544350,"reputation":3313,"user_id":913766,"accept_rate":85,"display_name":"Arthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667178428,"creation_date":1422031734,"question_id":28114715,"body_markdown":"I have code:\r\n        \r\n\r\n    &lt;div \r\n                th:each=&quot;annotsField : ${annotsFields}&quot;\r\n            th:with=&quot;someVariable=&#39;admin/editElementsFromObjects/fragments/templateFor&#39;+${annotsField.type()}+&#39; :: templateFor&#39;+${annotsField.type()}&quot;\r\n                                   \r\n            &gt;\r\n            \r\n            &lt;div th:text=&quot;&#39;!!!&#39;+${someVariable}+&#39;!!!&#39;&quot; /&gt;\r\n\r\n            &lt;!--&lt;div th:replace=&quot;${someVariable}&quot;  /&gt;--&gt;\r\n            &lt;!--&lt;div th:replace=&quot;admin/editElementsFromObjects/fragments/templateForString :: templateForString&quot;  /&gt;--&gt;\r\n\r\n            &lt;br /&gt;\r\n            &lt;br /&gt;\r\n            &lt;br /&gt;\r\n\r\nAs you see, this code will print on the page something like !!!admin/editElementsFromObjects/fragments/templateForString :: templateForString!!! . OK. \r\n\r\nBut now we will uncomment code \r\n\r\n    &lt;div th:replace=&quot;admin/editElementsFromObjects/fragments/templateForString :: templateForString&quot;  /&gt;\r\n\r\nIt will include existing template file. OK. Good.\r\n\r\nBut why when I make code something like \r\n\r\n    &lt;div \r\n                    th:each=&quot;annotsField : ${annotsFields}&quot;\r\n                    th:with=&quot;someVariable=&#39;admin/editElementsFromObjects/fragments/templateFor&#39;+${annotsField.type()}+&#39; :: templateFor&#39;+${annotsField.type()}&quot;\r\n                                           \r\n                    &gt;\r\n                    \r\n                    &lt;div th:replace=&quot;${someVariable}&quot;  /&gt;\r\n    \r\n                    &lt;br /&gt;\r\n                    &lt;br /&gt;\r\n                    &lt;br /&gt;\r\n                &lt;/div&gt;\r\n\r\nThen I got exception \r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    Error resolving template &quot;admin/editElementsFromObjects/fragments/templateForString :: templateForString&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers (admin/editElementsFromObjects/editForm:24)\r\n\r\nWhy it can&#39;t be included with code \r\n\r\n    &lt;div th:replace=&quot;${someVariable}&quot;  /&gt;\r\n\r\nbut included OK with code \r\n\r\n    &lt;div th:replace=&quot;admin/editElementsFromObjects/fragments/templateForString :: templateForString&quot;  /&gt;\r\n\r\nand I don&#39;t see error in value of the my variable?..","title":"Strange mistake in Thymeleaf replace with variable","body":"<p>I have code:</p>\n\n<pre><code>&lt;div \n            th:each=\"annotsField : ${annotsFields}\"\n        th:with=\"someVariable='admin/editElementsFromObjects/fragments/templateFor'+${annotsField.type()}+' :: templateFor'+${annotsField.type()}\"\n\n        &gt;\n\n        &lt;div th:text=\"'!!!'+${someVariable}+'!!!'\" /&gt;\n\n        &lt;!--&lt;div th:replace=\"${someVariable}\"  /&gt;--&gt;\n        &lt;!--&lt;div th:replace=\"admin/editElementsFromObjects/fragments/templateForString :: templateForString\"  /&gt;--&gt;\n\n        &lt;br /&gt;\n        &lt;br /&gt;\n        &lt;br /&gt;\n</code></pre>\n\n<p>As you see, this code will print on the page something like !!!admin/editElementsFromObjects/fragments/templateForString :: templateForString!!! . OK. </p>\n\n<p>But now we will uncomment code </p>\n\n<pre><code>&lt;div th:replace=\"admin/editElementsFromObjects/fragments/templateForString :: templateForString\"  /&gt;\n</code></pre>\n\n<p>It will include existing template file. OK. Good.</p>\n\n<p>But why when I make code something like </p>\n\n<pre><code>&lt;div \n                th:each=\"annotsField : ${annotsFields}\"\n                th:with=\"someVariable='admin/editElementsFromObjects/fragments/templateFor'+${annotsField.type()}+' :: templateFor'+${annotsField.type()}\"\n\n                &gt;\n\n                &lt;div th:replace=\"${someVariable}\"  /&gt;\n\n                &lt;br /&gt;\n                &lt;br /&gt;\n                &lt;br /&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>Then I got exception </p>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nError resolving template \"admin/editElementsFromObjects/fragments/templateForString :: templateForString\", template might not exist or might not be accessible by any of the configured Template Resolvers (admin/editElementsFromObjects/editForm:24)\n</code></pre>\n\n<p>Why it can't be included with code </p>\n\n<pre><code>&lt;div th:replace=\"${someVariable}\"  /&gt;\n</code></pre>\n\n<p>but included OK with code </p>\n\n<pre><code>&lt;div th:replace=\"admin/editElementsFromObjects/fragments/templateForString :: templateForString\"  /&gt;\n</code></pre>\n\n<p>and I don't see error in value of the my variable?..</p>\n"},{"tags":["java","linux","ubuntu","jar"],"answers":[{"tags":[],"owner":{"account_id":2228780,"reputation":542,"user_id":1966940,"accept_rate":80,"display_name":"Jamie Reid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1424502209,"creation_date":1424502209,"answer_id":28643161,"question_id":28642972,"body_markdown":"Just to make sure I understand what you want, you want a jar file that runs in the background and it is only able to be launched once and once only?\r\n\r\nIf this is what you want, there is two ways to achieve this:\r\n\r\n 1. Use a port as a semaphore (as you suggested)\r\n 2. Use a file as a semaphore.\r\n\r\nFor option 1,\r\n\r\nThe code should be as simple as something like:\r\n\r\n    try {\r\n        serverSocket = new ServerSocket(port);\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;Could not listen on port: &quot; + port);\r\n        // ...\r\n    }\r\nAn [IOException][1] will be thrown, if you cannot open server socket on this port. However, this could also occur if some other application is using this port. So be careful what port number you choose.\r\n\r\nFor option 2,\r\n You simply use a [FileWriter][2] and create a dummy file and keep this file open until the jar/program is finished (or closed). When a second instance of the jar attempts to open, an exception will be thrown and it won&#39;t be able to start due to the fact that it will try to open the file for writing which produces an IOException because only one process can have a write handle to a file at the same time.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html","title":"Prevent multiple instance of jar running","body":"<p>Just to make sure I understand what you want, you want a jar file that runs in the background and it is only able to be launched once and once only?</p>\n\n<p>If this is what you want, there is two ways to achieve this:</p>\n\n<ol>\n<li>Use a port as a semaphore (as you suggested)</li>\n<li>Use a file as a semaphore.</li>\n</ol>\n\n<p>For option 1,</p>\n\n<p>The code should be as simple as something like:</p>\n\n<pre><code>try {\n    serverSocket = new ServerSocket(port);\n} catch (IOException e) {\n    System.out.println(\"Could not listen on port: \" + port);\n    // ...\n}\n</code></pre>\n\n<p>An <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html\" rel=\"nofollow\">IOException</a> will be thrown, if you cannot open server socket on this port. However, this could also occur if some other application is using this port. So be careful what port number you choose.</p>\n\n<p>For option 2,\n You simply use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html\" rel=\"nofollow\">FileWriter</a> and create a dummy file and keep this file open until the jar/program is finished (or closed). When a second instance of the jar attempts to open, an exception will be thrown and it won't be able to start due to the fact that it will try to open the file for writing which produces an IOException because only one process can have a write handle to a file at the same time.</p>\n"}],"owner":{"account_id":1323498,"reputation":1745,"user_id":1268816,"accept_rate":89,"display_name":"Innovative Thinker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2298,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28643161,"answer_count":1,"score":3,"last_activity_date":1667177193,"creation_date":1424500812,"question_id":28642972,"body_markdown":"I have my middle layer jar file running on the linux server. I want that jar file running in background non-stop.\r\n\r\n    nohup java -jar RushMiddleLayer.jar &amp;\r\n\r\nBut when i re-run this command, another new instance of the jar created and running.\r\n\r\nI have searched through google. They suggested some options.\r\n&quot;Bind a ServerSocket&quot;. But which is not working for me. Process killed after press enter or Ctrl+C.\r\n\r\nI want to have two benefits from the jar. One is always running with fail. Another if restart the jar using the same command (nohup java -jar RushMiddleLayer.jar &amp;).\r\nIt should replace the existing jar, not create the new instance.","title":"Prevent multiple instance of jar running","body":"<p>I have my middle layer jar file running on the linux server. I want that jar file running in background non-stop.</p>\n\n<pre><code>nohup java -jar RushMiddleLayer.jar &amp;\n</code></pre>\n\n<p>But when i re-run this command, another new instance of the jar created and running.</p>\n\n<p>I have searched through google. They suggested some options.\n\"Bind a ServerSocket\". But which is not working for me. Process killed after press enter or Ctrl+C.</p>\n\n<p>I want to have two benefits from the jar. One is always running with fail. Another if restart the jar using the same command (nohup java -jar RushMiddleLayer.jar &amp;).\nIt should replace the existing jar, not create the new instance.</p>\n"},{"tags":["java","swing","multiple-instances","single-instance"],"comments":[{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":0,"creation_date":1306392427,"post_id":6134694,"comment_id":7120449,"body_markdown":"which file? which socket? what makes the most sense for the app?","body":"which file? which socket? what makes the most sense for the app?"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306392723,"post_id":6134694,"comment_id":7120515,"body_markdown":"@jcomeau_ictx: can use any file/any socket which is available.","body":"@jcomeau_ictx: can use any file/any socket which is available."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667215330,"post_id":6134694,"comment_id":131109858,"body_markdown":"Does this answer your question? [Prevent launching multiple instances of a java application](https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application\">Prevent launching multiple instances of a java application</a>"}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1306392545,"post_id":6134720,"comment_id":7120483,"body_markdown":"Locking a Socket has no overhead once the application has started. It uses about 4 lines of code. The advantage is the second instance can communicate with the first e.g. say you want to open a file with the second instance, it can send a message to the first to open the file instead before exiting.","body":"Locking a Socket has no overhead once the application has started. It uses about 4 lines of code. The advantage is the second instance can communicate with the first e.g. say you want to open a file with the second instance, it can send a message to the first to open the file instead before exiting."}],"tags":[],"owner":{"account_id":354125,"reputation":1172,"user_id":692275,"accept_rate":79,"display_name":"Ashish K Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306392312,"creation_date":1306392312,"answer_id":6134720,"question_id":6134694,"body_markdown":"My vote goes to locking on a port (i think this is what you mean by socket). I don&#39;t know the exact reason for this. But in fact i come across only this as a solution in most practical projects. Though i will be happy to hear the alternative ways.","title":"Restrict multiple instances of an application in java","body":"<p>My vote goes to locking on a port (i think this is what you mean by socket). I don't know the exact reason for this. But in fact i come across only this as a solution in most practical projects. Though i will be happy to hear the alternative ways.</p>\n"},{"comments":[{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306393045,"post_id":6134735,"comment_id":7120588,"body_markdown":"can I embed jUnique to my app without any permission or have to buy it?","body":"can I embed jUnique to my app without any permission or have to buy it?"},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":0,"creation_date":1306393131,"post_id":6134735,"comment_id":7120610,"body_markdown":"The author states it as being free, but requests a donation if you find it useful.  Seems reasonable.","body":"The author states it as being free, but requests a donation if you find it useful.  Seems reasonable."}],"tags":[],"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1419023322,"creation_date":1306392428,"answer_id":6134735,"question_id":6134694,"body_markdown":"There is a library called [jUnique][1] which does that and will save you the bother of implementing it yourself.\r\n\r\n\r\n  [1]: http://sauronsoftware.it/projects/junique/","title":"Restrict multiple instances of an application in java","body":"<p>There is a library called <a href=\"http://sauronsoftware.it/projects/junique/\" rel=\"nofollow\">jUnique</a> which does that and will save you the bother of implementing it yourself.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306392567,"creation_date":1306392567,"answer_id":6134765,"question_id":6134694,"body_markdown":"If you deploy with Java WebStart the SingleInstanceService does this.\r\n\r\nSee http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/faq.html#218","title":"Restrict multiple instances of an application in java","body":"<p>If you deploy with Java WebStart the SingleInstanceService does this.</p>\n\n<p>See <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/faq.html#218\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/technotes/guides/javaws/developersguide/faq.html#218</a></p>\n"},{"tags":[],"owner":{"account_id":181707,"reputation":1369,"user_id":415893,"display_name":"amal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306392813,"creation_date":1306392813,"answer_id":6134814,"question_id":6134694,"body_markdown":"the serversocket solution is cross-platform . And will not be vulnerable to the program crashing and not resetting the lock.","title":"Restrict multiple instances of an application in java","body":"<p>the serversocket solution is cross-platform . And will not be vulnerable to the program crashing and not resetting the lock.</p>\n"},{"tags":[],"owner":{"account_id":200253,"reputation":2787,"user_id":446006,"accept_rate":95,"display_name":"abRao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306392845,"creation_date":1306392845,"answer_id":6134824,"question_id":6134694,"body_markdown":"File lock is better way to do- imo. When you create the file in User&#39;s Home directory, this will still work in a multi-user environment.\r\n\r\nI came across - JUnique - haven&#39;t had a chance to use it\r\nhttp://www.sauronsoftware.it/projects/junique/manual.php","title":"Restrict multiple instances of an application in java","body":"<p>File lock is better way to do- imo. When you create the file in User's Home directory, this will still work in a multi-user environment.</p>\n\n<p>I came across - JUnique - haven't had a chance to use it\n<a href=\"http://www.sauronsoftware.it/projects/junique/manual.php\" rel=\"nofollow\">http://www.sauronsoftware.it/projects/junique/manual.php</a></p>\n"},{"tags":[],"owner":{"account_id":283618,"reputation":265,"user_id":581218,"accept_rate":75,"display_name":"Daniel Conde Garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306395824,"creation_date":1306395824,"answer_id":6135268,"question_id":6134694,"body_markdown":"In response to your question, the port solution will keep more resources from the machine:&lt;br /&gt;\r\n- **You will keep a port locked**: ports are limited and you may find problems with firewalls or other programs listening on the same port.&lt;br /&gt;\r\n- **You&#39;ll need an active thread**.\r\n\r\nThe file solution will use less resources from the machine, to avoid locking the file forever you need to add a thread, to delete the file, in the [addShutdownHook][1] method from Runtime.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29","title":"Restrict multiple instances of an application in java","body":"<p>In response to your question, the port solution will keep more resources from the machine:<br />\n- <strong>You will keep a port locked</strong>: ports are limited and you may find problems with firewalls or other programs listening on the same port.<br />\n- <strong>You'll need an active thread</strong>.</p>\n\n<p>The file solution will use less resources from the machine, to avoid locking the file forever you need to add a thread, to delete the file, in the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"nofollow\">addShutdownHook</a> method from Runtime.</p>\n"},{"comments":[{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":2,"creation_date":1306471665,"post_id":6139696,"comment_id":7139489,"body_markdown":"What does this all things do?","body":"What does this all things do?"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306473128,"post_id":6139696,"comment_id":7139691,"body_markdown":"What happens when I close the single running instance? The file used to lock not get deleted at that time. And also at running time the file is also not properly locked cause user can delete file by going in temp directory.","body":"What happens when I close the single running instance? The file used to lock not get deleted at that time. And also at running time the file is also not properly locked cause user can delete file by going in temp directory."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306475271,"post_id":6139696,"comment_id":7139997,"body_markdown":"@Harry Joy &quot;user can delete file by going in temp directory&quot; yes that&#39;s correct, because not all PC users have admin access on OS, and you have to check how ServerSocket works","body":"@Harry Joy &quot;user can delete file by going in temp directory&quot; yes that&#39;s correct, because not all PC users have admin access on OS, and you have to check how ServerSocket works"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306475656,"post_id":6139696,"comment_id":7140055,"body_markdown":"@mKorbel: what is the use of call `sendMessageToRunningApplication(&quot;toFront&quot;)`? what does it do?","body":"@mKorbel: what is the use of call <code>sendMessageToRunningApplication(&quot;toFront&quot;)</code>? what does it do?"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306478686,"post_id":6139696,"comment_id":7140590,"body_markdown":"@Harry Joy if is file (if JVM exist) locked by ServerSocket, then notify already running aplications (if you set JFrame.DO_NOTHING_ON_CLOSE, then you have to add frame.set*Visibel(true), too) frame.toFront();","body":"@Harry Joy if is file (if JVM exist) locked by ServerSocket, then notify already running aplications (if you set JFrame.DO_NOTHING_ON_CLOSE, then you have to add frame.set*Visibel(true), too) frame.toFront();"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306481060,"post_id":6139696,"comment_id":7141112,"body_markdown":"@Harry Joy which changes :-), maybe is about your implementations, maybe is about changes important for codes stable, can you little bit more concrete","body":"@Harry Joy which changes :-), maybe is about your implementations, maybe is about changes important for codes stable, can you little bit more concrete"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306486744,"post_id":6139696,"comment_id":7142308,"body_markdown":"@mKorbel: it gives exception &quot;`Port out of range -1`&quot; in `getPortNumber()` method. why?","body":"@mKorbel: it gives exception &quot;<code>Port out of range -1</code>&quot; in <code>getPortNumber()</code> method. why?"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306492770,"post_id":6139696,"comment_id":7143696,"body_markdown":"@Harry Joy System.out.print(port); always returns 2000 on 1st. App startUp, then 100times just with 20002000BUILD SUCCESSFUL (total time: 1 second) from winXp/Java 1.6.025, Win2008_64/Java 1.6.024, what did you changed,","body":"@Harry Joy System.out.print(port); always returns 2000 on 1st. App startUp, then 100times just with 20002000BUILD SUCCESSFUL (total time: 1 second) from winXp/Java 1.6.025, Win2008_64/Java 1.6.024, what did you changed,"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306492954,"post_id":6139696,"comment_id":7143743,"body_markdown":"@mKorbel: I have added a fileLock to file.","body":"@mKorbel: I have added a fileLock to file."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306496766,"post_id":6139696,"comment_id":7144656,"body_markdown":"@Harry Joy  this idea doesn&#39;t make me sense, because if I debug that that ServerSocket helt &quot;Pointer&quot; on this file if concrete JVM instance exist, that isn&#39;t about if File exist or not","body":"@Harry Joy  this idea doesn&#39;t make me sense, because if I debug that that ServerSocket helt &quot;Pointer&quot; on this file if concrete JVM instance exist, that isn&#39;t about if File exist or not"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306497097,"post_id":6139696,"comment_id":7144741,"body_markdown":"@mKorbel: while debugging I saw that `buffy.readLine()` is `null` in method `getPortNumber()`. This is what I have added before getting bufferreader byffy in `registerApplication()` method: `this.fileChannel = new RandomAccessFile(this.fileToBeLocked, &quot;rw&quot;).getChannel();\n        \tthis.fileLock = this.fileChannel.tryLock();\n\t\t\tif (this.fileLock == null) {\n\t\t\t\t// File is lock by other application\nthis.fileChannel.close();\nthrow new RuntimeException(\n&quot;Only 1 instance of Jogge Talk can run.&quot;);}\nShutdownHook shutdownHook = new ShutdownHook();\nRuntime.getRuntime().addShutdownHook(shutdownHook);`","body":"@mKorbel: while debugging I saw that <code>buffy.readLine()</code> is <code>null</code> in method <code>getPortNumber()</code>. This is what I have added before getting bufferreader byffy in <code>registerApplication()</code> method: <code>this.fileChannel = new RandomAccessFile(this.fileToBeLocked, &quot;rw&quot;).getChannel();         \tthis.fileLock = this.fileChannel.tryLock(); \t\t\tif (this.fileLock == null) { \t\t\t\t&#47;&#47; File is lock by other application this.fileChannel.close(); throw new RuntimeException( &quot;Only 1 instance of Jogge Talk can run.&quot;);} ShutdownHook shutdownHook = new ShutdownHook(); Runtime.getRuntime().addShutdownHook(shutdownHook);</code>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306501796,"post_id":6139696,"comment_id":7145996,"body_markdown":"@Harry Joy 1/ public static void main(String[] args) {\n        GuiFrame gf = new GuiFrame();\n    } 2) public GuiFrame() {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n\n            public void run() {\n                testSic();\n            }\n        });\n    } 3) follows with unchanged code 4) why ShutdownHook, really if you close App with System.exit(0); then ServerSocket doesn&#39;t exists too, why complicate simple things","body":"@Harry Joy 1/ public static void main(String[] args) {         GuiFrame gf = new GuiFrame();     } 2) public GuiFrame() {         javax.swing.SwingUtilities.invokeLater(new Runnable() {              public void run() {                 testSic();             }         });     } 3) follows with unchanged code 4) why ShutdownHook, really if you close App with System.exit(0); then ServerSocket doesn&#39;t exists too, why complicate simple things"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306501898,"post_id":6139696,"comment_id":7146028,"body_markdown":"@mKorbel: ShutdownHook is to remove the file lock that I have added on system exit.","body":"@mKorbel: ShutdownHook is to remove the file lock that I have added on system exit."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306502022,"post_id":6139696,"comment_id":7146068,"body_markdown":"@Harry Joy ...continue... 5) if is there real reason for that, then start Timer and check if File exist, 6) *** way *** or just  let File in append Mode, then isn&#39;t possible to delete it from Native OS, if JVM died, File could be free again ..., :-) note correct way it to avoid to complicated that, and result of test code == created Fatal error from code to the JVM instance, you&#39;ll see","body":"@Harry Joy ...continue... 5) if is there real reason for that, then start Timer and check if File exist, 6) *** way *** or just  let File in append Mode, then isn&#39;t possible to delete it from Native OS, if JVM died, File could be free again ..., :-) note correct way it to avoid to complicated that, and result of test code == created Fatal error from code to the JVM instance, you&#39;ll see"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1306502124,"post_id":6139696,"comment_id":7146099,"body_markdown":"@mKorbel: How to make file in append mode?","body":"@mKorbel: How to make file in append mode?"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1306507996,"post_id":6139696,"comment_id":7148021,"body_markdown":"@Harry Joy  http://download.oracle.com/javase/tutorial/essential/io/file.html or http://www.java2s.com/Code/Java/File-Input-Output/Appendstringtoatextfile.htm","body":"@Harry Joy  <a href=\"http://download.oracle.com/javase/tutorial/essential/io/file.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/essential/io/file.html</a> or <a href=\"http://www.java2s.com/Code/Java/File-Input-Output/Appendstringtoatextfile.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Java/File-Input-Output/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1387499890,"post_id":6139696,"comment_id":30993877,"body_markdown":"What abort a multi-user system, where tmp file is in a common area.  Then only one user can use it.","body":"What abort a multi-user system, where tmp file is in a common area.  Then only one user can use it."}],"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"comment_count":17,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306418542,"creation_date":1306418131,"answer_id":6139696,"question_id":6134694,"body_markdown":"EDIT: I tried that with Win200864b(version isn&#39;t important) and alive JFrame and move toFront() or Iconified in SystemTray with JFrame.DO_NOTHING_ON_CLOSE\r\n\r\n        public interface ApplicationStartedListener {\r\n        \r\n            void applicationStarted();\r\n        \r\n            void foreignApplicationStarted(String name);\r\n        \r\n            void messageArrived(Object obj);\r\n        }\r\n    \r\n    //\r\n    \r\n        import java.io.Serializable;\r\n        \r\n        public class ClassCheck implements Serializable {\r\n        \r\n            private static final long serialVersionUID = 1L;\r\n            private String className = null;\r\n        \r\n            public ClassCheck() {\r\n            }\r\n        \r\n            public ClassCheck(String className) {\r\n                setClassName(className);\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return this.className;\r\n            }\r\n        \r\n            public String getClassName() {\r\n                return this.className;\r\n            }\r\n        \r\n            public void setClassName(String className) {\r\n                this.className = className;\r\n            }\r\n        }\r\n    //\r\n    \r\n        import java.awt.AWTException;\r\n        import java.awt.BorderLayout;\r\n        import java.awt.Frame;\r\n        import java.awt.MouseInfo;\r\n        import java.awt.Point;\r\n        import java.awt.Robot;\r\n        import java.awt.event.InputEvent;\r\n        import java.io.File;\r\n        import javax.swing.JFrame;\r\n        import javax.swing.JTextField;\r\n        import javax.swing.SwingUtilities;\r\n        \r\n        public class RunOnceFromFile {\r\n        \r\n            private SingleInstanceController sic = null;\r\n            private JFrame frame;\r\n            private Robot r;\r\n            private JTextField tf;\r\n        \r\n            public RunOnceFromFile() {\r\n                try {\r\n                    r = new Robot();\r\n                } catch (AWTException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n                sic = new SingleInstanceController(new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;Example.file&quot;), &quot;sic_example_application&quot;);\r\n                if (sic.isOtherInstanceRunning()) {\r\n                    sic.sendMessageToRunningApplication(&quot;toFront&quot;);\r\n                    System.exit(0);\r\n                } else {\r\n                    frame = new JFrame(&quot;TEST&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setSize(400, 300);\r\n                    tf = new JTextField(&quot;JTextFiled&quot;);\r\n                    frame.add(tf, BorderLayout.NORTH);\r\n                    frame.setExtendedState(Frame.ICONIFIED);\r\n                    frame.setExtendedState(Frame.NORMAL);\r\n                    frame.setExtendedState(frame.getExtendedState() | JFrame.ICONIFIED);\r\n                    frame.setExtendedState(frame.getExtendedState() &amp; (~JFrame.ICONIFIED));\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                    sic.registerApplication();\r\n                    sic.addApplicationStartedListener(new ApplicationStartedListener() {\r\n        \r\n                        public void applicationStarted() {\r\n                            Runnable doRun = new Runnable() {\r\n        \r\n                                public void run() {\r\n                                    frame.toFront();\r\n                                }\r\n                            };\r\n                            SwingUtilities.invokeLater(doRun);\r\n                        }\r\n        \r\n                        public void foreignApplicationStarted(final String name) {\r\n                            Runnable doRun = new Runnable() {\r\n        \r\n                                public void run() {\r\n                                    frame.toFront();\r\n                                }\r\n                            };\r\n                            SwingUtilities.invokeLater(doRun);\r\n                        }\r\n        \r\n                        public void messageArrived(final Object obj) {\r\n                            Runnable doRun = new Runnable() {//activateWindow(frame);\r\n        \r\n                                public void run() {\r\n                                    frame.toFront();\r\n                                }\r\n                            };\r\n                            SwingUtilities.invokeLater(doRun);\r\n                        }\r\n        \r\n                        private void activateWindow(JFrame frame) {\r\n                            frame.setExtendedState(Frame.ICONIFIED);\r\n                            frame.setExtendedState(Frame.NORMAL);\r\n                            frame.setAlwaysOnTop(true);\r\n                            frame.setAlwaysOnTop(false);\r\n                            Point location = MouseInfo.getPointerInfo().getLocation();\r\n                            Point locationOnScreen = frame.getLocationOnScreen();\r\n                            r.mouseMove(locationOnScreen.x + 100, locationOnScreen.y + 10);\r\n                            r.mousePress(InputEvent.BUTTON1_MASK);\r\n                            r.mouseRelease(InputEvent.BUTTON1_MASK);\r\n                            r.mouseMove(location.x, location.y);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                RunOnceFromFile roff = new RunOnceFromFile();\r\n            }\r\n        }\r\n    //\r\n    \r\n        import java.io.BufferedReader;\r\n        import java.io.BufferedWriter;\r\n        import java.io.File;\r\n        import java.io.FileReader;\r\n        import java.io.FileWriter;\r\n        import java.io.IOException;\r\n        import java.io.ObjectInputStream;\r\n        import java.io.ObjectOutputStream;\r\n        import java.net.ServerSocket;\r\n        import java.net.Socket;\r\n        import java.util.ArrayList;\r\n        \r\n        public class SingleInstanceController {\r\n        \r\n            private String appname = null;\r\n            private Socket client = null;\r\n            private File file = null;\r\n            private ArrayList&lt;ApplicationStartedListener&gt; listener = null;\r\n            private ObjectInputStream ois = null;\r\n            private ObjectOutputStream oos = null;\r\n            private boolean result = false;\r\n            private ServerSocket server = null;\r\n        \r\n            public SingleInstanceController(String appname) {\r\n                this(new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/923jhakE53Kk9235b43.6m7&quot;), appname);\r\n            }\r\n        \r\n            public SingleInstanceController(File file, String appname) {\r\n                this.file = file;\r\n                this.appname = appname;\r\n                this.listener = new ArrayList&lt;ApplicationStartedListener&gt;();\r\n            }\r\n        \r\n            public void addApplicationStartedListener(ApplicationStartedListener asl) {\r\n                this.listener.add(asl);\r\n            }\r\n        \r\n            public void removeApplicationStartedListener(ApplicationStartedListener asl) {\r\n                this.listener.remove(asl);\r\n            }\r\n        \r\n            public boolean isOtherInstanceRunning() {\r\n                if (!this.file.exists()) {\r\n                    return false;\r\n                }\r\n                return sendMessageToRunningApplication(new ClassCheck(this.appname));\r\n            }\r\n        \r\n            public boolean sendMessageToRunningApplication(final Object obj) {\r\n                this.result = false;\r\n                try {\r\n                    this.client = new Socket(&quot;localhost&quot;, getPortNumber());\r\n                    new Thread(new Runnable() {\r\n        \r\n                        public void run() {\r\n                            try {\r\n                                SingleInstanceController.this.oos = new ObjectOutputStream(SingleInstanceController.this.client.getOutputStream());\r\n                                SingleInstanceController.this.ois = new ObjectInputStream(SingleInstanceController.this.client.getInputStream());\r\n                                SingleInstanceController.this.oos.writeObject(obj);\r\n                                SingleInstanceController.this.oos.flush();\r\n                                SingleInstanceController.this.result = SingleInstanceController.this.ois.readBoolean();\r\n                            } catch (IOException e) {\r\n                                SingleInstanceController.this.result = false;\r\n                            }\r\n                        }\r\n                    }).start();\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        if (this.result == true) {\r\n                            break;\r\n                        }\r\n                        try {\r\n                            Thread.sleep(500);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    this.client.close();\r\n                    return this.result;\r\n                } catch (IOException e) {\r\n                    return false;\r\n                }\r\n            }\r\n        \r\n            public boolean registerApplication() {\r\n                try {\r\n                    if (!this.file.exists()) {\r\n                        if (!this.file.getParentFile().mkdirs() &amp;&amp; !this.file.getParentFile().exists()) {\r\n                            return false;\r\n                        }\r\n                        if (!this.file.createNewFile()) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                    BufferedWriter wuffy = new BufferedWriter(new FileWriter(this.file));\r\n                    int port = getFreeServerSocket();\r\n                    if (port != -1) {\r\n                        startServer();\r\n                    }\r\n                    wuffy.write(String.valueOf(port));\r\n                    wuffy.close();\r\n                    return true;\r\n                } catch (IOException e) {\r\n                    return false;\r\n                }\r\n            }\r\n        \r\n            protected void messageArrived(Object obj) {\r\n                for (ApplicationStartedListener asl : this.listener) {\r\n                    asl.messageArrived(obj);\r\n                }\r\n            }\r\n        \r\n            protected void applicationStartet() {\r\n                for (ApplicationStartedListener asl : this.listener) {\r\n                    asl.applicationStarted();\r\n                }\r\n            }\r\n        \r\n            protected void foreignApplicationStarted(String name) {\r\n                for (ApplicationStartedListener asl : this.listener) {\r\n                    asl.foreignApplicationStarted(name);\r\n                }\r\n            }\r\n        \r\n            private int getPortNumber() {\r\n                try {\r\n                    BufferedReader buffy = new BufferedReader(new FileReader(this.file));\r\n                    int port = Integer.parseInt(buffy.readLine().trim());\r\n                    buffy.close();\r\n                    return port;\r\n                } catch (Exception e) {\r\n                    return -1;\r\n                }\r\n            }\r\n        \r\n            private void startServer() {\r\n                new Thread(new Runnable() {\r\n        \r\n                    public void run() {\r\n                        while (true) {\r\n                            try {\r\n                                SingleInstanceController.this.client = SingleInstanceController.this.server.accept();\r\n                                if (SingleInstanceController.this.client.getInetAddress().isLoopbackAddress()) {\r\n                                    new Thread(new Runnable() {\r\n        \r\n                                        public void run() {\r\n                                            try {\r\n                                                SingleInstanceController.this.oos = new ObjectOutputStream(SingleInstanceController.this.client.getOutputStream());\r\n                                                SingleInstanceController.this.ois = new ObjectInputStream(SingleInstanceController.this.client.getInputStream());\r\n                                                Object obj = SingleInstanceController.this.ois.readObject();\r\n                                                if (obj instanceof ClassCheck) {\r\n                                                    if (obj.toString().equals(SingleInstanceController.this.appname)) {\r\n                                                        SingleInstanceController.this.oos.writeBoolean(true);\r\n                                                        applicationStartet();\r\n                                                    } else {\r\n                                                        SingleInstanceController.this.oos.writeBoolean(false);\r\n                                                        foreignApplicationStarted(obj.toString());\r\n                                                    }\r\n                                                } else {\r\n                                                    messageArrived(obj);\r\n                                                    SingleInstanceController.this.oos.writeBoolean(true);\r\n                                                }\r\n                                                SingleInstanceController.this.oos.flush();\r\n                                                SingleInstanceController.this.client.close();\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            } catch (ClassNotFoundException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n                                    }).start();\r\n                                }\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }).start();\r\n            }\r\n        \r\n            private int getFreeServerSocket() {\r\n                for (int i = 2000; i &lt; 10000; i++) {\r\n                    try {\r\n                        this.server = new ServerSocket(i);\r\n                        return i;\r\n                    } catch (IOException ignore) {\r\n                    }\r\n                }\r\n                return -1;\r\n            }\r\n        }\r\n\r\n\r\n","title":"Restrict multiple instances of an application in java","body":"<p>EDIT: I tried that with Win200864b(version isn't important) and alive JFrame and move toFront() or Iconified in SystemTray with JFrame.DO_NOTHING_ON_CLOSE</p>\n\n<pre><code>    public interface ApplicationStartedListener {\n\n        void applicationStarted();\n\n        void foreignApplicationStarted(String name);\n\n        void messageArrived(Object obj);\n    }\n\n//\n\n    import java.io.Serializable;\n\n    public class ClassCheck implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n        private String className = null;\n\n        public ClassCheck() {\n        }\n\n        public ClassCheck(String className) {\n            setClassName(className);\n        }\n\n        @Override\n        public String toString() {\n            return this.className;\n        }\n\n        public String getClassName() {\n            return this.className;\n        }\n\n        public void setClassName(String className) {\n            this.className = className;\n        }\n    }\n//\n\n    import java.awt.AWTException;\n    import java.awt.BorderLayout;\n    import java.awt.Frame;\n    import java.awt.MouseInfo;\n    import java.awt.Point;\n    import java.awt.Robot;\n    import java.awt.event.InputEvent;\n    import java.io.File;\n    import javax.swing.JFrame;\n    import javax.swing.JTextField;\n    import javax.swing.SwingUtilities;\n\n    public class RunOnceFromFile {\n\n        private SingleInstanceController sic = null;\n        private JFrame frame;\n        private Robot r;\n        private JTextField tf;\n\n        public RunOnceFromFile() {\n            try {\n                r = new Robot();\n            } catch (AWTException ex) {\n                ex.printStackTrace();\n            }\n            sic = new SingleInstanceController(new File(System.getProperty(\"java.io.tmpdir\") + \"Example.file\"), \"sic_example_application\");\n            if (sic.isOtherInstanceRunning()) {\n                sic.sendMessageToRunningApplication(\"toFront\");\n                System.exit(0);\n            } else {\n                frame = new JFrame(\"TEST\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setSize(400, 300);\n                tf = new JTextField(\"JTextFiled\");\n                frame.add(tf, BorderLayout.NORTH);\n                frame.setExtendedState(Frame.ICONIFIED);\n                frame.setExtendedState(Frame.NORMAL);\n                frame.setExtendedState(frame.getExtendedState() | JFrame.ICONIFIED);\n                frame.setExtendedState(frame.getExtendedState() &amp; (~JFrame.ICONIFIED));\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n                sic.registerApplication();\n                sic.addApplicationStartedListener(new ApplicationStartedListener() {\n\n                    public void applicationStarted() {\n                        Runnable doRun = new Runnable() {\n\n                            public void run() {\n                                frame.toFront();\n                            }\n                        };\n                        SwingUtilities.invokeLater(doRun);\n                    }\n\n                    public void foreignApplicationStarted(final String name) {\n                        Runnable doRun = new Runnable() {\n\n                            public void run() {\n                                frame.toFront();\n                            }\n                        };\n                        SwingUtilities.invokeLater(doRun);\n                    }\n\n                    public void messageArrived(final Object obj) {\n                        Runnable doRun = new Runnable() {//activateWindow(frame);\n\n                            public void run() {\n                                frame.toFront();\n                            }\n                        };\n                        SwingUtilities.invokeLater(doRun);\n                    }\n\n                    private void activateWindow(JFrame frame) {\n                        frame.setExtendedState(Frame.ICONIFIED);\n                        frame.setExtendedState(Frame.NORMAL);\n                        frame.setAlwaysOnTop(true);\n                        frame.setAlwaysOnTop(false);\n                        Point location = MouseInfo.getPointerInfo().getLocation();\n                        Point locationOnScreen = frame.getLocationOnScreen();\n                        r.mouseMove(locationOnScreen.x + 100, locationOnScreen.y + 10);\n                        r.mousePress(InputEvent.BUTTON1_MASK);\n                        r.mouseRelease(InputEvent.BUTTON1_MASK);\n                        r.mouseMove(location.x, location.y);\n                    }\n                });\n            }\n        }\n\n        public static void main(String[] args) {\n            RunOnceFromFile roff = new RunOnceFromFile();\n        }\n    }\n//\n\n    import java.io.BufferedReader;\n    import java.io.BufferedWriter;\n    import java.io.File;\n    import java.io.FileReader;\n    import java.io.FileWriter;\n    import java.io.IOException;\n    import java.io.ObjectInputStream;\n    import java.io.ObjectOutputStream;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    import java.util.ArrayList;\n\n    public class SingleInstanceController {\n\n        private String appname = null;\n        private Socket client = null;\n        private File file = null;\n        private ArrayList&lt;ApplicationStartedListener&gt; listener = null;\n        private ObjectInputStream ois = null;\n        private ObjectOutputStream oos = null;\n        private boolean result = false;\n        private ServerSocket server = null;\n\n        public SingleInstanceController(String appname) {\n            this(new File(System.getProperty(\"java.io.tmpdir\") + \"/923jhakE53Kk9235b43.6m7\"), appname);\n        }\n\n        public SingleInstanceController(File file, String appname) {\n            this.file = file;\n            this.appname = appname;\n            this.listener = new ArrayList&lt;ApplicationStartedListener&gt;();\n        }\n\n        public void addApplicationStartedListener(ApplicationStartedListener asl) {\n            this.listener.add(asl);\n        }\n\n        public void removeApplicationStartedListener(ApplicationStartedListener asl) {\n            this.listener.remove(asl);\n        }\n\n        public boolean isOtherInstanceRunning() {\n            if (!this.file.exists()) {\n                return false;\n            }\n            return sendMessageToRunningApplication(new ClassCheck(this.appname));\n        }\n\n        public boolean sendMessageToRunningApplication(final Object obj) {\n            this.result = false;\n            try {\n                this.client = new Socket(\"localhost\", getPortNumber());\n                new Thread(new Runnable() {\n\n                    public void run() {\n                        try {\n                            SingleInstanceController.this.oos = new ObjectOutputStream(SingleInstanceController.this.client.getOutputStream());\n                            SingleInstanceController.this.ois = new ObjectInputStream(SingleInstanceController.this.client.getInputStream());\n                            SingleInstanceController.this.oos.writeObject(obj);\n                            SingleInstanceController.this.oos.flush();\n                            SingleInstanceController.this.result = SingleInstanceController.this.ois.readBoolean();\n                        } catch (IOException e) {\n                            SingleInstanceController.this.result = false;\n                        }\n                    }\n                }).start();\n                for (int i = 0; i &lt; 10; i++) {\n                    if (this.result == true) {\n                        break;\n                    }\n                    try {\n                        Thread.sleep(500);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                this.client.close();\n                return this.result;\n            } catch (IOException e) {\n                return false;\n            }\n        }\n\n        public boolean registerApplication() {\n            try {\n                if (!this.file.exists()) {\n                    if (!this.file.getParentFile().mkdirs() &amp;&amp; !this.file.getParentFile().exists()) {\n                        return false;\n                    }\n                    if (!this.file.createNewFile()) {\n                        return false;\n                    }\n                }\n                BufferedWriter wuffy = new BufferedWriter(new FileWriter(this.file));\n                int port = getFreeServerSocket();\n                if (port != -1) {\n                    startServer();\n                }\n                wuffy.write(String.valueOf(port));\n                wuffy.close();\n                return true;\n            } catch (IOException e) {\n                return false;\n            }\n        }\n\n        protected void messageArrived(Object obj) {\n            for (ApplicationStartedListener asl : this.listener) {\n                asl.messageArrived(obj);\n            }\n        }\n\n        protected void applicationStartet() {\n            for (ApplicationStartedListener asl : this.listener) {\n                asl.applicationStarted();\n            }\n        }\n\n        protected void foreignApplicationStarted(String name) {\n            for (ApplicationStartedListener asl : this.listener) {\n                asl.foreignApplicationStarted(name);\n            }\n        }\n\n        private int getPortNumber() {\n            try {\n                BufferedReader buffy = new BufferedReader(new FileReader(this.file));\n                int port = Integer.parseInt(buffy.readLine().trim());\n                buffy.close();\n                return port;\n            } catch (Exception e) {\n                return -1;\n            }\n        }\n\n        private void startServer() {\n            new Thread(new Runnable() {\n\n                public void run() {\n                    while (true) {\n                        try {\n                            SingleInstanceController.this.client = SingleInstanceController.this.server.accept();\n                            if (SingleInstanceController.this.client.getInetAddress().isLoopbackAddress()) {\n                                new Thread(new Runnable() {\n\n                                    public void run() {\n                                        try {\n                                            SingleInstanceController.this.oos = new ObjectOutputStream(SingleInstanceController.this.client.getOutputStream());\n                                            SingleInstanceController.this.ois = new ObjectInputStream(SingleInstanceController.this.client.getInputStream());\n                                            Object obj = SingleInstanceController.this.ois.readObject();\n                                            if (obj instanceof ClassCheck) {\n                                                if (obj.toString().equals(SingleInstanceController.this.appname)) {\n                                                    SingleInstanceController.this.oos.writeBoolean(true);\n                                                    applicationStartet();\n                                                } else {\n                                                    SingleInstanceController.this.oos.writeBoolean(false);\n                                                    foreignApplicationStarted(obj.toString());\n                                                }\n                                            } else {\n                                                messageArrived(obj);\n                                                SingleInstanceController.this.oos.writeBoolean(true);\n                                            }\n                                            SingleInstanceController.this.oos.flush();\n                                            SingleInstanceController.this.client.close();\n                                        } catch (IOException e) {\n                                            e.printStackTrace();\n                                        } catch (ClassNotFoundException e) {\n                                            e.printStackTrace();\n                                        }\n                                    }\n                                }).start();\n                            }\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }).start();\n        }\n\n        private int getFreeServerSocket() {\n            for (int i = 2000; i &lt; 10000; i++) {\n                try {\n                    this.server = new ServerSocket(i);\n                    return i;\n                } catch (IOException ignore) {\n                }\n            }\n            return -1;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361214645,"creation_date":1361214645,"answer_id":14943615,"question_id":6134694,"body_markdown":"I know that this question is pretty old, but I have to solve the same problem at the moment. I prefer the socket solution because I have never thought that such kind of task should have anything to do with the file system. It is better to solve the problem in memory and not in the file system I think.","title":"Restrict multiple instances of an application in java","body":"<p>I know that this question is pretty old, but I have to solve the same problem at the moment. I prefer the socket solution because I have never thought that such kind of task should have anything to do with the file system. It is better to solve the problem in memory and not in the file system I think.</p>\n"}],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5399,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6139696,"answer_count":8,"score":8,"last_activity_date":1667177148,"creation_date":1306392133,"question_id":6134694,"body_markdown":"I want to prevent multiple instances of application being launched in java. I know 2 methods for this:\r\n\r\n1. locking file\r\n2. locking socket \r\n\r\nBut which is one is more efficient and good to use? Which one should I use? \r\n\r\nAny other solution to do the same are also welcome.","title":"Restrict multiple instances of an application in java","body":"<p>I want to prevent multiple instances of application being launched in java. I know 2 methods for this:</p>\n\n<ol>\n<li>locking file</li>\n<li>locking socket </li>\n</ol>\n\n<p>But which is one is more efficient and good to use? Which one should I use? </p>\n\n<p>Any other solution to do the same are also welcome.</p>\n"},{"tags":["java","inheritance","javafx","tableview"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667305152,"post_id":74256594,"comment_id":131132313,"body_markdown":"For newer (e.g. 17+) Java versions you can use [sealed classes](https://openjdk.org/jeps/409) with [pattern matching instanceof](https://openjdk.org/jeps/394) in a [switch expression](https://openjdk.org/jeps/361) to implement the switching in the cell value factory implementation.  In future (currently preview only) such work could be extended to [arbitrary expressions](https://openjdk.org/jeps/433), but that isn&#39;t needed here.","body":"For newer (e.g. 17+) Java versions you can use <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">sealed classes</a> with <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">pattern matching instanceof</a> in a <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">switch expression</a> to implement the switching in the cell value factory implementation.  In future (currently preview only) such work could be extended to <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\">arbitrary expressions</a>, but that isn&#39;t needed here."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667176957,"creation_date":1667162409,"answer_id":74256594,"question_id":74255691,"body_markdown":"If you follow the advice [here](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx-and-what-should-i-use-i) and avoid the use of `PropertyValueFactory`, the solution becomes reasonably clear:\r\n\r\n    titleColumn.setCellValueFactory(data -&gt; \r\n        new SimpleStringProperty(data.getValue().getTitle()));\r\n\r\n    authorDirectorColumn.setCellValueFactory(data -&gt; {\r\n        LibraryItem item = data.getValue();\r\n        if (item instanceof Book book) {\r\n            return new SimpleStringProperty(book.getAuthor());\r\n        } else if (item instanceof Movie movie) {\r\n            return new SimpleStringProperty(movie.getProducer());\r\n        } else {\r\n            return null ;\r\n        }\r\n    });\r\n\r\n\r\nHere&#39;s a complete example (I simplified the model classes for brevity, but retained enough to demonstrate the point):\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            TableView&lt;LibraryItem&gt; table = new TableView&lt;&gt;();\r\n            TableColumn&lt;LibraryItem, String&gt; titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\r\n            TableColumn&lt;LibraryItem, String&gt; authorProducerColumn = new TableColumn&lt;&gt;(&quot;Author/Producer&quot;);\r\n            table.getColumns().add(titleColumn);\r\n            table.getColumns().add(authorProducerColumn);\r\n    \r\n            titleColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(data.getValue().getTitle()));\r\n    \r\n            authorProducerColumn.setCellValueFactory(data -&gt; {\r\n                LibraryItem item = data.getValue();\r\n                if (item instanceof Book book) {\r\n                    return new SimpleStringProperty(book.getAuthor());\r\n                } else if (item instanceof Movie movie) {\r\n                    return new SimpleStringProperty(movie.getProducer());\r\n                } else return null ;\r\n            });\r\n    \r\n            for (int i = 1 ; i &lt;= 10 ; i++) {\r\n                Book book = new Book(&quot;Book &quot;+i, &quot;Author &quot;+i);\r\n                Movie movie = new Movie(&quot;Movie &quot;+i, &quot;Producer &quot;+i);\r\n                table.getItems().addAll(book, movie);\r\n            }\r\n    \r\n            BorderPane root = new BorderPane(table);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public class LibraryItem {\r\n            private String title ;\r\n            public LibraryItem(String title) {\r\n                this.title = title ;\r\n            }\r\n    \r\n            public String getTitle() {\r\n                return title;\r\n            }\r\n    \r\n            public void setTitle(String title) {\r\n                this.title = title;\r\n            }\r\n        }\r\n    \r\n        public class Movie extends LibraryItem {\r\n            private String producer ;\r\n            public Movie(String title, String producer) {\r\n                super(title);\r\n                this.producer = producer ;\r\n            }\r\n    \r\n            public String getProducer() {\r\n                return producer;\r\n            }\r\n    \r\n            public void setProducer(String producer) {\r\n                this.producer = producer;\r\n            }\r\n        }\r\n    \r\n        public class Book extends LibraryItem {\r\n            private String author ;\r\n            public Book(String title, String author) {\r\n                super(title);\r\n                this.author = author ;\r\n            }\r\n    \r\n            public String getAuthor() {\r\n                return author;\r\n            }\r\n    \r\n            public void setAuthor(String author) {\r\n                this.author = author;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MMho2.png","title":"JavaFX: How do I fill a table view with 2 different classes with the same super class","body":"<p>If you follow the advice <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx-and-what-should-i-use-i\">here</a> and avoid the use of <code>PropertyValueFactory</code>, the solution becomes reasonably clear:</p>\n<pre><code>titleColumn.setCellValueFactory(data -&gt; \n    new SimpleStringProperty(data.getValue().getTitle()));\n\nauthorDirectorColumn.setCellValueFactory(data -&gt; {\n    LibraryItem item = data.getValue();\n    if (item instanceof Book book) {\n        return new SimpleStringProperty(book.getAuthor());\n    } else if (item instanceof Movie movie) {\n        return new SimpleStringProperty(movie.getProducer());\n    } else {\n        return null ;\n    }\n});\n</code></pre>\n<p>Here's a complete example (I simplified the model classes for brevity, but retained enough to demonstrate the point):</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        TableView&lt;LibraryItem&gt; table = new TableView&lt;&gt;();\n        TableColumn&lt;LibraryItem, String&gt; titleColumn = new TableColumn&lt;&gt;(&quot;Title&quot;);\n        TableColumn&lt;LibraryItem, String&gt; authorProducerColumn = new TableColumn&lt;&gt;(&quot;Author/Producer&quot;);\n        table.getColumns().add(titleColumn);\n        table.getColumns().add(authorProducerColumn);\n\n        titleColumn.setCellValueFactory(data -&gt; new SimpleStringProperty(data.getValue().getTitle()));\n\n        authorProducerColumn.setCellValueFactory(data -&gt; {\n            LibraryItem item = data.getValue();\n            if (item instanceof Book book) {\n                return new SimpleStringProperty(book.getAuthor());\n            } else if (item instanceof Movie movie) {\n                return new SimpleStringProperty(movie.getProducer());\n            } else return null ;\n        });\n\n        for (int i = 1 ; i &lt;= 10 ; i++) {\n            Book book = new Book(&quot;Book &quot;+i, &quot;Author &quot;+i);\n            Movie movie = new Movie(&quot;Movie &quot;+i, &quot;Producer &quot;+i);\n            table.getItems().addAll(book, movie);\n        }\n\n        BorderPane root = new BorderPane(table);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public class LibraryItem {\n        private String title ;\n        public LibraryItem(String title) {\n            this.title = title ;\n        }\n\n        public String getTitle() {\n            return title;\n        }\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n    }\n\n    public class Movie extends LibraryItem {\n        private String producer ;\n        public Movie(String title, String producer) {\n            super(title);\n            this.producer = producer ;\n        }\n\n        public String getProducer() {\n            return producer;\n        }\n\n        public void setProducer(String producer) {\n            this.producer = producer;\n        }\n    }\n\n    public class Book extends LibraryItem {\n        private String author ;\n        public Book(String title, String author) {\n            super(title);\n            this.author = author ;\n        }\n\n        public String getAuthor() {\n            return author;\n        }\n\n        public void setAuthor(String author) {\n            this.author = author;\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MMho2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MMho2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26778290,"reputation":33,"user_id":20373565,"display_name":"l-huisman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74256594,"answer_count":1,"score":3,"last_activity_date":1667176957,"creation_date":1667154452,"question_id":74255691,"body_markdown":"I have 3 classes the first one is Library Item this is the super class. The other two classes are Book and Movie. When I want to fill my table view I want to make sure the correct property is called when populating the table view. I know it is easier to just call the director and author the same for ease of use, but I want to get it working for learning purposes. I have left out packages and imports for relevance.\r\n\r\nLibraryItem class\r\n```\r\npublic abstract class LibraryItem {\r\n    private int itemCode;\r\n    private String title;\r\n    private boolean availability;\r\n    private int memberIdentifier;\r\n    private LocalDate dateLent;\r\n\r\n    protected LibraryItem(int itemCode, String title, boolean availability, int memberIdentifier, LocalDate dateLent) {\r\n        this.itemCode = itemCode;\r\n        this.title = title;\r\n        this.availability = availability;\r\n        this.memberIdentifier = memberIdentifier;\r\n        this.dateLent = dateLent;\r\n    }\r\n\r\n    public int getItemCode() {\r\n        return itemCode;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public boolean isAvailability() {\r\n        return availability;\r\n    }\r\n\r\n    public void setAvailability(boolean availability) {\r\n        this.availability = availability;\r\n    }\r\n\r\n    public int getMemberIdentifier() {\r\n        return memberIdentifier;\r\n    }\r\n\r\n    public void setMemberIdentifier(int memberIdentifier) {\r\n        this.memberIdentifier = memberIdentifier;\r\n    }\r\n\r\n    public LocalDate getDateLent() {\r\n        return dateLent;\r\n    }\r\n\r\n    public void setDateLent(LocalDate dateLent) {\r\n        this.dateLent = dateLent;\r\n    }\r\n}\r\n```\r\n\r\n\r\nBook class\r\n```\r\npublic class Book extends LibraryItem {\r\n    private String author;\r\n\r\n    protected Book(int itemCode, String title, boolean isLent, int memberIdentifier, LocalDate dateLent, String author) {\r\n        super(itemCode, title, isLent, memberIdentifier, dateLent);\r\n        this.author = author;\r\n    }\r\n}\r\n```\r\n\r\nMovie class\r\n```\r\npublic class Movie extends LibraryItem {\r\n    private String director;\r\n\r\n    protected Movie(int itemCode, String title, boolean isLent, int memberIdentifier, LocalDate dateLent, String director) {\r\n        super(itemCode, title, isLent, memberIdentifier, dateLent);\r\n        this.director = director;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI was thinking maybe there is some kind of check I can do for each row implemented so the correct value will be given, \r\n\r\nThis was my attempt:\r\n\r\n```\r\npublic class CollectionController implements Initializable {\r\n    @FXML\r\n    private TableView&lt;LibraryItem&gt; libraryItemsTable;\r\n    @FXML\r\n    private TableColumn&lt;LibraryItem, String&gt; itemCodeColumn;\r\n    @FXML\r\n    private TableColumn&lt;LibraryItem, String&gt;  availableColumn;\r\n    @FXML\r\n    private TableColumn&lt;LibraryItem, String&gt;  titleColumn;\r\n    @FXML\r\n    private TableColumn&lt;LibraryItem, String&gt;  authorDirectorColumn;\r\n    private LibraryService libraryService = new LibraryService();\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        initializeTableView();\r\n    }\r\n\r\n    private void initializeTableView() {\r\n        List&lt;LibraryItem&gt; libraryItems = libraryService.getLibraryItems();\r\n\r\n        itemCodeColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;itemCode&quot;));\r\n        availableColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;availability&quot;));\r\n        titleColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;title&quot;));\r\n        \r\n        // implement here check for each new row\r\n        if (checkIfBook(row))\r\n            authorDirectorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;author&quot;));\r\n        else\r\n            authorDirectorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;director&quot;));\r\n        //\r\n\r\n        libraryItemsTable.getItems().addAll(libraryItems);\r\n    }\r\n```\r\n","title":"JavaFX: How do I fill a table view with 2 different classes with the same super class","body":"<p>I have 3 classes the first one is Library Item this is the super class. The other two classes are Book and Movie. When I want to fill my table view I want to make sure the correct property is called when populating the table view. I know it is easier to just call the director and author the same for ease of use, but I want to get it working for learning purposes. I have left out packages and imports for relevance.</p>\n<p>LibraryItem class</p>\n<pre><code>public abstract class LibraryItem {\n    private int itemCode;\n    private String title;\n    private boolean availability;\n    private int memberIdentifier;\n    private LocalDate dateLent;\n\n    protected LibraryItem(int itemCode, String title, boolean availability, int memberIdentifier, LocalDate dateLent) {\n        this.itemCode = itemCode;\n        this.title = title;\n        this.availability = availability;\n        this.memberIdentifier = memberIdentifier;\n        this.dateLent = dateLent;\n    }\n\n    public int getItemCode() {\n        return itemCode;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public boolean isAvailability() {\n        return availability;\n    }\n\n    public void setAvailability(boolean availability) {\n        this.availability = availability;\n    }\n\n    public int getMemberIdentifier() {\n        return memberIdentifier;\n    }\n\n    public void setMemberIdentifier(int memberIdentifier) {\n        this.memberIdentifier = memberIdentifier;\n    }\n\n    public LocalDate getDateLent() {\n        return dateLent;\n    }\n\n    public void setDateLent(LocalDate dateLent) {\n        this.dateLent = dateLent;\n    }\n}\n</code></pre>\n<p>Book class</p>\n<pre><code>public class Book extends LibraryItem {\n    private String author;\n\n    protected Book(int itemCode, String title, boolean isLent, int memberIdentifier, LocalDate dateLent, String author) {\n        super(itemCode, title, isLent, memberIdentifier, dateLent);\n        this.author = author;\n    }\n}\n</code></pre>\n<p>Movie class</p>\n<pre><code>public class Movie extends LibraryItem {\n    private String director;\n\n    protected Movie(int itemCode, String title, boolean isLent, int memberIdentifier, LocalDate dateLent, String director) {\n        super(itemCode, title, isLent, memberIdentifier, dateLent);\n        this.director = director;\n    }\n}\n</code></pre>\n<p>I was thinking maybe there is some kind of check I can do for each row implemented so the correct value will be given,</p>\n<p>This was my attempt:</p>\n<pre><code>public class CollectionController implements Initializable {\n    @FXML\n    private TableView&lt;LibraryItem&gt; libraryItemsTable;\n    @FXML\n    private TableColumn&lt;LibraryItem, String&gt; itemCodeColumn;\n    @FXML\n    private TableColumn&lt;LibraryItem, String&gt;  availableColumn;\n    @FXML\n    private TableColumn&lt;LibraryItem, String&gt;  titleColumn;\n    @FXML\n    private TableColumn&lt;LibraryItem, String&gt;  authorDirectorColumn;\n    private LibraryService libraryService = new LibraryService();\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        initializeTableView();\n    }\n\n    private void initializeTableView() {\n        List&lt;LibraryItem&gt; libraryItems = libraryService.getLibraryItems();\n\n        itemCodeColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;itemCode&quot;));\n        availableColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;availability&quot;));\n        titleColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;title&quot;));\n        \n        // implement here check for each new row\n        if (checkIfBook(row))\n            authorDirectorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;author&quot;));\n        else\n            authorDirectorColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;director&quot;));\n        //\n\n        libraryItemsTable.getItems().addAll(libraryItems);\n    }\n</code></pre>\n"},{"tags":["java","mutex"],"answers":[{"comments":[{"owner":{"account_id":391958,"reputation":6822,"user_id":752920,"accept_rate":79,"display_name":"Ankit"},"score":1,"creation_date":1336530637,"post_id":10508888,"comment_id":13587863,"body_markdown":"just an addendum : I have not tried the pid thing which is safer if the system has PID available. I have tried this earlier, but found a little problem (just a false-positive). Now this may be machine-specific. So, when my program closes, it would delete the file. The file did not get deleted immediately (due to buffering or whatever) and when I ran the program again quickly, it would find the file (even when it is deleted)","body":"just an addendum : I have not tried the pid thing which is safer if the system has PID available. I have tried this earlier, but found a little problem (just a false-positive). Now this may be machine-specific. So, when my program closes, it would delete the file. The file did not get deleted immediately (due to buffering or whatever) and when I ran the program again quickly, it would find the file (even when it is deleted)"},{"owner":{"account_id":299330,"reputation":1221,"user_id":605869,"display_name":"Tom"},"score":0,"creation_date":1336541041,"post_id":10508888,"comment_id":13589444,"body_markdown":"You&#39;ll probably want to give the user a way to remove the lock file, just in case the application crashes and doesn&#39;t delete it automatically.","body":"You&#39;ll probably want to give the user a way to remove the lock file, just in case the application crashes and doesn&#39;t delete it automatically."},{"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"score":0,"creation_date":1336542121,"post_id":10508888,"comment_id":13589669,"body_markdown":"will do, is there anyway to make the file auto delete upon reboot?","body":"will do, is there anyway to make the file auto delete upon reboot?"},{"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"score":0,"creation_date":1336566510,"post_id":10508888,"comment_id":13598298,"body_markdown":"@JorisBolsens put the file in the systems tmp directory. I know this clears on reboot for linux and I think there is a similar location for Windows.","body":"@JorisBolsens put the file in the systems tmp directory. I know this clears on reboot for linux and I think there is a similar location for Windows."},{"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"score":0,"creation_date":1336615073,"post_id":10508888,"comment_id":13615543,"body_markdown":"alright, and is there anyway that I can make it so that it deletes even if my jar crashes?","body":"alright, and is there anyway that I can make it so that it deletes even if my jar crashes?"},{"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"score":0,"creation_date":1434032736,"post_id":10508888,"comment_id":49617134,"body_markdown":"Better to listen for existing instance, as a file can bue &#39;hack&#39;, or even worse, the lock can not be release if the soft break :/\nSee theses answers : http://stackoverflow.com/a/920403/244911","body":"Better to listen for existing instance, as a file can bue &#39;hack&#39;, or even worse, the lock can not be release if the soft break :/ See theses answers : <a href=\"http://stackoverflow.com/a/920403/244911\">stackoverflow.com/a/920403/244911</a>"}],"tags":[],"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1336528989,"creation_date":1336528371,"answer_id":10508888,"question_id":10508846,"body_markdown":"What you are looking for can probably best be accomplished with a lock file. By lock file I simply mean a file that will have a predefined location and whose existence is your mutex.\r\n\r\nTest if that file exists when your program starts, if it does, exit immediately. Create a file in a known location.  If your program exits normally, delete the lock file. \r\n\r\nProbably best is if you can also populate the file with a pid (process id) so that you can detect abnormal exits that didn&#39;t delete the file but this get OS specific. ","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>What you are looking for can probably best be accomplished with a lock file. By lock file I simply mean a file that will have a predefined location and whose existence is your mutex.</p>\n\n<p>Test if that file exists when your program starts, if it does, exit immediately. Create a file in a known location.  If your program exits normally, delete the lock file. </p>\n\n<p>Probably best is if you can also populate the file with a pid (process id) so that you can detect abnormal exits that didn't delete the file but this get OS specific. </p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336528782,"creation_date":1336528782,"answer_id":10508928,"question_id":10508846,"body_markdown":"If you use a Mutex, logically that Mutex would need to be accessible from any JVM which was running a copy of &quot;the program&quot;.  In C programming, this might be accomplished via shared memory, but Java doesn&#39;t have such a thing by default.\r\n\r\nWith that understanding, there are plenty of ways to implement what you want.  You could open a server socket on a designated port (the operating system assures that only one process is the recipient of the server socket, and subsequent opens fail).\r\n\r\nYou could use a &quot;lock file&quot; but it is a bit complicated, as the file you would need to use would really be a directory (and it becomes heavily dependent on whether directory creation is atomic for your file system, even though most directory creations are).  If a sysadmin decides to run you via NFS, then things get even harder (if not impossible).\r\n\r\nYou can also do a number of nifty tricks with JVMs and debugging / JMI, provided you can somehow assure youself that all relevant JVMs are launched with the same configurations (in time, an impossible task).\r\n\r\nOther people have used the exec facility to run the equivalent of a process listing, but it is a bit tricky due to the possibility of race condition (two processes simultaneously check, and fail to see each other).\r\n\r\nIn the end, the server socket route is probably the most stable, as it is guaranteed to only bind to one process by the TCP/IP stack (and is mediated by the operating system).  That said, you will have to flush the socket of incoming messages, and it opens up the possibility of other security issues.","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>If you use a Mutex, logically that Mutex would need to be accessible from any JVM which was running a copy of \"the program\".  In C programming, this might be accomplished via shared memory, but Java doesn't have such a thing by default.</p>\n\n<p>With that understanding, there are plenty of ways to implement what you want.  You could open a server socket on a designated port (the operating system assures that only one process is the recipient of the server socket, and subsequent opens fail).</p>\n\n<p>You could use a \"lock file\" but it is a bit complicated, as the file you would need to use would really be a directory (and it becomes heavily dependent on whether directory creation is atomic for your file system, even though most directory creations are).  If a sysadmin decides to run you via NFS, then things get even harder (if not impossible).</p>\n\n<p>You can also do a number of nifty tricks with JVMs and debugging / JMI, provided you can somehow assure youself that all relevant JVMs are launched with the same configurations (in time, an impossible task).</p>\n\n<p>Other people have used the exec facility to run the equivalent of a process listing, but it is a bit tricky due to the possibility of race condition (two processes simultaneously check, and fail to see each other).</p>\n\n<p>In the end, the server socket route is probably the most stable, as it is guaranteed to only bind to one process by the TCP/IP stack (and is mediated by the operating system).  That said, you will have to flush the socket of incoming messages, and it opens up the possibility of other security issues.</p>\n"},{"comments":[{"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"score":0,"creation_date":1336531873,"post_id":10508933,"comment_id":13588045,"body_markdown":"I&#39;d like to be able to use on mac and linux as well, but this does help xD","body":"I&#39;d like to be able to use on mac and linux as well, but this does help xD"}],"tags":[],"owner":{"account_id":429135,"reputation":4502,"user_id":811865,"accept_rate":70,"display_name":"Jerome"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336529764,"creation_date":1336528820,"answer_id":10508933,"question_id":10508846,"body_markdown":"If your application is running on Windows, you can call [CreateMutex][1] through JNI.\r\n\r\n    jboolean ret = FALSE;    \r\n    HANDLE hMutex = CreateMutex(NULL, FALSE, mutexName); \r\n    ret = TRUE;    \r\n    if(WAIT_TIMEOUT == WaitForSingleObject(hMutex, 10))  \r\n    {    \r\n        ret = FALSE;  \r\n    }\r\n    else if(GetLastError() != 0)  \r\n    {    \r\n        ret = FALSE;  \r\n    }\r\n\r\nThis returns true if nobody else is using this mutex, false otherwise.\r\nYou could provide &quot;myApplication&quot; as a mutex name or &quot;Global\\MyApplication&quot; if you want your mutex to be shared by all Windows sessions.\r\n\r\nEdit: It&#39;s not as complicated as it looks :) and I find it clean.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ee488798.aspx\r\n\r\n","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>If your application is running on Windows, you can call <a href=\"http://msdn.microsoft.com/en-us/library/ee488798.aspx\" rel=\"nofollow\">CreateMutex</a> through JNI.</p>\n\n<pre><code>jboolean ret = FALSE;    \nHANDLE hMutex = CreateMutex(NULL, FALSE, mutexName); \nret = TRUE;    \nif(WAIT_TIMEOUT == WaitForSingleObject(hMutex, 10))  \n{    \n    ret = FALSE;  \n}\nelse if(GetLastError() != 0)  \n{    \n    ret = FALSE;  \n}\n</code></pre>\n\n<p>This returns true if nobody else is using this mutex, false otherwise.\nYou could provide \"myApplication\" as a mutex name or \"Global\\MyApplication\" if you want your mutex to be shared by all Windows sessions.</p>\n\n<p>Edit: It's not as complicated as it looks :) and I find it clean.</p>\n"},{"comments":[{"owner":{"account_id":440918,"reputation":1320,"user_id":1345845,"accept_rate":60,"display_name":"Lai"},"score":0,"creation_date":1375923885,"post_id":18008362,"comment_id":26525197,"body_markdown":"1) How this would find out if the program hangs? \nIf a previous program hangs, both the PID in registry and the process in the tasklist still remains. You could not distinguish between a running process or a hanged process. \n\n2) I could just scan the tasklist to find the process(may be running or hanged). What more could you achieve by saving the PID in registry?","body":"1) How this would find out if the program hangs?  If a previous program hangs, both the PID in registry and the process in the tasklist still remains. You could not distinguish between a running process or a hanged process.   2) I could just scan the tasklist to find the process(may be running or hanged). What more could you achieve by saving the PID in registry?"},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1375932056,"post_id":18008362,"comment_id":26526745,"body_markdown":"Ah, good catch.  I meant to add another key which stores the last successful completion time.  Also keep a variable for &quot;max amount of time allowed to run&quot;.  When the program starts, the time the PID runtime can be calculated and killed if it runs too long.","body":"Ah, good catch.  I meant to add another key which stores the last successful completion time.  Also keep a variable for &quot;max amount of time allowed to run&quot;.  When the program starts, the time the PID runtime can be calculated and killed if it runs too long."}],"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375931944,"creation_date":1375414573,"answer_id":18008362,"question_id":10508846,"body_markdown":"The strategy of this code is to keep the PID around from the last run in the registry, if that PID is found running on the system, don&#39;t start.  If you finish, reset.  \r\n\r\nThe preferences are stored on Windows Registry in `HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Prefs`\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.prefs.Preferences;\r\n    public class JavaApplication3 {\r\n        public static void main(String[] args){\r\n            if(isRunning()){\r\n                System.out.println(&quot;Two instances of this program cannot &quot; +\r\n                        &quot;be running at the same time.  Exiting now&quot;);\r\n            }\r\n            else{\r\n                onStart();\r\n                epicHeavyWorkGoesHere();\r\n                onFinish();\r\n            }\r\n        }\r\n        public static void epicHeavyWorkGoesHere(){\r\n            try {\r\n                Thread.sleep(15000);\r\n            } catch (InterruptedException ex) {}\r\n        }\r\n        public static void onStart(){\r\n            Preferences prefs = Preferences.systemRoot().node(&quot;JavaApplication3&quot;);\r\n            prefs.put(&quot;RUNNINGPID&quot;, getCurrentPID());\r\n        }\r\n        public static void onFinish(){\r\n            Preferences prefs = Preferences.systemRoot().node(&quot;JavaApplication3&quot;);\r\n            prefs.put(&quot;RUNNINGPID&quot;, &quot;&quot;);\r\n        }\r\n        public static boolean isRunning(){\r\n            Preferences prefs = Preferences.systemRoot().node(&quot;JavaApplication3&quot;);\r\n\r\n            if (prefs.get(&quot;RUNNINGPID&quot;, null) == null || prefs.get(&quot;RUNNINGPID&quot;, null).equals(&quot;&quot;))\r\n                return false;\r\n\r\n            if (isProcessIdRunningOnWindows(Integer.parseInt(prefs.get(&quot;RUNNINGPID&quot;, null))))\r\n                return true;\r\n            return false;\r\n        }\r\n        public static String getCurrentPID(){\r\n            //This function should work with Windows, Linux and Mac but you&#39;ll have to \r\n            //test to make sure.  If not then get a suitable getCurrentPID function replacement.\r\n            try{\r\n                java.lang.management.RuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\r\n                java.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(&quot;jvm&quot;);\r\n                jvm.setAccessible(true);\r\n                sun.management.VMManagement mgmt = (sun.management.VMManagement) jvm.get(runtime);\r\n                java.lang.reflect.Method pid_method = mgmt.getClass().getDeclaredMethod(&quot;getProcessId&quot;);\r\n                pid_method.setAccessible(true);\r\n                return pid_method.invoke(mgmt) + &quot;&quot;;\r\n            }\r\n            catch(Exception e){\r\n                throw new RuntimeException(&quot;Cannot get the current PID&quot;);\r\n            }\r\n        }\r\n        public static boolean isProcessIdRunningOnWindows(int pid){\r\n            //This Function only works for windows, if you want it to work on linux\r\n            //or mac, you will have to go find a replacement method that \r\n            //takes the processID as a parameter and spits out a true/false \r\n            //if it is running on the operating system.\r\n            try {\r\n                Runtime runtime = Runtime.getRuntime();\r\n                String cmds[] = {&quot;cmd&quot;, &quot;/c&quot;, &quot;tasklist /FI \\&quot;PID eq &quot; + pid + &quot;\\&quot;&quot;};\r\n                Process proc = runtime.exec(cmds);\r\n\r\n                InputStream inputstream = proc.getInputStream();\r\n                InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\r\n                BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\r\n                String line;\r\n                while ((line = bufferedreader.readLine()) != null) {\r\n                    if (line.contains(&quot; &quot; + pid + &quot; &quot;)){\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            catch (Exception ex) {\r\n                throw new RuntimeException(&quot;Cannot run the tasklist command to query if a pid is running or not&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIf the program is hung and the pid remains in the task list this will be blocked.  You could add an additional registry key that will store the last successful run time, and if the run time becomes too great, the stored PID is killed, and the program re-run.","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>The strategy of this code is to keep the PID around from the last run in the registry, if that PID is found running on the system, don't start.  If you finish, reset.  </p>\n\n<p>The preferences are stored on Windows Registry in <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Prefs</code></p>\n\n<pre><code>import java.io.*;\nimport java.util.prefs.Preferences;\npublic class JavaApplication3 {\n    public static void main(String[] args){\n        if(isRunning()){\n            System.out.println(\"Two instances of this program cannot \" +\n                    \"be running at the same time.  Exiting now\");\n        }\n        else{\n            onStart();\n            epicHeavyWorkGoesHere();\n            onFinish();\n        }\n    }\n    public static void epicHeavyWorkGoesHere(){\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException ex) {}\n    }\n    public static void onStart(){\n        Preferences prefs = Preferences.systemRoot().node(\"JavaApplication3\");\n        prefs.put(\"RUNNINGPID\", getCurrentPID());\n    }\n    public static void onFinish(){\n        Preferences prefs = Preferences.systemRoot().node(\"JavaApplication3\");\n        prefs.put(\"RUNNINGPID\", \"\");\n    }\n    public static boolean isRunning(){\n        Preferences prefs = Preferences.systemRoot().node(\"JavaApplication3\");\n\n        if (prefs.get(\"RUNNINGPID\", null) == null || prefs.get(\"RUNNINGPID\", null).equals(\"\"))\n            return false;\n\n        if (isProcessIdRunningOnWindows(Integer.parseInt(prefs.get(\"RUNNINGPID\", null))))\n            return true;\n        return false;\n    }\n    public static String getCurrentPID(){\n        //This function should work with Windows, Linux and Mac but you'll have to \n        //test to make sure.  If not then get a suitable getCurrentPID function replacement.\n        try{\n            java.lang.management.RuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\n            java.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(\"jvm\");\n            jvm.setAccessible(true);\n            sun.management.VMManagement mgmt = (sun.management.VMManagement) jvm.get(runtime);\n            java.lang.reflect.Method pid_method = mgmt.getClass().getDeclaredMethod(\"getProcessId\");\n            pid_method.setAccessible(true);\n            return pid_method.invoke(mgmt) + \"\";\n        }\n        catch(Exception e){\n            throw new RuntimeException(\"Cannot get the current PID\");\n        }\n    }\n    public static boolean isProcessIdRunningOnWindows(int pid){\n        //This Function only works for windows, if you want it to work on linux\n        //or mac, you will have to go find a replacement method that \n        //takes the processID as a parameter and spits out a true/false \n        //if it is running on the operating system.\n        try {\n            Runtime runtime = Runtime.getRuntime();\n            String cmds[] = {\"cmd\", \"/c\", \"tasklist /FI \\\"PID eq \" + pid + \"\\\"\"};\n            Process proc = runtime.exec(cmds);\n\n            InputStream inputstream = proc.getInputStream();\n            InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n            BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\n            String line;\n            while ((line = bufferedreader.readLine()) != null) {\n                if (line.contains(\" \" + pid + \" \")){\n                    return true;\n                }\n            }\n            return false;\n        }\n        catch (Exception ex) {\n            throw new RuntimeException(\"Cannot run the tasklist command to query if a pid is running or not\");\n        }\n    }\n}\n</code></pre>\n\n<p>If the program is hung and the pid remains in the task list this will be blocked.  You could add an additional registry key that will store the last successful run time, and if the run time becomes too great, the stored PID is killed, and the program re-run.</p>\n"},{"comments":[{"owner":{"account_id":40389,"reputation":33710,"user_id":117039,"accept_rate":71,"display_name":"5YrsLaterDBA"},"score":1,"creation_date":1406642570,"post_id":20015771,"comment_id":38902855,"body_markdown":"your FilePath.FILEPATH  is not from JDK, I don&#39;t have Jenkins available in my project. This statement, file = new File(FilePath.FILEPATH + &quot;az-client.lock&quot;);, should be changed to apply to my case. Could you please tell me how?","body":"your FilePath.FILEPATH  is not from JDK, I don&#39;t have Jenkins available in my project. This statement, file = new File(FilePath.FILEPATH + &quot;az-client.lock&quot;);, should be changed to apply to my case. Could you please tell me how?"},{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":0,"creation_date":1407748523,"post_id":20015771,"comment_id":39319449,"body_markdown":"what? I didn&#39;t understand question","body":"what? I didn&#39;t understand question"},{"owner":{"account_id":1820557,"reputation":782,"user_id":1654721,"accept_rate":29,"display_name":"fencekicker"},"score":0,"creation_date":1472816893,"post_id":20015771,"comment_id":65916878,"body_markdown":"Just curious - if the file exists (else branch from if (!file.exists()) you delete the file, and then try to lock it. Does that work OK if the file exists and is locked? I find the logic a bit strange (why delete the file if it&#39;s locked?)...","body":"Just curious - if the file exists (else branch from if (!file.exists()) you delete the file, and then try to lock it. Does that work OK if the file exists and is locked? I find the logic a bit strange (why delete the file if it&#39;s locked?)..."},{"owner":{"account_id":2156572,"reputation":3896,"user_id":1911652,"accept_rate":73,"display_name":"Atul"},"score":0,"creation_date":1582097597,"post_id":20015771,"comment_id":106654867,"body_markdown":"How about simply creating a file and keep check on it: https://stackoverflow.com/a/27297037/1911652","body":"How about simply creating a file and keep check on it: <a href=\"https://stackoverflow.com/a/27297037/1911652\">stackoverflow.com/a/27297037/1911652</a>"}],"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1384585319,"creation_date":1384585319,"answer_id":20015771,"question_id":10508846,"body_markdown":"&gt; Simple yet powerful tested solution.\r\n\r\n        static File file;\r\n    \tstatic FileChannel fileChannel;\r\n    \tstatic FileLock lock;\r\n    \tstatic boolean running = false;\r\n    \r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static boolean checkIfAlreadyRunning() throws IOException {\r\n    \t\tfile = new File(FilePath.FILEPATH + &quot;az-client.lock&quot;);\r\n    \t\tif (!file.exists()) {\r\n    \t\t\tfile.createNewFile();\r\n    \t\t\trunning = true;\r\n    \t\t} else {\r\n    \t\t\tfile.delete();\r\n    \t\t}\r\n    \r\n    \t\tfileChannel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n    \t\tlock = fileChannel.tryLock();\r\n    \r\n    \t\tif (lock == null) {\r\n    \t\t\tfileChannel.close();\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tShutdownHook shutdownHook = new ShutdownHook();\r\n    \t\tRuntime.getRuntime().addShutdownHook(shutdownHook);\r\n    \r\n    \t\treturn running;\r\n    \t}\r\n    \r\n    \tpublic static void unlockFile() {\r\n    \t\ttry {\r\n    \t\t\tif (lock != null)\r\n    \t\t\t\tlock.release();\r\n    \t\t\tfileChannel.close();\r\n    \t\t\tfile.delete();\r\n    \t\t\trunning = false;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class ShutdownHook extends Thread {\r\n    \t\tpublic void run() {\r\n    \t\t\tunlockFile();\r\n    \t\t}\r\n    \t}\r\n\r\nPut these methods in some Util class and before launching your main class just check that if already exists then show some dialog to user otherwise launch an application. It works even if you abnormally shutdown java process or what ever you do. It is robust and efficient, no need to set up DataGram listeners or whatever...","title":"How to make sure that only a single instance of a Java application is running?","body":"<blockquote>\n  <p>Simple yet powerful tested solution.</p>\n</blockquote>\n\n<pre><code>    static File file;\n    static FileChannel fileChannel;\n    static FileLock lock;\n    static boolean running = false;\n\n    @SuppressWarnings(\"resource\")\n    public static boolean checkIfAlreadyRunning() throws IOException {\n        file = new File(FilePath.FILEPATH + \"az-client.lock\");\n        if (!file.exists()) {\n            file.createNewFile();\n            running = true;\n        } else {\n            file.delete();\n        }\n\n        fileChannel = new RandomAccessFile(file, \"rw\").getChannel();\n        lock = fileChannel.tryLock();\n\n        if (lock == null) {\n            fileChannel.close();\n            return true;\n        }\n        ShutdownHook shutdownHook = new ShutdownHook();\n        Runtime.getRuntime().addShutdownHook(shutdownHook);\n\n        return running;\n    }\n\n    public static void unlockFile() {\n        try {\n            if (lock != null)\n                lock.release();\n            fileChannel.close();\n            file.delete();\n            running = false;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    static class ShutdownHook extends Thread {\n        public void run() {\n            unlockFile();\n        }\n    }\n</code></pre>\n\n<p>Put these methods in some Util class and before launching your main class just check that if already exists then show some dialog to user otherwise launch an application. It works even if you abnormally shutdown java process or what ever you do. It is robust and efficient, no need to set up DataGram listeners or whatever...</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384586457,"creation_date":1384586457,"answer_id":20015921,"question_id":10508846,"body_markdown":"Contrary to several other answers, the most reliable method is to create a `ServerSocket` on a fixed port known only to you, way up in the paint cards. It will automatically be released when your application exits, unlike any lock file, and its prior existence via a `BindException` is a pretty infallible sign that another instance is already running.","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>Contrary to several other answers, the most reliable method is to create a <code>ServerSocket</code> on a fixed port known only to you, way up in the paint cards. It will automatically be released when your application exits, unlike any lock file, and its prior existence via a <code>BindException</code> is a pretty infallible sign that another instance is already running.</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1410432624,"creation_date":1408045558,"answer_id":25316391,"question_id":10508846,"body_markdown":"Enforce one instance of a program running with a  ServerSocket Lock\r\n------------------------------------------------------------------------\r\n\r\nJava Code.  Put this into a file called Main.java:\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    public class Main{\r\n      public static void main(String args[]){\r\n        ServerSocket socket = null;\r\n        try {\r\n          socket = new ServerSocket(34567);\r\n          System.out.println(&quot;Doing hard work for 100 seconds&quot;);\r\n          try{ Thread.sleep(100000); } catch(Exception e){ }\r\n          socket.close();\r\n        }\r\n        catch (IOException ex) {\r\n          System.out.println(&quot;App already running, exiting...&quot;);\r\n        }\r\n        finally {\r\n          if (socket != null)\r\n              try{ socket.close(); } catch(Exception e){}\r\n        }\r\n      }\r\n    }\r\n\r\n**Compile and run it**\r\n\r\n    javac Main.java\r\n    java Main\r\n\r\n**Test it in a normal case:**\r\n\r\nRun the program.  You have 100 seconds to run the program again in another terminal, it will fall through saying its already running.  Then wait 100 seconds, it should allow you to run it in the 2nd terminal.\r\n\r\n\r\n**Test it after force halting the program with a kill -9**\r\n\r\n1.  Start the program in terminal 1.\r\n2.  kill -9 that process from another terminal within 100 seconds.\r\n3.  Run the program again, it is allowed to run.\r\n\r\n**Conclusion:**\r\n\r\nThe socket occupation is cleaned up by the operating system when your program is no longer operating.  So you can be sure that the program will not run twice.\r\n\r\n**Drawbacks**\r\n\r\nIf some sneaky person, or some naughty process were to bind all of the ports, or just your port, then your program will not run because it thinks its already running.  ","title":"How to make sure that only a single instance of a Java application is running?","body":"<h2>Enforce one instance of a program running with a  ServerSocket Lock</h2>\n\n<p>Java Code.  Put this into a file called Main.java:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\npublic class Main{\n  public static void main(String args[]){\n    ServerSocket socket = null;\n    try {\n      socket = new ServerSocket(34567);\n      System.out.println(\"Doing hard work for 100 seconds\");\n      try{ Thread.sleep(100000); } catch(Exception e){ }\n      socket.close();\n    }\n    catch (IOException ex) {\n      System.out.println(\"App already running, exiting...\");\n    }\n    finally {\n      if (socket != null)\n          try{ socket.close(); } catch(Exception e){}\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Compile and run it</strong></p>\n\n<pre><code>javac Main.java\njava Main\n</code></pre>\n\n<p><strong>Test it in a normal case:</strong></p>\n\n<p>Run the program.  You have 100 seconds to run the program again in another terminal, it will fall through saying its already running.  Then wait 100 seconds, it should allow you to run it in the 2nd terminal.</p>\n\n<p><strong>Test it after force halting the program with a kill -9</strong></p>\n\n<ol>\n<li>Start the program in terminal 1.</li>\n<li>kill -9 that process from another terminal within 100 seconds.</li>\n<li>Run the program again, it is allowed to run.</li>\n</ol>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>The socket occupation is cleaned up by the operating system when your program is no longer operating.  So you can be sure that the program will not run twice.</p>\n\n<p><strong>Drawbacks</strong></p>\n\n<p>If some sneaky person, or some naughty process were to bind all of the ports, or just your port, then your program will not run because it thinks its already running.  </p>\n"},{"tags":[],"owner":{"display_name":"user3906011"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410421112,"creation_date":1410418546,"answer_id":25781006,"question_id":10508846,"body_markdown":"Following solution work in two deadly scenerio too.\r\n1&gt; Even your launched exe scheduled as javaw.exe in task manager.\r\n2&gt; You can install your application at two location and from launching both location it also works.\r\n\t\t\r\n\t\t\r\n\r\n    String tempDir = System.getProperty(&quot;java.io.tmpdir&quot;);// dependent to OS find any tem dir.\r\n    \t\tString filePath = tempDir + &quot;lockReserverd.txt&quot;;\r\n    \t    try {\r\n    \t        final File file = new File(filePath);\r\n    \r\n    \t        if(file.exists())\r\n    \t        \treturn false;\r\n    \r\n    \t        final RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\r\n    \t        final FileLock fileLock = randomAccessFile.getChannel().tryLock();\r\n    \t        if (fileLock != null) {\r\n    \t            Runtime.getRuntime().addShutdownHook(new Thread() {\r\n    \t                public void run() {\r\n    \t                    try {\r\n    \t                        fileLock.release();\r\n    \t                        randomAccessFile.close();\r\n    \t                        file.delete();\r\n    \t                    } catch (Exception e) {\r\n    \t                        //log.error(&quot;Unable to remove lock file: &quot; + lockFile, e);\r\n    \t                    }\r\n    \t                }\r\n    \t            });\r\n    \t            return true;\r\n    \t        }\r\n    \t    } catch (Exception e) {\r\n    \t    \t//log.Error(&quot;Unable to create and/or lock file&quot;);\r\n    \t    }\r\n    \t    return false\r\n\r\nor \r\n\r\nThis will work if your application.exe is listed in task manager\r\n\r\n    &quot;tasklist /FI \\&quot;IMAGENAME eq &quot;+MyApplication+&quot;.exe","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>Following solution work in two deadly scenerio too.\n1> Even your launched exe scheduled as javaw.exe in task manager.\n2> You can install your application at two location and from launching both location it also works.</p>\n\n<pre><code>String tempDir = System.getProperty(\"java.io.tmpdir\");// dependent to OS find any tem dir.\n        String filePath = tempDir + \"lockReserverd.txt\";\n        try {\n            final File file = new File(filePath);\n\n            if(file.exists())\n                return false;\n\n            final RandomAccessFile randomAccessFile = new RandomAccessFile(file, \"rw\");\n            final FileLock fileLock = randomAccessFile.getChannel().tryLock();\n            if (fileLock != null) {\n                Runtime.getRuntime().addShutdownHook(new Thread() {\n                    public void run() {\n                        try {\n                            fileLock.release();\n                            randomAccessFile.close();\n                            file.delete();\n                        } catch (Exception e) {\n                            //log.error(\"Unable to remove lock file: \" + lockFile, e);\n                        }\n                    }\n                });\n                return true;\n            }\n        } catch (Exception e) {\n            //log.Error(\"Unable to create and/or lock file\");\n        }\n        return false\n</code></pre>\n\n<p>or </p>\n\n<p>This will work if your application.exe is listed in task manager</p>\n\n<pre><code>\"tasklist /FI \\\"IMAGENAME eq \"+MyApplication+\".exe\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3906011"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410420584,"creation_date":1410420584,"answer_id":25781583,"question_id":10508846,"body_markdown":"This is also a good solution if your Appication can schedued in task manager with a unique name \r\n\r\n  \r\n\r\n     &quot;tasklist /FI \\&quot;IMAGENAME eq &quot;+MyApplication+&quot;.exe","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>This is also a good solution if your Appication can schedued in task manager with a unique name </p>\n\n<pre><code> \"tasklist /FI \\\"IMAGENAME eq \"+MyApplication+\".exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3088591,"reputation":464,"user_id":2615253,"accept_rate":75,"display_name":"Kunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410769909,"creation_date":1410769909,"answer_id":25843794,"question_id":10508846,"body_markdown":"**Check PID and file lock technique**\r\n\r\n*We can write the process id of the process that created the lock file into the file. When we encounter an existing lock file, we do not just quit, but we check if the process with that id is still alive. If not, then create a new application instance. I think MongoDB use this technique.*\r\n\t\r\n\t\r\n\r\n        static File file;\r\n    \tstatic FileChannel fileChannel;\r\n    \tstatic FileLock lock;\r\n    \tstatic boolean running = false;\r\n    \tstatic String currentPID = null;\r\n    \tstatic String lockFilePID = null;\r\n    \tpublic static final String USER_DIR = System.getProperty(&quot;user.dir&quot;);\r\n    \tpublic static final String LOCK_FILE = &quot;az-client.lock&quot;;\r\n    \r\n    \tpublic static boolean checkInstance() {\r\n    \t\ttry {\r\n    \t\t\tfile = new File(USER_DIR + File.separator + LOCK_FILE);\r\n    \t\t\tcurrentPID = Integer.toString(getCurrentPID());\r\n    \t\t\tif (!file.exists()) {\r\n    \t\t\t\tfile.createNewFile();\r\n    \t\t\t\twritePID(currentPID);\r\n    \t\t\t\tlockFile();\r\n    \t\t\t\taddShudDownHook();\r\n    \t\t\t\trunning = true;\r\n    \t\t\t\treturn running;\r\n    \t\t\t} else {\r\n    \t\t\t\tif (isFileLocked()) {\r\n    \t\t\t\t\tsyso(&quot;App already running&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tlockFilePID = getPIDFromLockFile();\r\n    \t\t\t\t\tif (isProcessIdRunningOnWindows(Integer.parseInt(lockFilePID))) {\r\n    \t\t\t\t\t\tlockFile();\r\n    \t\t\t\t\t\taddShudDownHook();\r\n    \t\t\t\t\t\trunning = true;\r\n    \t\t\t\t\t\treturn running;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tfile.delete();\r\n    \t\t\t\t\t\tfile.createNewFile();\r\n    \t\t\t\t\t\twritePID(currentPID);\r\n    \t\t\t\t\t\tlockFile();\r\n    \t\t\t\t\t\taddShudDownHook();\r\n    \t\t\t\t\t\trunning = true;\r\n    \t\t\t\t\t\treturn running;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tsyso(e + &quot;App already running&quot;);\r\n    \t\t\tSystem.exit(0);\r\n    \t\t}\r\n    \t\treturn running;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * @return\r\n    \t * @throws IOException\r\n    \t */\r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tprivate static boolean isFileLocked() throws IOException {\r\n    \t\tfileChannel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n    \t\tlock = fileChannel.tryLock();\r\n    \t\tif (lock == null) {\r\n    \t\t\tfileChannel.close();\r\n    \t\t\tfileChannel = null;\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\tlock.release();\r\n    \t\t\tfileChannel.close();\r\n    \t\t\tfileChannel = null;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \r\n    \tpublic static int getCurrentPID() {\r\n    \t\t// This function should work with Windows, Linux and Mac but you&#39;ll have\r\n    \t\t// to\r\n    \t\t// test to make sure. If not then get a suitable getCurrentPID function\r\n    \t\t// replacement.\r\n    \t\ttry {\r\n    \t\t\tjava.lang.management.RuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\r\n    \t\t\tjava.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(&quot;jvm&quot;);\r\n    \t\t\tjvm.setAccessible(true);\r\n    \t\t\tsun.management.VMManagement mgmt = (sun.management.VMManagement) jvm.get(runtime);\r\n    \t\t\tjava.lang.reflect.Method pid_method = mgmt.getClass().getDeclaredMethod(&quot;getProcessId&quot;);\r\n    \t\t\tpid_method.setAccessible(true);\r\n    \t\t\treturn (int) pid_method.invoke(mgmt);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Cannot get the current PID&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static boolean isProcessIdRunningOnWindows(int pid) {\r\n    \t\t// This Function only works for windows, if you want it to work on linux\r\n    \t\t// or mac, you will have to go find a replacement method that\r\n    \t\t// takes the processID as a parameter and spits out a true/false\r\n    \t\t// if it is running on the operating system.\r\n    \t\ttry {\r\n    \t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\tString cmds[] = { &quot;cmd&quot;, &quot;/c&quot;, &quot;tasklist /FI \\&quot;PID eq &quot; + pid + &quot;\\&quot;&quot; };\r\n    \t\t\tProcess proc = runtime.exec(cmds);\r\n    \r\n    \t\t\tInputStream inputstream = proc.getInputStream();\r\n    \t\t\tInputStreamReader inputstreamreader = new InputStreamReader(inputstream);\r\n    \t\t\tBufferedReader bufferedreader = new BufferedReader(inputstreamreader);\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = bufferedreader.readLine()) != null) {\r\n    \t\t\t\tif (line.contains(&quot; &quot; + pid + &quot; &quot;)) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new RuntimeException(&quot;Cannot run the tasklist command to query if a pid is running or not&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method write PID to Lock file\r\n    \t * \r\n    \t * @param pid\r\n    \t * @throws Exception\r\n    \t */\r\n    \tprivate static void writePID(String pid) throws Exception {\r\n    \t\ttry {\r\n    \t\t\t// To Do write PID to LockFile\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tsyso(e);\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method return PID from Lock File\r\n    \t * \r\n    \t * @return\r\n    \t * @throws Exception\r\n    \t */\r\n    \tprivate static String getPIDFromLockFile() throws Exception {\r\n    \t\ttry {\r\n    \t\t\treturn //To Do getPID from File\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tsyso(e);\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void addShudDownHook() {\r\n    \t\ttry {\r\n    \t\t\tShutdownHook shutdownHook = new ShutdownHook();\r\n    \t\t\tRuntime.getRuntime().addShutdownHook(shutdownHook);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLogWriter.logger.error(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void unlockFile() {\r\n    \t\ttry {\r\n    \t\t\tif (lock != null) {\r\n    \t\t\t\tlock.release();\r\n    \t\t\t}\r\n    \t\t\tfileChannel.close();\r\n    \t\t\tfile.delete();\r\n    \t\t\trunning = false;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tsyso(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void lockFile() {\r\n    \t\ttry {\r\n    \t\t\tfileChannel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n    \t\t\tlock = fileChannel.tryLock();\r\n    \t\t\tif (lock == null) {\r\n    \t\t\t\tfileChannel.close();\r\n    \t\t\t\tfileChannel = null;\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tsyso(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class ShutdownHook extends Thread {\r\n    \t\tpublic void run() {\r\n    \t\t\tunlockFile();\r\n    \t\t}\r\n    \t}","title":"How to make sure that only a single instance of a Java application is running?","body":"<p><strong>Check PID and file lock technique</strong></p>\n\n<p><em>We can write the process id of the process that created the lock file into the file. When we encounter an existing lock file, we do not just quit, but we check if the process with that id is still alive. If not, then create a new application instance. I think MongoDB use this technique.</em></p>\n\n<pre><code>    static File file;\n    static FileChannel fileChannel;\n    static FileLock lock;\n    static boolean running = false;\n    static String currentPID = null;\n    static String lockFilePID = null;\n    public static final String USER_DIR = System.getProperty(\"user.dir\");\n    public static final String LOCK_FILE = \"az-client.lock\";\n\n    public static boolean checkInstance() {\n        try {\n            file = new File(USER_DIR + File.separator + LOCK_FILE);\n            currentPID = Integer.toString(getCurrentPID());\n            if (!file.exists()) {\n                file.createNewFile();\n                writePID(currentPID);\n                lockFile();\n                addShudDownHook();\n                running = true;\n                return running;\n            } else {\n                if (isFileLocked()) {\n                    syso(\"App already running\");\n                    System.exit(0);\n                } else {\n                    lockFilePID = getPIDFromLockFile();\n                    if (isProcessIdRunningOnWindows(Integer.parseInt(lockFilePID))) {\n                        lockFile();\n                        addShudDownHook();\n                        running = true;\n                        return running;\n                    } else {\n                        file.delete();\n                        file.createNewFile();\n                        writePID(currentPID);\n                        lockFile();\n                        addShudDownHook();\n                        running = true;\n                        return running;\n                    }\n                }\n            }\n        } catch (Exception e) {\n            syso(e + \"App already running\");\n            System.exit(0);\n        }\n        return running;\n    }\n\n    /**\n     * \n     * @return\n     * @throws IOException\n     */\n    @SuppressWarnings(\"resource\")\n    private static boolean isFileLocked() throws IOException {\n        fileChannel = new RandomAccessFile(file, \"rw\").getChannel();\n        lock = fileChannel.tryLock();\n        if (lock == null) {\n            fileChannel.close();\n            fileChannel = null;\n            return true;\n        } else {\n            lock.release();\n            fileChannel.close();\n            fileChannel = null;\n        }\n        return false;\n    }\n\n\n    public static int getCurrentPID() {\n        // This function should work with Windows, Linux and Mac but you'll have\n        // to\n        // test to make sure. If not then get a suitable getCurrentPID function\n        // replacement.\n        try {\n            java.lang.management.RuntimeMXBean runtime = java.lang.management.ManagementFactory.getRuntimeMXBean();\n            java.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(\"jvm\");\n            jvm.setAccessible(true);\n            sun.management.VMManagement mgmt = (sun.management.VMManagement) jvm.get(runtime);\n            java.lang.reflect.Method pid_method = mgmt.getClass().getDeclaredMethod(\"getProcessId\");\n            pid_method.setAccessible(true);\n            return (int) pid_method.invoke(mgmt);\n        } catch (Exception e) {\n            throw new RuntimeException(\"Cannot get the current PID\");\n        }\n    }\n\n    public static boolean isProcessIdRunningOnWindows(int pid) {\n        // This Function only works for windows, if you want it to work on linux\n        // or mac, you will have to go find a replacement method that\n        // takes the processID as a parameter and spits out a true/false\n        // if it is running on the operating system.\n        try {\n            Runtime runtime = Runtime.getRuntime();\n            String cmds[] = { \"cmd\", \"/c\", \"tasklist /FI \\\"PID eq \" + pid + \"\\\"\" };\n            Process proc = runtime.exec(cmds);\n\n            InputStream inputstream = proc.getInputStream();\n            InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n            BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\n            String line;\n            while ((line = bufferedreader.readLine()) != null) {\n                if (line.contains(\" \" + pid + \" \")) {\n                    return true;\n                }\n            }\n            return false;\n        } catch (Exception ex) {\n            throw new RuntimeException(\"Cannot run the tasklist command to query if a pid is running or not\");\n        }\n    }\n\n    /**\n     * This method write PID to Lock file\n     * \n     * @param pid\n     * @throws Exception\n     */\n    private static void writePID(String pid) throws Exception {\n        try {\n            // To Do write PID to LockFile\n        } catch (Exception e) {\n            syso(e);\n            throw e;\n        }\n    }\n\n    /**\n     * This method return PID from Lock File\n     * \n     * @return\n     * @throws Exception\n     */\n    private static String getPIDFromLockFile() throws Exception {\n        try {\n            return //To Do getPID from File\n        } catch (Exception e) {\n            syso(e);\n            throw e;\n        }\n    }\n\n    private static void addShudDownHook() {\n        try {\n            ShutdownHook shutdownHook = new ShutdownHook();\n            Runtime.getRuntime().addShutdownHook(shutdownHook);\n        } catch (Exception e) {\n            LogWriter.logger.error(e);\n        }\n    }\n\n    private static void unlockFile() {\n        try {\n            if (lock != null) {\n                lock.release();\n            }\n            fileChannel.close();\n            file.delete();\n            running = false;\n        } catch (IOException e) {\n            syso(e);\n        }\n    }\n\n    private static void lockFile() {\n        try {\n            fileChannel = new RandomAccessFile(file, \"rw\").getChannel();\n            lock = fileChannel.tryLock();\n            if (lock == null) {\n                fileChannel.close();\n                fileChannel = null;\n            }\n        } catch (IOException e) {\n            syso(e);\n        }\n    }\n\n    static class ShutdownHook extends Thread {\n        public void run() {\n            unlockFile();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560185513,"creation_date":1470068487,"answer_id":38703625,"question_id":10508846,"body_markdown":"Here is one method that uses an automatically named lock file in the user&#39;s home directory.\r\nThe name is based on where the jar is being ran from.\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.RandomAccessFile;\r\n    import java.nio.channels.FileChannel;\r\n    \r\n    public class SingleInstance {\r\n    \r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static boolean isAlreadyRunning() {\r\n    \t\tFile file;\r\n    \t\tFileChannel fileChannel;\r\n    \t\tFile userDir = new File(System.getProperty(&quot;user.home&quot;));\r\n    \t\tfile = new File(userDir, myLockName());\r\n    \r\n    \t\tif (!file.exists()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tfile.createNewFile();\r\n    \t\t\t\tfile.deleteOnExit();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tthrow new RuntimeException(&quot;Unable to create Single Instance lock file!&quot;, e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tfileChannel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Single Instance lock file vanished!&quot;, e);\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tif (fileChannel.tryLock() != null) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tfileChannel.close();\r\n    \t\t} catch (IOException e1) {\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate static String myLockName() {\r\n    \t\treturn &quot;.&quot; + SingleInstance.class.getProtectionDomain().getCodeSource().getLocation().getPath()\r\n    \t\t\t\t.replaceAll(&quot;[^a-zA-Z0-9_]&quot;, &quot;_&quot;);\r\n    \t}\r\n    }","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>Here is one method that uses an automatically named lock file in the user's home directory.\nThe name is based on where the jar is being ran from.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.nio.channels.FileChannel;\n\npublic class SingleInstance {\n\n    @SuppressWarnings(\"resource\")\n    public static boolean isAlreadyRunning() {\n        File file;\n        FileChannel fileChannel;\n        File userDir = new File(System.getProperty(\"user.home\"));\n        file = new File(userDir, myLockName());\n\n        if (!file.exists()) {\n            try {\n                file.createNewFile();\n                file.deleteOnExit();\n            } catch (IOException e) {\n                throw new RuntimeException(\"Unable to create Single Instance lock file!\", e);\n            }\n        }\n\n        try {\n            fileChannel = new RandomAccessFile(file, \"rw\").getChannel();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(\"Single Instance lock file vanished!\", e);\n        }\n        try {\n            if (fileChannel.tryLock() != null) {\n                return false;\n            }\n        } catch (Exception e) {\n        }\n        try {\n            fileChannel.close();\n        } catch (IOException e1) {\n        }\n        return true;\n    }\n\n    private static String myLockName() {\n        return \".\" + SingleInstance.class.getProtectionDomain().getCodeSource().getLocation().getPath()\n                .replaceAll(\"[^a-zA-Z0-9_]\", \"_\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18324,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":10508888,"answer_count":11,"score":13,"last_activity_date":1667176847,"creation_date":1336528017,"question_id":10508846,"body_markdown":"I want my application to check if another version of itself is already running. \r\n\r\nFor example, `demo.jar` started, user clicks to run it again, but the second instance realizes &quot;oh wait, there is already a `demo.jar` running.&quot; and quits with a message.","title":"How to make sure that only a single instance of a Java application is running?","body":"<p>I want my application to check if another version of itself is already running. </p>\n\n<p>For example, <code>demo.jar</code> started, user clicks to run it again, but the second instance realizes \"oh wait, there is already a <code>demo.jar</code> running.\" and quits with a message.</p>\n"},{"tags":["java","javafx","exe","platform","stage"],"comments":[{"owner":{"display_name":"user1781523"},"score":0,"creation_date":1481242694,"post_id":41051127,"comment_id":69309706,"body_markdown":"I used jsmooth to make .exe","body":"I used jsmooth to make .exe"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1647029966,"creation_date":1481250045,"answer_id":41052124,"question_id":41051127,"body_markdown":"This is based upon the solution in the blog post: [Java Single Instance Application](https://nakkaya.com/2009/04/12/java-single-instance-application/).\r\n\r\nThe solution uses the &quot;Socket Technique&quot;:\r\n\r\n&gt; With this technique we start listening on a port, only one process can listen on a socket so after first instance of our application binds itself to the socket other instances will get BindException, which means we are already running.\r\n&gt;\r\n&gt; Cons of this approach is that some virus scanners will give a warning when an application starts listening on a socket, depending on your user base this could be interpreted badly. You should pick a port number thats not commonly used and high or you won&#39;t even get a single instance of your application running.\r\n\r\nIn the sample, we have created a unique instance id for the application instance and recorded some options.  \r\n\r\n[![unique][1]][1]\r\n\r\n * *Minimize* will minimize the window.\r\n * *Hide* will hide it (so it doesn&#39;t show as minimized, but the app remains running).\r\n * *Exit* will end the application process.  \r\n\r\nThe OS close button on the window will close the application window, but the application process will continue running in the background (so it acts the same as the &quot;Hide&quot; button).\r\n\r\nWhen you start an application instance, it will open a socket and listen on it.\r\n\r\nWhen you try to start another application instance it will try to bind to the listening socket.  If it cannot bind, then it knows there is already an application instance running on that socket.  If another instance is detected, a message is sent across the socket to the existing instance causing the existing instance to unhide or un-minimize itself and try to bring its stage to the front.\r\n\r\nPlease don&#39;t abuse this, there are many programs that hide in the background that I don&#39;t like.\r\n\r\n\r\n    import javafx.application.*;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.*;\r\n    import java.net.InetAddress;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class SingleInstanceApp extends Application {\r\n    \r\n        private static final int SINGLE_INSTANCE_LISTENER_PORT = 9999;\r\n        private static final String SINGLE_INSTANCE_FOCUS_MESSAGE = &quot;focus&quot;;\r\n    \r\n        private static final String instanceId = UUID.randomUUID().toString();\r\n    \r\n        // We define a pause before focusing on an existing instance\r\n        // because sometimes the command line or window launching the instance\r\n        // might take focus back after the second instance execution complete\r\n        // so we introduce a slight delay before focusing on the original window\r\n        // so that the original window can retain focus.\r\n        private static final int FOCUS_REQUEST_PAUSE_MILLIS = 500;\r\n    \r\n        private Stage stage;\r\n    \r\n        public void init() {\r\n            CountDownLatch instanceCheckLatch = new CountDownLatch(1);\r\n    \r\n            Thread instanceListener = new Thread(() -&gt; {\r\n                try (ServerSocket serverSocket = new ServerSocket(SINGLE_INSTANCE_LISTENER_PORT, 10)) {\r\n                    instanceCheckLatch.countDown();\r\n    \r\n                    while (true) {\r\n                        try (\r\n                                Socket clientSocket = serverSocket.accept();\r\n                                BufferedReader in = new BufferedReader(\r\n                                        new InputStreamReader(clientSocket.getInputStream()))\r\n                        ) {\r\n                            String input = in.readLine();\r\n                            System.out.println(&quot;Received single instance listener message: &quot; + input);\r\n                            if (input.startsWith(SINGLE_INSTANCE_FOCUS_MESSAGE) &amp;&amp; stage != null) {\r\n                                Thread.sleep(FOCUS_REQUEST_PAUSE_MILLIS);\r\n                                Platform.runLater(() -&gt; {\r\n                                    System.out.println(&quot;To front &quot; + instanceId);\r\n                                    stage.setIconified(false);\r\n                                    stage.show();\r\n                                    stage.toFront();\r\n                                });\r\n                            }\r\n                        } catch (IOException e) {\r\n                            System.out.println(&quot;Single instance listener unable to process focus message from client&quot;);\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                } catch(java.net.BindException b) {\r\n                    System.out.println(&quot;SingleInstanceApp already running&quot;);\r\n    \r\n                    try (\r\n                            Socket clientSocket = new Socket(InetAddress.getLocalHost(), SINGLE_INSTANCE_LISTENER_PORT);\r\n                            PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()))\r\n                    ) {\r\n                        System.out.println(&quot;Requesting existing app to focus&quot;);\r\n                        out.println(SINGLE_INSTANCE_FOCUS_MESSAGE + &quot; requested by &quot; + instanceId);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    System.out.println(&quot;Aborting execution for instance &quot; + instanceId);\r\n                    Platform.exit();\r\n                } catch(Exception e) {\r\n                    System.out.println(e.toString());\r\n                } finally {\r\n                    instanceCheckLatch.countDown();\r\n                }\r\n            }, &quot;instance-listener&quot;);\r\n            instanceListener.setDaemon(true);\r\n            instanceListener.start();\r\n    \r\n            try {\r\n                instanceCheckLatch.await();\r\n            } catch (InterruptedException e) {\r\n                Thread.interrupted();\r\n            }\r\n        }\r\n    \r\n        public void stop() {\r\n            System.out.println(&quot;Exiting instance &quot; + instanceId);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception{\r\n            this.stage = stage;\r\n    \r\n            System.out.println(&quot;Starting instance &quot; + instanceId);\r\n    \r\n            Platform.setImplicitExit(false);\r\n    \r\n            Button minimize = new Button(&quot;Minimize&quot;);\r\n            minimize.setOnAction(event -&gt; stage.setIconified(true));\r\n    \r\n            Button hide = new Button(&quot;Hide&quot;);\r\n            hide.setOnAction(event -&gt; stage.hide());\r\n    \r\n            Button exit = new Button(&quot;Exit&quot;);\r\n            exit.setOnAction(event -&gt; Platform.exit());\r\n    \r\n            Label instance = new Label(instanceId);\r\n    \r\n            Pane layout = new VBox(10, instance, new HBox(10, minimize, hide, exit));\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            Scene scene = new Scene(layout);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**Related Question**\r\n\r\nContains further discussion if variants of the solution provided in this answer and possible alternate approaches:\r\n\r\n * https://stackoverflow.com/questions/71429246/dealing-with-multiple-application-instances/71431379#71431379\r\n\r\n  [1]: https://i.stack.imgur.com/cS8es.png","title":"JavaFX Single Instance Application","body":"<p>This is based upon the solution in the blog post: <a href=\"https://nakkaya.com/2009/04/12/java-single-instance-application/\" rel=\"nofollow noreferrer\">Java Single Instance Application</a>.</p>\n<p>The solution uses the &quot;Socket Technique&quot;:</p>\n<blockquote>\n<p>With this technique we start listening on a port, only one process can listen on a socket so after first instance of our application binds itself to the socket other instances will get BindException, which means we are already running.</p>\n<p>Cons of this approach is that some virus scanners will give a warning when an application starts listening on a socket, depending on your user base this could be interpreted badly. You should pick a port number thats not commonly used and high or you won't even get a single instance of your application running.</p>\n</blockquote>\n<p>In the sample, we have created a unique instance id for the application instance and recorded some options.</p>\n<p><a href=\"https://i.stack.imgur.com/cS8es.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cS8es.png\" alt=\"unique\" /></a></p>\n<ul>\n<li><em>Minimize</em> will minimize the window.</li>\n<li><em>Hide</em> will hide it (so it doesn't show as minimized, but the app remains running).</li>\n<li><em>Exit</em> will end the application process.</li>\n</ul>\n<p>The OS close button on the window will close the application window, but the application process will continue running in the background (so it acts the same as the &quot;Hide&quot; button).</p>\n<p>When you start an application instance, it will open a socket and listen on it.</p>\n<p>When you try to start another application instance it will try to bind to the listening socket.  If it cannot bind, then it knows there is already an application instance running on that socket.  If another instance is detected, a message is sent across the socket to the existing instance causing the existing instance to unhide or un-minimize itself and try to bring its stage to the front.</p>\n<p>Please don't abuse this, there are many programs that hide in the background that I don't like.</p>\n<pre><code>import javafx.application.*;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\nimport java.io.*;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.UUID;\nimport java.util.concurrent.CountDownLatch;\n\npublic class SingleInstanceApp extends Application {\n\n    private static final int SINGLE_INSTANCE_LISTENER_PORT = 9999;\n    private static final String SINGLE_INSTANCE_FOCUS_MESSAGE = &quot;focus&quot;;\n\n    private static final String instanceId = UUID.randomUUID().toString();\n\n    // We define a pause before focusing on an existing instance\n    // because sometimes the command line or window launching the instance\n    // might take focus back after the second instance execution complete\n    // so we introduce a slight delay before focusing on the original window\n    // so that the original window can retain focus.\n    private static final int FOCUS_REQUEST_PAUSE_MILLIS = 500;\n\n    private Stage stage;\n\n    public void init() {\n        CountDownLatch instanceCheckLatch = new CountDownLatch(1);\n\n        Thread instanceListener = new Thread(() -&gt; {\n            try (ServerSocket serverSocket = new ServerSocket(SINGLE_INSTANCE_LISTENER_PORT, 10)) {\n                instanceCheckLatch.countDown();\n\n                while (true) {\n                    try (\n                            Socket clientSocket = serverSocket.accept();\n                            BufferedReader in = new BufferedReader(\n                                    new InputStreamReader(clientSocket.getInputStream()))\n                    ) {\n                        String input = in.readLine();\n                        System.out.println(&quot;Received single instance listener message: &quot; + input);\n                        if (input.startsWith(SINGLE_INSTANCE_FOCUS_MESSAGE) &amp;&amp; stage != null) {\n                            Thread.sleep(FOCUS_REQUEST_PAUSE_MILLIS);\n                            Platform.runLater(() -&gt; {\n                                System.out.println(&quot;To front &quot; + instanceId);\n                                stage.setIconified(false);\n                                stage.show();\n                                stage.toFront();\n                            });\n                        }\n                    } catch (IOException e) {\n                        System.out.println(&quot;Single instance listener unable to process focus message from client&quot;);\n                        e.printStackTrace();\n                    }\n                }\n            } catch(java.net.BindException b) {\n                System.out.println(&quot;SingleInstanceApp already running&quot;);\n\n                try (\n                        Socket clientSocket = new Socket(InetAddress.getLocalHost(), SINGLE_INSTANCE_LISTENER_PORT);\n                        PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()))\n                ) {\n                    System.out.println(&quot;Requesting existing app to focus&quot;);\n                    out.println(SINGLE_INSTANCE_FOCUS_MESSAGE + &quot; requested by &quot; + instanceId);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                System.out.println(&quot;Aborting execution for instance &quot; + instanceId);\n                Platform.exit();\n            } catch(Exception e) {\n                System.out.println(e.toString());\n            } finally {\n                instanceCheckLatch.countDown();\n            }\n        }, &quot;instance-listener&quot;);\n        instanceListener.setDaemon(true);\n        instanceListener.start();\n\n        try {\n            instanceCheckLatch.await();\n        } catch (InterruptedException e) {\n            Thread.interrupted();\n        }\n    }\n\n    public void stop() {\n        System.out.println(&quot;Exiting instance &quot; + instanceId);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception{\n        this.stage = stage;\n\n        System.out.println(&quot;Starting instance &quot; + instanceId);\n\n        Platform.setImplicitExit(false);\n\n        Button minimize = new Button(&quot;Minimize&quot;);\n        minimize.setOnAction(event -&gt; stage.setIconified(true));\n\n        Button hide = new Button(&quot;Hide&quot;);\n        hide.setOnAction(event -&gt; stage.hide());\n\n        Button exit = new Button(&quot;Exit&quot;);\n        exit.setOnAction(event -&gt; Platform.exit());\n\n        Label instance = new Label(instanceId);\n\n        Pane layout = new VBox(10, instance, new HBox(10, minimize, hide, exit));\n        layout.setPadding(new Insets(10));\n\n        Scene scene = new Scene(layout);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Related Question</strong></p>\n<p>Contains further discussion if variants of the solution provided in this answer and possible alternate approaches:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71429246/dealing-with-multiple-application-instances/71431379#71431379\">Dealing with multiple application instances</a></li>\n</ul>\n"}],"owner":{"display_name":"user1781523"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3624,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41052124,"answer_count":1,"score":10,"last_activity_date":1667176672,"creation_date":1481242672,"question_id":41051127,"body_markdown":"Trying to make it so when the user &quot;closes&quot; the program clicking all the exit buttons so there is no more tray icon. \r\n\r\nI called Platform.setImplicitExit(false); so the program still runs in backround. \r\n\r\nI am trying to learn how to make it so when the user re-clicks the .exe files which runs the jar,instead of running a new program it re-shows that one that is running in background. \r\n\r\n     Platform.setImplicitExit(false);\r\n","title":"JavaFX Single Instance Application","body":"<p>Trying to make it so when the user \"closes\" the program clicking all the exit buttons so there is no more tray icon. </p>\n\n<p>I called Platform.setImplicitExit(false); so the program still runs in backround. </p>\n\n<p>I am trying to learn how to make it so when the user re-clicks the .exe files which runs the jar,instead of running a new program it re-shows that one that is running in background. </p>\n\n<pre><code> Platform.setImplicitExit(false);\n</code></pre>\n"},{"tags":["java","javafx","design-patterns"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1646939107,"post_id":71429246,"comment_id":126253968,"body_markdown":"The easiest thing that springs to mind is designing the application so that a single instance supports multiple application windows, and then restricting it to a single running instance. (I.e. manage the &quot;multiple instances&quot; functionality internally, instead of letting multiple JVMs run at the same time). That way you can control file access within the single instance.  I don&#39;t know if that approach would work for your use case.","body":"The easiest thing that springs to mind is designing the application so that a single instance supports multiple application windows, and then restricting it to a single running instance. (I.e. manage the &quot;multiple instances&quot; functionality internally, instead of letting multiple JVMs run at the same time). That way you can control file access within the single instance.  I don&#39;t know if that approach would work for your use case."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646941119,"post_id":71429246,"comment_id":126254619,"body_markdown":"What kind of files are you talking about?  Config files?  Data files?  Access to files is ultimately an OS problem, not an application problem.  You might consider redesigning to use a service to manage files, then the service controls read/writes in a controlled manner.","body":"What kind of files are you talking about?  Config files?  Data files?  Access to files is ultimately an OS problem, not an application problem.  You might consider redesigning to use a service to manage files, then the service controls read/writes in a controlled manner."},{"owner":{"account_id":20919261,"reputation":89,"user_id":15368273,"display_name":"Wiktor"},"score":0,"creation_date":1646942722,"post_id":71429246,"comment_id":126255086,"body_markdown":"@jewelsea &quot;What happens if more than one user try to run the application? Won&#39;t they conflict on opening the socket?&quot; - https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application/7036124#7036124","body":"@jewelsea &quot;What happens if more than one user try to run the application? Won&#39;t they conflict on opening the socket?&quot; - <a href=\"https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application/7036124#7036124\" title=\"prevent launching multiple instances of a java application\">stackoverflow.com/questions/7036108/&hellip;</a>"},{"owner":{"account_id":20919261,"reputation":89,"user_id":15368273,"display_name":"Wiktor"},"score":0,"creation_date":1646942775,"post_id":71429246,"comment_id":126255105,"body_markdown":"Also, I can&#39;t be sure if chosen port (fixed, since all instances should check for one port) is being used by some other applications/processes","body":"Also, I can&#39;t be sure if chosen port (fixed, since all instances should check for one port) is being used by some other applications/processes"},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667215529,"post_id":71429246,"comment_id":131109922,"body_markdown":"Does this answer your question? [Prevent launching multiple instances of a java application](https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application\">Prevent launching multiple instances of a java application</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646989014,"creation_date":1646950127,"answer_id":71431379,"question_id":71429246,"body_markdown":"**Suggested: Use a socket solution**\r\n\r\nYou could follow the techniques outlined in an answer to:\r\n\r\n * https://stackoverflow.com/questions/41051127/javafx-single-instance-application\r\n\r\n**FAQ**\r\n\r\nAddressing some additional questions:\r\n\r\n&gt; heard of sockets and files - both are defective IMO.\r\n\r\nYou state your opinion that using sockets to set up a single instance application won’t work well enough for you.  You are in the best position to decide that.  \r\n\r\nFor some apps which want to achieve a single instance, the socket-based or file-based solution outlined in the answer to the linked question or other comments will work well enough.\r\n\r\n&gt; &quot;What happens if more than one user try to run the application? Won&#39;t they conflict on opening the socket?&quot;\r\n&gt;  * https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application/7036124#7036124\r\n\r\nAnd:\r\n\r\n &gt; Also, I can&#39;t be sure if chosen port (fixed, since all instances should check for one port) is being used by some other applications/processes  \r\n\r\nYou may be able to address some of these concerns by enhancing the socket-based solutions outlined in the linked questions. \r\n\r\n**Enhanced Socket Solution Outline**\r\n\r\nIf you want, you can write an enhanced algorithm to deal with some of these issues.\r\n\r\n 1. When another app instance startup occurs, you try to connect to a current instance on a well-known socket. \r\n 2. Check the response to the connection.\r\n 3. If it doesn’t respond with the correct protocol response (e.g. matching user and app name) then increment the port by 2 and retry.\r\n 4. Test the response again until either: \r\n\r\n     * You get a match for the app/user combo, then send a signal to that app to display itself.\r\n \r\n       OR\r\n\r\n     * If you get no match, then create a new instance on the tested open port. \r\n\r\nI&#39;m not suggesting you do that, just explaining that it is possible. \r\n\r\n**Alternative: OS native service**\r\n\r\nThere are also other OS-specific mechanisms for handling this such as Windows or Linux services which you can investigate if you want, those approaches are involved and vary by OS, so I won’t discuss them in detail here. \r\n\r\nFor the OS-specific solutions, you usually would:\r\n\r\n 1. Create a native package for your app (e.g. using `jpackage`)\r\n 2. Install it.\r\n 3. Have the installer config the app as a service\r\n    * e.g. on linux, create an `init.d` script with a `pid` file configured via `chkconfig`.  \r\n 4. The service launches on boot and stops on shutdown. \r\n 5. The app is then accessed via a tray icon or something similar\r\n    * The means of interaction is often OS version specific.\r\n\r\n**Alternative: Allow multiple app instances but use a single database instance**\r\n\r\nYou may also consider using a database rather than files for data storage, as a database system can help solve many of the concurrent access issues which can arise with file based solutions.  Multiple clients can connect to the database, and the database and your app code can handle locks and collisions on the data access to ensure data integrity is contained.  Using such a solution, there is no need to enforce that a single application instance is running for a user (at least from a data integrity perspective).","title":"Dealing with multiple application instances","body":"<p><strong>Suggested: Use a socket solution</strong></p>\n<p>You could follow the techniques outlined in an answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41051127/javafx-single-instance-application\">JavaFX Single Instance Application</a></li>\n</ul>\n<p><strong>FAQ</strong></p>\n<p>Addressing some additional questions:</p>\n<blockquote>\n<p>heard of sockets and files - both are defective IMO.</p>\n</blockquote>\n<p>You state your opinion that using sockets to set up a single instance application won’t work well enough for you.  You are in the best position to decide that.</p>\n<p>For some apps which want to achieve a single instance, the socket-based or file-based solution outlined in the answer to the linked question or other comments will work well enough.</p>\n<blockquote>\n<p>&quot;What happens if more than one user try to run the application? Won't they conflict on opening the socket?&quot;</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7036108/prevent-launching-multiple-instances-of-a-java-application/7036124#7036124\">Prevent launching multiple instances of a java application</a></li>\n</ul>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>Also, I can't be sure if chosen port (fixed, since all instances should check for one port) is being used by some other applications/processes</p>\n</blockquote>\n<p>You may be able to address some of these concerns by enhancing the socket-based solutions outlined in the linked questions.</p>\n<p><strong>Enhanced Socket Solution Outline</strong></p>\n<p>If you want, you can write an enhanced algorithm to deal with some of these issues.</p>\n<ol>\n<li><p>When another app instance startup occurs, you try to connect to a current instance on a well-known socket.</p>\n</li>\n<li><p>Check the response to the connection.</p>\n</li>\n<li><p>If it doesn’t respond with the correct protocol response (e.g. matching user and app name) then increment the port by 2 and retry.</p>\n</li>\n<li><p>Test the response again until either:</p>\n<ul>\n<li><p>You get a match for the app/user combo, then send a signal to that app to display itself.</p>\n<p>OR</p>\n</li>\n<li><p>If you get no match, then create a new instance on the tested open port.</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>I'm not suggesting you do that, just explaining that it is possible.</p>\n<p><strong>Alternative: OS native service</strong></p>\n<p>There are also other OS-specific mechanisms for handling this such as Windows or Linux services which you can investigate if you want, those approaches are involved and vary by OS, so I won’t discuss them in detail here.</p>\n<p>For the OS-specific solutions, you usually would:</p>\n<ol>\n<li>Create a native package for your app (e.g. using <code>jpackage</code>)</li>\n<li>Install it.</li>\n<li>Have the installer config the app as a service\n<ul>\n<li>e.g. on linux, create an <code>init.d</code> script with a <code>pid</code> file configured via <code>chkconfig</code>.</li>\n</ul>\n</li>\n<li>The service launches on boot and stops on shutdown.</li>\n<li>The app is then accessed via a tray icon or something similar\n<ul>\n<li>The means of interaction is often OS version specific.</li>\n</ul>\n</li>\n</ol>\n<p><strong>Alternative: Allow multiple app instances but use a single database instance</strong></p>\n<p>You may also consider using a database rather than files for data storage, as a database system can help solve many of the concurrent access issues which can arise with file based solutions.  Multiple clients can connect to the database, and the database and your app code can handle locks and collisions on the data access to ensure data integrity is contained.  Using such a solution, there is no need to enforce that a single application instance is running for a user (at least from a data integrity perspective).</p>\n"}],"owner":{"account_id":20919261,"reputation":89,"user_id":15368273,"display_name":"Wiktor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71431379,"answer_count":1,"score":1,"last_activity_date":1667176094,"creation_date":1646937907,"question_id":71429246,"body_markdown":"I&#39;m developing an application (Java &amp; JavaFX) that writes/reads data (a file). The problem is I don&#39;t want to restrict user to run only one instance (of my app) at a time, as I really can&#39;t think of reliable way of doing that so it works on both Windows and Linuxes (e.g. server), heard of sockets and files - both are defective IMO. As user is able to run multiple instances, writing/reading data (from a file) seems really messy, because there&#39;s no guarantee that file locking will work reliably on Windows and Linuxes (FileLock documentation - click here).\r\n\r\nTo sum up: I can&#39;t restrict multiple instances of my app, but that leads to problem with writing/reading data (from a file).\r\n\r\nIs there anything I missed? Maybe there&#39;s some other way to solve my problem I can&#39;t think of? How do the &quot;big&quot; popular programs handle that?","title":"Dealing with multiple application instances","body":"<p>I'm developing an application (Java &amp; JavaFX) that writes/reads data (a file). The problem is I don't want to restrict user to run only one instance (of my app) at a time, as I really can't think of reliable way of doing that so it works on both Windows and Linuxes (e.g. server), heard of sockets and files - both are defective IMO. As user is able to run multiple instances, writing/reading data (from a file) seems really messy, because there's no guarantee that file locking will work reliably on Windows and Linuxes (FileLock documentation - click here).</p>\n<p>To sum up: I can't restrict multiple instances of my app, but that leads to problem with writing/reading data (from a file).</p>\n<p>Is there anything I missed? Maybe there's some other way to solve my problem I can't think of? How do the &quot;big&quot; popular programs handle that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1405506895,"post_id":24778558,"comment_id":38451832,"body_markdown":"Remove the ServerSocket initialization from the invokeLater. You don&#39;t need to create the socket on the EDT. Try to initialize the socket first, if it fails, exit. If not, continue as usual.","body":"Remove the ServerSocket initialization from the invokeLater. You don&#39;t need to create the socket on the EDT. Try to initialize the socket first, if it fails, exit. If not, continue as usual."}],"answers":[{"comments":[{"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"score":0,"creation_date":1451547202,"post_id":24778855,"comment_id":56827437,"body_markdown":"Code fails if the application is launched from two different directories/folders","body":"Code fails if the application is launched from two different directories/folders"},{"owner":{"account_id":4023896,"reputation":957,"user_id":4471049,"accept_rate":89,"display_name":"Karue Benson Karue"},"score":1,"creation_date":1623269048,"post_id":24778855,"comment_id":120034553,"body_markdown":"It will also fail if user closed application from end task in task manager or the computer shutdown accidentally","body":"It will also fail if user closed application from end task in task manager or the computer shutdown accidentally"}],"tags":[],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405507650,"creation_date":1405507650,"answer_id":24778855,"question_id":24778558,"body_markdown":"There are some crons of using network socket.\r\n\r\n - What if the socket is used by other apps?\r\n - What if there is warning from firewall, which comes with some anti-virus?\r\n\r\nUsing an exclusive locked file seems to be more reliable.\r\n\r\nAppLock.java\r\n------------\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.RandomAccessFile;\r\n    import java.nio.channels.FileChannel;\r\n    import java.nio.channels.FileLock;\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    \r\n    // http://jimlife.wordpress.com/2008/07/21/java-application-make-sure-only-singleone-instance-running-with-file-lock-ampampampampamp-shutdownhook/\r\n    public class AppLock {\r\n        private static File f;\r\n        private static FileChannel channel;\r\n        private static FileLock lock;\r\n        \r\n        public static boolean lock() {\r\n            try {\r\n                String directory = Utils.getUserDataDirectory();\r\n                String fileName = &quot;jstock.lock&quot;;\r\n                Utils.createCompleteDirectoryHierarchyIfDoesNotExist(directory);\r\n                f = new File(directory + fileName);\r\n                // Do we need these code?\r\n                //if (f.exists()) {\r\n                //    f.delete();\r\n                //}\r\n                channel = new RandomAccessFile(f, &quot;rw&quot;).getChannel();\r\n                lock = channel.tryLock();\r\n                if(lock == null) {\r\n                    channel.close();\r\n                    return false;\r\n                }\r\n            } catch (FileNotFoundException ex) {            \r\n                log.error(null, ex);\r\n            } catch (IOException ex) {\r\n                log.error(null, ex);\r\n            }\r\n            return true;\r\n        }\r\n        \r\n        public static void unlock() {\r\n            // release and delete file lock\r\n            try {\r\n                if (lock != null) {\r\n                    lock.release();\r\n                    channel.close();\r\n                    f.delete();\r\n                }\r\n            } catch(IOException e) {\r\n                log.error(null, e);\r\n            }        \r\n        }\r\n        \r\n        private static final Log log = LogFactory.getLog(AppLock.class);\r\n    }\r\n\r\nAn usage example\r\n----------------\r\n    public static void main(String args[]) {        \r\n        if (false == AppLock.lock()) {\r\n            System.exit(0);\r\n        }\r\n\r\n        installShutdownHook();\r\n\r\n        ...\r\n    }\r\n\r\n    private static void installShutdownHook() {\r\n\r\n        Runnable runner = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                AppLock.unlock();\r\n            }\r\n        };\r\n        Runtime.getRuntime().addShutdownHook(new Thread(runner, &quot;Window Prefs Hook&quot;));\r\n    }\r\n\r\nNote, I pick the code snippet from an open source project : [AppLock.java][1]\r\n\r\n\r\n  [1]: https://github.com/yccheok/jstock/blob/master/src/org/yccheok/jstock/gui/AppLock.java","title":"Prevent launching multiple instances of a java application by binding a ServerSocket","body":"<p>There are some crons of using network socket.</p>\n\n<ul>\n<li>What if the socket is used by other apps?</li>\n<li>What if there is warning from firewall, which comes with some anti-virus?</li>\n</ul>\n\n<p>Using an exclusive locked file seems to be more reliable.</p>\n\n<h2>AppLock.java</h2>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.nio.channels.FileChannel;\nimport java.nio.channels.FileLock;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\n// http://jimlife.wordpress.com/2008/07/21/java-application-make-sure-only-singleone-instance-running-with-file-lock-ampampampampamp-shutdownhook/\npublic class AppLock {\n    private static File f;\n    private static FileChannel channel;\n    private static FileLock lock;\n\n    public static boolean lock() {\n        try {\n            String directory = Utils.getUserDataDirectory();\n            String fileName = \"jstock.lock\";\n            Utils.createCompleteDirectoryHierarchyIfDoesNotExist(directory);\n            f = new File(directory + fileName);\n            // Do we need these code?\n            //if (f.exists()) {\n            //    f.delete();\n            //}\n            channel = new RandomAccessFile(f, \"rw\").getChannel();\n            lock = channel.tryLock();\n            if(lock == null) {\n                channel.close();\n                return false;\n            }\n        } catch (FileNotFoundException ex) {            \n            log.error(null, ex);\n        } catch (IOException ex) {\n            log.error(null, ex);\n        }\n        return true;\n    }\n\n    public static void unlock() {\n        // release and delete file lock\n        try {\n            if (lock != null) {\n                lock.release();\n                channel.close();\n                f.delete();\n            }\n        } catch(IOException e) {\n            log.error(null, e);\n        }        \n    }\n\n    private static final Log log = LogFactory.getLog(AppLock.class);\n}\n</code></pre>\n\n<h2>An usage example</h2>\n\n<pre><code>public static void main(String args[]) {        \n    if (false == AppLock.lock()) {\n        System.exit(0);\n    }\n\n    installShutdownHook();\n\n    ...\n}\n\nprivate static void installShutdownHook() {\n\n    Runnable runner = new Runnable() {\n        @Override\n        public void run() {\n            AppLock.unlock();\n        }\n    };\n    Runtime.getRuntime().addShutdownHook(new Thread(runner, \"Window Prefs Hook\"));\n}\n</code></pre>\n\n<p>Note, I pick the code snippet from an open source project : <a href=\"https://github.com/yccheok/jstock/blob/master/src/org/yccheok/jstock/gui/AppLock.java\" rel=\"nofollow\">AppLock.java</a></p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429929244,"creation_date":1429929244,"answer_id":29860353,"question_id":24778558,"body_markdown":"Enforce one instance of a program running with a  ServerSocket Lock\r\n------------------------------------------------------------------------\r\n\r\nJava Code.  Put this into a file called Main.java:\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    public class Main{\r\n      public static void main(String args[]){\r\n        ServerSocket socket = null;\r\n        try {\r\n          socket = new ServerSocket(34567);\r\n          System.out.println(&quot;Doing hard work for 100 seconds&quot;);\r\n          try{ Thread.sleep(100000); } catch(Exception e){ }\r\n          socket.close();\r\n        }\r\n        catch (IOException ex) {\r\n          System.out.println(&quot;App already running, exiting...&quot;);\r\n        }\r\n        finally {\r\n          if (socket != null)\r\n              try{ socket.close(); } catch(Exception e){}\r\n        }\r\n      }\r\n    }\r\n\r\n**Compile and run it**\r\n\r\n    javac Main.java\r\n    java Main\r\n\r\n**Test it in a normal case:**\r\n\r\nRun the program.  You have 100 seconds to run the program again in another terminal, it will fall through saying its already running.  Then wait 100 seconds, it should allow you to run it in the 2nd terminal.\r\n\r\n\r\n**Test it after force halting the program with a kill -9**\r\n\r\n1.  Start the program in terminal 1.\r\n2.  kill -9 that process from another terminal within 100 seconds.\r\n3.  Run the program again, it is allowed to run.\r\n\r\n**Conclusion:**\r\n\r\nThe socket occupation is cleaned up by the operating system when your program is no longer operating.  So you can be sure that the program will not run twice.\r\n\r\n**Drawbacks**\r\n\r\nIf some sneaky person, or some naughty process were to bind all of the ports, or just your port, then your program will not run because it thinks its already running.  ","title":"Prevent launching multiple instances of a java application by binding a ServerSocket","body":"<h2>Enforce one instance of a program running with a  ServerSocket Lock</h2>\n\n<p>Java Code.  Put this into a file called Main.java:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\npublic class Main{\n  public static void main(String args[]){\n    ServerSocket socket = null;\n    try {\n      socket = new ServerSocket(34567);\n      System.out.println(\"Doing hard work for 100 seconds\");\n      try{ Thread.sleep(100000); } catch(Exception e){ }\n      socket.close();\n    }\n    catch (IOException ex) {\n      System.out.println(\"App already running, exiting...\");\n    }\n    finally {\n      if (socket != null)\n          try{ socket.close(); } catch(Exception e){}\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Compile and run it</strong></p>\n\n<pre><code>javac Main.java\njava Main\n</code></pre>\n\n<p><strong>Test it in a normal case:</strong></p>\n\n<p>Run the program.  You have 100 seconds to run the program again in another terminal, it will fall through saying its already running.  Then wait 100 seconds, it should allow you to run it in the 2nd terminal.</p>\n\n<p><strong>Test it after force halting the program with a kill -9</strong></p>\n\n<ol>\n<li>Start the program in terminal 1.</li>\n<li>kill -9 that process from another terminal within 100 seconds.</li>\n<li>Run the program again, it is allowed to run.</li>\n</ol>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>The socket occupation is cleaned up by the operating system when your program is no longer operating.  So you can be sure that the program will not run twice.</p>\n\n<p><strong>Drawbacks</strong></p>\n\n<p>If some sneaky person, or some naughty process were to bind all of the ports, or just your port, then your program will not run because it thinks its already running.  </p>\n"}],"owner":{"account_id":1706612,"reputation":753,"user_id":1565545,"accept_rate":28,"display_name":"TokTok123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3574,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667175827,"creation_date":1405506730,"question_id":24778558,"body_markdown":"I&#39;m trying to prevent the launching multiple instances of a java application by binding a `ServerSocket`. \r\n\r\nCurrently I&#39;m executing it in my main as seen below:\r\n\r\n    public static void main(String[] args) {\r\n\t\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n            \t\r\n            \ttry {\r\n    \t\t\t\tServerSocket serverSocket = new ServerSocket(65535, 10);\r\n    \t\t\t\t\r\n    \t\t\t\tshowFrame();\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n            }\r\n        });\r\n    }\r\n\r\nIt isn&#39;t working as in Eclipse I can still open two instances of the application.","title":"Prevent launching multiple instances of a java application by binding a ServerSocket","body":"<p>I'm trying to prevent the launching multiple instances of a java application by binding a <code>ServerSocket</code>. </p>\n\n<p>Currently I'm executing it in my main as seen below:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n\n            try {\n                ServerSocket serverSocket = new ServerSocket(65535, 10);\n\n                showFrame();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>It isn't working as in Eclipse I can still open two instances of the application.</p>\n"},{"tags":["java","java-web-start","jnlp"],"comments":[{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":0,"creation_date":1384585366,"post_id":920386,"comment_id":29804582,"body_markdown":"Most simplest solution :-) java.nio.file lock see complete example http://stackoverflow.com/a/20015771/185022","body":"Most simplest solution :-) java.nio.file lock see complete example <a href=\"http://stackoverflow.com/a/20015771/185022\">stackoverflow.com/a/20015771/185022</a>"}],"answers":[{"comments":[{"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"score":0,"creation_date":1472093029,"post_id":920401,"comment_id":65616738,"body_markdown":"It also suffers from the same problem as a lock file: if the program dies, how do you know when to break the lock?","body":"It also suffers from the same problem as a lock file: if the program dies, how do you know when to break the lock?"}],"tags":[],"owner":{"account_id":39419,"reputation":426,"user_id":113673,"display_name":"codebliss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243510299,"creation_date":1243510299,"answer_id":920401,"question_id":920386,"body_markdown":"You could use the registry, although this halfheartedly defeats the purpose of using a high-level language like java.  At least your target platform is windows =D","title":"How to allow running only one instance of a Java program at a time?","body":"<p>You could use the registry, although this halfheartedly defeats the purpose of using a high-level language like java.  At least your target platform is windows =D</p>\n"},{"comments":[{"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"score":0,"creation_date":1243511975,"post_id":920403,"comment_id":728375,"body_markdown":"Nice idea! Could there be any security problems with a very strict SecurityManager?","body":"Nice idea! Could there be any security problems with a very strict SecurityManager?"},{"owner":{"account_id":4725,"reputation":672,"user_id":7236,"accept_rate":75,"display_name":"Erwin"},"score":1,"creation_date":1243512725,"post_id":920403,"comment_id":728435,"body_markdown":"Would this cause any firewall warnings? How to choose a port which we know is not being used by other programs?","body":"Would this cause any firewall warnings? How to choose a port which we know is not being used by other programs?"},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1243512951,"post_id":920403,"comment_id":728452,"body_markdown":"As Erwin points out, I believe this would cause firewall warnings. I can&#39;t quite agree with this approach. There must be a more elegant way. Where&#39;s Jon Skeet?","body":"As Erwin points out, I believe this would cause firewall warnings. I can&#39;t quite agree with this approach. There must be a more elegant way. Where&#39;s Jon Skeet?"},{"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"score":0,"creation_date":1243513415,"post_id":920403,"comment_id":728468,"body_markdown":"In the sample code I explicitly bind to 127.0.0.1 which should avoid any firewall warnings since any traffic on that address can only be internal to the local system.","body":"In the sample code I explicitly bind to 127.0.0.1 which should avoid any firewall warnings since any traffic on that address can only be internal to the local system."},{"owner":{"account_id":34760,"reputation":3644,"user_id":98275,"accept_rate":58,"display_name":"r&#228;ph"},"score":0,"creation_date":1243514332,"post_id":920403,"comment_id":728518,"body_markdown":"thanks. but actually for some reason its not working with the sample code. if i try a port which is already in use by another service its working as proposed by throwing a BindException. But if I try an unassigned port there won&#39;t be an exception and I can still start my app several times!","body":"thanks. but actually for some reason its not working with the sample code. if i try a port which is already in use by another service its working as proposed by throwing a BindException. But if I try an unassigned port there won&#39;t be an exception and I can still start my app several times!"},{"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"score":0,"creation_date":1243514835,"post_id":920403,"comment_id":728552,"body_markdown":"It looks to me like this code leaks the socket, which will be GC&#39;d and eventually closed.  I think the code should store the ServerSocket object in a static variable. But in any case it looks like Tom Hawtin wrote a better solution, the javax.jnlp.SingleInstanceService.","body":"It looks to me like this code leaks the socket, which will be GC&#39;d and eventually closed.  I think the code should store the ServerSocket object in a static variable. But in any case it looks like Tom Hawtin wrote a better solution, the javax.jnlp.SingleInstanceService."},{"owner":{"account_id":34760,"reputation":3644,"user_id":98275,"accept_rate":58,"display_name":"r&#228;ph"},"score":0,"creation_date":1243516198,"post_id":920403,"comment_id":728655,"body_markdown":"thanks Mr Shiny. if I store the ServerSocket in a classvariable it&#39;s working!!","body":"thanks Mr Shiny. if I store the ServerSocket in a classvariable it&#39;s working!!"},{"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"score":0,"creation_date":1243520019,"post_id":920403,"comment_id":728914,"body_markdown":"@Mr Shiny.  Whoops.  Thanks.  Will fix that.","body":"@Mr Shiny.  Whoops.  Thanks.  Will fix that."},{"owner":{"account_id":8171,"reputation":33191,"user_id":14558,"accept_rate":80,"display_name":"andrewdotn"},"score":2,"creation_date":1243992625,"post_id":920403,"comment_id":750911,"body_markdown":"This is a bad idea because ports are allocated *per-system*, not *per-user*. On a Windows Terminal Server, Windows with Fast User Switching, Mac with Fast User Switching, or multiple people logged into a UNIX box, this becomes a denial-of-service attack.","body":"This is a bad idea because ports are allocated <i>per-system</i>, not <i>per-user</i>. On a Windows Terminal Server, Windows with Fast User Switching, Mac with Fast User Switching, or multiple people logged into a UNIX box, this becomes a denial-of-service attack."}],"tags":[],"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"comment_count":9,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1243520162,"creation_date":1243510335,"answer_id":920403,"question_id":920386,"body_markdown":"I think your suggestion of opening a port to listen when you start your application is the best idea.  \r\n\r\nIt&#39;s very easy to do and you don&#39;t need to worry about cleaning it up when you close your application.  For example, if you write to a file but someone then kills the processes using Task Manager the file won&#39;t get deleted.\r\n\r\nAlso, if I remember correctly there is no easy way of getting the PID of a Java process from inside the JVM so don&#39;t try and formulate a solution using PIDs.\r\n\r\nSomething like this should do the trick:\r\n\r\n    private static final int PORT = 9999;\r\n    private static ServerSocket socket;    \r\n\r\n    private static void checkIfRunning() {\r\n      try {\r\n        //Bind to localhost adapter with a zero connection queue \r\n        socket = new ServerSocket(PORT,0,InetAddress.getByAddress(new byte[] {127,0,0,1}));\r\n      }\r\n      catch (BindException e) {\r\n        System.err.println(&quot;Already running.&quot;);\r\n        System.exit(1);\r\n      }\r\n      catch (IOException e) {\r\n        System.err.println(&quot;Unexpected error.&quot;);\r\n        e.printStackTrace();\r\n        System.exit(2);\r\n      }\r\n    }\r\n\r\nThis sample code explicitly binds to `127.0.0.1` which should avoid any firewall warnings, as any traffic on this address must be from the local system.\r\n\r\nWhen picking a port try to avoid one mentioned in the [list of Well Known Ports][1].  You should ideally make the port used configurable in a file or via a command line switch in case of conflicts.\r\n\r\n  [1]: http://www.iana.org/assignments/port-numbers","title":"How to allow running only one instance of a Java program at a time?","body":"<p>I think your suggestion of opening a port to listen when you start your application is the best idea.  </p>\n\n<p>It's very easy to do and you don't need to worry about cleaning it up when you close your application.  For example, if you write to a file but someone then kills the processes using Task Manager the file won't get deleted.</p>\n\n<p>Also, if I remember correctly there is no easy way of getting the PID of a Java process from inside the JVM so don't try and formulate a solution using PIDs.</p>\n\n<p>Something like this should do the trick:</p>\n\n<pre><code>private static final int PORT = 9999;\nprivate static ServerSocket socket;    \n\nprivate static void checkIfRunning() {\n  try {\n    //Bind to localhost adapter with a zero connection queue \n    socket = new ServerSocket(PORT,0,InetAddress.getByAddress(new byte[] {127,0,0,1}));\n  }\n  catch (BindException e) {\n    System.err.println(\"Already running.\");\n    System.exit(1);\n  }\n  catch (IOException e) {\n    System.err.println(\"Unexpected error.\");\n    e.printStackTrace();\n    System.exit(2);\n  }\n}\n</code></pre>\n\n<p>This sample code explicitly binds to <code>127.0.0.1</code> which should avoid any firewall warnings, as any traffic on this address must be from the local system.</p>\n\n<p>When picking a port try to avoid one mentioned in the <a href=\"http://www.iana.org/assignments/port-numbers\" rel=\"noreferrer\">list of Well Known Ports</a>.  You should ideally make the port used configurable in a file or via a command line switch in case of conflicts.</p>\n"},{"tags":[],"owner":{"account_id":33378,"reputation":4844,"user_id":93399,"accept_rate":78,"display_name":"Colin Desmond"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243512406,"creation_date":1243512406,"answer_id":920537,"question_id":920386,"body_markdown":"We do the same in C++ by creating a kernal mutex object and looking for it at start up. The advantages are the same as using a socket, ie when the process dies/crashes/exits/is killed, the mutex object is cleaned up by the kernel.\r\n\r\nI&#39;m not a Java programmer, so I am not sure whether you can do the same kind of thing in Java?","title":"How to allow running only one instance of a Java program at a time?","body":"<p>We do the same in C++ by creating a kernal mutex object and looking for it at start up. The advantages are the same as using a socket, ie when the process dies/crashes/exits/is killed, the mutex object is cleaned up by the kernel.</p>\n\n<p>I'm not a Java programmer, so I am not sure whether you can do the same kind of thing in Java?</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1243514038,"creation_date":1243514038,"answer_id":920607,"question_id":920386,"body_markdown":"As the question states that WebStart is being used, the obvious solution is to use [`javax.jnlp.SingleInstanceService`][1].\r\n\r\nThis service is available in 1.5. Note that 1.5 is currently most of the way through its End Of Service Life period. Get with Java SE 6!\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/jre/api/javaws/jnlp/javax/jnlp/SingleInstanceService.html","title":"How to allow running only one instance of a Java program at a time?","body":"<p>As the question states that WebStart is being used, the obvious solution is to use <a href=\"http://java.sun.com/javase/6/docs/jre/api/javaws/jnlp/javax/jnlp/SingleInstanceService.html\" rel=\"noreferrer\"><code>javax.jnlp.SingleInstanceService</code></a>.</p>\n\n<p>This service is available in 1.5. Note that 1.5 is currently most of the way through its End Of Service Life period. Get with Java SE 6!</p>\n"},{"comments":[{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":0,"creation_date":1490465748,"post_id":920611,"comment_id":73128229,"body_markdown":"File locks will not work due to Taskmanager or Linux kill commands not releasing lock file","body":"File locks will not work due to Taskmanager or Linux kill commands not releasing lock file"}],"tags":[],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1243514106,"creation_date":1243514106,"answer_id":920611,"question_id":920386,"body_markdown":"I think that the better idea would be to use file lock (quite an old idea :) ). Since Java 1.4 a new I/O library was introduced, that allows file locking.\r\n\r\nOnce the application starts it tries to acquire lock on a file (or create it if does not exist), when the application exits the lock is relased. If application cannot acquire a lock, it quits.\r\n\r\nThe example how to do file locking is for example in [Java Developers Almanac][1].\r\n\r\nIf you want to use file locking in Java Web Start application or an applet you need to sing the application or the applet.\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.nio/SetFileLock.html","title":"How to allow running only one instance of a Java program at a time?","body":"<p>I think that the better idea would be to use file lock (quite an old idea :) ). Since Java 1.4 a new I/O library was introduced, that allows file locking.</p>\n\n<p>Once the application starts it tries to acquire lock on a file (or create it if does not exist), when the application exits the lock is relased. If application cannot acquire a lock, it quits.</p>\n\n<p>The example how to do file locking is for example in <a href=\"http://www.exampledepot.com/egs/java.nio/SetFileLock.html\" rel=\"nofollow noreferrer\">Java Developers Almanac</a>.</p>\n\n<p>If you want to use file locking in Java Web Start application or an applet you need to sing the application or the applet.</p>\n"},{"comments":[{"owner":{"account_id":4080253,"reputation":430,"user_id":3350921,"display_name":"saygley"},"score":0,"creation_date":1616659513,"post_id":11578106,"comment_id":118073312,"body_markdown":"Look like a neat offer. Does your solution recognize if previous instance of my application was killed, rather than gracefully stopped?","body":"Look like a neat offer. Does your solution recognize if previous instance of my application was killed, rather than gracefully stopped?"}],"tags":[],"owner":{"account_id":694325,"reputation":413,"user_id":571792,"display_name":"rumatoest"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587569133,"creation_date":1342782505,"answer_id":11578106,"question_id":920386,"body_markdown":"I&#39;ve create the cross platform AppLock class.\r\n\r\nhttp://mixeddev.info/articles/2015/02/01/run-single-jvm-app-instance.html\r\n\r\nIt is using file lock technique.\r\n\r\nUpdate. At 2016-10-14 I&#39;ve created package compatible with maven/gradle https://github.com/jneat/jneat and explained it here http://mixeddev.info/articles/2015/06/01/synchronize-different-jvm-instances.html","title":"How to allow running only one instance of a Java program at a time?","body":"<p>I've create the cross platform AppLock class.</p>\n\n<p><a href=\"http://mixeddev.info/articles/2015/02/01/run-single-jvm-app-instance.html\" rel=\"nofollow noreferrer\">http://mixeddev.info/articles/2015/02/01/run-single-jvm-app-instance.html</a></p>\n\n<p>It is using file lock technique.</p>\n\n<p>Update. At 2016-10-14 I've created package compatible with maven/gradle <a href=\"https://github.com/jneat/jneat\" rel=\"nofollow noreferrer\">https://github.com/jneat/jneat</a> and explained it here <a href=\"http://mixeddev.info/articles/2015/06/01/synchronize-different-jvm-instances.html\" rel=\"nofollow noreferrer\">http://mixeddev.info/articles/2015/06/01/synchronize-different-jvm-instances.html</a></p>\n"},{"tags":[],"owner":{"account_id":1477366,"reputation":745,"user_id":1387451,"accept_rate":50,"display_name":"Nirro"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394110566,"creation_date":1394110566,"answer_id":22225227,"question_id":920386,"body_markdown":"I&#39;ve seen so many of this questions and I was looking to solve the same problem in a platform independent way that doesn&#39;t take the chance to collide with firewalls or get into socket stuff.\r\n\r\nSo, here&#39;s what I did:\r\n\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\t\r\n\t/**\r\n\t * This static class is in charge of file-locking the program\r\n\t * so no more than one instance can be run at the same time.\r\n\t * @author nirei\r\n\t */\r\n\tpublic class SingleInstanceLock {\r\n\t\r\n\t\tprivate static final String LOCK_FILEPATH = System.getProperty(&quot;java.io.tmpdir&quot;) + File.separator + &quot;lector.lock&quot;;\r\n\t\tprivate static final File lock = new File(LOCK_FILEPATH);\r\n\t\tprivate static boolean locked = false;\r\n\t\t\r\n\t\tprivate SingleInstanceLock() {}\r\n\t\r\n\t\t/**\r\n\t\t * Creates the lock file if it&#39;s not present and requests its deletion on\r\n\t\t * program termination or informs that the program is already running if\r\n\t\t * that&#39;s the case.\r\n\t\t * @return true - if the operation was succesful or if the program already has the lock.&lt;br&gt;\r\n\t\t * false - if the program is already running\r\n\t\t * @throws IOException if the lock file cannot be created.\r\n\t\t */\r\n\t\tpublic static boolean lock() throws IOException {\r\n\t\t\tif(locked) return true;\r\n\t\r\n\t\t\tif(lock.exists()) return false;\r\n\t\r\n\t\t\tlock.createNewFile();\r\n\t\t\tlock.deleteOnExit();\r\n\t\t\tlocked = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\r\nUsing System.getProperty(&quot;java.io.tmpdir&quot;) for the lockfile path makes sure that you will always create your lock on the same place.\r\n\r\nThen, from your program you just call something like:\r\n\r\n    blah blah main(blah blah blah) {\r\n        try() {\r\n            if(!SingleInstanceLock.lock()) {\r\n                System.out.println(&quot;The program is already running&quot;);\r\n                System.exit(0);\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Couldn&#39;t create lock file or w/e&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\nAnd that does it for me. Now, if you kill the program it won&#39;t delete the lock file but you can solve this by writing the program&#39;s PID into the lockfile and making the lock() method check if that process is already running. This is left as an assingment for anyone interested. :)","title":"How to allow running only one instance of a Java program at a time?","body":"<p>I've seen so many of this questions and I was looking to solve the same problem in a platform independent way that doesn't take the chance to collide with firewalls or get into socket stuff.</p>\n\n<p>So, here's what I did:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\n/**\n * This static class is in charge of file-locking the program\n * so no more than one instance can be run at the same time.\n * @author nirei\n */\npublic class SingleInstanceLock {\n\n    private static final String LOCK_FILEPATH = System.getProperty(\"java.io.tmpdir\") + File.separator + \"lector.lock\";\n    private static final File lock = new File(LOCK_FILEPATH);\n    private static boolean locked = false;\n\n    private SingleInstanceLock() {}\n\n    /**\n     * Creates the lock file if it's not present and requests its deletion on\n     * program termination or informs that the program is already running if\n     * that's the case.\n     * @return true - if the operation was succesful or if the program already has the lock.&lt;br&gt;\n     * false - if the program is already running\n     * @throws IOException if the lock file cannot be created.\n     */\n    public static boolean lock() throws IOException {\n        if(locked) return true;\n\n        if(lock.exists()) return false;\n\n        lock.createNewFile();\n        lock.deleteOnExit();\n        locked = true;\n        return true;\n    }\n}\n</code></pre>\n\n<p>Using System.getProperty(\"java.io.tmpdir\") for the lockfile path makes sure that you will always create your lock on the same place.</p>\n\n<p>Then, from your program you just call something like:</p>\n\n<pre><code>blah blah main(blah blah blah) {\n    try() {\n        if(!SingleInstanceLock.lock()) {\n            System.out.println(\"The program is already running\");\n            System.exit(0);\n        }\n    } catch (IOException e) {\n        System.err.println(\"Couldn't create lock file or w/e\");\n        System.exit(1);\n    }\n}\n</code></pre>\n\n<p>And that does it for me. Now, if you kill the program it won't delete the lock file but you can solve this by writing the program's PID into the lockfile and making the lock() method check if that process is already running. This is left as an assingment for anyone interested. :)</p>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479901443,"creation_date":1479900777,"answer_id":40763377,"question_id":920386,"body_markdown":"You can use JUnique library. It provides support for running single-instance java application and is open-source.\r\n\r\nhttp://www.sauronsoftware.it/projects/junique/\r\n\r\nSee also my full answer at https://stackoverflow.com/questions/177189/how-to-implement-a-single-instance-java-application/40763340#40763340","title":"How to allow running only one instance of a Java program at a time?","body":"<p>You can use JUnique library. It provides support for running single-instance java application and is open-source.</p>\n\n<p><a href=\"http://www.sauronsoftware.it/projects/junique/\" rel=\"nofollow noreferrer\">http://www.sauronsoftware.it/projects/junique/</a></p>\n\n<p>See also my full answer at <a href=\"https://stackoverflow.com/questions/177189/how-to-implement-a-single-instance-java-application/40763340#40763340\">How to implement a single instance Java application?</a></p>\n"},{"tags":[],"owner":{"account_id":7550466,"reputation":59,"user_id":5732093,"accept_rate":67,"display_name":"Jalal Hussain Barzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505303830,"creation_date":1505226107,"answer_id":46178939,"question_id":920386,"body_markdown":"Try JUnique:\r\n\r\n\r\n\t\r\n\r\n    String appId = &quot;com.example.win.run.main&quot;;\r\n\tboolean alreadyRunning;\r\n\ttry {\r\n\t\tJUnique.acquireLock(appId);\r\n\t\talreadyRunning = false;\r\n\t} catch (AlreadyLockedException e) {\r\n\t\talreadyRunning = true;\r\n\t}\r\n\tif (alreadyRunning) {\r\n        Sysout(&quot;An Instance of this app is already running&quot;);\r\n\t\tSystem.exit(1);\r\n\t}","title":"How to allow running only one instance of a Java program at a time?","body":"<p>Try JUnique:</p>\n\n<pre><code>String appId = \"com.example.win.run.main\";\nboolean alreadyRunning;\ntry {\n    JUnique.acquireLock(appId);\n    alreadyRunning = false;\n} catch (AlreadyLockedException e) {\n    alreadyRunning = true;\n}\nif (alreadyRunning) {\n    Sysout(\"An Instance of this app is already running\");\n    System.exit(1);\n}\n</code></pre>\n"}],"owner":{"account_id":34760,"reputation":3644,"user_id":98275,"accept_rate":58,"display_name":"r&#228;ph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25705,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":920403,"answer_count":9,"score":29,"last_activity_date":1667175738,"creation_date":1243510104,"question_id":920386,"body_markdown":"I need to prevent users from starting my Java application (WebStart Swing app) multiple times. So if the application is already running it shouldn&#39;t be possible to start it again or show a warning / be closed again.\r\n\r\nIs there some convenient way to achieve this? I thought about blocking a port or write sth to a file. But hopefully you can access some system properties or the JVM?\r\n\r\nbtw. target platform is Windows XP with Java 1.5","title":"How to allow running only one instance of a Java program at a time?","body":"<p>I need to prevent users from starting my Java application (WebStart Swing app) multiple times. So if the application is already running it shouldn't be possible to start it again or show a warning / be closed again.</p>\n\n<p>Is there some convenient way to achieve this? I thought about blocking a port or write sth to a file. But hopefully you can access some system properties or the JVM?</p>\n\n<p>btw. target platform is Windows XP with Java 1.5</p>\n"},{"tags":["java","runtime","executable-jar"],"answers":[{"comments":[{"owner":{"account_id":301798,"reputation":960,"user_id":1723949,"display_name":"Nathan Williams"},"score":3,"creation_date":1489617060,"post_id":7036124,"comment_id":72755492,"body_markdown":"PSA: A server socket works great, just don&#39;t forget to assign it to something that won&#39;t get garbage collected over the life of the process or the exclusion benefit will be short lived (or worse, it will work just long enough to make you wonder what happened when it stops).","body":"PSA: A server socket works great, just don&#39;t forget to assign it to something that won&#39;t get garbage collected over the life of the process or the exclusion benefit will be short lived (or worse, it will work just long enough to make you wonder what happened when it stops)."},{"owner":{"account_id":4105,"reputation":281444,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":1,"creation_date":1526728576,"post_id":7036124,"comment_id":87864132,"body_markdown":"What happens if more than one user try to run the application? Won&#39;t they conflict on opening the socket?","body":"What happens if more than one user try to run the application? Won&#39;t they conflict on opening the socket?"}],"tags":[],"owner":{"account_id":408586,"reputation":5227,"user_id":779348,"accept_rate":82,"display_name":"Sap"},"comment_count":2,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1360651984,"creation_date":1313128713,"answer_id":7036124,"question_id":7036108,"body_markdown":"Similar discussion is at\r\nhttp://www.daniweb.com/software-development/java/threads/83331\r\n\r\nBind a ServerSocket. If it fails to bind then abort the startup. Since a ServerSocket can be bound only once, only single instsances of the program will be able to run.\r\n\r\nAnd before you ask, no. Just because you bind a ServerSocket, does not mean you are open to network traffic. That only comes into effect once the program starts &quot;listening&quot; to the port with accept().\r\n\r\n","title":"Prevent launching multiple instances of a java application","body":"<p>Similar discussion is at\n<a href=\"http://www.daniweb.com/software-development/java/threads/83331\" rel=\"noreferrer\">http://www.daniweb.com/software-development/java/threads/83331</a></p>\n\n<p>Bind a ServerSocket. If it fails to bind then abort the startup. Since a ServerSocket can be bound only once, only single instsances of the program will be able to run.</p>\n\n<p>And before you ask, no. Just because you bind a ServerSocket, does not mean you are open to network traffic. That only comes into effect once the program starts \"listening\" to the port with accept().</p>\n"},{"comments":[{"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"score":1,"creation_date":1350643838,"post_id":7036130,"comment_id":17591483,"body_markdown":"Great idea! +1. But this idea, keeping a file to check whether an app is running, feels like a bit ugly. Isn&#39;t it. Aren&#39;t there any gracefully methods at all ??? I don&#39;t think that this&#39;s the method that other **popular** apps are using. I&#39;m curious..","body":"Great idea! +1. But this idea, keeping a file to check whether an app is running, feels like a bit ugly. Isn&#39;t it. Aren&#39;t there any gracefully methods at all ??? I don&#39;t think that this&#39;s the method that other <b>popular</b> apps are using. I&#39;m curious.."},{"owner":{"account_id":146067,"reputation":25612,"user_id":356292,"accept_rate":89,"display_name":"Eiko"},"score":0,"creation_date":1475932873,"post_id":7036130,"comment_id":67147711,"body_markdown":"You should also check if the process is the right one (imagine crashing, restarting the machine. But then, we could just walk all process anyway and could get rid of the ugly file check. (Using sockets myself, which allows to forward arguments).","body":"You should also check if the process is the right one (imagine crashing, restarting the machine. But then, we could just walk all process anyway and could get rid of the ugly file check. (Using sockets myself, which allows to forward arguments)."},{"owner":{"account_id":1699574,"reputation":410,"user_id":1560056,"accept_rate":100,"display_name":"CleanUp"},"score":0,"creation_date":1534344250,"post_id":7036130,"comment_id":90674136,"body_markdown":"At least on Windows this is not a good idea because a process ID can be recycled. You could thus potentially get a false positive. See https://stackoverflow.com/questions/26301382/does-windows-7-recycle-process-id-pid-numbers","body":"At least on Windows this is not a good idea because a process ID can be recycled. You could thus potentially get a false positive. See <a href=\"https://stackoverflow.com/questions/26301382/does-windows-7-recycle-process-id-pid-numbers\" title=\"does windows 7 recycle process id pid numbers\">stackoverflow.com/questions/26301382/&hellip;</a>"}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1313128785,"creation_date":1313128785,"answer_id":7036130,"question_id":7036108,"body_markdown":"You could write the process id of the process that created the lock file into the file.\r\nWhen you encounter an existing lock file, you do not just quit, but you check if the process with that id is still alive. If not, you can go ahead.\r\n","title":"Prevent launching multiple instances of a java application","body":"<p>You could write the process id of the process that created the lock file into the file.\nWhen you encounter an existing lock file, you do not just quit, but you check if the process with that id is still alive. If not, you can go ahead.</p>\n"},{"comments":[{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":1,"creation_date":1490464007,"post_id":7036134,"comment_id":73127574,"body_markdown":"Except when windows taskmanager kills it or Linux kill-9 then your SOL","body":"Except when windows taskmanager kills it or Linux kill-9 then your SOL"}],"tags":[],"owner":{"account_id":385580,"reputation":3828,"user_id":742797,"display_name":"sgibly"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1313128854,"creation_date":1313128854,"answer_id":7036134,"question_id":7036108,"body_markdown":"I see two options you can try:\r\n\r\n 1. Use a Java [shutdown hook][1]\r\n 2. Have your lock file hold the main process number. The process should exist when you lanuch another instance. If it&#39;s not found in your system, you can assume that the lock can be dismissed and overwritten.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29","title":"Prevent launching multiple instances of a java application","body":"<p>I see two options you can try:</p>\n\n<ol>\n<li>Use a Java <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"noreferrer\">shutdown hook</a></li>\n<li>Have your lock file hold the main process number. The process should exist when you lanuch another instance. If it's not found in your system, you can assume that the lock can be dismissed and overwritten.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1313140464,"creation_date":1313140464,"answer_id":7037981,"question_id":7036108,"body_markdown":"&gt; ..what other mechanism could I use?\r\n\r\nIf the app. has a GUI it can be launched using &lt;a href=&quot;https://stackoverflow.com/tags/java-web-start/info&quot;&gt;Java Web Start&lt;/a&gt;.  The &lt;a href=&quot;https://stackoverflow.com/tags/jnlp/info&quot;&gt;JNLP&lt;/a&gt; API provided to web-start offers the `SingleInstanceService`.  Here is my &lt;a href=&quot;http://pscode.org/jws/api.html#sis&quot;&gt;demo. of the `SingleInstanceService`&lt;/a&gt;.","title":"Prevent launching multiple instances of a java application","body":"<blockquote>\n  <p>..what other mechanism could I use?</p>\n</blockquote>\n\n<p>If the app. has a GUI it can be launched using <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.  The <a href=\"https://stackoverflow.com/tags/jnlp/info\">JNLP</a> API provided to web-start offers the <code>SingleInstanceService</code>.  Here is my <a href=\"http://pscode.org/jws/api.html#sis\" rel=\"nofollow noreferrer\">demo. of the <code>SingleInstanceService</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":247354,"reputation":1065,"user_id":522024,"accept_rate":78,"display_name":"ayanamist"},"score":1,"creation_date":1422846362,"post_id":21107474,"comment_id":44896770,"body_markdown":"If another application use 65535 for sending data, you will not bind to this port, even no instance is running.","body":"If another application use 65535 for sending data, you will not bind to this port, even no instance is running."}],"tags":[],"owner":{"account_id":3238008,"reputation":99,"user_id":2731673,"display_name":"Sudheep Vallipoyil"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1500579059,"creation_date":1389681940,"answer_id":21107474,"question_id":7036108,"body_markdown":"You can create  a Server socket  like    \r\n  \r\n           new ServerSocket(65535, 1, InetAddress.getLocalHost());\r\n\r\nat very beginning of your code. Then  if AddressAlreadyInUse exception caught in main block you can display the appropriate message.\r\n\r\n       ","title":"Prevent launching multiple instances of a java application","body":"<p>You can create  a Server socket  like    </p>\n\n<pre><code>       new ServerSocket(65535, 1, InetAddress.getLocalHost());\n</code></pre>\n\n<p>at very beginning of your code. Then  if AddressAlreadyInUse exception caught in main block you can display the appropriate message.</p>\n"},{"tags":[],"owner":{"account_id":7257939,"reputation":9,"user_id":5535843,"display_name":"Karthej Reddy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1451041015,"creation_date":1451041015,"answer_id":34462242,"question_id":7036108,"body_markdown":"You can write something like this.\r\n\r\nIf file exists try to delete it. if it is not able to delete. We can say that application is already running.\r\n\r\nNow create the same file again and redirect the sysout and syserr.\r\n\r\nThis works for me","title":"Prevent launching multiple instances of a java application","body":"<p>You can write something like this.</p>\n\n<p>If file exists try to delete it. if it is not able to delete. We can say that application is already running.</p>\n\n<p>Now create the same file again and redirect the sysout and syserr.</p>\n\n<p>This works for me</p>\n"},{"comments":[{"owner":{"account_id":5996,"reputation":1508,"user_id":9910,"accept_rate":43,"display_name":"KC Baltz"},"score":0,"creation_date":1591059895,"post_id":46668997,"comment_id":109907011,"body_markdown":"Note that this leaves behind the lock file.  If you want it deleted when you exit, you might call file.deleteOnExit() which will work if the process exits normally.","body":"Note that this leaves behind the lock file.  If you want it deleted when you exit, you might call file.deleteOnExit() which will work if the process exits normally."},{"owner":{"account_id":11451958,"reputation":138,"user_id":8394118,"display_name":"kske"},"score":1,"creation_date":1600520719,"post_id":46668997,"comment_id":113117347,"body_markdown":"In my case, the lock got garbage collected when I declared it inside a method. I then moved it to an instance variable, and now it works like a charm.","body":"In my case, the lock got garbage collected when I declared it inside a method. I then moved it to an instance variable, and now it works like a charm."},{"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"score":0,"creation_date":1600691726,"post_id":46668997,"comment_id":113158052,"body_markdown":"I&#39;m using FileLock and FileChannel instances exclusively as local vars inside a method, just tried with GC triggered by jvisualvm, the second launch of my app still saw the lock of the first launch. @CyB3RC0nN0R Would you mind to elaborate and show your code?","body":"I&#39;m using FileLock and FileChannel instances exclusively as local vars inside a method, just tried with GC triggered by jvisualvm, the second launch of my app still saw the lock of the first launch. @CyB3RC0nN0R Would you mind to elaborate and show your code?"}],"tags":[],"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1507796972,"creation_date":1507644789,"answer_id":46668997,"question_id":7036108,"body_markdown":"You could use a FileLock, this also works in environments where multiple users share ports:\r\n\r\n    String userHome = System.getProperty(&quot;user.home&quot;);\r\n\tFile file = new File(userHome, &quot;my.lock&quot;);\r\n\ttry {\r\n\t\tFileChannel fc = FileChannel.open(file.toPath(),\r\n\t\t\t\tStandardOpenOption.CREATE,\r\n\t\t\t\tStandardOpenOption.WRITE);\r\n\t\tFileLock lock = fc.tryLock();\r\n\t\tif (lock == null) {\r\n\t\t\tSystem.out.println(&quot;another instance is running&quot;);\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\tthrow new Error(e);\r\n\t}\r\nAlso survives Garbage Collection.\r\nThe lock is released once your process ends, doesn&#39;t matter if regular exit or crash or whatever.","title":"Prevent launching multiple instances of a java application","body":"<p>You could use a FileLock, this also works in environments where multiple users share ports:</p>\n\n<pre><code>String userHome = System.getProperty(\"user.home\");\nFile file = new File(userHome, \"my.lock\");\ntry {\n    FileChannel fc = FileChannel.open(file.toPath(),\n            StandardOpenOption.CREATE,\n            StandardOpenOption.WRITE);\n    FileLock lock = fc.tryLock();\n    if (lock == null) {\n        System.out.println(\"another instance is running\");\n    }\n} catch (IOException e) {\n    throw new Error(e);\n}\n</code></pre>\n\n<p>Also survives Garbage Collection.\nThe lock is released once your process ends, doesn't matter if regular exit or crash or whatever.</p>\n"},{"comments":[{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667313802,"post_id":46705579,"comment_id":131135466,"body_markdown":"Please have a look at my answer: https://stackoverflow.com/a/74257460/10686802\nI have used your answer and improved upon it a bit. I have also given you guys credit.","body":"Please have a look at my answer: <a href=\"https://stackoverflow.com/a/74257460/10686802\">stackoverflow.com/a/74257460/10686802</a> I have used your answer and improved upon it a bit. I have also given you guys credit."}],"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509507259,"creation_date":1507799168,"answer_id":46705579,"question_id":7036108,"body_markdown":"There are already available java methods in File class to achieve the same. The method is deleteOnExit() which ensure the file is automatically deleted when the JVM exits. However, it does not cater to forcible terminations. One should use FileLock in case of forcible termination.\r\n\r\nFor more details check, [https://docs.oracle.com/javase/7/docs/api/java/io/File.html][1]\r\n\r\nThus code snippet which could be used in the main method can be like :\r\n \r\n    public static void main(String args[]) throws Exception {\r\n\r\n\t\tFile f = new File(&quot;checkFile&quot;);\r\n\r\n\t\tif (!f.exists()) {\r\n\t\t\tf.createNewFile();\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;App already running&quot; );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tf.deleteOnExit();\r\n\r\n\t\t// whatever your app is supposed to do\r\n        System.out.println(&quot;Blah Blah&quot;)\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html","title":"Prevent launching multiple instances of a java application","body":"<p>There are already available java methods in File class to achieve the same. The method is deleteOnExit() which ensure the file is automatically deleted when the JVM exits. However, it does not cater to forcible terminations. One should use FileLock in case of forcible termination.</p>\n\n<p>For more details check, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/File.html</a></p>\n\n<p>Thus code snippet which could be used in the main method can be like :</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n\n    File f = new File(\"checkFile\");\n\n    if (!f.exists()) {\n        f.createNewFile();\n    } else {\n        System.out.println(\"App already running\" );\n        return;\n    }\n\n    f.deleteOnExit();\n\n    // whatever your app is supposed to do\n    System.out.println(\"Blah Blah\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522940980,"creation_date":1522940980,"answer_id":49675794,"question_id":7036108,"body_markdown":"Creating a server socket, bounds to a specific port with a [ServerSocket][1] instance as the application starts is a straight way.   \r\nNote that `ServerSocket.accept()` blocks, so running it in its own thread makes sense to not block the main `Thread`.\r\n\r\nHere is an example with a exception thrown as detected :\r\n\r\n    public static void main(String[] args) {       \r\n        assertNoOtherInstanceRunning();\r\n        ...     // application code then        \r\n    }\r\n    \r\n    public static void assertNoOtherInstanceRunning() {       \r\n        new Thread(() -&gt; {\r\n            try {\r\n                new ServerSocket(9000).accept();\r\n            } catch (IOException e) {\r\n              throw new RuntimeException(&quot;the application is probably already started&quot;, e);\r\n            }\r\n        }).start();       \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html","title":"Prevent launching multiple instances of a java application","body":"<p>Creating a server socket, bounds to a specific port with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\" rel=\"noreferrer\">ServerSocket</a> instance as the application starts is a straight way.<br>\nNote that <code>ServerSocket.accept()</code> blocks, so running it in its own thread makes sense to not block the main <code>Thread</code>.</p>\n\n<p>Here is an example with a exception thrown as detected :</p>\n\n<pre><code>public static void main(String[] args) {       \n    assertNoOtherInstanceRunning();\n    ...     // application code then        \n}\n\npublic static void assertNoOtherInstanceRunning() {       \n    new Thread(() -&gt; {\n        try {\n            new ServerSocket(9000).accept();\n        } catch (IOException e) {\n          throw new RuntimeException(\"the application is probably already started\", e);\n        }\n    }).start();       \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8869098,"reputation":197,"user_id":6623300,"display_name":"djenning90"},"score":0,"creation_date":1572887984,"post_id":58422281,"comment_id":103692746,"body_markdown":"This design has a minor but real downside: If the app quits unexpectedly, the pid file won&#39;t be deleted. There exists the possibility that on a subsequent run that some other running process may be running that by coincidence has the same pid as in the pid file, and the program will not run. You&#39;d have to delete the pid file first.","body":"This design has a minor but real downside: If the app quits unexpectedly, the pid file won&#39;t be deleted. There exists the possibility that on a subsequent run that some other running process may be running that by coincidence has the same pid as in the pid file, and the program will not run. You&#39;d have to delete the pid file first."}],"tags":[],"owner":{"account_id":8869098,"reputation":197,"user_id":6623300,"display_name":"djenning90"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1571263579,"creation_date":1571263579,"answer_id":58422281,"question_id":7036108,"body_markdown":"I struggled with this same problem for a while... none of the ideas presented here worked for me. In all cases, the lock (file, socket or otherwise) did not persist into the 2nd process instance, so the 2nd instance still ran.\r\n\r\nSo I decided to try an old school approach to simply crate a .pid file with the process id of the first process. Then any 2nd process would quit if it finds the .pid file, and also the process number specified in the file is confirmed to be still running. This approach worked for me.\r\n\r\nThere is a fair bit of code, which I provide here in full for your use... a complete solution.\r\n\r\n\tpackage common.environment;\r\n\t\r\n\timport org.apache.logging.log4j.LogManager;\r\n\timport org.apache.logging.log4j.Logger;\r\n\t\r\n\timport javax.annotation.Nonnull;\r\n\timport javax.annotation.Nullable;\r\n\timport java.io.*;\r\n\timport java.nio.charset.Charset;\r\n\t\r\n\tpublic class SingleAppInstance\r\n\t{\r\n\t\tprivate static final @Nonnull Logger log = LogManager.getLogger(SingleAppInstance.class.getName());\r\n\t\r\n\t\t/**\r\n\t\t * Enforces that only a single instance of the given component is running. This\r\n\t\t * is resilient to crashes, unexpected reboots and other forceful termination\r\n\t\t * scenarios.\r\n\t\t *\r\n\t\t * @param componentName = Name of this component, for disambiguation with other\r\n\t\t *   components that may run simultaneously with this one.\r\n\t\t * @return = true if the program is the only instance and is allowed to run.\r\n\t\t */\r\n\t\tpublic static boolean isOnlyInstanceOf(@Nonnull String componentName)\r\n\t\t{\r\n\t\t\tboolean result = false;\r\n\t\r\n\t\t\t// Make sure the directory exists\r\n\t\t\tString dirPath = getHomePath();\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tFileUtil.createDirectories(dirPath);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new RuntimeException(String.format(&quot;Unable to create directory: [%s]&quot;, dirPath));\r\n\t\t\t}\r\n\t\r\n\t\t\tFile pidFile = new File(dirPath, componentName + &quot;.pid&quot;);\r\n\t\r\n\t\t\t// Try to read a prior, existing pid from the pid file. Returns null if the file doesn&#39;t exist.\r\n\t\t\tString oldPid = FileUtil.readFile(pidFile);\r\n\t\r\n\t\t\t// See if such a process is running.\r\n\t\t\tif (oldPid != null &amp;&amp; ProcessChecker.isStillAllive(oldPid))\r\n\t\t\t{\r\n\t\t\t\tlog.error(String.format(&quot;An instance of %s is already running&quot;, componentName));\r\n\t\t\t}\r\n\t\t\t// If that process isn&#39;t running, create a new lock file for the current process.\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// Write current pid to the file.\r\n\t\t\t\tlong thisPid = ProcessHandle.current().pid();\r\n\t\t\t\tFileUtil.createFile(pidFile.getAbsolutePath(), String.valueOf(thisPid));\r\n\t\r\n\t\t\t\t// Try to be tidy. Note: This won&#39;t happen on exit if forcibly terminated, so we don&#39;t depend on it.\r\n\t\t\t\tpidFile.deleteOnExit();\r\n\t\r\n\t\t\t\tresult = true;\r\n\t\t\t}\r\n\t\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\r\n\t\tpublic static @Nonnull String getHomePath()\r\n\t\t{\r\n\t\t\t// Returns a path like C:/Users/Person/\r\n\t\t\treturn System.getProperty(&quot;user.home&quot;) + &quot;/&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass ProcessChecker\r\n\t{\r\n\t\tprivate static final @Nonnull Logger log = LogManager.getLogger(io.cpucoin.core.platform.ProcessChecker.class.getName());\r\n\t\r\n\t\tstatic boolean isStillAllive(@Nonnull String pidStr)\r\n\t\t{\r\n\t\t\tString OS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t\t\tString command;\r\n\t\t\tif (OS.contains(&quot;win&quot;))\r\n\t\t\t{\r\n\t\t\t\tlog.debug(&quot;Check alive Windows mode. Pid: [{}]&quot;, pidStr);\r\n\t\t\t\tcommand = &quot;cmd /c tasklist /FI \\&quot;PID eq &quot; + pidStr + &quot;\\&quot;&quot;;\r\n\t\t\t}\r\n\t\t\telse if (OS.contains(&quot;nix&quot;) || OS.contains(&quot;nux&quot;))\r\n\t\t\t{\r\n\t\t\t\tlog.debug(&quot;Check alive Linux/Unix mode. Pid: [{}]&quot;, pidStr);\r\n\t\t\t\tcommand = &quot;ps -p &quot; + pidStr;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlog.warn(&quot;Unsupported OS: Check alive for Pid: [{}] return false&quot;, pidStr);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn isProcessIdRunning(pidStr, command); // call generic implementation\r\n\t\t}\r\n\t\r\n\t\tprivate static boolean isProcessIdRunning(@Nonnull String pid, @Nonnull String command)\r\n\t\t{\r\n\t\t\tlog.debug(&quot;Command [{}]&quot;, command);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tRuntime rt = Runtime.getRuntime();\r\n\t\t\t\tProcess pr = rt.exec(command);\r\n\t\r\n\t\t\t\tInputStreamReader isReader = new InputStreamReader(pr.getInputStream());\r\n\t\t\t\tBufferedReader bReader = new BufferedReader(isReader);\r\n\t\t\t\tString strLine;\r\n\t\t\t\twhile ((strLine = bReader.readLine()) != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (strLine.contains(&quot; &quot; + pid + &quot; &quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tcatch (Exception ex)\r\n\t\t\t{\r\n\t\t\t\tlog.warn(&quot;Got exception using system command [{}].&quot;, command, ex);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass FileUtil\r\n\t{\r\n\t\tstatic void createDirectories(@Nonnull String dirPath) throws IOException\r\n\t\t{\r\n\t\t\tFile dir = new File(dirPath);\r\n\t\t\tif (dir.mkdirs())   /* If false, directories already exist so nothing to do. */\r\n\t\t\t{\r\n\t\t\t\tif (!dir.exists())\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new IOException(String.format(&quot;Failed to create directory (access permissions problem?): [%s]&quot;, dirPath));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tstatic void createFile(@Nonnull String fullPathToFile, @Nonnull String contents)\r\n\t\t{\r\n\t\t\ttry (PrintWriter writer = new PrintWriter(fullPathToFile, Charset.defaultCharset()))\r\n\t\t\t{\r\n\t\t\t\twriter.print(contents);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\tthrow new RuntimeException(String.format(&quot;Unable to create file at %s! %s&quot;, fullPathToFile, e.getMessage()), e);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tstatic @Nullable String readFile(@Nonnull File file)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\ttry (BufferedReader fileReader = new BufferedReader(new FileReader(file)))\r\n\t\t\t\t{\r\n\t\t\t\t\tStringBuilder result = new StringBuilder();\r\n\t\r\n\t\t\t\t\tString line;\r\n\t\t\t\t\twhile ((line = fileReader.readLine()) != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresult.append(line);\r\n\t\t\t\t\t\tif (fileReader.ready())\r\n\t\t\t\t\t\t\tresult.append(&quot;\\n&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn result.toString();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nTo use it, simply invoke it like this:\r\n\r\n    if (!SingleAppInstance.isOnlyInstanceOf(&quot;my-component&quot;))\r\n\t{\r\n\t\t// quit\r\n\t}\r\n\r\nI hope you find this helpful.","title":"Prevent launching multiple instances of a java application","body":"<p>I struggled with this same problem for a while... none of the ideas presented here worked for me. In all cases, the lock (file, socket or otherwise) did not persist into the 2nd process instance, so the 2nd instance still ran.</p>\n\n<p>So I decided to try an old school approach to simply crate a .pid file with the process id of the first process. Then any 2nd process would quit if it finds the .pid file, and also the process number specified in the file is confirmed to be still running. This approach worked for me.</p>\n\n<p>There is a fair bit of code, which I provide here in full for your use... a complete solution.</p>\n\n<pre><code>package common.environment;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport javax.annotation.Nonnull;\nimport javax.annotation.Nullable;\nimport java.io.*;\nimport java.nio.charset.Charset;\n\npublic class SingleAppInstance\n{\n    private static final @Nonnull Logger log = LogManager.getLogger(SingleAppInstance.class.getName());\n\n    /**\n     * Enforces that only a single instance of the given component is running. This\n     * is resilient to crashes, unexpected reboots and other forceful termination\n     * scenarios.\n     *\n     * @param componentName = Name of this component, for disambiguation with other\n     *   components that may run simultaneously with this one.\n     * @return = true if the program is the only instance and is allowed to run.\n     */\n    public static boolean isOnlyInstanceOf(@Nonnull String componentName)\n    {\n        boolean result = false;\n\n        // Make sure the directory exists\n        String dirPath = getHomePath();\n        try\n        {\n            FileUtil.createDirectories(dirPath);\n        }\n        catch (IOException e)\n        {\n            throw new RuntimeException(String.format(\"Unable to create directory: [%s]\", dirPath));\n        }\n\n        File pidFile = new File(dirPath, componentName + \".pid\");\n\n        // Try to read a prior, existing pid from the pid file. Returns null if the file doesn't exist.\n        String oldPid = FileUtil.readFile(pidFile);\n\n        // See if such a process is running.\n        if (oldPid != null &amp;&amp; ProcessChecker.isStillAllive(oldPid))\n        {\n            log.error(String.format(\"An instance of %s is already running\", componentName));\n        }\n        // If that process isn't running, create a new lock file for the current process.\n        else\n        {\n            // Write current pid to the file.\n            long thisPid = ProcessHandle.current().pid();\n            FileUtil.createFile(pidFile.getAbsolutePath(), String.valueOf(thisPid));\n\n            // Try to be tidy. Note: This won't happen on exit if forcibly terminated, so we don't depend on it.\n            pidFile.deleteOnExit();\n\n            result = true;\n        }\n\n        return result;\n    }\n\n    public static @Nonnull String getHomePath()\n    {\n        // Returns a path like C:/Users/Person/\n        return System.getProperty(\"user.home\") + \"/\";\n    }\n}\n\nclass ProcessChecker\n{\n    private static final @Nonnull Logger log = LogManager.getLogger(io.cpucoin.core.platform.ProcessChecker.class.getName());\n\n    static boolean isStillAllive(@Nonnull String pidStr)\n    {\n        String OS = System.getProperty(\"os.name\").toLowerCase();\n        String command;\n        if (OS.contains(\"win\"))\n        {\n            log.debug(\"Check alive Windows mode. Pid: [{}]\", pidStr);\n            command = \"cmd /c tasklist /FI \\\"PID eq \" + pidStr + \"\\\"\";\n        }\n        else if (OS.contains(\"nix\") || OS.contains(\"nux\"))\n        {\n            log.debug(\"Check alive Linux/Unix mode. Pid: [{}]\", pidStr);\n            command = \"ps -p \" + pidStr;\n        }\n        else\n        {\n            log.warn(\"Unsupported OS: Check alive for Pid: [{}] return false\", pidStr);\n            return false;\n        }\n        return isProcessIdRunning(pidStr, command); // call generic implementation\n    }\n\n    private static boolean isProcessIdRunning(@Nonnull String pid, @Nonnull String command)\n    {\n        log.debug(\"Command [{}]\", command);\n        try\n        {\n            Runtime rt = Runtime.getRuntime();\n            Process pr = rt.exec(command);\n\n            InputStreamReader isReader = new InputStreamReader(pr.getInputStream());\n            BufferedReader bReader = new BufferedReader(isReader);\n            String strLine;\n            while ((strLine = bReader.readLine()) != null)\n            {\n                if (strLine.contains(\" \" + pid + \" \"))\n                {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n        catch (Exception ex)\n        {\n            log.warn(\"Got exception using system command [{}].\", command, ex);\n            return true;\n        }\n    }\n}\n\nclass FileUtil\n{\n    static void createDirectories(@Nonnull String dirPath) throws IOException\n    {\n        File dir = new File(dirPath);\n        if (dir.mkdirs())   /* If false, directories already exist so nothing to do. */\n        {\n            if (!dir.exists())\n            {\n                throw new IOException(String.format(\"Failed to create directory (access permissions problem?): [%s]\", dirPath));\n            }\n        }\n    }\n\n    static void createFile(@Nonnull String fullPathToFile, @Nonnull String contents)\n    {\n        try (PrintWriter writer = new PrintWriter(fullPathToFile, Charset.defaultCharset()))\n        {\n            writer.print(contents);\n        }\n        catch (IOException e)\n        {\n            throw new RuntimeException(String.format(\"Unable to create file at %s! %s\", fullPathToFile, e.getMessage()), e);\n        }\n    }\n\n    static @Nullable String readFile(@Nonnull File file)\n    {\n        try\n        {\n            try (BufferedReader fileReader = new BufferedReader(new FileReader(file)))\n            {\n                StringBuilder result = new StringBuilder();\n\n                String line;\n                while ((line = fileReader.readLine()) != null)\n                {\n                    result.append(line);\n                    if (fileReader.ready())\n                        result.append(\"\\n\");\n                }\n                return result.toString();\n            }\n        }\n        catch (IOException e)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>To use it, simply invoke it like this:</p>\n\n<pre><code>if (!SingleAppInstance.isOnlyInstanceOf(\"my-component\"))\n{\n    // quit\n}\n</code></pre>\n\n<p>I hope you find this helpful.</p>\n"},{"tags":[],"owner":{"account_id":15573850,"reputation":1062,"user_id":11235449,"display_name":"NM Naufaldo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610784085,"creation_date":1610784085,"answer_id":65747595,"question_id":7036108,"body_markdown":"Finally I found really simple library to achieve this. You can you use [JUniqe][1].\r\n\r\n&gt; The JUnique library can be used to prevent a user to run at the same\r\n&gt; time more instances of the same Java application.\r\n\r\nThis is an example how to use it from the [documentation][2]\r\n\r\n    public static void main(String[] args) {\r\n    \tString appId = &quot;myapplicationid&quot;;\r\n    \tboolean alreadyRunning;\r\n    \ttry {\r\n    \t\tJUnique.acquireLock(appId);\r\n    \t\talreadyRunning = false;\r\n    \t} catch (AlreadyLockedException e) {\r\n    \t\talreadyRunning = true;\r\n    \t}\r\n    \tif (!alreadyRunning) {\r\n    \t\t// Start sequence here\r\n    \t}\r\n    }\r\n\r\n  [1]: https://mvnrepository.com/artifact/it.sauronsoftware/junique/1.0.4\r\n  [2]: http://sauronsoftware.it/projects/junique/manual.php","title":"Prevent launching multiple instances of a java application","body":"<p>Finally I found really simple library to achieve this. You can you use <a href=\"https://mvnrepository.com/artifact/it.sauronsoftware/junique/1.0.4\" rel=\"nofollow noreferrer\">JUniqe</a>.</p>\n<blockquote>\n<p>The JUnique library can be used to prevent a user to run at the same\ntime more instances of the same Java application.</p>\n</blockquote>\n<p>This is an example how to use it from the <a href=\"http://sauronsoftware.it/projects/junique/manual.php\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>public static void main(String[] args) {\n    String appId = &quot;myapplicationid&quot;;\n    boolean alreadyRunning;\n    try {\n        JUnique.acquireLock(appId);\n        alreadyRunning = false;\n    } catch (AlreadyLockedException e) {\n        alreadyRunning = true;\n    }\n    if (!alreadyRunning) {\n        // Start sequence here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155767,"reputation":988,"user_id":2668213,"accept_rate":41,"display_name":"Federico Destefanis"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656574461,"creation_date":1656574461,"answer_id":72811919,"question_id":7036108,"body_markdown":"here is a pretty rudimental approach.\r\nIf your application is launched from a script, check the running java/javaw processes and their command line before launch\r\n\r\n\r\nIn windows\r\n\r\n    REM check if there is a javaw process running your.main.class\r\n    REM if found, go to the end of the script and skip the launch of a new instance\r\n \r\n    WMIC path win32_process WHERE &quot;Name=&#39;javaw.exe&#39;&quot; get CommandLine 2&gt;nul | findstr your.main.class &gt;nul 2&gt;&amp;1\r\n    if %ERRORLEVEL% EQU 0 goto:eof\r\n    javaw your.main.class","title":"Prevent launching multiple instances of a java application","body":"<p>here is a pretty rudimental approach.\nIf your application is launched from a script, check the running java/javaw processes and their command line before launch</p>\n<p>In windows</p>\n<pre><code>REM check if there is a javaw process running your.main.class\nREM if found, go to the end of the script and skip the launch of a new instance\n\nWMIC path win32_process WHERE &quot;Name='javaw.exe'&quot; get CommandLine 2&gt;nul | findstr your.main.class &gt;nul 2&gt;&amp;1\nif %ERRORLEVEL% EQU 0 goto:eof\njavaw your.main.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667175513,"creation_date":1667172611,"answer_id":74257460,"question_id":7036108,"body_markdown":"# Simple lock and advanced lock \r\nI developed 2 solutions for this problem. I was also looking for an easy way of doing this without using any libraries and a lot of code.\r\n\r\nMy solutions are based on: https://stackoverflow.com/a/46705579/10686802 which I have improved upon. Therefore I would like to thank [@akshaya pandey][1] and [@rbento][2]\r\n\r\n## Simple file lock\r\n\r\n    package YOUR_PACKAGE_NAME;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * Minimal reproducible example (MRE) - Example of a simple lock file.\r\n     * @author Remzi Cavdar - ict@remzi.info - &lt;a href=&quot;https://github.com/Remzi1993&quot;&gt;@Remzi1993&lt;/a&gt;\r\n     */\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            /*\r\n             * Prevents the user of starting multiple instances of the application.\r\n             * This is done by creating a temporary file in the app directory.\r\n             * The temp file should be excluded from git and is called App.lock in this example.\r\n             */\r\n            final File FILE = new File(&quot;App.lock&quot;);\r\n    \r\n            try {\r\n                if (FILE.createNewFile()) {\r\n                    System.out.println(&quot;Starting application&quot;);\r\n                } else {\r\n                    System.err.println(&quot;The application is already running!&quot;);\r\n                    return;\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            /*\r\n             * Register a shutdown hook to delete the lock file when the application is closed. Even when forcefully closed\r\n             * with the task manager. (Tested on Windows 11 with JavaFX 19)\r\n             */\r\n            FILE.deleteOnExit();\r\n            // Whatever your app is supposed to do\r\n        }\r\n    }\r\n\r\n## Advanced lock\r\n\r\n    package YOUR_PACKAGE_NAME;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.channels.FileChannel;\r\n    import java.nio.channels.FileLock;\r\n    \r\n    /**\r\n     * Minimal reproducible example (MRE) - Example of a more advanced lock system.\r\n     * @author Remzi Cavdar - ict@remzi.info - &lt;a href=&quot;https://github.com/Remzi1993&quot;&gt;@Remzi1993&lt;/a&gt;\r\n     */\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            /*\r\n             * Prevents the user of starting multiple instances of the application.\r\n             * This is done by creating a temporary file in the app directory.\r\n             * The temp file should be excluded from git and is called App.lock in this example.\r\n             */\r\n            final File FILE = new File(&quot;App.lock&quot;);\r\n    \r\n            if (FILE.exists()) {\r\n                System.err.println(&quot;The application is already running!&quot;);\r\n                return;\r\n            }\r\n    \r\n            try (\r\n                    FileOutputStream fileOutputStream = new FileOutputStream(FILE);\r\n                    FileChannel channel = fileOutputStream.getChannel();\r\n                    FileLock lock = channel.lock()\r\n            ) {\r\n                System.out.println(&quot;Starting application&quot;);\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            /*\r\n             * Register a shutdown hook to delete the lock file when the application is closed. Even when forcefully closed\r\n             * with the task manager. (Tested on Windows 11 with JavaFX 19)\r\n             */\r\n            FILE.deleteOnExit();\r\n            // Whatever your app is supposed to do\r\n        }\r\n    }\r\n\r\n## Testing\r\n- Tested on: **31-10-2022**\r\n- Tested OS: **Windows 11** - Version 21H2 (OS Build 22000.1098)\r\n- Tested with: **OpenJDK 19** - Eclipse Temurin JDK with Hotspot 19+36(x64)\r\n\r\nI closed the application and also forcefully closed the application with task manager on Windows both times the lock file seems to be deleted upon (force) close.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4484081/akshaya-pandey\r\n  [2]: https://stackoverflow.com/users/281815/rbento","title":"Prevent launching multiple instances of a java application","body":"<h1>Simple lock and advanced lock</h1>\n<p>I developed 2 solutions for this problem. I was also looking for an easy way of doing this without using any libraries and a lot of code.</p>\n<p>My solutions are based on: <a href=\"https://stackoverflow.com/a/46705579/10686802\">https://stackoverflow.com/a/46705579/10686802</a> which I have improved upon. Therefore I would like to thank <a href=\"https://stackoverflow.com/users/4484081/akshaya-pandey\">@akshaya pandey</a> and <a href=\"https://stackoverflow.com/users/281815/rbento\">@rbento</a></p>\n<h2>Simple file lock</h2>\n<pre><code>package YOUR_PACKAGE_NAME;\n\nimport java.io.File;\nimport java.io.IOException;\n\n/**\n * Minimal reproducible example (MRE) - Example of a simple lock file.\n * @author Remzi Cavdar - ict@remzi.info - &lt;a href=&quot;https://github.com/Remzi1993&quot;&gt;@Remzi1993&lt;/a&gt;\n */\npublic class Main {\n    public static void main(String[] args) {\n        /*\n         * Prevents the user of starting multiple instances of the application.\n         * This is done by creating a temporary file in the app directory.\n         * The temp file should be excluded from git and is called App.lock in this example.\n         */\n        final File FILE = new File(&quot;App.lock&quot;);\n\n        try {\n            if (FILE.createNewFile()) {\n                System.out.println(&quot;Starting application&quot;);\n            } else {\n                System.err.println(&quot;The application is already running!&quot;);\n                return;\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        /*\n         * Register a shutdown hook to delete the lock file when the application is closed. Even when forcefully closed\n         * with the task manager. (Tested on Windows 11 with JavaFX 19)\n         */\n        FILE.deleteOnExit();\n        // Whatever your app is supposed to do\n    }\n}\n</code></pre>\n<h2>Advanced lock</h2>\n<pre><code>package YOUR_PACKAGE_NAME;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.channels.FileChannel;\nimport java.nio.channels.FileLock;\n\n/**\n * Minimal reproducible example (MRE) - Example of a more advanced lock system.\n * @author Remzi Cavdar - ict@remzi.info - &lt;a href=&quot;https://github.com/Remzi1993&quot;&gt;@Remzi1993&lt;/a&gt;\n */\npublic class Main {\n    public static void main(String[] args) {\n        /*\n         * Prevents the user of starting multiple instances of the application.\n         * This is done by creating a temporary file in the app directory.\n         * The temp file should be excluded from git and is called App.lock in this example.\n         */\n        final File FILE = new File(&quot;App.lock&quot;);\n\n        if (FILE.exists()) {\n            System.err.println(&quot;The application is already running!&quot;);\n            return;\n        }\n\n        try (\n                FileOutputStream fileOutputStream = new FileOutputStream(FILE);\n                FileChannel channel = fileOutputStream.getChannel();\n                FileLock lock = channel.lock()\n        ) {\n            System.out.println(&quot;Starting application&quot;);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        /*\n         * Register a shutdown hook to delete the lock file when the application is closed. Even when forcefully closed\n         * with the task manager. (Tested on Windows 11 with JavaFX 19)\n         */\n        FILE.deleteOnExit();\n        // Whatever your app is supposed to do\n    }\n}\n</code></pre>\n<h2>Testing</h2>\n<ul>\n<li>Tested on: <strong>31-10-2022</strong></li>\n<li>Tested OS: <strong>Windows 11</strong> - Version 21H2 (OS Build 22000.1098)</li>\n<li>Tested with: <strong>OpenJDK 19</strong> - Eclipse Temurin JDK with Hotspot 19+36(x64)</li>\n</ul>\n<p>I closed the application and also forcefully closed the application with task manager on Windows both times the lock file seems to be deleted upon (force) close.</p>\n"}],"owner":{"account_id":346390,"reputation":1501,"user_id":679884,"accept_rate":50,"display_name":"Sathish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26066,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":13,"score":32,"last_activity_date":1667175513,"creation_date":1313128497,"question_id":7036108,"body_markdown":"I want to prevent the user from running my java application multiple times in parallel.\r\n\r\nTo prevent this, I have created a lock file when am opening the application, and delete the lock file when closing the application. \r\n\r\nWhen the application is running, you can not open an another instance of jar. However, if you kill the application through task manager, the window closing event in the application is not triggered and the lock file is not deleted.\r\n\r\nHow can I make sure the lock file method works or what other mechanism could I use?","title":"Prevent launching multiple instances of a java application","body":"<p>I want to prevent the user from running my java application multiple times in parallel.</p>\n\n<p>To prevent this, I have created a lock file when am opening the application, and delete the lock file when closing the application. </p>\n\n<p>When the application is running, you can not open an another instance of jar. However, if you kill the application through task manager, the window closing event in the application is not triggered and the lock file is not deleted.</p>\n\n<p>How can I make sure the lock file method works or what other mechanism could I use?</p>\n"},{"tags":["java","pgp"],"answers":[{"tags":[],"owner":{"account_id":14545237,"reputation":46,"user_id":10505648,"display_name":"Shinde Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1599288957,"creation_date":1599288957,"answer_id":63751282,"question_id":63560896,"body_markdown":"I&#39;m able to decrypt the file by modifing the following code.Hope it&#39;ll work for you.\r\n\r\n            @SuppressWarnings({ &quot;unchecked&quot;, &quot;unused&quot; })\r\n\t        public static void rsaDecryptFile(InputStream in, OutputStream out, \r\n            PGPPrivateKey priK)  {\r\n\t\ttry {\r\n\t\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n\t\t\t\r\n\t\t\tin = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n\t\t\tPGPObjectFactory pgpF = new PGPObjectFactory(in,new \r\n            JcaKeyFingerprintCalculator());\r\n\t\t\tPGPEncryptedDataList enc;\r\n\t\t\tObject o = pgpF.nextObject();\r\n\t\t\t//\r\n\t\t\t// the first object might be a PGP marker packet.\r\n\t\t\t//\r\n\t\t\tif (o instanceof PGPEncryptedDataList) {\r\n\t\t\t\tenc = (PGPEncryptedDataList) o;\r\n\t\t\t} else {\r\n\t\t\t\tenc = (PGPEncryptedDataList) pgpF.nextObject();\r\n\t\t\t}\r\n\r\n\t\t\t//\r\n\t\t\t// find the secret key\r\n\t\t\t//\r\n\t\t\t//Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n\t\t\tPGPPrivateKey sKey = null;\r\n\t\t\tPGPPublicKeyEncryptedData pbe = null;\r\n\r\n\t\t\twhile (sKey == null /*&amp;&amp; it.hasNext()*/) {\r\n\t\t\t\t//pbe = it.next();\r\n\t\t\t\tpbe = (PGPPublicKeyEncryptedData)enc.getEncryptedDataObjects().next();\r\n\t\t\t\t//sKey = findSecretKey(pubK, pbe.getKeyID(), priK);\r\n\t\t\t\tsKey = priK;\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (sKey == null) throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n\t\t\t\r\n\t\t\tPublicKeyDataDecryptorFactory b = new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;)\r\n\t\t\t\t\t.setContentProvider(&quot;BC&quot;).build(sKey);\r\n\r\n\t\t\tInputStream clear = pbe.getDataStream(b);\r\n\t\t\tPGPObjectFactory plainFact = new PGPObjectFactory(clear,new JcaKeyFingerprintCalculator());\r\n\r\n\t\t\tObject message = plainFact.nextObject();\r\n\t\t\tSystem.out.println(&quot;Secret key info 3:: &quot; + pbe.getKeyID() + new Date());\r\n\t\t\tif (message instanceof PGPCompressedData) {\r\n\t\t\t\tPGPCompressedData cData = (PGPCompressedData) message;\r\n\t\t\t\tPGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream(),new JcaKeyFingerprintCalculator());\r\n\r\n\t\t\t\tmessage = pgpFact.nextObject();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (message instanceof PGPLiteralData) {\r\n\t\t\t\tPGPLiteralData ld = (PGPLiteralData) message;\r\n\t\t\t\tInputStream unc = ld.getInputStream();\r\n\t\t\t\tSystem.out.println(&quot;Unc d &quot; + unc.read());\r\n\t\t\t\tint ch;\r\n\t\t\t\t\r\n\t\t\t\twhile ((ch = unc.read()) &gt;= 0) { \r\n\t\t\t\t\tout.write(ch); \r\n\t\t\t\t\t}\r\n\t\t\t\t \r\n\t\t\t\t \r\n\r\n\t\t\t\t//FileUtils.copyInputStreamToFile(unc, new File(&quot;D:\\\\Development_Docs\\\\PGP\\\\Bulk\\\\target.txt&quot;));\r\n\r\n\t\t\t\t\r\n\t\t\t} else if (message instanceof PGPOnePassSignatureList) {\r\n\t\t\t\tthrow new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (pbe.isIntegrityProtected()) {\r\n\t\t\t\tif (!pbe.verify()) {\r\n\t\t\t\t\tthrow new PGPException(&quot;Message failed integrity check&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch (PGPException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}","title":"How to Extract PGP public key and PGP Private key from JKS File and to Decrypt a pgp Encrypted Message?","body":"<p>I'm able to decrypt the file by modifing the following code.Hope it'll work for you.</p>\n<pre><code>        @SuppressWarnings({ &quot;unchecked&quot;, &quot;unused&quot; })\n        public static void rsaDecryptFile(InputStream in, OutputStream out, \n        PGPPrivateKey priK)  {\n    try {\n        Security.addProvider(new BouncyCastleProvider());\n        \n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n        PGPObjectFactory pgpF = new PGPObjectFactory(in,new \n        JcaKeyFingerprintCalculator());\n        PGPEncryptedDataList enc;\n        Object o = pgpF.nextObject();\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n        //\n        // find the secret key\n        //\n        //Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n\n        while (sKey == null /*&amp;&amp; it.hasNext()*/) {\n            //pbe = it.next();\n            pbe = (PGPPublicKeyEncryptedData)enc.getEncryptedDataObjects().next();\n            //sKey = findSecretKey(pubK, pbe.getKeyID(), priK);\n            sKey = priK;\n            \n\n        }\n\n        if (sKey == null) throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\n        \n        PublicKeyDataDecryptorFactory b = new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;)\n                .setContentProvider(&quot;BC&quot;).build(sKey);\n\n        InputStream clear = pbe.getDataStream(b);\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear,new JcaKeyFingerprintCalculator());\n\n        Object message = plainFact.nextObject();\n        System.out.println(&quot;Secret key info 3:: &quot; + pbe.getKeyID() + new Date());\n        if (message instanceof PGPCompressedData) {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            PGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream(),new JcaKeyFingerprintCalculator());\n\n            message = pgpFact.nextObject();\n        }\n        \n        if (message instanceof PGPLiteralData) {\n            PGPLiteralData ld = (PGPLiteralData) message;\n            InputStream unc = ld.getInputStream();\n            System.out.println(&quot;Unc d &quot; + unc.read());\n            int ch;\n            \n            while ((ch = unc.read()) &gt;= 0) { \n                out.write(ch); \n                }\n             \n             \n\n            //FileUtils.copyInputStreamToFile(unc, new File(&quot;D:\\\\Development_Docs\\\\PGP\\\\Bulk\\\\target.txt&quot;));\n\n            \n        } else if (message instanceof PGPOnePassSignatureList) {\n            throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\n        } else {\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n        }\n        \n\n        if (pbe.isIntegrityProtected()) {\n            if (!pbe.verify()) {\n                throw new PGPException(&quot;Message failed integrity check&quot;);\n            }\n        }\n        \n        \n    }catch (PGPException e) {\n        // TODO: handle exception\n        e.printStackTrace();\n    }catch (Exception e) {\n        // TODO: handle exception\n        e.printStackTrace();\n    }\n    \n    \n}\n</code></pre>\n"}],"owner":{"account_id":4765386,"reputation":367,"user_id":3851607,"accept_rate":50,"display_name":"Ajay Ganvir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63751282,"answer_count":1,"score":0,"last_activity_date":1667174853,"creation_date":1598271418,"question_id":63560896,"body_markdown":"I have the following code for decrypting a PGP encrypted  Private Key Message.\r\n\r\n        KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n        File file = new file(&quot;abc.txt&quot;);\r\n        ks.load(new FileInputStream(&quot;abc.jks&quot;), &quot;******&quot;.toCharArray());\r\n        KeyStore.PrivateKeyEntry keyEntry =(KeyStore.PrivateKeyEntry) ks.getEntry(&quot;abcd&quot;, new KeyStore.PasswordProtection(&quot;******&quot;.toCharArray()));\r\n        PrivateKey k = keyEntry.getPrivateKey();\r\n        CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        FileInputStream is = new FileInputStream (&quot;ght.cer&quot;);\r\n        X509Certificate cer = (X509Certificate) fact.generateCertificate(is);\r\n        PublicKey NPCIPubKey = cer.getPublicKey();\r\n    \r\n        byte[] bt = new byte[(int)file.length()];\r\n        FileInputStream fis = new FileInputStream(file);\r\n        fis.read(bt);\r\n        PGPPublicKey pk1 = new JcaPGPKeyConverter().getPGPPublicKey(PGPPublicKey.RSA_GENERAL, NPCIPubKey, new Date());\r\n        PGPPrivateKey prik = new JcaPGPKeyConverter().getPGPPrivateKey(pk1, k);\r\n        DecClass dec = new DecClass();\r\n        dec.rsaDecryptFile(fis,prik);&#39;\r\n\r\nDecryption Class :\r\n   \r\n\r\n    public class DecClass {\r\n    \r\n    \tpublic void rsaDecryptFile(InputStream in,  PGPPrivateKey priK)  {\r\n    \t\ttry {\r\n    \t\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t\t\t\r\n    \t\t\tin = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n    \t\t\tPGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n    \t\t\tPGPEncryptedDataList enc;\r\n    \t\t\tObject o = pgpF.nextObject();\r\n    \t\t\t//\r\n    \t\t\t// the first object might be a PGP marker packet.\r\n    \t\t\t//\r\n    \t\t\tif (o instanceof PGPEncryptedDataList) {\r\n    \t\t\t\tenc = (PGPEncryptedDataList) o;\r\n    \t\t\t} else {\r\n    \t\t\t\tenc = (PGPEncryptedDataList) pgpF.nextObject();\r\n    \t\t\t}                        \r\n    \r\n                            Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n    \t\t\tPGPPrivateKey sKey = null;\r\n    \t\t\tPGPPublicKeyEncryptedData pbe = null;\r\n    \r\n    \t\t\twhile (sKey == null &amp;&amp; it.hasNext()) {\r\n    \t\t\t\tpbe = it.next();\r\n    \t\t\t\tsKey = priK;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (sKey == null) {\r\n    \t\t\t\tthrow new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tPublicKeyDataDecryptorFactory b = new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;)\r\n    \t\t\t\t\t.setContentProvider(&quot;BC&quot;).build(sKey);\r\n    \r\n    \t\t\tInputStream clear = pbe.getDataStream(b);\r\n    \t\t\tPGPObjectFactory plainFact = new PGPObjectFactory(clear,new BcKeyFingerprintCalculator());\r\n    \r\n    \t\t\tObject message = plainFact.nextObject();\r\n    \t\t\tSystem.out.println(&quot;Secret key info 3:: &quot; + pbe.getKeyID() + new Date());\r\n    \t\t\tif (message instanceof PGPCompressedData) {\r\n    \t\t\t\tPGPCompressedData cData = (PGPCompressedData) message;\r\n    \t\t\t\tPGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream(),new BcKeyFingerprintCalculator());\r\n    \t\t\t\tmessage = pgpFact.nextObject();\r\n    \t\t\t}\t\t\t\r\n    \t\t\tif (message instanceof PGPLiteralData) {\r\n    \t\t\t\tPGPLiteralData ld = (PGPLiteralData) message;\r\n    \t\t\t\tInputStream unc = ld.getInputStream();\r\n    \t\t\t\tint ch;\t\t\t\t\r\n    \t\t\t\tFileUtils.copyInputStreamToFile(unc, new File(&quot;D:\\\\Development_Docs\\\\PGP\\\\Bulk\\\\target.txt&quot;));\r\n    \t\t\t\t\r\n    \t\t\t} else if (message instanceof PGPOnePassSignatureList) {\r\n    \t\t\t\tthrow new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\r\n    \t\t\t}if (pbe.isIntegrityProtected()) {\r\n    \t\t\t\tif (!pbe.verify()) {\r\n    \t\t\t\t\tthrow new PGPException(&quot;Message failed integrity check&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\t\t\t\r\n    \t\t}catch (PGPException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\nBut am getting null pointer exception in `Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();` line in `DecClass` `rsaDecryptFile` Method.While debugging value of PGPEncryptedDataList  `enc` is coming null. Am not able to trace the source of the exception. Please advise on how can i resolve this exception and get the code to work. Please find below snippet of my input encrypted message\r\n\r\n    -----BEGIN PGP MESSAGE-----\r\n    Version: BCPG v1.47\r\n    \r\n    hQEMAxVcH36ac1ahAQf/UMvfmBxIEtGOcIzovhcQ8WTojB06oF8/8i5lv6iz3EEj\r\n    vIceEWSHdeCJuYSemPaiIrccOOfGFqZodg6a7IQhjG0WcuSg5F4a/Pn/7KxKqB9n\r\n    OoHwmpX0+Pbm1Y2mNAj3LN9KtK3\r\n    -----END PGP MESSAGE-----\r\n\r\n","title":"How to Extract PGP public key and PGP Private key from JKS File and to Decrypt a pgp Encrypted Message?","body":"<p>I have the following code for decrypting a PGP encrypted  Private Key Message.</p>\n<pre><code>    KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\n    File file = new file(&quot;abc.txt&quot;);\n    ks.load(new FileInputStream(&quot;abc.jks&quot;), &quot;******&quot;.toCharArray());\n    KeyStore.PrivateKeyEntry keyEntry =(KeyStore.PrivateKeyEntry) ks.getEntry(&quot;abcd&quot;, new KeyStore.PasswordProtection(&quot;******&quot;.toCharArray()));\n    PrivateKey k = keyEntry.getPrivateKey();\n    CertificateFactory fact = CertificateFactory.getInstance(&quot;X.509&quot;);\n    FileInputStream is = new FileInputStream (&quot;ght.cer&quot;);\n    X509Certificate cer = (X509Certificate) fact.generateCertificate(is);\n    PublicKey NPCIPubKey = cer.getPublicKey();\n\n    byte[] bt = new byte[(int)file.length()];\n    FileInputStream fis = new FileInputStream(file);\n    fis.read(bt);\n    PGPPublicKey pk1 = new JcaPGPKeyConverter().getPGPPublicKey(PGPPublicKey.RSA_GENERAL, NPCIPubKey, new Date());\n    PGPPrivateKey prik = new JcaPGPKeyConverter().getPGPPrivateKey(pk1, k);\n    DecClass dec = new DecClass();\n    dec.rsaDecryptFile(fis,prik);'\n</code></pre>\n<p>Decryption Class :</p>\n<pre><code>public class DecClass {\n\n    public void rsaDecryptFile(InputStream in,  PGPPrivateKey priK)  {\n        try {\n            Security.addProvider(new BouncyCastleProvider());\n            \n            in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\n            PGPEncryptedDataList enc;\n            Object o = pgpF.nextObject();\n            //\n            // the first object might be a PGP marker packet.\n            //\n            if (o instanceof PGPEncryptedDataList) {\n                enc = (PGPEncryptedDataList) o;\n            } else {\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\n            }                        \n\n                        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n            PGPPrivateKey sKey = null;\n            PGPPublicKeyEncryptedData pbe = null;\n\n            while (sKey == null &amp;&amp; it.hasNext()) {\n                pbe = it.next();\n                sKey = priK;\n            }\n\n            if (sKey == null) {\n                throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\n            }\n            \n            PublicKeyDataDecryptorFactory b = new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;)\n                    .setContentProvider(&quot;BC&quot;).build(sKey);\n\n            InputStream clear = pbe.getDataStream(b);\n            PGPObjectFactory plainFact = new PGPObjectFactory(clear,new BcKeyFingerprintCalculator());\n\n            Object message = plainFact.nextObject();\n            System.out.println(&quot;Secret key info 3:: &quot; + pbe.getKeyID() + new Date());\n            if (message instanceof PGPCompressedData) {\n                PGPCompressedData cData = (PGPCompressedData) message;\n                PGPObjectFactory pgpFact = new PGPObjectFactory(cData.getDataStream(),new BcKeyFingerprintCalculator());\n                message = pgpFact.nextObject();\n            }           \n            if (message instanceof PGPLiteralData) {\n                PGPLiteralData ld = (PGPLiteralData) message;\n                InputStream unc = ld.getInputStream();\n                int ch;             \n                FileUtils.copyInputStreamToFile(unc, new File(&quot;D:\\\\Development_Docs\\\\PGP\\\\Bulk\\\\target.txt&quot;));\n                \n            } else if (message instanceof PGPOnePassSignatureList) {\n                throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\n            } else {\n                throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n            }if (pbe.isIntegrityProtected()) {\n                if (!pbe.verify()) {\n                    throw new PGPException(&quot;Message failed integrity check&quot;);\n                }\n            }           \n        }catch (PGPException e) {\n            e.printStackTrace();\n        }catch (Exception e) {\n            e.printStackTrace();\n        }   \n    }\n}\n</code></pre>\n<p>But am getting null pointer exception in <code>Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();</code> line in <code>DecClass</code> <code>rsaDecryptFile</code> Method.While debugging value of PGPEncryptedDataList  <code>enc</code> is coming null. Am not able to trace the source of the exception. Please advise on how can i resolve this exception and get the code to work. Please find below snippet of my input encrypted message</p>\n<pre><code>-----BEGIN PGP MESSAGE-----\nVersion: BCPG v1.47\n\nhQEMAxVcH36ac1ahAQf/UMvfmBxIEtGOcIzovhcQ8WTojB06oF8/8i5lv6iz3EEj\nvIceEWSHdeCJuYSemPaiIrccOOfGFqZodg6a7IQhjG0WcuSg5F4a/Pn/7KxKqB9n\nOoHwmpX0+Pbm1Y2mNAj3LN9KtK3\n-----END PGP MESSAGE-----\n</code></pre>\n"},{"tags":["java","for-loop","encryption","methods"],"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":1,"creation_date":1667164039,"post_id":74256702,"comment_id":131100500,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551). Also, when asking a code-related question, the very first tag you should add is one for the language you&#39;re using. Please [edit] your post to add your code as text, properly formatted as code, and the appropriate language tag.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>. Also, when asking a code-related question, the very first tag you should add is one for the language you&#39;re using. Please <a href=\"https://stackoverflow.com/posts/74256702/edit\">edit</a> your post to add your code as text, properly formatted as code, and the appropriate language tag."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667172695,"post_id":74256702,"comment_id":131101898,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":26779220,"reputation":1,"user_id":20374339,"display_name":"herb"},"score":0,"creation_date":1667306325,"post_id":74257564,"comment_id":131132671,"body_markdown":"Thanks for the reply, I was able to use some parts of your code and implement them in mine. Also helped me understand the math behind it a bit more. Thanks for the help, I greatly appreciate it.","body":"Thanks for the reply, I was able to use some parts of your code and implement them in mine. Also helped me understand the math behind it a bit more. Thanks for the help, I greatly appreciate it."}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667174117,"creation_date":1667174117,"answer_id":74257564,"question_id":74256702,"body_markdown":"Try this.\r\n\r\n    static String encrypt(int ch, int base) {\r\n        return Integer.toString((ch - base + 1) * 10 + 4);\r\n    }\r\n\r\n    static String encrypt(int ch) {\r\n        if (Character.isLowerCase(ch))\r\n            return encrypt(ch, &#39;a&#39;);\r\n        else if (Character.isUpperCase(ch))\r\n            return encrypt(ch, &#39;A&#39;);\r\n        else if (Character.isDigit(ch))\r\n            return Character.toString(ch);\r\n        else if (Character.isWhitespace(ch))\r\n            return &quot;&gt;&quot;;\r\n        return Integer.toString(ch);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        &quot;Flowers 4 You&quot;.codePoints()\r\n            .forEach(ch -&gt; System.out.print(encrypt(ch) + &quot; &quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    64 124 154 234 54 184 194 &gt; 4 &gt; 254 154 214 ","title":"Encryption code that converts strings to integers","body":"<p>Try this.</p>\n<pre><code>static String encrypt(int ch, int base) {\n    return Integer.toString((ch - base + 1) * 10 + 4);\n}\n\nstatic String encrypt(int ch) {\n    if (Character.isLowerCase(ch))\n        return encrypt(ch, 'a');\n    else if (Character.isUpperCase(ch))\n        return encrypt(ch, 'A');\n    else if (Character.isDigit(ch))\n        return Character.toString(ch);\n    else if (Character.isWhitespace(ch))\n        return &quot;&gt;&quot;;\n    return Integer.toString(ch);\n}\n\npublic static void main(String[] args) {\n    &quot;Flowers 4 You&quot;.codePoints()\n        .forEach(ch -&gt; System.out.print(encrypt(ch) + &quot; &quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>64 124 154 234 54 184 194 &gt; 4 &gt; 254 154 214 \n</code></pre>\n"}],"owner":{"account_id":26779220,"reputation":1,"user_id":20374339,"display_name":"herb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667174117,"creation_date":1667163305,"question_id":74256702,"body_markdown":"The rule for the encryption goes:\r\nEncrypted Digit = letter order * 10 + 4.  For example, A is 14, B is 24, C is 34, etc.\r\n\r\nI have to write a program where the user inputs a string and the program outputs said string using the encryption. \r\n\r\nEx. \r\nInput: Flowers 4 You \r\nOutput:  64 74 154 244 54 184 194 &gt; 4 &gt; 254 154 214\r\n\r\nFYI, I am a very early beginner programmer, I started about 2 months ago and I&#39;m following this course online and need help with this program Ive been stuck on. The spaces must be &gt; and any number input must output as that same number. I&#39;ve gone far enough to be able to encrypt any letter, but not much else. I preferably want to use a for loop and 2 separate methods for getting a String input, and one for the encryption of the string. Any suggestions would be greatly appreciated.\r\n\r\n\r\n  ","title":"Encryption code that converts strings to integers","body":"<p>The rule for the encryption goes:\nEncrypted Digit = letter order * 10 + 4.  For example, A is 14, B is 24, C is 34, etc.</p>\n<p>I have to write a program where the user inputs a string and the program outputs said string using the encryption.</p>\n<p>Ex.\nInput: Flowers 4 You\nOutput:  64 74 154 244 54 184 194 &gt; 4 &gt; 254 154 214</p>\n<p>FYI, I am a very early beginner programmer, I started about 2 months ago and I'm following this course online and need help with this program Ive been stuck on. The spaces must be &gt; and any number input must output as that same number. I've gone far enough to be able to encrypt any letter, but not much else. I preferably want to use a for loop and 2 separate methods for getting a String input, and one for the encryption of the string. Any suggestions would be greatly appreciated.</p>\n"},{"tags":["java","hibernate","jhipster","jdl"],"answers":[{"tags":[],"owner":{"account_id":1178881,"reputation":389,"user_id":1649076,"accept_rate":100,"display_name":"juwi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667173653,"creation_date":1667173653,"answer_id":74257537,"question_id":74256608,"body_markdown":"After some digging in the generated code I figured out that the Gnerated Repository Class was empty so I went about creating corresponding methods in it. However a JPA Query still threw an error but a native query did the trick. \r\nSo now I am wondering why jHipster did not generate the code, likewise I wonder why JPA is unable to correctly build the query. I am however fairly confident that I will find the answer tothe latter issue at least. ","title":"OneToMany relationship generated with JHipster causes Exceptions","body":"<p>After some digging in the generated code I figured out that the Gnerated Repository Class was empty so I went about creating corresponding methods in it. However a JPA Query still threw an error but a native query did the trick.\nSo now I am wondering why jHipster did not generate the code, likewise I wonder why JPA is unable to correctly build the query. I am however fairly confident that I will find the answer tothe latter issue at least.</p>\n"}],"owner":{"account_id":1178881,"reputation":389,"user_id":1649076,"accept_rate":100,"display_name":"juwi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74257537,"answer_count":1,"score":0,"last_activity_date":1667173653,"creation_date":1667162515,"question_id":74256608,"body_markdown":"I have written the following JDL:\r\n\r\n    enter code here\r\n\r\n    entity A {\r\n      name String required\r\n    }\r\n\r\n    entity B {\r\n      name String unique required,\r\n    }\r\n\r\n    relationship OneToMany {\r\n      B{children} to A{owner}\r\n    }\r\n\r\n    application {\r\n      config {\r\n        applicationType monolith\r\n        databaseType sql\r\n      }\r\n      entities *\r\n      dto * with mapstruct\r\n      service * with serviceClass\r\n    }\r\n\r\nHowever the code generated throws the following:\r\n\r\n&gt; /src/main/java/foo/service/mapper/A.java:13: Warnung: Unmapped target children: &quot;children, removeChildren&quot;. Mapping from property &quot;BDTO owner&quot; to &quot;B owner&quot;. Occured at &#39;E toEntity(D dto)&#39; in &#39;EntityMapper&#39;.\r\npublic interface A extends EntityMapper&lt;ADTO, A&gt; {\r\n       ^\r\n/src/main/java/foo/service/mapper/AMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Mapping from property &quot;BDTO owner&quot; to &quot;B owner&quot;. Occured at &#39;void partialUpdate(E entity, D dto)&#39; in &#39;EntityMapper&#39;.\r\npublic interface AMapper extends EntityMapper&lt;ADTO, A&gt; {\r\n       ^\r\n/src/main/java/foo/service/mapper/BMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Occured at &#39;E toEntity(D dto)&#39; in &#39;EntityMapper&#39;.\r\npublic interface BMapper extends EntityMapper&lt;BDTO, B&gt; {\r\n       ^\r\n/src/main/java/foo/service/mapper/BMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Occured at &#39;void partialUpdate(E entity, D dto)&#39; in &#39;EntityMapper&#39;.\r\npublic interface ModelMapper extends EntityMapper&lt;BDTO, B&gt; {\r\n       ^\r\n4 Warnungen\r\n\r\n\r\nLikewise whne trying to access the corresponding endpoint, an exception is thrown from Hibernate:\r\n\r\n&gt; ERROR 30510 --- [  XNIO-1 task-3] foo.service.AService  : Exception in findAll() with cause = &#39;org.hibernate.exception.SQLGrammarException: could not prepare statement&#39; and exception = &#39;could not prepare statement; SQL [select a0_.id as id1_1_, a0_.name as name2_1_, a0_.owner_id as owner_id4_1_, a0_.value as value3_1_ from a a0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement&#39;\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select a0_.id as id1_1_, a0_.name as name2_1_, a0_.owner_id as owner_id4_1_, a0_.value as value3_1_ from a a0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at jdk.proxy3/jdk.proxy3.$Proxy200.findAll(Unknown Source)\r\n        at foo.service.AService.findAll(AService.java:88)\r\n        at foo.service.AService$$FastClassBySpringCGLIB$$4afc8e16.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n....\r\n\r\n\r\nNow my question would be what am I doing wrong here (or is it an issue with jHipster) and how could I approach fixing it?\r\n\r\nCheers","title":"OneToMany relationship generated with JHipster causes Exceptions","body":"<p>I have written the following JDL:</p>\n<pre><code>enter code here\n\nentity A {\n  name String required\n}\n\nentity B {\n  name String unique required,\n}\n\nrelationship OneToMany {\n  B{children} to A{owner}\n}\n\napplication {\n  config {\n    applicationType monolith\n    databaseType sql\n  }\n  entities *\n  dto * with mapstruct\n  service * with serviceClass\n}\n</code></pre>\n<p>However the code generated throws the following:</p>\n<blockquote>\n<p>/src/main/java/foo/service/mapper/A.java:13: Warnung: Unmapped target children: &quot;children, removeChildren&quot;. Mapping from property &quot;BDTO owner&quot; to &quot;B owner&quot;. Occured at 'E toEntity(D dto)' in 'EntityMapper'.\npublic interface A extends EntityMapper&lt;ADTO, A&gt; {\n^\n/src/main/java/foo/service/mapper/AMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Mapping from property &quot;BDTO owner&quot; to &quot;B owner&quot;. Occured at 'void partialUpdate(E entity, D dto)' in 'EntityMapper'.\npublic interface AMapper extends EntityMapper&lt;ADTO, A&gt; {\n^\n/src/main/java/foo/service/mapper/BMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Occured at 'E toEntity(D dto)' in 'EntityMapper'.\npublic interface BMapper extends EntityMapper&lt;BDTO, B&gt; {\n^\n/src/main/java/foo/service/mapper/BMapper.java:13: Warnung: Unmapped target properties: &quot;children, removeChildren&quot;. Occured at 'void partialUpdate(E entity, D dto)' in 'EntityMapper'.\npublic interface ModelMapper extends EntityMapper&lt;BDTO, B&gt; {\n^\n4 Warnungen</p>\n</blockquote>\n<p>Likewise whne trying to access the corresponding endpoint, an exception is thrown from Hibernate:</p>\n<blockquote>\n<p>ERROR 30510 --- [  XNIO-1 task-3] foo.service.AService  : Exception in findAll() with cause = 'org.hibernate.exception.SQLGrammarException: could not prepare statement' and exception = 'could not prepare statement; SQL [select a0_.id as id1_1_, a0_.name as name2_1_, a0_.owner_id as owner_id4_1_, a0_.value as value3_1_ from a a0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement'\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select a0_.id as id1_1_, a0_.name as name2_1_, a0_.owner_id as owner_id4_1_, a0_.value as value3_1_ from a a0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat jdk.proxy3/jdk.proxy3.$Proxy200.findAll(Unknown Source)\nat foo.service.AService.findAll(AService.java:88)\nat foo.service.AService$$FastClassBySpringCGLIB$$4afc8e16.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n....</p>\n</blockquote>\n<p>Now my question would be what am I doing wrong here (or is it an issue with jHipster) and how could I approach fixing it?</p>\n<p>Cheers</p>\n"},{"tags":["java","android","signal-processing","sensors"],"answers":[{"tags":[],"owner":{"account_id":3218351,"reputation":1279,"user_id":2716377,"accept_rate":72,"display_name":"Nicolas Mattia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377477272,"creation_date":1377476414,"answer_id":18435023,"question_id":18434934,"body_markdown":"As soon as the acceleration values do not change (or stay within a defined range) for some time (for instance 1 sec) you could assume that the user is in a steady position and store those values. If the values go out of that range, you can subtract the previously stored values from the new ones. That is assuming that you problem is gravity, and that you mean &quot;orientation invariant&quot;... right? \r\n\r\nFor a very simple case, where you just need the z-axis acceleration to have a peak:\r\n\r\n    x_wanted = 0\r\n    y_wanted = 0\r\n    z_wanted = 10\r\n\r\nYour user in a steady position, with the device tilted at 45 degrees:\r\n\r\n    x_rest = 0\r\n    y_rest = sin(45) g\r\n    z_rest = -cos(45) g\r\n\r\nand then brings the phone towards him, i.e z-axis (phone reference) being 10:\r\n\r\n    x_phone = x_measured - x_rest = (0) - 0                    = 0\r\n    y_phone = y_measured - y_rest = (sin(45)*g) - sin(45)*g    = 0\r\n    x_phone = z_measured - x_rest = (-cos(45)*g + 10) - (-cos(45)*g) = 10\r\n\r\n    ","title":"Algorithm advice for motion tracking with accelerometer","body":"<p>As soon as the acceleration values do not change (or stay within a defined range) for some time (for instance 1 sec) you could assume that the user is in a steady position and store those values. If the values go out of that range, you can subtract the previously stored values from the new ones. That is assuming that you problem is gravity, and that you mean \"orientation invariant\"... right? </p>\n\n<p>For a very simple case, where you just need the z-axis acceleration to have a peak:</p>\n\n<pre><code>x_wanted = 0\ny_wanted = 0\nz_wanted = 10\n</code></pre>\n\n<p>Your user in a steady position, with the device tilted at 45 degrees:</p>\n\n<pre><code>x_rest = 0\ny_rest = sin(45) g\nz_rest = -cos(45) g\n</code></pre>\n\n<p>and then brings the phone towards him, i.e z-axis (phone reference) being 10:</p>\n\n<pre><code>x_phone = x_measured - x_rest = (0) - 0                    = 0\ny_phone = y_measured - y_rest = (sin(45)*g) - sin(45)*g    = 0\nx_phone = z_measured - x_rest = (-cos(45)*g + 10) - (-cos(45)*g) = 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323673,"reputation":6506,"user_id":643821,"accept_rate":86,"display_name":"mattexx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377663126,"creation_date":1377663126,"answer_id":18479328,"question_id":18434934,"body_markdown":"It sounds like your problem is a basic transformation of coordinates. The first thing I would do is blow off the Cartesian coordinates in favor of [spherical coordinates][1]. The big advantage in doing this is the spherical radius (or vector magnitude, in cartesian-speak), which will be the same regardless of the orientation of the axes. The radius is calculated\r\n\r\n    r = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))\r\n\r\nA very simple way to normalize the two coordinate systems is to compare the radius of each as two time-series. This should at least eliminate a lot of the cruft, and might perform as well as you need in terms of motion identification.\r\n\r\nNow if you really want to compare the motions in all directions, maybe after you&#39;ve already found a candidate based on the radius time-series, look at [Euler angles][2]. You&#39;ll have to do some multivariate regression, but with three channels of data, three governing equations, three unknowns (alpha, beta, and gamma), and linear algebra, you can normalize all three channels in an unknown orientation back to your template orientation, and compare each channel individually.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spherical_coordinate_system\r\n  [2]: http://en.wikipedia.org/wiki/Euler_angles","title":"Algorithm advice for motion tracking with accelerometer","body":"<p>It sounds like your problem is a basic transformation of coordinates. The first thing I would do is blow off the Cartesian coordinates in favor of <a href=\"http://en.wikipedia.org/wiki/Spherical_coordinate_system\" rel=\"nofollow\">spherical coordinates</a>. The big advantage in doing this is the spherical radius (or vector magnitude, in cartesian-speak), which will be the same regardless of the orientation of the axes. The radius is calculated</p>\n\n<pre><code>r = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))\n</code></pre>\n\n<p>A very simple way to normalize the two coordinate systems is to compare the radius of each as two time-series. This should at least eliminate a lot of the cruft, and might perform as well as you need in terms of motion identification.</p>\n\n<p>Now if you really want to compare the motions in all directions, maybe after you've already found a candidate based on the radius time-series, look at <a href=\"http://en.wikipedia.org/wiki/Euler_angles\" rel=\"nofollow\">Euler angles</a>. You'll have to do some multivariate regression, but with three channels of data, three governing equations, three unknowns (alpha, beta, and gamma), and linear algebra, you can normalize all three channels in an unknown orientation back to your template orientation, and compare each channel individually.</p>\n"}],"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667172859,"creation_date":1377475482,"question_id":18434934,"body_markdown":"I&#39;m looking to detect some basic movement gestures using real-time accelerometer data (from the phone). My problem is that I need something generally &quot;rotation invariant&quot;.\r\n\r\nWhat I mean is that if user holds the phone upside down, then does a gesture, it won&#39;t be the same signal. Given a specific orientation, I know how to compare the real-time acc data to a given &quot;template&quot; of a gesture.\r\n\r\nBut what about for other orientations? E.g. the user holding the phone upside down (alright, this is easy as I can do the same basic comparison treating one axis as another) or harder yet, somewhere in-between?\r\n","title":"Algorithm advice for motion tracking with accelerometer","body":"<p>I'm looking to detect some basic movement gestures using real-time accelerometer data (from the phone). My problem is that I need something generally &quot;rotation invariant&quot;.</p>\n<p>What I mean is that if user holds the phone upside down, then does a gesture, it won't be the same signal. Given a specific orientation, I know how to compare the real-time acc data to a given &quot;template&quot; of a gesture.</p>\n<p>But what about for other orientations? E.g. the user holding the phone upside down (alright, this is easy as I can do the same basic comparison treating one axis as another) or harder yet, somewhere in-between?</p>\n"},{"tags":["java","xml","pom.xml","xmlstarlet"],"answers":[{"tags":[],"owner":{"account_id":6389780,"reputation":53,"user_id":7767582,"display_name":"RvT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667171825,"creation_date":1667171825,"answer_id":74257414,"question_id":73192098,"body_markdown":"Assuming that your input file _is_ formatted correctly (and not missing the closing `&gt;` for `&lt;version`, as in _both_ examples); I presume your question is:\r\n&gt; _How to get the `&lt;version&gt;` of a `&lt;project&gt;`-child, under a `&lt;projects&gt;`-parent_\r\n\r\nI would use something like:\r\n\r\n```sh\r\nxmlstarlet sel  \r\n  -N e=&quot;http://maven.apache.org/POM/4.0.0&quot; \\\r\n  -t -m &quot;/projects&quot; \\\r\n  -m &quot;e:project&quot; \\\r\n  -v &quot;e:build/e:plugins/e:plugin[e:artifactId=&#39;maven-surefire-plugin&#39;]/e:version&quot; \\\r\n  --break \\\r\n  -n file.xml\r\n```\r\n\r\n- `-N` for **n**amespace, using the letter `e` as a randomly chosen custom prefix for later use\r\n- `-t -m &quot;/projects&quot;` matches the outer `&lt;projects&gt;`-node  \r\n_(no custom namespace prefix yet)_\r\n- `-m &quot;e:project&quot;` matches all `&lt;project&gt;`-nodes, that have the specified namespace\r\n- `-v &quot;e:build/e:plugins/e:plugin[e:artifactId=&#39;maven-surefire-plugin&#39;]/e:version&quot;` gives the `&lt;version&gt;`-value, for all `&lt;project&gt;`-nodes that contain an `&lt;artifactId&gt;`-node with the &#39;maven-surefire-plugin&#39; content (text)\r\n- `--break` prevents newlines in the output for `&lt;project&gt;`-nodes without the specified `&lt;artifactId&gt;` (plugin)\r\n","title":"How to get value from a xml file if there are multiple tags with same namespace","body":"<p>Assuming that your input file <em>is</em> formatted correctly (and not missing the closing <code>&gt;</code> for <code>&lt;version</code>, as in <em>both</em> examples); I presume your question is:</p>\n<blockquote>\n<p><em>How to get the <code>&lt;version&gt;</code> of a <code>&lt;project&gt;</code>-child, under a <code>&lt;projects&gt;</code>-parent</em></p>\n</blockquote>\n<p>I would use something like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>xmlstarlet sel  \n  -N e=&quot;http://maven.apache.org/POM/4.0.0&quot; \\\n  -t -m &quot;/projects&quot; \\\n  -m &quot;e:project&quot; \\\n  -v &quot;e:build/e:plugins/e:plugin[e:artifactId='maven-surefire-plugin']/e:version&quot; \\\n  --break \\\n  -n file.xml\n</code></pre>\n<ul>\n<li><code>-N</code> for <strong>n</strong>amespace, using the letter <code>e</code> as a randomly chosen custom prefix for later use</li>\n<li><code>-t -m &quot;/projects&quot;</code> matches the outer <code>&lt;projects&gt;</code>-node<br />\n<em>(no custom namespace prefix yet)</em></li>\n<li><code>-m &quot;e:project&quot;</code> matches all <code>&lt;project&gt;</code>-nodes, that have the specified namespace</li>\n<li><code>-v &quot;e:build/e:plugins/e:plugin[e:artifactId='maven-surefire-plugin']/e:version&quot;</code> gives the <code>&lt;version&gt;</code>-value, for all <code>&lt;project&gt;</code>-nodes that contain an <code>&lt;artifactId&gt;</code>-node with the 'maven-surefire-plugin' content (text)</li>\n<li><code>--break</code> prevents newlines in the output for <code>&lt;project&gt;</code>-nodes without the specified <code>&lt;artifactId&gt;</code> (plugin)</li>\n</ul>\n"}],"owner":{"account_id":25628169,"reputation":1,"user_id":19398952,"display_name":"sacp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667171825,"creation_date":1659348419,"question_id":73192098,"body_markdown":"i want to get version of a maven surefire plugin from an effective pom file of maven.\r\nit looks like this a below xml file. It has multiple &lt;project&gt; under &lt;projects&gt; and i want to fetch plugin information out to get version information. \r\ni am able to get this information if just on project is present and no projects tag is present. using the below command.\r\n\r\n xmlstarlet sel -t -v &quot;_:project/_:build/_:plugins/_:plugin[_:artifactId=&#39;maven-surefire-plugin&#39;]/_:version&quot; epom.xml \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n         &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.22.0&lt;/version   \r\n    &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- ====================================================================== --&gt;\r\n    &lt;!--                                                                        --&gt;\r\n    &lt;!-- Generated by Maven Help Plugin on 2022-08-01T11:57:29+05:30            --&gt;\r\n    &lt;!-- See: http://maven.apache.org/plugins/maven-help-plugin/                --&gt;\r\n    &lt;!--                                                                        --&gt;\r\n    &lt;!-- \r\n\r\n    ====================================================================== --&gt;\r\n    &lt;projects&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    ..................\r\n        &lt;/project&gt;\r\n        \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.22.0&lt;/version   \r\n                &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;/project&gt;\r\n        &lt;/projects&gt;\r\n        \r\n        &lt;!-- end snippet --&gt;\r\n\r\n","title":"How to get value from a xml file if there are multiple tags with same namespace","body":"<p>i want to get version of a maven surefire plugin from an effective pom file of maven.\nit looks like this a below xml file. It has multiple  under  and i want to fetch plugin information out to get version information.\ni am able to get this information if just on project is present and no projects tag is present. using the below command.</p>\n<p>xmlstarlet sel -t -v &quot;<em>:project/</em>:build/<em>:plugins/</em>:plugin[<em>:artifactId='maven-surefire-plugin']/</em>:version&quot; epom.xml\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>     &lt;plugin&gt;\n &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n &lt;version&gt;2.22.0&lt;/version   \n&lt;/plugin&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!-- ====================================================================== --&gt;\n&lt;!--                                                                        --&gt;\n&lt;!-- Generated by Maven Help Plugin on 2022-08-01T11:57:29+05:30            --&gt;\n&lt;!-- See: http://maven.apache.org/plugins/maven-help-plugin/                --&gt;\n&lt;!--                                                                        --&gt;\n&lt;!-- \n\n====================================================================== --&gt;\n&lt;projects&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n..................\n    &lt;/project&gt;\n    \n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n               &lt;version&gt;2.22.0&lt;/version   \n            &lt;/plugin&gt;\n       &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;/project&gt;\n    &lt;/projects&gt;\n    \n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667170657,"post_id":74257306,"comment_id":131101609,"body_markdown":"At a guess, `f3.png` is not within the working directory/context, so your program can&#39;t load the icon.  Better to use [`ImageIO.read`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) as this will actually through an exception if the image can&#39;t can be read","body":"At a guess, <code>f3.png</code> is not within the working directory/context, so your program can&#39;t load the icon.  Better to use <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO.read</code></a> as this will actually through an exception if the image can&#39;t can be read"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667170696,"post_id":74257306,"comment_id":131101613,"body_markdown":"Try this here: https://stackoverflow.com/a/1614803/5841551","body":"Try this here: <a href=\"https://stackoverflow.com/a/1614803/5841551\">stackoverflow.com/a/1614803/5841551</a>"},{"owner":{"display_name":"user19596138"},"score":0,"creation_date":1667170747,"post_id":74257306,"comment_id":131101616,"body_markdown":"f3.png and the main file are in the same directory","body":"f3.png and the main file are in the same directory"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667170811,"post_id":74257306,"comment_id":131101625,"body_markdown":"Which means that you&#39;re using the wrong path to the image. Get it as a resource, and then use ImageIO.","body":"Which means that you&#39;re using the wrong path to the image. Get it as a resource, and then use ImageIO."},{"owner":{"display_name":"user19596138"},"score":0,"creation_date":1667170820,"post_id":74257306,"comment_id":131101626,"body_markdown":"I have tried that","body":"I have tried that"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667170821,"post_id":74257306,"comment_id":131101628,"body_markdown":"So, how do you fix this problem?  You could put in `System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;))` and then make sure that `f3.png` is in the same location.  This, however is not a suitable long term solution, as the working directory will change, a lot.  You&#39;re better off using embedded resources, how you do this will depended a lot on your IDE and build system, but basically it will ensure that the resource is available at runtime via a stable path","body":"So, how do you fix this problem?  You could put in <code>System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;))</code> and then make sure that <code>f3.png</code> is in the same location.  This, however is not a suitable long term solution, as the working directory will change, a lot.  You&#39;re better off using embedded resources, how you do this will depended a lot on your IDE and build system, but basically it will ensure that the resource is available at runtime via a stable path"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667171321,"post_id":74257306,"comment_id":131101687,"body_markdown":"Please look at [this answer](https://stackoverflow.com/a/20319007/) as well as [this answer](https://stackoverflow.com/a/58354541/522444)","body":"Please look at <a href=\"https://stackoverflow.com/a/20319007/\">this answer</a> as well as <a href=\"https://stackoverflow.com/a/58354541/522444\">this answer</a>"},{"owner":{"display_name":"user19596138"},"score":0,"creation_date":1667171526,"post_id":74257306,"comment_id":131101709,"body_markdown":"i figured it out, i had f3.png in the incorrect directory","body":"i figured it out, i had f3.png in the incorrect directory"},{"owner":{"display_name":"user19596138"},"score":0,"creation_date":1667219044,"post_id":74257306,"comment_id":131111078,"body_markdown":"I made it into a .jar and now it is not working","body":"I made it into a .jar and now it is not working"}],"owner":{"display_name":"user19596138"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667171101,"answer_count":0,"score":0,"last_activity_date":1667171217,"creation_date":1667170366,"question_id":74257306,"body_markdown":"I am making a java game and I am trying to set the JFrames icon to a file named f3.png and it is not working. hear is my code:\r\n```java\r\npackage t;\r\n\r\nimport java.awt.Image;\r\nimport java.awt.Toolkit;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class t {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tImage i = Toolkit.getDefaultToolkit().getImage(&quot;f3.png&quot;);\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setTitle(&quot;test&quot;);\r\n\t\tframe.setSize(600,600);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setIconImage(i);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI ran it and it still had the default icon","title":"can not set the jframes icon in java","body":"<p>I am making a java game and I am trying to set the JFrames icon to a file named f3.png and it is not working. hear is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package t;\n\nimport java.awt.Image;\nimport java.awt.Toolkit;\nimport java.io.IOException;\n\nimport javax.swing.JFrame;\n\npublic class t {\n\n    public static void main(String[] args) throws IOException {\n        Image i = Toolkit.getDefaultToolkit().getImage(&quot;f3.png&quot;);\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;test&quot;);\n        frame.setSize(600,600);\n        frame.setVisible(true);\n        frame.setResizable(false);\n        frame.setIconImage(i);\n    }\n}\n\n</code></pre>\n<p>I ran it and it still had the default icon</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1667170762,"post_id":74257327,"comment_id":131101622,"body_markdown":"finishAffinity() will finish all open activities","body":"finishAffinity() will finish all open activities"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667170872,"post_id":74257327,"comment_id":131101636,"body_markdown":"Perhaps this should be a single activity with three fragments (or composables).","body":"Perhaps this should be a single activity with three fragments (or composables)."}],"owner":{"account_id":26774126,"reputation":11,"user_id":20370018,"display_name":"xIssa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667170629,"creation_date":1667170629,"question_id":74257327,"body_markdown":"My app goes from Main Activity -&gt; 2nd Activity -&gt; Final Activity. \r\n\r\nI wish to create a button in Final Activity that will basically restart Main Activity like how the app was launched.\r\n\r\n\r\nI tried looking this question up but I couldn&#39;t find an answer that was appropriate.\r\n\r\nWould appreciate the help.\r\n\r\nThank you.","title":"How to create a &quot;Finish&quot; button that clears all previous information and launches main activity again","body":"<p>My app goes from Main Activity -&gt; 2nd Activity -&gt; Final Activity.</p>\n<p>I wish to create a button in Final Activity that will basically restart Main Activity like how the app was launched.</p>\n<p>I tried looking this question up but I couldn't find an answer that was appropriate.</p>\n<p>Would appreciate the help.</p>\n<p>Thank you.</p>\n"},{"tags":["java","windows","maven"],"comments":[{"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"score":1,"creation_date":1571170783,"post_id":58402007,"comment_id":103149151,"body_markdown":"It&#39;s not truncated - `..` means &quot;parent&quot; - so the path should be `C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\conf\\settings.xml`","body":"It&#39;s not truncated - <code>..</code> means &quot;parent&quot; - so the path should be <code>C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\conf\\&zwnj;&#8203;settings.xml</code>"},{"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":0,"creation_date":1571170954,"post_id":58402007,"comment_id":103149226,"body_markdown":"I guess i misunderstood the output. So its the path of the mvn binary followed immediately but the relative path of the global settings file? Is that always how it is displayed?","body":"I guess i misunderstood the output. So its the path of the mvn binary followed immediately but the relative path of the global settings file? Is that always how it is displayed?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1571171211,"post_id":58402007,"comment_id":103149336,"body_markdown":"The question is: Why do you need the path of the `settings.xml` file?","body":"The question is: Why do you need the path of the <code>settings.xml</code> file?"},{"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":0,"creation_date":1571171364,"post_id":58402007,"comment_id":103149394,"body_markdown":"because i need to edit my global setting.xml?","body":"because i need to edit my global setting.xml?"},{"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"score":0,"creation_date":1571173469,"post_id":58402007,"comment_id":103150195,"body_markdown":"@red888 it&#39;s `Reading global settings from C:\\Java\\maven\\bin\\..\\conf\\settings.xml` on my machine, so it looks like the default configuration does use the relative path.","body":"@red888 it&#39;s <code>Reading global settings from C:\\Java\\maven\\bin\\..\\conf\\settings.xml</code> on my machine, so it looks like the default configuration does use the relative path."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1571209723,"post_id":58402007,"comment_id":103159232,"body_markdown":"_Never_ edit your global settings file. Instead, put a `settings.xml` into the `.m2` directory in your home directory.","body":"<i>Never</i> edit your global settings file. Instead, put a <code>settings.xml</code> into the <code>.m2</code> directory in your home directory."}],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667170542,"creation_date":1571170244,"question_id":58402007,"body_markdown":"I installed Maven with Choco: `choco install maven`\r\n\r\nLooking for my global settings: \r\n\r\n    &gt; mvn -X\r\n    ...\r\n    Reading global settings from C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\\..\\conf\\settings.xml\r\n    ...\r\n\r\nHow do I get the full path? When I list the dir (before it&#39;s truncated) I see no child folders there:\r\n\r\n    &gt; ls C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\\\r\n    \r\n    \r\n        Directory: C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\r\n    \r\n    \r\n    Mode                LastWriteTime         Length Name\r\n    ----                -------------         ------ ----\r\n    ------          8/27/19   5:01 PM            228 m2.conf\r\n    ------          8/27/19   5:01 PM           5741 mvn\r\n    ------          8/27/19   5:01 PM           6349 mvn.cmd\r\n    ------          8/27/19   5:01 PM           1485 mvnDebug\r\n    ------          8/27/19   5:01 PM           1668 mvnDebug.cmd\r\n    ------          8/27/19   5:01 PM           1532 mvnyjp","title":"Maven truncating full path of global settings in output","body":"<p>I installed Maven with Choco: <code>choco install maven</code></p>\n<p>Looking for my global settings:</p>\n<pre><code>&gt; mvn -X\n...\nReading global settings from C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\\..\\conf\\settings.xml\n...\n</code></pre>\n<p>How do I get the full path? When I list the dir (before it's truncated) I see no child folders there:</p>\n<pre><code>&gt; ls C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\\\n\n\n    Directory: C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.6.2\\bin\n\n\nMode                LastWriteTime         Length Name\n----                -------------         ------ ----\n------          8/27/19   5:01 PM            228 m2.conf\n------          8/27/19   5:01 PM           5741 mvn\n------          8/27/19   5:01 PM           6349 mvn.cmd\n------          8/27/19   5:01 PM           1485 mvnDebug\n------          8/27/19   5:01 PM           1668 mvnDebug.cmd\n------          8/27/19   5:01 PM           1532 mvnyjp\n</code></pre>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1667170686,"post_id":74257283,"comment_id":131101612,"body_markdown":"Your error message is clear. You have invalid hibernate.cfg.xml witch can&#39;t be unmarshaled with jaxb. Look if You have some bad symbol on first place in your xml file. Often if you copy xml from some quelle with content you get some odd symbols","body":"Your error message is clear. You have invalid hibernate.cfg.xml witch can&#39;t be unmarshaled with jaxb. Look if You have some bad symbol on first place in your xml file. Often if you copy xml from some quelle with content you get some odd symbols"},{"owner":{"account_id":20674475,"reputation":21,"user_id":15179431,"display_name":"Frank Christian"},"score":0,"creation_date":1667237923,"post_id":74257283,"comment_id":131118176,"body_markdown":"It&#39;s not clear though? I looked and looked and there&#39;s no weird symbols or anything at the beginning of hibernate.cfg.xml","body":"It&#39;s not clear though? I looked and looked and there&#39;s no weird symbols or anything at the beginning of hibernate.cfg.xml"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1669027838,"post_id":74257283,"comment_id":131541547,"body_markdown":"Set a break point where the exception is thrown and try to understand what happens. Most likely, you simply have a small typo somewhere.","body":"Set a break point where the exception is thrown and try to understand what happens. Most likely, you simply have a small typo somewhere."}],"owner":{"account_id":20674475,"reputation":21,"user_id":15179431,"display_name":"Frank Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667170118,"creation_date":1667170064,"question_id":74257283,"body_markdown":"I&#39;m trying to run some JUnit tests on my program and I keep getting this exception in the title. I&#39;m a noobie at this kind of thing in programming and I barely know what I&#39;m doing. I&#39;ve tried changing some of the dependency versions, adding some I might be missing, and it&#39;s just error after error.\r\n\r\nI&#39;m trying to test the PCBuild DAO&#39;s getById method with JUnit. Let me know if I&#39;m missing any info. I would have loved to post more relevant code, but I keep getting hit with the &quot;this looks like spam&quot; filter, so sorry, I tried.\r\n\r\nhibernate.cfg.xml\r\n\r\n```\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot; ?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareViewer&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.User&quot;/&gt;\r\n        &lt;mapping class=&quot;entity.PcBuild&quot;/&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;(url I can&#39;t post here)&quot;\r\n      xsi:schemaLocation=&quot;(same here apparently)&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;5.1.39&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;maven-compiler-plugin-version&gt;3.7.0&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n    &lt;hibernate-core-version&gt;5.2.12.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.2.12.Final&lt;/hibernate-c3p0-version&gt;\r\n    &lt;javax-persistence-version&gt;2.2&lt;/javax-persistence-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax-persistence-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--  next 2 dependencies are for log4j  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- API, java.xml.bind module --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuild DAO class\r\n\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```","title":"org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml","body":"<p>I'm trying to run some JUnit tests on my program and I keep getting this exception in the title. I'm a noobie at this kind of thing in programming and I barely know what I'm doing. I've tried changing some of the dependency versions, adding some I might be missing, and it's just error after error.</p>\n<p>I'm trying to test the PCBuild DAO's getById method with JUnit. Let me know if I'm missing any info. I would have loved to post more relevant code, but I keep getting hit with the &quot;this looks like spam&quot; filter, so sorry, I tried.</p>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot; ?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareViewer&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.User&quot;/&gt;\n        &lt;mapping class=&quot;entity.PcBuild&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;(url I can't post here)&quot;\n      xsi:schemaLocation=&quot;(same here apparently)&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;5.1.39&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;maven-compiler-plugin-version&gt;3.7.0&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n    &lt;hibernate-core-version&gt;5.2.12.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.2.12.Final&lt;/hibernate-c3p0-version&gt;\n    &lt;javax-persistence-version&gt;2.2&lt;/javax-persistence-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax-persistence-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  next 2 dependencies are for log4j  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- API, java.xml.bind module --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Runtime, com.sun.xml.bind module --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuild DAO class</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","string","collections","integer","java-stream"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":3,"creation_date":1666974589,"post_id":74238258,"comment_id":131068969,"body_markdown":"The second one is not removing the white spaces, it&#39;s filtering the ones which are empty. Why don&#39;t you do a `String.replace`?","body":"The second one is not removing the white spaces, it&#39;s filtering the ones which are empty. Why don&#39;t you do a <code>String.replace</code>?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":3,"creation_date":1666975179,"post_id":74238258,"comment_id":131069155,"body_markdown":"Your methods don&#39;t make sense to me.  In the first one, you are passing a single item, adding it to a list and streaming it.  I suspect you want to pass a `List&lt;Integer&gt;`.  In the second, you can do what  @LeonardoEmmanueldeAzevedo suggested and use a `String.replace.`","body":"Your methods don&#39;t make sense to me.  In the first one, you are passing a single item, adding it to a list and streaming it.  I suspect you want to pass a <code>List&lt;Integer&gt;</code>.  In the second, you can do what  @LeonardoEmmanueldeAzevedo suggested and use a <code>String.replace.</code>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":4,"creation_date":1666975234,"post_id":74238258,"comment_id":131069168,"body_markdown":"Your `item` collection only has 1 element - `anz`, it&#39;s not possible to print other elements, if you don&#39;t add them in the first place.","body":"Your <code>item</code> collection only has 1 element - <code>anz</code>, it&#39;s not possible to print other elements, if you don&#39;t add them in the first place."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667226790,"post_id":74238258,"comment_id":131114054,"body_markdown":"…and even if there were other elements in `item`, the operation `.filter(i -&gt; anz % 3 == 0)` does not evaluate the item `i` but the invariant condition `anz % 3 == 0`, either removing all elements or keeping all elements. Further, there is no point in collecting all items to remove in a list, just to call `removeAll` on `item`. You can simply do a single `item.removeIf(…);` in the first place.","body":"…and even if there were other elements in <code>item</code>, the operation <code>.filter(i -&gt; anz % 3 == 0)</code> does not evaluate the item <code>i</code> but the invariant condition <code>anz % 3 == 0</code>, either removing all elements or keeping all elements. Further, there is no point in collecting all items to remove in a list, just to call <code>removeAll</code> on <code>item</code>. You can simply do a single <code>item.removeIf(…);</code> in the first place."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666978792,"creation_date":1666975557,"answer_id":74238467,"question_id":74238258,"body_markdown":"Note that in the first method,  you can do the following to simplify removal.\r\n\r\n```java\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15));\r\nlist.removeIf(element -&gt; element % 3 == 0);\r\nSystem.out.println(list);\r\n```\r\nprints:\r\n\r\n```none\r\n[1, 2, 4, 5, 7, 8, 10, 11, 13, 14]","title":"Remove specific elements with Streams","body":"<p>Note that in the first method,  you can do the following to simplify removal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15));\nlist.removeIf(element -&gt; element % 3 == 0);\nSystem.out.println(list);\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2, 4, 5, 7, 8, 10, 11, 13, 14]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666979654,"creation_date":1666979654,"answer_id":74239205,"question_id":74238258,"body_markdown":"Your methods should have some input parameters to represent sequences and return appropriate results instead of just printing them.\r\n\r\n* Sequence as `List&lt;Integer&gt;`:  \r\nremove divisibles by 3;  \r\n(optionally) ensure that the first number is 4;  \r\nexisting sequence not affected, new sequence is created and returned \r\n```java\r\npublic static List&lt;Integer&gt; removeDivisiblesBy3(List&lt;Integer&gt; seq) {\r\n    return seq.stream()\r\n        .dropWhile(x -&gt; x != 4)  // optionally ensure to start from 4\r\n        .filter(x -&gt; x % 3 != 0) // keep NOT divisible by 3\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n* Sequence as variable array of `int`s:\r\n```java\r\npublic static int[] removeDivisiblesBy3(int ... arr) {\r\n    return IntStream.of(arr)\r\n        .dropWhile(x -&gt; x != 4)  // optionally ensure to start from 4\r\n        .filter(x -&gt; x % 3 != 0) // keep NOT divisible by 3\r\n        .toArray();\r\n}\r\n```\r\n* Input sequence as `String`, output result - the string without spaces  \r\nAs mentioned in the comments it is enough to use `String::replaceAll` method to remove all unneeded _whitespace_ characters from the input string:\r\n```java\r\npublic static String deleteBlanks(String str) {\r\n    return str.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;); // delete all whitespace characters\r\n}\r\n```\r\n----\r\nTests:\r\n```\r\nSystem.out.println(removeDivisiblesBy3(Arrays.asList(1, 4, 6, 7, 9, 11, 12, 19, 22)));\r\nSystem.out.println(Arrays.toString(removeDivisiblesBy3(1, 4, 6, 7, 9, 11, 12, 19, 22)));\r\nSystem.out.println(deleteBlanks(&quot;Hello world, how are you?&quot;));\r\n```\r\nOutput:\r\n```\r\n[4, 7, 11, 19, 22]\r\n[4, 7, 11, 19, 22]\r\nHelloworld,howareyou?\r\n```","title":"Remove specific elements with Streams","body":"<p>Your methods should have some input parameters to represent sequences and return appropriate results instead of just printing them.</p>\n<ul>\n<li>Sequence as <code>List&lt;Integer&gt;</code>:<br />\nremove divisibles by 3;<br />\n(optionally) ensure that the first number is 4;<br />\nexisting sequence not affected, new sequence is created and returned</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; removeDivisiblesBy3(List&lt;Integer&gt; seq) {\n    return seq.stream()\n        .dropWhile(x -&gt; x != 4)  // optionally ensure to start from 4\n        .filter(x -&gt; x % 3 != 0) // keep NOT divisible by 3\n        .collect(Collectors.toList());\n}\n</code></pre>\n<ul>\n<li>Sequence as variable array of <code>int</code>s:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] removeDivisiblesBy3(int ... arr) {\n    return IntStream.of(arr)\n        .dropWhile(x -&gt; x != 4)  // optionally ensure to start from 4\n        .filter(x -&gt; x % 3 != 0) // keep NOT divisible by 3\n        .toArray();\n}\n</code></pre>\n<ul>\n<li>Input sequence as <code>String</code>, output result - the string without spaces<br />\nAs mentioned in the comments it is enough to use <code>String::replaceAll</code> method to remove all unneeded <em>whitespace</em> characters from the input string:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static String deleteBlanks(String str) {\n    return str.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;); // delete all whitespace characters\n}\n</code></pre>\n<hr />\n<p>Tests:</p>\n<pre><code>System.out.println(removeDivisiblesBy3(Arrays.asList(1, 4, 6, 7, 9, 11, 12, 19, 22)));\nSystem.out.println(Arrays.toString(removeDivisiblesBy3(1, 4, 6, 7, 9, 11, 12, 19, 22)));\nSystem.out.println(deleteBlanks(&quot;Hello world, how are you?&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>[4, 7, 11, 19, 22]\n[4, 7, 11, 19, 22]\nHelloworld,howareyou?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667010654,"creation_date":1667010311,"answer_id":74242425,"question_id":74238258,"body_markdown":"*You can try the below approach using stream:*\r\n\r\n**Logic:**\r\n\r\n1) I have used `filter` with a condition of element greater than 3 and element should not be divisible by 3.\r\n\r\n2) I have used regex for `replaceAll` spaces in the given string.\r\n\r\n**Code:**\r\n\r\n       public class Test {\r\n          public static void main(String[] args) {\r\n            System.out.println(getFilteredList(Arrays.asList(1,2,3,4,5,6,\r\n                                                7,8,9,10,11,12,13,14,15,16)));\r\n            System.out.println(deleteBlanks(&quot;Hello world, how are you?&quot;));\r\n           }\r\n    \r\n        private static List&lt;Integer&gt; getFilteredList(List&lt;Integer&gt; list) {\r\n            return list.stream().filter(x -&gt; x &gt; 3 &amp;&amp; x % 3 !=0)\r\n                                .collect(Collectors.toList());\r\n        }\r\n    \r\n        private static String deleteBlanks(String s) {\r\n            return s.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [4, 5, 7, 8, 10, 11, 13, 14, 16]\r\n    Helloworld,howareyou?","title":"Remove specific elements with Streams","body":"<p><em>You can try the below approach using stream:</em></p>\n<p><strong>Logic:</strong></p>\n<ol>\n<li><p>I have used <code>filter</code> with a condition of element greater than 3 and element should not be divisible by 3.</p>\n</li>\n<li><p>I have used regex for <code>replaceAll</code> spaces in the given string.</p>\n</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>   public class Test {\n      public static void main(String[] args) {\n        System.out.println(getFilteredList(Arrays.asList(1,2,3,4,5,6,\n                                            7,8,9,10,11,12,13,14,15,16)));\n        System.out.println(deleteBlanks(&quot;Hello world, how are you?&quot;));\n       }\n\n    private static List&lt;Integer&gt; getFilteredList(List&lt;Integer&gt; list) {\n        return list.stream().filter(x -&gt; x &gt; 3 &amp;&amp; x % 3 !=0)\n                            .collect(Collectors.toList());\n    }\n\n    private static String deleteBlanks(String s) {\n        return s.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[4, 5, 7, 8, 10, 11, 13, 14, 16]\nHelloworld,howareyou?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667169374,"creation_date":1667169374,"answer_id":74257239,"question_id":74238258,"body_markdown":"If you want to solve the second problem using Stream API:\r\n\r\n    static String deleteBlanks(String s) {\r\n        return s.chars()\r\n                .filter(ch -&gt; ch != &#39; &#39;)\r\n                .mapToObj(i -&gt; String.valueOf((char)i))\r\n                .collect(Collectors.joining());\r\n    }","title":"Remove specific elements with Streams","body":"<p>If you want to solve the second problem using Stream API:</p>\n<pre><code>static String deleteBlanks(String s) {\n    return s.chars()\n            .filter(ch -&gt; ch != ' ')\n            .mapToObj(i -&gt; String.valueOf((char)i))\n            .collect(Collectors.joining());\n}\n</code></pre>\n"}],"owner":{"account_id":26307847,"reputation":13,"user_id":19971974,"display_name":"haruka kudo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74238467,"answer_count":4,"score":-2,"last_activity_date":1667169374,"creation_date":1666974409,"question_id":74238258,"body_markdown":"I have these two methods where I want to remove specific elements. \r\n\r\nThe first one should return the following sequence of numbers: 4 5 7 8 10 11 13 14 ... The sequence contains no terms divisible by three. The sequence always starts at &quot;4&quot;. But in my case it always just prints the paramter from the method.\r\n\r\nThe second one should delete all spaces from the passed string s1 and outputs the result. (“Hello world, how are you” becomes “Helloworld,howareyou?”). But it in my case it doesn&#39;t delete the blanks.\r\n\r\n```\r\nstatic void printFolgenOhne3(int anz) {\r\n        List&lt;Integer&gt; item = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; remove;\r\n        item.add(anz);\r\n\r\n        remove = item.stream()\r\n                .filter(i -&gt; anz % 3 == 0)\r\n                .collect(Collectors.toList());\r\n        item.removeAll(remove);\r\n        item.forEach(System.out::println);\r\n    }\r\n\r\nstatic void deleteBlanks(String s1) {\r\n        List&lt;String&gt; elements = new ArrayList&lt;&gt;();\r\n        elements.add(s1);\r\n        List&lt;String&gt; deleted = elements\r\n                .stream()\r\n                .filter(x -&gt; !x.isBlank())\r\n                .collect(Collectors.toList());\r\n        System.out.println(deleted);\r\n    }","title":"Remove specific elements with Streams","body":"<p>I have these two methods where I want to remove specific elements.</p>\n<p>The first one should return the following sequence of numbers: 4 5 7 8 10 11 13 14 ... The sequence contains no terms divisible by three. The sequence always starts at &quot;4&quot;. But in my case it always just prints the paramter from the method.</p>\n<p>The second one should delete all spaces from the passed string s1 and outputs the result. (“Hello world, how are you” becomes “Helloworld,howareyou?”). But it in my case it doesn't delete the blanks.</p>\n<pre><code>static void printFolgenOhne3(int anz) {\n        List&lt;Integer&gt; item = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; remove;\n        item.add(anz);\n\n        remove = item.stream()\n                .filter(i -&gt; anz % 3 == 0)\n                .collect(Collectors.toList());\n        item.removeAll(remove);\n        item.forEach(System.out::println);\n    }\n\nstatic void deleteBlanks(String s1) {\n        List&lt;String&gt; elements = new ArrayList&lt;&gt;();\n        elements.add(s1);\n        List&lt;String&gt; deleted = elements\n                .stream()\n                .filter(x -&gt; !x.isBlank())\n                .collect(Collectors.toList());\n        System.out.println(deleted);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"score":0,"creation_date":1558530434,"post_id":56214991,"comment_id":99131572,"body_markdown":"`.antMatchers(&quot;/user/*&quot;).hasRole(&quot;admin&quot;)`\n`.antMatchers(&quot;/admin*&quot;).hasRole(&quot;user&quot;)` They&#39;re reversed, aren&#39;t they?","body":"<code>.antMatchers(&quot;&#47;user&#47;*&quot;).hasRole(&quot;admin&quot;)</code> <code>.antMatchers(&quot;&#47;admin*&quot;).hasRole(&quot;user&quot;)</code> They&#39;re reversed, aren&#39;t they?"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1558597627,"post_id":56214991,"comment_id":99155642,"body_markdown":"what do you mean by reserved?","body":"what do you mean by reserved?"},{"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"score":0,"creation_date":1558598668,"post_id":56214991,"comment_id":99156148,"body_markdown":"I mean `.antMatchers(&quot;/user/*&quot;).hasRole(&quot;user&quot;) ` `.antMatchers(&quot;/admin*&quot;).hasRole(&quot;admin&quot;)`","body":"I mean <code>.antMatchers(&quot;&#47;user&#47;*&quot;).hasRole(&quot;user&quot;) </code> <code>.antMatchers(&quot;&#47;admin*&quot;).hasRole(&quot;admin&quot;)</code>"},{"owner":{"account_id":10323897,"reputation":406,"user_id":8814467,"accept_rate":25,"display_name":"Aliy"},"score":2,"creation_date":1558614053,"post_id":56214991,"comment_id":99164592,"body_markdown":"First of all, have you got roles from your token?[Debugging] have you debugged that you have roles in your security?   If yes, then you have problems with Prefixing, if no then you have problems with Keycloak itself coz you dont have roles in your token? if possible share your git repo simple one with just configs, so i can help you @jpganz18","body":"First of all, have you got roles from your token?[Debugging] have you debugged that you have roles in your security?   If yes, then you have problems with Prefixing, if no then you have problems with Keycloak itself coz you dont have roles in your token? if possible share your git repo simple one with just configs, so i can help you @jpganz18"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1667168828,"post_id":56214991,"comment_id":131101384,"body_markdown":"As of 2022, [Keycloak adapters for Spring are deprecated](https://github.com/keycloak/keycloak/discussions/10187). See my answer below for alternatives.","body":"As of 2022, <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">Keycloak adapters for Spring are deprecated</a>. See my answer below for alternatives."}],"answers":[{"comments":[{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1559227190,"post_id":56290456,"comment_id":99361088,"body_markdown":"why I dont need to register it?","body":"why I dont need to register it?"},{"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"score":0,"creation_date":1559234775,"post_id":56290456,"comment_id":99365071,"body_markdown":"it&#39;s already taken care of by KeycloakWebSecurityConfigurerAdapter","body":"it&#39;s already taken care of by KeycloakWebSecurityConfigurerAdapter"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1559684229,"post_id":56290456,"comment_id":99496571,"body_markdown":"I still have the same error, any idea? I update my question","body":"I still have the same error, any idea? I update my question"}],"tags":[],"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1559170827,"creation_date":1558692470,"answer_id":56290456,"question_id":56214991,"body_markdown":"in Debug stack: I see you are calling `/api/user/123` and in your security configs you are securing `/user/*` which is not the same, change your security to:\r\n\r\n    .antMatchers(&quot;/api/user/*&quot;).hasRole(&quot;user&quot;)\r\n                    .antMatchers(&quot;/api/admin*&quot;).hasRole(&quot;admin&quot;)\r\n\r\n**P.S**: you don&#39;t need to register `KeycloakAuthenticationProcessingFilter`  and `KeycloakPreAuthActionsFilter`","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<p>in Debug stack: I see you are calling <code>/api/user/123</code> and in your security configs you are securing <code>/user/*</code> which is not the same, change your security to:</p>\n\n<pre><code>.antMatchers(\"/api/user/*\").hasRole(\"user\")\n                .antMatchers(\"/api/admin*\").hasRole(\"admin\")\n</code></pre>\n\n<p><strong>P.S</strong>: you don't need to register <code>KeycloakAuthenticationProcessingFilter</code>  and <code>KeycloakPreAuthActionsFilter</code></p>\n"},{"comments":[{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1559684350,"post_id":56322978,"comment_id":99496603,"body_markdown":"I still get the error after this update, could you please take a look at my edition?","body":"I still get the error after this update, could you please take a look at my edition?"}],"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1558948254,"creation_date":1558948254,"answer_id":56322978,"question_id":56214991,"body_markdown":"**permitAll:**\r\n\r\nWhenever you want to allow any request to access the particular resource/URL you can use permitAll. For example, the Login URL should be accessible to everyone.\r\n\r\n**denyAll:**\r\n\r\nWhenever you want to block the access of particular URL no matter from where the request comes or who is making request(ADMIN) \r\n\r\nYou also have miss-match with URL and Role (you are granting URL with admin to USER and vise-versa). (It&#39;s a good practice to use the role as ROLE_ADMIN or ADMIN or USER) Form your stack I can see **Not granted any authorities** so please recheck the code with authorities\r\n\r\n     http\r\n    \t\t .csrf().disable()\r\n    \t\t .authorizeRequests()\r\n             .antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n             .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;USER&quot;)\r\n             .anyRequest().authenticated();\r\n\r\n\r\n","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<p><strong>permitAll:</strong></p>\n\n<p>Whenever you want to allow any request to access the particular resource/URL you can use permitAll. For example, the Login URL should be accessible to everyone.</p>\n\n<p><strong>denyAll:</strong></p>\n\n<p>Whenever you want to block the access of particular URL no matter from where the request comes or who is making request(ADMIN) </p>\n\n<p>You also have miss-match with URL and Role (you are granting URL with admin to USER and vise-versa). (It's a good practice to use the role as ROLE_ADMIN or ADMIN or USER) Form your stack I can see <strong>Not granted any authorities</strong> so please recheck the code with authorities</p>\n\n<pre><code> http\n         .csrf().disable()\n         .authorizeRequests()\n         .antMatchers(\"/api/user/**\").hasRole(\"ADMIN\")\n         .antMatchers(\"/api/admin/**\").hasRole(\"USER\")\n         .anyRequest().authenticated();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4435100,"reputation":139,"user_id":3611149,"display_name":"bamandine"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563369869,"creation_date":1563369869,"answer_id":57076958,"question_id":56214991,"body_markdown":"   1. Do you try without the `@Configuration` ? I think you only need `@KeycloakConfiguration` annotation on your `SecurityConf` class.\r\n\r\n   2. Do your antMatchers respect case sensitivity ?\r\n\r\n```\r\n http\r\n    .csrf().disable()\r\n    .authorizeRequests()\r\n    .antMatchers(&quot;/api/user/**&quot;).hasRole(&quot;user&quot;)\r\n    .antMatchers(&quot;/api/admin/**&quot;).hasRole(&quot;admin&quot;)\r\n    .anyRequest().authenticated();\r\n```\r\n\r\n   3. Please also try this configuration, to remove the ROLE_* conventions defined by Java :\r\n```java\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        // SimpleAuthorityMapper is used to remove the ROLE_* conventions defined by Java so\r\n        // we can use only admin or user instead of ROLE_ADMIN and ROLE_USER\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n```\r\n\r\n   4. If all your endpoints have the same logics, the security config should be enough, you don&#39;t need others annotations. But if you have another endpoint with the admin role, which is not in your &quot;/api/admin&quot; controller, you can try :\r\n\r\n```java\r\n@PreAuthorize(&quot;hasRole(&#39;admin&#39;)&quot;)\r\n```","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<ol>\n<li><p>Do you try without the <code>@Configuration</code> ? I think you only need <code>@KeycloakConfiguration</code> annotation on your <code>SecurityConf</code> class.</p></li>\n<li><p>Do your antMatchers respect case sensitivity ?</p></li>\n</ol>\n\n<pre><code> http\n    .csrf().disable()\n    .authorizeRequests()\n    .antMatchers(\"/api/user/**\").hasRole(\"user\")\n    .antMatchers(\"/api/admin/**\").hasRole(\"admin\")\n    .anyRequest().authenticated();\n</code></pre>\n\n<ol start=\"3\">\n<li>Please also try this configuration, to remove the ROLE_* conventions defined by Java :</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        // SimpleAuthorityMapper is used to remove the ROLE_* conventions defined by Java so\n        // we can use only admin or user instead of ROLE_ADMIN and ROLE_USER\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n</code></pre>\n\n<ol start=\"4\">\n<li>If all your endpoints have the same logics, the security config should be enough, you don't need others annotations. But if you have another endpoint with the admin role, which is not in your \"/api/admin\" controller, you can try :</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(\"hasRole('admin')\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"score":1,"creation_date":1645426357,"post_id":65041014,"comment_id":125859080,"body_markdown":"what is auth variable here?","body":"what is auth variable here?"}],"tags":[],"owner":{"account_id":4465323,"reputation":426,"user_id":3633128,"display_name":"Snorky35"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606496356,"creation_date":1606496001,"answer_id":65041014,"question_id":56214991,"body_markdown":"Late answer, but hope it will help other facing the same issue.\r\nI was facing the exact same problem as you, and for me, in the configuration class, i has to change the default keycloakAuthenticationProvider by setting a granted authority mapper (the @Override method is just for debugging):\r\n\r\n    @Bean\r\n    public KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\r\n      KeycloakAuthenticationProvider keycloakAuthenticationProvider = new KeycloakAuthenticationProvider() {\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n          System.out.println(&quot;===========+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; authenticate &quot;);\r\n          KeycloakAuthenticationToken token = (KeycloakAuthenticationToken) authentication;\r\n          for (String role : token.getAccount().getRoles()) {\r\n            System.out.println(&quot;===========+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Role : &quot; + role);\r\n          }\r\n\r\n          return super.authenticate(authentication);\r\n        }\r\n      };\r\n      keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n      auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n}","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<p>Late answer, but hope it will help other facing the same issue.\nI was facing the exact same problem as you, and for me, in the configuration class, i has to change the default keycloakAuthenticationProvider by setting a granted authority mapper (the @Override method is just for debugging):</p>\n<pre><code>@Bean\npublic KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\n  KeycloakAuthenticationProvider keycloakAuthenticationProvider = new KeycloakAuthenticationProvider() {\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n      System.out.println(&quot;===========+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; authenticate &quot;);\n      KeycloakAuthenticationToken token = (KeycloakAuthenticationToken) authentication;\n      for (String role : token.getAccount().getRoles()) {\n        System.out.println(&quot;===========+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Role : &quot; + role);\n      }\n\n      return super.authenticate(authentication);\n    }\n  };\n  keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n  auth.authenticationProvider(keycloakAuthenticationProvider);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617102408,"creation_date":1617102408,"answer_id":66869830,"question_id":56214991,"body_markdown":"*I know this is an old post but I&#39;m just writing this for future reference in case anyone else has the same problem.*\r\n\r\nIf you look into the logs, Keycloak successfully authenticated the access token but there are not any *granted* authorities. That&#39;s why Spring doesn&#39;t authorize the request and you get *HTTP 403 Forbidden*:\r\n\r\n```\r\nf.KeycloakAuthenticationProcessingFilter : Authentication success using bearer token/basic authentication. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@355f68d6: Principal: testuser; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5d7a32a9; Not granted any authorities\r\n```\r\n\r\nThat&#39;s because Keycloak adapter is configured to use **resource (i.e. client-level) role mappings** instead of realm-level role mappings:\r\n\r\n&gt; **use-resource-role-mappings**: If set to true, the adapter will look inside the token for application-level role mappings for the user. If false, it will look at the realm level for user role mappings. This is OPTIONAL. The default value is false.\r\n\r\n[Here][1] is the link about adapter configurations.\r\n\r\nSo, if you want to get authorized via realm roles, properties should be like this:\r\n\r\n```yml\r\nkeycloak:\r\n  auth-server-url: http://localhost:8080/auth/\r\n  resource: users-api\r\n  credentials:\r\n    secret : my-secret\r\n  use-resource-role-mappings : false\r\n  realm: my-realm\r\n  realmKey:  my-key\r\n  public-client: true\r\n  principal-attribute: preferred_username\r\n  bearer-only: true\r\n```\r\n\r\n**Note:** If you want to use both realm-level and client-level role mappings, then you should override KeycloakAuthenticationProvider.authenticate() method to provide the necessary roles by combining them yourself.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/4.8/securing_apps/index.html","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<p><em>I know this is an old post but I'm just writing this for future reference in case anyone else has the same problem.</em></p>\n<p>If you look into the logs, Keycloak successfully authenticated the access token but there are not any <em>granted</em> authorities. That's why Spring doesn't authorize the request and you get <em>HTTP 403 Forbidden</em>:</p>\n<pre><code>f.KeycloakAuthenticationProcessingFilter : Authentication success using bearer token/basic authentication. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@355f68d6: Principal: testuser; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5d7a32a9; Not granted any authorities\n</code></pre>\n<p>That's because Keycloak adapter is configured to use <strong>resource (i.e. client-level) role mappings</strong> instead of realm-level role mappings:</p>\n<blockquote>\n<p><strong>use-resource-role-mappings</strong>: If set to true, the adapter will look inside the token for application-level role mappings for the user. If false, it will look at the realm level for user role mappings. This is OPTIONAL. The default value is false.</p>\n</blockquote>\n<p><a href=\"https://www.keycloak.org/docs/4.8/securing_apps/index.html\" rel=\"noreferrer\">Here</a> is the link about adapter configurations.</p>\n<p>So, if you want to get authorized via realm roles, properties should be like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>keycloak:\n  auth-server-url: http://localhost:8080/auth/\n  resource: users-api\n  credentials:\n    secret : my-secret\n  use-resource-role-mappings : false\n  realm: my-realm\n  realmKey:  my-key\n  public-client: true\n  principal-attribute: preferred_username\n  bearer-only: true\n</code></pre>\n<p><strong>Note:</strong> If you want to use both realm-level and client-level role mappings, then you should override KeycloakAuthenticationProvider.authenticate() method to provide the necessary roles by combining them yourself.</p>\n"},{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1671606546,"post_id":74115518,"comment_id":132132651,"body_markdown":"I have the same problem. I have defined roles in the user area and in the logs I see the data of the user who is logged in, but I do not see the roles that I assigned to him and therefore I get an error when accessing a protected resource.","body":"I have the same problem. I have defined roles in the user area and in the logs I see the data of the user who is logged in, but I do not see the roles that I assigned to him and therefore I get an error when accessing a protected resource."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1671606550,"post_id":74115518,"comment_id":132132655,"body_markdown":"Could you explain in more detail what it means : ... Also, only the rules defined at the following levels are taken into account: and also explain .... what does it mean : ... Both of the above configurations do not result in conversion of keycloak roles...?","body":"Could you explain in more detail what it means : ... Also, only the rules defined at the following levels are taken into account: and also explain .... what does it mean : ... Both of the above configurations do not result in conversion of keycloak roles...?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1671609114,"post_id":74115518,"comment_id":132133282,"body_markdown":"Keycloak roles can be assigned at realm level (for all client) or for a specific client. Configurations above parse roles assigned for realm and two distinct clients (do a text search for the words between double quotes). For second point, the conf above does not add any prefix to Keycloak roles when mapping it to Spring authorities (neither `ROLE_` nor `SCOPE_`) and does not transform it to upper case or whatever.","body":"Keycloak roles can be assigned at realm level (for all client) or for a specific client. Configurations above parse roles assigned for realm and two distinct clients (do a text search for the words between double quotes). For second point, the conf above does not add any prefix to Keycloak roles when mapping it to Spring authorities (neither <code>ROLE_</code> nor <code>SCOPE_</code>) and does not transform it to upper case or whatever."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1671609636,"post_id":74115518,"comment_id":132133419,"body_markdown":"Maybe, did I forget to mention that depending of where roles are assigned (realm or client), it does not end i&#39; the same private claims (but this obvious in the code of the verbose solution)","body":"Maybe, did I forget to mention that depending of where roles are assigned (realm or client), it does not end i&#39; the same private claims (but this obvious in the code of the verbose solution)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1667168459,"creation_date":1666116195,"answer_id":74115518,"question_id":56214991,"body_markdown":"## 2022 update\r\nKeycloak adapters for Spring are [deprecated][1]. Don&#39;t use it. Use `spring-boot-starter-oauth2-resource-server` instead.\r\n\r\n### Easy solution\r\nWith a very handy [set of libs][2] on top of `spring-boot-starter-oauth2-resource-server`, configuration can be as simple as:\r\n```java\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic static class SecurityConfig {\r\n    @Bean\r\n    ExpressionInterceptUrlRegistryPostProcessor expressionInterceptUrlRegistryPostProcessor() {\r\n        return (ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry registry) -&gt; registry\r\n            .antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)\r\n            .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n            .anyRequest().authenticated();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n```properties\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.employee-service.roles,resource_access.other-client.roles\r\ncom.c4-soft.springaddons.security.cors[0].path=/api/**\r\ncom.c4-soft.springaddons.security.permit-all=/actuator/health/readiness,/actuator/health/liveness,/v3/api-docs/**\r\n```\r\n\r\n### Spring only solution\r\nTo do the same with `spring-boot-starter-oauth2-resource-server` only, there is quite some Java conf to write:\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n\tpublic interface Jwt2AuthoritiesConverter extends Converter&lt;Jwt, Collection&lt;? extends GrantedAuthority&gt;&gt; {\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Bean\r\n\tpublic Jwt2AuthoritiesConverter authoritiesConverter() {\r\n\t\t// This is a converter for roles as embedded in the JWT by a Keycloak server\r\n\t\t// Roles are taken from both realm_access.roles &amp; resource_access.{client}.roles\r\n\t\treturn jwt -&gt; {\r\n\t\t\tfinal var realmAccess = (Map&lt;String, Object&gt;) jwt.getClaims().getOrDefault(&quot;realm_access&quot;, Map.of());\r\n\t\t\tfinal var realmRoles = (Collection&lt;String&gt;) realmAccess.getOrDefault(&quot;roles&quot;, List.of());\r\n\r\n\t\t\tfinal var resourceAccess = (Map&lt;String, Object&gt;) jwt.getClaims().getOrDefault(&quot;resource_access&quot;, Map.of());\r\n\t\t\t// We assume here you have &quot;employee-service&quot; (as in the tutorial referenced in the question) and &quot;other-client&quot; clients configured with &quot;client roles&quot; mapper in Keycloak\r\n\t\t\tfinal var confidentialClientAccess = (Map&lt;String, Object&gt;) resourceAccess.getOrDefault(&quot;employee-service&quot;, Map.of());\r\n\t\t\tfinal var confidentialClientRoles = (Collection&lt;String&gt;) confidentialClientAccess.getOrDefault(&quot;roles&quot;, List.of());\r\n\t\t\tfinal var publicClientAccess = (Map&lt;String, Object&gt;) resourceAccess.getOrDefault(&quot;other-client&quot;, Map.of());\r\n\t\t\tfinal var publicClientRoles = (Collection&lt;String&gt;) publicClientAccess.getOrDefault(&quot;roles&quot;, List.of());\r\n\r\n\t\t\treturn Stream.concat(realmRoles.stream(), Stream.concat(confidentialClientRoles.stream(), publicClientRoles.stream()))\r\n\t\t\t\t\t.map(SimpleGrantedAuthority::new).toList();\r\n\t\t};\r\n\t}\r\n\r\n\tpublic interface Jwt2AuthenticationConverter extends Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Jwt2AuthenticationConverter authenticationConverter(Jwt2AuthoritiesConverter authoritiesConverter) {\r\n\t\treturn jwt -&gt; new JwtAuthenticationToken(jwt, authoritiesConverter.convert(jwt));\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http, Jwt2AuthenticationConverter authenticationConverter, ServerProperties serverProperties)\r\n\t\t\tthrows Exception {\r\n\r\n\t\t// Enable OAuth2 with custom authorities mapping\r\n\t\thttp.oauth2ResourceServer().jwt().jwtAuthenticationConverter(authenticationConverter);\r\n\r\n\t\t// Enable anonymous\r\n\t\thttp.anonymous();\r\n\r\n\t\t// Enable and configure CORS\r\n\t\thttp.cors().configurationSource(corsConfigurationSource());\r\n\r\n\t\t// State-less session (state in access-token only)\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\t\t// Enable CSRF with cookie repo because of state-less session-management\r\n\t\thttp.csrf().disable();\r\n\r\n\t\t// Return 401 (unauthorized) instead of 403 (redirect to login) when authorization is missing or invalid\r\n\t\thttp.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\r\n\t\t\tresponse.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n\t\t});\r\n\r\n\t\t// If SSL enabled, disable http (https only)\r\n\t\tif (serverProperties.getSsl() != null &amp;&amp; serverProperties.getSsl().isEnabled()) {\r\n\t\t\thttp.requiresChannel().anyRequest().requiresSecure();\r\n\t\t} else {\r\n\t\t\thttp.requiresChannel().anyRequest().requiresInsecure();\r\n\t\t}\r\n\r\n\t\t// Route security: authenticated to all routes but actuator and Swagger-UI\r\n\t\t// @formatter:off\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/actuator/health/readiness&quot;, &quot;/actuator/health/liveness&quot;, &quot;/v3/api-docs&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n            .antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)\r\n            .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n            .anyRequest().authenticated();\r\n        // @formatter:on\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\tprivate CorsConfigurationSource corsConfigurationSource() {\r\n\t\t// Very permissive CORS config...\r\n\t\tfinal var configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\r\n\r\n\t\t// Limited to API routes (neither actuator nor Swagger-UI)\r\n\t\tfinal var source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\r\n\r\n\t\treturn source;\r\n\t}\r\n}\r\n```\r\n```properties\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=https://localhost:8443/realms/master\r\n```\r\n\r\n### Important notes\r\nBoth configuration above make no transformation to keycloak roles (case unchanged, no `ROLE_` prefix), reason for using `hasAuthority(...)` instead of `hasRole(...)`.\r\n\r\nAlso only roles defined at following levels are considered:\r\n- &quot;realm&quot;\r\n- &quot;employee-service&quot; client (has defined in the tutorial referenced in the question\r\n- &quot;other-client&quot; (just to demo that any other arbitrary client(s) can be used)\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<h2>2022 update</h2>\n<p>Keycloak adapters for Spring are <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"noreferrer\">deprecated</a>. Don't use it. Use <code>spring-boot-starter-oauth2-resource-server</code> instead.</p>\n<h3>Easy solution</h3>\n<p>With a very handy <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"noreferrer\">set of libs</a> on top of <code>spring-boot-starter-oauth2-resource-server</code>, configuration can be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity\n@Configuration\npublic static class SecurityConfig {\n    @Bean\n    ExpressionInterceptUrlRegistryPostProcessor expressionInterceptUrlRegistryPostProcessor() {\n        return (ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry registry) -&gt; registry\n            .antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)\n            .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\n            .anyRequest().authenticated();\n        }\n    }\n}\n</code></pre>\n<pre><code>com.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.employee-service.roles,resource_access.other-client.roles\ncom.c4-soft.springaddons.security.cors[0].path=/api/**\ncom.c4-soft.springaddons.security.permit-all=/actuator/health/readiness,/actuator/health/liveness,/v3/api-docs/**\n</code></pre>\n<h3>Spring only solution</h3>\n<p>To do the same with <code>spring-boot-starter-oauth2-resource-server</code> only, there is quite some Java conf to write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\npublic class SecurityConfig {\n\n    public interface Jwt2AuthoritiesConverter extends Converter&lt;Jwt, Collection&lt;? extends GrantedAuthority&gt;&gt; {\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Bean\n    public Jwt2AuthoritiesConverter authoritiesConverter() {\n        // This is a converter for roles as embedded in the JWT by a Keycloak server\n        // Roles are taken from both realm_access.roles &amp; resource_access.{client}.roles\n        return jwt -&gt; {\n            final var realmAccess = (Map&lt;String, Object&gt;) jwt.getClaims().getOrDefault(&quot;realm_access&quot;, Map.of());\n            final var realmRoles = (Collection&lt;String&gt;) realmAccess.getOrDefault(&quot;roles&quot;, List.of());\n\n            final var resourceAccess = (Map&lt;String, Object&gt;) jwt.getClaims().getOrDefault(&quot;resource_access&quot;, Map.of());\n            // We assume here you have &quot;employee-service&quot; (as in the tutorial referenced in the question) and &quot;other-client&quot; clients configured with &quot;client roles&quot; mapper in Keycloak\n            final var confidentialClientAccess = (Map&lt;String, Object&gt;) resourceAccess.getOrDefault(&quot;employee-service&quot;, Map.of());\n            final var confidentialClientRoles = (Collection&lt;String&gt;) confidentialClientAccess.getOrDefault(&quot;roles&quot;, List.of());\n            final var publicClientAccess = (Map&lt;String, Object&gt;) resourceAccess.getOrDefault(&quot;other-client&quot;, Map.of());\n            final var publicClientRoles = (Collection&lt;String&gt;) publicClientAccess.getOrDefault(&quot;roles&quot;, List.of());\n\n            return Stream.concat(realmRoles.stream(), Stream.concat(confidentialClientRoles.stream(), publicClientRoles.stream()))\n                    .map(SimpleGrantedAuthority::new).toList();\n        };\n    }\n\n    public interface Jwt2AuthenticationConverter extends Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n    }\n\n    @Bean\n    public Jwt2AuthenticationConverter authenticationConverter(Jwt2AuthoritiesConverter authoritiesConverter) {\n        return jwt -&gt; new JwtAuthenticationToken(jwt, authoritiesConverter.convert(jwt));\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, Jwt2AuthenticationConverter authenticationConverter, ServerProperties serverProperties)\n            throws Exception {\n\n        // Enable OAuth2 with custom authorities mapping\n        http.oauth2ResourceServer().jwt().jwtAuthenticationConverter(authenticationConverter);\n\n        // Enable anonymous\n        http.anonymous();\n\n        // Enable and configure CORS\n        http.cors().configurationSource(corsConfigurationSource());\n\n        // State-less session (state in access-token only)\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Enable CSRF with cookie repo because of state-less session-management\n        http.csrf().disable();\n\n        // Return 401 (unauthorized) instead of 403 (redirect to login) when authorization is missing or invalid\n        http.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\n            response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n        });\n\n        // If SSL enabled, disable http (https only)\n        if (serverProperties.getSsl() != null &amp;&amp; serverProperties.getSsl().isEnabled()) {\n            http.requiresChannel().anyRequest().requiresSecure();\n        } else {\n            http.requiresChannel().anyRequest().requiresInsecure();\n        }\n\n        // Route security: authenticated to all routes but actuator and Swagger-UI\n        // @formatter:off\n        http.authorizeRequests()\n            .antMatchers(&quot;/actuator/health/readiness&quot;, &quot;/actuator/health/liveness&quot;, &quot;/v3/api-docs&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n            .antMatchers(&quot;/api/user/**&quot;).hasAuthority(&quot;USER&quot;)\n            .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\n            .anyRequest().authenticated();\n        // @formatter:on\n\n        return http.build();\n    }\n\n    private CorsConfigurationSource corsConfigurationSource() {\n        // Very permissive CORS config...\n        final var configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\n\n        // Limited to API routes (neither actuator nor Swagger-UI)\n        final var source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\n\n        return source;\n    }\n}\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://localhost:8443/realms/master\n</code></pre>\n<h3>Important notes</h3>\n<p>Both configuration above make no transformation to keycloak roles (case unchanged, no <code>ROLE_</code> prefix), reason for using <code>hasAuthority(...)</code> instead of <code>hasRole(...)</code>.</p>\n<p>Also only roles defined at following levels are considered:</p>\n<ul>\n<li>&quot;realm&quot;</li>\n<li>&quot;employee-service&quot; client (has defined in the tutorial referenced in the question</li>\n<li>&quot;other-client&quot; (just to demo that any other arbitrary client(s) can be used)</li>\n</ul>\n"}],"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26740,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1667168459,"creation_date":1558331535,"question_id":56214991,"body_markdown":"I am trying to do a simple thing.\r\n\r\nWant to make a request to a single endpoint and send a bearer token (from a client), I want this token to be validated and depending on the role assigned on keycloak accept/deny request on my endpoint.\r\n\r\nI followed many tutorials and even books but most of all them I simply dont understand.\r\n\r\nFollowed this to setup my keycloak info (realm, role, user)\r\nhttps://medium.com/@bcarunmail/securing-rest-api-using-keycloak-and-spring-oauth2-6ddf3a1efcc2\r\n\r\n\r\nSo,\r\n\r\nI basically set up my keycloak with a client, a user with a specific role &quot;user&quot; and configured it like this:\r\n\r\n\r\n\r\n    @Configuration\r\n    @KeycloakConfiguration\r\n    //@ComponentScan(basePackageClasses = KeycloakSecurityComponents.class)\r\n    public class SecurityConf extends KeycloakWebSecurityConfigurerAdapter\r\n    {\r\n        /**\r\n         * Registers the KeycloakAuthenticationProvider with the authentication manager.\r\n         */\r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(keycloakAuthenticationProvider());\r\n        }\r\n    \r\n        /**\r\n         * Defines the session authentication strategy.\r\n         */\r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        }\r\n    \r\n        @Bean\r\n        public KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean keycloakAuthenticationProcessingFilterRegistrationBean(\r\n                KeycloakAuthenticationProcessingFilter filter) {\r\n            FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n            registrationBean.setEnabled(false);\r\n            return registrationBean;\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean keycloakPreAuthActionsFilterRegistrationBean(\r\n                KeycloakPreAuthActionsFilter filter) {\r\n            FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n            registrationBean.setEnabled(false);\r\n            return registrationBean;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception\r\n        {\r\n            super.configure(http);\r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/user/*&quot;).hasRole(&quot;admin&quot;)\r\n                    .antMatchers(&quot;/admin*&quot;).hasRole(&quot;user&quot;)\r\n                    \r\n        }\r\n    }\r\n\r\n\r\nI dont understand why at many tutorials I see this(as the last rule):\r\n\r\n    .anyRequest().permitAll();\r\n\r\nBasically when I set that I have no security, I can call the endpoints without a bearer token.\r\n\r\nBut when I add this as last rule\r\n\r\n     .anyRequest().denyAll();\r\n\r\nI always get a 403.\r\n\r\n\r\n\r\nDebbugging I found this:\r\n\r\nRequest is to process authentication\r\n\r\n    f.KeycloakAuthenticationProcessingFilter : Attempting Keycloak authentication\r\n    o.k.a.BearerTokenRequestAuthenticator    : Found [1] values in authorization header, selecting the first value for Bearer.\r\n    o.k.a.BearerTokenRequestAuthenticator    : Verifying access_token\r\n    o.k.a.BearerTokenRequestAuthenticator    : successful authorized\r\n    a.s.a.SpringSecurityRequestAuthenticator : Completing bearer authentication. Bearer roles: [] \r\n    o.k.adapters.RequestAuthenticator        : User &#39;testuser&#39; invoking &#39;http://localhost:9090/api/user/123&#39; on client &#39;users&#39;\r\n    o.k.adapters.RequestAuthenticator        : Bearer AUTHENTICATED\r\n    f.KeycloakAuthenticationProcessingFilter : Auth outcome: AUTHENTICATED\r\n    o.s.s.authentication.ProviderManager     : Authentication attempt using org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationProvider\r\n    o.s.s.core.session.SessionRegistryImpl   : Registering session 5B871A0E2AF55B70DC8E3B7436D79333, for principal testuser\r\n    f.KeycloakAuthenticationProcessingFilter : Authentication success using bearer token/basic authentication. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@355f68d6: Principal: testuser; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5d7a32a9; Not granted any authorities\r\n    [nio-9090-exec-3] o.s.security.web.FilterChainProxy        : /api/user/123 at position 8 of 15 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    nio-9090-exec-3] o.s.s.w.s.DefaultSavedRequest            : pathInfo: both null (property equals)\r\n    [nio-9090-exec-3] o.s.s.w.s.DefaultSavedRequest            : queryString: both null (property equals)\r\n\r\nSeems like I get no bearer roles ...\r\n\r\n\r\nMy dependencies:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nMy problem?\r\n\r\nI request an access token sending:\r\n\r\n\r\n    client_id -&gt; my client from keycloak\r\n    username -&gt; my user from keycloak\r\n    password -&gt; my password from keycloak\r\n    grant_type -&gt; password\r\n    client_secret -&gt; from keycloak\r\n\r\nI get a token and then I use to request to my app endoint. **My requests are always valid no matter what endpoint I use (the one with role user or with role admin).**\r\n\r\nAt my properties I have something like this:\r\n\r\n\r\n    keycloak:\r\n      auth-server-url: http://localhost:8080/auth/\r\n      resource: users-api\r\n      credentials:\r\n        secret : my-secret\r\n      use-resource-role-mappings : true\r\n      realm: my-realm\r\n      realmKey:  my-key\r\n      public-client: true\r\n      principal-attribute: preferred_username\r\n      bearer-only: true\r\n\r\nAny idea how to actually enabling the roles in this case?\r\n\r\nDo I have to configure a client to use JWT? any ideas?\r\n\r\nI also added the annotations on my endpoint\r\n\r\n    @Secured(&quot;admin&quot;)\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;admin&#39;)&quot;)\r\n\r\nbut seems they dont do anything...\r\n\r\n\r\n-- EDIT --\r\n\r\nAfter fixed the url to match the resource I still get 403.\r\n\r\n    &quot;realm_access&quot;: {\r\n        &quot;roles&quot;: [\r\n          &quot;offline_access&quot;,\r\n          &quot;admin&quot;,\r\n          &quot;uma_authorization&quot;\r\n        ]\r\n      },\r\n      &quot;resource_access&quot;: {\r\n        &quot;account&quot;: {\r\n          &quot;roles&quot;: [\r\n            &quot;manage-account&quot;,\r\n            &quot;manage-account-links&quot;,\r\n            &quot;view-profile&quot;\r\n          ]\r\n        }\r\n      },\r\n\r\nIs it somehow related the resource_access with my problem?\r\n","title":"Enable role authentication with spring boot (security) and keycloak?","body":"<p>I am trying to do a simple thing.</p>\n\n<p>Want to make a request to a single endpoint and send a bearer token (from a client), I want this token to be validated and depending on the role assigned on keycloak accept/deny request on my endpoint.</p>\n\n<p>I followed many tutorials and even books but most of all them I simply dont understand.</p>\n\n<p>Followed this to setup my keycloak info (realm, role, user)\n<a href=\"https://medium.com/@bcarunmail/securing-rest-api-using-keycloak-and-spring-oauth2-6ddf3a1efcc2\" rel=\"noreferrer\">https://medium.com/@bcarunmail/securing-rest-api-using-keycloak-and-spring-oauth2-6ddf3a1efcc2</a></p>\n\n<p>So,</p>\n\n<p>I basically set up my keycloak with a client, a user with a specific role \"user\" and configured it like this:</p>\n\n<pre><code>@Configuration\n@KeycloakConfiguration\n//@ComponentScan(basePackageClasses = KeycloakSecurityComponents.class)\npublic class SecurityConf extends KeycloakWebSecurityConfigurerAdapter\n{\n    /**\n     * Registers the KeycloakAuthenticationProvider with the authentication manager.\n     */\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(keycloakAuthenticationProvider());\n    }\n\n    /**\n     * Defines the session authentication strategy.\n     */\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Bean\n    public KeycloakSpringBootConfigResolver KeycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    @Bean\n    public FilterRegistrationBean keycloakAuthenticationProcessingFilterRegistrationBean(\n            KeycloakAuthenticationProcessingFilter filter) {\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n        registrationBean.setEnabled(false);\n        return registrationBean;\n    }\n\n    @Bean\n    public FilterRegistrationBean keycloakPreAuthActionsFilterRegistrationBean(\n            KeycloakPreAuthActionsFilter filter) {\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n        registrationBean.setEnabled(false);\n        return registrationBean;\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(\"/user/*\").hasRole(\"admin\")\n                .antMatchers(\"/admin*\").hasRole(\"user\")\n\n    }\n}\n</code></pre>\n\n<p>I dont understand why at many tutorials I see this(as the last rule):</p>\n\n<pre><code>.anyRequest().permitAll();\n</code></pre>\n\n<p>Basically when I set that I have no security, I can call the endpoints without a bearer token.</p>\n\n<p>But when I add this as last rule</p>\n\n<pre><code> .anyRequest().denyAll();\n</code></pre>\n\n<p>I always get a 403.</p>\n\n<p>Debbugging I found this:</p>\n\n<p>Request is to process authentication</p>\n\n<pre><code>f.KeycloakAuthenticationProcessingFilter : Attempting Keycloak authentication\no.k.a.BearerTokenRequestAuthenticator    : Found [1] values in authorization header, selecting the first value for Bearer.\no.k.a.BearerTokenRequestAuthenticator    : Verifying access_token\no.k.a.BearerTokenRequestAuthenticator    : successful authorized\na.s.a.SpringSecurityRequestAuthenticator : Completing bearer authentication. Bearer roles: [] \no.k.adapters.RequestAuthenticator        : User 'testuser' invoking 'http://localhost:9090/api/user/123' on client 'users'\no.k.adapters.RequestAuthenticator        : Bearer AUTHENTICATED\nf.KeycloakAuthenticationProcessingFilter : Auth outcome: AUTHENTICATED\no.s.s.authentication.ProviderManager     : Authentication attempt using org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationProvider\no.s.s.core.session.SessionRegistryImpl   : Registering session 5B871A0E2AF55B70DC8E3B7436D79333, for principal testuser\nf.KeycloakAuthenticationProcessingFilter : Authentication success using bearer token/basic authentication. Updating SecurityContextHolder to contain: org.keycloak.adapters.springsecurity.token.KeycloakAuthenticationToken@355f68d6: Principal: testuser; Credentials: [PROTECTED]; Authenticated: true; Details: org.keycloak.adapters.springsecurity.account.SimpleKeycloakAccount@5d7a32a9; Not granted any authorities\n[nio-9090-exec-3] o.s.security.web.FilterChainProxy        : /api/user/123 at position 8 of 15 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\nnio-9090-exec-3] o.s.s.w.s.DefaultSavedRequest            : pathInfo: both null (property equals)\n[nio-9090-exec-3] o.s.s.w.s.DefaultSavedRequest            : queryString: both null (property equals)\n</code></pre>\n\n<p>Seems like I get no bearer roles ...</p>\n\n<p>My dependencies:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>My problem?</p>\n\n<p>I request an access token sending:</p>\n\n<pre><code>client_id -&gt; my client from keycloak\nusername -&gt; my user from keycloak\npassword -&gt; my password from keycloak\ngrant_type -&gt; password\nclient_secret -&gt; from keycloak\n</code></pre>\n\n<p>I get a token and then I use to request to my app endoint. <strong>My requests are always valid no matter what endpoint I use (the one with role user or with role admin).</strong></p>\n\n<p>At my properties I have something like this:</p>\n\n<pre><code>keycloak:\n  auth-server-url: http://localhost:8080/auth/\n  resource: users-api\n  credentials:\n    secret : my-secret\n  use-resource-role-mappings : true\n  realm: my-realm\n  realmKey:  my-key\n  public-client: true\n  principal-attribute: preferred_username\n  bearer-only: true\n</code></pre>\n\n<p>Any idea how to actually enabling the roles in this case?</p>\n\n<p>Do I have to configure a client to use JWT? any ideas?</p>\n\n<p>I also added the annotations on my endpoint</p>\n\n<pre><code>@Secured(\"admin\")\n@PreAuthorize(\"hasAnyAuthority('admin')\")\n</code></pre>\n\n<p>but seems they dont do anything...</p>\n\n<p>-- EDIT --</p>\n\n<p>After fixed the url to match the resource I still get 403.</p>\n\n<pre><code>\"realm_access\": {\n    \"roles\": [\n      \"offline_access\",\n      \"admin\",\n      \"uma_authorization\"\n    ]\n  },\n  \"resource_access\": {\n    \"account\": {\n      \"roles\": [\n        \"manage-account\",\n        \"manage-account-links\",\n        \"view-profile\"\n      ]\n    }\n  },\n</code></pre>\n\n<p>Is it somehow related the resource_access with my problem?</p>\n"},{"tags":["java","xml","jackson","jackson-databind","jackson-dataformat-xml"],"answers":[{"comments":[{"owner":{"account_id":14481713,"reputation":487,"user_id":10460777,"display_name":"CtrlAltElite"},"score":0,"creation_date":1667187953,"post_id":74257125,"comment_id":131103708,"body_markdown":"That&#39;s doable, but it won&#39;t work if there are multiple unknown attributes. It&#39;s possible the attribute might not be named `Qualifier` each time. Also, I want to associate the element&#39;s value to `Child1` key instead of empty String key.","body":"That&#39;s doable, but it won&#39;t work if there are multiple unknown attributes. It&#39;s possible the attribute might not be named <code>Qualifier</code> each time. Also, I want to associate the element&#39;s value to <code>Child1</code> key instead of empty String key."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667207767,"post_id":74257125,"comment_id":131107542,"body_markdown":"you did notice that the solution is a method that accepts arg key to be removed, right?. also, your post with the expected result does not mention this new requirment","body":"you did notice that the solution is a method that accepts arg key to be removed, right?. also, your post with the expected result does not mention this new requirment"},{"owner":{"account_id":14481713,"reputation":487,"user_id":10460777,"display_name":"CtrlAltElite"},"score":0,"creation_date":1667218382,"post_id":74257125,"comment_id":131110851,"body_markdown":"I can see that. What I meant was, the attribute names might differ, other than `Qualifier` which I may not know prior at the time of development. I am looking for a generic way by which ALL the attributes can be ignored. Also, The expected output in my post clearly shows the value `123456` associated to `child1` tag, instead of empty sub tag as depicted in the actual output snippet.","body":"I can see that. What I meant was, the attribute names might differ, other than <code>Qualifier</code> which I may not know prior at the time of development. I am looking for a generic way by which ALL the attributes can be ignored. Also, The expected output in my post clearly shows the value <code>123456</code> associated to <code>child1</code> tag, instead of empty sub tag as depicted in the actual output snippet."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667218903,"post_id":74257125,"comment_id":131111023,"body_markdown":"&quot;I am looking for a generic way by which ALL the attributes can be ignored&quot; yet another new question. you should focus on getting answers one question at a time, and be more precise about the requirements.","body":"&quot;I am looking for a generic way by which ALL the attributes can be ignored&quot; yet another new question. you should focus on getting answers one question at a time, and be more precise about the requirements."}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667167919,"creation_date":1667167919,"answer_id":74257125,"question_id":74256921,"body_markdown":"you could recursively search the map and remove desired key \r\n\r\n\tpublic static void recursiveRemoveKey(Map&lt;String, Object&gt; objMap, String key) {\r\n\t\tobjMap.remove(key);\r\n\t\tfor (Object value : objMap.values()) {\r\n\t\t\tif (value instanceof Map childMap) {\r\n\t\t\t\trecursiveRemoveKey(childMap, key);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Ignore xml attributes while converting to JSON node","body":"<p>you could recursively search the map and remove desired key</p>\n<pre><code>public static void recursiveRemoveKey(Map&lt;String, Object&gt; objMap, String key) {\n    objMap.remove(key);\n    for (Object value : objMap.values()) {\n        if (value instanceof Map childMap) {\n            recursiveRemoveKey(childMap, key);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14481713,"reputation":487,"user_id":10460777,"display_name":"CtrlAltElite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667167919,"creation_date":1667165544,"question_id":74256921,"body_markdown":"My use case is to parse and convert a piece of input xml into jsonNode, process it and then again convert it into xml for output. I am trying to do it using the jackson library but it wont let me ignore the attributes.\r\n\r\nFor this example input xml snippet(I&#39;d prefer to ignore the `Qualifier` atttribute):\r\n```\r\n&lt;Roottag xmlns:ns5=&quot;http://abc.def.com/foo/bar/default.aspx&quot;&gt;\r\n    &lt;ns5:Parent&gt;\r\n        &lt;ns5:Child1 Qualifier=&quot;XY&quot;&gt;123456&lt;/ns5:Child1&gt;\r\n        &lt;ns5:Child2&gt;160&lt;/ns5:Child2&gt;\r\n    &lt;/ns5:Parent&gt;\r\n&lt;/Roottag&gt;\r\n```\r\n\r\nThe converted Json comes out as :\r\n```\r\n{\r\n    &quot;Parent&quot;: {\r\n        &quot;Child1&quot;: {\r\n            &quot;Qualifier&quot;: &quot;XY&quot;,\r\n            &quot;&quot;: &quot;123456&quot;\r\n        },\r\n        &quot;Child2&quot;: &quot;160&quot;,\r\n    }\r\n}\r\n```\r\nOn converting this to output xml, it adds an empty tag for the actual value of `Child1`. But the `Qualifier` attribute is of no use to me, and would like to ignore it.\r\n\r\n```\r\n&lt;Parent&gt;\r\n   &lt;Child1&gt;\r\n\t\t&lt;Qualifier&gt;XY&lt;/Qualifier&gt;\r\n\t\t&lt;&gt;123456&lt;/&gt;\r\n\t&lt;/Child1&gt;\r\n\t&lt;Child2&gt;160&lt;/Child2&gt;\r\n&lt;/Parent&gt;\r\n```\r\n\r\nMy expected output should look something like this:\r\n```\r\n&lt;Parent&gt;\r\n   &lt;Child1&gt;123456&lt;/Child1&gt;\r\n\t&lt;Child2&gt;160&lt;/Child2&gt;\r\n&lt;/Parent&gt;\r\n```\r\nI&#39;m using the following code snippet to convert xml into `JsonNode`:\r\n```\r\nXmlMapper xmlMapper = new XmlMapper();\r\nMap&lt;String, Object&gt; objMap = xmlMapper.readValue(inputXMLString, Map.class);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString jsonString = objectMapper.writeValueAsString(objMap);\r\nJsonNode jsonNode = objectMapper.readTree(jsonString);\r\n```\r\n\r\nFollowing code snippet to convert `jsonNode` to output xml:\r\n```\r\nString outputXMLStirng = objectMapper.writeValueAsString(jsonNode);\r\n```\r\n\r\nIs there a  way jackson library allows you to ignore attributes in xml?","title":"Ignore xml attributes while converting to JSON node","body":"<p>My use case is to parse and convert a piece of input xml into jsonNode, process it and then again convert it into xml for output. I am trying to do it using the jackson library but it wont let me ignore the attributes.</p>\n<p>For this example input xml snippet(I'd prefer to ignore the <code>Qualifier</code> atttribute):</p>\n<pre><code>&lt;Roottag xmlns:ns5=&quot;http://abc.def.com/foo/bar/default.aspx&quot;&gt;\n    &lt;ns5:Parent&gt;\n        &lt;ns5:Child1 Qualifier=&quot;XY&quot;&gt;123456&lt;/ns5:Child1&gt;\n        &lt;ns5:Child2&gt;160&lt;/ns5:Child2&gt;\n    &lt;/ns5:Parent&gt;\n&lt;/Roottag&gt;\n</code></pre>\n<p>The converted Json comes out as :</p>\n<pre><code>{\n    &quot;Parent&quot;: {\n        &quot;Child1&quot;: {\n            &quot;Qualifier&quot;: &quot;XY&quot;,\n            &quot;&quot;: &quot;123456&quot;\n        },\n        &quot;Child2&quot;: &quot;160&quot;,\n    }\n}\n</code></pre>\n<p>On converting this to output xml, it adds an empty tag for the actual value of <code>Child1</code>. But the <code>Qualifier</code> attribute is of no use to me, and would like to ignore it.</p>\n<pre><code>&lt;Parent&gt;\n   &lt;Child1&gt;\n        &lt;Qualifier&gt;XY&lt;/Qualifier&gt;\n        &lt;&gt;123456&lt;/&gt;\n    &lt;/Child1&gt;\n    &lt;Child2&gt;160&lt;/Child2&gt;\n&lt;/Parent&gt;\n</code></pre>\n<p>My expected output should look something like this:</p>\n<pre><code>&lt;Parent&gt;\n   &lt;Child1&gt;123456&lt;/Child1&gt;\n    &lt;Child2&gt;160&lt;/Child2&gt;\n&lt;/Parent&gt;\n</code></pre>\n<p>I'm using the following code snippet to convert xml into <code>JsonNode</code>:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nMap&lt;String, Object&gt; objMap = xmlMapper.readValue(inputXMLString, Map.class);\n\nObjectMapper objectMapper = new ObjectMapper();\nString jsonString = objectMapper.writeValueAsString(objMap);\nJsonNode jsonNode = objectMapper.readTree(jsonString);\n</code></pre>\n<p>Following code snippet to convert <code>jsonNode</code> to output xml:</p>\n<pre><code>String outputXMLStirng = objectMapper.writeValueAsString(jsonNode);\n</code></pre>\n<p>Is there a  way jackson library allows you to ignore attributes in xml?</p>\n"},{"tags":["java","jax-rs","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1667347819,"post_id":74257120,"comment_id":131145178,"body_markdown":"What container are you running in?","body":"What container are you running in?"},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1667564377,"post_id":74257120,"comment_id":131201839,"body_markdown":"@JamesR.Perkins if I understand what container means I&#39;m running on Tomcat 8.5","body":"@JamesR.Perkins if I understand what container means I&#39;m running on Tomcat 8.5"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1667577735,"post_id":74257120,"comment_id":131206891,"body_markdown":"In that case you should be able to just annotate each one with `@Provider` and the project should scan for them. You&#39;ll need to remove that context parameter.","body":"In that case you should be able to just annotate each one with <code>@Provider</code> and the project should scan for them. You&#39;ll need to remove that context parameter."},{"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"score":0,"creation_date":1667597921,"post_id":74257120,"comment_id":131212794,"body_markdown":"@JamesR.Perkins I have but unfortunately it doesn&#39;t scan providers automatically. I think I&#39;ve read in another thread that that feature isn&#39;t available anymore","body":"@JamesR.Perkins I have but unfortunately it doesn&#39;t scan providers automatically. I think I&#39;ve read in another thread that that feature isn&#39;t available anymore"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1667760094,"post_id":74257120,"comment_id":131238663,"body_markdown":"It should work. Have a look at https://docs.jboss.org/resteasy/docs/6.2.1.Final/userguide/html_single/index.html#d5e191. You might just need to add that dependency.","body":"It should work. Have a look at <a href=\"https://docs.jboss.org/resteasy/docs/6.2.1.Final/userguide/html_single/index.html#d5e191\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/6.2.1.Final/userguide/html_sing&zwnj;&#8203;le/&hellip;</a>. You might just need to add that dependency."}],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667167888,"creation_date":1667167888,"question_id":74257120,"body_markdown":"I have several ```ExceptionMapper``` classes in ```mapper``` package and would like to add all of them in web.xml without writing them one by one. Is it possible? Something like\r\n```xml\r\n&lt;context-param&gt;\r\n    &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;\r\n    &lt;param-value&gt;mapper.*&lt;/param-value&gt;\r\n &lt;/context-param&gt;\r\n```\r\ndoesn&#39;t seem to work","title":"Add all of the classes in a package in web.xml resteasy providers","body":"<p>I have several <code>ExceptionMapper</code> classes in <code>mapper</code> package and would like to add all of them in web.xml without writing them one by one. Is it possible? Something like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;\n    &lt;param-value&gt;mapper.*&lt;/param-value&gt;\n &lt;/context-param&gt;\n</code></pre>\n<p>doesn't seem to work</p>\n"},{"tags":["java","casting","iterator","classcastexception"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1667161392,"post_id":74256476,"comment_id":131099969,"body_markdown":"The exception message is pretty clear: the `Iterator` cannot be cast to `Passenger`. You need to call `.next()` on the `Iterator` to get the actual `Passenger`.","body":"The exception message is pretty clear: the <code>Iterator</code> cannot be cast to <code>Passenger</code>. You need to call <code>.next()</code> on the <code>Iterator</code> to get the actual <code>Passenger</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667161556,"post_id":74256476,"comment_id":131099996,"body_markdown":"`Iterator&lt;Passenger&gt; iter = /*...*/ if(((Passenger) iter).getType().equals(&quot;H&quot;)`. An `Iterator&lt;Passenger&gt;` is not a `Passenger`. You cannot cast one into the other.","body":"<code>Iterator&lt;Passenger&gt; iter = &#47;*...*&#47; if(((Passenger) iter).getType().equals(&quot;H&quot;)</code>. An <code>Iterator&lt;Passenger&gt;</code> is not a <code>Passenger</code>. You cannot cast one into the other."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667163706,"post_id":74256476,"comment_id":131100429,"body_markdown":"You are already familiar with the `for-each` loop. Why not use this approach when splitting a list of passengers in a categories lists?","body":"You are already familiar with the <code>for-each</code> loop. Why not use this approach when splitting a list of passengers in a categories lists?"},{"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"score":0,"creation_date":1667163838,"post_id":74256476,"comment_id":131100460,"body_markdown":"@Turing85 Thank you, very much! I works perfectly now. Much simpler edit than I previously thought.","body":"@Turing85 Thank you, very much! I works perfectly now. Much simpler edit than I previously thought."},{"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"score":0,"creation_date":1667164018,"post_id":74256476,"comment_id":131100496,"body_markdown":"@knittl Thanks very for the tip!! I just started working with iterators, this comment helped greatly.","body":"@knittl Thanks very for the tip!! I just started working with iterators, this comment helped greatly."},{"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"score":0,"creation_date":1667165293,"post_id":74256476,"comment_id":131100726,"body_markdown":"@chptr-one The arrangement of the passenger does matter in this case. For example, if Passenger A appears in the Arraylist before Passenger B. They should maintain that same order even if they both belong to the same sub-arraylist. Is there a different approach to simplify my code?","body":"@chptr-one The arrangement of the passenger does matter in this case. For example, if Passenger A appears in the Arraylist before Passenger B. They should maintain that same order even if they both belong to the same sub-arraylist. Is there a different approach to simplify my code?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667167046,"post_id":74256476,"comment_id":131101078,"body_markdown":"@fkaman I don&#39;t quite understand your task. Why do you need 8 different groups of passengers? If groups are needed only to assign them priority, then the problem can be solved much easier.","body":"@fkaman I don&#39;t quite understand your task. Why do you need 8 different groups of passengers? If groups are needed only to assign them priority, then the problem can be solved much easier."},{"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"score":0,"creation_date":1667180744,"post_id":74256476,"comment_id":131102883,"body_markdown":"@chptr-one That&#39;s essentially the task. It the list simulates passengers in a queue and the have different boarding statuses hence firstGroup, secondGroup, etc.","body":"@chptr-one That&#39;s essentially the task. It the list simulates passengers in a queue and the have different boarding statuses hence firstGroup, secondGroup, etc."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1667207318,"post_id":74256476,"comment_id":131107425,"body_markdown":"@fkaman well, perhaps you will be curious to look at this [gist](https://gist.github.com/chptr-one/5cea85ca684c900ab5daf6b431f2f2b1)","body":"@fkaman well, perhaps you will be curious to look at this <a href=\"https://gist.github.com/chptr-one/5cea85ca684c900ab5daf6b431f2f2b1\" rel=\"nofollow noreferrer\">gist</a>"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667167126,"creation_date":1667166664,"answer_id":74257024,"question_id":74256476,"body_markdown":"I did not test this piece of code, but I think this is what you need. I just refactoring your code without diving into the details.\r\n\r\n```\r\nprivate int findGroupNumber(Passenger passenger) {                                                                                                           \r\n     if (passenger.getType().equals(&quot;H&quot;))                                                                                                                     \r\n         return 1;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 1 &amp;&amp; passenger.getRow() &lt;= 4 &amp;&amp; passenger.getType().equalsIgnoreCase(&quot;E&quot;))                                                     \r\n         return 2;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 1 &amp;&amp; passenger.getRow() &lt;= 4)                                                                                                  \r\n         return 3;                                                                                                                                            \r\n     if (passenger.getType().equalsIgnoreCase(&quot;E&quot;) || passenger.getRow() == 10 || passenger.getRow() == 11)                                                   \r\n         return 4;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 23 &amp;&amp; passenger.getRow() &lt;= 26)                                                                                                \r\n         return 5;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 17 &amp;&amp; passenger.getRow() &lt;= 22)                                                                                                \r\n         return 6;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 11 &amp;&amp; passenger.getRow() &lt;= 16)                                                                                                \r\n         return 7;                                                                                                                                            \r\n     if (passenger.getRow() &gt;= 5 &amp;&amp; passenger.getRow() &lt;= 10)                                                                                                 \r\n         return 8;                                                                                                                                            \r\n     else                                                                                                                                                     \r\n         throw new RuntimeException(&quot;Some error.&quot;);                                                                                                           \r\n }                                                                                                                                                            \r\n                                                                                                                                                              \r\n public void loadOldPQ(List&lt;Passenger&gt; list) throws IOException {                                                                                             \r\n     List&lt;List&lt;Passenger&gt;&gt; groups = new ArrayList&lt;&gt;(8);                                                                                                       \r\n     for (int i = 0; i &lt; 8; i++) {                                                                                                                            \r\n         groups.add(new ArrayList&lt;&gt;());                                                                                                                       \r\n     }                                                                                                                                                        \r\n                                                                                                                                                              \r\n     for (var passenger : list) {                                                                                                                             \r\n         groups.get(findGroupNumber(passenger) - 1).add(passenger);                                                                                               \r\n     }                                                                                                                                                        \r\n                                                                                                                                                              \r\n     int priorityNumber = list.size();                                                                                                                        \r\n     for (var group : groups) {                                                                                                                               \r\n         for (var passenger : group) {                                                                                                                        \r\n             passenger.setKey(priorityNumber--);                                                                                                              \r\n             System.out.println(passenger);                                                                                                                   \r\n         }                                                                                                                                                    \r\n     }                                                                                                                                                        \r\n }                                                                                                                                                            \r\n```\r\n","title":"How can I debug this java.lang.ClassCastException that occurs when using an iterator?","body":"<p>I did not test this piece of code, but I think this is what you need. I just refactoring your code without diving into the details.</p>\n<pre><code>private int findGroupNumber(Passenger passenger) {                                                                                                           \n     if (passenger.getType().equals(&quot;H&quot;))                                                                                                                     \n         return 1;                                                                                                                                            \n     if (passenger.getRow() &gt;= 1 &amp;&amp; passenger.getRow() &lt;= 4 &amp;&amp; passenger.getType().equalsIgnoreCase(&quot;E&quot;))                                                     \n         return 2;                                                                                                                                            \n     if (passenger.getRow() &gt;= 1 &amp;&amp; passenger.getRow() &lt;= 4)                                                                                                  \n         return 3;                                                                                                                                            \n     if (passenger.getType().equalsIgnoreCase(&quot;E&quot;) || passenger.getRow() == 10 || passenger.getRow() == 11)                                                   \n         return 4;                                                                                                                                            \n     if (passenger.getRow() &gt;= 23 &amp;&amp; passenger.getRow() &lt;= 26)                                                                                                \n         return 5;                                                                                                                                            \n     if (passenger.getRow() &gt;= 17 &amp;&amp; passenger.getRow() &lt;= 22)                                                                                                \n         return 6;                                                                                                                                            \n     if (passenger.getRow() &gt;= 11 &amp;&amp; passenger.getRow() &lt;= 16)                                                                                                \n         return 7;                                                                                                                                            \n     if (passenger.getRow() &gt;= 5 &amp;&amp; passenger.getRow() &lt;= 10)                                                                                                 \n         return 8;                                                                                                                                            \n     else                                                                                                                                                     \n         throw new RuntimeException(&quot;Some error.&quot;);                                                                                                           \n }                                                                                                                                                            \n                                                                                                                                                              \n public void loadOldPQ(List&lt;Passenger&gt; list) throws IOException {                                                                                             \n     List&lt;List&lt;Passenger&gt;&gt; groups = new ArrayList&lt;&gt;(8);                                                                                                       \n     for (int i = 0; i &lt; 8; i++) {                                                                                                                            \n         groups.add(new ArrayList&lt;&gt;());                                                                                                                       \n     }                                                                                                                                                        \n                                                                                                                                                              \n     for (var passenger : list) {                                                                                                                             \n         groups.get(findGroupNumber(passenger) - 1).add(passenger);                                                                                               \n     }                                                                                                                                                        \n                                                                                                                                                              \n     int priorityNumber = list.size();                                                                                                                        \n     for (var group : groups) {                                                                                                                               \n         for (var passenger : group) {                                                                                                                        \n             passenger.setKey(priorityNumber--);                                                                                                              \n             System.out.println(passenger);                                                                                                                   \n         }                                                                                                                                                    \n     }                                                                                                                                                        \n }                                                                                                                                                            \n</code></pre>\n"}],"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74257024,"answer_count":1,"score":0,"last_activity_date":1667167126,"creation_date":1667161288,"question_id":74256476,"body_markdown":"I am trying to separate Passenger objects from an ArrayList into eight smaller lists. I am traversing the list of Passengers using iterator.  \r\n\r\n\r\n\r\n\r\nI have tried to use the iterator without explicitly casting to the Passenger class but it does not seem to work. It prompts to cast the iterator to Passenger class, still. \r\n\r\nHere is my Passenger class:  \r\n\r\n```\r\npackage application;\r\n\r\npublic class Passenger implements Comparable&lt;Passenger&gt;{\r\n\r\n\tprivate int key;\r\n\tprivate int row;\r\n\tprivate String name;\r\n\tprivate String type;\r\n\r\n\tpublic Passenger() {\r\n\r\n\t}\r\n\r\n\tpublic Passenger(int key, int row, String name, String type) {\r\n\t\tthis.key = key;\r\n\t\tthis.row = row;\r\n\t\tthis.name = name;\r\n\t\tthis.type = type;\r\n\t}\r\n\t\r\n\t//The custom copy constructor\r\n\tpublic Passenger(Passenger passenger) {\r\n\t\tthis.key = passenger.key;//This field should be null at time of instantiation\r\n\t\tthis.row = passenger.row;\r\n\t\tthis.name = passenger.name;\r\n\t\tthis.type = passenger.type;\r\n\t}\r\n\r\n\tpublic int getKey() {\r\n\t\treturn key;\r\n\t}\r\n\r\n\tpublic void setKey(int key) {\r\n\t\tthis.key = key;\r\n\t}\r\n\r\n\tpublic int getRow() {\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic void setRow(int row) {\r\n\t\tthis.row = row;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(Passenger o) {\r\n\t\tif(this.key &gt; o.key) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\telse if(this.key &lt; o.key){\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\t//copy method\r\n\tpublic Passenger copy() {\r\n\t\t\r\n\t\treturn new Passenger(this);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic String toString(){\r\n\t\tString passengerString = String.format(&quot;%-15s%-5s%-5d%-5d&quot;, name, type, row, key);\r\n\t\treturn passengerString;\r\n\t}\r\n}\r\n```\r\n\r\nHere is the method where the exception is thrown:  \r\n\r\n```\r\npublic void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\r\n\t\t\r\n\t\tint priorityNumber = list.size();\r\n\t\t\r\n\t\tArrayList&lt;Passenger&gt; firstGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; secondGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; thirdGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; fourthGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; fifthGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; sixthGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; seventhGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\tArrayList&lt;Passenger&gt; eighthGroup = new ArrayList&lt;Passenger&gt;();\r\n\t\t\r\n\t\tIterator&lt;Passenger&gt; iter = list.iterator();\r\n\t\t\r\n\t\twhile(iter.hasNext()) {\r\n\t\t\r\n\t\t\tif(((Passenger) iter).getType().equals(&quot;H&quot;)) {\r\n\t\t\t\tfirstGroup.add(iter.next());\r\n\t\t\t}\r\n\t\t\telse if(((Passenger) iter).getRow() &gt;= 1 &amp;&amp; ((Passenger) iter).getRow() &lt;= 4 \r\n\t\t\t\t\t&amp;&amp; ((Passenger) iter).getType().equals(&quot;E&quot;)){\r\n\t\t\t\tsecondGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getRow() &gt;= 1 &amp;&amp; ((Passenger) iter).getRow() &lt;= 4) {\r\n\t\t\t\tthirdGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getType().equalsIgnoreCase(&quot;E&quot;) || ((Passenger) iter).getRow() == 10\r\n\t\t\t\t\t|| ((Passenger) iter).getRow() == 11) {\r\n\t\t\t\tfourthGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getRow() &gt;= 23 &amp;&amp; ((Passenger) iter).getRow() &lt;= 26) {\r\n\t\t\t\tfifthGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getRow() &gt;= 17 &amp;&amp; ((Passenger) iter).getRow() &lt;= 22) {\r\n\t\t\t\tsixthGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getRow() &gt;= 11 &amp;&amp; ((Passenger) iter).getRow() &lt;= 16) {\r\n\t\t\t\tseventhGroup.add(iter.next());\r\n\t\t\t}else if(((Passenger) iter).getRow() &gt;= 5 &amp;&amp; ((Passenger) iter).getRow() &lt;= 10) {\r\n\t\t\t\teighthGroup.add(iter.next());\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;Some error!&quot;);\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\tfor(Passenger passenger: firstGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: secondGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: thirdGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: fourthGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: fifthGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: sixthGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: seventhGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}\r\n\t\tfor(Passenger passenger: eighthGroup) {\r\n\t\t\tpassenger.setKey(priorityNumber);\r\n\t\t\tSystem.out.println(passenger);\r\n\t\t\tpriorityNumber--;\r\n\t\t}  \r\n}\r\n```  \r\nThe error occurs at the first if statement: \r\n```\r\nif(((Passenger) iter).getType().equals(&quot;H&quot;))\r\n```\r\nHere is the stack trace:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class java.util.ArrayList$Itr cannot be cast to class application.Passenger (java.util.ArrayList$Itr is in module java.base of loader &#39;bootstrap&#39;; application.Passenger is in unnamed module of loader &#39;app&#39;)\r\n\tat application.Airworthy.loadOldPQ(Airworthy.java:172)\r\n\tat application.Airworthy.readInputFile(Airworthy.java:151)\r\n\tat application.Airworthy.&lt;init&gt;(Airworthy.java:44)\r\n\tat application.Simulation.main(Simulation.java:20)\r\n\r\n```\r\n```\r\n","title":"How can I debug this java.lang.ClassCastException that occurs when using an iterator?","body":"<p>I am trying to separate Passenger objects from an ArrayList into eight smaller lists. I am traversing the list of Passengers using iterator.</p>\n<p>I have tried to use the iterator without explicitly casting to the Passenger class but it does not seem to work. It prompts to cast the iterator to Passenger class, still.</p>\n<p>Here is my Passenger class:</p>\n<pre><code>package application;\n\npublic class Passenger implements Comparable&lt;Passenger&gt;{\n\n    private int key;\n    private int row;\n    private String name;\n    private String type;\n\n    public Passenger() {\n\n    }\n\n    public Passenger(int key, int row, String name, String type) {\n        this.key = key;\n        this.row = row;\n        this.name = name;\n        this.type = type;\n    }\n    \n    //The custom copy constructor\n    public Passenger(Passenger passenger) {\n        this.key = passenger.key;//This field should be null at time of instantiation\n        this.row = passenger.row;\n        this.name = passenger.name;\n        this.type = passenger.type;\n    }\n\n    public int getKey() {\n        return key;\n    }\n\n    public void setKey(int key) {\n        this.key = key;\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public void setRow(int row) {\n        this.row = row;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    @Override\n    public int compareTo(Passenger o) {\n        if(this.key &gt; o.key) {\n            return 1;\n        }\n        else if(this.key &lt; o.key){\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n    //copy method\n    public Passenger copy() {\n        \n        return new Passenger(this);\n    }\n    \n    \n    \n    @Override\n    public String toString(){\n        String passengerString = String.format(&quot;%-15s%-5s%-5d%-5d&quot;, name, type, row, key);\n        return passengerString;\n    }\n}\n</code></pre>\n<p>Here is the method where the exception is thrown:</p>\n<pre><code>public void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\n        \n        int priorityNumber = list.size();\n        \n        ArrayList&lt;Passenger&gt; firstGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; secondGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; thirdGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; fourthGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; fifthGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; sixthGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; seventhGroup = new ArrayList&lt;Passenger&gt;();\n        ArrayList&lt;Passenger&gt; eighthGroup = new ArrayList&lt;Passenger&gt;();\n        \n        Iterator&lt;Passenger&gt; iter = list.iterator();\n        \n        while(iter.hasNext()) {\n        \n            if(((Passenger) iter).getType().equals(&quot;H&quot;)) {\n                firstGroup.add(iter.next());\n            }\n            else if(((Passenger) iter).getRow() &gt;= 1 &amp;&amp; ((Passenger) iter).getRow() &lt;= 4 \n                    &amp;&amp; ((Passenger) iter).getType().equals(&quot;E&quot;)){\n                secondGroup.add(iter.next());\n            }else if(((Passenger) iter).getRow() &gt;= 1 &amp;&amp; ((Passenger) iter).getRow() &lt;= 4) {\n                thirdGroup.add(iter.next());\n            }else if(((Passenger) iter).getType().equalsIgnoreCase(&quot;E&quot;) || ((Passenger) iter).getRow() == 10\n                    || ((Passenger) iter).getRow() == 11) {\n                fourthGroup.add(iter.next());\n            }else if(((Passenger) iter).getRow() &gt;= 23 &amp;&amp; ((Passenger) iter).getRow() &lt;= 26) {\n                fifthGroup.add(iter.next());\n            }else if(((Passenger) iter).getRow() &gt;= 17 &amp;&amp; ((Passenger) iter).getRow() &lt;= 22) {\n                sixthGroup.add(iter.next());\n            }else if(((Passenger) iter).getRow() &gt;= 11 &amp;&amp; ((Passenger) iter).getRow() &lt;= 16) {\n                seventhGroup.add(iter.next());\n            }else if(((Passenger) iter).getRow() &gt;= 5 &amp;&amp; ((Passenger) iter).getRow() &lt;= 10) {\n                eighthGroup.add(iter.next());\n            }else {\n                System.out.println(&quot;Some error!&quot;);\n            }   \n        }\n        \n        for(Passenger passenger: firstGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: secondGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: thirdGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: fourthGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: fifthGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: sixthGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: seventhGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }\n        for(Passenger passenger: eighthGroup) {\n            passenger.setKey(priorityNumber);\n            System.out.println(passenger);\n            priorityNumber--;\n        }  \n}\n</code></pre>\n<p>The error occurs at the first if statement:</p>\n<pre><code>if(((Passenger) iter).getType().equals(&quot;H&quot;))\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.util.ArrayList$Itr cannot be cast to class application.Passenger (java.util.ArrayList$Itr is in module java.base of loader 'bootstrap'; application.Passenger is in unnamed module of loader 'app')\n    at application.Airworthy.loadOldPQ(Airworthy.java:172)\n    at application.Airworthy.readInputFile(Airworthy.java:151)\n    at application.Airworthy.&lt;init&gt;(Airworthy.java:44)\n    at application.Simulation.main(Simulation.java:20)\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","testing","jmeter","load-testing","socket-timeout-exception"],"comments":[{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1404674828,"post_id":24599298,"comment_id":38113218,"body_markdown":"@Raedwald, in JMeter test results there are no stack trace available to track down the application, and also my application don&#39;t throw exception to trace either, so please take the close vote.","body":"@Raedwald, in JMeter test results there are no stack trace available to track down the application, and also my application don&#39;t throw exception to trace either, so please take the close vote."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1404674966,"post_id":24599298,"comment_id":38113261,"body_markdown":"@Raedwald if you have experience with JMeter you will know what i am talking about, please don&#39;t underestimate me that much, this answer is humiliating to my experience :( :(","body":"@Raedwald if you have experience with JMeter you will know what i am talking about, please don&#39;t underestimate me that much, this answer is humiliating to my experience :( :("},{"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"score":0,"creation_date":1404763369,"post_id":24599298,"comment_id":38151330,"body_markdown":"Is it happening with 1 thread? If it happens when you increase users - it could be your application issue. if not, Do you have enough heap set for JMeter?","body":"Is it happening with 1 thread? If it happens when you increase users - it could be your application issue. if not, Do you have enough heap set for JMeter?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1568235845,"post_id":24599298,"comment_id":102214645,"body_markdown":"What&#39;s the mystery? There is only one reason. The read timed out. The server didn&#39;t send anything  within the timeout period.","body":"What&#39;s the mystery? There is only one reason. The read timed out. The server didn&#39;t send anything  within the timeout period."}],"answers":[{"comments":[{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":1,"creation_date":1404764677,"post_id":24606460,"comment_id":38152040,"body_markdown":"i am using blazemeter to run my test scripts, any ideas how to debug ?","body":"i am using blazemeter to run my test scripts, any ideas how to debug ?"},{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":0,"creation_date":1404768967,"post_id":24606460,"comment_id":38154186,"body_markdown":"What about idea to export your blazemeter script in jMeter  using this button: http://gyazo.com/249f1a3de843aef963981ae068327385  , and try to perform your script in jMeter taking into consideration what I&#39;ve mentioned you above ?","body":"What about idea to export your blazemeter script in jMeter  using this button: <a href=\"http://gyazo.com/249f1a3de843aef963981ae068327385\" rel=\"nofollow noreferrer\">gyazo.com/249f1a3de843aef963981ae068327385</a>  , and try to perform your script in jMeter taking into consideration what I&#39;ve mentioned you above ?"},{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":1,"creation_date":1404769079,"post_id":24606460,"comment_id":38154229,"body_markdown":"btw, I notice that response looks like &quot;Non HTTP response code:&quot; . Are you sure that you use proper endpoints (webApi endpoint) of your  application to perform HTTP requests ?","body":"btw, I notice that response looks like &quot;Non HTTP response code:&quot; . Are you sure that you use proper endpoints (webApi endpoint) of your  application to perform HTTP requests ?"}],"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1404722809,"creation_date":1404722809,"answer_id":24606460,"question_id":24599298,"body_markdown":"I would recommend you improve debugging activities (in jMeter) in the following way:\r\n\r\n - try to add debug postprocessor to your http sampler\r\n\r\n![debugPostProcessor][1]\r\n\r\n - launch log viewer (jMeter log viewer before any http\r\n   sampler(-s)/script(-s)   execution\r\n\r\n![log viewer][2]\r\n\r\n\r\nprobably this could help you to figure  out why you&#39;re facing socket timeout.\r\nHope this helps you.\r\n\r\n  [1]: http://i.stack.imgur.com/mvE4e.png\r\n  [2]: http://i.stack.imgur.com/nFqxv.png","title":"JMeter: How to find the reason of a java.net.SocketTimeoutException?","body":"<p>I would recommend you improve debugging activities (in jMeter) in the following way:</p>\n\n<ul>\n<li>try to add debug postprocessor to your http sampler</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/mvE4e.png\" alt=\"debugPostProcessor\"></p>\n\n<ul>\n<li>launch log viewer (jMeter log viewer before any http\nsampler(-s)/script(-s)   execution</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/nFqxv.png\" alt=\"log viewer\"></p>\n\n<p>probably this could help you to figure  out why you're facing socket timeout.\nHope this helps you.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16900,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1667167078,"creation_date":1404673413,"question_id":24599298,"body_markdown":"I am making load test for my web application, and I set the connect timeout and response timeout to be 20 seconds, and sometimes I am getting exceptions like:\r\n\r\n&gt; Non HTTP response code: java.net.SocketTimeoutException: Non HTTP response message: Read timed out\r\n\r\nI get the above exception in JMeter test result, and there are no errors thrown in my application, and no stacktrace available to trace the exception.\r\n\r\nI want to discover the cause of the message: is the app waiting for something to process, or slow SQL, or hung thread, or application is refusing connections because maxed out?\r\n\r\nHow can I find why this exception is thrown, and how can I fix it?\r\n","title":"JMeter: How to find the reason of a java.net.SocketTimeoutException?","body":"<p>I am making load test for my web application, and I set the connect timeout and response timeout to be 20 seconds, and sometimes I am getting exceptions like:</p>\n<blockquote>\n<p>Non HTTP response code: java.net.SocketTimeoutException: Non HTTP response message: Read timed out</p>\n</blockquote>\n<p>I get the above exception in JMeter test result, and there are no errors thrown in my application, and no stacktrace available to trace the exception.</p>\n<p>I want to discover the cause of the message: is the app waiting for something to process, or slow SQL, or hung thread, or application is refusing connections because maxed out?</p>\n<p>How can I find why this exception is thrown, and how can I fix it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13220025,"reputation":569,"user_id":9547104,"display_name":"Timor"},"score":3,"creation_date":1667168303,"post_id":74257044,"comment_id":131101293,"body_markdown":"I assume your code is current, have you tried Long.valueOf() instead of Integer.valueOf()","body":"I assume your code is current, have you tried Long.valueOf() instead of Integer.valueOf()"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667173641,"post_id":74257044,"comment_id":131102006,"body_markdown":"Java integers have a limit of just over 2 billion, being 32-bits. Use 64-bit `long`/`Long`. If the IDs are not truly numeric, use `String`.","body":"Java integers have a limit of just over 2 billion, being 32-bits. Use 64-bit <code>long</code>/<code>Long</code>. If the IDs are not truly numeric, use <code>String</code>."},{"owner":{"account_id":16460622,"reputation":1,"user_id":11891755,"display_name":"n_ravikumar1"},"score":0,"creation_date":1667192018,"post_id":74257044,"comment_id":131104246,"body_markdown":"Hi Timor / Basil , I have used Long.valueOf(). it worked fine till it encounters one date field &quot;AsofDate&quot; and throws exception like below  &quot;Exception in thread &quot;main&quot; com.microsoft.sqlserver.jdbc.SQLServerException: The conversion from date to INTEGER is unsupported&quot; . Any idea how to fix this?","body":"Hi Timor / Basil , I have used Long.valueOf(). it worked fine till it encounters one date field &quot;AsofDate&quot; and throws exception like below  &quot;Exception in thread &quot;main&quot; com.microsoft.sqlserver.jdbc.SQLServerException: The conversion from date to INTEGER is unsupported&quot; . Any idea how to fix this?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667203366,"post_id":74257044,"comment_id":131106360,"body_markdown":"Don&#39;t select non-numeric columns? Hint: don&#39;t use `select *`","body":"Don&#39;t select non-numeric columns? Hint: don&#39;t use <code>select *</code>"},{"owner":{"account_id":16460622,"reputation":1,"user_id":11891755,"display_name":"n_ravikumar1"},"score":0,"creation_date":1667250008,"post_id":74257044,"comment_id":131121403,"body_markdown":"that is nice idea!! Thanks g00se! I want to convert My output to excel sheet ,My output as of now it is like below","body":"that is nice idea!! Thanks g00se! I want to convert My output to excel sheet ,My output as of now it is like below"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667250764,"post_id":74257044,"comment_id":131121591,"body_markdown":"Unfortunately it looks like someone else has removed that &quot;nice idea&quot; from my post","body":"Unfortunately it looks like someone else has removed that &quot;nice idea&quot; from my post"},{"owner":{"account_id":16460622,"reputation":1,"user_id":11891755,"display_name":"n_ravikumar1"},"score":0,"creation_date":1667251685,"post_id":74257044,"comment_id":131121783,"body_markdown":"that is nice idea!! Thanks g00se! I want to convert My output to excel sheet ,My output as of now it is like below\n2086269503 RunId, 2086269521 RunId -18 DifferenceRunId, 2523922677 ScenarioId, 2523928636 ScenarioId  DifferenceScenarioId\n\nExpected in Excel like,\nRunId\tRunId\tDifference RunId \tScenario id\tScenario id\tDifference Scenario_Id \n2086269503\t2086269521\t-18\t2523922677\t2523928636\t-5959\nis it possible to do? if yes any idea will help me","body":"that is nice idea!! Thanks g00se! I want to convert My output to excel sheet ,My output as of now it is like below 2086269503 RunId, 2086269521 RunId -18 DifferenceRunId, 2523922677 ScenarioId, 2523928636 ScenarioId  DifferenceScenarioId  Expected in Excel like, RunId\tRunId\tDifference RunId \tScenario id\tScenario id\tDifference Scenario_Id  2086269503\t2086269521\t-18\t2523922677\t2523928636\t-5959 is it possible to do? if yes any idea will help me"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667252671,"post_id":74257044,"comment_id":131121993,"body_markdown":"You can [convert to csv](https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv)","body":"You can <a href=\"https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv\" rel=\"nofollow noreferrer\">convert to csv</a>"}],"owner":{"account_id":16460622,"reputation":1,"user_id":11891755,"display_name":"n_ravikumar1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667166971,"creation_date":1667166971,"question_id":74257044,"body_markdown":"I have two results sets. Each result set has same number of Columns and Column names are also same. I need to subtract each column values and display the difference in column and row fashion in an excel sheet.\r\n\r\n\r\n```\r\nResult Set1\r\nRunId,     \tScenarioId   \trunName\t\t\tPrice_M\t\tPrice_N  \r\n2086269503  \t2523922677\tMachine1-DBT10251\t\t56\t\t100.56\r\n\r\nResult Set2\r\nRunId\t\tScenarioId\trunName\t\t\tPrice_M\t\tPrice_N\r\n2086269521 \t2523928636\tMachine2-DBT10251\t\t47\t\t45.68\r\n\r\n\r\nIn this , Data type of RunId, ScenarioId and Price_M is BigInt, Data type of runName is Varchar, Datatype of Price__N is Float\r\n\r\nI am expecting an output like,\r\n\r\nOutput\r\nRunId,     \tScenarioId   \trunName\t\t\tPrice_M\t\tPrice_N\r\n-18\t\t-5959\t\tNo need to display \t9\t\t54.88\r\n\r\n\r\n\r\n```\r\nBut my code gives output as without the line of code &quot;System.out.print(Integer.valueOf(columnValue1) - Integer.valueOf(columnValue2) + &quot;Difference&quot; + resultSetMetaData1.getColumnName(i));&quot;\r\n\r\n2086269503 RunId,  2086269521 RunId,  2523922677 ScenarioPortfolioId,  2523928636 ScenarioPortfolioId,  Machine1-DBT10251 runName,  Machine1-DBT10251 runName\r\n\r\nBut with the above line of code  It throws me an exception like below\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2523922677&quot; and the output is like,\r\n2086269503 RunId,  2086269521 RunId -18 DifferenceRunId,  2523922677 ScenarioPortfolioId,  2523928636 ScenarioPortfolioId\r\n\r\n\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:sqlserver:DB server;username:password)\r\n    Statement st1 = conn.createStatement();\r\n    String sqlStr1 = &quot; select * from tablename1 where runName=&#39;Machine1-DBT10251&#39; order by\r\n    RunId,ScenarioPortfolioId&quot;; \r\n    ResultSet rs1 = st1.executeQuery(sqlStr1);\r\n    Statement st2 = conn.createStatement();\r\n    String sqlStr2 = &quot; select * from tablename1 where runName=&#39;Machine2-DBT10251&#39; order by \r\n    RunId,ScenarioPortfolioId&quot;;\r\n    ResultSet rs2 = st2.executeQuery(sqlStr2);\r\n    while (rs1.next()) {\r\n    rs2.next();\r\n    ResultSetMetaData resultSetMetaData1 = rs1.getMetaData();\r\n    ResultSetMetaData resultSetMetaData2 = rs2.getMetaData()\r\n    int count = resultSetMetaData1.getColumnCount();           \r\n    //System.out.println(&quot;the count is&quot; + count);\r\n    for (int i = 1; i &lt;= count; i++) \r\n    {\r\n    if (rs1.getObject(i)!= null &amp;&amp; rs2.getObject(i) != null ) \r\n    {\r\n    if (!rs1.getObject(i).equals(rs2.getObject(i))\r\n    {\r\n    if (i &gt; 1) System.out.print(&quot;,  &quot;);\r\n    String columnValue1 = rs1.getInt(i);\r\n    String columnValue2 = rs2.getInt(i);\r\n    System.out.print(columnValue1 + &quot; &quot; + resultSetMetaData1.getColumnName(i));\r\n    System.out.print(&quot;,  &quot;);\r\n    System.out.print(columnValue2 + &quot; &quot; + resultSetMetaData2.getColumnName(i));\r\n    System.out.println(columnValue1 + &quot; is of type &quot; + ((Object)columnValue1).getClass().getSimpleName());\r\n    System.out.print(&quot;Sowmya&quot; + resultSetMetaData1.getColumnName(i));\r\n    System.out.print(a-b + &quot;Difference&quot; + resultSetMetaData1.getColumnName(i));\r\n    System.out.print(Integer.valueOf(columnValue1) - Integer.valueOf(columnValue2) + &quot;Difference&quot; + \r\n    resultSetMetaData1.getColumnName(i));\t        \r\n    }\r\n   \r\n    }\r\n\t\t\t            \t\r\n    }\r\n    System.out.println(&quot;TRUE&quot;);\r\n\t\t\t            \r\nPlease can anyone help me how to get My expected result?\r\n```\r\n\r\n```\r\n","title":"Need to subtract each and every column value of two result sets in Java","body":"<p>I have two results sets. Each result set has same number of Columns and Column names are also same. I need to subtract each column values and display the difference in column and row fashion in an excel sheet.</p>\n<pre><code>Result Set1\nRunId,      ScenarioId      runName         Price_M     Price_N  \n2086269503      2523922677  Machine1-DBT10251       56      100.56\n\nResult Set2\nRunId       ScenarioId  runName         Price_M     Price_N\n2086269521  2523928636  Machine2-DBT10251       47      45.68\n\n\nIn this , Data type of RunId, ScenarioId and Price_M is BigInt, Data type of runName is Varchar, Datatype of Price__N is Float\n\nI am expecting an output like,\n\nOutput\nRunId,      ScenarioId      runName         Price_M     Price_N\n-18     -5959       No need to display  9       54.88\n\n\n\n</code></pre>\n<p>But my code gives output as without the line of code &quot;System.out.print(Integer.valueOf(columnValue1) - Integer.valueOf(columnValue2) + &quot;Difference&quot; + resultSetMetaData1.getColumnName(i));&quot;</p>\n<p>2086269503 RunId,  2086269521 RunId,  2523922677 ScenarioPortfolioId,  2523928636 ScenarioPortfolioId,  Machine1-DBT10251 runName,  Machine1-DBT10251 runName</p>\n<p>But with the above line of code  It throws me an exception like below</p>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;2523922677&quot; and the output is like,\n2086269503 RunId,  2086269521 RunId -18 DifferenceRunId,  2523922677 ScenarioPortfolioId,  2523928636 ScenarioPortfolioId</p>\n<pre><code>Connection conn = DriverManager.getConnection(&quot;jdbc:sqlserver:DB server;username:password)\nStatement st1 = conn.createStatement();\nString sqlStr1 = &quot; select * from tablename1 where runName='Machine1-DBT10251' order by\nRunId,ScenarioPortfolioId&quot;; \nResultSet rs1 = st1.executeQuery(sqlStr1);\nStatement st2 = conn.createStatement();\nString sqlStr2 = &quot; select * from tablename1 where runName='Machine2-DBT10251' order by \nRunId,ScenarioPortfolioId&quot;;\nResultSet rs2 = st2.executeQuery(sqlStr2);\nwhile (rs1.next()) {\nrs2.next();\nResultSetMetaData resultSetMetaData1 = rs1.getMetaData();\nResultSetMetaData resultSetMetaData2 = rs2.getMetaData()\nint count = resultSetMetaData1.getColumnCount();           \n//System.out.println(&quot;the count is&quot; + count);\nfor (int i = 1; i &lt;= count; i++) \n{\nif (rs1.getObject(i)!= null &amp;&amp; rs2.getObject(i) != null ) \n{\nif (!rs1.getObject(i).equals(rs2.getObject(i))\n{\nif (i &gt; 1) System.out.print(&quot;,  &quot;);\nString columnValue1 = rs1.getInt(i);\nString columnValue2 = rs2.getInt(i);\nSystem.out.print(columnValue1 + &quot; &quot; + resultSetMetaData1.getColumnName(i));\nSystem.out.print(&quot;,  &quot;);\nSystem.out.print(columnValue2 + &quot; &quot; + resultSetMetaData2.getColumnName(i));\nSystem.out.println(columnValue1 + &quot; is of type &quot; + ((Object)columnValue1).getClass().getSimpleName());\nSystem.out.print(&quot;Sowmya&quot; + resultSetMetaData1.getColumnName(i));\nSystem.out.print(a-b + &quot;Difference&quot; + resultSetMetaData1.getColumnName(i));\nSystem.out.print(Integer.valueOf(columnValue1) - Integer.valueOf(columnValue2) + &quot;Difference&quot; + \nresultSetMetaData1.getColumnName(i));           \n}\n\n}\n                        \n}\nSystem.out.println(&quot;TRUE&quot;);\n                    \n</code></pre>\n<p>Please can anyone help me how to get My expected result?</p>\n<pre><code>\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":7,"creation_date":1667155794,"post_id":74255834,"comment_id":131098785,"body_markdown":"Running on Windows, aren&#39;t we? This is a terminal encoding problem. Java strings are encoded in UTF-16 by default.","body":"Running on Windows, aren&#39;t we? This is a terminal encoding problem. Java strings are encoded in UTF-16 by default."},{"owner":{"account_id":26778544,"reputation":33,"user_id":20373767,"display_name":"bob bob"},"score":0,"creation_date":1667167720,"post_id":74255834,"comment_id":131101197,"body_markdown":"yes is on windows, also how do you change the UTF-16?","body":"yes is on windows, also how do you change the UTF-16?"}],"answers":[{"tags":[],"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667157437,"creation_date":1667157437,"answer_id":74256031,"question_id":74255834,"body_markdown":"This is the behavior of your windows command prompt text encoding.\r\n&lt;br&gt;\r\nOne quick workaround is to switch the font of your command prompt to something that accepts these non-english characters.\r\n\r\neg.\r\n\r\nThis text: \r\n[![default][1]][1]\r\n\r\nBecomes this: \r\n[![enter image description here][2]][2]\r\n\r\nWhen I change the properties &gt; font from &quot;Consolas&quot; to &quot;MS Gothic&quot;\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J5UEg.png\r\n  [2]: https://i.stack.imgur.com/vs8ux.png\r\n  [3]: https://i.stack.imgur.com/cIxTN.png\r\n  [4]: https://i.stack.imgur.com/L1j47.png","title":"Java print &quot;?&quot; instead of the thing","body":"<p>This is the behavior of your windows command prompt text encoding.\n<br>\nOne quick workaround is to switch the font of your command prompt to something that accepts these non-english characters.</p>\n<p>eg.</p>\n<p>This text:\n<a href=\"https://i.stack.imgur.com/J5UEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5UEg.png\" alt=\"default\" /></a></p>\n<p>Becomes this:\n<a href=\"https://i.stack.imgur.com/vs8ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vs8ux.png\" alt=\"enter image description here\" /></a></p>\n<p>When I change the properties &gt; font from &quot;Consolas&quot; to &quot;MS Gothic&quot;\n<a href=\"https://i.stack.imgur.com/cIxTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cIxTN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L1j47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1j47.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26778544,"reputation":33,"user_id":20373767,"display_name":"bob bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74256031,"answer_count":1,"score":3,"last_activity_date":1667166954,"creation_date":1667155643,"question_id":74255834,"body_markdown":"```\r\n\r\npublic class javaClass {\r\n    public static void main(String [] arg) {\r\n        String row1 = &quot;A____A&quot;;\r\n        String row2 = &quot;|・ㅅ・|&quot;;\r\n        String row3 = &quot;|っ　ｃ|&quot;;\r\n        String row4 = &quot;|　　　|&quot;;\r\n        String row5 = &quot;|　　　|&quot;;\r\n        String row6 = &quot;U￣￣U&quot;;\r\n          \r\n        \r\n        System.out.println(row1);\r\n        System.out.println(row2);\r\n        System.out.println(row3);\r\n        System.out.println(row4);\r\n        System.out.println(row5);\r\n        System.out.println(row6);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI was trying to print out the drawing when running the code in my windows command prompt, but it print out;\r\n```\r\nA____A\r\n|???|\r\n|???|\r\n|???|\r\n|???|\r\nU??U\r\n```\r\nwhat I am doing wrong? new to Java","title":"Java print &quot;?&quot; instead of the thing","body":"<pre><code>\npublic class javaClass {\n    public static void main(String [] arg) {\n        String row1 = &quot;A____A&quot;;\n        String row2 = &quot;|・ㅅ・|&quot;;\n        String row3 = &quot;|っ　ｃ|&quot;;\n        String row4 = &quot;|　　　|&quot;;\n        String row5 = &quot;|　　　|&quot;;\n        String row6 = &quot;U￣￣U&quot;;\n          \n        \n        System.out.println(row1);\n        System.out.println(row2);\n        System.out.println(row3);\n        System.out.println(row4);\n        System.out.println(row5);\n        System.out.println(row6);\n    }\n}\n</code></pre>\n<p>I was trying to print out the drawing when running the code in my windows command prompt, but it print out;</p>\n<pre><code>A____A\n|???|\n|???|\n|???|\n|???|\nU??U\n</code></pre>\n<p>what I am doing wrong? new to Java</p>\n"},{"tags":["java","docker-compose","psql","jdbi"],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667166164,"creation_date":1667166164,"answer_id":74256983,"question_id":74255444,"body_markdown":"The password is not set as a query parameter on the database URL. It is a separate property entirely.\r\n\r\nVarious examples I found online include:\r\n\r\n```java\r\nJdbi jdbi = Jdbi.create(&quot;jdbc:postgresql://localhost:5432/db&quot;, &quot;dbuser&quot;, &quot;password&quot;);\r\ntry (Handle handle = jdbi.open()) {\r\n    doStuffWith(handle);\r\n}\r\n```\r\nor\r\n```java\r\n@Override\r\nprotected DataSource createDataSource() {\r\n  final PGSimpleDataSource datasource = new PGSimpleDataSource();\r\n  datasource.setServerName(&quot;localhost&quot;);\r\n  datasource.setPortNumber(5432);\r\n  datasource.setUser(&quot;dbuser&quot;);\r\n  datasource.setPassword(&quot;password&quot;);\r\n  datasource.setDatabaseName(&quot;db&quot;);\r\n  datasource.setApplicationName(&quot;Test Database&quot;);\r\n  return datasource;\r\n}\r\n```\r\nOr \r\n```java\r\nPGSimpleDataSource pgSimpleDataSource = new PGSimpleDataSource();\r\npgSimpleDataSource.setBinaryTransfer(true);\r\npgSimpleDataSource.setApplicationName(&quot;geogig&quot;);\r\npgSimpleDataSource.setServerName(&quot;localhost&quot;);\r\npgSimpleDataSource.setPortNumber(5432);\r\npgSimpleDataSource.setDatabaseName(&quot;db&quot;);\r\npgSimpleDataSource.setUser(&quot;dbuser&quot;);\r\npgSimpleDataSource.setPassword(&quot;password&quot;);\r\n```\r\n\r\nNo where is there any example where the password is set as a query param on the db url string. ","title":"org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dbuser&quot;","body":"<p>The password is not set as a query parameter on the database URL. It is a separate property entirely.</p>\n<p>Various examples I found online include:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Jdbi jdbi = Jdbi.create(&quot;jdbc:postgresql://localhost:5432/db&quot;, &quot;dbuser&quot;, &quot;password&quot;);\ntry (Handle handle = jdbi.open()) {\n    doStuffWith(handle);\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected DataSource createDataSource() {\n  final PGSimpleDataSource datasource = new PGSimpleDataSource();\n  datasource.setServerName(&quot;localhost&quot;);\n  datasource.setPortNumber(5432);\n  datasource.setUser(&quot;dbuser&quot;);\n  datasource.setPassword(&quot;password&quot;);\n  datasource.setDatabaseName(&quot;db&quot;);\n  datasource.setApplicationName(&quot;Test Database&quot;);\n  return datasource;\n}\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>PGSimpleDataSource pgSimpleDataSource = new PGSimpleDataSource();\npgSimpleDataSource.setBinaryTransfer(true);\npgSimpleDataSource.setApplicationName(&quot;geogig&quot;);\npgSimpleDataSource.setServerName(&quot;localhost&quot;);\npgSimpleDataSource.setPortNumber(5432);\npgSimpleDataSource.setDatabaseName(&quot;db&quot;);\npgSimpleDataSource.setUser(&quot;dbuser&quot;);\npgSimpleDataSource.setPassword(&quot;password&quot;);\n</code></pre>\n<p>No where is there any example where the password is set as a query param on the db url string.</p>\n"}],"owner":{"account_id":26778152,"reputation":11,"user_id":20373447,"display_name":"Andr&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667166164,"creation_date":1667152550,"question_id":74255444,"body_markdown":"So i have been trying to connect to a psql database that&#39;s in docker using jdbi connection.\r\nAnd it always says that the password is incorrect even though I only set the password in two places of my app.\r\n\r\nmy docker-compose.yml\r\n\r\n```\r\nversion: &quot;3.3&quot;\r\nservices:\r\n  db-tests:\r\n    container_name: db-tests\r\n    build:\r\n      context: .\r\n      dockerfile: ./tests/Dockerfile-db-test\r\n    environment:\r\n      - POSTGRES_USER=dbuser\r\n      - POSTGRES_PASSWORD=changeit\r\n      - POSTGRES_DB=db\r\n    ports:\r\n      - 5432:5432\r\n```\r\n\r\nWhere I try to connect to the bd\r\n\r\n```\r\nJdbi.create(\r\n    PGSimpleDataSource().apply {\r\n        setURL(&quot;jdbc:postgresql://localhost:5432/db?user=dbuser&amp;password=changeit&quot;)\r\n    }\r\n).configure()\r\n\r\n```\r\n\r\nLaunch docker in cmd:\r\n\r\n```\r\ndocker compose up --build --force-recreate\r\n```\r\nDocker Configuration:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/lZk5x.png)](https://i.stack.imgur.com/lZk5x.png)\r\n\r\nlogin to the user dbuser\r\n\r\n```\r\ndocker exec -ti db-tests bash\r\n\r\nthen\r\n\r\npsql -U dbuser -d db\r\n\r\nor\r\n\r\npsql -U dbuser --password -d db\r\n```\r\nthe first psql command just connects to the user in the cmd whithout asking for password.\r\nthe second psql command asks for password, and i can write whatever i want and it&#39;s always valid.\r\n\r\nWhy can&#39;t I connect to my BD using jdbi??\r\n\r\n\r\n\r\n\r\n","title":"org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;dbuser&quot;","body":"<p>So i have been trying to connect to a psql database that's in docker using jdbi connection.\nAnd it always says that the password is incorrect even though I only set the password in two places of my app.</p>\n<p>my docker-compose.yml</p>\n<pre><code>version: &quot;3.3&quot;\nservices:\n  db-tests:\n    container_name: db-tests\n    build:\n      context: .\n      dockerfile: ./tests/Dockerfile-db-test\n    environment:\n      - POSTGRES_USER=dbuser\n      - POSTGRES_PASSWORD=changeit\n      - POSTGRES_DB=db\n    ports:\n      - 5432:5432\n</code></pre>\n<p>Where I try to connect to the bd</p>\n<pre><code>Jdbi.create(\n    PGSimpleDataSource().apply {\n        setURL(&quot;jdbc:postgresql://localhost:5432/db?user=dbuser&amp;password=changeit&quot;)\n    }\n).configure()\n\n</code></pre>\n<p>Launch docker in cmd:</p>\n<pre><code>docker compose up --build --force-recreate\n</code></pre>\n<p>Docker Configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/lZk5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZk5x.png\" alt=\"enter image description here\" /></a></p>\n<p>login to the user dbuser</p>\n<pre><code>docker exec -ti db-tests bash\n\nthen\n\npsql -U dbuser -d db\n\nor\n\npsql -U dbuser --password -d db\n</code></pre>\n<p>the first psql command just connects to the user in the cmd whithout asking for password.\nthe second psql command asks for password, and i can write whatever i want and it's always valid.</p>\n<p>Why can't I connect to my BD using jdbi??</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webflux"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1667037295,"post_id":74129273,"comment_id":131079118,"body_markdown":"what you want to do actually ? Then how do you define if a method is POST or GET or should matched to a particular content-type etc ?  Also , if the method is just a normal java method which you can use any input and output type ? because if you want to use RouterFunction , the java method must be in the ServerRequest and ServerResponse type.","body":"what you want to do actually ? Then how do you define if a method is POST or GET or should matched to a particular content-type etc ?  Also , if the method is just a normal java method which you can use any input and output type ? because if you want to use RouterFunction , the java method must be in the ServerRequest and ServerResponse type."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1667110424,"post_id":74129273,"comment_id":131090487,"body_markdown":"Also, not really sure what do you want to achieve. Please explain problem more clearly and provide some simple code  example if possible","body":"Also, not really sure what do you want to achieve. Please explain problem more clearly and provide some simple code  example if possible"}],"answers":[{"comments":[{"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"score":0,"creation_date":1667317135,"post_id":74255715,"comment_id":131136650,"body_markdown":"thanks for the reply. I attempted this . Do you think this works better ? https://github.com/lezter-prog/automaticRouterFunction/blob/main/src/main/java/com/example/portfolio/api/RouterAPI.java","body":"thanks for the reply. I attempted this . Do you think this works better ? <a href=\"https://github.com/lezter-prog/automaticRouterFunction/blob/main/src/main/java/com/example/portfolio/api/RouterAPI.java\" rel=\"nofollow noreferrer\">github.com/lezter-prog/automaticRouterFunction/blob/main/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1667333768,"post_id":74255715,"comment_id":131142059,"body_markdown":"good try but i would not use these codes in production. Also do not know what is your intention to open a `File` . If you want to access a java class &#39;s metadata , reflection API already can do that. Also , if you package you application as JAR , it won&#39;t work as all the java file will be complied to .class. there are no `.java` file , and also do not have the  `/src/main/java` folder etc.","body":"good try but i would not use these codes in production. Also do not know what is your intention to open a <code>File</code> . If you want to access a java class &#39;s metadata , reflection API already can do that. Also , if you package you application as JAR , it won&#39;t work as all the java file will be complied to .class. there are no <code>.java</code> file , and also do not have the  <code>&#47;src&#47;main&#47;java</code> folder etc."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1667333836,"post_id":74255715,"comment_id":131142086,"body_markdown":"so my advice is forget the RouterFunction and stick to my spring-mvc annotation approach , and if you find my answer is useful , consider to accept it and upvote it as i spend a lot of effort to help you for free.thanks","body":"so my advice is forget the RouterFunction and stick to my spring-mvc annotation approach , and if you find my answer is useful , consider to accept it and upvote it as i spend a lot of effort to help you for free.thanks"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667164911,"creation_date":1667154669,"answer_id":74255715,"question_id":74129273,"body_markdown":"If I understand your question correctly, you want to automatically add a path prefix to every controller method &#39;s URL and the path prefix should be derived from the controller &#39;s package name.\r\n\r\nYou can do it by `RouterFunction` but it requires to implement the controller method (i.e. `HandlerFunction`) using `ServerRequest` as the input parameter and `ServerResponse` as the output. So if you want to implement the controller method as a normal java method which can use any types as the input and output, you need to implement some codes to convert between the `ServerRequest`/ `ServerResponse` to any input and output type in order to adapt `HandlerFunction` can invoke any normal java method etc. You will then end up notice that you are re-inventing things that are already done by the spring-mvc annotated controller approach. \r\n\r\nActually spring-mvc already allows to customise a path prefix of a controller method using `PathMatchConfigurer` (see [doc][1] at here). But using `PathMatchConfigurer` is quite static which require you to manually maintain all the path prefixes. So in order to be more dynamic to configure all path prefixes based on the controller &#39;s package automatically , we need another way to do it. \r\n\r\nUnder the cover what `PathMatchConfigurer` does is just configure the [`pathPrefixes`][2] inside `RequestMappingHandlerMapping` before it is instantiated. So we need a way to configure it before it instantiates `RequestMappingHandlerMapping` but after we have enough information to know all path prefixes we need to configure which happen after we know which controller beans will be created by spring.\r\n\r\n`BeanFactoryPostProcessor` exactly provides such hook which allow to execute codes before instantiating any beans but after all the bean metadata (i.e. `BeanDefinition`) are collected. So we can implement a `BeanFactoryPostProcessor` which its job is to configure this `pathPrefixes` map for `RequestMappingHandlerMapping` bean by finding out all packages that containing controller and then configure a path prefix for each of those package.\r\n\r\nThe following `BeanFactoryPostProcessor` should be a good staring point for you.\r\n\r\n``` java\r\n\tpublic class PathPrefixFactoryPostProcessor implements BeanFactoryPostProcessor {\r\n\r\n\t\tprivate final String rootPackage;\r\n\r\n\t\tpublic FooBeanFactoryPostProcessor(String rootPackage) {\r\n\t\t\tthis.rootPackage = rootPackage;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n\r\n\t\t\tList&lt;String&gt; controllerPackageNames = findPackageContainController(beanFactory);\r\n\r\n\t\t\tMap&lt;String, Predicate&lt;Class&lt;?&gt;&gt;&gt; pathPrefixesMap = new HashMap&lt;&gt;();\r\n\t\t\tfor (String packageName : controllerPackageNames) {\r\n\t\t\t\tif (packageName.startsWith(rootPackage)) {\r\n\t\t\t\t\tString pathPrefix = packageName.substring(rootPackage.length());\r\n\t\t\t\t\tpathPrefix = pathPrefix.replace(&quot;.&quot;, &quot;/&quot;);\r\n\t\t\t\t\tpathPrefixesMap.put(pathPrefix, HandlerTypePredicate.forBasePackage(packageName));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n            if(!pathPrefixesMap.isEmpty()){\r\n\t\t\t   BeanDefinition def = beanFactory.getBeanDefinition(&quot;requestMappingHandlerMapping&quot;);\r\n\t\t\t   def.getPropertyValues().add(&quot;pathPrefixes&quot;, pathPrefixesMap);\r\n            }\r\n\t\t}\r\n\r\n\t\tprivate List&lt;String&gt; findPackageContainController(ConfigurableListableBeanFactory beanFactory) {\r\n\t\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String bdName : beanFactory.getBeanDefinitionNames()) {\r\n\t\t\t\tBeanDefinition bd = beanFactory.getBeanDefinition(bdName);\r\n\r\n\t\t\t\tClass&lt;?&gt; type = bd.getResolvableType().resolve();\r\n\t\t\t\tif (type != null) {\r\n\t\t\t\t\tif (AnnotatedElementUtils.hasAnnotation(type, Controller.class) ||\r\n\t\t\t\t\t\t\tAnnotatedElementUtils.hasAnnotation(type, RequestMapping.class)) {\r\n\t\t\t\t\t\tresult.add(type.getPackageName());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n - It is assumed that you configure the `RequestMappingHandlerMapping` bean has the name `requestMappingHandlerMapping` (which should be by default)\r\n - If the package that containing a controller class does not start with `org.company.api` , no path prefix will be added.\r\n\r\n\r\nAnd then define it as a bean :\r\n\r\n```\r\n@Configuraiton\r\npublic class Config {\r\n\t\r\n\t@Bean\r\n\tpublic PathPrefixFactoryPostProcessor pathPrefixFactoryPostProcessor(){\r\n\t\treturn new PathPrefixFactoryPostProcessor(&quot;org.company.api&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThen given both `org.company.api.user` and `org.company.api.user.login` package contains the following controller \r\n\r\n```\r\n@RestController\r\npublic class FooController {\r\n\t\r\n   @GetMapping(&quot;/foo&quot;)\r\n   public String foo(){\r\n\r\n   }\r\n}\r\n```\r\n\r\nThe `foo()` is mapped to \r\n\r\n - `/user/foo` for the package `org.company.api.user` \r\n - `/user/login/foo` for the package `org.company.api.user.login`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-config-path-matching\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#setPathPrefixes-java.util.Map-","title":"file-based (or package-based) RouterFunction in a spring boot webflux app","body":"<p>If I understand your question correctly, you want to automatically add a path prefix to every controller method 's URL and the path prefix should be derived from the controller 's package name.</p>\n<p>You can do it by <code>RouterFunction</code> but it requires to implement the controller method (i.e. <code>HandlerFunction</code>) using <code>ServerRequest</code> as the input parameter and <code>ServerResponse</code> as the output. So if you want to implement the controller method as a normal java method which can use any types as the input and output, you need to implement some codes to convert between the <code>ServerRequest</code>/ <code>ServerResponse</code> to any input and output type in order to adapt <code>HandlerFunction</code> can invoke any normal java method etc. You will then end up notice that you are re-inventing things that are already done by the spring-mvc annotated controller approach.</p>\n<p>Actually spring-mvc already allows to customise a path prefix of a controller method using <code>PathMatchConfigurer</code> (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-config-path-matching\" rel=\"nofollow noreferrer\">doc</a> at here). But using <code>PathMatchConfigurer</code> is quite static which require you to manually maintain all the path prefixes. So in order to be more dynamic to configure all path prefixes based on the controller 's package automatically , we need another way to do it.</p>\n<p>Under the cover what <code>PathMatchConfigurer</code> does is just configure the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#setPathPrefixes-java.util.Map-\" rel=\"nofollow noreferrer\"><code>pathPrefixes</code></a> inside <code>RequestMappingHandlerMapping</code> before it is instantiated. So we need a way to configure it before it instantiates <code>RequestMappingHandlerMapping</code> but after we have enough information to know all path prefixes we need to configure which happen after we know which controller beans will be created by spring.</p>\n<p><code>BeanFactoryPostProcessor</code> exactly provides such hook which allow to execute codes before instantiating any beans but after all the bean metadata (i.e. <code>BeanDefinition</code>) are collected. So we can implement a <code>BeanFactoryPostProcessor</code> which its job is to configure this <code>pathPrefixes</code> map for <code>RequestMappingHandlerMapping</code> bean by finding out all packages that containing controller and then configure a path prefix for each of those package.</p>\n<p>The following <code>BeanFactoryPostProcessor</code> should be a good staring point for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class PathPrefixFactoryPostProcessor implements BeanFactoryPostProcessor {\n\n        private final String rootPackage;\n\n        public FooBeanFactoryPostProcessor(String rootPackage) {\n            this.rootPackage = rootPackage;\n        }\n\n        @Override\n        public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n\n            List&lt;String&gt; controllerPackageNames = findPackageContainController(beanFactory);\n\n            Map&lt;String, Predicate&lt;Class&lt;?&gt;&gt;&gt; pathPrefixesMap = new HashMap&lt;&gt;();\n            for (String packageName : controllerPackageNames) {\n                if (packageName.startsWith(rootPackage)) {\n                    String pathPrefix = packageName.substring(rootPackage.length());\n                    pathPrefix = pathPrefix.replace(&quot;.&quot;, &quot;/&quot;);\n                    pathPrefixesMap.put(pathPrefix, HandlerTypePredicate.forBasePackage(packageName));\n                }\n\n            }\n            if(!pathPrefixesMap.isEmpty()){\n               BeanDefinition def = beanFactory.getBeanDefinition(&quot;requestMappingHandlerMapping&quot;);\n               def.getPropertyValues().add(&quot;pathPrefixes&quot;, pathPrefixesMap);\n            }\n        }\n\n        private List&lt;String&gt; findPackageContainController(ConfigurableListableBeanFactory beanFactory) {\n            List&lt;String&gt; result = new ArrayList&lt;&gt;();\n            for (String bdName : beanFactory.getBeanDefinitionNames()) {\n                BeanDefinition bd = beanFactory.getBeanDefinition(bdName);\n\n                Class&lt;?&gt; type = bd.getResolvableType().resolve();\n                if (type != null) {\n                    if (AnnotatedElementUtils.hasAnnotation(type, Controller.class) ||\n                            AnnotatedElementUtils.hasAnnotation(type, RequestMapping.class)) {\n                        result.add(type.getPackageName());\n                    }\n                }\n            }\n            return result;\n        }\n    }\n</code></pre>\n<ul>\n<li>It is assumed that you configure the <code>RequestMappingHandlerMapping</code> bean has the name <code>requestMappingHandlerMapping</code> (which should be by default)</li>\n<li>If the package that containing a controller class does not start with <code>org.company.api</code> , no path prefix will be added.</li>\n</ul>\n<p>And then define it as a bean :</p>\n<pre><code>@Configuraiton\npublic class Config {\n    \n    @Bean\n    public PathPrefixFactoryPostProcessor pathPrefixFactoryPostProcessor(){\n        return new PathPrefixFactoryPostProcessor(&quot;org.company.api&quot;);\n    }\n}\n</code></pre>\n<p>Then given both <code>org.company.api.user</code> and <code>org.company.api.user.login</code> package contains the following controller</p>\n<pre><code>@RestController\npublic class FooController {\n    \n   @GetMapping(&quot;/foo&quot;)\n   public String foo(){\n\n   }\n}\n</code></pre>\n<p>The <code>foo()</code> is mapped to</p>\n<ul>\n<li><code>/user/foo</code> for the package <code>org.company.api.user</code></li>\n<li><code>/user/login/foo</code> for the package <code>org.company.api.user.login</code></li>\n</ul>\n"}],"owner":{"account_id":38923,"reputation":1775,"user_id":112050,"accept_rate":31,"display_name":"Sandeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1667164911,"creation_date":1666199061,"question_id":74129273,"body_markdown":"One of the things we want in an internal company framework is file path or package based routes in a spring boot app.\r\nLuckily, in java, file and packages are the same...so either works.\r\n\r\nfor example, i want to enforce that all packages under `org.company.api` will be picked up from their package name.\r\nso a controller in `org.company.api.user` will be `/user` and `org.company.api.user.login` will be `/user/login`.\r\nNOTE: remember `org.company` can vary from project to project. basically we want  everything under the directory api (which is equivalent to the api subpackage) to be used for this.\r\n\r\nI think i can achieve this using webflux router functions, but im not sure if there is a better way. How would the routerfunctions be generated for all files under a directory ?","title":"file-based (or package-based) RouterFunction in a spring boot webflux app","body":"<p>One of the things we want in an internal company framework is file path or package based routes in a spring boot app.\nLuckily, in java, file and packages are the same...so either works.</p>\n<p>for example, i want to enforce that all packages under <code>org.company.api</code> will be picked up from their package name.\nso a controller in <code>org.company.api.user</code> will be <code>/user</code> and <code>org.company.api.user.login</code> will be <code>/user/login</code>.\nNOTE: remember <code>org.company</code> can vary from project to project. basically we want  everything under the directory api (which is equivalent to the api subpackage) to be used for this.</p>\n<p>I think i can achieve this using webflux router functions, but im not sure if there is a better way. How would the routerfunctions be generated for all files under a directory ?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667164732,"post_id":74256829,"comment_id":131100634,"body_markdown":"Have you tried doing something else other than `wrap_content` for the size?","body":"Have you tried doing something else other than <code>wrap_content</code> for the size?"},{"owner":{"account_id":26779278,"reputation":21,"user_id":20374391,"display_name":"ryo_09"},"score":0,"creation_date":1667165754,"post_id":74256829,"comment_id":131100816,"body_markdown":"yes, I have tried multiple sizes (square, match_parent etc.) but none of them worked.","body":"yes, I have tried multiple sizes (square, match_parent etc.) but none of them worked."}],"owner":{"account_id":26779278,"reputation":21,"user_id":20374391,"display_name":"ryo_09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667164610,"creation_date":1667164610,"question_id":74256829,"body_markdown":"I tried to embed an mp4 file into the android app but it does not appear on my emulator.\r\n\r\n```activity_main.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/videoView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n```MainActivity.java\r\npackage com.example.videodemo2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.MediaController;\r\nimport android.widget.VideoView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        VideoView videoView = (VideoView) findViewById(R.id.videoView);\r\n\r\n        videoView.setVideoPath(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.demovideo);\r\n\r\n        MediaController mediaController = new MediaController(this);\r\n\r\n        mediaController.setAnchorView(videoView);\r\n\r\n        videoView.setMediaController(mediaController);\r\n\r\n        videoView.start();\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe video view dissapears once I set the video path. Without the line videoView.SetVideoPath(), the video view is visible (though the mp4 file is not visible).\r\n\r\nThe mp4 file is in res/raw/\r\n\r\nSince it does not show me any error messages, I am struggling with finding the issue.\r\n\r\nI checked the file names and its data format, and they seem correct.\r\n\r\nI also tried\r\n\r\n```\r\nvideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.demovideo));\r\n```\r\n\r\nbut did not work.\r\n\r\nSince it does not work even if I copied a file from the internet and ran, it might be some issues regarding the versions of the android studio.\r\n\r\nI am using Android Studio Dolphin | 2021.3.1 Patch 1 on M1 Mac.","title":"Android Studio: Video View disappears once I set the path to my video (mp4 file)","body":"<p>I tried to embed an mp4 file into the android app but it does not appear on my emulator.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/videoView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<pre><code>package com.example.videodemo2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        VideoView videoView = (VideoView) findViewById(R.id.videoView);\n\n        videoView.setVideoPath(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.demovideo);\n\n        MediaController mediaController = new MediaController(this);\n\n        mediaController.setAnchorView(videoView);\n\n        videoView.setMediaController(mediaController);\n\n        videoView.start();\n\n    }\n}\n</code></pre>\n<p>The video view dissapears once I set the video path. Without the line videoView.SetVideoPath(), the video view is visible (though the mp4 file is not visible).</p>\n<p>The mp4 file is in res/raw/</p>\n<p>Since it does not show me any error messages, I am struggling with finding the issue.</p>\n<p>I checked the file names and its data format, and they seem correct.</p>\n<p>I also tried</p>\n<pre><code>videoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.demovideo));\n</code></pre>\n<p>but did not work.</p>\n<p>Since it does not work even if I copied a file from the internet and ran, it might be some issues regarding the versions of the android studio.</p>\n<p>I am using Android Studio Dolphin | 2021.3.1 Patch 1 on M1 Mac.</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667164084,"creation_date":1667162644,"answer_id":74256625,"question_id":74256548,"body_markdown":"You&#39;re using a wrong Collector.\r\n\r\nBecause you need to associate each *Key* with a **group** of *Values* (**not** with a single value) the right choice would Collector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)).\r\n\r\nYou need the flavor of `groupingBy()` which expects only one argument - *classifier* function, which tells how to extract the *key* from the stream element. By default, *values* mapped to the same *key* would be stored into a list.\r\n\r\n```\r\nMap&lt;Long, List&lt;Child&gt;&gt; map = childEntityList.stream().\r\n    collect(Collectors.groupingBy(\r\n        childEntity -&gt;  childEntity.getParent().getParentId()\r\n    ));\r\n```","title":"Trying to create the distinct of items in Map using Java streams","body":"<p>You're using a wrong Collector.</p>\n<p>Because you need to associate each <em>Key</em> with a <strong>group</strong> of <em>Values</em> (<strong>not</strong> with a single value) the right choice would Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a>.</p>\n<p>You need the flavor of <code>groupingBy()</code> which expects only one argument - <em>classifier</em> function, which tells how to extract the <em>key</em> from the stream element. By default, <em>values</em> mapped to the same <em>key</em> would be stored into a list.</p>\n<pre><code>Map&lt;Long, List&lt;Child&gt;&gt; map = childEntityList.stream().\n    collect(Collectors.groupingBy(\n        childEntity -&gt;  childEntity.getParent().getParentId()\n    ));\n</code></pre>\n"}],"owner":{"account_id":4465195,"reputation":101,"user_id":3633028,"accept_rate":50,"display_name":"user3633028"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74256625,"answer_count":1,"score":0,"last_activity_date":1667164084,"creation_date":1667162050,"question_id":74256548,"body_markdown":"I have a `List&lt;Child&gt;`, which I want to iterate and create a `Map&lt;Long, List&lt;Child&gt;&gt;` by taking the distinct values (**distinct of parent_id**).\r\n\r\nSample data:\r\n\r\n    **Parent table:**\r\n    project_id  project_desc\r\n    1\t          One\r\n    2\t          Two\r\n\r\n    **child table:**\r\n    child_id  parent_id  code\r\n    1\t        1\t      code1\r\n    2           1         code2\r\n    3           1         code3\r\n    4    \t    2         code4\r\n    4\t        2         code5\r\n\r\nI tried with the below code, but it is throwing the exception\r\n```\r\nList&lt;Child&gt; childEntityList = // initializing the list\r\n\r\nMap&lt;Long, List&lt;ChildEntity&gt;&gt; childEntityMap = childEntityList.stream()\r\n    .collect(toMap(\r\n        childEntity -&gt;  childEntity.getParent().getParentId(), \r\n        childEntity -&gt;  childEntity\r\n    ));\r\n```","title":"Trying to create the distinct of items in Map using Java streams","body":"<p>I have a <code>List&lt;Child&gt;</code>, which I want to iterate and create a <code>Map&lt;Long, List&lt;Child&gt;&gt;</code> by taking the distinct values (<strong>distinct of parent_id</strong>).</p>\n<p>Sample data:</p>\n<pre><code>**Parent table:**\nproject_id  project_desc\n1             One\n2             Two\n\n**child table:**\nchild_id  parent_id  code\n1           1         code1\n2           1         code2\n3           1         code3\n4           2         code4\n4           2         code5\n</code></pre>\n<p>I tried with the below code, but it is throwing the exception</p>\n<pre><code>List&lt;Child&gt; childEntityList = // initializing the list\n\nMap&lt;Long, List&lt;ChildEntity&gt;&gt; childEntityMap = childEntityList.stream()\n    .collect(toMap(\n        childEntity -&gt;  childEntity.getParent().getParentId(), \n        childEntity -&gt;  childEntity\n    ));\n</code></pre>\n"},{"tags":["java","pdf","itext"],"answers":[{"comments":[{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1472670200,"post_id":39257025,"comment_id":65850251,"body_markdown":"You are looking for the *leading*; see my answer.","body":"You are looking for the <i>leading</i>; see my answer."}],"tags":[],"owner":{"account_id":8549039,"reputation":930,"user_id":6406617,"accept_rate":97,"display_name":"Vadzim Savenok"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472669713,"creation_date":1472669713,"answer_id":39257025,"question_id":39256646,"body_markdown":"Here is a quick demo, see if that will give you the right idea\r\n\r\n    import com.itextpdf.text.Paragraph;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n\r\n    public class ParagraphSpaceDemo {\r\n    public static void main(String[] args) {\r\n        Document document = new Document();\r\n\r\n        try {\r\n            String name = &quot;ParagraphSetting.pdf&quot;;\r\n            FileOutputStream fos = new FileOutputStream(name);\r\n            PdfWriter.getInstance(document, fos);\r\n            document.open();\r\n\r\n            String content = &quot;The quick brown fox jumps over the lazy dog&quot;;\r\n\r\n            // Setting paragraph line spacing to 32\r\n            Paragraph para1 = new Paragraph(32);\r\n\r\n            // Setting the space before and after the paragraph\r\n            para1.setSpacingBefore(50);\r\n            para1.setSpacingAfter(50);\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                para1.add(new Chunk(content));\r\n            }\r\n            document.add(para1);\r\n\r\n    //irrelevant code\r\n    }","title":"Java code to reduce vertical space between lines","body":"<p>Here is a quick demo, see if that will give you the right idea</p>\n\n<pre><code>import com.itextpdf.text.Paragraph;\nimport com.itextpdf.text.pdf.PdfWriter;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\n\npublic class ParagraphSpaceDemo {\npublic static void main(String[] args) {\n    Document document = new Document();\n\n    try {\n        String name = \"ParagraphSetting.pdf\";\n        FileOutputStream fos = new FileOutputStream(name);\n        PdfWriter.getInstance(document, fos);\n        document.open();\n\n        String content = \"The quick brown fox jumps over the lazy dog\";\n\n        // Setting paragraph line spacing to 32\n        Paragraph para1 = new Paragraph(32);\n\n        // Setting the space before and after the paragraph\n        para1.setSpacingBefore(50);\n        para1.setSpacingAfter(50);\n        for (int i = 0; i &lt; 10; i++) {\n            para1.add(new Chunk(content));\n        }\n        document.add(para1);\n\n//irrelevant code\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4465195,"reputation":101,"user_id":3633028,"accept_rate":50,"display_name":"user3633028"},"score":0,"creation_date":1472677634,"post_id":39257160,"comment_id":65854030,"body_markdown":"i tried with document.add(new Paragraph(15, line, font)); in my code, space got reduced between lines and some more lines from page2 got fit in page1, but i noticed many blank lines (or white space) in page2.  I was assuming the number of lines which got fit in page 1 that many blank lines it left in page2 and then started to print the document. Have anyone noticed this before. Thankyou.","body":"i tried with document.add(new Paragraph(15, line, font)); in my code, space got reduced between lines and some more lines from page2 got fit in page1, but i noticed many blank lines (or white space) in page2.  I was assuming the number of lines which got fit in page 1 that many blank lines it left in page2 and then started to print the document. Have anyone noticed this before. Thankyou."},{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1472707537,"post_id":39257160,"comment_id":65861923,"body_markdown":"You&#39;ll have to provide a better description of your additional problem. The concept of *blank lines* doesn&#39;t really exist in PDF, so it&#39;s hard for me to understand what you&#39;re saying. Maybe you are looking to use `ColumnText` in simulation mode?","body":"You&#39;ll have to provide a better description of your additional problem. The concept of <i>blank lines</i> doesn&#39;t really exist in PDF, so it&#39;s hard for me to understand what you&#39;re saying. Maybe you are looking to use <code>ColumnText</code> in simulation mode?"},{"owner":{"account_id":4465195,"reputation":101,"user_id":3633028,"accept_rate":50,"display_name":"user3633028"},"score":0,"creation_date":1472742744,"post_id":39257160,"comment_id":65885039,"body_markdown":"Please see my edited post. I have added additional information with images which gives more clarity about the issue. thanks.","body":"Please see my edited post. I have added additional information with images which gives more clarity about the issue. thanks."},{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1472743253,"post_id":39257160,"comment_id":65885357,"body_markdown":"Er... I see that you had a question and that question was answered. Now you have a new question, so you updated the original question? It doesn&#39;t work that way on Stack Overflow. People willing to help you with answers don&#39;t look at questions with accepted answer. If you have a new question, post a new question. Don&#39;t update an old question.","body":"Er... I see that you had a question and that question was answered. Now you have a new question, so you updated the original question? It doesn&#39;t work that way on Stack Overflow. People willing to help you with answers don&#39;t look at questions with accepted answer. If you have a new question, post a new question. Don&#39;t update an old question."}],"tags":[],"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1472672034,"creation_date":1472670154,"answer_id":39257160,"question_id":39256646,"body_markdown":"The space between two lines is called the *leading*.\r\n\r\nYou change it with the `setleading()` method.\r\n\r\nFor instance:\r\n\r\n    p.setleading(15);\r\n\r\nNote: by default, iText takes 1.5 times the font size. If the font size is 12, the leading will be 18 by default.\r\n\r\nYou can also set the leading in the constructor: http://itextsupport.com/apidocs/itext5/latest/com/itextpdf/text/Paragraph.html#Paragraph-float-java.lang.String-com.itextpdf.text.Font-\r\n\r\n    document.add(new Paragraph(15, line, font));","title":"Java code to reduce vertical space between lines","body":"<p>The space between two lines is called the <em>leading</em>.</p>\n\n<p>You change it with the <code>setleading()</code> method.</p>\n\n<p>For instance:</p>\n\n<pre><code>p.setleading(15);\n</code></pre>\n\n<p>Note: by default, iText takes 1.5 times the font size. If the font size is 12, the leading will be 18 by default.</p>\n\n<p>You can also set the leading in the constructor: <a href=\"http://itextsupport.com/apidocs/itext5/latest/com/itextpdf/text/Paragraph.html#Paragraph-float-java.lang.String-com.itextpdf.text.Font-\" rel=\"nofollow\">http://itextsupport.com/apidocs/itext5/latest/com/itextpdf/text/Paragraph.html#Paragraph-float-java.lang.String-com.itextpdf.text.Font-</a></p>\n\n<pre><code>document.add(new Paragraph(15, line, font));\n</code></pre>\n"}],"owner":{"account_id":4465195,"reputation":101,"user_id":3633028,"accept_rate":50,"display_name":"user3633028"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3059,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":39257160,"answer_count":2,"score":3,"last_activity_date":1667163759,"creation_date":1472668287,"question_id":39256646,"body_markdown":"I am creating a PDF with some content in it. My requirement is to reduce the space between lines while creating the PDF so that more number of lines fit in single page. How can I reduce the space between lines?\r\n\r\n        Document document = null;\r\n        PdfWriter.getInstance(document,new FileOutputStream(&quot;Paragraph2.pdf&quot;));\r\n        document.open();\r\n        \r\n        Font font = new Font(Font.FontFamily.COURIER,12);\r\n       \r\n    \t//code to get the content to show in the document\r\n           .....\r\n       for (final MyDocument document: doc)\r\n       {\r\n        if (doc.getDocumentLines() != null)\r\n        {\r\n        final DocumentLines documentLines = doc.getLetterLines();\r\n        for (final String line : documentines.getDocumentLine())\r\n        {\r\n           document.add(new Paragraph(line,font));\r\n        } \r\n        }\r\n       }\r\n\r\nUpdate\r\n---\r\n\r\nI have used below line to reduce the space between lines.\r\n\r\n    Paragraph p = new Paragraph(12,line,font);\r\n\r\nWhen I used leading with value 12 in my code, blank space between lines got reduced and more lines from page2 got shifted to page1. But the issue is when I gave `Paragraph p = new Paragraph(12,line,font)` lines got shifted to page1 but I can see blank space/blank lines are in page2 as shown in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the image above, ADDITIONAL INFORMATION line should be printed from top of the page, we can notice the blank space in page 2 in the above image.\r\n\r\nWhen I set the leading with value 11 `Paragraph(11,line,font)`, I noticed their is no additional space left as shown in the image below. But ADDITIONAL INFORMATION line was also in page1 which I was expecting in page2. For me leading with 12 will give the expected output, but as shown in image1 there are blank lines in page2 which is an issue to resolve. How can I overcome this blank space issue?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: http://i.stack.imgur.com/5tacz.png\r\n  [2]: http://i.stack.imgur.com/PKLRM.png\r\n","title":"Java code to reduce vertical space between lines","body":"<p>I am creating a PDF with some content in it. My requirement is to reduce the space between lines while creating the PDF so that more number of lines fit in single page. How can I reduce the space between lines?</p>\n<pre><code>    Document document = null;\n    PdfWriter.getInstance(document,new FileOutputStream(&quot;Paragraph2.pdf&quot;));\n    document.open();\n    \n    Font font = new Font(Font.FontFamily.COURIER,12);\n   \n    //code to get the content to show in the document\n       .....\n   for (final MyDocument document: doc)\n   {\n    if (doc.getDocumentLines() != null)\n    {\n    final DocumentLines documentLines = doc.getLetterLines();\n    for (final String line : documentines.getDocumentLine())\n    {\n       document.add(new Paragraph(line,font));\n    } \n    }\n   }\n</code></pre>\n<h2>Update</h2>\n<p>I have used below line to reduce the space between lines.</p>\n<pre><code>Paragraph p = new Paragraph(12,line,font);\n</code></pre>\n<p>When I used leading with value 12 in my code, blank space between lines got reduced and more lines from page2 got shifted to page1. But the issue is when I gave <code>Paragraph p = new Paragraph(12,line,font)</code> lines got shifted to page1 but I can see blank space/blank lines are in page2 as shown in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/5tacz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5tacz.png\" alt=\"enter image description here\" /></a></p>\n<p>In the image above, ADDITIONAL INFORMATION line should be printed from top of the page, we can notice the blank space in page 2 in the above image.</p>\n<p>When I set the leading with value 11 <code>Paragraph(11,line,font)</code>, I noticed their is no additional space left as shown in the image below. But ADDITIONAL INFORMATION line was also in page1 which I was expecting in page2. For me leading with 12 will give the expected output, but as shown in image1 there are blank lines in page2 which is an issue to resolve. How can I overcome this blank space issue?</p>\n<p><a href=\"https://i.stack.imgur.com/PKLRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKLRM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea","uml","intellij-plugin"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1608390343,"post_id":65370988,"comment_id":115571786,"body_markdown":"And what is the syntax error? You just said where it is, but not what it is.","body":"And what is the syntax error? You just said where it is, but not what it is."}],"answers":[{"tags":[],"owner":{"account_id":2864397,"reputation":32481,"user_id":2458991,"display_name":"bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608392342,"creation_date":1608391184,"answer_id":65371314,"question_id":65370988,"body_markdown":"The definition is incompatible with PlantUML syntax, with all these `namespace {..}` without naming the namespace and these `{}` after introducing each class\r\n\r\nPlacing the two first classes in  a dedicated namespace but not the next :\r\n\r\n    @startuml\r\n\r\n    title __STREAMINGSERVICE&#39;s Class Diagram__\\n\r\n\r\n    namespace A {    \r\n         class ChangeLoginGUI \r\n    }\r\n    \r\n      namespace B {\r\n         class Episode\r\n      }\r\n      \r\n    \r\n      class   EpisodeGUI\r\n     \r\n       class  FileReader\r\n     \r\n       class  IncorrectLoginException\r\n     \r\n        class InfoGUI\r\n      \r\n        class InfoSGUI \r\n     \r\n        abstract class InfoSuper\r\n      \r\n        class LoginGUI\r\n    \r\n        class Main\r\n    \r\n        class MainGUI \r\n      \r\n        abstract class Media\r\n    \r\n        class MediaLibrary \r\n    \r\n        class MediaPlayer\r\n    \r\n        class Movie\r\n    \r\n        class MovieGenerator \r\n    \r\n        class MovieGeneratorTest\r\n    \r\n        class NotificationGUI\r\n    \r\n        abstract class ObjectGenerator\r\n    \r\n        interface Playable\r\n    \r\n        class SearchEngine \r\n    \r\n        class SearchEngineTest\r\n    \r\n        class Series\r\n    \r\n        class SeriesGenerator\r\n    \r\n        class SeriesGeneratorTest\r\n    \r\n        class User \r\n    \r\n        class UserList\r\n    \r\n      ChangeLoginGUI -up-|&gt; javax.swing.JFrame\r\n      ChangeLoginGUI o-- User : user\r\n      ChangeLoginGUI o-- UserList : userList\r\n      Episode .up.|&gt; Playable\r\n      EpisodeGUI -up-|&gt; javax.swing.JFrame\r\n      EpisodeGUI o-- MediaPlayer : play\r\n      EpisodeGUI o-- Series : media\r\n      EpisodeGUI o-- MediaLibrary : ml\r\n      EpisodeGUI o-- User : user\r\n      InfoGUI -up-|&gt; InfoSuper\r\n      InfoSGUI -up-|&gt; InfoSuper\r\n      InfoSuper -up-|&gt; javax.swing.JFrame\r\n      InfoSuper o-- Media : media\r\n      InfoSuper o-- MediaPlayer : play\r\n      InfoSuper o-- User : user\r\n      LoginGUI -up-|&gt; javax.swing.JFrame\r\n      LoginGUI o-- MainGUI : launchProgram\r\n      LoginGUI o-- UserList : userList\r\n      MainGUI -up-|&gt; javax.swing.JFrame\r\n      MainGUI o-- MediaLibrary : mediaLibrary\r\n      MainGUI o-- SearchEngine : searchEngine\r\n      MainGUI o-- User : user\r\n      MediaLibrary o-- SeriesGenerator : m1\r\n      MediaLibrary o-- MovieGenerator : m2\r\n      MediaPlayer -up-|&gt; javax.swing.JFrame\r\n      Movie .up.|&gt; Playable\r\n      Movie -up-|&gt; Media\r\n      MovieGenerator -up-|&gt; ObjectGenerator\r\n      MovieGeneratorTest o-- FileReader : fr\r\n      MovieGeneratorTest o-- MovieGenerator : mg\r\n      MovieGeneratorTest o-- MovieGeneratorTest : mgt\r\n      ObjectGenerator o-- FileReader : fr\r\n      SearchEngine o-- MediaLibrary : mediaLibrary\r\n      SearchEngineTest o-- SearchEngine : searchEngine\r\n      Series -up-|&gt; Media\r\n      SeriesGenerator -up-|&gt; ObjectGenerator\r\n      SeriesGeneratorTest o-- FileReader : fr\r\n      SeriesGeneratorTest o-- SeriesGenerator : sg\r\n    \r\n    \r\n    right footer\r\n    \r\n    \r\n    PlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)\r\n    For more information about this tool, please contact philippe.mesmeur@gmail.com\r\n    endfooter\r\n    @enduml\r\n\r\nproduces :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote your diagram is not easy to read because containing a lot of classes, and some of them are orphan.\r\n\r\nThe footer indicates this is generated by SketchIt, I do not know it,  perhaps that tool needs to have all classes defined in a namespace rather than out of a namespace ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fgcIc.png","title":"I am getting a syntex error when making a UML class in IntelliJ, how can i fix it?","body":"<p>The definition is incompatible with PlantUML syntax, with all these <code>namespace {..}</code> without naming the namespace and these <code>{}</code> after introducing each class</p>\n<p>Placing the two first classes in  a dedicated namespace but not the next :</p>\n<pre><code>@startuml\n\ntitle __STREAMINGSERVICE's Class Diagram__\\n\n\nnamespace A {    \n     class ChangeLoginGUI \n}\n\n  namespace B {\n     class Episode\n  }\n  \n\n  class   EpisodeGUI\n \n   class  FileReader\n \n   class  IncorrectLoginException\n \n    class InfoGUI\n  \n    class InfoSGUI \n \n    abstract class InfoSuper\n  \n    class LoginGUI\n\n    class Main\n\n    class MainGUI \n  \n    abstract class Media\n\n    class MediaLibrary \n\n    class MediaPlayer\n\n    class Movie\n\n    class MovieGenerator \n\n    class MovieGeneratorTest\n\n    class NotificationGUI\n\n    abstract class ObjectGenerator\n\n    interface Playable\n\n    class SearchEngine \n\n    class SearchEngineTest\n\n    class Series\n\n    class SeriesGenerator\n\n    class SeriesGeneratorTest\n\n    class User \n\n    class UserList\n\n  ChangeLoginGUI -up-|&gt; javax.swing.JFrame\n  ChangeLoginGUI o-- User : user\n  ChangeLoginGUI o-- UserList : userList\n  Episode .up.|&gt; Playable\n  EpisodeGUI -up-|&gt; javax.swing.JFrame\n  EpisodeGUI o-- MediaPlayer : play\n  EpisodeGUI o-- Series : media\n  EpisodeGUI o-- MediaLibrary : ml\n  EpisodeGUI o-- User : user\n  InfoGUI -up-|&gt; InfoSuper\n  InfoSGUI -up-|&gt; InfoSuper\n  InfoSuper -up-|&gt; javax.swing.JFrame\n  InfoSuper o-- Media : media\n  InfoSuper o-- MediaPlayer : play\n  InfoSuper o-- User : user\n  LoginGUI -up-|&gt; javax.swing.JFrame\n  LoginGUI o-- MainGUI : launchProgram\n  LoginGUI o-- UserList : userList\n  MainGUI -up-|&gt; javax.swing.JFrame\n  MainGUI o-- MediaLibrary : mediaLibrary\n  MainGUI o-- SearchEngine : searchEngine\n  MainGUI o-- User : user\n  MediaLibrary o-- SeriesGenerator : m1\n  MediaLibrary o-- MovieGenerator : m2\n  MediaPlayer -up-|&gt; javax.swing.JFrame\n  Movie .up.|&gt; Playable\n  Movie -up-|&gt; Media\n  MovieGenerator -up-|&gt; ObjectGenerator\n  MovieGeneratorTest o-- FileReader : fr\n  MovieGeneratorTest o-- MovieGenerator : mg\n  MovieGeneratorTest o-- MovieGeneratorTest : mgt\n  ObjectGenerator o-- FileReader : fr\n  SearchEngine o-- MediaLibrary : mediaLibrary\n  SearchEngineTest o-- SearchEngine : searchEngine\n  Series -up-|&gt; Media\n  SeriesGenerator -up-|&gt; ObjectGenerator\n  SeriesGeneratorTest o-- FileReader : fr\n  SeriesGeneratorTest o-- SeriesGenerator : sg\n\n\nright footer\n\n\nPlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)\nFor more information about this tool, please contact philippe.mesmeur@gmail.com\nendfooter\n@enduml\n</code></pre>\n<p>produces :</p>\n<p><a href=\"https://i.stack.imgur.com/fgcIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgcIc.png\" alt=\"enter image description here\" /></a></p>\n<p>Note your diagram is not easy to read because containing a lot of classes, and some of them are orphan.</p>\n<p>The footer indicates this is generated by SketchIt, I do not know it,  perhaps that tool needs to have all classes defined in a namespace rather than out of a namespace ?</p>\n"},{"tags":[],"owner":{"account_id":23945106,"reputation":1,"user_id":17937558,"display_name":"Vargha Hokmran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667163703,"creation_date":1667163703,"answer_id":74256741,"question_id":65370988,"body_markdown":"Try providing a name to your namespace and it should work. For example:\r\n\r\n```\r\nnamespace  {\r\n    class Episode {\r\n    }\r\n  }\r\n```\r\nCan be converted to:\r\n```\r\nnamespace Episode {\r\n    class Episode {\r\n    }\r\n  }\r\n```","title":"I am getting a syntex error when making a UML class in IntelliJ, how can i fix it?","body":"<p>Try providing a name to your namespace and it should work. For example:</p>\n<pre><code>namespace  {\n    class Episode {\n    }\n  }\n</code></pre>\n<p>Can be converted to:</p>\n<pre><code>namespace Episode {\n    class Episode {\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":19470073,"reputation":145,"user_id":14242620,"display_name":"privatename"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":65371314,"answer_count":2,"score":1,"last_activity_date":1667163703,"creation_date":1608389146,"question_id":65370988,"body_markdown":"I am making a UML class diagram in IntelliJ with the &quot;Sketch it!&quot; plugin, but it says there is a syntax error in line 5, where it says namespace the first time. I don&#39;t get why, as it says the same on many times below as well without an error. I can&#39;t find a tutorial to this program online, so I&#39;m having trouble fixing it.\r\n\r\n```\r\n@startuml\r\n\r\ntitle __STREAMINGSERVICE&#39;s Class Diagram__\\n\r\n\r\n  namespace  {    \\\\   &lt;--- this is where I get the syntax error!!\r\n    class ChangeLoginGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class Episode {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class EpisodeGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class FileReader {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class IncorrectLoginException {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class InfoGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class InfoSGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    abstract class InfoSuper {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class LoginGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class Main {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class MainGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    abstract class Media {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class MediaLibrary {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class MediaPlayer {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class Movie {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class MovieGenerator {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class MovieGeneratorTest {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class NotificationGUI {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    abstract class ObjectGenerator {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    interface Playable {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class SearchEngine {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class SearchEngineTest {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class Series {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class SeriesGenerator {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class SeriesGeneratorTest {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class User {\r\n    }\r\n  }\r\n  \r\n\r\n  namespace  {\r\n    class UserList {\r\n    }\r\n  }\r\n  \r\n\r\n  ChangeLoginGUI -up-|&gt; javax.swing.JFrame\r\n  ChangeLoginGUI o-- User : user\r\n  ChangeLoginGUI o-- UserList : userList\r\n  Episode .up.|&gt; Playable\r\n  EpisodeGUI -up-|&gt; javax.swing.JFrame\r\n  EpisodeGUI o-- MediaPlayer : play\r\n  EpisodeGUI o-- Series : media\r\n  EpisodeGUI o-- MediaLibrary : ml\r\n  EpisodeGUI o-- User : user\r\n  InfoGUI -up-|&gt; InfoSuper\r\n  InfoSGUI -up-|&gt; InfoSuper\r\n  InfoSuper -up-|&gt; javax.swing.JFrame\r\n  InfoSuper o-- Media : media\r\n  InfoSuper o-- MediaPlayer : play\r\n  InfoSuper o-- User : user\r\n  LoginGUI -up-|&gt; javax.swing.JFrame\r\n  LoginGUI o-- MainGUI : launchProgram\r\n  LoginGUI o-- UserList : userList\r\n  MainGUI -up-|&gt; javax.swing.JFrame\r\n  MainGUI o-- MediaLibrary : mediaLibrary\r\n  MainGUI o-- SearchEngine : searchEngine\r\n  MainGUI o-- User : user\r\n  MediaLibrary o-- SeriesGenerator : m1\r\n  MediaLibrary o-- MovieGenerator : m2\r\n  MediaPlayer -up-|&gt; javax.swing.JFrame\r\n  Movie .up.|&gt; Playable\r\n  Movie -up-|&gt; Media\r\n  MovieGenerator -up-|&gt; ObjectGenerator\r\n  MovieGeneratorTest o-- FileReader : fr\r\n  MovieGeneratorTest o-- MovieGenerator : mg\r\n  MovieGeneratorTest o-- MovieGeneratorTest : mgt\r\n  ObjectGenerator o-- FileReader : fr\r\n  SearchEngine o-- MediaLibrary : mediaLibrary\r\n  SearchEngineTest o-- SearchEngine : searchEngine\r\n  Series -up-|&gt; Media\r\n  SeriesGenerator -up-|&gt; ObjectGenerator\r\n  SeriesGeneratorTest o-- FileReader : fr\r\n  SeriesGeneratorTest o-- SeriesGenerator : sg\r\n\r\n\r\nright footer\r\n\r\n\r\nPlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)\r\nFor more information about this tool, please contact philippe.mesmeur@gmail.com\r\nendfooter\r\n\r\n@enduml\r\n```","title":"I am getting a syntex error when making a UML class in IntelliJ, how can i fix it?","body":"<p>I am making a UML class diagram in IntelliJ with the &quot;Sketch it!&quot; plugin, but it says there is a syntax error in line 5, where it says namespace the first time. I don't get why, as it says the same on many times below as well without an error. I can't find a tutorial to this program online, so I'm having trouble fixing it.</p>\n<pre><code>@startuml\n\ntitle __STREAMINGSERVICE's Class Diagram__\\n\n\n  namespace  {    \\\\   &lt;--- this is where I get the syntax error!!\n    class ChangeLoginGUI {\n    }\n  }\n  \n\n  namespace  {\n    class Episode {\n    }\n  }\n  \n\n  namespace  {\n    class EpisodeGUI {\n    }\n  }\n  \n\n  namespace  {\n    class FileReader {\n    }\n  }\n  \n\n  namespace  {\n    class IncorrectLoginException {\n    }\n  }\n  \n\n  namespace  {\n    class InfoGUI {\n    }\n  }\n  \n\n  namespace  {\n    class InfoSGUI {\n    }\n  }\n  \n\n  namespace  {\n    abstract class InfoSuper {\n    }\n  }\n  \n\n  namespace  {\n    class LoginGUI {\n    }\n  }\n  \n\n  namespace  {\n    class Main {\n    }\n  }\n  \n\n  namespace  {\n    class MainGUI {\n    }\n  }\n  \n\n  namespace  {\n    abstract class Media {\n    }\n  }\n  \n\n  namespace  {\n    class MediaLibrary {\n    }\n  }\n  \n\n  namespace  {\n    class MediaPlayer {\n    }\n  }\n  \n\n  namespace  {\n    class Movie {\n    }\n  }\n  \n\n  namespace  {\n    class MovieGenerator {\n    }\n  }\n  \n\n  namespace  {\n    class MovieGeneratorTest {\n    }\n  }\n  \n\n  namespace  {\n    class NotificationGUI {\n    }\n  }\n  \n\n  namespace  {\n    abstract class ObjectGenerator {\n    }\n  }\n  \n\n  namespace  {\n    interface Playable {\n    }\n  }\n  \n\n  namespace  {\n    class SearchEngine {\n    }\n  }\n  \n\n  namespace  {\n    class SearchEngineTest {\n    }\n  }\n  \n\n  namespace  {\n    class Series {\n    }\n  }\n  \n\n  namespace  {\n    class SeriesGenerator {\n    }\n  }\n  \n\n  namespace  {\n    class SeriesGeneratorTest {\n    }\n  }\n  \n\n  namespace  {\n    class User {\n    }\n  }\n  \n\n  namespace  {\n    class UserList {\n    }\n  }\n  \n\n  ChangeLoginGUI -up-|&gt; javax.swing.JFrame\n  ChangeLoginGUI o-- User : user\n  ChangeLoginGUI o-- UserList : userList\n  Episode .up.|&gt; Playable\n  EpisodeGUI -up-|&gt; javax.swing.JFrame\n  EpisodeGUI o-- MediaPlayer : play\n  EpisodeGUI o-- Series : media\n  EpisodeGUI o-- MediaLibrary : ml\n  EpisodeGUI o-- User : user\n  InfoGUI -up-|&gt; InfoSuper\n  InfoSGUI -up-|&gt; InfoSuper\n  InfoSuper -up-|&gt; javax.swing.JFrame\n  InfoSuper o-- Media : media\n  InfoSuper o-- MediaPlayer : play\n  InfoSuper o-- User : user\n  LoginGUI -up-|&gt; javax.swing.JFrame\n  LoginGUI o-- MainGUI : launchProgram\n  LoginGUI o-- UserList : userList\n  MainGUI -up-|&gt; javax.swing.JFrame\n  MainGUI o-- MediaLibrary : mediaLibrary\n  MainGUI o-- SearchEngine : searchEngine\n  MainGUI o-- User : user\n  MediaLibrary o-- SeriesGenerator : m1\n  MediaLibrary o-- MovieGenerator : m2\n  MediaPlayer -up-|&gt; javax.swing.JFrame\n  Movie .up.|&gt; Playable\n  Movie -up-|&gt; Media\n  MovieGenerator -up-|&gt; ObjectGenerator\n  MovieGeneratorTest o-- FileReader : fr\n  MovieGeneratorTest o-- MovieGenerator : mg\n  MovieGeneratorTest o-- MovieGeneratorTest : mgt\n  ObjectGenerator o-- FileReader : fr\n  SearchEngine o-- MediaLibrary : mediaLibrary\n  SearchEngineTest o-- SearchEngine : searchEngine\n  Series -up-|&gt; Media\n  SeriesGenerator -up-|&gt; ObjectGenerator\n  SeriesGeneratorTest o-- FileReader : fr\n  SeriesGeneratorTest o-- SeriesGenerator : sg\n\n\nright footer\n\n\nPlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)\nFor more information about this tool, please contact philippe.mesmeur@gmail.com\nendfooter\n\n@enduml\n</code></pre>\n"},{"tags":["java","android","view","bitmap","imageview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667160081,"post_id":74256061,"comment_id":131099679,"body_markdown":"`tried to put the ImageView on the Bitmap` ??? What do you have in mind? An ImageView can display a bitmap. Or images.","body":"<code>tried to put the ImageView on the Bitmap</code> ??? What do you have in mind? An ImageView can display a bitmap. Or images."}],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667163640,"creation_date":1667163640,"answer_id":74256738,"question_id":74256061,"body_markdown":"Use the Glide Library and pass the Bitmap and imageView to it. \r\n\r\nuse method,\r\n\r\n    Glide.with(this).load(YOUR_BITMAP).into(YOUR_IMAGE_VIEW);\r\n\r\nFollowing is the link to view details of the library \r\n\r\nhttps://github.com/bumptech/glide","title":"How to set ImageView on a Bitmap in Android","body":"<p>Use the Glide Library and pass the Bitmap and imageView to it.</p>\n<p>use method,</p>\n<pre><code>Glide.with(this).load(YOUR_BITMAP).into(YOUR_IMAGE_VIEW);\n</code></pre>\n<p>Following is the link to view details of the library</p>\n<p><a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide</a></p>\n"}],"owner":{"account_id":26778679,"reputation":11,"user_id":20373890,"display_name":"marlonga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667163640,"creation_date":1667157661,"question_id":74256061,"body_markdown":"How can i put an Imageview on a bitmap? \r\nIm working on a campus positioning app for android in java. Here is the problem: i have a campus-map with all rooms and floors. I want to to display a picture (f.e. a library icon) on the map with specific x and y coordinate so the user can see where the library is on the map. when the user zooms in, the library icon should stay on  the room. the icon has to be an ImageView because i need to add a clickListener to start the pathfinding.\r\n\r\n\r\nI have no idea how to approach this problem. \r\nI tried to put the ImageView on the Bitmap but I dont know if it is even possible.","title":"How to set ImageView on a Bitmap in Android","body":"<p>How can i put an Imageview on a bitmap?\nIm working on a campus positioning app for android in java. Here is the problem: i have a campus-map with all rooms and floors. I want to to display a picture (f.e. a library icon) on the map with specific x and y coordinate so the user can see where the library is on the map. when the user zooms in, the library icon should stay on  the room. the icon has to be an ImageView because i need to add a clickListener to start the pathfinding.</p>\n<p>I have no idea how to approach this problem.\nI tried to put the ImageView on the Bitmap but I dont know if it is even possible.</p>\n"},{"tags":["java","junit","dependency-injection","junit5"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1667129460,"post_id":74252005,"comment_id":131093199,"body_markdown":"`TestInfo` is made available through a built-in extension. You can create those yourself as well, e.g. through a `ParameterResolver`. However, in this case, a parameterized test is probably what you want. tgdavies&#39; answer shows how to do it using a method source. That&#39;s often the easiest when `ValueSource`, `EnumSource`, `CsvSource`  or `CsvFileSource` doesn&#39;t suffice. Another option that works in all cases, like `@MethodSource`, is using `ArgumentsSource` and a custom `ArgumentsProvider` implementation.","body":"<code>TestInfo</code> is made available through a built-in extension. You can create those yourself as well, e.g. through a <code>ParameterResolver</code>. However, in this case, a parameterized test is probably what you want. tgdavies&#39; answer shows how to do it using a method source. That&#39;s often the easiest when <code>ValueSource</code>, <code>EnumSource</code>, <code>CsvSource</code>  or <code>CsvFileSource</code> doesn&#39;t suffice. Another option that works in all cases, like <code>@MethodSource</code>, is using <code>ArgumentsSource</code> and a custom <code>ArgumentsProvider</code> implementation."}],"answers":[{"comments":[{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1667144007,"post_id":74252342,"comment_id":131096067,"body_markdown":"I got the following errors on my implementation: \n\njava.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionContext does not define or inherit an implementation of the resolved method &#39;abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()&#39; of interface org.junit.jupiter.api.extension.ExtensionContext.\n\nConfiguration error: You must configure at least one set of arguments for this @ParameterizedTest...","body":"I got the following errors on my implementation:   java.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionCon&zwnj;&#8203;text does not define or inherit an implementation of the resolved method &#39;abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()&#39; of interface org.junit.jupiter.api.extension.ExtensionContext.  Configuration error: You must configure at least one set of arguments for this @ParameterizedTest..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667163235,"post_id":74252342,"comment_id":131100317,"body_markdown":"I&#39;ve updated the answer so you can see the dependencies and the imports.","body":"I&#39;ve updated the answer so you can see the dependencies and the imports."},{"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"score":0,"creation_date":1667203199,"post_id":74252342,"comment_id":131106321,"body_markdown":"Thank you @tgdavies, it was really a matter of dependencies version inconsistency.","body":"Thank you @tgdavies, it was really a matter of dependencies version inconsistency."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667163190,"creation_date":1667126254,"answer_id":74252342,"question_id":74252005,"body_markdown":"You can do it like this:\r\n```\r\npublic class Test1 {\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;myTest_Arguments&quot;)\r\n    public void myTest(Base baseObj){\r\n        System.out.println(baseObj);\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; myTest_Arguments() {\r\n        return Stream.of(\r\n            Arguments.of(new Class1()),\r\n            Arguments.of(new Class2()),\r\n            Arguments.of(new Class3()));\r\n    }\r\n}\r\n```\r\n\r\nThe entire code is:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.Arguments;\r\nimport org.junit.jupiter.params.provider.MethodSource;\r\n\r\nimport java.util.stream.Stream;\r\n\r\nclass Base {}\r\nclass Class1 extends Base{}\r\nclass Class2 extends Base{}\r\nclass Class3 extends Base{}\r\npublic class Test1 {\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;myTest_Arguments&quot;)\r\n    public void myTest(Base baseObj){\r\n        System.out.println(baseObj);\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; myTest_Arguments() {\r\n        return Stream.of(Arguments.of(new Class1()),Arguments.of(new Class2()),Arguments.of(new Class3()));\r\n    }\r\n}\r\n```\r\nand the dependencies used are:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"How to implement dependency injection with JUnit 5?","body":"<p>You can do it like this:</p>\n<pre><code>public class Test1 {\n    @ParameterizedTest\n    @MethodSource(&quot;myTest_Arguments&quot;)\n    public void myTest(Base baseObj){\n        System.out.println(baseObj);\n    }\n\n    static Stream&lt;Arguments&gt; myTest_Arguments() {\n        return Stream.of(\n            Arguments.of(new Class1()),\n            Arguments.of(new Class2()),\n            Arguments.of(new Class3()));\n    }\n}\n</code></pre>\n<p>The entire code is:</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.Arguments;\nimport org.junit.jupiter.params.provider.MethodSource;\n\nimport java.util.stream.Stream;\n\nclass Base {}\nclass Class1 extends Base{}\nclass Class2 extends Base{}\nclass Class3 extends Base{}\npublic class Test1 {\n    @ParameterizedTest\n    @MethodSource(&quot;myTest_Arguments&quot;)\n    public void myTest(Base baseObj){\n        System.out.println(baseObj);\n    }\n\n    static Stream&lt;Arguments&gt; myTest_Arguments() {\n        return Stream.of(Arguments.of(new Class1()),Arguments.of(new Class2()),Arguments.of(new Class3()));\n    }\n}\n</code></pre>\n<p>and the dependencies used are:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25593043,"reputation":69,"user_id":19369423,"display_name":"TalClip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74252342,"answer_count":1,"score":0,"last_activity_date":1667163190,"creation_date":1667123273,"question_id":74252005,"body_markdown":"I was trying to follow multiple tutorials about the subject but I cannot understand how they support DI. To my basic understanding, DI should be supported by supplying extended/implemented classes object to the test, so the test will be able to be executed with multiple variations of the objects.\r\n\r\nFor example:\r\n\r\n    @Test\r\n    public void myTest(Base baseObj){\r\n       assertThis(baseObj);\r\n       assertThat(baseObj);\r\n    }\r\n\r\n    class Base {\r\n      //data\r\n      //methods\r\n    }\r\n\r\n    class Class1 extends Base{}\r\n    class Class2 extends Base{}\r\n    class Class3 extends Base{}\r\n\r\nThere should be a way to supply objects of the derived classes to the test. Am I wrong till here?\r\n\r\nI couldn&#39;t understand from the explanations, how TestInfo class for example (or the other classes) helps me with that?\r\n\r\nCan you enlighten me please?","title":"How to implement dependency injection with JUnit 5?","body":"<p>I was trying to follow multiple tutorials about the subject but I cannot understand how they support DI. To my basic understanding, DI should be supported by supplying extended/implemented classes object to the test, so the test will be able to be executed with multiple variations of the objects.</p>\n<p>For example:</p>\n<pre><code>@Test\npublic void myTest(Base baseObj){\n   assertThis(baseObj);\n   assertThat(baseObj);\n}\n\nclass Base {\n  //data\n  //methods\n}\n\nclass Class1 extends Base{}\nclass Class2 extends Base{}\nclass Class3 extends Base{}\n</code></pre>\n<p>There should be a way to supply objects of the derived classes to the test. Am I wrong till here?</p>\n<p>I couldn't understand from the explanations, how TestInfo class for example (or the other classes) helps me with that?</p>\n<p>Can you enlighten me please?</p>\n"},{"tags":["java","json","spring-boot","hibernate","postman"],"comments":[{"owner":{"account_id":4513919,"reputation":647,"user_id":3669309,"accept_rate":83,"display_name":"Tupac"},"score":0,"creation_date":1667479702,"post_id":74255477,"comment_id":131179335,"body_markdown":"I thin that OneToMany is better to use a List&lt;Album&gt; albums, try that.","body":"I thin that OneToMany is better to use a List&lt;Album&gt; albums, try that."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667162646,"creation_date":1667162646,"answer_id":74256626,"question_id":74255477,"body_markdown":"Add to Singer.java:\r\n\r\n```\r\n@PrePersist\r\npublic void assignAlbums() {\r\n for(var album : albums) {\r\n   album.setSinger(this);\r\n }\r\n}\r\n```\r\n\r\nI am facing the same issue and I think that you explicitely have to set the &quot;mappedBy&quot; property value on the linked entity (Album)","title":"Column &#39;SINGER_ID&#39; cannot be null in OneToMany relationship using Hibernate when trying to insert singer with album","body":"<p>Add to Singer.java:</p>\n<pre><code>@PrePersist\npublic void assignAlbums() {\n for(var album : albums) {\n   album.setSinger(this);\n }\n}\n</code></pre>\n<p>I am facing the same issue and I think that you explicitely have to set the &quot;mappedBy&quot; property value on the linked entity (Album)</p>\n"}],"owner":{"account_id":15736640,"reputation":15,"user_id":11355383,"display_name":"dalia ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74256626,"answer_count":1,"score":0,"last_activity_date":1667162646,"creation_date":1667152777,"question_id":74255477,"body_markdown":"I&#39;m new with hibernate and i&#39;m trying to insert a singer with his album but found that album entity does not see the singer id related to singer ..\r\n\r\nHere are my entites:\r\n\r\n\r\n\r\n```\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@EntityListeners(SingerListener.class)\r\n@Entity\r\n@Table(name = &quot;singer&quot;)\r\npublic class Singer  implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    Long id;\r\n\r\n    @Column(name = &quot;FIRST_NAME&quot;, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;LAST_NAME&quot;, nullable = false)\r\n    private String lastName;\r\n\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;BIRTH_DATE&quot;)\r\n    Date birthDate;\r\n\r\n    @Column(name = &quot;VERSION&quot;)\r\n    int version;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;singer&quot;)\r\n    Set&lt;Album&gt; albums;\r\n\r\n\r\n\r\n   /// setters and getters \r\n```\r\n\r\n\r\n```\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@EntityListeners(AlbumListener.class)\r\n@Entity\r\n@Table(name=&quot;album&quot;)\r\npublic class Album implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;ID&quot;,nullable = false)\r\n    Long id;\r\n\r\n    @Column(name=&quot;TITLE&quot;)\r\n    String title;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Album{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, realseDate=&quot; + realseDate +\r\n                &quot;, version=&quot; + version +\r\n                &quot;, singer=&quot; + singer +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Column(name=&quot;RELEASE_DATE&quot;)\r\n    Date realseDate;\r\n\r\n    @Column(name=&quot;VERSION&quot;)\r\n    int version;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;SINGER_ID&quot;)\r\n    Singer singer;\r\n    \r\n    /// setters and getters \r\n    \r\n}\r\n\r\n```\r\n\r\nMy JSON request is :\r\n\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Sherif&quot;,\r\n    &quot;lastName&quot;:&quot;Hawary&quot;,\r\n    &quot;birthDate&quot;:&quot;1998-11-20&quot;,\r\n    &quot;version&quot;:0,\r\n    &quot;albums&quot;:\r\n    [\r\n        {\r\n            &quot;title&quot;:&quot;Maa Aad Saghiran&quot;,\r\n            &quot;releaseDate&quot;:&quot;2021-09-06&quot;,\r\n            &quot;version&quot;:0\r\n        }\r\n    ]\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI think that i&#39;m making a wrong JSON body but i&#39;m not sure of that and i&#39;ve read about CascadeType but i couldn&#39;t found a solution to help","title":"Column &#39;SINGER_ID&#39; cannot be null in OneToMany relationship using Hibernate when trying to insert singer with album","body":"<p>I'm new with hibernate and i'm trying to insert a singer with his album but found that album entity does not see the singer id related to singer ..</p>\n<p>Here are my entites:</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@EntityListeners(SingerListener.class)\n@Entity\n@Table(name = &quot;singer&quot;)\npublic class Singer  implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    Long id;\n\n    @Column(name = &quot;FIRST_NAME&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;LAST_NAME&quot;, nullable = false)\n    private String lastName;\n\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;BIRTH_DATE&quot;)\n    Date birthDate;\n\n    @Column(name = &quot;VERSION&quot;)\n    int version;\n\n    @OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;singer&quot;)\n    Set&lt;Album&gt; albums;\n\n\n\n   /// setters and getters \n</code></pre>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@EntityListeners(AlbumListener.class)\n@Entity\n@Table(name=&quot;album&quot;)\npublic class Album implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;ID&quot;,nullable = false)\n    Long id;\n\n    @Column(name=&quot;TITLE&quot;)\n    String title;\n\n    @Override\n    public String toString() {\n        return &quot;Album{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, title='&quot; + title + '\\'' +\n                &quot;, realseDate=&quot; + realseDate +\n                &quot;, version=&quot; + version +\n                &quot;, singer=&quot; + singer +\n                '}';\n    }\n\n    @Column(name=&quot;RELEASE_DATE&quot;)\n    Date realseDate;\n\n    @Column(name=&quot;VERSION&quot;)\n    int version;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;SINGER_ID&quot;)\n    Singer singer;\n    \n    /// setters and getters \n    \n}\n\n</code></pre>\n<p>My JSON request is :</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Sherif&quot;,\n    &quot;lastName&quot;:&quot;Hawary&quot;,\n    &quot;birthDate&quot;:&quot;1998-11-20&quot;,\n    &quot;version&quot;:0,\n    &quot;albums&quot;:\n    [\n        {\n            &quot;title&quot;:&quot;Maa Aad Saghiran&quot;,\n            &quot;releaseDate&quot;:&quot;2021-09-06&quot;,\n            &quot;version&quot;:0\n        }\n    ]\n\n}\n</code></pre>\n<p>I think that i'm making a wrong JSON body but i'm not sure of that and i've read about CascadeType but i couldn't found a solution to help</p>\n"},{"tags":["java","json","httprequest"],"comments":[{"owner":{"account_id":4218862,"reputation":761,"user_id":3454126,"display_name":"George Rosario"},"score":1,"creation_date":1411210943,"post_id":25948000,"comment_id":40623503,"body_markdown":"Please, Clear the question. I did not get , What you want","body":"Please, Clear the question. I did not get , What you want"},{"owner":{"account_id":4381188,"reputation":586,"user_id":3572802,"accept_rate":50,"display_name":"Afzal Ahmad"},"score":0,"creation_date":1411211087,"post_id":25948000,"comment_id":40623535,"body_markdown":"Please clarify your question, Do you want to get the JSON object in java, if possible please provide a snapshot of what you want to do?","body":"Please clarify your question, Do you want to get the JSON object in java, if possible please provide a snapshot of what you want to do?"},{"owner":{"account_id":4502544,"reputation":1478,"user_id":3660761,"accept_rate":77,"display_name":"Revils"},"score":0,"creation_date":1411211622,"post_id":25948000,"comment_id":40623648,"body_markdown":"Simply as it says: a string containing a json string to a jsonObject from javax.json.jsonbuilder and nog org.json.JSONBuilder","body":"Simply as it says: a string containing a json string to a jsonObject from javax.json.jsonbuilder and nog org.json.JSONBuilder"},{"owner":{"account_id":4276123,"reputation":3832,"user_id":3496666,"accept_rate":63,"display_name":"Kumar"},"score":0,"creation_date":1411213164,"post_id":25948000,"comment_id":40623997,"body_markdown":"Refer my answer from [String to Json](http://stackoverflow.com/a/25947473/3496666)","body":"Refer my answer from <a href=\"http://stackoverflow.com/a/25947473/3496666\">String to Json</a>"}],"answers":[{"comments":[{"owner":{"account_id":6672791,"reputation":1232,"user_id":5148439,"display_name":"matthewpark319"},"score":0,"creation_date":1475084341,"post_id":25948078,"comment_id":66804427,"body_markdown":"it worked, but I had to import the Json Processing API Jar from https://jsonp.java.net/download.html","body":"it worked, but I had to import the Json Processing API Jar from <a href=\"https://jsonp.java.net/download.html\" rel=\"nofollow noreferrer\">jsonp.java.net/download.html</a>"}],"tags":[],"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"comment_count":1,"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1518258335,"creation_date":1411211050,"answer_id":25948078,"question_id":25948000,"body_markdown":"    JsonReader jsonReader = Json.createReader(new StringReader(&quot;{}&quot;));\r\n    JsonObject object = jsonReader.readObject();\r\n    jsonReader.close();\r\n\r\nSee [docs][1] and [examples][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\r\n  [2]: https://docs.oracle.com/javaee/7/tutorial/jsonp003.htm","title":"How to convert String to JsonObject","body":"<pre><code>JsonReader jsonReader = Json.createReader(new StringReader(\"{}\"));\nJsonObject object = jsonReader.readObject();\njsonReader.close();\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"noreferrer\">docs</a> and <a href=\"https://docs.oracle.com/javaee/7/tutorial/jsonp003.htm\" rel=\"noreferrer\">examples</a>.</p>\n"},{"comments":[{"owner":{"account_id":4814821,"reputation":462,"user_id":3887226,"accept_rate":50,"display_name":"Moti"},"score":1,"creation_date":1529915942,"post_id":32342693,"comment_id":89031163,"body_markdown":"it worked, but I had to import the Json Processing API :\\","body":"it worked, but I had to import the Json Processing API :\\"}],"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1441152125,"creation_date":1441152125,"answer_id":32342693,"question_id":25948000,"body_markdown":"Since the above reviewer didn&#39;t like my edits, here is something you can copy and paste into your own code:\r\n\r\n\r\n    private static JsonObject jsonFromString(String jsonObjectStr) {\r\n\r\n        JsonReader jsonReader = Json.createReader(new StringReader(jsonObjectStr));\r\n        JsonObject object = jsonReader.readObject();\r\n        jsonReader.close();\r\n\r\n        return object;\r\n    }","title":"How to convert String to JsonObject","body":"<p>Since the above reviewer didn't like my edits, here is something you can copy and paste into your own code:</p>\n\n<pre><code>private static JsonObject jsonFromString(String jsonObjectStr) {\n\n    JsonReader jsonReader = Json.createReader(new StringReader(jsonObjectStr));\n    JsonObject object = jsonReader.readObject();\n    jsonReader.close();\n\n    return object;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19635345,"reputation":17,"user_id":14372711,"display_name":"moonchild_"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636392820,"creation_date":1636392820,"answer_id":69887651,"question_id":25948000,"body_markdown":"I know this is an outdated question and that this answer would not be relevant years back, but still. \r\nUsing Jackson Library is the easiest technique to solve this problem.\r\nJackson library is an efficient and widely used Java library to map Java objects to JSON and vice-versa. The following statement converts JSON String representing a student into a Java class representing the student.\r\n\r\n```\r\nStudent student = new ObjectMapper().readValue(jsonString, Student.class);  \r\n```","title":"How to convert String to JsonObject","body":"<p>I know this is an outdated question and that this answer would not be relevant years back, but still.\nUsing Jackson Library is the easiest technique to solve this problem.\nJackson library is an efficient and widely used Java library to map Java objects to JSON and vice-versa. The following statement converts JSON String representing a student into a Java class representing the student.</p>\n<pre><code>Student student = new ObjectMapper().readValue(jsonString, Student.class);  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2927437,"reputation":1282,"user_id":2508466,"accept_rate":0,"display_name":"yaccob"},"score":1,"creation_date":1676309849,"post_id":74256616,"comment_id":133107491,"body_markdown":"The question was how to convert a string to a `javax.json.JsonObject`. I can&#39;t find such object in this answer.","body":"The question was how to convert a string to a <code>javax.json.JsonObject</code>. I can&#39;t find such object in this answer."}],"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667162584,"creation_date":1667162584,"answer_id":74256616,"question_id":25948000,"body_markdown":"Using Jackson to parse a string representation of a json object into a JsonNode object.\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class J {\r\n\r\n  public static void main(String[] args) throws JsonProcessingException {\r\n    var json =\r\n        &quot;&quot;&quot;\r\n          {\r\n            &quot;candle&quot;: {\r\n              &quot;heat&quot;: 10,\r\n              &quot;color&quot;: &quot;orange&quot;\r\n            },\r\n            &quot;water&quot;: {\r\n              &quot;heat&quot;: 1,\r\n              &quot;color&quot;: null\r\n            }\r\n          }\r\n        &quot;&quot;&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    var node = mapper.readTree(json);\r\n    System.out.println(node.toPrettyString());\r\n  }\r\n}\r\n```","title":"How to convert String to JsonObject","body":"<p>Using Jackson to parse a string representation of a json object into a JsonNode object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class J {\n\n  public static void main(String[] args) throws JsonProcessingException {\n    var json =\n        &quot;&quot;&quot;\n          {\n            &quot;candle&quot;: {\n              &quot;heat&quot;: 10,\n              &quot;color&quot;: &quot;orange&quot;\n            },\n            &quot;water&quot;: {\n              &quot;heat&quot;: 1,\n              &quot;color&quot;: null\n            }\n          }\n        &quot;&quot;&quot;;\n    ObjectMapper mapper = new ObjectMapper();\n    var node = mapper.readTree(json);\n    System.out.println(node.toPrettyString());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4502544,"reputation":1478,"user_id":3660761,"accept_rate":77,"display_name":"Revils"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107861,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":25948078,"answer_count":4,"score":41,"last_activity_date":1667162584,"creation_date":1411210512,"question_id":25948000,"body_markdown":"I am using a `httprequest` to get Json from a web into a string.\r\n\r\nIt is probably quite simple, but I cannot seem to convert this string to a `javax.json.JsonObject`. \r\n\r\nHow can I do this?\r\n\r\n","title":"How to convert String to JsonObject","body":"<p>I am using a <code>httprequest</code> to get Json from a web into a string.</p>\n\n<p>It is probably quite simple, but I cannot seem to convert this string to a <code>javax.json.JsonObject</code>. </p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667161092,"post_id":74256440,"comment_id":131099916,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post) --- &quot;*1. I  think what&#39;s tripping me up is I can&#39;t just say &quot;for card in deck&quot; because the deck isn&#39;t an iterable object but the linkedlist m_cards is.*&quot; - Implement `Iterable&lt;Card&gt;` in `Deck`, return the `List`&#39;s iterator. --- &quot;2. my instructions specify...&quot; - We cannot answer this question. But your instructor/professor/teacher can.","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a> --- &quot;<i>1. I  think what&#39;s tripping me up is I can&#39;t just say &quot;for card in deck&quot; because the deck isn&#39;t an iterable object but the linkedlist m_cards is.</i>&quot; - Implement <code>Iterable&lt;Card&gt;</code> in <code>Deck</code>, return the <code>List</code>&#39;s iterator. --- &quot;2. my instructions specify...&quot; - We cannot answer this question. But your instructor/professor/teacher can."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667161198,"post_id":74256440,"comment_id":131099937,"body_markdown":"As an aside: for the implementation of `Card`, I&#39;d advice to take a look at [`Enum`s (`docs.oracle.com`)](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)","body":"As an aside: for the implementation of <code>Card</code>, I&#39;d advice to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code>s (<code>docs.oracle.com</code>)</a>"},{"owner":{"account_id":26778822,"reputation":23,"user_id":20374009,"display_name":"Seba"},"score":0,"creation_date":1667161844,"post_id":74256440,"comment_id":131100050,"body_markdown":"Sorry about that. New here. I&#39;ll look into iterables - they weren&#39;t provided to us in the lecture notes which is why I didn&#39;t think to look into them yet.","body":"Sorry about that. New here. I&#39;ll look into iterables - they weren&#39;t provided to us in the lecture notes which is why I didn&#39;t think to look into them yet."}],"answers":[{"comments":[{"owner":{"account_id":26778822,"reputation":23,"user_id":20374009,"display_name":"Seba"},"score":0,"creation_date":1667162667,"post_id":74256520,"comment_id":131100206,"body_markdown":"Wow, this was it. I already had a copy method for Card so I just iterated m_cards, adding Cards made from the copy method to a new linked list. I&#39;m kind of disappointed for not thinking of this before. Thank you.","body":"Wow, this was it. I already had a copy method for Card so I just iterated m_cards, adding Cards made from the copy method to a new linked list. I&#39;m kind of disappointed for not thinking of this before. Thank you."}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667162210,"creation_date":1667161743,"answer_id":74256520,"question_id":74256440,"body_markdown":"First, if you want to copy one deck to another, you need to have the ability to have two decks. therefor, the linked list must be an instance variable (not static) so that each new Deck() will have its own list of cards. \r\n\r\nNext step in copying a deck, is to be able to copy a card. so you need a copy constructor for a card, as well as a deck.   \r\nDeep copy means creating a new object with same properties as the source object. this is in contrast to shallow copy which creates a reference to the same object\r\n\r\nshallow copy of a card is\r\n\r\n    Card sourceCard = new Card();\r\n    Card copyCard = sourceCard;\r\n\r\nwith shallow copy, the two card variables are references pointing to the same object. they share the properties. if you change the suit of one, it will affect the 2nd.  \r\n\r\ndeep copy of a card is\r\n\r\n    Card sourceCard = new Card();\r\n    Card copyCard = new Card();\r\n    copyCard.suit = sourceCard.suit;\r\n    copyCard.rank = sourceCard.rank;\r\n\r\nthis way, two separate objects are created with two separate properties that have same initial values. if you change the suit of one, it will _not_ affect the 2nd.   \r\nof course, this is exactly what copy constructor does:\r\n\r\n    public Card(Card sourceCard) {\r\n        this.suit = sourceCard.suit;\r\n        this.rank = sourceCard.rank;\r\n    }\r\n\r\nso, the copy constructor of the deck should create a new list, then iterate on the list of the argument deck, create new card using the Card copy constructor, and put that new card in the list.\r\n\r\nhint: start with amending the code to iterate on the (instance variable) list of the argument:   \r\n\r\n    for(Card card : deck.m_cards) {","title":"Deep copy a LinkedList contained within an object?","body":"<p>First, if you want to copy one deck to another, you need to have the ability to have two decks. therefor, the linked list must be an instance variable (not static) so that each new Deck() will have its own list of cards.</p>\n<p>Next step in copying a deck, is to be able to copy a card. so you need a copy constructor for a card, as well as a deck.<br />\nDeep copy means creating a new object with same properties as the source object. this is in contrast to shallow copy which creates a reference to the same object</p>\n<p>shallow copy of a card is</p>\n<pre><code>Card sourceCard = new Card();\nCard copyCard = sourceCard;\n</code></pre>\n<p>with shallow copy, the two card variables are references pointing to the same object. they share the properties. if you change the suit of one, it will affect the 2nd.</p>\n<p>deep copy of a card is</p>\n<pre><code>Card sourceCard = new Card();\nCard copyCard = new Card();\ncopyCard.suit = sourceCard.suit;\ncopyCard.rank = sourceCard.rank;\n</code></pre>\n<p>this way, two separate objects are created with two separate properties that have same initial values. if you change the suit of one, it will <em>not</em> affect the 2nd.<br />\nof course, this is exactly what copy constructor does:</p>\n<pre><code>public Card(Card sourceCard) {\n    this.suit = sourceCard.suit;\n    this.rank = sourceCard.rank;\n}\n</code></pre>\n<p>so, the copy constructor of the deck should create a new list, then iterate on the list of the argument deck, create new card using the Card copy constructor, and put that new card in the list.</p>\n<p>hint: start with amending the code to iterate on the (instance variable) list of the argument:</p>\n<pre><code>for(Card card : deck.m_cards) {\n</code></pre>\n"}],"owner":{"account_id":26778822,"reputation":23,"user_id":20374009,"display_name":"Seba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74256520,"answer_count":1,"score":1,"last_activity_date":1667162210,"creation_date":1667160900,"question_id":74256440,"body_markdown":"This is a project for school so don&#39;t give me the direct answer but please just point me in the right direction.\r\n\r\nI&#39;m making a generic deck of playing cards. I have a Card class, which works perfectly fine to make card objects. I also have a Deck class mostly working fine except I can&#39;t figure out how to use a copy constructor to deep copy one deck into a new deck. This is what I have now:\r\n\r\n```\r\nimport java.util.LinkedList;\r\n\r\npublic class Deck {\r\n    static LinkedList&lt;Card&gt; m_cards = new LinkedList&lt;Card&gt;();\r\n    Card card;\r\n\r\n    public Deck() {\r\n        for(int i = 0; i &lt;= 3; i++) {\r\n            for (int j = 2; j &lt;= 14; j++) {\r\n                card = new Card(j, i);\r\n\r\n                m_cards.add(card);\r\n                System.out.println(card);\r\n            }\r\n        }\r\n    }\r\n\r\n    public Deck(Deck deck) {\r\n        for(Card card : m_cards) {\r\n\r\n        }\r\n    }\r\n    \r\n    public String toString() {\r\n        String cards = &quot;&quot;;\r\n        for (int i = 0; i &lt; m_cards.size(); i++) {\r\n            cards += m_cards.get(i) + &quot;, &quot;;\r\n        }\r\n        return cards + size(m_cards) + &quot; total cards. &quot;;\r\n    }\r\n\r\n    public int size(LinkedList&lt;Card&gt; list) {\r\n        return list.size();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Deck deck1 = new Deck();\r\n        Deck deck2 = new Deck(deck1);\r\n\r\n        System.out.println(deck1.toString());\r\n        // System.out.println(deck2.toString());\r\n\r\n    }\r\n}\r\n```\r\n\r\n1. I think what&#39;s tripping me up is I can&#39;t just say &quot;for card in deck&quot; because the deck isn&#39;t an iterable object but the linkedlist m_cards is. So essentially, I&#39;m supposed to take a deck as the parameter but I don&#39;t see anything I can actually do with the deck.\r\n\r\n2. My instructions specifically say to make &quot;A default constructor that initializes a fresh deck of 52 cards in the linked list&quot;, so should I be making a Deck of 52 Cards *inside* the linked list or does the linked list directly contain 52 cards (what I&#39;m doing right now)?\r\n\r\n\r\n\r\nAlso, this is the output with just deck1 being printed:\r\n\r\n```\r\n2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, 52 total cards. \r\n```\r\n\r\nIf I print deck2, it just prints this twice. Which is kind of weird because I have no code in the copy constructor. Where is it getting this data from?","title":"Deep copy a LinkedList contained within an object?","body":"<p>This is a project for school so don't give me the direct answer but please just point me in the right direction.</p>\n<p>I'm making a generic deck of playing cards. I have a Card class, which works perfectly fine to make card objects. I also have a Deck class mostly working fine except I can't figure out how to use a copy constructor to deep copy one deck into a new deck. This is what I have now:</p>\n<pre><code>import java.util.LinkedList;\n\npublic class Deck {\n    static LinkedList&lt;Card&gt; m_cards = new LinkedList&lt;Card&gt;();\n    Card card;\n\n    public Deck() {\n        for(int i = 0; i &lt;= 3; i++) {\n            for (int j = 2; j &lt;= 14; j++) {\n                card = new Card(j, i);\n\n                m_cards.add(card);\n                System.out.println(card);\n            }\n        }\n    }\n\n    public Deck(Deck deck) {\n        for(Card card : m_cards) {\n\n        }\n    }\n    \n    public String toString() {\n        String cards = &quot;&quot;;\n        for (int i = 0; i &lt; m_cards.size(); i++) {\n            cards += m_cards.get(i) + &quot;, &quot;;\n        }\n        return cards + size(m_cards) + &quot; total cards. &quot;;\n    }\n\n    public int size(LinkedList&lt;Card&gt; list) {\n        return list.size();\n    }\n\n    public static void main(String[] args) {\n        Deck deck1 = new Deck();\n        Deck deck2 = new Deck(deck1);\n\n        System.out.println(deck1.toString());\n        // System.out.println(deck2.toString());\n\n    }\n}\n</code></pre>\n<ol>\n<li><p>I think what's tripping me up is I can't just say &quot;for card in deck&quot; because the deck isn't an iterable object but the linkedlist m_cards is. So essentially, I'm supposed to take a deck as the parameter but I don't see anything I can actually do with the deck.</p>\n</li>\n<li><p>My instructions specifically say to make &quot;A default constructor that initializes a fresh deck of 52 cards in the linked list&quot;, so should I be making a Deck of 52 Cards <em>inside</em> the linked list or does the linked list directly contain 52 cards (what I'm doing right now)?</p>\n</li>\n</ol>\n<p>Also, this is the output with just deck1 being printed:</p>\n<pre><code>2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, 52 total cards. \n</code></pre>\n<p>If I print deck2, it just prints this twice. Which is kind of weird because I have no code in the copy constructor. Where is it getting this data from?</p>\n"},{"tags":["java","xml","jena"],"owner":{"account_id":26689145,"reputation":139,"user_id":20297975,"display_name":"user20297975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667161806,"creation_date":1666415683,"question_id":74161245,"body_markdown":"I&#39;m copying [tutorial 4 provided by Jena][1].  \r\n\r\nI want to add `xmlns:cim=&quot;http~~&quot;` to Namespace, but I don&#39;t know how.\r\n\r\nAnd I want to change the tag name in the text.  \r\nIs there a way to change it to `&lt;cim:Junctionrdf:ID=~~~&gt;` instead of `&lt;rdf:Descriptionrdf:about=~~~&gt;`?\r\n\r\nI&#39;m using Java for the first time.  \r\nI&#39;ll do it myself if you tell me a related function.\r\n\r\n\r\n  [1]: https://github.com/apache/jena/blob/main/jena-core/src-examples/jena/examples/rdf/Tutorial04.java","title":"How do I change Namespace in Jena?","body":"<p>I'm copying <a href=\"https://github.com/apache/jena/blob/main/jena-core/src-examples/jena/examples/rdf/Tutorial04.java\" rel=\"nofollow noreferrer\">tutorial 4 provided by Jena</a>.</p>\n<p>I want to add <code>xmlns:cim=&quot;http~~&quot;</code> to Namespace, but I don't know how.</p>\n<p>And I want to change the tag name in the text.<br />\nIs there a way to change it to <code>&lt;cim:Junctionrdf:ID=~~~&gt;</code> instead of <code>&lt;rdf:Descriptionrdf:about=~~~&gt;</code>?</p>\n<p>I'm using Java for the first time.<br />\nI'll do it myself if you tell me a related function.</p>\n"},{"tags":["java","spring-boot","maven","stream","dependencies"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667129265,"post_id":74252280,"comment_id":131093165,"body_markdown":"Reading a file called `spring-main-cfg.xml` using `ObjectInputStream` makes zero sense.","body":"Reading a file called <code>spring-main-cfg.xml</code> using <code>ObjectInputStream</code> makes zero sense."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667129315,"post_id":74252280,"comment_id":131093173,"body_markdown":"If you managed to solve your problem, that is great, but please do not edit the solution into your **question**. You need to post the solution as an **answer**, and accept it after the timeout.","body":"If you managed to solve your problem, that is great, but please do not edit the solution into your <b>question</b>. You need to post the solution as an <b>answer</b>, and accept it after the timeout."}],"answers":[{"tags":[],"owner":{"account_id":8776669,"reputation":482,"user_id":6561717,"accept_rate":60,"display_name":"Antoine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667161740,"creation_date":1667161740,"answer_id":74256518,"question_id":74252280,"body_markdown":"I&#39;ve finally found the issue, it was the file it self since I had a global: \r\n\r\n```xml\r\n&lt;resources&gt;\r\n  &lt;resource&gt;\r\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    &lt;filtering&gt;true&lt;/filtering&gt;\r\n  &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nThe Maven doc on this say:\r\n\r\n&gt; Warning: Do not filter files with binary content like images! This will most likely result in corrupt output.\r\n\r\n\r\nhttps://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n\r\nSo I just added an exception for my file : \r\n\r\n    &lt;resources&gt;\r\n      &lt;!-- Only properties files have to be filtered.\r\n           META-INF/spring-main-cfg.xml must not be or StreamCorruptedException occure by reading it --&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;false&lt;/filtering&gt;\r\n      &lt;/resource&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;**/*.properties&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;","title":"StreamCorruptedException only in a Spring Boot application","body":"<p>I've finally found the issue, it was the file it self since I had a global:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources&gt;\n  &lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>The Maven doc on this say:</p>\n<blockquote>\n<p>Warning: Do not filter files with binary content like images! This will most likely result in corrupt output.</p>\n</blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></p>\n<p>So I just added an exception for my file :</p>\n<pre><code>&lt;resources&gt;\n  &lt;!-- Only properties files have to be filtered.\n       META-INF/spring-main-cfg.xml must not be or StreamCorruptedException occure by reading it --&gt;\n  &lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n  &lt;/resource&gt;\n  &lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;includes&gt;\n      &lt;include&gt;**/*.properties&lt;/include&gt;\n    &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":8776669,"reputation":482,"user_id":6561717,"accept_rate":60,"display_name":"Antoine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74256518,"answer_count":1,"score":0,"last_activity_date":1667161740,"creation_date":1667125623,"question_id":74252280,"body_markdown":"On a Spring Boot application (2.3.3), I have a dependency to a module developed by my company. From a service I&#39;m calling a method from this dependency which needs a file loaded from resources (src/main/resources/META-INF/spring-main-cfg.xml), so I&#39;ve copied and pasted this file to my Spring Boot application resources.\r\n\r\nHere&#39;s the code executed in that dependency: \r\n\r\n    InputStream in = RSAEncrypter.class.getClassLoader().getResourceAsStream(keyFileName);\r\n    // StreamCorruptedException here\r\n    ObjectInputStream oin = new ObjectInputStream(new BufferedInputStream(in));\r\n\r\nStack:\r\n\r\n&gt; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF\r\n\tat java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:936) ~[na:1.8.0_281]\r\n\tat java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:394) ~[na:1.8.0_281]\r\n\r\nThe thing is, I&#39;ve created a new dummy Maven project with only this dependency and a main to execute that code and it works.\r\n\r\nI don&#39;t understand what could be the reasons I&#39;ve got this exception executed from my Spring Boot application. I&#39;ve got the same Java version, the file read is the same.\r\n\r\nAny ideas?","title":"StreamCorruptedException only in a Spring Boot application","body":"<p>On a Spring Boot application (2.3.3), I have a dependency to a module developed by my company. From a service I'm calling a method from this dependency which needs a file loaded from resources (src/main/resources/META-INF/spring-main-cfg.xml), so I've copied and pasted this file to my Spring Boot application resources.</p>\n<p>Here's the code executed in that dependency:</p>\n<pre><code>InputStream in = RSAEncrypter.class.getClassLoader().getResourceAsStream(keyFileName);\n// StreamCorruptedException here\nObjectInputStream oin = new ObjectInputStream(new BufferedInputStream(in));\n</code></pre>\n<p>Stack:</p>\n<blockquote>\n<p>java.io.StreamCorruptedException: invalid stream header: EFBFBDEF\nat java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:936) ~[na:1.8.0_281]\nat java.io.ObjectInputStream.(ObjectInputStream.java:394) ~[na:1.8.0_281]</p>\n</blockquote>\n<p>The thing is, I've created a new dummy Maven project with only this dependency and a main to execute that code and it works.</p>\n<p>I don't understand what could be the reasons I've got this exception executed from my Spring Boot application. I've got the same Java version, the file read is the same.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","user-interface","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354039011,"creation_date":1354039011,"answer_id":13590217,"question_id":13567019,"body_markdown":"I&#39;m not sure if this is the best way (or if it works), but you could try:\r\n\r\n    private void on_btnClose_clicked(ActionEvent actionEvent) {\r\n    \r\n            Window window = getScene().getWindow();   \r\n\r\n            if (window instanceof Stage){\r\n                ((Stage) window).close();\r\n            }\r\n    }\r\n\r\n(Assuming your controller is a Node. Otherwise you have to get the node first (getScene() is a method of Node)","title":"close fxml window by code, javafx","body":"<p>I'm not sure if this is the best way (or if it works), but you could try:</p>\n\n<pre><code>private void on_btnClose_clicked(ActionEvent actionEvent) {\n\n        Window window = getScene().getWindow();   \n\n        if (window instanceof Stage){\n            ((Stage) window).close();\n        }\n}\n</code></pre>\n\n<p>(Assuming your controller is a Node. Otherwise you have to get the node first (getScene() is a method of Node)</p>\n"},{"comments":[{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":4,"creation_date":1455167622,"post_id":13602324,"comment_id":58370523,"body_markdown":"This approach did not work for me. I receive a `NullPointerException`","body":"This approach did not work for me. I receive a <code>NullPointerException</code>"},{"owner":{"account_id":4611183,"reputation":2099,"user_id":3739258,"display_name":"diego matos - keke"},"score":1,"creation_date":1462374619,"post_id":13602324,"comment_id":61613335,"body_markdown":"amazing Works  !  , just in case,  people remember check the name of your Button (this case closeButton)and the name of your onClick (this case closeButtonAction)","body":"amazing Works  !  , just in case,  people remember check the name of your Button (this case closeButton)and the name of your onClick (this case closeButtonAction)"},{"owner":{"account_id":4132464,"reputation":598,"user_id":3389954,"display_name":"ryan.s"},"score":1,"creation_date":1505230357,"post_id":13602324,"comment_id":79323380,"body_markdown":"I get this error when I use this code.  Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage","body":"I get this error when I use this code.  Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: com.sun.javafx.stage.EmbeddedWindow cannot be cast to javafx.stage.Stage"},{"owner":{"account_id":4105,"reputation":281444,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":3,"creation_date":1513799625,"post_id":13602324,"comment_id":82794565,"body_markdown":"@ZinMinn if you want to close the app, just call Platform.exit(). Closing a stage is different than closing the app (you can have multiple stages).","body":"@ZinMinn if you want to close the app, just call Platform.exit(). Closing a stage is different than closing the app (you can have multiple stages)."},{"owner":{"account_id":4859638,"reputation":411,"user_id":3919660,"display_name":"Orici"},"score":0,"creation_date":1525021189,"post_id":13602324,"comment_id":87194188,"body_markdown":"This solution is perfect to close a secondary window. `closeButton` must be a button in the window to close and the method `closeButtonAction()` must be in the same class also.","body":"This solution is perfect to close a secondary window. <code>closeButton</code> must be a button in the window to close and the method <code>closeButtonAction()</code> must be in the same class also."},{"owner":{"account_id":5883665,"reputation":216,"user_id":4632318,"display_name":"Antizam"},"score":0,"creation_date":1534615276,"post_id":13602324,"comment_id":90772658,"body_markdown":"@AustinD probably your Button in Controller is declared as private","body":"@AustinD probably your Button in Controller is declared as private"},{"owner":{"account_id":19577086,"reputation":302,"user_id":14385358,"display_name":"Yeshwin Verma"},"score":0,"creation_date":1616142850,"post_id":13602324,"comment_id":117915194,"body_markdown":"He forgot the prameter ActionEvent event","body":"He forgot the prameter ActionEvent event"}],"tags":[],"owner":{"account_id":114410,"reputation":9444,"user_id":300858,"accept_rate":78,"display_name":"a.b"},"comment_count":7,"down_vote_count":1,"up_vote_count":185,"is_accepted":true,"score":184,"last_activity_date":1354096525,"creation_date":1354096525,"answer_id":13602324,"question_id":13567019,"body_markdown":"1. give your close button an fx:id, if you haven&#39;t yet: `&lt;Button fx:id=&quot;closeButton&quot; onAction=&quot;#closeButtonAction&quot;&gt;`\r\n2. In your controller class:\r\n\r\n        @FXML private javafx.scene.control.Button closeButton;\r\n\r\n        @FXML\r\n        private void closeButtonAction(){\r\n            // get a handle to the stage\r\n            Stage stage = (Stage) closeButton.getScene().getWindow();\r\n            // do what you have to do\r\n            stage.close();\r\n        }","title":"close fxml window by code, javafx","body":"<ol>\n<li>give your close button an fx:id, if you haven't yet: <code>&lt;Button fx:id=\"closeButton\" onAction=\"#closeButtonAction\"&gt;</code></li>\n<li><p>In your controller class:</p>\n\n<pre><code>@FXML private javafx.scene.control.Button closeButton;\n\n@FXML\nprivate void closeButtonAction(){\n    // get a handle to the stage\n    Stage stage = (Stage) closeButton.getScene().getWindow();\n    // do what you have to do\n    stage.close();\n}\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4380860,"reputation":9013,"user_id":3572546,"display_name":"nonybrighto"},"score":11,"creation_date":1492107279,"post_id":18362656,"comment_id":73858863,"body_markdown":"`Platform.exit()` will close all stages and shot down the entire application. This might not be desired.","body":"<code>Platform.exit()</code> will close all stages and shot down the entire application. This might not be desired."},{"owner":{"account_id":1048237,"reputation":452,"user_id":1052780,"accept_rate":67,"display_name":"Bryan Green"},"score":4,"creation_date":1497668407,"post_id":18362656,"comment_id":76188652,"body_markdown":"The original poster was asking how to close a window (stage), not the application.","body":"The original poster was asking how to close a window (stage), not the application."}],"tags":[],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"comment_count":2,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1545384651,"creation_date":1377101735,"answer_id":18362656,"question_id":13567019,"body_markdown":"If you have a window which extends `javafx.application.Application;` you can use the following method.\r\n(This will close the whole application, not just the window. I misinterpreted the OP, thanks to the commenters for pointing it out).\r\n\r\n    Platform.exit();\r\n\r\nExample:\r\n\r\n    public class MainGUI extends Application {\r\n    .........\r\n\r\n    Button exitButton = new Button(&quot;Exit&quot;);\r\n    exitButton.setOnAction(new ExitButtonListener());\r\n    .........\r\n\r\n    public class ExitButtonListener implements EventHandler&lt;ActionEvent&gt; {\r\n    \r\n      @Override\r\n      public void handle(ActionEvent arg0) {\r\n        Platform.exit();\r\n      }\r\n    }\r\n\r\n**Edit for the beauty of Java 8:**\r\n\r\n     public class MainGUI extends Application {\r\n        .........\r\n    \r\n        Button exitButton = new Button(&quot;Exit&quot;);\r\n        exitButton.setOnAction(actionEvent -&gt; Platform.exit());\r\n     }","title":"close fxml window by code, javafx","body":"<p>If you have a window which extends <code>javafx.application.Application;</code> you can use the following method.\n(This will close the whole application, not just the window. I misinterpreted the OP, thanks to the commenters for pointing it out).</p>\n\n<pre><code>Platform.exit();\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>public class MainGUI extends Application {\n.........\n\nButton exitButton = new Button(\"Exit\");\nexitButton.setOnAction(new ExitButtonListener());\n.........\n\npublic class ExitButtonListener implements EventHandler&lt;ActionEvent&gt; {\n\n  @Override\n  public void handle(ActionEvent arg0) {\n    Platform.exit();\n  }\n}\n</code></pre>\n\n<p><strong>Edit for the beauty of Java 8:</strong></p>\n\n<pre><code> public class MainGUI extends Application {\n    .........\n\n    Button exitButton = new Button(\"Exit\");\n    exitButton.setOnAction(actionEvent -&gt; Platform.exit());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4690797,"reputation":813,"user_id":3796962,"display_name":"Om Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523287935,"creation_date":1436422505,"answer_id":31309513,"question_id":13567019,"body_markdown":"    stage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\r\n        public void handle(WindowEvent we) {\t\t\t\t\t\t\r\n            Platform.setImplicitExit(false);\r\n            stage.close();\r\n        }\r\n    });\r\n\r\n\r\nIt is equivalent to `hide`. So when you are going to open it next time, you just check if the `stage` object is exited or not. If it is exited, you just `show()` i.e. `(stage.show())` call. Otherwise, you have to start the stage.","title":"close fxml window by code, javafx","body":"<pre><code>stage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\n    public void handle(WindowEvent we) {                        \n        Platform.setImplicitExit(false);\n        stage.close();\n    }\n});\n</code></pre>\n\n<p>It is equivalent to <code>hide</code>. So when you are going to open it next time, you just check if the <code>stage</code> object is exited or not. If it is exited, you just <code>show()</code> i.e. <code>(stage.show())</code> call. Otherwise, you have to start the stage.</p>\n"},{"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1455167893,"creation_date":1455167893,"answer_id":35331321,"question_id":13567019,"body_markdown":"I implemented this in the following way after receiving a `NullPointerException` from the accepted answer.\r\n\r\nIn my FXML:\r\n\r\n    &lt;Button onMouseClicked=&quot;#onMouseClickedCancelBtn&quot; text=&quot;Cancel&quot;&gt;\r\n\r\nIn my `Controller` class:\r\n\r\n    @FXML public void onMouseClickedCancelBtn(InputEvent e) {\r\n\t\tfinal Node source = (Node) e.getSource();\r\n\t\tfinal Stage stage = (Stage) source.getScene().getWindow();\r\n\t\tstage.close();\r\n\t}","title":"close fxml window by code, javafx","body":"<p>I implemented this in the following way after receiving a <code>NullPointerException</code> from the accepted answer.</p>\n\n<p>In my FXML:</p>\n\n<pre><code>&lt;Button onMouseClicked=\"#onMouseClickedCancelBtn\" text=\"Cancel\"&gt;\n</code></pre>\n\n<p>In my <code>Controller</code> class:</p>\n\n<pre><code>@FXML public void onMouseClickedCancelBtn(InputEvent e) {\n    final Node source = (Node) e.getSource();\n    final Stage stage = (Stage) source.getScene().getWindow();\n    stage.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8317765,"reputation":11,"user_id":6250471,"display_name":"lolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461577325,"creation_date":1461574677,"answer_id":36835982,"question_id":13567019,"body_markdown":"I found a nice solution which does not need an event to be triggered:\r\n    \r\n    @FXML\r\n    private Button cancelButton;\r\n    \r\n    close(new Event(cancelButton, stage, null));\r\n     \r\n    @FXML\r\n    private void close(Event event) {\r\n        ((Node)(event.getSource())).getScene().getWindow().hide();        \t\t\t\t\r\n    }","title":"close fxml window by code, javafx","body":"<p>I found a nice solution which does not need an event to be triggered:</p>\n\n<pre><code>@FXML\nprivate Button cancelButton;\n\nclose(new Event(cancelButton, stage, null));\n\n@FXML\nprivate void close(Event event) {\n    ((Node)(event.getSource())).getScene().getWindow().hide();                      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6980324,"reputation":11,"user_id":5353510,"display_name":"Mohamed Amine Amdouni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574688588,"creation_date":1574688588,"answer_id":59032982,"question_id":13567019,"body_markdown":"finally, I found a solution \r\n\r\n     Window window =   ((Node)(event.getSource())).getScene().getWindow(); \r\n    \t        if (window instanceof Stage){\r\n    \t            ((Stage) window).close();\r\n    \t        }\r\n    \t\t","title":"close fxml window by code, javafx","body":"<p>finally, I found a solution </p>\n\n<pre><code> Window window =   ((Node)(event.getSource())).getScene().getWindow(); \n            if (window instanceof Stage){\n                ((Stage) window).close();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17218109,"reputation":311,"user_id":13343706,"display_name":"Jean Castro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588513452,"creation_date":1588513452,"answer_id":61575452,"question_id":13567019,"body_markdown":"Hide doesn&#39;t close the window, just put in visible mode.\r\nThe best solution was:\r\n\r\n    @FXML\r\n    private void exitButtonOnAction(ActionEvent event){\r\n    \t\t((Stage)(((Button)event.getSource()).getScene().getWindow())).close();\t\t\r\n    }","title":"close fxml window by code, javafx","body":"<p>Hide doesn't close the window, just put in visible mode.\nThe best solution was:</p>\n\n<pre><code>@FXML\nprivate void exitButtonOnAction(ActionEvent event){\n        ((Stage)(((Button)event.getSource()).getScene().getWindow())).close();      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11426392,"reputation":41,"user_id":8376423,"display_name":"Explosive Hedgehog"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667161460,"creation_date":1639477790,"answer_id":70347354,"question_id":13567019,"body_markdown":"If you don&#39;t want to overspread your controller with fxml linked methods you can do something like this:\r\n\r\nYou have to give it a &quot;fx:id&quot;, like &quot;closeButton&quot; for example. Should look like this in your FXML file:\r\n\r\n    &lt;Button fx:id=&quot;closeButton&quot; layoutX=&quot;876.0&quot; layoutY=&quot;74.0&quot; mnemonicParsing=&quot;false&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n\r\nThen you can just code the button in your initialize method or wherever you want:\r\n\r\n    @FXML\r\n    Button closeButton\r\n    \r\n    public initialize(){\r\n        closeButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\r\n            @Override\r\n            public void handle(ActionEvent e){\r\n                ((Stage) closeButton.getScene().getWindow()).close();\r\n            }\r\n        });\r\n    }","title":"close fxml window by code, javafx","body":"<p>If you don't want to overspread your controller with fxml linked methods you can do something like this:</p>\n<p>You have to give it a &quot;fx:id&quot;, like &quot;closeButton&quot; for example. Should look like this in your FXML file:</p>\n<pre><code>&lt;Button fx:id=&quot;closeButton&quot; layoutX=&quot;876.0&quot; layoutY=&quot;74.0&quot; mnemonicParsing=&quot;false&quot; textAlignment=&quot;CENTER&quot;&gt;\n</code></pre>\n<p>Then you can just code the button in your initialize method or wherever you want:</p>\n<pre><code>@FXML\nButton closeButton\n\npublic initialize(){\n    closeButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\n        @Override\n        public void handle(ActionEvent e){\n            ((Stage) closeButton.getScene().getWindow()).close();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":317118,"reputation":1519,"user_id":633621,"accept_rate":50,"display_name":"alfredo138923"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210045,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":13602324,"answer_count":9,"score":67,"last_activity_date":1667161460,"creation_date":1353940600,"question_id":13567019,"body_markdown":"I need to close the current fxml window by code in the controller\r\n\r\n&gt; I know stage.close() or stage.hide() do this in fx\r\n\r\nhow to implement this in fxml? I tried\r\n    \r\n    private void on_btnClose_clicked(ActionEvent actionEvent) {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;currentWindow.fxml&quot;));    \r\n            Scene scene = new Scene(root);\r\n            \r\n            Stage stage = new Stage();            \r\n            stage.setScene(scene);\r\n            stage.show();\r\n    }\r\n\r\nbut it doesn&#39;t work!\r\n\r\nAll help will be greatly appreciated. Thanks!","title":"close fxml window by code, javafx","body":"<p>I need to close the current fxml window by code in the controller</p>\n\n<blockquote>\n  <p>I know stage.close() or stage.hide() do this in fx</p>\n</blockquote>\n\n<p>how to implement this in fxml? I tried</p>\n\n<pre><code>private void on_btnClose_clicked(ActionEvent actionEvent) {\n        Parent root = FXMLLoader.load(getClass().getResource(\"currentWindow.fxml\"));    \n        Scene scene = new Scene(root);\n\n        Stage stage = new Stage();            \n        stage.setScene(scene);\n        stage.show();\n}\n</code></pre>\n\n<p>but it doesn't work!</p>\n\n<p>All help will be greatly appreciated. Thanks!</p>\n"},{"tags":["java","mysql","hibernate","jpa","planetscale"],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667228581,"post_id":74256480,"comment_id":131114779,"body_markdown":"unless you also add locking, that allows child inserts to occur after your check but before your transaction completes. Short of pessimistic locking (which kills concurrent performance), you&#39;d have to make sure you update the parent table (optimistic locking) when adding/removing children to be able to detect changes. You can then trust any parent-&gt;child *ToMany relationship and detect if it has changed before your transaction commits, just like the DB would.","body":"unless you also add locking, that allows child inserts to occur after your check but before your transaction completes. Short of pessimistic locking (which kills concurrent performance), you&#39;d have to make sure you update the parent table (optimistic locking) when adding/removing children to be able to detect changes. You can then trust any parent-&gt;child *ToMany relationship and detect if it has changed before your transaction commits, just like the DB would."},{"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"score":0,"creation_date":1667517052,"post_id":74256480,"comment_id":131191676,"body_markdown":"I didn&#39;t think of this, thanks. Is this what the JPA @Version annotation is used for?","body":"I didn&#39;t think of this, thanks. Is this what the JPA @Version annotation is used for?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667571873,"post_id":74256480,"comment_id":131204642,"body_markdown":"Yes, it allows you to have JPA include the column in updates so it can detect if it was changed.","body":"Yes, it allows you to have JPA include the column in updates so it can detect if it was changed."}],"tags":[],"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667161378,"creation_date":1667161378,"answer_id":74256480,"question_id":74255718,"body_markdown":"The solution I have found is to create a new entity listener (Component) class and autowire the dao field. Then I created a findFirstBy method on the repository and if it returns null there are no children.","title":"JPA Efficient way of checking for child records before deleting parent?","body":"<p>The solution I have found is to create a new entity listener (Component) class and autowire the dao field. Then I created a findFirstBy method on the repository and if it returns null there are no children.</p>\n"}],"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667161378,"creation_date":1667154685,"question_id":74255718,"body_markdown":"I am using PlanetScale (Database) which doesn&#39;t allow foreign keys, so I am trying to enforce referential integrity in the application instead of the database. Is there an easy and efficient way of checking for child records before deleting the Entity?\r\n\r\nMy first thought was to use use the @PreRemove annotation and check a @JoinColumn (List) if it is empty. Will this be slow and inefficient? I expect there to be many children.\r\n\r\nIs it possible to limit the @JoinColumn only to fetch the first record since I only need to know if there are one or more records?","title":"JPA Efficient way of checking for child records before deleting parent?","body":"<p>I am using PlanetScale (Database) which doesn't allow foreign keys, so I am trying to enforce referential integrity in the application instead of the database. Is there an easy and efficient way of checking for child records before deleting the Entity?</p>\n<p>My first thought was to use use the @PreRemove annotation and check a @JoinColumn (List) if it is empty. Will this be slow and inefficient? I expect there to be many children.</p>\n<p>Is it possible to limit the @JoinColumn only to fetch the first record since I only need to know if there are one or more records?</p>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1585995054,"post_id":61026536,"comment_id":107964829,"body_markdown":"if u are using springboot you can configure this using application properties file","body":"if u are using springboot you can configure this using application properties file"},{"owner":{"account_id":12538952,"reputation":199,"user_id":9124641,"display_name":"c&#39;est moi"},"score":0,"creation_date":1585995233,"post_id":61026536,"comment_id":107964873,"body_markdown":"yes i using springboot, how i can do that using application properties file?","body":"yes i using springboot, how i can do that using application properties file?"},{"owner":{"account_id":10162810,"reputation":1428,"user_id":7505731,"display_name":"Hemant"},"score":1,"creation_date":1585996388,"post_id":61026536,"comment_id":107965183,"body_markdown":"view is same as entity for Hibernate, viewes can have &#39;@Id&#39; decorator. Add &#39;@Id&#39; decorator to the field in view which you think can be used to identify records. In your example it can be field &#39;name&#39;","body":"view is same as entity for Hibernate, viewes can have &#39;@Id&#39; decorator. Add &#39;@Id&#39; decorator to the field in view which you think can be used to identify records. In your example it can be field &#39;name&#39;"},{"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"score":0,"creation_date":1585996655,"post_id":61026536,"comment_id":107965270,"body_markdown":"Remember @ID is mandatory for every Enity in JPA https://stackoverflow.com/questions/29561885/how-to-use-spring-repository-without-id","body":"Remember @ID is mandatory for every Enity in JPA <a href=\"https://stackoverflow.com/questions/29561885/how-to-use-spring-repository-without-id\" title=\"how to use spring repository without id\">stackoverflow.com/questions/29561885/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667160423,"creation_date":1585996602,"answer_id":61026818,"question_id":61026536,"body_markdown":"Since you have created the Entity classes (JPA), you have to follow the subsequent steps:\r\n\r\n1. Create JPA Repository\r\n\r\nImports: Common for 3 entities\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\nRepository for each entity\r\n\r\n    @Repository\r\n    public interface ClassARepository extends JpaRepository&lt;ClassA, Long&gt; {\r\n     \r\n    }\r\n    @Repository\r\n    public interface ClassBRepository extends JpaRepository&lt;ClassB, Long&gt; {\r\n     \r\n    }\r\n    @Repository\r\n    public interface ClassCRepository extends JpaRepository&lt;ClassC, Long&gt; {\r\n     \r\n    }\r\n\r\n2. Properties Configuration:\r\n\r\nConfiguring `application.properties` file to connect database to JPA code.\r\n\r\n```\r\n    spring.datasource.url=jdbc:h2:file:~/test\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n     \r\n    # Enabling H2 Console\r\n    spring.h2.console.enabled=true\r\n     \r\n    # Custom H2 Console URL\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    #Turn Statistics on and log SQL stmts\r\n     \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n     \r\n    #If want to see very extensive logging\r\n    spring.jpa.properties.hibernate.generate_statistics=true\r\n    logging.level.org.hibernate.type=trace\r\n    logging.level.org.hibernate.stat=debug\r\n```\r\n\r\n3. Spring Boot to test your connectivity with database and JPA\r\n\r\n\r\n    import java.util.Optional;\r\n     \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n     \r\n    import &lt;your-path&gt;.entity.ClassA;//change accordingly\r\n    import &lt;your-path&gt;.entity.ClassB;//change accordingly\r\n    import &lt;your-path&gt;.entity.ClassA;//change accordingly\r\n    import &lt;your-path&gt;.repository.ClassARepository;// change accordingly\r\n    import &lt;your-path&gt;.repository.ClassBRepository;// change accordingly\r\n    import &lt;your-path&gt;.repository.ClassCRepository;// change accordingly\r\n     \r\n    @SpringBootApplication\r\n    public class DB2JPAApplication implements CommandLineRunner {\r\n     \r\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n         \r\n        @Autowired\r\n        ClassARepository classArepository;\r\n\r\n        @Autowired\r\n        ClassBRepository classBrepository;\r\n\r\n        @Autowired\r\n        ClassCRepository classCrepository;\r\n         \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DB2JPAApplication.class, args);\r\n        }\r\n     \r\n        @Override\r\n        public void run(String... args) throws Exception \r\n        {       \r\n            Optional&lt;ClassAEntity&gt; classC = repository.findById(2L);\r\n     \r\n            logger.info(&quot;ClassC id 2 -&gt; {}&quot;, classC.get());\r\n\r\n            Optional&lt;ClassAEntity&gt; classB = repository.findById(2L);\r\n     \r\n            logger.info(&quot;ClassB id 2 -&gt; {}&quot;, classB.get());\r\n        }\r\n\r\n\r\n**NOTE:** \r\n\r\n- Your `classA` has no @Id. JPA makes it mandatory to have an ID column.\r\n\r\n- Change Entity and repository imports in `DB2JPAApplication` class","title":"persistence xml file equivalent java configuration with spring boot","body":"<p>Since you have created the Entity classes (JPA), you have to follow the subsequent steps:</p>\n<ol>\n<li>Create JPA Repository</li>\n</ol>\n<p>Imports: Common for 3 entities</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n</code></pre>\n<p>Repository for each entity</p>\n<pre><code>@Repository\npublic interface ClassARepository extends JpaRepository&lt;ClassA, Long&gt; {\n \n}\n@Repository\npublic interface ClassBRepository extends JpaRepository&lt;ClassB, Long&gt; {\n \n}\n@Repository\npublic interface ClassCRepository extends JpaRepository&lt;ClassC, Long&gt; {\n \n}\n</code></pre>\n<ol start=\"2\">\n<li>Properties Configuration:</li>\n</ol>\n<p>Configuring <code>application.properties</code> file to connect database to JPA code.</p>\n<pre><code>    spring.datasource.url=jdbc:h2:file:~/test\n    spring.datasource.driverClassName=org.h2.Driver\n    spring.datasource.username=sa\n    spring.datasource.password=\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n     \n    # Enabling H2 Console\n    spring.h2.console.enabled=true\n     \n    # Custom H2 Console URL\n    spring.h2.console.path=/h2-console\n    \n    #Turn Statistics on and log SQL stmts\n     \n    spring.jpa.show-sql=true\n    spring.jpa.properties.hibernate.format_sql=true\n    spring.jpa.hibernate.ddl-auto=create-drop\n     \n    #If want to see very extensive logging\n    spring.jpa.properties.hibernate.generate_statistics=true\n    logging.level.org.hibernate.type=trace\n    logging.level.org.hibernate.stat=debug\n</code></pre>\n<ol start=\"3\">\n<li><p>Spring Boot to test your connectivity with database and JPA</p>\n<p>import java.util.Optional;</p>\n<p>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;</p>\n<p>import .entity.ClassA;//change accordingly\nimport .entity.ClassB;//change accordingly\nimport .entity.ClassA;//change accordingly\nimport .repository.ClassARepository;// change accordingly\nimport .repository.ClassBRepository;// change accordingly\nimport .repository.ClassCRepository;// change accordingly</p>\n<p>@SpringBootApplication\npublic class DB2JPAApplication implements CommandLineRunner {</p>\n<pre><code> private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n @Autowired\n ClassARepository classArepository;\n\n @Autowired\n ClassBRepository classBrepository;\n\n @Autowired\n ClassCRepository classCrepository;\n\n public static void main(String[] args) {\n     SpringApplication.run(DB2JPAApplication.class, args);\n }\n\n @Override\n public void run(String... args) throws Exception \n {       \n     Optional&lt;ClassAEntity&gt; classC = repository.findById(2L);\n\n     logger.info(&quot;ClassC id 2 -&gt; {}&quot;, classC.get());\n\n     Optional&lt;ClassAEntity&gt; classB = repository.findById(2L);\n\n     logger.info(&quot;ClassB id 2 -&gt; {}&quot;, classB.get());\n }\n</code></pre>\n</li>\n</ol>\n<p><strong>NOTE:</strong></p>\n<ul>\n<li><p>Your <code>classA</code> has no @Id. JPA makes it mandatory to have an ID column.</p>\n</li>\n<li><p>Change Entity and repository imports in <code>DB2JPAApplication</code> class</p>\n</li>\n</ul>\n"}],"owner":{"account_id":12538952,"reputation":199,"user_id":9124641,"display_name":"c&#39;est moi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667160423,"creation_date":1585994915,"question_id":61026536,"body_markdown":"I am working on a spring boot project in which I have entities with @Entity Decorator which do not have @Id decorator because they are views and not tables. this is why I have a persistence.xml file which says that the classes processed hibernate here\r\n\r\n\r\n#Classe A\r\n\r\n    package com.lma.flad;\r\n        @Entity\r\n          class ClassA{\r\n              private String name;\r\n              private String surName\r\n           }\r\n\r\n#classe B\r\n\r\n    package com.lma.flad;\r\n        @Entity\r\n          class ClassB{\r\n              @Id\r\n              private Long id\r\n              private String name;\r\n              private String surName\r\n           }\r\n\r\n#classe C\r\n\r\n    package com.lma.flad;\r\n        @Entity\r\n          class ClassC{\r\n              @ID\r\n              private Long id\r\n              private String name;\r\n              private String surName\r\n           }\r\n\r\npersistance.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n                 xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema- \r\n                 instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence \r\n                 http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;dtmowliance&quot;&gt;\r\n    \r\n            &lt;class&gt;com.lma.flad.ClassB&lt;/class&gt;\r\n            &lt;class&gt;com.lma.flad.ClassC&lt;/class&gt;\r\n            &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n            &lt;shared-cache-mode&gt;ENABLE_SELECTIVE&lt;/shared-cache-mode&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.cache.region.factory_class&quot;\r\n                          value=&quot;org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n&lt;br&gt;\r\nin this case, hibernate will only analyze the classes found in the persistence xml file (classA and Class B)\r\n&lt;br&gt;\r\nHow i can do the persistence.xml with java config in spring boot\r\n","title":"persistence xml file equivalent java configuration with spring boot","body":"<p>I am working on a spring boot project in which I have entities with @Entity Decorator which do not have @Id decorator because they are views and not tables. this is why I have a persistence.xml file which says that the classes processed hibernate here</p>\n\n<h1>Classe A</h1>\n\n<pre><code>package com.lma.flad;\n    @Entity\n      class ClassA{\n          private String name;\n          private String surName\n       }\n</code></pre>\n\n<h1>classe B</h1>\n\n<pre><code>package com.lma.flad;\n    @Entity\n      class ClassB{\n          @Id\n          private Long id\n          private String name;\n          private String surName\n       }\n</code></pre>\n\n<h1>classe C</h1>\n\n<pre><code>package com.lma.flad;\n    @Entity\n      class ClassC{\n          @ID\n          private Long id\n          private String name;\n          private String surName\n       }\n</code></pre>\n\n<p>persistance.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\"\n             xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema- \n             instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence \n             http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"dtmowliance\"&gt;\n\n        &lt;class&gt;com.lma.flad.ClassB&lt;/class&gt;\n        &lt;class&gt;com.lma.flad.ClassC&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;shared-cache-mode&gt;ENABLE_SELECTIVE&lt;/shared-cache-mode&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.cache.region.factory_class\"\n                      value=\"org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\"/&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><br>\nin this case, hibernate will only analyze the classes found in the persistence xml file (classA and Class B)\n<br>\nHow i can do the persistence.xml with java config in spring boot</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1395253678,"post_id":22514947,"comment_id":34257622,"body_markdown":"It would be possible with reflection, not directly. But why would you want to do that?","body":"It would be possible with reflection, not directly. But why would you want to do that?"},{"owner":{"account_id":1330239,"reputation":17006,"user_id":1274314,"accept_rate":57,"display_name":"TypeIA"},"score":6,"creation_date":1395253770,"post_id":22514947,"comment_id":34257669,"body_markdown":"The fact that you want to do this strongly suggests that something about your design is flawed. Why are you calling 5 methods with sequentially numbered names? Maybe we can help you find a better solution to whatever the problem is.","body":"The fact that you want to do this strongly suggests that something about your design is flawed. Why are you calling 5 methods with sequentially numbered names? Maybe we can help you find a better solution to whatever the problem is."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1395254202,"post_id":22514947,"comment_id":34257969,"body_markdown":"Reflection or writing them in sequence are your options.  Why do you feel the need to call these methods in this manner?  What are you getting at with this?","body":"Reflection or writing them in sequence are your options.  Why do you feel the need to call these methods in this manner?  What are you getting at with this?"},{"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"score":0,"creation_date":1395254325,"post_id":22514947,"comment_id":34258038,"body_markdown":"Every method in sequence checks value and peforms action acording to it on object.","body":"Every method in sequence checks value and peforms action acording to it on object."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1395254695,"post_id":22514947,"comment_id":34258261,"body_markdown":"@TAsk So should the next method in sequence work on the modified object from the previous method?","body":"@TAsk So should the next method in sequence work on the modified object from the previous method?"}],"answers":[{"tags":[],"owner":{"account_id":268833,"reputation":5127,"user_id":557826,"display_name":"Zeki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395254428,"creation_date":1395253786,"answer_id":22515034,"question_id":22514947,"body_markdown":"The only way to call methods by name is through reflection.  See this article for how to do this:\r\n\r\nhttps://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\r\n\r\nSomething like this should work:\r\n\r\n     for (int i = 1; i &lt; 6; i++){\r\n          java.lang.reflect.Method method; \r\n          try {\r\n               method = this.getClass().getMethod(&quot;met&quot; + i);\r\n               method.invoke(this);\r\n          } catch (SecurityException e) {\r\n               // ...\r\n          } catch (NoSuchMethodException e) {\r\n               // ...\r\n          }\r\n     }","title":"Call Methods in Sequence","body":"<p>The only way to call methods by name is through reflection.  See this article for how to do this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">How do I invoke a Java method when given the method name as a string?</a></p>\n\n<p>Something like this should work:</p>\n\n<pre><code> for (int i = 1; i &lt; 6; i++){\n      java.lang.reflect.Method method; \n      try {\n           method = this.getClass().getMethod(\"met\" + i);\n           method.invoke(this);\n      } catch (SecurityException e) {\n           // ...\n      } catch (NoSuchMethodException e) {\n           // ...\n      }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395253835,"creation_date":1395253835,"answer_id":22515057,"question_id":22514947,"body_markdown":"I believe you could do it with reflection with something like:\r\n\r\n    YourClass classInstance = new YourClass();\r\n    \r\n    for (int i = 1; i &lt; 6; i++) {\r\n        Method yourMethod = YourClass.class.getMethod(&quot;met&quot; + i);\r\n    \r\n        method.invoke(instance);\r\n    } \r\n\r\nHaven&#39;t tested it out, so no guarantees. ","title":"Call Methods in Sequence","body":"<p>I believe you could do it with reflection with something like:</p>\n\n<pre><code>YourClass classInstance = new YourClass();\n\nfor (int i = 1; i &lt; 6; i++) {\n    Method yourMethod = YourClass.class.getMethod(\"met\" + i);\n\n    method.invoke(instance);\n} \n</code></pre>\n\n<p>Haven't tested it out, so no guarantees. </p>\n"},{"tags":[],"owner":{"account_id":3325500,"reputation":95,"user_id":2795673,"display_name":"bnem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1395255807,"creation_date":1395254044,"answer_id":22515138,"question_id":22514947,"body_markdown":"Have you looked into fluent design patterns? http://www.javacodegeeks.com/2013/01/fluent-object-creation.html\r\n\r\nExample would be something like this:\r\n\r\n    myObject.met1().met2().met3().met4().met5().result();","title":"Call Methods in Sequence","body":"<p>Have you looked into fluent design patterns? <a href=\"http://www.javacodegeeks.com/2013/01/fluent-object-creation.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2013/01/fluent-object-creation.html</a></p>\n\n<p>Example would be something like this:</p>\n\n<pre><code>myObject.met1().met2().met3().met4().met5().result();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user695992"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395254402,"creation_date":1395254402,"answer_id":22515267,"question_id":22514947,"body_markdown":"You could do this with reflection as other answers have previously mentioned.  Reflection is generally avoided if possible.\r\n\r\nIn reality the most common design pattern to address your concern would be Chain of Responsibility.  \r\nhttp://en.wikipedia.org/wiki/Chain-of-responsibility_pattern","title":"Call Methods in Sequence","body":"<p>You could do this with reflection as other answers have previously mentioned.  Reflection is generally avoided if possible.</p>\n\n<p>In reality the most common design pattern to address your concern would be Chain of Responsibility.<br>\n<a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern</a></p>\n"},{"tags":[],"owner":{"account_id":5631611,"reputation":151,"user_id":4458403,"accept_rate":0,"display_name":"srr7"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667160073,"creation_date":1667160073,"answer_id":74256352,"question_id":22514947,"body_markdown":"You can use the `Execute Around Method` pattern.\r\n\r\n\r\n```import java.util.function.Consumer;\r\npublic class Resource {\r\n    private Resource(){}\r\n    public void opc1(){\r\n        System.out.println(&quot;Opc1&quot;);\r\n        // use can use cascade pattern( return this)\r\n    }\r\n\r\n    public void opc2(){\r\n        System.out.println(&quot;Opc2&quot;);\r\n        // use can use cascade pattern( return this)\r\n    }\r\n\r\n    public void opc3(){\r\n        System.out.println(&quot;Opc3&quot;);\r\n        // use can use cascade pattern( return this)\r\n    }\r\n    public void closeResource(){\r\n        System.out.println(&quot;Release resource&quot;);\r\n    }\r\n    public static void use(Consumer&lt;Resource&gt; consumer){\r\n        Resource resource =new Resource();\r\n        consumer.accept(resource);\r\n        resource.closeResource(); // force to execute closeResource method\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Resource.use(resource -&gt; {\r\n            resource.opc1();\r\n            resource.opc3();\r\n            resource.opc2();\r\n        });\r\n    }\r\n}\r\n```\r\nMore info at https://agiledeveloper.com/\r\n\r\n","title":"Call Methods in Sequence","body":"<p>You can use the <code>Execute Around Method</code> pattern.</p>\n<pre><code>public class Resource {\n    private Resource(){}\n    public void opc1(){\n        System.out.println(&quot;Opc1&quot;);\n        // use can use cascade pattern( return this)\n    }\n\n    public void opc2(){\n        System.out.println(&quot;Opc2&quot;);\n        // use can use cascade pattern( return this)\n    }\n\n    public void opc3(){\n        System.out.println(&quot;Opc3&quot;);\n        // use can use cascade pattern( return this)\n    }\n    public void closeResource(){\n        System.out.println(&quot;Release resource&quot;);\n    }\n    public static void use(Consumer&lt;Resource&gt; consumer){\n        Resource resource =new Resource();\n        consumer.accept(resource);\n        resource.closeResource(); // force to execute closeResource method\n    }\n\n    public static void main(String[] args) {\n        Resource.use(resource -&gt; {\n            resource.opc1();\n            resource.opc3();\n            resource.opc2();\n        });\n    }\n}\n</code></pre>\n<p>More info at <a href=\"https://agiledeveloper.com/\" rel=\"nofollow noreferrer\">https://agiledeveloper.com/</a></p>\n"}],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22515138,"answer_count":5,"score":2,"last_activity_date":1667160073,"creation_date":1395253600,"question_id":22514947,"body_markdown":"I have 5 different methods like this\r\n\r\n    public void met1(){}\r\n    public void met2(){}\r\n    public void met3(){}\r\n    public void met4(){}\r\n    public void met5(){}\r\n\r\nI want to call this method from 1 to 5 is there any convinient way to do this.\r\n\r\nI don&#39;t want to call one by one or I don&#39;t want to put method call  inside other method.\r\n\r\n\r\nHow Can I do this??\r\n\r\n","title":"Call Methods in Sequence","body":"<p>I have 5 different methods like this</p>\n\n<pre><code>public void met1(){}\npublic void met2(){}\npublic void met3(){}\npublic void met4(){}\npublic void met5(){}\n</code></pre>\n\n<p>I want to call this method from 1 to 5 is there any convinient way to do this.</p>\n\n<p>I don't want to call one by one or I don't want to put method call  inside other method.</p>\n\n<p>How Can I do this??</p>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667156010,"post_id":74255796,"comment_id":131098830,"body_markdown":"Please post your java code for us to get a start reference.","body":"Please post your java code for us to get a start reference."}],"answers":[{"comments":[{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":1,"creation_date":1667162354,"post_id":74256223,"comment_id":131100154,"body_markdown":"sir , i can&#39;t explain how happy i am today . Thank you very much for solving above problem. Feeling great to interact with you sir .I am very new to jolt , can you please tell me  how i can learn this jolt transform so that i can do such complex by my own .\nI am not able to understand this because jolt is very new to me .\n{\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;, \n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\n          }\n        }\n      }\n    }\n  }\nwhat we have done here?","body":"sir , i can&#39;t explain how happy i am today . Thank you very much for solving above problem. Feeling great to interact with you sir .I am very new to jolt , can you please tell me  how i can learn this jolt transform so that i can do such complex by my own . I am not able to understand this because jolt is very new to me . {     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;<i>&quot;: &quot;&amp;&quot;,        &quot;Photos&quot;: {         &quot;</i>&quot;: {           &quot;*&quot;: {             &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;           }         }       }     }   } what we have done here?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":2,"creation_date":1667163332,"post_id":74256223,"comment_id":131100346,"body_markdown":"Very nice to hear such things @SaurabhVerma , you&#39;re welcome. I&#39;ve explained that part within the previous answer( https://stackoverflow.com/questions/74254055/i-have-an-issue-in-jolt-transformation-while-transforming-i-need-as-expected-ou ). There are such good blogs and links I can share :  [1](https://github.com/bazaarvoice/jolt/releases) , [2](https://erbalvindersingh.medium.com/applying-jolttransform-on-json-object-array-and-fetching-specific-fields-48946870b4fc) , [3](https://intercom.help/godigibee/en/articles/3096940-simple-if-else-with-jolt)","body":"Very nice to hear such things @SaurabhVerma , you&#39;re welcome. I&#39;ve explained that part within the previous answer( <a href=\"https://stackoverflow.com/questions/74254055/i-have-an-issue-in-jolt-transformation-while-transforming-i-need-as-expected-ou\" title=\"i have an issue in jolt transformation while transforming i need as expected ou\">stackoverflow.com/questions/74254055/&hellip;</a> ). There are such good blogs and links I can share :  <a href=\"https://github.com/bazaarvoice/jolt/releases\" rel=\"nofollow noreferrer\">1</a> , <a href=\"https://erbalvindersingh.medium.com/applying-jolttransform-on-json-object-array-and-fetching-specific-fields-48946870b4fc\" rel=\"nofollow noreferrer\">2</a> , <a href=\"https://intercom.help/godigibee/en/articles/3096940-simple-if-else-with-jolt\" rel=\"nofollow noreferrer\">3</a>"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":2,"creation_date":1667163346,"post_id":74256223,"comment_id":131100351,"body_markdown":"[4](https://community.cloudera.com/t5/Community-Articles/Jolt-quick-reference-for-Nifi-Jolt-Processors/ta-p/244350) , [5](https://cool-cheng.blogspot.com/2019/12/json-jolt-tutorial.html)","body":"<a href=\"https://community.cloudera.com/t5/Community-Articles/Jolt-quick-reference-for-Nifi-Jolt-Processors/ta-p/244350\" rel=\"nofollow noreferrer\">4</a> , <a href=\"https://cool-cheng.blogspot.com/2019/12/json-jolt-tutorial.html\" rel=\"nofollow noreferrer\">5</a>"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667204177,"post_id":74256223,"comment_id":131106536,"body_markdown":"Hi sir ,one quick question \nif i am adding constant in input json for eg\nEntity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\n          &quot;cardCity&quot;: &quot;address[0].mk&quot;,\n          &quot;name&quot;: &quot;Photos.no&quot;,\n          &quot;#plain&quot;: &quot;Photos.caption2&quot;,\n          &quot;name1&quot;: &quot;Photos.no&quot;,\n          &quot;#modify&quot;: &quot;Photos.caption2&quot;\n        },\nin this output is getting shuffle like photos array is coming up and address array is coming down. why?","body":"Hi sir ,one quick question  if i am adding constant in input json for eg Entity&quot;: {         &quot;card&quot;: {           &quot;cardNo&quot;: &quot;tab.text&quot;,           &quot;cardAddress&quot;: &quot;address[0].add&quot;,           &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,           &quot;cardCity&quot;: &quot;address[0].mk&quot;,           &quot;name&quot;: &quot;Photos.no&quot;,           &quot;#plain&quot;: &quot;Photos.caption2&quot;,           &quot;name1&quot;: &quot;Photos.no&quot;,           &quot;#modify&quot;: &quot;Photos.caption2&quot;         }, in this output is getting shuffle like photos array is coming up and address array is coming down. why?"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667204300,"post_id":74256223,"comment_id":131106571,"body_markdown":"{\n  &quot;Photos&quot; : [ {\n    &quot;caption2&quot; : &quot;plain&quot;,\n    &quot;no&quot; : &quot;RAM&quot;\n  }, {\n    &quot;caption2&quot; : &quot;modify&quot;,\n    &quot;no&quot; : &quot;RAM1&quot;\n  }, {\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot;,\n    &quot;no&quot; : &quot;327703&quot;\n  }, {\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\n    &quot;no&quot; : &quot;327704&quot;\n  }, {\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,\n    &quot;no&quot; : &quot;327704&quot;\n  } ],\n  &quot;tab&quot; : {\n    &quot;text&quot; : &quot;123456789&quot;\n  },\n  &quot;address&quot; : [ {\n    &quot;add&quot; : &quot;UK&quot;,\n    &quot;add2&quot; : &quot;US&quot;,\n    &quot;mk&quot; : &quot;mk&quot;\n  } ]\n}","body":"{   &quot;Photos&quot; : [ {     &quot;caption2&quot; : &quot;plain&quot;,     &quot;no&quot; : &quot;RAM&quot;   }, {     &quot;caption2&quot; : &quot;modify&quot;,     &quot;no&quot; : &quot;RAM1&quot;   }, {     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot;,     &quot;no&quot; : &quot;327703&quot;   }, {     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,     &quot;no&quot; : &quot;327704&quot;   }, {     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;,     &quot;no&quot; : &quot;327704&quot;   } ],   &quot;tab&quot; : {     &quot;text&quot; : &quot;123456789&quot;   },   &quot;address&quot; : [ {     &quot;add&quot; : &quot;UK&quot;,     &quot;add2&quot; : &quot;US&quot;,     &quot;mk&quot; : &quot;mk&quot;   } ] }"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667204469,"post_id":74256223,"comment_id":131106613,"body_markdown":"want this \n{\n  &quot;tab&quot; : {\n    &quot;text&quot; : &quot;123456789&quot;\n  },\n  &quot;address&quot; : [ {\n    &quot;add&quot; : &quot;UK&quot;,\n    &quot;add2&quot; : &quot;US&quot;,\n    &quot;mk&quot; : &quot;mk&quot;\n  } ],\n  &quot;Photos&quot; : [ {\n    &quot;no&quot; : &quot;RAM&quot;,\n    &quot;caption2&quot; : &quot;plain&quot;\n  }, {\n    &quot;no&quot; : &quot;RAM1&quot;,\n    &quot;caption2&quot; : &quot;modify&quot;\n  }, {\n    &quot;no&quot; : &quot;327703&quot;,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot;\n  }, {\n    &quot;no&quot; : &quot;327704&quot;,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\n  }, {\n    &quot;no&quot; : &quot;327704&quot;,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\n  } ]\n}","body":"want this  {   &quot;tab&quot; : {     &quot;text&quot; : &quot;123456789&quot;   },   &quot;address&quot; : [ {     &quot;add&quot; : &quot;UK&quot;,     &quot;add2&quot; : &quot;US&quot;,     &quot;mk&quot; : &quot;mk&quot;   } ],   &quot;Photos&quot; : [ {     &quot;no&quot; : &quot;RAM&quot;,     &quot;caption2&quot; : &quot;plain&quot;   }, {     &quot;no&quot; : &quot;RAM1&quot;,     &quot;caption2&quot; : &quot;modify&quot;   }, {     &quot;no&quot; : &quot;327703&quot;,     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot;   }, {     &quot;no&quot; : &quot;327704&quot;,     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;   }, {     &quot;no&quot; : &quot;327704&quot;,     &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;   } ] }"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667205838,"post_id":74256223,"comment_id":131107030,"body_markdown":"Hi @SaurabhVerma , I don&#39;t know the reason, perhaps # sign has a precedence. You can fix the order by writing the attributes individually rather than using `&quot;*&quot;:&quot;&amp;&quot;` pair such as  the second spec to become `,\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;tab&quot;: &quot;&amp;&quot;,\n      &quot;address&quot;: &quot;&amp;&quot;,\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\n          }\n        }\n      }\n    }\n  }`","body":"Hi @SaurabhVerma , I don&#39;t know the reason, perhaps # sign has a precedence. You can fix the order by writing the attributes individually rather than using <code>&quot;*&quot;:&quot;&amp;&quot;</code> pair such as  the second spec to become <code>,   {     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;tab&quot;: &quot;&amp;&quot;,       &quot;address&quot;: &quot;&amp;&quot;,       &quot;Photos&quot;: {         &quot;*&quot;: {           &quot;*&quot;: {             &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;           }         }       }     }   }</code>"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667206358,"post_id":74256223,"comment_id":131107169,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249186/discussion-between-saurabh-verma-and-barbaros-ozhan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249186/discussion-between-saurabh-verma-and-barbaros-ozhan\">continue this discussion in chat</a>."},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667207500,"post_id":74256223,"comment_id":131107479,"body_markdown":"thanks ,\nbut in Photos array also caption2 is coming first than no but i want no and then caption 2.\nthanks once again","body":"thanks , but in Photos array also caption2 is coming first than no but i want no and then caption 2. thanks once again"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1670780378,"post_id":74256223,"comment_id":131947537,"body_markdown":"Respected sir  @Barbaros\nthere is one problem coming in above jolt the problem is explained in details in \nhttps://stackoverflow.com/q/74762976/20369933. can you please tell . thanks for giving time .","body":"Respected sir  @Barbaros there is one problem coming in above jolt the problem is explained in details in  <a href=\"https://stackoverflow.com/q/74762976/20369933\">stackoverflow.com/q/74762976/20369933</a>. can you please tell . thanks for giving time ."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667159011,"creation_date":1667159011,"answer_id":74256223,"question_id":74255796,"body_markdown":"You can use two consecutive shift transformation specs, in the first determine the groupings as desired such as in the following \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\r\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\r\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\r\n          &quot;cardC*&quot;: &quot;address[0].mk&quot;,\r\n          &quot;nam*&quot;: &quot;Photos.no&quot;,\r\n          &quot;lastNam*&quot;: &quot;Photos.caption2&quot;\r\n        },\r\n        &quot;Photos&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;Photos.no&quot;,\r\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&amp;&quot;, // &quot;else&quot; case --&gt; the arrrays/objects/attributes other than &quot;Photos&quot;\r\n      &quot;Photos&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"what will be the jolt transform for that?","body":"<p>You can use two consecutive shift transformation specs, in the first determine the groupings as desired such as in the following</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\n          &quot;cardC*&quot;: &quot;address[0].mk&quot;,\n          &quot;nam*&quot;: &quot;Photos.no&quot;,\n          &quot;lastNam*&quot;: &quot;Photos.caption2&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos.no&quot;,\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;, // &quot;else&quot; case --&gt; the arrrays/objects/attributes other than &quot;Photos&quot;\n      &quot;Photos&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74256223,"answer_count":1,"score":0,"last_activity_date":1667159284,"creation_date":1667155333,"question_id":74255796,"body_markdown":"I want the jolt transform for the given input . Your help in this is highly appreciated . thanks\r\ni am providing the input and expected output.\r\nin input json Photos array is dynamic in nature. Here it is 3 , it can be 3 or 4 or5 any .\r\n\r\nINPUT JSON .\r\n```json\r\n{\r\n  &quot;Entity&quot;: {\r\n    &quot;card&quot;: {\r\n     &quot;cardNo&quot;:&quot;123456789&quot;,\r\n      &quot;cardStatus&quot;:&quot;10&quot;,\r\n      &quot;cardAddress&quot;:&quot;UK&quot;,\r\n      &quot;cardAddress1&quot;:&quot;US&quot;,\r\n      &quot;cardCity&quot;:&quot;mk&quot; ,\r\n       &quot;name&quot;: &quot;RAM&quot;,\r\n      &quot;lastName&quot;: &quot;ABU&quot;,\r\n       &quot;name1&quot;: &quot;RAM1&quot;,\r\n      &quot;lastName1&quot;: &quot;ABU1&quot;\r\n    },\r\n    &quot;Photos&quot;: [\r\n      {\r\n        &quot;Id&quot;: &quot;327703&quot;,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\r\n      },\r\n      {\r\n        &quot;Id&quot;: &quot;327704&quot;,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n      },\r\n      {\r\n        &quot;Id&quot;: &quot;327704&quot;,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n OUTPUT GETTING after jolt transform\r\n\r\n```json\r\n{\r\n  &quot;tab&quot;: {\r\n    &quot;text&quot;: &quot;123456789&quot;\r\n  },\r\n  &quot;address&quot;: [\r\n    {\r\n      &quot;add&quot;: &quot;UK&quot;,\r\n      &quot;add2&quot;: &quot;US&quot;,\r\n      &quot;city&quot;: &quot;mk&quot;\r\n    }\r\n  ],\r\n  &quot;Photos&quot;: [\r\n    {\r\n      &quot;no&quot;: &quot;327703&quot;,\r\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;327704&quot;,\r\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;327704&quot;,\r\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nWHAT WILL BE THE CORRECT JOLT TRANSFORM FOR THIS?\r\n\r\n\r\njolt spec that i have used IS\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\r\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\r\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\r\n          &quot;cardCity&quot;: &quot;address[0].city&quot;,\r\n          &quot;name&quot;: &quot;Photos[&amp;1].no&quot;,\r\n          &quot;lastName&quot;: &quot;Photos[&amp;1].caption&quot;,\r\n          &quot;name1&quot;: &quot;Photos[&amp;1].no&quot;,\r\n          &quot;lastName1&quot;: &quot;Photos[&amp;1].caption&quot;\r\n        },\r\n        &quot;Photos&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;Photos[&amp;1].no&quot;,\r\n            &quot;Caption&quot;: &quot;Photos[&amp;1].caption&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n\r\n```\r\nEXPECTED OUTPUT:\r\n```json\r\n{\r\n  &quot;tab&quot;: {\r\n    &quot;text&quot;: &quot;123456789&quot;\r\n  },\r\n  &quot;address&quot;: [\r\n    {\r\n      &quot;add&quot;: &quot;UK&quot;,\r\n      &quot;add2&quot;: &quot;US&quot;,\r\n      &quot;mk&quot;: &quot;mk&quot;\r\n    }\r\n  ],\r\n  &quot;Photos&quot;: [\r\n    {\r\n      &quot;no&quot;: &quot;RAM&quot;,\r\n      &quot;caption2&quot;: &quot;ABU&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;RAM1&quot;,\r\n      &quot;caption2&quot;: &quot;ABU1&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;327703&quot;,\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;327704&quot;,\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;\r\n    },\r\n    {\r\n      &quot;no&quot;: &quot;327704&quot;,\r\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nI am very new to jolt transform. Your help is highly appreciated. Thanks","title":"what will be the jolt transform for that?","body":"<p>I want the jolt transform for the given input . Your help in this is highly appreciated . thanks\ni am providing the input and expected output.\nin input json Photos array is dynamic in nature. Here it is 3 , it can be 3 or 4 or5 any .</p>\n<p>INPUT JSON .</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Entity&quot;: {\n    &quot;card&quot;: {\n     &quot;cardNo&quot;:&quot;123456789&quot;,\n      &quot;cardStatus&quot;:&quot;10&quot;,\n      &quot;cardAddress&quot;:&quot;UK&quot;,\n      &quot;cardAddress1&quot;:&quot;US&quot;,\n      &quot;cardCity&quot;:&quot;mk&quot; ,\n       &quot;name&quot;: &quot;RAM&quot;,\n      &quot;lastName&quot;: &quot;ABU&quot;,\n       &quot;name1&quot;: &quot;RAM1&quot;,\n      &quot;lastName1&quot;: &quot;ABU1&quot;\n    },\n    &quot;Photos&quot;: [\n      {\n        &quot;Id&quot;: &quot;327703&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: &quot;327704&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: &quot;327704&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>OUTPUT GETTING after jolt transform</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tab&quot;: {\n    &quot;text&quot;: &quot;123456789&quot;\n  },\n  &quot;address&quot;: [\n    {\n      &quot;add&quot;: &quot;UK&quot;,\n      &quot;add2&quot;: &quot;US&quot;,\n      &quot;city&quot;: &quot;mk&quot;\n    }\n  ],\n  &quot;Photos&quot;: [\n    {\n      &quot;no&quot;: &quot;327703&quot;,\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;\n    },\n    {\n      &quot;no&quot;: &quot;327704&quot;,\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;\n    },\n    {\n      &quot;no&quot;: &quot;327704&quot;,\n      &quot;caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;\n    }\n  ]\n}\n</code></pre>\n<p>WHAT WILL BE THE CORRECT JOLT TRANSFORM FOR THIS?</p>\n<p>jolt spec that i have used IS</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;cardNo&quot;: &quot;tab.text&quot;,\n          &quot;cardAddress&quot;: &quot;address[0].add&quot;,\n          &quot;cardAddress1&quot;: &quot;address[0].add2&quot;,\n          &quot;cardCity&quot;: &quot;address[0].city&quot;,\n          &quot;name&quot;: &quot;Photos[&amp;1].no&quot;,\n          &quot;lastName&quot;: &quot;Photos[&amp;1].caption&quot;,\n          &quot;name1&quot;: &quot;Photos[&amp;1].no&quot;,\n          &quot;lastName1&quot;: &quot;Photos[&amp;1].caption&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos[&amp;1].no&quot;,\n            &quot;Caption&quot;: &quot;Photos[&amp;1].caption&quot;\n          }\n        }\n      }\n    }\n  }\n]\n\n</code></pre>\n<p>EXPECTED OUTPUT:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tab&quot;: {\n    &quot;text&quot;: &quot;123456789&quot;\n  },\n  &quot;address&quot;: [\n    {\n      &quot;add&quot;: &quot;UK&quot;,\n      &quot;add2&quot;: &quot;US&quot;,\n      &quot;mk&quot;: &quot;mk&quot;\n    }\n  ],\n  &quot;Photos&quot;: [\n    {\n      &quot;no&quot;: &quot;RAM&quot;,\n      &quot;caption2&quot;: &quot;ABU&quot;\n    },\n    {\n      &quot;no&quot;: &quot;RAM1&quot;,\n      &quot;caption2&quot;: &quot;ABU1&quot;\n    },\n    {\n      &quot;no&quot;: &quot;327703&quot;,\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 1&quot;\n    },\n    {\n      &quot;no&quot;: &quot;327704&quot;,\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;\n    },\n    {\n      &quot;no&quot;: &quot;327704&quot;,\n      &quot;caption2&quot;: &quot;TEST&gt;&gt; photo 2&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I am very new to jolt transform. Your help is highly appreciated. Thanks</p>\n"},{"tags":["java","arrays","spring","mongodb","algorithm"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1667192387,"post_id":74256221,"comment_id":131104300,"body_markdown":"Why can&#39;t you revise your code?","body":"Why can&#39;t you revise your code?"},{"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"score":0,"creation_date":1667284827,"post_id":74256221,"comment_id":131126773,"body_markdown":"I can&#39;t find how to fix","body":"I can&#39;t find how to fix"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1667295736,"post_id":74256221,"comment_id":131129374,"body_markdown":"You can update your `shortUrl` variable type to `List&lt;String&gt;` instead of `String` and pass it accordingly","body":"You can update your <code>shortUrl</code> variable type to <code>List&lt;String&gt;</code> instead of <code>String</code> and pass it accordingly"}],"owner":{"account_id":26332949,"reputation":3,"user_id":19993205,"display_name":"sticky fingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667158961,"creation_date":1667158961,"question_id":74256221,"body_markdown":"In the main method, a single long URL and number will be entered from the screen, and unique short URLs will be generated as much as the number of pieces.\r\n\r\nThis is how the table and method work. But my need has changed and I can&#39;t revise my code. While filling the table, only one String type long url will come, but shortUrl information will come in List&lt;String&gt; type. How can I save this to the table?\r\n\r\n\r\n\r\n    |      longUrl     |    shortUrl      | campaingName |   \r\n    |  ----------------| -----------------| -------------|\r\n    |  &quot;www.nike.com&quot;  | &quot;qwerty.co/xyz1&quot; |   NIKE10     | \r\n    |  &quot;www.nike.com&quot;  | &quot;qwerty.co/hjx9&quot; |   NIKE10     |\r\n    |  &quot;www.chef.com&quot;  | &quot;qwerty.co/v3y7&quot; |   CHEF12     |\r\n    |  &quot;www.nike.com&quot;  | &quot;qwery.co/rto57&quot; |   NIKE99     |\r\n    \r\n\r\nI have a table like this. I use the following method to save data to the table.\r\n\r\n    public BaseResponse insertRecord(UrlsInfoCreateRequest urlsInfoCreateRequest) {\r\n    \r\n            log.info(&quot;insertRecord is started..&quot;);\r\n    \r\n            BaseResponse response = new BaseResponse();\r\n            UrlsInfo urlsInfo = new UrlsInfo();\r\n            urlsInfo.setLongUrl(urlsInfoCreateRequest.getLongUrl());\r\n            urlsInfo.setShortUrl(urlsInfoCreateRequest.getShortUrl());\r\n            urlsInfo.setCampaignName(urlsInfoCreateRequest.getCampaignName());\r\n            urlsInfo.setCreateDate(new Date());\r\n            UrlsInfo urlsInfo1 = this.urlInfoRepository.save(urlsInfo);\r\n    \r\n            if (urlsInfo1 == null){\r\n                log.error(&quot;Record can not insert in the table.&quot;);\r\n                throw new MongoException(&quot;Could not save to database!&quot;);\r\n            }\r\n    \r\n            return BaseResponse.success(&quot;SUCCESS&quot;);\r\n        }\r\n\r\nMy Request Information : \r\n\r\n    @Data\r\n    public class UrlsInfoCreateRequest {\r\n    \r\n        private String longUrl;\r\n        private String shortUrl;\r\n        private String campaignName;\r\n    \r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @ToString(callSuper = true)\r\n    @Document(collection = &quot;campaign_url_table&quot;)\r\n    @EqualsAndHashCode\r\n    public class UrlsInfo extends BaseModel {\r\n    \r\n        @Field(&quot;longUrl&quot;)\r\n        @JsonProperty(&quot;longUrl&quot;)\r\n        private String longUrl;\r\n    \r\n        @Field(&quot;shortUrl&quot;)\r\n        @JsonProperty(&quot;shortUrl&quot;)\r\n        private String shortUrl;\r\n    \r\n        @Field(&quot;campaignName&quot;)\r\n        @JsonProperty(&quot;campaignName&quot;)\r\n        private String campaignName;\r\n    \r\n    }\r\n\r\nCan you help me how to edit my insert method so that the shortUrl information is a List?\r\n\r\ncampaignName will be unique, so 2 short urls were generated for the NIKE10 campaign.","title":"How can i save record in List type with spring in mongo database?","body":"<p>In the main method, a single long URL and number will be entered from the screen, and unique short URLs will be generated as much as the number of pieces.</p>\n<p>This is how the table and method work. But my need has changed and I can't revise my code. While filling the table, only one String type long url will come, but shortUrl information will come in List type. How can I save this to the table?</p>\n<pre><code>|      longUrl     |    shortUrl      | campaingName |   \n|  ----------------| -----------------| -------------|\n|  &quot;www.nike.com&quot;  | &quot;qwerty.co/xyz1&quot; |   NIKE10     | \n|  &quot;www.nike.com&quot;  | &quot;qwerty.co/hjx9&quot; |   NIKE10     |\n|  &quot;www.chef.com&quot;  | &quot;qwerty.co/v3y7&quot; |   CHEF12     |\n|  &quot;www.nike.com&quot;  | &quot;qwery.co/rto57&quot; |   NIKE99     |\n</code></pre>\n<p>I have a table like this. I use the following method to save data to the table.</p>\n<pre><code>public BaseResponse insertRecord(UrlsInfoCreateRequest urlsInfoCreateRequest) {\n\n        log.info(&quot;insertRecord is started..&quot;);\n\n        BaseResponse response = new BaseResponse();\n        UrlsInfo urlsInfo = new UrlsInfo();\n        urlsInfo.setLongUrl(urlsInfoCreateRequest.getLongUrl());\n        urlsInfo.setShortUrl(urlsInfoCreateRequest.getShortUrl());\n        urlsInfo.setCampaignName(urlsInfoCreateRequest.getCampaignName());\n        urlsInfo.setCreateDate(new Date());\n        UrlsInfo urlsInfo1 = this.urlInfoRepository.save(urlsInfo);\n\n        if (urlsInfo1 == null){\n            log.error(&quot;Record can not insert in the table.&quot;);\n            throw new MongoException(&quot;Could not save to database!&quot;);\n        }\n\n        return BaseResponse.success(&quot;SUCCESS&quot;);\n    }\n</code></pre>\n<p>My Request Information :</p>\n<pre><code>@Data\npublic class UrlsInfoCreateRequest {\n\n    private String longUrl;\n    private String shortUrl;\n    private String campaignName;\n\n}\n\n@Data\n@NoArgsConstructor\n@ToString(callSuper = true)\n@Document(collection = &quot;campaign_url_table&quot;)\n@EqualsAndHashCode\npublic class UrlsInfo extends BaseModel {\n\n    @Field(&quot;longUrl&quot;)\n    @JsonProperty(&quot;longUrl&quot;)\n    private String longUrl;\n\n    @Field(&quot;shortUrl&quot;)\n    @JsonProperty(&quot;shortUrl&quot;)\n    private String shortUrl;\n\n    @Field(&quot;campaignName&quot;)\n    @JsonProperty(&quot;campaignName&quot;)\n    private String campaignName;\n\n}\n</code></pre>\n<p>Can you help me how to edit my insert method so that the shortUrl information is a List?</p>\n<p>campaignName will be unique, so 2 short urls were generated for the NIKE10 campaign.</p>\n"},{"tags":["java","graph","breadth-first-search"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667150802,"post_id":74254144,"comment_id":131097659,"body_markdown":"Can you post your entire class so that it was possible to debug it?","body":"Can you post your entire class so that it was possible to debug it?"},{"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"score":0,"creation_date":1667175394,"post_id":74254144,"comment_id":131102214,"body_markdown":"Sure, here I will post the github link: https://github.com/RoyBoy189/ADSHomework","body":"Sure, here I will post the github link: <a href=\"https://github.com/RoyBoy189/ADSHomework\" rel=\"nofollow noreferrer\">github.com/RoyBoy189/ADSHomework</a>"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667220472,"post_id":74254144,"comment_id":131111589,"body_markdown":"Have you tried debugging your code? It returns true when it checks neighbors of a, in particular e. It does so because at this moment a parent of a is b, not e.\nWhat I think you should do, is at each iteration of for loop for (String start : graph)  you should check if the start is visited and not proceed if it is.","body":"Have you tried debugging your code? It returns true when it checks neighbors of a, in particular e. It does so because at this moment a parent of a is b, not e. What I think you should do, is at each iteration of for loop for (String start : graph)  you should check if the start is visited and not proceed if it is."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667220877,"post_id":74254144,"comment_id":131111765,"body_markdown":"Overall, your algorithm seems to be correct, at least I saw that there working solutions on the geekforgeeks that work in a similar way. Although it&#39;s considered a preferred way to use DFS for checking for acyclicity. Anyway, it doesn&#39;t make much sense to visit an already visited connected component which you do at the moment at each iteration of your for loop. P.S. I&#39;m not really that good with graphs to help you more.","body":"Overall, your algorithm seems to be correct, at least I saw that there working solutions on the geekforgeeks that work in a similar way. Although it&#39;s considered a preferred way to use DFS for checking for acyclicity. Anyway, it doesn&#39;t make much sense to visit an already visited connected component which you do at the moment at each iteration of your for loop. P.S. I&#39;m not really that good with graphs to help you more."},{"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"score":0,"creation_date":1667493410,"post_id":74254144,"comment_id":131185071,"body_markdown":"Yea I figured it out and it works. Thank you so much.","body":"Yea I figured it out and it works. Thank you so much."}],"answers":[{"comments":[{"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"score":0,"creation_date":1667175005,"post_id":74255561,"comment_id":131102168,"body_markdown":"When I used ```else if (!parent.get(v).equals(x))\n            return true;\n        }``` I get a error exception. Key no found:  a","body":"When I used <code>else if (!parent.get(v).equals(x))             return true;         }</code> I get a error exception. Key no found:  a"}],"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667158691,"creation_date":1667153305,"answer_id":74255561,"question_id":74254144,"body_markdown":"It should be:\r\n```\r\nelse if (!parent.get(v).equals(x))\r\n            return true;\r\n        }\r\n```\r\nExplanation:\r\n[![enter image description here][1]][1]\r\nLet&#39;s say that you started traversing a graph with A, you marked it as visited (I highlighted it with yellow), and then started traversing its neighbors, B, E. You marked them as visited as well and updated their parent reference to point to A, you also added them to the q. Then you extract the next element from the q,  let&#39;s say it was B. According to your naming B is v, and its neighbors A and C are x&#39;s. You inspect A first. It&#39;s already been visited so you proceed to \r\nelse if clause and check that parent of x (A) is v (B). But it&#39;s not, A doesn&#39;t have a parent, you compare null with v, and it&#39;s not equal, so your code returns true.\r\n\r\n  [1]: https://i.stack.imgur.com/KzL3e.jpg","title":"How to detect a cycle in a undirected graph?","body":"<p>It should be:</p>\n<pre><code>else if (!parent.get(v).equals(x))\n            return true;\n        }\n</code></pre>\n<p>Explanation:\n<a href=\"https://i.stack.imgur.com/KzL3e.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KzL3e.jpg\" alt=\"enter image description here\" /></a>\nLet's say that you started traversing a graph with A, you marked it as visited (I highlighted it with yellow), and then started traversing its neighbors, B, E. You marked them as visited as well and updated their parent reference to point to A, you also added them to the q. Then you extract the next element from the q,  let's say it was B. According to your naming B is v, and its neighbors A and C are x's. You inspect A first. It's already been visited so you proceed to\nelse if clause and check that parent of x (A) is v (B). But it's not, A doesn't have a parent, you compare null with v, and it's not equal, so your code returns true.</p>\n"},{"tags":[],"owner":{"account_id":15846606,"reputation":316,"user_id":11433749,"display_name":"Shayan Daneshvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667156463,"creation_date":1667156463,"answer_id":74255928,"question_id":74254144,"body_markdown":"There are two classic ways of finding cycles in graphs: one is by using DFS (depth first search) algorithm and label the edges and look for [back edges][1].\r\n\r\nAnd the other one is to use the union-find algorithm (aka Disjoint Set data structure) which is used in many applications for cycle detection, especially when you have an undirected graph.\r\n\r\n##### Here&#39;s a few useful links about DFS and union-find algorithms for graph cycle detection to get you started:\r\n\r\nhttps://www.geeksforgeeks.org/detect-cycle-undirected-graph/\r\n\r\nhttps://www.geeksforgeeks.org/detect-cycle-in-a-graph/\r\n\r\nhttps://www.geeksforgeeks.org/union-find/\r\n\r\nNote: There are other ways you can detect cycles in graphs, but they are usually not as efficient as the ones mentioned above.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Depth-first_search#Output_of_a_depth-first_search","title":"How to detect a cycle in a undirected graph?","body":"<p>There are two classic ways of finding cycles in graphs: one is by using DFS (depth first search) algorithm and label the edges and look for <a href=\"https://en.wikipedia.org/wiki/Depth-first_search#Output_of_a_depth-first_search\" rel=\"nofollow noreferrer\">back edges</a>.</p>\n<p>And the other one is to use the union-find algorithm (aka Disjoint Set data structure) which is used in many applications for cycle detection, especially when you have an undirected graph.</p>\n<h5>Here's a few useful links about DFS and union-find algorithms for graph cycle detection to get you started:</h5>\n<p><a href=\"https://www.geeksforgeeks.org/detect-cycle-undirected-graph/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/detect-cycle-undirected-graph/</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/detect-cycle-in-a-graph/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/detect-cycle-in-a-graph/</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/union-find/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/union-find/</a></p>\n<p>Note: There are other ways you can detect cycles in graphs, but they are usually not as efficient as the ones mentioned above.</p>\n"}],"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74255928,"answer_count":2,"score":2,"last_activity_date":1667158691,"creation_date":1667142110,"question_id":74254144,"body_markdown":"Good morning, currently I am stuck on trying to figure out how to detect a cycle in a undirected graph where the keys are strings.\r\n\r\n\r\nmy code so far:\r\n\r\n```\r\npublic boolean hascycle() {\r\n    DSHashMap&lt;String&gt; parent = new DSHashMap&lt;&gt;();\r\n    DSHashMap&lt;String&gt; visted = new DSHashMap&lt;&gt;();\r\n    LinkedList&lt;String&gt; q = new LinkedList&lt;&gt;();\r\n    for (String start : graph) {\r\n      q.add(start);\r\n      visted.put(start, &quot;&quot;);\r\n      ;\r\n      while (!q.isEmpty()) {\r\n        String v = q.poll();\r\n        for (String x : graph.get(v)) {\r\n          if (!visted.containsKey(x)) {\r\n            visted.put(x, &quot;&quot;);\r\n            ;\r\n            q.add(v);\r\n            parent.put(x, v);\r\n          } else if (!parent.get(x).equals(v))\r\n            return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n```\r\nMy logic so far: if the key of parent does not equal to v, it must be a new neighbor and we should return true.\r\n\r\n\r\nWhen I tried checking my code with this checker:\r\n```\r\nprivate static void gradehascycles() {\r\n    System.out.println(&quot;\\nGrading the cycles function&quot;);\r\n        DSGraph g = new DSGraph();\r\n        g.addEdge(&quot;a&quot;, &quot;b&quot;);\r\n        g.addEdge(&quot;a&quot;, &quot;e&quot;);\r\n        g.addEdge(&quot;c&quot;, &quot;b&quot;);\r\n        g.addEdge(&quot;c&quot;, &quot;d&quot;);\r\n        checkExpect(g.hascycle(), false, &quot;Square graph&quot;, 1);\r\n}\r\n\r\n```\r\nMy code returned true even though it was supposed to be false. What is the logic behind checking if a graph has a cycle or not?","title":"How to detect a cycle in a undirected graph?","body":"<p>Good morning, currently I am stuck on trying to figure out how to detect a cycle in a undirected graph where the keys are strings.</p>\n<p>my code so far:</p>\n<pre><code>public boolean hascycle() {\n    DSHashMap&lt;String&gt; parent = new DSHashMap&lt;&gt;();\n    DSHashMap&lt;String&gt; visted = new DSHashMap&lt;&gt;();\n    LinkedList&lt;String&gt; q = new LinkedList&lt;&gt;();\n    for (String start : graph) {\n      q.add(start);\n      visted.put(start, &quot;&quot;);\n      ;\n      while (!q.isEmpty()) {\n        String v = q.poll();\n        for (String x : graph.get(v)) {\n          if (!visted.containsKey(x)) {\n            visted.put(x, &quot;&quot;);\n            ;\n            q.add(v);\n            parent.put(x, v);\n          } else if (!parent.get(x).equals(v))\n            return true;\n        }\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p>My logic so far: if the key of parent does not equal to v, it must be a new neighbor and we should return true.</p>\n<p>When I tried checking my code with this checker:</p>\n<pre><code>private static void gradehascycles() {\n    System.out.println(&quot;\\nGrading the cycles function&quot;);\n        DSGraph g = new DSGraph();\n        g.addEdge(&quot;a&quot;, &quot;b&quot;);\n        g.addEdge(&quot;a&quot;, &quot;e&quot;);\n        g.addEdge(&quot;c&quot;, &quot;b&quot;);\n        g.addEdge(&quot;c&quot;, &quot;d&quot;);\n        checkExpect(g.hascycle(), false, &quot;Square graph&quot;, 1);\n}\n\n</code></pre>\n<p>My code returned true even though it was supposed to be false. What is the logic behind checking if a graph has a cycle or not?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13692468,"reputation":71,"user_id":9879923,"display_name":"storytellerF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666950809,"creation_date":1666942159,"answer_id":74231944,"question_id":74229004,"body_markdown":"You can check whether the corresponding `AvailabilityModel` exists before calling `List#get()`, if not, directly assign `available` to null. At the same time, you also need to perform a null check in `intent.putExtra(&quot;Available&quot;, employee);`.","title":"Trying to get position of lists throws &quot;java.lang.IndexOutOfBoundsException&quot;","body":"<p>You can check whether the corresponding <code>AvailabilityModel</code> exists before calling <code>List#get()</code>, if not, directly assign <code>available</code> to null. At the same time, you also need to perform a null check in <code>intent.putExtra(&quot;Available&quot;, employee);</code>.</p>\n"},{"tags":[],"owner":{"account_id":26655686,"reputation":9,"user_id":20269261,"display_name":"sequential"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667003019,"creation_date":1667000314,"answer_id":74241824,"question_id":74229004,"body_markdown":"Update I fixed the problem using a little bit of what @perfect puzzle said here&#39;s the solution \r\n\r\n**Here&#39;s the recyclerViewAdapter updated code**\r\n\r\nI first created an if statement to check whether the pointer was below the size of the availability list `allAvailabilitys.size()`, then created a null check within the intent.putExtra field as per @perfectpuzzle instruction\r\n\r\n```\r\n@Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        EmployeeModel employee;\r\n        AvailabilityModel available = null;\r\n        if(position &lt; allAvailabilitys.size()){\r\n            available = allAvailabilitys.get(position);\r\n            employee = allEmployees.get(position);\r\n            holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\r\n            holder.firstName.setText(allEmployees.get(position).getfName());\r\n            holder.lastName.setText(allEmployees.get(position).getlName());\r\n            holder.employee = employee;\r\n        } else{\r\n            employee = allEmployees.get(position);\r\n            holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\r\n            holder.firstName.setText(allEmployees.get(position).getfName());\r\n            holder.lastName.setText(allEmployees.get(position).getlName());\r\n            holder.employee = employee;\r\n        }\r\n\r\n        EmployeeModel finalEmployee = employee;\r\n        holder.editButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, EditEmployee.class);\r\n                intent.putExtra(&quot;Editing&quot;, finalEmployee);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        EmployeeModel finalEmployee1 = employee;\r\n        AvailabilityModel finalAvailable = available;\r\n        holder.availabilityButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, availability_screen_code.class);\r\n                intent.putExtra(&quot;Available&quot;, finalEmployee1);\r\n                if(finalAvailable!= null){\r\n                    intent.putExtra(&quot;Days&quot;, finalAvailable);\r\n                }\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        EmployeeModel finalEmployee2 = employee;\r\n        holder.parentLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, ViewEmployee.class);\r\n                intent.putExtra(&quot;Viewing&quot;, finalEmployee2);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**Updated use of position**\r\nhere I also check if available is null and I also created a function to translate a null into the default String used in my spinner.\r\n```\r\nBundle bundle = getIntent().getExtras();\r\n        AvailabilityModel available = (AvailabilityModel) getIntent().getSerializableExtra(&quot;Days&quot;);\r\n        EmployeeModel employee = (EmployeeModel) getIntent().getSerializableExtra(&quot;Available&quot;);\r\n        employeeDB = new EmployeeDBAssist(availability_screen_code.this);\r\n\r\n        //setting elements in spinner\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.availableTimes, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        //monday\r\n        mondaySpinner.setAdapter(adapter);\r\n        //tuesday\r\n        tuesdaySpinner.setAdapter(adapter);\r\n\r\n        //wednesday\r\n        wednesdaySpinner.setAdapter(adapter);\r\n\r\n        //thursday\r\n        thursdaySpinner.setAdapter(adapter);\r\n\r\n        //friday\r\n        fridaySpinner.setAdapter(adapter);\r\n\r\n        //saturday\r\n        saturdaySpinner.setAdapter(adapter);\r\n\r\n        //sunday\r\n        sundaySpinner.setAdapter(adapter);\r\n        if(available != null){\r\n            mondayChoice = getAvailableDay(available.getMonday());\r\n            mondaySpinner.setSelection(getIndex(mondaySpinner, mondayChoice));\r\n\r\n            tuesdayChoice = getAvailableDay(available.getTuesday());\r\n            tuesdaySpinner.setSelection(getIndex(tuesdaySpinner, tuesdayChoice));\r\n\r\n            wednesdayChoice = getAvailableDay(available.getWednesday());\r\n            wednesdaySpinner.setSelection(getIndex(wednesdaySpinner, wednesdayChoice));\r\n\r\n            thursdayChoice = getAvailableDay(available.getThursday());\r\n            thursdaySpinner.setSelection(getIndex(thursdaySpinner, thursdayChoice));\r\n\r\n            fridayChoice = getAvailableDay(available.getFriday());\r\n            fridaySpinner.setSelection(getIndex(fridaySpinner, fridayChoice));\r\n\r\n            saturdayChoice = getAvailableDay(available.getSaturday());\r\n            saturdaySpinner.setSelection(getIndex(saturdaySpinner, saturdayChoice));\r\n\r\n            sundayChoice = getAvailableDay(available.getSunday());\r\n            sundaySpinner.setSelection(getIndex(sundaySpinner, sundayChoice));\r\n        }\r\n        else{\r\n            Toast.makeText(this, &quot;null field&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n}\r\n```\r\nHope this can help someone out.","title":"Trying to get position of lists throws &quot;java.lang.IndexOutOfBoundsException&quot;","body":"<p>Update I fixed the problem using a little bit of what @perfect puzzle said here's the solution</p>\n<p><strong>Here's the recyclerViewAdapter updated code</strong></p>\n<p>I first created an if statement to check whether the pointer was below the size of the availability list <code>allAvailabilitys.size()</code>, then created a null check within the intent.putExtra field as per @perfectpuzzle instruction</p>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        EmployeeModel employee;\n        AvailabilityModel available = null;\n        if(position &lt; allAvailabilitys.size()){\n            available = allAvailabilitys.get(position);\n            employee = allEmployees.get(position);\n            holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\n            holder.firstName.setText(allEmployees.get(position).getfName());\n            holder.lastName.setText(allEmployees.get(position).getlName());\n            holder.employee = employee;\n        } else{\n            employee = allEmployees.get(position);\n            holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\n            holder.firstName.setText(allEmployees.get(position).getfName());\n            holder.lastName.setText(allEmployees.get(position).getlName());\n            holder.employee = employee;\n        }\n\n        EmployeeModel finalEmployee = employee;\n        holder.editButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, EditEmployee.class);\n                intent.putExtra(&quot;Editing&quot;, finalEmployee);\n                context.startActivity(intent);\n            }\n        });\n        EmployeeModel finalEmployee1 = employee;\n        AvailabilityModel finalAvailable = available;\n        holder.availabilityButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, availability_screen_code.class);\n                intent.putExtra(&quot;Available&quot;, finalEmployee1);\n                if(finalAvailable!= null){\n                    intent.putExtra(&quot;Days&quot;, finalAvailable);\n                }\n                context.startActivity(intent);\n            }\n        });\n        EmployeeModel finalEmployee2 = employee;\n        holder.parentLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, ViewEmployee.class);\n                intent.putExtra(&quot;Viewing&quot;, finalEmployee2);\n                context.startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Updated use of position</strong>\nhere I also check if available is null and I also created a function to translate a null into the default String used in my spinner.</p>\n<pre><code>Bundle bundle = getIntent().getExtras();\n        AvailabilityModel available = (AvailabilityModel) getIntent().getSerializableExtra(&quot;Days&quot;);\n        EmployeeModel employee = (EmployeeModel) getIntent().getSerializableExtra(&quot;Available&quot;);\n        employeeDB = new EmployeeDBAssist(availability_screen_code.this);\n\n        //setting elements in spinner\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.availableTimes, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n        //monday\n        mondaySpinner.setAdapter(adapter);\n        //tuesday\n        tuesdaySpinner.setAdapter(adapter);\n\n        //wednesday\n        wednesdaySpinner.setAdapter(adapter);\n\n        //thursday\n        thursdaySpinner.setAdapter(adapter);\n\n        //friday\n        fridaySpinner.setAdapter(adapter);\n\n        //saturday\n        saturdaySpinner.setAdapter(adapter);\n\n        //sunday\n        sundaySpinner.setAdapter(adapter);\n        if(available != null){\n            mondayChoice = getAvailableDay(available.getMonday());\n            mondaySpinner.setSelection(getIndex(mondaySpinner, mondayChoice));\n\n            tuesdayChoice = getAvailableDay(available.getTuesday());\n            tuesdaySpinner.setSelection(getIndex(tuesdaySpinner, tuesdayChoice));\n\n            wednesdayChoice = getAvailableDay(available.getWednesday());\n            wednesdaySpinner.setSelection(getIndex(wednesdaySpinner, wednesdayChoice));\n\n            thursdayChoice = getAvailableDay(available.getThursday());\n            thursdaySpinner.setSelection(getIndex(thursdaySpinner, thursdayChoice));\n\n            fridayChoice = getAvailableDay(available.getFriday());\n            fridaySpinner.setSelection(getIndex(fridaySpinner, fridayChoice));\n\n            saturdayChoice = getAvailableDay(available.getSaturday());\n            saturdaySpinner.setSelection(getIndex(saturdaySpinner, saturdayChoice));\n\n            sundayChoice = getAvailableDay(available.getSunday());\n            sundaySpinner.setSelection(getIndex(sundaySpinner, sundayChoice));\n        }\n        else{\n            Toast.makeText(this, &quot;null field&quot;, Toast.LENGTH_SHORT).show();\n        }\n}\n</code></pre>\n<p>Hope this can help someone out.</p>\n"}],"owner":{"account_id":26655686,"reputation":9,"user_id":20269261,"display_name":"sequential"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667158187,"creation_date":1666910608,"question_id":74229004,"body_markdown":"I have two array lists, one for employees, another for their availabilities. The arrays are of different size. I don&#39;t see the problem with that when I&#39;m using the array of the larger size in `getItemCount()`:\r\n\r\n```\r\n@Override\r\n    public int getItemCount() {\r\n        return allEmployees.size();\r\n    }\r\n```\r\n\r\nI set recycler view to get all employee items, however my availability is a shorter list. If I have 6 availability&#39;s and 12 employees everything goes smooth on the first page as it only shows the 6 employees. But when I scroll down it will crash as there is a 7th employee but no 7th availability.\r\n\r\nRecycler View :\r\n\r\n```\r\npublic class RecycleViewAdapter extends RecyclerView.Adapter&lt;RecycleViewAdapter.MyViewHolder&gt; {\r\n    List&lt;EmployeeModel&gt; allEmployees;\r\n    List&lt;AvailabilityModel&gt; allAvailabilitys;\r\n    Context context;\r\n\r\n    public RecycleViewAdapter(List&lt;EmployeeModel&gt; allEmployees, List&lt;AvailabilityModel&gt; allAvailabilitys, Context context) {\r\n        this.allAvailabilitys = allAvailabilitys;\r\n        this.allEmployees = allEmployees;\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_view_employee, parent, false);\r\n        MyViewHolder holder = new MyViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        AvailabilityModel available = allAvailabilitys.get(position);\r\n        EmployeeModel employee = allEmployees.get(position);\r\n        holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\r\n        holder.firstName.setText(allEmployees.get(position).getfName());\r\n        holder.lastName.setText(allEmployees.get(position).getlName());\r\n        //holder.position = position;\r\n        holder.employee = employee;\r\n\r\n        holder.editButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, EditEmployee.class);\r\n                intent.putExtra(&quot;Editing&quot;, employee);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        holder.availabilityButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, availability_screen_code.class);\r\n                intent.putExtra(&quot;Available&quot;, employee);\r\n                intent.putExtra(&quot;Days&quot;, available);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n        holder.parentLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, ViewEmployee.class);\r\n                intent.putExtra(&quot;Viewing&quot;, employee);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return allEmployees.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n        TextView firstName;\r\n        TextView lastName;\r\n        TextView employeeID;\r\n        int position;\r\n        ImageButton editButton;\r\n        ImageButton availabilityButton;\r\n        EmployeeModel employee;\r\n        ConstraintLayout parentLayout;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            firstName = itemView.findViewById(R.id.fNameView);\r\n            lastName = itemView.findViewById(R.id.lNameView);\r\n            employeeID = itemView.findViewById(R.id.eIDView);\r\n            editButton = itemView.findViewById(R.id.imageButton2);\r\n            availabilityButton = itemView.findViewById(R.id.imageButton4);\r\n            parentLayout = itemView.findViewById(R.id.parentLayout);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere I&#39;m using the position:\r\n\r\n```\r\npublic class availability_screen_code extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    private Spinner mondaySpinner, tuesdaySpinner, wednesdaySpinner, thursdaySpinner, fridaySpinner, saturdaySpinner, sundaySpinner;\r\n//    private String mondayChoice, tuesdayChoice, wednesdayChoice, thursdayChoice, fridayChoice, saturdayChoice, sundayChoice;\r\n//    private static final boolean [] choices = new boolean[6];\r\n    private ImageButton confirmation;\r\n    EmployeeDBAssist employeeDB;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.availability_screen);\r\n        mondaySpinner = findViewById(R.id.mondaySpinner);\r\n        tuesdaySpinner = findViewById(R.id.tuesdaySpinner);\r\n        wednesdaySpinner = findViewById(R.id.wednesdaySpinner);\r\n        thursdaySpinner = findViewById(R.id.thursdaySpinner);\r\n        fridaySpinner = findViewById(R.id.fridaySpinner);\r\n        saturdaySpinner = findViewById(R.id.saturdaySpinner);\r\n        sundaySpinner = findViewById(R.id.sundaySpinner);\r\n        confirmation = findViewById(R.id.confirm);\r\n        //this is linked to the recycler which gets an entire list of availability!\r\n        Bundle bundle = getIntent().getExtras();\r\n        AvailabilityModel available = (AvailabilityModel) getIntent().getSerializableExtra(&quot;Days&quot;);\r\n        EmployeeModel employee = (EmployeeModel) getIntent().getSerializableExtra(&quot;Available&quot;); //this is where im using it\r\n        employeeDB = new EmployeeDBAssist(availability_screen_code.this);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.availableTimes, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        //monday\r\n        mondaySpinner.setAdapter(adapter);\r\n        mondaySpinner.setOnItemSelectedListener(this);\r\n        String availableString = available.getMonday();\r\n        mondaySpinner.setSelection(getIndex(mondaySpinner, availableString));\r\n        Toast.makeText(this, availableString, Toast.LENGTH_SHORT).show();\r\n\r\n        //tuesday\r\n        tuesdaySpinner.setAdapter(adapter);\r\n        tuesdaySpinner.setOnItemSelectedListener(this);\r\n        //wednesday\r\n        wednesdaySpinner.setAdapter(adapter);\r\n        wednesdaySpinner.setOnItemSelectedListener(this);\r\n        //thursday\r\n        thursdaySpinner.setAdapter(adapter);\r\n        thursdaySpinner.setOnItemSelectedListener(this);\r\n        //friday\r\n        fridaySpinner.setAdapter(adapter);\r\n        fridaySpinner.setOnItemSelectedListener(this);\r\n        //saturday\r\n        saturdaySpinner.setAdapter(adapter);\r\n        saturdaySpinner.setOnItemSelectedListener(this);\r\n        //sunday\r\n        sundaySpinner.setAdapter(adapter);\r\n        sundaySpinner.setOnItemSelectedListener(this);\r\n\r\n        confirmation.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                AvailabilityModel availabilityModel;\r\n                try{\r\n                    availabilityModel = new AvailabilityModel(-1, employee.getEID(), mondaySpinner.getSelectedItem().toString(), tuesdaySpinner.getSelectedItem().toString(), wednesdaySpinner.getSelectedItem().toString(), thursdaySpinner.getSelectedItem().toString(), fridaySpinner.getSelectedItem().toString(), saturdaySpinner.getSelectedItem().toString(), sundaySpinner.getSelectedItem().toString());\r\n                    EmployeeDBAssist employeeDBAssist = new EmployeeDBAssist(availability_screen_code.this);\r\n                    employeeDBAssist.updateAvailability(employee.getEID(),mondaySpinner.getSelectedItem().toString(), tuesdaySpinner.getSelectedItem().toString(), wednesdaySpinner.getSelectedItem().toString(), thursdaySpinner.getSelectedItem().toString(), fridaySpinner.getSelectedItem().toString(), saturdaySpinner.getSelectedItem().toString(), sundaySpinner.getSelectedItem().toString());\r\n                    Toast.makeText(availability_screen_code.this, String.valueOf(employee.getEID()) + &quot; &quot; + mondaySpinner.getSelectedItem().toString()+ &quot; &quot; + tuesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + wednesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + thursdaySpinner.getSelectedItem().toString()+ &quot; &quot; + fridaySpinner.getSelectedItem().toString()+ &quot; &quot; + saturdaySpinner.getSelectedItem().toString()+ &quot; &quot; + sundaySpinner.getSelectedItem().toString(), Toast.LENGTH_SHORT).show();\r\n                    boolean success = employeeDBAssist.addAvailability(availabilityModel);\r\n                }\r\n                catch (Exception e){\r\n                    Toast.makeText(availability_screen_code.this, &quot;Error Setting Availability&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                Intent i = new Intent(availability_screen_code.this,activity_main_code.class);\r\n                startActivity(i);\r\n\r\n                Toast.makeText(availability_screen_code.this, String.valueOf(employee.getEID()) + &quot; &quot; + mondaySpinner.getSelectedItem().toString()+ &quot; &quot; + tuesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + wednesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + thursdaySpinner.getSelectedItem().toString()+ &quot; &quot; + fridaySpinner.getSelectedItem().toString()+ &quot; &quot; + saturdaySpinner.getSelectedItem().toString()+ &quot; &quot; + sundaySpinner.getSelectedItem().toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n\r\n`availability` table has 2 values and `employees` 7. In `getItemCount` I&#39;m using the size of my employee table. However, I need to get the position of my availability so that I can use it in another class. It will only work for the first two entries. Once I scroll down it throws :\r\n\r\n&gt; java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\r\n\r\nAdding an availability for every employee would defeat the purpose of my project. How to solve this with the use of two separate arrays of different size?","title":"Trying to get position of lists throws &quot;java.lang.IndexOutOfBoundsException&quot;","body":"<p>I have two array lists, one for employees, another for their availabilities. The arrays are of different size. I don't see the problem with that when I'm using the array of the larger size in <code>getItemCount()</code>:</p>\n<pre><code>@Override\n    public int getItemCount() {\n        return allEmployees.size();\n    }\n</code></pre>\n<p>I set recycler view to get all employee items, however my availability is a shorter list. If I have 6 availability's and 12 employees everything goes smooth on the first page as it only shows the 6 employees. But when I scroll down it will crash as there is a 7th employee but no 7th availability.</p>\n<p>Recycler View :</p>\n<pre><code>public class RecycleViewAdapter extends RecyclerView.Adapter&lt;RecycleViewAdapter.MyViewHolder&gt; {\n    List&lt;EmployeeModel&gt; allEmployees;\n    List&lt;AvailabilityModel&gt; allAvailabilitys;\n    Context context;\n\n    public RecycleViewAdapter(List&lt;EmployeeModel&gt; allEmployees, List&lt;AvailabilityModel&gt; allAvailabilitys, Context context) {\n        this.allAvailabilitys = allAvailabilitys;\n        this.allEmployees = allEmployees;\n        this.context = context;\n\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_view_employee, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        AvailabilityModel available = allAvailabilitys.get(position);\n        EmployeeModel employee = allEmployees.get(position);\n        holder.employeeID.setText(String.valueOf(allEmployees.get(position).getEID()));\n        holder.firstName.setText(allEmployees.get(position).getfName());\n        holder.lastName.setText(allEmployees.get(position).getlName());\n        //holder.position = position;\n        holder.employee = employee;\n\n        holder.editButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, EditEmployee.class);\n                intent.putExtra(&quot;Editing&quot;, employee);\n                context.startActivity(intent);\n            }\n        });\n        holder.availabilityButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, availability_screen_code.class);\n                intent.putExtra(&quot;Available&quot;, employee);\n                intent.putExtra(&quot;Days&quot;, available);\n                context.startActivity(intent);\n            }\n        });\n        holder.parentLayout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, ViewEmployee.class);\n                intent.putExtra(&quot;Viewing&quot;, employee);\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return allEmployees.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView firstName;\n        TextView lastName;\n        TextView employeeID;\n        int position;\n        ImageButton editButton;\n        ImageButton availabilityButton;\n        EmployeeModel employee;\n        ConstraintLayout parentLayout;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            firstName = itemView.findViewById(R.id.fNameView);\n            lastName = itemView.findViewById(R.id.lNameView);\n            employeeID = itemView.findViewById(R.id.eIDView);\n            editButton = itemView.findViewById(R.id.imageButton2);\n            availabilityButton = itemView.findViewById(R.id.imageButton4);\n            parentLayout = itemView.findViewById(R.id.parentLayout);\n        }\n    }\n}\n</code></pre>\n<p>Where I'm using the position:</p>\n<pre><code>public class availability_screen_code extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n    private Spinner mondaySpinner, tuesdaySpinner, wednesdaySpinner, thursdaySpinner, fridaySpinner, saturdaySpinner, sundaySpinner;\n//    private String mondayChoice, tuesdayChoice, wednesdayChoice, thursdayChoice, fridayChoice, saturdayChoice, sundayChoice;\n//    private static final boolean [] choices = new boolean[6];\n    private ImageButton confirmation;\n    EmployeeDBAssist employeeDB;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.availability_screen);\n        mondaySpinner = findViewById(R.id.mondaySpinner);\n        tuesdaySpinner = findViewById(R.id.tuesdaySpinner);\n        wednesdaySpinner = findViewById(R.id.wednesdaySpinner);\n        thursdaySpinner = findViewById(R.id.thursdaySpinner);\n        fridaySpinner = findViewById(R.id.fridaySpinner);\n        saturdaySpinner = findViewById(R.id.saturdaySpinner);\n        sundaySpinner = findViewById(R.id.sundaySpinner);\n        confirmation = findViewById(R.id.confirm);\n        //this is linked to the recycler which gets an entire list of availability!\n        Bundle bundle = getIntent().getExtras();\n        AvailabilityModel available = (AvailabilityModel) getIntent().getSerializableExtra(&quot;Days&quot;);\n        EmployeeModel employee = (EmployeeModel) getIntent().getSerializableExtra(&quot;Available&quot;); //this is where im using it\n        employeeDB = new EmployeeDBAssist(availability_screen_code.this);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.availableTimes, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n        //monday\n        mondaySpinner.setAdapter(adapter);\n        mondaySpinner.setOnItemSelectedListener(this);\n        String availableString = available.getMonday();\n        mondaySpinner.setSelection(getIndex(mondaySpinner, availableString));\n        Toast.makeText(this, availableString, Toast.LENGTH_SHORT).show();\n\n        //tuesday\n        tuesdaySpinner.setAdapter(adapter);\n        tuesdaySpinner.setOnItemSelectedListener(this);\n        //wednesday\n        wednesdaySpinner.setAdapter(adapter);\n        wednesdaySpinner.setOnItemSelectedListener(this);\n        //thursday\n        thursdaySpinner.setAdapter(adapter);\n        thursdaySpinner.setOnItemSelectedListener(this);\n        //friday\n        fridaySpinner.setAdapter(adapter);\n        fridaySpinner.setOnItemSelectedListener(this);\n        //saturday\n        saturdaySpinner.setAdapter(adapter);\n        saturdaySpinner.setOnItemSelectedListener(this);\n        //sunday\n        sundaySpinner.setAdapter(adapter);\n        sundaySpinner.setOnItemSelectedListener(this);\n\n        confirmation.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                AvailabilityModel availabilityModel;\n                try{\n                    availabilityModel = new AvailabilityModel(-1, employee.getEID(), mondaySpinner.getSelectedItem().toString(), tuesdaySpinner.getSelectedItem().toString(), wednesdaySpinner.getSelectedItem().toString(), thursdaySpinner.getSelectedItem().toString(), fridaySpinner.getSelectedItem().toString(), saturdaySpinner.getSelectedItem().toString(), sundaySpinner.getSelectedItem().toString());\n                    EmployeeDBAssist employeeDBAssist = new EmployeeDBAssist(availability_screen_code.this);\n                    employeeDBAssist.updateAvailability(employee.getEID(),mondaySpinner.getSelectedItem().toString(), tuesdaySpinner.getSelectedItem().toString(), wednesdaySpinner.getSelectedItem().toString(), thursdaySpinner.getSelectedItem().toString(), fridaySpinner.getSelectedItem().toString(), saturdaySpinner.getSelectedItem().toString(), sundaySpinner.getSelectedItem().toString());\n                    Toast.makeText(availability_screen_code.this, String.valueOf(employee.getEID()) + &quot; &quot; + mondaySpinner.getSelectedItem().toString()+ &quot; &quot; + tuesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + wednesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + thursdaySpinner.getSelectedItem().toString()+ &quot; &quot; + fridaySpinner.getSelectedItem().toString()+ &quot; &quot; + saturdaySpinner.getSelectedItem().toString()+ &quot; &quot; + sundaySpinner.getSelectedItem().toString(), Toast.LENGTH_SHORT).show();\n                    boolean success = employeeDBAssist.addAvailability(availabilityModel);\n                }\n                catch (Exception e){\n                    Toast.makeText(availability_screen_code.this, &quot;Error Setting Availability&quot;, Toast.LENGTH_SHORT).show();\n                }\n                Intent i = new Intent(availability_screen_code.this,activity_main_code.class);\n                startActivity(i);\n\n                Toast.makeText(availability_screen_code.this, String.valueOf(employee.getEID()) + &quot; &quot; + mondaySpinner.getSelectedItem().toString()+ &quot; &quot; + tuesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + wednesdaySpinner.getSelectedItem().toString()+ &quot; &quot; + thursdaySpinner.getSelectedItem().toString()+ &quot; &quot; + fridaySpinner.getSelectedItem().toString()+ &quot; &quot; + saturdaySpinner.getSelectedItem().toString()+ &quot; &quot; + sundaySpinner.getSelectedItem().toString(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n</code></pre>\n<p><code>availability</code> table has 2 values and <code>employees</code> 7. In <code>getItemCount</code> I'm using the size of my employee table. However, I need to get the position of my availability so that I can use it in another class. It will only work for the first two entries. Once I scroll down it throws :</p>\n<blockquote>\n<p>java.lang.IndexOutOfBoundsException: Index: 2, Size: 2</p>\n</blockquote>\n<p>Adding an availability for every employee would defeat the purpose of my project. How to solve this with the use of two separate arrays of different size?</p>\n"},{"tags":["java","list","loops","object","hashmap"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667155252,"post_id":74255731,"comment_id":131098645,"body_markdown":"That `categoryModelLongMap.values()` should produce a bunch of `long` numbers, but the output you&#39;ve posted is something different. *&quot;method `getCategoryName` which return `String`&quot;* - fine, but you&#39;re not using it in the code.","body":"That <code>categoryModelLongMap.values()</code> should produce a bunch of <code>long</code> numbers, but the output you&#39;ve posted is something different. <i>&quot;method <code>getCategoryName</code> which return <code>String</code>&quot;</i> - fine, but you&#39;re not using it in the code."},{"owner":{"account_id":24531518,"reputation":79,"user_id":18443203,"display_name":"asdasdas"},"score":0,"creation_date":1667155671,"post_id":74255731,"comment_id":131098750,"body_markdown":"Yes, i just mentioned this, becouse i dont know how to get these values from Map. All I&#39;m trying to do is make the new map look like:\nkey = laptops value = 0, key = computers value = 0, key = keyboards value = 0, key = mouses value = 0,","body":"Yes, i just mentioned this, becouse i dont know how to get these values from Map. All I&#39;m trying to do is make the new map look like: key = laptops value = 0, key = computers value = 0, key = keyboards value = 0, key = mouses value = 0,"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667156240,"post_id":74255731,"comment_id":131098887,"body_markdown":"What you&#39;re doing in the code is confusing. Can you, please, explain what should be the end result in plain English? Do you want to **add up** all the values associated with each distinct `CategoryModel` together, and generate a map of type `Map&lt;String, Long&gt;` as a result where key is a name obtained via `getCategoryName()` and the value is the total amount for each category?","body":"What you&#39;re doing in the code is confusing. Can you, please, explain what should be the end result in plain English? Do you want to <b>add up</b> all the values associated with each distinct <code>CategoryModel</code> together, and generate a map of type <code>Map&lt;String, Long&gt;</code> as a result where key is a name obtained via <code>getCategoryName()</code> and the value is the total amount for each category?"},{"owner":{"account_id":24531518,"reputation":79,"user_id":18443203,"display_name":"asdasdas"},"score":1,"creation_date":1667156456,"post_id":74255731,"comment_id":131098938,"body_markdown":"That&#39;s exactly what I mean, sorry for my confusing explanation","body":"That&#39;s exactly what I mean, sorry for my confusing explanation"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667157023,"post_id":74255731,"comment_id":131099070,"body_markdown":"`That&#39;s exactly what I mean` - then you can borrow this description and copy-past it to the question to make it more clear to the readers.","body":"<code>That&#39;s exactly what I mean</code> - then you can borrow this description and copy-past it to the question to make it more clear to the readers."}],"answers":[{"comments":[{"owner":{"account_id":24531518,"reputation":79,"user_id":18443203,"display_name":"asdasdas"},"score":0,"creation_date":1667157367,"post_id":74255931,"comment_id":131099121,"body_markdown":"Its okay, but its return only one row: category_name: laptops, number 0. How i can return other 3 categories?","body":"Its okay, but its return only one row: category_name: laptops, number 0. How i can return other 3 categories?"},{"owner":{"account_id":14712295,"reputation":37,"user_id":10625320,"display_name":"Goel Nimi"},"score":0,"creation_date":1667157682,"post_id":74255931,"comment_id":131099194,"body_markdown":"Are you sure that List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory(); is filling the list with more than just the laptops? The loop you already had should be able to iterate through multiple already.","body":"Are you sure that List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory(); is filling the list with more than just the laptops? The loop you already had should be able to iterate through multiple already."},{"owner":{"account_id":14712295,"reputation":37,"user_id":10625320,"display_name":"Goel Nimi"},"score":0,"creation_date":1667157777,"post_id":74255931,"comment_id":131099219,"body_markdown":"Also I would recommend considering Alexander&#39;s answer, as it is more uniform/less janky using the methods of classes you are already using.","body":"Also I would recommend considering Alexander&#39;s answer, as it is more uniform/less janky using the methods of classes you are already using."}],"tags":[],"owner":{"account_id":14712295,"reputation":37,"user_id":10625320,"display_name":"Goel Nimi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667156479,"creation_date":1667156479,"answer_id":74255931,"question_id":74255731,"body_markdown":"One way to do it would be using something like this:\r\n\r\nInstead of\r\n\r\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n\r\n    for (Map&lt;CategoryModel, Long&gt; featureService : list) {\r\n        for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\r\n            newMap.put(String.valueOf(entry.getKey()), String.valueOf(entry.getValue()));\r\n        }\r\n    }\r\n\r\n\r\nUse\r\n\r\n        \r\n\r\n    \r\n\r\n    \r\n\r\n    \r\n\r\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n                        \r\n                            for (Map&lt;CategoryModel, Long&gt; featureService : list) {\r\n                                for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\r\n                        String rawKeyReturn = String.valueOf(entry.getKey());            \r\n                        String rawValueReturn = String.valueOf(entry.getValue());   \r\n                    newMap.put(\r\n            rawKeyReturn.substring(rawKeyReturn.indexOf(&quot;=&quot;)+1,rawKeyReturn.length()), \r\n                    \r\n    rawValueReturn.substring(rawValueReturn.indexOf(&quot;=&quot;)+1,rawValueReturn.length())\r\n                    );\r\n             }           \r\n      }\r\n\r\n\r\nApologies for the formatting, I am not sure how to fix the spacing in the code blocks.\r\n\r\nThis solution works by finding just creating a substring of the results of your calls to the valueOf() method and cutting off the label (everything up to and including the first = sign).\r\n\r\nThere may be more elegant ways to do this, but I&#39;m not sure how.","title":"How to Iterate through List of Map&lt;Object,Long&gt;","body":"<p>One way to do it would be using something like this:</p>\n<p>Instead of</p>\n<pre><code>    Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n\nfor (Map&lt;CategoryModel, Long&gt; featureService : list) {\n    for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\n        newMap.put(String.valueOf(entry.getKey()), String.valueOf(entry.getValue()));\n    }\n}\n</code></pre>\n<p>Use</p>\n<pre><code>    Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n                    \n                        for (Map&lt;CategoryModel, Long&gt; featureService : list) {\n                            for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\n                    String rawKeyReturn = String.valueOf(entry.getKey());            \n                    String rawValueReturn = String.valueOf(entry.getValue());   \n                newMap.put(\n        rawKeyReturn.substring(rawKeyReturn.indexOf(&quot;=&quot;)+1,rawKeyReturn.length()), \n                \nrawValueReturn.substring(rawValueReturn.indexOf(&quot;=&quot;)+1,rawValueReturn.length())\n                );\n         }           \n  }\n</code></pre>\n<p>Apologies for the formatting, I am not sure how to fix the spacing in the code blocks.</p>\n<p>This solution works by finding just creating a substring of the results of your calls to the valueOf() method and cutting off the label (everything up to and including the first = sign).</p>\n<p>There may be more elegant ways to do this, but I'm not sure how.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667158121,"creation_date":1667156617,"answer_id":74255942,"question_id":74255731,"body_markdown":"You need to flatten the entries of each map in the List.\r\n\r\nAnd then group the data associated with each distinct `CategoryModel` and add up the values mapped to the same key.\r\n\r\nBasically, this can be done using two nested loops (your attempt was close). \r\n\r\nThat how it can be implemented using Java 8 method [`Map.merge()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)):\r\n\r\n```\r\nList&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\r\n    \r\nMap&lt;String, Long&gt; result = new HashMap&lt;&gt;();\r\n\r\nfor (Map&lt;CategoryModel, Long&gt; categoryModelLongMap : list) {\r\n    for (Map.Entry&lt;CategoryModel, Long&gt; entry : categoryModelLongMap.entrySet()) {\r\n        result.merge(entry.getKey().getCategoryName(),\r\n                     entry.getValue(),\r\n                     Long::sum);\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, it can be done using Stream API.\r\n\r\n# groupingBy + summingLong\r\n\r\nYou can generate a stream over the list. Flatten the entries of each `Map` using `flatMap()` operation, and then apply `collect()`.\r\n\r\nCollector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) would group the entries having the same category, and the downstream collector [`summingLong()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingLong(java.util.function.ToLongFunction)) would aggregate the values associated with the same key.\r\n\r\n```\r\nList&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\r\n    \r\nMap&lt;String, Long&gt; result = list.stream()\r\n    .flatMap(map -&gt; map.entrySet().stream())\r\n    .collect(Collectors.groupingBy(\r\n        entry -&gt; entry.getKey().getCategoryName(),\r\n        Collectors.summingLong(Map.Entry::getValue)\r\n    ));\r\n```\r\n\r\n# toMap\r\n\r\nSimilarly, you can use *three-args* version of Collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)):\r\n\r\n```\r\nList&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\r\n    \r\nMap&lt;String, Long&gt; result = list.stream()\r\n    .flatMap(map -&gt; map.entrySet().stream())\r\n    .collect(Collectors.toMap(\r\n        entry -&gt; entry.getKey().getCategoryName(),\r\n        Map.Entry::getValue,\r\n        Long::sum\r\n    ));\r\n```","title":"How to Iterate through List of Map&lt;Object,Long&gt;","body":"<p>You need to flatten the entries of each map in the List.</p>\n<p>And then group the data associated with each distinct <code>CategoryModel</code> and add up the values mapped to the same key.</p>\n<p>Basically, this can be done using two nested loops (your attempt was close).</p>\n<p>That how it can be implemented using Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.merge()</code></a>:</p>\n<pre><code>List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\n    \nMap&lt;String, Long&gt; result = new HashMap&lt;&gt;();\n\nfor (Map&lt;CategoryModel, Long&gt; categoryModelLongMap : list) {\n    for (Map.Entry&lt;CategoryModel, Long&gt; entry : categoryModelLongMap.entrySet()) {\n        result.merge(entry.getKey().getCategoryName(),\n                     entry.getValue(),\n                     Long::sum);\n    }\n}\n</code></pre>\n<p>Alternatively, it can be done using Stream API.</p>\n<h1>groupingBy + summingLong</h1>\n<p>You can generate a stream over the list. Flatten the entries of each <code>Map</code> using <code>flatMap()</code> operation, and then apply <code>collect()</code>.</p>\n<p>Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> would group the entries having the same category, and the downstream collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingLong(java.util.function.ToLongFunction)\" rel=\"nofollow noreferrer\"><code>summingLong()</code></a> would aggregate the values associated with the same key.</p>\n<pre><code>List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\n    \nMap&lt;String, Long&gt; result = list.stream()\n    .flatMap(map -&gt; map.entrySet().stream())\n    .collect(Collectors.groupingBy(\n        entry -&gt; entry.getKey().getCategoryName(),\n        Collectors.summingLong(Map.Entry::getValue)\n    ));\n</code></pre>\n<h1>toMap</h1>\n<p>Similarly, you can use <em>three-args</em> version of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a>:</p>\n<pre><code>List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\n    \nMap&lt;String, Long&gt; result = list.stream()\n    .flatMap(map -&gt; map.entrySet().stream())\n    .collect(Collectors.toMap(\n        entry -&gt; entry.getKey().getCategoryName(),\n        Map.Entry::getValue,\n        Long::sum\n    ));\n</code></pre>\n"}],"owner":{"account_id":24531518,"reputation":79,"user_id":18443203,"display_name":"asdasdas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1667158121,"creation_date":1667154757,"question_id":74255731,"body_markdown":"I want to get values from this List:\r\n\r\n    List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\r\n\r\nI print values ​​from list like this: \r\n\r\n    for (Map&lt;CategoryModel, Long&gt; categoryModelLongMap : list) {\r\n        System.out.println(categoryModelLongMap.values());\r\n    }\r\n\r\nOutput:\r\n\r\n    [computers, 0]\r\n    [mouses, 0]\r\n    [keyboards, 0]\r\n    [laptops, 0]\r\n\r\nBut now i want to add these values to another map, as they appear above. I wrote something like that but it doesnt work\r\n\r\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n\r\n        for (Map&lt;CategoryModel, Long&gt; featureService : list) {\r\n            for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\r\n                newMap.put(String.valueOf(entry.getKey()), String.valueOf(entry.getValue()));\r\n            }\r\n        }\r\n\r\nOutput:\r\n\r\n    {number=0, category_name=laptops}\r\n\r\nMap&lt;String, String&gt; newMap, should be Map&lt;String, Long&gt;, but i dont know how to dispose of those &quot;number&quot; and &quot;category_name&quot;. Objecy CategoryModel have also method &quot;getCategoryName&quot; which return String.  Can someone help me how can i iterate through values in list?\r\n\r\n\r\n","title":"How to Iterate through List of Map&lt;Object,Long&gt;","body":"<p>I want to get values from this List:</p>\n<pre><code>List&lt;Map&lt;CategoryModel,Long&gt;&gt; list = categoryRespository.findSalesByCategory();\n</code></pre>\n<p>I print values ​​from list like this:</p>\n<pre><code>for (Map&lt;CategoryModel, Long&gt; categoryModelLongMap : list) {\n    System.out.println(categoryModelLongMap.values());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[computers, 0]\n[mouses, 0]\n[keyboards, 0]\n[laptops, 0]\n</code></pre>\n<p>But now i want to add these values to another map, as they appear above. I wrote something like that but it doesnt work</p>\n<pre><code>    Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n\n    for (Map&lt;CategoryModel, Long&gt; featureService : list) {\n        for (Map.Entry&lt;CategoryModel,Long&gt; entry : featureService.entrySet()) {\n            newMap.put(String.valueOf(entry.getKey()), String.valueOf(entry.getValue()));\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>{number=0, category_name=laptops}\n</code></pre>\n<p>Map&lt;String, String&gt; newMap, should be Map&lt;String, Long&gt;, but i dont know how to dispose of those &quot;number&quot; and &quot;category_name&quot;. Objecy CategoryModel have also method &quot;getCategoryName&quot; which return String.  Can someone help me how can i iterate through values in list?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667101042,"post_id":74250319,"comment_id":131089579,"body_markdown":"Can you elaborate more? What have you done so far? show some code.","body":"Can you elaborate more? What have you done so far? show some code."},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667101913,"post_id":74250319,"comment_id":131089655,"body_markdown":"@LawrenceGimenez unfortunately cant share code due to school reasons but do you know if the checkboxes appear in object listviews?","body":"@LawrenceGimenez unfortunately cant share code due to school reasons but do you know if the checkboxes appear in object listviews?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102207,"post_id":74250319,"comment_id":131089679,"body_markdown":"You can find other blogs or tutorials with more or less has the same implementation on what you are doing. And use that as a reference here. Or it will be difficult for us here to help you.","body":"You can find other blogs or tutorials with more or less has the same implementation on what you are doing. And use that as a reference here. Or it will be difficult for us here to help you."},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667102273,"post_id":74250319,"comment_id":131089686,"body_markdown":"@LawrenceGimenez scoured the internet and I have tried but all of them use strings instread of objects and the checkboxes appear for them","body":"@LawrenceGimenez scoured the internet and I have tried but all of them use strings instread of objects and the checkboxes appear for them"},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667102296,"post_id":74250319,"comment_id":131089688,"body_markdown":"what would i need to show you for you to pick it apart?","body":"what would i need to show you for you to pick it apart?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102351,"post_id":74250319,"comment_id":131089694,"body_markdown":"Rename IDs or class names into something else, whatever. Your school shouldn&#39;t hold anything against it.","body":"Rename IDs or class names into something else, whatever. Your school shouldn&#39;t hold anything against it."},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667102653,"post_id":74250319,"comment_id":131089726,"body_markdown":"@LawrenceGimenez added some images not sure if theyre helpful","body":"@LawrenceGimenez added some images not sure if theyre helpful"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102749,"post_id":74250319,"comment_id":131089733,"body_markdown":"Please use code blocks and not images. It seems like basic Android code, not sure why are you so concern of your school finding out.","body":"Please use code blocks and not images. It seems like basic Android code, not sure why are you so concern of your school finding out."},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667102818,"post_id":74250319,"comment_id":131089740,"body_markdown":"hahah first time doing this so forgive me","body":"hahah first time doing this so forgive me"},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667102987,"post_id":74250319,"comment_id":131089753,"body_markdown":"@LawrenceGimenez added code block and more code","body":"@LawrenceGimenez added code block and more code"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667103418,"post_id":74250319,"comment_id":131089798,"body_markdown":"Looks fine, can you share EventsAdapter code?","body":"Looks fine, can you share EventsAdapter code?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667103956,"post_id":74250319,"comment_id":131089857,"body_markdown":"I don&#39;t see no checkboxes here?","body":"I don&#39;t see no checkboxes here?"},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667104269,"post_id":74250319,"comment_id":131089884,"body_markdown":"@LawrenceGimenez From the references I looked at it seemed that the checkboxes were a part of the mutiples selection mode. Still very new to android studio so this might be it","body":"@LawrenceGimenez From the references I looked at it seemed that the checkboxes were a part of the mutiples selection mode. Still very new to android studio so this might be it"},{"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"score":0,"creation_date":1667104276,"post_id":74250319,"comment_id":131089885,"body_markdown":"How would it look?","body":"How would it look?"}],"owner":{"account_id":26773243,"reputation":9,"user_id":20369275,"display_name":"Tos"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667157993,"creation_date":1667100460,"question_id":74250319,"body_markdown":"\r\n\r\nMight be because in the listview I&#39;m adding objects and not strings. Anyone know how to get checkboxes to appear when using a listview of objects?\r\n\r\nThe main thing I&#39;m tring to do right now is to have mutiple selections so I can delete the object in the listview.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n","title":"Checkboxes not appearing in listview choice mode multiple, fixes?","body":"<p>Might be because in the listview I'm adding objects and not strings. Anyone know how to get checkboxes to appear when using a listview of objects?</p>\n<p>The main thing I'm tring to do right now is to have mutiple selections so I can delete the object in the listview.</p>\n<p>[enter image description here][1]</p>\n<p>[enter image description here][2]</p>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":1,"creation_date":1667147714,"post_id":74254055,"comment_id":131096909,"body_markdown":"I am extremely sorry for that i have updated expected output and current output","body":"I am extremely sorry for that i have updated expected output and current output"},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667147983,"post_id":74254055,"comment_id":131096977,"body_markdown":"in input JSON Photos array can have any no of elements , they are dynamic in nature.\neg\n &quot;Photos&quot;: [\n      {\n        &quot;Id&quot;: &quot;327703&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: &quot;327704&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      },\n.....etc\n    ]","body":"in input JSON Photos array can have any no of elements , they are dynamic in nature. eg  &quot;Photos&quot;: [       {         &quot;Id&quot;: &quot;327703&quot;,         &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,         &quot;Url&quot;: &quot;<a href=\"http://bob.com/0001/327703/photo.jpg\" rel=\"nofollow noreferrer\">bob.com/0001/327703/photo.jpg</a>&quot;       },       {         &quot;Id&quot;: &quot;327704&quot;,         &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,         &quot;Url&quot;: &quot;<a href=\"http://bob.com/0001/327704/photo.jpg\" rel=\"nofollow noreferrer\">bob.com/0001/327704/photo.jpg</a>&quot;       }, .....etc     ]"}],"answers":[{"comments":[{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667151695,"post_id":74255010,"comment_id":131097866,"body_markdown":"Thank you sir , for answering .I highly appreciate that.But i have one doubt what if in my input card has some more elements that we mapped to some other object ? Like \n&quot;card&quot;:{\n&quot;cardnNo&quot;:&quot;1234&quot;,\n&quot;cardAddress&quot;: &quot;india&quot;,\n&quot;cardAddress1&quot;:&quot;US&quot;\n}\nNOW\nin output the required is like\n{\n&quot;card&quot;:{\n&quot;text&quot;:123\n}\n&quot;address&quot;:[\nabove address\n]\nnow i need that clubbed photoes array\n}","body":"Thank you sir , for answering .I highly appreciate that.But i have one doubt what if in my input card has some more elements that we mapped to some other object ? Like  &quot;card&quot;:{ &quot;cardnNo&quot;:&quot;1234&quot;, &quot;cardAddress&quot;: &quot;india&quot;, &quot;cardAddress1&quot;:&quot;US&quot; } NOW in output the required is like { &quot;card&quot;:{ &quot;text&quot;:123 } &quot;address&quot;:[ above address ] now i need that clubbed photoes array }"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667152873,"post_id":74255010,"comment_id":131098129,"body_markdown":"Hi @SaurabhVerma , you^re welcome. We already restrict the keys to `name` and `lastName` considering both keys presented within the object, more keys won&#39;t matter unless them exist.","body":"Hi @SaurabhVerma , you^re welcome. We already restrict the keys to <code>name</code> and <code>lastName</code> considering both keys presented within the object, more keys won&#39;t matter unless them exist."},{"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"score":0,"creation_date":1667155484,"post_id":74255010,"comment_id":131098707,"body_markdown":"Actually i am very new to jolt transform . i was asking this .https://stackoverflow.com/q/74255796/20369933\nthanks once again for answering .","body":"Actually i am very new to jolt transform . i was asking this .<a href=\"https://stackoverflow.com/q/74255796/20369933\">stackoverflow.com/q/74255796/20369933</a> thanks once again for answering ."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667157864,"creation_date":1667149022,"answer_id":74255010,"question_id":74254055,"body_markdown":"You can construct a shift transformation spec which will rearrange the desired elements to remain as two individual arrays nested within an object tagged `Photos`, and then put them into their respective (three) objects such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;name&quot;: &quot;Photos.no&quot;,\r\n          &quot;lastName&quot;: &quot;Photos.caption2&quot;\r\n        },\r\n        &quot;Photos&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;Photos.no&quot;,\r\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot; // grouped by &quot;Photos&quot; which is grabbed after going the tree 3 leves up(&amp;3) and binded as array by their respective indexes([&amp;1] which yields 0,1,2) and thier key names(&amp;2)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SYLBU.jpg","title":"I have an issue in jolt transformation. While transforming I need as expected output but getting different one","body":"<p>You can construct a shift transformation spec which will rearrange the desired elements to remain as two individual arrays nested within an object tagged <code>Photos</code>, and then put them into their respective (three) objects such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;name&quot;: &quot;Photos.no&quot;,\n          &quot;lastName&quot;: &quot;Photos.caption2&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos.no&quot;,\n            &quot;Caption&quot;: &quot;Photos.caption2&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;@&quot;: &quot;&amp;3[&amp;1].&amp;2&quot; // grouped by &quot;Photos&quot; which is grabbed after going the tree 3 leves up(&amp;3) and binded as array by their respective indexes([&amp;1] which yields 0,1,2) and thier key names(&amp;2)\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/SYLBU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYLBU.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26774022,"reputation":65,"user_id":20369933,"display_name":"Philanthropic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74255010,"answer_count":1,"score":1,"last_activity_date":1667157864,"creation_date":1667141310,"question_id":74254055,"body_markdown":"I am not able to transform the jolt properly using jolt spec. Thanks in photos array elements can be any like in above two are there, so it can be 3 or 4 or 5 any.\r\n\r\nMy jolt spec:\r\n\r\n**Input JSON** :\r\n\r\n```json\r\n{\r\n  &quot;Entity&quot;: {\r\n    &quot;card&quot;: {\r\n      &quot;name&quot;: &quot;RAM&quot;,\r\n      &quot;lastName&quot;: &quot;ABU&quot;\r\n    },\r\n    &quot;Photos&quot;: [\r\n      {\r\n        &quot;Id&quot;: &quot;327703&quot;,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\r\n      },\r\n      {\r\n        &quot;Id&quot;: &quot;327704&quot;,\r\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\r\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n**Jolt Spec** :\r\n```json\r\n[  \r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;Entity&quot;: {\r\n        &quot;card&quot;: {\r\n          &quot;name&quot;: &quot;Photos[0].no&quot;,\r\n          &quot;lastName&quot;: &quot;Photos[0].caption2.&quot;\r\n        },\r\n        &quot;Photos&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;Id&quot;: &quot;Photos[&amp;1].no&quot;,\r\n            &quot;Caption&quot;: &quot;Photos[&amp;1].caption2&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n**Current output** :\r\n\r\n```json\r\n{\r\n  &quot;Photos&quot; : [ {\r\n    &quot;no&quot; : [ &quot;RAM&quot;, &quot;327703&quot; ],\r\n    &quot;caption2&quot; : [ &quot;ABU&quot;, &quot;TEST&gt;&gt; photo 1&quot; ]\r\n  }, {\r\n    &quot;no&quot; : &quot;327704&quot;,\r\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\r\n  } ]\r\n}\r\n```\r\n**Expected output** :\r\n\r\n```json\r\n\r\n{\r\n  &quot;Photos&quot; : [\r\n    {\r\n     &quot;no&quot; : &quot;Ram&quot;,\r\n    &quot;caption2&quot; : &quot;ABU&quot;\r\n    },\r\n   {\r\n    &quot;no&quot; : &quot;327703&quot; ,\r\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot; \r\n   },\r\n    {\r\n    &quot;no&quot; : &quot;327704&quot;,\r\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\r\n    } \r\n  ]\r\n}\r\n\r\n```\r\n\r\n","title":"I have an issue in jolt transformation. While transforming I need as expected output but getting different one","body":"<p>I am not able to transform the jolt properly using jolt spec. Thanks in photos array elements can be any like in above two are there, so it can be 3 or 4 or 5 any.</p>\n<p>My jolt spec:</p>\n<p><strong>Input JSON</strong> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Entity&quot;: {\n    &quot;card&quot;: {\n      &quot;name&quot;: &quot;RAM&quot;,\n      &quot;lastName&quot;: &quot;ABU&quot;\n    },\n    &quot;Photos&quot;: [\n      {\n        &quot;Id&quot;: &quot;327703&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 1&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327703/photo.jpg&quot;\n      },\n      {\n        &quot;Id&quot;: &quot;327704&quot;,\n        &quot;Caption&quot;: &quot;TEST&gt;&gt; photo 2&quot;,\n        &quot;Url&quot;: &quot;http://bob.com/0001/327704/photo.jpg&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p><strong>Jolt Spec</strong> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[  \n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;Entity&quot;: {\n        &quot;card&quot;: {\n          &quot;name&quot;: &quot;Photos[0].no&quot;,\n          &quot;lastName&quot;: &quot;Photos[0].caption2.&quot;\n        },\n        &quot;Photos&quot;: {\n          &quot;*&quot;: {\n            &quot;Id&quot;: &quot;Photos[&amp;1].no&quot;,\n            &quot;Caption&quot;: &quot;Photos[&amp;1].caption2&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><strong>Current output</strong> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Photos&quot; : [ {\n    &quot;no&quot; : [ &quot;RAM&quot;, &quot;327703&quot; ],\n    &quot;caption2&quot; : [ &quot;ABU&quot;, &quot;TEST&gt;&gt; photo 1&quot; ]\n  }, {\n    &quot;no&quot; : &quot;327704&quot;,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\n  } ]\n}\n</code></pre>\n<p><strong>Expected output</strong> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n{\n  &quot;Photos&quot; : [\n    {\n     &quot;no&quot; : &quot;Ram&quot;,\n    &quot;caption2&quot; : &quot;ABU&quot;\n    },\n   {\n    &quot;no&quot; : &quot;327703&quot; ,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 1&quot; \n   },\n    {\n    &quot;no&quot; : &quot;327704&quot;,\n    &quot;caption2&quot; : &quot;TEST&gt;&gt; photo 2&quot;\n    } \n  ]\n}\n\n</code></pre>\n"},{"tags":["java","latitude-longitude"],"comments":[{"owner":{"account_id":1675787,"reputation":7498,"user_id":1541403,"display_name":"Vatev"},"score":1,"creation_date":1343659260,"post_id":11723503,"comment_id":15554604,"body_markdown":"You can use the formula from [this question](http://stackoverflow.com/questions/7222382/get-lat-long-given-current-point-distance-and-bearing). When you set bearing to 0 you can get the longitude angle for a given distance and latitude.","body":"You can use the formula from <a href=\"http://stackoverflow.com/questions/7222382/get-lat-long-given-current-point-distance-and-bearing\">this question</a>. When you set bearing to 0 you can get the longitude angle for a given distance and latitude."}],"answers":[{"comments":[{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343660151,"post_id":11723829,"comment_id":15555008,"body_markdown":"I know the vertical and horizontal distanaces and want the angles!","body":"I know the vertical and horizontal distanaces and want the angles!"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343660454,"post_id":11723829,"comment_id":15555163,"body_markdown":"I mean I know the vertical and horizontal distance to agent b and want its angles by using the angles of agent a!","body":"I mean I know the vertical and horizontal distance to agent b and want its angles by using the angles of agent a!"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343661834,"post_id":11723829,"comment_id":15555812,"body_markdown":"latitude is no different than longitude in that matter","body":"latitude is no different than longitude in that matter"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343662711,"post_id":11723829,"comment_id":15556265,"body_markdown":"So if I have an Agent A on the position angle (a1,a2) and I want Agent B on the shifted position 1m(vertical) and 2000m (horizontal). Would my new positions be: b1 = a1 - (1*1/111000) and b2 = a2 - (2000*1/111000)  ???","body":"So if I have an Agent A on the position angle (a1,a2) and I want Agent B on the shifted position 1m(vertical) and 2000m (horizontal). Would my new positions be: b1 = a1 - (1*1/111000) and b2 = a2 - (2000*1/111000)  ???"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343664099,"post_id":11723829,"comment_id":15556919,"body_markdown":"ahh now I see what I forgot. That would be true on the equator, but if you are on a different angle, you have to multiply by cos(angleFromTheEquator)","body":"ahh now I see what I forgot. That would be true on the equator, but if you are on a different angle, you have to multiply by cos(angleFromTheEquator)"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343671895,"post_id":11723829,"comment_id":15560241,"body_markdown":"Why do I have to use the &quot;angleFromEquator&quot;? Shouldn&#39;t it be the angle b2?","body":"Why do I have to use the &quot;angleFromEquator&quot;? Shouldn&#39;t it be the angle b2?"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343673715,"post_id":11723829,"comment_id":15561040,"body_markdown":"@ b2 = a2 - h/(2*pi*r*360) means: Is r always the earth radius at the equator (6378137 m) or avarage radius (6371000.785 m)? If I have the longitude a2 = 52.308056 in decimal and the horizontal distance h = 40m could I still use the the formula? Because then I receive the same angle, due to the very small value of h/(2*pi*r*360)!","body":"@ b2 = a2 - h/(2*pi<i>r*360) means: Is r always the earth radius at the equator (6378137 m) or avarage radius (6371000.785 m)? If I have the longitude a2 = 52.308056 in decimal and the horizontal distance h = 40m could I still use the the formula? Because then I receive the same angle, due to the very small value of h/(2*pi</i>r*360)!"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343721015,"post_id":11723829,"comment_id":15573968,"body_markdown":"angleFromTheEquator = latitude = angle b2","body":"angleFromTheEquator = latitude = angle b2"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343721565,"post_id":11723829,"comment_id":15574199,"body_markdown":"the distance per degree is 40.000km/360&#176; for latitude, but for the longitude, the circumference of earth is 40.000km only at the equator. So the distance per degree varies, depending on the latitude you are at. At 45&#176; latitude for example, it would be 40.000km *cos(45) = 28.000 km. So your distance would be 28.000km/360 degrees","body":"the distance per degree is 40.000km/360&#176; for latitude, but for the longitude, the circumference of earth is 40.000km only at the equator. So the distance per degree varies, depending on the latitude you are at. At 45&#176; latitude for example, it would be 40.000km *cos(45) = 28.000 km. So your distance would be 28.000km/360 degrees"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343805835,"post_id":11723829,"comment_id":15604588,"body_markdown":"Is it right that the circumference Uc on each latitude is Uc = 2*pi*6378000*cos(currentLatitude) and then the distance formula d would be d= (Uc*cos(currentLatitude))/360? My new longitude would be (if I shift the position 2000m b2 to the east) then b2 = a2 - 2000/d ? So if a2 = currentLatitude = 52.308056, then Uc=24501971.49m ,d=41613.59 m and b2=52.25999478 ?","body":"Is it right that the circumference Uc on each latitude is Uc = 2*pi*6378000*cos(currentLatitude) and then the distance formula d would be d= (Uc*cos(currentLatitude))/360? My new longitude would be (if I shift the position 2000m b2 to the east) then b2 = a2 - 2000/d ? So if a2 = currentLatitude = 52.308056, then Uc=24501971.49m ,d=41613.59 m and b2=52.25999478 ?"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343828207,"post_id":11723829,"comment_id":15614005,"body_markdown":"In your example you shifted along the North-South-axis.","body":"In your example you shifted along the North-South-axis."},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343828233,"post_id":11723829,"comment_id":15614021,"body_markdown":"If Latitude = 52, Longitude = 0 and you shift 41 km to the east, you would be at a longitude of 0.6 degrees","body":"If Latitude = 52, Longitude = 0 and you shift 41 km to the east, you would be at a longitude of 0.6 degrees"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1343828549,"post_id":11723829,"comment_id":15614186,"body_markdown":"I added an example to my answer","body":"I added an example to my answer"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343891683,"post_id":11723829,"comment_id":15634379,"body_markdown":"Oh sorry my longitude a1 is 4.764167 then b1 = a1 - 2000/d = 4.716105 ?","body":"Oh sorry my longitude a1 is 4.764167 then b1 = a1 - 2000/d = 4.716105 ?"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1343892721,"post_id":11723829,"comment_id":15634709,"body_markdown":"Which formula do you use, because I get 0.9717 using your example on my formulas above!","body":"Which formula do you use, because I get 0.9717 using your example on my formulas above!"},{"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"score":0,"creation_date":1344247969,"post_id":11723829,"comment_id":15721957,"body_markdown":"wait, I think you are confusing things. Its only: `Uc = 2*pi*6378000*cos(currentLatitude)`\nAnd then `b1 = a1 - ( (2000m / Uc) * 360&#176; )`","body":"wait, I think you are confusing things. Its only: <code>Uc = 2*pi*6378000*cos(currentLatitude)</code> And then <code>b1 = a1 - ( (2000m &#47; Uc) * 360&#176; )</code>"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1344275231,"post_id":11723829,"comment_id":15733673,"body_markdown":"I found this formula on Wiki (http://de.wikipedia.org/wiki/Geographische_L%C3%A4nge) d= (Uc*cos(currentLatitude))/360 so I thougth it have to be right?! Can you send me a link for verfication, cause it is quite important for my work to have aqurate references?","body":"I found this formula on Wiki (<a href=\"http://de.wikipedia.org/wiki/Geographische_L%C3%A4nge\" rel=\"nofollow noreferrer\">de.wikipedia.org/wiki/Geographische_L%C3%A4nge</a>) d= (Uc*cos(currentLatitude))/360 so I thougth it have to be right?! Can you send me a link for verfication, cause it is quite important for my work to have aqurate references?"},{"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"score":0,"creation_date":1344321711,"post_id":11723829,"comment_id":15745200,"body_markdown":"It&#39;s the same formula I got it know! Thanks a lot!","body":"It&#39;s the same formula I got it know! Thanks a lot!"}],"tags":[],"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"comment_count":18,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343828529,"creation_date":1343659464,"answer_id":11723829,"question_id":11723503,"body_markdown":"Is it your goal to calculate the distance between your two points?\r\n\r\nI would use:\r\n\r\n    d(P1, P2) = ((r &#183; pi)/180)) &#183; cos−1 (cos(a1) &#183; cos(a2) &#183; cos(b1 − b2) + sin(a1) &#183; sin(a2))\r\n\r\nwhere d is distance, r would be the earth radius, cos-1 is the inverse cosinus and a1,a2,b1,b2 are the angles of your 2 agents\r\n\r\nIf you know the vertical and horizontal distance (l and h), you can simply calculate `b1 = a1 - l/(2*pi*r*cos(angleFromEquator)*360)` and `a2 = h/(2*pi*r*360) + b2` if you are using spherical coordinates.\r\n\r\nIf you are at the equator (latitude = 0) and you shift 1.000 km to the east, you would end up ( 1.000 km / 40.000 km ) * 360&#176; = 9&#176; further east.\r\n\r\nAt a latitude of 45&#176;, that would be ( 1.000 km / 28.000 km ) * 360&#176; = 12.8&#176;","title":"Formula for getting longitude","body":"<p>Is it your goal to calculate the distance between your two points?</p>\n\n<p>I would use:</p>\n\n<pre><code>d(P1, P2) = ((r · pi)/180)) · cos−1 (cos(a1) · cos(a2) · cos(b1 − b2) + sin(a1) · sin(a2))\n</code></pre>\n\n<p>where d is distance, r would be the earth radius, cos-1 is the inverse cosinus and a1,a2,b1,b2 are the angles of your 2 agents</p>\n\n<p>If you know the vertical and horizontal distance (l and h), you can simply calculate <code>b1 = a1 - l/(2*pi*r*cos(angleFromEquator)*360)</code> and <code>a2 = h/(2*pi*r*360) + b2</code> if you are using spherical coordinates.</p>\n\n<p>If you are at the equator (latitude = 0) and you shift 1.000 km to the east, you would end up ( 1.000 km / 40.000 km ) * 360° = 9° further east.</p>\n\n<p>At a latitude of 45°, that would be ( 1.000 km / 28.000 km ) * 360° = 12.8°</p>\n"},{"tags":[],"owner":{"account_id":57094,"reputation":20034,"user_id":171006,"accept_rate":65,"display_name":"Lior Kogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667157413,"creation_date":1345476019,"answer_id":12040446,"question_id":11723503,"body_markdown":"If you&#39;ll move 1Km east, and then 1Km north, you&#39;ll reach a different location than if you&#39;ll move 1Km north and then 1Km east. \r\n\r\nOn extreme cases (specific latitudes near the north pole), moving 1Km east will bring you back to your original location.\r\n\r\nYour concept of separating latitudinal and longitudinal &#39;shift&#39; is wrong, since it is not suitable for locations on the surface of a sphere/ellipsoid.\r\n\r\nAnyway, if your are looking for the earth&#39;s circumference at a given latitude, and a spherical model is accurate enough for your needs, look [here][1].\r\n\r\n\r\n  [1]: https://web.archive.org/web/20171223110853/http://mathforum.org/library/drmath/view/54158.html","title":"Formula for getting longitude","body":"<p>If you'll move 1Km east, and then 1Km north, you'll reach a different location than if you'll move 1Km north and then 1Km east.</p>\n<p>On extreme cases (specific latitudes near the north pole), moving 1Km east will bring you back to your original location.</p>\n<p>Your concept of separating latitudinal and longitudinal 'shift' is wrong, since it is not suitable for locations on the surface of a sphere/ellipsoid.</p>\n<p>Anyway, if your are looking for the earth's circumference at a given latitude, and a spherical model is accurate enough for your needs, look <a href=\"https://web.archive.org/web/20171223110853/http://mathforum.org/library/drmath/view/54158.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1703634,"reputation":31,"user_id":1563153,"display_name":"user1563153"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1667157413,"creation_date":1343658312,"question_id":11723503,"body_markdown":"I&#39;m implementing a simulation in Java using a GIS (WGS84). I want to place my agents shifted to each other. The latitude is easy **1 m is `1/111000` degrees**. But I want to shift an agent on the longitude side I have to consider earth curvature (I guess!). \r\n\r\nI found this formula on Wiki: `a= (2*pi*r*cos(phi))/360`\r\n\r\n    r  : radius\r\n    phi: latitude\r\n    a  : should be the distance\r\n\r\nI tried now multiply my distances to `1/a`, but the positions are not logical!\r\n","title":"Formula for getting longitude","body":"<p>I'm implementing a simulation in Java using a GIS (WGS84). I want to place my agents shifted to each other. The latitude is easy <strong>1 m is <code>1/111000</code> degrees</strong>. But I want to shift an agent on the longitude side I have to consider earth curvature (I guess!). </p>\n\n<p>I found this formula on Wiki: <code>a= (2*pi*r*cos(phi))/360</code></p>\n\n<pre><code>r  : radius\nphi: latitude\na  : should be the distance\n</code></pre>\n\n<p>I tried now multiply my distances to <code>1/a</code>, but the positions are not logical!</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","onsaveinstancestate"],"comments":[{"owner":{"account_id":23050657,"reputation":117,"user_id":17167547,"display_name":"Орест Третяк"},"score":0,"creation_date":1667161432,"post_id":74253689,"comment_id":131099975,"body_markdown":"maybe this is the answer to your question? :) https://stackoverflow.com/questions/28236390/recyclerview-store-restore-state-between-activities","body":"maybe this is the answer to your question? :) <a href=\"https://stackoverflow.com/questions/28236390/recyclerview-store-restore-state-between-activities\" title=\"recyclerview store restore state between activities\">stackoverflow.com/questions/28236390/&hellip;</a>"},{"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"score":0,"creation_date":1667232814,"post_id":74253689,"comment_id":131116341,"body_markdown":"Yes, but this is actually the same with my code)","body":"Yes, but this is actually the same with my code)"}],"owner":{"account_id":25722164,"reputation":23,"user_id":19479038,"display_name":"Uladzislau Krukouski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667156741,"creation_date":1667138485,"question_id":74253689,"body_markdown":"```\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        supportFragmentManager.beginTransaction()\r\n            .replace(R.id.fragment_container, MoviesFragment())\r\n            .commit()\r\n    }\r\n\r\n    override fun onSaveInstanceState(outState: Bundle) {\r\n        super.onSaveInstanceState(outState)\r\n        outState.putParcelable(\r\n            &quot;StoreRecyclerView&quot;,\r\n            recycler_view.layoutManager?.onSaveInstanceState()\r\n        )\r\n        Log.d(&quot;State&quot;, &quot;Save an instance state&quot;)\r\n    }\r\n\r\n    override fun onRestoreInstanceState(savedInstanceState: Bundle) {\r\n        mLayoutManagerState = savedInstanceState.getParcelable(&quot;StoreRecyclerView&quot;)\r\n        super.onRestoreInstanceState(savedInstanceState)\r\n        Log.d(&quot;State&quot;, &quot;Restore an instance state&quot;)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        if (mLayoutManagerState != null) {\r\n            recycler_view.layoutManager?.onRestoreInstanceState(mLayoutManagerState)\r\n        }\r\n        Log.d(&quot;State&quot;, &quot;!!!Restoring an instance state!!!&quot;)\r\n    }\r\n\r\n    companion object {\r\n        var mLayoutManagerState: Parcelable? = null\r\n    }\r\n}\r\n```\r\n\r\nWhen I turn my phone it can save the state of application and set the position of recyclerView after. But it doesn&#39;t. What can be the problem?\r\n\r\nAll methods are in fragment. But, as I understand, it doesn&#39;t matter for save the recyclerView&#39;s instanse.","title":"Try to save a state of recyclerView","body":"<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        supportFragmentManager.beginTransaction()\n            .replace(R.id.fragment_container, MoviesFragment())\n            .commit()\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        outState.putParcelable(\n            &quot;StoreRecyclerView&quot;,\n            recycler_view.layoutManager?.onSaveInstanceState()\n        )\n        Log.d(&quot;State&quot;, &quot;Save an instance state&quot;)\n    }\n\n    override fun onRestoreInstanceState(savedInstanceState: Bundle) {\n        mLayoutManagerState = savedInstanceState.getParcelable(&quot;StoreRecyclerView&quot;)\n        super.onRestoreInstanceState(savedInstanceState)\n        Log.d(&quot;State&quot;, &quot;Restore an instance state&quot;)\n    }\n\n    override fun onResume() {\n        super.onResume()\n\n        if (mLayoutManagerState != null) {\n            recycler_view.layoutManager?.onRestoreInstanceState(mLayoutManagerState)\n        }\n        Log.d(&quot;State&quot;, &quot;!!!Restoring an instance state!!!&quot;)\n    }\n\n    companion object {\n        var mLayoutManagerState: Parcelable? = null\n    }\n}\n</code></pre>\n<p>When I turn my phone it can save the state of application and set the position of recyclerView after. But it doesn't. What can be the problem?</p>\n<p>All methods are in fragment. But, as I understand, it doesn't matter for save the recyclerView's instanse.</p>\n"},{"tags":["java","android","flutter","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":25581338,"reputation":25,"user_id":19359840,"display_name":"Mateus Vitor"},"score":0,"creation_date":1667904335,"post_id":74255944,"comment_id":131273666,"body_markdown":"It worked here, thanks a lot for the tip!","body":"It worked here, thanks a lot for the tip!"}],"tags":[],"owner":{"account_id":13449710,"reputation":26,"user_id":9704826,"display_name":"jeli jeli"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667156662,"creation_date":1667156662,"answer_id":74255944,"question_id":74199495,"body_markdown":"Remove in users folder &#39;.gardle&#39; and &#39;.android&#39; cache folder. This is my solutions and it works","title":"My project&#39;s build.gradle has an error in &#39;:app&#39;","body":"<p>Remove in users folder '.gardle' and '.android' cache folder. This is my solutions and it works</p>\n"}],"owner":{"account_id":25581338,"reputation":25,"user_id":19359840,"display_name":"Mateus Vitor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74255944,"answer_count":1,"score":0,"last_activity_date":1667156662,"creation_date":1666727485,"question_id":74199495,"body_markdown":"I&#39;m having the following problem with Build.Gradle when I try to build my application:\r\n\r\n&gt; Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\r\n&gt; Running Gradle task &#39;assembleDebug&#39;...\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * Where: Build file &#39;C:\\Users\\mateu\\StudioProjects\\Coquinha\\android\\app\\build.gradle&#39;\r\n&gt; line: 66\r\n&gt; \r\n&gt; * What went wrong: A problem occurred evaluating project &#39;:app&#39;.\r\n&gt; &gt; java.lang.NullPointerException (no error message)\r\n&gt; \r\n&gt; * Try:\r\n&gt; &gt; Run with --stacktrace option to get the stack trace.\r\n&gt; &gt; Run with --info or --debug option to get more log output.\r\n&gt; &gt; Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 2s Exception: Gradle task assembleDebug failed with\r\n&gt; exit code 1\r\n\r\nBelow is my Build.Gradle...\r\n\r\n            def localProperties = new Properties()\r\n    def localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\n    if (localPropertiesFile.exists()) {\r\n        localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n            localProperties.load(reader)\r\n        }\r\n    }\r\n    \r\n    def flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\n    if (flutterRoot == null) {\r\n        throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n    }\r\n    \r\n    def flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\n    if (flutterVersionCode == null) {\r\n        flutterVersionCode = &#39;1&#39;\r\n    }\r\n    \r\n    def flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\n    if (flutterVersionName == null) {\r\n        flutterVersionName = &#39;1.0&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n    \r\n    def keystoreProperties = new Properties()\r\n    def keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\n    if (keystorePropertiesFile.exists()) {\r\n        keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion flutter.compileSdkVersion\r\n        ndkVersion flutter.ndkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    \r\n        sourceSets {\r\n            main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n        }\r\n    \r\n        defaultConfig {\r\n            // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n            applicationId &quot;com.example.coquinha&quot;\r\n            // You can update the following values to match your application needs.\r\n            // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\n            minSdkVersion flutter.minSdkVersion\r\n            targetSdkVersion flutter.targetSdkVersion\r\n            versionCode flutterVersionCode.toInteger()\r\n            versionName flutterVersionName\r\n        }\r\n    \r\n        signingConfigs {\r\n            release {\r\n                keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                storeFile keystoreProperties [&#39;storeFile&#39;] ? file(keystoreProperties[storeFile]) : null\r\n                storePassword keystoreProperties[&#39;storePassword&#39;]\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                // TODO: Add your own signing config for the release build.\r\n                // Signing with the debug keys for now, so `flutter run --release` works.\r\n                // signingConfig signingConfigs.debug\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }\r\n    }\r\n    \r\n    flutter {\r\n        source &#39;../..&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    }\r\n\r\nApparently the error is in the part of the code I highlighted below:\r\n\r\n    signingConfigs {\r\n        release {\r\n            keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n            keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n            storeFile keystoreProperties [&#39;storeFile&#39;] ? file(keystoreProperties[storeFile]) : null\r\n            storePassword keystoreProperties[&#39;storePassword&#39;]\r\n        }\r\n    }","title":"My project&#39;s build.gradle has an error in &#39;:app&#39;","body":"<p>I'm having the following problem with Build.Gradle when I try to build my application:</p>\n<blockquote>\n<p>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where: Build file 'C:\\Users\\mateu\\StudioProjects\\Coquinha\\android\\app\\build.gradle'\nline: 66</p>\n</li>\n<li><p>What went wrong: A problem occurred evaluating project ':app'.</p>\n</li>\n</ul>\n<blockquote>\n<p>java.lang.NullPointerException (no error message)</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 2s Exception: Gradle task assembleDebug failed with\nexit code 1</p>\n</blockquote>\n<p>Below is my Build.Gradle...</p>\n<pre><code>        def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.coquinha&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties ['storeFile'] ? file(keystoreProperties[storeFile]) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            // signingConfig signingConfigs.debug\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n</code></pre>\n<p>Apparently the error is in the part of the code I highlighted below:</p>\n<pre><code>signingConfigs {\n    release {\n        keyAlias keystoreProperties['keyAlias']\n        keyPassword keystoreProperties['keyPassword']\n        storeFile keystoreProperties ['storeFile'] ? file(keystoreProperties[storeFile]) : null\n        storePassword keystoreProperties['storePassword']\n    }\n}\n</code></pre>\n"},{"tags":["java","server","client","file-handling","delete-file"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667151392,"post_id":74255090,"comment_id":131097797,"body_markdown":"You don&#39;t show any information on what your server did do for each request. Use a debugger to step through your server or adding a simple print statement should tell you what the server actually did for the each request which you can match up to the test harness responses: `System.out.println(&quot;action=&quot;+words[0]+&quot; isSuccessfulAction=&quot;+isSuccessfulAction);` . Don&#39;t use string concatenation for path names, use `new File(path,fileName)`","body":"You don&#39;t show any information on what your server did do for each request. Use a debugger to step through your server or adding a simple print statement should tell you what the server actually did for the each request which you can match up to the test harness responses: <code>System.out.println(&quot;action=&quot;+words[0]+&quot; isSuccessfulAction=&quot;+isSuccessfulAction);</code> . Don&#39;t use string concatenation for path names, use <code>new File(path,fileName)</code>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667151404,"post_id":74255090,"comment_id":131097804,"body_markdown":"In the server&#39;s main loop, why do you have `output.writeUTF(...)` in both the `PUT` case AND after the `switch`?","body":"In the server&#39;s main loop, why do you have <code>output.writeUTF(...)</code> in both the <code>PUT</code> case AND after the <code>switch</code>?"},{"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"score":0,"creation_date":1667156489,"post_id":74255090,"comment_id":131098947,"body_markdown":"@DuncG No, I didn&#39;t add any info on what the server did mainly because the project description didn&#39;t require any. If I included information they didn&#39;t specify, it would also cause the test to fail. However I&#39;ll give it a go to see I can locate if there is a problem.","body":"@DuncG No, I didn&#39;t add any info on what the server did mainly because the project description didn&#39;t require any. If I included information they didn&#39;t specify, it would also cause the test to fail. However I&#39;ll give it a go to see I can locate if there is a problem."},{"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"score":0,"creation_date":1667156537,"post_id":74255090,"comment_id":131098959,"body_markdown":"@JimGarrison Good spotting! That was a mistake from my side. I&#39;ve updated the post to reflect this.","body":"@JimGarrison Good spotting! That was a mistake from my side. I&#39;ve updated the post to reflect this."}],"owner":{"account_id":23669078,"reputation":1,"user_id":18962858,"display_name":"Oranges"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667156605,"creation_date":1667149577,"question_id":74255090,"body_markdown":"**Project Description**\r\nI&#39;m currently working a project via JetBrains Academy&#39;s website called File Server.\r\nIn a quick summary, have a server which can either:\r\n\r\n1) Get the contents of a files\r\n2) Create a file\r\n3) Delete a file\r\n\r\nBoth the server should always be running until it receives the command &quot;exit&quot; in the form of a string.\r\nHowever, the client will only run once, and when it&#39;s completed its actions (i.e. get, create, or delete), it will terminate.\r\n\r\n**Problem**\r\nThe problem I have is when it comes to the delete function. In the test results from JetBrains, it is saying that the file is not found (entire output below).\r\n\r\n    Wrong answer in test #1\r\n\r\n    You should delete a file from /server/data folder if the user requests it!\r\n\r\n    Please find below the output of your program during this failed test.\r\n    Note that the &#39;&gt;&#39; character indicates the beginning of the input line.\r\n\r\n    ---\r\n\r\n    Server started!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; exit\r\n    The request was sent.\r\n\r\n    Server started!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    Enter file content: &gt; IDIDW22\r\n    The request was sent.\r\n    The response says that the file was created!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    Enter file content: &gt; IDIDW22\r\n    The request was sent.\r\n    The response says that creating the file was forbidden!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The content of the file is: IDIDW22 \r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\r\n    Enter filename: &gt; test_purpose_2JK4NCL.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\r\n    Enter filename: &gt; test_purpose_RB3JXD.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\r\n    Enter filename: &gt; test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The response says that the file was not found!\r\n\r\n\r\nI&#39;ve literally recreated the scenario as shown above, and everything works perfectly on my local machine.\r\n\r\nBelow is the output that I get from my IDE when I run the delete function, which is what I expect from JetBrains testing.\r\n\r\n    Enter action (1 - get a file, 2 - create a file, 3 - delete a file): 3\r\n    Enter filename: test_purpose_N6O0XTLO.txt\r\n    The request was sent.\r\n    The response says that the file was successfully deleted!\r\n\r\nIt&#39;s frustrating me because I do not see what the issue might be. I thought it might be because of permission issues, so I tried it on my laptop instead of my work laptop, but still get the same issues. However, I realized though I have no issues creating a file so that shouldn&#39;t be a problem.\r\n\r\nPart of me thinks it might be something with JetBrains testing procedure.\r\n\r\nBelow is the code for the Server, and Client. There were also enums but I&#39;ve left it out to avoid clutter.\r\n\r\n```\r\n// Server\r\npublic class Main {\r\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        createDirectory(path);\r\n\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 23456;\r\n\r\n        boolean endServer = false;\r\n\r\n        try (ServerSocket server = new ServerSocket(port, 50, InetAddress.getByName(address))) {\r\n            System.out.println(&quot;\\nServer started!&quot;);\r\n\r\n            do {\r\n                Socket socket = server.accept();\r\n                DataInputStream input = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n\r\n                String message = input.readUTF();\r\n\r\n                if (message.equals(&quot;exit&quot;)) {\r\n                    endServer = true;\r\n                } else {\r\n                    String[] words = message.split(&quot; &quot;, 3);\r\n                    boolean isSuccessfulAction = false;\r\n                    HTTP_COMMANDS c = HTTP_COMMANDS.valueOf(words[0]);\r\n                    switch (c) {\r\n                        case PUT:\r\n                            isSuccessfulAction = createFile(path, words[1], words[2]);\r\n                            break;\r\n                        case GET:\r\n                            isSuccessfulAction = getFile(path, words[1]);\r\n                            break;\r\n                        case DELETE:\r\n                            isSuccessfulAction = deleteFile(path, words[1]);\r\n                    }\r\n                    output.writeUTF(String.valueOf(returnHTTPCode(HTTP_COMMANDS.valueOf(words[0]), isSuccessfulAction)));\r\n                }\r\n            } while (!endServer);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Could not start sever!&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean deleteFile(String path, String fileName) {\r\n        File file = new File(path + fileName);\r\n        return file.delete();\r\n    }\r\n\r\n    public static boolean getFile(String path, String fileName) {\r\n        File file = new File(path + fileName);\r\n        return file.exists();\r\n    }\r\n\r\n    public static boolean createFile(String path, String fileName, String fileContent) {\r\n        try {\r\n            if (new File(path, fileName).exists()) {\r\n                return false;\r\n            } else {\r\n                File newFile = new File(path + fileName);\r\n                FileWriter writer = new FileWriter(newFile);\r\n                writer.write(fileContent);\r\n                writer.close();\r\n                return true;\r\n            }\r\n        } catch (IOException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static int returnHTTPCode(HTTP_COMMANDS request, boolean actionSuccessful) {\r\n        if (actionSuccessful) {\r\n            return HTTP_CODES.SUCCESS.getCode();\r\n        } else if (request.equals(HTTP_COMMANDS.PUT)) {\r\n            return HTTP_CODES.FAIL_PUT.getCode();\r\n        } else if (request.equals(HTTP_COMMANDS.GET)) {\r\n            return HTTP_CODES.FAIL_GET.getCode();\r\n        } else {\r\n            return HTTP_CODES.FAIL_DELETE.getCode();\r\n        }\r\n    }\r\n\r\n    public static void createDirectory(String path) {\r\n        File fileDirectory = new File(path);\r\n        if (!fileDirectory.exists()) {\r\n            fileDirectory.mkdirs();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n// Client\r\npublic class Client {\r\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        // Sleep used because it seems JetBrains is executing the client main first instead of the server main.\r\n        // Delayed startup to ensure that server will be running first instead of the client\r\n        TimeUnit.SECONDS.sleep(1);\r\n\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 23456;\r\n\r\n        String command;\r\n        String fileName;\r\n\r\n        try (Socket socket = new Socket(InetAddress.getByName(address), port)) {\r\n            //boolean endServer = false;\r\n            //do {\r\n            DataInputStream input = new DataInputStream(socket.getInputStream());\r\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n\r\n            System.out.print(&quot;\\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &quot;);\r\n            command = scanner.nextLine();\r\n\r\n            if (HTTP_COMMANDS.forString(command).equals(HTTP_COMMANDS.EXIT)) {\r\n                System.out.println(&quot;The request was sent.&quot;);\r\n                output.writeUTF(command);\r\n                //endServer = true;\r\n            } else {\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                fileName = scanner.nextLine();\r\n\r\n                switch (HTTP_COMMANDS.forString(command)) {\r\n                    case GET:\r\n                        output.writeUTF(get(fileName));\r\n                        break;\r\n                    case PUT:\r\n                        String message = add(fileName);\r\n                        output.writeUTF(message);\r\n                        break;\r\n                    case DELETE:\r\n                        output.writeUTF(delete(fileName));\r\n                        break;\r\n                }\r\n                System.out.println(&quot;The request was sent.&quot;);\r\n                String code = input.readUTF();\r\n                printMessage(HTTP_COMMANDS.forString(command), code, fileName);\r\n                input.close();\r\n                output.close();\r\n                socket.close();\r\n            }\r\n            //} while (!endServer);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Could not connect to server!&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public static void printMessage(HTTP_COMMANDS request, String code, String fileName) {\r\n        int number = Integer.parseInt(code);\r\n        if (number == HTTP_CODES.SUCCESS.getCode()) {\r\n            if (request.equals(HTTP_COMMANDS.PUT)) {\r\n                System.out.print(&quot;The response says that the file was created!&quot;);\r\n            } else if (request.equals(HTTP_COMMANDS.GET)) {\r\n                System.out.print(&quot;The content of the file is: &quot;);\r\n                printFromFile(fileName);\r\n            } else if (request.equals(HTTP_COMMANDS.DELETE)) {\r\n                System.out.print(&quot;The response says that the file was successfully deleted!&quot;);\r\n            }\r\n        } else {\r\n            if (request.equals(HTTP_COMMANDS.PUT)) {\r\n                System.out.print(&quot;The response says that creating the file was forbidden!&quot;);\r\n            } else if (request.equals(HTTP_COMMANDS.DELETE) || request.equals(HTTP_COMMANDS.GET) ) {\r\n                System.out.print(&quot;The response says that the file was not found!&quot;);\r\n            }\r\n        }\r\n        System.out.print(&#39;\\n&#39;);\r\n    }\r\n\r\n    public static void printFromFile(String fileName) {\r\n        try {\r\n            File file = new File(path + fileName);\r\n            Scanner scannerGet = new Scanner(file);\r\n            while (scannerGet.hasNextLine()) {\r\n                System.out.print(scannerGet.nextLine() + &quot; &quot;);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(fileName + &quot; not found!&quot;);\r\n        }\r\n    }\r\n\r\n    public static String add(String fileName) {\r\n        System.out.print(&quot;Enter file content: &quot;);\r\n        String fileContent = scanner.nextLine();\r\n        return HTTP_COMMANDS.PUT + &quot; &quot; + fileName + &quot; &quot; + fileContent;\r\n    }\r\n\r\n    public static String get(String fileName) {\r\n        return HTTP_COMMANDS.GET + &quot; &quot; + fileName;\r\n    }\r\n\r\n    public static String delete(String fileName) {\r\n        return HTTP_COMMANDS.DELETE + &quot; &quot; + fileName;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Why am I able to delete a file on my local machine, but failing to pass JetBrain&#39;s Academy internal tests?","body":"<p><strong>Project Description</strong>\nI'm currently working a project via JetBrains Academy's website called File Server.\nIn a quick summary, have a server which can either:</p>\n<ol>\n<li>Get the contents of a files</li>\n<li>Create a file</li>\n<li>Delete a file</li>\n</ol>\n<p>Both the server should always be running until it receives the command &quot;exit&quot; in the form of a string.\nHowever, the client will only run once, and when it's completed its actions (i.e. get, create, or delete), it will terminate.</p>\n<p><strong>Problem</strong>\nThe problem I have is when it comes to the delete function. In the test results from JetBrains, it is saying that the file is not found (entire output below).</p>\n<pre><code>Wrong answer in test #1\n\nYou should delete a file from /server/data folder if the user requests it!\n\nPlease find below the output of your program during this failed test.\nNote that the '&gt;' character indicates the beginning of the input line.\n\n---\n\nServer started!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; exit\nThe request was sent.\n\nServer started!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nEnter file content: &gt; IDIDW22\nThe request was sent.\nThe response says that the file was created!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 2\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nEnter file content: &gt; IDIDW22\nThe request was sent.\nThe response says that creating the file was forbidden!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe content of the file is: IDIDW22 \n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 1\nEnter filename: &gt; test_purpose_2JK4NCL.txt\nThe request was sent.\nThe response says that the file was not found!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\nEnter filename: &gt; test_purpose_RB3JXD.txt\nThe request was sent.\nThe response says that the file was not found!\n\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &gt; 3\nEnter filename: &gt; test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe response says that the file was not found!\n</code></pre>\n<p>I've literally recreated the scenario as shown above, and everything works perfectly on my local machine.</p>\n<p>Below is the output that I get from my IDE when I run the delete function, which is what I expect from JetBrains testing.</p>\n<pre><code>Enter action (1 - get a file, 2 - create a file, 3 - delete a file): 3\nEnter filename: test_purpose_N6O0XTLO.txt\nThe request was sent.\nThe response says that the file was successfully deleted!\n</code></pre>\n<p>It's frustrating me because I do not see what the issue might be. I thought it might be because of permission issues, so I tried it on my laptop instead of my work laptop, but still get the same issues. However, I realized though I have no issues creating a file so that shouldn't be a problem.</p>\n<p>Part of me thinks it might be something with JetBrains testing procedure.</p>\n<p>Below is the code for the Server, and Client. There were also enums but I've left it out to avoid clutter.</p>\n<pre><code>// Server\npublic class Main {\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        createDirectory(path);\n\n        String address = &quot;127.0.0.1&quot;;\n        int port = 23456;\n\n        boolean endServer = false;\n\n        try (ServerSocket server = new ServerSocket(port, 50, InetAddress.getByName(address))) {\n            System.out.println(&quot;\\nServer started!&quot;);\n\n            do {\n                Socket socket = server.accept();\n                DataInputStream input = new DataInputStream(socket.getInputStream());\n                DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n                String message = input.readUTF();\n\n                if (message.equals(&quot;exit&quot;)) {\n                    endServer = true;\n                } else {\n                    String[] words = message.split(&quot; &quot;, 3);\n                    boolean isSuccessfulAction = false;\n                    HTTP_COMMANDS c = HTTP_COMMANDS.valueOf(words[0]);\n                    switch (c) {\n                        case PUT:\n                            isSuccessfulAction = createFile(path, words[1], words[2]);\n                            break;\n                        case GET:\n                            isSuccessfulAction = getFile(path, words[1]);\n                            break;\n                        case DELETE:\n                            isSuccessfulAction = deleteFile(path, words[1]);\n                    }\n                    output.writeUTF(String.valueOf(returnHTTPCode(HTTP_COMMANDS.valueOf(words[0]), isSuccessfulAction)));\n                }\n            } while (!endServer);\n        } catch (IOException e) {\n            System.out.println(&quot;Could not start sever!&quot;);\n        }\n    }\n\n    public static boolean deleteFile(String path, String fileName) {\n        File file = new File(path + fileName);\n        return file.delete();\n    }\n\n    public static boolean getFile(String path, String fileName) {\n        File file = new File(path + fileName);\n        return file.exists();\n    }\n\n    public static boolean createFile(String path, String fileName, String fileContent) {\n        try {\n            if (new File(path, fileName).exists()) {\n                return false;\n            } else {\n                File newFile = new File(path + fileName);\n                FileWriter writer = new FileWriter(newFile);\n                writer.write(fileContent);\n                writer.close();\n                return true;\n            }\n        } catch (IOException e) {\n            return false;\n        }\n    }\n\n    public static int returnHTTPCode(HTTP_COMMANDS request, boolean actionSuccessful) {\n        if (actionSuccessful) {\n            return HTTP_CODES.SUCCESS.getCode();\n        } else if (request.equals(HTTP_COMMANDS.PUT)) {\n            return HTTP_CODES.FAIL_PUT.getCode();\n        } else if (request.equals(HTTP_COMMANDS.GET)) {\n            return HTTP_CODES.FAIL_GET.getCode();\n        } else {\n            return HTTP_CODES.FAIL_DELETE.getCode();\n        }\n    }\n\n    public static void createDirectory(String path) {\n        File fileDirectory = new File(path);\n        if (!fileDirectory.exists()) {\n            fileDirectory.mkdirs();\n        }\n    }\n}\n</code></pre>\n<pre><code>// Client\npublic class Client {\n    static final String path = &quot;C:\\\\Users\\\\xxx\\\\xxx\\\\Repositories\\\\Hyperskill\\\\File Server\\\\File Server\\\\task\\\\src\\\\server\\\\data\\\\&quot;;\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) throws InterruptedException {\n\n        // Sleep used because it seems JetBrains is executing the client main first instead of the server main.\n        // Delayed startup to ensure that server will be running first instead of the client\n        TimeUnit.SECONDS.sleep(1);\n\n        String address = &quot;127.0.0.1&quot;;\n        int port = 23456;\n\n        String command;\n        String fileName;\n\n        try (Socket socket = new Socket(InetAddress.getByName(address), port)) {\n            //boolean endServer = false;\n            //do {\n            DataInputStream input = new DataInputStream(socket.getInputStream());\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n            System.out.print(&quot;\\nEnter action (1 - get a file, 2 - create a file, 3 - delete a file): &quot;);\n            command = scanner.nextLine();\n\n            if (HTTP_COMMANDS.forString(command).equals(HTTP_COMMANDS.EXIT)) {\n                System.out.println(&quot;The request was sent.&quot;);\n                output.writeUTF(command);\n                //endServer = true;\n            } else {\n                System.out.print(&quot;Enter filename: &quot;);\n                fileName = scanner.nextLine();\n\n                switch (HTTP_COMMANDS.forString(command)) {\n                    case GET:\n                        output.writeUTF(get(fileName));\n                        break;\n                    case PUT:\n                        String message = add(fileName);\n                        output.writeUTF(message);\n                        break;\n                    case DELETE:\n                        output.writeUTF(delete(fileName));\n                        break;\n                }\n                System.out.println(&quot;The request was sent.&quot;);\n                String code = input.readUTF();\n                printMessage(HTTP_COMMANDS.forString(command), code, fileName);\n                input.close();\n                output.close();\n                socket.close();\n            }\n            //} while (!endServer);\n        } catch (IOException e) {\n            System.out.println(&quot;Could not connect to server!&quot;);\n        }\n\n    }\n\n    public static void printMessage(HTTP_COMMANDS request, String code, String fileName) {\n        int number = Integer.parseInt(code);\n        if (number == HTTP_CODES.SUCCESS.getCode()) {\n            if (request.equals(HTTP_COMMANDS.PUT)) {\n                System.out.print(&quot;The response says that the file was created!&quot;);\n            } else if (request.equals(HTTP_COMMANDS.GET)) {\n                System.out.print(&quot;The content of the file is: &quot;);\n                printFromFile(fileName);\n            } else if (request.equals(HTTP_COMMANDS.DELETE)) {\n                System.out.print(&quot;The response says that the file was successfully deleted!&quot;);\n            }\n        } else {\n            if (request.equals(HTTP_COMMANDS.PUT)) {\n                System.out.print(&quot;The response says that creating the file was forbidden!&quot;);\n            } else if (request.equals(HTTP_COMMANDS.DELETE) || request.equals(HTTP_COMMANDS.GET) ) {\n                System.out.print(&quot;The response says that the file was not found!&quot;);\n            }\n        }\n        System.out.print('\\n');\n    }\n\n    public static void printFromFile(String fileName) {\n        try {\n            File file = new File(path + fileName);\n            Scanner scannerGet = new Scanner(file);\n            while (scannerGet.hasNextLine()) {\n                System.out.print(scannerGet.nextLine() + &quot; &quot;);\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(fileName + &quot; not found!&quot;);\n        }\n    }\n\n    public static String add(String fileName) {\n        System.out.print(&quot;Enter file content: &quot;);\n        String fileContent = scanner.nextLine();\n        return HTTP_COMMANDS.PUT + &quot; &quot; + fileName + &quot; &quot; + fileContent;\n    }\n\n    public static String get(String fileName) {\n        return HTTP_COMMANDS.GET + &quot; &quot; + fileName;\n    }\n\n    public static String delete(String fileName) {\n        return HTTP_COMMANDS.DELETE + &quot; &quot; + fileName;\n    }\n\n}\n\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9301,"page":922,"page_size":100}
