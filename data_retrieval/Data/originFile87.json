{"items":[{"tags":["java","database","eclipse","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":4097881,"reputation":552,"user_id":3364146,"display_name":"k1r0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593549684,"creation_date":1592951088,"answer_id":62544673,"question_id":62542657,"body_markdown":"You need to check the log files of the tomcat server for any exceptions. The logs are usually located under `$CATALINA_HOME/logs`\r\n\r\nVerify that:\r\n* You have the datasource defined in the Tomcat&#39;s context.xml: `$CATALINA_HOME/conf/context.xml`\r\nShould contain something like: \r\n```\r\n&lt;Resource name=&quot;jdbc/LiveDataSource&quot;\r\n auth=&quot;Container&quot;\r\n type=&quot;javax.sql.DataSource&quot;\r\n maxTotal=&quot;100&quot;\r\n maxIdle=&quot;30&quot;\r\n maxWaitMillis=&quot;10000&quot;\r\n username=&quot;xxx&quot;\r\n password=&quot;yyy&quot;\r\n driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n url=&quot;jdbc:mysql://localhost:3306/mydb&quot;/&gt;\r\n```\r\n* If you run the application inside Eclipse, go to &quot;Java EE&quot; perspective, in &quot;Project explorer&quot; view, under &quot;Servers/Tomcat xxxx&quot; resource you should have `context.xml` file. Check if it also contains the &quot;jdbc/LiveDataSource&quot;\r\n* You should have records parent tables before inserting a raw with foreign keys (like `programme`)\r\n* You have a SQL error at DBServlet line 169: seller should be a escaped with single quotes, e.g. `insertStmt2 += &quot;&#39;seller&#39;&quot; + &quot;,&quot;;` not `insertStmt2 += &quot;seller&quot; + &quot;,&quot;;\r\n\r\nIn order to avoid SQL injection, I would suggest to use [PreparedStatement](https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html) instead of constructing the SQL commands inside the servlet. Consider using some ORM like Hibernate, EclipseLink, etc.\r\n\r\n**UPDATE 1**\r\nLocation of CATALINA_HOME and CATALINA_BASE can be found from the launch configuration\r\n\r\n[![launch_configuration_arguments][1]][1]\r\n\r\nRedirecting a log file to a custom location: Open launch configuration / Apache Tomcat / Tomcat 8 (or 9) / Commons tab / Output file\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Ts5P.png\r\n  [2]: https://i.stack.imgur.com/WoEce.jpg\r\n\r\n**UPDATE 2**\r\nCheck that the `$CATALINA_BASE/conf/context.xml` (in my case `C:\\projects\\workspaces\\delme\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\context.xml`) contains the `jdbc/LiveDataSource`.\r\n\r\nAlso when you cath exception in servlet code log the stack trace otherwise it won&#39;t be visible in the log files e.g.:\r\n\r\n```\r\n        try {\r\n           // ...some code here...\r\n        } catch(Exception e) {\r\n\t\t\tout.println(&quot;Problem with the database connection&quot;);\r\n\t\t\te.printStackTrace(); // or better use loggers\r\n\t\t\t// private final Logger logger = Logger.getLogger(getClass().getName()); \r\n\t\t\t// logger.log(Level.SEVERE, &quot;Problem with the database connection&quot;, e);\r\n\t\t}\r\n```\r\n\r\n","title":"Can&#39;t connect database to Java Dynamic Web Project","body":"<p>You need to check the log files of the tomcat server for any exceptions. The logs are usually located under <code>$CATALINA_HOME/logs</code></p>\n<p>Verify that:</p>\n<ul>\n<li>You have the datasource defined in the Tomcat's context.xml: <code>$CATALINA_HOME/conf/context.xml</code>\nShould contain something like:</li>\n</ul>\n<pre><code>&lt;Resource name=&quot;jdbc/LiveDataSource&quot;\n auth=&quot;Container&quot;\n type=&quot;javax.sql.DataSource&quot;\n maxTotal=&quot;100&quot;\n maxIdle=&quot;30&quot;\n maxWaitMillis=&quot;10000&quot;\n username=&quot;xxx&quot;\n password=&quot;yyy&quot;\n driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n url=&quot;jdbc:mysql://localhost:3306/mydb&quot;/&gt;\n</code></pre>\n<ul>\n<li>If you run the application inside Eclipse, go to &quot;Java EE&quot; perspective, in &quot;Project explorer&quot; view, under &quot;Servers/Tomcat xxxx&quot; resource you should have <code>context.xml</code> file. Check if it also contains the &quot;jdbc/LiveDataSource&quot;</li>\n<li>You should have records parent tables before inserting a raw with foreign keys (like <code>programme</code>)</li>\n<li>You have a SQL error at DBServlet line 169: seller should be a escaped with single quotes, e.g. <code>insertStmt2 += &quot;'seller'&quot; + &quot;,&quot;;</code> not `insertStmt2 += &quot;seller&quot; + &quot;,&quot;;</li>\n</ul>\n<p>In order to avoid SQL injection, I would suggest to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> instead of constructing the SQL commands inside the servlet. Consider using some ORM like Hibernate, EclipseLink, etc.</p>\n<p><strong>UPDATE 1</strong>\nLocation of CATALINA_HOME and CATALINA_BASE can be found from the launch configuration</p>\n<p><a href=\"https://i.stack.imgur.com/0Ts5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Ts5P.png\" alt=\"launch_configuration_arguments\" /></a></p>\n<p>Redirecting a log file to a custom location: Open launch configuration / Apache Tomcat / Tomcat 8 (or 9) / Commons tab / Output file\n<a href=\"https://i.stack.imgur.com/WoEce.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WoEce.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE 2</strong>\nCheck that the <code>$CATALINA_BASE/conf/context.xml</code> (in my case <code>C:\\projects\\workspaces\\delme\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\context.xml</code>) contains the <code>jdbc/LiveDataSource</code>.</p>\n<p>Also when you cath exception in servlet code log the stack trace otherwise it won't be visible in the log files e.g.:</p>\n<pre><code>        try {\n           // ...some code here...\n        } catch(Exception e) {\n            out.println(&quot;Problem with the database connection&quot;);\n            e.printStackTrace(); // or better use loggers\n            // private final Logger logger = Logger.getLogger(getClass().getName()); \n            // logger.log(Level.SEVERE, &quot;Problem with the database connection&quot;, e);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15292218,"reputation":5,"user_id":11033404,"display_name":"Antonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594132149,"creation_date":1594132149,"answer_id":62777566,"question_id":62542657,"body_markdown":"I fixed it. I needed to set the server&#39;s timezone to UTC, and replace &quot;LiveDataSource&quot; with the name of the DB file. The datasource now looks like this:\r\n```\r\n&lt;Resource name=&quot;jdbc/phoneBills&quot;\r\n auth=&quot;Container&quot;\r\n type=&quot;javax.sql.DataSource&quot;\r\n maxTotal=&quot;100&quot;\r\n maxIdle=&quot;30&quot;\r\n maxWaitMillis=&quot;10000&quot;\r\n username=&quot;root&quot;\r\n password=&quot;12345678&quot;\r\n driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot;\r\n url=&quot;jdbc:mysql://localhost:3306/mydb?serverTimezone=UTC&quot;/&gt;\r\n```\r\n\r\n","title":"Can&#39;t connect database to Java Dynamic Web Project","body":"<p>I fixed it. I needed to set the server's timezone to UTC, and replace &quot;LiveDataSource&quot; with the name of the DB file. The datasource now looks like this:</p>\n<pre><code>&lt;Resource name=&quot;jdbc/phoneBills&quot;\n auth=&quot;Container&quot;\n type=&quot;javax.sql.DataSource&quot;\n maxTotal=&quot;100&quot;\n maxIdle=&quot;30&quot;\n maxWaitMillis=&quot;10000&quot;\n username=&quot;root&quot;\n password=&quot;12345678&quot;\n driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot;\n url=&quot;jdbc:mysql://localhost:3306/mydb?serverTimezone=UTC&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":15292218,"reputation":5,"user_id":11033404,"display_name":"Antonis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698865574,"creation_date":1592941799,"question_id":62542657,"body_markdown":"I created a Dynamic Web Project in Eclipse, which is supposed to interact with a database. I added the database in the project, I added all the necessary texts in the appropriate files to connect the database with the servlets, but for some reason the servlets fail to communicate with the database. For example, there is an option for displaying the contents of a table. When I select that option, instead of displaying the table&#39;s contents, the code inside the catch section of the try/catch runs. Also, there are 2 options involving entering data into tables. When I enter data in the html pages and press submit, nothing happens. It should display to me that the data entry was successful. \r\n\r\nWhat am I missing? What I&#39;m doing wrong?\r\n\r\nHere is the project: http://www.mediafire.com/file/pwu46ohgd3qs0pr/PhoneBillsApp2.zip/file\r\n\r\nI&#39;m using Eclipse 2020-03 (4.15.0) and Tomcat 8","title":"Can&#39;t connect database to Java Dynamic Web Project","body":"<p>I created a Dynamic Web Project in Eclipse, which is supposed to interact with a database. I added the database in the project, I added all the necessary texts in the appropriate files to connect the database with the servlets, but for some reason the servlets fail to communicate with the database. For example, there is an option for displaying the contents of a table. When I select that option, instead of displaying the table's contents, the code inside the catch section of the try/catch runs. Also, there are 2 options involving entering data into tables. When I enter data in the html pages and press submit, nothing happens. It should display to me that the data entry was successful.</p>\n<p>What am I missing? What I'm doing wrong?</p>\n<p>Here is the project: <a href=\"http://www.mediafire.com/file/pwu46ohgd3qs0pr/PhoneBillsApp2.zip/file\" rel=\"nofollow noreferrer\">http://www.mediafire.com/file/pwu46ohgd3qs0pr/PhoneBillsApp2.zip/file</a></p>\n<p>I'm using Eclipse 2020-03 (4.15.0) and Tomcat 8</p>\n"},{"tags":["java","elasticsearch","redis","architecture","apache-zookeeper"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698866818,"post_id":77405025,"comment_id":136460550,"body_markdown":"Not familiar with zookeeper, but if messages are from a queue, there would only be a single service instance that would receive the message and process it.  So the service could publish a message to another a queue/topic to say it was done.  Please clarify if that&#39;s not correct.","body":"Not familiar with zookeeper, but if messages are from a queue, there would only be a single service instance that would receive the message and process it.  So the service could publish a message to another a queue/topic to say it was done.  Please clarify if that&#39;s not correct."},{"owner":{"account_id":410920,"reputation":29365,"user_id":783043,"display_name":"imotov"},"score":1,"creation_date":1698889401,"post_id":77405025,"comment_id":136462995,"body_markdown":"I am quite confused about how your system looks like but if you have some process that can handle endings of processes you might be able to setup a zookeeper Barrier - https://zookeeper.apache.org/doc/r3.5.0-alpha/recipes.html#sc_recipes_eventHandles","body":"I am quite confused about how your system looks like but if you have some process that can handle endings of processes you might be able to setup a zookeeper Barrier - <a href=\"https://zookeeper.apache.org/doc/r3.5.0-alpha/recipes.html#sc_recipes_eventHandles\" rel=\"nofollow noreferrer\">zookeeper.apache.org/doc/r3.5.0-alpha/&hellip;</a>"}],"owner":{"account_id":301784,"reputation":37,"user_id":16187859,"display_name":"Nirmal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698865484,"creation_date":1698865484,"question_id":77405025,"body_markdown":"I have different instances of same service running, which are consuming same message (unique message id is part of message) from the queue and updating its internal store. Now there is a requirement to send a message to a differnt topic only when all the services are finished processing the message, now these service can process the same message at differnt rate. And can be autoscaled. \r\n\r\nIs there any solution which ensures that we send the message only when all the services have finished processing the message.\r\n\r\ncan there be any solution based on redis/ES, zookeeper config etc to ensure this or any other solution to handle this scenario (which also address the autoscaling)?","title":"Performing a task when servers processing is finished","body":"<p>I have different instances of same service running, which are consuming same message (unique message id is part of message) from the queue and updating its internal store. Now there is a requirement to send a message to a differnt topic only when all the services are finished processing the message, now these service can process the same message at differnt rate. And can be autoscaled.</p>\n<p>Is there any solution which ensures that we send the message only when all the services have finished processing the message.</p>\n<p>can there be any solution based on redis/ES, zookeeper config etc to ensure this or any other solution to handle this scenario (which also address the autoscaling)?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2922228,"reputation":61024,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1405951106,"post_id":24865588,"comment_id":38619439,"body_markdown":"What does the rest of `LIRSecurityConfig` look like?","body":"What does the rest of <code>LIRSecurityConfig</code> look like?"}],"answers":[{"tags":[],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1561101769,"creation_date":1405947352,"answer_id":24865662,"question_id":24865588,"body_markdown":"You need to use the \r\n\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n\r\nannotation, as defined in the [docs](https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#enableglobalmethodsecurity).","title":"How to enable secured-annotations with Java based configuration?","body":"<p>You need to use the </p>\n\n<pre><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n</code></pre>\n\n<p>annotation, as defined in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#enableglobalmethodsecurity\" rel=\"noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":195103,"reputation":475,"user_id":437815,"display_name":"astrohome"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1405952718,"creation_date":1405952718,"answer_id":24867558,"question_id":24865588,"body_markdown":"You should add also a bean for Manager. Check this out:\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n        @Resource(name = &quot;authService&quot;)\r\n        private UserDetailsService userDetailsService;\r\n\r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            Md5PasswordEncoder encoder = new Md5PasswordEncoder();\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(encoder);\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(&quot;/&quot;);\r\n        }\r\n    }\r\n\r\nImportant thing is\r\n\r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }","title":"How to enable secured-annotations with Java based configuration?","body":"<p>You should add also a bean for Manager. Check this out:</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Resource(name = \"authService\")\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        Md5PasswordEncoder encoder = new Md5PasswordEncoder();\n        auth.userDetailsService(userDetailsService).passwordEncoder(encoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .formLogin()\n            .loginPage(\"/login\")\n            .and()\n            .logout()\n            .logoutSuccessUrl(\"/\");\n    }\n}\n</code></pre>\n\n<p>Important thing is</p>\n\n<pre><code>    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406014394,"creation_date":1406014394,"answer_id":24881349,"question_id":24865588,"body_markdown":"Stefan is right, adding \r\n\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n\r\ndoes the trick.\r\n\r\nIn my particular situation I had to add to get rid of the excptions.\r\n\r\n\t@Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t\t.withUser(&quot;user&quot;).password(&quot;password&quot;).authorities(&quot;ROLE_USER&quot;);\r\n    }\r\n","title":"How to enable secured-annotations with Java based configuration?","body":"<p>Stefan is right, adding </p>\n\n<pre><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n</code></pre>\n\n<p>does the trick.</p>\n\n<p>In my particular situation I had to add to get rid of the excptions.</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n        .inMemoryAuthentication()\n            .withUser(\"user\").password(\"password\").authorities(\"ROLE_USER\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1434778549,"creation_date":1414762374,"answer_id":26675951,"question_id":24865588,"body_markdown":"Just for the others which will try to solve &quot;A dependency cycle was detected when trying to resolve the AuthenticationManager. Please ensure you have configured authentication.&quot; problem.\r\n\r\nThe solution is to add the follwing method:\r\n \r\n\r\n    @Override\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        // do NOT call super.configure() !\r\n        ...\r\n    }\r\n","title":"How to enable secured-annotations with Java based configuration?","body":"<p>Just for the others which will try to solve \"A dependency cycle was detected when trying to resolve the AuthenticationManager. Please ensure you have configured authentication.\" problem.</p>\n\n<p>The solution is to add the follwing method:</p>\n\n<pre><code>@Override\n@Autowired\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    // do NOT call super.configure() !\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414497,"reputation":607,"user_id":788751,"display_name":"Micka&#235;l Gauvin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1417381344,"creation_date":1417381344,"answer_id":27218203,"question_id":24865588,"body_markdown":"So this did the work :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication().\r\n                    withUser(&quot;user&quot;).password(&quot;user&quot;).roles(&quot;USER&quot;).and().\r\n                    withUser(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .httpBasic();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            super.configure(web);\r\n        }\r\n    }\r\n\r\nthe important parts are\r\n\r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication().\r\n                    withUser(&quot;user&quot;).password(&quot;user&quot;).roles(&quot;USER&quot;).and().\r\n                    withUser(&quot;admin&quot;).password(&quot;admin&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n        }","title":"How to enable secured-annotations with Java based configuration?","body":"<p>So this did the work :</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().\n                withUser(\"user\").password(\"user\").roles(\"USER\").and().\n                withUser(\"admin\").password(\"admin\").roles(\"USER\", \"ADMIN\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n    }\n}\n</code></pre>\n\n<p>the important parts are</p>\n\n<pre><code>    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().\n                withUser(\"user\").password(\"user\").roles(\"USER\").and().\n                withUser(\"admin\").password(\"admin\").roles(\"USER\", \"ADMIN\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549279010,"creation_date":1549279010,"answer_id":54514966,"question_id":24865588,"body_markdown":" Follow the classes within the annotations\r\n\r\n   \r\n\r\n     @Configuration\r\n        @EnableGlobalMethodSecurity(securedEnabled = true)\r\n        public class SecurityConfigProvider extends GlobalMethodSecurityConfiguration {\r\n        \r\n        \t@Override\r\n        \tprotected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        \t\treturn new OAuth2MethodSecurityExpressionHandler();\r\n        \t}\r\n        \r\n        }\r\n    \r\n    \r\n    @Configuration\r\n    @EnableOAuth2Client\r\n    @EnableWebSecurity\r\n    public class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        OAuth2ClientContext oauth2ClientContext;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \t\t//TODO\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n    \t\t//TODO\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n        }\r\n    \r\n    }","title":"How to enable secured-annotations with Java based configuration?","body":"<p>Follow the classes within the annotations</p>\n\n<pre><code> @Configuration\n    @EnableGlobalMethodSecurity(securedEnabled = true)\n    public class SecurityConfigProvider extends GlobalMethodSecurityConfiguration {\n\n        @Override\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\n            return new OAuth2MethodSecurityExpressionHandler();\n        }\n\n    }\n\n\n@Configuration\n@EnableOAuth2Client\n@EnableWebSecurity\npublic class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    OAuth2ClientContext oauth2ClientContext;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //TODO\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        //TODO\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19397288,"reputation":39,"user_id":14184678,"display_name":"Ali Musa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643148259,"creation_date":1643148259,"answer_id":70856257,"question_id":24865588,"body_markdown":"import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n\r\n\r\n@EnableGlobalMethodSecurity(prePostEnabled=true)","title":"How to enable secured-annotations with Java based configuration?","body":"<p>import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;</p>\n<p>@EnableGlobalMethodSecurity(prePostEnabled=true)</p>\n"},{"tags":[],"owner":{"account_id":22691703,"reputation":1,"user_id":16860521,"display_name":"Md. Talal Wasim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698865326,"creation_date":1698855208,"answer_id":77404075,"question_id":24865588,"body_markdown":"I faced the following error:\r\n\r\n    Caused by: java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated\r\n    \tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration.methodSecurityMetadataSource(GlobalMethodSecurityConfiguration.java:366) ~[spring-security-config-6.1.3.jar:6.1.3]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 49 common frames omitted\r\n\r\n\r\nTo fix this, I added:\r\n\r\n`@EnableGlobalMethodSecurity(prePostEnabled = true)`","title":"How to enable secured-annotations with Java based configuration?","body":"<p>I faced the following error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration.methodSecurityMetadataSource(GlobalMethodSecurityConfiguration.java:366) ~[spring-security-config-6.1.3.jar:6.1.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 49 common frames omitted\n</code></pre>\n<p>To fix this, I added:</p>\n<p><code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code></p>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33656,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":24865662,"answer_count":8,"score":32,"last_activity_date":1698865326,"creation_date":1405947129,"question_id":24865588,"body_markdown":"I want to use `@Secured` annotations for my controller actions. Since I have java based configuration I need to know how I can set the \r\n\r\n    &lt;security:global-method-security secured-annotations=&quot;enabled&quot; /&gt;\r\n\r\noption without the xml file.\r\n\r\n**Upate 1:**\r\n\r\nI addeed `@EnableGlobalMethodSecurity(securedEnabled = true)` to my security config class:\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class LIRSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.authenticationProvider(preAuthenticatedAuthenticationProvider())\r\n    \t\t\t.addFilter(cookiePreAuthenticationFilter())\r\n    \t\t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/**&quot;)\r\n    \t\t\t.hasAnyAuthority(&quot;ROLE_USER&quot;)\r\n    \t\t    ;\r\n    \t}\r\n    \r\n        ...\r\n    }\r\n\r\nUp on start-up this causes this exception\r\n\r\n    Jul 21, 2014 3:32:54 PM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodSecurityInterceptor&#39; defined in class path resource [org/springframework/security/config/annotation/method/configuration/GlobalMethodSecurityConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1512)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:633)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4937)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\r\n    \tat java.lang.Thread.run(Thread.java:695)\r\n    Caused by: java.lang.IllegalArgumentException: An AuthenticationManager is required\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:112)\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.afterPropertiesSet(AbstractSecurityInterceptor.java:121)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1571)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1509)\r\n    \t... 22 more\r\n    Jul 21, 2014 3:32:54 PM org.apache.catalina.core.StandardContext\r\n\r\n\r\n\r\n**Update 2:**\r\n\r\nAfter adding\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\nI get an other exception:\r\n\r\n    Caused by: org.springframework.beans.FatalBeanException: A dependency cycle was detected when trying to resolve the AuthenticationManager. Please ensure you have configured authentication.\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.validateBeanCycle(WebSecurityConfigurerAdapter.java:462)\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.&lt;init&gt;(WebSecurityConfigurerAdapter.java:430)\r\n    \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManagerBean(WebSecurityConfigurerAdapter.java:220)\r\n    \tat com.galexis.lir.config.LIRSecurityConfig.authenticationManagerBean(LIRSecurityConfig.java:36)\r\n    \tat com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96.CGLIB$authenticationManagerBean$3(&lt;generated&gt;)\r\n    \tat com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96$$FastClassBySpringCGLIB$$a4d1ea33.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\r\n    \tat com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96.authenticationManagerBean(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\r\n    \t... 77 more\r\n\r\n","title":"How to enable secured-annotations with Java based configuration?","body":"<p>I want to use <code>@Secured</code> annotations for my controller actions. Since I have java based configuration I need to know how I can set the </p>\n\n<pre><code>&lt;security:global-method-security secured-annotations=\"enabled\" /&gt;\n</code></pre>\n\n<p>option without the xml file.</p>\n\n<p><strong>Upate 1:</strong></p>\n\n<p>I addeed <code>@EnableGlobalMethodSecurity(securedEnabled = true)</code> to my security config class:</p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class LIRSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authenticationProvider(preAuthenticatedAuthenticationProvider())\n            .addFilter(cookiePreAuthenticationFilter())\n            .authorizeRequests()\n            .antMatchers(\"/**\")\n            .hasAnyAuthority(\"ROLE_USER\")\n            ;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Up on start-up this causes this exception</p>\n\n<pre><code>Jul 21, 2014 3:32:54 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'methodSecurityInterceptor' defined in class path resource [org/springframework/security/config/annotation/method/configuration/GlobalMethodSecurityConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: An AuthenticationManager is required\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1512)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:633)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4937)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n    at java.lang.Thread.run(Thread.java:695)\nCaused by: java.lang.IllegalArgumentException: An AuthenticationManager is required\n    at org.springframework.util.Assert.notNull(Assert.java:112)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.afterPropertiesSet(AbstractSecurityInterceptor.java:121)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1571)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1509)\n    ... 22 more\nJul 21, 2014 3:32:54 PM org.apache.catalina.core.StandardContext\n</code></pre>\n\n<p><strong>Update 2:</strong></p>\n\n<p>After adding</p>\n\n<pre><code>@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n\n<p>I get an other exception:</p>\n\n<pre><code>Caused by: org.springframework.beans.FatalBeanException: A dependency cycle was detected when trying to resolve the AuthenticationManager. Please ensure you have configured authentication.\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.validateBeanCycle(WebSecurityConfigurerAdapter.java:462)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.&lt;init&gt;(WebSecurityConfigurerAdapter.java:430)\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManagerBean(WebSecurityConfigurerAdapter.java:220)\n    at com.galexis.lir.config.LIRSecurityConfig.authenticationManagerBean(LIRSecurityConfig.java:36)\n    at com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96.CGLIB$authenticationManagerBean$3(&lt;generated&gt;)\n    at com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96$$FastClassBySpringCGLIB$$a4d1ea33.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\n    at com.galexis.lir.config.LIRSecurityConfig$$EnhancerBySpringCGLIB$$88306f96.authenticationManagerBean(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\n    ... 77 more\n</code></pre>\n"},{"tags":["java","multithreading","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698859508,"post_id":77404432,"comment_id":136459302,"body_markdown":"Did you ever hear of “preemptive multitasking”? Did you ever compare the number of programs running on your system (not to speak of the total number of their threads) with the number of CPU cores?","body":"Did you ever hear of “preemptive multitasking”? Did you ever compare the number of programs running on your system (not to speak of the total number of their threads) with the number of CPU cores?"}],"answers":[{"tags":[],"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698865081,"creation_date":1698865081,"answer_id":77404985,"question_id":77404432,"body_markdown":"The number of CPUs/cores does not limit the number of threads.\r\n[Preemptive multi-tasking](https://en.wikipedia.org/wiki/Preemption_(computing)), as mentioned in the comments, makes sure no thread can cause starvation in the system (compare to [cooperative multitasking](https://en.wikipedia.org/wiki/Cooperative_multitasking)).  \r\nThere are different implementations in the modern operating systems (and if I recall it correctly Windows was allowing to select a kernel version during the installation, with different schedulers/multi-tasking implementations).","title":"How does using Executors.newCachedThreadPool() make sure there is no starving task","body":"<p>The number of CPUs/cores does not limit the number of threads.\n<a href=\"https://en.wikipedia.org/wiki/Preemption_(computing)\" rel=\"nofollow noreferrer\">Preemptive multi-tasking</a>, as mentioned in the comments, makes sure no thread can cause starvation in the system (compare to <a href=\"https://en.wikipedia.org/wiki/Cooperative_multitasking\" rel=\"nofollow noreferrer\">cooperative multitasking</a>).<br />\nThere are different implementations in the modern operating systems (and if I recall it correctly Windows was allowing to select a kernel version during the installation, with different schedulers/multi-tasking implementations).</p>\n"}],"owner":{"account_id":176485,"reputation":2275,"user_id":407210,"accept_rate":62,"display_name":"figaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77404985,"answer_count":1,"score":0,"last_activity_date":1698865081,"creation_date":1698859086,"question_id":77404432,"body_markdown":"Context: \r\nI have an async API method that returns a ListenableFuture. But, clients have sync code that they are doing a `Future.get()` on this API (which is not ideal). But to mitigate the effect of starvation (task A depends on B, but B is waiting for a thread in pool to be available to start), I am thinking to use unbounded threadpool for running the async task (v/s currently it is running on a bounded threadpool). I am trying to see how much of a help it will be.\r\n\r\nPlease correct me if I am wrong, but if I understand this correctly, the [Executors.newCachedThreadPool() ](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool--) is an unbounded threadpool. But, the underlying OS threads are still [limited `numThreads`](https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#availableProcessors--). So, if I spawn `numThreads + 1` tasks and numThreads task are waiting for that 1 task to be done, but that 1 task cannot even start because it does not have a thread avaialble, how does an unbounded threadpool help in this case? (v/s compared to a bounded threadpool)","title":"How does using Executors.newCachedThreadPool() make sure there is no starving task","body":"<p>Context:\nI have an async API method that returns a ListenableFuture. But, clients have sync code that they are doing a <code>Future.get()</code> on this API (which is not ideal). But to mitigate the effect of starvation (task A depends on B, but B is waiting for a thread in pool to be available to start), I am thinking to use unbounded threadpool for running the async task (v/s currently it is running on a bounded threadpool). I am trying to see how much of a help it will be.</p>\n<p>Please correct me if I am wrong, but if I understand this correctly, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool--\" rel=\"nofollow noreferrer\">Executors.newCachedThreadPool() </a> is an unbounded threadpool. But, the underlying OS threads are still <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#availableProcessors--\" rel=\"nofollow noreferrer\">limited <code>numThreads</code></a>. So, if I spawn <code>numThreads + 1</code> tasks and numThreads task are waiting for that 1 task to be done, but that 1 task cannot even start because it does not have a thread avaialble, how does an unbounded threadpool help in this case? (v/s compared to a bounded threadpool)</p>\n"},{"tags":["java","multithreading","disruptor-pattern"],"comments":[{"owner":{"account_id":27965824,"reputation":83,"user_id":21356702,"display_name":"Juan Sebastian Forero Noguera"},"score":3,"creation_date":1698864619,"post_id":77404934,"comment_id":136460223,"body_markdown":"Please add more details about what are you doing?","body":"Please add more details about what are you doing?"},{"owner":{"account_id":29804939,"reputation":1,"user_id":22841812,"display_name":"DevelopWithAbhi"},"score":0,"creation_date":1698864999,"post_id":77404934,"comment_id":136460295,"body_markdown":"I am running service with command java -jar -Xms64m -Xmm128m abc.jar start","body":"I am running service with command java -jar -Xms64m -Xmm128m abc.jar start"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698865510,"post_id":77404934,"comment_id":136460378,"body_markdown":"Show us your code and config etc.","body":"Show us your code and config etc."},{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1698892223,"post_id":77404934,"comment_id":136463209,"body_markdown":"The Disruptor is designed to pass messages between threads.  How have you split the processing between the producer and the consumer?  Do you have multiple sharded consumers or just one?","body":"The Disruptor is designed to pass messages between threads.  How have you split the processing between the producer and the consumer?  Do you have multiple sharded consumers or just one?"}],"answers":[{"tags":[],"owner":{"account_id":27965824,"reputation":83,"user_id":21356702,"display_name":"Juan Sebastian Forero Noguera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698864896,"creation_date":1698864896,"answer_id":77404965,"question_id":77404934,"body_markdown":"Please read this [article][1] to know more about where and how apply multithreading\r\n\r\n\r\n\r\n\r\n  [1]: https://totalview.io/blog/multithreading-multithreaded-applications#:~:text=What%20Is%20Multithreading%20Used%20For,data%20at%20the%20same%20time.","title":"Disruptor in java, Ringbuffer","body":"<p>Please read this <a href=\"https://totalview.io/blog/multithreading-multithreaded-applications#:%7E:text=What%20Is%20Multithreading%20Used%20For,data%20at%20the%20same%20time.\" rel=\"nofollow noreferrer\">article</a> to know more about where and how apply multithreading</p>\n"}],"owner":{"account_id":29804939,"reputation":1,"user_id":22841812,"display_name":"DevelopWithAbhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698864896,"creation_date":1698864471,"question_id":77404934,"body_markdown":"I am using disruptor for multiple threading but I observed that it is taking almost same time for  single thread and multiple thread please let me know the solution\r\n\r\nI am expecting that if I am using disruptor then it should take less time for multi threading ","title":"Disruptor in java, Ringbuffer","body":"<p>I am using disruptor for multiple threading but I observed that it is taking almost same time for  single thread and multiple thread please let me know the solution</p>\n<p>I am expecting that if I am using disruptor then it should take less time for multi threading</p>\n"},{"tags":["java","arrays","hashmap","key-value"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1698857584,"post_id":77404246,"comment_id":136458950,"body_markdown":"Is this the working or the non-working version of the code?","body":"Is this the working or the non-working version of the code?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698857952,"post_id":77404246,"comment_id":136459028,"body_markdown":"( you can also use `System.out.println(map);` to see the content of the Map; even better, use a debugger to step trough the code and analyze what happens )","body":"( you can also use <code>System.out.println(map);</code> to see the content of the Map; even better, use a debugger to step trough the code and analyze what happens )"},{"owner":{"account_id":16261232,"reputation":3,"user_id":15438449,"display_name":"Akash"},"score":0,"creation_date":1698858322,"post_id":77404246,"comment_id":136459092,"body_markdown":"@user85421 apologies for the confusion. updated the code.\nAlso, when printing the map, I&#39;m not getting duplicate keys, only the value associated with key is updated.","body":"@user85421 apologies for the confusion. updated the code. Also, when printing the map, I&#39;m not getting duplicate keys, only the value associated with key is updated."},{"owner":{"account_id":16261232,"reputation":3,"user_id":15438449,"display_name":"Akash"},"score":0,"creation_date":1698858514,"post_id":77404246,"comment_id":136459133,"body_markdown":"@S&#246;ren non-working code.","body":"@S&#246;ren non-working code."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1698858598,"post_id":77404246,"comment_id":136459142,"body_markdown":"Move the entry set iteration outside of the loop that put values inside - currently you print the state of the map on every iteration of the loop putting data.","body":"Move the entry set iteration outside of the loop that put values inside - currently you print the state of the map on every iteration of the loop putting data."}],"answers":[{"tags":[],"owner":{"account_id":5444163,"reputation":1840,"user_id":4331279,"accept_rate":75,"display_name":"MWB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698860669,"creation_date":1698860669,"answer_id":77404588,"question_id":77404246,"body_markdown":"Is it not the problem that you have your print loop at the wrong position?\r\n\r\n    public static void repeatingElements(int a[], int n){\r\n            HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i=0;i&lt;n;i++){\r\n                if(map.containsKey(a[i])){\r\n                    map.put(a[i], map.get(a[i]) + 1);\r\n                }\r\n                else {\r\n                    map.put(a[i],1);\r\n                }\r\n            }\r\n            for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\r\n                if(entry.getValue()&gt;1){\r\n                    System.out.print(entry.getKey() + &quot; &quot;);\r\n                }\r\n            }\r\n    }","title":"Why are duplicate keys printed when I&#39;m looping through the hashmap?","body":"<p>Is it not the problem that you have your print loop at the wrong position?</p>\n<pre><code>public static void repeatingElements(int a[], int n){\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i=0;i&lt;n;i++){\n            if(map.containsKey(a[i])){\n                map.put(a[i], map.get(a[i]) + 1);\n            }\n            else {\n                map.put(a[i],1);\n            }\n        }\n        for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\n            if(entry.getValue()&gt;1){\n                System.out.print(entry.getKey() + &quot; &quot;);\n            }\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698860687,"creation_date":1698860687,"answer_id":77404593,"question_id":77404246,"body_markdown":"The output you are getting is a result of emiting the status of the Map on each iteration of the for loop.\r\n\r\nConsider the state of the Map on each iteration:\r\n\r\n    12: [{12:1}]  Output: \r\n    10: [{12:1}, {10:1}] Output: \r\n     9: [{12:1}, {10:1}, {9:1}] Output: \r\n    45: [{12:1}, {10:1}, {9:1}, {45:1}] Output: \r\n     2: [{12:1}, {10:1}, {9:1}, {45:1}, {2:1}] Output: \r\n    10: [{12:1}, {10:2}, {9:1}, {45:1}, {2:1}] Output: 10\r\n    10: [{12:1}, {10:3}, {9:1}, {45:1}, {2:1}] Output: 10\r\n    45: [{12:1}, {10:3}, {9:1}, {45:2}, {2:1}] Output: 10 45\r\n\r\nSo the total output ends up as: 10 10 10 45\r\n\r\nSolution is to move that status output after the loop.\r\n\r\n    public static void repeatingElements(int a[], int n){\r\n      HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n      for(int i=0;i&lt;n;i++){\r\n        if(map.containsKey(a[i])){\r\n          map.put(a[i], map.get(a[i]) + 1);\r\n        } else {\r\n          map.put(a[i],1);\r\n        }\r\n      }\r\n      for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\r\n        if(entry.getValue()&gt;1){\r\n          System.out.print(entry.getKey() + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n        ","title":"Why are duplicate keys printed when I&#39;m looping through the hashmap?","body":"<p>The output you are getting is a result of emiting the status of the Map on each iteration of the for loop.</p>\n<p>Consider the state of the Map on each iteration:</p>\n<pre><code>12: [{12:1}]  Output: \n10: [{12:1}, {10:1}] Output: \n 9: [{12:1}, {10:1}, {9:1}] Output: \n45: [{12:1}, {10:1}, {9:1}, {45:1}] Output: \n 2: [{12:1}, {10:1}, {9:1}, {45:1}, {2:1}] Output: \n10: [{12:1}, {10:2}, {9:1}, {45:1}, {2:1}] Output: 10\n10: [{12:1}, {10:3}, {9:1}, {45:1}, {2:1}] Output: 10\n45: [{12:1}, {10:3}, {9:1}, {45:2}, {2:1}] Output: 10 45\n</code></pre>\n<p>So the total output ends up as: 10 10 10 45</p>\n<p>Solution is to move that status output after the loop.</p>\n<pre><code>public static void repeatingElements(int a[], int n){\n  HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n  for(int i=0;i&lt;n;i++){\n    if(map.containsKey(a[i])){\n      map.put(a[i], map.get(a[i]) + 1);\n    } else {\n      map.put(a[i],1);\n    }\n  }\n  for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\n    if(entry.getValue()&gt;1){\n      System.out.print(entry.getKey() + &quot; &quot;);\n    }\n  }\n}\n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698864235,"creation_date":1698860931,"answer_id":77404615,"question_id":77404246,"body_markdown":"- For all the values when first encountered, you put in a default value of 1.  Duplicate keys replace the current value.\r\n- As each key is found, its value is replaced by the current value plus 1.\r\n- So at the end of the first loop, your map looks like this because `10` occurs `3` times and `45` occurs `2` times.\r\n```\r\n2=1\r\n9=1\r\n10=3\r\n12=1\r\n45=2\r\n```\r\nNow if you move the last loop, outside the first, you will get  the following.\r\n```\r\n10 45\r\n```\r\nHere is the modified code.\r\n``` \r\npublic static void repeatingElements(int a[], int n) {\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; n; i++) {\r\n        if (map.containsKey(a[i])) {\r\n            map.put(a[i], map.get(a[i]) + 1);\r\n        } else {\r\n            map.put(a[i], 1);\r\n        }\r\n    }\r\n\r\n    for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\r\n        if (entry.getValue() &gt; 1) {\r\n            System.out.print(entry.getKey() + &quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nIf you just want to detect which items are duplicates and don&#39;t care how many times they occur, you can use sets.\r\n- if the value, when adding it to the `seen` set is already there, it returns false, so add it to the `dups` set.\r\n- since `sets` won&#39;t hold duplicates, continued adding an existing value won&#39;t make a difference.\r\n```\r\npublic static void repeatingElements(int vals[]) {\r\n     Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n     Set&lt;Integer&gt; dups = new HashSet&lt;&gt;();\r\n     for(int val : vals) {\r\n         if (!seen.add(val)) {\r\n             dups.add(val);\r\n         }\r\n     }\r\n     System.out.println(dups);\r\n}\r\n```\r\nprints\r\n```\r\n[10, 45]\r\n","title":"Why are duplicate keys printed when I&#39;m looping through the hashmap?","body":"<ul>\n<li>For all the values when first encountered, you put in a default value of 1.  Duplicate keys replace the current value.</li>\n<li>As each key is found, its value is replaced by the current value plus 1.</li>\n<li>So at the end of the first loop, your map looks like this because <code>10</code> occurs <code>3</code> times and <code>45</code> occurs <code>2</code> times.</li>\n</ul>\n<pre><code>2=1\n9=1\n10=3\n12=1\n45=2\n</code></pre>\n<p>Now if you move the last loop, outside the first, you will get  the following.</p>\n<pre><code>10 45\n</code></pre>\n<p>Here is the modified code.</p>\n<pre><code>public static void repeatingElements(int a[], int n) {\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        if (map.containsKey(a[i])) {\n            map.put(a[i], map.get(a[i]) + 1);\n        } else {\n            map.put(a[i], 1);\n        }\n    }\n\n    for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\n        if (entry.getValue() &gt; 1) {\n            System.out.print(entry.getKey() + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>If you just want to detect which items are duplicates and don't care how many times they occur, you can use sets.</p>\n<ul>\n<li>if the value, when adding it to the <code>seen</code> set is already there, it returns false, so add it to the <code>dups</code> set.</li>\n<li>since <code>sets</code> won't hold duplicates, continued adding an existing value won't make a difference.</li>\n</ul>\n<pre><code>public static void repeatingElements(int vals[]) {\n     Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n     Set&lt;Integer&gt; dups = new HashSet&lt;&gt;();\n     for(int val : vals) {\n         if (!seen.add(val)) {\n             dups.add(val);\n         }\n     }\n     System.out.println(dups);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[10, 45]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698863991,"creation_date":1698863991,"answer_id":77404891,"question_id":77404246,"body_markdown":"&gt; _&quot;... I was under the impression that when we add duplicate keys to hashmap, it replaces the previous key. ...&quot;_\r\n\r\nCorrect, it replaces the _key_ with the same _&quot;hash-code&quot;_.\\\r\nHere is the source code, from the _[OpenJDK](https://openjdk.org/)_.\r\n\r\n_[GitHub &amp;ndash; java/util/HashMap.java &amp;ndash; putVal](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L631)_.\r\n\r\n&gt; _&quot;Why are duplicate keys printed when I&#39;m looping through the hashmap? ...\\\r\n&gt;\\\r\n&gt; ... I&#39;m trying to print all the repeating elements in the array. ...&quot;_\r\n\r\nPrint the values after the _loop_.\r\n\r\n```java\r\nHashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\nfor(int i=0;i&lt;n;i++){\r\n    if(map.containsKey(a[i])){\r\n        map.put(a[i], map.get(a[i]) + 1);\r\n    }\r\n    else {\r\n        map.put(a[i],1);\r\n    }\r\n}\r\nfor(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\r\n    if(entry.getValue()&gt;1){\r\n        System.out.print(entry.getKey() + &quot; &quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd, for reference, you can use the _[Map#compute](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction))_ method.\r\n\r\n```java\r\nfor(int i=0;i&lt;n;i++)\r\n    map.compute(a[i], (k, v) -&gt; v == null ? 1 : ++v);\r\n```\r\n\r\nOr, the _[Map#merge](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction))_ and _[Integer#sum](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#sum(int,int))_ methods.\r\n\r\n```java\r\nfor(int i=0;i&lt;n;i++)\r\n    map.merge(a[i], 1, Integer::sum);\r\n```\r\n\r\nAnother approach is to use the _[Collections#frequency](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object))_ method, and a _[Set](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html)_.\r\n\r\n```java\r\nvoid repeatingElements(int a[]){\r\n    List&lt;Integer&gt; list = IntStream.of(a).boxed().toList();\r\n    new HashSet&lt;&gt;(list).forEach(\r\n        x -&gt; {\r\n            if (Collections.frequency(list, x) &gt; 1)\r\n                System.out.print(x + &quot; &quot;);\r\n        });\r\n}\r\n```","title":"Why are duplicate keys printed when I&#39;m looping through the hashmap?","body":"<blockquote>\n<p><em>&quot;... I was under the impression that when we add duplicate keys to hashmap, it replaces the previous key. ...&quot;</em></p>\n</blockquote>\n<p>Correct, it replaces the <em>key</em> with the same <em>&quot;hash-code&quot;</em>.<br />\nHere is the source code, from the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em>.</p>\n<p><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/HashMap.java#L631\" rel=\"nofollow noreferrer\">GitHub – java/util/HashMap.java – putVal</a></em>.</p>\n<blockquote>\n<p><em>&quot;Why are duplicate keys printed when I'm looping through the hashmap? ...<br />\n<br />\n... I'm trying to print all the repeating elements in the array. ...&quot;</em></p>\n</blockquote>\n<p>Print the values after the <em>loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\nfor(int i=0;i&lt;n;i++){\n    if(map.containsKey(a[i])){\n        map.put(a[i], map.get(a[i]) + 1);\n    }\n    else {\n        map.put(a[i],1);\n    }\n}\nfor(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\n    if(entry.getValue()&gt;1){\n        System.out.print(entry.getKey() + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>And, for reference, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map#compute</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0;i&lt;n;i++)\n    map.compute(a[i], (k, v) -&gt; v == null ? 1 : ++v);\n</code></pre>\n<p>Or, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map#merge</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#sum(int,int)\" rel=\"nofollow noreferrer\">Integer#sum</a></em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0;i&lt;n;i++)\n    map.merge(a[i], 1, Integer::sum);\n</code></pre>\n<p>Another approach is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\" rel=\"nofollow noreferrer\">Collections#frequency</a></em> method, and a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void repeatingElements(int a[]){\n    List&lt;Integer&gt; list = IntStream.of(a).boxed().toList();\n    new HashSet&lt;&gt;(list).forEach(\n        x -&gt; {\n            if (Collections.frequency(list, x) &gt; 1)\n                System.out.print(x + &quot; &quot;);\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":16261232,"reputation":3,"user_id":15438449,"display_name":"Akash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698866568,"accepted_answer_id":77404593,"answer_count":4,"score":0,"last_activity_date":1698864235,"creation_date":1698857161,"question_id":77404246,"body_markdown":"What is wrong with my code? I&#39;m trying to print the keys but when I print the I&#39;m getting duplicate keys. I was under the impression that when we add duplicate keys to hashmap, it replaces the previous key. \r\n\r\nI&#39;m trying to print all the repeating elements in the array.\r\n\r\n```java\r\npublic static void repeatingElements(int a[], int n) {\r\n  HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n  for (int i = 0; i &lt; n; i++) {\r\n    if (map.containsKey(a[i])) {\r\n      map.put(a[i], map.get(a[i]) + 1);\r\n    } else {\r\n      map.put(a[i],1);\r\n    }\r\n\r\n    for (Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()) {\r\n      if (entry.getValue()&gt;1) {\r\n        System.out.print(entry.getKey() + &quot; &quot;);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n- Input: `{12, 10, 9, 45, 2, 10, 10, 45}`\r\n- Expected Output: `10 45`\r\n- The output I&#39;m getting: `10 10 10 45`\r\n","title":"Why are duplicate keys printed when I&#39;m looping through the hashmap?","body":"<p>What is wrong with my code? I'm trying to print the keys but when I print the I'm getting duplicate keys. I was under the impression that when we add duplicate keys to hashmap, it replaces the previous key.</p>\n<p>I'm trying to print all the repeating elements in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void repeatingElements(int a[], int n) {\n  HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n  for (int i = 0; i &lt; n; i++) {\n    if (map.containsKey(a[i])) {\n      map.put(a[i], map.get(a[i]) + 1);\n    } else {\n      map.put(a[i],1);\n    }\n\n    for (Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()) {\n      if (entry.getValue()&gt;1) {\n        System.out.print(entry.getKey() + &quot; &quot;);\n      }\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>Input: <code>{12, 10, 9, 45, 2, 10, 10, 45}</code></li>\n<li>Expected Output: <code>10 45</code></li>\n<li>The output I'm getting: <code>10 10 10 45</code></li>\n</ul>\n"},{"tags":["java","android","donations"],"answers":[{"tags":[],"owner":{"account_id":227754,"reputation":16182,"user_id":489607,"accept_rate":92,"display_name":"davidcesarino"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1698864120,"creation_date":1322073033,"answer_id":8247299,"question_id":8247222,"body_markdown":"Yes, there is. It&#39;s [in-app billing][1].\r\n\r\nAfter reading the link above, you&#39;ll understand that you can implement various packages that will provide, each, the desired functionality. In your case, you will have &quot;donation products&quot; (packages) that the user will buy. Some of the details that need to be addressed here, IMHO:\r\n\r\n 1. Most simple apps are $1, $2, $5, $10 and $20, but you can provide higher values as well, of course. Comparing to the multiple-app pattern, this has the advantage of simplified code logic, since you manage everything inside one code branch, and there is no need to fiddle with different applications. \r\n\r\n 2. Since you&#39;re providing donation packages, it&#39;s logical that the user can donate that given quantity more than once. Thus, you should just make sure that the donation package --- the product you add in the Market console --- is ***[unmanaged][2]***.\r\n\r\nThat&#39;s the general concept together with the two main concerns about your particular case.\r\n\r\nIn-app billing is very simple to implement.\r\n\r\n\r\n  [1]: http://developer.android.com/guide/market/billing/index.html\r\n  [2]: http://developer.android.com/guide/market/billing/billing_admin.html#billing-purchase-type","title":"What is the best practice for unlocking app features to the user in Android?","body":"<p>Yes, there is. It's <a href=\"http://developer.android.com/guide/market/billing/index.html\" rel=\"nofollow noreferrer\">in-app billing</a>.</p>\n<p>After reading the link above, you'll understand that you can implement various packages that will provide, each, the desired functionality. In your case, you will have &quot;donation products&quot; (packages) that the user will buy. Some of the details that need to be addressed here, IMHO:</p>\n<ol>\n<li><p>Most simple apps are $1, $2, $5, $10 and $20, but you can provide higher values as well, of course. Comparing to the multiple-app pattern, this has the advantage of simplified code logic, since you manage everything inside one code branch, and there is no need to fiddle with different applications.</p>\n</li>\n<li><p>Since you're providing donation packages, it's logical that the user can donate that given quantity more than once. Thus, you should just make sure that the donation package --- the product you add in the Market console --- is <em><strong><a href=\"http://developer.android.com/guide/market/billing/billing_admin.html#billing-purchase-type\" rel=\"nofollow noreferrer\">unmanaged</a></strong></em>.</p>\n</li>\n</ol>\n<p>That's the general concept together with the two main concerns about your particular case.</p>\n<p>In-app billing is very simple to implement.</p>\n"},{"tags":[],"owner":{"account_id":1027656,"reputation":790,"user_id":1036608,"display_name":"ethan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322073128,"creation_date":1322073128,"answer_id":8247319,"question_id":8247222,"body_markdown":"You can do this through the Android Marketplace with [in-app billing][1]. There are also a lot of apps that offer a free version and a paid version, where the paid version has more features or fewer ads.\r\n\r\n\r\n  [1]: http://developer.android.com/guide/market/billing/index.html","title":"What is the best practice for unlocking app features to the user in Android?","body":"<p>You can do this through the Android Marketplace with <a href=\"http://developer.android.com/guide/market/billing/index.html\" rel=\"nofollow\">in-app billing</a>. There are also a lot of apps that offer a free version and a paid version, where the paid version has more features or fewer ads.</p>\n"},{"tags":[],"owner":{"account_id":1058789,"reputation":5153,"user_id":1060868,"accept_rate":75,"display_name":"gwvatieri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1322073620,"creation_date":1322073266,"answer_id":8247346,"question_id":8247222,"body_markdown":"I have used this approach:\r\n\r\n- I release my free android app called &quot;My App&quot;\r\n- I release an empty paid app called &quot;MyApp Donate&quot; (it will have just an activity with some text like &quot;thank you for donating...bla bla&quot;)\r\n\r\nLet&#39;s assume that in &quot;My App&quot; you will show ads, you can have somewhere a button &quot;Remove Ads by donating&quot; which takes the user to the market page for &quot;My App Donate&quot;.\r\n\r\nIn My App you decide if you have to show or not an ad based on the fact that the package &quot;My App Donate&quot; is installed or not.\r\n\r\nIt sounds complicated, but it&#39;s super easy to implement.\r\nYou can check if a package is installed with the following code:\r\n\r\n    public static boolean isPackageInstalled (final Context ctx, final String packageName) {\r\n\t\tboolean result = false;\r\n\t\ttry {\t\t\t\r\n\t\t\tfinal PackageManager pm = ctx.getPackageManager();\r\n\t\t\tfinal PackageInfo pi = pm.getPackageInfo(packageName, 0);\r\n\t\t\tif (pi != null &amp;&amp; pi.applicationInfo.enabled)\r\n\t\t\t\tresult = true;\r\n\t\t}\r\n\t\tcatch (final Throwable e) {\r\n\t\t\tif (Dbg.IS_DEBUG) Dbg.debug(&quot;Package not installed: &quot;+packageName);\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\nps. in-app billing is not so easy to integrate, moreover your app will be visible ONLY in the countries where in-app is supported. it&#39;s not worth it in your case.","title":"What is the best practice for unlocking app features to the user in Android?","body":"<p>I have used this approach:</p>\n\n<ul>\n<li>I release my free android app called \"My App\"</li>\n<li>I release an empty paid app called \"MyApp Donate\" (it will have just an activity with some text like \"thank you for donating...bla bla\")</li>\n</ul>\n\n<p>Let's assume that in \"My App\" you will show ads, you can have somewhere a button \"Remove Ads by donating\" which takes the user to the market page for \"My App Donate\".</p>\n\n<p>In My App you decide if you have to show or not an ad based on the fact that the package \"My App Donate\" is installed or not.</p>\n\n<p>It sounds complicated, but it's super easy to implement.\nYou can check if a package is installed with the following code:</p>\n\n<pre><code>public static boolean isPackageInstalled (final Context ctx, final String packageName) {\n    boolean result = false;\n    try {           \n        final PackageManager pm = ctx.getPackageManager();\n        final PackageInfo pi = pm.getPackageInfo(packageName, 0);\n        if (pi != null &amp;&amp; pi.applicationInfo.enabled)\n            result = true;\n    }\n    catch (final Throwable e) {\n        if (Dbg.IS_DEBUG) Dbg.debug(\"Package not installed: \"+packageName);\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>ps. in-app billing is not so easy to integrate, moreover your app will be visible ONLY in the countries where in-app is supported. it's not worth it in your case.</p>\n"}],"owner":{"account_id":375919,"reputation":600,"user_id":727035,"accept_rate":62,"display_name":"koch.trier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2974,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1698937850,"accepted_answer_id":8247299,"answer_count":3,"score":6,"last_activity_date":1698864120,"creation_date":1322072575,"question_id":8247222,"body_markdown":"I just developed an Android App which I&#180;d like to distribute for free.\r\n\r\nIn order to be able to earn some money for my work, I&#180;d like to add some adverts or notification to the app. \r\nIf a user decides to donate some money, he will receive an unlock code for the &quot;donate&quot; version using some kind of unlock code.\r\n\r\nIs there any &quot;best practice&quot; for implementing this in Android?","title":"What is the best practice for unlocking app features to the user in Android?","body":"<p>I just developed an Android App which I´d like to distribute for free.</p>\n<p>In order to be able to earn some money for my work, I´d like to add some adverts or notification to the app.\nIf a user decides to donate some money, he will receive an unlock code for the &quot;donate&quot; version using some kind of unlock code.</p>\n<p>Is there any &quot;best practice&quot; for implementing this in Android?</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":28748802,"reputation":21,"user_id":22017312,"display_name":"FoodyFoood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685905471,"creation_date":1685905161,"answer_id":76402005,"question_id":76374886,"body_markdown":"I got the same thing and tried to create a BuildConfig.java in org/opencv with code I found online:\r\n    \r\n    package org.opencv;\r\n    \r\n    public final class BuildConfig {\r\n      public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\r\n      public static final String LIBRARY_PACKAGE_NAME = &quot;org.opencv&quot;;\r\n      /**\r\n       * @deprecated APPLICATION_ID is misleading in libraries. For the library package name use LIBRARY_PACKAGE_NAME\r\n       */\r\n      @Deprecated\r\n      public static final String APPLICATION_ID = &quot;org.opencv&quot;;\r\n      public static final String BUILD_TYPE = &quot;debug&quot;;\r\n      public static final String FLAVOR = &quot;&quot;;\r\n      public static final int VERSION_CODE = 4100;\r\n      public static final String VERSION_NAME = &quot;4.1.0&quot;;\r\n    }\r\n\r\nI changed VERSION_CODE to 406000 and VERSION_NAME to &quot;4.6.0&quot; and it compiles without problems.\r\nThis is not the solution but it works for me :)","title":"Error: Cannot find symbol import org.opencv.BuildConfig; Android studio","body":"<p>I got the same thing and tried to create a BuildConfig.java in org/opencv with code I found online:</p>\n<pre><code>package org.opencv;\n\npublic final class BuildConfig {\n  public static final boolean DEBUG = Boolean.parseBoolean(&quot;true&quot;);\n  public static final String LIBRARY_PACKAGE_NAME = &quot;org.opencv&quot;;\n  /**\n   * @deprecated APPLICATION_ID is misleading in libraries. For the library package name use LIBRARY_PACKAGE_NAME\n   */\n  @Deprecated\n  public static final String APPLICATION_ID = &quot;org.opencv&quot;;\n  public static final String BUILD_TYPE = &quot;debug&quot;;\n  public static final String FLAVOR = &quot;&quot;;\n  public static final int VERSION_CODE = 4100;\n  public static final String VERSION_NAME = &quot;4.1.0&quot;;\n}\n</code></pre>\n<p>I changed VERSION_CODE to 406000 and VERSION_NAME to &quot;4.6.0&quot; and it compiles without problems.\nThis is not the solution but it works for me :)</p>\n"},{"tags":[],"owner":{"account_id":29055019,"reputation":11,"user_id":22256956,"display_name":"Tommy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690231328,"creation_date":1689839558,"answer_id":76727749,"question_id":76374886,"body_markdown":"Open Gradle `Scripts/gradle.properties` (Project Properties) and look near the bottom line.\r\nIf you see the below is not there, add it.\r\n\r\n    &quot;android.defaults.buildfeatures.buildconfig=true&quot;\r\n\r\nThen `&quot;org.opencv.BuildConfig&quot;` will be generated automatically at build time.","title":"Error: Cannot find symbol import org.opencv.BuildConfig; Android studio","body":"<p>Open Gradle <code>Scripts/gradle.properties</code> (Project Properties) and look near the bottom line.\nIf you see the below is not there, add it.</p>\n<pre><code>&quot;android.defaults.buildfeatures.buildconfig=true&quot;\n</code></pre>\n<p>Then <code>&quot;org.opencv.BuildConfig&quot;</code> will be generated automatically at build time.</p>\n"},{"tags":[],"owner":{"account_id":4618281,"reputation":301,"user_id":4402902,"display_name":"Mohamed Hamza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698863209,"creation_date":1698863209,"answer_id":77404824,"question_id":76374886,"body_markdown":"In the `build.gradle` file of the opencv module, add this:\r\n\r\n    buildFeatures{\r\n        aidl true\r\n        buildConfig true\r\n    }\r\n\r\nNow, the `BuildConfig` is generated for you.","title":"Error: Cannot find symbol import org.opencv.BuildConfig; Android studio","body":"<p>In the <code>build.gradle</code> file of the opencv module, add this:</p>\n<pre><code>buildFeatures{\n    aidl true\n    buildConfig true\n}\n</code></pre>\n<p>Now, the <code>BuildConfig</code> is generated for you.</p>\n"}],"owner":{"account_id":26081471,"reputation":3,"user_id":19779552,"display_name":"Elliot Silveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698863209,"creation_date":1685545296,"question_id":76374886,"body_markdown":"I trying to import openCV into android studio. I am using 4.6 and Android Studio Flamingo | 2022.2.1 Patch 2 and I am getting following error:\r\n \r\nerror: cannot find symbol\r\nimport org.opencv.BuildConfig;\r\n                 ^\r\nsymbol:   class BuildConfig\r\nlocation: package org.opencv\r\n\r\nI am not sure how to fix this because I cannot find information on org.opencv.BuildConfig anywhere.\r\n\r\nHere is my build.gradle (:openCV)\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.library&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\n\r\ndef openCVersionName = &quot;4.6.0&quot;\r\ndef openCVersionCode = ((4 * 100 + 6) * 100 + 0) * 10 + 0\r\n\r\nprintln &quot;OpenCV: &quot; +openCVersionName + &quot; &quot; + project.buildscript.sourceFile\r\n\r\nandroid {\r\n    buildFeatures {\r\n        aidl true\r\n    }\r\n\r\n    compileSdkVersion 33\r\n\r\n    namespace &#39;org.opencv&#39;\r\n\r\n    defaultConfig {\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n\r\n        versionCode openCVersionCode\r\n        versionName openCVersionName\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DANDROID_STL=c++_shared&quot;\r\n                targets &quot;opencv_jni_shared&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            packagingOptions {\r\n                doNotStrip &#39;**/*.so&#39;  // controlled by OpenCV CMake scripts\r\n            }\r\n        }\r\n        release {\r\n            packagingOptions {\r\n                doNotStrip &#39;**/*.so&#39;  // controlled by OpenCV CMake scripts\r\n            }\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&#39;native/libs&#39;]\r\n            java.srcDirs = [&#39;java/src&#39;]\r\n            aidl.srcDirs = [&#39;java/src&#39;]\r\n            res.srcDirs = [&#39;java/res&#39;]\r\n            manifest.srcFile &#39;java/AndroidManifest.xml&#39;\r\n        }\r\n    }\r\n\r\n    externalNativeBuild {\r\n        cmake {\r\n            path (project.projectDir.toString() + &#39;/libcxx_helper/CMakeLists.txt&#39;)\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n}\r\n```\r\n  \r\n\r\n\r\n\r\nI ran into a few issues. The first was that the package was defined in the AndroidManifest file of the openCV SDK which is now deprecated so I defined `namespace &#39;org.opencv&#39;` in the build.gradle (openCV). Then I had to set `buildFeatures { aidl true }` to true in build.gradle files for the app and openCV. That solved my other issues but now I do not know how to fix the BuildConfig issues.","title":"Error: Cannot find symbol import org.opencv.BuildConfig; Android studio","body":"<p>I trying to import openCV into android studio. I am using 4.6 and Android Studio Flamingo | 2022.2.1 Patch 2 and I am getting following error:</p>\n<p>error: cannot find symbol\nimport org.opencv.BuildConfig;\n^\nsymbol:   class BuildConfig\nlocation: package org.opencv</p>\n<p>I am not sure how to fix this because I cannot find information on org.opencv.BuildConfig anywhere.</p>\n<p>Here is my build.gradle (:openCV)</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.7.10'\n}\n\napply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\ndef openCVersionName = &quot;4.6.0&quot;\ndef openCVersionCode = ((4 * 100 + 6) * 100 + 0) * 10 + 0\n\nprintln &quot;OpenCV: &quot; +openCVersionName + &quot; &quot; + project.buildscript.sourceFile\n\nandroid {\n    buildFeatures {\n        aidl true\n    }\n\n    compileSdkVersion 33\n\n    namespace 'org.opencv'\n\n    defaultConfig {\n        minSdkVersion 24\n        targetSdkVersion 33\n\n        versionCode openCVersionCode\n        versionName openCVersionName\n\n        externalNativeBuild {\n            cmake {\n                arguments &quot;-DANDROID_STL=c++_shared&quot;\n                targets &quot;opencv_jni_shared&quot;\n            }\n        }\n    }\n\n    buildTypes {\n        debug {\n            packagingOptions {\n                doNotStrip '**/*.so'  // controlled by OpenCV CMake scripts\n            }\n        }\n        release {\n            packagingOptions {\n                doNotStrip '**/*.so'  // controlled by OpenCV CMake scripts\n            }\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['native/libs']\n            java.srcDirs = ['java/src']\n            aidl.srcDirs = ['java/src']\n            res.srcDirs = ['java/res']\n            manifest.srcFile 'java/AndroidManifest.xml'\n        }\n    }\n\n    externalNativeBuild {\n        cmake {\n            path (project.projectDir.toString() + '/libcxx_helper/CMakeLists.txt')\n        }\n    }\n}\n\ndependencies {\n}\n</code></pre>\n<p>I ran into a few issues. The first was that the package was defined in the AndroidManifest file of the openCV SDK which is now deprecated so I defined <code>namespace 'org.opencv'</code> in the build.gradle (openCV). Then I had to set <code>buildFeatures { aidl true }</code> to true in build.gradle files for the app and openCV. That solved my other issues but now I do not know how to fix the BuildConfig issues.</p>\n"},{"tags":["java","mysql","hibernate","orm","annotations"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1698891974,"post_id":77404781,"comment_id":136463180,"body_markdown":"Why you couldn&#39;t write @Id ?","body":"Why you couldn&#39;t write @Id ?"},{"owner":{"account_id":22997000,"reputation":1,"user_id":17121595,"display_name":"Terlan İbrahimli"},"score":0,"creation_date":1698901620,"post_id":77404781,"comment_id":136463916,"body_markdown":"It gives me error this error -&gt; The annotation @Id is disallowed for this location","body":"It gives me error this error -&gt; The annotation @Id is disallowed for this location"}],"owner":{"account_id":22997000,"reputation":1,"user_id":17121595,"display_name":"Terlan İbrahimli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698862677,"creation_date":1698862677,"question_id":77404781,"body_markdown":"I just didn&#39;t figure out what is exactly problem and by the way i    couldn&#39;t write @Id.I understand that all my problem is related with my class.There isn&#39;t any problem in hibernate.cfg.xml file.\r\n\r\n    package com.terlan.Atashgah;\r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    @Entity\r\n    @Table(name = &quot;ALIEN&quot;)\r\n    \r\n    \r\n    public class Alien implements Serializable{\r\n    \t\r\n    \t@Column(name=&quot;aid&quot;)\r\n    \t\tprivate String aid;\r\n    \t@Column(name=&quot;name&quot;)\r\n    \t\tprivate String name;\r\n    \t@Column(name=&quot;color&quot;)\r\n    \t\tprivate String color;\r\n    \t\tpublic String getAid() {\r\n    \t\t\treturn aid;\r\n    \t\t}\r\n    \t\tpublic void setAid(String aid) {\r\n    \t\t\tthis.aid = aid;\r\n    \t\t}\r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t\tpublic String getColor() {\r\n    \t\t\treturn color;\r\n    \t\t}\r\n    \t\tpublic void setColor(String color) {\r\n    \t\t\tthis.color = color;\r\n    \t\t}    \r\n    }\r\n","title":"No identifier specified for entity: com.terlan.Atashgah.Alien","body":"<p>I just didn't figure out what is exactly problem and by the way i    couldn't write @Id.I understand that all my problem is related with my class.There isn't any problem in hibernate.cfg.xml file.</p>\n<pre><code>package com.terlan.Atashgah;\nimport java.io.Serializable;\n\nimport javax.persistence.*;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\n@Entity\n@Table(name = &quot;ALIEN&quot;)\n\n\npublic class Alien implements Serializable{\n    \n    @Column(name=&quot;aid&quot;)\n        private String aid;\n    @Column(name=&quot;name&quot;)\n        private String name;\n    @Column(name=&quot;color&quot;)\n        private String color;\n        public String getAid() {\n            return aid;\n        }\n        public void setAid(String aid) {\n            this.aid = aid;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getColor() {\n            return color;\n        }\n        public void setColor(String color) {\n            this.color = color;\n        }    \n}\n</code></pre>\n"},{"tags":["java","android","bytecode","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698862304,"creation_date":1698862304,"answer_id":77404742,"question_id":77401989,"body_markdown":"You cannot instrument classes within Android&#39;s core libraries. You can only instrument your own classes that call into Android by using `MemberSubstitution`.","title":"Change method implementation in Android with Byte Buddy","body":"<p>You cannot instrument classes within Android's core libraries. You can only instrument your own classes that call into Android by using <code>MemberSubstitution</code>.</p>\n"}],"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698862304,"creation_date":1698834850,"question_id":77401989,"body_markdown":"I want to have the implementation of some methods of Android SDK&#39;s [Resources](https://developer.android.com/reference/android/content/res/Resources) class, such as [getString()](https://developer.android.com/reference/android/content/res/Resources#getString(int)) use my own implementation.\r\n\r\nI can&#39;t create my own overridden/proxy version of `Resources` as I get the instance from [Context#getResources](https://developer.android.com/reference/android/content/Context#getResources()). I think that I need to have what `Byte Buddy` calls as &quot;type rebasing&quot; in its [tutorial](https://bytebuddy.net/#/tutorial).\r\n\r\nIs this possible in Android? If yes, am I supposed to use the [Byte Buddy Gradle plugin for Android](https://github.com/raphw/byte-buddy/blob/master/byte-buddy-gradle-plugin/android-plugin/README.md) to achieve that?","title":"Change method implementation in Android with Byte Buddy","body":"<p>I want to have the implementation of some methods of Android SDK's <a href=\"https://developer.android.com/reference/android/content/res/Resources\" rel=\"nofollow noreferrer\">Resources</a> class, such as <a href=\"https://developer.android.com/reference/android/content/res/Resources#getString(int)\" rel=\"nofollow noreferrer\">getString()</a> use my own implementation.</p>\n<p>I can't create my own overridden/proxy version of <code>Resources</code> as I get the instance from <a href=\"https://developer.android.com/reference/android/content/Context#getResources()\" rel=\"nofollow noreferrer\">Context#getResources</a>. I think that I need to have what <code>Byte Buddy</code> calls as &quot;type rebasing&quot; in its <a href=\"https://bytebuddy.net/#/tutorial\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<p>Is this possible in Android? If yes, am I supposed to use the <a href=\"https://github.com/raphw/byte-buddy/blob/master/byte-buddy-gradle-plugin/android-plugin/README.md\" rel=\"nofollow noreferrer\">Byte Buddy Gradle plugin for Android</a> to achieve that?</p>\n"},{"tags":["java","docker","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":3309963,"reputation":1784,"user_id":3157038,"accept_rate":36,"display_name":"luukvhoudt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616185035,"creation_date":1616185035,"answer_id":66715062,"question_id":66708147,"body_markdown":"Okay I guess I just figured it out how to accomplish it, but it&#39;s not really the best way to do it I would say. Because it basically is the same as downloading the jdk and placing it in a certain directory... anyway:\r\n\r\n1. Create a docker volume to store the jdk in:\r\n   ```\r\n   docker volume create openjdk-15\r\n   ```\r\n1. Run a container with the jdk you want (needs to be Java 11 or more recent) and while doing so let it fill the volume you just created:\r\n   ```\r\n   docker run --rm -v openjdk-15:/usr/local/openjdk-15 openjdk:15-slim java -version\r\n   ```\r\n1. (optional) I like to symlink to the volume e.g.:\r\n   ```\r\n   sudo ln -s $(docker inspect -f &#39;{{ index .Mountpoint }}&#39; openjdk-15) /usr/local/lib/openjdk-15\r\n   ```\r\n1. Configure the extension in `settings.json`:\r\n   ```\r\n   &quot;java.home&quot;: &quot;/usr/local/lib/openjdk-15&quot;,\r\n   &quot;java.configuration.runtimes&quot;: [\r\n     {\r\n       &quot;name&quot;: &quot;JavaSE-15&quot;,\r\n       &quot;path&quot;: &quot;/usr/local/lib/openjdk-15&quot;,\r\n       &quot;default&quot;: true\r\n     }\r\n   ]\r\n   ```\r\n\r\nSo there is no need for a custom `java` binary what spins up a docker container. However you still will have to store the JDK-files on your OS directly.","title":"How to use a docker container for JRE in VSCode IDE?","body":"<p>Okay I guess I just figured it out how to accomplish it, but it's not really the best way to do it I would say. Because it basically is the same as downloading the jdk and placing it in a certain directory... anyway:</p>\n<ol>\n<li>Create a docker volume to store the jdk in:\n<pre><code>docker volume create openjdk-15\n</code></pre>\n</li>\n<li>Run a container with the jdk you want (needs to be Java 11 or more recent) and while doing so let it fill the volume you just created:\n<pre><code>docker run --rm -v openjdk-15:/usr/local/openjdk-15 openjdk:15-slim java -version\n</code></pre>\n</li>\n<li>(optional) I like to symlink to the volume e.g.:\n<pre><code>sudo ln -s $(docker inspect -f '{{ index .Mountpoint }}' openjdk-15) /usr/local/lib/openjdk-15\n</code></pre>\n</li>\n<li>Configure the extension in <code>settings.json</code>:\n<pre><code>&quot;java.home&quot;: &quot;/usr/local/lib/openjdk-15&quot;,\n&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-15&quot;,\n    &quot;path&quot;: &quot;/usr/local/lib/openjdk-15&quot;,\n    &quot;default&quot;: true\n  }\n]\n</code></pre>\n</li>\n</ol>\n<p>So there is no need for a custom <code>java</code> binary what spins up a docker container. However you still will have to store the JDK-files on your OS directly.</p>\n"},{"tags":[],"owner":{"account_id":5116147,"reputation":701,"user_id":4101195,"display_name":"dwsndev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698861864,"creation_date":1698851496,"answer_id":77403656,"question_id":66708147,"body_markdown":"This can now be accomplished easily with the official [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) extension. You don&#39;t even need an existing image on your system, but that&#39;s supported as well if you want a customized container.\r\n\r\nI was able to spin up a container with JDK through VS Code in a few minutes, and everything shows up in Docker Desktop as if you went through the whole process yourself.","title":"How to use a docker container for JRE in VSCode IDE?","body":"<p>This can now be accomplished easily with the official <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers\" rel=\"nofollow noreferrer\">Dev Containers</a> extension. You don't even need an existing image on your system, but that's supported as well if you want a customized container.</p>\n<p>I was able to spin up a container with JDK through VS Code in a few minutes, and everything shows up in Docker Desktop as if you went through the whole process yourself.</p>\n"}],"owner":{"account_id":3309963,"reputation":1784,"user_id":3157038,"accept_rate":36,"display_name":"luukvhoudt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1698861864,"creation_date":1616156776,"question_id":66708147,"body_markdown":"In VSCode, my IDE, I&#39;m configure the [Language support for Java(TM) by Red Hat][1] extension with a &quot;Java&quot; docker container. Thus far I have been able to set up the runtime, however I didn&#39;t manage to point my IDE to the Java home directory of the docker container.\r\n\r\nAccording to the extension&#39;s page, this is what I need to achieve in order to make the extension work:\r\n\r\n&gt; This JDK will be used to launch the Java Language Server. And by default, will also be used to compile your projects.\r\n&gt; \r\n&gt; The path to the Java Development Kit can be specified by the `java.home` setting in VS Code settings (workspace/user settings). If not specified, it is searched in the following order until a JDK meets current minimum requirement.\r\n&gt; \r\n&gt; - the `JDK_HOME` environment variable\r\n&gt; - the `JAVA_HOME` environment variable\r\n&gt; - on the current system path\r\n\r\n# How I set up the runtime\r\n\r\nAs I already said, I manage to set up a runtime. This is how I did it:\r\n\r\n1. Added a `java` binary for the docker container, in my case I put it in `/usr/local/bin`.\r\n   ```\r\n   #!/bin/sh\r\n\r\n   docker run \\\r\n        --name usr-local-bin-java \\\r\n        -i \\\r\n        --rm \\\r\n        --network=host \\\r\n        -w /root/project \\\r\n        -v &quot;$PWD&quot;:/root/project \\\r\n        -v &quot;$PWD&quot;/.docker/mvn/cache:/root/.m2 \\\r\n        maven:3-jdk-8-slim \\\r\n        java &quot;$@&quot;\r\n\r\n   exit $?\r\n   ```\r\n   I&#39;m using a Maven image because I also needed Maven, which also includes Java. Of course a OpenJDK image could also have been used.\r\n\r\n2. Added/updated my IDE&#39;s user `settings.json` with the following:\r\n   ```\r\n   &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/local/bin/java&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n   ],\r\n   ```\r\n\r\n# Where I am stuck at\r\n\r\nSo the last step I&#39;ve in front of me, is to specify the path for `java.home`. But how will I do that if it&#39;s located in a docker container? Well the most obvious solution would be to mount the path in the docker container to my host. Unfortunately that won&#39;t work because the path I need is stored in the docker image, thus when I mount my host to the path then it will result in a empty directory.\r\n\r\nTo summarize this **won&#39;t work** (note: java home in my docker image is at `/usr/local/openjdk-8`):\r\n\r\n1. Add the following argument to the `java` binary, to set up a volume mount:\r\n   ```\r\n   -v &quot;$PWD&quot;/.docker/java/jdk:/usr/local/openjdk-8 \\\r\n   ```\r\n2. Add the `java.home` attribute to the `settings.json` config:\r\n   ```\r\n   &quot;java.home&quot;: &quot;${cwd}/.docker/java/jdk&quot;,\r\n   ```\r\n\r\nThis will result in something like: &quot;The `java.home` configuration doesn&#39;t point to a valid JDK&quot;.\r\n\r\nDoes anyone know: What are my options here? Can I point to directory in a interactive automatically removed docker container?\r\n\r\n*PS: I don&#39;t want to install a JDK on my OS directly.*\r\n\r\n**UPDATE #1: I managed to mount a volume from the docker container to my host**\r\n\r\n1. Create a new docker volume:\r\n   ```\r\n   docker volume create openjdk\r\n   ```\r\n2. Add the volume mount arg to the the `java` binary:\r\n   ```\r\n   -v openjdk:/usr/local/openjdk-8 \\\r\n   ```\r\n3. Run the binary:\r\n   ```\r\n   java -version\r\n   ```\r\n4. Add the `JDK_HOME` or `JAVA_HOME` variable to your bash env:\r\n   ```\r\n   JAVA_HOME=&quot;$(docker inspect -f &#39;{{ index .Mountpoint }}&#39; openjdk)&quot;\r\n   ```\r\n5. Reload the IDE and get errors...\r\n   &gt; Java 11 or more recent is required to run the Java extension. Please download and install a recent JDK. You can still compile your projects with older JDKs by configuring [&#39;java.configuration.runtimes&#39;](https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#java.configuration.runtimes)\r\n\r\nI even tried to set the `java.home` attribute to the mountpoint of the volume directly, which resulted in permission denied error, thus I `chmod +rx -R` my whole &quot;var lib docker&quot; directory (the place where the volumes are stored). Eventually the same error occurred as described in the steps above.\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=redhat.java","title":"How to use a docker container for JRE in VSCode IDE?","body":"<p>In VSCode, my IDE, I'm configure the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language support for Java(TM) by Red Hat</a> extension with a &quot;Java&quot; docker container. Thus far I have been able to set up the runtime, however I didn't manage to point my IDE to the Java home directory of the docker container.</p>\n<p>According to the extension's page, this is what I need to achieve in order to make the extension work:</p>\n<blockquote>\n<p>This JDK will be used to launch the Java Language Server. And by default, will also be used to compile your projects.</p>\n<p>The path to the Java Development Kit can be specified by the <code>java.home</code> setting in VS Code settings (workspace/user settings). If not specified, it is searched in the following order until a JDK meets current minimum requirement.</p>\n<ul>\n<li>the <code>JDK_HOME</code> environment variable</li>\n<li>the <code>JAVA_HOME</code> environment variable</li>\n<li>on the current system path</li>\n</ul>\n</blockquote>\n<h1>How I set up the runtime</h1>\n<p>As I already said, I manage to set up a runtime. This is how I did it:</p>\n<ol>\n<li><p>Added a <code>java</code> binary for the docker container, in my case I put it in <code>/usr/local/bin</code>.</p>\n<pre><code>#!/bin/sh\n\ndocker run \\\n     --name usr-local-bin-java \\\n     -i \\\n     --rm \\\n     --network=host \\\n     -w /root/project \\\n     -v &quot;$PWD&quot;:/root/project \\\n     -v &quot;$PWD&quot;/.docker/mvn/cache:/root/.m2 \\\n     maven:3-jdk-8-slim \\\n     java &quot;$@&quot;\n\nexit $?\n</code></pre>\n<p>I'm using a Maven image because I also needed Maven, which also includes Java. Of course a OpenJDK image could also have been used.</p>\n</li>\n<li><p>Added/updated my IDE's user <code>settings.json</code> with the following:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n     {\n         &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n         &quot;path&quot;: &quot;/usr/local/bin/java&quot;,\n         &quot;default&quot;: true\n     }\n],\n</code></pre>\n</li>\n</ol>\n<h1>Where I am stuck at</h1>\n<p>So the last step I've in front of me, is to specify the path for <code>java.home</code>. But how will I do that if it's located in a docker container? Well the most obvious solution would be to mount the path in the docker container to my host. Unfortunately that won't work because the path I need is stored in the docker image, thus when I mount my host to the path then it will result in a empty directory.</p>\n<p>To summarize this <strong>won't work</strong> (note: java home in my docker image is at <code>/usr/local/openjdk-8</code>):</p>\n<ol>\n<li>Add the following argument to the <code>java</code> binary, to set up a volume mount:\n<pre><code>-v &quot;$PWD&quot;/.docker/java/jdk:/usr/local/openjdk-8 \\\n</code></pre>\n</li>\n<li>Add the <code>java.home</code> attribute to the <code>settings.json</code> config:\n<pre><code>&quot;java.home&quot;: &quot;${cwd}/.docker/java/jdk&quot;,\n</code></pre>\n</li>\n</ol>\n<p>This will result in something like: &quot;The <code>java.home</code> configuration doesn't point to a valid JDK&quot;.</p>\n<p>Does anyone know: What are my options here? Can I point to directory in a interactive automatically removed docker container?</p>\n<p><em>PS: I don't want to install a JDK on my OS directly.</em></p>\n<p><strong>UPDATE #1: I managed to mount a volume from the docker container to my host</strong></p>\n<ol>\n<li>Create a new docker volume:\n<pre><code>docker volume create openjdk\n</code></pre>\n</li>\n<li>Add the volume mount arg to the the <code>java</code> binary:\n<pre><code>-v openjdk:/usr/local/openjdk-8 \\\n</code></pre>\n</li>\n<li>Run the binary:\n<pre><code>java -version\n</code></pre>\n</li>\n<li>Add the <code>JDK_HOME</code> or <code>JAVA_HOME</code> variable to your bash env:\n<pre><code>JAVA_HOME=&quot;$(docker inspect -f '{{ index .Mountpoint }}' openjdk)&quot;\n</code></pre>\n</li>\n<li>Reload the IDE and get errors...\n<blockquote>\n<p>Java 11 or more recent is required to run the Java extension. Please download and install a recent JDK. You can still compile your projects with older JDKs by configuring <a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#java.configuration.runtimes\" rel=\"nofollow noreferrer\">'java.configuration.runtimes'</a></p>\n</blockquote>\n</li>\n</ol>\n<p>I even tried to set the <code>java.home</code> attribute to the mountpoint of the volume directly, which resulted in permission denied error, thus I <code>chmod +rx -R</code> my whole &quot;var lib docker&quot; directory (the place where the volumes are stored). Eventually the same error occurred as described in the steps above.</p>\n"},{"tags":["java","nullable","java-21"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":7,"creation_date":1688658424,"post_id":76630457,"comment_id":135106533,"body_markdown":"The `@Nullable` annotation doesn&#39;t do anything by itself. It&#39;s up to whatever product uses it to specify how it uses it. For example, IntelliJ IDEA will treat a field or argument as nullable if it has any kind of `@Nullable` annotation, irrespective of what package it comes from. Other software may be more choosy about which one you need to use. Also, note that the JDK doesn&#39;t know anything about this annotation. There is no JDK version that contains `javax.annotation.Nullable` - it&#39;s up to whoever is interested to actually define it.","body":"The <code>@Nullable</code> annotation doesn&#39;t do anything by itself. It&#39;s up to whatever product uses it to specify how it uses it. For example, IntelliJ IDEA will treat a field or argument as nullable if it has any kind of <code>@Nullable</code> annotation, irrespective of what package it comes from. Other software may be more choosy about which one you need to use. Also, note that the JDK doesn&#39;t know anything about this annotation. There is no JDK version that contains <code>javax.annotation.Nullable</code> - it&#39;s up to whoever is interested to actually define it."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1688658713,"post_id":76630457,"comment_id":135106607,"body_markdown":"Please don&#39;t fear to give votable/bountiable answer.","body":"Please don&#39;t fear to give votable/bountiable answer."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":1,"creation_date":1688659279,"post_id":76630457,"comment_id":135106730,"body_markdown":"Does [this](https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use) answer your question?","body":"Does <a href=\"https://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use\">this</a> answer your question?"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":1,"creation_date":1688659350,"post_id":76630457,"comment_id":135106752,"body_markdown":"Also, this is basically a duplicate of [this old question](https://stackoverflow.com/q/4963300/341772), with the caveat that javax annotations are getting phased out in favor of similar [jakarta annotations](https://jakarta.ee/specifications/annotations/).","body":"Also, this is basically a duplicate of <a href=\"https://stackoverflow.com/q/4963300/341772\">this old question</a>, with the caveat that javax annotations are getting phased out in favor of similar <a href=\"https://jakarta.ee/specifications/annotations/\" rel=\"nofollow noreferrer\">jakarta annotations</a>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688659500,"post_id":76630457,"comment_id":135106788,"body_markdown":"Eek! We had 14 different types of `@Nullable` annotations, now Jakarta comes along and we have 15.","body":"Eek! We had 14 different types of <code>@Nullable</code> annotations, now Jakarta comes along and we have 15."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":6,"creation_date":1688659691,"post_id":76630457,"comment_id":135106832,"body_markdown":"Also, it&#39;s interesting how the StackOverflow community has changed its attitude over the years. The &quot;duplicate&quot; question has 1294 upvotes and not a single downvote and has stayed open after 12 years, yet this new question was downvoted immediately after posting and closed within the hour. Sometimes it&#39;s better to ask a new question as old questions can have grossly outdated answers that can&#39;t really be updated easily.","body":"Also, it&#39;s interesting how the StackOverflow community has changed its attitude over the years. The &quot;duplicate&quot; question has 1294 upvotes and not a single downvote and has stayed open after 12 years, yet this new question was downvoted immediately after posting and closed within the hour. Sometimes it&#39;s better to ask a new question as old questions can have grossly outdated answers that can&#39;t really be updated easily."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688660038,"post_id":76630457,"comment_id":135106899,"body_markdown":"Those Jakarta annotations are for web development (Java Enterprise Edition).  I&#39;d be surprised if they were in fact being favored over the `javax` ones.","body":"Those Jakarta annotations are for web development (Java Enterprise Edition).  I&#39;d be surprised if they were in fact being favored over the <code>javax</code> ones."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":2,"creation_date":1688663697,"post_id":76630457,"comment_id":135107548,"body_markdown":"@k314159 please vote for reopen. This question from the begging asks for modern 2023 solution with links to documentation. @ ParSal @ Max Yes, indeed, old question should be referenced.","body":"@k314159 please vote for reopen. This question from the begging asks for modern 2023 solution with links to documentation. @ ParSal @ Max Yes, indeed, old question should be referenced."},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1688735537,"post_id":76630457,"comment_id":135117604,"body_markdown":"How is this not a library recommendation request?","body":"How is this not a library recommendation request?"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1692983949,"post_id":76630457,"comment_id":135704495,"body_markdown":"@markspace anything `javax` has license problems AFAIK, so to my understanding, `jakarta` is aiming to replace it in all possible contexts, not just web apps.","body":"@markspace anything <code>javax</code> has license problems AFAIK, so to my understanding, <code>jakarta</code> is aiming to replace it in all possible contexts, not just web apps."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1692984350,"post_id":76630457,"comment_id":135704582,"body_markdown":"&quot;`javax`&quot; is the package Oracle uses for many Java API classes.  It&#39;s under the same license as the rest of Java.  I don&#39;t know what you&#39;re thinking of, but there&#39;s no license problems with it. https://docs.oracle.com/javase/8/docs/api/javax/annotation/package-summary.html","body":"&quot;<code>javax</code>&quot; is the package Oracle uses for many Java API classes.  It&#39;s under the same license as the rest of Java.  I don&#39;t know what you&#39;re thinking of, but there&#39;s no license problems with it. <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/annotation/&hellip;</a>"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1693003408,"post_id":76630457,"comment_id":135707339,"body_markdown":"@markspace from https://en.wikipedia.org/wiki/Jakarta_EE#History : &quot;_The Eclipse Foundation could not agree with Oracle over the use of javax and Java trademarks._&quot; I honestly wasn&#39;t interested in legal details myself, but I strongly believe that all the package renaming was not &quot;just for fun&quot;, but because of important legal reasons.","body":"@markspace from <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE#History\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Jakarta_EE#History</a> : &quot;<i>The Eclipse Foundation could not agree with Oracle over the use of javax and Java trademarks.</i>&quot; I honestly wasn&#39;t interested in legal details myself, but I strongly believe that all the package renaming was not &quot;just for fun&quot;, but because of important legal reasons."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1693003754,"post_id":76630457,"comment_id":135707375,"body_markdown":"@markspace maybe my first comment was ambiguous: I did **not** mean that merely **using** official `javax` classes from Oracle is in violation of any license, I meant that any 3rd parties (such as Eclipse Jakarta project) cannot add/modify anything there and thus `javax.annotation.Nullable` (and many others) are in violation (as also stated in the answer below by @mernst)","body":"@markspace maybe my first comment was ambiguous: I did <b>not</b> mean that merely <b>using</b> official <code>javax</code> classes from Oracle is in violation of any license, I meant that any 3rd parties (such as Eclipse Jakarta project) cannot add/modify anything there and thus <code>javax.annotation.Nullable</code> (and many others) are in violation (as also stated in the answer below by @mernst)"}],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689701473,"creation_date":1688734452,"answer_id":76637175,"question_id":76630457,"body_markdown":"In 2023, the best choice for the [`@Nullable`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html) and [`@NonNull`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/NonNull.html) annotation remains that of the [Checker Framework](https://checkerframework.org/manual/).\r\nIt is the de facto standard (`import org.checkerframework.checker.nullness.qual...` appears in [75k files on GitHub](https://github.com/search?q=org.checkerframework.checker.nullness.qual&amp;type=code)), is recognized by the widest variety of tools, is a superset of most other nullness annotations, and has a clear, standard semantics.\r\n\r\nThe annotation is useful for a variety of purposes.\r\n\r\n * You can write it as concise, precise documentation.\r\n\r\n * You can use a tool to verify or to heuristically check that documentation.  Examples include:\r\n\r\n    * The Checker Framework&#39;s [Nullness Checker](https://checkerframework.org/manual/#nullness-checker) is the most comprehensive and can be [configured](https://checkerframework.org/manual/#nullness-lint) to be sound or lenient.  The Checker Framework also supports many [other type systems](https://checkerframework.org/manual/#introduction).\r\n\r\n    * [NullAway](https://github.com/uber/NullAway) is a simpler tool that supports only nullness checking and that runs faster than the Nullness Checker.\r\n\r\n    * Many others.\r\n\r\n * Some automated test frameworks respect the annotation when generating tests.\r\n\r\nYour question mentions `javax.annotation.Nullable`.  That annotation is not approved by Oracle and was never authorized to use the `javax` namespace (it did so in violation of the Oracle Java binary license).  The tool that introduced it, FindBugs, has been abandoned.\r\n\r\nThere is no official answer to your question that is blessed by Oracle.  JSR 305, whose goal was to define such an annotation, was abandoned and (according to my conversation with Mark Reinhold, who is the Chief Architect of the Java Platform Group at Oracle), Oracle is not interested in reviving it.  Every `@Nullable` annotation is provided by a third-party library and is ignored by `javac`.  The annotation is read only by third-party tools, such as annotation processors.\r\n\r\n\r\n","title":"What @Nullable to use in Java (as of 2023/JDK21)?","body":"<p>In 2023, the best choice for the <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/Nullable.html\" rel=\"nofollow noreferrer\"><code>@Nullable</code></a> and <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/NonNull.html\" rel=\"nofollow noreferrer\"><code>@NonNull</code></a> annotation remains that of the <a href=\"https://checkerframework.org/manual/\" rel=\"nofollow noreferrer\">Checker Framework</a>.\nIt is the de facto standard (<code>import org.checkerframework.checker.nullness.qual...</code> appears in <a href=\"https://github.com/search?q=org.checkerframework.checker.nullness.qual&amp;type=code\" rel=\"nofollow noreferrer\">75k files on GitHub</a>), is recognized by the widest variety of tools, is a superset of most other nullness annotations, and has a clear, standard semantics.</p>\n<p>The annotation is useful for a variety of purposes.</p>\n<ul>\n<li><p>You can write it as concise, precise documentation.</p>\n</li>\n<li><p>You can use a tool to verify or to heuristically check that documentation.  Examples include:</p>\n<ul>\n<li><p>The Checker Framework's <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"nofollow noreferrer\">Nullness Checker</a> is the most comprehensive and can be <a href=\"https://checkerframework.org/manual/#nullness-lint\" rel=\"nofollow noreferrer\">configured</a> to be sound or lenient.  The Checker Framework also supports many <a href=\"https://checkerframework.org/manual/#introduction\" rel=\"nofollow noreferrer\">other type systems</a>.</p>\n</li>\n<li><p><a href=\"https://github.com/uber/NullAway\" rel=\"nofollow noreferrer\">NullAway</a> is a simpler tool that supports only nullness checking and that runs faster than the Nullness Checker.</p>\n</li>\n<li><p>Many others.</p>\n</li>\n</ul>\n</li>\n<li><p>Some automated test frameworks respect the annotation when generating tests.</p>\n</li>\n</ul>\n<p>Your question mentions <code>javax.annotation.Nullable</code>.  That annotation is not approved by Oracle and was never authorized to use the <code>javax</code> namespace (it did so in violation of the Oracle Java binary license).  The tool that introduced it, FindBugs, has been abandoned.</p>\n<p>There is no official answer to your question that is blessed by Oracle.  JSR 305, whose goal was to define such an annotation, was abandoned and (according to my conversation with Mark Reinhold, who is the Chief Architect of the Java Platform Group at Oracle), Oracle is not interested in reviving it.  Every <code>@Nullable</code> annotation is provided by a third-party library and is ignored by <code>javac</code>.  The annotation is read only by third-party tools, such as annotation processors.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1698861550,"creation_date":1692983516,"answer_id":76979277,"question_id":76630457,"body_markdown":"It seems to me, that `jakarta.annotation.Nullable` from [jakarta.annotation-api](https://central.sonatype.com/artifact/jakarta.annotation/jakarta.annotation-api/) is the closet to being &quot;the standard&quot;. The old [javax.annotation repo](https://github.com/javaee/javax.annotation) links to [its sources](https://github.com/jakartaee/common-annotations-api) and as pointed in [the comment](https://stackoverflow.com/questions/76630457/what-nullable-to-use-in-java-as-of-2023-jdk21#comment135187686_76637175), the ever popular checker framework will deal with it.\r\n\r\nIn terms of adoption, it appears in [~30k files on github](https://github.com/search?q=jakarta.annotation.N&amp;type=code) as of 09/2023 but I guess this number will grow quickly as more Servlet projects migrate to newer versions of the spec (`javax.annotation.N` currently matches [&gt;1M files](https://github.com/search?q=javax.annotation.N&amp;type=code), hard to guess however how many of them are Servlet related and how many of those will be migrated).","title":"What @Nullable to use in Java (as of 2023/JDK21)?","body":"<p>It seems to me, that <code>jakarta.annotation.Nullable</code> from <a href=\"https://central.sonatype.com/artifact/jakarta.annotation/jakarta.annotation-api/\" rel=\"nofollow noreferrer\">jakarta.annotation-api</a> is the closet to being &quot;the standard&quot;. The old <a href=\"https://github.com/javaee/javax.annotation\" rel=\"nofollow noreferrer\">javax.annotation repo</a> links to <a href=\"https://github.com/jakartaee/common-annotations-api\" rel=\"nofollow noreferrer\">its sources</a> and as pointed in <a href=\"https://stackoverflow.com/questions/76630457/what-nullable-to-use-in-java-as-of-2023-jdk21#comment135187686_76637175\">the comment</a>, the ever popular checker framework will deal with it.</p>\n<p>In terms of adoption, it appears in <a href=\"https://github.com/search?q=jakarta.annotation.N&amp;type=code\" rel=\"nofollow noreferrer\">~30k files on github</a> as of 09/2023 but I guess this number will grow quickly as more Servlet projects migrate to newer versions of the spec (<code>javax.annotation.N</code> currently matches <a href=\"https://github.com/search?q=javax.annotation.N&amp;type=code\" rel=\"nofollow noreferrer\">&gt;1M files</a>, hard to guess however how many of them are Servlet related and how many of those will be migrated).</p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1395,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":2,"score":6,"last_activity_date":1698861550,"creation_date":1688657622,"question_id":76630457,"body_markdown":"As of 2023/JDK21, what `@Nullable` to use in Java?\r\n\r\nMany online materials, don&#39;t even mention what import should be.  \r\nSo it is now (dark) history in what order those annotation appeared.\r\n\r\n[![currentUserGroups][1]][1]\r\n\r\nI hope for general answer and from a reputable source (please quote documentation). For JDK21 some article could do as well.\r\n\r\nFor example `javax.annotation.Nullable` may be preferred. But at what version was it introduced? (We use JDK17, maybe next year some projects update to JDK21)\r\n\r\n  [1]: https://i.stack.imgur.com/EJkJ4.png","title":"What @Nullable to use in Java (as of 2023/JDK21)?","body":"<p>As of 2023/JDK21, what <code>@Nullable</code> to use in Java?</p>\n<p>Many online materials, don't even mention what import should be.<br />\nSo it is now (dark) history in what order those annotation appeared.</p>\n<p><a href=\"https://i.stack.imgur.com/EJkJ4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EJkJ4.png\" alt=\"currentUserGroups\" /></a></p>\n<p>I hope for general answer and from a reputable source (please quote documentation). For JDK21 some article could do as well.</p>\n<p>For example <code>javax.annotation.Nullable</code> may be preferred. But at what version was it introduced? (We use JDK17, maybe next year some projects update to JDK21)</p>\n"},{"tags":["java","ssl","x509certificate","x509"],"comments":[{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1513933338,"post_id":2914521,"comment_id":82846239,"body_markdown":"Possible duplicate of [Parsing the CN out of a certificate DN](https://stackoverflow.com/questions/7933468/parsing-the-cn-out-of-a-certificate-dn)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/7933468/parsing-the-cn-out-of-a-certificate-dn\">Parsing the CN out of a certificate DN</a>"},{"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"score":2,"creation_date":1513946611,"post_id":2914521,"comment_id":82852846,"body_markdown":"@AhmadAbdelghany You realized, that my question is about 1.5 years older than the one linked? So if anything, the other is a duplicate of mine :-)","body":"@AhmadAbdelghany You realized, that my question is about 1.5 years older than the one linked? So if anything, the other is a duplicate of mine :-)"},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1513952759,"post_id":2914521,"comment_id":82855639,"body_markdown":"Fair point. I will flag the other one.","body":"Fair point. I will flag the other one."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1483715334,"creation_date":1274889758,"answer_id":2914679,"question_id":2914521,"body_markdown":"You could try using [getName(X500Principal.RFC2253, oidMap)][1] or `getName(X500Principal.CANONICAL, oidMap)` to see which one formats the DN string best.  Maybe one of the `oidMap` map values will be the string you want.\n\n  [1]: http://java.sun.com/javase/6/docs/api/javax/security/auth/x500/X500Principal.html#getName(java.lang.String,%20java.util.Map)","title":"How to extract CN from X509Certificate in Java?","body":"<p>You could try using <a href=\"http://java.sun.com/javase/6/docs/api/javax/security/auth/x500/X500Principal.html#getName(java.lang.String,%20java.util.Map)\" rel=\"nofollow noreferrer\">getName(X500Principal.RFC2253, oidMap)</a> or <code>getName(X500Principal.CANONICAL, oidMap)</code> to see which one formats the DN string best.  Maybe one of the <code>oidMap</code> map values will be the string you want.</p>\n"},{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1327931469,"creation_date":1274906760,"answer_id":2916662,"question_id":2914521,"body_markdown":"If adding dependencies isn&#39;t a problem you can do this with [Bouncy Castle&#39;s][1] API for working with X.509 certificates:\r\n\r\n    import org.bouncycastle.asn1.x509.X509Name;\r\n    import org.bouncycastle.jce.PrincipalUtil;\r\n    import org.bouncycastle.jce.X509Principal;\r\n\r\n    ...\r\n\r\n    final X509Principal principal = PrincipalUtil.getSubjectX509Principal(cert);\r\n    final Vector&lt;?&gt; values = principal.getValues(X509Name.CN);\r\n    final String cn = (String) values.get(0);\r\n\r\n**Update**\r\n\r\nAt the time of this posting, this was the way to do this. As gtrak mentions in the comments however, this approach is now deprecated. See gtrak&#39;s [updated code][2] that uses the new Bouncy Castle API.\r\n\r\n\r\n  [1]: http://www.bouncycastle.org/java.html &quot;The Legion of the Bouncy Castle&quot;\r\n  [2]: https://stackoverflow.com/questions/2914521/how-to-extract-cn-from-x509certificate-in-java#5527171","title":"How to extract CN from X509Certificate in Java?","body":"<p>If adding dependencies isn't a problem you can do this with <a href=\"http://www.bouncycastle.org/java.html\" rel=\"nofollow noreferrer\" title=\"The Legion of the Bouncy Castle\">Bouncy Castle's</a> API for working with X.509 certificates:</p>\n\n<pre><code>import org.bouncycastle.asn1.x509.X509Name;\nimport org.bouncycastle.jce.PrincipalUtil;\nimport org.bouncycastle.jce.X509Principal;\n\n...\n\nfinal X509Principal principal = PrincipalUtil.getSubjectX509Principal(cert);\nfinal Vector&lt;?&gt; values = principal.getValues(X509Name.CN);\nfinal String cn = (String) values.get(0);\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>At the time of this posting, this was the way to do this. As gtrak mentions in the comments however, this approach is now deprecated. See gtrak's <a href=\"https://stackoverflow.com/questions/2914521/how-to-extract-cn-from-x509certificate-in-java#5527171\">updated code</a> that uses the new Bouncy Castle API.</p>\n"},{"tags":[],"owner":{"account_id":88257,"reputation":5626,"user_id":2559313,"accept_rate":86,"display_name":"gtrak"},"down_vote_count":1,"up_vote_count":109,"is_accepted":true,"score":108,"last_activity_date":1351968478,"creation_date":1301797386,"answer_id":5527171,"question_id":2914521,"body_markdown":"Here&#39;s some code for the new non-deprecated BouncyCastle API.  You&#39;ll need both bcmail and bcprov distributions.\r\n\r\n\tX509Certificate cert = ...;\r\n\t\t\r\n\tX500Name x500name = new JcaX509CertificateHolder(cert).getSubject();\r\n\tRDN cn = x500name.getRDNs(BCStyle.CN)[0];\r\n\t\r\n\treturn IETFUtils.valueToString(cn.getFirst().getValue());\r\n\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>Here's some code for the new non-deprecated BouncyCastle API.  You'll need both bcmail and bcprov distributions.</p>\n\n<pre><code>X509Certificate cert = ...;\n\nX500Name x500name = new JcaX509CertificateHolder(cert).getSubject();\nRDN cn = x500name.getRDNs(BCStyle.CN)[0];\n\nreturn IETFUtils.valueToString(cn.getFirst().getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52114,"reputation":2354,"user_id":155708,"display_name":"Jakub"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1317643621,"creation_date":1317643621,"answer_id":7634755,"question_id":2914521,"body_markdown":"here is another way. the idea is that the DN you obtain is in rfc2253 format, which is the same as used for LDAP DN. So why not reuse the LDAP API?\r\n\r\n    import javax.naming.ldap.LdapName;\r\n    import javax.naming.ldap.Rdn;\r\n    \r\n    String dn = x509cert.getSubjectX500Principal().getName();\r\n    LdapName ldapDN = new LdapName(dn);\r\n    for(Rdn rdn: ldapDN.getRdns()) {\r\n        System.out.println(rdn.getType() + &quot; -&gt; &quot; + rdn.getValue());\r\n    }\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>here is another way. the idea is that the DN you obtain is in rfc2253 format, which is the same as used for LDAP DN. So why not reuse the LDAP API?</p>\n\n<pre><code>import javax.naming.ldap.LdapName;\nimport javax.naming.ldap.Rdn;\n\nString dn = x509cert.getSubjectX500Principal().getName();\nLdapName ldapDN = new LdapName(dn);\nfor(Rdn rdn: ldapDN.getRdns()) {\n    System.out.println(rdn.getType() + \" -&gt; \" + rdn.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191282,"reputation":1081,"user_id":431773,"display_name":"Ivin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1322641235,"creation_date":1322641235,"answer_id":8322929,"question_id":2914521,"body_markdown":"As an alternative to gtrak&#39;s code that does not need &#39;&#39;bcmail&#39;&#39;:\r\n\r\n        X509Certificate cert = ...;\r\n        X500Principal principal = cert.getSubjectX500Principal();\r\n\r\n    \tX500Name x500name = new X500Name( principal.getName() );\r\n    \tRDN cn = x500name.getRDNs(BCStyle.CN)[0]);\r\n\r\n    \treturn IETFUtils.valueToString(cn.getFirst().getValue());\r\n\r\n\r\n@Jakub: I have used your solution until my SW had to be run on Android. And Android does not implement javax.naming.ldap :-(","title":"How to extract CN from X509Certificate in Java?","body":"<p>As an alternative to gtrak's code that does not need ''bcmail'':</p>\n\n<pre><code>    X509Certificate cert = ...;\n    X500Principal principal = cert.getSubjectX500Principal();\n\n    X500Name x500name = new X500Name( principal.getName() );\n    RDN cn = x500name.getRDNs(BCStyle.CN)[0]);\n\n    return IETFUtils.valueToString(cn.getFirst().getValue());\n</code></pre>\n\n<p>@Jakub: I have used your solution until my SW had to be run on Android. And Android does not implement javax.naming.ldap :-(</p>\n"},{"tags":[],"owner":{"account_id":1061242,"reputation":31,"user_id":1062826,"display_name":"G L"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379450398,"creation_date":1379450398,"answer_id":18859479,"question_id":2914521,"body_markdown":"I have BouncyCastle 1.49, and the class it has now is org.bouncycastle.asn1.x509.Certificate. I looked into the code of `IETFUtils.valueToString()` - it is doing some fancy escaping with backslashes. For a domain name it would not do anything bad, but I feel we can do better. In the cases I&#39;ve look at `cn.getFirst().getValue()` returns different kinds of strings that all implement ASN1String interface, which is there to provide a getString() method. So, what seems to work for me is\r\n\r\n    Certificate c = ...;\r\n    RDN cn = c.getSubject().getRDNs(BCStyle.CN)[0];\r\n    return ((ASN1String)cn.getFirst().getValue()).getString();\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>I have BouncyCastle 1.49, and the class it has now is org.bouncycastle.asn1.x509.Certificate. I looked into the code of <code>IETFUtils.valueToString()</code> - it is doing some fancy escaping with backslashes. For a domain name it would not do anything bad, but I feel we can do better. In the cases I've look at <code>cn.getFirst().getValue()</code> returns different kinds of strings that all implement ASN1String interface, which is there to provide a getString() method. So, what seems to work for me is</p>\n\n<pre><code>Certificate c = ...;\nRDN cn = c.getSubject().getRDNs(BCStyle.CN)[0];\nreturn ((ASN1String)cn.getFirst().getValue()).getString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296842,"reputation":346,"user_id":3511671,"display_name":"AivarsDa"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1406205700,"creation_date":1406205700,"answer_id":24933981,"question_id":2914521,"body_markdown":"Regex expressions, are rather expensive to use. For such a simple task it will probably be an over kill. Instead you could use a simple String split:\r\n\r\n    String dn = ((X509Certificate) certificate).getIssuerDN().getName();\r\n    String CN = getValByAttributeTypeFromIssuerDN(dn,&quot;CN=&quot;);\r\n\r\n    private String getValByAttributeTypeFromIssuerDN(String dn, String attributeType)\r\n    {\r\n        String[] dnSplits = dn.split(&quot;,&quot;); \r\n        for (String dnSplit : dnSplits) \r\n        {\r\n            if (dnSplit.contains(attributeType)) \r\n            {\r\n                String[] cnSplits = dnSplit.trim().split(&quot;=&quot;);\r\n                if(cnSplits[1]!= null)\r\n                {\r\n                    return cnSplits[1].trim();\r\n                }\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How to extract CN from X509Certificate in Java?","body":"<p>Regex expressions, are rather expensive to use. For such a simple task it will probably be an over kill. Instead you could use a simple String split:</p>\n\n<pre><code>String dn = ((X509Certificate) certificate).getIssuerDN().getName();\nString CN = getValByAttributeTypeFromIssuerDN(dn,\"CN=\");\n\nprivate String getValByAttributeTypeFromIssuerDN(String dn, String attributeType)\n{\n    String[] dnSplits = dn.split(\",\"); \n    for (String dnSplit : dnSplits) \n    {\n        if (dnSplit.contains(attributeType)) \n        {\n            String[] cnSplits = dnSplit.trim().split(\"=\");\n            if(cnSplits[1]!= null)\n            {\n                return cnSplits[1].trim();\n            }\n        }\n    }\n    return \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415613393,"creation_date":1415613393,"answer_id":26841002,"question_id":2914521,"body_markdown":"Indeed, thanks to `gtrak` it appears that to get the client certificate and extract the CN, this most likely works.\r\n\r\n        X509Certificate[] certs = (X509Certificate[]) httpServletRequest\r\n            .getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\r\n        X509Certificate cert = certs[0];\r\n        X509CertificateHolder x509CertificateHolder = new X509CertificateHolder(cert.getEncoded());\r\n        X500Name x500Name = x509CertificateHolder.getSubject();\r\n        RDN[] rdns = x500Name.getRDNs(BCStyle.CN);\r\n        RDN rdn = rdns[0];\r\n        String name = IETFUtils.valueToString(rdn.getFirst().getValue());\r\n        return name;","title":"How to extract CN from X509Certificate in Java?","body":"<p>Indeed, thanks to <code>gtrak</code> it appears that to get the client certificate and extract the CN, this most likely works.</p>\n\n<pre><code>    X509Certificate[] certs = (X509Certificate[]) httpServletRequest\n        .getAttribute(\"javax.servlet.request.X509Certificate\");\n    X509Certificate cert = certs[0];\n    X509CertificateHolder x509CertificateHolder = new X509CertificateHolder(cert.getEncoded());\n    X500Name x500Name = x509CertificateHolder.getSubject();\n    RDN[] rdns = x500Name.getRDNs(BCStyle.CN);\n    RDN rdn = rdns[0];\n    String name = IETFUtils.valueToString(rdn.getFirst().getValue());\n    return name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467686,"reputation":3232,"user_id":873229,"accept_rate":50,"display_name":"Ghetolay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432805500,"creation_date":1432805500,"answer_id":30502590,"question_id":2914521,"body_markdown":"Could use cryptacular which is a Java cryptographic library build on top of bouncycastle for easy use.\r\n\r\n    RDNSequence dn = new NameReader(cert).readSubject();\r\n    return dn.getValue(StandardAttributeType.CommonName);\r\n\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>Could use cryptacular which is a Java cryptographic library build on top of bouncycastle for easy use.</p>\n\n<pre><code>RDNSequence dn = new NameReader(cert).readSubject();\nreturn dn.getValue(StandardAttributeType.CommonName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6779413,"reputation":81,"user_id":5220250,"display_name":"Erdem Memisyazici"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1451912099,"creation_date":1439397097,"answer_id":31970810,"question_id":2914521,"body_markdown":"One line with http://www.cryptacular.org\r\n\r\n    CertUtil.subjectCN(certificate);\r\n\r\nJavaDoc:\r\nhttp://www.cryptacular.org/javadocs/org/cryptacular/util/CertUtil.html#subjectCN(java.security.cert.X509Certificate)\r\n\r\nMaven dependency: \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.cryptacular&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;cryptacular&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to extract CN from X509Certificate in Java?","body":"<p>One line with <a href=\"http://www.cryptacular.org\" rel=\"noreferrer\">http://www.cryptacular.org</a></p>\n\n<pre><code>CertUtil.subjectCN(certificate);\n</code></pre>\n\n<p>JavaDoc:\n<a href=\"http://www.cryptacular.org/javadocs/org/cryptacular/util/CertUtil.html#subjectCN(java.security.cert.X509Certificate)\" rel=\"noreferrer\">http://www.cryptacular.org/javadocs/org/cryptacular/util/CertUtil.html#subjectCN(java.security.cert.X509Certificate)</a></p>\n\n<p>Maven dependency: </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.cryptacular&lt;/groupId&gt;\n    &lt;artifactId&gt;cryptacular&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444882968,"creation_date":1442212965,"answer_id":32558625,"question_id":2914521,"body_markdown":"UPDATE: This class is in &quot;sun&quot; package and you should use it with caution. Thanks Emil for the comment :)\r\n\r\nJust wanted to share, to get the CN, I do:\r\n\r\n    X500Name.asX500Name(cert.getSubjectX500Principal()).getCommonName();\r\n\r\nRegarding Emil Lundberg&#39;s comment see: [Why Developers Should Not Write Programs That Call &#39;sun&#39; Packages][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html","title":"How to extract CN from X509Certificate in Java?","body":"<p>UPDATE: This class is in \"sun\" package and you should use it with caution. Thanks Emil for the comment :)</p>\n\n<p>Just wanted to share, to get the CN, I do:</p>\n\n<pre><code>X500Name.asX500Name(cert.getSubjectX500Principal()).getCommonName();\n</code></pre>\n\n<p>Regarding Emil Lundberg's comment see: <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"nofollow\">Why Developers Should Not Write Programs That Call 'sun' Packages</a></p>\n"},{"tags":[],"owner":{"account_id":9904928,"reputation":9,"user_id":7333719,"display_name":"bro.xian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1482478582,"creation_date":1482478582,"answer_id":41297141,"question_id":2914521,"body_markdown":"X500Name is internal implemention of JDK, however you can use reflection.\r\n\r\n    public String getCN(String formatedDN) throws Exception{\r\n        Class&lt;?&gt; x500NameClzz = Class.forName(&quot;sun.security.x509.X500Name&quot;);\r\n        Constructor&lt;?&gt; constructor = x500NameClzz.getConstructor(String.class);\r\n        Object x500NameInst = constructor.newInstance(formatedDN);\r\n        Method method = x500NameClzz.getMethod(&quot;getCommonName&quot;, null);\r\n        return (String)method.invoke(x500NameInst, null);\r\n    }","title":"How to extract CN from X509Certificate in Java?","body":"<p>X500Name is internal implemention of JDK, however you can use reflection.</p>\n\n<pre><code>public String getCN(String formatedDN) throws Exception{\n    Class&lt;?&gt; x500NameClzz = Class.forName(\"sun.security.x509.X500Name\");\n    Constructor&lt;?&gt; constructor = x500NameClzz.getConstructor(String.class);\n    Object x500NameInst = constructor.newInstance(formatedDN);\n    Method method = x500NameClzz.getMethod(\"getCommonName\", null);\n    return (String)method.invoke(x500NameInst, null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10053689,"reputation":11,"user_id":7432647,"display_name":"vinayaka cn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484692135,"creation_date":1484688835,"answer_id":41707403,"question_id":2914521,"body_markdown":"Fetching CN from certificate is not that simple. The below code will definitely  help you.\r\n\r\n    String certificateURL = &quot;C://XYZ.cer&quot;;\t\t//just pass location\r\n    \r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    X509Certificate testCertificate = (X509Certificate)cf.generateCertificate(new FileInputStream(certificateURL));\r\n    String certificateName = X500Name.asX500Name((new X509CertImpl(testCertificate.getEncoded()).getSubjectX500Principal())).getCommonName();\r\n\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>Fetching CN from certificate is not that simple. The below code will definitely  help you.</p>\n\n<pre><code>String certificateURL = \"C://XYZ.cer\";      //just pass location\n\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nX509Certificate testCertificate = (X509Certificate)cf.generateCertificate(new FileInputStream(certificateURL));\nString certificateName = X500Name.asX500Name((new X509CertImpl(testCertificate.getEncoded()).getSubjectX500Principal())).getCommonName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1499985359,"creation_date":1499985359,"answer_id":45091939,"question_id":2914521,"body_markdown":"All the answers posted so far have some issue: Most use the internal `X500Name` or external Bounty Castle dependency. The following builds on @Jakub&#39;s answer and uses only public JDK API, but also extracts the CN as asked for by the OP. It also uses Java 8, which standing in mid-2017, you really should.\r\n\r\n    Stream.of(certificate)\r\n        .map(cert -&gt; cert.getSubjectX500Principal().getName())\r\n        .flatMap(name -&gt; {\r\n            try {\r\n                return new LdapName(name).getRdns().stream()\r\n                        .filter(rdn -&gt; rdn.getType().equalsIgnoreCase(&quot;cn&quot;))\r\n                        .map(rdn -&gt; rdn.getValue().toString());\r\n            } catch (InvalidNameException e) {\r\n                log.warn(&quot;Failed to get certificate CN.&quot;, e);\r\n                return Stream.empty();\r\n            }\r\n        })\r\n        .collect(joining(&quot;, &quot;))","title":"How to extract CN from X509Certificate in Java?","body":"<p>All the answers posted so far have some issue: Most use the internal <code>X500Name</code> or external Bounty Castle dependency. The following builds on @Jakub's answer and uses only public JDK API, but also extracts the CN as asked for by the OP. It also uses Java 8, which standing in mid-2017, you really should.</p>\n\n<pre><code>Stream.of(certificate)\n    .map(cert -&gt; cert.getSubjectX500Principal().getName())\n    .flatMap(name -&gt; {\n        try {\n            return new LdapName(name).getRdns().stream()\n                    .filter(rdn -&gt; rdn.getType().equalsIgnoreCase(\"cn\"))\n                    .map(rdn -&gt; rdn.getValue().toString());\n        } catch (InvalidNameException e) {\n            log.warn(\"Failed to get certificate CN.\", e);\n            return Stream.empty();\n        }\n    })\n    .collect(joining(\", \"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77753,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510230715,"creation_date":1510230715,"answer_id":47201937,"question_id":2914521,"body_markdown":"BC made the extraction much easier:\r\n\r\n    X500Principal principal = x509Certificate.getSubjectX500Principal();\r\n    X500Name x500name = new X500Name(principal.getName());\r\n    String cn = x500name.getCommonName();\r\n     ","title":"How to extract CN from X509Certificate in Java?","body":"<p>BC made the extraction much easier:</p>\n\n<pre><code>X500Principal principal = x509Certificate.getSubjectX500Principal();\nX500Name x500name = new X500Name(principal.getName());\nString cn = x500name.getCommonName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12949,"reputation":13929,"user_id":25758,"accept_rate":76,"display_name":"Cocowalla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522751211,"creation_date":1522751211,"answer_id":49627753,"question_id":2914521,"body_markdown":"Here&#39;s how to do it using a regex over `cert.getSubjectX500Principal().getName()`, in case you don&#39;t want to take a dependency on BouncyCastle.\r\n\r\nThis regex will parse a distinguished name, giving `name` and `val` a capture groups for each match.\r\n\r\nWhen DN strings contain commas, they are meant to be quoted - this regex correctly handles both quoted and unquotes strings, and also handles escaped quotes in quoted strings:\r\n\r\n`(?:^|,\\s?)(?:(?&lt;name&gt;[A-Z]+)=(?&lt;val&gt;&quot;(?:[^&quot;]|&quot;&quot;)+&quot;|[^,]+))+`\r\n\r\nHere is is nicely formatted:\r\n\r\n    (?:^|,\\s?)\r\n    (?:\r\n        (?&lt;name&gt;[A-Z]+)=\r\n        (?&lt;val&gt;&quot;(?:[^&quot;]|&quot;&quot;)+&quot;|[^,]+)\r\n    )+\r\n\r\nHere&#39;s a link so you can see it in action:\r\n[https://regex101.com/r/zfZX3f/2][1]\r\n\r\n  [1]: https://regex101.com/r/zfZX3f/2\r\n\r\nIf you want a regex to get *only* the CN, then this adapted version will do it:\r\n\r\n`(?:^|,\\s?)(?:CN=(?&lt;val&gt;&quot;(?:[^&quot;]|&quot;&quot;)+&quot;|[^,]+))`","title":"How to extract CN from X509Certificate in Java?","body":"<p>Here's how to do it using a regex over <code>cert.getSubjectX500Principal().getName()</code>, in case you don't want to take a dependency on BouncyCastle.</p>\n\n<p>This regex will parse a distinguished name, giving <code>name</code> and <code>val</code> a capture groups for each match.</p>\n\n<p>When DN strings contain commas, they are meant to be quoted - this regex correctly handles both quoted and unquotes strings, and also handles escaped quotes in quoted strings:</p>\n\n<p><code>(?:^|,\\s?)(?:(?&lt;name&gt;[A-Z]+)=(?&lt;val&gt;\"(?:[^\"]|\"\")+\"|[^,]+))+</code></p>\n\n<p>Here is is nicely formatted:</p>\n\n<pre><code>(?:^|,\\s?)\n(?:\n    (?&lt;name&gt;[A-Z]+)=\n    (?&lt;val&gt;\"(?:[^\"]|\"\")+\"|[^,]+)\n)+\n</code></pre>\n\n<p>Here's a link so you can see it in action:\n<a href=\"https://regex101.com/r/zfZX3f/2\" rel=\"noreferrer\">https://regex101.com/r/zfZX3f/2</a></p>\n\n<p>If you want a regex to get <em>only</em> the CN, then this adapted version will do it:</p>\n\n<p><code>(?:^|,\\s?)(?:CN=(?&lt;val&gt;\"(?:[^\"]|\"\")+\"|[^,]+))</code></p>\n"},{"tags":[],"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560222852,"creation_date":1560222852,"answer_id":56535982,"question_id":2914521,"body_markdown":"For multi-valued attributes - using LDAP API ...\r\n\r\n\r\n\t\t\tX509Certificate testCertificate = ....\r\n\r\n\t\t\tX500Principal principal = testCertificate.getSubjectX500Principal(); // return subject DN\r\n\t\t\tString dn = null;\r\n\t\t\tif (principal != null)\r\n\t\t\t{\r\n\t\t\t\tString value = principal.getName(); // return String representation of DN in RFC 2253\r\n\t\t\t\tif (value != null &amp;&amp; value.length() &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdn = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (dn != null)\r\n\t\t\t{\r\n\t\t\t\tLdapName ldapDN = new LdapName(dn);\r\n\t\t\t\tfor (Rdn rdn : ldapDN.getRdns())\r\n\t\t\t\t{\r\n\t\t\t\t\tAttributes attributes = rdn != null\r\n\t\t\t\t\t\t? rdn.toAttributes()\r\n\t\t\t\t\t\t: null;\r\n\r\n\t\t\t\t\tAttribute attribute = attributes != null\r\n\t\t\t\t\t\t? attributes.get(&quot;CN&quot;)\r\n\t\t\t\t\t\t: null;\r\n\t\t\t\t\tif (attribute != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNamingEnumeration&lt;?&gt; values = attribute.getAll();\r\n\t\t\t\t\t\twhile (values != null &amp;&amp; values.hasMoreElements())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tObject o = values.next();\r\n\t\t\t\t\t\t\tif (o != null &amp;&amp; o instanceof String)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tString cnValue = (String) o;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n","title":"How to extract CN from X509Certificate in Java?","body":"<p>For multi-valued attributes - using LDAP API ...</p>\n\n<pre><code>        X509Certificate testCertificate = ....\n\n        X500Principal principal = testCertificate.getSubjectX500Principal(); // return subject DN\n        String dn = null;\n        if (principal != null)\n        {\n            String value = principal.getName(); // return String representation of DN in RFC 2253\n            if (value != null &amp;&amp; value.length() &gt; 0)\n            {\n                dn = value;\n            }\n        }\n\n        if (dn != null)\n        {\n            LdapName ldapDN = new LdapName(dn);\n            for (Rdn rdn : ldapDN.getRdns())\n            {\n                Attributes attributes = rdn != null\n                    ? rdn.toAttributes()\n                    : null;\n\n                Attribute attribute = attributes != null\n                    ? attributes.get(\"CN\")\n                    : null;\n                if (attribute != null)\n                {\n                    NamingEnumeration&lt;?&gt; values = attribute.getAll();\n                    while (values != null &amp;&amp; values.hasMoreElements())\n                    {\n                        Object o = values.next();\n                        if (o != null &amp;&amp; o instanceof String)\n                        {\n                            String cnValue = (String) o;\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4414786,"reputation":431,"user_id":3596721,"display_name":"barth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590690600,"creation_date":1590690600,"answer_id":62071985,"question_id":2914521,"body_markdown":"One more way to do with plain Java :\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static String getCommonName(X509Certificate certificate) {\r\n        String name = certificate.getSubjectX500Principal().getName();\r\n        int start = name.indexOf(&quot;CN=&quot;);\r\n        int end = name.indexOf(&quot;,&quot;, start);\r\n        if (end == -1) {\r\n            end = name.length();\r\n        }\r\n        return name.substring(start + 3, end);\r\n    }","title":"How to extract CN from X509Certificate in Java?","body":"<p>One more way to do with plain Java :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String getCommonName(X509Certificate certificate) {\n    String name = certificate.getSubjectX500Principal().getName();\n    int start = name.indexOf(\"CN=\");\n    int end = name.indexOf(\",\", start);\n    if (end == -1) {\n        end = name.length();\n    }\n    return name.substring(start + 3, end);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995834,"reputation":61,"user_id":1788834,"display_name":"MastaP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606301607,"creation_date":1606301607,"answer_id":65003189,"question_id":2914521,"body_markdown":"With Spring Security it is possible to use `SubjectDnX509PrincipalExtractor`:\r\n\r\n    X509Certificate certificate = ...;\r\n    new SubjectDnX509PrincipalExtractor().extractPrincipal(certificate).toString();","title":"How to extract CN from X509Certificate in Java?","body":"<p>With Spring Security it is possible to use <code>SubjectDnX509PrincipalExtractor</code>:</p>\n<pre><code>X509Certificate certificate = ...;\nnew SubjectDnX509PrincipalExtractor().extractPrincipal(certificate).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9616498,"reputation":51,"user_id":7139100,"display_name":"Gopi Neelam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1634902836,"creation_date":1634902836,"answer_id":69676269,"question_id":2914521,"body_markdown":"Get the common name of the certificate Without using any library. with using regular expression\r\n\r\nTo get the name\r\n\r\n    String name = x509Certificate.getSubjectDN().getName();\r\n\r\nto get the extract the common name from the full name\r\n\r\n        String name = &quot;CN=Go Daddy Root Certificate Authority - G2, O=\\&quot;GoDaddy.com, Inc.\\&quot;, L=Scottsdale, ST=Arizona, C=US&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;CN=(.*?)(?:,|\\$)&quot;);\r\n        Matcher matcher = pattern.matcher(name);\r\n        if (matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n        }\r\n\r\nHope this helps anyone.(-_-)","title":"How to extract CN from X509Certificate in Java?","body":"<p>Get the common name of the certificate Without using any library. with using regular expression</p>\n<p>To get the name</p>\n<pre><code>String name = x509Certificate.getSubjectDN().getName();\n</code></pre>\n<p>to get the extract the common name from the full name</p>\n<pre><code>    String name = &quot;CN=Go Daddy Root Certificate Authority - G2, O=\\&quot;GoDaddy.com, Inc.\\&quot;, L=Scottsdale, ST=Arizona, C=US&quot;;\n    Pattern pattern = Pattern.compile(&quot;CN=(.*?)(?:,|\\$)&quot;);\n    Matcher matcher = pattern.matcher(name);\n    if (matcher.find()) {\n        System.out.println(matcher.group(1));\n    }\n</code></pre>\n<p>Hope this helps anyone.(-_-)</p>\n"},{"tags":[],"owner":{"account_id":1576880,"reputation":628,"user_id":1463086,"display_name":"suside"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690199019,"creation_date":1689937457,"answer_id":76737394,"question_id":2914521,"body_markdown":"If you want to use API 100% dedicated to do this (especially if you have more &quot;advanced&quot; cert) you could use [eu.europa.esig.dss][1] like so:\r\n```\r\nval x509Certificate = X509CertUtils.parse(certPem)\r\nval certToken = CertificateToken(x509Certificate)\r\n\r\nval commonName = DSSASN1Utils.extractAttributeFromX500Principal(\r\n    ASN1ObjectIdentifier(X520Attributes.COMMONNAME.oid),\r\n    X500PrincipalHelper(\r\n        x509Certificate.subjectX500Principal\r\n    )\r\n)\r\n```\r\n\r\nThe advantage here is that [X520Attributes][2] class &quot;knows&quot; not only `commonName` but pretty much every possible attribute allowed by spec like `organizationIdentifier`, `encryptedBusinessCategory` and so on (currently 239).\r\n\r\nesig.dss lib can also extract cert extensions and many other things. For example PSD2 roles:\r\n```\r\nCertificateExtensionsUtils.getQcStatements(certToken).psd2QcType.rolesOfPSP\r\n```\r\n\r\n  [1]: https://github.com/esig/dss\r\n  [2]: https://github.com/esig/dss/blob/master/dss-enumerations/src/main/java/eu/europa/esig/dss/enumerations/X520Attributes.java","title":"How to extract CN from X509Certificate in Java?","body":"<p>If you want to use API 100% dedicated to do this (especially if you have more &quot;advanced&quot; cert) you could use <a href=\"https://github.com/esig/dss\" rel=\"nofollow noreferrer\">eu.europa.esig.dss</a> like so:</p>\n<pre><code>val x509Certificate = X509CertUtils.parse(certPem)\nval certToken = CertificateToken(x509Certificate)\n\nval commonName = DSSASN1Utils.extractAttributeFromX500Principal(\n    ASN1ObjectIdentifier(X520Attributes.COMMONNAME.oid),\n    X500PrincipalHelper(\n        x509Certificate.subjectX500Principal\n    )\n)\n</code></pre>\n<p>The advantage here is that <a href=\"https://github.com/esig/dss/blob/master/dss-enumerations/src/main/java/eu/europa/esig/dss/enumerations/X520Attributes.java\" rel=\"nofollow noreferrer\">X520Attributes</a> class &quot;knows&quot; not only <code>commonName</code> but pretty much every possible attribute allowed by spec like <code>organizationIdentifier</code>, <code>encryptedBusinessCategory</code> and so on (currently 239).</p>\n<p>esig.dss lib can also extract cert extensions and many other things. For example PSD2 roles:</p>\n<pre><code>CertificateExtensionsUtils.getQcStatements(certToken).psd2QcType.rolesOfPSP\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698861397,"creation_date":1698861397,"answer_id":77404664,"question_id":2914521,"body_markdown":"In java 17 you have a method giving out the names: `getSubjectAlternativeNames` and `getSubjectX500Principal` for the principal name.\r\n\r\nThe javadoc says it&#39;s there since Java 1.4, but I could not find it in the java 8 documentation, so I don&#39;t know when it was added.\r\n\r\nTo get the principal name:\r\n```\r\nSystem.out.println(cer.getSubjectX500Principal().getName())\r\n```\r\n\r\nIf there are more than one domain name:\r\n\r\n```\r\nSystem.out.println(cer.getSubjectAlternativeNames().stream().filter(l-&gt;l.get(0).equals(2)).map(l -&gt; String.valueOf(l.get(1))).collect(Collectors.joining(&quot;,&quot;)))\r\n```\r\n\r\nReference: [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/X509Certificate.html#getSubjectAlternativeNames())","title":"How to extract CN from X509Certificate in Java?","body":"<p>In java 17 you have a method giving out the names: <code>getSubjectAlternativeNames</code> and <code>getSubjectX500Principal</code> for the principal name.</p>\n<p>The javadoc says it's there since Java 1.4, but I could not find it in the java 8 documentation, so I don't know when it was added.</p>\n<p>To get the principal name:</p>\n<pre><code>System.out.println(cer.getSubjectX500Principal().getName())\n</code></pre>\n<p>If there are more than one domain name:</p>\n<pre><code>System.out.println(cer.getSubjectAlternativeNames().stream().filter(l-&gt;l.get(0).equals(2)).map(l -&gt; String.valueOf(l.get(1))).collect(Collectors.joining(&quot;,&quot;)))\n</code></pre>\n<p>Reference: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/X509Certificate.html#getSubjectAlternativeNames()\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n"}],"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113923,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":5527171,"answer_count":22,"score":112,"last_activity_date":1698861397,"creation_date":1274888661,"question_id":2914521,"body_markdown":"I am using a `SslServerSocket` and client certificates and want to extract the CN from the SubjectDN from the client&#39;s `X509Certificate`.\r\n\r\nAt the moment I call `cert.getSubjectX500Principal().getName()` but this of course gives me the total formatted DN of the client. For some reason I am just interested in the `CN=theclient` part of the DN. Is there a way to extract this part of the DN without parsing the String myself?","title":"How to extract CN from X509Certificate in Java?","body":"<p>I am using a <code>SslServerSocket</code> and client certificates and want to extract the CN from the SubjectDN from the client's <code>X509Certificate</code>.</p>\n\n<p>At the moment I call <code>cert.getSubjectX500Principal().getName()</code> but this of course gives me the total formatted DN of the client. For some reason I am just interested in the <code>CN=theclient</code> part of the DN. Is there a way to extract this part of the DN without parsing the String myself?</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573694,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1698861249,"post_id":77404424,"comment_id":136459653,"body_markdown":"Retrieving data from Firebase (and most cloud APIs) is asynchronous. It takes time to load this data, and to prevent blocking the app for the user, the loading happens off the main thread - while your main code continues to run. So your `Log.w(&quot;TEST&quot;, twoDList.toString()); }` happens before any of the `twoDList.add(pointList.subList(index, endIndex));` ever happened. To solve this, any code that needs the data has to be inside the `onDataChange`, be called from there, or be otherwise synchronized. See the questions I linked for more info.","body":"Retrieving data from Firebase (and most cloud APIs) is asynchronous. It takes time to load this data, and to prevent blocking the app for the user, the loading happens off the main thread - while your main code continues to run. So your <code>Log.w(&quot;TEST&quot;, twoDList.toString()); }</code> happens before any of the <code>twoDList.add(pointList.subList(index, endIndex));</code> ever happened. To solve this, any code that needs the data has to be inside the <code>onDataChange</code>, be called from there, or be otherwise synchronized. See the questions I linked for more info."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698907933,"post_id":77404424,"comment_id":136464482,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":28766191,"reputation":1,"user_id":22031050,"display_name":"Osmium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698861148,"answer_count":0,"score":0,"last_activity_date":1698861131,"creation_date":1698859036,"question_id":77404424,"body_markdown":"I have several points that I get from Firebase. I&#39;m trying to add them to the list, but after adding the last log outputs an empty list\r\n\r\n```\r\nprotected void readDataFromDB() {\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference myRef = database.getReference(&quot;routes&quot;);\r\n\r\n    myRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        .....\r\n            List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = 0; i &lt; longitudeList.size(); i++) {\r\n                pointList.add(new Point(latitudeList.get(i), longitudeList.get(i)));\r\n            }\r\n\r\n            List&lt;Integer&gt; listLengths = new ArrayList&lt;&gt;();\r\n            for (DataSnapshot snapshots : dataSnapshot.getChildren()) {\r\n                int counter = 0;\r\n                for (DataSnapshot snapshot1 : snapshots.getChildren()) {\r\n                    counter += 1;\r\n                }\r\n                listLengths.add(counter);\r\n            }\r\n\r\n            List&lt;Integer&gt; chunkSizes = listLengths;\r\n            int index = 0;\r\n            for (int size : chunkSizes) {\r\n                int endIndex = Math.min(index + size, pointList.size());\r\n                twoDList.add(pointList.subList(index, endIndex));\r\n                index = endIndex;\r\n            }\r\n\r\n        }\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            // Failed to read value\r\n            Log.w(&quot;TEST&quot;, &quot;Failed to read value.&quot;, error.toException());\r\n        }\r\n\r\n    });\r\n    Log.w(&quot;TEST&quot;, twoDList.toString());\r\n}\r\n```\r\n\r\n\r\nWhat do I need to do so that the list is not empty?","title":"List is empty after getting data from firebase database","body":"<p>I have several points that I get from Firebase. I'm trying to add them to the list, but after adding the last log outputs an empty list</p>\n<pre><code>protected void readDataFromDB() {\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;routes&quot;);\n\n    myRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        .....\n            List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; longitudeList.size(); i++) {\n                pointList.add(new Point(latitudeList.get(i), longitudeList.get(i)));\n            }\n\n            List&lt;Integer&gt; listLengths = new ArrayList&lt;&gt;();\n            for (DataSnapshot snapshots : dataSnapshot.getChildren()) {\n                int counter = 0;\n                for (DataSnapshot snapshot1 : snapshots.getChildren()) {\n                    counter += 1;\n                }\n                listLengths.add(counter);\n            }\n\n            List&lt;Integer&gt; chunkSizes = listLengths;\n            int index = 0;\n            for (int size : chunkSizes) {\n                int endIndex = Math.min(index + size, pointList.size());\n                twoDList.add(pointList.subList(index, endIndex));\n                index = endIndex;\n            }\n\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            // Failed to read value\n            Log.w(&quot;TEST&quot;, &quot;Failed to read value.&quot;, error.toException());\n        }\n\n    });\n    Log.w(&quot;TEST&quot;, twoDList.toString());\n}\n</code></pre>\n<p>What do I need to do so that the list is not empty?</p>\n"},{"tags":["java","java-8","sonarqube"],"comments":[{"owner":{"account_id":4674889,"reputation":1042,"user_id":3785573,"display_name":"Baji Shaik"},"score":1,"creation_date":1522240408,"post_id":49532409,"comment_id":86075590,"body_markdown":"Thank you @ Aomin&#232;  for the solution. &lt;code&gt; if(itemList.stream().noneMatch(i-&gt;orderItemId.equals(i.getId()))){ \n\tthrow new BadRequestException(&quot;12345&quot;,&quot;Item Not Found&quot;); \n}","body":"Thank you @ Aomin&#232;  for the solution. &lt;code&gt; if(itemList.stream().noneMatch(i-&gt;orderItemId.equals(i.getId&zwnj;&#8203;()))){  \tthrow new BadRequestException(&quot;12345&quot;,&quot;Item Not Found&quot;);  }"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1522236669,"creation_date":1522234023,"answer_id":49532487,"question_id":49532409,"body_markdown":"I&#39;m assuming this is a warning (not using the value returned by `orElseThrow()` shouldn&#39;t be an error).\r\n\r\nIf you wish to eliminate that warning, use `isPresent()` instead:\r\n\r\n    if (!itemList.stream().filter(i-&gt;orderItemId.equals(i.getId())).findAny().isPresent()) {\r\n        throw new BadRequestException(&quot;12345&quot;,&quot;Item Not Found&quot;);\r\n    }\r\n\r\nor just avoid using `Optional`s, and use `anyMatch()` instead:\r\n\r\n    if (!itemList.stream().anyMatch(i-&gt;orderItemId.equals(i.getId()))) {\r\n        throw new BadRequestException(&quot;12345&quot;,&quot;Item Not Found&quot;);\r\n    }","title":"The return value of &quot;orElseThrow&quot; must be used","body":"<p>I'm assuming this is a warning (not using the value returned by <code>orElseThrow()</code> shouldn't be an error).</p>\n\n<p>If you wish to eliminate that warning, use <code>isPresent()</code> instead:</p>\n\n<pre><code>if (!itemList.stream().filter(i-&gt;orderItemId.equals(i.getId())).findAny().isPresent()) {\n    throw new BadRequestException(\"12345\",\"Item Not Found\");\n}\n</code></pre>\n\n<p>or just avoid using <code>Optional</code>s, and use <code>anyMatch()</code> instead:</p>\n\n<pre><code>if (!itemList.stream().anyMatch(i-&gt;orderItemId.equals(i.getId()))) {\n    throw new BadRequestException(\"12345\",\"Item Not Found\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28505460,"reputation":11,"user_id":21816172,"display_name":"Eduardo H. Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698860245,"creation_date":1698860245,"answer_id":77404550,"question_id":49532409,"body_markdown":"This is a limitation of the sonar, there is an open ticket to resolve this issue (https://community.sonarsource.com/t/fp-java-s2201-optional-orelsethrow-return-value-must-be-used/85204), the best thing to do until it is resolved is to just ignore this rule","title":"The return value of &quot;orElseThrow&quot; must be used","body":"<p>This is a limitation of the sonar, there is an open ticket to resolve this issue (<a href=\"https://community.sonarsource.com/t/fp-java-s2201-optional-orelsethrow-return-value-must-be-used/85204\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/fp-java-s2201-optional-orelsethrow-return-value-must-be-used/85204</a>), the best thing to do until it is resolved is to just ignore this rule</p>\n"}],"owner":{"account_id":4674889,"reputation":1042,"user_id":3785573,"display_name":"Baji Shaik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21359,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":49532487,"answer_count":2,"score":28,"last_activity_date":1698860245,"creation_date":1522233802,"question_id":49532409,"body_markdown":"When I am scanning code with sonar lint the following code shows the bug as &quot;The return value of &quot;orElseThrow&quot; must be used&quot;\r\n\r\n    itemList.stream()\r\n        .filter(item -&gt; orderItemId.equals(item.getId()))\r\n\t    .findAny()\r\n        .orElseThrow(() -&gt; new BadRequestException(&quot;12345&quot;,&quot;Item Not Found&quot;));\r\n\r\nThis is just for a validation purpose no need to return anything from this statement. need to validate whether the item exists or not.\r\n\r\nFYI: Eclipse showing a quick fix as squid:S2201\r\n\r\nAnybody have any idea how to resolve this bug? ","title":"The return value of &quot;orElseThrow&quot; must be used","body":"<p>When I am scanning code with sonar lint the following code shows the bug as \"The return value of \"orElseThrow\" must be used\"</p>\n\n<pre><code>itemList.stream()\n    .filter(item -&gt; orderItemId.equals(item.getId()))\n    .findAny()\n    .orElseThrow(() -&gt; new BadRequestException(\"12345\",\"Item Not Found\"));\n</code></pre>\n\n<p>This is just for a validation purpose no need to return anything from this statement. need to validate whether the item exists or not.</p>\n\n<p>FYI: Eclipse showing a quick fix as squid:S2201</p>\n\n<p>Anybody have any idea how to resolve this bug? </p>\n"},{"tags":["java","mongodb","aws-documentdb","aws-documentdb-mongoapi"],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698859803,"creation_date":1698859803,"answer_id":77404513,"question_id":77404342,"body_markdown":"And yes, it was the format of the dates. This works with a single date but not with a date range:\r\n\r\n```\r\n    public long getLength_ByString(Date earliest) {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        BasicDBObject query = new BasicDBObject();\r\n\r\n        query.put(&quot;date&quot;, new BasicDBObject(&quot;$gt&quot;, formatter.format(earliest)));\r\n\r\n        System.out.println(query.toJson());\r\n\r\n        MongoCursor&lt;?&gt; cursor = database.getCollection(collectionName).find(query).iterator();\r\n        long rv = 0;\r\n        while (cursor.hasNext()) {\r\n            ++rv;\r\n            cursor.next();\r\n        }\r\n        return rv;\r\n    }\r\n```\r\n\r\nThis method also works and supports a range:\r\n\r\n```\r\n    public long getLength_ByFilter(Date earliest, Date latest) {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        long rv = 0;\r\n        Document filter = new Document();\r\n        if (earliest != null) {\r\n            filter.append(&quot;$gte&quot;, formatter.format(earliest));\r\n        }\r\n        if (latest != null) {\r\n            filter.append(&quot;$lte&quot;, formatter.format(latest));\r\n        }\r\n        System.out.println(filter.toJson());\r\n        rv = database.getCollection(collectionName).countDocuments(new Document(&quot;date&quot;, filter));\r\n\r\n        return rv;\r\n    }\r\n```\r\n\r\nI&#39;ve spent several hours on this, and it came down to the date format. Sigh.\r\n","title":"AWS DocumentDB and Java: Query for records in a range","body":"<p>And yes, it was the format of the dates. This works with a single date but not with a date range:</p>\n<pre><code>    public long getLength_ByString(Date earliest) {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        BasicDBObject query = new BasicDBObject();\n\n        query.put(&quot;date&quot;, new BasicDBObject(&quot;$gt&quot;, formatter.format(earliest)));\n\n        System.out.println(query.toJson());\n\n        MongoCursor&lt;?&gt; cursor = database.getCollection(collectionName).find(query).iterator();\n        long rv = 0;\n        while (cursor.hasNext()) {\n            ++rv;\n            cursor.next();\n        }\n        return rv;\n    }\n</code></pre>\n<p>This method also works and supports a range:</p>\n<pre><code>    public long getLength_ByFilter(Date earliest, Date latest) {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        long rv = 0;\n        Document filter = new Document();\n        if (earliest != null) {\n            filter.append(&quot;$gte&quot;, formatter.format(earliest));\n        }\n        if (latest != null) {\n            filter.append(&quot;$lte&quot;, formatter.format(latest));\n        }\n        System.out.println(filter.toJson());\n        rv = database.getCollection(collectionName).countDocuments(new Document(&quot;date&quot;, filter));\n\n        return rv;\n    }\n</code></pre>\n<p>I've spent several hours on this, and it came down to the date format. Sigh.</p>\n"}],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698859803,"creation_date":1698858171,"question_id":77404342,"body_markdown":"I&#39;ve never touched MongoDB before this week. I&#39;m trying to query a collection that includes a date record. I want do a query based on a date range. I can query the entire collection, but my various attempts to filter my query have all failed.\r\n\r\nI&#39;m going to show what is working and what isn&#39;t.\r\n\r\n```\r\npackage com.example.mongodb.service;\r\n\r\nimport com.mongodb.BasicDBObject;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCursor;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport jakarta.annotation.PostConstruct;\r\nimport org.bson.Document;\r\nimport org.bson.conversions.Bson;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Date;\r\n\r\n/**\r\n * Do Things with DocumentDB.\r\n */\r\npublic class DocDBService {\r\n    private String collectionName = &quot;myCollection&quot;;\r\n\r\n    private MongoClient mongoClient;\r\n    private MongoDatabase database;\r\n\r\n    private String username;\r\n    private String password;\r\n    private String server;\r\n    private String dbName;\r\n\r\n    /**\r\n     * Construct with our username, password, and server.\r\n     */\r\n    public DocDBService(String usernameIn, String passwordIn, String serverIn, String dbNameIn) {\r\n        username = usernameIn;\r\n        password = passwordIn;\r\n        server = serverIn;\r\n        dbName = dbNameIn;\r\n\r\n        String template = &quot;mongodb://%s:%s@%s&quot;;\r\n        String connectionString = String.format(template, username, password, server);\r\n        mongoClient = MongoClients.create(connectionString);\r\n        database = mongoClient.getDatabase(dbName);\r\n    }\r\n\r\n    /** This is working. */\r\n    public long getLength() {\r\n        BasicDBObject obj;\r\n\r\n        return database.getCollection(collectionName).countDocuments();\r\n    }\r\n\r\n    /* I&#39;ve tried a few things. None are working. */\r\n    public long getLength(Date earliest, Date latest) {\r\n        /*\r\n        BasicDBObject query = new BasicDBObject();\r\n        if (earliest != null) {\r\n            query.put(&quot;date&quot;, new BasicDBObject(&quot;$gt&quot;, earliest));\r\n        }\r\n        if (latest != null) {\r\n            query.put(&quot;date&quot;, new BasicDBObject(&quot;$lt&quot;, latest));\r\n        }\r\n\r\n        System.out.println(query.toJson());\r\n\r\n        MongoCursor&lt;?&gt; cursor = database.getCollection(collectionName).find(query).iterator();\r\n        long rv = 0;\r\n        while (cursor.hasNext()) {\r\n            ++rv;\r\n            cursor.next();\r\n        }\r\n         */\r\n        long rv = 0;\r\n        Document filter = new Document();\r\n        if (earliest != null) {\r\n            filter.append(&quot;$gte&quot;, earliest);\r\n        }\r\n        if (latest != null) {\r\n            filter.append(&quot;$lte&quot;, latest);\r\n        }\r\n        System.out.println(filter.toJson());\r\n        rv = database.getCollection(collectionName).countDocuments(new Document(&quot;date&quot;, filter));\r\n        return rv;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been calling the date-based query with start date and/or an end date (the 3 possible combinations). In all cases, I get back a count of 0.\r\n\r\nWith two dates, dumping the filter shows:\r\n\r\n    {&quot;$gte&quot;: {&quot;$date&quot;: &quot;2023-10-01T05:00:00Z&quot;}, &quot;$lte&quot;: {&quot;$date&quot;: &quot;2023-11-02T05:00:00Z&quot;}}\r\n\r\n\r\nI wonder if the format of the dates is the problem, as when I display the collection (using DataGrid), they are dates, not timestamps. That is, `2023-10-01` not `2023-10-01 05:00:00`.\r\n","title":"AWS DocumentDB and Java: Query for records in a range","body":"<p>I've never touched MongoDB before this week. I'm trying to query a collection that includes a date record. I want do a query based on a date range. I can query the entire collection, but my various attempts to filter my query have all failed.</p>\n<p>I'm going to show what is working and what isn't.</p>\n<pre><code>package com.example.mongodb.service;\n\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCursor;\nimport com.mongodb.client.MongoDatabase;\nimport jakarta.annotation.PostConstruct;\nimport org.bson.Document;\nimport org.bson.conversions.Bson;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Date;\n\n/**\n * Do Things with DocumentDB.\n */\npublic class DocDBService {\n    private String collectionName = &quot;myCollection&quot;;\n\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n\n    private String username;\n    private String password;\n    private String server;\n    private String dbName;\n\n    /**\n     * Construct with our username, password, and server.\n     */\n    public DocDBService(String usernameIn, String passwordIn, String serverIn, String dbNameIn) {\n        username = usernameIn;\n        password = passwordIn;\n        server = serverIn;\n        dbName = dbNameIn;\n\n        String template = &quot;mongodb://%s:%s@%s&quot;;\n        String connectionString = String.format(template, username, password, server);\n        mongoClient = MongoClients.create(connectionString);\n        database = mongoClient.getDatabase(dbName);\n    }\n\n    /** This is working. */\n    public long getLength() {\n        BasicDBObject obj;\n\n        return database.getCollection(collectionName).countDocuments();\n    }\n\n    /* I've tried a few things. None are working. */\n    public long getLength(Date earliest, Date latest) {\n        /*\n        BasicDBObject query = new BasicDBObject();\n        if (earliest != null) {\n            query.put(&quot;date&quot;, new BasicDBObject(&quot;$gt&quot;, earliest));\n        }\n        if (latest != null) {\n            query.put(&quot;date&quot;, new BasicDBObject(&quot;$lt&quot;, latest));\n        }\n\n        System.out.println(query.toJson());\n\n        MongoCursor&lt;?&gt; cursor = database.getCollection(collectionName).find(query).iterator();\n        long rv = 0;\n        while (cursor.hasNext()) {\n            ++rv;\n            cursor.next();\n        }\n         */\n        long rv = 0;\n        Document filter = new Document();\n        if (earliest != null) {\n            filter.append(&quot;$gte&quot;, earliest);\n        }\n        if (latest != null) {\n            filter.append(&quot;$lte&quot;, latest);\n        }\n        System.out.println(filter.toJson());\n        rv = database.getCollection(collectionName).countDocuments(new Document(&quot;date&quot;, filter));\n        return rv;\n    }\n}\n</code></pre>\n<p>I've been calling the date-based query with start date and/or an end date (the 3 possible combinations). In all cases, I get back a count of 0.</p>\n<p>With two dates, dumping the filter shows:</p>\n<pre><code>{&quot;$gte&quot;: {&quot;$date&quot;: &quot;2023-10-01T05:00:00Z&quot;}, &quot;$lte&quot;: {&quot;$date&quot;: &quot;2023-11-02T05:00:00Z&quot;}}\n</code></pre>\n<p>I wonder if the format of the dates is the problem, as when I display the collection (using DataGrid), they are dates, not timestamps. That is, <code>2023-10-01</code> not <code>2023-10-01 05:00:00</code>.</p>\n"},{"tags":["java","aem","sling","aem-6","sling-models"],"comments":[{"owner":{"account_id":6995,"reputation":18400,"user_id":11940,"accept_rate":88,"display_name":"Raphael Schweikert"},"score":0,"creation_date":1698820402,"post_id":77400471,"comment_id":136452285,"body_markdown":"Please show us the code you tried to run in place of the `//Tried changing the createTime here` comment.","body":"Please show us the code you tried to run in place of the <code>&#47;&#47;Tried changing the createTime here</code> comment."},{"owner":{"account_id":6995,"reputation":18400,"user_id":11940,"accept_rate":88,"display_name":"Raphael Schweikert"},"score":0,"creation_date":1698820480,"post_id":77400471,"comment_id":136452297,"body_markdown":"I don’t quite understand what it is you’re asking. The title refers to the “Interface Setter” but the question body seems to be about the `@PostConstruct` method not being run.","body":"I don’t quite understand what it is you’re asking. The title refers to the “Interface Setter” but the question body seems to be about the <code>@PostConstruct</code> method not being run."},{"owner":{"account_id":15518998,"reputation":149,"user_id":11195677,"display_name":"Thomas A Mathew"},"score":0,"creation_date":1698823739,"post_id":77400471,"comment_id":136452680,"body_markdown":"I have corrected and made it more clear. Please check now.","body":"I have corrected and made it more clear. Please check now."}],"answers":[{"tags":[],"owner":{"account_id":6995,"reputation":18400,"user_id":11940,"accept_rate":88,"display_name":"Raphael Schweikert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698859143,"creation_date":1698859143,"answer_id":77404442,"question_id":77400471,"body_markdown":"When creating a sling model from an interface as opposed to a class, sling only implements getters annotated with `@Inject`. Anything else is stubbed out with dummy no-op implementations, which is why the setter doesn’t do anything.\r\n\r\nIf you want the setter to work, make `ListingModel` a class instead of an interface and inject fields instead of methods.\r\n\r\nThen, you can add your own getters and setters to the `ListingModel` and they can modify the field, if desired:\r\n\r\n\r\n```java\r\n@Model(\r\n    adaptables = Resource.class,\r\n    defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL\r\n)\r\npublic class ListingModel {\r\n    @Inject\r\n    private String notificationLogo;\r\n    \r\n    @Inject\r\n    private String createTime;\r\n    \r\n    @Inject\r\n    private boolean active;\r\n\r\n    public String getNotificationLogo() {\r\n        return notificationLogo;\r\n    }\r\n\r\n    public String getCreateTime() {\r\n        return createTime;\r\n    }\r\n\r\n    public String isActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setCreateTime(String value) {\r\n        this.createTime = value;\r\n    }\r\n}\r\n```\r\n\r\nIf the logic to format the create time isn’t dependent on anything in `NotificationAlerts`, you could even maybe do the formatting on the fly in the `getCreateTime` method, thus removing the need to have a setter at all or a `@PostConstruct` method on `NotificationAlerts`.\r\n","title":"AEM Multifield - Modifying values in multifield values","body":"<p>When creating a sling model from an interface as opposed to a class, sling only implements getters annotated with <code>@Inject</code>. Anything else is stubbed out with dummy no-op implementations, which is why the setter doesn’t do anything.</p>\n<p>If you want the setter to work, make <code>ListingModel</code> a class instead of an interface and inject fields instead of methods.</p>\n<p>Then, you can add your own getters and setters to the <code>ListingModel</code> and they can modify the field, if desired:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Model(\n    adaptables = Resource.class,\n    defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL\n)\npublic class ListingModel {\n    @Inject\n    private String notificationLogo;\n    \n    @Inject\n    private String createTime;\n    \n    @Inject\n    private boolean active;\n\n    public String getNotificationLogo() {\n        return notificationLogo;\n    }\n\n    public String getCreateTime() {\n        return createTime;\n    }\n\n    public String isActive() {\n        return active;\n    }\n\n    public void setCreateTime(String value) {\n        this.createTime = value;\n    }\n}\n</code></pre>\n<p>If the logic to format the create time isn’t dependent on anything in <code>NotificationAlerts</code>, you could even maybe do the formatting on the fly in the <code>getCreateTime</code> method, thus removing the need to have a setter at all or a <code>@PostConstruct</code> method on <code>NotificationAlerts</code>.</p>\n"}],"owner":{"account_id":15518998,"reputation":149,"user_id":11195677,"display_name":"Thomas A Mathew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77404442,"answer_count":1,"score":0,"last_activity_date":1698859143,"creation_date":1698815416,"question_id":77400471,"body_markdown":"Multifield issue\r\n\r\nNotificationAlert.java\r\n\r\n````\r\n@Model(adaptables = {SlingHttpServletRequest.class,\r\n        Resource.class}, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\r\npublic class NotificationAlerts {\r\n\r\n @Inject\r\n\t@Via(&quot;resource&quot;)\r\n\t@Default(values = CommonConstants.EMPTY)\r\n\t@Named(&quot;notificationItems&quot;)\r\n\tprivate List&lt;ListingModel&gt; notificationItems;\r\n\r\n    public List&lt;ListingModel&gt; getNotificationItems() {\r\n\t\treturn notificationItems;\r\n\t}\r\n\r\n\tpublic void setNotificationItems(List&lt;ListingModel&gt; notificationItems) {\r\n\t\tthis.notificationItems = notificationItems;\r\n\t}\r\n\r\n@PostConstruct\r\n    private void initModel() {\r\n       for(ListingModel model : notificationItems)\r\n       {\r\n         String createTime = model.getCreateTime();\r\n         String formattedTime = changeDateFormat(createTime); \r\n//When I debugged I got the formattedTime correctly\r\n//But not setting below\r\n         model.setCreateTime(formattedTime); \r\n       }\r\n    }\r\n\r\nString changeDateFormat(String dateValue)\r\n{\r\n//definiton\r\n}\r\n}\r\n\r\n````\r\n\r\n\r\nAnd the ListingModel.java Interface\r\n\r\n````\r\n@Model(adaptables = Resource.class, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\r\npublic interface ListingModel {\r\n\r\n@Inject\r\n\tString getNotificationLogo();\r\n\t\r\n\t@Inject\r\n\tString getCreateTime();\r\n\r\n    public void setCreateTime(String value);\r\n\t\r\n\t@Inject\r\n\tboolean isActive();\r\n\r\n}\r\n\r\n````\r\n\r\nI have tried declaring a setter function in the interface and try calling it in \r\n@PostConstruct.\r\n\r\nBut it is not changing\r\n\r\nI want to format the createTime using changeDateFormat(String value)\r\n\r\nOr can I call the changeDateFormat() in sightly ?\r\n\r\nHow do I do it ?\r\n\r\nThanks in advance\r\n\r\n\r\nEdit : I want to know how to modify the createTime value as edited in @PostConstruct. The setter is not setting anything.\r\n\r\nAlso, there is a setter method in the interface","title":"AEM Multifield - Modifying values in multifield values","body":"<p>Multifield issue</p>\n<p>NotificationAlert.java</p>\n<pre><code>@Model(adaptables = {SlingHttpServletRequest.class,\n        Resource.class}, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\npublic class NotificationAlerts {\n\n @Inject\n    @Via(&quot;resource&quot;)\n    @Default(values = CommonConstants.EMPTY)\n    @Named(&quot;notificationItems&quot;)\n    private List&lt;ListingModel&gt; notificationItems;\n\n    public List&lt;ListingModel&gt; getNotificationItems() {\n        return notificationItems;\n    }\n\n    public void setNotificationItems(List&lt;ListingModel&gt; notificationItems) {\n        this.notificationItems = notificationItems;\n    }\n\n@PostConstruct\n    private void initModel() {\n       for(ListingModel model : notificationItems)\n       {\n         String createTime = model.getCreateTime();\n         String formattedTime = changeDateFormat(createTime); \n//When I debugged I got the formattedTime correctly\n//But not setting below\n         model.setCreateTime(formattedTime); \n       }\n    }\n\nString changeDateFormat(String dateValue)\n{\n//definiton\n}\n}\n\n</code></pre>\n<p>And the ListingModel.java Interface</p>\n<pre><code>@Model(adaptables = Resource.class, defaultInjectionStrategy = DefaultInjectionStrategy.OPTIONAL)\npublic interface ListingModel {\n\n@Inject\n    String getNotificationLogo();\n    \n    @Inject\n    String getCreateTime();\n\n    public void setCreateTime(String value);\n    \n    @Inject\n    boolean isActive();\n\n}\n\n</code></pre>\n<p>I have tried declaring a setter function in the interface and try calling it in\n@PostConstruct.</p>\n<p>But it is not changing</p>\n<p>I want to format the createTime using changeDateFormat(String value)</p>\n<p>Or can I call the changeDateFormat() in sightly ?</p>\n<p>How do I do it ?</p>\n<p>Thanks in advance</p>\n<p>Edit : I want to know how to modify the createTime value as edited in @PostConstruct. The setter is not setting anything.</p>\n<p>Also, there is a setter method in the interface</p>\n"},{"tags":["java","android","mediarecorder"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1582556937,"post_id":60325141,"comment_id":106808510,"body_markdown":"`VOICE_COMMUNICATION` doesn&#39;t really have anything to do with normal voice calls. The relevant audio sources for voice calls are `VOICE_CALL`, `VOICE_DOWNLINK` and `VOICE_UPLINK`. However, 3rd party apps are not allowed to record from these audio sources.","body":"<code>VOICE_COMMUNICATION</code> doesn&#39;t really have anything to do with normal voice calls. The relevant audio sources for voice calls are <code>VOICE_CALL</code>, <code>VOICE_DOWNLINK</code> and <code>VOICE_UPLINK</code>. However, 3rd party apps are not allowed to record from these audio sources."}],"answers":[{"tags":[],"owner":{"account_id":14898919,"reputation":532,"user_id":10758304,"display_name":"Mohsin kazi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582782038,"creation_date":1582782038,"answer_id":60426898,"question_id":60325141,"body_markdown":"&gt; For recording Phone Calls on Android 8+.  \r\nAPI level 28 or higher, apps running in the background cannot access the microphone.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n\r\n&gt; The example activity below shows how to use MediaRecorder to record an audio file. It Also uses MediaPlayer to play the audio back.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class AudioRecordTest extends AppCompatActivity {\r\n\r\n    private static final String LOG_TAG = &quot;AudioRecordTest&quot;;\r\n    private static final int REQUEST_RECORD_AUDIO_PERMISSION = 200;\r\n    private static String fileName = null;\r\n\r\n    private RecordButton recordButton = null;\r\n    private MediaRecorder recorder = null;\r\n\r\n    private PlayButton   playButton = null;\r\n    private MediaPlayer   player = null;\r\n\r\n    // Requesting permission to RECORD_AUDIO\r\n    private boolean permissionToRecordAccepted = false;\r\n    private String [] permissions = {Manifest.permission.RECORD_AUDIO};\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case REQUEST_RECORD_AUDIO_PERMISSION:\r\n                permissionToRecordAccepted  = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                break;\r\n        }\r\n        if (!permissionToRecordAccepted ) finish();\r\n\r\n    }\r\n\r\n    private void onRecord(boolean start) {\r\n        if (start) {\r\n            startRecording();\r\n        } else {\r\n            stopRecording();\r\n        }\r\n    }\r\n\r\n    private void onPlay(boolean start) {\r\n        if (start) {\r\n            startPlaying();\r\n        } else {\r\n            stopPlaying();\r\n        }\r\n    }\r\n\r\n    private void startPlaying() {\r\n        player = new MediaPlayer();\r\n        try {\r\n            player.setDataSource(fileName);\r\n            player.prepare();\r\n            player.start();\r\n        } catch (IOException e) {\r\n            Log.e(LOG_TAG, &quot;prepare() failed&quot;);\r\n        }\r\n    }\r\n\r\n    private void stopPlaying() {\r\n        player.release();\r\n        player = null;\r\n    }\r\n\r\n    private void startRecording() {\r\n        recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n        recorder.setOutputFile(fileName);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n\r\n        try {\r\n            recorder.prepare();\r\n        } catch (IOException e) {\r\n            Log.e(LOG_TAG, &quot;prepare() failed&quot;);\r\n        }\r\n\r\n        recorder.start();\r\n    }\r\n\r\n    private void stopRecording() {\r\n        recorder.stop();\r\n        recorder.release();\r\n        recorder = null;\r\n    }\r\n\r\n    class RecordButton extends Button {\r\n        boolean mStartRecording = true;\r\n\r\n        OnClickListener clicker = new OnClickListener() {\r\n            public void onClick(View v) {\r\n                onRecord(mStartRecording);\r\n                if (mStartRecording) {\r\n                    setText(&quot;Stop recording&quot;);\r\n                } else {\r\n                    setText(&quot;Start recording&quot;);\r\n                }\r\n                mStartRecording = !mStartRecording;\r\n            }\r\n        };\r\n\r\n        public RecordButton(Context ctx) {\r\n            super(ctx);\r\n            setText(&quot;Start recording&quot;);\r\n            setOnClickListener(clicker);\r\n        }\r\n    }\r\n\r\n    class PlayButton extends Button {\r\n        boolean mStartPlaying = true;\r\n\r\n        OnClickListener clicker = new OnClickListener() {\r\n            public void onClick(View v) {\r\n                onPlay(mStartPlaying);\r\n                if (mStartPlaying) {\r\n                    setText(&quot;Stop playing&quot;);\r\n                } else {\r\n                    setText(&quot;Start playing&quot;);\r\n                }\r\n                mStartPlaying = !mStartPlaying;\r\n            }\r\n        };\r\n\r\n        public PlayButton(Context ctx) {\r\n            super(ctx);\r\n            setText(&quot;Start playing&quot;);\r\n            setOnClickListener(clicker);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle icicle) {\r\n        super.onCreate(icicle);\r\n\r\n        // Record to the external cache directory for visibility\r\n        fileName = getExternalCacheDir().getAbsolutePath();\r\n        fileName += &quot;/audiorecordtest.3gp&quot;;\r\n\r\n        ActivityCompat.requestPermissions(this, permissions, REQUEST_RECORD_AUDIO_PERMISSION);\r\n\r\n        LinearLayout ll = new LinearLayout(this);\r\n        recordButton = new RecordButton(this);\r\n        ll.addView(recordButton,\r\n                new LinearLayout.LayoutParams(\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        0));\r\n        playButton = new PlayButton(this);\r\n        ll.addView(playButton,\r\n                new LinearLayout.LayoutParams(\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        0));\r\n        setContentView(ll);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        if (recorder != null) {\r\n            recorder.release();\r\n            recorder = null;\r\n        }\r\n\r\n        if (player != null) {\r\n            player.release();\r\n            player = null;\r\n        }\r\n      }\r\n     }\r\n\r\n\r\n**Make changes according to your project**\r\n\r\n&gt; **this code referred from official website** for more details follow official website \r\n[MediaRecorder overview][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/media/mediarecorder","title":"Recording Phone Calls on Android 8+ – Ignore this question, feature is no longer supported by Android","body":"<blockquote>\n  <p>For recording Phone Calls on Android 8+.<br>\n  API level 28 or higher, apps running in the background cannot access the microphone.</p>\n</blockquote>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>The example activity below shows how to use MediaRecorder to record an audio file. It Also uses MediaPlayer to play the audio back.</p>\n</blockquote>\n\n<pre><code>public class AudioRecordTest extends AppCompatActivity {\n\nprivate static final String LOG_TAG = \"AudioRecordTest\";\nprivate static final int REQUEST_RECORD_AUDIO_PERMISSION = 200;\nprivate static String fileName = null;\n\nprivate RecordButton recordButton = null;\nprivate MediaRecorder recorder = null;\n\nprivate PlayButton   playButton = null;\nprivate MediaPlayer   player = null;\n\n// Requesting permission to RECORD_AUDIO\nprivate boolean permissionToRecordAccepted = false;\nprivate String [] permissions = {Manifest.permission.RECORD_AUDIO};\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode){\n        case REQUEST_RECORD_AUDIO_PERMISSION:\n            permissionToRecordAccepted  = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n            break;\n    }\n    if (!permissionToRecordAccepted ) finish();\n\n}\n\nprivate void onRecord(boolean start) {\n    if (start) {\n        startRecording();\n    } else {\n        stopRecording();\n    }\n}\n\nprivate void onPlay(boolean start) {\n    if (start) {\n        startPlaying();\n    } else {\n        stopPlaying();\n    }\n}\n\nprivate void startPlaying() {\n    player = new MediaPlayer();\n    try {\n        player.setDataSource(fileName);\n        player.prepare();\n        player.start();\n    } catch (IOException e) {\n        Log.e(LOG_TAG, \"prepare() failed\");\n    }\n}\n\nprivate void stopPlaying() {\n    player.release();\n    player = null;\n}\n\nprivate void startRecording() {\n    recorder = new MediaRecorder();\n    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n    recorder.setOutputFile(fileName);\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n\n    try {\n        recorder.prepare();\n    } catch (IOException e) {\n        Log.e(LOG_TAG, \"prepare() failed\");\n    }\n\n    recorder.start();\n}\n\nprivate void stopRecording() {\n    recorder.stop();\n    recorder.release();\n    recorder = null;\n}\n\nclass RecordButton extends Button {\n    boolean mStartRecording = true;\n\n    OnClickListener clicker = new OnClickListener() {\n        public void onClick(View v) {\n            onRecord(mStartRecording);\n            if (mStartRecording) {\n                setText(\"Stop recording\");\n            } else {\n                setText(\"Start recording\");\n            }\n            mStartRecording = !mStartRecording;\n        }\n    };\n\n    public RecordButton(Context ctx) {\n        super(ctx);\n        setText(\"Start recording\");\n        setOnClickListener(clicker);\n    }\n}\n\nclass PlayButton extends Button {\n    boolean mStartPlaying = true;\n\n    OnClickListener clicker = new OnClickListener() {\n        public void onClick(View v) {\n            onPlay(mStartPlaying);\n            if (mStartPlaying) {\n                setText(\"Stop playing\");\n            } else {\n                setText(\"Start playing\");\n            }\n            mStartPlaying = !mStartPlaying;\n        }\n    };\n\n    public PlayButton(Context ctx) {\n        super(ctx);\n        setText(\"Start playing\");\n        setOnClickListener(clicker);\n    }\n}\n\n@Override\npublic void onCreate(Bundle icicle) {\n    super.onCreate(icicle);\n\n    // Record to the external cache directory for visibility\n    fileName = getExternalCacheDir().getAbsolutePath();\n    fileName += \"/audiorecordtest.3gp\";\n\n    ActivityCompat.requestPermissions(this, permissions, REQUEST_RECORD_AUDIO_PERMISSION);\n\n    LinearLayout ll = new LinearLayout(this);\n    recordButton = new RecordButton(this);\n    ll.addView(recordButton,\n            new LinearLayout.LayoutParams(\n                    ViewGroup.LayoutParams.WRAP_CONTENT,\n                    ViewGroup.LayoutParams.WRAP_CONTENT,\n                    0));\n    playButton = new PlayButton(this);\n    ll.addView(playButton,\n            new LinearLayout.LayoutParams(\n                    ViewGroup.LayoutParams.WRAP_CONTENT,\n                    ViewGroup.LayoutParams.WRAP_CONTENT,\n                    0));\n    setContentView(ll);\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    if (recorder != null) {\n        recorder.release();\n        recorder = null;\n    }\n\n    if (player != null) {\n        player.release();\n        player = null;\n    }\n  }\n }\n</code></pre>\n\n<p><strong>Make changes according to your project</strong></p>\n\n<blockquote>\n  <p><strong>this code referred from official website</strong> for more details follow official website \n  <a href=\"https://developer.android.com/guide/topics/media/mediarecorder\" rel=\"noreferrer\">MediaRecorder overview</a></p>\n</blockquote>\n"}],"owner":{"account_id":2039156,"reputation":833,"user_id":1820779,"display_name":"Hashim Akhtar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698858517,"creation_date":1582218155,"question_id":60325141,"body_markdown":"I am trying to record calls on Android 8+ but getting error. Below is my code:\r\n\r\n        File sampleDir = new File(Environment.getExternalStorageDirectory(), &quot;/&quot; + RECORDING_DIRECTORY);\r\n        if (!sampleDir.exists()) {\r\n            sampleDir.mkdirs();\r\n        }\r\n        String file_name = getRecordingFileName() + &quot;-&quot;;\r\n        //String file_name = &quot;Record&quot;;\r\n        try {\r\n            audiofile = File.createTempFile(file_name, &quot;.amr&quot;, sampleDir);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String path = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n\r\n        recorder = new MediaRecorder();\r\n        recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\r\n        recorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\r\n        recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n        recorder.setOutputFile(audiofile.getAbsolutePath());\r\n        try {\r\n            recorder.prepare();\r\n            recorder.start();\r\n            recordstarted = true;\r\n        } catch (IllegalStateException e) {\r\n            e.printStackTrace();\r\n            Log.d(e);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            Log.d(e);\r\n        } catch (Exception ex) {\r\n            Log.d(ex);\r\n        }\r\n\r\nI get the following error message:\r\n\r\n&gt; 2020-02-20 16:38:37.893 12635-12635/com.companyname.appname\r\n&gt; W/System.err: java.lang.IllegalStateException: phoneIsInUse\r\n&gt; \r\n&gt; 2020-02-20 16:38:37.894 12635-12635/com.companyname.appname\r\n&gt; W/System.err:     at\r\n&gt; android.media.MediaRecorder.start(MediaRecorder.java:1017)\r\n\r\nHas anyone dealt with this or knows what is happening?","title":"Recording Phone Calls on Android 8+ – Ignore this question, feature is no longer supported by Android","body":"<p>I am trying to record calls on Android 8+ but getting error. Below is my code:</p>\n\n<pre><code>    File sampleDir = new File(Environment.getExternalStorageDirectory(), \"/\" + RECORDING_DIRECTORY);\n    if (!sampleDir.exists()) {\n        sampleDir.mkdirs();\n    }\n    String file_name = getRecordingFileName() + \"-\";\n    //String file_name = \"Record\";\n    try {\n        audiofile = File.createTempFile(file_name, \".amr\", sampleDir);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    String path = Environment.getExternalStorageDirectory().getAbsolutePath();\n\n    recorder = new MediaRecorder();\n    recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.AMR_NB);\n    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n    recorder.setOutputFile(audiofile.getAbsolutePath());\n    try {\n        recorder.prepare();\n        recorder.start();\n        recordstarted = true;\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n        Log.d(e);\n    } catch (IOException e) {\n        e.printStackTrace();\n        Log.d(e);\n    } catch (Exception ex) {\n        Log.d(ex);\n    }\n</code></pre>\n\n<p>I get the following error message:</p>\n\n<blockquote>\n  <p>2020-02-20 16:38:37.893 12635-12635/com.companyname.appname\n  W/System.err: java.lang.IllegalStateException: phoneIsInUse</p>\n  \n  <p>2020-02-20 16:38:37.894 12635-12635/com.companyname.appname\n  W/System.err:     at\n  android.media.MediaRecorder.start(MediaRecorder.java:1017)</p>\n</blockquote>\n\n<p>Has anyone dealt with this or knows what is happening?</p>\n"},{"tags":["java","version-control","sonarqube","cvs"],"comments":[{"owner":{"account_id":295780,"reputation":3399,"user_id":600360,"accept_rate":0,"display_name":"Mort"},"score":0,"creation_date":1537494863,"post_id":52421727,"comment_id":91814530,"body_markdown":"Have you tried running the command with straight CVS, taking sonar out of the equation? What do you see? (How many lines does it have and how does that relate to the 118 vs 120 in the error message.)","body":"Have you tried running the command with straight CVS, taking sonar out of the equation? What do you see? (How many lines does it have and how does that relate to the 118 vs 120 in the error message.)"},{"owner":{"account_id":5129507,"reputation":13,"user_id":4110226,"display_name":"Sahil Patil"},"score":0,"creation_date":1537517087,"post_id":52421727,"comment_id":91821312,"body_markdown":"Running plain CVS annotate command returns 118 lines, while the file has 120 lines.(As suggested in the warning)","body":"Running plain CVS annotate command returns 118 lines, while the file has 120 lines.(As suggested in the warning)"}],"answers":[{"tags":[],"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537517578,"creation_date":1537517578,"answer_id":52439401,"question_id":52421727,"body_markdown":"CVS will always blame the remote content of the file, so one explanation could be that you have local modifications to the file.\r\n\r\nAlso `cvs annotate` returns information from server for the given file in HEAD revision. If you are working on a branch you have to manually pass the branch using `-Dsonar.cvs.revision=xxxx` command line argument to the scanner.\r\n","title":"Ignoring blame result since provider returned 120 blame lines but file something.java has 226 lines for CVS Sonar","body":"<p>CVS will always blame the remote content of the file, so one explanation could be that you have local modifications to the file.</p>\n\n<p>Also <code>cvs annotate</code> returns information from server for the given file in HEAD revision. If you are working on a branch you have to manually pass the branch using <code>-Dsonar.cvs.revision=xxxx</code> command line argument to the scanner.</p>\n"}],"owner":{"account_id":5129507,"reputation":13,"user_id":4110226,"display_name":"Sahil Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52439401,"answer_count":1,"score":1,"last_activity_date":1698858287,"creation_date":1537435488,"question_id":52421727,"body_markdown":"I want the blame information of all the authors who committed the code on CVS through SONAR as I&#39;m writing a java code for getting the issues according to author name. I have installed the sonar-scm-cvs-1.1.1 plugin for sonar 7.2, and though it is retrieving the blame info for some files, it is ignoring most of the files. giving me trace something like this.\r\n\r\n```none\r\nF**O] 11:35:54.394 SCM provider for this project is: cvs\r\nFO] 11:35:54.398 18 files to be analyzed\r\nBUG] 11:35:54.402 Working directory: 16.20\\ws.network.connectivity.NSICIdentityMgmtConnectivityService.v2\r\nBUG] 11:35:55.148 Executing CVS command: annotate pom.xml\r\nBUG] 11:35:56.263 Ignoring blame result since provider returned 118 blame lines but file pom.xml has 120 lines  \r\n.\r\n.\r\n.\r\nThis may lead to missing/broken features in SonarQube.**\r\n```\r\n\r\nHence, there is no blame info for these files for CVS.\r\n","title":"Ignoring blame result since provider returned 120 blame lines but file something.java has 226 lines for CVS Sonar","body":"<p>I want the blame information of all the authors who committed the code on CVS through SONAR as I'm writing a java code for getting the issues according to author name. I have installed the sonar-scm-cvs-1.1.1 plugin for sonar 7.2, and though it is retrieving the blame info for some files, it is ignoring most of the files. giving me trace something like this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>F**O] 11:35:54.394 SCM provider for this project is: cvs\nFO] 11:35:54.398 18 files to be analyzed\nBUG] 11:35:54.402 Working directory: 16.20\\ws.network.connectivity.NSICIdentityMgmtConnectivityService.v2\nBUG] 11:35:55.148 Executing CVS command: annotate pom.xml\nBUG] 11:35:56.263 Ignoring blame result since provider returned 118 blame lines but file pom.xml has 120 lines  \n.\n.\n.\nThis may lead to missing/broken features in SonarQube.**\n</code></pre>\n<p>Hence, there is no blame info for these files for CVS.</p>\n"},{"tags":["java","spring","base64"],"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1698881186,"post_id":77404297,"comment_id":136462386,"body_markdown":"The problem I&#39;m facing is that while preparing data, I can&#39;t use `boxlabelpdf.htm` as `data:boxlabelpdf.htm` with `flavor:pdf` . So I am switching to base64 representation and in order to get the `data: &lt;base64encoded string here&gt;` for `flavor: &#39;base64&#39;`, I would probably need to have my controller send it in base64 format and then the next task is to figure out how to retrieve it once it&#39;s sent to the browser so that I can use it while preparing `data`. I think what you are asking is not something t oworry about now.","body":"The problem I&#39;m facing is that while preparing data, I can&#39;t use <code>boxlabelpdf.htm</code> as <code>data:boxlabelpdf.htm</code> with <code>flavor:pdf</code> . So I am switching to base64 representation and in order to get the <code>data: &lt;base64encoded string here&gt;</code> for <code>flavor: &#39;base64&#39;</code>, I would probably need to have my controller send it in base64 format and then the next task is to figure out how to retrieve it once it&#39;s sent to the browser so that I can use it while preparing <code>data</code>. I think what you are asking is not something t oworry about now."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1698886360,"post_id":77404297,"comment_id":136462816,"body_markdown":"I believe you are referring to this part `var printData = [\n            { type: &#39;pixel&#39;, format: &#39;pdf&#39;, flavor: &#39;file&#39;, data: &#39;assets/pdf_sample.pdf&#39;, options: opts }\n        ];`  from my previous question ?","body":"I believe you are referring to this part <code>var printData = [             { type: &#39;pixel&#39;, format: &#39;pdf&#39;, flavor: &#39;file&#39;, data: &#39;assets&#47;pdf_sample.pdf&#39;, options: opts }         ];</code>  from my previous question ?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1698886663,"post_id":77404297,"comment_id":136462837,"body_markdown":"Those two are unrelated. The one I mentioned above was provided in the sample.html from the QZ Tray website. I&#39;m trying to figure out how can I use my htm generated pdf in that place.","body":"Those two are unrelated. The one I mentioned above was provided in the sample.html from the QZ Tray website. I&#39;m trying to figure out how can I use my htm generated pdf in that place."}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698857711,"creation_date":1698857711,"question_id":77404297,"body_markdown":"I have a controller which is generating a PDF on the browser when I use the following link :\r\n\r\n`http://localhost:8080/mywebsite/boxlabelpdf.htm`\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;boxlabelpdf&quot;)\r\n    public class BoxLabelPdfController {\r\n    \r\n      private MyLocationManager mgr;\r\n    \r\n      public void setMyLocationManager(MyLocationManager MyLocationManager) {\r\n        this.mgr = MyLocationManager;\r\n      }\r\n    \r\n      @RequestMapping(method = RequestMethod.GET)\r\n      public ModelAndView view(ModelAndView mav, HttpServletRequest request, HttpServletResponse response)\r\n      throws Exception {\r\n    \r\n        List &lt; MyLocation &gt; results = mgr.getMyLocationByClassQuery(&quot;id = 90&quot;);\r\n       \r\n       JasperReport jr = PdfReportUtils.getReportTemplate(&quot;BoxLabels&quot;);\r\n        byte[] reportBytes = JasperRunManager.runReportToPdf(jr, new HashMap &lt; &gt; (),\r\n          new JRBeanCollectionDataSource(results));\r\n    \r\n        System.out.println(&quot;converting reportBytes byte array tp Base64 inside BoxLabelPdfController&quot;);\r\n        String encoded = Base64Utils.encodeToString(reportBytes);\r\n    \r\n        System.out.println(encoded);\r\n    \r\n        // output to screen\r\n        PdfReportUtils.outputReport(response, reportBytes);\r\n        // nothing to forward to - already sent the pdf to the browser\r\n        return null;\r\n    \r\n      }\r\n    \r\n      public static void main(String[] args) throws JRException, IOException {\r\n        // TODO Auto-generated method stub\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nThe `PdfReportUtils` class has this function which is called above and is responsible for sending the byte array to webbrowser and I see a pdf when I put the following URL on the web browser :\r\n\r\n`http://localhost:8080/mywebsite/boxlabelpdf.htm`\r\n\r\n    /**\r\n    \t * Outputs the byte array passed to it to the web browser\r\n    \t */\r\n    \tpublic static void outputReport(HttpServletResponse response, byte[] resultBytes) throws IOException {\r\n    \r\n    \t\tif (resultBytes != null) {\r\n    \t\t\tServletOutputStream servletOutputStream = response.getOutputStream();\r\n    \t\t\tint conLength = resultBytes.length;\r\n    \r\n    \t\t\tresponse.setContentType(MimeConstant.PDF_MIME.getContentType().toString());\r\n    \t\t    //The following is present inside MimeConstant class for above declaration of setContentType:\r\n    \t\t\t//public static final MimeConstant PDF_MIME = new MimeConstant(&quot;pdf-generic&quot;, &quot;application/pdf&quot;);\r\n    \r\n    \t\t\tDate date = new Date();\r\n    \t\t\tString fileName = &quot;MyReport&quot; + Utils.getDateAsYYYYMMDD(date) + Utils.getAsHHmmss(date);\r\n    \t\t\tresponse.setContentLength(conLength);\r\n    \t\t\tresponse.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=&quot; + fileName + &quot;.pdf&quot;);\r\n    \t\t\tservletOutputStream.write(resultBytes);\r\n    \r\n    \t\t\tservletOutputStream.flush();\r\n    \t\t\tservletOutputStream.close();\r\n    \t\t} else {\r\n    \t\t\t// no pages to output - just error msg\r\n    \t\t\t// output new html page\r\n    \t\t\tresponse.setContentType(&quot;text/html&quot;);\r\n    \t\t\tPrintWriter out = response.getWriter();\r\n    \r\n    \t\t\tout.println(&quot;&lt;html&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;head&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;title&gt;No PDF Pages&lt;/title&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;/head&gt;&quot;);\r\n    \r\n    \t\t\tout.println(&quot;&lt;body&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;br/&gt;&quot;);\r\n    \t\t\tout.println(&quot;No PDF Pages were generated for this report &quot;);\r\n    \t\t\tout.println(&quot;&lt;br/&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;/body&gt;&quot;);\r\n    \t\t\tout.println(&quot;&lt;/html&gt;&quot;);\r\n    \t\t\tout.close();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nI would like to send Base64Utils.encodeToString(reportBytes) to the web browser when I click the link `http://localhost:8080/mywebsite/boxlabelpdf.htm`\r\n\r\nDo I need to change the setContentType and other things inside outputReport function to something else since it&#39;s a base64 coded string now?\r\n\r\nReason I&#39;m switching to base64 is because I want to use it on client side like mentioned in [this document][1]:\r\n\r\n    var config = qz.configs.create(&quot;Printer Name&quot;);\r\n    var data = [{ \r\n       type: &#39;pixel&#39;,\r\n       format: &#39;pdf&#39;,\r\n       flavor: &#39;base64&#39;,\r\n       data: &#39;Ck4KcTYwOQpRMjAzLDI2CkI1LDI2LDAsMUEsMyw3LDE1MixCLCIxMjM0IgpBMzEwLDI2LDAsMywx...&#39; \r\n    }];\r\n    qz.print(config, data).catch(function(e) { console.error(e); });\r\n\r\nSo in my code, I can just specify `data:boxlabelpdf.htm` and that should give me the encoded string by calling the controller.\r\n  [1]: https://qz.io/docs/pixel#base64-pdf","title":"changed needed while switching to base64 representation from pdf representation","body":"<p>I have a controller which is generating a PDF on the browser when I use the following link :</p>\n<p><code>http://localhost:8080/mywebsite/boxlabelpdf.htm</code></p>\n<pre><code>@Controller\n@RequestMapping(&quot;boxlabelpdf&quot;)\npublic class BoxLabelPdfController {\n\n  private MyLocationManager mgr;\n\n  public void setMyLocationManager(MyLocationManager MyLocationManager) {\n    this.mgr = MyLocationManager;\n  }\n\n  @RequestMapping(method = RequestMethod.GET)\n  public ModelAndView view(ModelAndView mav, HttpServletRequest request, HttpServletResponse response)\n  throws Exception {\n\n    List &lt; MyLocation &gt; results = mgr.getMyLocationByClassQuery(&quot;id = 90&quot;);\n   \n   JasperReport jr = PdfReportUtils.getReportTemplate(&quot;BoxLabels&quot;);\n    byte[] reportBytes = JasperRunManager.runReportToPdf(jr, new HashMap &lt; &gt; (),\n      new JRBeanCollectionDataSource(results));\n\n    System.out.println(&quot;converting reportBytes byte array tp Base64 inside BoxLabelPdfController&quot;);\n    String encoded = Base64Utils.encodeToString(reportBytes);\n\n    System.out.println(encoded);\n\n    // output to screen\n    PdfReportUtils.outputReport(response, reportBytes);\n    // nothing to forward to - already sent the pdf to the browser\n    return null;\n\n  }\n\n  public static void main(String[] args) throws JRException, IOException {\n    // TODO Auto-generated method stub\n\n  }\n\n}\n</code></pre>\n<p>The <code>PdfReportUtils</code> class has this function which is called above and is responsible for sending the byte array to webbrowser and I see a pdf when I put the following URL on the web browser :</p>\n<p><code>http://localhost:8080/mywebsite/boxlabelpdf.htm</code></p>\n<pre><code>/**\n     * Outputs the byte array passed to it to the web browser\n     */\n    public static void outputReport(HttpServletResponse response, byte[] resultBytes) throws IOException {\n\n        if (resultBytes != null) {\n            ServletOutputStream servletOutputStream = response.getOutputStream();\n            int conLength = resultBytes.length;\n\n            response.setContentType(MimeConstant.PDF_MIME.getContentType().toString());\n            //The following is present inside MimeConstant class for above declaration of setContentType:\n            //public static final MimeConstant PDF_MIME = new MimeConstant(&quot;pdf-generic&quot;, &quot;application/pdf&quot;);\n\n            Date date = new Date();\n            String fileName = &quot;MyReport&quot; + Utils.getDateAsYYYYMMDD(date) + Utils.getAsHHmmss(date);\n            response.setContentLength(conLength);\n            response.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=&quot; + fileName + &quot;.pdf&quot;);\n            servletOutputStream.write(resultBytes);\n\n            servletOutputStream.flush();\n            servletOutputStream.close();\n        } else {\n            // no pages to output - just error msg\n            // output new html page\n            response.setContentType(&quot;text/html&quot;);\n            PrintWriter out = response.getWriter();\n\n            out.println(&quot;&lt;html&gt;&quot;);\n            out.println(&quot;&lt;head&gt;&quot;);\n            out.println(&quot;&lt;title&gt;No PDF Pages&lt;/title&gt;&quot;);\n            out.println(&quot;&lt;/head&gt;&quot;);\n\n            out.println(&quot;&lt;body&gt;&quot;);\n            out.println(&quot;&lt;br/&gt;&quot;);\n            out.println(&quot;No PDF Pages were generated for this report &quot;);\n            out.println(&quot;&lt;br/&gt;&quot;);\n            out.println(&quot;&lt;/body&gt;&quot;);\n            out.println(&quot;&lt;/html&gt;&quot;);\n            out.close();\n        }\n    }\n</code></pre>\n<p>I would like to send Base64Utils.encodeToString(reportBytes) to the web browser when I click the link <code>http://localhost:8080/mywebsite/boxlabelpdf.htm</code></p>\n<p>Do I need to change the setContentType and other things inside outputReport function to something else since it's a base64 coded string now?</p>\n<p>Reason I'm switching to base64 is because I want to use it on client side like mentioned in [this document][1]:</p>\n<pre><code>var config = qz.configs.create(&quot;Printer Name&quot;);\nvar data = [{ \n   type: 'pixel',\n   format: 'pdf',\n   flavor: 'base64',\n   data: 'Ck4KcTYwOQpRMjAzLDI2CkI1LDI2LDAsMUEsMyw3LDE1MixCLCIxMjM0IgpBMzEwLDI2LDAsMywx...' \n}];\nqz.print(config, data).catch(function(e) { console.error(e); });\n</code></pre>\n<p>So in my code, I can just specify <code>data:boxlabelpdf.htm</code> and that should give me the encoded string by calling the controller.\n[1]: <a href=\"https://qz.io/docs/pixel#base64-pdf\" rel=\"nofollow noreferrer\">https://qz.io/docs/pixel#base64-pdf</a></p>\n"},{"tags":["java","linux","sonarqube","ubuntu-18.04"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1698857496,"post_id":77404240,"comment_id":136458931,"body_markdown":"What is the RUN_AS_USER property set to in the sonar.sh script?","body":"What is the RUN_AS_USER property set to in the sonar.sh script?"},{"owner":{"account_id":23376008,"reputation":436,"user_id":17487397,"display_name":"N. J"},"score":0,"creation_date":1698857589,"post_id":77404240,"comment_id":136458955,"body_markdown":"Such property does not exists.  `grep RUN_AS_USER /my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh`","body":"Such property does not exists.  <code>grep RUN_AS_USER &#47;my&#47;custom&#47;path&#47;sonarqube-9.6.1.59531&#47;bin&#47;linux-x86-64&#47;sonar&zwnj;&#8203;.sh</code>"},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1698857913,"post_id":77404240,"comment_id":136459018,"body_markdown":"Sorry they eliminated that property with v9.6.1.","body":"Sorry they eliminated that property with v9.6.1."},{"owner":{"account_id":23376008,"reputation":436,"user_id":17487397,"display_name":"N. J"},"score":0,"creation_date":1698858262,"post_id":77404240,"comment_id":136459082,"body_markdown":"From https://community.sonarsource.com/t/sonarqube-will-not-start-due-to-elasticsearch-being-unable-to-write-yml-settings-file/15643. Turns out the temp/conf files was owned by root. I just `chown -R sonar:sonar`. Probably not the correct way of solving this issue (long term), but it works.","body":"From <a href=\"https://community.sonarsource.com/t/sonarqube-will-not-start-due-to-elasticsearch-being-unable-to-write-yml-settings-file/15643\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>. Turns out the temp/conf files was owned by root. I just <code>chown -R sonar:sonar</code>. Probably not the correct way of solving this issue (long term), but it works."}],"owner":{"account_id":23376008,"reputation":436,"user_id":17487397,"display_name":"N. J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698857119,"creation_date":1698857119,"question_id":77404240,"body_markdown":"I don&#39;t get much information from `systemctl status:`\r\n\r\n```\r\nsonar.local.lab sonar.sh[4471]: Gracefully stopping SonarQube...\r\nsonar.local.lab sonar.sh[4471]: Removed stale pid file: ./SonarQube.pid\r\nsonar.local.lab sonar.sh[4471]: SonarQube was not running.\r\n```\r\nFrom **/var/log/sonarqube/es.log**\r\n```\r\njava.lang.RuntimeException: can not run elasticsearch as root\r\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:107) ~[elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:183) ~[elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434) [elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:166) [elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:157) [elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77) [elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112) [elasticsearch-cli-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.cli.Command.main(Command.java:77) [elasticsearch-cli-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:122) [elasticsearch-7.17.4.jar:7.17.4]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80) [elasticsearch-7.17.4.jar:7.17.4]\r\n2023.11.01 16:26:49 ERROR es[][o.e.b.ElasticsearchUncaughtExceptionHandler] uncaught exception in thread [main]\r\n```\r\n\r\n**/etc/systemd/system/sonar.service**\r\n```\r\n[Unit]\r\nDescription=SonarQube 9.6.1.59531 service\r\nRequires=network.target\r\nAfter=network.target network-online.target\r\nWants=network-online.target\r\n\r\n[Service]\r\nType=forking\r\nUser=sonar\r\nGroup=sonar\r\nExecStart=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh start\r\nExecStop=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh stop\r\nExecReload=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh restart\r\nRestart=on-failure\r\nRestartSec=10\r\nPIDFile=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/SonarQube.pid\r\nLimitNOFILE=65536\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\nI have verified the user and group `sonar` is owner of owner of every file under `/my/custom/path/...`\r\n\r\nI don&#39;t know why elasticsearch complains about running as root. Yes, I try to restart the service running:\r\n`systemctl restart sonar`, however, from the `sonar.service` file, woulnd&#39;t this be run a the sonar user and group?\r\n","title":"Sonarqube fails to start after reboot","body":"<p>I don't get much information from <code>systemctl status:</code></p>\n<pre><code>sonar.local.lab sonar.sh[4471]: Gracefully stopping SonarQube...\nsonar.local.lab sonar.sh[4471]: Removed stale pid file: ./SonarQube.pid\nsonar.local.lab sonar.sh[4471]: SonarQube was not running.\n</code></pre>\n<p>From <strong>/var/log/sonarqube/es.log</strong></p>\n<pre><code>java.lang.RuntimeException: can not run elasticsearch as root\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:107) ~[elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:183) ~[elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434) [elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:166) [elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:157) [elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77) [elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112) [elasticsearch-cli-7.17.4.jar:7.17.4]\n        at org.elasticsearch.cli.Command.main(Command.java:77) [elasticsearch-cli-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:122) [elasticsearch-7.17.4.jar:7.17.4]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80) [elasticsearch-7.17.4.jar:7.17.4]\n2023.11.01 16:26:49 ERROR es[][o.e.b.ElasticsearchUncaughtExceptionHandler] uncaught exception in thread [main]\n</code></pre>\n<p><strong>/etc/systemd/system/sonar.service</strong></p>\n<pre><code>[Unit]\nDescription=SonarQube 9.6.1.59531 service\nRequires=network.target\nAfter=network.target network-online.target\nWants=network-online.target\n\n[Service]\nType=forking\nUser=sonar\nGroup=sonar\nExecStart=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh start\nExecStop=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh stop\nExecReload=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/sonar.sh restart\nRestart=on-failure\nRestartSec=10\nPIDFile=/my/custom/path/sonarqube-9.6.1.59531/bin/linux-x86-64/SonarQube.pid\nLimitNOFILE=65536\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>I have verified the user and group <code>sonar</code> is owner of owner of every file under <code>/my/custom/path/...</code></p>\n<p>I don't know why elasticsearch complains about running as root. Yes, I try to restart the service running:\n<code>systemctl restart sonar</code>, however, from the <code>sonar.service</code> file, woulnd't this be run a the sonar user and group?</p>\n"},{"tags":["java","android","android-studio","push-notification"],"comments":[{"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"score":0,"creation_date":1698816901,"post_id":77399952,"comment_id":136451954,"body_markdown":"Does this answer your question? [POST\\_NOTIFICATIONS permission dialog not showing](https://stackoverflow.com/questions/73736926/post-notifications-permission-dialog-not-showing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73736926/post-notifications-permission-dialog-not-showing\">POST_NOTIFICATIONS permission dialog not showing</a>"}],"answers":[{"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698817148,"creation_date":1698817148,"answer_id":77400565,"question_id":77399952,"body_markdown":"I tried your code it is working fine for me:\r\n\r\nFew things you can re-check:\r\n\r\n1. Make sure you are using emulator/device above 33\r\n2. Your Manifest should be android.Manifest\r\n\r\nAlso more you can check in this [answer](https://stackoverflow.com/questions/73736926/post-notifications-permission-dialog-not-showing?rq=2)","title":"POST_NOTIFICATIONS request doesn&#39;t work, dialog box not showing","body":"<p>I tried your code it is working fine for me:</p>\n<p>Few things you can re-check:</p>\n<ol>\n<li>Make sure you are using emulator/device above 33</li>\n<li>Your Manifest should be android.Manifest</li>\n</ol>\n<p>Also more you can check in this <a href=\"https://stackoverflow.com/questions/73736926/post-notifications-permission-dialog-not-showing?rq=2\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":16382509,"reputation":165,"user_id":11833216,"display_name":"cat15ets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698856444,"creation_date":1698856444,"answer_id":77404183,"question_id":77399952,"body_markdown":"I made it work by grouping the Manifest.permission.POST_NOTIFICATIONS with the others:\r\n\r\n        private void checkAllPermissions() {\r\n        int Permission_All = 1;\r\n        String[] Permissions = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n                Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.ACCESS_FINE_LOCATION, \r\n                Manifest.permission.RECORD_AUDIO, Manifest.permission.INTERNET, Manifest.permission.FOREGROUND_SERVICE,\r\n                Manifest.permission.WAKE_LOCK, Manifest.permission.DISABLE_KEYGUARD, \r\n                Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.POST_NOTIFICATIONS};\r\n        if (!hasPermissions(this, Permissions)) {\r\n            ActivityCompat.requestPermissions(this,Permissions, Permission_All);\r\n        }\r\n    }\r\n\r\n        public static boolean hasPermissions(Context context, String... permissions) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context,permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nThe code above works!! But don&#39;t know why it didn&#39;t, in the previous stand-alone code. I even added toast and log lines to check if the IF condition was met, and all seemed OK except it didn&#39;t ask for the POST_NOTIFICATION permission.","title":"POST_NOTIFICATIONS request doesn&#39;t work, dialog box not showing","body":"<p>I made it work by grouping the Manifest.permission.POST_NOTIFICATIONS with the others:</p>\n<pre><code>    private void checkAllPermissions() {\n    int Permission_All = 1;\n    String[] Permissions = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE, \n            Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.ACCESS_FINE_LOCATION, \n            Manifest.permission.RECORD_AUDIO, Manifest.permission.INTERNET, Manifest.permission.FOREGROUND_SERVICE,\n            Manifest.permission.WAKE_LOCK, Manifest.permission.DISABLE_KEYGUARD, \n            Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.POST_NOTIFICATIONS};\n    if (!hasPermissions(this, Permissions)) {\n        ActivityCompat.requestPermissions(this,Permissions, Permission_All);\n    }\n}\n\n    public static boolean hasPermissions(Context context, String... permissions) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context,permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>The code above works!! But don't know why it didn't, in the previous stand-alone code. I even added toast and log lines to check if the IF condition was met, and all seemed OK except it didn't ask for the POST_NOTIFICATION permission.</p>\n"}],"owner":{"account_id":16382509,"reputation":165,"user_id":11833216,"display_name":"cat15ets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698856444,"creation_date":1698804228,"question_id":77399952,"body_markdown":"In manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\r\nIn Activity:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 33) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS},1);\r\n            }\r\n            else {\r\n                //\r\n            }\r\n        }\r\n\r\nIn the build.gradle file the targetSdkVersion is 34\r\n\r\nI have other permission requests like Camera, Location, and Microphone, and all of these work fine, but the POST NOTIFICATIONS request doesn&#39;t. The dialog box for asking the user to allow it doesn&#39;t appear.\r\n\r\nThe notifications work only if I activate them manually in Settings -&gt; App -&gt; Notifications -&gt; Allow Notifications\r\n\r\nDon&#39;t know what is the problem! Ohh and I know about this [android developer resource][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#java","title":"POST_NOTIFICATIONS request doesn&#39;t work, dialog box not showing","body":"<p>In manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n</code></pre>\n<p>In Activity:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 33) {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS},1);\n        }\n        else {\n            //\n        }\n    }\n</code></pre>\n<p>In the build.gradle file the targetSdkVersion is 34</p>\n<p>I have other permission requests like Camera, Location, and Microphone, and all of these work fine, but the POST NOTIFICATIONS request doesn't. The dialog box for asking the user to allow it doesn't appear.</p>\n<p>The notifications work only if I activate them manually in Settings -&gt; App -&gt; Notifications -&gt; Allow Notifications</p>\n<p>Don't know what is the problem! Ohh and I know about this <a href=\"https://developer.android.com/training/permissions/requesting#java\" rel=\"nofollow noreferrer\">android developer resource</a></p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":29310144,"reputation":13,"user_id":22456144,"display_name":"learningProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698856091,"creation_date":1698850507,"question_id":77403544,"body_markdown":"I have 2 Spring Boot projects.\r\nProject 1 - IOP has a package GeneratedClasses that I want to use in the other Spring project. To achieve this I have put the following in the POM.xml of IOP:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nOn Project 2 - ExternalAPI I have added the reference to the IOP project like this:\r\n   \r\n\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n         &lt;artifactId&gt;IOP&lt;/artifactId&gt;\r\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\nI have done mvn clean install on IOP and I can see the folder in .m2 repo with the jar file included.\r\nHowever, when I try to do mvn clean install on ExternalAPI (project 2 with the dependency) I get the error:\r\npackage com.example.IOP.GeneratedClasses.InternalEndpoints.ExternalAPIControlers does not exist\r\n\r\nI have checked other posts but I am still facing this issue and so wanted to ask how do I solve this?","title":"SpringBoot project as dependency in another SpringBoot Project","body":"<p>I have 2 Spring Boot projects.\nProject 1 - IOP has a package GeneratedClasses that I want to use in the other Spring project. To achieve this I have put the following in the POM.xml of IOP:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>On Project 2 - ExternalAPI I have added the reference to the IOP project like this:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.example&lt;/groupId&gt;\n     &lt;artifactId&gt;IOP&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have done mvn clean install on IOP and I can see the folder in .m2 repo with the jar file included.\nHowever, when I try to do mvn clean install on ExternalAPI (project 2 with the dependency) I get the error:\npackage com.example.IOP.GeneratedClasses.InternalEndpoints.ExternalAPIControlers does not exist</p>\n<p>I have checked other posts but I am still facing this issue and so wanted to ask how do I solve this?</p>\n"},{"tags":["python","java","spring","spring-boot","soap"],"comments":[{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1698796998,"post_id":77395799,"comment_id":136450418,"body_markdown":"There are a couple of articles that will get you going assuming you use Spring and/or Spring Boot. One is [here](https://www.baeldung.com/java-soap-web-service) and the other is [here](https://spring.io/guides/gs/consuming-web-service).","body":"There are a couple of articles that will get you going assuming you use Spring and/or Spring Boot. One is <a href=\"https://www.baeldung.com/java-soap-web-service\" rel=\"nofollow noreferrer\">here</a> and the other is <a href=\"https://spring.io/guides/gs/consuming-web-service\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":7522259,"reputation":442,"user_id":5713709,"accept_rate":48,"display_name":"Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698855248,"creation_date":1698754511,"question_id":77395799,"body_markdown":"We have a Python code where we are calling to SOAP API and getting the response.\r\nBut as per the requirement we need to migrate the python code to JAVA class, since I am new to SOAP API, I am not sure how to migrate.\r\n\r\nAdded Python code sample below:\r\n```\r\nfrom suds.client import Client\r\nfrom suds import WebFault\r\nimport datetime as dt\r\nimport base64\r\nimport time\r\nimport os\r\nimport sys\r\n\r\n\r\nurl= &quot;https://www.test.com/service?wsdl&quot;\r\nclient = Client(url, location=url, timeout=5000, nosend=False)\r\n\r\nuser = test\r\npwd = 123365\r\n\r\nportList = []\r\nport1 = client.factory.create(&#39;PortSelect&#39;)\r\nport1.PortName = &quot;Test_Port&quot;\r\nport1.PortOwner = &quot;TEST&quot;\r\nportList.append(port1)\r\n\r\npa = client.factory.create(&#39;PortAna&#39;)\r\npa.PortSelectionList = portList\r\npa._Name = &quot;TEST&quot;\r\n\r\nexportArgs = client.factory.create(&#39;ExpArgs&#39;)\r\nexportArgs.PortAna = pa\r\n\r\nexportType = client.factory.create(&#39;ExpType&#39;).PORT\r\ntry:\r\n    print (&#39;Create Set&#39;)\r\n    id = client.service.CreateExportId(user, pwd, True, exportType, exportArgs)\r\n    print (id)\r\n\r\n    print(&#39;Downloading file...&#39;)\r\n    attach = client.service.GetExportData(id)\r\n\t\t\r\n    zip = os.path.join(os.getcwd(), attach.FileName)\r\n    byte = base64.b64decode(attach.BinaryData)\r\n    try:\r\n            with open(zip, &#39;wb&#39;) as f:\r\n                f.write(byte)\r\n                f.flush()\r\n                f.close()\r\n    except:\r\n            with open(os.path.basename(zip), &#39;wb&#39;) as f:\r\n                f.write(byte)\r\n                f.close()\r\nexcept WebFault as details:\r\n    print (details)\r\n```\r\n\r\nKindly suggest how I can migrate to JAVA class.","title":"SOAP Web Service call from Java class","body":"<p>We have a Python code where we are calling to SOAP API and getting the response.\nBut as per the requirement we need to migrate the python code to JAVA class, since I am new to SOAP API, I am not sure how to migrate.</p>\n<p>Added Python code sample below:</p>\n<pre><code>from suds.client import Client\nfrom suds import WebFault\nimport datetime as dt\nimport base64\nimport time\nimport os\nimport sys\n\n\nurl= &quot;https://www.test.com/service?wsdl&quot;\nclient = Client(url, location=url, timeout=5000, nosend=False)\n\nuser = test\npwd = 123365\n\nportList = []\nport1 = client.factory.create('PortSelect')\nport1.PortName = &quot;Test_Port&quot;\nport1.PortOwner = &quot;TEST&quot;\nportList.append(port1)\n\npa = client.factory.create('PortAna')\npa.PortSelectionList = portList\npa._Name = &quot;TEST&quot;\n\nexportArgs = client.factory.create('ExpArgs')\nexportArgs.PortAna = pa\n\nexportType = client.factory.create('ExpType').PORT\ntry:\n    print ('Create Set')\n    id = client.service.CreateExportId(user, pwd, True, exportType, exportArgs)\n    print (id)\n\n    print('Downloading file...')\n    attach = client.service.GetExportData(id)\n        \n    zip = os.path.join(os.getcwd(), attach.FileName)\n    byte = base64.b64decode(attach.BinaryData)\n    try:\n            with open(zip, 'wb') as f:\n                f.write(byte)\n                f.flush()\n                f.close()\n    except:\n            with open(os.path.basename(zip), 'wb') as f:\n                f.write(byte)\n                f.close()\nexcept WebFault as details:\n    print (details)\n</code></pre>\n<p>Kindly suggest how I can migrate to JAVA class.</p>\n"},{"tags":["java","sonarqube","testng"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1447160071,"post_id":33628559,"comment_id":55034230,"body_markdown":"Can you please precise the version of sonar-java-plugin you are using ?","body":"Can you please precise the version of sonar-java-plugin you are using ?"},{"owner":{"account_id":1270530,"reputation":289,"user_id":1226930,"display_name":"Massimo - SonarSource Team"},"score":2,"creation_date":1447160862,"post_id":33628559,"comment_id":55034669,"body_markdown":"This is indeed a false positive, it is going to be fixed in version 3.8 of the sonar java plugin.\nhttps://jira.sonarsource.com/browse/SONARJAVA-1373","body":"This is indeed a false positive, it is going to be fixed in version 3.8 of the sonar java plugin. <a href=\"https://jira.sonarsource.com/browse/SONARJAVA-1373\" rel=\"nofollow noreferrer\">jira.sonarsource.com/browse/SONARJAVA-1373</a>"},{"owner":{"account_id":6256506,"reputation":3348,"user_id":4864870,"accept_rate":100,"display_name":"Josef Reichardt"},"score":3,"creation_date":1474377575,"post_id":33628559,"comment_id":66499100,"body_markdown":"Is it possible that this behaviour is present again? I&#39;m using SonarQube 6.0 and Java Plugin 4.2. Also interesting: SonarLint in IntelliJ IDEA works correctly and shows the warning only if I remove the `@Test` annotation from the class for example.","body":"Is it possible that this behaviour is present again? I&#39;m using SonarQube 6.0 and Java Plugin 4.2. Also interesting: SonarLint in IntelliJ IDEA works correctly and shows the warning only if I remove the <code>@Test</code> annotation from the class for example."}],"answers":[{"tags":[],"owner":{"account_id":25116067,"reputation":29,"user_id":18965082,"display_name":"Le Chat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698855120,"creation_date":1698855120,"answer_id":77404066,"question_id":33628559,"body_markdown":"You can use annotation ```@SuppressWarnings(&quot;squid:S2187&quot;)```","title":"How to resolve false-positive sonar warning &#39;Add some tests to this class&#39;","body":"<p>You can use annotation <code>@SuppressWarnings(&quot;squid:S2187&quot;)</code></p>\n"}],"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5486,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1698855120,"creation_date":1447153538,"question_id":33628559,"body_markdown":"I am using Sonar 5.2 to analyze java project, tests written in TestNG.\r\nI have test classes with @Test annotation on the class (not on methods).\r\n\r\nMy tests are working fine (testNG treats all public methods as tests, no @Test annotation is required on each method), but sonar produces warning\r\n\r\n&gt;  TestCases should contain tests (squid:S2187)\r\n\r\nIf I put @Test annotation on methods, this warning disappears.\r\n\r\nIt looks to me like false-positive (My class has test methods).\r\nFor testNG tests, squid:S2187 rule should be ignored if class has @Test annotation on class level and at least one public method.\r\n\r\nIs this indeed bug in squid:S2187 rule, or I am missing something?\r\n\r\nEdit:\r\nI am using Sonar 5.2, java plugin 3.7\r\nAt the time of the writing (10 November 2015) my Sonar is up-to-date.","title":"How to resolve false-positive sonar warning &#39;Add some tests to this class&#39;","body":"<p>I am using Sonar 5.2 to analyze java project, tests written in TestNG.\nI have test classes with @Test annotation on the class (not on methods).</p>\n\n<p>My tests are working fine (testNG treats all public methods as tests, no @Test annotation is required on each method), but sonar produces warning</p>\n\n<blockquote>\n  <p>TestCases should contain tests (squid:S2187)</p>\n</blockquote>\n\n<p>If I put @Test annotation on methods, this warning disappears.</p>\n\n<p>It looks to me like false-positive (My class has test methods).\nFor testNG tests, squid:S2187 rule should be ignored if class has @Test annotation on class level and at least one public method.</p>\n\n<p>Is this indeed bug in squid:S2187 rule, or I am missing something?</p>\n\n<p>Edit:\nI am using Sonar 5.2, java plugin 3.7\nAt the time of the writing (10 November 2015) my Sonar is up-to-date.</p>\n"},{"tags":["java","sql","hibernate","enums","spring-data-jpa"],"comments":[{"owner":{"account_id":2394023,"reputation":3194,"user_id":2093240,"accept_rate":62,"display_name":"the_bluescreen"},"score":0,"creation_date":1497018953,"post_id":44460394,"comment_id":75917462,"body_markdown":"Do you get any error? After run snippet with nativeQuery, what do you get?","body":"Do you get any error? After run snippet with nativeQuery, what do you get?"},{"owner":{"account_id":174153,"reputation":1783,"user_id":403340,"accept_rate":78,"display_name":"Yaroslav Boichuk"},"score":1,"creation_date":1497019359,"post_id":44460394,"comment_id":75917755,"body_markdown":"Possible duplicate of [Problems with making a query when using Enum in entity](https://stackoverflow.com/questions/8217144/problems-with-making-a-query-when-using-enum-in-entity)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8217144/problems-with-making-a-query-when-using-enum-in-entity\">Problems with making a query when using Enum in entity</a>"},{"owner":{"account_id":9917401,"reputation":531,"user_id":7341741,"display_name":"Tetiana Serediuk"},"score":2,"creation_date":1497020598,"post_id":44460394,"comment_id":75918670,"body_markdown":"@the_bluescreen  I don`t have any exception, just empty list","body":"@the_bluescreen  I don`t have any exception, just empty list"},{"owner":{"account_id":1488253,"reputation":2809,"user_id":1396003,"display_name":"Dmitry Stolbov"},"score":0,"creation_date":1511247994,"post_id":44460394,"comment_id":81767423,"body_markdown":"Using `String` type of `status` parameter into method with nativeQuery instead of enum `ApplicationStatus` is good solution for me.","body":"Using <code>String</code> type of <code>status</code> parameter into method with nativeQuery instead of enum <code>ApplicationStatus</code> is good solution for me."},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1539376663,"post_id":44460394,"comment_id":92494751,"body_markdown":"Passing the value as a String instead is a workaround, but it would be good to know if there is a better solution. It appears to work as expected if a JPA query, but returns empty results if a native query","body":"Passing the value as a String instead is a workaround, but it would be good to know if there is a better solution. It appears to work as expected if a JPA query, but returns empty results if a native query"},{"owner":{"account_id":8063219,"reputation":294,"user_id":6078174,"accept_rate":20,"display_name":"Raman Preet Singh"},"score":0,"creation_date":1559919930,"post_id":44460394,"comment_id":99582587,"body_markdown":"@Tetiana Did you happen to find a solution for this?","body":"@Tetiana Did you happen to find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":4964297,"reputation":77,"user_id":3994207,"display_name":"David M."},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1497030560,"creation_date":1497030560,"answer_id":44463969,"question_id":44460394,"body_markdown":"how about this?\r\n\r\n    public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n    List&lt;Application&gt; findByStatus(ApplicationStatus status);","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>how about this?</p>\n\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\nList&lt;Application&gt; findByStatus(ApplicationStatus status);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":146699,"reputation":20921,"user_id":357314,"accept_rate":62,"display_name":"johnlemon"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1500364857,"creation_date":1500364857,"answer_id":45160811,"question_id":44460394,"body_markdown":"You could convert to string before passing the params.","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>You could convert to string before passing the params.</p>\n"},{"tags":[],"owner":{"account_id":550722,"reputation":4460,"user_id":906265,"display_name":"Ivar"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1579607812,"creation_date":1579607812,"answer_id":59840623,"question_id":44460394,"body_markdown":"Following [similar question](https://stackoverflow.com/q/17242408/906265) with similar requirement and [one of the answers](https://stackoverflow.com/a/54650103/906265) pointing to [Spring Expression Language (SpEL)](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions) you could use:\r\n\r\n```java\r\npublic interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n    @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app WHERE app.status=:#{#status.name()}&quot;)\r\n    List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status);\r\n}\r\n```\r\n\r\nAbove important part is `app.status=:#{#status.name()}`","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>Following <a href=\"https://stackoverflow.com/q/17242408/906265\">similar question</a> with similar requirement and <a href=\"https://stackoverflow.com/a/54650103/906265\">one of the answers</a> pointing to <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\" rel=\"noreferrer\">Spring Expression Language (SpEL)</a> you could use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\n    @Query(nativeQuery = true, value = \"SELECT app FROM #{#entityName} AS app WHERE app.status=:#{#status.name()}\")\n    List&lt;Application&gt; find(@Param(\"status\") ApplicationStatus status);\n}\n</code></pre>\n\n<p>Above important part is <code>app.status=:#{#status.name()}</code></p>\n"},{"tags":[],"owner":{"account_id":3286136,"reputation":2418,"user_id":2765624,"accept_rate":88,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1629902680,"creation_date":1606647730,"answer_id":65059394,"question_id":44460394,"body_markdown":"To extend on @Aivaras answer:\r\nIf you want to use a list of statuses, the SpEL expression is slightly different - you need to do a projection:\r\n\r\n    public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n        @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app WHERE app.status in :#{#statuses.![name()]}&quot;)\r\n        List&lt;Application&gt; find(@Param(&quot;statuses&quot;) List&lt;ApplicationStatus&gt; statuses);\r\n    }\r\n\r\nNote the change of expression to \r\n\r\n    #{#statuses.![name()]}","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>To extend on @Aivaras answer:\nIf you want to use a list of statuses, the SpEL expression is slightly different - you need to do a projection:</p>\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\n    @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app WHERE app.status in :#{#statuses.![name()]}&quot;)\n    List&lt;Application&gt; find(@Param(&quot;statuses&quot;) List&lt;ApplicationStatus&gt; statuses);\n}\n</code></pre>\n<p>Note the change of expression to</p>\n<pre><code>#{#statuses.![name()]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617770674,"creation_date":1617770674,"answer_id":66979684,"question_id":44460394,"body_markdown":"After a few days with this error, I was able to find the solution.\r\n\r\nI did a lot of research and tested in many ways receiving as a parameter `@Param(&quot;environment&quot;) environment: Environment`:\r\n\r\n     :#{#environment.TESTING}\r\n     :#{#environment}\r\n     :#{#environment.name()}\r\n     CAST(:#{#environment.name()} as environment)\r\n\r\n___\r\n\r\n# Solution in Kotlin\r\n\r\nThe key is in the query. **You must to transform the value of the parameter to a String using `.name()` (or receive a String as a parameter) and cast that value of type String to the specific Enum that is needed**. Because passing an object of type Enum directly in the query does not work.\r\n\r\nAssuming the Enum in your database is defined as `environment`.\r\n\r\n    @Query(\r\n            value = &quot;SELECT some_routine(CAST(:#{#environmentNamedParam.name()} as environment))&quot;,\r\n            nativeQuery = true\r\n    )\r\n    fun yourFunction(\r\n            @Param(&quot;environmentNamedParam&quot;) environmentParam: Environment\r\n    ) : Boolean\r\n\r\nDifferentiate between:\r\n\r\n - environmentNamedParam\r\n - environmentParam\r\n - environment\r\n\r\n___\r\n\r\n#spring #jpa #postgresql #kotlin","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>After a few days with this error, I was able to find the solution.</p>\n<p>I did a lot of research and tested in many ways receiving as a parameter <code>@Param(&quot;environment&quot;) environment: Environment</code>:</p>\n<pre><code> :#{#environment.TESTING}\n :#{#environment}\n :#{#environment.name()}\n CAST(:#{#environment.name()} as environment)\n</code></pre>\n<hr />\n<h1>Solution in Kotlin</h1>\n<p>The key is in the query. <strong>You must to transform the value of the parameter to a String using <code>.name()</code> (or receive a String as a parameter) and cast that value of type String to the specific Enum that is needed</strong>. Because passing an object of type Enum directly in the query does not work.</p>\n<p>Assuming the Enum in your database is defined as <code>environment</code>.</p>\n<pre><code>@Query(\n        value = &quot;SELECT some_routine(CAST(:#{#environmentNamedParam.name()} as environment))&quot;,\n        nativeQuery = true\n)\nfun yourFunction(\n        @Param(&quot;environmentNamedParam&quot;) environmentParam: Environment\n) : Boolean\n</code></pre>\n<p>Differentiate between:</p>\n<ul>\n<li>environmentNamedParam</li>\n<li>environmentParam</li>\n<li>environment</li>\n</ul>\n<hr />\n<p>#spring #jpa #postgresql #kotlin</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679317591,"creation_date":1622459704,"answer_id":67772674,"question_id":44460394,"body_markdown":"I solved this issue using `#{#paramName?.name()}`\r\n\r\n    public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\r\n        @Query(value = &quot;select * from items where type = :#{#type?.name()}&quot;, nativeQuery = true)\r\n        List&lt;Item&gt; findByType(@Param(&quot;type&quot;) EnumType type);\r\n    }\r\n     \r\n    public enum EnumType { NORMAL, LARGE };\r\n\r\nNote: the &quot;?&quot; manages the case when the `type` parameter is null.","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>I solved this issue using <code>#{#paramName?.name()}</code></p>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, Long&gt; {\n    @Query(value = &quot;select * from items where type = :#{#type?.name()}&quot;, nativeQuery = true)\n    List&lt;Item&gt; findByType(@Param(&quot;type&quot;) EnumType type);\n}\n \npublic enum EnumType { NORMAL, LARGE };\n</code></pre>\n<p>Note: the &quot;?&quot; manages the case when the <code>type</code> parameter is null.</p>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698854929,"creation_date":1698854929,"answer_id":77404040,"question_id":44460394,"body_markdown":"With Hibernate 5, I was using the following:\r\n\r\n    public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n        @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app \r\n    WHERE app.status=:#{#status?.name()}&quot;)\r\n        List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status);\r\n    }\r\n\r\nBut this doesn&#39;t work anymore with Hibernate 6 (tested with 6.2.9, maybe due to https://hibernate.atlassian.net/browse/HHH-17006), so now I&#39;m using the following (the enum is passed as String to the native query, and the enum-&gt;name conversion is done in a default method; requires Java 8):\r\n\r\n    public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n        @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app \r\n    WHERE :status IS NULL or app.status=:status&quot;)\r\n        List&lt;Application&gt; find(@Param(&quot;status&quot;) String status);        \r\n\r\n        default List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status) {\r\n            return find(status != null ? status.name() : null);\r\n        }\r\n    }","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>With Hibernate 5, I was using the following:</p>\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\n    @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app \nWHERE app.status=:#{#status?.name()}&quot;)\n    List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status);\n}\n</code></pre>\n<p>But this doesn't work anymore with Hibernate 6 (tested with 6.2.9, maybe due to <a href=\"https://hibernate.atlassian.net/browse/HHH-17006\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-17006</a>), so now I'm using the following (the enum is passed as String to the native query, and the enum-&gt;name conversion is done in a default method; requires Java 8):</p>\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\n    @Query(nativeQuery = true, value = &quot;SELECT app FROM #{#entityName} AS app \nWHERE :status IS NULL or app.status=:status&quot;)\n    List&lt;Application&gt; find(@Param(&quot;status&quot;) String status);        \n\n    default List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status) {\n        return find(status != null ? status.name() : null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9917401,"reputation":531,"user_id":7341741,"display_name":"Tetiana Serediuk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27378,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"answer_count":7,"score":53,"last_activity_date":1698854929,"creation_date":1497018534,"question_id":44460394,"body_markdown":"Entity looks like this:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class Application {\r\n\t@Id\r\n\tprivate Long id;\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate ApplicationStatus status;\r\n    }\r\n\r\nCode works this way:\r\n\r\n    public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\r\n    @Query(&quot;SELECT app FROM #{#entityName} AS app WHERE app.status LIKE :status&quot;)\r\n    List&lt;Application&gt; find(@Param(&quot;status&quot;) ApplicationStatus status);\r\n\r\nBut the same snippet with nativeQuery - doesn&#39;t:\r\n\r\n    @Query(value = &quot;SELECT app.* FROM application AS app WHERE app.status LIKE :status&quot;, nativeQuery = true)\r\n    List&lt;Application&gt; findNative(@Param(&quot;status&quot;) ApplicationStatus status);\r\n    }\r\n\r\nAnd I don`t have any exception, just empty list.\r\n\r\nHow can I fix this? Is it possible to use `enum` with `nativeQuery`?\r\n\r\nP.S I can pass `String` into method instead of `ApplicationStatus` but maybe there are another option?\r\n\r\n\r\n\r\n\r\n","title":"Can I use enum parameter into JpaRepository nativeQuery?","body":"<p>Entity looks like this:</p>\n\n<pre><code>@Getter\n@Setter\n@Entity\npublic class Application {\n@Id\nprivate Long id;\n@Enumerated(EnumType.STRING)\nprivate ApplicationStatus status;\n}\n</code></pre>\n\n<p>Code works this way:</p>\n\n<pre><code>public interface ApplicationRepository extends JpaRepository&lt;Application, Long&gt; {\n@Query(\"SELECT app FROM #{#entityName} AS app WHERE app.status LIKE :status\")\nList&lt;Application&gt; find(@Param(\"status\") ApplicationStatus status);\n</code></pre>\n\n<p>But the same snippet with nativeQuery - doesn't:</p>\n\n<pre><code>@Query(value = \"SELECT app.* FROM application AS app WHERE app.status LIKE :status\", nativeQuery = true)\nList&lt;Application&gt; findNative(@Param(\"status\") ApplicationStatus status);\n}\n</code></pre>\n\n<p>And I don`t have any exception, just empty list.</p>\n\n<p>How can I fix this? Is it possible to use <code>enum</code> with <code>nativeQuery</code>?</p>\n\n<p>P.S I can pass <code>String</code> into method instead of <code>ApplicationStatus</code> but maybe there are another option?</p>\n"},{"tags":["java","maven","xsd","jaxb","code-generation"],"owner":{"account_id":29803983,"reputation":1,"user_id":22841108,"display_name":"Bill Zhao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698854756,"creation_date":1698854756,"question_id":77404021,"body_markdown":"I am currently facing an issue while using the jaxb2-maven-plugin to generate Java classes from an XSD in my Maven project. The problem is that the ObjectFactory and package-info.java classes are not being generated as expected. I have followed the recommended steps and checked various configurations, but the issue persists.\r\n\r\nHere are the details of my setup:\r\nI am using the jaxb2-maven-plugin with version 2.5.0.\r\nMy XSD file is well-formed and follows the expected structure.\r\nThe Maven plugin configuration in my pom.xml seems correct.\r\nI have validated my project&#39;s Maven and Java versions for compatibility.\r\n\r\nI would appreciate any insights, suggestions, or solutions that can help me resolve this issue. If you have encountered a similar problem with the jaxb2-maven-plugin or have expertise in JAXB code generation, please share your thoughts on what might be causing this issue and how to fix it.\r\n\r\n\r\n\r\nChecked the Maven plugin configuration.\r\nCleaned the project using mvn clean.\r\nInspected the generated Java classes to ensure they match the XSD structure.","title":"Issue Generating ObjectFactory.java and package-info.java with jaxb2-maven-plugin","body":"<p>I am currently facing an issue while using the jaxb2-maven-plugin to generate Java classes from an XSD in my Maven project. The problem is that the ObjectFactory and package-info.java classes are not being generated as expected. I have followed the recommended steps and checked various configurations, but the issue persists.</p>\n<p>Here are the details of my setup:\nI am using the jaxb2-maven-plugin with version 2.5.0.\nMy XSD file is well-formed and follows the expected structure.\nThe Maven plugin configuration in my pom.xml seems correct.\nI have validated my project's Maven and Java versions for compatibility.</p>\n<p>I would appreciate any insights, suggestions, or solutions that can help me resolve this issue. If you have encountered a similar problem with the jaxb2-maven-plugin or have expertise in JAXB code generation, please share your thoughts on what might be causing this issue and how to fix it.</p>\n<p>Checked the Maven plugin configuration.\nCleaned the project using mvn clean.\nInspected the generated Java classes to ensure they match the XSD structure.</p>\n"},{"tags":["java","sonarqube","checkstyle"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1698854763,"post_id":77403982,"comment_id":136458415,"body_markdown":"Welcome to Stack Overflow.  I think check style is just warning you that the way in which you are incrementing `count` is not really good style.  You can adjust checkstyle, to make it a warning (rather than an error) or you could try using something like `count += 1`. If the child depth can be large, recursion might not be a goos fit for your problem.","body":"Welcome to Stack Overflow.  I think check style is just warning you that the way in which you are incrementing <code>count</code> is not really good style.  You can adjust checkstyle, to make it a warning (rather than an error) or you could try using something like <code>count += 1</code>. If the child depth can be large, recursion might not be a goos fit for your problem."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1698855136,"post_id":77403982,"comment_id":136458493,"body_markdown":"Your function is not doing what you thing it&#39;s doing. All arguments are passed by value, and this means that the recursive call cannot change the value of `count`. What you need is something like `count = getChildChildDepth(projectTask.getChildTasks(), count + 1)`","body":"Your function is not doing what you thing it&#39;s doing. All arguments are passed by value, and this means that the recursive call cannot change the value of <code>count</code>. What you need is something like <code>count = getChildChildDepth(projectTask.getChildTasks(), count + 1)</code>"}],"owner":{"account_id":6936202,"reputation":9,"user_id":5324021,"display_name":"Bhaskar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698854748,"creation_date":1698854377,"question_id":77403982,"body_markdown":"    private int getChildChildDepth(List&lt;ProjectTask&gt; childProjectTasks, int count)\r\n        {\r\n            for (ProjectTask projectTask : childProjectTasks)\r\n            {\r\n                if (projectTask.getChildTasks().size() &gt; 0)\r\n                {\r\n                    count++;\r\n                    getChildChildDepth(projectTask.getChildTasks(), count);\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\nIn above i am getting ParameterAssignmentCheck error at **count++**. I am using recursive function.\r\n**Error:**  Assignment of parameter &#39;count&#39; is not allowed.","title":"Java checkstyle error ParameterAssignmentCheck","body":"<pre><code>private int getChildChildDepth(List&lt;ProjectTask&gt; childProjectTasks, int count)\n    {\n        for (ProjectTask projectTask : childProjectTasks)\n        {\n            if (projectTask.getChildTasks().size() &gt; 0)\n            {\n                count++;\n                getChildChildDepth(projectTask.getChildTasks(), count);\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>In above i am getting ParameterAssignmentCheck error at <strong>count++</strong>. I am using recursive function.\n<strong>Error:</strong>  Assignment of parameter 'count' is not allowed.</p>\n"},{"tags":["java","algorithm","sorting","data-structures"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":6,"creation_date":1698819424,"post_id":77400637,"comment_id":136452192,"body_markdown":"Have you tried [BigInteger](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html)?","body":"Have you tried <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a>?"},{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1698819723,"post_id":77400637,"comment_id":136452227,"body_markdown":"You could sort by the String&#39;s length, resolving ties by alphabetical order.","body":"You could sort by the String&#39;s length, resolving ties by alphabetical order."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1698827948,"post_id":77400637,"comment_id":136453260,"body_markdown":"@DawoodibnKareem that would work as long as there are no leading zeroes in any of the strings. Otherwise, 01 could still come after 9.","body":"@DawoodibnKareem that would work as long as there are no leading zeroes in any of the strings. Otherwise, 01 could still come after 9."},{"owner":{"account_id":29360326,"reputation":13,"user_id":22495176,"display_name":"Sanjay065"},"score":0,"creation_date":1698828160,"post_id":77400637,"comment_id":136453286,"body_markdown":"@RifatRubayatulIslam biginteger is promising but I&#39;m trying to operate on existing array only.","body":"@RifatRubayatulIslam biginteger is promising but I&#39;m trying to operate on existing array only."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698828411,"post_id":77400637,"comment_id":136453316,"body_markdown":"In that case, you can follow what @DawoodibnKareem suggested. But make sure there is no leading zero (see comment of @RobSpoor) and there is no negative number.","body":"In that case, you can follow what @DawoodibnKareem suggested. But make sure there is no leading zero (see comment of @RobSpoor) and there is no negative number."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1698829156,"post_id":77400637,"comment_id":136453413,"body_markdown":"Create your own `Comperator&lt;Strinng&gt;` that parses the Strings from left to right (take in account if the lengths of both differ) until you can decide which value is greater.","body":"Create your own <code>Comperator&lt;Strinng&gt;</code> that parses the Strings from left to right (take in account if the lengths of both differ) until you can decide which value is greater."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1698836052,"post_id":77400637,"comment_id":136454563,"body_markdown":"What, in the context of Java, is `long long int`?","body":"What, in the context of Java, is <code>long long int</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698839303,"post_id":77400637,"comment_id":136455079,"body_markdown":"no leading zero, or just *exclude* leading zeros when calculating the length","body":"no leading zero, or just <i>exclude</i> leading zeros when calculating the length"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698854684,"creation_date":1698819906,"answer_id":77400720,"question_id":77400637,"body_markdown":"If you cannot convert this into a standard `Number` instance (in Java), then use lexical sorting instead of numeric sorting.\r\n\r\nFor the integral part of the number string:\r\n-------------------------------------------\r\n\r\n1. **Ensure that all strings contain digits only.** Remove spaces, etc. \r\n2. **Ensure that all strings are of the same length.** If they aren&#39;t, prefix the right number of zeros. Eg, if the length of the largest string is 10 and you have a string say `99`, then make it `0000000099`.\r\n3. At this stage, the strings are ready to be compared. Simply, **sort the array as you would any string array.**\r\n\r\nFor the decimal part of the number string:\r\n-------------------------------------------\r\n\r\nIf your array contains decimals, before sorting, you will have to extend the above algorithm to: \r\n\r\n1. **Position the decimal point at a particular position in all strings**, say 11. You have to choose the position by analysing all the strings.\r\n2. **The number of places after the decimal should also be same in all strings**. Again, in the end, the strings should all be the same length. But in the case of the decimal part, do this by padding the zeros at the end. (We need this padding only as a safety net to compare numerically equivalent number strings, like `&quot;1.260&quot;` and `&quot;1.26&quot;`. If we are sure that all numbers are different from each other, then we don&#39;t need this.)","title":"How to sort an array of big numbers stored as String?","body":"<p>If you cannot convert this into a standard <code>Number</code> instance (in Java), then use lexical sorting instead of numeric sorting.</p>\n<h2>For the integral part of the number string:</h2>\n<ol>\n<li><strong>Ensure that all strings contain digits only.</strong> Remove spaces, etc.</li>\n<li><strong>Ensure that all strings are of the same length.</strong> If they aren't, prefix the right number of zeros. Eg, if the length of the largest string is 10 and you have a string say <code>99</code>, then make it <code>0000000099</code>.</li>\n<li>At this stage, the strings are ready to be compared. Simply, <strong>sort the array as you would any string array.</strong></li>\n</ol>\n<h2>For the decimal part of the number string:</h2>\n<p>If your array contains decimals, before sorting, you will have to extend the above algorithm to:</p>\n<ol>\n<li><strong>Position the decimal point at a particular position in all strings</strong>, say 11. You have to choose the position by analysing all the strings.</li>\n<li><strong>The number of places after the decimal should also be same in all strings</strong>. Again, in the end, the strings should all be the same length. But in the case of the decimal part, do this by padding the zeros at the end. (We need this padding only as a safety net to compare numerically equivalent number strings, like <code>&quot;1.260&quot;</code> and <code>&quot;1.26&quot;</code>. If we are sure that all numbers are different from each other, then we don't need this.)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20028,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698832180,"creation_date":1698832180,"answer_id":77401685,"question_id":77400637,"body_markdown":"You can use Java&#39;s [BigInteger][1] class along with a custom comparator to sort your array:\r\n\r\n    import java.util.Arrays;\r\n    import java.math.BigInteger;\r\n    import java.util.Comparator;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String[] arr = {\r\n                &quot;545434548549387551787458475822&quot;,\r\n                &quot;7485204875485114857489579847438573954738574359287485284574&quot;,\r\n                &quot;555434548549387551787458475822&quot;\r\n            };\r\n            System.out.println(&quot;Before sorting:\\n&quot; + Arrays.toString(arr));\r\n            Arrays.sort(arr, new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                    return new BigInteger(o1).compareTo(new BigInteger(o2));\r\n                }\r\n            });\r\n            // Alternative lambda custom comparator: \r\n            // Arrays.sort(arr, (o1, o2) -&gt; new BigInteger(o1).compareTo(new BigInteger(o2)));\r\n            System.out.println(&quot;After sorting:\\n&quot; + Arrays.toString(arr));\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    Before sorting:\r\n    [545434548549387551787458475822, 7485204875485114857489579847438573954738574359287485284574, 555434548549387551787458475822]\r\n    After sorting:\r\n    [545434548549387551787458475822, 555434548549387551787458475822, 7485204875485114857489579847438573954738574359287485284574]\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html","title":"How to sort an array of big numbers stored as String?","body":"<p>You can use Java's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> class along with a custom comparator to sort your array:</p>\n<pre><code>import java.util.Arrays;\nimport java.math.BigInteger;\nimport java.util.Comparator;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] arr = {\n            &quot;545434548549387551787458475822&quot;,\n            &quot;7485204875485114857489579847438573954738574359287485284574&quot;,\n            &quot;555434548549387551787458475822&quot;\n        };\n        System.out.println(&quot;Before sorting:\\n&quot; + Arrays.toString(arr));\n        Arrays.sort(arr, new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String o1, String o2) {\n                return new BigInteger(o1).compareTo(new BigInteger(o2));\n            }\n        });\n        // Alternative lambda custom comparator: \n        // Arrays.sort(arr, (o1, o2) -&gt; new BigInteger(o1).compareTo(new BigInteger(o2)));\n        System.out.println(&quot;After sorting:\\n&quot; + Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Before sorting:\n[545434548549387551787458475822, 7485204875485114857489579847438573954738574359287485284574, 555434548549387551787458475822]\nAfter sorting:\n[545434548549387551787458475822, 555434548549387551787458475822, 7485204875485114857489579847438573954738574359287485284574]\n</code></pre>\n"}],"owner":{"account_id":29360326,"reputation":13,"user_id":22495176,"display_name":"Sanjay065"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77401685,"answer_count":2,"score":1,"last_activity_date":1698854684,"creation_date":1698818663,"question_id":77400637,"body_markdown":"to sort the array we cannot use integer (or `Long`) parsing as size is very big.\r\n\r\nfor example  \r\n~~~\r\nString[] arr = new String[] {\r\n        &quot;545434548549387551787458475822&quot;, \r\n        &quot;555434548549387551787458475822&quot;,\r\n        &quot;7485204875485114857489579847438573954738574359287485284574&quot;\r\n    };\r\n~~~\r\nwe have only integral part in string.\r\n","title":"How to sort an array of big numbers stored as String?","body":"<p>to sort the array we cannot use integer (or <code>Long</code>) parsing as size is very big.</p>\n<p>for example</p>\n<pre><code>String[] arr = new String[] {\n        &quot;545434548549387551787458475822&quot;, \n        &quot;555434548549387551787458475822&quot;,\n        &quot;7485204875485114857489579847438573954738574359287485284574&quot;\n    };\n</code></pre>\n<p>we have only integral part in string.</p>\n"},{"tags":["java","multithreading","concurrency","queue"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1698851868,"post_id":77403615,"comment_id":136457772,"body_markdown":"Maybe try [`Executors.newFixedThreadPool(1)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)).","body":"Maybe try <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\"><code>Executors.newFixedThreadPool(1)</code></a>."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698851980,"post_id":77403615,"comment_id":136457795,"body_markdown":"Can you redesign your software so that `Task` is a `Runnable` rather than requiring the executor to call `doStuff(task);`?","body":"Can you redesign your software so that <code>Task</code> is a <code>Runnable</code> rather than requiring the executor to call <code>doStuff(task);</code>?"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1698852235,"post_id":77403615,"comment_id":136457861,"body_markdown":"@Holger Yes. I&#39;m only missing a way to get the same behavior I have with `taskQueue.offer(task, 5, TimeUnit.SECONDS)`, I think...","body":"@Holger Yes. I&#39;m only missing a way to get the same behavior I have with <code>taskQueue.offer(task, 5, TimeUnit.SECONDS)</code>, I think..."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698853805,"creation_date":1698853247,"answer_id":77403846,"question_id":77403615,"body_markdown":"It’s important to understand that [`ThreadPoolExecutor`] does never wait for the queue to become “not full”. It uses [`offer`] which immediately returns `false` if the capacity is exhausted and if that happens and the configured maximum thread size has been reached, the executor will call the [`RejectedExecutionHandler`].\r\n\r\nSo, you can specify a maximum thread count of one and this [`RejectedExecutionHandler`]:\r\n\r\n```java\r\nRejectedExecutionHandler tryForFiveSecs = (r, es) -&gt; {\r\n    boolean added = false;\r\n    try {\r\n        BlockingQueue&lt;Runnable&gt; taskQueue = ((ThreadPoolExecutor)es).getQueue();\r\n        added = taskQueue.offer(r, 5, TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {/*no-op*/}\r\n    if(!added) {\r\n        //assuming the Runnable and &quot;Task&quot; are interchangeable\r\n        publishEvent(new Fail(r));\r\n    }\r\n};\r\n```\r\n\r\nUsing the constructor [`ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)`][1].\r\n\r\nNote that this covers uses of `execute` which is sufficient for your existing workflows. If you start using `submit` and the returned futures, you have to consider that the futures returned for failed jobs will never finish. Unless, you extend the handler, e.g.:\r\n\r\n```java\r\nRejectedExecutionHandler tryForFiveSecs = (r, es) -&gt; {\r\n    boolean added = false;\r\n    try {\r\n        BlockingQueue&lt;Runnable&gt; taskQueue = ((ThreadPoolExecutor)es).getQueue();\r\n        added = taskQueue.offer(r, 5, TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {/*no-op*/}\r\n    if(!added) {\r\n        //assuming the Runnable and &quot;Task&quot; are interchangeable\r\n        publishEvent(new Fail(r));\r\n        if(r instanceof Future&lt;?&gt; f) f.cancel(false);\r\n    }\r\n};\r\n```\r\n\r\n[`ThreadPoolExecutor`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\r\n[`offer`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/BlockingQueue.html#offer(E)\r\n[`RejectedExecutionHandler`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/RejectedExecutionHandler.html\r\n[1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory,java.util.concurrent.RejectedExecutionHandler)","title":"Replace a BlockingQueue + daemon thread with an Executor","body":"<p>It’s important to understand that <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a> does never wait for the queue to become “not full”. It uses <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/BlockingQueue.html#offer(E)\" rel=\"nofollow noreferrer\"><code>offer</code></a> which immediately returns <code>false</code> if the capacity is exhausted and if that happens and the configured maximum thread size has been reached, the executor will call the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/RejectedExecutionHandler.html\" rel=\"nofollow noreferrer\"><code>RejectedExecutionHandler</code></a>.</p>\n<p>So, you can specify a maximum thread count of one and this <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/RejectedExecutionHandler.html\" rel=\"nofollow noreferrer\"><code>RejectedExecutionHandler</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RejectedExecutionHandler tryForFiveSecs = (r, es) -&gt; {\n    boolean added = false;\n    try {\n        BlockingQueue&lt;Runnable&gt; taskQueue = ((ThreadPoolExecutor)es).getQueue();\n        added = taskQueue.offer(r, 5, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {/*no-op*/}\n    if(!added) {\n        //assuming the Runnable and &quot;Task&quot; are interchangeable\n        publishEvent(new Fail(r));\n    }\n};\n</code></pre>\n<p>Using the constructor <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory,java.util.concurrent.RejectedExecutionHandler)\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)</code></a>.</p>\n<p>Note that this covers uses of <code>execute</code> which is sufficient for your existing workflows. If you start using <code>submit</code> and the returned futures, you have to consider that the futures returned for failed jobs will never finish. Unless, you extend the handler, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RejectedExecutionHandler tryForFiveSecs = (r, es) -&gt; {\n    boolean added = false;\n    try {\n        BlockingQueue&lt;Runnable&gt; taskQueue = ((ThreadPoolExecutor)es).getQueue();\n        added = taskQueue.offer(r, 5, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {/*no-op*/}\n    if(!added) {\n        //assuming the Runnable and &quot;Task&quot; are interchangeable\n        publishEvent(new Fail(r));\n        if(r instanceof Future&lt;?&gt; f) f.cancel(false);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77403846,"answer_count":1,"score":2,"last_activity_date":1698853805,"creation_date":1698851112,"question_id":77403615,"body_markdown":"I have a `BlockingQueue` with tasks, and a single daemon thread executing them:\r\n\r\n```java\r\npublic class TaskManager {\r\n\r\n  private final BlockingQueue&lt;Task&gt; taskQueue;\r\n\r\n  public TaskManager() {\r\n    this.taskQueue = new ArrayBlockingQueue&lt;&gt;(5); //Max 5 tasks waiting\r\n    Thread taskRunner = new Thread(this::runTask);\r\n    taskRunner.setDaemon(true); //Infinite loop inside shouldn&#39;t prevent JVM shutdown\r\n    taskRunner.start();\r\n  }\r\n\r\n  //Called async\r\n  public void enqueueTask(Task task) {\r\n    boolean added = false;\r\n    try {\r\n        added = taskQueue.offer(task, 5, TimeUnit.SECONDS);\r\n    } catch (InterruptedException e) {/*no-op*/}\r\n    if (!added) {\r\n        publishEvent(new Fail(task)); //Async notify the client their task won&#39;t run\r\n    }\r\n  }\r\n\r\n  //Also called async\r\n  public void dequeueTask(Task task) {\r\n    this.taskQueue.remove(task);\r\n  }\r\n\r\n  void runTask() {\r\n    while (true) {\r\n      try {\r\n        Task task = taskQueue.take(); //Blocks indefinitely\r\n        doStuff(task);\r\n      } catch (InterruptedException e) {\r\n          //Can only be a spurious interruption. Ignore.\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nDoesn&#39;t seem too special. But. It feels like I&#39;m reinventing the wheel by managing the queue and the daemon myself. I&#39;d expect this to be easily doable with an `Executor(Service)` instead. I could have a `ThreadPoolExecutor` with 1 thread, give it a bounded queue. It exposes a `remove` method for me to dequeue tasks. But it seems there&#39;s no way to timeout if enqueuing takes too long (5s timeout on `taskQueue.offer()` in my example).\r\n\r\nIs what I&#39;m doing already legit and I&#39;m just overthinking? If not, can I replace this with an `Executor` and how?","title":"Replace a BlockingQueue + daemon thread with an Executor","body":"<p>I have a <code>BlockingQueue</code> with tasks, and a single daemon thread executing them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TaskManager {\n\n  private final BlockingQueue&lt;Task&gt; taskQueue;\n\n  public TaskManager() {\n    this.taskQueue = new ArrayBlockingQueue&lt;&gt;(5); //Max 5 tasks waiting\n    Thread taskRunner = new Thread(this::runTask);\n    taskRunner.setDaemon(true); //Infinite loop inside shouldn't prevent JVM shutdown\n    taskRunner.start();\n  }\n\n  //Called async\n  public void enqueueTask(Task task) {\n    boolean added = false;\n    try {\n        added = taskQueue.offer(task, 5, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {/*no-op*/}\n    if (!added) {\n        publishEvent(new Fail(task)); //Async notify the client their task won't run\n    }\n  }\n\n  //Also called async\n  public void dequeueTask(Task task) {\n    this.taskQueue.remove(task);\n  }\n\n  void runTask() {\n    while (true) {\n      try {\n        Task task = taskQueue.take(); //Blocks indefinitely\n        doStuff(task);\n      } catch (InterruptedException e) {\n          //Can only be a spurious interruption. Ignore.\n      }\n    }\n  }\n}\n</code></pre>\n<p>Doesn't seem too special. But. It feels like I'm reinventing the wheel by managing the queue and the daemon myself. I'd expect this to be easily doable with an <code>Executor(Service)</code> instead. I could have a <code>ThreadPoolExecutor</code> with 1 thread, give it a bounded queue. It exposes a <code>remove</code> method for me to dequeue tasks. But it seems there's no way to timeout if enqueuing takes too long (5s timeout on <code>taskQueue.offer()</code> in my example).</p>\n<p>Is what I'm doing already legit and I'm just overthinking? If not, can I replace this with an <code>Executor</code> and how?</p>\n"},{"tags":["java","maven","lombok","mapstruct","intellij-lombok-plugin"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":299,"is_accepted":true,"score":299,"last_activity_date":1609855926,"creation_date":1512598581,"answer_id":47684351,"question_id":47676369,"body_markdown":"The reason why it does not work is because Maven only uses the MapStruct processor and not the Lombok one. The `annotationProcessorPaths` tells maven which processors it should use.\r\n\r\nThe delombok does nothing as you are ending up with 2 files per class and I think that the maven compiler does not see them.\r\n\r\nYou have 2 options:\r\n\r\nOption 1: Add the lombok dependency in the `annotationProcessorPaths`\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;${java.version}&lt;/source&gt;\r\n            &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.2.0&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;!-- Mapstruct should follow the lombok path(s) --&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nOption 2:\r\n\r\nAdd the `mapstruct-processor` dependency to your dependencies and remove the `annotationProcessorPaths`. This way the maven compiler will pick up all the annotation processors that are in your dependencies.\r\n\r\nI would advise in using Option 1, as with that you can be certain that you are not using some `MapStruct` transitive dependencies and internal classes in your code.\r\n\r\n\r\nEdit:\r\n\r\nTo make sure that the IntelliJ annotation processing also works you will have to add the `mapstruct-processor` as a `provided` dependency due to [IDEA-150621](https://youtrack.jetbrains.com/issue/IDEA-150621). IntelliJ in the moment does not use the `annotationProcessorPaths` from Maven to configure the project correctly.\r\n\r\nEdit 2:\r\n\r\nAdd information and comment about `lombok-mapstruct-binding` needed from Lombok 1.18.16.","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>The reason why it does not work is because Maven only uses the MapStruct processor and not the Lombok one. The <code>annotationProcessorPaths</code> tells maven which processors it should use.</p>\n<p>The delombok does nothing as you are ending up with 2 files per class and I think that the maven compiler does not see them.</p>\n<p>You have 2 options:</p>\n<p>Option 1: Add the lombok dependency in the <code>annotationProcessorPaths</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- Mapstruct should follow the lombok path(s) --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Option 2:</p>\n<p>Add the <code>mapstruct-processor</code> dependency to your dependencies and remove the <code>annotationProcessorPaths</code>. This way the maven compiler will pick up all the annotation processors that are in your dependencies.</p>\n<p>I would advise in using Option 1, as with that you can be certain that you are not using some <code>MapStruct</code> transitive dependencies and internal classes in your code.</p>\n<p>Edit:</p>\n<p>To make sure that the IntelliJ annotation processing also works you will have to add the <code>mapstruct-processor</code> as a <code>provided</code> dependency due to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-150621\" rel=\"noreferrer\">IDEA-150621</a>. IntelliJ in the moment does not use the <code>annotationProcessorPaths</code> from Maven to configure the project correctly.</p>\n<p>Edit 2:</p>\n<p>Add information and comment about <code>lombok-mapstruct-binding</code> needed from Lombok 1.18.16.</p>\n"},{"tags":[],"owner":{"account_id":1427504,"reputation":2006,"user_id":1350643,"accept_rate":60,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1539912051,"creation_date":1539912051,"answer_id":52884637,"question_id":47676369,"body_markdown":"Just in case if somebody is looking for how to configure it using Gradle:\r\n\r\n    dependencies {\r\n    \r\n       // Lombok\r\n       compileOnly &#39;org.projectlombok:lombok:1.18.2&#39;\r\n       annotationProcessor &#39;org.projectlombok:lombok:1.18.2&#39;\r\n \r\n       // MapStruct\r\n       compileOnly &#39;org.mapstruct:mapstruct-jdk8:1.2.0.Final&#39;\r\n       annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.2.0.Final&#39;\r\n\r\n    }","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>Just in case if somebody is looking for how to configure it using Gradle:</p>\n\n<pre><code>dependencies {\n\n   // Lombok\n   compileOnly 'org.projectlombok:lombok:1.18.2'\n   annotationProcessor 'org.projectlombok:lombok:1.18.2'\n\n   // MapStruct\n   compileOnly 'org.mapstruct:mapstruct-jdk8:1.2.0.Final'\n   annotationProcessor 'org.mapstruct:mapstruct-processor:1.2.0.Final'\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4763082,"reputation":974,"user_id":3849984,"display_name":"Laess3r"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548255398,"creation_date":1548255398,"answer_id":54330002,"question_id":47676369,"body_markdown":"I had similar issues. Turned out my MapStruct version was outdated!\r\n\r\nI used MapStruct version 1.1.0.Final, but **for Lombok support at least 1.2.0.Final is required**.","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>I had similar issues. Turned out my MapStruct version was outdated!</p>\n\n<p>I used MapStruct version 1.1.0.Final, but <strong>for Lombok support at least 1.2.0.Final is required</strong>.</p>\n"},{"tags":[],"owner":{"account_id":8369221,"reputation":1484,"user_id":6284931,"accept_rate":29,"display_name":"Sai Sarath C P"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605786436,"creation_date":1605786436,"answer_id":64911051,"question_id":47676369,"body_markdown":"If someone is still looking for this answer, I faced a similar issue with JOOQ + MapStruct Integration. The answer is the order of paths matters\r\n\r\n- IntellijIdea 2020.2.3\r\n- Java 8\r\n- Spring Framework 2.4.0\r\n\r\nMy build snippet\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;!-- This is needed when using Lombok 1.8.16 and above --&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>If someone is still looking for this answer, I faced a similar issue with JOOQ + MapStruct Integration. The answer is the order of paths matters</p>\n<ul>\n<li>IntellijIdea 2020.2.3</li>\n<li>Java 8</li>\n<li>Spring Framework 2.4.0</li>\n</ul>\n<p>My build snippet</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${org.lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;!-- This is needed when using Lombok 1.8.16 and above --&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;${org.lombok-mapstruct-binding.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11409023,"reputation":656,"user_id":8363706,"display_name":"Alex"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1606392822,"creation_date":1606392822,"answer_id":65021876,"question_id":47676369,"body_markdown":"For me solution was realy simple.\r\n\r\nThe order of the processors was important.\r\n\r\nIn my case mapstruct processor was defined before lombok processor. In case with bad order mapstruct does not generate mappings, just create instance of result class (i saw that in generated implementation).\r\n\r\nMy plugin configuration with right order:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;15&lt;/source&gt;\r\n\t\t\t&lt;target&gt;15&lt;/target&gt;\r\n\t\t\t&lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t&lt;/path&gt;\r\n\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nAnd of course you need to add dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>For me solution was realy simple.</p>\n<p>The order of the processors was important.</p>\n<p>In my case mapstruct processor was defined before lombok processor. In case with bad order mapstruct does not generate mappings, just create instance of result class (i saw that in generated implementation).</p>\n<p>My plugin configuration with right order:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;15&lt;/source&gt;\n        &lt;target&gt;15&lt;/target&gt;\n        &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And of course you need to add dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239254,"reputation":3279,"user_id":508709,"accept_rate":87,"display_name":"chris polzer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606985549,"creation_date":1606985549,"answer_id":65122606,"question_id":47676369,"body_markdown":"I agree that the order does play its role, also when using gradle. In my case it was failing as soon I was adding `subprojects { ... dependencyManagement{}}` to the parent `build.gradle` in a multimodule setup.\r\n ","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>I agree that the order does play its role, also when using gradle. In my case it was failing as soon I was adding <code>subprojects { ... dependencyManagement{}}</code> to the parent <code>build.gradle</code> in a multimodule setup.</p>\n"},{"tags":[],"owner":{"account_id":13901100,"reputation":21,"user_id":10036687,"display_name":"Kartikeswar Mallik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607624657,"creation_date":1607624657,"answer_id":65240200,"question_id":47676369,"body_markdown":"The mapstruct was just returning a null instance. Recently I upgraded the Intellij version to 2020.3, and spring boot 2.4.0, and landed into this situation.\r\n\r\nWhen I changed the spring version to 2.3.o.RELEASE, I could see after compilation is that mapstruct was building the mappings properly.\r\n\r\nGoing through the post that mapstruct has recently updated.. but it will take time.. :) so, for now, I moved from maven to Gradle project and all working absolutely fine.. sounds weird but true... \r\n\r\nI would be thankful if anyone would post what exactly the right issue and what&#39;s the solution.","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>The mapstruct was just returning a null instance. Recently I upgraded the Intellij version to 2020.3, and spring boot 2.4.0, and landed into this situation.</p>\n<p>When I changed the spring version to 2.3.o.RELEASE, I could see after compilation is that mapstruct was building the mappings properly.</p>\n<p>Going through the post that mapstruct has recently updated.. but it will take time.. :) so, for now, I moved from maven to Gradle project and all working absolutely fine.. sounds weird but true...</p>\n<p>I would be thankful if anyone would post what exactly the right issue and what's the solution.</p>\n"},{"tags":[],"owner":{"account_id":2246423,"reputation":123,"user_id":1979654,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609222326,"creation_date":1609222326,"answer_id":65488044,"question_id":47676369,"body_markdown":"For issues after upgrading Intellij to 2020.3 version, following solution worked for me.\r\nUse lombok version: 1.18.16, lombok-mapstruct-binding: 0.2.0\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nChange the order of the lombok and mapstruct plugin path in annotation processing section of plugins:\r\n```\r\n&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n```","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>For issues after upgrading Intellij to 2020.3 version, following solution worked for me.\nUse lombok version: 1.18.16, lombok-mapstruct-binding: 0.2.0</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Change the order of the lombok and mapstruct plugin path in annotation processing section of plugins:</p>\n<pre><code>&lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3111765,"reputation":431,"user_id":2633378,"display_name":"Mihnea"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1616654029,"creation_date":1616654029,"answer_id":66794237,"question_id":47676369,"body_markdown":"After multiple attempts in my Spring Boot Maven project, the following finally worked:\r\n\r\nConfiguration of pom.xml:\r\n1. The properties section:\r\n```\r\n    &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;version.lombok&gt;1.18.18&lt;/version.lombok&gt;\r\n    \t\t&lt;version.mapstruct&gt;1.4.2.Final&lt;/version.mapstruct&gt;\r\n    \t\t&lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\r\n    \t&lt;/properties&gt;\r\n```\r\n\r\n2. The dependencies section:\t\r\n\r\n```\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${version.lombok}&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n3. The build plugins section:\r\n```\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;9&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;9&lt;/target&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;${version.lombok}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n```\r\n\r\nHope this helps, my mapper before did not map the field values, but now these are mapper between the source and the target + the nested list of elements in each is also being mapped along with field values.\r\n\r\n","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>After multiple attempts in my Spring Boot Maven project, the following finally worked:</p>\n<p>Configuration of pom.xml:</p>\n<ol>\n<li>The properties section:</li>\n</ol>\n<pre><code>    &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n            &lt;version.lombok&gt;1.18.18&lt;/version.lombok&gt;\n            &lt;version.mapstruct&gt;1.4.2.Final&lt;/version.mapstruct&gt;\n            &lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\n        &lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li>The dependencies section:</li>\n</ol>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${version.lombok}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"3\">\n<li>The build plugins section:</li>\n</ol>\n<pre><code>    &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.5.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;9&lt;/source&gt;\n                        &lt;target&gt;9&lt;/target&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${version.lombok}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                                &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Hope this helps, my mapper before did not map the field values, but now these are mapper between the source and the target + the nested list of elements in each is also being mapped along with field values.</p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1626092646,"creation_date":1625930983,"answer_id":68329117,"question_id":47676369,"body_markdown":"&lt;B&gt;If anyone is reading this when using the latest Lombok and Mapstruct library versions&lt;/B&gt;:-\r\n\r\nIf you are using Lombok 1.18.16 or newer then you also need to add `lombok-mapstruct-binding` in order to make Lombok and MapStruct work together.\r\n\r\nhttps://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p><B>If anyone is reading this when using the latest Lombok and Mapstruct library versions</B>:-</p>\n<p>If you are using Lombok 1.18.16 or newer then you also need to add <code>lombok-mapstruct-binding</code> in order to make Lombok and MapStruct work together.</p>\n<p><a href=\"https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok\" rel=\"nofollow noreferrer\">https://mapstruct.org/faq/#Can-I-use-MapStruct-together-with-Project-Lombok</a></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16940,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629019166,"creation_date":1628974727,"answer_id":68787000,"question_id":47676369,"body_markdown":"For Spring-Boot the simplest configuration with exclude processing code from result jar:\r\n\r\n`pom.xml`\r\n```\r\n     &lt;dependencies&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ....\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- exclude from jar--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nWithout `lombok-mapstruct-binding` it also works fine.  \r\nMaybe somebody comments, what for does it needed?","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>For Spring-Boot the simplest configuration with exclude processing code from result jar:</p>\n<p><code>pom.xml</code></p>\n<pre><code>     &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;0.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        ....\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- exclude from jar--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            ...\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Without <code>lombok-mapstruct-binding</code> it also works fine.<br />\nMaybe somebody comments, what for does it needed?</p>\n"},{"tags":[],"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631040538,"creation_date":1631040538,"answer_id":69093224,"question_id":47676369,"body_markdown":"Apparently this is how you are supposed to load multiple annotation processors in Gradle\r\n```\r\ndependencies {\r\n    implementation &quot;org.mapstruct:mapstruct:1.4.2.Final&quot;, &quot;org.projectlombok:lombok:1.18.20&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;, &quot;org.projectlombok:lombok:1.18.20&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\r\n}\r\n```","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>Apparently this is how you are supposed to load multiple annotation processors in Gradle</p>\n<pre><code>dependencies {\n    implementation &quot;org.mapstruct:mapstruct:1.4.2.Final&quot;, &quot;org.projectlombok:lombok:1.18.20&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;, &quot;org.projectlombok:lombok:1.18.20&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16452180,"reputation":820,"user_id":11885333,"display_name":"keemahs"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690006558,"creation_date":1645240123,"answer_id":71181864,"question_id":47676369,"body_markdown":"I feel a right way to declare versions in pom.xml is to refer to something like [this](https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-dependencies/3.1.2) for versions instead of manually specifying versions of everything. e.g. `maven-compiler-plugin.version`, `lombok.version` is already present there\r\n\r\nproperties block - \r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;java.version&gt;17&lt;/java.version&gt;\r\n  &lt;mapstruct.version&gt;1.5.5.Final&lt;/mapstruct.version&gt;\r\n  &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\ndependencies block - \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;!-- ... --&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nbuild block - \r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n  &lt;!-- ... --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;${java.version}&lt;/source&gt;\r\n        &lt;target&gt;${java.version}&lt;/target&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>I feel a right way to declare versions in pom.xml is to refer to something like <a href=\"https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-dependencies/3.1.2\" rel=\"nofollow noreferrer\">this</a> for versions instead of manually specifying versions of everything. e.g. <code>maven-compiler-plugin.version</code>, <code>lombok.version</code> is already present there</p>\n<p>properties block -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;mapstruct.version&gt;1.5.5.Final&lt;/mapstruct.version&gt;\n  &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>dependencies block -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;!-- ... --&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>build block -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n  &lt;!-- ... --&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n          &lt;/path&gt;\n\n          &lt;path&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n          &lt;/path&gt;\n\n          &lt;path&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n          &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17303147,"reputation":121,"user_id":12532459,"display_name":"Hoang Thinh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653191145,"creation_date":1653191145,"answer_id":72334665,"question_id":47676369,"body_markdown":"For people who uses build gradle, this is the .gradle file I successfully created\r\n\r\n    dependencies {\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    implementation &quot;org.projectlombok:lombok-mapstruct-binding:${gradleMapstructVersion}&quot;\r\n\r\n    implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n\r\n    }\r\n\r\nThe things is that, as said above, we have to use the `org.projectlombok:lombok-mapstruct-binding` in order to use mapstruct with lombok","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>For people who uses build gradle, this is the .gradle file I successfully created</p>\n<pre><code>dependencies {\n\ncompileOnly 'org.projectlombok:lombok'\nannotationProcessor 'org.projectlombok:lombok'\nimplementation &quot;org.projectlombok:lombok-mapstruct-binding:${gradleMapstructVersion}&quot;\n\nimplementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\nannotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\n\n}\n</code></pre>\n<p>The things is that, as said above, we have to use the <code>org.projectlombok:lombok-mapstruct-binding</code> in order to use mapstruct with lombok</p>\n"},{"tags":[],"owner":{"account_id":20136122,"reputation":21,"user_id":16492777,"display_name":"Mektogon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672375708,"creation_date":1672375708,"answer_id":74958218,"question_id":47676369,"body_markdown":"It is enough to add the following dependencies:\r\n\r\n    implementation(&quot;org.mapstruct:mapstruct:1.4.2.Final&quot;)\r\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\r\n    \r\n    compileOnly(&quot;org.projectlombok:lombok&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;)\r\n\r\nFormat: Gradle(Kotlin)","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>It is enough to add the following dependencies:</p>\n<pre><code>implementation(&quot;org.mapstruct:mapstruct:1.4.2.Final&quot;)\nannotationProcessor(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\n\ncompileOnly(&quot;org.projectlombok:lombok&quot;)\nannotationProcessor(&quot;org.projectlombok:lombok&quot;)\nannotationProcessor(&quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;)\n</code></pre>\n<p>Format: Gradle(Kotlin)</p>\n"},{"tags":[],"owner":{"account_id":4792992,"reputation":1645,"user_id":3871615,"accept_rate":43,"display_name":"Prince Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675174396,"creation_date":1675174396,"answer_id":75298453,"question_id":47676369,"body_markdown":"If you have reached till here, that means none of the above solutions worked for you. Finally what worked for me was:\r\n\r\n1. The following order of annotation processor in `pom.xml`\r\n\r\n```\r\n&lt;annotationProcessorPaths&gt;\r\n ...\r\n       &lt;path&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.20&lt;/version&gt;\r\n    &lt;/path&gt;\r\n    &lt;path&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n    &lt;/path&gt;\r\n    &lt;path&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2.0&lt;/version&gt;\r\n    &lt;/path&gt;\r\n ...\r\n&lt;/annotationProcessorPaths&gt;\r\n``` \r\n2. The following setting of Annotation Processors in Intellij IDEA Preferences. Make sure your project is in the right profile. In my case the profile is `Annotation Profile for Alippo` and project is `alippo`. I really don&#39;t know how the configuration made the difference. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VEv3d.png","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>If you have reached till here, that means none of the above solutions worked for you. Finally what worked for me was:</p>\n<ol>\n<li>The following order of annotation processor in <code>pom.xml</code></li>\n</ol>\n<pre><code>&lt;annotationProcessorPaths&gt;\n ...\n       &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/path&gt;\n ...\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n<ol start=\"2\">\n<li>The following setting of Annotation Processors in Intellij IDEA Preferences. Make sure your project is in the right profile. In my case the profile is <code>Annotation Profile for Alippo</code> and project is <code>alippo</code>. I really don't know how the configuration made the difference.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/VEv3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEv3d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5768782,"reputation":2885,"user_id":4552842,"display_name":"Guru Cse"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677506659,"creation_date":1677506659,"answer_id":75581471,"question_id":47676369,"body_markdown":"i have working mapstruct + lombok with following versions\r\n\r\n 1. java 17\r\n 2. mapstruct 1.3.1.Final\r\n 3. spring boot 2.7.6\r\n 4. lombok 1.18.26\r\n 5. lombok-mapstruct-binding 0.2.0\r\n 6. maven-compiler-plugin 3.8.1\r\n\r\n Map struct &gt; 1.4 versions dosent work with latest lombok versions. So in updated versions i have to downgrade mapstruct to make it work \r\n\r\n               &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n\r\n                            &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                                &lt;version&gt;0.2.0&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;1.18.26&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>i have working mapstruct + lombok with following versions</p>\n<ol>\n<li>java 17</li>\n<li>mapstruct 1.3.1.Final</li>\n<li>spring boot 2.7.6</li>\n<li>lombok 1.18.26</li>\n<li>lombok-mapstruct-binding 0.2.0</li>\n<li>maven-compiler-plugin 3.8.1</li>\n</ol>\n<p>Map struct &gt; 1.4 versions dosent work with latest lombok versions. So in updated versions i have to downgrade mapstruct to make it work</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.26&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690069,"creation_date":1678690069,"answer_id":75718728,"question_id":47676369,"body_markdown":"Use this\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;compilerArg&gt;\r\n\t\t\t\t\t\t\t-Amapstruct.defaultComponentModel=spring\r\n\t\t\t\t\t\t&lt;/compilerArg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>Use this</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;compilerArgs&gt;\n                    &lt;compilerArg&gt;\n                        -Amapstruct.defaultComponentModel=spring\n                    &lt;/compilerArg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682289429,"creation_date":1682289429,"answer_id":76087603,"question_id":47676369,"body_markdown":"If you&#39;re using a maven root module and submodules with dependency management, then you need to ensure that the order in your submodule configuration corresponds to the items that you&#39;ve put in the root pom: \r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nEnsure the same order in the submodule!: \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nNot a good user experience for a library that is widely promoted, fix this for the sake of the Java community! ","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>If you're using a maven root module and submodules with dependency management, then you need to ensure that the order in your submodule configuration corresponds to the items that you've put in the root pom:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Ensure the same order in the submodule!:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Not a good user experience for a library that is widely promoted, fix this for the sake of the Java community!</p>\n"},{"tags":[],"owner":{"account_id":11632775,"reputation":817,"user_id":8520278,"display_name":"Cosmin Stoian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691153184,"creation_date":1691153184,"answer_id":76836053,"question_id":47676369,"body_markdown":"In my case, switching the order of the dependencies inside `build.gradle` so that `lombok` is first and `mapstruct` second was the only way to make it work. \r\n\r\nI wasn&#39;t even aware that the order mattered in the dependencies list, but I&#39;ve done nothing else and it&#39;s working perfectly now.\r\n\r\nThrows compilation error because it cannot find any properties at all in the java classes:\r\n```gradle\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.3.Final&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n```\r\n\r\nWorks perfectly:\r\n```gradle\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.3.Final&#39;\r\n```\r\n","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>In my case, switching the order of the dependencies inside <code>build.gradle</code> so that <code>lombok</code> is first and <code>mapstruct</code> second was the only way to make it work.</p>\n<p>I wasn't even aware that the order mattered in the dependencies list, but I've done nothing else and it's working perfectly now.</p>\n<p>Throws compilation error because it cannot find any properties at all in the java classes:</p>\n<pre><code>    implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.3.Final'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n</code></pre>\n<p>Works perfectly:</p>\n<pre><code>    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.3.Final'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326185,"reputation":23,"user_id":6256207,"display_name":"papus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691553984,"creation_date":1691155056,"answer_id":76836300,"question_id":47676369,"body_markdown":"No need for `lombok-mapstruct-binding`\r\n\r\nJust put `lombok` before `mapstruct-processor`\r\n\r\n    ext {\r\n        lombokVersion = &#39;1.18.28&#39;\r\n        mapstructVersion = &#39;1.5.5.Final&#39;\r\n    }\r\n    \r\n    dependencies {\r\n    \t// Lombok - Important : Lombok before mapstruct\r\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n    \r\n    \t// Mapstruct\r\n        compileOnly &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\r\n        annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n    }\r\n","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>No need for <code>lombok-mapstruct-binding</code></p>\n<p>Just put <code>lombok</code> before <code>mapstruct-processor</code></p>\n<pre><code>ext {\n    lombokVersion = '1.18.28'\n    mapstructVersion = '1.5.5.Final'\n}\n\ndependencies {\n    // Lombok - Important : Lombok before mapstruct\n    compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n\n    // Mapstruct\n    compileOnly &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10838796,"reputation":167,"user_id":7970858,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698853537,"creation_date":1698853537,"answer_id":77403883,"question_id":47676369,"body_markdown":"If you are using Gradle Kotlin dsl, try this in your build.gradle.kts file:\r\n\r\n    plugins {\r\n       // ...\r\n       val kotlinVersion = &quot;1.9.10&quot;\r\n\r\n       kotlin(&quot;jvm&quot;) version kotlinVersion\r\n       kotlin(&quot;kapt&quot;) version kotlinVersion\r\n       // ...\r\n    }\r\n    // ...\r\n    dependencies {\r\n      // ...\r\n      kapt(&quot;org.mapstruct:mapstruct-processor&quot;)\r\n\t  kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n      implementation(&quot;org.mapstruct:mapstruct:1.5.5.Final&quot;)\r\n\t  compileOnly(&quot;org.projectlombok:lombok:1.18.16&quot;)\r\n\t  annotationProcessor(&quot;org.projectlombok:lombok:1.18.16&quot;)\r\n\t  annotationProcessor(&quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;)\r\n      // ...\r\n    }\r\n    // ...\r\n    kapt {\r\n\t  keepJavacAnnotationProcessors = true\r\n      // if needed, here is an example of mapStruct global config\r\n      arguments {\r\n\t\targ(&quot;mapstruct.defaultComponentModel&quot;, &quot;spring&quot;)\r\n\t  }\r\n    }\r\n\r\nYou would need to be sure that annotation processors has been enabled in your IDE and lombok plugins has been also installed","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>If you are using Gradle Kotlin dsl, try this in your build.gradle.kts file:</p>\n<pre><code>plugins {\n   // ...\n   val kotlinVersion = &quot;1.9.10&quot;\n\n   kotlin(&quot;jvm&quot;) version kotlinVersion\n   kotlin(&quot;kapt&quot;) version kotlinVersion\n   // ...\n}\n// ...\ndependencies {\n  // ...\n  kapt(&quot;org.mapstruct:mapstruct-processor&quot;)\n  kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n  implementation(&quot;org.mapstruct:mapstruct:1.5.5.Final&quot;)\n  compileOnly(&quot;org.projectlombok:lombok:1.18.16&quot;)\n  annotationProcessor(&quot;org.projectlombok:lombok:1.18.16&quot;)\n  annotationProcessor(&quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;)\n  // ...\n}\n// ...\nkapt {\n  keepJavacAnnotationProcessors = true\n  // if needed, here is an example of mapStruct global config\n  arguments {\n    arg(&quot;mapstruct.defaultComponentModel&quot;, &quot;spring&quot;)\n  }\n}\n</code></pre>\n<p>You would need to be sure that annotation processors has been enabled in your IDE and lombok plugins has been also installed</p>\n"}],"owner":{"account_id":5169610,"reputation":2574,"user_id":4138572,"accept_rate":60,"display_name":"Vivek Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146035,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":47684351,"answer_count":22,"score":184,"last_activity_date":1698853537,"creation_date":1512569643,"question_id":47676369,"body_markdown":"Tech Stack being used : \r\n\r\nJava 8\r\nMapStruct : 1.2.0.Final\r\nLombok: 1.16.18\r\nIDE: IntelliJ - Lombok Plugin already installed \r\n\r\n - Initially, I faced issues when I removed getters and setters and added `@Getter` and `@Setter` annotation, `mapstruct` is not able to find the property and says: `Unknown property &quot;id&quot; in result type com.vg.once.dto.OneDto. Did you mean &quot;null&quot;?`\r\n - I came to know that Lombok 1.16.14 or newer along with MapStruct 1.2.0.Beta1 or newer are compatible and can work together, but my versions are newer then the desired still the issue is arising.\r\n - One more solution that I have already tried is running Lombok&#39;s Delombok plugin, but still, the same issue is arising. \r\n\r\nBelow are the project files :\r\n\r\nThe Entity Object: **One.java**:\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n    public class One {\r\n    \t\r\n    \tprivate int id;\r\n        private Integer version;\r\n        private int projectId;\r\n        private String title;\r\n        private String code;\r\n        private int sortOrder;\r\n            \r\n    }\r\n\r\n\r\nThe DTO Object: **OneDTO.java** :\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class OneDto {\r\n    \t\r\n    \tprivate int id;\r\n        private Integer version;\r\n        private int projectId;\r\n        private String title;\r\n        private String code;\r\n        private int sortOrder;\r\n        \r\n    }\r\n\r\nMapper Class : **OneMapper.java**\r\n\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    \r\n    import com.vg.once.dto.OneDto;\r\n    import com.vg.once.entity.One;\r\n    \r\n    @Mapper\r\n    public interface OneMapper {\r\n    \t\r\n    \t@Mapping(target=&quot;id&quot;, source=&quot;one.id&quot;)\r\n    \tOneDto createOne (One one);\r\n    \r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.vg&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;Mapstruct-test&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;org.mapstruct.version&gt;1.2.0.Final&lt;/org.mapstruct.version&gt;\r\n            &lt;org.projectlombok.version&gt;1.16.18&lt;/org.projectlombok.version&gt;\r\n        &lt;/properties&gt;\r\n             \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n       \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n     \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt; \r\n    \t\t &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.16.18.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;delombok&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n                        &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\r\n                        &lt;outputDirectory&gt;${project.build.directory}/delombok&lt;/outputDirectory&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                        &lt;verbose&gt;false&lt;/verbose&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;       \r\n            \t&lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.6.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;  \r\n    &lt;/project&gt;\r\n\r\n**Build Trace**: \r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Mapstruct-test 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- lombok-maven-plugin:1.16.18.1:delombok (default) @ mapstruct ---\r\n    [INFO] Delombok complete.\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mapstruct ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.6.1:compile (default-compile) @ mapstruct ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 5 source files to /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/src/main/java/com/vg/once/mapper/OneMapper.java:[12,9] Unknown property &quot;id&quot; in result type com.vg.once.dto.OneDto. Did you mean &quot;null&quot;?\r\n    [INFO] 1 error\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.637 s\r\n    [INFO] Finished at: 2017-12-06T19:23:53+05:30\r\n    [INFO] Final Memory: 19M/235M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project mapstruct: Compilation failure\r\n    [ERROR] /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/src/main/java/com/vg/once/mapper/OneMapper.java:[12,9] Unknown property &quot;id&quot; in result type com.vg.once.dto.OneDto. Did you mean &quot;null&quot;?\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nplease share how can i get this working using both Lombok and MapStruct together?","title":"MapStruct + Lombok together not compiling: unknown property in result type","body":"<p>Tech Stack being used : </p>\n\n<p>Java 8\nMapStruct : 1.2.0.Final\nLombok: 1.16.18\nIDE: IntelliJ - Lombok Plugin already installed </p>\n\n<ul>\n<li>Initially, I faced issues when I removed getters and setters and added <code>@Getter</code> and <code>@Setter</code> annotation, <code>mapstruct</code> is not able to find the property and says: <code>Unknown property \"id\" in result type com.vg.once.dto.OneDto. Did you mean \"null\"?</code></li>\n<li>I came to know that Lombok 1.16.14 or newer along with MapStruct 1.2.0.Beta1 or newer are compatible and can work together, but my versions are newer then the desired still the issue is arising.</li>\n<li>One more solution that I have already tried is running Lombok's Delombok plugin, but still, the same issue is arising. </li>\n</ul>\n\n<p>Below are the project files :</p>\n\n<p>The Entity Object: <strong>One.java</strong>:</p>\n\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class One {\n\n    private int id;\n    private Integer version;\n    private int projectId;\n    private String title;\n    private String code;\n    private int sortOrder;\n\n}\n</code></pre>\n\n<p>The DTO Object: <strong>OneDTO.java</strong> :</p>\n\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class OneDto {\n\n    private int id;\n    private Integer version;\n    private int projectId;\n    private String title;\n    private String code;\n    private int sortOrder;\n\n}\n</code></pre>\n\n<p>Mapper Class : <strong>OneMapper.java</strong></p>\n\n<pre><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\n\nimport com.vg.once.dto.OneDto;\nimport com.vg.once.entity.One;\n\n@Mapper\npublic interface OneMapper {\n\n    @Mapping(target=\"id\", source=\"one.id\")\n    OneDto createOne (One one);\n\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.vg&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Mapstruct-test&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.2.0.Final&lt;/org.mapstruct.version&gt;\n        &lt;org.projectlombok.version&gt;1.16.18&lt;/org.projectlombok.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt; \n         &lt;plugin&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.16.18.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;delombok&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n                    &lt;addOutputDirectory&gt;false&lt;/addOutputDirectory&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/delombok&lt;/outputDirectory&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                    &lt;verbose&gt;false&lt;/verbose&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;       \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;  \n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Build Trace</strong>: </p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Mapstruct-test 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- lombok-maven-plugin:1.16.18.1:delombok (default) @ mapstruct ---\n[INFO] Delombok complete.\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mapstruct ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.6.1:compile (default-compile) @ mapstruct ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 5 source files to /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/src/main/java/com/vg/once/mapper/OneMapper.java:[12,9] Unknown property \"id\" in result type com.vg.once.dto.OneDto. Did you mean \"null\"?\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.637 s\n[INFO] Finished at: 2017-12-06T19:23:53+05:30\n[INFO] Final Memory: 19M/235M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project mapstruct: Compilation failure\n[ERROR] /home/vivekgupta/Documents/workspaces/mapstruct-test/mapstruct/src/main/java/com/vg/once/mapper/OneMapper.java:[12,9] Unknown property \"id\" in result type com.vg.once.dto.OneDto. Did you mean \"null\"?\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>please share how can i get this working using both Lombok and MapStruct together?</p>\n"},{"tags":["java","spring-boot","plaid","plaidml"],"answers":[{"tags":[],"owner":{"account_id":498262,"reputation":1360,"user_id":1533263,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687406916,"creation_date":1687406916,"answer_id":76528555,"question_id":76527437,"body_markdown":"This is probably an issue with the Plaid client library you&#39;re using being out of sync with the actual API -- the API is sending a value of &quot;signal&quot; but the client library isn&#39;t expecting it. Try updating to the latest version of the plaid-java client library and trying again. If that doesn&#39;t fix it, go ahead and file a Plaid support ticket. (This should never happen, BTW, but I think in this particular case there&#39;s a misconfiguration of either a field in the API or a field in the client library.)","title":"Plaid API and Spring Boot - Problem with making an API call","body":"<p>This is probably an issue with the Plaid client library you're using being out of sync with the actual API -- the API is sending a value of &quot;signal&quot; but the client library isn't expecting it. Try updating to the latest version of the plaid-java client library and trying again. If that doesn't fix it, go ahead and file a Plaid support ticket. (This should never happen, BTW, but I think in this particular case there's a misconfiguration of either a field in the API or a field in the client library.)</p>\n"},{"tags":[],"owner":{"account_id":12263889,"reputation":1,"user_id":8950900,"display_name":"shmiker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698853379,"creation_date":1698853379,"answer_id":77403863,"question_id":76527437,"body_markdown":"I had the same issue with plaid-java version 9.0.0 which is offered in Plaid&#39;s quickstart guide. Updating to 18.0.0 resolved it","title":"Plaid API and Spring Boot - Problem with making an API call","body":"<p>I had the same issue with plaid-java version 9.0.0 which is offered in Plaid's quickstart guide. Updating to 18.0.0 resolved it</p>\n"}],"owner":{"account_id":28869298,"reputation":1,"user_id":22111247,"display_name":"abma493"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698853379,"creation_date":1687385088,"question_id":76527437,"body_markdown":"This may seem like a very specific question, however I am sure that the problem I am running into can be abstracted into a situation that can occur when working with any API or Spring Boot in general.\r\n\r\nI am using Plaid&#39;s API for retrieving dummy information from a dummy bank account to work with a budgeting app I am working on. As I am trying to make a get request to retrieve data, I am running into an IllegalArgumentException of type &quot;Unexpected value &quot;signal&quot;. I am unsure why this is, and I will attach a screenshot below to illustrate the API&#39;s methods and the terminal output. This description is rather straightforward, but I can provide more description if needed, or seek the Plaid manual to understand the API&#39;s use as I am doing here, albeit it seems pretty obvious with its meaning method names. Thanks!\r\n\r\n\r\n\r\nI have tried reading the documentation and seeking for the official repository where Plaid offers Java bindings and testing of its features. Moreover, I have tried debugging but I am unable to pinpoint where the error is coming from.","title":"Plaid API and Spring Boot - Problem with making an API call","body":"<p>This may seem like a very specific question, however I am sure that the problem I am running into can be abstracted into a situation that can occur when working with any API or Spring Boot in general.</p>\n<p>I am using Plaid's API for retrieving dummy information from a dummy bank account to work with a budgeting app I am working on. As I am trying to make a get request to retrieve data, I am running into an IllegalArgumentException of type &quot;Unexpected value &quot;signal&quot;. I am unsure why this is, and I will attach a screenshot below to illustrate the API's methods and the terminal output. This description is rather straightforward, but I can provide more description if needed, or seek the Plaid manual to understand the API's use as I am doing here, albeit it seems pretty obvious with its meaning method names. Thanks!</p>\n<p>I have tried reading the documentation and seeking for the official repository where Plaid offers Java bindings and testing of its features. Moreover, I have tried debugging but I am unable to pinpoint where the error is coming from.</p>\n"},{"tags":["java","pst"],"answers":[{"tags":[],"owner":{"account_id":95329,"reputation":2406,"user_id":259686,"display_name":"James McLeod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698853217,"creation_date":1698853217,"answer_id":77403842,"question_id":77403612,"body_markdown":"The function [pstFile.getRootFolder().getNextChild()][1]; returns an object of type [PSTObject][2], which might be a [PSTMessage][3] (which includes appointments and contacts as well as actual messages), but could also be a [PSTFolder][4].\r\n\r\nOne way to do this is with a loop:\r\n\r\n    // ...\r\n    processFolder(pstFile.getRootFolder());\r\n    // ...\r\n\r\nwith processFolder looking something like this (warning untested code!):\r\n\r\n    function void processFolder(PSTFolder folder)\r\n    {\r\n        do {\r\n            PSTObject pstObject = folder.getNextChild();\r\n            if (pstObject == null) {\r\n                break;\r\n            }\r\n            if (pstObject instanceof PSTMessage) {\r\n                processMessage((PSTMessage)object);\r\n            } else if (pstObject instanceof PSTFolder) {\r\n                processFolder((PSTFolder)object)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTFolder.html#getNextChild--\r\n  [2]: https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTObject.html\r\n  [3]: https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTMessage.html\r\n  [4]: https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTFolder.html","title":"Java code to read outlook PST files to get mail address in TO, CC","body":"<p>The function <a href=\"https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTFolder.html#getNextChild--\" rel=\"nofollow noreferrer\">pstFile.getRootFolder().getNextChild()</a>; returns an object of type <a href=\"https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTObject.html\" rel=\"nofollow noreferrer\">PSTObject</a>, which might be a <a href=\"https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTMessage.html\" rel=\"nofollow noreferrer\">PSTMessage</a> (which includes appointments and contacts as well as actual messages), but could also be a <a href=\"https://javadoc.io/static/com.pff/java-libpst/0.9.3/com/pff/PSTFolder.html\" rel=\"nofollow noreferrer\">PSTFolder</a>.</p>\n<p>One way to do this is with a loop:</p>\n<pre><code>// ...\nprocessFolder(pstFile.getRootFolder());\n// ...\n</code></pre>\n<p>with processFolder looking something like this (warning untested code!):</p>\n<pre><code>function void processFolder(PSTFolder folder)\n{\n    do {\n        PSTObject pstObject = folder.getNextChild();\n        if (pstObject == null) {\n            break;\n        }\n        if (pstObject instanceof PSTMessage) {\n            processMessage((PSTMessage)object);\n        } else if (pstObject instanceof PSTFolder) {\n            processFolder((PSTFolder)object)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7443535,"reputation":1,"user_id":5660535,"display_name":"Francisco Ramirez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698853217,"creation_date":1698851067,"question_id":77403612,"body_markdown":"I want to get the list of all email as unique addresses by using a library named Java libpst.\r\nThe problem is that the library suggest to read all the message from the root folder but what about the scenarios when the user creates their own folders to group the emails.\r\n\r\nI am using the Java libpst to read the mail addresses from PST files, which suggest to apply the following code:\r\n\r\n```\r\nPSTMessage email = (PSTMessage)pstFile.getRootFolder().getNextChild();\r\n```\r\n\r\n\r\nI understand the root folder is the default folder like the inbox, but what about the sent, or other folders created by the owner. Should it be better to iterate all the message in root folder and then goes to all the message for each new subfolder?\r\n\r\n\r\n```\r\nVector&lt;PSTFolder&gt; folderList = pstFile.getRootFolder().getSubFolders();\r\n```","title":"Java code to read outlook PST files to get mail address in TO, CC","body":"<p>I want to get the list of all email as unique addresses by using a library named Java libpst.\nThe problem is that the library suggest to read all the message from the root folder but what about the scenarios when the user creates their own folders to group the emails.</p>\n<p>I am using the Java libpst to read the mail addresses from PST files, which suggest to apply the following code:</p>\n<pre><code>PSTMessage email = (PSTMessage)pstFile.getRootFolder().getNextChild();\n</code></pre>\n<p>I understand the root folder is the default folder like the inbox, but what about the sent, or other folders created by the owner. Should it be better to iterate all the message in root folder and then goes to all the message for each new subfolder?</p>\n<pre><code>Vector&lt;PSTFolder&gt; folderList = pstFile.getRootFolder().getSubFolders();\n</code></pre>\n"},{"tags":["java","excel","eclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698617013,"post_id":77384720,"comment_id":136424950,"body_markdown":"if you want to put data from your Java program into Excel, you might want to save it as a CSV file.","body":"if you want to put data from your Java program into Excel, you might want to save it as a CSV file."}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698622166,"creation_date":1698622166,"answer_id":77385540,"question_id":77384720,"body_markdown":"I am not using Eclipse, but this sounds as if Eclipse&#39;s output window is offering to the clipboard multiple versions of the data to clipboard consumers.  Excel is opting for a &quot;rich&quot; format and this is losing the `tab`.  A simple text editor cannot accept the &quot;rich&quot; format so will pick the plain/simple format.  I think of this as &quot;cleansing&quot; the rich text out, so you are back to a plain text.\r\n\r\nI don&#39;t know how to configure Eclipse&#39;s window which is your question, but another approach would be to use a clipboard &quot;cleansing&quot; tool.\r\n\r\nIf you are a Mac user, try https://apps.apple.com/il/app/flycut-clipboard-manager/id442160987 which is a simple clipboard manager.  Using this you can &quot;cleanse&quot; the content to achieve what you want to do.  It is a slightly different keyboard action for paste, that&#39;s all.","title":"How do I make Eclipse 2023-09 console output tab characters compatible with Excel?","body":"<p>I am not using Eclipse, but this sounds as if Eclipse's output window is offering to the clipboard multiple versions of the data to clipboard consumers.  Excel is opting for a &quot;rich&quot; format and this is losing the <code>tab</code>.  A simple text editor cannot accept the &quot;rich&quot; format so will pick the plain/simple format.  I think of this as &quot;cleansing&quot; the rich text out, so you are back to a plain text.</p>\n<p>I don't know how to configure Eclipse's window which is your question, but another approach would be to use a clipboard &quot;cleansing&quot; tool.</p>\n<p>If you are a Mac user, try <a href=\"https://apps.apple.com/il/app/flycut-clipboard-manager/id442160987\" rel=\"nofollow noreferrer\">https://apps.apple.com/il/app/flycut-clipboard-manager/id442160987</a> which is a simple clipboard manager.  Using this you can &quot;cleanse&quot; the content to achieve what you want to do.  It is a slightly different keyboard action for paste, that's all.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698851980,"creation_date":1698851459,"answer_id":77403652,"question_id":77384720,"body_markdown":"There is a setting in Eclipse but this does not seem to prevent Eclipse adding HTML to the clipboard:\r\n\r\n     Preferences &gt; Run/Debug &gt; Console &gt; ANSI Support &gt; &quot;Put HTML and RTF in Clipboard&quot;\r\n\r\nYou can workaround the double-copy approach via a text editor by using Excel `Paste Special` with  &quot;Paste As:&quot;  `Unicode Text` or `Text`. Then Excel will ignore the HTML and process the clipboard contents as text.\r\n\r\n\r\n\r\n","title":"How do I make Eclipse 2023-09 console output tab characters compatible with Excel?","body":"<p>There is a setting in Eclipse but this does not seem to prevent Eclipse adding HTML to the clipboard:</p>\n<pre><code> Preferences &gt; Run/Debug &gt; Console &gt; ANSI Support &gt; &quot;Put HTML and RTF in Clipboard&quot;\n</code></pre>\n<p>You can workaround the double-copy approach via a text editor by using Excel <code>Paste Special</code> with  &quot;Paste As:&quot;  <code>Unicode Text</code> or <code>Text</code>. Then Excel will ignore the HTML and process the clipboard contents as text.</p>\n"}],"owner":{"account_id":29781229,"reputation":1,"user_id":22823764,"display_name":"WeirdOzzie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1698851980,"creation_date":1698605166,"question_id":77384720,"body_markdown":"I recently updated from a 2022 version of Java Eclipse IDE to 2023-09.  I&#39;ve been using the console output via System.out.println to display columns of raw data delimited by tab characters, \\t, that I then copy and paste into Excel for plotting and analysis.  Ever since the update, pasting the data into Excel results in the tabs apparently being detected as spaces instead, and I get a single column of numbers all separated by spaces instead of several column each containing 1 number, which can&#39;t be used for data plotting.\r\n\r\nIf I paste the raw data into a text editor first and then copy/paste **that** into Excel, I get the columns to which I am accustomed, but that gets arduous quickly.\r\n\r\nI tried poking around in the preferences, but couldn&#39;t find anything relevant to my problem.  What kind of settings do I need to adjust to fix this?  I want my old functionality back.","title":"How do I make Eclipse 2023-09 console output tab characters compatible with Excel?","body":"<p>I recently updated from a 2022 version of Java Eclipse IDE to 2023-09.  I've been using the console output via System.out.println to display columns of raw data delimited by tab characters, \\t, that I then copy and paste into Excel for plotting and analysis.  Ever since the update, pasting the data into Excel results in the tabs apparently being detected as spaces instead, and I get a single column of numbers all separated by spaces instead of several column each containing 1 number, which can't be used for data plotting.</p>\n<p>If I paste the raw data into a text editor first and then copy/paste <strong>that</strong> into Excel, I get the columns to which I am accustomed, but that gets arduous quickly.</p>\n<p>I tried poking around in the preferences, but couldn't find anything relevant to my problem.  What kind of settings do I need to adjust to fix this?  I want my old functionality back.</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1698851680,"creation_date":1698642454,"answer_id":77386307,"question_id":77385708,"body_markdown":"The `MOUSE_ENTERED` and `MOUSE_EXITED` events _should_ always be delivered, regardless of the speed you move the mouse or if the mouse leaves the entire window. You have not provided a minimal, complete example, so I cannot be absolutely certain what the issue is. However, I _believe_ the problem is that you are creating two _separate_ animations for each &quot;direction&quot;. That means the &quot;on scale&quot; animation can run in parallel to the &quot;off scale&quot; animation, leading to inconsistent results. It is also strange you are manually registering an event-handler method annotated with `@FXML`, but whether or not that is causing problems depends on the rest of the code you have not shown.\r\n\r\nYou should use a single animation and manipulate its `rate` property. Not only does this prevent two animations operating in conflict, but it allows the animation to easily switch directions in the middle of playing without messing up the speed of the animation. I also recommend you use a `ParallelTransition` if you want multiple animations to run in parallel, rather than playing each animation individually.\r\n\r\n---\r\n\r\n# Example\r\n\r\nHere is an example demonstrating the suggestions discussed above. There&#39;s a GIF at the end showing the output of the code.\r\n\r\nThe animation is implemented in the `CellAnimation` class nested in the `Cell` class. You&#39;ll notice the logic regarding the `viewOrder` of the &quot;cell&quot; is a little more complicated than your current code. Essentially, the logic is:\r\n\r\n* Rising cell: View order goes from `0` to `-1` immediately, then to `-2` at the halfway point of the animation.\r\n\r\n* Lowering cell: View order goes from `-2` to `-1` at the halfway point of the animation, then it goes to `0` at the end of the animation. Note if the cell was not raised at least halfway then the view order will start at `-1`.\r\n\r\nThis logic gives the illusion of the rising cell and the lowering cell &quot;passing through&quot; each other at the halfway mark. It also means an animating cell is always rendered above all non-animating cells. In other words, this all makes the animation look more natural.\r\n\r\n\r\n**Main.java:**\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static final int ROWS = 5;\r\n    private static final int COLUMNS = 5;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        var root = new GridPane();\r\n        root.setPadding(new Insets(30));\r\n        root.setHgap(5);\r\n        root.setVgap(5);\r\n        root.setAlignment(Pos.CENTER);\r\n\r\n        for (int row = 0; row &lt; ROWS; row++) {\r\n            for (int col = 0; col &lt; COLUMNS; col++) {\r\n                var cell = new Cell(row * COLUMNS + col);\r\n                root.add(cell.getNode(), col, row);\r\n            }\r\n        }\r\n\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n**Cell.java:**\r\n\r\n```java\r\nimport javafx.animation.Animation;\r\nimport javafx.animation.FadeTransition;\r\nimport javafx.animation.ParallelTransition;\r\nimport javafx.animation.ScaleTransition;\r\nimport javafx.animation.TranslateTransition;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.util.Duration;\r\n\r\npublic class Cell {\r\n\r\n    private final StackPane container;\r\n    private final Label indexLabel;\r\n    private final Label moreInfoLabel;\r\n\r\n    public Cell(int index) {\r\n        var square = new Rectangle(75, 75, Color.WHITE);\r\n        square.setStroke(Color.BLACK);\r\n        square.setStrokeWidth(1);\r\n\r\n        indexLabel = new Label(Integer.toString(index));\r\n\r\n        moreInfoLabel = new Label(&quot;More info!&quot;);\r\n        moreInfoLabel.setOpacity(0);\r\n\r\n        container = new StackPane(square, indexLabel, moreInfoLabel);\r\n\r\n        // must be instantiated after creating nodes\r\n        var animation = new CellAnimation();\r\n        container.addEventHandler(MouseEvent.MOUSE_ENTERED, e -&gt; {\r\n            e.consume();\r\n            animation.playForward();\r\n        });\r\n        container.addEventHandler(MouseEvent.MOUSE_EXITED, e -&gt; {\r\n            e.consume();\r\n            animation.playBackward();\r\n        });\r\n    }\r\n\r\n    public Node getNode() {\r\n        return container;\r\n    }\r\n\r\n    private class CellAnimation {\r\n\r\n        private static final Duration DURATION = Duration.millis(250);\r\n\r\n        private final ParallelTransition transition;\r\n\r\n        private boolean rising;\r\n        private boolean changeViewOrder;\r\n\r\n        CellAnimation() {\r\n            var toCorner = createToCornerAnimation();\r\n            var fadeInOut = createFadeInAndOutAnimation();\r\n            var scale = createScaleAnimation();\r\n            transition = new ParallelTransition(toCorner, fadeInOut, scale);\r\n\r\n            transition.currentTimeProperty().addListener(obs -&gt; {\r\n                if (changeViewOrder) {\r\n                    var currentTime = transition.getCurrentTime();\r\n                    var halfwayTime = transition.getCycleDuration().divide(2);\r\n                    int compare = currentTime.compareTo(halfwayTime);\r\n                    if (rising &amp;&amp; compare &gt;= 0) {\r\n                        changeViewOrder = false;\r\n                        container.setViewOrder(-2);\r\n                    } else if (!rising &amp;&amp; compare &lt;= 0) {\r\n                        changeViewOrder = false;\r\n                        container.setViewOrder(-1);\r\n                    }\r\n                }\r\n            });\r\n\r\n            transition.statusProperty().addListener((obs, oldVal, newVal) -&gt; {\r\n                if (newVal == Animation.Status.RUNNING &amp;&amp; rising) {\r\n                    container.setViewOrder(-1);\r\n                } else if (newVal == Animation.Status.STOPPED &amp;&amp; !rising) {\r\n                    container.setViewOrder(0);\r\n                }\r\n            });\r\n        }\r\n\r\n        void playForward() {\r\n            rising = true;\r\n            changeViewOrder = true;\r\n\r\n            transition.setRate(1);\r\n            transition.play();\r\n        }\r\n\r\n        void playBackward() {\r\n            rising = false;\r\n            changeViewOrder = true;\r\n\r\n            transition.setRate(-1);\r\n            transition.play();\r\n        }\r\n\r\n        private Animation createToCornerAnimation() {\r\n            var toCorner = new TranslateTransition(DURATION, indexLabel);\r\n            toCorner.setFromX(0);\r\n            toCorner.setFromY(0);\r\n            toCorner.toXProperty().bind(indexLabel.layoutXProperty().negate().add(5));\r\n            toCorner.toYProperty().bind(indexLabel.layoutYProperty().negate().add(5));\r\n            return toCorner;\r\n        }\r\n\r\n        private Animation createFadeInAndOutAnimation() {\r\n            var fadeInOut = new FadeTransition(DURATION, moreInfoLabel);\r\n            fadeInOut.setFromValue(0);\r\n            fadeInOut.setToValue(1);\r\n            return fadeInOut;\r\n        }\r\n\r\n        private Animation createScaleAnimation() {\r\n            var scale = new ScaleTransition(DURATION, container);\r\n            scale.setFromX(1.0);\r\n            scale.setFromY(1.0);\r\n            scale.setToX(1.5);\r\n            scale.setToY(1.5);\r\n            return scale;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n[![GIF demonstrating example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8yWa3.gif","title":"Is there a way to detect the same event on multiple nodes?","body":"<p>The <code>MOUSE_ENTERED</code> and <code>MOUSE_EXITED</code> events <em>should</em> always be delivered, regardless of the speed you move the mouse or if the mouse leaves the entire window. You have not provided a minimal, complete example, so I cannot be absolutely certain what the issue is. However, I <em>believe</em> the problem is that you are creating two <em>separate</em> animations for each &quot;direction&quot;. That means the &quot;on scale&quot; animation can run in parallel to the &quot;off scale&quot; animation, leading to inconsistent results. It is also strange you are manually registering an event-handler method annotated with <code>@FXML</code>, but whether or not that is causing problems depends on the rest of the code you have not shown.</p>\n<p>You should use a single animation and manipulate its <code>rate</code> property. Not only does this prevent two animations operating in conflict, but it allows the animation to easily switch directions in the middle of playing without messing up the speed of the animation. I also recommend you use a <code>ParallelTransition</code> if you want multiple animations to run in parallel, rather than playing each animation individually.</p>\n<hr />\n<h1>Example</h1>\n<p>Here is an example demonstrating the suggestions discussed above. There's a GIF at the end showing the output of the code.</p>\n<p>The animation is implemented in the <code>CellAnimation</code> class nested in the <code>Cell</code> class. You'll notice the logic regarding the <code>viewOrder</code> of the &quot;cell&quot; is a little more complicated than your current code. Essentially, the logic is:</p>\n<ul>\n<li><p>Rising cell: View order goes from <code>0</code> to <code>-1</code> immediately, then to <code>-2</code> at the halfway point of the animation.</p>\n</li>\n<li><p>Lowering cell: View order goes from <code>-2</code> to <code>-1</code> at the halfway point of the animation, then it goes to <code>0</code> at the end of the animation. Note if the cell was not raised at least halfway then the view order will start at <code>-1</code>.</p>\n</li>\n</ul>\n<p>This logic gives the illusion of the rising cell and the lowering cell &quot;passing through&quot; each other at the halfway mark. It also means an animating cell is always rendered above all non-animating cells. In other words, this all makes the animation look more natural.</p>\n<p><strong>Main.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private static final int ROWS = 5;\n    private static final int COLUMNS = 5;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        var root = new GridPane();\n        root.setPadding(new Insets(30));\n        root.setHgap(5);\n        root.setVgap(5);\n        root.setAlignment(Pos.CENTER);\n\n        for (int row = 0; row &lt; ROWS; row++) {\n            for (int col = 0; col &lt; COLUMNS; col++) {\n                var cell = new Cell(row * COLUMNS + col);\n                root.add(cell.getNode(), col, row);\n            }\n        }\n\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p><strong>Cell.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.animation.Animation;\nimport javafx.animation.FadeTransition;\nimport javafx.animation.ParallelTransition;\nimport javafx.animation.ScaleTransition;\nimport javafx.animation.TranslateTransition;\nimport javafx.scene.Node;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.util.Duration;\n\npublic class Cell {\n\n    private final StackPane container;\n    private final Label indexLabel;\n    private final Label moreInfoLabel;\n\n    public Cell(int index) {\n        var square = new Rectangle(75, 75, Color.WHITE);\n        square.setStroke(Color.BLACK);\n        square.setStrokeWidth(1);\n\n        indexLabel = new Label(Integer.toString(index));\n\n        moreInfoLabel = new Label(&quot;More info!&quot;);\n        moreInfoLabel.setOpacity(0);\n\n        container = new StackPane(square, indexLabel, moreInfoLabel);\n\n        // must be instantiated after creating nodes\n        var animation = new CellAnimation();\n        container.addEventHandler(MouseEvent.MOUSE_ENTERED, e -&gt; {\n            e.consume();\n            animation.playForward();\n        });\n        container.addEventHandler(MouseEvent.MOUSE_EXITED, e -&gt; {\n            e.consume();\n            animation.playBackward();\n        });\n    }\n\n    public Node getNode() {\n        return container;\n    }\n\n    private class CellAnimation {\n\n        private static final Duration DURATION = Duration.millis(250);\n\n        private final ParallelTransition transition;\n\n        private boolean rising;\n        private boolean changeViewOrder;\n\n        CellAnimation() {\n            var toCorner = createToCornerAnimation();\n            var fadeInOut = createFadeInAndOutAnimation();\n            var scale = createScaleAnimation();\n            transition = new ParallelTransition(toCorner, fadeInOut, scale);\n\n            transition.currentTimeProperty().addListener(obs -&gt; {\n                if (changeViewOrder) {\n                    var currentTime = transition.getCurrentTime();\n                    var halfwayTime = transition.getCycleDuration().divide(2);\n                    int compare = currentTime.compareTo(halfwayTime);\n                    if (rising &amp;&amp; compare &gt;= 0) {\n                        changeViewOrder = false;\n                        container.setViewOrder(-2);\n                    } else if (!rising &amp;&amp; compare &lt;= 0) {\n                        changeViewOrder = false;\n                        container.setViewOrder(-1);\n                    }\n                }\n            });\n\n            transition.statusProperty().addListener((obs, oldVal, newVal) -&gt; {\n                if (newVal == Animation.Status.RUNNING &amp;&amp; rising) {\n                    container.setViewOrder(-1);\n                } else if (newVal == Animation.Status.STOPPED &amp;&amp; !rising) {\n                    container.setViewOrder(0);\n                }\n            });\n        }\n\n        void playForward() {\n            rising = true;\n            changeViewOrder = true;\n\n            transition.setRate(1);\n            transition.play();\n        }\n\n        void playBackward() {\n            rising = false;\n            changeViewOrder = true;\n\n            transition.setRate(-1);\n            transition.play();\n        }\n\n        private Animation createToCornerAnimation() {\n            var toCorner = new TranslateTransition(DURATION, indexLabel);\n            toCorner.setFromX(0);\n            toCorner.setFromY(0);\n            toCorner.toXProperty().bind(indexLabel.layoutXProperty().negate().add(5));\n            toCorner.toYProperty().bind(indexLabel.layoutYProperty().negate().add(5));\n            return toCorner;\n        }\n\n        private Animation createFadeInAndOutAnimation() {\n            var fadeInOut = new FadeTransition(DURATION, moreInfoLabel);\n            fadeInOut.setFromValue(0);\n            fadeInOut.setToValue(1);\n            return fadeInOut;\n        }\n\n        private Animation createScaleAnimation() {\n            var scale = new ScaleTransition(DURATION, container);\n            scale.setFromX(1.0);\n            scale.setFromY(1.0);\n            scale.setToX(1.5);\n            scale.setToY(1.5);\n            return scale;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/8yWa3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8yWa3.gif\" alt=\"GIF demonstrating example\" /></a></p>\n"}],"owner":{"account_id":27691360,"reputation":13,"user_id":21137969,"display_name":"Crynda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698851680,"creation_date":1698626638,"question_id":77385708,"body_markdown":"I&#39;m working on a kind of periodic table, there is an event that ultimately, when you hover the mouse, zooms in a little on said element and shows a little more information, the thing is that it doesn&#39;t really do the job very well. tracking could be said, since if the mouse moves a little quickly, or leaves a panel that is on an edge very quickly, it will not detect the exit of the mouse.\r\nThis is the code of the animations that should be executed when the mouse enters or exits:\r\n\r\n    public void onScale(int i){\r\n\t\tdouble currentScaleX = Panes[i].getScaleX();\r\n\t    double currentScaleY = Panes[i].getScaleY();//stores the current scale\r\n\t    \r\n\t    if (currentScaleX == 1.0 &amp;&amp; currentScaleY == 1.0) {//verify that said scale is the original (equal to 1)\r\n\t      \r\n\r\n\t        TranslateTransition translate = new TranslateTransition(Duration.millis(50), Symbol[i]);\r\n\t        translate.setToY(-4);\r\n\t        translate.playFromStart();//move the symbol up a little\r\n\r\n\t\t\tTranslateTransition tratn = new TranslateTransition(Duration.millis(50), AtomicNumber[i]);\r\n\t        tratn.setToY(-2);\r\n\t        tratn.playFromStart();\r\n\r\n\t\t\tTranslateTransition tratm = new TranslateTransition(Duration.millis(50), AtomicMass[i]);\r\n\t        tratm.setToY(-2);\r\n\t        tratm.playFromStart();\r\n\r\n\t\t\tTranslateTransition trnm = new TranslateTransition(Duration.millis(50), Name[i]);\r\n\t        trnm.setToY(3);\r\n\t        trnm.playFromStart();\r\n\t        \r\n\t        AtomicMass[i].setVisible(true);\r\n\t        OxidationNumber[i].setVisible(true);//makes the atomic mass and oxidation number visible\r\n\t        \r\n\t        ScaleTransition scale = new ScaleTransition(Duration.millis(100), Panes[i]);\r\n\t        scale.setToX(1.5);\r\n\t        scale.setToY(1.5);\r\n\t        scale.playFromStart();\r\n\t\t\t//The panel is brought to the foreground, (note that this will not affect its position in the childlist unlike the .tofront method)\r\n\t\t\tPanes[i].setViewOrder(-1.0);\r\n\t\t\tPanes[i].getParent().setViewOrder(-1.0);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void offScale(int i){\r\n\t\tdouble currentScaleX = Panes[i].getScaleX();\r\n\t    double currentScaleY = Panes[i].getScaleY();\r\n\t    \r\n\t    if (currentScaleX &gt; 1.0 &amp;&amp; currentScaleY &gt; 1.0) {\r\n\t        \r\n\t        TranslateTransition translate = new TranslateTransition(Duration.millis(50), Symbol[i]);\r\n\t        translate.setToY(0);\r\n\t        translate.playFromStart();\r\n\r\n\t\t\tTranslateTransition tratn = new TranslateTransition(Duration.millis(50), AtomicNumber[i]);\r\n\t        tratn.setToY(0);\r\n\t        tratn.playFromStart();\r\n\r\n\t\t\tTranslateTransition tratm = new TranslateTransition(Duration.millis(50), AtomicMass[i]);\r\n\t        tratm.setToY(0);\r\n\t        tratm.playFromStart();\r\n\t        \r\n\t\t\tTranslateTransition trnm = new TranslateTransition(Duration.millis(50), Name[i]);\r\n\t        trnm.setToY(0);\r\n\t        trnm.playFromStart();\r\n\r\n\t        AtomicMass[i].setVisible(false);\r\n\t        OxidationNumber[i].setVisible(false);\r\n\t        \r\n\t        ScaleTransition scale = new ScaleTransition(Duration.millis(100), Panes[i]);\r\n\t        scale.setToX(1.0);\r\n\t        scale.setToY(1.0);\r\n\t        scale.playFromStart();\r\n\t\t\tPanes[i].setViewOrder(0.0);\r\n\t\t\tPanes[i].getParent().setViewOrder(0.0);\r\n\t\t}\r\n\t    \r\n\t}\r\nSo, do you have any suggestions? I am working with a vector of panes. PS: The way I am using now to make something similar work is by making another method, and which is called later in another where the entire table is initialized.\r\nMethods that call animations:\r\n\r\n    \t@FXML\r\n\tprivate void MouseEntered(MouseEvent event) {\r\n\t\tPane pane = (Pane) event.getSource();//creates a local variable based on the pane\r\n\t    onScale(Integer.parseInt(pane.getId()));\r\n\t\tfor(int i=1; i&lt;=118; i++){\r\n\t\t\toffScale(i);\r\n\t\t}\r\n\t}\r\n\r\n\t@FXML\r\n\tprivate void MouseExited(MouseEvent event) {\r\n\t\tPane pane = (Pane) event.getSource();\r\n\t    offScale(Integer.parseInt(pane.getId()));\r\n\t\t\r\n\t}\r\nAnd in part of the initialization method there is a loop, which assigns the events like this:\r\n\r\n    \tPanes[i].setOnMouseEntered(this::MouseEntered);\r\n\t\tPanes[i].setOnMouseExited(this::MouseExited);","title":"Is there a way to detect the same event on multiple nodes?","body":"<p>I'm working on a kind of periodic table, there is an event that ultimately, when you hover the mouse, zooms in a little on said element and shows a little more information, the thing is that it doesn't really do the job very well. tracking could be said, since if the mouse moves a little quickly, or leaves a panel that is on an edge very quickly, it will not detect the exit of the mouse.\nThis is the code of the animations that should be executed when the mouse enters or exits:</p>\n<pre><code>public void onScale(int i){\n    double currentScaleX = Panes[i].getScaleX();\n    double currentScaleY = Panes[i].getScaleY();//stores the current scale\n    \n    if (currentScaleX == 1.0 &amp;&amp; currentScaleY == 1.0) {//verify that said scale is the original (equal to 1)\n      \n\n        TranslateTransition translate = new TranslateTransition(Duration.millis(50), Symbol[i]);\n        translate.setToY(-4);\n        translate.playFromStart();//move the symbol up a little\n\n        TranslateTransition tratn = new TranslateTransition(Duration.millis(50), AtomicNumber[i]);\n        tratn.setToY(-2);\n        tratn.playFromStart();\n\n        TranslateTransition tratm = new TranslateTransition(Duration.millis(50), AtomicMass[i]);\n        tratm.setToY(-2);\n        tratm.playFromStart();\n\n        TranslateTransition trnm = new TranslateTransition(Duration.millis(50), Name[i]);\n        trnm.setToY(3);\n        trnm.playFromStart();\n        \n        AtomicMass[i].setVisible(true);\n        OxidationNumber[i].setVisible(true);//makes the atomic mass and oxidation number visible\n        \n        ScaleTransition scale = new ScaleTransition(Duration.millis(100), Panes[i]);\n        scale.setToX(1.5);\n        scale.setToY(1.5);\n        scale.playFromStart();\n        //The panel is brought to the foreground, (note that this will not affect its position in the childlist unlike the .tofront method)\n        Panes[i].setViewOrder(-1.0);\n        Panes[i].getParent().setViewOrder(-1.0);\n        \n        \n        \n    }\n}\n\npublic void offScale(int i){\n    double currentScaleX = Panes[i].getScaleX();\n    double currentScaleY = Panes[i].getScaleY();\n    \n    if (currentScaleX &gt; 1.0 &amp;&amp; currentScaleY &gt; 1.0) {\n        \n        TranslateTransition translate = new TranslateTransition(Duration.millis(50), Symbol[i]);\n        translate.setToY(0);\n        translate.playFromStart();\n\n        TranslateTransition tratn = new TranslateTransition(Duration.millis(50), AtomicNumber[i]);\n        tratn.setToY(0);\n        tratn.playFromStart();\n\n        TranslateTransition tratm = new TranslateTransition(Duration.millis(50), AtomicMass[i]);\n        tratm.setToY(0);\n        tratm.playFromStart();\n        \n        TranslateTransition trnm = new TranslateTransition(Duration.millis(50), Name[i]);\n        trnm.setToY(0);\n        trnm.playFromStart();\n\n        AtomicMass[i].setVisible(false);\n        OxidationNumber[i].setVisible(false);\n        \n        ScaleTransition scale = new ScaleTransition(Duration.millis(100), Panes[i]);\n        scale.setToX(1.0);\n        scale.setToY(1.0);\n        scale.playFromStart();\n        Panes[i].setViewOrder(0.0);\n        Panes[i].getParent().setViewOrder(0.0);\n    }\n    \n}\n</code></pre>\n<p>So, do you have any suggestions? I am working with a vector of panes. PS: The way I am using now to make something similar work is by making another method, and which is called later in another where the entire table is initialized.\nMethods that call animations:</p>\n<pre><code>    @FXML\nprivate void MouseEntered(MouseEvent event) {\n    Pane pane = (Pane) event.getSource();//creates a local variable based on the pane\n    onScale(Integer.parseInt(pane.getId()));\n    for(int i=1; i&lt;=118; i++){\n        offScale(i);\n    }\n}\n\n@FXML\nprivate void MouseExited(MouseEvent event) {\n    Pane pane = (Pane) event.getSource();\n    offScale(Integer.parseInt(pane.getId()));\n    \n}\n</code></pre>\n<p>And in part of the initialization method there is a loop, which assigns the events like this:</p>\n<pre><code>    Panes[i].setOnMouseEntered(this::MouseEntered);\n    Panes[i].setOnMouseExited(this::MouseExited);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1698844152,"post_id":77402872,"comment_id":136455994,"body_markdown":"When your code needs these classes, you have to add them.","body":"When your code needs these classes, you have to add them."},{"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"score":0,"creation_date":1698845756,"post_id":77402872,"comment_id":136456333,"body_markdown":"@Holger got it, thanks for answering me!","body":"@Holger got it, thanks for answering me!"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698851116,"creation_date":1698851116,"answer_id":77403616,"question_id":77402872,"body_markdown":"In general, it really depends on how you compiled your code.\r\n\r\nFor instance, you can use a build tool, such as Maven for instance, and just include these dependencies in the project with the compile `scope`, which is the default one. And then if you are using some kind of a plugin that does fat jar creation: [maven shade plugin][1], for instance, or [spring-boot maven][2] plugin etc, then your project will have these dependencies at Runtime so you are good to go. \r\n\r\nOf course you may not have these dependencies in the project or even more so you simply do not an access to the source code. So another option is to include them separately in the [JVM classpath during execution][3]. This approach is similar (but not the same) to one people have when they deploy their Java application into an Enterprise web server such as WebSphere or JBoss. \r\n\r\nUsually, the web server has required implementations and Java classes that are not present during compilation and they are just provided to JVM via classpath.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\r\n  [3]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html","title":"Compile code with java8 and run with java17","body":"<p>In general, it really depends on how you compiled your code.</p>\n<p>For instance, you can use a build tool, such as Maven for instance, and just include these dependencies in the project with the compile <code>scope</code>, which is the default one. And then if you are using some kind of a plugin that does fat jar creation: <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven shade plugin</a>, for instance, or <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">spring-boot maven</a> plugin etc, then your project will have these dependencies at Runtime so you are good to go.</p>\n<p>Of course you may not have these dependencies in the project or even more so you simply do not an access to the source code. So another option is to include them separately in the <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">JVM classpath during execution</a>. This approach is similar (but not the same) to one people have when they deploy their Java application into an Enterprise web server such as WebSphere or JBoss.</p>\n<p>Usually, the web server has required implementations and Java classes that are not present during compilation and they are just provided to JVM via classpath.</p>\n"}],"owner":{"account_id":18006482,"reputation":5,"user_id":13841743,"display_name":"vashdivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77403616,"answer_count":1,"score":0,"last_activity_date":1698851116,"creation_date":1698844080,"question_id":77402872,"body_markdown":"I want to compile project using jdk8 and run it using jdk17. And my project use libraries which have been deleted in modern jdk (jdk.xml.bind, jdk.xml.ws). \r\n\r\nMy question is - will I get errors related to removed dependencies from modern jdk - jdk.xml.bind, jdk.xml.ws? Or if project was compiled using jdk8 which contains these packages inside, it would work fine with jdk17 in runtime? \r\n\r\n\r\nMaybe I need to add these dependencies explicitly (rg.glassfish.jaxb:jaxb-runtime, com.sun.xml.ws:jaxws-ri)?","title":"Compile code with java8 and run with java17","body":"<p>I want to compile project using jdk8 and run it using jdk17. And my project use libraries which have been deleted in modern jdk (jdk.xml.bind, jdk.xml.ws).</p>\n<p>My question is - will I get errors related to removed dependencies from modern jdk - jdk.xml.bind, jdk.xml.ws? Or if project was compiled using jdk8 which contains these packages inside, it would work fine with jdk17 in runtime?</p>\n<p>Maybe I need to add these dependencies explicitly (rg.glassfish.jaxb:jaxb-runtime, com.sun.xml.ws:jaxws-ri)?</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":24052295,"reputation":7,"user_id":18030615,"display_name":"Akshat Bhowate"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643133653,"creation_date":1643133653,"answer_id":70853522,"question_id":70853468,"body_markdown":"Below is my build.gradle code : \r\n\r\n   \r\n\r\n     plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n        id &#39;kotlin-parcelize&#39;\r\n        id &#39;kotlin-kapt&#39;\r\n        id &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n        //id &#39;com.google.gms.google-services&#39;  // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n        buildToolsVersion &quot;19.1&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.kuriousminddlab.kleenpdf&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 5\r\n            versionName &quot;1.0&quot;\r\n    \r\n            multiDexEnabled true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                shrinkResources false\r\n                debuggable false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                debuggable true\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    \r\n        implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n        implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n    \r\n        /*firebase*/\r\n        implementation &#39;com.firebase:firebase-client-android:2.3.1&#39;\r\n    \r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.github.barteksc:pdfium-android:1.9.0&#39;\r\n        implementation &#39;org.greenrobot:eventbus:3.1.1&#39;\r\n        implementation &#39;androidx.room:room-runtime:2.4.1&#39;\r\n        implementation &#39;com.google.ads.mediation:facebook:6.8.0.0&#39;\r\n        implementation &#39;com.facebook.android:audience-network-sdk:6.8.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n        \r\n        implementation &#39;com.tom-roush:pdfbox-android:2.0.0.0&#39;\r\n        implementation &#39;androidx.preference:preference-ktx:1.2.0-rc01&#39;\r\n        implementation &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39;\r\n    \r\n        implementation &#39;commons-io:commonCould not resolve all dependencies for configuration \\&#39;:app:debugRuntimeClasspath\\&#39;.s-io:2.6&#39;\r\n        implementation &#39;com.google.android.play:core:1.10.3&#39;\r\n        implementation &#39;com.getkeepsafe.taptargetview:taptargetview:1.13.3&#39;\r\n        implementation &quot;androidx.gridlayout:gridlayout:1.0.0&quot;\r\n    \r\n        //glide\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n        implementation &#39;jp.wasabeef:glide-transformations:4.0.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        implementation &#39;com.infideap.drawerbehavior:drawer-behavior:1.0.4&#39;\r\n        implementation &#39;com.airbnb.android:lottie:3.7.2&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n    \r\n        //payment\r\n        def billing_version2 = &quot;4.0.0&quot;\r\n        implementation &quot;com.android.billingclient:billing:$billing_version2&quot;\r\n    \r\n        implementation &#39;io.reactivex.rxjava3:rxjava:3.1.3&#39;\r\n    \r\n    \r\n        implementation &#39;com.github.tombayley:ActivityCircularReveal:1.0.2&#39;\r\n    \r\n        implementation &#39;com.github.getActivity:XXPermissions:13.2&#39;\r\n    \r\n    }","title":"Build.Gradle Error - A problem occurred evaluating project &#39;:app&#39;","body":"<p>Below is my build.gradle code :</p>\n<pre><code> plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-parcelize'\n    id 'kotlin-kapt'\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n    //id 'com.google.gms.google-services'  // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\n}\n\nandroid {\n    compileSdk 31\n    buildToolsVersion &quot;19.1&quot;\n    defaultConfig {\n        applicationId &quot;com.kuriousminddlab.kleenpdf&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 5\n        versionName &quot;1.0&quot;\n\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildFeatures {\n        dataBinding true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            shrinkResources false\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\n    /*firebase*/\n    implementation 'com.firebase:firebase-client-android:2.3.1'\n\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.github.barteksc:pdfium-android:1.9.0'\n    implementation 'org.greenrobot:eventbus:3.1.1'\n    implementation 'androidx.room:room-runtime:2.4.1'\n    implementation 'com.google.ads.mediation:facebook:6.8.0.0'\n    implementation 'com.facebook.android:audience-network-sdk:6.8.0'\n    implementation 'com.google.android.gms:play-services-ads:20.5.0'\n    \n    implementation 'com.tom-roush:pdfbox-android:2.0.0.0'\n    implementation 'androidx.preference:preference-ktx:1.2.0-rc01'\n    implementation 'com.github.barteksc:android-pdf-viewer:3.2.0-beta.1'\n\n    implementation 'commons-io:commonCould not resolve all dependencies for configuration \\':app:debugRuntimeClasspath\\'.s-io:2.6'\n    implementation 'com.google.android.play:core:1.10.3'\n    implementation 'com.getkeepsafe.taptargetview:taptargetview:1.13.3'\n    implementation &quot;androidx.gridlayout:gridlayout:1.0.0&quot;\n\n    //glide\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n    implementation 'jp.wasabeef:glide-transformations:4.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.4'\n    implementation 'com.airbnb.android:lottie:3.7.2'\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n\n    //payment\n    def billing_version2 = &quot;4.0.0&quot;\n    implementation &quot;com.android.billingclient:billing:$billing_version2&quot;\n\n    implementation 'io.reactivex.rxjava3:rxjava:3.1.3'\n\n\n    implementation 'com.github.tombayley:ActivityCircularReveal:1.0.2'\n\n    implementation 'com.github.getActivity:XXPermissions:13.2'\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643153077,"creation_date":1643153077,"answer_id":70856960,"question_id":70853468,"body_markdown":"If the build.gradle file you showed is 100% what you are using, then:-\r\n\r\n**Change this:**\r\n\r\n    implementation &#39;commons-io:commonCould not resolve all dependencies for configuration \\&#39;:app:debugRuntimeClasspath\\&#39;.s-io:2.6&#39;\r\n\r\n**To this:**\r\n\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;","title":"Build.Gradle Error - A problem occurred evaluating project &#39;:app&#39;","body":"<p>If the build.gradle file you showed is 100% what you are using, then:-</p>\n<p><strong>Change this:</strong></p>\n<pre><code>implementation 'commons-io:commonCould not resolve all dependencies for configuration \\':app:debugRuntimeClasspath\\'.s-io:2.6'\n</code></pre>\n<p><strong>To this:</strong></p>\n<pre><code>implementation 'commons-io:commons-io:2.11.0'\n</code></pre>\n"}],"owner":{"account_id":24052295,"reputation":7,"user_id":18030615,"display_name":"Akshat Bhowate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698850950,"creation_date":1643133411,"question_id":70853468,"body_markdown":"I am getting the below error when I am trying to run my app.\r\n\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Supplied String module notation &#39;commons-io:commonCould not resolve all dependencies for configuration &#39;:app:debugRuntimeClasspath&#39;.s-io:2.6&#39; is invalid. Example notations: &#39;org.gradle:gradle-core:2.2&#39;, &#39;org.mockito:mockito-core:1.9.5:javadoc&#39;.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:277)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.api.IllegalDependencyNotation: Supplied String module notation &#39;commons-io:commonCould not resolve all dependencies for configuration &#39;:app:debugRuntimeClasspath&#39;.s-io:2.6&#39; is invalid. Example notations: &#39;org.gradle:gradle-core:2.2&#39;, &#39;org.mockito:mockito-core:1.9.5:javadoc&#39;.\r\n\tat org.gradle.api.internal.artifacts.dsl.ParsedModuleStringNotation.assignValuesFromModuleNotation(ParsedModuleStringNotation.java:47)\r\n\tat org.gradle.api.internal.artifacts.dsl.ParsedModuleStringNotation.&lt;init&gt;(ParsedModuleStringNotation.java:28)\r\n\tat org.gradle.api.internal.notations.DependencyStringNotationConverter.splitModuleFromExtension(DependencyStringNotationConverter.java:91)\r\n\tat org.gradle.api.internal.notations.DependencyStringNotationConverter.createDependencyFromString(DependencyStringNotationConverter.java:59)\r\n\tat org.gradle.api.internal.notations.DependencyStringNotationConverter.convert(DependencyStringNotationConverter.java:54)\r\n\tat org.gradle.api.internal.notations.DependencyStringNotationConverter.convert(DependencyStringNotationConverter.java:34)\r\n\tat org.gradle.internal.typeconversion.CharSequenceNotationConverter.convert(CharSequenceNotationConverter.java:32)\r\n\tat org.gradle.internal.typeconversion.CompositeNotationConverter.convert(CompositeNotationConverter.java:34)\r\n\tat org.gradle.internal.typeconversion.NotationConverterToNotationParserAdapter.parseNotation(NotationConverterToNotationParserAdapter.java:31)\r\n\tat org.gradle.internal.typeconversion.JustReturningParser.parseNotation(JustReturningParser.java:40)\r\n\tat org.gradle.internal.typeconversion.ErrorHandlingNotationParser.parseNotation(ErrorHandlingNotationParser.java:48)\r\n\tat org.gradle.api.internal.artifacts.DefaultDependencyFactory.createDependency(DefaultDependencyFactory.java:60)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.create(DefaultDependencyHandler.java:162)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.doAddRegularDependency(DefaultDependencyHandler.java:184)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.doAdd(DefaultDependencyHandler.java:179)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.access$100(DefaultDependencyHandler.java:73)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler$DirectDependencyAdder.add(DefaultDependencyHandler.java:420)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler$DirectDependencyAdder.add(DefaultDependencyHandler.java:415)\r\n\tat org.gradle.api.internal.artifacts.dsl.dependencies.DynamicAddDependencyMethods.tryInvokeMethod(DynamicAddDependencyMethods.java:56)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:504)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\r\n\tat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n\tat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\r\n\tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:56)\r\n\tat build_2ep51wyj3je97y6aoew986rz5$_run_closure2.doCall(C:\\Users\\Akshat\\Downloads\\Slim PDF (v5.6.0)\\SlimPDFApp\\app\\build.gradle:81)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:71)\r\n\tat org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:154)\r\n\tat org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:105)\r\n\tat org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1230)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\r\n\tat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n\tat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\r\n\tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\r\n\tat org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\r\n\tat build_2ep51wyj3je97y6aoew986rz5.run(C:\\Users\\Akshat\\Downloads\\Slim PDF (v5.6.0)\\SlimPDFApp\\app\\build.gradle:52)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 140 more","title":"Build.Gradle Error - A problem occurred evaluating project &#39;:app&#39;","body":"<p>I am getting the below error when I am trying to run my app.</p>\n<p>A problem occurred evaluating project ':app'.</p>\n<blockquote>\n<p>Supplied String module notation 'commons-io:commonCould not resolve all dependencies for configuration ':app:debugRuntimeClasspath'.s-io:2.6' is invalid. Example notations: 'org.gradle:gradle-core:2.2', 'org.mockito:mockito-core:1.9.5:javadoc'.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'.\nat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\nat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\nat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\nat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\nat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\nat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\nat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\nat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:277)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\nat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\nat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\nat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:250)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:310)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:310)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:291)\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:249)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\nat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\nat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:723)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\nat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\nat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:69)\nat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:46)\nat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\nat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\nat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\nat org.gradle.initialization.DefaultGradleLauncher.prepareProjects(DefaultGradleLauncher.java:226)\nat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:164)\nat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\nat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:125)\nat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:71)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\nat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\nat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\nat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\nat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\nat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\nat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\nat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\nat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\nat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\nat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\nat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\nat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\nat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\nat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\nat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\nat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\nat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\nat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\nat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\nat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\nat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\nat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\nat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\nat org.gradle.util.Swapper.swap(Swapper.java:38)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\nat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.IllegalDependencyNotation: Supplied String module notation 'commons-io:commonCould not resolve all dependencies for configuration ':app:debugRuntimeClasspath'.s-io:2.6' is invalid. Example notations: 'org.gradle:gradle-core:2.2', 'org.mockito:mockito-core:1.9.5:javadoc'.\nat org.gradle.api.internal.artifacts.dsl.ParsedModuleStringNotation.assignValuesFromModuleNotation(ParsedModuleStringNotation.java:47)\nat org.gradle.api.internal.artifacts.dsl.ParsedModuleStringNotation.(ParsedModuleStringNotation.java:28)\nat org.gradle.api.internal.notations.DependencyStringNotationConverter.splitModuleFromExtension(DependencyStringNotationConverter.java:91)\nat org.gradle.api.internal.notations.DependencyStringNotationConverter.createDependencyFromString(DependencyStringNotationConverter.java:59)\nat org.gradle.api.internal.notations.DependencyStringNotationConverter.convert(DependencyStringNotationConverter.java:54)\nat org.gradle.api.internal.notations.DependencyStringNotationConverter.convert(DependencyStringNotationConverter.java:34)\nat org.gradle.internal.typeconversion.CharSequenceNotationConverter.convert(CharSequenceNotationConverter.java:32)\nat org.gradle.internal.typeconversion.CompositeNotationConverter.convert(CompositeNotationConverter.java:34)\nat org.gradle.internal.typeconversion.NotationConverterToNotationParserAdapter.parseNotation(NotationConverterToNotationParserAdapter.java:31)\nat org.gradle.internal.typeconversion.JustReturningParser.parseNotation(JustReturningParser.java:40)\nat org.gradle.internal.typeconversion.ErrorHandlingNotationParser.parseNotation(ErrorHandlingNotationParser.java:48)\nat org.gradle.api.internal.artifacts.DefaultDependencyFactory.createDependency(DefaultDependencyFactory.java:60)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.create(DefaultDependencyHandler.java:162)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.doAddRegularDependency(DefaultDependencyHandler.java:184)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.doAdd(DefaultDependencyHandler.java:179)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.access$100(DefaultDependencyHandler.java:73)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler$DirectDependencyAdder.add(DefaultDependencyHandler.java:420)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler$DirectDependencyAdder.add(DefaultDependencyHandler.java:415)\nat org.gradle.api.internal.artifacts.dsl.dependencies.DynamicAddDependencyMethods.tryInvokeMethod(DynamicAddDependencyMethods.java:56)\nat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:504)\nat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\nat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\nat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\nat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:56)\nat build_2ep51wyj3je97y6aoew986rz5$_run_closure2.doCall(C:\\Users\\Akshat\\Downloads\\Slim PDF (v5.6.0)\\SlimPDFApp\\app\\build.gradle:81)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:71)\nat org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:154)\nat org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:105)\nat org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1230)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\nat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\nat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\nat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\nat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\nat org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\nat org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\nat build_2ep51wyj3je97y6aoew986rz5.run(C:\\Users\\Akshat\\Downloads\\Slim PDF (v5.6.0)\\SlimPDFApp\\app\\build.gradle:52)\nat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n... 140 more</p>\n</li>\n</ul>\n"},{"tags":["java","android","android-studio","runtime-error","euiccmanager"],"owner":{"account_id":16227400,"reputation":21,"user_id":11717286,"display_name":"Abhishek Tibrewal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698850834,"creation_date":1698850363,"question_id":77403533,"body_markdown":"I am making a LPA application for mobile esim using SE service to communicate with EUICC on a rooted pixel device on AOSP OS following SGP .22-2.3 specs, but while trying to download the profile on the esim in AuthenticateServer step I am getting 6F00 error code which translates to &quot;No precise diagnosis&quot;.\r\nTill InitiateAuthentication step everything is working fine. I don&#39;t know whats going wrong.\r\n\r\nFor profile download I am using Google&#39;s SAIP test profiles. I have already checked the ctxParam values and they are correct as per the device. I am attaching the logs of the process for reference.\r\n```\r\n2023-10-17 13:46:07.200 4813-4834/  D/LpaServiceImpl_2.4.0_api_2: addProfile: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, smdsAddress = null, type = 0, inputSupported = true\r\n2023-10-17 13:46:07.200 4813-4834/  D/LpaServiceImpl_2.4.0_api_2: checkRequestAllowed: requestType = 4, myUID = 10040, callingUID = 10106\r\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: openChannel\r\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: permissionState = 0\r\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: Pref: selectedReader: \r\n2023-10-17 13:46:07.207 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: selectedReader: eSE1\r\n2023-10-17 13:46:07.208 4813-5764/  I/SEService: true\r\n2023-10-17 13:46:07.245 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\r\n2023-10-17 13:46:07.246 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\r\n2023-10-17 13:46:07.246 4813-5764/  D/ActivationCode: getParsedActivationCode: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, mACFormat = 1, mSMDPAddress = prod.smdp-plus.rsp.goog, mACToken = 052X-UFXS-CQIY-PNGL, mSMDPid = null, mConfirmationFlag = false\r\n2023-10-17 13:46:07.246 4813-5764/  D/ActivationCode: getParsedActivationCode: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, mACFormat = 1, mSMDPAddress = prod.smdp-plus.rsp.goog, mACToken = 052X-UFXS-CQIY-PNGL, mSMDPid = null, mConfirmationFlag = false\r\n2023-10-17 13:46:07.247 4813-5764/  D/LUI_2.4.0_api_2: ES10c GetProfilesInfo\r\n2023-10-17 13:46:07.247 4813-5764/  D/LUI_2.4.0_api_2: PROFILE_LIST_RETRY 0\r\n2023-10-17 13:46:07.249 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 0D, data: BF2D0A5C085A4F9F709295B799\r\n2023-10-17 13:46:07.250 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu: 80E291000DBF2D0A5C085A4F9F709295B799\r\n2023-10-17 13:46:07.261 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: BF2D02A0009000\r\n2023-10-17 13:46:07.264 4813-5764/  D/LUI_2.4.0_api_2: PROFILE_LIST_RESPONSE 0\r\n2023-10-17 13:46:07.264 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\r\n2023-10-17 13:46:07.264 4813-5764/  D/LpaWorker: AddProfile with Activation Code: smdpAddress - prod.smdp-plus.rsp.goog, matchingId - 052X-UFXS-CQIY-PNGL, smdpOid - null, confirmationCodeRequired - false\r\n2023-10-17 13:46:07.264 4813-5764/  D/LPD: ES10b GetEUICCInfo\r\n2023-10-17 13:46:07.267 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 03, data: BF2000\r\n2023-10-17 13:46:07.267 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu: 80E2910003BF2000\r\n2023-10-17 13:46:07.363 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: BF20618203020200A92C041481370F5125D0B1D408D4C3B232E6D25E795BEBFB0414B60F0B897FD630B88CFED6161F8EA808C5382AC3AA2C041481370F5125D0B1D408D4C3B232E6D25E795BEBFB0414B60F0B897FD630B88CFED6161F8EA808C5382AC39000\r\n2023-10-17 13:46:07.364 4813-5764/  D/GetEUICCInfoResponse: Don&#39;t ignore check of eUICC certificate for verification\r\n2023-10-17 13:46:07.364 4813-5764/  D/GetEUICCInfoResponse: Don&#39;t ignore check of eUICC certificate for signing\r\n2023-10-17 13:46:07.370 4813-5764/  D/LPD: ES10b GetEUICCChallenge\r\n2023-10-17 13:46:07.371 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 03, data: BF2E00\r\n2023-10-17 13:46:07.372 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu: 80E2910003BF2E00\r\n2023-10-17 13:46:07.392 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: BF2E128010BEC465E972B29CD547EB2077F122E16A9000\r\n2023-10-17 13:46:07.399 4813-5764/  D/LPD: ES9+ InitiateAuthentication\r\n2023-10-17 13:46:07.401 4813-5764/  D/ServerInterfaceImpl:  &gt; prod.smdp-plus.rsp.goog/gsma/rsp2/es9plus/initiateAuthentication\r\n    {&quot;euiccChallenge&quot;:&quot;vsRl6XKynNVH6yB38SLhag==&quot;,&quot;euiccInfo1&quot;:&quot;vyBhggMCAgCpLAQUgTcPUSXQsdQI1MOyMubSXnlb6/sEFLYPC4l/1jC4jP7WFh+OqAjFOCrDqiwEFIE3D1El0LHUCNTDsjLm0l55W+v7BBS2DwuJf9YwuIz+1hYfjqgIxTgqww==&quot;,&quot;smdpAddress&quot;:&quot;prod.smdp-plus.rsp.goog&quot;}\r\n2023-10-17 13:46:07.700 4813-5764/  D/TrafficStats: tagSocket(72) with statsTag=0xffffffff, statsUid=-1\r\n2023-10-17 13:46:09.138 4813-5764/  D/ServerInterfaceImpl: response buffer: {&quot;header&quot;:{&quot;functionExecutionStatus&quot;:{&quot;status&quot;:&quot;Executed-Success&quot;}},&quot;transactionId&quot;:&quot;38276E39BBF53DB1995BCF5204FFE9F1&quot;,&quot;serverSigned1&quot;:&quot;ME+AEDgnbjm79T2xmVvPUgT/6fGBEL7EZelyspzVR+sgd/Ei4WqDF3Byb2Quc21kcC1wbHVzLnJzcC5nb29nhBDsDLtiTctqO0HrZ71xX/Vc&quot;,&quot;serverSignature1&quot;:&quot;XzdAgWFiSsP4O2gVZ4qnmhHXx2tuhKeODhkHlemj/UHUsopbV1lS3qd7TEDFZ7/O30hGxxeurf30aMN+WoMl1mDNrQ\\u003d\\u003d&quot;,&quot;euiccCiPKIdToBeUsed&quot;:&quot;BBS2DwuJf9YwuIz+1hYfjqgIxTgqww\\u003d\\u003d&quot;,&quot;serverCertificate&quot;:&quot;MIICdjCCAhygAwIBAgIUAOBHpGopNWuzm3NyN3UOol10/gswCgYIKoZIzj0EAwIwcjELMAkGA1UEBhMCREUxGDAWBgNVBAsMD01vYmlsZSBTZWN1cml0eTEjMCEGA1UECgwaR2llc2Vja2UgYW5kIERldnJpZW50IEdtYkgxJDAiBgNVBAMMG1N1Yk1hbiBWNC4yIENJIEdvb2dsZSBQaXhlbDAeFw0xOTA1MDgwMDAwMDBaFw0yMjA1MDgwMDAwMDBaMH4xHzAdBgNVBAMMFkdvb2dsZSBMTEMgRFBhdXRoIFByb2QxDDAKBgNVBAsMA1JTUDETMBEGA1UECgwKR29vZ2xlIExMQzEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzETMBEGA1UECAwKQ2FsaWZvcm5pYTELMAkGA1UEBhMCVVMwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATMCjKlp7gYUoqvd+7xgC8hkF1OGnQ0NMx70Dl0/5nCnysJ0K5rGSoIQPpJKPFly4ifdEKXf1RNT1UwiF153uA0o4GDMIGAMB8GA1 size: 1024\r\n2023-10-17 13:46:09.138 4813-5764/  D/ServerInterfaceImpl: response buffer: UdIwQYMBaAFLYPC4l/1jC4jP7WFh+OqAjFOCrDMB0GA1UdDgQWBBThDxQ1WDQrvSKcSJ8bacAJLDQf2TAVBgNVHREEDjAMiAorBgEEAdZ5BgEDMBcGA1UdIAEB/wQNMAswCQYHZ4ESAQIBBDAOBgNVHQ8BAf8EBAMCB4AwCgYIKoZIzj0EAwIDSAAwRQIhAKf6KuLFCtWIo7HXEBvmK13jJWlyQl+a6JYCrTcegF9SAiBfnwauxju7TGmkvF3y5+jGWfCpz3MrwBrF+IhO3J992A\\u003d\\u003d&quot;} size: 294\r\n2023-10-17 13:46:09.139 4813-5764/  D/ServerInterfaceImpl: response data size: 1318\r\n2023-10-17 13:46:09.139 4813-5764/  D/ServerInterfaceImpl: Server response: {&quot;header&quot;:{&quot;functionExecutionStatus&quot;:{&quot;status&quot;:&quot;Executed-Success&quot;}},&quot;transactionId&quot;:&quot;38276E39BBF53DB1995BCF5204FFE9F1&quot;,&quot;serverSigned1&quot;:&quot;ME+AEDgnbjm79T2xmVvPUgT/6fGBEL7EZelyspzVR+sgd/Ei4WqDF3Byb2Quc21kcC1wbHVzLnJzcC5nb29nhBDsDLtiTctqO0HrZ71xX/Vc&quot;,&quot;serverSignature1&quot;:&quot;XzdAgWFiSsP4O2gVZ4qnmhHXx2tuhKeODhkHlemj/UHUsopbV1lS3qd7TEDFZ7/O30hGxxeurf30aMN+WoMl1mDNrQ\\u003d\\u003d&quot;,&quot;euiccCiPKIdToBeUsed&quot;:&quot;BBS2DwuJf9YwuIz+1hYfjqgIxTgqww\\u003d\\u003d&quot;,&quot;serverCertificate&quot;:&quot;MIICdjCCAhygAwIBAgIUAOBHpGopNWuzm3NyN3UOol10/gswCgYIKoZIzj0EAwIwcjELMAkGA1UEBhMCREUxGDAWBgNVBAsMD01vYmlsZSBTZWN1cml0eTEjMCEGA1UECgwaR2llc2Vja2UgYW5kIERldnJpZW50IEdtYkgxJDAiBgNVBAMMG1N1Yk1hbiBWNC4yIENJIEdvb2dsZSBQaXhlbDAeFw0xOTA1MDgwMDAwMDBaFw0yMjA1MDgwMDAwMDBaMH4xHzAdBgNVBAMMFkdvb2dsZSBMTEMgRFBhdXRoIFByb2QxDDAKBgNVBAsMA1JTUDETMBEGA1UECgwKR29vZ2xlIExMQzEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzETMBEGA1UECAwKQ2FsaWZvcm5pYTELMAkGA1UEBhMCVVMwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATMCjKlp7gYUoqvd+7xgC8hkF1OGnQ0NMx70Dl0/5nCnysJ0K5rGSoIQPpJKPFly4ifdEKXf1RNT1UwiF153uA0o4GDMIGAMB8GA1UdIwQYMBaAFLYPC4l/1jC4jP7WFh+OqAjFOCrDMB0GA1UdDgQWBBThDxQ1WDQrvSKcSJ8bacAJLDQf2TAVBgNVHREEDjAMiAorBgEEAdZ5BgEDMBcGA1UdIAEB/wQNMAswCQYHZ4ESAQIBBDAOBgNVHQ8BAf8EBAMCB4AwCgYIKoZIzj0EAwIDSAAwRQIhAKf6KuLFCtWIo7HXEBvmK13jJWlyQl+a6JYCrTcegF9SAiBfnwauxju7TGmkvF3y5+jGWfCpz3MrwBrF+IhO3J992A\\u003d\\u003d&quot;}\r\n2023-10-17 13:46:09.161 4813-5764/  D/LPD: serverAddress from AC: prod.smdp-plus.rsp.goog, serverAddress from IAR: prod.smdp-plus.rsp.goog\r\n2023-10-17 13:46:09.170 4813-5764/  D/LPD: ES10b AuthenticateServer\r\n2023-10-17 13:46:09.189 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 00, p3: FF, data: BF38820363304F801038276E39BBF53DB1995BCF5204FFE9F18110BEC465E972B29CD547EB2077F122E16A831770726F642E736D64702D706C75732E7273702E676F6F678410EC0CBB624DCB6A3B41EB67BD715FF55C5F37408161624AC3F83B6815678AA79A11D7C76B6E84A78E0E190795E9A3FD41D4B28A5B575952DEA77B4C40C567BFCEDF4846C717AEADFDF468C37E5A8325D660CDAD0414B60F0B897FD630B88CFED6161F8EA808C5382AC3308202763082021CA003020102021400E047A46A29356BB39B737237750EA25D74FE0B300A06082A8648CE3D0403023072310B300906035504061302444531183016060355040B0C0F4D6F62696C6520\r\n2023-10-17 13:46:09.210 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: 9000\r\n2023-10-17 13:46:09.211 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 01, p3: FF, data: 536563757269747931233021060355040A0C1A4769657365636B6520616E64204465767269656E7420476D62483124302206035504030C1B5375624D616E2056342E3220434920476F6F676C6520506978656C301E170D3139303530383030303030305A170D3232303530383030303030305A307E311F301D06035504030C16476F6F676C65204C4C43204450617574682050726F64310C300A060355040B0C0352535031133011060355040A0C0A476F6F676C65204C4C433116301406035504070C0D4D6F756E7461696E20566965773113301106035504080C0A43616C69666F726E6961310B30090603550406130255533059301306072A8648CE3D02\r\n2023-10-17 13:46:09.225 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: 9000\r\n2023-10-17 13:46:09.225 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 02, p3: FF, data: 0106082A8648CE3D03010703420004CC0A32A5A7B818528AAF77EEF1802F21905D4E1A743434CC7BD03974FF99C29F2B09D0AE6B192A0840FA4928F165CB889F7442977F544D4F5530885D79DEE034A38183308180301F0603551D23041830168014B60F0B897FD630B88CFED6161F8EA808C5382AC3301D0603551D0E04160414E10F143558342BBD229C489F1B69C0092C341FD930150603551D11040E300C880A2B06010401D67906010330170603551D200101FF040D300B3009060767811201020104300E0603551D0F0101FF040403020780300A06082A8648CE3D0403020348003045022100A7FA2AE2C50AD588A3B1D7101BE62B5DE3256972425F\r\n2023-10-17 13:46:09.237 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: 9000\r\n2023-10-17 13:46:09.239 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 03, p3: 6B, data: 9AE89602AD371E805F5202205F9F06AEC63BBB4C69A4BC5DF2E7E8C659F0A9CF732BC01AC5F8884EDC9F7DD8A03D8013303532582D554658532D435149592D504E474CA126800435293110A11E80030B000081030B00008203010000830303000084030C000085030B0000\r\n2023-10-17 13:46:09.603 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: 6F00\r\n2023-10-17 13:46:09.611 4813-5764/  D/LPD: AuthenticateServerRequest failed, error code: 256\r\n2023-10-17 13:46:09.611 4813-5764/  E/LpaWorker: mutualAuthentication failed, error code: 256\r\n2023-10-17 13:46:09.611 4813-5764/  D/ServerInterfaceImpl: resetChannel\r\n2023-10-17 13:46:09.612 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: resetChannel\r\n2023-10-17 13:46:09.618 4813-5764/  D/EuiccInterfaceImpl&#160;SE&#160;service::: SE channel closed\r\n2023-10-17 13:46:09.619 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: onRequestCompleted: status = 256\r\n2023-10-17 13:46:09.651 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: getAvailableReaders\r\n2023-10-17 13:46:09.651 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: checkRequestAllowed: requestType = 1, myUID = 10040, callingUID = 10106\r\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: openChannel\r\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: permissionState = 0\r\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: Pref: selectedReader: \r\n2023-10-17 13:46:09.657 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: selectedReader: eSE1\r\n2023-10-17 13:46:09.657 4813-5771/  I/SEService: true\r\n2023-10-17 13:46:09.682 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\r\n2023-10-17 13:46:09.682 4813-5771/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\r\n2023-10-17 13:46:09.682 4813-5771/  D/LUI_2.4.0_api_2: ES10c getAvailableReaders\r\n2023-10-17 13:46:09.683 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: getAvailableReaders: [Telephony]\r\n2023-10-17 13:46:09.683 4813-5771/  D/LpaWorker: getAvailableReaders:[Telephony]\r\n2023-10-17 13:46:09.683 4813-5771/  D/ServerInterfaceImpl: resetChannel\r\n2023-10-17 13:46:09.683 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: resetChannel\r\n2023-10-17 13:46:09.687 4813-5771/  D/EuiccInterfaceImpl&#160;SE&#160;service::: SE channel closed\r\n2023-10-17 13:46:09.687 4813-5771/  D/LpaServiceImpl_2.4.0_api_2: onReadersRetrieved: status = 0, readers = [Telephony]\r\n2023-10-17 13:46:09.689 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: listProfiles\r\n2023-10-17 13:46:09.693 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: openChannel\r\n2023-10-17 13:46:09.693 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: permissionState = 0\r\n2023-10-17 13:46:09.694 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: Pref: selectedReader: \r\n2023-10-17 13:46:09.694 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: selectedReader: eSE1\r\n2023-10-17 13:46:09.695 4813-5772/  I/SEService: true\r\n2023-10-17 13:46:09.734 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\r\n2023-10-17 13:46:09.735 4813-5772/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\r\n2023-10-17 13:46:09.736 4813-5772/  D/LUI_2.4.0_api_2: ES10c GetProfilesInfo\r\n2023-10-17 13:46:09.736 4813-5772/  D/LUI_2.4.0_api_2: PROFILE_LIST_RETRY 0\r\n2023-10-17 13:46:09.739 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 18, data: BF2D15A0039501025C0E5A4F9F709295B79990919394B6B8\r\n2023-10-17 13:46:09.740 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu: 80E2910018BF2D15A0039501025C0E5A4F9F709295B79990919394B6B8\r\n2023-10-17 13:46:09.757 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: iccTransmitApdu result: BF2D02A0009000\r\n2023-10-17 13:46:09.762 4813-5772/  D/LUI_2.4.0_api_2: PROFILE_LIST_RESPONSE 0\r\n2023-10-17 13:46:09.763 4813-5772/  D/ServerInterfaceImpl: resetChannel\r\n2023-10-17 13:46:09.763 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: resetChannel\r\n2023-10-17 13:46:09.768 4813-5772/  D/EuiccInterfaceImpl&#160;SE&#160;service::: SE channel closed\r\n2023-10-17 13:46:09.768 4813-5772/  D/LpaServiceImpl_2.4.0_api_2: onProfileListRetrieved: status = 0, profileList = []\r\n\r\n```\r\n","title":"6F00 error during AuthenticateServer step of downloading profile on esim","body":"<p>I am making a LPA application for mobile esim using SE service to communicate with EUICC on a rooted pixel device on AOSP OS following SGP .22-2.3 specs, but while trying to download the profile on the esim in AuthenticateServer step I am getting 6F00 error code which translates to &quot;No precise diagnosis&quot;.\nTill InitiateAuthentication step everything is working fine. I don't know whats going wrong.</p>\n<p>For profile download I am using Google's SAIP test profiles. I have already checked the ctxParam values and they are correct as per the device. I am attaching the logs of the process for reference.</p>\n<pre><code>2023-10-17 13:46:07.200 4813-4834/  D/LpaServiceImpl_2.4.0_api_2: addProfile: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, smdsAddress = null, type = 0, inputSupported = true\n2023-10-17 13:46:07.200 4813-4834/  D/LpaServiceImpl_2.4.0_api_2: checkRequestAllowed: requestType = 4, myUID = 10040, callingUID = 10106\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl SE service::: openChannel\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl SE service::: permissionState = 0\n2023-10-17 13:46:07.206 4813-5764/  D/EuiccInterfaceImpl SE service::: Pref: selectedReader: \n2023-10-17 13:46:07.207 4813-5764/  D/EuiccInterfaceImpl SE service::: selectedReader: eSE1\n2023-10-17 13:46:07.208 4813-5764/  I/SEService: true\n2023-10-17 13:46:07.245 4813-5764/  D/EuiccInterfaceImpl SE service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\n2023-10-17 13:46:07.246 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\n2023-10-17 13:46:07.246 4813-5764/  D/ActivationCode: getParsedActivationCode: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, mACFormat = 1, mSMDPAddress = prod.smdp-plus.rsp.goog, mACToken = 052X-UFXS-CQIY-PNGL, mSMDPid = null, mConfirmationFlag = false\n2023-10-17 13:46:07.246 4813-5764/  D/ActivationCode: getParsedActivationCode: activationCode = LPA:1$prod.smdp-plus.rsp.goog$052X-UFXS-CQIY-PNGL, mACFormat = 1, mSMDPAddress = prod.smdp-plus.rsp.goog, mACToken = 052X-UFXS-CQIY-PNGL, mSMDPid = null, mConfirmationFlag = false\n2023-10-17 13:46:07.247 4813-5764/  D/LUI_2.4.0_api_2: ES10c GetProfilesInfo\n2023-10-17 13:46:07.247 4813-5764/  D/LUI_2.4.0_api_2: PROFILE_LIST_RETRY 0\n2023-10-17 13:46:07.249 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 0D, data: BF2D0A5C085A4F9F709295B799\n2023-10-17 13:46:07.250 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu: 80E291000DBF2D0A5C085A4F9F709295B799\n2023-10-17 13:46:07.261 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: BF2D02A0009000\n2023-10-17 13:46:07.264 4813-5764/  D/LUI_2.4.0_api_2: PROFILE_LIST_RESPONSE 0\n2023-10-17 13:46:07.264 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\n2023-10-17 13:46:07.264 4813-5764/  D/LpaWorker: AddProfile with Activation Code: smdpAddress - prod.smdp-plus.rsp.goog, matchingId - 052X-UFXS-CQIY-PNGL, smdpOid - null, confirmationCodeRequired - false\n2023-10-17 13:46:07.264 4813-5764/  D/LPD: ES10b GetEUICCInfo\n2023-10-17 13:46:07.267 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 03, data: BF2000\n2023-10-17 13:46:07.267 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu: 80E2910003BF2000\n2023-10-17 13:46:07.363 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: BF20618203020200A92C041481370F5125D0B1D408D4C3B232E6D25E795BEBFB0414B60F0B897FD630B88CFED6161F8EA808C5382AC3AA2C041481370F5125D0B1D408D4C3B232E6D25E795BEBFB0414B60F0B897FD630B88CFED6161F8EA808C5382AC39000\n2023-10-17 13:46:07.364 4813-5764/  D/GetEUICCInfoResponse: Don't ignore check of eUICC certificate for verification\n2023-10-17 13:46:07.364 4813-5764/  D/GetEUICCInfoResponse: Don't ignore check of eUICC certificate for signing\n2023-10-17 13:46:07.370 4813-5764/  D/LPD: ES10b GetEUICCChallenge\n2023-10-17 13:46:07.371 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 03, data: BF2E00\n2023-10-17 13:46:07.372 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu: 80E2910003BF2E00\n2023-10-17 13:46:07.392 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: BF2E128010BEC465E972B29CD547EB2077F122E16A9000\n2023-10-17 13:46:07.399 4813-5764/  D/LPD: ES9+ InitiateAuthentication\n2023-10-17 13:46:07.401 4813-5764/  D/ServerInterfaceImpl:  &gt; prod.smdp-plus.rsp.goog/gsma/rsp2/es9plus/initiateAuthentication\n    {&quot;euiccChallenge&quot;:&quot;vsRl6XKynNVH6yB38SLhag==&quot;,&quot;euiccInfo1&quot;:&quot;vyBhggMCAgCpLAQUgTcPUSXQsdQI1MOyMubSXnlb6/sEFLYPC4l/1jC4jP7WFh+OqAjFOCrDqiwEFIE3D1El0LHUCNTDsjLm0l55W+v7BBS2DwuJf9YwuIz+1hYfjqgIxTgqww==&quot;,&quot;smdpAddress&quot;:&quot;prod.smdp-plus.rsp.goog&quot;}\n2023-10-17 13:46:07.700 4813-5764/  D/TrafficStats: tagSocket(72) with statsTag=0xffffffff, statsUid=-1\n2023-10-17 13:46:09.138 4813-5764/  D/ServerInterfaceImpl: response buffer: {&quot;header&quot;:{&quot;functionExecutionStatus&quot;:{&quot;status&quot;:&quot;Executed-Success&quot;}},&quot;transactionId&quot;:&quot;38276E39BBF53DB1995BCF5204FFE9F1&quot;,&quot;serverSigned1&quot;:&quot;ME+AEDgnbjm79T2xmVvPUgT/6fGBEL7EZelyspzVR+sgd/Ei4WqDF3Byb2Quc21kcC1wbHVzLnJzcC5nb29nhBDsDLtiTctqO0HrZ71xX/Vc&quot;,&quot;serverSignature1&quot;:&quot;XzdAgWFiSsP4O2gVZ4qnmhHXx2tuhKeODhkHlemj/UHUsopbV1lS3qd7TEDFZ7/O30hGxxeurf30aMN+WoMl1mDNrQ\\u003d\\u003d&quot;,&quot;euiccCiPKIdToBeUsed&quot;:&quot;BBS2DwuJf9YwuIz+1hYfjqgIxTgqww\\u003d\\u003d&quot;,&quot;serverCertificate&quot;:&quot;MIICdjCCAhygAwIBAgIUAOBHpGopNWuzm3NyN3UOol10/gswCgYIKoZIzj0EAwIwcjELMAkGA1UEBhMCREUxGDAWBgNVBAsMD01vYmlsZSBTZWN1cml0eTEjMCEGA1UECgwaR2llc2Vja2UgYW5kIERldnJpZW50IEdtYkgxJDAiBgNVBAMMG1N1Yk1hbiBWNC4yIENJIEdvb2dsZSBQaXhlbDAeFw0xOTA1MDgwMDAwMDBaFw0yMjA1MDgwMDAwMDBaMH4xHzAdBgNVBAMMFkdvb2dsZSBMTEMgRFBhdXRoIFByb2QxDDAKBgNVBAsMA1JTUDETMBEGA1UECgwKR29vZ2xlIExMQzEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzETMBEGA1UECAwKQ2FsaWZvcm5pYTELMAkGA1UEBhMCVVMwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATMCjKlp7gYUoqvd+7xgC8hkF1OGnQ0NMx70Dl0/5nCnysJ0K5rGSoIQPpJKPFly4ifdEKXf1RNT1UwiF153uA0o4GDMIGAMB8GA1 size: 1024\n2023-10-17 13:46:09.138 4813-5764/  D/ServerInterfaceImpl: response buffer: UdIwQYMBaAFLYPC4l/1jC4jP7WFh+OqAjFOCrDMB0GA1UdDgQWBBThDxQ1WDQrvSKcSJ8bacAJLDQf2TAVBgNVHREEDjAMiAorBgEEAdZ5BgEDMBcGA1UdIAEB/wQNMAswCQYHZ4ESAQIBBDAOBgNVHQ8BAf8EBAMCB4AwCgYIKoZIzj0EAwIDSAAwRQIhAKf6KuLFCtWIo7HXEBvmK13jJWlyQl+a6JYCrTcegF9SAiBfnwauxju7TGmkvF3y5+jGWfCpz3MrwBrF+IhO3J992A\\u003d\\u003d&quot;} size: 294\n2023-10-17 13:46:09.139 4813-5764/  D/ServerInterfaceImpl: response data size: 1318\n2023-10-17 13:46:09.139 4813-5764/  D/ServerInterfaceImpl: Server response: {&quot;header&quot;:{&quot;functionExecutionStatus&quot;:{&quot;status&quot;:&quot;Executed-Success&quot;}},&quot;transactionId&quot;:&quot;38276E39BBF53DB1995BCF5204FFE9F1&quot;,&quot;serverSigned1&quot;:&quot;ME+AEDgnbjm79T2xmVvPUgT/6fGBEL7EZelyspzVR+sgd/Ei4WqDF3Byb2Quc21kcC1wbHVzLnJzcC5nb29nhBDsDLtiTctqO0HrZ71xX/Vc&quot;,&quot;serverSignature1&quot;:&quot;XzdAgWFiSsP4O2gVZ4qnmhHXx2tuhKeODhkHlemj/UHUsopbV1lS3qd7TEDFZ7/O30hGxxeurf30aMN+WoMl1mDNrQ\\u003d\\u003d&quot;,&quot;euiccCiPKIdToBeUsed&quot;:&quot;BBS2DwuJf9YwuIz+1hYfjqgIxTgqww\\u003d\\u003d&quot;,&quot;serverCertificate&quot;:&quot;MIICdjCCAhygAwIBAgIUAOBHpGopNWuzm3NyN3UOol10/gswCgYIKoZIzj0EAwIwcjELMAkGA1UEBhMCREUxGDAWBgNVBAsMD01vYmlsZSBTZWN1cml0eTEjMCEGA1UECgwaR2llc2Vja2UgYW5kIERldnJpZW50IEdtYkgxJDAiBgNVBAMMG1N1Yk1hbiBWNC4yIENJIEdvb2dsZSBQaXhlbDAeFw0xOTA1MDgwMDAwMDBaFw0yMjA1MDgwMDAwMDBaMH4xHzAdBgNVBAMMFkdvb2dsZSBMTEMgRFBhdXRoIFByb2QxDDAKBgNVBAsMA1JTUDETMBEGA1UECgwKR29vZ2xlIExMQzEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzETMBEGA1UECAwKQ2FsaWZvcm5pYTELMAkGA1UEBhMCVVMwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATMCjKlp7gYUoqvd+7xgC8hkF1OGnQ0NMx70Dl0/5nCnysJ0K5rGSoIQPpJKPFly4ifdEKXf1RNT1UwiF153uA0o4GDMIGAMB8GA1UdIwQYMBaAFLYPC4l/1jC4jP7WFh+OqAjFOCrDMB0GA1UdDgQWBBThDxQ1WDQrvSKcSJ8bacAJLDQf2TAVBgNVHREEDjAMiAorBgEEAdZ5BgEDMBcGA1UdIAEB/wQNMAswCQYHZ4ESAQIBBDAOBgNVHQ8BAf8EBAMCB4AwCgYIKoZIzj0EAwIDSAAwRQIhAKf6KuLFCtWIo7HXEBvmK13jJWlyQl+a6JYCrTcegF9SAiBfnwauxju7TGmkvF3y5+jGWfCpz3MrwBrF+IhO3J992A\\u003d\\u003d&quot;}\n2023-10-17 13:46:09.161 4813-5764/  D/LPD: serverAddress from AC: prod.smdp-plus.rsp.goog, serverAddress from IAR: prod.smdp-plus.rsp.goog\n2023-10-17 13:46:09.170 4813-5764/  D/LPD: ES10b AuthenticateServer\n2023-10-17 13:46:09.189 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 00, p3: FF, data: BF38820363304F801038276E39BBF53DB1995BCF5204FFE9F18110BEC465E972B29CD547EB2077F122E16A831770726F642E736D64702D706C75732E7273702E676F6F678410EC0CBB624DCB6A3B41EB67BD715FF55C5F37408161624AC3F83B6815678AA79A11D7C76B6E84A78E0E190795E9A3FD41D4B28A5B575952DEA77B4C40C567BFCEDF4846C717AEADFDF468C37E5A8325D660CDAD0414B60F0B897FD630B88CFED6161F8EA808C5382AC3308202763082021CA003020102021400E047A46A29356BB39B737237750EA25D74FE0B300A06082A8648CE3D0403023072310B300906035504061302444531183016060355040B0C0F4D6F62696C6520\n2023-10-17 13:46:09.210 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: 9000\n2023-10-17 13:46:09.211 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 01, p3: FF, data: 536563757269747931233021060355040A0C1A4769657365636B6520616E64204465767269656E7420476D62483124302206035504030C1B5375624D616E2056342E3220434920476F6F676C6520506978656C301E170D3139303530383030303030305A170D3232303530383030303030305A307E311F301D06035504030C16476F6F676C65204C4C43204450617574682050726F64310C300A060355040B0C0352535031133011060355040A0C0A476F6F676C65204C4C433116301406035504070C0D4D6F756E7461696E20566965773113301106035504080C0A43616C69666F726E6961310B30090603550406130255533059301306072A8648CE3D02\n2023-10-17 13:46:09.225 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: 9000\n2023-10-17 13:46:09.225 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 11, p2: 02, p3: FF, data: 0106082A8648CE3D03010703420004CC0A32A5A7B818528AAF77EEF1802F21905D4E1A743434CC7BD03974FF99C29F2B09D0AE6B192A0840FA4928F165CB889F7442977F544D4F5530885D79DEE034A38183308180301F0603551D23041830168014B60F0B897FD630B88CFED6161F8EA808C5382AC3301D0603551D0E04160414E10F143558342BBD229C489F1B69C0092C341FD930150603551D11040E300C880A2B06010401D67906010330170603551D200101FF040D300B3009060767811201020104300E0603551D0F0101FF040403020780300A06082A8648CE3D0403020348003045022100A7FA2AE2C50AD588A3B1D7101BE62B5DE3256972425F\n2023-10-17 13:46:09.237 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: 9000\n2023-10-17 13:46:09.239 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 03, p3: 6B, data: 9AE89602AD371E805F5202205F9F06AEC63BBB4C69A4BC5DF2E7E8C659F0A9CF732BC01AC5F8884EDC9F7DD8A03D8013303532582D554658532D435149592D504E474CA126800435293110A11E80030B000081030B00008203010000830303000084030C000085030B0000\n2023-10-17 13:46:09.603 4813-5764/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: 6F00\n2023-10-17 13:46:09.611 4813-5764/  D/LPD: AuthenticateServerRequest failed, error code: 256\n2023-10-17 13:46:09.611 4813-5764/  E/LpaWorker: mutualAuthentication failed, error code: 256\n2023-10-17 13:46:09.611 4813-5764/  D/ServerInterfaceImpl: resetChannel\n2023-10-17 13:46:09.612 4813-5764/  D/EuiccInterfaceImpl SE service::: resetChannel\n2023-10-17 13:46:09.618 4813-5764/  D/EuiccInterfaceImpl SE service::: SE channel closed\n2023-10-17 13:46:09.619 4813-5764/  D/LpaServiceImpl_2.4.0_api_2: onRequestCompleted: status = 256\n2023-10-17 13:46:09.651 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: getAvailableReaders\n2023-10-17 13:46:09.651 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: checkRequestAllowed: requestType = 1, myUID = 10040, callingUID = 10106\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl SE service::: openChannel\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl SE service::: permissionState = 0\n2023-10-17 13:46:09.656 4813-5771/  D/EuiccInterfaceImpl SE service::: Pref: selectedReader: \n2023-10-17 13:46:09.657 4813-5771/  D/EuiccInterfaceImpl SE service::: selectedReader: eSE1\n2023-10-17 13:46:09.657 4813-5771/  I/SEService: true\n2023-10-17 13:46:09.682 4813-5771/  D/EuiccInterfaceImpl SE service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\n2023-10-17 13:46:09.682 4813-5771/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\n2023-10-17 13:46:09.682 4813-5771/  D/LUI_2.4.0_api_2: ES10c getAvailableReaders\n2023-10-17 13:46:09.683 4813-5771/  D/EuiccInterfaceImpl SE service::: getAvailableReaders: [Telephony]\n2023-10-17 13:46:09.683 4813-5771/  D/LpaWorker: getAvailableReaders:[Telephony]\n2023-10-17 13:46:09.683 4813-5771/  D/ServerInterfaceImpl: resetChannel\n2023-10-17 13:46:09.683 4813-5771/  D/EuiccInterfaceImpl SE service::: resetChannel\n2023-10-17 13:46:09.687 4813-5771/  D/EuiccInterfaceImpl SE service::: SE channel closed\n2023-10-17 13:46:09.687 4813-5771/  D/LpaServiceImpl_2.4.0_api_2: onReadersRetrieved: status = 0, readers = [Telephony]\n2023-10-17 13:46:09.689 4813-5762/  D/LpaServiceImpl_2.4.0_api_2: listProfiles\n2023-10-17 13:46:09.693 4813-5772/  D/EuiccInterfaceImpl SE service::: openChannel\n2023-10-17 13:46:09.693 4813-5772/  D/EuiccInterfaceImpl SE service::: permissionState = 0\n2023-10-17 13:46:09.694 4813-5772/  D/EuiccInterfaceImpl SE service::: Pref: selectedReader: \n2023-10-17 13:46:09.694 4813-5772/  D/EuiccInterfaceImpl SE service::: selectedReader: eSE1\n2023-10-17 13:46:09.695 4813-5772/  I/SEService: true\n2023-10-17 13:46:09.734 4813-5772/  D/EuiccInterfaceImpl SE service::: ISDR response: 6F1F8410A0000005591010FFFFFFFF8900000100A5049F6501FFE00582030202009000\n2023-10-17 13:46:09.735 4813-5772/  D/LpaServiceImpl_2.4.0_api_2: intermediateProgress: progress = 0\n2023-10-17 13:46:09.736 4813-5772/  D/LUI_2.4.0_api_2: ES10c GetProfilesInfo\n2023-10-17 13:46:09.736 4813-5772/  D/LUI_2.4.0_api_2: PROFILE_LIST_RETRY 0\n2023-10-17 13:46:09.739 4813-5772/  D/EuiccInterfaceImpl SE service::: iccTransmitApduLogicalChannel &lt; cla: 80, ins: E2, p1: 91, p2: 00, p3: 18, data: BF2D15A0039501025C0E5A4F9F709295B79990919394B6B8\n2023-10-17 13:46:09.740 4813-5772/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu: 80E2910018BF2D15A0039501025C0E5A4F9F709295B79990919394B6B8\n2023-10-17 13:46:09.757 4813-5772/  D/EuiccInterfaceImpl SE service::: iccTransmitApdu result: BF2D02A0009000\n2023-10-17 13:46:09.762 4813-5772/  D/LUI_2.4.0_api_2: PROFILE_LIST_RESPONSE 0\n2023-10-17 13:46:09.763 4813-5772/  D/ServerInterfaceImpl: resetChannel\n2023-10-17 13:46:09.763 4813-5772/  D/EuiccInterfaceImpl SE service::: resetChannel\n2023-10-17 13:46:09.768 4813-5772/  D/EuiccInterfaceImpl SE service::: SE channel closed\n2023-10-17 13:46:09.768 4813-5772/  D/LpaServiceImpl_2.4.0_api_2: onProfileListRetrieved: status = 0, profileList = []\n\n</code></pre>\n"},{"tags":["java","mysql","json"],"comments":[{"owner":{"account_id":7069588,"reputation":111,"user_id":6829335,"display_name":"kentilla"},"score":0,"creation_date":1699027365,"post_id":77402879,"comment_id":136483565,"body_markdown":"are you experiencing an IllegalArgumentException from JacksonJsonFormatMapper in your stacktrace? Please, can you report it fully?","body":"are you experiencing an IllegalArgumentException from JacksonJsonFormatMapper in your stacktrace? Please, can you report it fully?"}],"owner":{"account_id":29802678,"reputation":11,"user_id":22840098,"display_name":"Qmm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698850747,"creation_date":1698844117,"question_id":77402879,"body_markdown":"Could not deserialize string to java type: BasicJavaType(com.jxufe.course_scheduling_system.entity.auxiliary_type.TeacherPreference)\r\nhibernate give me this error\r\n\r\n\r\ni have a user type TeacherPreference defind like this:\r\n```java\r\npublic\r\nclass TeacherPreference {\r\n    private ArrayList&lt;BasicScheduleItem&gt; no_class_time;\r\n\r\n    public\r\n    TeacherPreference(ArrayList&lt;BasicScheduleItem&gt; nct){\r\n        this.no_class_time = nct;\r\n    }\r\n\r\n    public boolean equals(TeacherPreference preference) {\r\n        return this.no_class_time.equals(preference.no_class_time);\r\n    }\r\n}\r\n```\r\n\r\nand its used here\r\n```\r\n@Entity\r\n@Data\r\n@Table( name = &quot;teacher&quot; )\r\npublic\r\nclass Teacher {\r\n\r\n    @Id//ID标识\r\n    @GeneratedValue( strategy = GenerationType.IDENTITY )//自增标识\r\n    private Long teacher_ID;\r\n\r\n    @Column( name = &quot;name&quot; )//列标识\r\n    private String name;\r\n\r\n    @JdbcTypeCode( SqlTypes.JSON)\r\n    @Column( name = &quot;class_IDs&quot;, columnDefinition = &quot;json&quot; )\r\n    private ArrayList&lt;Long&gt; class_IDs;\r\n\r\n    @JdbcTypeCode( SqlTypes.JSON)\r\n    @Column( name = &quot;preference&quot; )\r\n    private TeacherPreference preference;\r\n\r\n\r\n\r\n    public\r\n    String toJson() {\r\n        return new Gson().toJson(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\nwhen i try to convert at here\r\n```\r\n@Service\r\npublic\r\nclass TeacherService {\r\n\r\n    @Autowired\r\n    TeacherRepository repository;\r\n\r\n    public\r\n    String getByID(Long ID) {\r\n        String res;\r\n        try {\r\n            res = repository.findById(ID).get().toJson();\r\n            System.out.println(res);\r\n            return res;\r\n        } catch ( Exception e ) {\r\n            return e.toString();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ni got this error: \r\n&gt;org.springframework.dao.InvalidDataAccessApiUsageException: Could not deserialize string to java type: BasicJavaType(com.jxufe.course_scheduling_system.entity.auxiliary_type.TeacherPreference)\r\n\r\nhow to fix it and why","title":"i cant convert mysql json data to my java type","body":"<p>Could not deserialize string to java type: BasicJavaType(com.jxufe.course_scheduling_system.entity.auxiliary_type.TeacherPreference)\nhibernate give me this error</p>\n<p>i have a user type TeacherPreference defind like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public\nclass TeacherPreference {\n    private ArrayList&lt;BasicScheduleItem&gt; no_class_time;\n\n    public\n    TeacherPreference(ArrayList&lt;BasicScheduleItem&gt; nct){\n        this.no_class_time = nct;\n    }\n\n    public boolean equals(TeacherPreference preference) {\n        return this.no_class_time.equals(preference.no_class_time);\n    }\n}\n</code></pre>\n<p>and its used here</p>\n<pre><code>@Entity\n@Data\n@Table( name = &quot;teacher&quot; )\npublic\nclass Teacher {\n\n    @Id//ID标识\n    @GeneratedValue( strategy = GenerationType.IDENTITY )//自增标识\n    private Long teacher_ID;\n\n    @Column( name = &quot;name&quot; )//列标识\n    private String name;\n\n    @JdbcTypeCode( SqlTypes.JSON)\n    @Column( name = &quot;class_IDs&quot;, columnDefinition = &quot;json&quot; )\n    private ArrayList&lt;Long&gt; class_IDs;\n\n    @JdbcTypeCode( SqlTypes.JSON)\n    @Column( name = &quot;preference&quot; )\n    private TeacherPreference preference;\n\n\n\n    public\n    String toJson() {\n        return new Gson().toJson(this);\n    }\n\n}\n</code></pre>\n<p>when i try to convert at here</p>\n<pre><code>@Service\npublic\nclass TeacherService {\n\n    @Autowired\n    TeacherRepository repository;\n\n    public\n    String getByID(Long ID) {\n        String res;\n        try {\n            res = repository.findById(ID).get().toJson();\n            System.out.println(res);\n            return res;\n        } catch ( Exception e ) {\n            return e.toString();\n        }\n    }\n}\n</code></pre>\n<p>i got this error:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Could not deserialize string to java type: BasicJavaType(com.jxufe.course_scheduling_system.entity.auxiliary_type.TeacherPreference)</p>\n</blockquote>\n<p>how to fix it and why</p>\n"},{"tags":["java","spring-boot","thymeleaf","atlassian-connect"],"owner":{"account_id":18704051,"reputation":11,"user_id":13635636,"display_name":"Vencislav Borislavov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698850683,"creation_date":1698850683,"question_id":77403564,"body_markdown":"I use spring boot with thymeleaf and I am trying to link js file to my template.\r\n\r\nIn my html file I reference my scrpit file as such:\r\n```html\r\n&lt;script th:src=&quot;@{/js/file.min.js}&quot; charset=&quot;UTF-8&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nThe file is located in /resources/static/js\r\n\r\nI am using Spring Security 6.1.5, Spring Boot 3.1.5, and Atlassian Connect Spring Boot 4.0.5.\r\n\r\n\r\nI tried the following:\r\n\r\nAdding spring-mvc.xml with content:\r\n```xml\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n       xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;mvc:resources mapping=&quot;/js/**&quot; location=&quot;/js/&quot; /&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\nTried adding a configuration such as:\r\n```java\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new RequestsInterceptor());\r\n    }\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        // Configure resource handling for your static resources\r\n        registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;classpath:/static/js/&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso I tried adding some settings in my application.yml file\r\n```yml\r\nspring:\r\n  web: \r\n    resources:\r\n      add-mappings: true\r\n      static-locations: classpath:/static/, classpath:/public/, classpath:/resources/, classpath:/META-INF/resources/, classpath:/js/\r\n```\r\n\r\nnone of these solutions worked","title":"Getting 404 when trying to access js and css files in Java Spring","body":"<p>I use spring boot with thymeleaf and I am trying to link js file to my template.</p>\n<p>In my html file I reference my scrpit file as such:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script th:src=&quot;@{/js/file.min.js}&quot; charset=&quot;UTF-8&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>The file is located in /resources/static/js</p>\n<p>I am using Spring Security 6.1.5, Spring Boot 3.1.5, and Atlassian Connect Spring Boot 4.0.5.</p>\n<p>I tried the following:</p>\n<p>Adding spring-mvc.xml with content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;mvc:resources mapping=&quot;/js/**&quot; location=&quot;/js/&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Tried adding a configuration such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new RequestsInterceptor());\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // Configure resource handling for your static resources\n        registry.addResourceHandler(&quot;/js/**&quot;).addResourceLocations(&quot;classpath:/static/js/&quot;);\n    }\n}\n</code></pre>\n<p>Also I tried adding some settings in my application.yml file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  web: \n    resources:\n      add-mappings: true\n      static-locations: classpath:/static/, classpath:/public/, classpath:/resources/, classpath:/META-INF/resources/, classpath:/js/\n</code></pre>\n<p>none of these solutions worked</p>\n"},{"tags":["java","eclipse","maven","classnotfoundexception"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698586001,"post_id":77383411,"comment_id":136421640,"body_markdown":"Please share more information. Which version of Eclipse, Which Version of Maven, which JDK etc. also if you already found out that the problem is related to Eclipse ? Also would it be helpful to post the error as part of the question instead of linking outside...","body":"Please share more information. Which version of Eclipse, Which Version of Maven, which JDK etc. also if you already found out that the problem is related to Eclipse ? Also would it be helpful to post the error as part of the question instead of linking outside..."},{"owner":{"account_id":19544335,"reputation":1,"user_id":14301491,"display_name":"Madhurjya Saha"},"score":0,"creation_date":1698587894,"post_id":77383411,"comment_id":136421823,"body_markdown":"@khmarbaise Eclipse Version: 2022-06 (4.24.0)\nMaven plugin version in elcipse: 3.8.4\nMaven version installed on pc:  3.9.5\nJDK version used in Eclipse: 1.8","body":"@khmarbaise Eclipse Version: 2022-06 (4.24.0) Maven plugin version in elcipse: 3.8.4 Maven version installed on pc:  3.9.5 JDK version used in Eclipse: 1.8"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1698593491,"post_id":77383411,"comment_id":136422423,"body_markdown":"[Please describe your problem in a way so that others can reproduce it](https://stackoverflow.com/help/minimal-reproducible-example). Why do you use an outdated version of Eclipse? Can you reproduce it in the current version? You did what exactly? Why are there two logs?","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Please describe your problem in a way so that others can reproduce it</a>. Why do you use an outdated version of Eclipse? Can you reproduce it in the current version? You did what exactly? Why are there two logs?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1698595109,"post_id":77383411,"comment_id":136422628,"body_markdown":"Share the pom file and also the build path from Eclipse.","body":"Share the pom file and also the build path from Eclipse."},{"owner":{"account_id":19544335,"reputation":1,"user_id":14301491,"display_name":"Madhurjya Saha"},"score":0,"creation_date":1698599319,"post_id":77383411,"comment_id":136423117,"body_markdown":"updated @alex ...","body":"updated @alex ..."},{"owner":{"account_id":19544335,"reputation":1,"user_id":14301491,"display_name":"Madhurjya Saha"},"score":0,"creation_date":1698599717,"post_id":77383411,"comment_id":136423162,"body_markdown":"@howlger: If I run the code in Eclipse by clicking on the run play button in Eclipse, it runs fine, however, if I right click on the project and then go to Run As-&gt; Maven build, then this error shows up..... Also if I use command promt and go the project home directory and then run the maven command, mvn package or mvn exec:java, then also the code runs fine...","body":"@howlger: If I run the code in Eclipse by clicking on the run play button in Eclipse, it runs fine, however, if I right click on the project and then go to Run As-&gt; Maven build, then this error shows up..... Also if I use command promt and go the project home directory and then run the maven command, mvn package or mvn exec:java, then also the code runs fine..."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698617349,"post_id":77383411,"comment_id":136424966,"body_markdown":"You might want to try uninstalling m2e and installing it again (or updatimg Eclipse and the relevant plugins)","body":"You might want to try uninstalling m2e and installing it again (or updatimg Eclipse and the relevant plugins)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1698647544,"post_id":77383411,"comment_id":136427009,"body_markdown":"Eclipse 2022-06 is 5 releases behind. Please do not waste any more time and update now. Support the open source software you use by not asking questions about outdated versions, but about the latest version only. Improve your question instead of adding comments to it.","body":"Eclipse 2022-06 is 5 releases behind. Please do not waste any more time and update now. Support the open source software you use by not asking questions about outdated versions, but about the latest version only. Improve your question instead of adding comments to it."}],"answers":[{"tags":[],"owner":{"account_id":19544335,"reputation":1,"user_id":14301491,"display_name":"Madhurjya Saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698850102,"creation_date":1698850046,"answer_id":77403488,"question_id":77383411,"body_markdown":"After updating eclipse to current version, the issue got resolved.\r\nCurrent Eclipse version updated: 2023-09","title":"Errror running Maven project in Eclipse","body":"<p>After updating eclipse to current version, the issue got resolved.\nCurrent Eclipse version updated: 2023-09</p>\n"}],"owner":{"account_id":19544335,"reputation":1,"user_id":14301491,"display_name":"Madhurjya Saha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77403488,"answer_count":1,"score":0,"last_activity_date":1698850102,"creation_date":1698584834,"question_id":77383411,"body_markdown":"I am getting error while running all Maven projects in Eclipse as Maven build, but they run successfully if I run manually in Eclipse. Can someone please help.\r\n\r\nI have tried running it from Command line.\r\nThe same project runs fine when I run from command prompt:\r\nCommands: mvn clean, mvn package, mvn exec:java\r\n\r\nClearly, the problem is with Eclipse. Can someone please help me spot the issue?\r\n  \r\nError in Eclipse console:\r\n\r\n        constituent[0]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/\r\n        constituent[1]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-core-3.8.4.jar\r\n        constituent[2]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-3.8.4.jar\r\n        constituent[3]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-3.8.4.jar\r\n        constituent[4]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-builder-3.8.4.jar\r\n        constituent[5]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-builder-support-3.8.4.jar\r\n        constituent[6]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-repository-metadata-3.8.4.jar\r\n        constituent[7]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-artifact-3.8.4.jar\r\n        constituent[8]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-plugin-api-3.8.4.jar\r\n        constituent[9]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-builder-3.8.4.jar\r\n        constituent[10]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-provider-3.8.4.jar\r\n        constituent[11]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-api-1.6.3.jar\r\n        constituent[12]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-spi-1.6.3.jar\r\n        constituent[13]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-util-1.6.3.jar\r\n        constituent[14]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-shared-utils-3.3.4.jar\r\n        constituent[15]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-io-2.6.jar\r\n        constituent[16]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.inject-0.3.5.jar\r\n        constituent[17]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/guice-4.2.2-no_aop.jar\r\n        constituent[18]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-utils-3.3.0.jar\r\n        constituent[19]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-interpolation-1.26.jar\r\n        constituent[20]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-component-annotations-2.1.0.jar\r\n        constituent[21]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-lang3-3.8.1.jar\r\n        constituent[22]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-embedder-3.8.4.jar\r\n        constituent[23]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/javax.annotation-api-1.2.jar\r\n        constituent[24]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-sec-dispatcher-2.0.jar\r\n        constituent[25]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-cipher-2.0.jar\r\n        constituent[26]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-cli-1.4.jar\r\n        constituent[27]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-compat-3.8.4.jar\r\n        constituent[28]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-provider-api-3.4.3.jar\r\n        constituent[29]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.plexus-0.3.5.jar\r\n        constituent[30]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/aether-connector-okhttp-0.17.8.jar\r\n        constituent[31]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okhttp-3.14.1.jar\r\n        constituent[32]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okio-1.17.3.jar\r\n        constituent[33]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-impl-1.6.3.jar\r\n        constituent[34]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-connector-basic-1.6.3.jar\r\n        constituent[35]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-transport-wagon-1.6.3.jar\r\n        constituent[36]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-file-3.4.3.jar\r\n        constituent[37]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/jansi-2.4.0.jar\r\n        constituent[38]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/\r\n        constituent[39]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/jars/slf4j-simple-1.7.30.jar\r\n        constituent[40]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/1319/0/.cp/\r\n        constituent[41]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/879/0/.cp/\r\n        constituent[42]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/30/0/.cp/\r\n    \r\n    Exception in thread &quot;main&quot;:\r\n    \r\n        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess\r\n        \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n        \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n        \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n        \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n        \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n        \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n        \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n        \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n        \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n        \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n        \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n        \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n        \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\r\n        \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\r\n        \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n        \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\r\n        \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n        \tat com.google.common.cache.LocalCache$LoadingValueReference.&lt;init&gt;(LocalCache.java:3512)\r\n        \tat com.google.common.cache.LocalCache$LoadingValueReference.&lt;init&gt;(LocalCache.java:3516)\r\n        \tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2169)\r\n        \tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2080)\r\n        \tat com.google.common.cache.LocalCache.get(LocalCache.java:4012)\r\n        \tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:4035)\r\n        \tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:5013)\r\n        \tat com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:5020)\r\n        \tat com.google.inject.internal.Annotations$AnnotationChecker.hasAnnotations(Annotations.java:274)\r\n        \tat com.google.inject.internal.Annotations.isBindingAnnotation(Annotations.java:340)\r\n        \tat com.google.inject.Key.ensureIsBindingAnnotation(Key.java:349)\r\n        \tat com.google.inject.Key.strategyFor(Key.java:336)\r\n        \tat com.google.inject.Key.get(Key.java:219)\r\n        \tat org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28)\r\n        \tat org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93)\r\n        \tat org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104)\r\n        \tat org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74)\r\n        \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:344)\r\n        \tat com.google.inject.spi.Elements.getElements(Elements.java:103)\r\n        \tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\r\n        \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\r\n        \tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n        \tat com.google.inject.Guice.createInjector(Guice.java:69)\r\n        \tat com.google.inject.Guice.createInjector(Guice.java:59)\r\n        \tat org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\r\n        \tat org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\r\n        \tat org.apache.maven.cli.MavenCli.container(MavenCli.java:651)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n        Caused by: java.lang.ClassNotFoundException: com.google.common.util.concurrent.internal.InternalFutureFailureAccess\r\n        \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\r\n        \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\r\n        \t... 76 more\r\n\r\n\r\n\r\npom.xml\r\n--------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;pwskills&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MavenProj1&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    \r\n      &lt;name&gt;MavenProj1&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;8.0.33&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\t\t   \r\n     &lt;/dependencies&gt;\r\n     \r\n      \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;!-- Executing maven as java program--&gt;\r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n    \t\t  \t&lt;id&gt;JDBCSELECTAPP&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;in.pwskills.JdbcSelectApp&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;   \r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nBuild path\r\n-----------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;target/generated-sources/annotations&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;target/generated-test-sources/test-annotations&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n\r\n  ","title":"Errror running Maven project in Eclipse","body":"<p>I am getting error while running all Maven projects in Eclipse as Maven build, but they run successfully if I run manually in Eclipse. Can someone please help.</p>\n<p>I have tried running it from Command line.\nThe same project runs fine when I run from command prompt:\nCommands: mvn clean, mvn package, mvn exec:java</p>\n<p>Clearly, the problem is with Eclipse. Can someone please help me spot the issue?</p>\n<p>Error in Eclipse console:</p>\n<pre><code>    constituent[0]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/\n    constituent[1]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-core-3.8.4.jar\n    constituent[2]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-3.8.4.jar\n    constituent[3]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-3.8.4.jar\n    constituent[4]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-settings-builder-3.8.4.jar\n    constituent[5]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-builder-support-3.8.4.jar\n    constituent[6]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-repository-metadata-3.8.4.jar\n    constituent[7]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-artifact-3.8.4.jar\n    constituent[8]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-plugin-api-3.8.4.jar\n    constituent[9]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-model-builder-3.8.4.jar\n    constituent[10]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-provider-3.8.4.jar\n    constituent[11]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-api-1.6.3.jar\n    constituent[12]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-spi-1.6.3.jar\n    constituent[13]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-util-1.6.3.jar\n    constituent[14]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-shared-utils-3.3.4.jar\n    constituent[15]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-io-2.6.jar\n    constituent[16]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.inject-0.3.5.jar\n    constituent[17]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/guice-4.2.2-no_aop.jar\n    constituent[18]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-utils-3.3.0.jar\n    constituent[19]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-interpolation-1.26.jar\n    constituent[20]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-component-annotations-2.1.0.jar\n    constituent[21]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-lang3-3.8.1.jar\n    constituent[22]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-embedder-3.8.4.jar\n    constituent[23]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/javax.annotation-api-1.2.jar\n    constituent[24]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-sec-dispatcher-2.0.jar\n    constituent[25]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/plexus-cipher-2.0.jar\n    constituent[26]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/commons-cli-1.4.jar\n    constituent[27]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-compat-3.8.4.jar\n    constituent[28]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-provider-api-3.4.3.jar\n    constituent[29]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/org.eclipse.sisu.plexus-0.3.5.jar\n    constituent[30]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/aether-connector-okhttp-0.17.8.jar\n    constituent[31]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okhttp-3.14.1.jar\n    constituent[32]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/okio-1.17.3.jar\n    constituent[33]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-impl-1.6.3.jar\n    constituent[34]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-connector-basic-1.6.3.jar\n    constituent[35]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/maven-resolver-transport-wagon-1.6.3.jar\n    constituent[36]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/wagon-file-3.4.3.jar\n    constituent[37]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime_1.18.3.20220227-1319/jars/jansi-2.4.0.jar\n    constituent[38]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/\n    constituent[39]: file:/C:/Users/Dell/.p2/pool/plugins/org.eclipse.m2e.maven.runtime.slf4j.simple_1.18.1.20211008-0657/jars/slf4j-simple-1.7.30.jar\n    constituent[40]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/1319/0/.cp/\n    constituent[41]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/879/0/.cp/\n    constituent[42]: file:/C:/Users/Dell/eclipse/jee-2022-06/eclipse/configuration/org.eclipse.osgi/30/0/.cp/\n\nException in thread &quot;main&quot;:\n\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/util/concurrent/internal/InternalFutureFailureAccess\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427)\n        at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:425)\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n        at com.google.common.cache.LocalCache$LoadingValueReference.&lt;init&gt;(LocalCache.java:3512)\n        at com.google.common.cache.LocalCache$LoadingValueReference.&lt;init&gt;(LocalCache.java:3516)\n        at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2169)\n        at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2080)\n        at com.google.common.cache.LocalCache.get(LocalCache.java:4012)\n        at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:4035)\n        at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:5013)\n        at com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:5020)\n        at com.google.inject.internal.Annotations$AnnotationChecker.hasAnnotations(Annotations.java:274)\n        at com.google.inject.internal.Annotations.isBindingAnnotation(Annotations.java:340)\n        at com.google.inject.Key.ensureIsBindingAnnotation(Key.java:349)\n        at com.google.inject.Key.strategyFor(Key.java:336)\n        at com.google.inject.Key.get(Key.java:219)\n        at org.eclipse.sisu.wire.ParameterKeys.&lt;clinit&gt;(ParameterKeys.java:28)\n        at org.eclipse.sisu.wire.DependencyAnalyzer.&lt;init&gt;(DependencyAnalyzer.java:93)\n        at org.eclipse.sisu.wire.ElementAnalyzer.&lt;init&gt;(ElementAnalyzer.java:104)\n        at org.eclipse.sisu.wire.WireModule.configure(WireModule.java:74)\n        at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:344)\n        at com.google.inject.spi.Elements.getElements(Elements.java:103)\n        at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:137)\n        at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\n        at com.google.inject.Guice.createInjector(Guice.java:87)\n        at com.google.inject.Guice.createInjector(Guice.java:69)\n        at com.google.inject.Guice.createInjector(Guice.java:59)\n        at org.codehaus.plexus.DefaultPlexusContainer.addPlexusInjector(DefaultPlexusContainer.java:481)\n        at org.codehaus.plexus.DefaultPlexusContainer.&lt;init&gt;(DefaultPlexusContainer.java:206)\n        at org.apache.maven.cli.MavenCli.container(MavenCli.java:651)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    Caused by: java.lang.ClassNotFoundException: com.google.common.util.concurrent.internal.InternalFutureFailureAccess\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:271)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:247)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:239)\n        ... 76 more\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;pwskills&lt;/groupId&gt;\n  &lt;artifactId&gt;MavenProj1&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n\n  &lt;name&gt;MavenProj1&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;          \n &lt;/dependencies&gt;\n \n  \n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        \n        &lt;!-- Executing maven as java program--&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;JDBCSELECTAPP&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;in.pwskills.JdbcSelectApp&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;   \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Build path</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;target/generated-sources/annotations&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;target/generated-test-sources/test-annotations&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;ignore_optional_problems&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;m2e-apt&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":["python","java","dataframe","pyspark"],"comments":[{"owner":{"account_id":3893699,"reputation":1946,"user_id":3238085,"display_name":"user238607"},"score":0,"creation_date":1698393597,"post_id":77369508,"comment_id":136402353,"body_markdown":"https://stackoverflow.com/a/62411457/3238085  &lt;&lt; Use this python package and copy paste the python stacktrace it outputs.","body":"<a href=\"https://stackoverflow.com/a/62411457/3238085\">stackoverflow.com/a/62411457/3238085</a>  &lt;&lt; Use this python package and copy paste the python stacktrace it outputs."}],"owner":{"account_id":25796827,"reputation":1,"user_id":19539857,"display_name":"Pokerfacer270"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698849211,"creation_date":1698344572,"question_id":77369508,"body_markdown":"I am using Python 3.12.0, my java version is 8, and my pyspark version is 3.5. I have set my environmental variables with JAVA_HOME, SPARK_HOME, and HADOOP_HOME and installed winutils.exe. My code runs until the df.show() and it crashes with this error. My code is below and the error displayed is below that. \r\n\r\n```\r\nfrom pyspark.sql import SparkSession\r\nfrom pyspark.sql.functions import col\r\n\r\n# Create a SparkSession\r\nspark = SparkSession.builder.appName(&quot;Testing PySpark Example&quot;).getOrCreate()\r\n\r\nsample_data = [{&quot;name&quot;: &quot;John    D.&quot;, &quot;age&quot;: 30},\r\n  {&quot;name&quot;: &quot;Alice   G.&quot;, &quot;age&quot;: 25},\r\n  {&quot;name&quot;: &quot;Bob  T.&quot;, &quot;age&quot;: 35},\r\n  {&quot;name&quot;: &quot;Eve   A.&quot;, &quot;age&quot;: 28}]\r\n\r\ndf = spark.createDataFrame(sample_data)\r\n\r\ndf.show()\r\n```\r\nThis is the error that shows up. \r\n\r\n```\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n23/10/26 14:10:45 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/10/26 14:10:52 ERROR Executor: Exception in task 0.0 in stage 0.0 (TID 0)/ 1]\r\norg.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\r\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\r\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\r\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.EOFException\r\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\r\n        ... 26 more\r\n23/10/26 14:10:52 WARN TaskSetManager: Lost task 0.0 in stage 0.0 (TID 0) (LAPTOP-30RQFQGR executor driver): org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\r\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\r\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\r\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.EOFException\r\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\r\n        ... 26 more\r\n\r\n23/10/26 14:10:52 ERROR TaskSetManager: Task 0 in stage 0.0 failed 1 times; aborting job\r\nTraceback (most recent call last):\r\n  File &quot;c:\\Users\\&lt;USER&gt;\\PySparkTesting\\spark_test.py&quot;, line 14, in &lt;module&gt;\r\n    df.show()\r\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\pyspark\\sql\\dataframe.py&quot;, line 959, in show\r\n    print(self._jdf.showString(n, 20, vertical))\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\py4j\\java_gateway.py&quot;, line 1322, in __call__\r\n    return_value = get_return_value(\r\n                   ^^^^^^^^^^^^^^^^^\r\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\pyspark\\errors\\exceptions\\captured.py&quot;, line 179, in deco\r\n    return f(*a, **kw)\r\n           ^^^^^^^^^^^\r\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\py4j\\protocol.py&quot;, line 326, in get_return_value\r\n    raise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o42.showString.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0) \r\n(LAPTOP-30RQFQGR executor driver): org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\r\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\r\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\r\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.EOFException\r\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\r\n        ... 26 more\r\n\r\nDriver stacktrace:\r\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2844)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2780)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2779)\r\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2779)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1242)\r\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1242)\r\n        at scala.Option.foreach(Option.scala:407)\r\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1242)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:3048)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2982)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2971)\r\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:984)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2398)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2419)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2438)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:530)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:483)\r\n        at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:61)\r\n        at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:4344)\r\n        at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:3326)\r\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$2(Dataset.scala:4334)\r\n        at org.apache.spark.sql.execution.QueryExecution$.withInternalError(QueryExecution.scala:546)\r\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:4332)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:125)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:201)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:108)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:900)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:66)\r\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:4332)\r\n        at org.apache.spark.sql.Dataset.head(Dataset.scala:3326)\r\n        at org.apache.spark.sql.Dataset.take(Dataset.scala:3549)\r\n        at org.apache.spark.sql.Dataset.getRows(Dataset.scala:280)\r\n        at org.apache.spark.sql.Dataset.showString(Dataset.scala:315)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:374)\r\n        at py4j.Gateway.invoke(Gateway.java:282)\r\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\r\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\r\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\r\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\r\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\r\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        ... 1 more\r\nCaused by: java.io.EOFException\r\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\r\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\r\n        ... 26 more\r\n\r\n```\r\n\r\n\r\n\r\nAnother note is that I am running this in VSCode, but this error still occurs when I run it in terminal in Pyspark.\r\n\r\nThis latter part is included, but I wanted the program to initially show it unchanged.\r\n\r\n```\r\n\r\nfrom pyspark.sql.functions import col, regexp_replace\r\n\r\n# Remove additional spaces in name\r\ndef remove_extra_spaces(df, column_name):\r\n    # Remove extra spaces from the specified column\r\n    df_transformed = df.withColumn(column_name, regexp_replace(col(column_name), &quot;\\\\s+&quot;, &quot; &quot;))\r\n\r\n    return df_transformed\r\n\r\ntransformed_df = remove_extra_spaces(df, &quot;name&quot;)\r\n\r\ntransformed_df.show()\r\n\r\n+---+--------+\r\n|age|    name|\r\n+---+--------+\r\n| 30| John D.|\r\n| 25|Alice G.|\r\n| 35|  Bob T.|\r\n| 28|  Eve A.|\r\n+---+--------+\r\n```\r\n\r\n\r\n\r\n\r\nAny help would be appreciated. Thanks!","title":"Python worker keeps on crashing in pyspark","body":"<p>I am using Python 3.12.0, my java version is 8, and my pyspark version is 3.5. I have set my environmental variables with JAVA_HOME, SPARK_HOME, and HADOOP_HOME and installed winutils.exe. My code runs until the df.show() and it crashes with this error. My code is below and the error displayed is below that.</p>\n<pre><code>from pyspark.sql import SparkSession\nfrom pyspark.sql.functions import col\n\n# Create a SparkSession\nspark = SparkSession.builder.appName(&quot;Testing PySpark Example&quot;).getOrCreate()\n\nsample_data = [{&quot;name&quot;: &quot;John    D.&quot;, &quot;age&quot;: 30},\n  {&quot;name&quot;: &quot;Alice   G.&quot;, &quot;age&quot;: 25},\n  {&quot;name&quot;: &quot;Bob  T.&quot;, &quot;age&quot;: 35},\n  {&quot;name&quot;: &quot;Eve   A.&quot;, &quot;age&quot;: 28}]\n\ndf = spark.createDataFrame(sample_data)\n\ndf.show()\n</code></pre>\n<p>This is the error that shows up.</p>\n<pre><code>To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\n23/10/26 14:10:45 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/10/26 14:10:52 ERROR Executor: Exception in task 0.0 in stage 0.0 (TID 0)/ 1]\norg.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\n        ... 26 more\n23/10/26 14:10:52 WARN TaskSetManager: Lost task 0.0 in stage 0.0 (TID 0) (LAPTOP-30RQFQGR executor driver): org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\n        ... 26 more\n\n23/10/26 14:10:52 ERROR TaskSetManager: Task 0 in stage 0.0 failed 1 times; aborting job\nTraceback (most recent call last):\n  File &quot;c:\\Users\\&lt;USER&gt;\\PySparkTesting\\spark_test.py&quot;, line 14, in &lt;module&gt;\n    df.show()\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\pyspark\\sql\\dataframe.py&quot;, line 959, in show\n    print(self._jdf.showString(n, 20, vertical))\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\py4j\\java_gateway.py&quot;, line 1322, in __call__\n    return_value = get_return_value(\n                   ^^^^^^^^^^^^^^^^^\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\pyspark\\errors\\exceptions\\captured.py&quot;, line 179, in deco\n    return f(*a, **kw)\n           ^^^^^^^^^^^\n  File &quot;C:\\Users\\&lt;USER&gt;\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\py4j\\protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o42.showString.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 1 times, most recent failure: Lost task 0.0 in stage 0.0 (TID 0) \n(LAPTOP-30RQFQGR executor driver): org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\n        ... 26 more\n\nDriver stacktrace:\n        at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2844)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2780)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2779)\n        at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n        at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2779)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1242)\n        at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1242)\n        at scala.Option.foreach(Option.scala:407)\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1242)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:3048)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2982)\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2971)\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\n        at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:984)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2398)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2419)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2438)\n        at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:530)\n        at org.apache.spark.sql.execution.SparkPlan.executeTake(SparkPlan.scala:483)\n        at org.apache.spark.sql.execution.CollectLimitExec.executeCollect(limit.scala:61)\n        at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:4344)\n        at org.apache.spark.sql.Dataset.$anonfun$head$1(Dataset.scala:3326)\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$2(Dataset.scala:4334)\n        at org.apache.spark.sql.execution.QueryExecution$.withInternalError(QueryExecution.scala:546)\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:4332)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:125)\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:201)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:108)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:900)\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:66)\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:4332)\n        at org.apache.spark.sql.Dataset.head(Dataset.scala:3326)\n        at org.apache.spark.sql.Dataset.take(Dataset.scala:3549)\n        at org.apache.spark.sql.Dataset.getRows(Dataset.scala:280)\n        at org.apache.spark.sql.Dataset.showString(Dataset.scala:315)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n        at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:374)\n        at py4j.Gateway.invoke(Gateway.java:282)\n        at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n        at py4j.commands.CallCommand.execute(CallCommand.java:79)\n        at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n        at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.spark.SparkException: Python worker exited unexpectedly (crashed)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:612)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator$$anonfun$1.applyOrElse(PythonRunner.scala:594)\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:38)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:789)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:766)\n        at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:525)\n        at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:491)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenEvaluatorFactory$WholeStageCodegenPartitionEvaluator$$anon$1.hasNext(WholeStageCodegenEvaluatorFactory.scala:43)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:388)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:364)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:328)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:93)\n        at org.apache.spark.TaskContext.runTaskWithListeners(TaskContext.scala:161)\n        at org.apache.spark.scheduler.Task.run(Task.scala:141)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:620)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally(SparkErrorUtils.scala:64)\n        at org.apache.spark.util.SparkErrorUtils.tryWithSafeFinally$(SparkErrorUtils.scala:61)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:94)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:623)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        ... 1 more\nCaused by: java.io.EOFException\n        at java.io.DataInputStream.readInt(DataInputStream.java:392)\n        at org.apache.spark.api.python.PythonRunner$$anon$3.read(PythonRunner.scala:774)\n        ... 26 more\n\n</code></pre>\n<p>Another note is that I am running this in VSCode, but this error still occurs when I run it in terminal in Pyspark.</p>\n<p>This latter part is included, but I wanted the program to initially show it unchanged.</p>\n<pre><code>\nfrom pyspark.sql.functions import col, regexp_replace\n\n# Remove additional spaces in name\ndef remove_extra_spaces(df, column_name):\n    # Remove extra spaces from the specified column\n    df_transformed = df.withColumn(column_name, regexp_replace(col(column_name), &quot;\\\\s+&quot;, &quot; &quot;))\n\n    return df_transformed\n\ntransformed_df = remove_extra_spaces(df, &quot;name&quot;)\n\ntransformed_df.show()\n\n+---+--------+\n|age|    name|\n+---+--------+\n| 30| John D.|\n| 25|Alice G.|\n| 35|  Bob T.|\n| 28|  Eve A.|\n+---+--------+\n</code></pre>\n<p>Any help would be appreciated. Thanks!</p>\n"},{"tags":["java","java-17","jersey-client"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1698765063,"post_id":77394135,"comment_id":136445219,"body_markdown":"could not reproduce your issue, maybe try putting a breakpoint on ServiceLoader.java:1244\nand check if value of `clazz.getSuperclass().getCanonicalName()` = &quot;jakarta.ws.rs.client.ClientBuilder&quot;","body":"could not reproduce your issue, maybe try putting a breakpoint on ServiceLoader.java:1244 and check if value of <code>clazz.getSuperclass().getCanonicalName()</code> = &quot;jakarta.ws.rs.client.ClientBuilder&quot;"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1698768436,"post_id":77394135,"comment_id":136446046,"body_markdown":"@samabcde  clazz.getSuperclass().getCanonicalName() gives `javax.ws.rs.client.ClientBuilder`\nnot sure where this javx client builder is returned back instead of jakarta","body":"@samabcde  clazz.getSuperclass().getCanonicalName() gives <code>javax.ws.rs.client.ClientBuilder</code> not sure where this javx client builder is returned back instead of jakarta"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1698838558,"post_id":77394135,"comment_id":136454948,"body_markdown":"This suggest you have older version of jersey-client in your classpath, could you include your pom.xml?","body":"This suggest you have older version of jersey-client in your classpath, could you include your pom.xml?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1698849220,"post_id":77394135,"comment_id":136457083,"body_markdown":"@samabcde I don&#39;t see older version of client in classpath. I have my pom file included","body":"@samabcde I don&#39;t see older version of client in classpath. I have my pom file included"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1698851755,"post_id":77394135,"comment_id":136457745,"body_markdown":"There are so many dependency, no really possible to reproduce in local.\nCould you try follow this answer https://stackoverflow.com/a/1983870/7928721 to find the class location by putting break point and debug?","body":"There are so many dependency, no really possible to reproduce in local. Could you try follow this answer <a href=\"https://stackoverflow.com/a/1983870/7928721\">stackoverflow.com/a/1983870/7928721</a> to find the class location by putting break point and debug?"}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1698849181,"creation_date":1698739053,"question_id":77394135,"body_markdown":"I have a java 8 spark project using jersey client 2.36 and in the process of migrating to java 17. I changed all the places to have jakarta package and also updated jersey client to 3.1.0. However on running the project , I am getting error where the client is getting created.\r\n\r\ncurrently I upgraded spark-core and spark-sql to 3.4.0 and springboot 3 and jakarta tp 3.X\r\n\r\nERROR:\r\n\r\n    Caused by: java.util.ServiceConfigurationError: jakarta.ws.rs.client.ClientBuilder: org.glassfish.jersey.client.JerseyClientBuilder not a subtype\r\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:593)\r\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1244)\r\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\r\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\r\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\r\n        at jakarta.ws.rs.client.FactoryFinder.lambda$findFirstService$1(FactoryFinder.java:178)\r\n        at jakarta.ws.rs.client.FactoryFinder.findFirstService(FactoryFinder.java:187)\r\n        at jakarta.ws.rs.client.FactoryFinder.find(FactoryFinder.java:114)\r\n        at jakarta.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:62)\r\n        at com.capitalone.customer.relationships.batch.impression.config.CustomerIdentifierApiConfig.setup(CustomerIdentifierApiConfig.java:176)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\nI have the dependency tree of jersey client as:\r\n\r\n        [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\r\n    [INFO] +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.0:compile\r\n\r\n\r\n\r\njersey client in jave:\r\n\r\n\r\n    ClientConfig clientConfig = new ClientConfig();\r\n            clientConfig.property(ClientProperties.READ_TIMEOUT, poolingReadTimeout);\r\n            clientConfig.property(ClientProperties.CONNECT_TIMEOUT, poolingConnectTimeout);\r\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(poolingMaxTotal);\r\n            connectionManager.setDefaultMaxPerRoute(poolingDefaultMaxPerRoute);\r\n            clientConfig.property(ApacheClientProperties.CONNECTION_MANAGER, connectionManager);\r\n    \r\n            if (Arrays.stream(environment.getActiveProfiles()).anyMatch(profile -&gt; profile.contains(&quot;dev&quot;) || profile.equals(&quot;integration-test&quot;))) {\r\n                SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslcontext.init(null, new TrustManager[]{new X509TrustManager() {\r\n                    public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n                    }\r\n    \r\n                    public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n                    }\r\n    \r\n                    public X509Certificate[] getAcceptedIssuers() {\r\n                        return new X509Certificate[0];\r\n                    }\r\n    \r\n                }}, new java.security.SecureRandom());\r\n    \r\n                HostnameVerifier allowAll = (host, sslSession) -&gt; true;\r\n                client = ClientBuilder.newBuilder().withConfig(clientConfig.getConfiguration()).sslContext(sslcontext).hostnameVerifier(allowAll).build();\r\n\r\n\r\n\r\nthis creation of client was working fine in earlier version( 2.36) with java 8. with the upgrade to jave 17 am getting  `Caused by: java.util.ServiceConfigurationError: jakarta.ws.rs.client.ClientBuilder: org.glassfish.jersey.client.JerseyClientBuilder not a subtype&#39;\r\n\r\n\r\nis there any thing to be added to upgrade jersey client to 3.x?\r\n\r\n\r\ncomplete pom file:\r\n\r\n         com.customer.relationships.batch:impression:jar:3.3.0-RELEASE\r\n    [INFO] +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.3:compile\r\n    [INFO] |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n    [INFO] +- ch.qos.reload4j:reload4j:jar:1.2.22:compile\r\n    [INFO] +- commons-codec:commons-codec:jar:1.13:compile\r\n    [INFO] +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.2:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.4.1:compile\r\n    [INFO] +- org.apache.spark:spark-sql_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.rocksdb:rocksdbjni:jar:8.3.2:compile\r\n    [INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:compile\r\n    [INFO] |  +- org.apache.spark:spark-sketch_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-catalyst_2.12:jar:3.5.0:compile\r\n    [INFO] |  |  +- org.apache.spark:spark-sql-api_2.12:jar:3.5.0:compile\r\n    [INFO] |  |  |  +- org.scala-lang.modules:scala-parser-combinators_2.12:jar:2.3.0:compile\r\n    [INFO] |  |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:compile\r\n    [INFO] |  |  |  +- org.apache.arrow:arrow-vector:jar:12.0.1:compile\r\n    [INFO] |  |  |  |  +- org.apache.arrow:arrow-format:jar:12.0.1:compile\r\n    [INFO] |  |  |  |  +- org.apache.arrow:arrow-memory-core:jar:12.0.1:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.1:compile\r\n    [INFO] |  |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:compile\r\n    [INFO] |  |  |  \\- org.apache.arrow:arrow-memory-netty:jar:12.0.1:compile\r\n    [INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:compile\r\n    [INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:compile\r\n    [INFO] |  |  \\- org.apache.datasketches:datasketches-java:jar:3.3.0:compile\r\n    [INFO] |  |     \\- org.apache.datasketches:datasketches-memory:jar:2.1.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-tags_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.9.1:compile\r\n    [INFO] |  |  +- org.apache.orc:orc-shims:jar:1.9.1:compile\r\n    [INFO] |  |  +- io.airlift:aircompressor:jar:0.25:compile\r\n    [INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:compile\r\n    [INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:compile\r\n    [INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.9.1:compile\r\n    [INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:compile\r\n    [INFO] |  +- org.apache.parquet:parquet-column:jar:1.13.1:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.13.1:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-encoding:jar:1.13.1:compile\r\n    [INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.13.0:compile\r\n    [INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.13.1:compile\r\n    [INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.13.1:compile\r\n    [INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.13.1:runtime\r\n    [INFO] |  \\- org.apache.xbean:xbean-asm9-shaded:jar:4.23:compile\r\n    [INFO] +- org.apache.spark:spark-core_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.2:compile\r\n    [INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.2:compile\r\n    [INFO] |  +- com.twitter:chill_2.12:jar:0.10.0:compile\r\n    [INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:compile\r\n    [INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:compile\r\n    [INFO] |  +- com.twitter:chill-java:jar:0.10.0:compile\r\n    [INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:compile\r\n    [INFO] |  +- org.apache.spark:spark-launcher_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-kvstore_2.12:jar:3.5.0:compile\r\n    [INFO] |  |  \\- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:compile\r\n    [INFO] |  +- org.apache.spark:spark-network-common_2.12:jar:3.5.0:compile\r\n    [INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.9.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-network-shuffle_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-unsafe_2.12:jar:3.5.0:compile\r\n    [INFO] |  +- org.apache.spark:spark-common-utils_2.12:jar:3.5.0:compile\r\n    [INFO] |  |  +- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\r\n    [INFO] |  |  +- org.slf4j:jcl-over-slf4j:jar:2.0.7:compile\r\n    [INFO] |  |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\r\n    [INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\r\n    [INFO] |  |  \\- org.apache.logging.log4j:log4j-1.2-api:jar:2.20.0:compile\r\n    [INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:compile\r\n    [INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:compile\r\n    [INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n    [INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\r\n    [INFO] |  +- com.ning:compress-lzf:jar:1.1.2:compile\r\n    [INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.3:compile\r\n    [INFO] |  +- org.lz4:lz4-java:jar:1.8.0:compile\r\n    [INFO] |  +- com.github.luben:zstd-jni:jar:1.5.5-4:compile\r\n    [INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.45:compile\r\n    [INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.45:runtime\r\n    [INFO] |  +- org.scala-lang.modules:scala-xml_2.12:jar:2.1.0:compile\r\n    [INFO] |  +- org.scala-lang:scala-library:jar:2.12.18:compile\r\n    [INFO] |  +- org.scala-lang:scala-reflect:jar:2.12.18:compile\r\n    [INFO] |  +- org.json4s:json4s-jackson_2.12:jar:3.7.0-M11:compile\r\n    [INFO] |  |  \\- org.json4s:json4s-core_2.12:jar:3.7.0-M11:compile\r\n    [INFO] |  |     +- org.json4s:json4s-ast_2.12:jar:3.7.0-M11:compile\r\n    [INFO] |  |     \\- org.json4s:json4s-scalap_2.12:jar:3.7.0-M11:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.3:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n    [INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n    [INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.96.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.96.Final:compile\r\n    [INFO] |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.96.Final:compile\r\n    [INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.96.Final:compile\r\n    [INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.96.Final:compile\r\n    [INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.96.Final:compile\r\n    [INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.96.Final:compile\r\n    [INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.19:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.19:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.19:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.19:compile\r\n    [INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.19:compile\r\n    [INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.12:jar:2.15.2:compile\r\n    [INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:compile\r\n    [INFO] |  +- oro:oro:jar:2.0.8:compile\r\n    [INFO] |  +- net.razorvine:pickle:jar:1.3:compile\r\n    [INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:compile\r\n    [INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:compile\r\n    [INFO] +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] +- junit:junit:jar:4.13.1:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO] +- org.springframework.security:spring-security-core:jar:6.1.2:compile\r\n    [INFO] |  +- org.springframework.security:spring-security-crypto:jar:6.1.3:compile\r\n    [INFO] |  +- org.springframework:spring-aop:jar:6.0.11:compile\r\n    [INFO] |  +- org.springframework:spring-beans:jar:6.0.11:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:6.0.11:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.11:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.11:compile\r\n    [INFO] |  +- org.springframework:spring-expression:jar:6.0.11:compile\r\n    [INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.9:compile\r\n    [INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.9:compile\r\n    [INFO] +- com .api.customers:customers-relations-common:jar:2.0.0-RELEASE:compile\r\n    [INFO] |  +- com .chassis.starters:chassis-spring-boot-oauth-client:jar:5.0.0:compile\r\n    [INFO] |  |  +- com .chassis.starters:constants:jar:5.0.0:compile\r\n    [INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-log4j2-logger:jar:5.0.0:compile\r\n    [INFO] |  |  |  \\- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.3:compile\r\n    [INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-jackson-adapters:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- com .chassis.engine:chassis-jackson-adapters:jar:5.0.0:compile\r\n    [INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.15.2:compile\r\n    [INFO] |  |  |  +- org.aspectj:aspectjweaver:jar:1.9.20:compile\r\n    [INFO] |  |  |  \\- org.aspectj:aspectjrt:jar:1.9.20:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-oauth2-client:jar:3.1.3:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-oauth2-jose:jar:6.1.3:compile\r\n    [INFO] |  |  |     \\- org.springframework.security:spring-security-oauth2-core:jar:6.1.3:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.3:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.3:compile\r\n    [INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\r\n    [INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\r\n    [INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.3:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-webflux:jar:6.0.11:compile\r\n    [INFO] |  |  |     \\- io.projectreactor:reactor-core:jar:3.5.8:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-starter-security:jar:3.1.3:compile\r\n    [INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-business-model:jar:5.0.0:compile\r\n    [INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-encryption:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- com .chassis.engine:chassis-secureddatum:jar:5.0.0:compile\r\n    [INFO] |  |  |  |  \\- com .chassis.engine:chassis-spring-vault:jar:5.0.0:compile\r\n    [INFO] |  |  |  |     +- commons-configuration:commons-configuration:jar:1.10:compile\r\n    [INFO] |  |  |  |     +- software.amazon.awssdk:auth:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:annotations:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:utils:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:sdk-core:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  |  +- software.amazon.awssdk:metrics-spi:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  |  \\- software.amazon.awssdk:endpoints-spi:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:regions:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:profiles:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:http-client-spi:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  +- software.amazon.awssdk:json-utils:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.74:compile\r\n    [INFO] |  |  |  |     |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n    [INFO] |  |  |  |     \\- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\r\n    [INFO] |  |  |  |        +- org.apache.httpcomponents.core5:httpcore5:jar:5.2:compile\r\n    [INFO] |  |  |  |        \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.2:compile\r\n    [INFO] |  |  |  \\- io.github.classgraph:classgraph:jar:4.8.162:compile\r\n    [INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-converters:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- com .chassis.starters:chassis-spring-boot-starter-core-util:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- com .chassis.starters:chassis-spring-boot-starter-core-reflection:jar:5.0.0:compile\r\n    [INFO] |  |  |  |  \\- com .chassis.engine:chassis-core-reflection:jar:5.0.0:compile\r\n    [INFO] |  |  |  \\- com .chassis.engine:chassis-converters:jar:5.0.0:compile\r\n    [INFO] |  |  \\- com .chassis.model:chassis-business-model:jar:5.0.0:compile\r\n    [INFO] |  |     +- io.swagger:swagger-annotations:jar:1.6.2:compile\r\n    [INFO] |  |     +- org.jooq:jool:jar:0.9.15:compile\r\n    [INFO] |  |     \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:compile\r\n    [INFO] |  |        \\- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:compile\r\n    [INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-model:jar:5.0.0:compile\r\n    [INFO] |  |  +- com .chassis.engine:chassis-model:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- com .chassis.engine:chassis-constants:jar:5.0.0:compile\r\n    [INFO] |  |  |  +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n    [INFO] |  |  |  \\- jakarta.el:jakarta.el-api:jar:5.0.1:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.3:compile\r\n    [INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-core-dao:jar:5.0.0:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.3:compile\r\n    [INFO] |  |  +- com .chassis.engine:chassis-core-dao:jar:5.0.0:compile\r\n    [INFO] |  |  \\- com .chassis.engine:chassis-core-util:jar:5.0.0:compile\r\n    [INFO] |  |     \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\r\n    [INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\r\n    [INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n    [INFO] |  +- redis.clients:jedis:jar:4.3.2:compile\r\n    [INFO] |  |  +- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n    [INFO] |  |  \\- org.json:json:jar:20220320:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-redis:jar:3.1.3:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:3.1.3:compile\r\n    [INFO] |  |  +- org.springframework:spring-oxm:jar:6.0.11:compile\r\n    [INFO] |  |  \\- org.springframework:spring-context-support:jar:6.0.11:compile\r\n    [INFO] |  \\- com .chassis.starters:chassis-spring-boot-starter-logging-profiling:jar:5.0.0:compile\r\n    [INFO] |     +- com .chassis.engine:chassis-logging-profiling:jar:5.0.0:compile\r\n    [INFO] |     |  +- com .chassis.engine:chassis-core-concurrency:jar:5.0.0:compile\r\n    [INFO] |     |  \\- io.micrometer:micrometer-core:jar:1.11.3:compile\r\n    [INFO] |     |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] |     +- com .chassis:chassis-annotations:jar:5.0.0:compile\r\n    [INFO] |     \\- com .chassis.engine:chassis-core-aop:jar:5.0.0:compile\r\n    [INFO] +- com.google.guava:guava:jar:32.0.1-android:compile\r\n    [INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n    [INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n    [INFO] |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\r\n    [INFO] |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\r\n    [INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\r\n    [INFO] +- io.netty:netty-handler:jar:4.1.77.Final:test\r\n    [INFO] |  +- io.netty:netty-common:jar:4.1.77.Final:compile\r\n    [INFO] |  +- io.netty:netty-resolver:jar:4.1.77.Final:compile\r\n    [INFO] |  +- io.netty:netty-buffer:jar:4.1.77.Final:compile\r\n    [INFO] |  +- io.netty:netty-transport:jar:4.1.77.Final:compile\r\n    [INFO] |  \\- io.netty:netty-codec:jar:4.1.77.Final:test\r\n    [INFO] +- org.springframework.data:spring-data-cassandra:jar:4.1.3:compile\r\n    [INFO] |  +- org.springframework:spring-tx:jar:6.0.11:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-commons:jar:3.1.3:compile\r\n    [INFO] |  +- com.datastax.oss:java-driver-core:jar:4.15.0:compile\r\n    [INFO] |  |  +- com.datastax.oss:native-protocol:jar:1.5.1:compile\r\n    [INFO] |  |  +- com.datastax.oss:java-driver-shaded-guava:jar:25.1-jre-graal-sub-1:compile\r\n    [INFO] |  |  +- com.typesafe:config:jar:1.4.1:compile\r\n    [INFO] |  |  +- com.github.jnr:jnr-posix:jar:3.1.15:compile\r\n    [INFO] |  |  |  +- com.github.jnr:jnr-ffi:jar:2.2.11:compile\r\n    [INFO] |  |  |  |  +- com.github.jnr:jffi:jar:1.3.9:compile\r\n    [INFO] |  |  |  |  +- com.github.jnr:jffi:jar:native:1.3.9:runtime\r\n    [INFO] |  |  |  |  +- org.ow2.asm:asm:jar:9.2:compile\r\n    [INFO] |  |  |  |  +- org.ow2.asm:asm-commons:jar:9.2:compile\r\n    [INFO] |  |  |  |  +- org.ow2.asm:asm-analysis:jar:9.2:compile\r\n    [INFO] |  |  |  |  +- org.ow2.asm:asm-tree:jar:9.2:compile\r\n    [INFO] |  |  |  |  +- org.ow2.asm:asm-util:jar:9.2:compile\r\n    [INFO] |  |  |  |  +- com.github.jnr:jnr-a64asm:jar:1.0.0:compile\r\n    [INFO] |  |  |  |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\r\n    [INFO] |  |  |  \\- com.github.jnr:jnr-constants:jar:0.10.3:compile\r\n    [INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n    [INFO] |  |  +- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n    [INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n    [INFO] |  +- com.datastax.oss:java-driver-query-builder:jar:4.15.0:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.2:compile\r\n    [INFO] +- org.hamcrest:hamcrest-junit:jar:2.0.0.0:test\r\n    [INFO] |  \\- org.hamcrest:java-hamcrest:jar:2.0.0.0:test\r\n    [INFO] +- org.powermock:powermock-reflect:jar:2.0.0:test\r\n    [INFO] |  +- org.objenesis:objenesis:jar:3.0.1:compile\r\n    [INFO] |  +- net.bytebuddy:byte-buddy:jar:1.9.3:compile\r\n    [INFO] |  \\- net.bytebuddy:byte-buddy-agent:jar:1.9.3:test\r\n    [INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.0:test\r\n    [INFO] |  +- org.powermock:powermock-api-support:jar:2.0.0:test\r\n    [INFO] |  \\- org.mockito:mockito-core:jar:2.23.0:test\r\n    [INFO] +- org.powermock:powermock-module-junit4:jar:2.0.0:test\r\n    [INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.0:test\r\n    [INFO] +- org.easymock:easymock:jar:3.4:compile\r\n    [INFO] +- org.powermock:powermock-core:jar:2.0.0:test\r\n    [INFO] |  \\- org.javassist:javassist:jar:3.24.0-GA:test\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.3:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.3:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.3:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.3:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.3:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\r\n    [INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n    [INFO] |  +- org.springframework:spring-test:jar:6.0.11:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n    [INFO] +- com.amazonaws:aws-java-sdk-bundle:jar:1.11.901:compile\r\n    [INFO] +- com.amazonaws:aws-java-sdk-core:jar:1.11.901:compile\r\n    [INFO] |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\r\n    [INFO] |  \\- joda-time:joda-time:jar:2.8.1:compile\r\n    [INFO] +- com.github.seratch:jslack:jar:1.5.6:compile\r\n    [INFO] |  \\- com.squareup.okhttp3:okhttp:jar:3.14.1:compile\r\n    [INFO] |     \\- com.squareup.okio:okio:jar:1.17.2:compile\r\n    [INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.1:compile\r\n    [INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.0.7.Final:runtime\r\n    [INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\r\n    [INFO] +- org.apache.commons:commons-csv:jar:1.3:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.2:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.13.2:compile\r\n    [INFO] +- org.projectlombok:lombok:jar:1.18.30:provided\r\n    [INFO] +- org.webjars:jquery:jar:3.5.0:compile\r\n    [INFO] \\- org.apache.hadoop:hadoop-common:jar:3.3.4:compile\r\n    [INFO]    +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:compile\r\n    [INFO]    +- org.apache.hadoop:hadoop-annotations:jar:3.3.4:compile\r\n    [INFO]    +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:compile\r\n    [INFO]    +- commons-cli:commons-cli:jar:1.2:compile\r\n    [INFO]    +- commons-io:commons-io:jar:2.8.0:compile\r\n    [INFO]    +- jakarta.activation:jakarta.activation-api:jar:2.0.1:compile\r\n    [INFO]    +- com.sun.jersey:jersey-servlet:jar:1.19:compile\r\n    [INFO]    +- com.sun.jersey:jersey-server:jar:1.19:compile\r\n    [INFO]    +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n    [INFO]    +- org.apache.commons:commons-configuration2:jar:2.1.1:compile\r\n    [INFO]    +- org.apache.commons:commons-text:jar:1.4:compile\r\n    [INFO]    +- org.slf4j:slf4j-reload4j:jar:1.7.36:compile\r\n    [INFO]    +- org.apache.avro:avro:jar:1.7.7:compile\r\n    [INFO]    |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n    [INFO]    +- com.google.re2j:re2j:jar:1.1:compile\r\n    [INFO]    +- com.google.code.gson:gson:jar:2.8.9:compile\r\n    [INFO]    +- org.apache.hadoop:hadoop-auth:jar:3.3.4:compile\r\n    [INFO]    |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\r\n    [INFO]    |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:compile\r\n    [INFO]    |     +- org.apache.kerby:kerb-client:jar:1.0.1:compile\r\n    [INFO]    |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:compile\r\n    [INFO]    |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:compile\r\n    [INFO]    |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:compile\r\n    [INFO]    |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:compile\r\n    [INFO]    |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:compile\r\n    [INFO]    |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:compile\r\n    [INFO]    |        +- org.apache.kerby:kerb-server:jar:1.0.1:compile\r\n    [INFO]    |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:compile\r\n    [INFO]    |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:compile\r\n    [INFO]    +- com.jcraft:jsch:jar:0.1.55:compile\r\n    [INFO]    +- org.apache.curator:curator-client:jar:4.2.0:compile\r\n    [INFO]    +- org.apache.commons:commons-compress:jar:1.21:compile\r\n    [INFO]    +- org.apache.kerby:kerb-core:jar:1.0.1:compile\r\n    [INFO]    |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:compile\r\n    [INFO]    |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:compile\r\n    [INFO]    |     \\- org.apache.kerby:kerby-util:jar:1.0.1:compile\r\n    [INFO]    +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n    [INFO]    \\- dnsjava:dnsjava:jar:2.1.7:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n","title":"Caused by: java.util.ServiceConfigurationError: jakarta.ws.rs.client.ClientBuilder: org.glassfish.jersey.client.JerseyClientBuilder not a subtype","body":"<p>I have a java 8 spark project using jersey client 2.36 and in the process of migrating to java 17. I changed all the places to have jakarta package and also updated jersey client to 3.1.0. However on running the project , I am getting error where the client is getting created.</p>\n<p>currently I upgraded spark-core and spark-sql to 3.4.0 and springboot 3 and jakarta tp 3.X</p>\n<p>ERROR:</p>\n<pre><code>Caused by: java.util.ServiceConfigurationError: jakarta.ws.rs.client.ClientBuilder: org.glassfish.jersey.client.JerseyClientBuilder not a subtype\n    at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:593)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1244)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\n    at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\n    at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\n    at jakarta.ws.rs.client.FactoryFinder.lambda$findFirstService$1(FactoryFinder.java:178)\n    at jakarta.ws.rs.client.FactoryFinder.findFirstService(FactoryFinder.java:187)\n    at jakarta.ws.rs.client.FactoryFinder.find(FactoryFinder.java:114)\n    at jakarta.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:62)\n    at com.capitalone.customer.relationships.batch.impression.config.CustomerIdentifierApiConfig.setup(CustomerIdentifierApiConfig.java:176)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n<p>I have the dependency tree of jersey client as:</p>\n<pre><code>    [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.0:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\n[INFO] +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.0:compile\n</code></pre>\n<p>jersey client in jave:</p>\n<pre><code>ClientConfig clientConfig = new ClientConfig();\n        clientConfig.property(ClientProperties.READ_TIMEOUT, poolingReadTimeout);\n        clientConfig.property(ClientProperties.CONNECT_TIMEOUT, poolingConnectTimeout);\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(poolingMaxTotal);\n        connectionManager.setDefaultMaxPerRoute(poolingDefaultMaxPerRoute);\n        clientConfig.property(ApacheClientProperties.CONNECTION_MANAGER, connectionManager);\n\n        if (Arrays.stream(environment.getActiveProfiles()).anyMatch(profile -&gt; profile.contains(&quot;dev&quot;) || profile.equals(&quot;integration-test&quot;))) {\n            SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslcontext.init(null, new TrustManager[]{new X509TrustManager() {\n                public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n                }\n\n                public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n                }\n\n                public X509Certificate[] getAcceptedIssuers() {\n                    return new X509Certificate[0];\n                }\n\n            }}, new java.security.SecureRandom());\n\n            HostnameVerifier allowAll = (host, sslSession) -&gt; true;\n            client = ClientBuilder.newBuilder().withConfig(clientConfig.getConfiguration()).sslContext(sslcontext).hostnameVerifier(allowAll).build();\n</code></pre>\n<p>this creation of client was working fine in earlier version( 2.36) with java 8. with the upgrade to jave 17 am getting  `Caused by: java.util.ServiceConfigurationError: jakarta.ws.rs.client.ClientBuilder: org.glassfish.jersey.client.JerseyClientBuilder not a subtype'</p>\n<p>is there any thing to be added to upgrade jersey client to 3.x?</p>\n<p>complete pom file:</p>\n<pre><code>     com.customer.relationships.batch:impression:jar:3.3.0-RELEASE\n[INFO] +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.3:compile\n[INFO] |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] +- ch.qos.reload4j:reload4j:jar:1.2.22:compile\n[INFO] +- commons-codec:commons-codec:jar:1.13:compile\n[INFO] +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.4.1:compile\n[INFO] +- org.apache.spark:spark-sql_2.12:jar:3.5.0:compile\n[INFO] |  +- org.rocksdb:rocksdbjni:jar:8.3.2:compile\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:compile\n[INFO] |  +- org.apache.spark:spark-sketch_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.spark:spark-catalyst_2.12:jar:3.5.0:compile\n[INFO] |  |  +- org.apache.spark:spark-sql-api_2.12:jar:3.5.0:compile\n[INFO] |  |  |  +- org.scala-lang.modules:scala-parser-combinators_2.12:jar:2.3.0:compile\n[INFO] |  |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:compile\n[INFO] |  |  |  +- org.apache.arrow:arrow-vector:jar:12.0.1:compile\n[INFO] |  |  |  |  +- org.apache.arrow:arrow-format:jar:12.0.1:compile\n[INFO] |  |  |  |  +- org.apache.arrow:arrow-memory-core:jar:12.0.1:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.1:compile\n[INFO] |  |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:compile\n[INFO] |  |  |  \\- org.apache.arrow:arrow-memory-netty:jar:12.0.1:compile\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:compile\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:compile\n[INFO] |  |  \\- org.apache.datasketches:datasketches-java:jar:3.3.0:compile\n[INFO] |  |     \\- org.apache.datasketches:datasketches-memory:jar:2.1.0:compile\n[INFO] |  +- org.apache.spark:spark-tags_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.9.1:compile\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.9.1:compile\n[INFO] |  |  +- io.airlift:aircompressor:jar:0.25:compile\n[INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:compile\n[INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:compile\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.9.1:compile\n[INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:compile\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.13.1:compile\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.13.1:compile\n[INFO] |  |  +- org.apache.parquet:parquet-encoding:jar:1.13.1:compile\n[INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.13.0:compile\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.13.1:compile\n[INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.13.1:compile\n[INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.13.1:runtime\n[INFO] |  \\- org.apache.xbean:xbean-asm9-shaded:jar:4.23:compile\n[INFO] +- org.apache.spark:spark-core_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.2:compile\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.2:compile\n[INFO] |  +- com.twitter:chill_2.12:jar:0.10.0:compile\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:compile\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:compile\n[INFO] |  +- com.twitter:chill-java:jar:0.10.0:compile\n[INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:compile\n[INFO] |  +- org.apache.spark:spark-launcher_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.spark:spark-kvstore_2.12:jar:3.5.0:compile\n[INFO] |  |  \\- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:compile\n[INFO] |  +- org.apache.spark:spark-network-common_2.12:jar:3.5.0:compile\n[INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.9.0:compile\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.spark:spark-unsafe_2.12:jar:3.5.0:compile\n[INFO] |  +- org.apache.spark:spark-common-utils_2.12:jar:3.5.0:compile\n[INFO] |  |  +- org.slf4j:jul-to-slf4j:jar:2.0.7:compile\n[INFO] |  |  +- org.slf4j:jcl-over-slf4j:jar:2.0.7:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-1.2-api:jar:2.20.0:compile\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:compile\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:compile\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\n[INFO] |  +- com.ning:compress-lzf:jar:1.1.2:compile\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.3:compile\n[INFO] |  +- org.lz4:lz4-java:jar:1.8.0:compile\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.5.5-4:compile\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.45:compile\n[INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.45:runtime\n[INFO] |  +- org.scala-lang.modules:scala-xml_2.12:jar:2.1.0:compile\n[INFO] |  +- org.scala-lang:scala-library:jar:2.12.18:compile\n[INFO] |  +- org.scala-lang:scala-reflect:jar:2.12.18:compile\n[INFO] |  +- org.json4s:json4s-jackson_2.12:jar:3.7.0-M11:compile\n[INFO] |  |  \\- org.json4s:json4s-core_2.12:jar:3.7.0-M11:compile\n[INFO] |  |     +- org.json4s:json4s-ast_2.12:jar:3.7.0-M11:compile\n[INFO] |  |     \\- org.json4s:json4s-scalap_2.12:jar:3.7.0-M11:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.3:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.96.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.96.Final:compile\n[INFO] |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.96.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.96.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.96.Final:compile\n[INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.96.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.96.Final:compile\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.19:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.19:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.19:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.19:compile\n[INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.19:compile\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.12:jar:2.15.2:compile\n[INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:compile\n[INFO] |  +- oro:oro:jar:2.0.8:compile\n[INFO] |  +- net.razorvine:pickle:jar:1.3:compile\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:compile\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:compile\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] +- junit:junit:jar:4.13.1:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.springframework.security:spring-security-core:jar:6.1.2:compile\n[INFO] |  +- org.springframework.security:spring-security-crypto:jar:6.1.3:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.11:compile\n[INFO] |  +- org.springframework:spring-beans:jar:6.0.11:compile\n[INFO] |  +- org.springframework:spring-context:jar:6.0.11:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.11:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.11:compile\n[INFO] |  +- org.springframework:spring-expression:jar:6.0.11:compile\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.9:compile\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.9:compile\n[INFO] +- com .api.customers:customers-relations-common:jar:2.0.0-RELEASE:compile\n[INFO] |  +- com .chassis.starters:chassis-spring-boot-oauth-client:jar:5.0.0:compile\n[INFO] |  |  +- com .chassis.starters:constants:jar:5.0.0:compile\n[INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-log4j2-logger:jar:5.0.0:compile\n[INFO] |  |  |  \\- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.3:compile\n[INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-jackson-adapters:jar:5.0.0:compile\n[INFO] |  |  |  +- com .chassis.engine:chassis-jackson-adapters:jar:5.0.0:compile\n[INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.15.2:compile\n[INFO] |  |  |  +- org.aspectj:aspectjweaver:jar:1.9.20:compile\n[INFO] |  |  |  \\- org.aspectj:aspectjrt:jar:1.9.20:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-oauth2-client:jar:3.1.3:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-oauth2-jose:jar:6.1.3:compile\n[INFO] |  |  |     \\- org.springframework.security:spring-security-oauth2-core:jar:6.1.3:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.3:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.3:compile\n[INFO] |  |  |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\n[INFO] |  |  |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\n[INFO] |  |  |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.3:compile\n[INFO] |  |  |  \\- org.springframework:spring-webflux:jar:6.0.11:compile\n[INFO] |  |  |     \\- io.projectreactor:reactor-core:jar:3.5.8:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-starter-security:jar:3.1.3:compile\n[INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-business-model:jar:5.0.0:compile\n[INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-encryption:jar:5.0.0:compile\n[INFO] |  |  |  +- com .chassis.engine:chassis-secureddatum:jar:5.0.0:compile\n[INFO] |  |  |  |  \\- com .chassis.engine:chassis-spring-vault:jar:5.0.0:compile\n[INFO] |  |  |  |     +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  |     +- software.amazon.awssdk:auth:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:annotations:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:utils:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:sdk-core:jar:2.20.74:compile\n[INFO] |  |  |  |     |  |  +- software.amazon.awssdk:metrics-spi:jar:2.20.74:compile\n[INFO] |  |  |  |     |  |  \\- software.amazon.awssdk:endpoints-spi:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:regions:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:profiles:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:http-client-spi:jar:2.20.74:compile\n[INFO] |  |  |  |     |  +- software.amazon.awssdk:json-utils:jar:2.20.74:compile\n[INFO] |  |  |  |     |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.74:compile\n[INFO] |  |  |  |     |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  |  |  |     \\- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\n[INFO] |  |  |  |        +- org.apache.httpcomponents.core5:httpcore5:jar:5.2:compile\n[INFO] |  |  |  |        \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.2:compile\n[INFO] |  |  |  \\- io.github.classgraph:classgraph:jar:4.8.162:compile\n[INFO] |  |  +- com .chassis.starters:chassis-spring-boot-starter-converters:jar:5.0.0:compile\n[INFO] |  |  |  +- com .chassis.starters:chassis-spring-boot-starter-core-util:jar:5.0.0:compile\n[INFO] |  |  |  +- com .chassis.starters:chassis-spring-boot-starter-core-reflection:jar:5.0.0:compile\n[INFO] |  |  |  |  \\- com .chassis.engine:chassis-core-reflection:jar:5.0.0:compile\n[INFO] |  |  |  \\- com .chassis.engine:chassis-converters:jar:5.0.0:compile\n[INFO] |  |  \\- com .chassis.model:chassis-business-model:jar:5.0.0:compile\n[INFO] |  |     +- io.swagger:swagger-annotations:jar:1.6.2:compile\n[INFO] |  |     +- org.jooq:jool:jar:0.9.15:compile\n[INFO] |  |     \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:compile\n[INFO] |  |        \\- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:compile\n[INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-model:jar:5.0.0:compile\n[INFO] |  |  +- com .chassis.engine:chassis-model:jar:5.0.0:compile\n[INFO] |  |  |  +- com .chassis.engine:chassis-constants:jar:5.0.0:compile\n[INFO] |  |  |  +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  |  |  \\- jakarta.el:jakarta.el-api:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.3:compile\n[INFO] |  +- com .chassis.starters:chassis-spring-boot-starter-core-dao:jar:5.0.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.3:compile\n[INFO] |  |  +- com .chassis.engine:chassis-core-dao:jar:5.0.0:compile\n[INFO] |  |  \\- com .chassis.engine:chassis-core-util:jar:5.0.0:compile\n[INFO] |  |     \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\n[INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\n[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- redis.clients:jedis:jar:4.3.2:compile\n[INFO] |  |  +- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO] |  |  \\- org.json:json:jar:20220320:compile\n[INFO] |  +- org.springframework.data:spring-data-redis:jar:3.1.3:compile\n[INFO] |  |  +- org.springframework.data:spring-data-keyvalue:jar:3.1.3:compile\n[INFO] |  |  +- org.springframework:spring-oxm:jar:6.0.11:compile\n[INFO] |  |  \\- org.springframework:spring-context-support:jar:6.0.11:compile\n[INFO] |  \\- com .chassis.starters:chassis-spring-boot-starter-logging-profiling:jar:5.0.0:compile\n[INFO] |     +- com .chassis.engine:chassis-logging-profiling:jar:5.0.0:compile\n[INFO] |     |  +- com .chassis.engine:chassis-core-concurrency:jar:5.0.0:compile\n[INFO] |     |  \\- io.micrometer:micrometer-core:jar:1.11.3:compile\n[INFO] |     |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] |     +- com .chassis:chassis-annotations:jar:5.0.0:compile\n[INFO] |     \\- com .chassis.engine:chassis-core-aop:jar:5.0.0:compile\n[INFO] +- com.google.guava:guava:jar:32.0.1-android:compile\n[INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\n[INFO] |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\n[INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\n[INFO] +- io.netty:netty-handler:jar:4.1.77.Final:test\n[INFO] |  +- io.netty:netty-common:jar:4.1.77.Final:compile\n[INFO] |  +- io.netty:netty-resolver:jar:4.1.77.Final:compile\n[INFO] |  +- io.netty:netty-buffer:jar:4.1.77.Final:compile\n[INFO] |  +- io.netty:netty-transport:jar:4.1.77.Final:compile\n[INFO] |  \\- io.netty:netty-codec:jar:4.1.77.Final:test\n[INFO] +- org.springframework.data:spring-data-cassandra:jar:4.1.3:compile\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.11:compile\n[INFO] |  +- org.springframework.data:spring-data-commons:jar:3.1.3:compile\n[INFO] |  +- com.datastax.oss:java-driver-core:jar:4.15.0:compile\n[INFO] |  |  +- com.datastax.oss:native-protocol:jar:1.5.1:compile\n[INFO] |  |  +- com.datastax.oss:java-driver-shaded-guava:jar:25.1-jre-graal-sub-1:compile\n[INFO] |  |  +- com.typesafe:config:jar:1.4.1:compile\n[INFO] |  |  +- com.github.jnr:jnr-posix:jar:3.1.15:compile\n[INFO] |  |  |  +- com.github.jnr:jnr-ffi:jar:2.2.11:compile\n[INFO] |  |  |  |  +- com.github.jnr:jffi:jar:1.3.9:compile\n[INFO] |  |  |  |  +- com.github.jnr:jffi:jar:native:1.3.9:runtime\n[INFO] |  |  |  |  +- org.ow2.asm:asm:jar:9.2:compile\n[INFO] |  |  |  |  +- org.ow2.asm:asm-commons:jar:9.2:compile\n[INFO] |  |  |  |  +- org.ow2.asm:asm-analysis:jar:9.2:compile\n[INFO] |  |  |  |  +- org.ow2.asm:asm-tree:jar:9.2:compile\n[INFO] |  |  |  |  +- org.ow2.asm:asm-util:jar:9.2:compile\n[INFO] |  |  |  |  +- com.github.jnr:jnr-a64asm:jar:1.0.0:compile\n[INFO] |  |  |  |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\n[INFO] |  |  |  \\- com.github.jnr:jnr-constants:jar:0.10.3:compile\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n[INFO] |  |  +- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |  +- com.datastax.oss:java-driver-query-builder:jar:4.15.0:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.2:compile\n[INFO] +- org.hamcrest:hamcrest-junit:jar:2.0.0.0:test\n[INFO] |  \\- org.hamcrest:java-hamcrest:jar:2.0.0.0:test\n[INFO] +- org.powermock:powermock-reflect:jar:2.0.0:test\n[INFO] |  +- org.objenesis:objenesis:jar:3.0.1:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.9.3:compile\n[INFO] |  \\- net.bytebuddy:byte-buddy-agent:jar:1.9.3:test\n[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.0:test\n[INFO] |  +- org.powermock:powermock-api-support:jar:2.0.0:test\n[INFO] |  \\- org.mockito:mockito-core:jar:2.23.0:test\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.0:test\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.0:test\n[INFO] +- org.easymock:easymock:jar:3.4:compile\n[INFO] +- org.powermock:powermock-core:jar:2.0.0:test\n[INFO] |  \\- org.javassist:javassist:jar:3.24.0-GA:test\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.3:test\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.3:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.3:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.3:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.3:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  +- org.springframework:spring-test:jar:6.0.11:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- com.amazonaws:aws-java-sdk-bundle:jar:1.11.901:compile\n[INFO] +- com.amazonaws:aws-java-sdk-core:jar:1.11.901:compile\n[INFO] |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\n[INFO] |  \\- joda-time:joda-time:jar:2.8.1:compile\n[INFO] +- com.github.seratch:jslack:jar:1.5.6:compile\n[INFO] |  \\- com.squareup.okhttp3:okhttp:jar:3.14.1:compile\n[INFO] |     \\- com.squareup.okio:okio:jar:1.17.2:compile\n[INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.1:compile\n[INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.0.7.Final:runtime\n[INFO] +- org.apache.commons:commons-collections4:jar:4.1:compile\n[INFO] +- org.apache.commons:commons-csv:jar:1.3:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.13.2:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:provided\n[INFO] +- org.webjars:jquery:jar:3.5.0:compile\n[INFO] \\- org.apache.hadoop:hadoop-common:jar:3.3.4:compile\n[INFO]    +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:compile\n[INFO]    +- org.apache.hadoop:hadoop-annotations:jar:3.3.4:compile\n[INFO]    +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:compile\n[INFO]    +- commons-cli:commons-cli:jar:1.2:compile\n[INFO]    +- commons-io:commons-io:jar:2.8.0:compile\n[INFO]    +- jakarta.activation:jakarta.activation-api:jar:2.0.1:compile\n[INFO]    +- com.sun.jersey:jersey-servlet:jar:1.19:compile\n[INFO]    +- com.sun.jersey:jersey-server:jar:1.19:compile\n[INFO]    +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO]    +- org.apache.commons:commons-configuration2:jar:2.1.1:compile\n[INFO]    +- org.apache.commons:commons-text:jar:1.4:compile\n[INFO]    +- org.slf4j:slf4j-reload4j:jar:1.7.36:compile\n[INFO]    +- org.apache.avro:avro:jar:1.7.7:compile\n[INFO]    |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO]    +- com.google.re2j:re2j:jar:1.1:compile\n[INFO]    +- com.google.code.gson:gson:jar:2.8.9:compile\n[INFO]    +- org.apache.hadoop:hadoop-auth:jar:3.3.4:compile\n[INFO]    |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\n[INFO]    |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:compile\n[INFO]    |     +- org.apache.kerby:kerb-client:jar:1.0.1:compile\n[INFO]    |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:compile\n[INFO]    |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:compile\n[INFO]    |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:compile\n[INFO]    |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:compile\n[INFO]    |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:compile\n[INFO]    |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:compile\n[INFO]    |        +- org.apache.kerby:kerb-server:jar:1.0.1:compile\n[INFO]    |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:compile\n[INFO]    |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:compile\n[INFO]    +- com.jcraft:jsch:jar:0.1.55:compile\n[INFO]    +- org.apache.curator:curator-client:jar:4.2.0:compile\n[INFO]    +- org.apache.commons:commons-compress:jar:1.21:compile\n[INFO]    +- org.apache.kerby:kerb-core:jar:1.0.1:compile\n[INFO]    |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:compile\n[INFO]    |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:compile\n[INFO]    |     \\- org.apache.kerby:kerby-util:jar:1.0.1:compile\n[INFO]    +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO]    \\- dnsjava:dnsjava:jar:2.1.7:compile\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","android","file-descriptor","bytearrayoutputstream","bytearrayinputstream"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":1,"creation_date":1508869542,"post_id":46917506,"comment_id":80782412,"body_markdown":"where do you want to return that `FileDescriptor` from? from a `ContentProvider`?","body":"where do you want to return that <code>FileDescriptor</code> from? from a <code>ContentProvider</code>?"},{"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1508869664,"post_id":46917506,"comment_id":80782483,"body_markdown":"Use `ParcelFileDescriptor.createPipe()` and kin, though I&#39;m not sure it&#39;s going to do what you want it to.","body":"Use <code>ParcelFileDescriptor.createPipe()</code> and kin, though I&#39;m not sure it&#39;s going to do what you want it to."},{"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"score":0,"creation_date":1508870072,"post_id":46917506,"comment_id":80782697,"body_markdown":"I want to use it in `MediaMuxer (FileDescriptor fd, int format)` and so that I can write the bytes to output stream of a TCP socket without writing the data to a file.","body":"I want to use it in <code>MediaMuxer (FileDescriptor fd, int format)</code> and so that I can write the bytes to output stream of a TCP socket without writing the data to a file."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1508870173,"post_id":46917506,"comment_id":80782750,"body_markdown":"then use `ParcelFileDescriptor#fromSocket()` method","body":"then use <code>ParcelFileDescriptor#fromSocket()</code> method"},{"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"score":1,"creation_date":1508872999,"post_id":46917506,"comment_id":80784308,"body_markdown":"#fromSocket() did not work for me. `E/MPEG4Writer: cannot seek mFd: Illegal seek (29) 47` OutputStream of TCP socket cannot be seeked. So looking for another solution that involves ByteArrayOutputStream with FileDescriptor.","body":"#fromSocket() did not work for me. <code>E&#47;MPEG4Writer: cannot seek mFd: Illegal seek (29) 47</code> OutputStream of TCP socket cannot be seeked. So looking for another solution that involves ByteArrayOutputStream with FileDescriptor."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1508873815,"post_id":46917506,"comment_id":80784740,"body_markdown":"so try what @CommonsWare said: create a pipe, but i think you will get the same `&quot;cannot seek mFd&quot;` error - i believe that only physical file is &quot;seekable&quot;","body":"so try what @CommonsWare said: create a pipe, but i think you will get the same <code>&quot;cannot seek mFd&quot;</code> error - i believe that only physical file is &quot;seekable&quot;"},{"owner":{"account_id":1244878,"reputation":3526,"user_id":1206554,"accept_rate":76,"display_name":"mh taqia"},"score":0,"creation_date":1528973666,"post_id":46917506,"comment_id":88714103,"body_markdown":"@PC. Did you find a solution?","body":"@PC. Did you find a solution?"},{"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"score":0,"creation_date":1528975574,"post_id":46917506,"comment_id":88715213,"body_markdown":"@mh taquia No. I didn&#39;t.","body":"@mh taquia No. I didn&#39;t."},{"owner":{"account_id":5757344,"reputation":445,"user_id":4544797,"display_name":"Abu Noman"},"score":0,"creation_date":1593102576,"post_id":46917506,"comment_id":110669318,"body_markdown":"@PC. How did you solve it?","body":"@PC. How did you solve it?"}],"answers":[{"tags":[],"owner":{"account_id":4055277,"reputation":1,"user_id":3333515,"display_name":"user3333515"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531125279,"creation_date":1531125279,"answer_id":51241162,"question_id":46917506,"body_markdown":"You can redirect System.out to ByteArrayOutputStream\r\nand use FileDescriptor.out as filedescriptor\r\n\r\n    ByteArrayOutputStream buff = new ByteArrayOutputStream();\r\n    PrintStream old = System.out;\r\n    System.setOut(new PrintStream(buff));\r\n    \r\n    ... use FileDescriptor.out ...\r\n\r\n    System.setOut(old);\r\n    System.out.println(new String(buff.toByteArray()));\r\n\r\n","title":"Create an in-memory FileDescriptor","body":"<p>You can redirect System.out to ByteArrayOutputStream\nand use FileDescriptor.out as filedescriptor</p>\n\n<pre><code>ByteArrayOutputStream buff = new ByteArrayOutputStream();\nPrintStream old = System.out;\nSystem.setOut(new PrintStream(buff));\n\n... use FileDescriptor.out ...\n\nSystem.setOut(old);\nSystem.out.println(new String(buff.toByteArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15139,"reputation":24853,"user_id":31662,"accept_rate":91,"display_name":"Daniel Cassidy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593495910,"creation_date":1593495910,"answer_id":62651005,"question_id":46917506,"body_markdown":"Use a `LocalSocket`, but be careful because there are security implications.\r\n\r\n`LocalSocket` is the Android API for working with Unix Domain Sockets. Domain Sockets are similar to TCP/IP sockets except that they only exist on the device, they cannot be used for communication across a network.\r\n\r\nA simple, but insecure solution to your problem is as follows:\r\n\r\n```java\r\n// Create a unique name for the socket.\r\nString name = &quot;your.package.name-&quot; + UUID.randomUUID();\r\n\r\n// Bind a server to the socket.\r\nfinal LocalServerSocket server = new LocalServerSocket(name);\r\n\r\n// Connect a client to the socket.\r\nLocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\r\nclient.connect(new LocalSocketAddress(name, LocalSocketAddress.Namespace.ABSTRACT));\r\n\r\n// Start a thread to read from the server socket.\r\nnew Thread(new Runnable {\r\n    @Override\r\n    public void run() {\r\n        LocalSocket socket = server.accept();\r\n\r\n        // To read data sent by the client, read from socket.getInputStream().\r\n        // To send data to the client, write to socket.getOutputStream().\r\n\r\n        // After you are done you will need to call socket.close().\r\n    }\r\n}).start();\r\n\r\n// Get the FileDescriptor associated with the client.\r\n// You can use this FileDescriptor to write data to and/or read data\r\n// sent from the server.\r\nFileDescriptor fileDescriptor = client.getFileDescriptor();\r\n\r\n// After you are done you will need to call server.close() and client.close().\r\n```\r\n\r\nThis creates a socket in the abstract socket namespace. This is insecure because domain sockets are system-wide and sockets in the abstract namespace are not restricted by any permissions system. The only requirement to connect or bind to a name in the abstract namespace is to know the name, and the socket name used by your app can be easily discovered by an attacker through decompilation. There is also a possibility that another app may use the same socket name by accident. So another app could intercept your data, or send unexpected data through the socket, and it is difficult to guard against this.\r\n\r\nA better, but more complicated solution is to create a socket in the filesystem namespace. The API to do this is super weird, but it can be achieved as follows:\r\n\r\n```java\r\n// Create a unique name for the socket in your app&#39;s private data area.\r\n// Note this example creates a file named like socket-xxxx in the root of\r\n// your app&#39;s private data area. You might want to put it in a subdirectory.\r\nString name = context\r\n    .getFileStreamPath(&quot;socket-&quot; + UUID.randomUUID())\r\n    .getAbsolutePath();\r\nLocalSocketAddress address = new LocalSocketAddress(name, LocalSocketAddress.Namespace.FILESYSTEM);\r\n\r\n// Bind a server to the socket.\r\nLocalSocket server = new LocalSocket(LocalSocket.SOCKET_STREAM);\r\nserver.bind(address);\r\nfinal LocalServerSocket serverWrapper = new LocalServerSocket(server.getFileDescriptor());\r\n\r\n// Connect a client to the socket.\r\nLocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\r\nclient.connect(address);\r\n\r\n// Start a thread to read from the server socket.\r\nnew Thread(new Runnable {\r\n    @Override\r\n    public void run() {\r\n        LocalSocket socket = serverWrapper.accept();\r\n\r\n        // To read data sent by the client, read from socket.getInputStream().\r\n        // To send data to the client, write to socket.getOutputStream().\r\n\r\n        // After you are done you will need to call socket.close() and\r\n        // serverWrapper.close().\r\n    }\r\n}).start();\r\n\r\n// Get the FileDescriptor associated with the client.\r\n// You can use this FileDescriptor to write data to and/or read data\r\n// sent from the server.\r\nFileDescriptor fileDescriptor = client.getFileDescriptor();\r\n\r\n// After you are done you will need to call server.close() and client.close().\r\n```\r\n\r\nThis does create a file on the filesystem, but none of the data that passes through the socket is ever written to disk, it is entirely in-memory. The file is just a name that represents the socket, similar to the files in `/dev` that represent devices. Because the socket is accessed through the filesystem, it is subject to the usual filesystem permissions, so it is easy to restrict access to the socket by placing the socket in your app&#39;s private data area.\r\n\r\nSince this technique creates a file on the filesystem, it would be a good idea to delete the file after you&#39;re done, and also perhaps to check for and clean up old sockets every so often, in case your app crashes and leaves old files laying around.","title":"Create an in-memory FileDescriptor","body":"<p>Use a <code>LocalSocket</code>, but be careful because there are security implications.</p>\n<p><code>LocalSocket</code> is the Android API for working with Unix Domain Sockets. Domain Sockets are similar to TCP/IP sockets except that they only exist on the device, they cannot be used for communication across a network.</p>\n<p>A simple, but insecure solution to your problem is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a unique name for the socket.\nString name = &quot;your.package.name-&quot; + UUID.randomUUID();\n\n// Bind a server to the socket.\nfinal LocalServerSocket server = new LocalServerSocket(name);\n\n// Connect a client to the socket.\nLocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\nclient.connect(new LocalSocketAddress(name, LocalSocketAddress.Namespace.ABSTRACT));\n\n// Start a thread to read from the server socket.\nnew Thread(new Runnable {\n    @Override\n    public void run() {\n        LocalSocket socket = server.accept();\n\n        // To read data sent by the client, read from socket.getInputStream().\n        // To send data to the client, write to socket.getOutputStream().\n\n        // After you are done you will need to call socket.close().\n    }\n}).start();\n\n// Get the FileDescriptor associated with the client.\n// You can use this FileDescriptor to write data to and/or read data\n// sent from the server.\nFileDescriptor fileDescriptor = client.getFileDescriptor();\n\n// After you are done you will need to call server.close() and client.close().\n</code></pre>\n<p>This creates a socket in the abstract socket namespace. This is insecure because domain sockets are system-wide and sockets in the abstract namespace are not restricted by any permissions system. The only requirement to connect or bind to a name in the abstract namespace is to know the name, and the socket name used by your app can be easily discovered by an attacker through decompilation. There is also a possibility that another app may use the same socket name by accident. So another app could intercept your data, or send unexpected data through the socket, and it is difficult to guard against this.</p>\n<p>A better, but more complicated solution is to create a socket in the filesystem namespace. The API to do this is super weird, but it can be achieved as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a unique name for the socket in your app's private data area.\n// Note this example creates a file named like socket-xxxx in the root of\n// your app's private data area. You might want to put it in a subdirectory.\nString name = context\n    .getFileStreamPath(&quot;socket-&quot; + UUID.randomUUID())\n    .getAbsolutePath();\nLocalSocketAddress address = new LocalSocketAddress(name, LocalSocketAddress.Namespace.FILESYSTEM);\n\n// Bind a server to the socket.\nLocalSocket server = new LocalSocket(LocalSocket.SOCKET_STREAM);\nserver.bind(address);\nfinal LocalServerSocket serverWrapper = new LocalServerSocket(server.getFileDescriptor());\n\n// Connect a client to the socket.\nLocalSocket client = new LocalSocket(LocalSocket.SOCKET_STREAM);\nclient.connect(address);\n\n// Start a thread to read from the server socket.\nnew Thread(new Runnable {\n    @Override\n    public void run() {\n        LocalSocket socket = serverWrapper.accept();\n\n        // To read data sent by the client, read from socket.getInputStream().\n        // To send data to the client, write to socket.getOutputStream().\n\n        // After you are done you will need to call socket.close() and\n        // serverWrapper.close().\n    }\n}).start();\n\n// Get the FileDescriptor associated with the client.\n// You can use this FileDescriptor to write data to and/or read data\n// sent from the server.\nFileDescriptor fileDescriptor = client.getFileDescriptor();\n\n// After you are done you will need to call server.close() and client.close().\n</code></pre>\n<p>This does create a file on the filesystem, but none of the data that passes through the socket is ever written to disk, it is entirely in-memory. The file is just a name that represents the socket, similar to the files in <code>/dev</code> that represent devices. Because the socket is accessed through the filesystem, it is subject to the usual filesystem permissions, so it is easy to restrict access to the socket by placing the socket in your app's private data area.</p>\n<p>Since this technique creates a file on the filesystem, it would be a good idea to delete the file after you're done, and also perhaps to check for and clean up old sockets every so often, in case your app crashes and leaves old files laying around.</p>\n"},{"tags":[],"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698849033,"creation_date":1698705770,"answer_id":77392264,"question_id":46917506,"body_markdown":"As of Android R(30), you can and it works with MediaMuxer!\r\n\r\nhttps://developer.android.com/reference/android/system/Os#memfd_create(java.lang.String,%20int)\r\n\r\n```Java\r\nprivate FileDescriptor getFileDescriptor(Context context) throws IOException, ErrnoException{\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n        return Os.memfd_create(&quot;thumb&quot;, 0);\r\n    } else {\r\n        return new FileOutputStream(new File(context.getCacheDir(), &quot;thumb.heif&quot;)).getFD();\r\n    }\r\n}\r\nprivate void mux() {\r\n    MediaMuxer mediaMuxer = new MediaMuxer(getFileDescriptor(context), MediaMuxer.OutputFormat.MUXER_OUTPUT_HEIF);\r\n    // Muxing code omitted\r\n    mediaMuxer.stop();\r\n    StructStat structStat = Os.fstat(fileDescriptor);\r\n    bytes = new byte[(int)structStat.st_size];\r\n    Os.lseek(fileDescriptor, 0, OsConstants.SEEK_SET);\r\n    Os.read(fileDescriptor, bytes, 0, bytes.length);\r\n    mediaMuxer.release();\r\n```\r\n\r\nFYI:  In theory you should have been able as of Oreo using:\r\n\r\nhttps://developer.android.com/reference/android/os/storage/StorageManager#openProxyFileDescriptor(int,%20android.os.ProxyFileDescriptorCallback,%20android.os.Handler)\r\n\r\nFor some reason MediaMuxer blows chunks with the FileDescriptor created in this way.  I&#39;ve used it in other places and it worked fine.","title":"Create an in-memory FileDescriptor","body":"<p>As of Android R(30), you can and it works with MediaMuxer!</p>\n<p><a href=\"https://developer.android.com/reference/android/system/Os#memfd_create(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/system/Os#memfd_create(java.lang.String,%20int)</a></p>\n<pre><code>private FileDescriptor getFileDescriptor(Context context) throws IOException, ErrnoException{\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        return Os.memfd_create(&quot;thumb&quot;, 0);\n    } else {\n        return new FileOutputStream(new File(context.getCacheDir(), &quot;thumb.heif&quot;)).getFD();\n    }\n}\nprivate void mux() {\n    MediaMuxer mediaMuxer = new MediaMuxer(getFileDescriptor(context), MediaMuxer.OutputFormat.MUXER_OUTPUT_HEIF);\n    // Muxing code omitted\n    mediaMuxer.stop();\n    StructStat structStat = Os.fstat(fileDescriptor);\n    bytes = new byte[(int)structStat.st_size];\n    Os.lseek(fileDescriptor, 0, OsConstants.SEEK_SET);\n    Os.read(fileDescriptor, bytes, 0, bytes.length);\n    mediaMuxer.release();\n</code></pre>\n<p>FYI:  In theory you should have been able as of Oreo using:</p>\n<p><a href=\"https://developer.android.com/reference/android/os/storage/StorageManager#openProxyFileDescriptor(int,%20android.os.ProxyFileDescriptorCallback,%20android.os.Handler)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/storage/StorageManager#openProxyFileDescriptor(int,%20android.os.ProxyFileDescriptorCallback,%20android.os.Handler)</a></p>\n<p>For some reason MediaMuxer blows chunks with the FileDescriptor created in this way.  I've used it in other places and it worked fine.</p>\n"}],"owner":{"account_id":875469,"reputation":6935,"user_id":925202,"accept_rate":72,"display_name":"PC."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3097,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1698849033,"creation_date":1508869382,"question_id":46917506,"body_markdown":"[FileDescriptor][1] API in Android says:\r\n\r\n&gt; Instances of the file descriptor class serve as an opaque handle to\r\n&gt; the underlying machine-specific structure representing an open file,\r\n&gt; an open socket, or another source or sink of bytes.\r\n\r\nI want to create a FileDescriptor object using [ByteArrayOutputStream][2] and [ByteArrayInputStream][3]\r\n\r\nAlso, FileDescriptor is a final class and cannot be overridden. The only constructor it has says - \r\n\r\n&gt; Constructs an **(invalid)** FileDescriptor object.\r\n\r\nAny idea how to use FileDescriptor in Android?\r\n\r\n***EDIT***\r\n\r\nI want to use it in [MediaMuxer][4]. Instead of writing to a file, I want to have the media data in-memory and copy it to a TCP socket for live streaming. So my FileDescriptor should be a &quot;sink of bytes.&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/io/FileDescriptor.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayInputStream.html\r\n  [4]: https://developer.android.com/reference/android/media/MediaMuxer.html#MediaMuxer(java.io.FileDescriptor,%20int)","title":"Create an in-memory FileDescriptor","body":"<p><a href=\"https://developer.android.com/reference/java/io/FileDescriptor.html\" rel=\"noreferrer\">FileDescriptor</a> API in Android says:</p>\n\n<blockquote>\n  <p>Instances of the file descriptor class serve as an opaque handle to\n  the underlying machine-specific structure representing an open file,\n  an open socket, or another source or sink of bytes.</p>\n</blockquote>\n\n<p>I want to create a FileDescriptor object using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"noreferrer\">ByteArrayOutputStream</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a></p>\n\n<p>Also, FileDescriptor is a final class and cannot be overridden. The only constructor it has says - </p>\n\n<blockquote>\n  <p>Constructs an <strong>(invalid)</strong> FileDescriptor object.</p>\n</blockquote>\n\n<p>Any idea how to use FileDescriptor in Android?</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>I want to use it in <a href=\"https://developer.android.com/reference/android/media/MediaMuxer.html#MediaMuxer(java.io.FileDescriptor,%20int)\" rel=\"noreferrer\">MediaMuxer</a>. Instead of writing to a file, I want to have the media data in-memory and copy it to a TCP socket for live streaming. So my FileDescriptor should be a \"sink of bytes.\"</p>\n"},{"tags":["java","kotlin","gradle"],"owner":{"account_id":15106655,"reputation":44,"user_id":10902148,"display_name":"Sethu Mohanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698848637,"creation_date":1698848637,"question_id":77403339,"body_markdown":"I wanted to get CCF Value from sportradar MTS.Without using API.\r\n\r\nI used these dependency&#39;s,\r\n\r\n    implementation (&quot;com.sportradar.mts.sdk:mts-sdk-doc:2.4.1.1&quot;)\r\n    implementation (&quot;com.sportradar.mts.sdk:mts-sdk:2.4.1.1&quot;)\r\n    implementation(&quot;com.sportradar.mts.sdk.app:mts-sdk-app:2.4.1.1&quot;)\r\n\r\nand I tryed \r\n\r\nMtsClientApi.getCcf(String sourceId)\r\n\r\nbut inside MtsClientApi there is no getCcf().\r\n\r\nI want to know How Can I get Ccf value?","title":"I want to get CCF Value from Sportradar MTS","body":"<p>I wanted to get CCF Value from sportradar MTS.Without using API.</p>\n<p>I used these dependency's,</p>\n<pre><code>implementation (&quot;com.sportradar.mts.sdk:mts-sdk-doc:2.4.1.1&quot;)\nimplementation (&quot;com.sportradar.mts.sdk:mts-sdk:2.4.1.1&quot;)\nimplementation(&quot;com.sportradar.mts.sdk.app:mts-sdk-app:2.4.1.1&quot;)\n</code></pre>\n<p>and I tryed</p>\n<p>MtsClientApi.getCcf(String sourceId)</p>\n<p>but inside MtsClientApi there is no getCcf().</p>\n<p>I want to know How Can I get Ccf value?</p>\n"},{"tags":["java","android","email","gmail"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303995297,"creation_date":1303995297,"answer_id":5818928,"question_id":5818685,"body_markdown":"&gt; How can I execute some code when new email arrives (gmail) in Android?\r\n\r\nThere are no documented broadcast `Intents` that are sent out when Gmail arrives. Gmail is not part of the Android OS, so it is not part of the Android SDK, and it does not have its own SDK.\r\n","title":"How do I execute some code when new email arrives in Android?","body":"<blockquote>\n  <p>How can I execute some code when new email arrives (gmail) in Android?</p>\n</blockquote>\n\n<p>There are no documented broadcast <code>Intents</code> that are sent out when Gmail arrives. Gmail is not part of the Android OS, so it is not part of the Android SDK, and it does not have its own SDK.</p>\n"},{"tags":[],"owner":{"account_id":376164,"reputation":601,"user_id":727432,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698848496,"creation_date":1304008044,"answer_id":5821896,"question_id":5818685,"body_markdown":"For that you have to use Broadcast Receivers.","title":"How do I execute some code when new email arrives in Android?","body":"<p>For that you have to use Broadcast Receivers.</p>\n"},{"tags":[],"owner":{"account_id":168890,"reputation":759,"user_id":394622,"accept_rate":75,"display_name":"EvanBlack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698848563,"creation_date":1304184748,"answer_id":5843476,"question_id":5818685,"body_markdown":"I could get it work on myself with searching some source codes of different programs. But it is really hacky. If anyone interested, can take a look at [GmailNotifier source code][1] at GitHub.\r\n\r\nGmailNotifier notifies user when receive new GMail.\r\n\r\nP.S: And please note that, it is only for GMAIL. Not all email as title says.\r\n\r\n\r\n  [1]: https://github.com/jonasl/GmailNotifier","title":"How do I execute some code when new email arrives in Android?","body":"<p>I could get it work on myself with searching some source codes of different programs. But it is really hacky. If anyone interested, can take a look at <a href=\"https://github.com/jonasl/GmailNotifier\" rel=\"nofollow noreferrer\">GmailNotifier source code</a> at GitHub.</p>\n<p>GmailNotifier notifies user when receive new GMail.</p>\n<p>P.S: And please note that, it is only for GMAIL. Not all email as title says.</p>\n"}],"owner":{"account_id":168890,"reputation":759,"user_id":394622,"accept_rate":75,"display_name":"EvanBlack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5843476,"answer_count":3,"score":2,"last_activity_date":1698848563,"creation_date":1303994221,"question_id":5818685,"body_markdown":"How can I execute some code when new email arrives (gmail) in Android?","title":"How do I execute some code when new email arrives in Android?","body":"<p>How can I execute some code when new email arrives (gmail) in Android?</p>\n"},{"tags":["java","swing","ibm-midrange","jt400"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1698848496,"post_id":77403306,"comment_id":136456931,"body_markdown":"You can probably use a `CardLayout` to swap panels on the frame. See: [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)","body":"You can probably use a <code>CardLayout</code> to swap panels on the frame. See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a>"}],"owner":{"account_id":23219792,"reputation":81,"user_id":17312223,"display_name":"Logan Price"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698848338,"creation_date":1698848338,"question_id":77403306,"body_markdown":"I am creating a simple app that interfaces with an AS400 database using JT400 library and swing components for the GUI. The goal is to list active jobs of AS400 user so user can click one to get a notification about it&#39;s status changes.\r\n\r\nThe basic flow is this:\r\n\r\n 1. Input dialogue appears asking for username and password - click submit to sign in\r\n 2. Dialogue goes away and Jframe (main screen) appears with a Jtable and Jbutton\r\n 3. Select a row from table and click button to go to new screen\r\n 4. New screen displays a message and a back button\r\n 5. Clicking the back button takes you back to the main screen with the table and submit button\r\n 6. Repeat steps 3-5 until you exit the application\r\n\r\nI can get all the way to step 4 but cannot get the &quot;back&quot; button to revert the Jframe to its previous state displaying the Jtable and button on the &quot;main&quot; screen.\r\n\r\nMy code is below. There are a couple of button event listeners in &quot;public TEST_GUI()&quot; which are supposed to handle the screen changes. I think the issue is in one of these listeners.\r\n\r\n```\r\npackage com.lprice.mvc;\r\n\r\nimport com.ibm.as400.access.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.table.TableModel;\r\nimport java.beans.PropertyVetoException;\r\nimport java.io.IOException;\r\nimport java.util.*;\r\nimport java.util.List;\r\n\r\npublic class TEST_GUI extends JFrame {\r\n    final static boolean shouldFill = true;\r\n    final static boolean shouldWeightX = true;\r\n    final static boolean RIGHT_TO_LEFT = false;\r\n\r\n    private JLabel lblUser;\r\n    private JLabel lblPass;\r\n    private JTable tblSpool;\r\n    private AS400 as400;\r\n\r\n\r\n    public TEST_GUI() throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\r\n        // set up Jframe\r\n        super(&quot;Example&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(300, 200);\r\n        setLocationRelativeTo(null);\r\n\r\n        // create JPanel to use as main screen\r\n        Container firstPane = this.getContentPane();\r\n        firstPane.setLayout(new GridBagLayout());\r\n        GridBagConstraints c = new GridBagConstraints();\r\n        if (shouldFill) {\r\n            //natural height, maximum width\r\n            c.fill = GridBagConstraints.HORIZONTAL;\r\n        }\r\n        if (RIGHT_TO_LEFT) {\r\n            firstPane.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n        }\r\n\r\n        lblUser = new JLabel(&quot;Username:&quot;);\r\n        if (shouldWeightX) {\r\n            c.weightx = 0.5;\r\n        }\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.gridx = 0;\r\n        c.gridy = 0;\r\n        firstPane.add(lblUser, c);\r\n\r\n        tblSpool = new JTable();\r\n        JScrollPane scrollPane = new JScrollPane(tblSpool);\r\n        scrollPane.setForeground(Color.blue);\r\n\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.gridy = 1;\r\n        c.weighty = 2.5;\r\n        firstPane.add(scrollPane, c);\r\n\r\n        JButton btnSubmit = new JButton(&quot;Submit&quot;);\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n        c.gridy = 2;\r\n        firstPane.add(btnSubmit, c);\r\n\r\n        // create table row select logic\r\n        tblSpool.getSelectionModel().addListSelectionListener(e -&gt; {\r\n            if (!e.getValueIsAdjusting() &amp;&amp; tblSpool.getSelectedRow() != -1) {\r\n                System.out.println(tblSpool.getValueAt(tblSpool.getSelectedRow(), 0).toString());\r\n            }\r\n        });\r\n\r\n        // create button click action\r\n        btnSubmit.addActionListener(e -&gt; {\r\n            System.out.println(&quot;clicked submit&quot;);\r\n\r\n            // Hide the current JPanel\r\n            firstPane.setVisible(false);\r\n\r\n            // Create a new JPanel for the message\r\n            JPanel panelSubmitMsg = new JPanel();\r\n            panelSubmitMsg.setLayout(new BorderLayout());\r\n\r\n            // Create a JLabel with the message\r\n            JLabel messageLabel = new JLabel(&quot;Beginning JOB monitor for the following JOB: {jobNameHere}&quot;);\r\n            messageLabel.setHorizontalAlignment(JLabel.CENTER);\r\n            panelSubmitMsg.add(messageLabel, BorderLayout.CENTER);\r\n\r\n            // Create a JButton to go back to the previous JPanel\r\n            JButton backButton = new JButton(&quot;Back&quot;);\r\n            backButton.addActionListener(backEvent -&gt; {\r\n                System.out.println(&quot;clicked the back button&quot;);\r\n\r\n                // Show the previous JPanel\r\n                firstPane.setVisible(true);\r\n\r\n                // Remove the messagePanel from the JFrame\r\n                this.getContentPane().remove(panelSubmitMsg);\r\n\r\n                // Repaint the JFrame to reflect the changes\r\n                this.revalidate();\r\n                this.repaint();\r\n            });\r\n            panelSubmitMsg.add(backButton, BorderLayout.SOUTH);\r\n\r\n            // Add the new JPanel to your existing JFrame\r\n            this.setContentPane(panelSubmitMsg);\r\n\r\n            // Repaint the JFrame to reflect the changes\r\n            this.revalidate();\r\n            this.repaint();\r\n\r\n            // Run your background process here\r\n        });\r\n\r\n\r\n\r\n        // ========================================\r\n        // create panel to use in credential dialog\r\n        // ========================================\r\n        JTextField userField = new JTextField(5);\r\n        JPasswordField passField = new JPasswordField(5);\r\n\r\n        JPanel myPanel = new JPanel(new GridBagLayout());\r\n        c = new GridBagConstraints();\r\n\r\n        c.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n        c.gridx = 0;\r\n        c.gridy = 0;\r\n        myPanel.add(new JLabel(&quot;Username:&quot;), c);\r\n\r\n        c.gridx = 1;\r\n        c.weightx = 0.2;\r\n        myPanel.add(Box.createHorizontalStrut(5), c);\r\n\r\n        c.gridx = 2;\r\n        c.weightx = 0.5;\r\n        myPanel.add(userField, c);\r\n\r\n        c.gridy = 1;\r\n        c.gridx = 0;\r\n        myPanel.add(new JLabel(&quot;password:&quot;), c);\r\n\r\n        c.gridx = 1;\r\n        c.weightx = 0.2;\r\n        myPanel.add(Box.createHorizontalStrut(5), c);\r\n\r\n        c.weightx = 0.5;\r\n        c.gridx = 2;\r\n        myPanel.add(passField, c);\r\n\r\n        int result = JOptionPane.showConfirmDialog(null, myPanel,\r\n                &quot;Enter username and password&quot;, JOptionPane.OK_CANCEL_OPTION);\r\n        if (result == JOptionPane.OK_OPTION) {\r\n            System.out.println(&quot;user input received&quot;);\r\n            lblUser.setText(&quot;Username:  &quot; + userField.getText());\r\n            AS400 as400 = new AS400(&quot;database name&quot;,userField.getText(),new String(passField.getPassword()));\r\n            updateSpoolTable(as400);\r\n            setVisible(true);\r\n        }\r\n\r\n    }\r\n\r\n    public AS400 getConnection() {\r\n        return as400;\r\n    }\r\n\r\n    /**\r\n     * Fetches current job information for the user in the given AS400 instance\r\n     * @param as400  the AS400 instance to be used to grab job information\r\n     */\r\n    private void updateSpoolTable(AS400 as400) throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\r\n        // Create list of all jobs on server\r\n        JobList jList = new JobList(as400);\r\n        System.out.println(&quot;Created list of all jobs on system&quot;);\r\n\r\n\r\n        // Filter job list to current user only\r\n        jList.addJobSelectionCriteria(JobList.SELECTION_USER_NAME, JobList.SELECTION_USER_NAME_CURRENT); // Filter job list to active user\r\n        jList.addJobSelectionCriteria(JobList.SELECTION_PRIMARY_JOB_STATUS_OUTQ, false); // Filter job list to active only\r\n        System.out.println(&quot;Job list filtered to current user&quot;);\r\n\r\n\r\n        // Create enumeration of job list\r\n        Enumeration jobs = jList.getJobs();\r\n\r\n        // Iterate through job list enumeration to print the status of each job\r\n        System.out.println(&quot;Beginning iteration through user jobs&quot;);\r\n\r\n        // Get username\r\n        String userName = as400.getUserId();\r\n\r\n        // Create array of values (will be used to populate the dialogue window)\r\n        java.util.List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n        List&lt;String[]&gt; values = new ArrayList&lt;&gt;();\r\n\r\n        // Add values to array\r\n        columns.add(&quot;Job Name&quot;);\r\n        columns.add(&quot;Job Number&quot;);\r\n        columns.add(&quot;Start Date&quot;);\r\n\r\n        if (jobs.hasMoreElements()) {\r\n            while (jobs.hasMoreElements()) {\r\n                Job job = (Job) jobs.nextElement(); // Advance the enumeration forward\r\n                String jName = job.getName(); // Get job name\r\n                String jNum = job.getNumber(); // Get job number\r\n                Date jDate = job.getDate(); // Get date\r\n                values.add(new String[]{jName, jNum, jDate.toString()});\r\n            }\r\n        } else {\r\n            messageBox(&quot;User \\&quot;&quot; + userName + &quot;\\&quot; does not have any active jobs.&quot;);\r\n            System.out.println(&quot;class \\&quot;messageBox\\&quot; is complete&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        //print contents of horizon job array list to console\r\n        for (String[] arr : values) {\r\n            System.out.println(Arrays.toString(arr));\r\n        }\r\n\r\n        System.out.println(&quot;Iteration complete&quot;);\r\n\r\n        // Create a dataset. Will be added to table in next step\r\n        TableModel tableModel = new DefaultTableModel(values.toArray(new Object[][]{}), columns.toArray());\r\n\r\n        // Populate swing table with dataset\r\n        tblSpool.setModel(tableModel);\r\n\r\n        pack();\r\n    }\r\n\r\n    public void messageBox (String message){\r\n        String html = &quot;&lt;html&gt;&lt;body style=&#39;width: %1spx&#39;&gt;%1s&quot;;\r\n\r\n        JOptionPane.showMessageDialog(\r\n                null, String.format(html, 300, message));\r\n\r\n        System.out.println(&quot;User clicked \\&quot;OK\\&quot;&quot;);\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\r\n        new TEST_GUI();\r\n    }\r\n}\r\n```","title":"Java Swing App - Trouble Navigating to Previous &quot;screen/view&quot;","body":"<p>I am creating a simple app that interfaces with an AS400 database using JT400 library and swing components for the GUI. The goal is to list active jobs of AS400 user so user can click one to get a notification about it's status changes.</p>\n<p>The basic flow is this:</p>\n<ol>\n<li>Input dialogue appears asking for username and password - click submit to sign in</li>\n<li>Dialogue goes away and Jframe (main screen) appears with a Jtable and Jbutton</li>\n<li>Select a row from table and click button to go to new screen</li>\n<li>New screen displays a message and a back button</li>\n<li>Clicking the back button takes you back to the main screen with the table and submit button</li>\n<li>Repeat steps 3-5 until you exit the application</li>\n</ol>\n<p>I can get all the way to step 4 but cannot get the &quot;back&quot; button to revert the Jframe to its previous state displaying the Jtable and button on the &quot;main&quot; screen.</p>\n<p>My code is below. There are a couple of button event listeners in &quot;public TEST_GUI()&quot; which are supposed to handle the screen changes. I think the issue is in one of these listeners.</p>\n<pre><code>package com.lprice.mvc;\n\nimport com.ibm.as400.access.*;\n\nimport javax.swing.*;\nimport java.awt.*;\n\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableModel;\nimport java.beans.PropertyVetoException;\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.List;\n\npublic class TEST_GUI extends JFrame {\n    final static boolean shouldFill = true;\n    final static boolean shouldWeightX = true;\n    final static boolean RIGHT_TO_LEFT = false;\n\n    private JLabel lblUser;\n    private JLabel lblPass;\n    private JTable tblSpool;\n    private AS400 as400;\n\n\n    public TEST_GUI() throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\n        // set up Jframe\n        super(&quot;Example&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(300, 200);\n        setLocationRelativeTo(null);\n\n        // create JPanel to use as main screen\n        Container firstPane = this.getContentPane();\n        firstPane.setLayout(new GridBagLayout());\n        GridBagConstraints c = new GridBagConstraints();\n        if (shouldFill) {\n            //natural height, maximum width\n            c.fill = GridBagConstraints.HORIZONTAL;\n        }\n        if (RIGHT_TO_LEFT) {\n            firstPane.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n        }\n\n        lblUser = new JLabel(&quot;Username:&quot;);\n        if (shouldWeightX) {\n            c.weightx = 0.5;\n        }\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.gridx = 0;\n        c.gridy = 0;\n        firstPane.add(lblUser, c);\n\n        tblSpool = new JTable();\n        JScrollPane scrollPane = new JScrollPane(tblSpool);\n        scrollPane.setForeground(Color.blue);\n\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.gridy = 1;\n        c.weighty = 2.5;\n        firstPane.add(scrollPane, c);\n\n        JButton btnSubmit = new JButton(&quot;Submit&quot;);\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.gridy = 2;\n        firstPane.add(btnSubmit, c);\n\n        // create table row select logic\n        tblSpool.getSelectionModel().addListSelectionListener(e -&gt; {\n            if (!e.getValueIsAdjusting() &amp;&amp; tblSpool.getSelectedRow() != -1) {\n                System.out.println(tblSpool.getValueAt(tblSpool.getSelectedRow(), 0).toString());\n            }\n        });\n\n        // create button click action\n        btnSubmit.addActionListener(e -&gt; {\n            System.out.println(&quot;clicked submit&quot;);\n\n            // Hide the current JPanel\n            firstPane.setVisible(false);\n\n            // Create a new JPanel for the message\n            JPanel panelSubmitMsg = new JPanel();\n            panelSubmitMsg.setLayout(new BorderLayout());\n\n            // Create a JLabel with the message\n            JLabel messageLabel = new JLabel(&quot;Beginning JOB monitor for the following JOB: {jobNameHere}&quot;);\n            messageLabel.setHorizontalAlignment(JLabel.CENTER);\n            panelSubmitMsg.add(messageLabel, BorderLayout.CENTER);\n\n            // Create a JButton to go back to the previous JPanel\n            JButton backButton = new JButton(&quot;Back&quot;);\n            backButton.addActionListener(backEvent -&gt; {\n                System.out.println(&quot;clicked the back button&quot;);\n\n                // Show the previous JPanel\n                firstPane.setVisible(true);\n\n                // Remove the messagePanel from the JFrame\n                this.getContentPane().remove(panelSubmitMsg);\n\n                // Repaint the JFrame to reflect the changes\n                this.revalidate();\n                this.repaint();\n            });\n            panelSubmitMsg.add(backButton, BorderLayout.SOUTH);\n\n            // Add the new JPanel to your existing JFrame\n            this.setContentPane(panelSubmitMsg);\n\n            // Repaint the JFrame to reflect the changes\n            this.revalidate();\n            this.repaint();\n\n            // Run your background process here\n        });\n\n\n\n        // ========================================\n        // create panel to use in credential dialog\n        // ========================================\n        JTextField userField = new JTextField(5);\n        JPasswordField passField = new JPasswordField(5);\n\n        JPanel myPanel = new JPanel(new GridBagLayout());\n        c = new GridBagConstraints();\n\n        c.fill = GridBagConstraints.HORIZONTAL;\n\n        c.gridx = 0;\n        c.gridy = 0;\n        myPanel.add(new JLabel(&quot;Username:&quot;), c);\n\n        c.gridx = 1;\n        c.weightx = 0.2;\n        myPanel.add(Box.createHorizontalStrut(5), c);\n\n        c.gridx = 2;\n        c.weightx = 0.5;\n        myPanel.add(userField, c);\n\n        c.gridy = 1;\n        c.gridx = 0;\n        myPanel.add(new JLabel(&quot;password:&quot;), c);\n\n        c.gridx = 1;\n        c.weightx = 0.2;\n        myPanel.add(Box.createHorizontalStrut(5), c);\n\n        c.weightx = 0.5;\n        c.gridx = 2;\n        myPanel.add(passField, c);\n\n        int result = JOptionPane.showConfirmDialog(null, myPanel,\n                &quot;Enter username and password&quot;, JOptionPane.OK_CANCEL_OPTION);\n        if (result == JOptionPane.OK_OPTION) {\n            System.out.println(&quot;user input received&quot;);\n            lblUser.setText(&quot;Username:  &quot; + userField.getText());\n            AS400 as400 = new AS400(&quot;database name&quot;,userField.getText(),new String(passField.getPassword()));\n            updateSpoolTable(as400);\n            setVisible(true);\n        }\n\n    }\n\n    public AS400 getConnection() {\n        return as400;\n    }\n\n    /**\n     * Fetches current job information for the user in the given AS400 instance\n     * @param as400  the AS400 instance to be used to grab job information\n     */\n    private void updateSpoolTable(AS400 as400) throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\n        // Create list of all jobs on server\n        JobList jList = new JobList(as400);\n        System.out.println(&quot;Created list of all jobs on system&quot;);\n\n\n        // Filter job list to current user only\n        jList.addJobSelectionCriteria(JobList.SELECTION_USER_NAME, JobList.SELECTION_USER_NAME_CURRENT); // Filter job list to active user\n        jList.addJobSelectionCriteria(JobList.SELECTION_PRIMARY_JOB_STATUS_OUTQ, false); // Filter job list to active only\n        System.out.println(&quot;Job list filtered to current user&quot;);\n\n\n        // Create enumeration of job list\n        Enumeration jobs = jList.getJobs();\n\n        // Iterate through job list enumeration to print the status of each job\n        System.out.println(&quot;Beginning iteration through user jobs&quot;);\n\n        // Get username\n        String userName = as400.getUserId();\n\n        // Create array of values (will be used to populate the dialogue window)\n        java.util.List&lt;String&gt; columns = new ArrayList&lt;&gt;();\n        List&lt;String[]&gt; values = new ArrayList&lt;&gt;();\n\n        // Add values to array\n        columns.add(&quot;Job Name&quot;);\n        columns.add(&quot;Job Number&quot;);\n        columns.add(&quot;Start Date&quot;);\n\n        if (jobs.hasMoreElements()) {\n            while (jobs.hasMoreElements()) {\n                Job job = (Job) jobs.nextElement(); // Advance the enumeration forward\n                String jName = job.getName(); // Get job name\n                String jNum = job.getNumber(); // Get job number\n                Date jDate = job.getDate(); // Get date\n                values.add(new String[]{jName, jNum, jDate.toString()});\n            }\n        } else {\n            messageBox(&quot;User \\&quot;&quot; + userName + &quot;\\&quot; does not have any active jobs.&quot;);\n            System.out.println(&quot;class \\&quot;messageBox\\&quot; is complete&quot;);\n            System.exit(1);\n        }\n\n        //print contents of horizon job array list to console\n        for (String[] arr : values) {\n            System.out.println(Arrays.toString(arr));\n        }\n\n        System.out.println(&quot;Iteration complete&quot;);\n\n        // Create a dataset. Will be added to table in next step\n        TableModel tableModel = new DefaultTableModel(values.toArray(new Object[][]{}), columns.toArray());\n\n        // Populate swing table with dataset\n        tblSpool.setModel(tableModel);\n\n        pack();\n    }\n\n    public void messageBox (String message){\n        String html = &quot;&lt;html&gt;&lt;body style='width: %1spx'&gt;%1s&quot;;\n\n        JOptionPane.showMessageDialog(\n                null, String.format(html, 300, message));\n\n        System.out.println(&quot;User clicked \\&quot;OK\\&quot;&quot;);\n\n\n    }\n\n    public static void main(String[] args) throws PropertyVetoException, AS400SecurityException, ObjectDoesNotExistException, IOException, InterruptedException, ErrorCompletingRequestException {\n        new TEST_GUI();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","garbage-collection"],"comments":[{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1304577826,"post_id":5893591,"comment_id":6780950,"body_markdown":"That doesn&#39;t sound like a lot of memory. There&#39;s a problem somewhere else besides those vectors.","body":"That doesn&#39;t sound like a lot of memory. There&#39;s a problem somewhere else besides those vectors."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1304578095,"post_id":5893591,"comment_id":6781017,"body_markdown":"I don&#39;t think anyone can offer a useful answer without looking at the code ... or at least the data structures.","body":"I don&#39;t think anyone can offer a useful answer without looking at the code ... or at least the data structures."},{"owner":{"account_id":347222,"reputation":1147,"user_id":681197,"accept_rate":100,"display_name":"Henrik"},"score":0,"creation_date":1304578108,"post_id":5893591,"comment_id":6781019,"body_markdown":"Allright, I will post some code from the class. Maybe there&#39;s something really stupid i&#39;ve made. Never really cared for memory allocation.","body":"Allright, I will post some code from the class. Maybe there&#39;s something really stupid i&#39;ve made. Never really cared for memory allocation."},{"owner":{"account_id":69303,"reputation":74244,"user_id":201725,"accept_rate":72,"display_name":"Jan Hudec"},"score":0,"creation_date":1304579014,"post_id":5893591,"comment_id":6781206,"body_markdown":"99.9% garbage collection is not your problem, because it simply can&#39;t cause that kind of problem. It can only slow down your program, but not cause it to malfunction (except if you use up all available memory, but that would cause the process to suddenly terminate, not return incomplete result).","body":"99.9% garbage collection is not your problem, because it simply can&#39;t cause that kind of problem. It can only slow down your program, but not cause it to malfunction (except if you use up all available memory, but that would cause the process to suddenly terminate, not return incomplete result)."},{"owner":{"account_id":308110,"reputation":1740,"user_id":619789,"accept_rate":80,"display_name":"Danilo Tommasina"},"score":0,"creation_date":1304579330,"post_id":5893591,"comment_id":6781291,"body_markdown":"mmmh, are you closing the streams after using them?","body":"mmmh, are you closing the streams after using them?"},{"owner":{"account_id":347222,"reputation":1147,"user_id":681197,"accept_rate":100,"display_name":"Henrik"},"score":0,"creation_date":1304579607,"post_id":5893591,"comment_id":6781346,"body_markdown":"I never get to closing it because it never finished the while loop. After about 80-90 % i get that in my LogCat and the debugger moves on to what comes after the instance of this class.","body":"I never get to closing it because it never finished the while loop. After about 80-90 % i get that in my LogCat and the debugger moves on to what comes after the instance of this class."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304579409,"creation_date":1304579409,"answer_id":5893939,"question_id":5893591,"body_markdown":"I can see one systematic mistake that you are making, though I don&#39;t know if it is the cause of your problems.\r\n\r\nFor example:\r\n\r\n    String[] tokens = line.split(&quot;[ ]+&quot;);\r\n    int c = tokens.length;\r\n    for (int i = 1; i &lt; c; i++)\r\n    {\r\n        _vn.add(Float.valueOf(tokens[i]));\r\n    }\r\n\r\nIn Java, array indexes start at zero, and go up to `array.length - 1`.  Your code seems to be skipping the zeroth token, here and in other places.  And in `processFLine` where you use `tokens[1]` to chose between different formats, you could get an `ArrayIndexOutOfBoundsException` as a result.","title":"Problem with Garbage Collection","body":"<p>I can see one systematic mistake that you are making, though I don't know if it is the cause of your problems.</p>\n\n<p>For example:</p>\n\n<pre><code>String[] tokens = line.split(\"[ ]+\");\nint c = tokens.length;\nfor (int i = 1; i &lt; c; i++)\n{\n    _vn.add(Float.valueOf(tokens[i]));\n}\n</code></pre>\n\n<p>In Java, array indexes start at zero, and go up to <code>array.length - 1</code>.  Your code seems to be skipping the zeroth token, here and in other places.  And in <code>processFLine</code> where you use <code>tokens[1]</code> to chose between different formats, you could get an <code>ArrayIndexOutOfBoundsException</code> as a result.</p>\n"},{"tags":[],"owner":{"account_id":347222,"reputation":1147,"user_id":681197,"accept_rate":100,"display_name":"Henrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698848184,"creation_date":1304611684,"answer_id":5900875,"question_id":5893591,"body_markdown":"As you all said, it wasn&#39;t the garbage collectors fault. It was the LogCat&#39;s fault. And not the fact that it printed out those line about the garbage collecting, it&#39;s about the fact that it didn&#39;t print out my Log.i(tag, string) that I used when the loop was finished. (During the loop I used Log.v(). So it did in fact not give me incomplete result, I just wasn&#39;t able to see the full result or that it actually finished.","title":"Problem with Garbage Collection","body":"<p>As you all said, it wasn't the garbage collectors fault. It was the LogCat's fault. And not the fact that it printed out those line about the garbage collecting, it's about the fact that it didn't print out my Log.i(tag, string) that I used when the loop was finished. (During the loop I used Log.v(). So it did in fact not give me incomplete result, I just wasn't able to see the full result or that it actually finished.</p>\n"}],"owner":{"account_id":347222,"reputation":1147,"user_id":681197,"accept_rate":100,"display_name":"Henrik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5900875,"answer_count":2,"score":1,"last_activity_date":1698848184,"creation_date":1304577355,"question_id":5893591,"body_markdown":"Iv&#39;e coded a ObjectLoader that takes a .obj file and it gives me what i want.\r\nMy problem is that when handling big files(not even that big, about 80kb) i eventually\r\nend up with not getting all information because it stops reading after a while.\r\n\r\nI get this in my LogCat before im done and debuger simply moves on to next method:\r\n\r\n&gt;  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 2076 objects / 124280 bytes in 50ms  \r\nDEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 4 objects / 232 bytes in 52ms  \r\nDEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 142 objects / 46728 bytes in 49ms  \r\nDEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 0 objects / 0 bytes in 53ms\r\nDEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 533 objects / 63504 bytes in 39ms  \r\nDEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 4 objects / 216 bytes in 50ms  \r\nDEBUG/dalvikvm(25743): GC_EXTERNAL_ALLOC freed 132 objects / 26768 bytes in 40ms  \r\n\r\nIn other words, alot of Garbage Collection i guess. Is it simply because i allocate to much memory in my code? And if so, is there any basics I need to read into or do you have any other suggestions? I&#39;m using 4 Vectors each ending up holding about 2K-3K objects.\r\nEdit: There&#39;s acctually 7 vectors, 3 extra for carrying indexes, but still i don&#39;t think it&#39;s that much.\r\n\r\n    \tprivate void readObj(InputStreamReader in) throws IOException\r\n\t{\r\n\t\tBufferedReader reader = null;\r\n\t\tString line = null;\r\n\r\n\t\treader = new BufferedReader(in);\r\n\r\n\t\twhile ((line = reader.readLine()) != null)\r\n\t\t{\r\n\t\t\tLog.v(TAG, line);\r\n\t\t\tif (line.startsWith(&quot;f&quot;))\r\n\t\t\t{\r\n\t\t\t\tfaces++;\r\n\t\t\t\tprocessFLine(line);\r\n\t\t\t} else if (line.startsWith(&quot;vn&quot;))\r\n\t\t\t{\r\n\t\t\t\tnormals++;\r\n\t\t\t\tprocessVNLine(line);\r\n\t\t\t} else if (line.startsWith(&quot;vt&quot;))\r\n\t\t\t{\r\n\t\t\t\tUVCoords++;\r\n\t\t\t\tprocessVTLine(line);\r\n\t\t\t} else if (line.startsWith(&quot;v&quot;))\r\n\t\t\t{\r\n\t\t\t\tvertices++;\r\n\t\t\t\tprocessVLine(line);\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\n\tprivate void processVNLine(String line)\r\n\t{\r\n\t\tString[] tokens = line.split(&quot;[ ]+&quot;);\r\n\t\tint c = tokens.length;\r\n\t\tfor (int i = 1; i &lt; c; i++)\r\n\t\t{\r\n\t\t\t_vn.add(Float.valueOf(tokens[i]));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void processFLine(String line)\r\n\t{\r\n\t\tString[] tokens = line.split(&quot;[ ]+&quot;);\r\n\t\tint c = tokens.length;\r\n\r\n\t\tif (tokens[1].matches(&quot;[0-9]+&quot;))\r\n\t\t{\r\n\t\t\tcaseFEqOne(tokens, c);\r\n\t\t}\r\n\t\tif (tokens[1].matches(&quot;[0-9]+/[0-9]+&quot;))\r\n\t\t{\r\n\t\t\tcaseFEqTwo(tokens, c);\r\n\t\t}\r\n\t\tif (tokens[1].matches(&quot;[0-9]+//[0-9]+&quot;))\r\n\t\t{\r\n\t\t\tcaseFEqOneAndThree(tokens, c);\r\n\t\t}\r\n\t\tif (tokens[1].matches(&quot;[0-9]+/[0-9]+/[0-9]+&quot;))\r\n\t\t{\r\n\t\t\tcaseFEqThree(tokens, c);\r\n\t\t}\r\n}\r\n\r\n\tprivate void caseFEqThree(String[] tokens, int c)\r\n\t{\r\n\t\tfor (int i = 1; i &lt; c; i++)\r\n\t\t{\r\n\t\t\tShort s = Short.valueOf(tokens[i].split(&quot;/&quot;)[0]);\r\n\t\t\ts--;\r\n\t\t\t_vPointer.add(s);\r\n\r\n\t\t\ts = Short.valueOf(tokens[i].split(&quot;/&quot;)[1]);\r\n\t\t\ts--;\r\n\t\t\t_vtPointer.add(s);\r\n\r\n\t\t\ts = Short.valueOf(tokens[i].split(&quot;/&quot;)[2]);\r\n\t\t\ts--;\r\n\t\t\t_vnPointer.add(s);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n","title":"Problem with Garbage Collection","body":"<p>Iv'e coded a ObjectLoader that takes a .obj file and it gives me what i want.\nMy problem is that when handling big files(not even that big, about 80kb) i eventually\nend up with not getting all information because it stops reading after a while.</p>\n\n<p>I get this in my LogCat before im done and debuger simply moves on to next method:</p>\n\n<blockquote>\n  <p>DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 2076 objects / 124280 bytes in 50ms<br>\n  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 4 objects / 232 bytes in 52ms<br>\n  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 142 objects / 46728 bytes in 49ms<br>\n  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 0 objects / 0 bytes in 53ms\n  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 533 objects / 63504 bytes in 39ms<br>\n  DEBUG/dalvikvm(25743): GC_FOR_MALLOC freed 4 objects / 216 bytes in 50ms<br>\n  DEBUG/dalvikvm(25743): GC_EXTERNAL_ALLOC freed 132 objects / 26768 bytes in 40ms  </p>\n</blockquote>\n\n<p>In other words, alot of Garbage Collection i guess. Is it simply because i allocate to much memory in my code? And if so, is there any basics I need to read into or do you have any other suggestions? I'm using 4 Vectors each ending up holding about 2K-3K objects.\nEdit: There's acctually 7 vectors, 3 extra for carrying indexes, but still i don't think it's that much.</p>\n\n<pre><code>    private void readObj(InputStreamReader in) throws IOException\n{\n    BufferedReader reader = null;\n    String line = null;\n\n    reader = new BufferedReader(in);\n\n    while ((line = reader.readLine()) != null)\n    {\n        Log.v(TAG, line);\n        if (line.startsWith(\"f\"))\n        {\n            faces++;\n            processFLine(line);\n        } else if (line.startsWith(\"vn\"))\n        {\n            normals++;\n            processVNLine(line);\n        } else if (line.startsWith(\"vt\"))\n        {\n            UVCoords++;\n            processVTLine(line);\n        } else if (line.startsWith(\"v\"))\n        {\n            vertices++;\n            processVLine(line);\n        }\n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>private void processVNLine(String line)\n{\n    String[] tokens = line.split(\"[ ]+\");\n    int c = tokens.length;\n    for (int i = 1; i &lt; c; i++)\n    {\n        _vn.add(Float.valueOf(tokens[i]));\n    }\n}\n\nprivate void processFLine(String line)\n{\n    String[] tokens = line.split(\"[ ]+\");\n    int c = tokens.length;\n\n    if (tokens[1].matches(\"[0-9]+\"))\n    {\n        caseFEqOne(tokens, c);\n    }\n    if (tokens[1].matches(\"[0-9]+/[0-9]+\"))\n    {\n        caseFEqTwo(tokens, c);\n    }\n    if (tokens[1].matches(\"[0-9]+//[0-9]+\"))\n    {\n        caseFEqOneAndThree(tokens, c);\n    }\n    if (tokens[1].matches(\"[0-9]+/[0-9]+/[0-9]+\"))\n    {\n        caseFEqThree(tokens, c);\n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>private void caseFEqThree(String[] tokens, int c)\n{\n    for (int i = 1; i &lt; c; i++)\n    {\n        Short s = Short.valueOf(tokens[i].split(\"/\")[0]);\n        s--;\n        _vPointer.add(s);\n\n        s = Short.valueOf(tokens[i].split(\"/\")[1]);\n        s--;\n        _vtPointer.add(s);\n\n        s = Short.valueOf(tokens[i].split(\"/\")[2]);\n        s--;\n        _vnPointer.add(s);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","scala"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612564,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1698780271,"creation_date":1698779917,"answer_id":77398570,"question_id":77398509,"body_markdown":"You need to use [`findAllIn`][1] with a regex like `#\\w+`:\r\n```scala\r\nval regex = &quot;&quot;&quot;#\\w+&quot;&quot;&quot;.r\r\nval text = &quot;#shouldMatch1 #shouldMatch2 notMatch nope#shouldMatch3 nooope()#shouldMatch4&quot;\r\nprintln(regex.findAllIn(text).toList)\r\n```\r\nSee the [Scala demo][2].\r\n\r\nThe hashtag matching pattern can be different, there are a lot of variations. Here are some of them:\r\n\r\n - `#\\w+` - if the hashtags can contain only word chars\r\n - `#[\\w-]+` - if the hashtags can contain only word and hyphen chars\r\n - `#\\S+` - if the hashtags contain any amount of one or more non-whitespace chars after `#`\r\n - `#\\S+\\b` - if the hashtags contain any amount of one or more non-whitespace chars after `#` but you want it to stop before the final sequence of non-word chars (like a comma, etc)\r\n - `(?&lt;!\\S)#\\S+` - if the hashtags contain any amount of one or more non-whitespace chars after `#`, but before `#`, there can only be whitespace or start of string.\r\n\r\n  [1]: https://www.scala-lang.org/api/2.13.4/scala/util/matching/Regex.html#findAllIn(source:CharSequence):scala.util.matching.Regex.MatchIterator\r\n  [2]: https://ideone.com/BZ0UIu","title":"Find words starting with hashtag in Scala/Java","body":"<p>You need to use <a href=\"https://www.scala-lang.org/api/2.13.4/scala/util/matching/Regex.html#findAllIn(source:CharSequence):scala.util.matching.Regex.MatchIterator\" rel=\"noreferrer\"><code>findAllIn</code></a> with a regex like <code>#\\w+</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val regex = &quot;&quot;&quot;#\\w+&quot;&quot;&quot;.r\nval text = &quot;#shouldMatch1 #shouldMatch2 notMatch nope#shouldMatch3 nooope()#shouldMatch4&quot;\nprintln(regex.findAllIn(text).toList)\n</code></pre>\n<p>See the <a href=\"https://ideone.com/BZ0UIu\" rel=\"noreferrer\">Scala demo</a>.</p>\n<p>The hashtag matching pattern can be different, there are a lot of variations. Here are some of them:</p>\n<ul>\n<li><code>#\\w+</code> - if the hashtags can contain only word chars</li>\n<li><code>#[\\w-]+</code> - if the hashtags can contain only word and hyphen chars</li>\n<li><code>#\\S+</code> - if the hashtags contain any amount of one or more non-whitespace chars after <code>#</code></li>\n<li><code>#\\S+\\b</code> - if the hashtags contain any amount of one or more non-whitespace chars after <code>#</code> but you want it to stop before the final sequence of non-word chars (like a comma, etc)</li>\n<li><code>(?&lt;!\\S)#\\S+</code> - if the hashtags contain any amount of one or more non-whitespace chars after <code>#</code>, but before <code>#</code>, there can only be whitespace or start of string.</li>\n</ul>\n"}],"owner":{"account_id":4039834,"reputation":390,"user_id":3323033,"accept_rate":17,"display_name":"Hejwo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77398570,"answer_count":1,"score":0,"last_activity_date":1698847618,"creation_date":1698779230,"question_id":77398509,"body_markdown":"I&#39;m trying to write regex that will split all words starting with hashtag.   \r\nFor example in following text it should :  \r\n```scala\r\nval regex = &quot;???&quot;.r\r\n\r\nval text = &quot;#shouldMatch1 #shouldMatch2 notMatch nope#shouldMatch3 nooope()#shouldMatch4&quot;\r\n\r\nregex.split(text).toList shouldBe List(&quot;#shouldMatch1&quot;, &quot;#shouldMatch2&quot;, &quot;#shouldMatch3&quot;, &quot;#shouldMatch4&quot;)\r\n```\r\nThe closes that I could get is `val regex:  Regex = &quot;[^#\\\\w+]&quot;.r`, but it splits a litte bit more:\r\n```\r\nList(&quot;#shouldMatch1&quot;, &quot;#shouldMatch2&quot;, &quot;notMatch&quot;, &quot;nope#shouldMatch3&quot;, &quot;nooope&quot;, &quot;#shouldMatch4&quot;)\r\n```\r\n\r\nSo in some cases it finds words that do not start with hashtag.\r\nDo you have any idea or guidance how I should write proper expression?  \r\n\r\nCode was written in Scala but should the similar in Java.","title":"Find words starting with hashtag in Scala/Java","body":"<p>I'm trying to write regex that will split all words starting with hashtag.<br />\nFor example in following text it should :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val regex = &quot;???&quot;.r\n\nval text = &quot;#shouldMatch1 #shouldMatch2 notMatch nope#shouldMatch3 nooope()#shouldMatch4&quot;\n\nregex.split(text).toList shouldBe List(&quot;#shouldMatch1&quot;, &quot;#shouldMatch2&quot;, &quot;#shouldMatch3&quot;, &quot;#shouldMatch4&quot;)\n</code></pre>\n<p>The closes that I could get is <code>val regex:  Regex = &quot;[^#\\\\w+]&quot;.r</code>, but it splits a litte bit more:</p>\n<pre><code>List(&quot;#shouldMatch1&quot;, &quot;#shouldMatch2&quot;, &quot;notMatch&quot;, &quot;nope#shouldMatch3&quot;, &quot;nooope&quot;, &quot;#shouldMatch4&quot;)\n</code></pre>\n<p>So in some cases it finds words that do not start with hashtag.\nDo you have any idea or guidance how I should write proper expression?</p>\n<p>Code was written in Scala but should the similar in Java.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"score":0,"creation_date":1698636931,"post_id":77385777,"comment_id":136426232,"body_markdown":"It would be helpful to see your Controller code but keep in mind @ManyToMany has a default fetch type of Lazy. Assuming you actually have data in the task table that also gets inserted to the task_employee join table you would either need to trigger the fetch by explicitly invoking the employee.getTasks() method or change your Fetch Type to FetchType.EAGER.","body":"It would be helpful to see your Controller code but keep in mind @ManyToMany has a default fetch type of Lazy. Assuming you actually have data in the task table that also gets inserted to the task_employee join table you would either need to trigger the fetch by explicitly invoking the employee.getTasks() method or change your Fetch Type to FetchType.EAGER."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698656045,"creation_date":1698656045,"answer_id":77387290,"question_id":77385777,"body_markdown":"IF you want to fetch `Employee` with all associated `Task` entity. You should create a Custom query something like this in `Employee Repository`.\r\n\r\n      @Query(&quot;&quot;&quot;\r\n        SELECT employe FROM EmployeeEntity  employe\r\n        JOIN FETCH employe.tasks &quot;&quot;&quot;)\r\n      List&lt;Employee&gt; getAllEmployersWithWithTasks();\r\n\r\nAnd also in `Task Entity` add one more annotation on `private List&lt;EmployeeEntity&gt; employees;` field.\r\n\r\nSomething like this:\r\n\r\n\r\n      @ManyToMany(mappedBy = &quot;tasks&quot;)\r\n      @JsonIgnore\r\n      private List&lt;Employee&gt; employees;\r\n\r\n`@JsonIgnore` is used to eliminate `circular reference` in `JSON Serialization` or you can use [DTO projection][1] if you dont want to use `@JsonIgnore`.\r\n\r\nAnd that is all. The wanted result will look something like this(in Postman):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/spring-jpa-dto-projection/\r\n  [2]: https://i.stack.imgur.com/pqgKd.png","title":"How to fix the relation between the Employee entity and Task entity to appear in the postman?","body":"<p>IF you want to fetch <code>Employee</code> with all associated <code>Task</code> entity. You should create a Custom query something like this in <code>Employee Repository</code>.</p>\n<pre><code>  @Query(&quot;&quot;&quot;\n    SELECT employe FROM EmployeeEntity  employe\n    JOIN FETCH employe.tasks &quot;&quot;&quot;)\n  List&lt;Employee&gt; getAllEmployersWithWithTasks();\n</code></pre>\n<p>And also in <code>Task Entity</code> add one more annotation on <code>private List&lt;EmployeeEntity&gt; employees;</code> field.</p>\n<p>Something like this:</p>\n<pre><code>  @ManyToMany(mappedBy = &quot;tasks&quot;)\n  @JsonIgnore\n  private List&lt;Employee&gt; employees;\n</code></pre>\n<p><code>@JsonIgnore</code> is used to eliminate <code>circular reference</code> in <code>JSON Serialization</code> or you can use <a href=\"https://vladmihalcea.com/spring-jpa-dto-projection/\" rel=\"nofollow noreferrer\">DTO projection</a> if you dont want to use <code>@JsonIgnore</code>.</p>\n<p>And that is all. The wanted result will look something like this(in Postman):</p>\n<p><a href=\"https://i.stack.imgur.com/pqgKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqgKd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26998458,"reputation":36,"user_id":20560140,"display_name":"JeslynTan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698847428,"creation_date":1698847428,"answer_id":77403219,"question_id":77385777,"body_markdown":"The default fetch type for many to many relation will be like `fetch = FetchType.LAZY`\r\n\r\nYou may try this query\r\n\r\n    @Query(value = &quot;SELECT t FROM Task t &quot;\r\n        + &quot;JOIN FETCH t.employees te &quot;\r\n        + &quot;WHERE te.id = :employeeId&quot;)\r\n    List&lt;Task&gt; findTasksByEmployeeId(@Param(&quot;employeeId&quot;) Integer employeeId);\r\n\r\nto query the related tasks for this specific employee using employee&#39;s id\r\n\r\nand set it back to the `List&lt;Task&gt; tasks` in the employee object when returning it","title":"How to fix the relation between the Employee entity and Task entity to appear in the postman?","body":"<p>The default fetch type for many to many relation will be like <code>fetch = FetchType.LAZY</code></p>\n<p>You may try this query</p>\n<pre><code>@Query(value = &quot;SELECT t FROM Task t &quot;\n    + &quot;JOIN FETCH t.employees te &quot;\n    + &quot;WHERE te.id = :employeeId&quot;)\nList&lt;Task&gt; findTasksByEmployeeId(@Param(&quot;employeeId&quot;) Integer employeeId);\n</code></pre>\n<p>to query the related tasks for this specific employee using employee's id</p>\n<p>and set it back to the <code>List&lt;Task&gt; tasks</code> in the employee object when returning it</p>\n"}],"owner":{"account_id":29782438,"reputation":1,"user_id":22824607,"display_name":"joy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698847428,"creation_date":1698628162,"question_id":77385777,"body_markdown":"\r\nI have a relation between Employee entity and Task entity but it does not appear when I insert the data in the repository, or when I Get it in Postman I think the problem is with the relation. \r\n\r\nThe relation between them is: one employee have at least one task.\r\n\r\nThis is **Employee Entity:** \r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @NotEmpty(message = &quot;Please enter the employee name!&quot;)\r\n    private String employeeName;\r\n\r\n    private Integer employeeNumber;\r\n\r\n    @Embedded\r\n    private Address address;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;task_employee&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;employee_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;task_id&quot;)\r\n    )\r\n    private List&lt;Task&gt; tasks;\r\n\r\n    public Employee(String employeeName, Integer employeeNumber, Address address) {\r\n        this.employeeName = employeeName;\r\n        this.employeeNumber = employeeNumber;\r\n        this.address = address;\r\n\r\n    }\r\n\r\n    public Employee() {\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmployeeName() {\r\n        return employeeName;\r\n    }\r\n\r\n    public void setEmployeeName(String employeeName) {\r\n        this.employeeName = employeeName;\r\n    }\r\n\r\n    public Integer getEmployeeNumber() {\r\n        return employeeNumber;\r\n    }\r\n\r\n    public void setEmployeeNumber(Integer employeeNumber) {\r\n        this.employeeNumber = employeeNumber;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public List&lt;Task&gt; getTasks() {\r\n        return tasks;\r\n    }\r\n\r\n    public void setTasks(List&lt;Task&gt; tasks) {\r\n        this.tasks = tasks;\r\n    }\r\n}\r\n```\r\n\r\n**Task Entity:**\r\n\r\n```\r\n@Entity\r\npublic class Task {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer taskId;\r\n\r\n    @NotEmpty(message = &quot; Please Enter the Task name!&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;tasks&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    public Task() {\r\n    }\r\n    public Task(String name) {\r\n        this.name = name;\r\n        employees = new ArrayList&lt;&gt;();\r\n    }\r\n    public Integer getTaskId() {\r\n        return taskId;\r\n    }\r\n    public void setTaskId(Integer taskId) {\r\n        this.taskId = taskId;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public List&lt;Employee&gt; getEmployees() {\r\n        return employees;\r\n    }\r\n    public void setEmployees(List&lt;Employee&gt; employees) {\r\n        this.employees = employees;\r\n    }\r\n}\r\n```\r\n\r\nThis is what appear when I send GET Employee in Postman:\r\n```\r\n{\r\n    &quot;id&quot;: 3,\r\n    &quot;employeeName&quot;: &quot;fahad&quot;,\r\n    &quot;employeeNumber&quot;: 23,\r\n    &quot;address&quot;: {\r\n        &quot;street&quot;: &quot;salah&quot;,\r\n        &quot;city&quot;: &quot;Jeddah&quot;,\r\n        &quot;state&quot;: &quot;makkah&quot;,\r\n        &quot;postalCode&quot;: &quot;m1&quot;\r\n    },\r\n    &quot;tasks&quot;: []\r\n}\r\n```\r\n","title":"How to fix the relation between the Employee entity and Task entity to appear in the postman?","body":"<p>I have a relation between Employee entity and Task entity but it does not appear when I insert the data in the repository, or when I Get it in Postman I think the problem is with the relation.</p>\n<p>The relation between them is: one employee have at least one task.</p>\n<p>This is <strong>Employee Entity:</strong></p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @NotEmpty(message = &quot;Please enter the employee name!&quot;)\n    private String employeeName;\n\n    private Integer employeeNumber;\n\n    @Embedded\n    private Address address;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;task_employee&quot;,\n            joinColumns = @JoinColumn(name = &quot;employee_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;task_id&quot;)\n    )\n    private List&lt;Task&gt; tasks;\n\n    public Employee(String employeeName, Integer employeeNumber, Address address) {\n        this.employeeName = employeeName;\n        this.employeeNumber = employeeNumber;\n        this.address = address;\n\n    }\n\n    public Employee() {\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getEmployeeName() {\n        return employeeName;\n    }\n\n    public void setEmployeeName(String employeeName) {\n        this.employeeName = employeeName;\n    }\n\n    public Integer getEmployeeNumber() {\n        return employeeNumber;\n    }\n\n    public void setEmployeeNumber(Integer employeeNumber) {\n        this.employeeNumber = employeeNumber;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n\n    public List&lt;Task&gt; getTasks() {\n        return tasks;\n    }\n\n    public void setTasks(List&lt;Task&gt; tasks) {\n        this.tasks = tasks;\n    }\n}\n</code></pre>\n<p><strong>Task Entity:</strong></p>\n<pre><code>@Entity\npublic class Task {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer taskId;\n\n    @NotEmpty(message = &quot; Please Enter the Task name!&quot;)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;tasks&quot;)\n    private List&lt;Employee&gt; employees;\n\n    public Task() {\n    }\n    public Task(String name) {\n        this.name = name;\n        employees = new ArrayList&lt;&gt;();\n    }\n    public Integer getTaskId() {\n        return taskId;\n    }\n    public void setTaskId(Integer taskId) {\n        this.taskId = taskId;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public List&lt;Employee&gt; getEmployees() {\n        return employees;\n    }\n    public void setEmployees(List&lt;Employee&gt; employees) {\n        this.employees = employees;\n    }\n}\n</code></pre>\n<p>This is what appear when I send GET Employee in Postman:</p>\n<pre><code>{\n    &quot;id&quot;: 3,\n    &quot;employeeName&quot;: &quot;fahad&quot;,\n    &quot;employeeNumber&quot;: 23,\n    &quot;address&quot;: {\n        &quot;street&quot;: &quot;salah&quot;,\n        &quot;city&quot;: &quot;Jeddah&quot;,\n        &quot;state&quot;: &quot;makkah&quot;,\n        &quot;postalCode&quot;: &quot;m1&quot;\n    },\n    &quot;tasks&quot;: []\n}\n</code></pre>\n"},{"tags":["java","maven","aop","aspect"],"comments":[{"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1407776529,"post_id":21596416,"comment_id":39336210,"body_markdown":"Are you still interested in this question?","body":"Are you still interested in this question?"}],"answers":[{"tags":[],"owner":{"account_id":1220673,"reputation":1426,"user_id":1187385,"accept_rate":53,"display_name":"Amit Shakya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391671951,"creation_date":1391671951,"answer_id":21596666,"question_id":21596416,"body_markdown":"Is your `JAVA_HOME` set properly? Please check that. It worked perfectly for me. So I think you should add below mentioned plugin and try:\r\n\r\n    &lt;plugin&gt;      \r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.6&lt;/source&gt;\r\n          &lt;target&gt;1.6&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n\r\nRun `mvn compile` after that.","title":"Could not find dependencies for aspectj-maven-plugin","body":"<p>Is your <code>JAVA_HOME</code> set properly? Please check that. It worked perfectly for me. So I think you should add below mentioned plugin and try:</p>\n\n<pre><code>&lt;plugin&gt;      \n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.6&lt;/source&gt;\n      &lt;target&gt;1.6&lt;/target&gt;\n    &lt;/configuration&gt;\n   &lt;/plugin&gt;\n</code></pre>\n\n<p>Run <code>mvn compile</code> after that.</p>\n"},{"tags":[],"owner":{"account_id":4759789,"reputation":133,"user_id":3847456,"display_name":"Adiesha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552890150,"creation_date":1552890150,"answer_id":55215606,"question_id":21596416,"body_markdown":"Please check the JAVA_HOME env variable. This happened to me when JAVA_HOME is pointed to JRE folder rather than jdk folder.","title":"Could not find dependencies for aspectj-maven-plugin","body":"<p>Please check the JAVA_HOME env variable. This happened to me when JAVA_HOME is pointed to JRE folder rather than jdk folder.</p>\n"},{"tags":[],"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618967201,"creation_date":1618967201,"answer_id":67188059,"question_id":21596416,"body_markdown":"I had this problem running with java 11, seems like it is only compatible with java 8.\r\n\r\nLooking into the project, [aspectj-maven-plugin][1] it looks like the update was committed but never actually merged.\r\n\r\n\r\n  [1]: https://github.com/mojohaus/aspectj-maven-plugin/pull/45/commits","title":"Could not find dependencies for aspectj-maven-plugin","body":"<p>I had this problem running with java 11, seems like it is only compatible with java 8.</p>\n<p>Looking into the project, <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/pull/45/commits\" rel=\"nofollow noreferrer\">aspectj-maven-plugin</a> it looks like the update was committed but never actually merged.</p>\n"}],"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9364,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1698847260,"creation_date":1391671057,"question_id":21596416,"body_markdown":"I have a problem with CTW aspects using aspectj-maven-plugin. I get the following error (execution entry is being highlighted):\r\n\r\n    Multiple annotations found at this line:\r\n    \t- Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.5:compile failed: Plugin \r\n    \t org.codehaus.mojo:aspectj-maven-plugin:1.5 or one of its dependencies could not be resolved: Could not find artifact \r\n    \t com.sun:tools:jar:1.7.0_21 at specified path C:\\Program Files\\Java\\jre7/../lib/tools.jar (org.codehaus.mojo:aspectj-maven-\r\n    \t plugin:1.5:compile:default:compile)\r\n    \t- Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.5:test-compile failed: Plugin \r\n    \t org.codehaus.mojo:aspectj-maven-plugin:1.5 or one of its dependencies could not be resolved: Could not find artifact \r\n    \t com.sun:tools:jar:1.7.0_21 at specified path C:\\Program Files\\Java\\jre7/../lib/tools.jar (org.codehaus.mojo:aspectj-maven-\r\n    \t plugin:1.5:test-compile:default:test-compile)\r\n\r\n\r\nOn the configuration:\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t    &lt;!-- http://mojo.codehaus.org/aspectj-maven-plugin/usage.html --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n    \t\t\t\t\t&lt;outxml&gt;true&lt;/outxml&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;\r\n    \t\t\t\t\t\t\t&lt;basedir&gt;src/main/java&lt;/basedir&gt;\r\n    \t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;include&gt;**/*Aspect.java&lt;/include&gt;\r\n    \t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t&lt;/source&gt;\r\n    \t\t\t\t\t&lt;/sources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nWhat am I doing wrong? It looks like as if this plugin was unable to find jdk? But why?","title":"Could not find dependencies for aspectj-maven-plugin","body":"<p>I have a problem with CTW aspects using aspectj-maven-plugin. I get the following error (execution entry is being highlighted):</p>\n\n<pre><code>Multiple annotations found at this line:\n    - Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.5:compile failed: Plugin \n     org.codehaus.mojo:aspectj-maven-plugin:1.5 or one of its dependencies could not be resolved: Could not find artifact \n     com.sun:tools:jar:1.7.0_21 at specified path C:\\Program Files\\Java\\jre7/../lib/tools.jar (org.codehaus.mojo:aspectj-maven-\n     plugin:1.5:compile:default:compile)\n    - Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.5:test-compile failed: Plugin \n     org.codehaus.mojo:aspectj-maven-plugin:1.5 or one of its dependencies could not be resolved: Could not find artifact \n     com.sun:tools:jar:1.7.0_21 at specified path C:\\Program Files\\Java\\jre7/../lib/tools.jar (org.codehaus.mojo:aspectj-maven-\n     plugin:1.5:test-compile:default:test-compile)\n</code></pre>\n\n<p>On the configuration:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- http://mojo.codehaus.org/aspectj-maven-plugin/usage.html --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;\n                            &lt;basedir&gt;src/main/java&lt;/basedir&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*Aspect.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>What am I doing wrong? It looks like as if this plugin was unable to find jdk? But why?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698846919,"creation_date":1698846919,"question_id":77403168,"body_markdown":"I have an application where I want to run SQL queries that I store in an orm.xml file. Now I&#39;m getting an No Dialect mapping for JDBC type: -101 exception. I think I know that it&#39;s because of the timestamp in my query, but I don&#39;t know how to change it.. I&#39;ve read some things that you could use .addScalar(), but I can&#39;t do that in the repository.. I think I will have to change the query, but I don&#39;t know how. Maybe I&#39;m totally wrong, but hopefully someone can help.\r\n\r\nThis is the code:\r\n\r\n        @Entity\r\n    public class Tables {\r\n        @javax.persistence.Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;DATE&quot;)\r\n        private String date;\r\n        @Column(name = &quot;BRIDGEID&quot;)\r\n        private String bridgeID;\r\n        @Column(name = &quot;REQUESTTYPE&quot;)\r\n        private String requestType;\r\n        @Column(name = &quot;REQUESTSPECIFICATION&quot;)\r\n        private String requestSpecification;\r\n        @Column(name = &quot;FAULTDESCRIPTION&quot;)\r\n        private String faultDescription;\r\n        @Column(name = &quot;SOURCESYSTEM&quot;)\r\n        private String sourceSystem;\r\n        @Column(name = &quot;EVENTID&quot;)\r\n        private String eventID;\r\n        @Column(name = &quot;MESSAGEID&quot;)\r\n        private String messageID;\r\n        @Column(name = &quot;RELATESTO&quot;)\r\n        private String relatesTo;\r\n        @Column(name = &quot;SYSTIMESTAMP&quot;)\r\n        private String sysTimeStamp;\r\n\r\n\r\n\r\nThis the repository:\r\n\r\n    public interface TablesRepository extends JpaRepository&lt;Tables, Long&gt; {\r\n        List&lt;Tables&gt; getTest();\r\n\r\nThe query:\r\n\r\n    select to_char(starttimestamp, &#39;yyyymmdd hh24:mi:ss DY&#39;) as &quot;DATE&quot;,\r\n                bint.bridgeid,\r\n                requestType,\r\n                RequestSpecification,\r\n                bfa.faultdescription,\r\n                case\r\n                when requestMessage is not null then\r\n                dbms_lob.substr(substr(bMes.requestMessage,\r\n                INSTR(bMes.requestMessage, &#39;SourceSystem&#39;, 1) +\r\n                length(&#39;SourceSystem&#39;) + 1,\r\n                (INSTR(bMes.requestMessage,\r\n                &#39;SourceSystem&#39;,\r\n                1,\r\n                2) - INSTR(bMes.requestMessage,\r\n                &#39;SourceSystem&#39;,\r\n                1) -\r\n                length(&#39;SourceSystem&#39;) - 3)))\r\n                end as sourceSystem,\r\n                case\r\n                when requestMessage is not null then\r\n                dbms_lob.substr(substr(bMes.requestMessage,\r\n                INSTR(bMes.requestMessage, &#39;EventId&#39;, 1) +\r\n                length(&#39;EventId&#39;) + 1,\r\n                (INSTR(bMes.requestMessage, &#39;EventId&#39;, 1, 2) -\r\n                INSTR(bMes.requestMessage, &#39;EventId&#39;, 1) -\r\n                length(&#39;EventId&#39;) - 3)))\r\n                end as EventId,\r\n                bint.MessageId,\r\n                bint.relatesto,\r\n                systimestamp\r\n                from baseintegrationheaders bint\r\n                left join baseMessages bMes\r\n                on bMes.relatesto = bint.relatesto\r\n                left join basefaults bfa\r\n                on bfa.relatesto = bint.relatesto\r\n                where 1 = 1\r\n                and bint.applicationid in (&#39;testApplication&#39;)\r\n                and requestType not in ( &#39;WorkerRunning&#39;\r\n                , &#39;BridgeEnd&#39;\r\n                , &#39;BridgeStart&#39;\r\n                , &#39;WorkerEnd&#39;\r\n                , &#39;WorkerMQEnd&#39;\r\n                , &#39;WorkerMQStart&#39;\r\n                , &#39;WorkerProducerEnd&#39;\r\n                , &#39;WorkerProducerStart&#39;\r\n                , &#39;WorkerReaderEnd&#39;\r\n                , &#39;WorkerReaderStart&#39;\r\n                , &#39;WorkerStart&#39;\r\n                , &#39;WorkerStop&#39;\r\n                )\r\n                and ((requestType = &#39;BridgeRequest&#39; and faultindication = &#39;true&#39;) or\r\n                (requestType &lt;&gt; &#39;BridgeRequest&#39;))\r\n                order by bint.MessageId, 1\r\n\r\nStacktrace:\r\n\r\n    org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: -101; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: -101\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.8.jar!/:2.7.8]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar!/:5.3.27]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy129.getPayCnaBridge(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.apache.camel.support.ObjectHelper.invokeMethodSafe(ObjectHelper.java:384) ~[camel-support-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.bean.MethodInfo.invoke(MethodInfo.java:494) ~[camel-bean-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.bean.MethodInfo$1.doProceed(MethodInfo.java:316) ~[camel-bean-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.bean.MethodInfo$1.proceed(MethodInfo.java:286) ~[camel-bean-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:146) ~[camel-bean-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81) ~[camel-bean-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-3.20.5.jar!/:3.20.5]\r\n    \tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-3.20.5.jar!/:3.20.5]\r\n    \tat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n    \tat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]","title":"No Dialect mapping for JDBC type: -101, don&#39;t know how to change query","body":"<p>I have an application where I want to run SQL queries that I store in an orm.xml file. Now I'm getting an No Dialect mapping for JDBC type: -101 exception. I think I know that it's because of the timestamp in my query, but I don't know how to change it.. I've read some things that you could use .addScalar(), but I can't do that in the repository.. I think I will have to change the query, but I don't know how. Maybe I'm totally wrong, but hopefully someone can help.</p>\n<p>This is the code:</p>\n<pre><code>    @Entity\npublic class Tables {\n    @javax.persistence.Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;DATE&quot;)\n    private String date;\n    @Column(name = &quot;BRIDGEID&quot;)\n    private String bridgeID;\n    @Column(name = &quot;REQUESTTYPE&quot;)\n    private String requestType;\n    @Column(name = &quot;REQUESTSPECIFICATION&quot;)\n    private String requestSpecification;\n    @Column(name = &quot;FAULTDESCRIPTION&quot;)\n    private String faultDescription;\n    @Column(name = &quot;SOURCESYSTEM&quot;)\n    private String sourceSystem;\n    @Column(name = &quot;EVENTID&quot;)\n    private String eventID;\n    @Column(name = &quot;MESSAGEID&quot;)\n    private String messageID;\n    @Column(name = &quot;RELATESTO&quot;)\n    private String relatesTo;\n    @Column(name = &quot;SYSTIMESTAMP&quot;)\n    private String sysTimeStamp;\n</code></pre>\n<p>This the repository:</p>\n<pre><code>public interface TablesRepository extends JpaRepository&lt;Tables, Long&gt; {\n    List&lt;Tables&gt; getTest();\n</code></pre>\n<p>The query:</p>\n<pre><code>select to_char(starttimestamp, 'yyyymmdd hh24:mi:ss DY') as &quot;DATE&quot;,\n            bint.bridgeid,\n            requestType,\n            RequestSpecification,\n            bfa.faultdescription,\n            case\n            when requestMessage is not null then\n            dbms_lob.substr(substr(bMes.requestMessage,\n            INSTR(bMes.requestMessage, 'SourceSystem', 1) +\n            length('SourceSystem') + 1,\n            (INSTR(bMes.requestMessage,\n            'SourceSystem',\n            1,\n            2) - INSTR(bMes.requestMessage,\n            'SourceSystem',\n            1) -\n            length('SourceSystem') - 3)))\n            end as sourceSystem,\n            case\n            when requestMessage is not null then\n            dbms_lob.substr(substr(bMes.requestMessage,\n            INSTR(bMes.requestMessage, 'EventId', 1) +\n            length('EventId') + 1,\n            (INSTR(bMes.requestMessage, 'EventId', 1, 2) -\n            INSTR(bMes.requestMessage, 'EventId', 1) -\n            length('EventId') - 3)))\n            end as EventId,\n            bint.MessageId,\n            bint.relatesto,\n            systimestamp\n            from baseintegrationheaders bint\n            left join baseMessages bMes\n            on bMes.relatesto = bint.relatesto\n            left join basefaults bfa\n            on bfa.relatesto = bint.relatesto\n            where 1 = 1\n            and bint.applicationid in ('testApplication')\n            and requestType not in ( 'WorkerRunning'\n            , 'BridgeEnd'\n            , 'BridgeStart'\n            , 'WorkerEnd'\n            , 'WorkerMQEnd'\n            , 'WorkerMQStart'\n            , 'WorkerProducerEnd'\n            , 'WorkerProducerStart'\n            , 'WorkerReaderEnd'\n            , 'WorkerReaderStart'\n            , 'WorkerStart'\n            , 'WorkerStop'\n            )\n            and ((requestType = 'BridgeRequest' and faultindication = 'true') or\n            (requestType &lt;&gt; 'BridgeRequest'))\n            order by bint.MessageId, 1\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: -101; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: -101\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.27.jar!/:5.3.27]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.27.jar!/:5.3.27]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.27.jar!/:5.3.27]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.27.jar!/:5.3.27]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.27.jar!/:5.3.27]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.27.jar!/:5.3.27]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.8.jar!/:2.7.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.27.jar!/:5.3.27]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.27.jar!/:5.3.27]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-5.3.27.jar!/:5.3.27]\n    at jdk.proxy2/jdk.proxy2.$Proxy129.getPayCnaBridge(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.apache.camel.support.ObjectHelper.invokeMethodSafe(ObjectHelper.java:384) ~[camel-support-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.bean.MethodInfo.invoke(MethodInfo.java:494) ~[camel-bean-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.bean.MethodInfo$1.doProceed(MethodInfo.java:316) ~[camel-bean-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.bean.MethodInfo$1.proceed(MethodInfo.java:286) ~[camel-bean-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:146) ~[camel-bean-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81) ~[camel-bean-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[camel-core-processor-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:165) ~[camel-core-processor-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[camel-base-engine-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[camel-timer-3.20.5.jar!/:3.20.5]\n    at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-3.20.5.jar!/:3.20.5]\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\n    at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698840222,"creation_date":1698840222,"answer_id":77402469,"question_id":77402356,"body_markdown":"Don&#39;t use the Manifest Intent filters to detect tags, they are primary used now to start/restart your app via NFC when it is not running/in the foreground.\r\n\r\nInstead use only a foreground dispatch method like `enableReaderMode` ([Docs][1]) and [An Example][2] which is only active when your app is in the Foreground\r\n\r\nAlso NFC is really only associated with an Activity not Fragments, but you can make it only seem active when a certain Fragment is being shown. You do this by detecting Tags in the Activity but if the correct Fragment is not shown you just do nothing with the detected Tag. When your Fragment you want to handle NFC is shown set a Flag that changes the behaviour of the Tag handling code, to actually do something.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/nfc/NfcAdapter#enableReaderMode(android.app.Activity,%20android.nfc.NfcAdapter.ReaderCallback,%20int,%20android.os.Bundle)\r\n  [2]: https://stackoverflow.com/questions/64920307/how-to-write-ndef-records-to-nfc-tag/64921434#64921434","title":"Why NFC_TAG keep discovered even the app closed?","body":"<p>Don't use the Manifest Intent filters to detect tags, they are primary used now to start/restart your app via NFC when it is not running/in the foreground.</p>\n<p>Instead use only a foreground dispatch method like <code>enableReaderMode</code> (<a href=\"https://developer.android.com/reference/android/nfc/NfcAdapter#enableReaderMode(android.app.Activity,%20android.nfc.NfcAdapter.ReaderCallback,%20int,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">Docs</a>) and <a href=\"https://stackoverflow.com/questions/64920307/how-to-write-ndef-records-to-nfc-tag/64921434#64921434\">An Example</a> which is only active when your app is in the Foreground</p>\n<p>Also NFC is really only associated with an Activity not Fragments, but you can make it only seem active when a certain Fragment is being shown. You do this by detecting Tags in the Activity but if the correct Fragment is not shown you just do nothing with the detected Tag. When your Fragment you want to handle NFC is shown set a Flag that changes the behaviour of the Tag handling code, to actually do something.</p>\n"},{"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698846741,"creation_date":1698846741,"answer_id":77403137,"question_id":77402356,"body_markdown":"You just call this one when you pause for specific activities.\r\n\r\n\r\n    nfcAdapter.disableForegroundDispatch(getActivity());","title":"Why NFC_TAG keep discovered even the app closed?","body":"<p>You just call this one when you pause for specific activities.</p>\n<pre><code>nfcAdapter.disableForegroundDispatch(getActivity());\n</code></pre>\n"}],"owner":{"account_id":29793730,"reputation":21,"user_id":22833338,"display_name":"SenjaKids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698846741,"creation_date":1698838959,"question_id":77402356,"body_markdown":"I want my app to only start scanning in a specific fragment. But currently my app keep detecting NFC tag even when the app closed. How can I set it to only scan for NFC in a specific fragment/activity?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.nfc&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Testing&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n","title":"Why NFC_TAG keep discovered even the app closed?","body":"<p>I want my app to only start scanning in a specific fragment. But currently my app keep detecting NFC tag even when the app closed. How can I set it to only scan for NFC in a specific fragment/activity?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.nfc&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Testing&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.TAG_DISCOVERED&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","regex","stack-trace"],"comments":[{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1698792102,"post_id":77399235,"comment_id":136449913,"body_markdown":"Like this? https://regex101.com/r/wrEMc1/1","body":"Like this? <a href=\"https://regex101.com/r/wrEMc1/1\" rel=\"nofollow noreferrer\">regex101.com/r/wrEMc1/1</a>"},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1698792573,"post_id":77399235,"comment_id":136449964,"body_markdown":"Can the trace occur anywhere in a line? e.g. `blah blah com.foo.loader/foo@9.0/com.foo.Main.run(Main.java:101) blah blah` or are they the entire string?","body":"Can the trace occur anywhere in a line? e.g. <code>blah blah com.foo.loader&#47;foo@9.0&#47;com.foo.Main.run(Main.java:101) blah blah</code> or are they the entire string?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698794901,"post_id":77399235,"comment_id":136450170,"body_markdown":"@Nick this is a stack trace element, not an entire stack trace. The expression is for the entire stack trace _element_. The beginning and end anchors are not needed, as I&#39;ll be using `Pattern.matcher(…)`, which automatically matches the whole string. You reminded me of another thing, however: I do need to add `^\\s` in most of the character classes, though, to prevent spaces e.g. beginning and trailing whitespace.","body":"@Nick this is a stack trace element, not an entire stack trace. The expression is for the entire stack trace <i>element</i>. The beginning and end anchors are not needed, as I&#39;ll be using <code>Pattern.matcher(…)</code>, which automatically matches the whole string. You reminded me of another thing, however: I do need to add <code>^\\s</code> in most of the character classes, though, to prevent spaces e.g. beginning and trailing whitespace."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1698795112,"post_id":77399235,"comment_id":136450194,"body_markdown":"@GarretWilson thanks for the clarification. You could possibly add `(?!\\s)` at each end of the regex to deal with the possible surrounding whitespace.","body":"@GarretWilson thanks for the clarification. You could possibly add <code>(?!\\s)</code> at each end of the regex to deal with the possible surrounding whitespace."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698795182,"post_id":77399235,"comment_id":136450204,"body_markdown":"Thank you @Nick. I just added `\\s` to (most of) the existing character classes—no need to add additional character classes. However this was not one of the two problems I mentioned. Do you know how to address the two shortcomings I listed?","body":"Thank you @Nick. I just added <code>\\s</code> to (most of) the existing character classes—no need to add additional character classes. However this was not one of the two problems I mentioned. Do you know how to address the two shortcomings I listed?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698795290,"post_id":77399235,"comment_id":136450222,"body_markdown":"For all the people rushing in to downvote, I&#39;ve clarified the question to indicate that this regular expression has two &quot;errors&quot; (or at least shortcomings) and I&#39;m asking how to mitigate them. I&#39;m pretty sure that asking how to fix errors in a regular expression is within the scope of a permissible Stack Overflow question.","body":"For all the people rushing in to downvote, I&#39;ve clarified the question to indicate that this regular expression has two &quot;errors&quot; (or at least shortcomings) and I&#39;m asking how to mitigate them. I&#39;m pretty sure that asking how to fix errors in a regular expression is within the scope of a permissible Stack Overflow question."},{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1698796065,"post_id":77399235,"comment_id":136450314,"body_markdown":"@GarretWilson Is there something wrong with the pattern I posted above?","body":"@GarretWilson Is there something wrong with the pattern I posted above?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698796358,"post_id":77399235,"comment_id":136450356,"body_markdown":"@CAustin does your regular expression address the two problems I mentioned in the description? For example, does it match `/com.foo.bar.App.run(App.java:12)`? If it does, then it hasn&#39;t addressed the first problem I listed. How about the second problem I listed?","body":"@CAustin does your regular expression address the two problems I mentioned in the description? For example, does it match <code>&#47;com.foo.bar.App.run(App.java:12)</code>? If it does, then it hasn&#39;t addressed the first problem I listed. How about the second problem I listed?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1698797559,"post_id":77399235,"comment_id":136450463,"body_markdown":"I would hate to have to maintain this next time the Java stack trace format changes.  From the Javadoc for `StackTraceElement`: _&quot;`public String toString()` Returns a string representation of this stack trace element. **The format of this string depends on the implementation...** &quot;_  This will be extremely brittle code that will break when you least expect it.  Do you have access to the `StackTraceElement` object itself, or must you depend on its string representation?  If I had to do this I would do it in 2 or 3 separate phases instead of one regex.","body":"I would hate to have to maintain this next time the Java stack trace format changes.  From the Javadoc for <code>StackTraceElement</code>: <i>&quot;<code>public String toString()</code> Returns a string representation of this stack trace element. <b>The format of this string depends on the implementation...</b> &quot;</i>  This will be extremely brittle code that will break when you least expect it.  Do you have access to the <code>StackTraceElement</code> object itself, or must you depend on its string representation?  If I had to do this I would do it in 2 or 3 separate phases instead of one regex."},{"owner":{"account_id":4076597,"reputation":4537,"user_id":3348112,"accept_rate":75,"display_name":"CAustin"},"score":0,"creation_date":1698798200,"post_id":77399235,"comment_id":136450512,"body_markdown":"@GarretWilson Slightly modified: https://regex101.com/r/QQwi57/1 That said, I agree with Jim in that there are too many different things this regex is trying to do, and any solution using a single pattern will be inherently fragile and hard to maintain.","body":"@GarretWilson Slightly modified: <a href=\"https://regex101.com/r/QQwi57/1\" rel=\"nofollow noreferrer\">regex101.com/r/QQwi57/1</a> That said, I agree with Jim in that there are too many different things this regex is trying to do, and any solution using a single pattern will be inherently fragile and hard to maintain."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698801681,"post_id":77399235,"comment_id":136450824,"body_markdown":"&quot;I would hate to have to maintain this next time the Java stack trace format changes.&quot; I understand your concern here, @JimGarrison, but that is completely unrelated to the regex question I am raising. Your concern is definitely related to the problem domain, yes, but assuming I have reasons for doing what I&#39;m doing (and I do), this question regards solely how to fix a problem in a regex.","body":"&quot;I would hate to have to maintain this next time the Java stack trace format changes.&quot; I understand your concern here, @JimGarrison, but that is completely unrelated to the regex question I am raising. Your concern is definitely related to the problem domain, yes, but assuming I have reasons for doing what I&#39;m doing (and I do), this question regards solely how to fix a problem in a regex."},{"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1698807427,"post_id":77399235,"comment_id":136451248,"body_markdown":"@GarretWilson in terms of your first question, you can use a negative lookbehind before the `/` that checks it&#39;s not at the beginning of the string. In terms of the second, yes, there&#39;s some backtracking, but it&#39;s at most the length of the method name plus the dot, so I would expect it&#39;s more efficient than checking each character in the class to ensure that it&#39;s not the start of the method. I think [this](https://regex101.com/r/dbTnyX/1) is probably close to what you want.","body":"@GarretWilson in terms of your first question, you can use a negative lookbehind before the <code>&#47;</code> that checks it&#39;s not at the beginning of the string. In terms of the second, yes, there&#39;s some backtracking, but it&#39;s at most the length of the method name plus the dot, so I would expect it&#39;s more efficient than checking each character in the class to ensure that it&#39;s not the start of the method. I think <a href=\"https://regex101.com/r/dbTnyX/1\" rel=\"nofollow noreferrer\">this</a> is probably close to what you want."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1698808352,"post_id":77399235,"comment_id":136451317,"body_markdown":"To make this even more complicated:  a module doesn’t have to have a version.  So, `com.foo.loader/foo/com.foo.Main.run` is possible.","body":"To make this even more complicated:  a module doesn’t have to have a version.  So, <code>com.foo.loader&#47;foo&#47;com.foo.Main.run</code> is possible."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1698809829,"post_id":77399235,"comment_id":136451418,"body_markdown":"@GarretWilson Sometimes a &quot;frame challenge&quot; can be useful.","body":"@GarretWilson Sometimes a &quot;frame challenge&quot; can be useful."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698815037,"post_id":77399235,"comment_id":136451793,"body_markdown":"Also, [module versions need not be entirely numeric](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleDescriptor.Version.html) and in fact can have no digits at all (though that would be weird).","body":"Also, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleDescriptor.Version.html\" rel=\"nofollow noreferrer\">module versions need not be entirely numeric</a> and in fact can have no digits at all (though that would be weird)."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1698845201,"post_id":77399235,"comment_id":136456212,"body_markdown":"@JimGarrison you noted that these examples are not a specification, but typical strings used by JDK implementations. I had already understood that, but your emphasizing it made me realize that perhaps my regex&#39;s acceptance of `/com.foo.bar.App.run(App.java:12)` is actually a feature, not a bug. As long as the input is unambiguous as to the components, there&#39;s no reason not to accept it, as the API certainly doesn&#39;t prohibit it. Thus for that part I&#39;ll just stick with what I have in the current regex.","body":"@JimGarrison you noted that these examples are not a specification, but typical strings used by JDK implementations. I had already understood that, but your emphasizing it made me realize that perhaps my regex&#39;s acceptance of <code>&#47;com.foo.bar.App.run(App.java:12)</code> is actually a feature, not a bug. As long as the input is unambiguous as to the components, there&#39;s no reason not to accept it, as the API certainly doesn&#39;t prohibit it. Thus for that part I&#39;ll just stick with what I have in the current regex."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698846671,"creation_date":1698846671,"answer_id":77403123,"question_id":77399235,"body_markdown":"Here’s what I came up with.  The most important adjustments I made are for the fact that a module version doesn’t have to be numeric.  In fact, the [specification](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleDescriptor.Version.html) doesn’t restrict the characters are in any way, including the use of slashes.  I tried assigning a module a version with `/` in it, and it was accepted.\r\n\r\n    private static final String ID =\r\n        &quot;\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*&quot;;\r\n\r\n    private static final String NAME = ID + &quot;(?:\\\\.&quot; + ID + &quot;)*&quot;;\r\n\r\n    private static final String MODULE = &quot;(&quot; + NAME + &quot;)(?:@(.+))?/&quot;;\r\n\r\n    /**\r\n     * Groups:\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;1: classloader name\r\n     * &lt;li&gt;2: module name, if loaded from custom classloader\r\n     * &lt;li&gt;3: module version, if loaded from custom classloader\r\n     * &lt;li&gt;4: module name, if NOT loaded from custom classloader\r\n     * &lt;li&gt;5: module version, if NOT loaded from custom classloader\r\n     * &lt;li&gt;6: class name\r\n     * &lt;li&gt;7: method name\r\n     * &lt;li&gt;8: source file\r\n     * &lt;li&gt;9: line number\r\n     * &lt;li&gt;10: text when line number unknown\r\n     * &lt;/ul&gt;\r\n     *\r\n     * Only class name and method name are guaranteed to be present;\r\n     * everything else is optional.\r\n     */\r\n    private static final Pattern STACK_TRACE_ELEMENT_PATTERN = Pattern.compile(\r\n        &quot;\\\\bat\\\\s+&quot;\r\n        + &quot;(?:(&quot; + NAME + &quot;)/(?:/|&quot; + MODULE + &quot;)|&quot; + MODULE + &quot;)?&quot;\r\n        + &quot;(&quot; + NAME + &quot;)\\\\.(&quot; + ID + &quot;)\\\\((?:&quot;\r\n            + &quot;(&quot; + ID + &quot;\\\\.java)(?::(\\\\d+))?&quot;\r\n            + &quot;|([^)]*)&quot;\r\n            + &quot;)\\\\)&quot;);\r\n","title":"Tweaking regular expression for Java stack trace element","body":"<p>Here’s what I came up with.  The most important adjustments I made are for the fact that a module version doesn’t have to be numeric.  In fact, the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleDescriptor.Version.html\" rel=\"nofollow noreferrer\">specification</a> doesn’t restrict the characters are in any way, including the use of slashes.  I tried assigning a module a version with <code>/</code> in it, and it was accepted.</p>\n<pre><code>private static final String ID =\n    &quot;\\\\p{javaJavaIdentifierStart}\\\\p{javaJavaIdentifierPart}*&quot;;\n\nprivate static final String NAME = ID + &quot;(?:\\\\.&quot; + ID + &quot;)*&quot;;\n\nprivate static final String MODULE = &quot;(&quot; + NAME + &quot;)(?:@(.+))?/&quot;;\n\n/**\n * Groups:\n * &lt;ul&gt;\n * &lt;li&gt;1: classloader name\n * &lt;li&gt;2: module name, if loaded from custom classloader\n * &lt;li&gt;3: module version, if loaded from custom classloader\n * &lt;li&gt;4: module name, if NOT loaded from custom classloader\n * &lt;li&gt;5: module version, if NOT loaded from custom classloader\n * &lt;li&gt;6: class name\n * &lt;li&gt;7: method name\n * &lt;li&gt;8: source file\n * &lt;li&gt;9: line number\n * &lt;li&gt;10: text when line number unknown\n * &lt;/ul&gt;\n *\n * Only class name and method name are guaranteed to be present;\n * everything else is optional.\n */\nprivate static final Pattern STACK_TRACE_ELEMENT_PATTERN = Pattern.compile(\n    &quot;\\\\bat\\\\s+&quot;\n    + &quot;(?:(&quot; + NAME + &quot;)/(?:/|&quot; + MODULE + &quot;)|&quot; + MODULE + &quot;)?&quot;\n    + &quot;(&quot; + NAME + &quot;)\\\\.(&quot; + ID + &quot;)\\\\((?:&quot;\n        + &quot;(&quot; + ID + &quot;\\\\.java)(?::(\\\\d+))?&quot;\n        + &quot;|([^)]*)&quot;\n        + &quot;)\\\\)&quot;);\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1698846671,"creation_date":1698788836,"question_id":77399235,"body_markdown":"I&#39;m creating a Java regular expression for matching the string form of a Java [`StackTraceElement`][1]. (Note that this is _not_ a regular expression for the stack trace itself.) The typical forms are shown at [`StackTraceElement.toString()`][2]:\r\n\r\n&gt; * `&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Main.java:101)&quot;` - See the description below [in the API docs].\r\n&gt; * `&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Main.java)&quot;` - The line number is unavailable.\r\n&gt; * `&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Unknown Source)&quot;` - Neither the file name nor the line number is available.\r\n&gt; * `&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Native Method)&quot;` - The method containing the execution point is a native method.\r\n&gt; * `&quot;com.foo.loader//com.foo.bar.App.run(App.java:12)&quot;` - The class of the execution point is defined in the unnamed module of the class loader named `com.foo.loader`.\r\n&gt; * `&quot;acme@2.1/org.acme.Lib.test(Lib.java:80)&quot;` - The class of the execution point is defined in `acme` module loaded by a built-in class loader such as the application class loader.\r\n&gt; * `&quot;MyClass.mash(MyClass.java:9)&quot;` - `MyClass` class is on the application class path.\r\n\r\nI need to be able to access each component as a group in the resulting matcher.\r\n\r\nCurrently I have the following regular expression (not escaped for a Java string, for readability):\r\n\r\n`(?:([^@/]+)/)?(?:(?:([^@/]+)@([\\d.+-]+))?/)?([^(]+)\\.([^.(]+)\\(([^:)]+)(?::(\\d+))??\\)`\r\n\r\nOr in Java code:\r\n\r\n```java\r\npublic static final Pattern ELEMENT_PATTERN = Pattern.compile(&quot;(?:([^@/]+)/)?&quot;\r\n    + &quot;(?:(?:([^@/]+)@([\\\\d.+-]+))?/)?&quot; //optional module name/module version, followed by slash\r\n    + &quot;([^(]+)&quot; //declaring class is always required\r\n    + &quot;\\\\.([^.(]+)&quot; //method name is always required\r\n    + &quot;\\\\(([^:)]+)(?::(\\\\d+))??\\\\)&quot;); //&quot;file name&quot; (always present in some form, but not necessarily the actual filename) and optional line number\r\n```\r\n\r\nThere are two tiny drawbacks. These aren&#39;t showstoppers, but it would be nice to address them.\r\n\r\n1. This regular expression will allow `&quot;/com.foo.bar.App.run(App.java:12)&quot;`, which I believe should be prohibited. Allowing &quot;either or both of the first two components, but only a trailing slash if either are present&quot; seems a little complicated.\r\n2. I believe the `([^(]+)` and `\\.([^.(]+)` parts will require backtracking, because the first part will consume the method name at first. I doubt this is too terribly inefficient, but I wouldn&#39;t be surprised if there is a better way.\r\n\r\nThe regular expression I have come up with is probably good enough for my purposes, but does a regex expert know how to fix those two problems I mentioned?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StackTraceElement.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StackTraceElement.html#toString()","title":"Tweaking regular expression for Java stack trace element","body":"<p>I'm creating a Java regular expression for matching the string form of a Java <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StackTraceElement.html\" rel=\"nofollow noreferrer\"><code>StackTraceElement</code></a>. (Note that this is <em>not</em> a regular expression for the stack trace itself.) The typical forms are shown at <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StackTraceElement.html#toString()\" rel=\"nofollow noreferrer\"><code>StackTraceElement.toString()</code></a>:</p>\n<blockquote>\n<ul>\n<li><code>&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Main.java:101)&quot;</code> - See the description below [in the API docs].</li>\n<li><code>&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Main.java)&quot;</code> - The line number is unavailable.</li>\n<li><code>&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Unknown Source)&quot;</code> - Neither the file name nor the line number is available.</li>\n<li><code>&quot;com.foo.loader/foo@9.0/com.foo.Main.run(Native Method)&quot;</code> - The method containing the execution point is a native method.</li>\n<li><code>&quot;com.foo.loader//com.foo.bar.App.run(App.java:12)&quot;</code> - The class of the execution point is defined in the unnamed module of the class loader named <code>com.foo.loader</code>.</li>\n<li><code>&quot;acme@2.1/org.acme.Lib.test(Lib.java:80)&quot;</code> - The class of the execution point is defined in <code>acme</code> module loaded by a built-in class loader such as the application class loader.</li>\n<li><code>&quot;MyClass.mash(MyClass.java:9)&quot;</code> - <code>MyClass</code> class is on the application class path.</li>\n</ul>\n</blockquote>\n<p>I need to be able to access each component as a group in the resulting matcher.</p>\n<p>Currently I have the following regular expression (not escaped for a Java string, for readability):</p>\n<p><code>(?:([^@/]+)/)?(?:(?:([^@/]+)@([\\d.+-]+))?/)?([^(]+)\\.([^.(]+)\\(([^:)]+)(?::(\\d+))??\\)</code></p>\n<p>Or in Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Pattern ELEMENT_PATTERN = Pattern.compile(&quot;(?:([^@/]+)/)?&quot;\n    + &quot;(?:(?:([^@/]+)@([\\\\d.+-]+))?/)?&quot; //optional module name/module version, followed by slash\n    + &quot;([^(]+)&quot; //declaring class is always required\n    + &quot;\\\\.([^.(]+)&quot; //method name is always required\n    + &quot;\\\\(([^:)]+)(?::(\\\\d+))??\\\\)&quot;); //&quot;file name&quot; (always present in some form, but not necessarily the actual filename) and optional line number\n</code></pre>\n<p>There are two tiny drawbacks. These aren't showstoppers, but it would be nice to address them.</p>\n<ol>\n<li>This regular expression will allow <code>&quot;/com.foo.bar.App.run(App.java:12)&quot;</code>, which I believe should be prohibited. Allowing &quot;either or both of the first two components, but only a trailing slash if either are present&quot; seems a little complicated.</li>\n<li>I believe the <code>([^(]+)</code> and <code>\\.([^.(]+)</code> parts will require backtracking, because the first part will consume the method name at first. I doubt this is too terribly inefficient, but I wouldn't be surprised if there is a better way.</li>\n</ol>\n<p>The regular expression I have come up with is probably good enough for my purposes, but does a regex expert know how to fix those two problems I mentioned?</p>\n"},{"tags":["java","spring","reactive-programming"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698840825,"post_id":77402063,"comment_id":136455368,"body_markdown":"As far as I know, every `Mono&lt;Void&gt;` is empty, because the only possible value for `Void` is `null`. I think you need to replace `Void` with something else, so a non-empty `Mono` can be returned. You can then use `Flux.fromIterable(...).flatMap(...)` to not get a `Flux&lt;Mono&lt;Void&gt;&gt;` but a `Flux&lt;T&gt;`, where `T` is the result of the exception mapping. You can then use `next()` to get a `Mono` with the result of the first non-empty `Mono`.","body":"As far as I know, every <code>Mono&lt;Void&gt;</code> is empty, because the only possible value for <code>Void</code> is <code>null</code>. I think you need to replace <code>Void</code> with something else, so a non-empty <code>Mono</code> can be returned. You can then use <code>Flux.fromIterable(...).flatMap(...)</code> to not get a <code>Flux&lt;Mono&lt;Void&gt;&gt;</code> but a <code>Flux&lt;T&gt;</code>, where <code>T</code> is the result of the exception mapping. You can then use <code>next()</code> to get a <code>Mono</code> with the result of the first non-empty <code>Mono</code>."},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1698844107,"post_id":77402063,"comment_id":136455977,"body_markdown":"I can&#39;t redesign the code so deeply yet, I use what I have and try to remove the complex if-else assembly inside so that I can expand without changing the existing code. Therefore, I work with the fact that Mono&lt;Void&gt; is returned to me.","body":"I can&#39;t redesign the code so deeply yet, I use what I have and try to remove the complex if-else assembly inside so that I can expand without changing the existing code. Therefore, I work with the fact that Mono&lt;Void&gt; is returned to me."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698852110,"post_id":77402063,"comment_id":136457825,"body_markdown":"But still, won&#39;t every single `Mono&lt;Void&gt;` be empty? There would be no difference between the `Mono&lt;Void&gt;` returned by `response.writeWith` or the one returned by `Mono.empty()`.","body":"But still, won&#39;t every single <code>Mono&lt;Void&gt;</code> be empty? There would be no difference between the <code>Mono&lt;Void&gt;</code> returned by <code>response.writeWith</code> or the one returned by <code>Mono.empty()</code>."}],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698846227,"creation_date":1698846227,"answer_id":77403089,"question_id":77402063,"body_markdown":"This is the solution I applied, the only drawback is that all mappers are checked, even if the 1st suitable one is found.\r\n\r\n```java\r\n\r\nreturn Flux.fromIterable(responseMappers).flatMap(\r\n                                            responseMapper -&gt; responseMapper.apply(\r\n                                                    throwable,\r\n                                                    serverHttpResponse,\r\n                                                    exchange,\r\n                                                    status\r\n\r\n                                            )\r\n                                    ).next()\r\n                                            .switchIfEmpty(\r\n                                                    Mono.just(\r\n                                                            Objects.requireNonNull(\r\n                                                                    someFuncDefaultResponse(\r\n                                                                            exchange,\r\n                                                                            throwable,\r\n                                                                            serverHttpResponse,\r\n                                                                            status)\r\n                                                            )\r\n                                                    )\r\n                                            );\r\n\r\n```","title":"How to process each item of List&lt;&gt; converted to a Flux sequence?","body":"<p>This is the solution I applied, the only drawback is that all mappers are checked, even if the 1st suitable one is found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nreturn Flux.fromIterable(responseMappers).flatMap(\n                                            responseMapper -&gt; responseMapper.apply(\n                                                    throwable,\n                                                    serverHttpResponse,\n                                                    exchange,\n                                                    status\n\n                                            )\n                                    ).next()\n                                            .switchIfEmpty(\n                                                    Mono.just(\n                                                            Objects.requireNonNull(\n                                                                    someFuncDefaultResponse(\n                                                                            exchange,\n                                                                            throwable,\n                                                                            serverHttpResponse,\n                                                                            status)\n                                                            )\n                                                    )\n                                            );\n\n</code></pre>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698846227,"creation_date":1698835727,"question_id":77402063,"body_markdown":"I have an interface. which specifies the data processing contract, depending on the type of exception that will be passed in the parameters.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface FourParameterFunction&lt;T, U, V, W, R&gt; {\r\n\r\n    R apply(T t, U u, V v, W w);\r\n}\r\n```\r\n\r\n```java\r\npublic interface ResponseMapper\r\n        extends FourParameterFunction\r\n        &lt;Throwable,\r\n                        ServerHttpResponse,\r\n                        ServerWebExchange,\r\n                        HttpStatus,\r\n                        Mono&lt;Void&gt;&gt; {\r\n\r\n\r\n}\r\n```\r\n\r\nThen I implemented this interface, for each of the exceptions:\r\n\r\n```java\r\n@Component\r\npublic class RuntimeExceptionMapper implements ResponseMapper {\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; apply(\r\n            Throwable throwable,\r\n            ServerHttpResponse serverHttpResponse,\r\n            ServerWebExchange serverWebExchange,\r\n            HttpStatus httpstatus) {\r\n\r\n        if (throwable instanceof RunTimeException) {\r\n            serverHttpResponse.setStatusCode(HttpStatus.BadRequest);\r\n            return someFunction(serverHttpResponse);\r\n        }\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n      Mono&lt;Void&gt; sumFunciton(ServerHttpResponse response){\r\n       return response.writeWith(Mono.just(....));\r\n     }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class AuthExceptionMapper implements ResponseMapper {\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; apply(\r\n            Throwable throwable,\r\n            ServerHttpResponse serverHttpResponse,\r\n            ServerWebExchange serverWebExchange,\r\n            HttpStatus httpstatus) {\r\n\r\n        if (throwable instanceof AuthTimeException) {\r\n            serverHttpResponse.setStatusCode(HttpStatus.BadRequest);\r\n            return someFunction(serverHttpResponse);\r\n        }\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n      Mono&lt;Void&gt; sumFunciton(ServerHttpResponse response){\r\n       return response.writeWith(Mono.just(....));\r\n     }\r\n\r\n}\r\n```\r\n\r\nAfter the spring application is initialized, I will get a list of implementations and want to process them (sort through all):\r\n\r\n```java\r\n\r\n....\r\n\r\n private final List&lt;ResponseMapper&gt; responseMappers;\r\n\r\n....\r\n\r\npublic Mono&lt;Void&gt; handle(ServerWebExchange exchange, Throwable throwable){\r\n Flux&lt;Mono&lt;Void&gt;&gt; monoFlux = Flux.fromIterable(\r\n                                            responseMappers\r\n\r\n                                    ).map(\r\n                                            responseMapper -&gt; responseMapper.apply(\r\n                                                    throwable,\r\n                                                    serverHttpResponse,\r\n                                                    exchange,\r\n                                                    status\r\n\r\n                                            )\r\n                                    );\r\n\r\n\r\n\r\n                                    return monoFlux.next()\r\n                                            .switchIfEmpty(\r\n                                                    Mono.just(\r\n                                                            Objects.requireNonNull(\r\n                                                                    someFuncDefaultResponse(\r\n                                                                            exchange,\r\n                                                                            throwable,\r\n                                                                            serverHttpResponse,\r\n                                                                            status)\r\n                                                            )\r\n                                                    )\r\n                                            ).flatMap(\r\n                                                    responsePrepared -&gt; responsePrepared\r\n                                            );\r\n}\r\n\r\n....\r\n\r\nMono&lt;Void&gt; someFuncDefaultResponse(.....){\r\n\r\nreturn ...\r\n}\r\n\r\n```\r\n\r\nThe question is not whether such a design is good or bad (I am redesigning an existing application that is written on a reactive stack, but also uses an imperative style of writing code).\r\n\r\nMy task, when receiving an **Exception** function of some kind, is to run all **ResponseMappers** and their implementations of the apply method. \r\n\r\nIf a match is found, then execute the code inside the if block, if the provided exception type is not found in any of the **Mappers**, then throw Mono.empty and at the point of the call, handle such a case in the **switchIfEmpty**() operator, that is, return the default response.  \r\n\r\n The problem is that only one mapper is checked, the rest are not affected. \r\n\r\n  What can be fixed in this code ?\r\n\r\nIt is necessary that all mappers are called and if their conditions do not work, then perform the default action.\r\n\r\nAt the same time, if one of the mappers works, you do not need to sort through the rest.\r\n\r\nAny idea what I missed?","title":"How to process each item of List&lt;&gt; converted to a Flux sequence?","body":"<p>I have an interface. which specifies the data processing contract, depending on the type of exception that will be passed in the parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface FourParameterFunction&lt;T, U, V, W, R&gt; {\n\n    R apply(T t, U u, V v, W w);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ResponseMapper\n        extends FourParameterFunction\n        &lt;Throwable,\n                        ServerHttpResponse,\n                        ServerWebExchange,\n                        HttpStatus,\n                        Mono&lt;Void&gt;&gt; {\n\n\n}\n</code></pre>\n<p>Then I implemented this interface, for each of the exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RuntimeExceptionMapper implements ResponseMapper {\n\n    @Override\n    public Mono&lt;Void&gt; apply(\n            Throwable throwable,\n            ServerHttpResponse serverHttpResponse,\n            ServerWebExchange serverWebExchange,\n            HttpStatus httpstatus) {\n\n        if (throwable instanceof RunTimeException) {\n            serverHttpResponse.setStatusCode(HttpStatus.BadRequest);\n            return someFunction(serverHttpResponse);\n        }\n\n        return Mono.empty();\n    }\n\n      Mono&lt;Void&gt; sumFunciton(ServerHttpResponse response){\n       return response.writeWith(Mono.just(....));\n     }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AuthExceptionMapper implements ResponseMapper {\n\n    @Override\n    public Mono&lt;Void&gt; apply(\n            Throwable throwable,\n            ServerHttpResponse serverHttpResponse,\n            ServerWebExchange serverWebExchange,\n            HttpStatus httpstatus) {\n\n        if (throwable instanceof AuthTimeException) {\n            serverHttpResponse.setStatusCode(HttpStatus.BadRequest);\n            return someFunction(serverHttpResponse);\n        }\n\n        return Mono.empty();\n    }\n\n      Mono&lt;Void&gt; sumFunciton(ServerHttpResponse response){\n       return response.writeWith(Mono.just(....));\n     }\n\n}\n</code></pre>\n<p>After the spring application is initialized, I will get a list of implementations and want to process them (sort through all):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n....\n\n private final List&lt;ResponseMapper&gt; responseMappers;\n\n....\n\npublic Mono&lt;Void&gt; handle(ServerWebExchange exchange, Throwable throwable){\n Flux&lt;Mono&lt;Void&gt;&gt; monoFlux = Flux.fromIterable(\n                                            responseMappers\n\n                                    ).map(\n                                            responseMapper -&gt; responseMapper.apply(\n                                                    throwable,\n                                                    serverHttpResponse,\n                                                    exchange,\n                                                    status\n\n                                            )\n                                    );\n\n\n\n                                    return monoFlux.next()\n                                            .switchIfEmpty(\n                                                    Mono.just(\n                                                            Objects.requireNonNull(\n                                                                    someFuncDefaultResponse(\n                                                                            exchange,\n                                                                            throwable,\n                                                                            serverHttpResponse,\n                                                                            status)\n                                                            )\n                                                    )\n                                            ).flatMap(\n                                                    responsePrepared -&gt; responsePrepared\n                                            );\n}\n\n....\n\nMono&lt;Void&gt; someFuncDefaultResponse(.....){\n\nreturn ...\n}\n\n</code></pre>\n<p>The question is not whether such a design is good or bad (I am redesigning an existing application that is written on a reactive stack, but also uses an imperative style of writing code).</p>\n<p>My task, when receiving an <strong>Exception</strong> function of some kind, is to run all <strong>ResponseMappers</strong> and their implementations of the apply method.</p>\n<p>If a match is found, then execute the code inside the if block, if the provided exception type is not found in any of the <strong>Mappers</strong>, then throw Mono.empty and at the point of the call, handle such a case in the <strong>switchIfEmpty</strong>() operator, that is, return the default response.</p>\n<p>The problem is that only one mapper is checked, the rest are not affected.</p>\n<p>What can be fixed in this code ?</p>\n<p>It is necessary that all mappers are called and if their conditions do not work, then perform the default action.</p>\n<p>At the same time, if one of the mappers works, you do not need to sort through the rest.</p>\n<p>Any idea what I missed?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1698843137,"post_id":77402717,"comment_id":136455796,"body_markdown":"Check the answers here: https://stackoverflow.com/questions/54235387/how-to-set-proxy-on-aws-java-sdk-v2-apache-client","body":"Check the answers here: <a href=\"https://stackoverflow.com/questions/54235387/how-to-set-proxy-on-aws-java-sdk-v2-apache-client\" title=\"how to set proxy on aws java sdk v2 apache client\">stackoverflow.com/questions/54235387/&hellip;</a>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1698846176,"post_id":77402717,"comment_id":136458760,"body_markdown":"This is documented in the *AWS SDK Jave V2 Developer Guide*. This topic contains information on how to configure the Apache-based HTTP client. See this topic: [Configure the Apache-based HTTP client](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html#http-configuration-apache-proxy-conf-ex)","body":"This is documented in the <i>AWS SDK Jave V2 Developer Guide</i>. This topic contains information on how to configure the Apache-based HTTP client. See this topic: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html#http-configuration-apache-proxy-conf-ex\" rel=\"nofollow noreferrer\">Configure the Apache-based HTTP client</a>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1698846252,"post_id":77402717,"comment_id":136456459,"body_markdown":"What docs are you referring to when you state this is not documented. Are you looking in a Service Guide or the Java V2 Dev Guide. I posted a link in the DEV Guide.","body":"What docs are you referring to when you state this is not documented. Are you looking in a Service Guide or the Java V2 Dev Guide. I posted a link in the DEV Guide."}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14440,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698845693,"creation_date":1698845693,"answer_id":77403044,"question_id":77402717,"body_markdown":"You can easily build your own custom http client for the AWS SDK:\r\n\r\n```java\r\n@PostConstruct\r\npublic void init() {\r\n  final SdkHttpClient httpClient = ApacheHttpClient.builder()\r\n            .proxyConfiguration(ProxyConfiguration.builder()\r\n            .useSystemPropertyValues(true)\r\n            .build())\r\n       .build();\r\n\r\n  lambdaClient = LambdaClient.builder().httpClient(httpClient).build();\r\n}\r\n```\r\n\r\n- [HTTP clients](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration.html)\r\n- [ProxyConfiguration](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/apache/ProxyConfiguration.html)\r\n- [SdkHttpClient](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/SdkHttpClient.html)","title":"how to use a proxy above an aws lambda invocation","body":"<p>You can easily build your own custom http client for the AWS SDK:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostConstruct\npublic void init() {\n  final SdkHttpClient httpClient = ApacheHttpClient.builder()\n            .proxyConfiguration(ProxyConfiguration.builder()\n            .useSystemPropertyValues(true)\n            .build())\n       .build();\n\n  lambdaClient = LambdaClient.builder().httpClient(httpClient).build();\n}\n</code></pre>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration.html\" rel=\"nofollow noreferrer\">HTTP clients</a></li>\n<li><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/apache/ProxyConfiguration.html\" rel=\"nofollow noreferrer\">ProxyConfiguration</a></li>\n<li><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/http/SdkHttpClient.html\" rel=\"nofollow noreferrer\">SdkHttpClient</a></li>\n</ul>\n"}],"owner":{"account_id":14370282,"reputation":303,"user_id":10380228,"display_name":"Alexander Argyriou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77403044,"answer_count":1,"score":1,"last_activity_date":1698846176,"creation_date":1698842585,"question_id":77402717,"body_markdown":"I want to invoke an aws lambda function through java code using the aws lamdba sdk while specifying a proxy above the client. How can I achieve such scenario? I did not manage to locate any documentation on aws docs.\r\n\r\nI am using \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have something like this, and i want to specify a proxy here. Any idea?\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        lambdaClient = LambdaClient.builder()\r\n                // specify a proxy here maybe or a custom httpclient ?\r\n                .region(Region.EU_SOUTH_1)\r\n                .build();\r\n    }\r\n\r\n ","title":"how to use a proxy above an aws lambda invocation","body":"<p>I want to invoke an aws lambda function through java code using the aws lamdba sdk while specifying a proxy above the client. How can I achieve such scenario? I did not manage to locate any documentation on aws docs.</p>\n<p>I am using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;lambda&lt;/artifactId&gt;\n    &lt;version&gt;2.21.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have something like this, and i want to specify a proxy here. Any idea?</p>\n<pre><code>@PostConstruct\npublic void init() {\n    lambdaClient = LambdaClient.builder()\n            // specify a proxy here maybe or a custom httpclient ?\n            .region(Region.EU_SOUTH_1)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","dto","modelmapper"],"comments":[{"owner":{"account_id":10752975,"reputation":761,"user_id":7911712,"display_name":"Luay Abdulraheem"},"score":1,"creation_date":1526349504,"post_id":50319545,"comment_id":87698685,"body_markdown":"I haven&#39;t used `ModelMapper` before, but I think you need to check the matching strategy: [link](http://modelmapper.org/user-manual/configuration/#matching-strategies).","body":"I haven&#39;t used <code>ModelMapper</code> before, but I think you need to check the matching strategy: <a href=\"http://modelmapper.org/user-manual/configuration/#matching-strategies\" rel=\"nofollow noreferrer\">link</a>."}],"answers":[{"tags":[],"owner":{"account_id":14710096,"reputation":501,"user_id":10623693,"display_name":"Mo Hamid"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1575450842,"creation_date":1575450842,"answer_id":59172473,"question_id":50319545,"body_markdown":"you have to generate public setters functions for the target class, in your case (Accommodation Entity). elsewise the Modelmapper cannot access the private fields of your class to set their values.","title":"ModelMapper returns NULL when trying to map Entity to DTO object","body":"<p>you have to generate public setters functions for the target class, in your case (Accommodation Entity). elsewise the Modelmapper cannot access the private fields of your class to set their values.</p>\n"},{"tags":[],"owner":{"account_id":10838796,"reputation":167,"user_id":7970858,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698846049,"creation_date":1698846049,"answer_id":77403069,"question_id":50319545,"body_markdown":"I suggest two solutions to your problem.\r\n\r\n**Solution 1**\r\n\r\nIn your dto object AccommodationView try to add `@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)`. Or add for every dto field annotation `@JsonPrperty`. that two ways could help to map dto object and json postman response.\r\n\r\n**Solution 2**\r\n\r\nSeems that the problem you have is about mapstruct or/and lombok. I would recommand you to check if generated mapper impl mapstruct file ModelMapperImpl looks good (you should have for every entity field an instruction for mapping with dto associated field or/and vice versa).\r\n\r\nIf this is not the case, check if lombok, mapstruct and lombok-mapstruct-binding deps are well configured in you pom.xml or build.gradle file ( [here an example for this implementation with maven][1] ). Also, For your IDE check if lombok is well configured ([by installing lombok plugins and enabling annotation processors][2])\r\n\r\n\r\n  [1]: https://bootify.io/spring-data/mapstruct-with-maven-and-lombok.html\r\n  [2]: https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea","title":"ModelMapper returns NULL when trying to map Entity to DTO object","body":"<p>I suggest two solutions to your problem.</p>\n<p><strong>Solution 1</strong></p>\n<p>In your dto object AccommodationView try to add <code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</code>. Or add for every dto field annotation <code>@JsonPrperty</code>. that two ways could help to map dto object and json postman response.</p>\n<p><strong>Solution 2</strong></p>\n<p>Seems that the problem you have is about mapstruct or/and lombok. I would recommand you to check if generated mapper impl mapstruct file ModelMapperImpl looks good (you should have for every entity field an instruction for mapping with dto associated field or/and vice versa).</p>\n<p>If this is not the case, check if lombok, mapstruct and lombok-mapstruct-binding deps are well configured in you pom.xml or build.gradle file ( <a href=\"https://bootify.io/spring-data/mapstruct-with-maven-and-lombok.html\" rel=\"nofollow noreferrer\">here an example for this implementation with maven</a> ). Also, For your IDE check if lombok is well configured (<a href=\"https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea\">by installing lombok plugins and enabling annotation processors</a>)</p>\n"}],"owner":{"account_id":11692986,"reputation":1489,"user_id":8560600,"accept_rate":100,"display_name":"Stefan Radonjic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13713,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1698846049,"creation_date":1526237395,"question_id":50319545,"body_markdown":"Here is the class of the object I am trying to map:\r\n\r\n    package com.agent.module.entities;\r\n    \r\n    \r\n    import java.util.Set;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToMany;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.OneToMany;\r\n    \r\n    import org.hibernate.annotations.Cascade;\r\n    import org.hibernate.annotations.CascadeType;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.experimental.Accessors;\r\n    \r\n    @Entity\r\n    @Getter @Setter @NoArgsConstructor\r\n    @Accessors\r\n    public class Accommodation {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String location;\r\n    \t@ManyToOne(optional=false, fetch=FetchType.EAGER)\r\n    \tprivate AccommodationType type;\r\n    \r\n    \tprivate String description;\r\n    \r\n    \tprivate String name;\r\n    \t@OneToMany(orphanRemoval=true, fetch=FetchType.EAGER)\r\n    \t@Cascade(CascadeType.ALL)\r\n    \tprivate Set&lt;Document&gt; images;\r\n    \r\n    \tprivate Integer capacity;\r\n    \t@ManyToMany(fetch=FetchType.EAGER)\r\n    \tprivate Set&lt;AdditionalService&gt; additionalServices;\r\n    \r\n    \t@OneToMany(orphanRemoval=true, fetch=FetchType.EAGER)\r\n    \t@Cascade(CascadeType.ALL)\r\n    \tprivate Set&lt;PricePlan&gt; pricePlan;\r\n    \r\n    \t@ManyToOne(optional=false, fetch=FetchType.LAZY)\r\n    \tprivate Agent agent;\r\n    \r\n    \t@OneToMany(orphanRemoval=true, mappedBy=&quot;accommodation&quot;, fetch=FetchType.EAGER)\r\n    \t@Cascade(CascadeType.ALL)\r\n    \tprivate Set&lt;Restriction&gt; restrictions;\r\n    \r\n    \t@ManyToOne(fetch=FetchType.EAGER)\r\n    \tprivate Category category;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Name: &quot;+name+&quot;\\n&quot;+&quot;Agent PIB: &quot;+agent.toString()+&quot;\\n&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd here is my DTO object:\r\n\r\n    package com.agent.module.dto;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter @Setter @NoArgsConstructor\r\n    @XmlRootElement\r\n    public class AccommodationView {\r\n    \tprivate Long id;\r\n    \tprivate String location;\r\n    \tprivate String typeName;\r\n    \tprivate String description;\r\n    \tprivate String name;\r\n    \tprivate List&lt;String&gt; imagesPath;\r\n    \tprivate Integer capacity;\r\n    \tprivate List&lt;String&gt; additionalServicesName;\r\n    \tprivate List&lt;PricePlanView&gt; pricePlan;\r\n    \tprivate String agentUsername;\r\n    \tprivate List&lt;RestrictionView&gt; restrictions;\r\n    \tprivate String categoryName;\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ID: &quot;+id+&quot;\\n&quot;+&quot;Type: &quot;+typeName+&quot;\\n&quot;+&quot;Description: &quot;+description+&quot;\\n&quot;+&quot;Category: &quot;+categoryName+&quot;\\n&quot;+&quot;Name: &quot;+name+&quot;\\n&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nWhen I open my Postman and try to get all the `Accommodation` objects from **MySQL** database, I actually want to get DTO objects, and in order to do that I am using `ModelMapper`. But for some reason every time I try to map `Accommodation` to `AccommodationView`, I get Null in return. Here is the class where I am trying to perform the mapping:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/accommodation&quot;)\r\n    public class AccommodationController {\r\n    \r\n    \t@Autowired\r\n    \tAccommodationRepo accommodationRepo;\r\n    \t\r\n    \t@Autowired \r\n    \tModelMapper mapper;\r\n    \t\r\n    \t@RequestMapping(value=&quot;/all&quot;,\r\n    \t\t\tmethod = RequestMethod.GET,\r\n    \t\t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n    \t@ResponseBody\r\n    \tResponseEntity&lt;List&lt;AccommodationView&gt;&gt; getAll(){\r\n    \t\tList&lt;Accommodation&gt; accommodations = accommodationRepo.findAll();\r\n    \t\t\r\n    \t\tList&lt;AccommodationView&gt; accommodationViewList= new ArrayList&lt;AccommodationView&gt;();\r\n    \t\t\r\n    \t\tfor(Accommodation accommodation : accommodations) {\r\n    \t\t\tSystem.out.println(accommodation);\r\n    \t\t\tSystem.out.println(convertToDto(accommodation));\r\n    \t\t\taccommodationViewList.add(convertToDto(accommodation));\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;List&lt;AccommodationView&gt;&gt;(accommodationViewList, HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    \tprivate AccommodationView convertToDto(Accommodation accommodation) {\r\n    \t\treturn mapper.map(accommodation, AccommodationView.class);\r\n    \t}\r\n    \r\n    \tprivate Accommodation convertToEntity(AccommodationView accommodationView) {\r\n    \t\treturn mapper.map(accommodationView, Accommodation.class);\r\n    \t}\r\n    }\r\n\r\nHere is the output I get when I hit the method:\r\n\r\n    Name: Test\r\n    Agent PIB: 2308995710368\r\n    \r\n    ID: null\r\n    Type: null\r\n    Description: null\r\n    Category: null\r\n    Name: null\r\n\r\nFirst part of the output is from `Accommodation` object, and second part of the output is from `AccommodationView` object. If anyone has any idea whats going on I would really appreciate the help.\r\n","title":"ModelMapper returns NULL when trying to map Entity to DTO object","body":"<p>Here is the class of the object I am trying to map:</p>\n\n<pre><code>package com.agent.module.entities;\n\n\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport org.hibernate.annotations.Cascade;\nimport org.hibernate.annotations.CascadeType;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.Accessors;\n\n@Entity\n@Getter @Setter @NoArgsConstructor\n@Accessors\npublic class Accommodation {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String location;\n    @ManyToOne(optional=false, fetch=FetchType.EAGER)\n    private AccommodationType type;\n\n    private String description;\n\n    private String name;\n    @OneToMany(orphanRemoval=true, fetch=FetchType.EAGER)\n    @Cascade(CascadeType.ALL)\n    private Set&lt;Document&gt; images;\n\n    private Integer capacity;\n    @ManyToMany(fetch=FetchType.EAGER)\n    private Set&lt;AdditionalService&gt; additionalServices;\n\n    @OneToMany(orphanRemoval=true, fetch=FetchType.EAGER)\n    @Cascade(CascadeType.ALL)\n    private Set&lt;PricePlan&gt; pricePlan;\n\n    @ManyToOne(optional=false, fetch=FetchType.LAZY)\n    private Agent agent;\n\n    @OneToMany(orphanRemoval=true, mappedBy=\"accommodation\", fetch=FetchType.EAGER)\n    @Cascade(CascadeType.ALL)\n    private Set&lt;Restriction&gt; restrictions;\n\n    @ManyToOne(fetch=FetchType.EAGER)\n    private Category category;\n\n    @Override\n    public String toString() {\n        return \"Name: \"+name+\"\\n\"+\"Agent PIB: \"+agent.toString()+\"\\n\";\n    }\n\n}\n</code></pre>\n\n<p>And here is my DTO object:</p>\n\n<pre><code>package com.agent.module.dto;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlRootElement;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter @Setter @NoArgsConstructor\n@XmlRootElement\npublic class AccommodationView {\n    private Long id;\n    private String location;\n    private String typeName;\n    private String description;\n    private String name;\n    private List&lt;String&gt; imagesPath;\n    private Integer capacity;\n    private List&lt;String&gt; additionalServicesName;\n    private List&lt;PricePlanView&gt; pricePlan;\n    private String agentUsername;\n    private List&lt;RestrictionView&gt; restrictions;\n    private String categoryName;\n\n    @Override\n    public String toString() {\n        return \"ID: \"+id+\"\\n\"+\"Type: \"+typeName+\"\\n\"+\"Description: \"+description+\"\\n\"+\"Category: \"+categoryName+\"\\n\"+\"Name: \"+name+\"\\n\";\n    }\n\n}\n</code></pre>\n\n<p>When I open my Postman and try to get all the <code>Accommodation</code> objects from <strong>MySQL</strong> database, I actually want to get DTO objects, and in order to do that I am using <code>ModelMapper</code>. But for some reason every time I try to map <code>Accommodation</code> to <code>AccommodationView</code>, I get Null in return. Here is the class where I am trying to perform the mapping:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/accommodation\")\npublic class AccommodationController {\n\n    @Autowired\n    AccommodationRepo accommodationRepo;\n\n    @Autowired \n    ModelMapper mapper;\n\n    @RequestMapping(value=\"/all\",\n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    ResponseEntity&lt;List&lt;AccommodationView&gt;&gt; getAll(){\n        List&lt;Accommodation&gt; accommodations = accommodationRepo.findAll();\n\n        List&lt;AccommodationView&gt; accommodationViewList= new ArrayList&lt;AccommodationView&gt;();\n\n        for(Accommodation accommodation : accommodations) {\n            System.out.println(accommodation);\n            System.out.println(convertToDto(accommodation));\n            accommodationViewList.add(convertToDto(accommodation));\n        }\n\n        return new ResponseEntity&lt;List&lt;AccommodationView&gt;&gt;(accommodationViewList, HttpStatus.OK);\n    }\n\n    private AccommodationView convertToDto(Accommodation accommodation) {\n        return mapper.map(accommodation, AccommodationView.class);\n    }\n\n    private Accommodation convertToEntity(AccommodationView accommodationView) {\n        return mapper.map(accommodationView, Accommodation.class);\n    }\n}\n</code></pre>\n\n<p>Here is the output I get when I hit the method:</p>\n\n<pre><code>Name: Test\nAgent PIB: 2308995710368\n\nID: null\nType: null\nDescription: null\nCategory: null\nName: null\n</code></pre>\n\n<p>First part of the output is from <code>Accommodation</code> object, and second part of the output is from <code>AccommodationView</code> object. If anyone has any idea whats going on I would really appreciate the help.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":875392,"reputation":1699,"user_id":925141,"display_name":"Ryan J. McDonough"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1560273549,"creation_date":1560273549,"answer_id":56548807,"question_id":54235387,"body_markdown":"You seem to be bringing in multiple versions of the AWS SDK for Java. Try using the &quot;[Bill of Materials][1]&quot; BOM approach using import scope like so:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.60&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nWith that defined, bring the specific parts you want:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;iam&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nYou won&#39;t need to specify the versions as that&#39;s being covered by the BOM. Once you have the dependencies set up correctly, you can do something like this:\r\n\r\n      final SdkHttpClient httpClient = ApacheHttpClient.builder()\r\n                .proxyConfiguration(ProxyConfiguration.builder()\r\n                        .useSystemPropertyValues(true)\r\n                        .build())\r\n                .build();\r\n      this.s3client = S3Client.builder().httpClient(httpClient).build();\r\n\r\nI&#39;m using the useSystemPropertyValues so that it&#39;ll pick up the [standard system properties][2] for setting the proxy values as a matter of convenience. All of this works for us and the proxies are being used correctly. \r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2#importing-the-bom\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html","title":"How to set proxy on AWS Java SDK v2 Apache client","body":"<p>You seem to be bringing in multiple versions of the AWS SDK for Java. Try using the \"<a href=\"https://github.com/aws/aws-sdk-java-v2#importing-the-bom\" rel=\"noreferrer\">Bill of Materials</a>\" BOM approach using import scope like so:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;bom&lt;/artifactId&gt;\n      &lt;version&gt;2.5.60&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>With that defined, bring the specific parts you want:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;iam&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>You won't need to specify the versions as that's being covered by the BOM. Once you have the dependencies set up correctly, you can do something like this:</p>\n\n<pre><code>  final SdkHttpClient httpClient = ApacheHttpClient.builder()\n            .proxyConfiguration(ProxyConfiguration.builder()\n                    .useSystemPropertyValues(true)\n                    .build())\n            .build();\n  this.s3client = S3Client.builder().httpClient(httpClient).build();\n</code></pre>\n\n<p>I'm using the useSystemPropertyValues so that it'll pick up the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">standard system properties</a> for setting the proxy values as a matter of convenience. All of this works for us and the proxies are being used correctly. </p>\n"},{"tags":[],"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586090056,"creation_date":1586090056,"answer_id":61042655,"question_id":54235387,"body_markdown":"There is some issue when you are trying to use non-system proxy, fe : \r\n\r\n \r\n\r\n    final SdkHttpClient httpClient = ApacheHttpClient.builder()\r\n                \t\t\t\t\t\t\t\t\t\t\t.proxyConfiguration(ProxyConfiguration.builder()\r\n                \t\t\t\t\t\t\t\t\t\t\t\t\t                              .useSystemPropertyValues(false)\r\n                \t\t\t\t\t\t\t\t\t\t\t\t\t                               .endpoint(URI.create(&quot;localhost:9090&quot;))\r\n                \t\t\t\t\t\t\t\t\t\t\t\t\t                               .build()\r\n                \t\t\t\t\t\t\t\t\t\t\t\t\t            )\r\n    \r\n    \r\n                \t\t\t\t\t\t\t\t\t\t.build();\r\n                clientBuilder = clientBuilder.httpClient(httpClient);\r\n\r\n.... For this code the proxy is ignored !!!  I have seen this old post (https://github.com/aws/aws-sdk-java-v2/issues/751) and aparentelly has not been fixed !! ","title":"How to set proxy on AWS Java SDK v2 Apache client","body":"<p>There is some issue when you are trying to use non-system proxy, fe : </p>\n\n<pre><code>final SdkHttpClient httpClient = ApacheHttpClient.builder()\n                                                        .proxyConfiguration(ProxyConfiguration.builder()\n                                                                                              .useSystemPropertyValues(false)\n                                                                                               .endpoint(URI.create(\"localhost:9090\"))\n                                                                                               .build()\n                                                                            )\n\n\n                                                    .build();\n            clientBuilder = clientBuilder.httpClient(httpClient);\n</code></pre>\n\n<p>.... For this code the proxy is ignored !!!  I have seen this old post (<a href=\"https://github.com/aws/aws-sdk-java-v2/issues/751\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/751</a>) and aparentelly has not been fixed !! </p>\n"},{"tags":[],"owner":{"account_id":20415691,"reputation":71,"user_id":14977951,"display_name":"Jai"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1610291796,"creation_date":1610291796,"answer_id":65654821,"question_id":54235387,"body_markdown":"To run your Junit tests against dynamoDB from your local system behind Proxy firewall, use the following snippet of code. I used java 8, aws sdk 2x, dynamodb 2.15.x, Maven 4.x and IntelliJ 2020.3.\r\n\r\n```\r\n private DynamoDbClient createDynamoDbClient() {\r\n    SdkHttpClient apacheClient = ApacheHttpClient.builder()\r\n      .socketTimeout(Duration.ofSeconds(20))\r\n      .connectionTimeout(Duration.ofSeconds(5))\r\n      .proxyConfiguration(ProxyConfiguration.builder()\r\n        .useSystemPropertyValues(false)\r\n        .endpoint(URI.create(&quot;http://&lt;proxyip&gt;:&lt;port&gt;&quot;))\r\n        .username(&quot;&lt;userId&gt;&quot;)\r\n        .password(&quot;&lt;pwd&gt;&quot;)\r\n        .build())\r\n      .build();\r\n\r\n    DynamoDbClient dynamoDbClient = DynamoDbClient.builder()\r\n      .region(Region.US_EAST_1)      \r\n      .httpClient(apacheClient)\r\n      .credentialsProvider(ProfileCredentialsProvider.builder()\r\n        .profileName(&quot;default&quot;)\r\n        .build())\r\n      .build();\r\n\r\n    return dynamoDbClient;\r\n  }\r\n```","title":"How to set proxy on AWS Java SDK v2 Apache client","body":"<p>To run your Junit tests against dynamoDB from your local system behind Proxy firewall, use the following snippet of code. I used java 8, aws sdk 2x, dynamodb 2.15.x, Maven 4.x and IntelliJ 2020.3.</p>\n<pre><code> private DynamoDbClient createDynamoDbClient() {\n    SdkHttpClient apacheClient = ApacheHttpClient.builder()\n      .socketTimeout(Duration.ofSeconds(20))\n      .connectionTimeout(Duration.ofSeconds(5))\n      .proxyConfiguration(ProxyConfiguration.builder()\n        .useSystemPropertyValues(false)\n        .endpoint(URI.create(&quot;http://&lt;proxyip&gt;:&lt;port&gt;&quot;))\n        .username(&quot;&lt;userId&gt;&quot;)\n        .password(&quot;&lt;pwd&gt;&quot;)\n        .build())\n      .build();\n\n    DynamoDbClient dynamoDbClient = DynamoDbClient.builder()\n      .region(Region.US_EAST_1)      \n      .httpClient(apacheClient)\n      .credentialsProvider(ProfileCredentialsProvider.builder()\n        .profileName(&quot;default&quot;)\n        .build())\n      .build();\n\n    return dynamoDbClient;\n  }\n</code></pre>\n"}],"owner":{"account_id":3779712,"reputation":7022,"user_id":3139545,"accept_rate":62,"display_name":"user3139545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11942,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1698845980,"creation_date":1547726027,"question_id":54235387,"body_markdown":"It look like there is no good source on how to do this, the two places where I have found information are the following:\r\n\r\n[First link][1]. This looks to be the most up to date version. However I am not able to find the `software.amazon.awssdk.http.apache.ApacheHttpClient` anywhere in my project even when I have the dependency. \r\n\r\n     &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;aws-http-client-apache&lt;/artifactId&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;version&gt;2.0.0-preview-1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe [second link][2] looks to provide an outdated version on how to configure clients. The following code in the example looks not to be valid:\r\n\r\n    DynamoDBClient client =\r\n            DynamoDBClient.builder()\r\n                          .httpConfiguration(ClientHttpConfiguration.builder()\r\n                                                                    .httpClientFactory(apacheClientFactory)\r\n                                                                    .build())\r\n                          .build();\r\n\r\n`ClientHttpConfiguration` Is not available and the httpConfiguration method is not available on the clients.\r\n\r\n \r\n\r\n\r\nTrying to hack something together gives me the following code:\r\n\r\n    ProxyConfiguration proxyConfiguration = ProxyConfiguration.builder().endpoint(URI.create(&quot;host:port&quot;)).username(&quot;usr&quot;).password(&quot;pwd&quot;).build();\r\n\r\n    SdkHttpClient apacheClientFactory =\r\n            ApacheSdkHttpClientFactory.builder()\r\n                    .socketTimeout(Duration.ofSeconds(10))\r\n                    .connectionTimeout(Duration.ofMillis(750))\r\n                    .proxyConfiguration(proxyConfiguration).build().createHttpClient();\r\n\r\n\r\n    this.s3client = S3Client.builder().httpClient(apacheClientFactory).build();\r\n\r\nThis compiles but I get lots of `java.lang.ClassNotFoundException: software.amazon.awssdk.http.ExecutableHttpRequest` exceptions that I dont understand where they are coming from or how to fix.\r\n\r\n&gt; So my question is what is the correct way to setup a proxy for the\r\n&gt; `2.3.2` version of AWS Java SDK v2 and why is my implementation not\r\n&gt; working?\r\n\r\n### Update ###\r\nWhen I add the following dependency I get another error:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nError:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: software.amazon.awssdk.http.SdkHttpClient$Builder\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/blob/master/docs/LaunchChangelog.md#13-sdk-client-configuration\r\n  [2]: https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-0-developer-preview/","title":"How to set proxy on AWS Java SDK v2 Apache client","body":"<p>It look like there is no good source on how to do this, the two places where I have found information are the following:</p>\n\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/blob/master/docs/LaunchChangelog.md#13-sdk-client-configuration\" rel=\"noreferrer\">First link</a>. This looks to be the most up to date version. However I am not able to find the <code>software.amazon.awssdk.http.apache.ApacheHttpClient</code> anywhere in my project even when I have the dependency. </p>\n\n<pre><code> &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\n  &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;artifactId&gt;aws-http-client-apache&lt;/artifactId&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;version&gt;2.0.0-preview-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The <a href=\"https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-0-developer-preview/\" rel=\"noreferrer\">second link</a> looks to provide an outdated version on how to configure clients. The following code in the example looks not to be valid:</p>\n\n<pre><code>DynamoDBClient client =\n        DynamoDBClient.builder()\n                      .httpConfiguration(ClientHttpConfiguration.builder()\n                                                                .httpClientFactory(apacheClientFactory)\n                                                                .build())\n                      .build();\n</code></pre>\n\n<p><code>ClientHttpConfiguration</code> Is not available and the httpConfiguration method is not available on the clients.</p>\n\n<p>Trying to hack something together gives me the following code:</p>\n\n<pre><code>ProxyConfiguration proxyConfiguration = ProxyConfiguration.builder().endpoint(URI.create(\"host:port\")).username(\"usr\").password(\"pwd\").build();\n\nSdkHttpClient apacheClientFactory =\n        ApacheSdkHttpClientFactory.builder()\n                .socketTimeout(Duration.ofSeconds(10))\n                .connectionTimeout(Duration.ofMillis(750))\n                .proxyConfiguration(proxyConfiguration).build().createHttpClient();\n\n\nthis.s3client = S3Client.builder().httpClient(apacheClientFactory).build();\n</code></pre>\n\n<p>This compiles but I get lots of <code>java.lang.ClassNotFoundException: software.amazon.awssdk.http.ExecutableHttpRequest</code> exceptions that I dont understand where they are coming from or how to fix.</p>\n\n<blockquote>\n  <p>So my question is what is the correct way to setup a proxy for the\n  <code>2.3.2</code> version of AWS Java SDK v2 and why is my implementation not\n  working?</p>\n</blockquote>\n\n<h3>Update</h3>\n\n<p>When I add the following dependency I get another error:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n  &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: software.amazon.awssdk.http.SdkHttpClient$Builder\n</code></pre>\n"},{"tags":["java","atoi"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1698842803,"post_id":77402690,"comment_id":136455740,"body_markdown":"`ans` is empty; `i == s.length()` when the second `while` loop is executed, so nothing gets added to `ans` (the error message *includes* the wrong string, in this case empty) - maybe better use `for` loops instead of `while` (or at least reset the value of `i` before starting the second `while` loop) -- you should use a debugger to see what exactly is happening","body":"<code>ans</code> is empty; <code>i == s.length()</code> when the second <code>while</code> loop is executed, so nothing gets added to <code>ans</code> (the error message <i>includes</i> the wrong string, in this case empty) - maybe better use <code>for</code> loops instead of <code>while</code> (or at least reset the value of <code>i</code> before starting the second <code>while</code> loop) -- you should use a debugger to see what exactly is happening"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1698843119,"post_id":77402690,"comment_id":136455791,"body_markdown":"The while loop never executes because i is equal to s.length(). A debugger or some judicious println calls will assist.","body":"The while loop never executes because i is equal to s.length(). A debugger or some judicious println calls will assist."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1698843152,"post_id":77402690,"comment_id":136455801,"body_markdown":"Don’t use “magic numbers” like `48`, `57`, or `45` when you can use constants expressing the intent, i.e. `&#39;0&#39;`, `&#39;9&#39;`, or `&#39;-&#39;`. Further, what is `s.charAt(i)==0` supposed to test? Java Strings usually don’t contain zero codepoints. And where’s the sense in trying to implement a string to number parsing method yourself, when you end up calling `Long.parseLong(ans)` which does already the entire job of parsing a string to number?","body":"Don’t use “magic numbers” like <code>48</code>, <code>57</code>, or <code>45</code> when you can use constants expressing the intent, i.e. <code>&#39;0&#39;</code>, <code>&#39;9&#39;</code>, or <code>&#39;-&#39;</code>. Further, what is <code>s.charAt(i)==0</code> supposed to test? Java Strings usually don’t contain zero codepoints. And where’s the sense in trying to implement a string to number parsing method yourself, when you end up calling <code>Long.parseLong(ans)</code> which does already the entire job of parsing a string to number?"},{"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"score":0,"creation_date":1698843190,"post_id":77402690,"comment_id":136455808,"body_markdown":"I implemented this code in the leetcode : https://leetcode.com/problems/string-to-integer-atoi/. But the code gave me error, also the first while loop checked for spaces, then I checked for the sign and then the second while loop was implemented to find the number.","body":"I implemented this code in the leetcode : <a href=\"https://leetcode.com/problems/string-to-integer-atoi/\" rel=\"nofollow noreferrer\">leetcode.com/problems/string-to-integer-atoi</a>. But the code gave me error, also the first while loop checked for spaces, then I checked for the sign and then the second while loop was implemented to find the number."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1698843617,"post_id":77402690,"comment_id":136455875,"body_markdown":"A zero codepoint is not a space. White-space are characters like `&#39; &#39;` or `&#39;\\t&#39;` (`32` resp. `9` but as said, use the character constants rather than the numbers). Even better is using `Character.isWhitespace(s.charAt(i))`. The standard idiom for decimal number parsing is: 1. Start with a value of zero 2. For each digit, multiple the current value by ten and add the digit’s numeric value. This allows you to also stop the loop when detecting that the value space is exceeded, as that’s required by the task.","body":"A zero codepoint is not a space. White-space are characters like <code>&#39; &#39;</code> or <code>&#39;\\t&#39;</code> (<code>32</code> resp. <code>9</code> but as said, use the character constants rather than the numbers). Even better is using <code>Character.isWhitespace(s.charAt(i))</code>. The standard idiom for decimal number parsing is: 1. Start with a value of zero 2. For each digit, multiple the current value by ten and add the digit’s numeric value. This allows you to also stop the loop when detecting that the value space is exceeded, as that’s required by the task."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1698844125,"post_id":77402690,"comment_id":136455983,"body_markdown":"@closevoters Why closing with need debugging details? There is expected output (string parsed to int), actual result (exception) and minimal, reproducible example (copy/pasting the code is enough to reproduce the issue). All the information needed for a debugging question is available.","body":"@closevoters Why closing with need debugging details? There is expected output (string parsed to int), actual result (exception) and minimal, reproducible example (copy/pasting the code is enough to reproduce the issue). All the information needed for a debugging question is available."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698853451,"post_id":77402690,"comment_id":136458156,"body_markdown":"@Chaosfire the input is not in the question?","body":"@Chaosfire the input is not in the question?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1698853850,"post_id":77402690,"comment_id":136458231,"body_markdown":"@aled It&#39;s reproducible for **any** input.","body":"@aled It&#39;s reproducible for <b>any</b> input."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698912837,"post_id":77402690,"comment_id":136465194,"body_markdown":"BTW, AFAIK, in C and similar, strings are terminated by a ZERO character - unlike in Java where we have a `length` attribute. Not sure if that is the reason for posted code to check for ZERO; hard to say since `j` is never really used","body":"BTW, AFAIK, in C and similar, strings are terminated by a ZERO character - unlike in Java where we have a <code>length</code> attribute. Not sure if that is the reason for posted code to check for ZERO; hard to say since <code>j</code> is never really used"}],"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698845596,"creation_date":1698842371,"question_id":77402690,"body_markdown":"I am trying to implement the Atoi function in java, but it is showing me the error as:\r\n     \r\n```java   \r\njava.lang.NumberFormatException: For input string: \r\nat line 67, java.base/java.lang.NumberFormatException.forInputString\r\nat line 721, java.base/java.lang.Long.parseLong\r\nat line 836, java.base/java.lang.Long.parseLong\r\nat line 26, Solution.myAtoi\r\nat line 54, __DriverSolution__.__helper__\r\nat line 84, __Driver__.main\r\n```\r\nThe code I implemented is as below :\r\n\r\n\r\n```java\r\nclass Solution {\r\n  \r\n  public int myAtoi(String s) {\r\n    String ans = &quot;&quot;;\r\n    int i = 0;\r\n    int j = 0;\r\n    int sign = 0;\r\n    while (i &lt; s.length() - 1) {\r\n      if (s.charAt(i) == 0) {\r\n        j++;\r\n      }\r\n      i++;\r\n    }\r\n    if (s.charAt(i) == 45) {\r\n      sign = -1;\r\n    } else {\r\n      sign = +1;\r\n    }\r\n    i++;\r\n    j++;\r\n    while (i &lt; s.length() - 1) {\r\n      if (s.charAt(i) &gt;= 48 &amp;&amp; s.charAt(i) &lt;= 57) {\r\n        ans = ans + s.charAt(i);\r\n      }\r\n    }\r\n    long x = Long.parseLong(ans);\r\n    if (sign == (-1)) {\r\n      x = x * (-1);\r\n    }\r\n    int ret = (int) x;\r\n    return ret;\r\n  }\r\n}\r\n```\r\n\r\n\r\nCan anyone point out the error in the code?","title":"implement atoi function in java","body":"<p>I am trying to implement the Atoi function in java, but it is showing me the error as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NumberFormatException: For input string: \nat line 67, java.base/java.lang.NumberFormatException.forInputString\nat line 721, java.base/java.lang.Long.parseLong\nat line 836, java.base/java.lang.Long.parseLong\nat line 26, Solution.myAtoi\nat line 54, __DriverSolution__.__helper__\nat line 84, __Driver__.main\n</code></pre>\n<p>The code I implemented is as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n  \n  public int myAtoi(String s) {\n    String ans = &quot;&quot;;\n    int i = 0;\n    int j = 0;\n    int sign = 0;\n    while (i &lt; s.length() - 1) {\n      if (s.charAt(i) == 0) {\n        j++;\n      }\n      i++;\n    }\n    if (s.charAt(i) == 45) {\n      sign = -1;\n    } else {\n      sign = +1;\n    }\n    i++;\n    j++;\n    while (i &lt; s.length() - 1) {\n      if (s.charAt(i) &gt;= 48 &amp;&amp; s.charAt(i) &lt;= 57) {\n        ans = ans + s.charAt(i);\n      }\n    }\n    long x = Long.parseLong(ans);\n    if (sign == (-1)) {\n      x = x * (-1);\n    }\n    int ret = (int) x;\n    return ret;\n  }\n}\n</code></pre>\n<p>Can anyone point out the error in the code?</p>\n"},{"tags":["java","hibernate","gradle"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1698145545,"post_id":77348206,"comment_id":136365344,"body_markdown":"Does this maybe help? https://stackoverflow.com/questions/33305823/how-to-configure-hibernate-to-scan-for-entities-in-a-different-module","body":"Does this maybe help? <a href=\"https://stackoverflow.com/questions/33305823/how-to-configure-hibernate-to-scan-for-entities-in-a-different-module\" title=\"how to configure hibernate to scan for entities in a different module\">stackoverflow.com/questions/33305823/&hellip;</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698833070,"post_id":77348206,"comment_id":136454036,"body_markdown":"@berse2212 I don&#39;t think they want to scan for classes, they already added mappings in their `hibernate.cfg.xml`.","body":"@berse2212 I don&#39;t think they want to scan for classes, they already added mappings in their <code>hibernate.cfg.xml</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698833146,"post_id":77348206,"comment_id":136454048,"body_markdown":"Can you please include the `hibernate.cfg.xml` and the `persistence.xml` (if you have one) as well as your `build.gradle` in your post as well as show the full stack trace? I think the error might be due to hibernate 6 using Jakarta EE while previous versions used Java EE. Also, are you using anything starting with `javax.` anywhere in your project (e.g. `javax.persistence.Entity`)?","body":"Can you please include the <code>hibernate.cfg.xml</code> and the <code>persistence.xml</code> (if you have one) as well as your <code>build.gradle</code> in your post as well as show the full stack trace? I think the error might be due to hibernate 6 using Jakarta EE while previous versions used Java EE. Also, are you using anything starting with <code>javax.</code> anywhere in your project (e.g. <code>javax.persistence.Entity</code>)?"},{"owner":{"account_id":29737953,"reputation":1,"user_id":22790977,"display_name":"Mustafa Malik"},"score":0,"creation_date":1698834442,"post_id":77348206,"comment_id":136454254,"body_markdown":"@dan1st Edited. And no javax.persistence.Entity was used previously but i changed that to jakarta.persistence.* in all my entity classes","body":"@dan1st Edited. And no javax.persistence.Entity was used previously but i changed that to jakarta.persistence.* in all my entity classes"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698834876,"post_id":77348206,"comment_id":136454326,"body_markdown":"In your `hibernate.cfg.xml`, you have `&lt;mapping class=&quot;com.xxx.xxx.xxx.xxx.Test.class&gt;`. Is this missing an `&quot;` or is it just a typo in your edit? Also, is there really a `.class` at the end or is that just for demonstration?","body":"In your <code>hibernate.cfg.xml</code>, you have <code>&lt;mapping class=&quot;com.xxx.xxx.xxx.xxx.Test.class&gt;</code>. Is this missing an <code>&quot;</code> or is it just a typo in your edit? Also, is there really a <code>.class</code> at the end or is that just for demonstration?"},{"owner":{"account_id":29737953,"reputation":1,"user_id":22790977,"display_name":"Mustafa Malik"},"score":0,"creation_date":1698844056,"post_id":77348206,"comment_id":136455962,"body_markdown":"no no that was a typo, also there&#39;s no .class it was just for demonstration","body":"no no that was a typo, also there&#39;s no .class it was just for demonstration"}],"owner":{"account_id":29737953,"reputation":1,"user_id":22790977,"display_name":"Mustafa Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698845278,"creation_date":1698093661,"question_id":77348206,"body_markdown":"So I had a java 8 project using mysql 5 working totally fine, it uses hibernate as ORM and uses hibernate.cfg.xml mappings for HQL session.createCriteria(...) throughout the project.\r\n\r\nI was tasked to upgrade it to java 17 and mysql8, i changed the build.gradle files to use mysql 8 connector and jdk 17, then successfully all errors were removed. Upon running a bunch of errors were thrown depicting that says(one instance of the error):\r\n\r\n&gt; Caught exception: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Category&#39;\r\n\r\nOn the following piece of code:\r\n\r\n```\r\nCategory category = (Category) session.createQuery(&quot;FROM Category WHERE id= :id &quot;,Category.class)\r\n\t.setParameter(&quot;id&quot;,0)\r\n\t.setMaxResults(1)\r\n\t.uniqueResult();\r\n```\r\n\r\nThe above is just a single part where the same error is thrown, its being produced on almost all the queries (Specifically table names &amp; field names). \r\nI have verified the \r\n- Model Classes Names\r\n- fields names\r\n- their types\r\n\r\nyet the issue still persisted\r\n\r\nEven though i have an entity in my model classes by the exact same name:\r\n```\r\n@Entity\r\n@Table(name = &quot;settings_categories&quot;)\r\npublic class Category{\r\n.\r\n..\r\n....\r\n```\r\nI also verified my src/main/resources/hibernate.cfg.xml:\r\n```\r\n&lt;mapping class=&quot;com.xxx.xx.models.settings.Category&quot; /&gt;\r\n&lt;mapping class= ..............\r\nso on\r\n```\r\n\r\nThe error was removed after i used *configuration.addAnnotatedClass()*:\r\n\r\n```\r\nConfiguration configuration = new Configuration();\r\nconfiguration.configure(&quot;hibernate.cfg.xml&quot;);\r\nconfiguration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://&quot; + this._host + &quot;:&quot; + this._port + &quot;/&quot; + this._database);\r\nconfiguration.setProperty(&quot;hibernate.connection.username&quot;, this._username);\r\nconfiguration.setProperty(&quot;hibernate.connection.password&quot;, this._password);\r\n\r\nconfiguration.addAnnotatedClass(com.xxx.xx.models.settings.Category.class);\r\n```\r\n\r\n\r\nbut the above approach was not being used previously and the project was working fine plus I have a many tables so adding them like this explicitly doesn&#39;t make any sense?\r\n\r\nI even connected to the datasbe using this hibernate.cg.xml as a data source in the IDE and alll the tables were retreived fine from it.\r\n\r\nUsing:\r\n- Hibernate (6.2)\r\n- Gradle (7.3)\r\n- Java 17 \r\n- MySQL 8\r\n- IntelliJ Idea Ultimate(Throwing same errors on Eclipse IDE too)\r\n\r\nEDIT:\r\nHere&#39;s my hibernate.cfg.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.bytecode.use_reflection_optimizer&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;200&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;500&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;250&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.check_nullability&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/xxxx&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;xxx&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;xxx&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.search.autoregister_listeners&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.use_sql_comments&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n\t\t\r\n\t\t//All Entity Mapping classes\r\n\t\t\r\n        &lt;mapping class=&quot;com.xxx.xxx.xxx.xxx.TestClass&quot;&gt;\r\n        //And the remaining ones\r\n  \r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\nHere&#39;s my build.gradle:\r\n\r\n```\r\n//apply plugin: &#39;java&#39;\r\n\r\n\r\nplugins {\r\n    id &#39;antlr&#39;\r\n}\r\n\r\n\r\n//allprojects {\r\n//    apply plugin: &#39;java&#39;\r\n//    group = &#39;xxx&#39;\r\n//   version = &#39;15.5.8-fromBuildGradle&#39;\r\n//}\r\n\r\n//apply plugin: &#39;application&#39;\r\n//apply plugin: &#39;eclipse&#39;\r\n\r\nrepositories {\r\n    jcenter()\r\n    mavenCentral()\r\n    //maven {\r\n    //    url &quot;https://splunk.jfrog.io/splunk/ext-releases-local&quot;\r\n    //}\r\n}\r\n\r\ndependencies {\r\n    antlr &quot;org.antlr:antlr:3.5.2&quot;\r\n    implementation &#39;com.mchange:c3p0:0.9.5.4&#39;\r\n    implementation &quot;com.mchange:mchange-commons-java:0.2.3.4&quot;\r\n    implementation &quot;commons-collections:commons-collections:3.2.2&quot;\r\n    \r\n    implementation &quot;net.sf.ehcache:ehcache-core:2.4.3&quot;\r\n    implementation &quot;net.sf.ehcache:ehcache-parent:2.2&quot;\r\n    implementation &quot;org.apache:apache:13&quot;\r\n    implementation &quot;org.apache:apache:16&quot;\r\n    implementation &quot;org.apache.commons:commons-lang3:3.4&quot;\r\n    implementation &quot;org.apache.commons:commons-parent:39&quot;\r\n    implementation &quot;org.hamcrest:hamcrest-core:1.3&quot;\r\n    implementation &quot;org.hamcrest:hamcrest-parent:1.3&quot;\r\n    \r\n    implementation &quot;org.javassist:javassist:3.18.1-GA&quot;\r\n    implementation &quot;xml-apis:xml-apis:1.0.b2&quot;\r\n    implementation &#39;commons-codec:commons-codec:1.13&#39;\r\n    implementation &#39;org.json:json:20230227&#39;\r\n\r\n    implementation group: &quot;org.hibernate.orm&quot;, name: &quot;hibernate-core&quot;, version: &quot;6.2.5.Final&quot;\r\n    implementation group: &quot;mysql&quot;, name: &quot;mysql-connector-java&quot;, version: &quot;8.0.33&quot;\r\n\r\n    implementation group: &quot;com.rabbitmq&quot;, name: &quot;amqp-client&quot;, version: &#39;4.8.0&#39;\r\n    \r\n\r\n    implementation &#39;ch.qos.logback:logback-core:1.2.9&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.9&#39;\r\n    implementation &quot;com.github.loki4j:loki-logback-appender-jdk8:1.3.2&quot;\r\n    implementation &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;\r\n}\r\n\r\nconfigurations.all {\r\n    exclude module: &quot;slf4j-log4j12&quot;\r\n    exclude group: &quot;org.slf4j&quot;, module: &quot;log4j-over-slf4j&quot;\r\n    exclude group: &quot;org.slf4j&quot;, module: &quot;jul-to-slf4j&quot;\r\n    exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-over-log4j&quot;\r\n    exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\r\n    exclude group: &quot;ch.qos.logback.classic.log4j&quot;\r\n    exclude group: &quot;log4j&quot;, module: &quot;log4j-api&quot;\r\n    exclude group: &quot;log4j&quot;, module: &quot;log4j&quot;\r\n}\r\n\r\n```\r\n\r\nComplete Stack trace:\r\n\r\n```\r\n2023-11-01 14:45:05.719 ERROR c.w.e.c.i.d.xxxx:2321 - Caught exception: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Categor\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:795)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\r\n\tat xxxx\r\n\tat xxxx\r\n\tat xxxx\r\n\tat xxxx\r\n\tat xxxx\r\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Category&#39;\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1960)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:253)\r\n\tat org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:2473)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1874)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1865)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1141)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:937)\r\n\tat org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:253)\r\n\tat org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1818)\r\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Category&#39;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Could not resolve root Entity after upgrading from java 8 to java 17","body":"<p>So I had a java 8 project using mysql 5 working totally fine, it uses hibernate as ORM and uses hibernate.cfg.xml mappings for HQL session.createCriteria(...) throughout the project.</p>\n<p>I was tasked to upgrade it to java 17 and mysql8, i changed the build.gradle files to use mysql 8 connector and jdk 17, then successfully all errors were removed. Upon running a bunch of errors were thrown depicting that says(one instance of the error):</p>\n<blockquote>\n<p>Caught exception: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Category'</p>\n</blockquote>\n<p>On the following piece of code:</p>\n<pre><code>Category category = (Category) session.createQuery(&quot;FROM Category WHERE id= :id &quot;,Category.class)\n    .setParameter(&quot;id&quot;,0)\n    .setMaxResults(1)\n    .uniqueResult();\n</code></pre>\n<p>The above is just a single part where the same error is thrown, its being produced on almost all the queries (Specifically table names &amp; field names).\nI have verified the</p>\n<ul>\n<li>Model Classes Names</li>\n<li>fields names</li>\n<li>their types</li>\n</ul>\n<p>yet the issue still persisted</p>\n<p>Even though i have an entity in my model classes by the exact same name:</p>\n<pre><code>@Entity\n@Table(name = &quot;settings_categories&quot;)\npublic class Category{\n.\n..\n....\n</code></pre>\n<p>I also verified my src/main/resources/hibernate.cfg.xml:</p>\n<pre><code>&lt;mapping class=&quot;com.xxx.xx.models.settings.Category&quot; /&gt;\n&lt;mapping class= ..............\nso on\n</code></pre>\n<p>The error was removed after i used <em>configuration.addAnnotatedClass()</em>:</p>\n<pre><code>Configuration configuration = new Configuration();\nconfiguration.configure(&quot;hibernate.cfg.xml&quot;);\nconfiguration.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://&quot; + this._host + &quot;:&quot; + this._port + &quot;/&quot; + this._database);\nconfiguration.setProperty(&quot;hibernate.connection.username&quot;, this._username);\nconfiguration.setProperty(&quot;hibernate.connection.password&quot;, this._password);\n\nconfiguration.addAnnotatedClass(com.xxx.xx.models.settings.Category.class);\n</code></pre>\n<p>but the above approach was not being used previously and the project was working fine plus I have a many tables so adding them like this explicitly doesn't make any sense?</p>\n<p>I even connected to the datasbe using this hibernate.cg.xml as a data source in the IDE and alll the tables were retreived fine from it.</p>\n<p>Using:</p>\n<ul>\n<li>Hibernate (6.2)</li>\n<li>Gradle (7.3)</li>\n<li>Java 17</li>\n<li>MySQL 8</li>\n<li>IntelliJ Idea Ultimate(Throwing same errors on Eclipse IDE too)</li>\n</ul>\n<p>EDIT:\nHere's my hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.bytecode.use_reflection_optimizer&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;200&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;500&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;250&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.check_nullability&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/xxxx&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;xxx&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;xxx&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.format_sql&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.order_inserts&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.order_updates&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.search.autoregister_listeners&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.use_sql_comments&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\n        \n        //All Entity Mapping classes\n        \n        &lt;mapping class=&quot;com.xxx.xxx.xxx.xxx.TestClass&quot;&gt;\n        //And the remaining ones\n  \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Here's my build.gradle:</p>\n<pre><code>//apply plugin: 'java'\n\n\nplugins {\n    id 'antlr'\n}\n\n\n//allprojects {\n//    apply plugin: 'java'\n//    group = 'xxx'\n//   version = '15.5.8-fromBuildGradle'\n//}\n\n//apply plugin: 'application'\n//apply plugin: 'eclipse'\n\nrepositories {\n    jcenter()\n    mavenCentral()\n    //maven {\n    //    url &quot;https://splunk.jfrog.io/splunk/ext-releases-local&quot;\n    //}\n}\n\ndependencies {\n    antlr &quot;org.antlr:antlr:3.5.2&quot;\n    implementation 'com.mchange:c3p0:0.9.5.4'\n    implementation &quot;com.mchange:mchange-commons-java:0.2.3.4&quot;\n    implementation &quot;commons-collections:commons-collections:3.2.2&quot;\n    \n    implementation &quot;net.sf.ehcache:ehcache-core:2.4.3&quot;\n    implementation &quot;net.sf.ehcache:ehcache-parent:2.2&quot;\n    implementation &quot;org.apache:apache:13&quot;\n    implementation &quot;org.apache:apache:16&quot;\n    implementation &quot;org.apache.commons:commons-lang3:3.4&quot;\n    implementation &quot;org.apache.commons:commons-parent:39&quot;\n    implementation &quot;org.hamcrest:hamcrest-core:1.3&quot;\n    implementation &quot;org.hamcrest:hamcrest-parent:1.3&quot;\n    \n    implementation &quot;org.javassist:javassist:3.18.1-GA&quot;\n    implementation &quot;xml-apis:xml-apis:1.0.b2&quot;\n    implementation 'commons-codec:commons-codec:1.13'\n    implementation 'org.json:json:20230227'\n\n    implementation group: &quot;org.hibernate.orm&quot;, name: &quot;hibernate-core&quot;, version: &quot;6.2.5.Final&quot;\n    implementation group: &quot;mysql&quot;, name: &quot;mysql-connector-java&quot;, version: &quot;8.0.33&quot;\n\n    implementation group: &quot;com.rabbitmq&quot;, name: &quot;amqp-client&quot;, version: '4.8.0'\n    \n\n    implementation 'ch.qos.logback:logback-core:1.2.9'\n    implementation 'ch.qos.logback:logback-classic:1.2.9'\n    implementation &quot;com.github.loki4j:loki-logback-appender-jdk8:1.3.2&quot;\n    implementation &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;\n}\n\nconfigurations.all {\n    exclude module: &quot;slf4j-log4j12&quot;\n    exclude group: &quot;org.slf4j&quot;, module: &quot;log4j-over-slf4j&quot;\n    exclude group: &quot;org.slf4j&quot;, module: &quot;jul-to-slf4j&quot;\n    exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-over-log4j&quot;\n    exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-log4j12&quot;\n    exclude group: &quot;ch.qos.logback.classic.log4j&quot;\n    exclude group: &quot;log4j&quot;, module: &quot;log4j-api&quot;\n    exclude group: &quot;log4j&quot;, module: &quot;log4j&quot;\n}\n\n</code></pre>\n<p>Complete Stack trace:</p>\n<pre><code>2023-11-01 14:45:05.719 ERROR c.w.e.c.i.d.xxxx:2321 - Caught exception: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Categor\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:162)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:168)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:795)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:120)\n    at xxxx\n    at xxxx\n    at xxxx\n    at xxxx\n    at xxxx\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Category'\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1960)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:253)\n    at org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:2473)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1874)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1865)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1141)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:937)\n    at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:253)\n    at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1818)\nCaused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Category'\n</code></pre>\n"},{"tags":["java","generics","type-inference","return-type","nested-generics"],"comments":[{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":2,"creation_date":1698832198,"post_id":77401647,"comment_id":136453894,"body_markdown":"What do you not understand from the message from the compiler ? I think the compiler errors are pretty clear on what is expected","body":"What do you not understand from the message from the compiler ? I think the compiler errors are pretty clear on what is expected"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1698832551,"post_id":77401647,"comment_id":136453959,"body_markdown":"For example: Why does f1 compile but f2 does not? It&#39;s the same expression. How is returning it different from using it elsewhere? Or how does java know when to let go of the type inference like in f4? It could&#39;ve done that in f3 as well. If I explicitly use raw type for a parameter, does java exclude it from type inference? So in this case I have to explicitly cast every parameter to raw type? Where is this mentioned in the JLS?","body":"For example: Why does f1 compile but f2 does not? It&#39;s the same expression. How is returning it different from using it elsewhere? Or how does java know when to let go of the type inference like in f4? It could&#39;ve done that in f3 as well. If I explicitly use raw type for a parameter, does java exclude it from type inference? So in this case I have to explicitly cast every parameter to raw type? Where is this mentioned in the JLS?"},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1698834433,"post_id":77401647,"comment_id":136454252,"body_markdown":"Because there are certain limitations to type inference in Java and complicated rules to make raw types work for backward compatibility. With combinations like this it&#39;s hard to know exactly why, you&#39;d have to dig into the exact rules which you can find in the [Java Language Specification](https://docs.oracle.com/javase/specs/). (In real code, [don&#39;t use raw types](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)).","body":"Because there are certain limitations to type inference in Java and complicated rules to make raw types work for backward compatibility. With combinations like this it&#39;s hard to know exactly why, you&#39;d have to dig into the exact rules which you can find in the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java Language Specification</a>. (In real code, <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">don&#39;t use raw types</a>)."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1698835013,"post_id":77401647,"comment_id":136454357,"body_markdown":"Actually that&#39;s my question. I could dig into the rules but it would take much time. I thought maybe someone already knows or at least is familiar with JLS more than I am that would do this.","body":"Actually that&#39;s my question. I could dig into the rules but it would take much time. I thought maybe someone already knows or at least is familiar with JLS more than I am that would do this."},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1698835050,"post_id":77401647,"comment_id":136454365,"body_markdown":"For example, why `f2` does not compile is because the scope of type inference is limited. To determine what the type of `r` must be, the compiler is only going to look at the type of the expression after the `=`; it&#39;s not going to infer that because of `return r;` it should look at the return type of the method.","body":"For example, why <code>f2</code> does not compile is because the scope of type inference is limited. To determine what the type of <code>r</code> must be, the compiler is only going to look at the type of the expression after the <code>=</code>; it&#39;s not going to infer that because of <code>return r;</code> it should look at the return type of the method."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1698835279,"post_id":77401647,"comment_id":136454410,"body_markdown":"I see. But then why `List&lt;List&gt;` is incompatible with `List&lt;List&lt;Integer&gt;&gt;`? I thought raw types could be used instead of the generic one. For example you can return `Class` type when `Class&lt;A&gt;` is the return type of the function (with warning of course).","body":"I see. But then why <code>List&lt;List&gt;</code> is incompatible with <code>List&lt;List&lt;Integer&gt;&gt;</code>? I thought raw types could be used instead of the generic one. For example you can return <code>Class</code> type when <code>Class&lt;A&gt;</code> is the return type of the function (with warning of course)."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698845187,"creation_date":1698835624,"answer_id":77402059,"question_id":77401647,"body_markdown":"The difference between `f2` and `f0` is that `List.of` is not in an assignment context in `f2`, [&#167;14.4.1][1]:\r\n\r\n&gt; If the LocalVariableType is `var`, then let `T` be the type of the initializer expression when treated as if it did not appear in an assignment context ...\r\n\r\nHence, the call is not a poly expression. It doesn&#39;t satisfy the requirements for being a poly expression in [&#167;15.12][2]:\r\n\r\n&gt; A method invocation expression is a poly expression if all of the following are true:\r\n&gt;\r\n&gt; - The invocation appears in an assignment context or an invocation context\r\n&gt; - ...\r\n\r\nThis means that type inference no longer takes into account the target type ([&#167;15.12.2.6][3]).\r\n\r\n&gt; If the chosen method is generic and the method invocation does not provide explicit type arguments, the invocation type is inferred as specified in &#167;18.5.2.\r\n&gt; \r\n&gt; In this case, if the method invocation expression is a poly expression, then its compatibility with a target type is as determined by [&#167;18.5.2.1][4].\r\n\r\nThe entirety of &#167;18.5.2.1, which would have added some constraint about `Integer`, is skipped.\r\n\r\nIf you put `List.of` in a return statement, however, it *is* in an assignment context ([&#167;14.17][5]):\r\n\r\n&gt; It is a compile-time error if the return target of a return statement with value Expression is a method with declared return type `T`, and the type of Expression is not assignable compatible (&#167;5.2) with T.\r\n\r\n(&#167;5.2 is the section for assignment contexts)\r\n\r\nMore informally, Java doesn&#39;t look at *all* the places where `r` is used to infer the type parameter of `List.of`. It only looks at the call `List.of((List) List.of(1L))`. It is assigned to a `var`, so type inference results in `List&lt;List&gt;`. Type inference has no reason to randomly add a `&lt;Integer&gt;` in there.\r\n\r\n`List&lt;List&gt;` is not compatible with `List&lt;List&lt;Integer&gt;&gt;`, because [generics are by default invariant][6]. For how exactly this is specified, see [&#167;4.10][7]. Try showing that `List&lt;List&gt;` is not a subtype of `List&lt;List&lt;Integer&gt;&gt;`.\r\n\r\n&lt;hr&gt;\r\n\r\nFor `f3`, there are conflicting constraints. I&#39;ll use `E` to refer to the type parameter of the outer `List.of` call, and `E1` and `E2` to refer to the type parameters of the first and second inner `List.of` call.\r\n\r\nBecause the outer `List.of` is in a return statement, &#167;18.5.2.1 applies, and `E` gets a lower bound of `List&lt;Integer&gt;`.\r\n\r\n`E1` is inferred to have a lower bound of `Long`, then &#167;18.5.2.1 applies, and the target type is raw `List`, the type you are casting to. Nothing is wrong with that and we carry on.\r\n\r\nThe raw `List` in the first argument gives an upper bound of `List` for `E`. That&#39;s fine - no conflicts here.\r\n\r\nIn `f4`, the same thing happens with the second argument and `E2`, so there is no problem.\r\n\r\nIn `f3`, &#167;18.5.2.1 applies when inferring `E2`, the target type is `List&lt;Integer&gt;`, because of the constraint on `E`. This adds an equality constraint to `E2`. The argument `1L` also adds a lower bound of `Long` to `E2`.\r\n\r\nThat&#39;s where the conflict is. There is no type that satisfies both `== Integer` and `&gt;= Long`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.6\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.2.1\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.17\r\n  [6]: https://stackoverflow.com/q/2745265/5133585\r\n  [7]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.6","title":"Java nested generics with raw types return type inference","body":"<p>The difference between <code>f2</code> and <code>f0</code> is that <code>List.of</code> is not in an assignment context in <code>f2</code>, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4.1\" rel=\"nofollow noreferrer\">§14.4.1</a>:</p>\n<blockquote>\n<p>If the LocalVariableType is <code>var</code>, then let <code>T</code> be the type of the initializer expression when treated as if it did not appear in an assignment context ...</p>\n</blockquote>\n<p>Hence, the call is not a poly expression. It doesn't satisfy the requirements for being a poly expression in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12\" rel=\"nofollow noreferrer\">§15.12</a>:</p>\n<blockquote>\n<p>A method invocation expression is a poly expression if all of the following are true:</p>\n<ul>\n<li>The invocation appears in an assignment context or an invocation context</li>\n<li>...</li>\n</ul>\n</blockquote>\n<p>This means that type inference no longer takes into account the target type (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.6\" rel=\"nofollow noreferrer\">§15.12.2.6</a>).</p>\n<blockquote>\n<p>If the chosen method is generic and the method invocation does not provide explicit type arguments, the invocation type is inferred as specified in §18.5.2.</p>\n<p>In this case, if the method invocation expression is a poly expression, then its compatibility with a target type is as determined by <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.2.1\" rel=\"nofollow noreferrer\">§18.5.2.1</a>.</p>\n</blockquote>\n<p>The entirety of §18.5.2.1, which would have added some constraint about <code>Integer</code>, is skipped.</p>\n<p>If you put <code>List.of</code> in a return statement, however, it <em>is</em> in an assignment context (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.17\" rel=\"nofollow noreferrer\">§14.17</a>):</p>\n<blockquote>\n<p>It is a compile-time error if the return target of a return statement with value Expression is a method with declared return type <code>T</code>, and the type of Expression is not assignable compatible (§5.2) with T.</p>\n</blockquote>\n<p>(§5.2 is the section for assignment contexts)</p>\n<p>More informally, Java doesn't look at <em>all</em> the places where <code>r</code> is used to infer the type parameter of <code>List.of</code>. It only looks at the call <code>List.of((List) List.of(1L))</code>. It is assigned to a <code>var</code>, so type inference results in <code>List&lt;List&gt;</code>. Type inference has no reason to randomly add a <code>&lt;Integer&gt;</code> in there.</p>\n<p><code>List&lt;List&gt;</code> is not compatible with <code>List&lt;List&lt;Integer&gt;&gt;</code>, because <a href=\"https://stackoverflow.com/q/2745265/5133585\">generics are by default invariant</a>. For how exactly this is specified, see <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.6\" rel=\"nofollow noreferrer\">§4.10</a>. Try showing that <code>List&lt;List&gt;</code> is not a subtype of <code>List&lt;List&lt;Integer&gt;&gt;</code>.</p>\n<hr>\n<p>For <code>f3</code>, there are conflicting constraints. I'll use <code>E</code> to refer to the type parameter of the outer <code>List.of</code> call, and <code>E1</code> and <code>E2</code> to refer to the type parameters of the first and second inner <code>List.of</code> call.</p>\n<p>Because the outer <code>List.of</code> is in a return statement, §18.5.2.1 applies, and <code>E</code> gets a lower bound of <code>List&lt;Integer&gt;</code>.</p>\n<p><code>E1</code> is inferred to have a lower bound of <code>Long</code>, then §18.5.2.1 applies, and the target type is raw <code>List</code>, the type you are casting to. Nothing is wrong with that and we carry on.</p>\n<p>The raw <code>List</code> in the first argument gives an upper bound of <code>List</code> for <code>E</code>. That's fine - no conflicts here.</p>\n<p>In <code>f4</code>, the same thing happens with the second argument and <code>E2</code>, so there is no problem.</p>\n<p>In <code>f3</code>, §18.5.2.1 applies when inferring <code>E2</code>, the target type is <code>List&lt;Integer&gt;</code>, because of the constraint on <code>E</code>. This adds an equality constraint to <code>E2</code>. The argument <code>1L</code> also adds a lower bound of <code>Long</code> to <code>E2</code>.</p>\n<p>That's where the conflict is. There is no type that satisfies both <code>== Integer</code> and <code>&gt;= Long</code>.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77402059,"answer_count":1,"score":1,"last_activity_date":1698845187,"creation_date":1698831823,"question_id":77401647,"body_markdown":"```java\r\npublic class Main {\r\n\tList&lt;List&lt;Integer&gt;&gt; f0() {\r\n\t\treturn List.of(List.of(1L));\r\n\t}\r\n\tList&lt;List&lt;Integer&gt;&gt; f1() {\r\n\t\treturn List.of((List) List.of(1L));\r\n\t}\r\n\tList&lt;List&lt;Integer&gt;&gt; f2() {\r\n\t\tvar r = List.of((List) List.of(1L));\r\n\t\treturn r;\r\n\t}\r\n\tList&lt;List&lt;Integer&gt;&gt; f3() {\r\n\t\treturn List.of((List) List.of(1L), List.of(1L));\r\n\t}\r\n\tList&lt;List&lt;Integer&gt;&gt; f4() {\r\n\t\treturn List.of((List) List.of(1L), (List) List.of(1L));\r\n\t}\r\n}\r\n```\r\nIn the code above, `f1` and `f4` compile while `f0`, `f2` and `f3` do not.  \r\nI can see why `f0` doesn&#39;t compile: It needs `List&lt;List&lt;Integer&gt;&gt;` but it sees `List&lt;List&lt;Long&gt;&gt;`. But I have no idea why others behave the way they do.  \r\n \r\n**f2:** \r\n```\r\nincompatible types: List&lt;List&gt; cannot be converted to List&lt;List&lt;Integer&gt;&gt;\r\n```\r\n\r\n**f3:**\r\n```\r\nerror: incompatible types: inference variable E has incompatible bounds\r\n                return List.of((List) List.of(1L), List.of(1L));\r\n                              ^\r\n    equality constraints: Integer\r\n    lower bounds: Long\r\n  where E is a type-variable:\r\n    E extends Object declared in method &lt;E&gt;of(E)\r\n```\r\nIn each function, what exactly is the type of the expression being returned? Why does Java behave like this? And what is happening according to the JLS? I&#39;m using Java 17 if it&#39;s important.","title":"Java nested generics with raw types return type inference","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    List&lt;List&lt;Integer&gt;&gt; f0() {\n        return List.of(List.of(1L));\n    }\n    List&lt;List&lt;Integer&gt;&gt; f1() {\n        return List.of((List) List.of(1L));\n    }\n    List&lt;List&lt;Integer&gt;&gt; f2() {\n        var r = List.of((List) List.of(1L));\n        return r;\n    }\n    List&lt;List&lt;Integer&gt;&gt; f3() {\n        return List.of((List) List.of(1L), List.of(1L));\n    }\n    List&lt;List&lt;Integer&gt;&gt; f4() {\n        return List.of((List) List.of(1L), (List) List.of(1L));\n    }\n}\n</code></pre>\n<p>In the code above, <code>f1</code> and <code>f4</code> compile while <code>f0</code>, <code>f2</code> and <code>f3</code> do not.<br />\nI can see why <code>f0</code> doesn't compile: It needs <code>List&lt;List&lt;Integer&gt;&gt;</code> but it sees <code>List&lt;List&lt;Long&gt;&gt;</code>. But I have no idea why others behave the way they do.</p>\n<p><strong>f2:</strong></p>\n<pre><code>incompatible types: List&lt;List&gt; cannot be converted to List&lt;List&lt;Integer&gt;&gt;\n</code></pre>\n<p><strong>f3:</strong></p>\n<pre><code>error: incompatible types: inference variable E has incompatible bounds\n                return List.of((List) List.of(1L), List.of(1L));\n                              ^\n    equality constraints: Integer\n    lower bounds: Long\n  where E is a type-variable:\n    E extends Object declared in method &lt;E&gt;of(E)\n</code></pre>\n<p>In each function, what exactly is the type of the expression being returned? Why does Java behave like this? And what is happening according to the JLS? I'm using Java 17 if it's important.</p>\n"},{"tags":["javascript","java","mysql","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":29379529,"reputation":1,"user_id":22510353,"display_name":"garvit mathodia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694042262,"creation_date":1694005617,"answer_id":77052196,"question_id":73744777,"body_markdown":"In `PostServiceImpl` change:\r\n\r\n```java\r\nSet&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\r\n                .collect(Collectors.toSet());\r\n```\r\n\r\nto\r\n\r\n```java\r\nSet postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(post, PostDto.class))\r\n                 .collect(Collectors.toSet());\r\n```","title":"Getting null values in postman while fetching data from database using springboot although data is present in database, through userId/categoryId","body":"<p>In <code>PostServiceImpl</code> change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\n                .collect(Collectors.toSet());\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(post, PostDto.class))\n                 .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10838796,"reputation":167,"user_id":7970858,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698844858,"creation_date":1698844858,"answer_id":77402952,"question_id":73744777,"body_markdown":"Seems that the problem you have is about mapstruct or/and lombok. I would recommand you to check if generated mapper impl mapstruct file ModelMapperImpl looks good (you should have for every entity field an instruction for mapping with dto associated field or/and vice versa).\r\n\r\nIf this is not the case, check if lombok, mapstruct and lombok-mapstruct-binding deps are well configured in you pom.xml or build.gradle file ( [here an example for this implementation with maven][1] ). Also, For your IDE check if lombok is well configured ([by installing lombok plugins and enabling annotation processors][2])\r\n\r\n\r\n  [1]: https://bootify.io/spring-data/mapstruct-with-maven-and-lombok.html\r\n  [2]: https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea","title":"Getting null values in postman while fetching data from database using springboot although data is present in database, through userId/categoryId","body":"<p>Seems that the problem you have is about mapstruct or/and lombok. I would recommand you to check if generated mapper impl mapstruct file ModelMapperImpl looks good (you should have for every entity field an instruction for mapping with dto associated field or/and vice versa).</p>\n<p>If this is not the case, check if lombok, mapstruct and lombok-mapstruct-binding deps are well configured in you pom.xml or build.gradle file ( <a href=\"https://bootify.io/spring-data/mapstruct-with-maven-and-lombok.html\" rel=\"nofollow noreferrer\">here an example for this implementation with maven</a> ). Also, For your IDE check if lombok is well configured (<a href=\"https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea\">by installing lombok plugins and enabling annotation processors</a>)</p>\n"}],"owner":{"account_id":14426408,"reputation":37,"user_id":10421022,"display_name":"hussaincode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698844858,"creation_date":1663330988,"question_id":73744777,"body_markdown":"I am trying to create a blog apis but Getting null values in postman while fetching data from database although data is present in database using springboot, when i am trying to get data by userId or categoryId. it&#39;s giving me null value as shown.\r\n\r\n     { &quot;postTitle&quot;: null, &quot;postContent&quot;: null, &quot;postImageName&quot;: null, \r\n    &quot;postAddedDate&quot;: null, &quot;category&quot;: null, &quot;user&quot;: null }\r\n\r\n**// Controller Class**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;)\r\n    public class PostController {\r\n\r\n    \t@Autowired\r\n    \tprivate PostService postService;\r\n\r\n    \t// create\r\n    \t@PostMapping(&quot;/user/{userId}/category/{categoryId}/posts&quot;)\r\n    \tpublic ResponseEntity&lt;PostDto&gt; createPost(@RequestBody PostDto postDto, @PathVariable Integer userId,\r\n    \t\t\t@PathVariable Integer categoryId) {\r\n\r\n    \t\tPostDto createdPost = this.postService.createPost(postDto, userId, categoryId);\r\n    \t\treturn new ResponseEntity&lt;PostDto&gt;(createdPost, HttpStatus.CREATED);\r\n    \t}\r\n\r\n    \t// get post by user\r\n    \t@GetMapping(&quot;/user/{userId}/posts&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;PostDto&gt;&gt; getPostByUser(@PathVariable Integer userId) {\r\n    \t\tList&lt;PostDto&gt; posts = this.postService.getPostByUser(userId);\r\n    \t\treturn new ResponseEntity&lt;List&lt;PostDto&gt;&gt;(posts, HttpStatus.OK);\r\n    \t}\r\n\r\n    \t// get post by category\r\n    \t@GetMapping(&quot;/category/{categoryId}/posts&quot;)\r\n    \tpublic ResponseEntity&lt;Set&lt;PostDto&gt;&gt; getPostByCategory(@PathVariable Integer categoryId) {\r\n    \t\tSet&lt;PostDto&gt; posts = this.postService.getPostByCategory(categoryId);\r\n    \t\treturn new ResponseEntity&lt;Set&lt;PostDto&gt;&gt;(posts, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**//Post Entity Class**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;post&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class Post {\r\n\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer postId;\r\n    \tprivate String postTitle;\r\n    \t@Column(length = 10000)\r\n    \tprivate String postContent;\r\n    \tprivate String postImageName;\r\n    \tprivate Date postAddedDtae;\r\n\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;category_id&quot;)\r\n    \tprivate Category category;\r\n\r\n    \t@ManyToOne\r\n    \tprivate User user;\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**//Post Dto Class**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class PostDto {\r\n\r\n    \tprivate String postTitle;\r\n    \tprivate String postContent;\r\n    \tprivate String postImageName;\r\n    \tprivate Date postAddedDate;\r\n\r\n    \tprivate CategoryDto category;\r\n\r\n    \tprivate UserDto user;\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**//Post Repo class**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public interface PostRepo extends JpaRepository&lt;Post, Integer&gt; {\r\n\r\n    \tList&lt;Post&gt; findByUser(User user);\r\n\r\n    \tSet&lt;Post&gt; findByCategory(Category category);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**//Post Service Class**\r\n\r\n\r\npublic interface PostService {\r\n\r\n\t// create\r\n\tPostDto createPost(PostDto postDto, Integer userId, Integer categoryId);\r\n\r\n\t// update\r\n\tPost updatePost(PostDto postDto, Integer posId);\r\n\r\n\t// getAll\r\n\tList&lt;PostDto&gt; getAllPost();\r\n\r\n\t// getSinglepost\r\n\tPost getPostByid(Integer PostId);\r\n\r\n\t// Delete\r\n\tvoid deletePost(Integer postId);\r\n\r\n\t// getPOstByCategory\r\n\tSet&lt;PostDto&gt; getPostByCategory(Integer categoryId);\r\n\r\n\t// getAllPostByUser\r\n\tList&lt;PostDto&gt; getPostByUser(Integer userId);\r\n\r\n\t// Search Post\r\n\tList&lt;PostDto&gt; searchPosts(String keyword);\r\n\r\n}\r\n\r\n**//Post ServiceImplmentation class**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    @Service\r\n    public class PostServiceImpl implements PostService {\r\n\r\n    \t@Autowired\r\n    \tprivate PostRepo postRepo;\r\n\r\n    \t@Autowired\r\n    \tprivate ModelMapper modelMapper;\r\n\r\n    \t@Autowired\r\n    \tprivate UserRepo userRepo;\r\n\r\n    \t@Autowired\r\n    \tprivate CategoryRepo categoryRepo;\r\n\r\n    \t@Override\r\n    \tpublic PostDto createPost(PostDto postDto, Integer userId, Integer categoryId) {\r\n\r\n    \t\tUser user = this.userRepo.findById(userId)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;User Id&quot;, userId));\r\n\r\n    \t\tCategory category = this.categoryRepo.findById(categoryId)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Category&quot;, &quot;Category Id&quot;, categoryId));\r\n\r\n    \t\tPost post = this.modelMapper.map(postDto, Post.class);\r\n    \t\tpost.setPostImageName(&quot;Default.png&quot;);\r\n    \t\tpost.setPostAddedDtae(new Date());\r\n    \t\tpost.setUser(user);\r\n    \t\tpost.setCategory(category);\r\n\r\n    \t\tPost newPost = this.postRepo.save(post);\r\n    \t\treturn this.modelMapper.map(newPost, PostDto.class);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic Post updatePost(PostDto postDto, Integer posId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic List&lt;PostDto&gt; getAllPost() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic Post getPostByid(Integer PostId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void deletePost(Integer postId) {\r\n    \t\t// TODO Auto-generated method stub\r\n\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic Set&lt;PostDto&gt; getPostByCategory(Integer categoryId) {\r\n    \t\tCategory cat = this.categoryRepo.findById(categoryId)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Category&quot;, &quot;Category Id&quot;, categoryId));\r\n    \t\tSet&lt;Post&gt; posts = this.postRepo.findByCategory(cat);\r\n\r\n    \t\tSet&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\r\n    \t\t\t\t.collect(Collectors.toSet());\r\n    \t\treturn postDtos;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic List&lt;PostDto&gt; getPostByUser(Integer userId) {\r\n    \t\tUser user = this.userRepo.findById(userId)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;User Id&quot;, userId));\r\n    \t\tList&lt;Post&gt; posts = this.postRepo.findByUser(user);\r\n    \t\tList&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\treturn postDtos;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic List&lt;PostDto&gt; searchPosts(String keyword) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n**Please check and let me know where i am going wrong...**\r\n","title":"Getting null values in postman while fetching data from database using springboot although data is present in database, through userId/categoryId","body":"<p>I am trying to create a blog apis but Getting null values in postman while fetching data from database although data is present in database using springboot, when i am trying to get data by userId or categoryId. it's giving me null value as shown.</p>\n<pre><code> { &quot;postTitle&quot;: null, &quot;postContent&quot;: null, &quot;postImageName&quot;: null, \n&quot;postAddedDate&quot;: null, &quot;category&quot;: null, &quot;user&quot;: null }\n</code></pre>\n<p><strong>// Controller Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/&quot;)\npublic class PostController {\n\n    @Autowired\n    private PostService postService;\n\n    // create\n    @PostMapping(&quot;/user/{userId}/category/{categoryId}/posts&quot;)\n    public ResponseEntity&lt;PostDto&gt; createPost(@RequestBody PostDto postDto, @PathVariable Integer userId,\n            @PathVariable Integer categoryId) {\n\n        PostDto createdPost = this.postService.createPost(postDto, userId, categoryId);\n        return new ResponseEntity&lt;PostDto&gt;(createdPost, HttpStatus.CREATED);\n    }\n\n    // get post by user\n    @GetMapping(&quot;/user/{userId}/posts&quot;)\n    public ResponseEntity&lt;List&lt;PostDto&gt;&gt; getPostByUser(@PathVariable Integer userId) {\n        List&lt;PostDto&gt; posts = this.postService.getPostByUser(userId);\n        return new ResponseEntity&lt;List&lt;PostDto&gt;&gt;(posts, HttpStatus.OK);\n    }\n\n    // get post by category\n    @GetMapping(&quot;/category/{categoryId}/posts&quot;)\n    public ResponseEntity&lt;Set&lt;PostDto&gt;&gt; getPostByCategory(@PathVariable Integer categoryId) {\n        Set&lt;PostDto&gt; posts = this.postService.getPostByCategory(categoryId);\n        return new ResponseEntity&lt;Set&lt;PostDto&gt;&gt;(posts, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>//Post Entity Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;post&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer postId;\n    private String postTitle;\n    @Column(length = 10000)\n    private String postContent;\n    private String postImageName;\n    private Date postAddedDtae;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private Category category;\n\n    @ManyToOne\n    private User user;\n\n}\n</code></pre>\n<p><strong>//Post Dto Class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class PostDto {\n\n    private String postTitle;\n    private String postContent;\n    private String postImageName;\n    private Date postAddedDate;\n\n    private CategoryDto category;\n\n    private UserDto user;\n\n}\n</code></pre>\n<p><strong>//Post Repo class</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public interface PostRepo extends JpaRepository&lt;Post, Integer&gt; {\n\n    List&lt;Post&gt; findByUser(User user);\n\n    Set&lt;Post&gt; findByCategory(Category category);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>//Post Service Class</strong></p>\n<p>public interface PostService {</p>\n<pre><code>// create\nPostDto createPost(PostDto postDto, Integer userId, Integer categoryId);\n\n// update\nPost updatePost(PostDto postDto, Integer posId);\n\n// getAll\nList&lt;PostDto&gt; getAllPost();\n\n// getSinglepost\nPost getPostByid(Integer PostId);\n\n// Delete\nvoid deletePost(Integer postId);\n\n// getPOstByCategory\nSet&lt;PostDto&gt; getPostByCategory(Integer categoryId);\n\n// getAllPostByUser\nList&lt;PostDto&gt; getPostByUser(Integer userId);\n\n// Search Post\nList&lt;PostDto&gt; searchPosts(String keyword);\n</code></pre>\n<p>}</p>\n<p><strong>//Post ServiceImplmentation class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class PostServiceImpl implements PostService {\n\n    @Autowired\n    private PostRepo postRepo;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    @Autowired\n    private UserRepo userRepo;\n\n    @Autowired\n    private CategoryRepo categoryRepo;\n\n    @Override\n    public PostDto createPost(PostDto postDto, Integer userId, Integer categoryId) {\n\n        User user = this.userRepo.findById(userId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;User Id&quot;, userId));\n\n        Category category = this.categoryRepo.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Category&quot;, &quot;Category Id&quot;, categoryId));\n\n        Post post = this.modelMapper.map(postDto, Post.class);\n        post.setPostImageName(&quot;Default.png&quot;);\n        post.setPostAddedDtae(new Date());\n        post.setUser(user);\n        post.setCategory(category);\n\n        Post newPost = this.postRepo.save(post);\n        return this.modelMapper.map(newPost, PostDto.class);\n    }\n\n    @Override\n    public Post updatePost(PostDto postDto, Integer posId) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;PostDto&gt; getAllPost() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Post getPostByid(Integer PostId) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void deletePost(Integer postId) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public Set&lt;PostDto&gt; getPostByCategory(Integer categoryId) {\n        Category cat = this.categoryRepo.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Category&quot;, &quot;Category Id&quot;, categoryId));\n        Set&lt;Post&gt; posts = this.postRepo.findByCategory(cat);\n\n        Set&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\n                .collect(Collectors.toSet());\n        return postDtos;\n    }\n\n    @Override\n    public List&lt;PostDto&gt; getPostByUser(Integer userId) {\n        User user = this.userRepo.findById(userId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;User Id&quot;, userId));\n        List&lt;Post&gt; posts = this.postRepo.findByUser(user);\n        List&lt;PostDto&gt; postDtos = posts.stream().map((post) -&gt; this.modelMapper.map(posts, PostDto.class))\n                .collect(Collectors.toList());\n        return postDtos;\n    }\n\n    @Override\n    public List&lt;PostDto&gt; searchPosts(String keyword) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<p><strong>Please check and let me know where i am going wrong...</strong></p>\n"},{"tags":["java","json","web-services","rest","post"],"comments":[{"owner":{"display_name":"user647772"},"score":0,"creation_date":1343897455,"post_id":11773846,"comment_id":15636386,"body_markdown":"How does your `Customer` class look like? What JAXB annotations do you use on it?","body":"How does your <code>Customer</code> class look like? What JAXB annotations do you use on it?"},{"owner":{"account_id":966446,"reputation":2487,"user_id":989808,"accept_rate":69,"display_name":"mzereba"},"score":0,"creation_date":1343898340,"post_id":11773846,"comment_id":15636762,"body_markdown":"Thanks, I updated to the code with my Customer class.","body":"Thanks, I updated to the code with my Customer class."}],"answers":[{"tags":[],"owner":{"account_id":297764,"reputation":7013,"user_id":603444,"accept_rate":100,"display_name":"Daniel Kutik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343897364,"creation_date":1343897364,"answer_id":11774021,"question_id":11773846,"body_markdown":"Don&#39;t return Strings in your methods but Customer objects it self and let JAXB take care of the de/serialization.","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>Don't return Strings in your methods but Customer objects it self and let JAXB take care of the de/serialization.</p>\n"},{"tags":[],"owner":{"account_id":300104,"reputation":4932,"user_id":607061,"accept_rate":78,"display_name":"unludo"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1343897751,"creation_date":1343897751,"answer_id":11774116,"question_id":11773846,"body_markdown":"The issue is in the deserialization of the bean Customer. Your programs knows how to do it in XML, with JAXB as Daniel is writing, but most likely doesn&#39;t know how to do it in JSON.\r\n\r\nHere you have an example with Resteasy/Jackson\r\nhttp://www.mkyong.com/webservices/jax-rs/integrate-jackson-with-resteasy/\r\n\r\nThe same with Jersey:\r\nhttp://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>The issue is in the deserialization of the bean Customer. Your programs knows how to do it in XML, with JAXB as Daniel is writing, but most likely doesn't know how to do it in JSON.</p>\n\n<p>Here you have an example with Resteasy/Jackson\n<a href=\"http://www.mkyong.com/webservices/jax-rs/integrate-jackson-with-resteasy/\" rel=\"noreferrer\">http://www.mkyong.com/webservices/jax-rs/integrate-jackson-with-resteasy/</a></p>\n\n<p>The same with Jersey:\n<a href=\"http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/\" rel=\"noreferrer\">http://www.mkyong.com/webservices/jax-rs/json-example-with-jersey-jackson/</a></p>\n"},{"tags":[],"owner":{"account_id":2065760,"reputation":1479,"user_id":1841297,"display_name":"Anup Awasthi"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1446151896,"creation_date":1353487231,"answer_id":13489315,"question_id":11773846,"body_markdown":"Add `Content-Type: application/json` and `Accept: application/json`\r\nin REST Client header section","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>Add <code>Content-Type: application/json</code> and <code>Accept: application/json</code>\nin REST Client header section</p>\n"},{"tags":[],"owner":{"account_id":376226,"reputation":515,"user_id":727541,"display_name":"Max P Magee"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1394826448,"creation_date":1394826448,"answer_id":22414428,"question_id":11773846,"body_markdown":"Just in case this is helpful to others, here&#39;s my anecdote:\r\n\r\nI found this thread as a result of a problem I encountered while I was using Postman to send test data to my RESTEasy server, where- after a significant code change- I was getting nothing but 415 Unsupported Media Type errors.\r\n\r\nLong story short, I tore everything out, eventually I tried to run the trivial file upload example I knew worked; it didn&#39;t.  That&#39;s when I realized that the problem was with my Postman request.  I normally don&#39;t send any special headers, but in a previous test I had added a &quot;Content-Type&quot;: &quot;application/json&quot; header.  OF COURSE, I was trying to upload &quot;multipart/form-data.&quot; Removing it solved my issue.\r\n\r\nMoral: Check your headers before you blow up your world. ;)","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>Just in case this is helpful to others, here's my anecdote:</p>\n\n<p>I found this thread as a result of a problem I encountered while I was using Postman to send test data to my RESTEasy server, where- after a significant code change- I was getting nothing but 415 Unsupported Media Type errors.</p>\n\n<p>Long story short, I tore everything out, eventually I tried to run the trivial file upload example I knew worked; it didn't.  That's when I realized that the problem was with my Postman request.  I normally don't send any special headers, but in a previous test I had added a \"Content-Type\": \"application/json\" header.  OF COURSE, I was trying to upload \"multipart/form-data.\" Removing it solved my issue.</p>\n\n<p>Moral: Check your headers before you blow up your world. ;)</p>\n"},{"tags":[],"owner":{"account_id":3045917,"reputation":4831,"user_id":2581578,"accept_rate":80,"display_name":"D&#224;Ch&#250;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397052194,"creation_date":1397052194,"answer_id":22965036,"question_id":11773846,"body_markdown":"I had the same problem: \r\n    &gt; curl -v -H &quot;Content-Type: application/json&quot; -X PUT -d            &#39;{&quot;name&quot;:&quot;json&quot;,&quot;surname&quot;:&quot;gson&quot;,&quot;married&quot;:true,&quot;age&quot;:32,&quot;salary&quot;:123,&quot;hasCar&quot;:true,&quot;childs&quot;:[&quot;serkan&quot;,&quot;volkan&quot;,&quot;aybars&quot;]}&#39; XXXXXX/ponyo/UserModel/json\r\n    \r\n    * About to connect() to localhost port 8081 (#0)\r\n    *   Trying ::1...\r\n    * Connection refused\r\n    *   Trying 127.0.0.1...\r\n    * connected\r\n    * Connected to localhost (127.0.0.1) port 8081 (#0)\r\n    &gt; PUT /ponyo/UserModel/json HTTP/1.1\r\n    &gt; User-Agent: curl/7.28.1\r\n    &gt; Host: localhost:8081\r\n    &gt; Accept: */*\r\n    &gt; Content-Type: application/json\r\n    &gt; Content-Length: 121\r\n    &gt; \r\n    * upload completely sent off: 121 out of 121 bytes\r\n    &lt; HTTP/1.1 415 Unsupported Media Type\r\n    &lt; Content-Type: text/html; charset=iso-8859-1\r\n    &lt; Date: Wed, 09 Apr 2014 13:55:43 GMT\r\n    &lt; Content-Length: 0\r\n    &lt; \r\n    * Connection #0 to host localhost left intact\r\n    * Closing connection #0\r\n\r\nI resolved it by adding the dependency to pom.xml as follows. Please try it. \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.owlike&lt;/groupId&gt;\r\n            &lt;artifactId&gt;genson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.98&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I had the same problem: </p>\n\n<blockquote>\n  <p>curl -v -H \"Content-Type: application/json\" -X PUT -d            '{\"name\":\"json\",\"surname\":\"gson\",\"married\":true,\"age\":32,\"salary\":123,\"hasCar\":true,\"childs\":[\"serkan\",\"volkan\",\"aybars\"]}' XXXXXX/ponyo/UserModel/json</p>\n</blockquote>\n\n<pre><code>* About to connect() to localhost port 8081 (#0)\n*   Trying ::1...\n* Connection refused\n*   Trying 127.0.0.1...\n* connected\n* Connected to localhost (127.0.0.1) port 8081 (#0)\n&gt; PUT /ponyo/UserModel/json HTTP/1.1\n&gt; User-Agent: curl/7.28.1\n&gt; Host: localhost:8081\n&gt; Accept: */*\n&gt; Content-Type: application/json\n&gt; Content-Length: 121\n&gt; \n* upload completely sent off: 121 out of 121 bytes\n&lt; HTTP/1.1 415 Unsupported Media Type\n&lt; Content-Type: text/html; charset=iso-8859-1\n&lt; Date: Wed, 09 Apr 2014 13:55:43 GMT\n&lt; Content-Length: 0\n&lt; \n* Connection #0 to host localhost left intact\n* Closing connection #0\n</code></pre>\n\n<p>I resolved it by adding the dependency to pom.xml as follows. Please try it. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.owlike&lt;/groupId&gt;\n        &lt;artifactId&gt;genson&lt;/artifactId&gt;\n        &lt;version&gt;0.98&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1361769,"reputation":352,"user_id":1298993,"display_name":"David Hopkins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398883905,"creation_date":1398883905,"answer_id":23395871,"question_id":11773846,"body_markdown":"I had this issue and found that the problem was that I had not registered the JacksonFeature class:\r\n    \r\n    // Create JAX-RS application.\r\n    final Application application = new ResourceConfig()\r\n        ...\r\n        .register(JacksonFeature.class);\r\n\r\nWithout doing this your application does not know how to convert the JSON to a java object. \r\n\r\nhttps://jersey.java.net/documentation/latest/media.html#json.jackson","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I had this issue and found that the problem was that I had not registered the JacksonFeature class:</p>\n\n<pre><code>// Create JAX-RS application.\nfinal Application application = new ResourceConfig()\n    ...\n    .register(JacksonFeature.class);\n</code></pre>\n\n<p>Without doing this your application does not know how to convert the JSON to a java object. </p>\n\n<p><a href=\"https://jersey.java.net/documentation/latest/media.html#json.jackson\" rel=\"nofollow\">https://jersey.java.net/documentation/latest/media.html#json.jackson</a></p>\n"},{"tags":[],"owner":{"account_id":3450276,"reputation":53,"user_id":2890095,"display_name":"Bertrand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502105458,"creation_date":1502105458,"answer_id":45545895,"question_id":11773846,"body_markdown":"I get the same issue.\r\nIn fact, the request didn&#39;t reach the jersey annoted method.\r\nI solved the problem with add the annotation: @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\nThe annotation @Consumes(&quot;*/*&quot;) don&#39;t work!\r\n\r\n\r\n\t\t@Path(&quot;/&quot;+PropertiesHabilitation.KEY_EstNouvelleGH)\r\n\t    @POST\r\n\t    //@Consumes(&quot;*/*&quot;)\r\n\t    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\n\t    public void  get__EstNouvelleGH( @Context HttpServletResponse response) {\r\n\t    \t...\r\n\t    }","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I get the same issue.\nIn fact, the request didn't reach the jersey annoted method.\nI solved the problem with add the annotation: @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\nThe annotation @Consumes(\"<em>/</em>\") don't work!</p>\n\n<pre><code>    @Path(\"/\"+PropertiesHabilitation.KEY_EstNouvelleGH)\n    @POST\n    //@Consumes(\"*/*\")\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n    public void  get__EstNouvelleGH( @Context HttpServletResponse response) {\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12971177,"reputation":153,"user_id":9376870,"display_name":"Prakhar Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532190091,"creation_date":1532190091,"answer_id":51458001,"question_id":11773846,"body_markdown":"I had the same issue, as it was giving **error-415-unsupported-media-type** while hitting post call using json while i already had the \r\n\r\n    @Consumes(MediaType.APPLICATION_JSON) \r\nand request headers as in my **restful web service using Jersey 2.0+**\r\n\r\n  \r\n\r\n    Accept:application/json\r\n    Content-Type:application/json\r\n\r\nI resolved this issue by adding following dependencies to my project\r\n\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.25&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nthis will add following jars to your library :\r\n\r\n1. jersey-media-json-jackson-2.25.jar\r\n2. jersey-entity-filtering-2.25.jar\r\n3. jackson-module-jaxb-annotations-2.8.4.jar\r\n4. jackson-jaxrs-json-provider-2.8.4.jar\r\n5. jackson-jaxrs-base-2.8.4.jar\r\n\r\nI hope it will works for others too as it did for me.","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I had the same issue, as it was giving <strong>error-415-unsupported-media-type</strong> while hitting post call using json while i already had the </p>\n\n<pre><code>@Consumes(MediaType.APPLICATION_JSON) \n</code></pre>\n\n<p>and request headers as in my <strong>restful web service using Jersey 2.0+</strong></p>\n\n<pre><code>Accept:application/json\nContent-Type:application/json\n</code></pre>\n\n<p>I resolved this issue by adding following dependencies to my project</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n&lt;version&gt;2.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>this will add following jars to your library :</p>\n\n<ol>\n<li>jersey-media-json-jackson-2.25.jar</li>\n<li>jersey-entity-filtering-2.25.jar</li>\n<li>jackson-module-jaxb-annotations-2.8.4.jar</li>\n<li>jackson-jaxrs-json-provider-2.8.4.jar</li>\n<li>jackson-jaxrs-base-2.8.4.jar</li>\n</ol>\n\n<p>I hope it will works for others too as it did for me.</p>\n"},{"tags":[],"owner":{"account_id":10089645,"reputation":181,"user_id":7457025,"display_name":"Chirag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547099807,"creation_date":1547099807,"answer_id":54122677,"question_id":11773846,"body_markdown":"just change the content-type to application/json when you use JSON with POST/PUT, etc...\r\n ","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>just change the content-type to application/json when you use JSON with POST/PUT, etc...</p>\n"},{"tags":[],"owner":{"account_id":14513131,"reputation":1,"user_id":10482968,"display_name":"swati shilpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557831397,"creation_date":1557830490,"answer_id":56128598,"question_id":11773846,"body_markdown":"In case you are trying to use ARC app from google and post a `XML` and you are getting this error, then try changing the body content type to `application/xml`. [Example here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/69eRt.png","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>In case you are trying to use ARC app from google and post a <code>XML</code> and you are getting this error, then try changing the body content type to <code>application/xml</code>. <a href=\"https://i.stack.imgur.com/69eRt.png\" rel=\"nofollow noreferrer\">Example here</a></p>\n"},{"tags":[],"owner":{"account_id":8600871,"reputation":1,"user_id":6442527,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573142987,"creation_date":1573142987,"answer_id":58752766,"question_id":11773846,"body_markdown":"I encountered the same issue in postman, i was selecting Accept in header section and providing the value as &quot;application/json&quot;. So i unchecked and selected Content-Type and provided the value as &quot;application/json&quot;. That worked!","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I encountered the same issue in postman, i was selecting Accept in header section and providing the value as \"application/json\". So i unchecked and selected Content-Type and provided the value as \"application/json\". That worked!</p>\n"},{"tags":[],"owner":{"account_id":18725813,"reputation":79,"user_id":13652534,"display_name":"Phanindra Nath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592155086,"creation_date":1592155086,"answer_id":62375846,"question_id":11773846,"body_markdown":"I had similar problem while using in postman.\r\nfor POST request under header section add these as \r\n\r\nkey:valuepair\r\n\r\nContent-Type:application/json\r\nAccept:application/json\r\n\r\ni hope it will work.","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I had similar problem while using in postman.\nfor POST request under header section add these as </p>\n\n<p>key:valuepair</p>\n\n<p>Content-Type:application/json\nAccept:application/json</p>\n\n<p>i hope it will work.</p>\n"},{"tags":[],"owner":{"account_id":8869586,"reputation":2125,"user_id":6623650,"accept_rate":38,"display_name":"Amrit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599472646,"creation_date":1599472646,"answer_id":63775303,"question_id":11773846,"body_markdown":"If none of the solution worked and you are working with JAXB, then you need to annotate your class with `@XmlRootElement`  to avoid `415 unsupported media type`","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>If none of the solution worked and you are working with JAXB, then you need to annotate your class with <code>@XmlRootElement</code>  to avoid <code>415 unsupported media type</code></p>\n"},{"tags":[],"owner":{"account_id":8043049,"reputation":41,"user_id":6105858,"display_name":"Jonatan Haas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664733014,"creation_date":1664245565,"answer_id":73861749,"question_id":11773846,"body_markdown":"In my case, the following dependency was missing:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n  &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n    ","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>In my case, the following dependency was missing:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698844258,"creation_date":1698844258,"answer_id":77402898,"question_id":11773846,"body_markdown":"I solved by adding this dependency \r\n\r\n    implementation (&quot;io.quarkus:quarkus-resteasy-jsonb&quot;)\r\n\r\n\r\nor ` implementation(&quot;io.quarkus:quarkus-resteasy-jackson&quot;)`","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I solved by adding this dependency</p>\n<pre><code>implementation (&quot;io.quarkus:quarkus-resteasy-jsonb&quot;)\n</code></pre>\n<p>or <code> implementation(&quot;io.quarkus:quarkus-resteasy-jackson&quot;)</code></p>\n"}],"owner":{"account_id":966446,"reputation":2487,"user_id":989808,"accept_rate":69,"display_name":"mzereba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480439,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":11774116,"answer_count":15,"score":89,"last_activity_date":1698844258,"creation_date":1343896761,"question_id":11773846,"body_markdown":"I am actually new to REST WS but really I don&#39;t get this `415 Unsupported Media Type`. \r\n\r\nI am testing my REST with Poster on Firefox and the `GET` works fine for me, also the `POST` (when it&#39;s a `application/xml`) but when I try `application/json` it doesn&#39;t not reach the WS at all, the server rejects it.\r\n\r\nThis is my URL: http:// localhost:8081/RestDemo/services/customers/add\r\n\r\nThis is `JSON` I&#39;m sending: `{&quot;name&quot;: &quot;test1&quot;, &quot;address&quot; :&quot;test2&quot;}`\r\n\r\nThis is `XML` I&#39;m sending:\r\n\r\n    &lt;customer&gt;\r\n        &lt;name&gt;test1&lt;/name&gt;\r\n        &lt;address&gt;test2&lt;/address&gt;\r\n    &lt;/customer&gt;\r\n\r\nand this is my Resource class:\r\n\r\n    @Produces(&quot;application/xml&quot;)\r\n    @Path(&quot;customers&quot;)\r\n    @Singleton\r\n    @XmlRootElement(name = &quot;customers&quot;)\r\n    public class CustomerResource {\r\n    \t\r\n    \tprivate TreeMap&lt;Integer, Customer&gt; customerMap = new TreeMap&lt;Integer, Customer&gt;();\r\n    \t\r\n    \tpublic \tCustomerResource() {\r\n    \t    // hardcode a single customer into the database for demonstration\r\n    \t    // purposes\r\n    \t    Customer customer = new Customer();\r\n    \t    customer.setName(&quot;Harold Abernathy&quot;);\r\n    \t    customer.setAddress(&quot;Sheffield, UK&quot;);\r\n    \t    addCustomer(customer);\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@XmlElement(name = &quot;customer&quot;)\r\n    \tpublic List&lt;Customer&gt; getCustomers() {\r\n    \t\tList&lt;Customer&gt; customers = new ArrayList&lt;Customer&gt;();\r\n    \t    customers.addAll(customerMap.values());\r\n    \t\treturn customers;\r\n    \t}\r\n    \r\n    \t@GET\r\n    \t@Path(&quot;/{id}&quot;)\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic String getCustomer(@PathParam(&quot;id&quot;) int cId) {\r\n    \t\tCustomer customer = customerMap.get(cId); \r\n    \t\treturn  &quot;{\\&quot;name\\&quot;: \\&quot; &quot; + customer.getName() + &quot; \\&quot;, \\&quot;address\\&quot;: \\&quot;&quot; + customer.getAddress() + &quot;\\&quot;}&quot;;\r\n             \r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Path(&quot;/add&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \t@Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\r\n    \tpublic String addCustomer(Customer customer) {\r\n    \t\t //insert \r\n    \t\t int id = customerMap.size();\r\n    \t\t customer.setId(id);\r\n    \t\t customerMap.put(id, customer);\r\n    \t\t //get inserted\r\n    \t\t Customer result = customerMap.get(id);\r\n    \t\t \r\n    \t\t return  &quot;{\\&quot;id\\&quot;: \\&quot; &quot; + result.getId() + &quot; \\&quot;, \\&quot;name\\&quot;: \\&quot; &quot; + result.getName() + &quot; \\&quot;, \\&quot;address\\&quot;: \\&quot;&quot; + result.getAddress() + &quot;\\&quot;}&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**EDIT 1:**\r\n\r\nThis is my Customer class:\r\n\r\n    @XmlRootElement \r\n    public class Customer implements Serializable {\r\n    \t\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String address;\r\n    \t \r\n    \tpublic Customer() {\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t    return id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t    this.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t    return name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t    this.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t    return address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t    this.address = address;\r\n    \t}\r\n    \r\n    }","title":"Error 415 Unsupported Media Type: POST not reaching REST if JSON, but it does if XML","body":"<p>I am actually new to REST WS but really I don't get this <code>415 Unsupported Media Type</code>. </p>\n\n<p>I am testing my REST with Poster on Firefox and the <code>GET</code> works fine for me, also the <code>POST</code> (when it's a <code>application/xml</code>) but when I try <code>application/json</code> it doesn't not reach the WS at all, the server rejects it.</p>\n\n<p>This is my URL: http:// localhost:8081/RestDemo/services/customers/add</p>\n\n<p>This is <code>JSON</code> I'm sending: <code>{\"name\": \"test1\", \"address\" :\"test2\"}</code></p>\n\n<p>This is <code>XML</code> I'm sending:</p>\n\n<pre><code>&lt;customer&gt;\n    &lt;name&gt;test1&lt;/name&gt;\n    &lt;address&gt;test2&lt;/address&gt;\n&lt;/customer&gt;\n</code></pre>\n\n<p>and this is my Resource class:</p>\n\n<pre><code>@Produces(\"application/xml\")\n@Path(\"customers\")\n@Singleton\n@XmlRootElement(name = \"customers\")\npublic class CustomerResource {\n\n    private TreeMap&lt;Integer, Customer&gt; customerMap = new TreeMap&lt;Integer, Customer&gt;();\n\n    public  CustomerResource() {\n        // hardcode a single customer into the database for demonstration\n        // purposes\n        Customer customer = new Customer();\n        customer.setName(\"Harold Abernathy\");\n        customer.setAddress(\"Sheffield, UK\");\n        addCustomer(customer);\n    }\n\n    @GET\n    @XmlElement(name = \"customer\")\n    public List&lt;Customer&gt; getCustomers() {\n        List&lt;Customer&gt; customers = new ArrayList&lt;Customer&gt;();\n        customers.addAll(customerMap.values());\n        return customers;\n    }\n\n    @GET\n    @Path(\"/{id}\")\n    @Produces(\"application/json\")\n    public String getCustomer(@PathParam(\"id\") int cId) {\n        Customer customer = customerMap.get(cId); \n        return  \"{\\\"name\\\": \\\" \" + customer.getName() + \" \\\", \\\"address\\\": \\\"\" + customer.getAddress() + \"\\\"}\";\n\n    }\n\n    @POST\n    @Path(\"/add\")\n    @Produces(MediaType.APPLICATION_JSON)\n    @Consumes({MediaType.APPLICATION_XML, MediaType.APPLICATION_JSON})\n    public String addCustomer(Customer customer) {\n         //insert \n         int id = customerMap.size();\n         customer.setId(id);\n         customerMap.put(id, customer);\n         //get inserted\n         Customer result = customerMap.get(id);\n\n         return  \"{\\\"id\\\": \\\" \" + result.getId() + \" \\\", \\\"name\\\": \\\" \" + result.getName() + \" \\\", \\\"address\\\": \\\"\" + result.getAddress() + \"\\\"}\";\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>This is my Customer class:</p>\n\n<pre><code>@XmlRootElement \npublic class Customer implements Serializable {\n\n    private int id;\n    private String name;\n    private String address;\n\n    public Customer() {\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698844407,"post_id":77389322,"comment_id":136456037,"body_markdown":"Just name it `application.yml` and it will be read next to the other one. Or name it `application-local.yml` and start your application with `--spring.profiles.active=local`.","body":"Just name it <code>application.yml</code> and it will be read next to the other one. Or name it <code>application-local.yml</code> and start your application with <code>--spring.profiles.active=local</code>."}],"answers":[{"tags":[],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698674643,"creation_date":1698674643,"answer_id":77389323,"question_id":77389322,"body_markdown":"The oversimplified answer is that the file needs to be called `application-default.yml`. Then, Spring Boot automatically recognizes and uses it without the need for additional configuration.\r\n\r\nThe complete answer revolves around a concept known as &quot;Profiles&quot;. In Spring, applications (and tests) are run with profiles that allow for different configurations. Spring will automatically look for configuration files named `application-[Profile Name].yml` (and the respective `.properties`-file variants) and load them. When no profile is explicitly specified, the profile is `default`. Thus Spring loads the `application-default.yml` without the need for further configuration.\r\n\r\nThis is a powerful tool and can be leveraged for many different purposes. To set a specific profile on the application level, the property `spring.profiles.active` needs to be set. This can for example be used to have different settings for staging and release environments by having an `application-staging.yml` and an `application-release.yml`, and then setting the environment variable `spring.profiles.active` on the respective environment to `staging` and `release` respectively.\r\n\r\nIt is also possible to set an active profile specifically for test classes using the annotation `@ActiveProfiles(profiles = &quot;[Profile Name]&quot;)`. This allows for using different properties file for different tests.","title":"How to create a local properties file for a Java Spring Boot project","body":"<p>The oversimplified answer is that the file needs to be called <code>application-default.yml</code>. Then, Spring Boot automatically recognizes and uses it without the need for additional configuration.</p>\n<p>The complete answer revolves around a concept known as &quot;Profiles&quot;. In Spring, applications (and tests) are run with profiles that allow for different configurations. Spring will automatically look for configuration files named <code>application-[Profile Name].yml</code> (and the respective <code>.properties</code>-file variants) and load them. When no profile is explicitly specified, the profile is <code>default</code>. Thus Spring loads the <code>application-default.yml</code> without the need for further configuration.</p>\n<p>This is a powerful tool and can be leveraged for many different purposes. To set a specific profile on the application level, the property <code>spring.profiles.active</code> needs to be set. This can for example be used to have different settings for staging and release environments by having an <code>application-staging.yml</code> and an <code>application-release.yml</code>, and then setting the environment variable <code>spring.profiles.active</code> on the respective environment to <code>staging</code> and <code>release</code> respectively.</p>\n<p>It is also possible to set an active profile specifically for test classes using the annotation <code>@ActiveProfiles(profiles = &quot;[Profile Name]&quot;)</code>. This allows for using different properties file for different tests.</p>\n"},{"tags":[],"owner":{"account_id":26998458,"reputation":36,"user_id":20560140,"display_name":"JeslynTan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698844103,"creation_date":1698844103,"answer_id":77402874,"question_id":77389322,"body_markdown":"To configure which application properties to use,\r\nfirst is to set \r\n\r\n    spring.profiles.active=in-application\r\nin your properties file\r\n\r\nand to define \r\n\r\n    -Dspring.profiles.active=in-application\r\nin the VM options\r\n\r\nFor example the properties file name is application-dev.properties\r\nthen will be\r\n\r\n    spring.profiles.active=dev,in-application\r\n\r\n    -Dspring.profiles.active=dev,in-application","title":"How to create a local properties file for a Java Spring Boot project","body":"<p>To configure which application properties to use,\nfirst is to set</p>\n<pre><code>spring.profiles.active=in-application\n</code></pre>\n<p>in your properties file</p>\n<p>and to define</p>\n<pre><code>-Dspring.profiles.active=in-application\n</code></pre>\n<p>in the VM options</p>\n<p>For example the properties file name is application-dev.properties\nthen will be</p>\n<pre><code>spring.profiles.active=dev,in-application\n\n-Dspring.profiles.active=dev,in-application\n</code></pre>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698844103,"creation_date":1698674643,"question_id":77389322,"body_markdown":"I have a Spring Boot project where I store some variables such as server credentials in a properties file. Now, I do not want those credentials to be checked into source control, so I want them to be in a local properties file that is automatically read if it exists. My normal properties file is an `application.yml`.\r\n\r\nI have already tried it with the following files:\r\n* `local.properties`\r\n* `local.application.yml`\r\n* `application-local.yml`\r\n\r\nHowever, in all of those cases, the values that I had written in the local properties file were completely ignored. If I have those same values in the normal `application.yml`, they worked just fine. What am I doing wrong here?","title":"How to create a local properties file for a Java Spring Boot project","body":"<p>I have a Spring Boot project where I store some variables such as server credentials in a properties file. Now, I do not want those credentials to be checked into source control, so I want them to be in a local properties file that is automatically read if it exists. My normal properties file is an <code>application.yml</code>.</p>\n<p>I have already tried it with the following files:</p>\n<ul>\n<li><code>local.properties</code></li>\n<li><code>local.application.yml</code></li>\n<li><code>application-local.yml</code></li>\n</ul>\n<p>However, in all of those cases, the values that I had written in the local properties file were completely ignored. If I have those same values in the normal <code>application.yml</code>, they worked just fine. What am I doing wrong here?</p>\n"},{"tags":["java","spring","hibernate","jpa","joincolumn"],"answers":[{"tags":[],"owner":{"account_id":29802632,"reputation":1,"user_id":22840062,"display_name":"ardit mete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698844052,"creation_date":1698844052,"answer_id":77402868,"question_id":77402336,"body_markdown":"Why are you creating task and status classes as @Entity if you are not saving them on database? First thing you need to do is to save the status and task on database like: \r\n\r\n    Task task = new Task();\r\n    task.setId(dto.getId());\r\n    taskRepository.save(task);\r\n\r\n    Status status = new Status();\r\n    status.setStatusCode(dto.getStatus());\r\n    statusRepository.save(status);\r\n\r\n    History history = new History();\r\n    history.setTaskId(task);\r\n    history.setStatus(status);\r\n\r\nAlso use SaveAndFlush in order to get the db updated while you save History object.\r\n\r\n    historyRepository.saveAndFlush(history);","title":"How to configure Hibernate @JoinColumn on another table with foreign key reference differs from PK","body":"<p>Why are you creating task and status classes as @Entity if you are not saving them on database? First thing you need to do is to save the status and task on database like:</p>\n<pre><code>Task task = new Task();\ntask.setId(dto.getId());\ntaskRepository.save(task);\n\nStatus status = new Status();\nstatus.setStatusCode(dto.getStatus());\nstatusRepository.save(status);\n\nHistory history = new History();\nhistory.setTaskId(task);\nhistory.setStatus(status);\n</code></pre>\n<p>Also use SaveAndFlush in order to get the db updated while you save History object.</p>\n<pre><code>historyRepository.saveAndFlush(history);\n</code></pre>\n"}],"owner":{"account_id":25181248,"reputation":43,"user_id":19022728,"display_name":"alex90bar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698844052,"creation_date":1698838729,"question_id":77402336,"body_markdown":"I have a main table:\r\n\r\n```\r\n@Entity\r\npublic class History {\r\n\r\n    @Id\r\n    @Column(unique = true, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;task_id&quot;)\r\n    private Task taskId;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;status&quot;, referencedColumnName = &quot;status_code&quot;)\r\n    private Status status;\r\n\r\n```\r\n\r\nAnd I have two referenced tables:\r\n\r\n```\r\n@Entity\r\npublic class Status {\r\n\r\n    @Id\r\n    @Column(unique = true, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Short id;\r\n\r\n    @Column(name = &quot;status_code&quot;, unique = true, nullable = false)\r\n    private Short statusCode;\r\n}\r\n\r\n@Entity\r\npublic class Task {\r\n\r\n    @Id\r\n    @Column(unique = true, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column()\r\n    private String task;\r\n}\r\n\r\n```\r\n\r\nThen I want to save History via JpaRepository in DB in such way:\r\n\r\n```\r\nHistory history = new History();\r\n\r\nTask task = new Task();\r\ntask.setId(dto.getId());\r\nhistory.setTaskId(task);\r\n\r\nStatus status = new Status();\r\nstatus.setStatusCode(dto.getStatus());\r\nhistory.setStatus(status);\r\n\r\nhistoryRepository.save(history);\r\n```\r\nSo I want to save existing Task.id and Status.statusCode to History table.\r\n\r\nDuring this I have no problem with Task entity, but have such error with Status entity:\r\n\r\n```\r\norg.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : \r\nru.example.model.History.status -&gt; ru.example.model.Status; \r\nnested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: \r\nobject references an unsaved transient instance - save the transient instance before flushing : \r\nru.example.History.status -&gt; ru.example.Status\r\n```\r\n\r\nSo it looks like Hibernate wants me to set id for Status entity.\r\nBut I have refernce foreign key not on id field, but on status_code field.\r\n\r\nIf I set id for Status entity, it works fine.\r\n\r\nAs well as if I get it from DB and then save it in History entity.\r\n\r\nBut I would like it to work in a way as Task entity, without getting it from DB. And I have only status_code, not id. \r\nAre there any ways to solve it?","title":"How to configure Hibernate @JoinColumn on another table with foreign key reference differs from PK","body":"<p>I have a main table:</p>\n<pre><code>@Entity\npublic class History {\n\n    @Id\n    @Column(unique = true, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;task_id&quot;)\n    private Task taskId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;status&quot;, referencedColumnName = &quot;status_code&quot;)\n    private Status status;\n\n</code></pre>\n<p>And I have two referenced tables:</p>\n<pre><code>@Entity\npublic class Status {\n\n    @Id\n    @Column(unique = true, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Short id;\n\n    @Column(name = &quot;status_code&quot;, unique = true, nullable = false)\n    private Short statusCode;\n}\n\n@Entity\npublic class Task {\n\n    @Id\n    @Column(unique = true, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column()\n    private String task;\n}\n\n</code></pre>\n<p>Then I want to save History via JpaRepository in DB in such way:</p>\n<pre><code>History history = new History();\n\nTask task = new Task();\ntask.setId(dto.getId());\nhistory.setTaskId(task);\n\nStatus status = new Status();\nstatus.setStatusCode(dto.getStatus());\nhistory.setStatus(status);\n\nhistoryRepository.save(history);\n</code></pre>\n<p>So I want to save existing Task.id and Status.statusCode to History table.</p>\n<p>During this I have no problem with Task entity, but have such error with Status entity:</p>\n<pre><code>org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : \nru.example.model.History.status -&gt; ru.example.model.Status; \nnested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: \nobject references an unsaved transient instance - save the transient instance before flushing : \nru.example.History.status -&gt; ru.example.Status\n</code></pre>\n<p>So it looks like Hibernate wants me to set id for Status entity.\nBut I have refernce foreign key not on id field, but on status_code field.</p>\n<p>If I set id for Status entity, it works fine.</p>\n<p>As well as if I get it from DB and then save it in History entity.</p>\n<p>But I would like it to work in a way as Task entity, without getting it from DB. And I have only status_code, not id.\nAre there any ways to solve it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1698844175,"post_id":77402862,"comment_id":136455997,"body_markdown":"[How to print color in console using System.out.println?](https://stackoverflow.com/q/5762491)","body":"<a href=\"https://stackoverflow.com/q/5762491\">How to print color in console using System.out.println?</a>"}],"owner":{"account_id":29313591,"reputation":19,"user_id":22458828,"display_name":"Kerem Tazedal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698844014,"creation_date":1698844014,"question_id":77402862,"body_markdown":"I&#39;m working on a Java application and I have an array of text strings. I would like to apply different text colors to individual elements within the array. If this is not possible using standard Java libraries, what alternative approaches or libraries can I use to achieve this? I&#39;m interested in methods for changing the text color in a console-based application, and I&#39;m open to suggestions or examples that work across different platforms.\r\n\r\n\r\n\r\nthis part, tried and failed:\r\n\r\n\r\n```\r\n            menu.setMenuOptions(new String[]{&quot;\\nWelcome to the Employee Menu.&quot; + &quot;\\n1. Add a product.&quot; + &quot;\\n2. Remove a product.&quot; + &quot;\\n3. Display all products.&quot; + &quot;\\n4. Log out and return to customer menu.&quot; + &quot;\\n5. Exit the program.&quot;});\r\n            System.out.println(Arrays.toString(menu.getMenuOptions()).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;));\r\n```\r\n","title":"Changing Text Color for Elements in a Java String Array in a Console-Based Application","body":"<p>I'm working on a Java application and I have an array of text strings. I would like to apply different text colors to individual elements within the array. If this is not possible using standard Java libraries, what alternative approaches or libraries can I use to achieve this? I'm interested in methods for changing the text color in a console-based application, and I'm open to suggestions or examples that work across different platforms.</p>\n<p>this part, tried and failed:</p>\n<pre><code>            menu.setMenuOptions(new String[]{&quot;\\nWelcome to the Employee Menu.&quot; + &quot;\\n1. Add a product.&quot; + &quot;\\n2. Remove a product.&quot; + &quot;\\n3. Display all products.&quot; + &quot;\\n4. Log out and return to customer menu.&quot; + &quot;\\n5. Exit the program.&quot;});\n            System.out.println(Arrays.toString(menu.getMenuOptions()).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot; &quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","csv","opencsv"],"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698843731,"creation_date":1698843731,"question_id":77402833,"body_markdown":"I want to export data to csv file for which I have done the following:\r\nBean class:\r\n```\r\npublic class MyObject {\r\n    private String name;\r\n    private String email;\r\n    private Integer id;\r\n    private String phone;\r\n\r\n   getters and setters...\r\n}\r\n```\r\nMy pom file has required dependency (just showing the required libraries)\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI created an API with the following code, my requirement is to have a post mapping as I will be passing parameters from the application on basis of which the data will be formed. \r\n\r\n```\r\n@PostMapping(&quot;csv&quot;)\r\n\tpublic ResponseEntity csv() throws NoSuchFieldException, SecurityException, IllegalArgumentException,\r\n\t\t\tIllegalAccessException, IOException, CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\r\n\r\n\t\tList&lt;MyObject&gt; myObjects = createSampleList();\r\n\r\n\t\tMap&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\r\n\t\tcolumnMap.put(&quot;id&quot;, &quot;Id&quot;);\r\n\t\tcolumnMap.put(&quot;name&quot;, &quot;User Name&quot;);\r\n\t\tcolumnMap.put(&quot;email&quot;, &quot;User Email&quot;);\r\n\t\tcolumnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\r\n\r\n\t\tList&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\r\n\t\tString[] header = columnMap.values().toArray(String[]::new);\r\n\r\n\t\tcsvData.add(header);\r\n\r\n\t\tfor (MyObject myObject : myObjects) {\r\n\t\t\tList&lt;String&gt; row = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String key : columnMap.keySet()) {\r\n\t\t\t\tField field = MyObject.class.getDeclaredField(key);\r\n\t\t\t\tfield.setAccessible(true);\r\n\t\t\t\tString value = String.valueOf(field.get(myObject));\r\n\t\t\t\trow.add(value);\r\n\t\t\t}\r\n\t\t\tcsvData.add(row.toArray(String[]::new));\r\n\t\t}\r\n\r\n\t\treturn (ResponseEntity) ResponseEntity.ok()\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;Mohit&quot;)\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;text/csv&quot;)).body(csvData);\r\n\r\n\t}\r\n\r\nprivate static List&lt;MyObject&gt; createSampleList() {\r\n\t\tList&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\r\n\t\tMyObject myObject1 = new MyObject();\r\n\t\tmyObject1.setId(1);\r\n\t\tmyObject1.setName(&quot;Name 1&quot;);\r\n\t\tmyObject1.setEmail(&quot;Email 1&quot;);\r\n\t\tmyObject1.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tMyObject myObject2 = new MyObject();\r\n\t\tmyObject2.setId(2);\r\n\t\tmyObject2.setName(&quot;Name 2&quot;);\r\n\t\tmyObject2.setEmail(&quot;Email 2&quot;);\r\n\t\tmyObject2.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tMyObject myObject3 = new MyObject();\r\n\t\tmyObject3.setId(3);\r\n\t\tmyObject3.setName(&quot;Name 3&quot;);\r\n\t\tmyObject3.setEmail(&quot;Email 3&quot;);\r\n\t\tmyObject3.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tmyObjects.add(myObject1);\r\n\t\tmyObjects.add(myObject2);\r\n\t\tmyObjects.add(myObject3);\r\n\r\n\t\treturn myObjects;\r\n\t}\r\n```\r\nWith the above code I keep getting an error\r\n```\r\n[org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type &#39;text/csv&#39;]\r\n``` \r\n\r\nSo I tried using Open CSV library but I see it only works with a get request and with the below code the file is always empty\r\n\r\n```\r\n@GetMapping(&quot;csv1&quot;)\r\n\tpublic void csv1(HttpServletResponse response)\r\n\t\t\tthrows IOException, CsvDataTypeMismatchException, CsvRequiredFieldEmptyException, NoSuchFieldException,\r\n\t\t\tSecurityException, IllegalArgumentException, IllegalAccessException {\r\n\r\n\t\tList&lt;MyObject&gt; myObjects = createSampleList();\r\n\r\n\t\tMap&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\r\n\t\tcolumnMap.put(&quot;id&quot;, &quot;Id&quot;);\r\n\t\tcolumnMap.put(&quot;name&quot;, &quot;User Name&quot;);\r\n\t\tcolumnMap.put(&quot;email&quot;, &quot;User Email&quot;);\r\n\t\tcolumnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\r\n\r\n\t\tList&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\r\n\t\tString[] header = columnMap.values().toArray(String[]::new);\r\n\r\n\t\tcsvData.add(header);\r\n\r\n\t\tfor (MyObject myObject : myObjects) {\r\n\t\t\tList&lt;String&gt; row = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String key : columnMap.keySet()) {\r\n\t\t\t\tField field = MyObject.class.getDeclaredField(key);\r\n\t\t\t\tfield.setAccessible(true);\r\n\t\t\t\tString value = String.valueOf(field.get(myObject));\r\n\t\t\t\trow.add(value);\r\n\t\t\t}\r\n\t\t\tcsvData.add(row.toArray(String[]::new));\r\n\t\t}\r\n\r\n\t\tString fileName = &quot;Employee1.csv&quot;;\r\n\r\n\t\tresponse.setContentType(&quot;text/csv&quot;);\r\n\t\tresponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n\r\n\t\tStatefulBeanToCsv&lt;String[]&gt; writer1 = new StatefulBeanToCsvBuilder&lt;String[]&gt;(response.getWriter())\r\n\t\t\t\t.withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).build();\r\n\r\n\t\twriter1.write(csvData);\r\n\t}\r\n```\r\nHow can I achieve this with a post method and allow user to download the csv file over the browser? ","title":"Springboot application to export data to csv file using Open CSV","body":"<p>I want to export data to csv file for which I have done the following:\nBean class:</p>\n<pre><code>public class MyObject {\n    private String name;\n    private String email;\n    private Integer id;\n    private String phone;\n\n   getters and setters...\n}\n</code></pre>\n<p>My pom file has required dependency (just showing the required libraries)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n    &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n    &lt;version&gt;5.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I created an API with the following code, my requirement is to have a post mapping as I will be passing parameters from the application on basis of which the data will be formed.</p>\n<pre><code>@PostMapping(&quot;csv&quot;)\n    public ResponseEntity csv() throws NoSuchFieldException, SecurityException, IllegalArgumentException,\n            IllegalAccessException, IOException, CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\n\n        List&lt;MyObject&gt; myObjects = createSampleList();\n\n        Map&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\n        columnMap.put(&quot;id&quot;, &quot;Id&quot;);\n        columnMap.put(&quot;name&quot;, &quot;User Name&quot;);\n        columnMap.put(&quot;email&quot;, &quot;User Email&quot;);\n        columnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\n\n        List&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\n        String[] header = columnMap.values().toArray(String[]::new);\n\n        csvData.add(header);\n\n        for (MyObject myObject : myObjects) {\n            List&lt;String&gt; row = new ArrayList&lt;&gt;();\n            for (String key : columnMap.keySet()) {\n                Field field = MyObject.class.getDeclaredField(key);\n                field.setAccessible(true);\n                String value = String.valueOf(field.get(myObject));\n                row.add(value);\n            }\n            csvData.add(row.toArray(String[]::new));\n        }\n\n        return (ResponseEntity) ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + &quot;Mohit&quot;)\n                .contentType(MediaType.parseMediaType(&quot;text/csv&quot;)).body(csvData);\n\n    }\n\nprivate static List&lt;MyObject&gt; createSampleList() {\n        List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\n        MyObject myObject1 = new MyObject();\n        myObject1.setId(1);\n        myObject1.setName(&quot;Name 1&quot;);\n        myObject1.setEmail(&quot;Email 1&quot;);\n        myObject1.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject2 = new MyObject();\n        myObject2.setId(2);\n        myObject2.setName(&quot;Name 2&quot;);\n        myObject2.setEmail(&quot;Email 2&quot;);\n        myObject2.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject3 = new MyObject();\n        myObject3.setId(3);\n        myObject3.setName(&quot;Name 3&quot;);\n        myObject3.setEmail(&quot;Email 3&quot;);\n        myObject3.setPhone(&quot;111-121-2121&quot;);\n\n        myObjects.add(myObject1);\n        myObjects.add(myObject2);\n        myObjects.add(myObject3);\n\n        return myObjects;\n    }\n</code></pre>\n<p>With the above code I keep getting an error</p>\n<pre><code>[org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.ArrayList] with preset Content-Type 'text/csv']\n</code></pre>\n<p>So I tried using Open CSV library but I see it only works with a get request and with the below code the file is always empty</p>\n<pre><code>@GetMapping(&quot;csv1&quot;)\n    public void csv1(HttpServletResponse response)\n            throws IOException, CsvDataTypeMismatchException, CsvRequiredFieldEmptyException, NoSuchFieldException,\n            SecurityException, IllegalArgumentException, IllegalAccessException {\n\n        List&lt;MyObject&gt; myObjects = createSampleList();\n\n        Map&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\n        columnMap.put(&quot;id&quot;, &quot;Id&quot;);\n        columnMap.put(&quot;name&quot;, &quot;User Name&quot;);\n        columnMap.put(&quot;email&quot;, &quot;User Email&quot;);\n        columnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\n\n        List&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\n        String[] header = columnMap.values().toArray(String[]::new);\n\n        csvData.add(header);\n\n        for (MyObject myObject : myObjects) {\n            List&lt;String&gt; row = new ArrayList&lt;&gt;();\n            for (String key : columnMap.keySet()) {\n                Field field = MyObject.class.getDeclaredField(key);\n                field.setAccessible(true);\n                String value = String.valueOf(field.get(myObject));\n                row.add(value);\n            }\n            csvData.add(row.toArray(String[]::new));\n        }\n\n        String fileName = &quot;Employee1.csv&quot;;\n\n        response.setContentType(&quot;text/csv&quot;);\n        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\n\n        StatefulBeanToCsv&lt;String[]&gt; writer1 = new StatefulBeanToCsvBuilder&lt;String[]&gt;(response.getWriter())\n                .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withSeparator(CSVWriter.DEFAULT_SEPARATOR).build();\n\n        writer1.write(csvData);\n    }\n</code></pre>\n<p>How can I achieve this with a post method and allow user to download the csv file over the browser?</p>\n"},{"tags":["java","spring","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":2,"creation_date":1698404423,"post_id":77373578,"comment_id":136404296,"body_markdown":"Not sure I follow. You&#39;re scheduling sth to run in a bg thread, and then expecting the controller to wait until that bg work is complete? What was the point of scheduling to the bg in the first place, if the original thread is still supposed to be blocked?","body":"Not sure I follow. You&#39;re scheduling sth to run in a bg thread, and then expecting the controller to wait until that bg work is complete? What was the point of scheduling to the bg in the first place, if the original thread is still supposed to be blocked?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698414396,"post_id":77373578,"comment_id":136406350,"body_markdown":"The answer is that you cannot. You have no control over when the sending starts or ends. For instance, when the sending starts, the user could have already received a success response.","body":"The answer is that you cannot. You have no control over when the sending starts or ends. For instance, when the sending starts, the user could have already received a success response."}],"answers":[{"tags":[],"owner":{"account_id":9219462,"reputation":804,"user_id":6849458,"accept_rate":40,"display_name":"Vetemi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698405765,"creation_date":1698404974,"answer_id":77373677,"question_id":77373578,"body_markdown":"If I understand you correctly, you want to process asynchronous tasks but in case of errors make the error handling synchronous and notify the user.\r\n\r\nWithout changing your logic, this seems impossible per definition. You make the async call because you don&#39;t want the user to wait for the heavy processing, i.e. the response is faster than the heavy process but you want to wait if it&#39;s error which you cannot foresee. I think you have to change your way to handle that case which requires to rethink your logic.\r\n\r\nA more complex approach would be to process the error handling via WebSocket connection or constant polling from client to server, where the error handler notifies the user. This would mean that the user gets the error delayed.\r\n\r\nAn easier approach would be to allow the user to run the process again &quot;Dont have a mail? send mail again&quot; or something like that.","title":"Handling exceptions thrown by Spring @Async methods","body":"<p>If I understand you correctly, you want to process asynchronous tasks but in case of errors make the error handling synchronous and notify the user.</p>\n<p>Without changing your logic, this seems impossible per definition. You make the async call because you don't want the user to wait for the heavy processing, i.e. the response is faster than the heavy process but you want to wait if it's error which you cannot foresee. I think you have to change your way to handle that case which requires to rethink your logic.</p>\n<p>A more complex approach would be to process the error handling via WebSocket connection or constant polling from client to server, where the error handler notifies the user. This would mean that the user gets the error delayed.</p>\n<p>An easier approach would be to allow the user to run the process again &quot;Dont have a mail? send mail again&quot; or something like that.</p>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698843318,"creation_date":1698843318,"answer_id":77402792,"question_id":77373578,"body_markdown":"Based on the comments, it seems I didn&#39;t do a great job of explaining the problem. I&#39;ve tested the solution below and am satisfied that it meets my requirements\r\n\r\n```java\r\npublic class EmailService {\r\n\r\n    @Async\r\n    public CompletableFuture&lt;?&gt; send(String address, String subject, String body) {\r\n        try {\r\n            // make a HTTP call to SendGrid&#39;s API\r\n            return CompletableFuture.completedFuture(null);\r\n        } catch (Exception ex) {\r\n            return CompletableFuture.failedFuture(ex);\r\n        }\r\n    }\r\n}\r\n\r\npublic class PasswordService {\r\n\r\n    @Autowired\r\n    private EmailService emailService;\r\n\r\n    public void resetAll(String emailAddresses) {\r\n\r\n        var emailTasks = emailAddresses.stream()\r\n            .map(email -&gt; emailSendingService.send(email, &quot;Your new password is&quot;, &quot;open-sesame&quot;))\r\n            .toArray(CompletableFuture[]::new);\r\n\r\n        // wait for all the calls to emailService to complete, throw an\r\n        // exception if any of them fail\r\n        CompletableFuture.allOf(emailTasks).join();\r\n    }\r\n}\r\n```","title":"Handling exceptions thrown by Spring @Async methods","body":"<p>Based on the comments, it seems I didn't do a great job of explaining the problem. I've tested the solution below and am satisfied that it meets my requirements</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailService {\n\n    @Async\n    public CompletableFuture&lt;?&gt; send(String address, String subject, String body) {\n        try {\n            // make a HTTP call to SendGrid's API\n            return CompletableFuture.completedFuture(null);\n        } catch (Exception ex) {\n            return CompletableFuture.failedFuture(ex);\n        }\n    }\n}\n\npublic class PasswordService {\n\n    @Autowired\n    private EmailService emailService;\n\n    public void resetAll(String emailAddresses) {\n\n        var emailTasks = emailAddresses.stream()\n            .map(email -&gt; emailSendingService.send(email, &quot;Your new password is&quot;, &quot;open-sesame&quot;))\n            .toArray(CompletableFuture[]::new);\n\n        // wait for all the calls to emailService to complete, throw an\n        // exception if any of them fail\n        CompletableFuture.allOf(emailTasks).join();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698843318,"creation_date":1698403950,"question_id":77373578,"body_markdown":"In my Spring Boot app, I have a method that sends emails by making (blocking) HTTP calls to the SendGrid API. In some cases I call this method several times per request, so in order to mitigate the impact on the request thread, I call this method asynchronously by annotating it with `@Async`.\r\n\r\n```java\r\npublic class EmailService {\r\n\r\n    @Async\r\n    public void send(String address, String subject, String body) {\r\n        // make a HTTP call to SendGrid&#39;s API\r\n    }\r\n}\r\n\r\npublic class PasswordService {\r\n\r\n    @Autowired\r\n    private EmailService emailService;\r\n\r\n    public void resetAll(String emailAddresses) {\r\n        emailAddresses.forEach(email -&gt; {\r\n            emailService.send(email, &quot;Your new password is&quot;, &quot;open-sesame&quot;);   \r\n        });\r\n    }\r\n}\r\n\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    public void handleException(Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThe problem with this approach is that it bypasses the application&#39;s exception handling. If an exception is thrown by `emailService.send`, the global exception handler is not called, and therefore a 500 HTTP status is not returned to the client.\r\n\r\nIf I remove `@Async`, the global exception handlers is called as expected. **How can I call this method asynchronously, without bypassing the global exception handler?**","title":"Handling exceptions thrown by Spring @Async methods","body":"<p>In my Spring Boot app, I have a method that sends emails by making (blocking) HTTP calls to the SendGrid API. In some cases I call this method several times per request, so in order to mitigate the impact on the request thread, I call this method asynchronously by annotating it with <code>@Async</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailService {\n\n    @Async\n    public void send(String address, String subject, String body) {\n        // make a HTTP call to SendGrid's API\n    }\n}\n\npublic class PasswordService {\n\n    @Autowired\n    private EmailService emailService;\n\n    public void resetAll(String emailAddresses) {\n        emailAddresses.forEach(email -&gt; {\n            emailService.send(email, &quot;Your new password is&quot;, &quot;open-sesame&quot;);   \n        });\n    }\n}\n\n@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public void handleException(Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>The problem with this approach is that it bypasses the application's exception handling. If an exception is thrown by <code>emailService.send</code>, the global exception handler is not called, and therefore a 500 HTTP status is not returned to the client.</p>\n<p>If I remove <code>@Async</code>, the global exception handlers is called as expected. <strong>How can I call this method asynchronously, without bypassing the global exception handler?</strong></p>\n"},{"tags":["java","functional-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1694687290,"post_id":77099354,"comment_id":135925287,"body_markdown":"You could put the doOnSuccess call inside the flatMap: `flatMap(msg -&gt; service.loadSmth(msg).doOnSuccess(...))`","body":"You could put the doOnSuccess call inside the flatMap: <code>flatMap(msg -&gt; service.loadSmth(msg).doOnSuccess(...))</code>"},{"owner":{"account_id":27655527,"reputation":1,"user_id":21109516,"display_name":"worm359"},"score":0,"creation_date":1694713333,"post_id":77099354,"comment_id":135931005,"body_markdown":"@MartinTarj&#225;nyi yeah, it&#39;ll work. Just today thought about it, when stumbled on this exact case with optionals. I just struggle with carrying streams and optionals API onto reactive for some reason. thanks!","body":"@MartinTarj&#225;nyi yeah, it&#39;ll work. Just today thought about it, when stumbled on this exact case with optionals. I just struggle with carrying streams and optionals API onto reactive for some reason. thanks!"},{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695024819,"post_id":77099354,"comment_id":135963699,"body_markdown":"`.filter(Objects::nonNull)` this is also not needed, you cant put a `null`in a `Mono`so this `Mono.just(null)` will produce an error. So if you want to do a null check you need to do it before.","body":"<code>.filter(Objects::nonNull)</code> this is also not needed, you cant put a <code>null</code>in a <code>Mono</code>so this <code>Mono.just(null)</code> will produce an error. So if you want to do a null check you need to do it before."}],"answers":[{"tags":[],"owner":{"account_id":27655527,"reputation":1,"user_id":21109516,"display_name":"worm359"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698842843,"creation_date":1695056283,"answer_id":77129078,"question_id":77099354,"body_markdown":"Posting an answer from @MartinTarj&#225;nyi comment. The pseudocode that works for me:\r\n\r\n```java\r\npublic Mono&lt;Void&gt; execute(String resource) {\r\n    return Mono.just(resource) \r\n            .filter(Objects::nonNull) \r\n            .filter(msg -&gt; msg.startsWith(&quot;http://&quot;)) \r\n            .flatMap(msg -&gt; service\r\n                    .loadSmth(msg)\r\n                    .onSuccess((v) -&gt; serviceContinueWork.doSmthElse()))\r\n            .doOnError(t -&gt; log.error(&quot;service#loadSmth error: {}&quot;, ExceptionUtils.getStackTrace(t)))\r\n            .then();\r\n}\r\n```","title":"How to check if Mono&lt;Void&gt; was actually called?","body":"<p>Posting an answer from @MartinTarjányi comment. The pseudocode that works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; execute(String resource) {\n    return Mono.just(resource) \n            .filter(Objects::nonNull) \n            .filter(msg -&gt; msg.startsWith(&quot;http://&quot;)) \n            .flatMap(msg -&gt; service\n                    .loadSmth(msg)\n                    .onSuccess((v) -&gt; serviceContinueWork.doSmthElse()))\n            .doOnError(t -&gt; log.error(&quot;service#loadSmth error: {}&quot;, ExceptionUtils.getStackTrace(t)))\n            .then();\n}\n</code></pre>\n"}],"owner":{"account_id":27655527,"reputation":1,"user_id":21109516,"display_name":"worm359"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698842843,"creation_date":1694626699,"question_id":77099354,"body_markdown":"I am new to reactive programming (and I&#39;ve read a bunch of similar SO questions). In my current pet-project, I&#39;ve run into the following problem (I&#39;m providing a pseudo code for a scenario in question).\r\n\r\nIt concerns filtering `Mono&lt;Object&gt;`, and then determining if `Mono&lt;Void&gt;` was called.\r\nIn the example below:\r\n1. I create `Mono&lt;String&gt;` from input\r\n2. filter, if input `String resource` is suitable for my method.\r\n3. flat map my `Mono&lt;String&gt;` to long-running `Mono&lt;Void&gt;`. It changes some inner system properties but doesn&#39;t return anything.\r\n4. if `service.loadSmth` was executed and completed successfully, I want to call `serviceContinueWork.doSmthElse()`\r\n\r\n```java\r\npublic Mono&lt;Void&gt; execute(String resource) {\r\n    return Mono.just(resource) //Mono&lt;String&gt;\r\n            .filter(Objects::nonNull) //Mono&lt;String&gt;\r\n            .filter(msg -&gt; msg.startsWith(&quot;http://&quot;)) //filtering the Mono&lt;String&gt;\r\n            .flatMap(msg -&gt; service.loadSmth(msg)) //flat map to Mono&lt;Void&gt;\r\n            .doOnSuccess(command -&gt; serviceContinueWork.doSmthElse()) //!!! executed always :(\r\n            .doOnError(t -&gt; log.error(&quot;service#loadSmth error: {}&quot;, ExceptionUtils.getStackTrace(t)))\r\n            .then();\r\n}\r\n```\r\n\r\nHovewer, `doOnSuccess` is called regardless if a string was filtered or not. An empty Mono is considered successfully terminated, as I understand it.\r\n\r\nWhat is the pattern for such a situation? (When we want to determine if `Mono&lt;Void&gt;` was called - `doOnNext` and `doOnSuccess` are not suitable.)\r\n\r\nFrom what I understand, I can always switch to `service.loadSmth(msg)` returning `Mono&lt;Boolean&gt;` - then `doOnNext` instead of `doOnSuccess` will work just fine.\r\n\r\nHowever, it seems that there should be some way to distinguish between these cases without unnecessary signature changing. I need to know if a method has been called &quot;from outside&quot; - in external calling code.\r\nLike, I wouldn&#39;t make a &#39;void doSmth()&#39; method return boolean, just to know if it has been called (in a usual, non reactive/non functional cases).\r\n\r\nWill be grateful for any advice/links.\r\n","title":"How to check if Mono&lt;Void&gt; was actually called?","body":"<p>I am new to reactive programming (and I've read a bunch of similar SO questions). In my current pet-project, I've run into the following problem (I'm providing a pseudo code for a scenario in question).</p>\n<p>It concerns filtering <code>Mono&lt;Object&gt;</code>, and then determining if <code>Mono&lt;Void&gt;</code> was called.\nIn the example below:</p>\n<ol>\n<li>I create <code>Mono&lt;String&gt;</code> from input</li>\n<li>filter, if input <code>String resource</code> is suitable for my method.</li>\n<li>flat map my <code>Mono&lt;String&gt;</code> to long-running <code>Mono&lt;Void&gt;</code>. It changes some inner system properties but doesn't return anything.</li>\n<li>if <code>service.loadSmth</code> was executed and completed successfully, I want to call <code>serviceContinueWork.doSmthElse()</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; execute(String resource) {\n    return Mono.just(resource) //Mono&lt;String&gt;\n            .filter(Objects::nonNull) //Mono&lt;String&gt;\n            .filter(msg -&gt; msg.startsWith(&quot;http://&quot;)) //filtering the Mono&lt;String&gt;\n            .flatMap(msg -&gt; service.loadSmth(msg)) //flat map to Mono&lt;Void&gt;\n            .doOnSuccess(command -&gt; serviceContinueWork.doSmthElse()) //!!! executed always :(\n            .doOnError(t -&gt; log.error(&quot;service#loadSmth error: {}&quot;, ExceptionUtils.getStackTrace(t)))\n            .then();\n}\n</code></pre>\n<p>Hovewer, <code>doOnSuccess</code> is called regardless if a string was filtered or not. An empty Mono is considered successfully terminated, as I understand it.</p>\n<p>What is the pattern for such a situation? (When we want to determine if <code>Mono&lt;Void&gt;</code> was called - <code>doOnNext</code> and <code>doOnSuccess</code> are not suitable.)</p>\n<p>From what I understand, I can always switch to <code>service.loadSmth(msg)</code> returning <code>Mono&lt;Boolean&gt;</code> - then <code>doOnNext</code> instead of <code>doOnSuccess</code> will work just fine.</p>\n<p>However, it seems that there should be some way to distinguish between these cases without unnecessary signature changing. I need to know if a method has been called &quot;from outside&quot; - in external calling code.\nLike, I wouldn't make a 'void doSmth()' method return boolean, just to know if it has been called (in a usual, non reactive/non functional cases).</p>\n<p>Will be grateful for any advice/links.</p>\n"},{"tags":["java","spring","spring-boot","websocket"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698842718,"post_id":77402565,"comment_id":136455721,"body_markdown":"From the [javascript tag info](https://stackoverflow.com/tags/javascript/info): &quot;*[JavaScript] is unrelated to the Java programming language and shares only superficial similarities. ...*&quot; --- Due to the implied meaning, I strongly recommend to rename class `SimpUserRegistry` to e.g. `SimpleUserRegistry`.","body":"From the <a href=\"https://stackoverflow.com/tags/javascript/info\">javascript tag info</a>: &quot;<i>[JavaScript] is unrelated to the Java programming language and shares only superficial similarities. ...</i>&quot; --- Due to the implied meaning, I strongly recommend to rename class <code>SimpUserRegistry</code> to e.g. <code>SimpleUserRegistry</code>."},{"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"score":0,"creation_date":1698844988,"post_id":77402565,"comment_id":136456170,"body_markdown":"@Turing85 SimpUserRegistry its Spring Framework class. So SimpleUserRegistry doesn&#39;t exist","body":"@Turing85 SimpUserRegistry its Spring Framework class. So SimpleUserRegistry doesn&#39;t exist"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1698849694,"post_id":77402565,"comment_id":136457190,"body_markdown":"Oh wow... what a blunder... haven&#39;t expected that from the spring-team...","body":"Oh wow... what a blunder... haven&#39;t expected that from the spring-team..."}],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698842751,"creation_date":1698841164,"question_id":77402565,"body_markdown":"I am trying to implement notifications on a website using web sockets. I have configured the server configuration and sending messages. My client receives my messages and renders on the page, but when I try to get a list of users connected to the socket, I get an empty list.\r\n\r\nMy config:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @EnableWebSocket\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;, &quot;/user&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;)\r\n                .setAllowedOriginPatterns(&quot;*&quot;);\r\n    }\r\n    }\r\n\r\nMy Rest controller for send message:\r\n\r\n    @RestController\r\n    @CrossOrigin(&quot;*&quot;)\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/notifications&quot;)\r\n    public class NotificationController {\r\n\r\n    private final NotificationService notificationService;\r\n\r\n    @PostMapping(&quot;/all&quot;)\r\n    public void sendNotificationToAll(@RequestBody String message) {\r\n        notificationService.sendToAll(message);\r\n    }\r\n\r\n    @PostMapping(&quot;/user&quot;)\r\n    public void sendNotificationToUser(@RequestBody String message) {\r\n        notificationService.sendToUsers(message);\r\n    }\r\n\r\n    @GetMapping(&quot;/getUser&quot;)\r\n    public void getUsers(){\r\n        notificationService.getUsers();\r\n    }\r\n    }\r\n\r\nService for sending messages to topic:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class NotificationService {\r\n\r\n    private final SimpMessagingTemplate simpMessagingTemplate;\r\n    private final SimpUserRegistry simpUserRegistry;\r\n\r\n    public void sendToAll(String message) {\r\n        System.out.println(message);\r\n        simpMessagingTemplate.convertAndSend(&quot;/topic/public&quot;, message);\r\n    }\r\n\r\n    public void sendToUsers(String message) {\r\n        List&lt;String&gt; users = List.of(&quot;some user fullName&quot;);\r\n        simpMessagingTemplate.convertAndSendToUser(users.get(0), &quot;queue/private&quot;, message);\r\n    }\r\n\r\n    public void getUsers() {\r\n        List&lt;String&gt; userNames = simpUserRegistry.getUsers().stream().map(SimpUser::getName).toList();\r\n        simpUserRegistry.getUsers().forEach(System.out::println);\r\n    }\r\n    }\r\n\r\nI tried to send the client&#39;s unique name when connecting, it didn&#39;t help.\r\nI use SockJs for js client.","title":"simpUserRegistry.getUsers() is empty web sockets","body":"<p>I am trying to implement notifications on a website using web sockets. I have configured the server configuration and sending messages. My client receives my messages and renders on the page, but when I try to get a list of users connected to the socket, I get an empty list.</p>\n<p>My config:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@EnableWebSocket\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry config) {\n    config.enableSimpleBroker(&quot;/topic&quot;, &quot;/user&quot;);\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n}\n\n@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws&quot;)\n            .setAllowedOriginPatterns(&quot;*&quot;);\n}\n}\n</code></pre>\n<p>My Rest controller for send message:</p>\n<pre><code>@RestController\n@CrossOrigin(&quot;*&quot;)\n@RequiredArgsConstructor\n@RequestMapping(&quot;/notifications&quot;)\npublic class NotificationController {\n\nprivate final NotificationService notificationService;\n\n@PostMapping(&quot;/all&quot;)\npublic void sendNotificationToAll(@RequestBody String message) {\n    notificationService.sendToAll(message);\n}\n\n@PostMapping(&quot;/user&quot;)\npublic void sendNotificationToUser(@RequestBody String message) {\n    notificationService.sendToUsers(message);\n}\n\n@GetMapping(&quot;/getUser&quot;)\npublic void getUsers(){\n    notificationService.getUsers();\n}\n}\n</code></pre>\n<p>Service for sending messages to topic:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class NotificationService {\n\nprivate final SimpMessagingTemplate simpMessagingTemplate;\nprivate final SimpUserRegistry simpUserRegistry;\n\npublic void sendToAll(String message) {\n    System.out.println(message);\n    simpMessagingTemplate.convertAndSend(&quot;/topic/public&quot;, message);\n}\n\npublic void sendToUsers(String message) {\n    List&lt;String&gt; users = List.of(&quot;some user fullName&quot;);\n    simpMessagingTemplate.convertAndSendToUser(users.get(0), &quot;queue/private&quot;, message);\n}\n\npublic void getUsers() {\n    List&lt;String&gt; userNames = simpUserRegistry.getUsers().stream().map(SimpUser::getName).toList();\n    simpUserRegistry.getUsers().forEach(System.out::println);\n}\n}\n</code></pre>\n<p>I tried to send the client's unique name when connecting, it didn't help.\nI use SockJs for js client.</p>\n"},{"tags":["java","docker","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697022050,"post_id":77272265,"comment_id":136226347,"body_markdown":"You are ignoring your properties. You are setting `localhost:9092` hardcoded. Also if you are using Spring Boot and Spring Kafka you don&#39;t need the confguration class as that will all be configured for you.","body":"You are ignoring your properties. You are setting <code>localhost:9092</code> hardcoded. Also if you are using Spring Boot and Spring Kafka you don&#39;t need the confguration class as that will all be configured for you."},{"owner":{"account_id":24448992,"reputation":21,"user_id":18371499,"display_name":"George Papadakis"},"score":0,"creation_date":1697022360,"post_id":77272265,"comment_id":136226407,"body_markdown":"@M.Deinum if i delete the entire file about consumer and producer configuration it throws me error while building.Can you help me a little bit more &#128513;","body":"@M.Deinum if i delete the entire file about consumer and producer configuration it throws me error while building.Can you help me a little bit more 😁"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697022458,"post_id":77272265,"comment_id":136226432,"body_markdown":"It doesn&#39;t throw an error while building, it throws an error while running your tests as you run those outside docker. Either don&#39;t do the tests, or have a dedicated test configureation `application-test.properties` which points to `localhost:9092`. Then on your test(s) add `@ActiveProfiles(&quot;test&quot;)` to have it loiad the correct config.","body":"It doesn&#39;t throw an error while building, it throws an error while running your tests as you run those outside docker. Either don&#39;t do the tests, or have a dedicated test configureation <code>application-test.properties</code> which points to <code>localhost:9092</code>. Then on your test(s) add <code>@ActiveProfiles(&quot;test&quot;)</code> to have it loiad the correct config."},{"owner":{"account_id":24448992,"reputation":21,"user_id":18371499,"display_name":"George Papadakis"},"score":0,"creation_date":1697022803,"post_id":77272265,"comment_id":136226507,"body_markdown":"@M.Deinum now it throws me this \n```\n2023-10-11 11:12:45.109  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Error while fetching metadata with correlation id 396 : {my-topic=UNKNOWN_TOPIC_OR_PARTITION}\n```","body":"@M.Deinum now it throws me this  ``` 2023-10-11 11:12:45.109  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Error while fetching metadata with correlation id 396 : {my-topic=UNKNOWN_TOPIC_OR_PARTITION} ```"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697023203,"post_id":77272265,"comment_id":136226577,"body_markdown":"Don;t add code etc. as comments as that is totally unreaddable. Apparently you have a test which does something with a non-existing topic.","body":"Don;t add code etc. as comments as that is totally unreaddable. Apparently you have a test which does something with a non-existing topic."},{"owner":{"account_id":24448992,"reputation":21,"user_id":18371499,"display_name":"George Papadakis"},"score":1,"creation_date":1697023237,"post_id":77272265,"comment_id":136226585,"body_markdown":"I solved it thank you @M.Deinum","body":"I solved it thank you @M.Deinum"}],"owner":{"account_id":24448992,"reputation":21,"user_id":18371499,"display_name":"George Papadakis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697174339,"answer_count":0,"score":0,"last_activity_date":1698842721,"creation_date":1697020689,"question_id":77272265,"body_markdown":"Cant&#39;t connect spring boot with kafka broker.\r\n\r\n    2023-10-11 09:39:19.164  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    2023-10-11 09:39:20.118  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n    2023-10-11 09:39:20.118  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n    2023-10-11 09:39:21.306  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n    2023-10-11 09:39:21.306  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n\r\ndocker-compose with the 3 services(zookeeper,kafka,findTeam(spring))\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  zookeeper:\r\n    image: wurstmeister/zookeeper\r\n    ports:\r\n    - &quot;2181:2181&quot;\r\n  kafka:\r\n    image: wurstmeister/kafka\r\n    ports:\r\n    - &quot;9092:9092&quot;\r\n    environment:\r\n      HOSTNAME_COMMAND: &quot;route -n | awk &#39;/UG[ \\t]/{print $$2}&#39;&quot;\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\n  findTeam:\r\n    image: dogzy\r\n    expose:\r\n      - &quot;9090&quot;\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:mysql://localhost:8081/cleverDogzyBack?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;useTimezone=true\r\n      - SPRING_DATASOURCE_USERNAME=root\r\n      - SPRING_DATASOURCE_PASSWORD=red5PRO@action\r\n      - SPRING_KAFKA_BOOTSTRAP_SERVERS=kafka:9092\r\n    ports:\r\n      - 8026:9091\r\n    depends_on:\r\n      - kafka\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\nspring application.properties configuration\r\n\r\n\r\n```\r\n\r\nspring.kafka.bootstrap-servers=kafka:9092\r\nspring.kafka.consumer.group-id=my-group-id\r\n\r\n```\r\n\r\nspring consumer configuration\r\n\r\n```\r\npackage infili.findTeam.configuration;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\r\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nHere is the spring producer configuration file\r\n\r\n```\r\npackage infili.findTeam.configuration;\r\n\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.core.ProducerFactory;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\n\r\nhelp me please i want to fix this to move on to some other things. I think that i am doing something wrong with the configuration on the server side(Spring boot)\r\n\r\n\r\n\r\n\r\n","title":"Kafka + Spring Boot woth Docker","body":"<p>Cant't connect spring boot with kafka broker.</p>\n<pre><code>2023-10-11 09:39:19.164  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-10-11 09:39:20.118  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-10-11 09:39:20.118  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-10-11 09:39:21.306  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-10-11 09:39:21.306  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-my-group-id-1, groupId=my-group-id] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n<p>docker-compose with the 3 services(zookeeper,kafka,findTeam(spring))</p>\n<pre><code>version: '3'\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    ports:\n    - &quot;2181:2181&quot;\n  kafka:\n    image: wurstmeister/kafka\n    ports:\n    - &quot;9092:9092&quot;\n    environment:\n      HOSTNAME_COMMAND: &quot;route -n | awk '/UG[ \\t]/{print $$2}'&quot;\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'\n  findTeam:\n    image: dogzy\n    expose:\n      - &quot;9090&quot;\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:mysql://localhost:8081/cleverDogzyBack?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC&amp;useTimezone=true\n      - SPRING_DATASOURCE_USERNAME=root\n      - SPRING_DATASOURCE_PASSWORD=red5PRO@action\n      - SPRING_KAFKA_BOOTSTRAP_SERVERS=kafka:9092\n    ports:\n      - 8026:9091\n    depends_on:\n      - kafka\n\n\n\n</code></pre>\n<p>spring application.properties configuration</p>\n<pre><code>\nspring.kafka.bootstrap-servers=kafka:9092\nspring.kafka.consumer.group-id=my-group-id\n\n</code></pre>\n<p>spring consumer configuration</p>\n<pre><code>package infili.findTeam.configuration;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n<p>Here is the spring producer configuration file</p>\n<pre><code>package infili.findTeam.configuration;\n\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport java.util.HashMap;\nimport java.util.Map;\n@Configuration\npublic class KafkaProducerConfig {\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>help me please i want to fix this to move on to some other things. I think that i am doing something wrong with the configuration on the server side(Spring boot)</p>\n"},{"tags":["java","redis","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694794940,"creation_date":1694794940,"answer_id":77113970,"question_id":77113569,"body_markdown":"You can use `Mono.defer(Supplier&lt;? extends Mono&lt;? extends T&gt;&gt; supplier)`. It takes a supplier for Mono, that will be called only if Mono subscribed. In your case it means key generation will be called only in case of `switchIfEmpty`:\r\n\r\n        return reactiveRedisOperations.opsForValue()\r\n                .get(&quot;private&quot;)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                            var privateKeyEncoded = &quot;...&quot;;\r\n                            var publicKeyEncoded = &quot;...&quot;;\r\n                            return reactiveRedisOperations.opsForValue()\r\n                                    .multiSet(Map.of(\r\n                                            &quot;private&quot;, privateKeyEncoded,\r\n                                            &quot;public&quot;, publicKeyEncoded\r\n                                    ))\r\n                                    .map(b -&gt; {\r\n                                        if (b) return privateKeyEncoded;\r\n                                        else throw new RuntimeException();\r\n                                    });\r\n                        })\r\n                );\r\n","title":"Is it right to call subscribe within async context?","body":"<p>You can use <code>Mono.defer(Supplier&lt;? extends Mono&lt;? extends T&gt;&gt; supplier)</code>. It takes a supplier for Mono, that will be called only if Mono subscribed. In your case it means key generation will be called only in case of <code>switchIfEmpty</code>:</p>\n<pre><code>    return reactiveRedisOperations.opsForValue()\n            .get(&quot;private&quot;)\n            .switchIfEmpty(Mono.defer(() -&gt; {\n                        var privateKeyEncoded = &quot;...&quot;;\n                        var publicKeyEncoded = &quot;...&quot;;\n                        return reactiveRedisOperations.opsForValue()\n                                .multiSet(Map.of(\n                                        &quot;private&quot;, privateKeyEncoded,\n                                        &quot;public&quot;, publicKeyEncoded\n                                ))\n                                .map(b -&gt; {\n                                    if (b) return privateKeyEncoded;\n                                    else throw new RuntimeException();\n                                });\n                    })\n            );\n</code></pre>\n"}],"owner":{"account_id":4342698,"reputation":1507,"user_id":3545570,"accept_rate":58,"display_name":"VladRia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77113970,"answer_count":1,"score":0,"last_activity_date":1698842698,"creation_date":1694791283,"question_id":77113569,"body_markdown":"I store encryption keys in a Redis database. I want to implement a fallback mechanism to generate keys unless they are already present. \r\nWhat confuses me with a solution I come up with is that I call `subscribe` within an async context. My IDE pointed me this problem. So the question is how would you implement this fallback?\r\n\r\n\r\n```java\r\npublic Mono&lt;String&gt; getEncryptionKey(String entity) {\r\n    return reactiveRedisOperations.opsForValue()\r\n            .get(&quot;private&quot;)\r\n            .switchIfEmpty(\r\n                    Mono.create(stringMonoSink -&gt; {\r\n                        try {\r\n                            var privateKeyEncoded = ...\r\n                            var publicKeyEncoded = ...\r\n\r\n                            reactiveRedisOperations.opsForValue()\r\n                                    .multiSet(Map.of(\r\n                                            &quot;private&quot;, privateKeyEncoded,\r\n                                            &quot;public&quot;, publicKeyEncoded\r\n                                    ))\r\n                                    .subscribe(success -&gt; {\r\n                                        stringMonoSink.success(privateKeyEncoded);\r\n                                    });\r\n                        } catch (Throwable e) {\r\n                            stringMonoSink.error(e);\r\n                        }\r\n                    })\r\n            );\r\n}\r\n```","title":"Is it right to call subscribe within async context?","body":"<p>I store encryption keys in a Redis database. I want to implement a fallback mechanism to generate keys unless they are already present.\nWhat confuses me with a solution I come up with is that I call <code>subscribe</code> within an async context. My IDE pointed me this problem. So the question is how would you implement this fallback?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;String&gt; getEncryptionKey(String entity) {\n    return reactiveRedisOperations.opsForValue()\n            .get(&quot;private&quot;)\n            .switchIfEmpty(\n                    Mono.create(stringMonoSink -&gt; {\n                        try {\n                            var privateKeyEncoded = ...\n                            var publicKeyEncoded = ...\n\n                            reactiveRedisOperations.opsForValue()\n                                    .multiSet(Map.of(\n                                            &quot;private&quot;, privateKeyEncoded,\n                                            &quot;public&quot;, publicKeyEncoded\n                                    ))\n                                    .subscribe(success -&gt; {\n                                        stringMonoSink.success(privateKeyEncoded);\n                                    });\n                        } catch (Throwable e) {\n                            stringMonoSink.error(e);\n                        }\n                    })\n            );\n}\n</code></pre>\n"},{"tags":["java","c","winapi","resource-leak","jinput"],"comments":[{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1698843998,"post_id":77402683,"comment_id":136455947,"body_markdown":"DestroyWindow sends  WM_DESTROY and WM_NCDESTROY messages to the window in question. What the window does then depends on its code. If its not destroyed it probably means it doesn&#39;t want to die or it doesn&#39;t (or can&#39;t) process these messages (&quot;someone&quot; must pump them). Do you know/have the code to this window and the message pump?","body":"DestroyWindow sends  WM_DESTROY and WM_NCDESTROY messages to the window in question. What the window does then depends on its code. If its not destroyed it probably means it doesn&#39;t want to die or it doesn&#39;t (or can&#39;t) process these messages (&quot;someone&quot; must pump them). Do you know/have the code to this window and the message pump?"},{"owner":{"account_id":21153321,"reputation":1,"user_id":15553138,"display_name":"Marko19907"},"score":0,"creation_date":1698845179,"post_id":77402683,"comment_id":136456204,"body_markdown":"[This](https://github.com/jinput/jinput/blob/f4085f5542f273fe830e784d5a610ab5a534dc3d/plugins/windows/src/main/native/raw/net_java_games_input_RawInputEventQueue.c) should be the relevant part in the original code. \n\nI&#39;ve [modified](https://github.com/Marko19907/jinput-hotswap-fix/blob/ddabe2bad5a479345cb8a8e8716a5f733e2e1b17/plugins/windows/src/main/native/raw/net_java_games_input_RawInputEventQueue.c) this slightly in my own fork of `JInput` to break the `GetMessage` with `PostMessage` so that I can stop the controller polling.","body":"<a href=\"https://github.com/jinput/jinput/blob/f4085f5542f273fe830e784d5a610ab5a534dc3d/plugins/windows/src/main/native/raw/net_java_games_input_RawInputEventQueue.c\" rel=\"nofollow noreferrer\">This</a> should be the relevant part in the original code.   I&#39;ve <a href=\"https://github.com/Marko19907/jinput-hotswap-fix/blob/ddabe2bad5a479345cb8a8e8716a5f733e2e1b17/plugins/windows/src/main/native/raw/net_java_games_input_RawInputEventQueue.c\" rel=\"nofollow noreferrer\">modified</a> this slightly in my own fork of <code>JInput</code> to break the <code>GetMessage</code> with <code>PostMessage</code> so that I can stop the controller polling."},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1698848625,"post_id":77402683,"comment_id":136456955,"body_markdown":"That code looks quite funky in Windows term :-) You should have a window procedure, not handle messages directly using GetMessage. It should look like this https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getmessage#return-value https://learn.microsoft.com/en-us/windows/win32/winmsg/using-window-procedures","body":"That code looks quite funky in Windows term :-) You should have a window procedure, not handle messages directly using GetMessage. It should look like this <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getmessage#return-value\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/api/winuser/&hellip;</a> <a href=\"https://learn.microsoft.com/en-us/windows/win32/winmsg/using-window-procedures\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/winmsg/&hellip;</a>"},{"owner":{"account_id":21153321,"reputation":1,"user_id":15553138,"display_name":"Marko19907"},"score":0,"creation_date":1698853897,"post_id":77402683,"comment_id":136458244,"body_markdown":"Thanks, I&#39;ll try to reimplement it like that","body":"Thanks, I&#39;ll try to reimplement it like that"},{"owner":{"account_id":2127644,"reputation":48132,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1698863722,"post_id":77402683,"comment_id":136460095,"body_markdown":"Also see [The dangers of filtering window messages](https://devblogs.microsoft.com/oldnewthing/20050209-00/?p=36493).","body":"Also see <a href=\"https://devblogs.microsoft.com/oldnewthing/20050209-00/?p=36493\" rel=\"nofollow noreferrer\">The dangers of filtering window messages</a>."},{"owner":{"account_id":21153321,"reputation":1,"user_id":15553138,"display_name":"Marko19907"},"score":0,"creation_date":1699009724,"post_id":77402683,"comment_id":136479755,"body_markdown":"I&#39;ve now rewritten it with the Window Procedures in [this](https://github.com/jinput/jinput/blob/9e496e28a6f3a0faf7f0c347f8853ae9cd86a486/plugins/windows/src/main/native/net_java_games_input_DummyWindow.c) branch like you all suggested but it&#39;s still behaving the same, the input works but it&#39;s again spawning a bunch of windows and not removing them.","body":"I&#39;ve now rewritten it with the Window Procedures in <a href=\"https://github.com/jinput/jinput/blob/9e496e28a6f3a0faf7f0c347f8853ae9cd86a486/plugins/windows/src/main/native/net_java_games_input_DummyWindow.c\" rel=\"nofollow noreferrer\">this</a> branch like you all suggested but it&#39;s still behaving the same, the input works but it&#39;s again spawning a bunch of windows and not removing them."},{"owner":{"account_id":2127644,"reputation":48132,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1699024149,"post_id":77402683,"comment_id":136482732,"body_markdown":"There&#39;s nothing that would break the (horrible) `while (PeekMessage())` loop. The code will just continue to burn through an entire CPU core and never reach the `DestroyWindow()` call. I&#39;m not confident that `throwIOException()` from the window procedure will end well, and utterly confused why there is a call to `DefWindowProc` following `throwIOException`.","body":"There&#39;s nothing that would break the (horrible) <code>while (PeekMessage())</code> loop. The code will just continue to burn through an entire CPU core and never reach the <code>DestroyWindow()</code> call. I&#39;m not confident that <code>throwIOException()</code> from the window procedure will end well, and utterly confused why there is a call to <code>DefWindowProc</code> following <code>throwIOException</code>."},{"owner":{"account_id":21153321,"reputation":1,"user_id":15553138,"display_name":"Marko19907"},"score":0,"creation_date":1699050403,"post_id":77402683,"comment_id":136487270,"body_markdown":"Unfortunately, the proposed solution doesn’t seem to resolve the issue; the windows persist. It’s unclear whether `throwIOException()` is functioning as expected within this context. If it doesn’t behave like a typical throw, the execution could indeed continue to the subsequent line. This could explain why `DefWindowProc` is being called after `throwIOException()`. Struggling to find any docs on this.","body":"Unfortunately, the proposed solution doesn’t seem to resolve the issue; the windows persist. It’s unclear whether <code>throwIOException()</code> is functioning as expected within this context. If it doesn’t behave like a typical throw, the execution could indeed continue to the subsequent line. This could explain why <code>DefWindowProc</code> is being called after <code>throwIOException()</code>. Struggling to find any docs on this."},{"owner":{"account_id":174359,"reputation":133385,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1699082985,"post_id":77402683,"comment_id":136489089,"body_markdown":"Java_net_java_games_input_DummyWindow_nDestroy comment shows misconception. You don&#39;t &quot;Make sure the window has no more messages before it gets killed&quot;, you pump all messages and then some special messages that are sent/pumped/processed ask the window to close/destroy. See this example here of processing raw input https://gist.github.com/petersvp/5e0a60c3d6e1ba6b7685807abf4ad799 it&#39;s not perfect but it works and closes the window (note the usage of GetMessage pump vs Peek, PostThreadMessage to get out of the loop, and the HWND_MESSAGE window)","body":"Java_net_java_games_input_DummyWindow_nDestroy comment shows misconception. You don&#39;t &quot;Make sure the window has no more messages before it gets killed&quot;, you pump all messages and then some special messages that are sent/pumped/processed ask the window to close/destroy. See this example here of processing raw input <a href=\"https://gist.github.com/petersvp/5e0a60c3d6e1ba6b7685807abf4ad799\" rel=\"nofollow noreferrer\">gist.github.com/petersvp/5e0a60c3d6e1ba6b7685807abf4ad799</a> it&#39;s not perfect but it works and closes the window (note the usage of GetMessage pump vs Peek, PostThreadMessage to get out of the loop, and the HWND_MESSAGE window)"}],"owner":{"account_id":21153321,"reputation":1,"user_id":15553138,"display_name":"Marko19907"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698842292,"creation_date":1698842292,"question_id":77402683,"body_markdown":"#### Background\r\nI&#39;m working on implementing controller hot swapping in `JInput` and have encountered a memory leak. I&#39;ve made some progress on the Java side, which is documented in this [PR](https://github.com/jinput/jinput/pull/82), but there seems to be a lingering problem on the native C side, specifically regarding window creation and destruction.\r\n\r\nThe full background of the issue can be found [here](https://github.com/Valkryst/VController/issues/6). \r\n\r\n#### Issue Description\r\n\r\nIn the `JInput` library, joystick input on Windows involves creating and destroying windows. This process is handled by the native C code, which can be found [here](https://github.com/jinput/jinput/blob/master/plugins/windows/src/main/native/net_java_games_input_DummyWindow.c).\r\nThe problem arises when I attempt to destroy these windows using `DestroyWindow`. Even after calling this function, the hidden windows continue to appear in tools such as `WinLister` and `Spy++` and accumulate in memory causing a resource leak.\r\n\r\n#### What I&#39;ve Tried\r\n\r\n1. I&#39;ve attempted to process all remaining messages for the windows before destroying them.\r\n1. I&#39;ve made sure that both creation and destruction are performed by the same thread.\r\n1. I&#39;ve checked the return value of DestroyWindow and verified that it is not reporting any errors by calling GetLastError.\r\n\r\nAn interesting observation is that when I attempt to call DestroyWindow again with the same handle, it returns error code 1400, indicating an invalid handle.","title":"Troubleshooting Memory Leak in JInput: Windows Not Getting Destroyed Properly","body":"<h4>Background</h4>\n<p>I'm working on implementing controller hot swapping in <code>JInput</code> and have encountered a memory leak. I've made some progress on the Java side, which is documented in this <a href=\"https://github.com/jinput/jinput/pull/82\" rel=\"nofollow noreferrer\">PR</a>, but there seems to be a lingering problem on the native C side, specifically regarding window creation and destruction.</p>\n<p>The full background of the issue can be found <a href=\"https://github.com/Valkryst/VController/issues/6\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h4>Issue Description</h4>\n<p>In the <code>JInput</code> library, joystick input on Windows involves creating and destroying windows. This process is handled by the native C code, which can be found <a href=\"https://github.com/jinput/jinput/blob/master/plugins/windows/src/main/native/net_java_games_input_DummyWindow.c\" rel=\"nofollow noreferrer\">here</a>.\nThe problem arises when I attempt to destroy these windows using <code>DestroyWindow</code>. Even after calling this function, the hidden windows continue to appear in tools such as <code>WinLister</code> and <code>Spy++</code> and accumulate in memory causing a resource leak.</p>\n<h4>What I've Tried</h4>\n<ol>\n<li>I've attempted to process all remaining messages for the windows before destroying them.</li>\n<li>I've made sure that both creation and destruction are performed by the same thread.</li>\n<li>I've checked the return value of DestroyWindow and verified that it is not reporting any errors by calling GetLastError.</li>\n</ol>\n<p>An interesting observation is that when I attempt to call DestroyWindow again with the same handle, it returns error code 1400, indicating an invalid handle.</p>\n"},{"tags":["java","grouping","spring-webflux","project-reactor","flux"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696190464,"creation_date":1696190464,"answer_id":77212114,"question_id":77200015,"body_markdown":"A short answer:\r\nYou get `Flux&lt;Object&gt;` because from `group.map` you return either `Event` either `Flux&lt;Event&gt;`, and their common parent class is Object. A quick fix is `group.flatMap` + `Mono.just()`:\r\n\r\n         .concatMap(group -&gt; group.flatMap(event -&gt; {\r\n             if(group.key().equals(IdType.SEC_ID.getValue())) {\r\n                 //Enrich and use\r\n                 return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\r\n             }\r\n             else {\r\n                 //Just use them as such\r\n                 return Mono.just(event);\r\n             }\r\n         }))\r\n\r\nHowever, since you are enriching event&#39;s one by one (`List.of(event)`) do you really need grouping and `concatMap`? You can do it easier:\r\n\r\n        Flux.fromIterable(events)\r\n                .map(event -&gt; serializer.deserialize(event, Payload.class))\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get)   //Flux&lt;Event&gt;\r\n                .flatMap(event -&gt; {\r\n                    if(event.getIdType().equals(IdType.SEC_ID.getValue())) {\r\n                        return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\r\n                    }\r\n                    else {\r\n                        //Just use them as such\r\n                        return Mono.just(event);\r\n                    }\r\n                }); //Returns Flux&lt;Event&gt;\r\n\r\nIf you want to reduce it to single `enricher` call providing a complete List of events, then you can do it like that:\r\n\r\n                Flux.fromIterable(List.of(new Event()))\r\n                        .map(event -&gt; serializer.deserialize(event, Payload.class))\r\n                        .filter(Optional::isPresent)\r\n                        .map(Optional::get)   //Flux&lt;Event&gt;\r\n                        .groupBy(Event::getIdType)\r\n                        .concatMap(group -&gt; {\r\n                            if (group.key().equals(IdType.SEC_ID.getValue())) {\r\n                                //Enrich and use\r\n                                return group.collectList()\r\n                                        .flatMapMany(enricher::enrich);\r\n                            } else {\r\n                                //Just use them as such\r\n                                return group;\r\n                            }\r\n                        });\r\n\r\nBe cautious, list of `SEC_ID` events will be collected in memory.","title":"How to split events apply different map on each group and then merge them back","body":"<p>A short answer:\nYou get <code>Flux&lt;Object&gt;</code> because from <code>group.map</code> you return either <code>Event</code> either <code>Flux&lt;Event&gt;</code>, and their common parent class is Object. A quick fix is <code>group.flatMap</code> + <code>Mono.just()</code>:</p>\n<pre><code>     .concatMap(group -&gt; group.flatMap(event -&gt; {\n         if(group.key().equals(IdType.SEC_ID.getValue())) {\n             //Enrich and use\n             return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\n         }\n         else {\n             //Just use them as such\n             return Mono.just(event);\n         }\n     }))\n</code></pre>\n<p>However, since you are enriching event's one by one (<code>List.of(event)</code>) do you really need grouping and <code>concatMap</code>? You can do it easier:</p>\n<pre><code>    Flux.fromIterable(events)\n            .map(event -&gt; serializer.deserialize(event, Payload.class))\n            .filter(Optional::isPresent)\n            .map(Optional::get)   //Flux&lt;Event&gt;\n            .flatMap(event -&gt; {\n                if(event.getIdType().equals(IdType.SEC_ID.getValue())) {\n                    return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\n                }\n                else {\n                    //Just use them as such\n                    return Mono.just(event);\n                }\n            }); //Returns Flux&lt;Event&gt;\n</code></pre>\n<p>If you want to reduce it to single <code>enricher</code> call providing a complete List of events, then you can do it like that:</p>\n<pre><code>            Flux.fromIterable(List.of(new Event()))\n                    .map(event -&gt; serializer.deserialize(event, Payload.class))\n                    .filter(Optional::isPresent)\n                    .map(Optional::get)   //Flux&lt;Event&gt;\n                    .groupBy(Event::getIdType)\n                    .concatMap(group -&gt; {\n                        if (group.key().equals(IdType.SEC_ID.getValue())) {\n                            //Enrich and use\n                            return group.collectList()\n                                    .flatMapMany(enricher::enrich);\n                        } else {\n                            //Just use them as such\n                            return group;\n                        }\n                    });\n</code></pre>\n<p>Be cautious, list of <code>SEC_ID</code> events will be collected in memory.</p>\n"}],"owner":{"account_id":425600,"reputation":22417,"user_id":806299,"accept_rate":63,"display_name":"cppcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698842228,"creation_date":1695970923,"question_id":77200015,"body_markdown":"I have a list of items coming which has 2 types of ids. I need to group them into 2 and then for one group call another method which will enrich the id and provide a different id and for the other group just return the same. I need to merge both the groups together into single stream after the above action. But when I apply `map` it returns `Flux&lt;Object&gt;` and loosing the type information.\r\n\r\n    Flux.fromIterable(events)\r\n             .map(event -&gt; serializer.deserialize(event, Payload.class))\r\n             .filter(Optional::isPresent)\r\n             .map(Optional::get)   //Flux&lt;Event&gt;\r\n             .groupBy(event -&gt; event.getIdType()) //There are only 2 types\r\n             .concatMap(group -&gt; group.map(event -&gt; {\r\n                 if(group.key().equals(IdType.SEC_ID.getValue())) {\r\n                     //Enrich and use\r\n                     return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\r\n                 }\r\n                 else {\r\n                     //Just use them as such\r\n                     return event;\r\n                 }\r\n             })) //Returns Flux&lt;Object&gt; why is not returning Flux&lt;Event&gt;\r\n\r\nHow to merge them now?","title":"How to split events apply different map on each group and then merge them back","body":"<p>I have a list of items coming which has 2 types of ids. I need to group them into 2 and then for one group call another method which will enrich the id and provide a different id and for the other group just return the same. I need to merge both the groups together into single stream after the above action. But when I apply <code>map</code> it returns <code>Flux&lt;Object&gt;</code> and loosing the type information.</p>\n<pre><code>Flux.fromIterable(events)\n         .map(event -&gt; serializer.deserialize(event, Payload.class))\n         .filter(Optional::isPresent)\n         .map(Optional::get)   //Flux&lt;Event&gt;\n         .groupBy(event -&gt; event.getIdType()) //There are only 2 types\n         .concatMap(group -&gt; group.map(event -&gt; {\n             if(group.key().equals(IdType.SEC_ID.getValue())) {\n                 //Enrich and use\n                 return enricher.enrich(List.of(event)); //return Flux&lt;Event&gt;\n             }\n             else {\n                 //Just use them as such\n                 return event;\n             }\n         })) //Returns Flux&lt;Object&gt; why is not returning Flux&lt;Event&gt;\n</code></pre>\n<p>How to merge them now?</p>\n"},{"tags":["java","logback","splunk"],"comments":[{"owner":{"account_id":3312577,"reputation":1039,"user_id":2785681,"accept_rate":100,"display_name":"Shakeel"},"score":0,"creation_date":1479925837,"post_id":40752749,"comment_id":68767512,"body_markdown":"Can you send a .zip of your project to devinfo@splunk.com? I can help out if I have a bit more context on how your project is configured","body":"Can you send a .zip of your project to devinfo@splunk.com? I can help out if I have a bit more context on how your project is configured"},{"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"score":0,"creation_date":1480299923,"post_id":40752749,"comment_id":68889818,"body_markdown":"@Shakeel Alright I just sent it off.","body":"@Shakeel Alright I just sent it off."},{"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"score":0,"creation_date":1480363678,"post_id":40752749,"comment_id":68921903,"body_markdown":"@Catfish can you post the import lines for the unit test. It is not clear if the test is using Slf4j or Logback `Logger` and `LoggerFactory` classes. What logging dependencies are being used? Is this a maven project? If so, can you paste the relevant part of the `pom.xml`. Also it would be nice if you could share the zip with other readers as well ;)","body":"@Catfish can you post the import lines for the unit test. It is not clear if the test is using Slf4j or Logback <code>Logger</code> and <code>LoggerFactory</code> classes. What logging dependencies are being used? Is this a maven project? If so, can you paste the relevant part of the <code>pom.xml</code>. Also it would be nice if you could share the zip with other readers as well ;)"},{"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"score":0,"creation_date":1480364280,"post_id":40752749,"comment_id":68922208,"body_markdown":"@anttix ok I updated the question with a link and put my code on github.","body":"@anttix ok I updated the question with a link and put my code on github."}],"answers":[{"tags":[],"owner":{"account_id":402878,"reputation":7719,"user_id":770303,"display_name":"anttix"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1480438949,"creation_date":1480368331,"answer_id":40853776,"question_id":40752749,"body_markdown":"The problem seems to be that a unit test JVM will exit before Splunk background thread completes the log upload.\r\n\r\nLogback adapter for Splunk uses a background thread for sending messages to the server in batches. Batching is controlled by `batch_interval`, `batch_size_bytes` and `batch_size_count` parameters. Even if they are all set to very low levels, the unit test JVM will likely exit and kill the thread before it completes.\r\n\r\nTry adding a sleep to the end of the test method e.g.\r\n\r\n    Thread.sleep(5000);\r\n\r\nAlso the send may be failing due to some error. These can be surfaced by adding this snippet of code to catch Splunk sender failures:\r\n\r\n    HttpEventCollectorErrorHandler.onError(new HttpEventCollectorErrorHandler.ErrorCallback() {\r\n        public void error(final List&lt;HttpEventCollectorEventInfo&gt; events, final Exception ex) {\r\n            // FIXME: Dumping stack trace to STDERR is not suitable for production use !\r\n            ex.printStackTrace();\r\n        }\r\n    });\r\n\r\nPlease note that [Splunk `HttpEventCollectorSender`][1] does not seem to be setting any HttpClient timeouts so if the endpoint is unreachable it could take minutes for the connection to time out and an error message to appear.\r\n\r\nEDIT: As it turns out there was also an issue with the `url` parameter in `logback.xml` . The URL must be specified without a path e.g. `http://mySplunkUrl:8088/` not `http://mySplunkUrl:8088/services/collector`\r\n\r\n  [1]: https://github.com/splunk/splunk-library-javalogging/blob/master/src/main/java/com/splunk/logging/HttpEventCollectorSender.java","title":"Trying to log to Splunk using logback appender","body":"<p>The problem seems to be that a unit test JVM will exit before Splunk background thread completes the log upload.</p>\n\n<p>Logback adapter for Splunk uses a background thread for sending messages to the server in batches. Batching is controlled by <code>batch_interval</code>, <code>batch_size_bytes</code> and <code>batch_size_count</code> parameters. Even if they are all set to very low levels, the unit test JVM will likely exit and kill the thread before it completes.</p>\n\n<p>Try adding a sleep to the end of the test method e.g.</p>\n\n<pre><code>Thread.sleep(5000);\n</code></pre>\n\n<p>Also the send may be failing due to some error. These can be surfaced by adding this snippet of code to catch Splunk sender failures:</p>\n\n<pre><code>HttpEventCollectorErrorHandler.onError(new HttpEventCollectorErrorHandler.ErrorCallback() {\n    public void error(final List&lt;HttpEventCollectorEventInfo&gt; events, final Exception ex) {\n        // FIXME: Dumping stack trace to STDERR is not suitable for production use !\n        ex.printStackTrace();\n    }\n});\n</code></pre>\n\n<p>Please note that <a href=\"https://github.com/splunk/splunk-library-javalogging/blob/master/src/main/java/com/splunk/logging/HttpEventCollectorSender.java\" rel=\"noreferrer\">Splunk <code>HttpEventCollectorSender</code></a> does not seem to be setting any HttpClient timeouts so if the endpoint is unreachable it could take minutes for the connection to time out and an error message to appear.</p>\n\n<p>EDIT: As it turns out there was also an issue with the <code>url</code> parameter in <code>logback.xml</code> . The URL must be specified without a path e.g. <code>http://mySplunkUrl:8088/</code> not <code>http://mySplunkUrl:8088/services/collector</code></p>\n"},{"tags":[],"owner":{"account_id":23561606,"reputation":49,"user_id":17602901,"display_name":"Moti Vator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698842127,"creation_date":1698842127,"answer_id":77402662,"question_id":40752749,"body_markdown":"Try this:\r\n\r\n    &lt;messageFormat&gt;text&lt;/messageFormat&gt;\r\n    &lt;connectTimeout&gt;5000&lt;/connectTimeout&gt;\r\n    &lt;terminationTimeout&gt;2000&lt;/terminationTimeout&gt;\r\n\r\nunder Token, that works for me.\r\n","title":"Trying to log to Splunk using logback appender","body":"<p>Try this:</p>\n<pre><code>&lt;messageFormat&gt;text&lt;/messageFormat&gt;\n&lt;connectTimeout&gt;5000&lt;/connectTimeout&gt;\n&lt;terminationTimeout&gt;2000&lt;/terminationTimeout&gt;\n</code></pre>\n<p>under Token, that works for me.</p>\n"}],"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11282,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":40853776,"answer_count":2,"score":3,"last_activity_date":1698842127,"creation_date":1479853440,"question_id":40752749,"body_markdown":"I&#39;m trying to log to splunk directly in my Java application using the logback appender for splunk.\r\n\r\nNothing seems to be going to splunk, but when I manually issue a post command in a REST client i&#39;m seeing my data in splunk.\r\n\r\nI wasn&#39;t able to get the official splunk logback test to work either.\r\n\r\nlogback.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n      \r\n      &lt;appender name=&quot;SPLUNK&quot; class=&quot;com.splunk.logging.HttpEventCollectorLogbackAppender&quot;&gt;\r\n    \t&lt;url&gt;http://mySplunkUrl:8088/services/collector&lt;/url&gt;\r\n    \t&lt;token&gt;1234566789&lt;/token&gt;\r\n    \t&lt;disableCertificateValidation&gt;true&lt;/disableCertificateValidation&gt;\r\n    \t&lt;batch_size_count&gt;1&lt;/batch_size_count&gt;\r\n    \t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n    \t  &lt;pattern&gt;%msg&lt;/pattern&gt;\r\n    \t&lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;root level=&quot;trace&quot;&gt;\r\n      \t&lt;appender-ref ref=&quot;SPLUNK&quot; /&gt;\r\n      &lt;/root&gt;\r\n      \r\n    &lt;/configuration&gt;\r\n\r\nUnit test\r\n\r\n    @Test\r\n    public void splunkLogger() {\r\n    \tLogger logger = LoggerFactory.getLogger(LogFactoryTest.class);\r\n    \tDate date = new Date();\r\n    \tString jsonMsg = String.format(&quot;{event:&#39;CancerCenterTest&#39;}&quot;);\r\n    \tlogger.info(&quot;CancerCenterTest&quot;);\r\n    \tlogger.info(jsonMsg);\r\n    }\r\n\r\nThis is the documentation I was trying to use: http://dev.splunk.com/view/splunk-logging-java/SP-CAAAE7M\r\n\r\nAm I missing something obvious?\r\n\r\n**EDIT**\r\nHere&#39;s a link to my project - https://github.com/toymachiner62/splunk-logging","title":"Trying to log to Splunk using logback appender","body":"<p>I'm trying to log to splunk directly in my Java application using the logback appender for splunk.</p>\n\n<p>Nothing seems to be going to splunk, but when I manually issue a post command in a REST client i'm seeing my data in splunk.</p>\n\n<p>I wasn't able to get the official splunk logback test to work either.</p>\n\n<p>logback.xml\n    \n    </p>\n\n<pre><code>  &lt;appender name=\"SPLUNK\" class=\"com.splunk.logging.HttpEventCollectorLogbackAppender\"&gt;\n    &lt;url&gt;http://mySplunkUrl:8088/services/collector&lt;/url&gt;\n    &lt;token&gt;1234566789&lt;/token&gt;\n    &lt;disableCertificateValidation&gt;true&lt;/disableCertificateValidation&gt;\n    &lt;batch_size_count&gt;1&lt;/batch_size_count&gt;\n    &lt;layout class=\"ch.qos.logback.classic.PatternLayout\"&gt;\n      &lt;pattern&gt;%msg&lt;/pattern&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=\"trace\"&gt;\n    &lt;appender-ref ref=\"SPLUNK\" /&gt;\n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Unit test</p>\n\n<pre><code>@Test\npublic void splunkLogger() {\n    Logger logger = LoggerFactory.getLogger(LogFactoryTest.class);\n    Date date = new Date();\n    String jsonMsg = String.format(\"{event:'CancerCenterTest'}\");\n    logger.info(\"CancerCenterTest\");\n    logger.info(jsonMsg);\n}\n</code></pre>\n\n<p>This is the documentation I was trying to use: <a href=\"http://dev.splunk.com/view/splunk-logging-java/SP-CAAAE7M\" rel=\"nofollow noreferrer\">http://dev.splunk.com/view/splunk-logging-java/SP-CAAAE7M</a></p>\n\n<p>Am I missing something obvious?</p>\n\n<p><strong>EDIT</strong>\nHere's a link to my project - <a href=\"https://github.com/toymachiner62/splunk-logging\" rel=\"nofollow noreferrer\">https://github.com/toymachiner62/splunk-logging</a></p>\n"},{"tags":["java","hibernate","persistence"],"answers":[{"tags":[],"owner":{"account_id":387774,"reputation":913,"user_id":746334,"accept_rate":75,"display_name":"Niroshan Abayakoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340777677,"creation_date":1340774690,"answer_id":11219903,"question_id":11219799,"body_markdown":"use cascade in your Document entity class. ` \r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;document&quot;)\r\n    @LazyCollection(LazyCollectionOption.EXTRA)\r\n    @Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\r\n    @Cascade({CascadeType.SAVE_UPDATE}) \r\n    public SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\r\n        return this.documentPersonCcs;\r\n    }\r\n\r\n` Then when you save or update collection when you save or update document entity.\r\n","title":"How do I update a Collection in Hibernate?","body":"<p>use cascade in your Document entity class. ` </p>\n\n<pre><code>@OneToMany(fetch = FetchType.LAZY, mappedBy = \"document\")\n@LazyCollection(LazyCollectionOption.EXTRA)\n@Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\n@Cascade({CascadeType.SAVE_UPDATE}) \npublic SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\n    return this.documentPersonCcs;\n}\n</code></pre>\n\n<p>` Then when you save or update collection when you save or update document entity.</p>\n"},{"tags":[],"owner":{"account_id":1513180,"reputation":7944,"user_id":1414799,"accept_rate":56,"display_name":"Pramod Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340775203,"creation_date":1340775203,"answer_id":11219987,"question_id":11219799,"body_markdown":"Try this - \r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;document&quot;)\r\n    @LazyCollection(LazyCollectionOption.EXTRA)\r\n    @Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\r\n    public SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\r\n        return this.documentPersonCcs;\r\n    }\r\n\r\nUse cascade to update child mapping","title":"How do I update a Collection in Hibernate?","body":"<p>Try this - </p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = \"document\")\n@LazyCollection(LazyCollectionOption.EXTRA)\n@Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\npublic SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\n    return this.documentPersonCcs;\n}\n</code></pre>\n\n<p>Use cascade to update child mapping</p>\n"},{"tags":[],"owner":{"account_id":1580087,"reputation":8933,"user_id":1465623,"accept_rate":84,"display_name":"Rahul Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340776110,"creation_date":1340776110,"answer_id":11220136,"question_id":11219799,"body_markdown":"In your Document.java add one method as\r\n\r\n     public void addDocumentPersonCc(DocumentPersonCc documentPersonCc) {\r\n    \tdocumentPersonCc.setDocument(this);\r\n    \tdocumentPersonCcs.add(documentPersonCc);\r\n     }\r\n\r\n  \r\n  Now change your updateCcs method as\r\n  \r\n  \r\n\r\n    public Document updateCcs(Document document) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n        Document oldD = (Document) session.load(Document.class, document.getId());\r\n        Hibernate.initialize(oldD.getDocumentPersonCcs());\r\n    \tSortedSet&lt;DocumentPersonCc&gt; documentPersonCcsList = document.getDocumentPersonCcs();\r\n    \t//Iterate this documentPersonCcsList\r\n\r\n        {\r\n    \t\t// add oldD.addDocumentPersonCc(Value from Iterator);\r\n    \t}    \r\n        session.update(oldD);\r\n        session.getTransaction().commit();\r\n        document = this.returnDocument(document.getId());\r\n        Hibernate.initialize(document.getDocumentPersonCcs());\r\n        return document;\r\n    }","title":"How do I update a Collection in Hibernate?","body":"<p>In your Document.java add one method as</p>\n\n<pre><code> public void addDocumentPersonCc(DocumentPersonCc documentPersonCc) {\n    documentPersonCc.setDocument(this);\n    documentPersonCcs.add(documentPersonCc);\n }\n</code></pre>\n\n<p>Now change your updateCcs method as</p>\n\n<pre><code>public Document updateCcs(Document document) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    Document oldD = (Document) session.load(Document.class, document.getId());\n    Hibernate.initialize(oldD.getDocumentPersonCcs());\n    SortedSet&lt;DocumentPersonCc&gt; documentPersonCcsList = document.getDocumentPersonCcs();\n    //Iterate this documentPersonCcsList\n\n    {\n        // add oldD.addDocumentPersonCc(Value from Iterator);\n    }    \n    session.update(oldD);\n    session.getTransaction().commit();\n    document = this.returnDocument(document.getId());\n    Hibernate.initialize(document.getDocumentPersonCcs());\n    return document;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5151031,"reputation":1,"user_id":4125644,"display_name":"dasharoldja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698841750,"creation_date":1698841750,"answer_id":77402622,"question_id":11219799,"body_markdown":"An old question, but I had pretty much exactly this problem today. We&#39;re using a very old Hibernate version (5.4.x) so I don&#39;t know how relevant this is to newer versions.\r\n\r\nThe following worked for me:\r\n* Adding `orphanRemoval = true` to the `@OneToMany` annotation, together with `cascade = CascadeType.ALL`. This is what deletes missing rows.\r\n* Using `Session.merge(parentObject)`, where `parentObject` is the Document in this case. Needed to handle existing rows correctly.\r\n* Making sure existing DocumentPersonCc objects have their `@Id` property set correctly to prevent duplicate insertions. I had to write some logic to identify these in the input and set the correct IDs, but it was fairly simple. It&#39;s not included in the code below.\r\n\r\nDocument class:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;document&quot;, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.EXTRA)\r\n    @Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\r\n    public SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\r\n        return this.documentPersonCcs;\r\n    }\r\n\r\nDocumentPersonCc class:\r\n\r\n    @Id\r\n    //Other Hibernate annotations...\r\n    public int getDocumentPersonCcId() {\r\n        return this.documentPersonCcId;\r\n    }\r\n\r\nUpdate method:\r\n\r\n    public Document updateCcs(Document document) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n        Document oldD = (Document) session.load(Document.class, document.getId());\r\n        Hibernate.initialize(oldD.getDocumentPersonCcs());\r\n\r\n        //The changed rows:\r\n        oldD.getDocumentPersonCcs().clear();\r\n        oldD.getDocumentPersonCcs().addAll(document.getDocumentPersonCcs());\r\n        session.merge(oldD);\r\n\r\n        session.getTransaction().commit();\r\n        document = this.returnDocument(document.getId());\r\n        Hibernate.initialize(document.getDocumentPersonCcs());\r\n        return document;\r\n    }\r\n\r\nThe `orphanRemoval` property is described [here][1].\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tips-how-to-delete-child-entities/","title":"How do I update a Collection in Hibernate?","body":"<p>An old question, but I had pretty much exactly this problem today. We're using a very old Hibernate version (5.4.x) so I don't know how relevant this is to newer versions.</p>\n<p>The following worked for me:</p>\n<ul>\n<li>Adding <code>orphanRemoval = true</code> to the <code>@OneToMany</code> annotation, together with <code>cascade = CascadeType.ALL</code>. This is what deletes missing rows.</li>\n<li>Using <code>Session.merge(parentObject)</code>, where <code>parentObject</code> is the Document in this case. Needed to handle existing rows correctly.</li>\n<li>Making sure existing DocumentPersonCc objects have their <code>@Id</code> property set correctly to prevent duplicate insertions. I had to write some logic to identify these in the input and set the correct IDs, but it was fairly simple. It's not included in the code below.</li>\n</ul>\n<p>Document class:</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;document&quot;, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.EXTRA)\n@Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\npublic SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\n    return this.documentPersonCcs;\n}\n</code></pre>\n<p>DocumentPersonCc class:</p>\n<pre><code>@Id\n//Other Hibernate annotations...\npublic int getDocumentPersonCcId() {\n    return this.documentPersonCcId;\n}\n</code></pre>\n<p>Update method:</p>\n<pre><code>public Document updateCcs(Document document) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    Document oldD = (Document) session.load(Document.class, document.getId());\n    Hibernate.initialize(oldD.getDocumentPersonCcs());\n\n    //The changed rows:\n    oldD.getDocumentPersonCcs().clear();\n    oldD.getDocumentPersonCcs().addAll(document.getDocumentPersonCcs());\n    session.merge(oldD);\n\n    session.getTransaction().commit();\n    document = this.returnDocument(document.getId());\n    Hibernate.initialize(document.getDocumentPersonCcs());\n    return document;\n}\n</code></pre>\n<p>The <code>orphanRemoval</code> property is described <a href=\"https://thorben-janssen.com/hibernate-tips-how-to-delete-child-entities/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1388030,"reputation":668,"user_id":1319571,"accept_rate":77,"display_name":"J Ellis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15882,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11219987,"answer_count":4,"score":2,"last_activity_date":1698841750,"creation_date":1340774014,"question_id":11219799,"body_markdown":"I have an object called &quot;Document&quot; that has a one-to-many relationship with &quot;DocumentPersonCc&quot;. I am trying to change one or more of these collections in my code, but Hibernate is not calling the update query when I expect it.  It does call the update query when I change one of the regular fields (like the document subject), but even then it does not persist any of the one-to-many changes within the database.  What do I need to change in order to get it to work?\r\n\r\nGetter and setter for DocumentPersonCc:\r\n\r\n   \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;document&quot;)\r\n\t@LazyCollection(LazyCollectionOption.EXTRA)\r\n\t@Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\r\n\tpublic SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\r\n\t\treturn this.documentPersonCcs;\r\n\t}\r\n\r\n\tpublic void setDocumentPersonCcs(\r\n\t\t\tSortedSet&lt;DocumentPersonCc&gt; documentPersonCcs) {\r\n\t\tthis.documentPersonCcs = documentPersonCcs;\r\n\t}\r\n\r\nUpdate Code:\r\n\r\n    public Document updateCcs(Document document) {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tDocument oldD = (Document) session.load(Document.class, document.getId());\r\n\t\tHibernate.initialize(oldD.getDocumentPersonCcs());\r\n\t\toldD.setDocumentPersonCcs(document.getDocumentPersonCcs());\r\n\t\tsession.update(oldD);\r\n\t\tsession.getTransaction().commit();\r\n\t\tdocument = this.returnDocument(document.getId());\r\n\t\tHibernate.initialize(document.getDocumentPersonCcs());\r\n\t\treturn document;\r\n\t}\r\n\r\nDocumentPersonCc&#39;s Document getter and setter:\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DocumentsId&quot;, nullable = false, insertable = false, updatable = false)\r\n\tprotected Document getDocument() {\r\n\t\treturn this.document;\r\n\t}\r\n\r\n\tpublic void setDocument(Document document) {\r\n\t\tthis.document = document;\r\n\t}\r\n\r\n","title":"How do I update a Collection in Hibernate?","body":"<p>I have an object called \"Document\" that has a one-to-many relationship with \"DocumentPersonCc\". I am trying to change one or more of these collections in my code, but Hibernate is not calling the update query when I expect it.  It does call the update query when I change one of the regular fields (like the document subject), but even then it does not persist any of the one-to-many changes within the database.  What do I need to change in order to get it to work?</p>\n\n<p>Getter and setter for DocumentPersonCc:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.LAZY, mappedBy = \"document\")\n@LazyCollection(LazyCollectionOption.EXTRA)\n@Sort(type = SortType.NATURAL, comparator = DocumentPersonCc.class)\npublic SortedSet&lt;DocumentPersonCc&gt; getDocumentPersonCcs() {\n    return this.documentPersonCcs;\n}\n\npublic void setDocumentPersonCcs(\n        SortedSet&lt;DocumentPersonCc&gt; documentPersonCcs) {\n    this.documentPersonCcs = documentPersonCcs;\n}\n</code></pre>\n\n<p>Update Code:</p>\n\n<pre><code>public Document updateCcs(Document document) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    Document oldD = (Document) session.load(Document.class, document.getId());\n    Hibernate.initialize(oldD.getDocumentPersonCcs());\n    oldD.setDocumentPersonCcs(document.getDocumentPersonCcs());\n    session.update(oldD);\n    session.getTransaction().commit();\n    document = this.returnDocument(document.getId());\n    Hibernate.initialize(document.getDocumentPersonCcs());\n    return document;\n}\n</code></pre>\n\n<p>DocumentPersonCc's Document getter and setter:</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = \"DocumentsId\", nullable = false, insertable = false, updatable = false)\nprotected Document getDocument() {\n    return this.document;\n}\n\npublic void setDocument(Document document) {\n    this.document = document;\n}\n</code></pre>\n"},{"tags":["java","android","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":5505460,"reputation":449,"user_id":4373421,"display_name":"Cheolho Jeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698829089,"creation_date":1698829089,"answer_id":77401413,"question_id":77400815,"body_markdown":"It&#39;s normal for an Android App to periodically do the GC. Seeing from your log, it seems like you don&#39;t need to worry too much about it.\r\n\r\nBut since you asked, you can see how your app is using the memory using profiler. Specifically, \r\n\r\n1. Launch the profiler.\r\n2. Click the memory band.\r\n3. Choose what type of memory you would like to record.\r\n\r\n[![Choose what to capture][1]][1]\r\n\r\n4. Give your profiler some time, and see the captured result. I just ran a profile for a short period of time. I&#39;ll explain my result below.\r\n\r\n[![capture e.g.][2]][2]\r\n\r\nIn the top, total memories and the usage by components (java, native ...) is shown.\r\nFrom here you can tell which part of the app is using more memory.\r\nIn my example, it&#39;s mainly native since I was running my app&#39;s camera feature during the profiling. It uses much memory during image capture / processing so it makes sense.\r\n\r\nIn the bottom is shown the list of classes, number of allocations, how &quot;heavy&quot; they are. \r\n\r\nSo if you see a lot more objects than you see, for example, if you expected 10 &quot;user&quot; instances to be active in your app but if you see 10 million, this could be a hint.\r\n\r\n+1\r\nAlso, [LeakCanary][3] is a good tool to help you find the memory leaks.\r\n\r\n+2\r\nJava&#39;s Object defines method called `finalize`, but it&#39;s generally not recommended for application developers to use it. See the [docs][4] for details.\r\n\r\n+3\r\nPlease remember that &quot;Premature optimization is the root of all evil&quot;.\r\n\r\n\r\nThat&#39;s it. Happy coding!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJzMs.png\r\n  [2]: https://i.stack.imgur.com/poXM6.png\r\n  [3]: https://square.github.io/leakcanary/\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--","title":"How to check what the garbage collecter is collecting","body":"<p>It's normal for an Android App to periodically do the GC. Seeing from your log, it seems like you don't need to worry too much about it.</p>\n<p>But since you asked, you can see how your app is using the memory using profiler. Specifically,</p>\n<ol>\n<li>Launch the profiler.</li>\n<li>Click the memory band.</li>\n<li>Choose what type of memory you would like to record.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PJzMs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJzMs.png\" alt=\"Choose what to capture\" /></a></p>\n<ol start=\"4\">\n<li>Give your profiler some time, and see the captured result. I just ran a profile for a short period of time. I'll explain my result below.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/poXM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/poXM6.png\" alt=\"capture e.g.\" /></a></p>\n<p>In the top, total memories and the usage by components (java, native ...) is shown.\nFrom here you can tell which part of the app is using more memory.\nIn my example, it's mainly native since I was running my app's camera feature during the profiling. It uses much memory during image capture / processing so it makes sense.</p>\n<p>In the bottom is shown the list of classes, number of allocations, how &quot;heavy&quot; they are.</p>\n<p>So if you see a lot more objects than you see, for example, if you expected 10 &quot;user&quot; instances to be active in your app but if you see 10 million, this could be a hint.</p>\n<p>+1\nAlso, <a href=\"https://square.github.io/leakcanary/\" rel=\"nofollow noreferrer\">LeakCanary</a> is a good tool to help you find the memory leaks.</p>\n<p>+2\nJava's Object defines method called <code>finalize</code>, but it's generally not recommended for application developers to use it. See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--\" rel=\"nofollow noreferrer\">docs</a> for details.</p>\n<p>+3\nPlease remember that &quot;Premature optimization is the root of all evil&quot;.</p>\n<p>That's it. Happy coding!</p>\n"}],"owner":{"account_id":17275639,"reputation":41,"user_id":12510326,"display_name":"Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698841584,"creation_date":1698821221,"question_id":77400815,"body_markdown":"I am an Android developer. I got this message repeatedly. This message is not error just information. I want to know what the garbage collector is collecting (for optimization my app performance)\r\n\r\n```none\r\n15:39:42.527  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 55849(2383KB) AllocSpace objects, 153(24MB) LOS objects, 43% free, 30MB/54MB, paused 65us,49us total 151.697ms\r\n15:39:43.662  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 64582(2659KB) AllocSpace objects, 164(25MB) LOS objects, 42% free, 32MB/56MB, paused 63us,52us total 320.779ms\r\n15:39:44.634  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 57308(2367KB) AllocSpace objects, 153(23MB) LOS objects, 43% free, 31MB/55MB, paused 61us,49us total 150.726ms\r\n15:39:45.795  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 65080(2687KB) AllocSpace objects, 169(26MB) LOS objects, 43% free, 31MB/55MB, paused 70us,51us total 322.406ms\r\n15:39:46.776  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 55599(2336KB) AllocSpace objects, 152(23MB) LOS objects, 43% free, 30MB/54MB, paused 60us,49us total 152.404ms\r\n15:39:47.945  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 65083(2663KB) AllocSpace objects, 165(25MB) LOS objects, 42% free, 32MB/56MB, paused 66us,48us total 323.390ms\r\n15:39:48.913  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 59233(2451KB) AllocSpace objects, 155(23MB) LOS objects, 43% free, 31MB/55MB, paused 65us,51us total 151.311ms\r\n```\r\n\r\nI tried to Android Studio Profiler. \r\n","title":"How to check what the garbage collecter is collecting","body":"<p>I am an Android developer. I got this message repeatedly. This message is not error just information. I want to know what the garbage collector is collecting (for optimization my app performance)</p>\n<pre class=\"lang-none prettyprint-override\"><code>15:39:42.527  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 55849(2383KB) AllocSpace objects, 153(24MB) LOS objects, 43% free, 30MB/54MB, paused 65us,49us total 151.697ms\n15:39:43.662  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 64582(2659KB) AllocSpace objects, 164(25MB) LOS objects, 42% free, 32MB/56MB, paused 63us,52us total 320.779ms\n15:39:44.634  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 57308(2367KB) AllocSpace objects, 153(23MB) LOS objects, 43% free, 31MB/55MB, paused 61us,49us total 150.726ms\n15:39:45.795  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 65080(2687KB) AllocSpace objects, 169(26MB) LOS objects, 43% free, 31MB/55MB, paused 70us,51us total 322.406ms\n15:39:46.776  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 55599(2336KB) AllocSpace objects, 152(23MB) LOS objects, 43% free, 30MB/54MB, paused 60us,49us total 152.404ms\n15:39:47.945  9559-9569  e.myproj.dem          com.myProject.demo          I  Background concurrent copying GC freed 65083(2663KB) AllocSpace objects, 165(25MB) LOS objects, 42% free, 32MB/56MB, paused 66us,48us total 323.390ms\n15:39:48.913  9559-9569  e.myproj.dem          com.myProject.demo          I  Background young concurrent copying GC freed 59233(2451KB) AllocSpace objects, 155(23MB) LOS objects, 43% free, 31MB/55MB, paused 65us,51us total 151.311ms\n</code></pre>\n<p>I tried to Android Studio Profiler.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":2155038,"reputation":2751,"user_id":1910483,"accept_rate":25,"display_name":"Michel_T."},"score":0,"creation_date":1529327378,"post_id":50910259,"comment_id":88820484,"body_markdown":"https://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio?rq=1 Have you looked here?","body":"<a href=\"https://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio?rq=1\" title=\"cannot resolve symbol r in android studio\">stackoverflow.com/questions/17054000/&hellip;</a> Have you looked here?"},{"owner":{"account_id":13693176,"reputation":397,"user_id":9880480,"display_name":"HaakonFlaar"},"score":0,"creation_date":1529327696,"post_id":50910259,"comment_id":88820649,"body_markdown":"@Michel_T. Cleaning the build solved the problem. I&#39;m new to Android Studio. Care to tell me what this does? Also, everytime I make a new project I have to change: implementation &#39;com.android.support:appcompat-v7:28.0.0-alpha3&#39; to alpha1 (instad of alpha3). Why is this and can I premanently set it to alpha1?","body":"@Michel_T. Cleaning the build solved the problem. I&#39;m new to Android Studio. Care to tell me what this does? Also, everytime I make a new project I have to change: implementation &#39;com.android.support:appcompat-v7:28.0.0-alpha3&#39; to alpha1 (instad of alpha3). Why is this and can I premanently set it to alpha1?"}],"answers":[{"tags":[],"owner":{"account_id":13693176,"reputation":397,"user_id":9880480,"display_name":"HaakonFlaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529327769,"creation_date":1529327769,"answer_id":50910417,"question_id":50910259,"body_markdown":"Hitting **Build -&gt; Clean Project** solved the problem. ","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>Hitting <strong>Build -> Clean Project</strong> solved the problem. </p>\n"},{"tags":[],"owner":{"account_id":7702067,"reputation":304,"user_id":5834271,"display_name":"Akash Elhance"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1593750767,"creation_date":1540560529,"answer_id":53009863,"question_id":50910259,"body_markdown":"Android Studio 3.6+:\r\n--------------------\r\nClick on `Build` -&gt; `Rebuild Project` and then click `File` -&gt; `Sync Project with Gradle Files`\r\n\r\nAndroid Studio 3.5 and earlier:\r\n-------------------------------\r\n\r\nClick on `Build` -&gt; `Rebuild Project` and then click `Tools` -&gt; `Android` -&gt; `Sync Project with Gradle Files`","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<h2>Android Studio 3.6+:</h2>\n<p>Click on <code>Build</code> -&gt; <code>Rebuild Project</code> and then click <code>File</code> -&gt; <code>Sync Project with Gradle Files</code></p>\n<h2>Android Studio 3.5 and earlier:</h2>\n<p>Click on <code>Build</code> -&gt; <code>Rebuild Project</code> and then click <code>Tools</code> -&gt; <code>Android</code> -&gt; <code>Sync Project with Gradle Files</code></p>\n"},{"tags":[],"owner":{"account_id":10151795,"reputation":23,"user_id":8947477,"display_name":"Sayed Abdullah Qutb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553082378,"creation_date":1553082378,"answer_id":55260027,"question_id":50910259,"body_markdown":"Go to **File** -&gt; **Re-import Gradle Project**\r\nIt worked for me","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>Go to <strong>File</strong> -> <strong>Re-import Gradle Project</strong>\nIt worked for me</p>\n"},{"tags":[],"owner":{"account_id":205657,"reputation":985,"user_id":454526,"accept_rate":40,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1556285786,"creation_date":1556285786,"answer_id":55868843,"question_id":50910259,"body_markdown":"Rebuilding and Syncing did not work for me. Had to restart Android Studio. ","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>Rebuilding and Syncing did not work for me. Had to restart Android Studio. </p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1577505055,"creation_date":1577505055,"answer_id":59507959,"question_id":50910259,"body_markdown":" 1. Build then Clean &gt;&gt; didn&#39;t solve\r\n 2. Removing Build folder from app level &gt;&gt; didn&#39;t solve\r\n 3. Removing Build folder from Project level &gt;&gt; didn&#39;t solve\r\n 4. Synch project with Gradle &gt;&gt; didn&#39;t solve\r\n\r\n***Finally solved by restarting android studio***\r\n\r\n","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<ol>\n<li>Build then Clean >> didn't solve</li>\n<li>Removing Build folder from app level >> didn't solve</li>\n<li>Removing Build folder from Project level >> didn't solve</li>\n<li>Synch project with Gradle >> didn't solve</li>\n</ol>\n\n<p><strong><em>Finally solved by restarting android studio</em></strong></p>\n"},{"tags":[],"owner":{"account_id":16226280,"reputation":54,"user_id":11716511,"display_name":"MIHIR UPADHYAY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587581965,"creation_date":1587581965,"answer_id":61373035,"question_id":50910259,"body_markdown":"In the new version, Just after writing the code, run code, it&#39;ll run adjusting the error itself.","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>In the new version, Just after writing the code, run code, it'll run adjusting the error itself.</p>\n"},{"tags":[],"owner":{"account_id":2170821,"reputation":1366,"user_id":1922866,"accept_rate":85,"display_name":"Methnani Bilel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596704934,"creation_date":1596704934,"answer_id":63280344,"question_id":50910259,"body_markdown":"Android Studio 4+:\r\nGo to File -&gt; Invalidate Caches / Restart\r\nthis will let android studio to index the raw files.","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>Android Studio 4+:\nGo to File -&gt; Invalidate Caches / Restart\nthis will let android studio to index the raw files.</p>\n"},{"tags":[],"owner":{"account_id":19454314,"reputation":1,"user_id":14230012,"display_name":"İlimsel Yardım"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698841292,"creation_date":1600127654,"answer_id":63893242,"question_id":50910259,"body_markdown":"I put music file in the raw folder in type &quot;.m4a&quot; and then error gone.","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>I put music file in the raw folder in type &quot;.m4a&quot; and then error gone.</p>\n"},{"tags":[],"owner":{"account_id":21234376,"reputation":11,"user_id":15618732,"display_name":"Sheikh Umaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642886482,"creation_date":1642878444,"answer_id":70816187,"question_id":50910259,"body_markdown":"Use Your Package name In front of R for Example:\r\n\r\n```\r\ncom.example.app.R.raw.yourFile\r\n```","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>Use Your Package name In front of R for Example:</p>\n<pre><code>com.example.app.R.raw.yourFile\n</code></pre>\n"}],"owner":{"account_id":13693176,"reputation":397,"user_id":9880480,"display_name":"HaakonFlaar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14095,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53009863,"answer_count":9,"score":11,"last_activity_date":1698841292,"creation_date":1529327255,"question_id":50910259,"body_markdown":"I&#39;ve a resource directory called &quot;raw&quot; in the &quot;res&quot; folder, but still can&#39;t access it through my code. The problem occurs when trying to declare the MediaPlayer variable.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private MediaPlayer pSong;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            pSong = MediaPlayer.create(this,R.raw.rando);\r\n    \r\n    \r\n            Button playButton = (Button) findViewById(R.id.play);\r\n    \r\n            playButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(MainActivity.this,&quot;Play&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            }\r\n    \r\n    }","title":"Android Studio: Cannot resolve symbol &#39;raw&#39;","body":"<p>I've a resource directory called \"raw\" in the \"res\" folder, but still can't access it through my code. The problem occurs when trying to declare the MediaPlayer variable.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private MediaPlayer pSong;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        pSong = MediaPlayer.create(this,R.raw.rando);\n\n\n        Button playButton = (Button) findViewById(R.id.play);\n\n        playButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(MainActivity.this,\"Play\", Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        }\n\n}\n</code></pre>\n"},{"tags":["java","user-interface","netbeans","gettext","jdatechooser"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1698722630,"post_id":77392890,"comment_id":136438347,"body_markdown":"Read the [API](https://papio.biology.duke.edu/repos/ranker/doc-lib/JCalendar/api/com/toedter/calendar/JDateChooser.html) for the class an use the appropriate method. I would guess you need to use the `setDateFormatString()` to format the Date in the chooser. If you want to format the Date outside of the chooser then you would need to use the `DateFormat` class with the same format string. Don&#39;t post images of code. Post the actual code in the format of an [mre].","body":"Read the <a href=\"https://papio.biology.duke.edu/repos/ranker/doc-lib/JCalendar/api/com/toedter/calendar/JDateChooser.html\" rel=\"nofollow noreferrer\">API</a> for the class an use the appropriate method. I would guess you need to use the <code>setDateFormatString()</code> to format the Date in the chooser. If you want to format the Date outside of the chooser then you would need to use the <code>DateFormat</code> class with the same format string. Don&#39;t post images of code. Post the actual code in the format of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":26998458,"reputation":36,"user_id":20560140,"display_name":"JeslynTan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698841002,"creation_date":1698841002,"answer_id":77402548,"question_id":77392890,"body_markdown":"Try DateFormat instead of toString() directly\r\n\r\n    DateFormat formatter = new SimpleDateFormat(yyyy-MM-dd);\r\n    formatter.format(getDate());","title":"getText() method not showing in dateChooser in java","body":"<p>Try DateFormat instead of toString() directly</p>\n<pre><code>DateFormat formatter = new SimpleDateFormat(yyyy-MM-dd);\nformatter.format(getDate());\n</code></pre>\n"}],"owner":{"account_id":29790890,"reputation":1,"user_id":22831071,"display_name":"zxx23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698841002,"creation_date":1698719956,"question_id":77392890,"body_markdown":"[Image 1][1] [Image2][2] [Image 3][3]\r\n\r\nI want to use the JDateChooser. and i want to get the text inside it. I saw in yt tutorials and asked my friend abt it. He told me that he can use the getText(). idk why i cant use it in mine.\r\n\r\ntried using the `getDate().toString().` but the time format is different. The time format that i chose is `yyyy-MM-dd.` But the display date is `Fri Jan 01 01:01:23 PST 9999`\r\n\r\n[1]: https://i.stack.imgur.com/Xx1n0.jpg\r\n[2]: https://i.stack.imgur.com/l6MG0.jpg\r\n[3]: https://i.stack.imgur.com/sGXSu.jpg","title":"getText() method not showing in dateChooser in java","body":"<p><a href=\"https://i.stack.imgur.com/Xx1n0.jpg\" rel=\"nofollow noreferrer\">Image 1</a> <a href=\"https://i.stack.imgur.com/l6MG0.jpg\" rel=\"nofollow noreferrer\">Image2</a> <a href=\"https://i.stack.imgur.com/sGXSu.jpg\" rel=\"nofollow noreferrer\">Image 3</a></p>\n<p>I want to use the JDateChooser. and i want to get the text inside it. I saw in yt tutorials and asked my friend abt it. He told me that he can use the getText(). idk why i cant use it in mine.</p>\n<p>tried using the <code>getDate().toString().</code> but the time format is different. The time format that i chose is <code>yyyy-MM-dd.</code> But the display date is <code>Fri Jan 01 01:01:23 PST 9999</code></p>\n"},{"tags":["java","testing","defaultmutabletreenode"],"comments":[{"owner":{"account_id":10533883,"reputation":700,"user_id":7762393,"display_name":"Balasubramanian"},"score":1,"creation_date":1526898054,"post_id":50446699,"comment_id":87906834,"body_markdown":"so whats ur doubt?","body":"so whats ur doubt?"},{"owner":{"account_id":9176370,"reputation":17,"user_id":6821855,"display_name":"mandok"},"score":0,"creation_date":1526898100,"post_id":50446699,"comment_id":87906865,"body_markdown":"I am not sure how to hardcode the values. Any ideas? \n\nWhere do I add it?","body":"I am not sure how to hardcode the values. Any ideas?   Where do I add it?"},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1526898131,"post_id":50446699,"comment_id":87906876,"body_markdown":"You mean how to handle &quot;xyz&quot; ?","body":"You mean how to handle &quot;xyz&quot; ?"},{"owner":{"account_id":10248224,"reputation":121,"user_id":7563350,"display_name":"Shryne"},"score":0,"creation_date":1526898213,"post_id":50446699,"comment_id":87906930,"body_markdown":"How about loading it from file? Maybe from xml or something similar. This way, you would see your tree outside of the application and you woudn&#39;t need to touch your code to change it.","body":"How about loading it from file? Maybe from xml or something similar. This way, you would see your tree outside of the application and you woudn&#39;t need to touch your code to change it."},{"owner":{"account_id":9176370,"reputation":17,"user_id":6821855,"display_name":"mandok"},"score":0,"creation_date":1526898218,"post_id":50446699,"comment_id":87906934,"body_markdown":"Yep. I want to create a new constructor with custom values for each family member but how and where do I then add this","body":"Yep. I want to create a new constructor with custom values for each family member but how and where do I then add this"},{"owner":{"account_id":9176370,"reputation":17,"user_id":6821855,"display_name":"mandok"},"score":0,"creation_date":1526898245,"post_id":50446699,"comment_id":87906956,"body_markdown":"@synth I wish. But I cant do that. It has to be through the program","body":"@synth I wish. But I cant do that. It has to be through the program"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1698840963,"post_id":50446699,"comment_id":136455394,"body_markdown":"I still don&#39;t understand your question. What do you want to create? The FamilyTree or the FamilyMember? What values do you want to hardcode?","body":"I still don&#39;t understand your question. What do you want to create? The FamilyTree or the FamilyMember? What values do you want to hardcode?"}],"answers":[{"tags":[],"owner":{"account_id":10533883,"reputation":700,"user_id":7762393,"display_name":"Balasubramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526898420,"creation_date":1526898420,"answer_id":50446838,"question_id":50446699,"body_markdown":"You can set values using Constructor,\r\n\r\n    public FamilyMember (Gender gen,Address add,FamilyMember fmm,FamilyMember fmf,FamilyMember fms,int mId){\r\n    \t    \tthis.gender = gen;\r\n    \t    \tthis.address = add;\r\n    \t    \tthis.mother = fmm;\r\n    \t    \tthis.father = fmf;\r\n    \t    \tthis.spouse = fms;\r\n    \t    \tthis.memberID = mId;\r\n    \t    }\r\n\r\nit will set the FamilyMember object with hard coded values,\r\n\r\n    FamilyMember fm = new FamilyMember(Gender.MALE,add,fmm,fmf,fms,menId);\r\n\r\nLet me know if any quires.","title":"Hardcoding values in Java","body":"<p>You can set values using Constructor,</p>\n\n<pre><code>public FamilyMember (Gender gen,Address add,FamilyMember fmm,FamilyMember fmf,FamilyMember fms,int mId){\n            this.gender = gen;\n            this.address = add;\n            this.mother = fmm;\n            this.father = fmf;\n            this.spouse = fms;\n            this.memberID = mId;\n        }\n</code></pre>\n\n<p>it will set the FamilyMember object with hard coded values,</p>\n\n<pre><code>FamilyMember fm = new FamilyMember(Gender.MALE,add,fmm,fmf,fms,menId);\n</code></pre>\n\n<p>Let me know if any quires.</p>\n"},{"tags":[],"owner":{"account_id":10248224,"reputation":121,"user_id":7563350,"display_name":"Shryne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526898912,"creation_date":1526898912,"answer_id":50446985,"question_id":50446699,"body_markdown":"If you really want it through a constructor, you could do it this way:\r\n\r\n\r\n    // Secondary constructor\r\n    public FamilyMember() {\r\n        this(&quot;Paul&quot;, &quot;Stevenson&quot;, ...); // calls the primary constructor\r\n    }\r\n    \r\n    public FamilyMember(String firstName, String surName, String surNameAfterMarriage, String life, Gender gender,\r\n                Address address) {\r\n        // your primary constructor\r\n    }\r\n\r\n\r\nUnfortunately this isn&#39;t very flexible. An alternative is to use a static method :\r\n\r\n    public static FamilyMember familyMemberSteve() {\r\n        return new FamilyMember(&quot;Steve&quot;, ...)\r\n    }\r\n\r\n\r\nBut to be honest, I wouldn&#39;t recommend this either. Like I said in the comment, it would be better to use XML or another format, because it would be more flexible.","title":"Hardcoding values in Java","body":"<p>If you really want it through a constructor, you could do it this way:</p>\n\n<pre><code>// Secondary constructor\npublic FamilyMember() {\n    this(\"Paul\", \"Stevenson\", ...); // calls the primary constructor\n}\n\npublic FamilyMember(String firstName, String surName, String surNameAfterMarriage, String life, Gender gender,\n            Address address) {\n    // your primary constructor\n}\n</code></pre>\n\n<p>Unfortunately this isn't very flexible. An alternative is to use a static method :</p>\n\n<pre><code>public static FamilyMember familyMemberSteve() {\n    return new FamilyMember(\"Steve\", ...)\n}\n</code></pre>\n\n<p>But to be honest, I wouldn't recommend this either. Like I said in the comment, it would be better to use XML or another format, because it would be more flexible.</p>\n"},{"tags":[],"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526913318,"creation_date":1526913318,"answer_id":50451138,"question_id":50446699,"body_markdown":"Create a a static method in FamilyMember class that creates a family and then call this method before initialising a TreeImpl object.\r\n\r\n    public static FamilyMember createFirstFamilyNode() {\r\n        FamilyMember mother = new FamilyMember(&quot;Mother&quot;, ...);\r\n        FamilyMember father = new FamilyMember(&quot;Father&quot;, ...);\r\n  \r\n        mother.setSpouce(father);\r\n        FamilyMember child1 = new FamilyMember(&quot;First Child&quot;, ...);\r\n        mother.addChild(child1);\r\n   \r\n        // And so on for rest of family members\r\n\r\n        return mother;\r\n    }","title":"Hardcoding values in Java","body":"<p>Create a a static method in FamilyMember class that creates a family and then call this method before initialising a TreeImpl object.</p>\n\n<pre><code>public static FamilyMember createFirstFamilyNode() {\n    FamilyMember mother = new FamilyMember(\"Mother\", ...);\n    FamilyMember father = new FamilyMember(\"Father\", ...);\n\n    mother.setSpouce(father);\n    FamilyMember child1 = new FamilyMember(\"First Child\", ...);\n    mother.addChild(child1);\n\n    // And so on for rest of family members\n\n    return mother;\n}\n</code></pre>\n"}],"owner":{"account_id":9176370,"reputation":17,"user_id":6821855,"display_name":"mandok"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698840460,"creation_date":1526897950,"question_id":50446699,"body_markdown":"Currently I&#39;m trying to Hardcode some values for a family tree application in Java. \r\n\r\nJust need some ideas on how to go about it, not sure how to proceed. \r\n\r\nI have also included the constructor classes:\r\n\r\n\r\n\r\n      public class TreeImpl {\r\n    \r\n    \tprivate FamilyMember root;\r\n            \r\n    \tpublic FamilyMember getRoot() {\r\n    \t\treturn root;\r\n    \t}\r\n    \r\n    \tpublic void setRoot(FamilyMember root) {\r\n    \t\tthis.root = root;\r\n    \t}\r\n    \r\n    \tpublic List&lt;FamilyMember&gt; getAllMembers() {\r\n    \t\treturn allMembers;\r\n    \t}\r\n    \r\n    \tpublic void setAllMembers(List&lt;FamilyMember&gt; allMembers) {\r\n    \t\tthis.allMembers = allMembers;\r\n    \t\tthis.setRoot(this.allMembers.get(0));\r\n    \t}\r\n    \r\n    \tprivate List&lt;FamilyMember&gt; allMembers = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic TreeImpl(FamilyMember root)\r\n    \t{\r\n    \t\tthis.root=root;\r\n    \t\taddMembers(root);\r\n    \t}\r\n    \t\r\n    \tprivate void addMembers(FamilyMember node)\r\n    \t{\r\n    \t\tif(node==null) return;\r\n    \t\tallMembers.add(node);\r\n    \t\taddMembers(node.getFather());\r\n    \t\taddMembers(node.getMother());\r\n    \t\taddMembers(node.getSpouse());\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(FamilyMember child : node.getChildren())\r\n    \t\t\taddMembers(child);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void addSpouse(int index, FamilyMember spouse)\r\n    \t{\r\n    \t\tfor(FamilyMember member : allMembers)\r\n    \t\t{\r\n    \t\t\tif(member.getMemberID()==index)\r\n    \t\t\t{\r\n    \t\t\t\tmember.setSpouse(spouse);\r\n    \t\t\t\tallMembers.add(spouse);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void addFather(int index, FamilyMember father)\r\n    \t{\r\n    \t\tfor(FamilyMember member : allMembers)\r\n    \t\t{\r\n    \t\t\tif(member.getMemberID()==index)\r\n    \t\t\t{\r\n    \t\t\t\tmember.setFather(father);\r\n    \t\t\t\tallMembers.add(father);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void addMother(int index, FamilyMember mother)\r\n    \t{\r\n    \t\tfor(FamilyMember member : allMembers)\r\n    \t\t{\r\n    \t\t\tif(member.getMemberID()==index)\r\n    \t\t\t{\r\n    \t\t\t\tmember.setMother(mother);\r\n    \t\t\t\tallMembers.add(mother);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void addChild(int index, FamilyMember child)\r\n    \t{\r\n    \t\tfor(FamilyMember member : allMembers)\r\n    \t\t{\r\n    \t\t\tif(member.getMemberID()==index)\r\n    \t\t\t{\r\n    \t\t\t\tmember.setSpouse(child);\r\n    \t\t\t\tallMembers.add(child);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tpublic FamilyMember getDetailsForMember(String member)\r\n    \t{\r\n    \t\t\r\n    \t\tfor(FamilyMember m : this.getAllMembers())\r\n    \t\t{\r\n    \t\t\tif(m.getFirstName().equals(member))\r\n    \t\t\t\treturn m;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t\r\n\r\nMy constructor class\r\n\r\n    public class FamilyMember implements Serializable{\r\n    \tprivate static int id=1;\r\n    \r\n    \tprivate String firstName, surName, surNameAfterMarriage, life;\r\n    \tprivate Gender gender;\r\n    \tprivate Address address;\r\n    \tprivate FamilyMember mother, father, spouse;\r\n    \tprivate int memberID;\r\n    \t\r\n    \tpublic boolean hasSub()\r\n    \t{\r\n    \t\treturn (this.getFather()!=null || this.getMother()!=null || this.getChildren().size()&gt;0);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic int getMemberID() {\r\n    \t\treturn memberID;\r\n    \t}\r\n    \r\n    \tpublic void setMemberID(int memberID) {\r\n    \t\tthis.memberID = memberID;\r\n    \t}\r\n    \r\n    \tprivate List&lt;FamilyMember&gt; children, grandChildren;\r\n    \r\n    \tpublic static int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic static void incrementId()\r\n    \t{\r\n    \t\tid++;\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getSurName() {\r\n    \t\treturn surName;\r\n    \t}\r\n    \r\n    \tpublic void setSurName(String surName) {\r\n    \t\tthis.surName = surName;\r\n    \t}\r\n    \r\n    \tpublic String getSurNameAfterMarriage() {\r\n    \t\treturn surNameAfterMarriage;\r\n    \t}\r\n    \r\n    \tpublic void setSurNameAfterMarriage(String surNameAfterMarriage) {\r\n    \t\tthis.surNameAfterMarriage = surNameAfterMarriage;\r\n    \t}\r\n    \r\n    \tpublic String getLife() {\r\n    \t\treturn life;\r\n    \t}\r\n    \r\n    \tpublic void setLife(String life) {\r\n    \t\tthis.life = life;\r\n    \t}\r\n    \r\n    \tpublic Gender getGender() {\r\n    \t\treturn gender;\r\n    \t}\r\n    \r\n    \tpublic void setGender(Gender gender) {\r\n    \t\tthis.gender = gender;\r\n    \t}\r\n    \r\n    \tpublic Address getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(Address address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic FamilyMember getMother() {\r\n    \t\treturn mother;\r\n    \t}\r\n    \r\n    \tpublic void setMother(FamilyMember mother) {\r\n    \t\tthis.mother = mother;\r\n    \t}\r\n    \r\n    \tpublic FamilyMember getFather() {\r\n    \t\treturn father;\r\n    \t}\r\n    \r\n    \tpublic void setFather(FamilyMember father) {\r\n    \t\tthis.father = father;\r\n    \t}\r\n    \r\n    \tpublic FamilyMember(String firstName, String surName, String surNameAfterMarriage, String life, Gender gender,\r\n    \t\t\tAddress address) {\r\n    \t\tsuper();\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.surName = surName;\r\n    \t\tthis.surNameAfterMarriage = surNameAfterMarriage;\r\n    \t\tthis.life = life;\r\n    \t\tthis.gender = gender;\r\n    \t\tthis.address = address;\r\n    \t\tthis.memberID = this.getId();\r\n    \t\tthis.children = new ArrayList&lt;&gt;();\r\n    \t\tthis.incrementId();\r\n    \t}\r\n    \r\n    \t\r\n    \t\tfor(FamilyMember child : this.getChildren())\r\n    \t\t{\r\n    \t\t\ttext = text + &quot; &quot; + child.firstName;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn text;\r\n    \t}\r\n    \r\n    \tpublic FamilyMember getSpouse() {\r\n    \t\treturn spouse;\r\n    \t}\r\n    \r\n    \tpublic void setSpouse(FamilyMember spouse) {\r\n    \t\tthis.spouse = spouse;\r\n    \t}\r\n    \r\n    \tpublic List&lt;FamilyMember&gt; getChildren() {\r\n    \t\treturn children;\r\n    \t}\r\n    \r\n    \tpublic void setChildren(List&lt;FamilyMember&gt; childer) {\r\n    \t\tthis.children = childer;\r\n    \t}\r\n    \t\r\n    \tpublic void addChild(FamilyMember child) {\r\n    \t\tthis.children.add(child);\r\n    \t}\r\n    \r\n    \r\n    \tpublic List&lt;FamilyMember&gt; getGrandChildren() {\r\n    \t\treturn grandChildren;\r\n    \t}\r\n    \r\n    \tpublic void setGrandChildren(List&lt;FamilyMember&gt; grandChildren) {\r\n    \t\tthis.grandChildren = grandChildren;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nFor examples, I want to add details for father, mothers, child etc so when I run the program, these values are displayed\r\n\r\nEg: `Familymember father = new Familymember (&quot;xyz&quot;. &quot;xyx&quot; )`","title":"Hardcoding values in Java","body":"<p>Currently I'm trying to Hardcode some values for a family tree application in Java. </p>\n\n<p>Just need some ideas on how to go about it, not sure how to proceed. </p>\n\n<p>I have also included the constructor classes:</p>\n\n<pre><code>  public class TreeImpl {\n\n    private FamilyMember root;\n\n    public FamilyMember getRoot() {\n        return root;\n    }\n\n    public void setRoot(FamilyMember root) {\n        this.root = root;\n    }\n\n    public List&lt;FamilyMember&gt; getAllMembers() {\n        return allMembers;\n    }\n\n    public void setAllMembers(List&lt;FamilyMember&gt; allMembers) {\n        this.allMembers = allMembers;\n        this.setRoot(this.allMembers.get(0));\n    }\n\n    private List&lt;FamilyMember&gt; allMembers = new ArrayList&lt;&gt;();\n\n    public TreeImpl(FamilyMember root)\n    {\n        this.root=root;\n        addMembers(root);\n    }\n\n    private void addMembers(FamilyMember node)\n    {\n        if(node==null) return;\n        allMembers.add(node);\n        addMembers(node.getFather());\n        addMembers(node.getMother());\n        addMembers(node.getSpouse());\n\n\n        for(FamilyMember child : node.getChildren())\n            addMembers(child);\n\n    }\n\n    public void addSpouse(int index, FamilyMember spouse)\n    {\n        for(FamilyMember member : allMembers)\n        {\n            if(member.getMemberID()==index)\n            {\n                member.setSpouse(spouse);\n                allMembers.add(spouse);\n                return;\n            }\n        }\n    }\n\n    public void addFather(int index, FamilyMember father)\n    {\n        for(FamilyMember member : allMembers)\n        {\n            if(member.getMemberID()==index)\n            {\n                member.setFather(father);\n                allMembers.add(father);\n                return;\n            }\n        }\n    }\n\n    public void addMother(int index, FamilyMember mother)\n    {\n        for(FamilyMember member : allMembers)\n        {\n            if(member.getMemberID()==index)\n            {\n                member.setMother(mother);\n                allMembers.add(mother);\n                return;\n            }\n        }\n    }\n\n    public void addChild(int index, FamilyMember child)\n    {\n        for(FamilyMember member : allMembers)\n        {\n            if(member.getMemberID()==index)\n            {\n                member.setSpouse(child);\n                allMembers.add(child);\n                return;\n            }\n        }\n    }\n\n\n\n    public FamilyMember getDetailsForMember(String member)\n    {\n\n        for(FamilyMember m : this.getAllMembers())\n        {\n            if(m.getFirstName().equals(member))\n                return m;\n        }\n\n        return null;\n    }\n</code></pre>\n\n<p>My constructor class</p>\n\n<pre><code>public class FamilyMember implements Serializable{\n    private static int id=1;\n\n    private String firstName, surName, surNameAfterMarriage, life;\n    private Gender gender;\n    private Address address;\n    private FamilyMember mother, father, spouse;\n    private int memberID;\n\n    public boolean hasSub()\n    {\n        return (this.getFather()!=null || this.getMother()!=null || this.getChildren().size()&gt;0);\n    }\n\n\n    public int getMemberID() {\n        return memberID;\n    }\n\n    public void setMemberID(int memberID) {\n        this.memberID = memberID;\n    }\n\n    private List&lt;FamilyMember&gt; children, grandChildren;\n\n    public static int getId() {\n        return id;\n    }\n\n    public static void incrementId()\n    {\n        id++;\n    }\n\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getSurName() {\n        return surName;\n    }\n\n    public void setSurName(String surName) {\n        this.surName = surName;\n    }\n\n    public String getSurNameAfterMarriage() {\n        return surNameAfterMarriage;\n    }\n\n    public void setSurNameAfterMarriage(String surNameAfterMarriage) {\n        this.surNameAfterMarriage = surNameAfterMarriage;\n    }\n\n    public String getLife() {\n        return life;\n    }\n\n    public void setLife(String life) {\n        this.life = life;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public void setGender(Gender gender) {\n        this.gender = gender;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n\n    public FamilyMember getMother() {\n        return mother;\n    }\n\n    public void setMother(FamilyMember mother) {\n        this.mother = mother;\n    }\n\n    public FamilyMember getFather() {\n        return father;\n    }\n\n    public void setFather(FamilyMember father) {\n        this.father = father;\n    }\n\n    public FamilyMember(String firstName, String surName, String surNameAfterMarriage, String life, Gender gender,\n            Address address) {\n        super();\n        this.firstName = firstName;\n        this.surName = surName;\n        this.surNameAfterMarriage = surNameAfterMarriage;\n        this.life = life;\n        this.gender = gender;\n        this.address = address;\n        this.memberID = this.getId();\n        this.children = new ArrayList&lt;&gt;();\n        this.incrementId();\n    }\n\n\n        for(FamilyMember child : this.getChildren())\n        {\n            text = text + \" \" + child.firstName;\n        }\n\n        return text;\n    }\n\n    public FamilyMember getSpouse() {\n        return spouse;\n    }\n\n    public void setSpouse(FamilyMember spouse) {\n        this.spouse = spouse;\n    }\n\n    public List&lt;FamilyMember&gt; getChildren() {\n        return children;\n    }\n\n    public void setChildren(List&lt;FamilyMember&gt; childer) {\n        this.children = childer;\n    }\n\n    public void addChild(FamilyMember child) {\n        this.children.add(child);\n    }\n\n\n    public List&lt;FamilyMember&gt; getGrandChildren() {\n        return grandChildren;\n    }\n\n    public void setGrandChildren(List&lt;FamilyMember&gt; grandChildren) {\n        this.grandChildren = grandChildren;\n    }\n\n\n}\n</code></pre>\n\n<p>For examples, I want to add details for father, mothers, child etc so when I run the program, these values are displayed</p>\n\n<p>Eg: <code>Familymember father = new Familymember (\"xyz\". \"xyx\" )</code></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1698828952,"post_id":77401381,"comment_id":136453389,"body_markdown":"(a) Sure filter is an option, which you have already considered (b) If all you need through separate controller classes is &quot;separation of concern&quot;, then consider having just one endpoint as `/projects/{project-name}/{actual-end-point}/` on a method, which then can call an interface implementation based on the value of `end-point`.","body":"(a) Sure filter is an option, which you have already considered (b) If all you need through separate controller classes is &quot;separation of concern&quot;, then consider having just one endpoint as <code>&#47;projects&#47;{project-name}&#47;{actual-end-point}&#47;</code> on a method, which then can call an interface implementation based on the value of <code>end-point</code>."},{"owner":{"account_id":14463304,"reputation":3887,"user_id":10456481,"display_name":"NickDelta"},"score":0,"creation_date":1698831726,"post_id":77401381,"comment_id":136453818,"body_markdown":"@SreeKumar My problem is that if I do it that way, I lose the MVC management on the levels after /{actual-end-point}. I will not be able to easily extract request bodies, params etc. There are going to be at least 3-4 more levels after {actual-end-point}.","body":"@SreeKumar My problem is that if I do it that way, I lose the MVC management on the levels after /{actual-end-point}. I will not be able to easily extract request bodies, params etc. There are going to be at least 3-4 more levels after {actual-end-point}."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1698833932,"post_id":77401381,"comment_id":136454156,"body_markdown":"OK. I have another approach that needs some detailing. I will write an answer for that. You can check that out.","body":"OK. I have another approach that needs some detailing. I will write an answer for that. You can check that out."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698840020,"creation_date":1698833983,"answer_id":77401879,"question_id":77401381,"body_markdown":"Approach\r\n--------\r\n\r\n1. Write a base interface that is annotated with `@RequestMapping` with the desired base path.\r\n2. Write implementations annotated with `@Controller`, but without `@RequestMapping` (so that the base path doesn&#39;t get overridden)\r\n3. For the validation, use the filter approach itself.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**BaseController interface**\r\n```java\r\n@RequestMapping( &quot;/projects/{project-id}&quot; )\r\npublic interface BaseController {\r\n}\r\n```\r\n\r\n**Sample child controller**\r\n\r\n(You can write any number, as long as the final paths on the methods don&#39;t duplicate.)\r\n```java\r\n@Controller\r\npublic class ChildController implements BaseController{\r\n    /* Add your controller method with the rest of the path */\r\n    @RequestMapping( &quot;/a/{id}&quot; )\r\n    public ResponseEntity&lt;String&gt; a( @PathVariable( &quot;project-id&quot; ) String projectId, @PathVariable( &quot;id&quot; ) String id ){\r\n        /* You will get the path variable &#39;project-id&#39; also */\r\n        System.out.println( &quot;/a: Path param project-id: &quot; + projectId + &quot;, Path param id: &quot; + id );\r\n        return ResponseEntity.ok( &quot;Returned from /a&quot; );\r\n    }\r\n\r\n    /* Add another controller method if you need to */\r\n    @RequestMapping( &quot;/b&quot; )\r\n    public ResponseEntity&lt;String&gt; b(){\r\n        System.out.println( &quot;/b&quot; );\r\n        return ResponseEntity.ok( &quot;Returned from /b&quot; );\r\n    }\r\n}\r\n```\r\n\r\n**Note:** The above code was tested with Java 11 and SpringBoot 2.7.4, which uses Spring MVC 5.2.x, I think.\r\n\r\n----------\r\n\r\nValidation of `project-id` using `@ModelAttribute`\r\n----------------------------------\r\n(Based on an answer to this [this question][2])\r\n\r\nIf we don&#39;t want to use a filter (though I will go for that anytime), we can add a method in the base interface with an `@ModelAttribute` annotation, which will be called before each end-point method. Though the documentation of `@ModelAttribute` isn&#39;t clear about it, it is being called anyhow. We can make the following change in `BaseController` for this approach.\r\n\r\n```java\r\n@RequestMapping( &quot;/projects/{project-id}&quot; )\r\npublic interface BaseController {\r\n    @ModelAttribute\r\n    default void interceptMVCMethod( HttpServletRequest req, @PathVariable( &quot;project-id&quot; ) String projectId ){\r\n        System.out.println( &quot;ModelAttribute: &quot; + projectId );\r\n        req.setAttribute( &quot;NAME&quot;, &quot;DEV-1&quot; );\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/0oQnY.png\r\n  [2]: https://stackoverflow.com/questions/5088179/spring-controllers-can-i-call-a-method-before-each-requestmapping-method-is-ca","title":"Path Inheritance &amp; Unified Path Variable Validation in Spring Boot","body":"<h2>Approach</h2>\n<ol>\n<li>Write a base interface that is annotated with <code>@RequestMapping</code> with the desired base path.</li>\n<li>Write implementations annotated with <code>@Controller</code>, but without <code>@RequestMapping</code> (so that the base path doesn't get overridden)</li>\n<li>For the validation, use the filter approach itself.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/0oQnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0oQnY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>BaseController interface</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping( &quot;/projects/{project-id}&quot; )\npublic interface BaseController {\n}\n</code></pre>\n<p><strong>Sample child controller</strong></p>\n<p>(You can write any number, as long as the final paths on the methods don't duplicate.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ChildController implements BaseController{\n    /* Add your controller method with the rest of the path */\n    @RequestMapping( &quot;/a/{id}&quot; )\n    public ResponseEntity&lt;String&gt; a( @PathVariable( &quot;project-id&quot; ) String projectId, @PathVariable( &quot;id&quot; ) String id ){\n        /* You will get the path variable 'project-id' also */\n        System.out.println( &quot;/a: Path param project-id: &quot; + projectId + &quot;, Path param id: &quot; + id );\n        return ResponseEntity.ok( &quot;Returned from /a&quot; );\n    }\n\n    /* Add another controller method if you need to */\n    @RequestMapping( &quot;/b&quot; )\n    public ResponseEntity&lt;String&gt; b(){\n        System.out.println( &quot;/b&quot; );\n        return ResponseEntity.ok( &quot;Returned from /b&quot; );\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> The above code was tested with Java 11 and SpringBoot 2.7.4, which uses Spring MVC 5.2.x, I think.</p>\n<hr />\n<h2>Validation of <code>project-id</code> using <code>@ModelAttribute</code></h2>\n<p>(Based on an answer to this <a href=\"https://stackoverflow.com/questions/5088179/spring-controllers-can-i-call-a-method-before-each-requestmapping-method-is-ca\">this question</a>)</p>\n<p>If we don't want to use a filter (though I will go for that anytime), we can add a method in the base interface with an <code>@ModelAttribute</code> annotation, which will be called before each end-point method. Though the documentation of <code>@ModelAttribute</code> isn't clear about it, it is being called anyhow. We can make the following change in <code>BaseController</code> for this approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping( &quot;/projects/{project-id}&quot; )\npublic interface BaseController {\n    @ModelAttribute\n    default void interceptMVCMethod( HttpServletRequest req, @PathVariable( &quot;project-id&quot; ) String projectId ){\n        System.out.println( &quot;ModelAttribute: &quot; + projectId );\n        req.setAttribute( &quot;NAME&quot;, &quot;DEV-1&quot; );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14463304,"reputation":3887,"user_id":10456481,"display_name":"NickDelta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698840020,"creation_date":1698828681,"question_id":77401381,"body_markdown":"I am working on building an API which has the following structure:\r\n\r\n```\r\n/projects/{project-name}/a/...\r\n/projects/{project-name}/b/...\r\n/projects/{project-name}/c/...\r\n/projects/{project-name}/d/...\r\n```\r\n\r\nI want the logic of a,b,c,d to be covered each on their own controller. Also, on each of these requests, I want to validate the {project-name} variable and inject an attribute on the request which will contain a project entity.\r\n\r\nI definitely want to avoid checking the project on every controller.\r\n\r\nAny ideas on how can I achieve this ? As far as I know, path inheritance is impossible on Spring Boot (I would really like to have the inheritance offered by other frameworks like RESTEasy for example).\r\n\r\nThe only thought I&#39;ve made until now is the usage of a filter, but I would prefer a solution on the MVC/Webflux level.\r\n\r\nI am using Spring Boot 3.\r\n\r\nAny suggestion is appreciated.","title":"Path Inheritance &amp; Unified Path Variable Validation in Spring Boot","body":"<p>I am working on building an API which has the following structure:</p>\n<pre><code>/projects/{project-name}/a/...\n/projects/{project-name}/b/...\n/projects/{project-name}/c/...\n/projects/{project-name}/d/...\n</code></pre>\n<p>I want the logic of a,b,c,d to be covered each on their own controller. Also, on each of these requests, I want to validate the {project-name} variable and inject an attribute on the request which will contain a project entity.</p>\n<p>I definitely want to avoid checking the project on every controller.</p>\n<p>Any ideas on how can I achieve this ? As far as I know, path inheritance is impossible on Spring Boot (I would really like to have the inheritance offered by other frameworks like RESTEasy for example).</p>\n<p>The only thought I've made until now is the usage of a filter, but I would prefer a solution on the MVC/Webflux level.</p>\n<p>I am using Spring Boot 3.</p>\n<p>Any suggestion is appreciated.</p>\n"},{"tags":["java","jdbc","ojdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698839188,"post_id":77402280,"comment_id":136455062,"body_markdown":"The `7` in `ojdbc7` means it targets Java 7. Are you really still using Java 7? If not, you may want to upgrade to a different variant (and version) of the Oracle JDBC driver.","body":"The <code>7</code> in <code>ojdbc7</code> means it targets Java 7. Are you really still using Java 7? If not, you may want to upgrade to a different variant (and version) of the Oracle JDBC driver."},{"owner":{"account_id":21002772,"reputation":1,"user_id":15433222,"display_name":"yhytsunami"},"score":0,"creation_date":1698882518,"post_id":77402280,"comment_id":136462519,"body_markdown":"Yes still use Java7 ,and not plan to upgrade recently.","body":"Yes still use Java7 ,and not plan to upgrade recently."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698915414,"post_id":77402280,"comment_id":136465666,"body_markdown":"Unless you&#39;re paying Azul, that means you&#39;re using an unsupported version of Java which no longer receives security updates. You might want to consider that a big business liability.","body":"Unless you&#39;re paying Azul, that means you&#39;re using an unsupported version of Java which no longer receives security updates. You might want to consider that a big business liability."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698838716,"creation_date":1698838421,"answer_id":77402298,"question_id":77402280,"body_markdown":"`a` is still set from the first record. You could do\r\n\r\n    pstmt.clearParameters();\r\n\r\nbefore setting values for the 2&lt;sup&gt;nd&lt;/sup&gt; record","title":"ojdbc7 using addBatch method insert wrong data into table","body":"<p><code>a</code> is still set from the first record. You could do</p>\n<pre><code>pstmt.clearParameters();\n</code></pre>\n<p>before setting values for the 2<sup>nd</sup> record</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698839819,"creation_date":1698838600,"answer_id":77402321,"question_id":77402280,"body_markdown":"This is the expected and correct behaviour. Parameters values that you don&#39;t set again between `addBatch` or `execute` methods retain their values, and will be used on the next `addBatch` or `execute` call.\r\n\r\nThis is specified in section 13.2.2 _Setting Parameters_ of the [JDBC 4.3 specification][1]:\r\n\r\n&gt; The values set for the parameter markers of a `PreparedStatement`\r\n&gt; object are not reset when it is executed. The method `clearParameters`\r\n&gt; can be called to explicitly clear the values that have been set.\r\n&gt; Setting a parameter with a different value will replace the previous\r\n&gt; value with the new one.\r\n\r\n(This rule also applies for `addBatch`, though this is not explicitly specified. Be aware, there is an exception to this rule for `InputStream`- and `Reader`-based parameters defined later.)\r\n\r\nAs Reimeus says in [their answer][2], if you don&#39;t want that, you&#39;ll need to call `clearParameters()` after adding to the batch (or executing).\r\n\r\n\r\n  [1]: https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html\r\n  [2]: https://stackoverflow.com/a/77402298/466862","title":"ojdbc7 using addBatch method insert wrong data into table","body":"<p>This is the expected and correct behaviour. Parameters values that you don't set again between <code>addBatch</code> or <code>execute</code> methods retain their values, and will be used on the next <code>addBatch</code> or <code>execute</code> call.</p>\n<p>This is specified in section 13.2.2 <em>Setting Parameters</em> of the <a href=\"https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-spec/index.html\" rel=\"nofollow noreferrer\">JDBC 4.3 specification</a>:</p>\n<blockquote>\n<p>The values set for the parameter markers of a <code>PreparedStatement</code>\nobject are not reset when it is executed. The method <code>clearParameters</code>\ncan be called to explicitly clear the values that have been set.\nSetting a parameter with a different value will replace the previous\nvalue with the new one.</p>\n</blockquote>\n<p>(This rule also applies for <code>addBatch</code>, though this is not explicitly specified. Be aware, there is an exception to this rule for <code>InputStream</code>- and <code>Reader</code>-based parameters defined later.)</p>\n<p>As Reimeus says in <a href=\"https://stackoverflow.com/a/77402298/466862\">their answer</a>, if you don't want that, you'll need to call <code>clearParameters()</code> after adding to the batch (or executing).</p>\n"}],"owner":{"account_id":21002772,"reputation":1,"user_id":15433222,"display_name":"yhytsunami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698839987,"creation_date":1698838153,"question_id":77402280,"body_markdown":"There is a link for [oracle batch](https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/performance-extensions.html#GUID-EB4B2280-70DF-4433-8B4A-59DD3108DB41), I use it in a project, like below:\r\n\r\n```\r\nPreparedStatement pstmt = \r\n        conn.prepareStatement(&quot;INSERT INTO user VALUES(?, ?)&quot;);\r\n\r\npstmt.setInt(1, 2);\r\npstmt.setString(2, &quot;a&quot;);\r\npstmt.addBatch();\r\n\r\npstmt.setInt(1, 3);\r\n//pstmt.setString(2, &quot;b&quot;);\r\npstmt.addBatch();\r\n```\r\n\r\nThe table has two fields, id and name. I don&#39;t set name the second time, but in the table there are still two records and names are both &#39;a&#39;.\r\n\r\nojdbc version\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n  &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIs there anything wrong in my usage, or just ojdbc has a defect? Should I align the parameter before using the ojbdc batching?","title":"ojdbc7 using addBatch method insert wrong data into table","body":"<p>There is a link for <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/performance-extensions.html#GUID-EB4B2280-70DF-4433-8B4A-59DD3108DB41\" rel=\"nofollow noreferrer\">oracle batch</a>, I use it in a project, like below:</p>\n<pre><code>PreparedStatement pstmt = \n        conn.prepareStatement(&quot;INSERT INTO user VALUES(?, ?)&quot;);\n\npstmt.setInt(1, 2);\npstmt.setString(2, &quot;a&quot;);\npstmt.addBatch();\n\npstmt.setInt(1, 3);\n//pstmt.setString(2, &quot;b&quot;);\npstmt.addBatch();\n</code></pre>\n<p>The table has two fields, id and name. I don't set name the second time, but in the table there are still two records and names are both 'a'.</p>\n<p>ojdbc version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n  &lt;version&gt;12.1.0.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is there anything wrong in my usage, or just ojdbc has a defect? Should I align the parameter before using the ojbdc batching?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":2,"creation_date":1698829367,"post_id":77401415,"comment_id":136453443,"body_markdown":"There is a useful discussion here: https://stackoverflow.com/questions/45952919/how-to-add-global-where-clause-for-all-find-methods-of-spring-data-jpa-with-hibe","body":"There is a useful discussion here: <a href=\"https://stackoverflow.com/questions/45952919/how-to-add-global-where-clause-for-all-find-methods-of-spring-data-jpa-with-hibe\" title=\"how to add global where clause for all find methods of spring data jpa with hibe\">stackoverflow.com/questions/45952919/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698839964,"creation_date":1698839964,"answer_id":77402439,"question_id":77401415,"body_markdown":"I was able to achieve this by using **@Where** annotation on top of the class.\r\n\r\nI added `@Where(clause = &quot;is_inactive = false&quot;)` as following\r\n\r\n    @Entity\r\n    @Table(name = &quot;bbser_inventory&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Where(clause = &quot;is_inactive = false&quot;)\r\n    public class InventoryEntity extends BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bbser_inventory_gen&quot;)\r\n        @SequenceGenerator(name = &quot;bbser_inventory_gen&quot;, sequenceName = &quot;bbser_inventory_seq&quot;, allocationSize = 1)\r\n        @Column(name = &quot;inventory_id&quot;)\r\n        private Long inventoryId;\r\n    \r\n        @Column(name = &quot;unit_id&quot;)\r\n        private String unitId;\r\n    \r\n        .\r\n        .\r\n        . \r\n    @Column(name = &quot;is_inactive&quot;)\r\n    @ColumnDefault(&quot;false&quot;)\r\n    private Boolean isInactive;","title":"Filter JPA by new Boolean without updating all the JPA single derived query method Spring boot","body":"<p>I was able to achieve this by using <strong>@Where</strong> annotation on top of the class.</p>\n<p>I added <code>@Where(clause = &quot;is_inactive = false&quot;)</code> as following</p>\n<pre><code>@Entity\n@Table(name = &quot;bbser_inventory&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@Where(clause = &quot;is_inactive = false&quot;)\npublic class InventoryEntity extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bbser_inventory_gen&quot;)\n    @SequenceGenerator(name = &quot;bbser_inventory_gen&quot;, sequenceName = &quot;bbser_inventory_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;inventory_id&quot;)\n    private Long inventoryId;\n\n    @Column(name = &quot;unit_id&quot;)\n    private String unitId;\n\n    .\n    .\n    . \n@Column(name = &quot;is_inactive&quot;)\n@ColumnDefault(&quot;false&quot;)\nprivate Boolean isInactive;\n</code></pre>\n"}],"owner":{"account_id":13984046,"reputation":163,"user_id":10099578,"display_name":"Inod Umayanga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77402439,"answer_count":1,"score":1,"last_activity_date":1698839964,"creation_date":1698829109,"question_id":77401415,"body_markdown":"I have to add a new Boolean field as isInactive for an existing JPA entity and then filter all the JPA results where this Boolean is false. How to achieve this without updating every single derived query method? (as there are over 40)\r\n\r\nThe entity is as follows\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;bbser_inventory&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class InventoryEntity extends BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bbser_inventory_gen&quot;)\r\n        @SequenceGenerator(name = &quot;bbser_inventory_gen&quot;, sequenceName = &quot;bbser_inventory_seq&quot;, allocationSize = 1)\r\n        @Column(name = &quot;inventory_id&quot;)\r\n        private Long inventoryId;\r\n    \r\n        @Column(name = &quot;unit_id&quot;)\r\n        private String unitId;\r\n    \r\n        .\r\n        .\r\n        . \r\n    @Column(name = &quot;is_inactive&quot;)\r\n    @ColumnDefault(&quot;false&quot;)\r\n    private Boolean isInactive;\r\n\r\nSome of the derived query methods are as follows \r\n\r\n    etc .\r\n        .\r\n        .\r\n        List&lt;InventoryEntity&gt; findByUnitId(String unitId);\r\n    \r\n        List&lt;InventoryEntity&gt; findByUnitIdAndHospitalIdAndGroupId(String unitId, Integer hospitalId, Integer groupId);\r\n    \r\n        List&lt;InventoryEntity&gt; findByUnitIdAndStatusAliasIn(String unitId, Collection&lt;String&gt; status);\r\n    \r\n        List&lt;InventoryEntity&gt; findByUnitIdAndHospitalIdAndGroupIdAndStatusAliasIn(String unitId, Integer hospitalId, Integer groupId, Collection&lt;String&gt; status);\r\n    \r\n        List&lt;InventoryEntity&gt; findByStatusAlias(String statusAlias);\r\n        .\r\n        .\r\n        .etc","title":"Filter JPA by new Boolean without updating all the JPA single derived query method Spring boot","body":"<p>I have to add a new Boolean field as isInactive for an existing JPA entity and then filter all the JPA results where this Boolean is false. How to achieve this without updating every single derived query method? (as there are over 40)</p>\n<p>The entity is as follows</p>\n<pre><code>@Entity\n@Table(name = &quot;bbser_inventory&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class InventoryEntity extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bbser_inventory_gen&quot;)\n    @SequenceGenerator(name = &quot;bbser_inventory_gen&quot;, sequenceName = &quot;bbser_inventory_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;inventory_id&quot;)\n    private Long inventoryId;\n\n    @Column(name = &quot;unit_id&quot;)\n    private String unitId;\n\n    .\n    .\n    . \n@Column(name = &quot;is_inactive&quot;)\n@ColumnDefault(&quot;false&quot;)\nprivate Boolean isInactive;\n</code></pre>\n<p>Some of the derived query methods are as follows</p>\n<pre><code>etc .\n    .\n    .\n    List&lt;InventoryEntity&gt; findByUnitId(String unitId);\n\n    List&lt;InventoryEntity&gt; findByUnitIdAndHospitalIdAndGroupId(String unitId, Integer hospitalId, Integer groupId);\n\n    List&lt;InventoryEntity&gt; findByUnitIdAndStatusAliasIn(String unitId, Collection&lt;String&gt; status);\n\n    List&lt;InventoryEntity&gt; findByUnitIdAndHospitalIdAndGroupIdAndStatusAliasIn(String unitId, Integer hospitalId, Integer groupId, Collection&lt;String&gt; status);\n\n    List&lt;InventoryEntity&gt; findByStatusAlias(String statusAlias);\n    .\n    .\n    .etc\n</code></pre>\n"},{"tags":["java","spring-boot","firebase","junit","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1698835534,"post_id":77401809,"comment_id":136454466,"body_markdown":"what version of `junit` are you using ? also you have to provide more reproducible example.","body":"what version of <code>junit</code> are you using ? also you have to provide more reproducible example."},{"owner":{"account_id":29801611,"reputation":1,"user_id":22839277,"display_name":"akashi paul"},"score":0,"creation_date":1698836116,"post_id":77401809,"comment_id":136454573,"body_markdown":"currently i am using junit 5","body":"currently i am using junit 5"},{"owner":{"account_id":29801611,"reputation":1,"user_id":22839277,"display_name":"akashi paul"},"score":0,"creation_date":1698836703,"post_id":77401809,"comment_id":136454670,"body_markdown":"i have added a sample case where I am mocking this class","body":"i have added a sample case where I am mocking this class"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1698839980,"post_id":77401809,"comment_id":136455194,"body_markdown":"I wrote an answer where I gave you some hints and also a good reference.","body":"I wrote an answer where I gave you some hints and also a good reference."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698839942,"creation_date":1698839942,"answer_id":77402436,"question_id":77401809,"body_markdown":"Based on this [article][1] about `Mockito` and `JUnit 5` your test class should be something like this one.\r\n \r\n        @ExtendWith(MockitoExtension.class)\r\n        public class TestClass {\r\n        \r\n          @Mock\r\n          private FirebaseMessaging firebaseMessaging;\r\n        \r\n          @Mock\r\n          private TopicManagementResponse response;\r\n        \r\n          @Test\r\n          public void createTopic(){\r\n        \r\n            when(firebaseMessaging.subscribeToTopic(anyString(), anyString())).thenReturn(response);\r\n            when(response.getSuccessCount()).thenReturn(1);\r\n        \r\n            assertEquals(response.getSuccessCount(), 1);\r\n            \r\n    \r\n      }\r\n\r\nAnd also you will have to mock `fcmInitializer.getFirebaseMessaging()` based on your `createTopic` Controller method.\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-junit-5-extension","title":"How to mock TopicManagementResponse from firebase messaging in Junit using springboot","body":"<p>Based on this <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">article</a> about <code>Mockito</code> and <code>JUnit 5</code> your test class should be something like this one.</p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    public class TestClass {\n    \n      @Mock\n      private FirebaseMessaging firebaseMessaging;\n    \n      @Mock\n      private TopicManagementResponse response;\n    \n      @Test\n      public void createTopic(){\n    \n        when(firebaseMessaging.subscribeToTopic(anyString(), anyString())).thenReturn(response);\n        when(response.getSuccessCount()).thenReturn(1);\n    \n        assertEquals(response.getSuccessCount(), 1);\n        \n\n  }\n</code></pre>\n<p>And also you will have to mock <code>fcmInitializer.getFirebaseMessaging()</code> based on your <code>createTopic</code> Controller method.</p>\n"}],"owner":{"account_id":29801611,"reputation":1,"user_id":22839277,"display_name":"akashi paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698839942,"creation_date":1698833448,"question_id":77401809,"body_markdown":"I have been trying to mock my TopicManagementResponse for testing my test class , but even after using ```TopicManagementResponse resposne = Mockito.mock(TopicManagementResponse.class)``` it still says resposne is null.\r\n\r\nis this the correct way of mocking this class, or is there any way i can do this?\r\n\r\nI am expecting to test class my class using TopicManagementResponse object . but its is null\r\n\r\nmy class :\r\n```\r\n\r\n@PostMapping(&quot;/subscribeToTopic&quot;)\r\n\tpublic int createTopic(@RequestBody Topic topic) throws IOException, FirebaseMessagingException {\r\n \r\n\t\tString platformID = topic.getPlatformId();\r\n\r\n\t\t//my internal method to get firebase messaging app\r\n\t\tFirebaseMessaging firebaseMessaging = fcmInitializer.getFirebaseMessaging(platformID);\r\n \r\n\t\t// Get the topic name from the &quot;topic&quot; field in the JSON\r\n\t\tString topicName = topic.getTopicName();\r\n \r\n\t\t// Check if the topic name is not null or empty\r\n\t\tif (topicName == null || topicName.isEmpty()) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tTopicManagementResponse response = firebaseMessaging.subscribeToTopic(topic.getToken(), topicName);\r\n\t\treturn response.getSuccessCount();\r\n \r\n\t}\r\n\r\n\r\n```\r\n\r\n\r\nmy Test class :\r\n\r\n```\r\npublic void createTopic(){\r\nFirebaseMessaging firebaseMessaging = mock(FirebaseMessaging.class);\r\n\tTopicManagementResponse response = mock(TopicManagementResponse.class);\r\n\r\n\tTopic topic = new Topic();\r\n\ttopic.setToken(&quot;some token&quot;);\r\n\ttopic.setTopic(&quot;some topic&quot;);\r\n\t\r\n\r\n\twhen(firebaseMessaging.subscribeToTopic(topic.getToken(), topic.getTopic())).thenReturn(response);\r\n\r\n\tassertEquals(response.getSuccessCount, 1);\r\n\r\n\r\n}\r\n\r\n```","title":"How to mock TopicManagementResponse from firebase messaging in Junit using springboot","body":"<p>I have been trying to mock my TopicManagementResponse for testing my test class , but even after using <code>TopicManagementResponse resposne = Mockito.mock(TopicManagementResponse.class)</code> it still says resposne is null.</p>\n<p>is this the correct way of mocking this class, or is there any way i can do this?</p>\n<p>I am expecting to test class my class using TopicManagementResponse object . but its is null</p>\n<p>my class :</p>\n<pre><code>\n@PostMapping(&quot;/subscribeToTopic&quot;)\n    public int createTopic(@RequestBody Topic topic) throws IOException, FirebaseMessagingException {\n \n        String platformID = topic.getPlatformId();\n\n        //my internal method to get firebase messaging app\n        FirebaseMessaging firebaseMessaging = fcmInitializer.getFirebaseMessaging(platformID);\n \n        // Get the topic name from the &quot;topic&quot; field in the JSON\n        String topicName = topic.getTopicName();\n \n        // Check if the topic name is not null or empty\n        if (topicName == null || topicName.isEmpty()) {\n            return 0;\n        }\n        TopicManagementResponse response = firebaseMessaging.subscribeToTopic(topic.getToken(), topicName);\n        return response.getSuccessCount();\n \n    }\n\n\n</code></pre>\n<p>my Test class :</p>\n<pre><code>public void createTopic(){\nFirebaseMessaging firebaseMessaging = mock(FirebaseMessaging.class);\n    TopicManagementResponse response = mock(TopicManagementResponse.class);\n\n    Topic topic = new Topic();\n    topic.setToken(&quot;some token&quot;);\n    topic.setTopic(&quot;some topic&quot;);\n    \n\n    when(firebaseMessaging.subscribeToTopic(topic.getToken(), topic.getTopic())).thenReturn(response);\n\n    assertEquals(response.getSuccessCount, 1);\n\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698844481,"post_id":77402359,"comment_id":136456058,"body_markdown":"Code snippet looks ok (accept `response.getSuccessCount` should be `response.getSuccessCount()`) - there must be some missing context.  Please update the question with the complete test class.  BTW, I would expect `response.getSuccessCount()` to return 0 (not 1) since it&#39;s mocked.","body":"Code snippet looks ok (accept <code>response.getSuccessCount</code> should be <code>response.getSuccessCount()</code>) - there must be some missing context.  Please update the question with the complete test class.  BTW, I would expect <code>response.getSuccessCount()</code> to return 0 (not 1) since it&#39;s mocked."}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698838979,"creation_date":1698838979,"question_id":77402359,"body_markdown":"I am creating a topic from the server itself (Using Firebase cloud messaging), and it is working fine. Now when I try to unit test this class, I get a null pointer exception stating that the object of `TopicManagementResposne` is null, I am mocking this class like this `TopicManagementResposne response = mock.(TopicManagementResposne.class)`, but I am getting null pointer exception.\r\n\r\nin my class, the `response` object is returned from firebasemessaging.subscribeToTopic() method.\r\nI have mocked my Firebase messaging class in the same way and it works fine, but when I try to do the same with this it fails.\r\n\r\nwhat could be the possible issue here, and how can I solve it.\r\nI am expecting to test class my class using TopicManagementResponse object . but its is null\r\n\r\nmy class :\r\n```\r\n@PostMapping(&quot;/subscribeToTopic&quot;)    public int createTopic(@RequestBody Topic topic) throws IOException, FirebaseMessagingException {\r\n \r\n        String platformID = topic.getPlatformId();\r\n        //my internal method to get firebase messaging app \r\n       FirebaseMessaging firebaseMessaging = \r\n       fcmInitializer.getFirebaseMessaging(platformID);       \r\n       \r\n         String topicName = topic.getTopicName();\r\n \r\n         if (topicName == null || topicName.isEmpty()) {\r\n            return 0;\r\n        }        \r\n             TopicManagementResponse response = \r\n             firebaseMessaging.subscribeToTopic(topic.getToken(), topicName);\r\n             return response.getSuccessCount();\r\n \r\n    }\r\n```\r\n\r\n \r\nmy Test class :\r\n\r\n```\r\npublic void createTopic(){FirebaseMessaging firebaseMessaging = mock(FirebaseMessaging.class);\r\n    TopicManagementResponse response = mock(TopicManagementResponse.class);\r\n    Topic topic = new Topic();\r\n    topic.setToken(&quot;some token&quot;);\r\n    topic.setTopic(&quot;some topic&quot;);\r\n    \r\n    when(firebaseMessaging.subscribeToTopic(topic.getToken(), topic.getTopic())).thenReturn(response);\r\n    assertEquals(response.getSuccessCount, 1);\r\n\r\n}\r\n\r\n```\r\n","title":"How to mock TopicManagementResposne in my test class","body":"<p>I am creating a topic from the server itself (Using Firebase cloud messaging), and it is working fine. Now when I try to unit test this class, I get a null pointer exception stating that the object of <code>TopicManagementResposne</code> is null, I am mocking this class like this <code>TopicManagementResposne response = mock.(TopicManagementResposne.class)</code>, but I am getting null pointer exception.</p>\n<p>in my class, the <code>response</code> object is returned from firebasemessaging.subscribeToTopic() method.\nI have mocked my Firebase messaging class in the same way and it works fine, but when I try to do the same with this it fails.</p>\n<p>what could be the possible issue here, and how can I solve it.\nI am expecting to test class my class using TopicManagementResponse object . but its is null</p>\n<p>my class :</p>\n<pre><code>@PostMapping(&quot;/subscribeToTopic&quot;)    public int createTopic(@RequestBody Topic topic) throws IOException, FirebaseMessagingException {\n \n        String platformID = topic.getPlatformId();\n        //my internal method to get firebase messaging app \n       FirebaseMessaging firebaseMessaging = \n       fcmInitializer.getFirebaseMessaging(platformID);       \n       \n         String topicName = topic.getTopicName();\n \n         if (topicName == null || topicName.isEmpty()) {\n            return 0;\n        }        \n             TopicManagementResponse response = \n             firebaseMessaging.subscribeToTopic(topic.getToken(), topicName);\n             return response.getSuccessCount();\n \n    }\n</code></pre>\n<p>my Test class :</p>\n<pre><code>public void createTopic(){FirebaseMessaging firebaseMessaging = mock(FirebaseMessaging.class);\n    TopicManagementResponse response = mock(TopicManagementResponse.class);\n    Topic topic = new Topic();\n    topic.setToken(&quot;some token&quot;);\n    topic.setTopic(&quot;some topic&quot;);\n    \n    when(firebaseMessaging.subscribeToTopic(topic.getToken(), topic.getTopic())).thenReturn(response);\n    assertEquals(response.getSuccessCount, 1);\n\n}\n\n</code></pre>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698838262,"creation_date":1698838262,"answer_id":77402286,"question_id":77402077,"body_markdown":"The Android [Documentation][1] outlines the differences\r\n\r\nNdef is a standard data format that is capable to be stored on top of various types of Tag\r\n\r\nThe Tech types are low level communication specifications and you should be looking for one or more of these. You should use these to communicate to the Tag using commands support by which ever Tag Type you receive, there are some standard commands and various protocols used. The [Wikipedia entry][2] has a nice diagram of these standards an how they fit together.\r\n\r\nThe [Android Documentation][3] gives you how to use easy Tech type.\r\n\r\nTAG_DISCOVERED is a catch all for anything non standard and should not really be used.\r\n\r\nAs you mention an e-money Tag, then this is likely to be a NFC Type 4 Tag using A or B Tech Type and will probably use the [IsoDep][4] class for communication.\r\n\r\nBUT you will need to have the datasheet for the card on what ISO 7816-4 commands it supports, it probably support some of the EMV APDU&#39;s. This type of Tag is more complicated to work with and you will have to have detail knowledge of this area to be able to work with this type of Tag and some of the details will be restricted access.\r\n\r\n\r\n  [1]: https://developer.android.com/develop/connectivity/nfc/nfc#dispatching\r\n  [2]: https://en.wikipedia.org/wiki/Near-field_communication#Standards\r\n  [3]: https://developer.android.com/reference/android/nfc/tech/package-summary\r\n  [4]: https://developer.android.com/reference/android/nfc/tech/IsoDep","title":"What the different between TAG_DISCOVERED, NDEF_DISCOVERED and TECH_DISCOVERED in android NFC","body":"<p>The Android <a href=\"https://developer.android.com/develop/connectivity/nfc/nfc#dispatching\" rel=\"nofollow noreferrer\">Documentation</a> outlines the differences</p>\n<p>Ndef is a standard data format that is capable to be stored on top of various types of Tag</p>\n<p>The Tech types are low level communication specifications and you should be looking for one or more of these. You should use these to communicate to the Tag using commands support by which ever Tag Type you receive, there are some standard commands and various protocols used. The <a href=\"https://en.wikipedia.org/wiki/Near-field_communication#Standards\" rel=\"nofollow noreferrer\">Wikipedia entry</a> has a nice diagram of these standards an how they fit together.</p>\n<p>The <a href=\"https://developer.android.com/reference/android/nfc/tech/package-summary\" rel=\"nofollow noreferrer\">Android Documentation</a> gives you how to use easy Tech type.</p>\n<p>TAG_DISCOVERED is a catch all for anything non standard and should not really be used.</p>\n<p>As you mention an e-money Tag, then this is likely to be a NFC Type 4 Tag using A or B Tech Type and will probably use the <a href=\"https://developer.android.com/reference/android/nfc/tech/IsoDep\" rel=\"nofollow noreferrer\">IsoDep</a> class for communication.</p>\n<p>BUT you will need to have the datasheet for the card on what ISO 7816-4 commands it supports, it probably support some of the EMV APDU's. This type of Tag is more complicated to work with and you will have to have detail knowledge of this area to be able to work with this type of Tag and some of the details will be restricted access.</p>\n"}],"owner":{"account_id":29793730,"reputation":21,"user_id":22833338,"display_name":"SenjaKids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698838262,"creation_date":1698835959,"question_id":77402077,"body_markdown":"i need to know the different between TAG_DISCOVERED, NDEF_DISCOVERED and TECH_DISCOVERED in android NFC (Specifically for Java programming language). Currently i&#39;m trying to use NDEF_DISCOVERED for my app, but it won&#39;t detect my e-money card, but if i use TAG_DISCOVERED it can detect the card (the ID). I already read the official documentation but i still not quite understand it. Can someone explain it to me more about this?","title":"What the different between TAG_DISCOVERED, NDEF_DISCOVERED and TECH_DISCOVERED in android NFC","body":"<p>i need to know the different between TAG_DISCOVERED, NDEF_DISCOVERED and TECH_DISCOVERED in android NFC (Specifically for Java programming language). Currently i'm trying to use NDEF_DISCOVERED for my app, but it won't detect my e-money card, but if i use TAG_DISCOVERED it can detect the card (the ID). I already read the official documentation but i still not quite understand it. Can someone explain it to me more about this?</p>\n"},{"tags":["java","http","servlets","file-upload","java-me"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1312311624,"creation_date":1312311624,"answer_id":6917156,"question_id":6917105,"body_markdown":"Without entering to gory details your code looks fine.\r\n\r\nNow you need the server side. I&#39;d recommend you to use Jakarta [FileUpload][1], so you do not have to implement anything. Just deploy and configure. \r\n\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/fileupload/","title":"Java Http Client to upload file over POST","body":"<p>Without entering to gory details your code looks fine.</p>\n\n<p>Now you need the server side. I'd recommend you to use Jakarta <a href=\"http://commons.apache.org/fileupload/\" rel=\"nofollow\">FileUpload</a>, so you do not have to implement anything. Just deploy and configure. </p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1698837338,"creation_date":1312312415,"answer_id":6917303,"question_id":6917105,"body_markdown":"Sending files over HTTP is supposed to take place using `multipart/form-data` encoding. Your servlet part is fine as it already uses [Apache Commons FileUpload][1] to parse a `multipart/form-data` request. Although it is unnecessary since the Servlet 3.0-introduced `request.getPart()` method. See also https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet/2424824#2424824\r\n\r\nYour client part, however, is not correct as you&#39;re seemingly writing the file content raw to the request body. You need to ensure that your client sends a proper `multipart/form-data` request. How exactly to do it depends on the API you&#39;re using to send the HTTP request. If it&#39;s plain vanilla `java.net.URLConnection`, then you can find a concrete example somewhere near the bottom of [this answer][2]. If you&#39;re using [Apache HttpComponents Client][3] for this, then here&#39;s a concrete example, based on [their documentation][4]:\r\n\r\n\tString url = &quot;https://example.com&quot;;\r\n\tFile file = new File(&quot;/example.ext&quot;);\r\n\r\n    try (CloseableHttpClient client = HttpClients.createDefault()) {\r\n        HttpPost post = new HttpPost(url);\r\n        HttpEntity entity = MultipartEntityBuilder.create().addPart(&quot;file&quot;, new FileBody(file)).build();\r\n        post.setEntity(entity);\r\n\r\n        try (CloseableHttpResponse response = client.execute(post)) {\r\n        \t// ...\r\n        }\r\n    }\r\n\r\n\r\n---\r\n\r\n**Unrelated** to the concrete problem, there&#39;s a bug in your server side code:\r\n\r\n    File file = new File(&quot;\\files\\\\&quot;+item.getName());\r\n    item.write(file);\r\n\r\nThis will potentially overwrite any previously uploaded file with the same name. I&#39;d suggest to use [`File#createTempFile()`][5] for this instead.\r\n\r\n    String name = FilenameUtils.getBaseName(item.getName());\r\n    String ext = FilenameUtils.getExtension(item.getName());\r\n    File file = File.createTempFile(name + &quot;_&quot;, &quot;.&quot; + ext, new File(&quot;/files&quot;));\r\n    item.write(file);\r\n\r\n\r\n  [1]: https://commons.apache.org/fileupload\r\n  [2]: https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests/2793153#2793153\r\n  [3]: https://hc.apache.org/httpcomponents-client-5.2.x/index.html\r\n  [4]: https://github.com/apache/httpcomponents-client/blob/5.2.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientMultipartFormPost.java\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#createTempFile(java.lang.String,java.lang.String,java.io.File)","title":"Java Http Client to upload file over POST","body":"<p>Sending files over HTTP is supposed to take place using <code>multipart/form-data</code> encoding. Your servlet part is fine as it already uses <a href=\"https://commons.apache.org/fileupload\" rel=\"nofollow noreferrer\">Apache Commons FileUpload</a> to parse a <code>multipart/form-data</code> request. Although it is unnecessary since the Servlet 3.0-introduced <code>request.getPart()</code> method. See also <a href=\"https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet/2424824#2424824\">How can I upload files to a server using JSP/Servlet?</a></p>\n<p>Your client part, however, is not correct as you're seemingly writing the file content raw to the request body. You need to ensure that your client sends a proper <code>multipart/form-data</code> request. How exactly to do it depends on the API you're using to send the HTTP request. If it's plain vanilla <code>java.net.URLConnection</code>, then you can find a concrete example somewhere near the bottom of <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests/2793153#2793153\">this answer</a>. If you're using <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/index.html\" rel=\"nofollow noreferrer\">Apache HttpComponents Client</a> for this, then here's a concrete example, based on <a href=\"https://github.com/apache/httpcomponents-client/blob/5.2.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientMultipartFormPost.java\" rel=\"nofollow noreferrer\">their documentation</a>:</p>\n<pre><code>String url = &quot;https://example.com&quot;;\nFile file = new File(&quot;/example.ext&quot;);\n\ntry (CloseableHttpClient client = HttpClients.createDefault()) {\n    HttpPost post = new HttpPost(url);\n    HttpEntity entity = MultipartEntityBuilder.create().addPart(&quot;file&quot;, new FileBody(file)).build();\n    post.setEntity(entity);\n\n    try (CloseableHttpResponse response = client.execute(post)) {\n        // ...\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Unrelated</strong> to the concrete problem, there's a bug in your server side code:</p>\n<pre><code>File file = new File(&quot;\\files\\\\&quot;+item.getName());\nitem.write(file);\n</code></pre>\n<p>This will potentially overwrite any previously uploaded file with the same name. I'd suggest to use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#createTempFile(java.lang.String,java.lang.String,java.io.File)\" rel=\"nofollow noreferrer\"><code>File#createTempFile()</code></a> for this instead.</p>\n<pre><code>String name = FilenameUtils.getBaseName(item.getName());\nString ext = FilenameUtils.getExtension(item.getName());\nFile file = File.createTempFile(name + &quot;_&quot;, &quot;.&quot; + ext, new File(&quot;/files&quot;));\nitem.write(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5887043,"reputation":117,"user_id":4634714,"display_name":"Peter"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1425613010,"creation_date":1425613010,"answer_id":28891942,"question_id":6917105,"body_markdown":"Thanks for all the code Ive sniped...  Here is some back.\r\n\r\n\r\n\tGradle\r\n\r\n\tcompile &quot;org.apache.httpcomponents:httpclient:4.4&quot;\t\r\n\tcompile &quot;org.apache.httpcomponents:httpmime:4.4&quot;\r\n\r\n\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.StringWriter;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.ContentType;\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n    import org.apache.http.entity.mime.content.FileBody;\r\n    import org.apache.http.entity.mime.content.StringBody;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    \r\n    \r\n    public class HttpClientUtils {\r\n    \r\n    \tpublic static String post(String postUrl, Map&lt;String, String&gt; params,\r\n    \t\t\tMap&lt;String, String&gt; files) throws ClientProtocolException,\r\n    \t\t\tIOException {\r\n    \t\tCloseableHttpResponse response = null;\r\n    \t\tInputStream is = null;\r\n    \t\tString results = null;\r\n    \t\tCloseableHttpClient httpclient = HttpClients.createDefault();\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tHttpPost httppost = new HttpPost(postUrl);\r\n    \r\n    \t\t\tMultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    \r\n    \t\t\tif (params != null) {\r\n    \t\t\t\tfor (String key : params.keySet()) {\r\n    \t\t\t\t\tStringBody value = new StringBody(params.get(key),\r\n    \t\t\t\t\t\t\tContentType.TEXT_PLAIN);\r\n    \t\t\t\t\tbuilder.addPart(key, value);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (files != null &amp;&amp; files.size() &gt; 0) {\r\n    \t\t\t\tfor (String key : files.keySet()) {\r\n    \t\t\t\t\tString value = files.get(key);\r\n    \t\t\t\t\tFileBody body = new FileBody(new File(value));\r\n    \t\t\t\t\tbuilder.addPart(key, body);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tHttpEntity reqEntity = builder.build();\r\n    \t\t\thttppost.setEntity(reqEntity);\r\n    \r\n    \t\t\tresponse = httpclient.execute(httppost);\r\n    \t\t\t// assertEquals(200, response.getStatusLine().getStatusCode());\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\tif (entity != null) {\r\n    \t\t\t\tis = entity.getContent();\r\n    \t\t\t\tStringWriter writer = new StringWriter();\r\n    \t\t\t\tIOUtils.copy(is, writer, &quot;UTF-8&quot;);\r\n    \t\t\t\tresults = writer.toString();\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (is != null) {\r\n    \t\t\t\t\tis.close();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// No-op\r\n    \t\t\t}\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tif (response != null) {\r\n    \t\t\t\t\tresponse.close();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// No-op\r\n    \t\t\t}\r\n    \r\n    \t\t\thttpclient.close();\r\n    \t\t}\r\n    \r\n    \t\treturn results;\r\n    \t}\r\n    \r\n    \tpublic static String get(String getStr) throws IOException,\r\n    \t\t\tClientProtocolException {\r\n    \t\tCloseableHttpResponse response = null;\r\n    \t\tInputStream is = null;\r\n    \t\tString results = null;\r\n    \t\tCloseableHttpClient httpclient = HttpClients.createDefault();\r\n    \r\n    \t\ttry {\r\n    \t\t\tHttpGet httpGet = new HttpGet(getStr);\r\n    \t\t\tresponse = httpclient.execute(httpGet);\r\n    \r\n    \t\t\tassertEquals(200, response.getStatusLine().getStatusCode());\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\tif (entity != null) {\r\n    \t\t\t\tis = entity.getContent();\r\n    \t\t\t\tStringWriter writer = new StringWriter();\r\n    \t\t\t\tIOUtils.copy(is, writer, &quot;UTF-8&quot;);\r\n    \t\t\t\tresults = writer.toString();\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tif (is != null) {\r\n    \t\t\t\t\tis.close();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// No-op\r\n    \t\t\t}\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tif (response != null) {\r\n    \t\t\t\t\tresponse.close();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Throwable t) {\r\n    \t\t\t\t// No-op\r\n    \t\t\t}\r\n    \r\n    \t\t\thttpclient.close();\r\n    \t\t}\r\n    \r\n    \t\treturn results;\r\n    \t}\r\n    \r\n    }\r\n","title":"Java Http Client to upload file over POST","body":"<p>Thanks for all the code Ive sniped...  Here is some back.</p>\n\n<pre><code>Gradle\n\ncompile \"org.apache.httpcomponents:httpclient:4.4\"  \ncompile \"org.apache.httpcomponents:httpmime:4.4\"\n\n\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.StringWriter;\nimport java.util.Map;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.ContentType;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.entity.mime.content.StringBody;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\n\n\npublic class HttpClientUtils {\n\n    public static String post(String postUrl, Map&lt;String, String&gt; params,\n            Map&lt;String, String&gt; files) throws ClientProtocolException,\n            IOException {\n        CloseableHttpResponse response = null;\n        InputStream is = null;\n        String results = null;\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n\n        try {\n\n            HttpPost httppost = new HttpPost(postUrl);\n\n            MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n\n            if (params != null) {\n                for (String key : params.keySet()) {\n                    StringBody value = new StringBody(params.get(key),\n                            ContentType.TEXT_PLAIN);\n                    builder.addPart(key, value);\n                }\n            }\n\n            if (files != null &amp;&amp; files.size() &gt; 0) {\n                for (String key : files.keySet()) {\n                    String value = files.get(key);\n                    FileBody body = new FileBody(new File(value));\n                    builder.addPart(key, body);\n                }\n            }\n\n            HttpEntity reqEntity = builder.build();\n            httppost.setEntity(reqEntity);\n\n            response = httpclient.execute(httppost);\n            // assertEquals(200, response.getStatusLine().getStatusCode());\n\n            HttpEntity entity = response.getEntity();\n            if (entity != null) {\n                is = entity.getContent();\n                StringWriter writer = new StringWriter();\n                IOUtils.copy(is, writer, \"UTF-8\");\n                results = writer.toString();\n            }\n\n        } finally {\n            try {\n                if (is != null) {\n                    is.close();\n                }\n            } catch (Throwable t) {\n                // No-op\n            }\n\n            try {\n                if (response != null) {\n                    response.close();\n                }\n            } catch (Throwable t) {\n                // No-op\n            }\n\n            httpclient.close();\n        }\n\n        return results;\n    }\n\n    public static String get(String getStr) throws IOException,\n            ClientProtocolException {\n        CloseableHttpResponse response = null;\n        InputStream is = null;\n        String results = null;\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n\n        try {\n            HttpGet httpGet = new HttpGet(getStr);\n            response = httpclient.execute(httpGet);\n\n            assertEquals(200, response.getStatusLine().getStatusCode());\n\n            HttpEntity entity = response.getEntity();\n            if (entity != null) {\n                is = entity.getContent();\n                StringWriter writer = new StringWriter();\n                IOUtils.copy(is, writer, \"UTF-8\");\n                results = writer.toString();\n            }\n\n        } finally {\n\n            try {\n                if (is != null) {\n                    is.close();\n                }\n            } catch (Throwable t) {\n                // No-op\n            }\n\n            try {\n                if (response != null) {\n                    response.close();\n                }\n            } catch (Throwable t) {\n                // No-op\n            }\n\n            httpclient.close();\n        }\n\n        return results;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1366005,"reputation":4547,"user_id":1302408,"accept_rate":85,"display_name":"Hemant"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1534150369,"creation_date":1517334360,"answer_id":48527504,"question_id":6917105,"body_markdown":"Following code can be used to upload file with HTTP Client 4.x (Above answer uses MultipartEntity which is deprecated now)\r\n \r\n\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n    import org.apache.http.entity.mime.content.FileBody;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n\r\n    String uploadFile(String url, File file) throws IOException\r\n\t{\r\n\t\tHttpPost post = new HttpPost(url);\r\n\t\tpost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t_addAuthHeader(post);\r\n\t\tMultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n\t\t// fileParamName should be replaced with parameter name your REST API expect.\r\n\t\tbuilder.addPart(&quot;fileParamName&quot;, new FileBody(file));\r\n\t\t//builder.addPart(&quot;optionalParam&quot;, new StringBody(&quot;true&quot;, ContentType.create(&quot;text/plain&quot;, Consts.ASCII)));\r\n\t\tpost.setEntity(builder.build());\r\n\t\tHttpResponse response = getClient().execute(post);;\r\n\t\tint httpStatus = response.getStatusLine().getStatusCode();\r\n\t\tString responseMsg = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);\r\n\t\t\r\n\t\t// If the returned HTTP response code is not in 200 series then\r\n\t\t// throw the error\r\n\t\tif (httpStatus &lt; 200 || httpStatus &gt; 300) {\r\n\t\t\tthrow new IOException(&quot;HTTP &quot; + httpStatus + &quot; - Error during upload of file: &quot; + responseMsg);\r\n\t\t}\r\n\t\t\r\n\t\treturn responseMsg;\r\n\t}\r\n\r\nYou will need recent versions of the following Apache libraries: httpclient, httpcore, httpmime.\r\n\r\n`getClient()` can be replaced with `HttpClients.createDefault()`.","title":"Java Http Client to upload file over POST","body":"<p>Following code can be used to upload file with HTTP Client 4.x (Above answer uses MultipartEntity which is deprecated now)</p>\n\n<pre><code>import org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\nString uploadFile(String url, File file) throws IOException\n{\n    HttpPost post = new HttpPost(url);\n    post.setHeader(\"Accept\", \"application/json\");\n    _addAuthHeader(post);\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    // fileParamName should be replaced with parameter name your REST API expect.\n    builder.addPart(\"fileParamName\", new FileBody(file));\n    //builder.addPart(\"optionalParam\", new StringBody(\"true\", ContentType.create(\"text/plain\", Consts.ASCII)));\n    post.setEntity(builder.build());\n    HttpResponse response = getClient().execute(post);;\n    int httpStatus = response.getStatusLine().getStatusCode();\n    String responseMsg = EntityUtils.toString(response.getEntity(), \"UTF-8\");\n\n    // If the returned HTTP response code is not in 200 series then\n    // throw the error\n    if (httpStatus &lt; 200 || httpStatus &gt; 300) {\n        throw new IOException(\"HTTP \" + httpStatus + \" - Error during upload of file: \" + responseMsg);\n    }\n\n    return responseMsg;\n}\n</code></pre>\n\n<p>You will need recent versions of the following Apache libraries: httpclient, httpcore, httpmime.</p>\n\n<p><code>getClient()</code> can be replaced with <code>HttpClients.createDefault()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5016786,"reputation":63,"user_id":4031462,"display_name":"Bharti Gulati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561693764,"creation_date":1561553888,"answer_id":56773398,"question_id":6917105,"body_markdown":"Please find the sample working example for File upload functionality using HttpClient in Java.\r\n\r\n    package test;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.FileEntity;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n\r\n    public class fileUpload {\r\n\tprivate static void executeRequest(HttpPost httpPost) {\r\n\t\ttry {\r\n\t\t\tHttpClient client = new DefaultHttpClient();\r\n\t\t\tHttpResponse response = client.execute(httpPost);\r\n\t\t\tSystem.out.println(&quot;Response Code:  &quot; + response.getStatusLine().getStatusCode());\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClientProtocolException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalStateException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void executeMultiPartRequest(String urlString, File file) throws IOException {\r\n\t\tHttpPost postRequest = new HttpPost(urlString);\r\n        postRequest = addHeader(postRequest, &quot;Access Token&quot;);\r\n\t\ttry {\r\n\t\t\tpostRequest.setEntity(new FileEntity(file));\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\texecuteRequest(postRequest);\r\n\t}\r\n\r\n    private static HttpPost addHeader(HttpPost httpPost, String accessToken) {\r\n\t\thttpPost.addHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;);\r\n\t\thttpPost.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n\t\treturn httpPost;\r\n\t}\r\n\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\tfileUpload fileUpload = new fileUpload();\r\n\t\tFile file = new File(&quot;C:\\\\users\\\\bgulati\\\\Desktop\\\\test.docx&quot;);\r\n\t\tfileUpload.executeMultiPartRequest(\r\n\t\t\t\t&quot;Here Goes the URL&quot;, file);\r\n\r\n\t}\r\n    }","title":"Java Http Client to upload file over POST","body":"<p>Please find the sample working example for File upload functionality using HttpClient in Java.</p>\n\n<pre><code>package test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.FileEntity;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\npublic class fileUpload {\nprivate static void executeRequest(HttpPost httpPost) {\n    try {\n        HttpClient client = new DefaultHttpClient();\n        HttpResponse response = client.execute(httpPost);\n        System.out.println(\"Response Code:  \" + response.getStatusLine().getStatusCode());\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IllegalStateException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void executeMultiPartRequest(String urlString, File file) throws IOException {\n    HttpPost postRequest = new HttpPost(urlString);\n    postRequest = addHeader(postRequest, \"Access Token\");\n    try {\n        postRequest.setEntity(new FileEntity(file));\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    executeRequest(postRequest);\n}\n\nprivate static HttpPost addHeader(HttpPost httpPost, String accessToken) {\n    httpPost.addHeader(\"Accept\", \"application/json;odata=verbose\");\n    httpPost.setHeader(\"Authorization\", \"Bearer \" + accessToken);\n    return httpPost;\n}\n\npublic static void main(String args[]) throws IOException {\n    fileUpload fileUpload = new fileUpload();\n    File file = new File(\"C:\\\\users\\\\bgulati\\\\Desktop\\\\test.docx\");\n    fileUpload.executeMultiPartRequest(\n            \"Here Goes the URL\", file);\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6929813,"reputation":560,"user_id":5319625,"accept_rate":69,"display_name":"Oleg Gritsak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675094173,"creation_date":1675094173,"answer_id":75286913,"question_id":6917105,"body_markdown":"Ancient question and best answer relies on incorrect statement.\r\n\r\n&gt; Sending files over HTTP is supposed to take place using multipart/form-data encoding.\r\n\r\nIt is more efficient to send files as OCTET-STREAM. \r\n\r\nCode for JDK11+ client:\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n        .uri(new URI(&quot;http://YOUR-SERVER:PORT/ENDPOINT&quot;))\r\n        .timeout(Duration.of(60, SECONDS))\r\n        .POST(HttpRequest.BodyPublishers.ofInputStream(is))\r\n        .build();\r\n    \r\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n","title":"Java Http Client to upload file over POST","body":"<p>Ancient question and best answer relies on incorrect statement.</p>\n<blockquote>\n<p>Sending files over HTTP is supposed to take place using multipart/form-data encoding.</p>\n</blockquote>\n<p>It is more efficient to send files as OCTET-STREAM.</p>\n<p>Code for JDK11+ client:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n    .uri(new URI(&quot;http://YOUR-SERVER:PORT/ENDPOINT&quot;))\n    .timeout(Duration.of(60, SECONDS))\n    .POST(HttpRequest.BodyPublishers.ofInputStream(is))\n    .build();\n\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n"}],"owner":{"account_id":200058,"reputation":501,"user_id":445717,"display_name":"Clark Ku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100188,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":6,"score":20,"last_activity_date":1698837338,"creation_date":1312311349,"question_id":6917105,"body_markdown":"I&#39;m developing a J2ME client that must upload a file to a Servlet using HTTP.\r\n\r\nThe servlet part is covered using Apache Commons FileUpload\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) \r\n    {\t\t\r\n\r\n        ServletFileUpload upload = new ServletFileUpload();\r\n        upload.setSizeMax(1000000);\r\n\r\n        File fileItems = upload.parseRequest(request);\r\n\r\n        // Process the uploaded items\r\n        Iterator iter = fileItems.iterator();\r\n        while (iter.hasNext()) {\r\n            FileItem item = (FileItem) iter.next();\r\n            File file = new File(&quot;\\files\\\\&quot;+item.getName());\r\n            item.write(file);\r\n        }\r\n    }\r\n\r\nCommons Upload seems to be able to upload only multipart file, but no application/octect-stream.\r\n\r\nBut for the client side there are no Multipart classes, neither, in this case, is possible to use any HttpClient library.\r\n\r\nOther option could be to use HTTP Chunk upload, but I haven&#39;t found a clear example of how this could be implemented, specially on the servlet side.\r\n\r\nMy choices are:\r\n- Implement a servlet for http chunk upload\r\n- Implement a raw client for http multipart creation\r\n\r\nI don&#39;t know how to implement none of the above options.\r\nAny suggestion?","title":"Java Http Client to upload file over POST","body":"<p>I'm developing a J2ME client that must upload a file to a Servlet using HTTP.</p>\n\n<p>The servlet part is covered using Apache Commons FileUpload</p>\n\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) \n{       \n\n    ServletFileUpload upload = new ServletFileUpload();\n    upload.setSizeMax(1000000);\n\n    File fileItems = upload.parseRequest(request);\n\n    // Process the uploaded items\n    Iterator iter = fileItems.iterator();\n    while (iter.hasNext()) {\n        FileItem item = (FileItem) iter.next();\n        File file = new File(\"\\files\\\\\"+item.getName());\n        item.write(file);\n    }\n}\n</code></pre>\n\n<p>Commons Upload seems to be able to upload only multipart file, but no application/octect-stream.</p>\n\n<p>But for the client side there are no Multipart classes, neither, in this case, is possible to use any HttpClient library.</p>\n\n<p>Other option could be to use HTTP Chunk upload, but I haven't found a clear example of how this could be implemented, specially on the servlet side.</p>\n\n<p>My choices are:\n- Implement a servlet for http chunk upload\n- Implement a raw client for http multipart creation</p>\n\n<p>I don't know how to implement none of the above options.\nAny suggestion?</p>\n"},{"tags":["java","android","kotlin","uri","android-external-storage"],"comments":[{"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1698793591,"post_id":77399462,"comment_id":136450052,"body_markdown":"There is no path, as `ACTION_OPEN_DOCUMENT` does not have to return a `Uri` to anything on the filesystem, let alone anything that you have rights to access. Use the `Uri` by itself, such as using `ContentResolver` and `openInputStream()` to read it in.","body":"There is no path, as <code>ACTION_OPEN_DOCUMENT</code> does not have to return a <code>Uri</code> to anything on the filesystem, let alone anything that you have rights to access. Use the <code>Uri</code> by itself, such as using <code>ContentResolver</code> and <code>openInputStream()</code> to read it in."},{"owner":{"account_id":9649016,"reputation":54,"user_id":7160726,"display_name":"alexandr kozlovskiy"},"score":0,"creation_date":1698830233,"post_id":77399462,"comment_id":136453586,"body_markdown":"@CommonsWare But why for images it works ok,and for pdf files we have this problems? How to get file name for this file. Whether _display_name (or something like this) column of cursor will Guaranteed returns correct file name?","body":"@CommonsWare But why for images it works ok,and for pdf files we have this problems? How to get file name for this file. Whether _display_name (or something like this) column of cursor will Guaranteed returns correct file name?"},{"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1698836253,"post_id":77399462,"comment_id":136454595,"body_markdown":"&quot;But why for images it works ok&quot; -- it worked OK for the couple of tests you tried on the couple of devices that you tried (and the couple of OS versions that you tried), with the one `DocumentsProvider` that you tried. It does not work OK in general.","body":"&quot;But why for images it works ok&quot; -- it worked OK for the couple of tests you tried on the couple of devices that you tried (and the couple of OS versions that you tried), with the one <code>DocumentsProvider</code> that you tried. It does not work OK in general."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991123,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698836452,"creation_date":1698836452,"answer_id":77402118,"question_id":77399462,"body_markdown":"&gt; How to get file name for this file\r\n\r\n[Call `DocumentFile.fromSingleUri()`](https://developer.android.com/reference/androidx/documentfile/provider/DocumentFile#fromSingleUri(android.content.Context,android.net.Uri)) to get a `DocumentFile` representing the document identified by the `Uri`. Then [call `getName()`](https://developer.android.com/reference/androidx/documentfile/provider/DocumentFile#getName()) on the `DocumentFile` to get a display name. This may or may not be a &quot;file name&quot;, but it should be a name that is recognizable to the user.","title":"How to get path to pdf file from uri without specific permissions in android 14 and hier","body":"<blockquote>\n<p>How to get file name for this file</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/androidx/documentfile/provider/DocumentFile#fromSingleUri(android.content.Context,android.net.Uri)\" rel=\"nofollow noreferrer\">Call <code>DocumentFile.fromSingleUri()</code></a> to get a <code>DocumentFile</code> representing the document identified by the <code>Uri</code>. Then <a href=\"https://developer.android.com/reference/androidx/documentfile/provider/DocumentFile#getName()\" rel=\"nofollow noreferrer\">call <code>getName()</code></a> on the <code>DocumentFile</code> to get a display name. This may or may not be a &quot;file name&quot;, but it should be a name that is recognizable to the user.</p>\n"}],"owner":{"account_id":9649016,"reputation":54,"user_id":7160726,"display_name":"alexandr kozlovskiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698836452,"creation_date":1698792794,"question_id":77399462,"body_markdown":"I want to get path to pdf file,which i get as uri from intent action ACTION_OPEN_DOCUMENT,but how i can get it,if media type of uri is document (via debug i understand,what problem in line 126 of my code). For images i haven&#39;t any problem,with permission read_media_images or read_external_storage (for android  twelve and lower),but with pdf documents i have this problem. I dont want to get full access to external storage,because it will be probably problems with google play,so whether it possible get paths of pdf files without specials permissions,which use in api 30 and hier to get full access to external storage. Thanks very much for any help.\r\n\r\n```\r\npackage maximsblog.blogspot.com.visionsender;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentUris;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Environment;\r\nimport android.provider.DocumentsContract;\r\nimport android.provider.MediaStore;\r\nimport android.text.TextUtils;\r\n\r\nimport androidx.loader.content.CursorLoader;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\nclass AndroidUtilities {\r\n    static class IOUtils {\r\n        private static final int BUFFER_SIZE = 1024 * 2;\r\n        static int copy(InputStream input, OutputStream output) throws IOException {\r\n            byte[] buffer = new byte[BUFFER_SIZE];\r\n            BufferedInputStream b = new BufferedInputStream(input, BUFFER_SIZE);\r\n            BufferedOutputStream out = new BufferedOutputStream(output, BUFFER_SIZE);\r\n            int  count = 0;\r\n            int n = 0;\r\n            try {\r\n                while((n =input.read(buffer, 0, BUFFER_SIZE))!= -1) {\r\n                    out.write(buffer, 0, n);\r\n                    count += n;\r\n                }\r\n                out.flush();\r\n            } finally {\r\n                try {\r\n                    out.close();\r\n                } catch (IOException e) {\r\n                }\r\n                try {\r\n                    input.close();\r\n                } catch (IOException e) {\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n    static boolean isWhatsappUri(Uri uri) {\r\n        return &quot;com.whatsapp.provider.media&quot;.equals(uri.getAuthority());\r\n    }\r\n    static boolean isExternalStorageDocument(Uri uri) {\r\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    static boolean isDownloadsDocument(Uri uri) {\r\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    static boolean isMediaDocument(Uri uri) {\r\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    static boolean isGooglePhotosUri(Uri uri) {\r\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    static String getDataColumn(Context context, Uri uri, String selection, String[] selectionArgs, String columnName) {\r\n        Cursor cursor =null;\r\n        if (columnName == null)\r\n            columnName = &quot;_data&quot;;\r\n        try {\r\n            cursor = context.getContentResolver().query(\r\n                    uri, new String[] {columnName}, selection, selectionArgs,null);\r\n            if (cursor == null) return uri.getPath();\r\n            if (cursor.moveToFirst()) {\r\n                int column_index = cursor.getColumnIndexOrThrow(columnName);\r\n                if (columnName.equals(&quot;_data&quot;))\r\n                    return cursor.getString(column_index);\r\n                else\r\n                    return uri.toString() + &quot;/&quot; + cursor.getString(column_index);\r\n            }\r\n        } finally {\r\n            if (cursor != null)\r\n                cursor.close();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static String getDataColumn(Context context, Uri uri, String selection,\r\n                                String[] selectionArgs) {\r\n        return getDataColumn(context, uri, selection, selectionArgs, null);\r\n    }\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    static String getRealPathFromURI_API19(Context context, Uri uri) {\r\n        String result = null;\r\n        if (DocumentsContract.isDocumentUri(context, uri)) {\r\n            String[] split =null;\r\n            String docId=null;\r\n            if (isExternalStorageDocument(uri)) {\r\n                docId = DocumentsContract.getDocumentId(uri);\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                              String type = split[0];\r\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                    return Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + split[1];\r\n                }\r\n            } else if (isDownloadsDocument(uri)) {\r\n                docId = DocumentsContract.getDocumentId(uri);\r\n                Uri contentUri = ContentUris.withAppendedId(Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(docId));\r\n                return getDataColumn(context, contentUri, null, null);\r\n            } else if (isMediaDocument(uri)) {\r\n                docId = DocumentsContract.getDocumentId(uri);\r\n                split = docId.split(&quot;:&quot;);\r\n                String type = split[0];\r\n                Uri contentUri =null;\r\n                if (&quot;image&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;video&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;audio&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                }\r\n                else if(&quot;document&quot;.equals(type)) { //in this line (126) we have a problems. How to get path of file for this case?\r\n//contentUri =MediaStore.getDocumentUri(context,uri); //crash,when we call this method.\r\n}\r\n                String selection = &quot;_id=?&quot;;\r\n            return getDataColumn(context, contentUri, selection, new String[] {split[1]});\r\n            }\r\n        }\r\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            if (isGooglePhotosUri(uri))\r\n                return uri.getLastPathSegment();\r\n            return getDataColumn(context, uri, null, null);\r\n        } else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        } else if (isWhatsappUri(uri)) {\r\n            return getDataColumn(context, uri, null, null, &quot;_display_name&quot;);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    static String getRealPathFromURI_API11to18(Context context, Uri contentUri) {\r\n        if (isWhatsappUri(contentUri)) {\r\n            return new File(contentUri.getPath()).getAbsolutePath();\r\n        }\r\n        String[] proj = new String[] {MediaStore.Images.Media.DATA};\r\n        String result = null;\r\n        CursorLoader cursorLoader = new CursorLoader(\r\n                context,\r\n                contentUri, proj, null, null, null\r\n        );\r\n        Cursor cursor = cursorLoader.loadInBackground();\r\n        if (cursor != null) {\r\n            cursor.moveToFirst();\r\n            result = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\r\n        }\r\n        cursor.close();\r\n        return result;\r\n    }\r\n\r\n    static String getRealPathFromURI_BelowAPI11(Context context, Uri contentUri) {\r\n        if (isWhatsappUri(contentUri)) {\r\n            return new File(contentUri.getPath()).getAbsolutePath();\r\n        }\r\n                Cursor cursor = context.getContentResolver().query(contentUri, new String[] {MediaStore.Images.Media.DATA}, null, null, null);\r\n        cursor.moveToFirst();\r\n        String result = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\r\n        cursor.close();\r\n        return result;\r\n    }\r\n\r\n    static String getRealPath(Context context, Uri uri) {\r\n        if(Build.VERSION.SDK_INT &lt; 11) return getRealPathFromURI_BelowAPI11(context, uri);\r\n        else if(Build.VERSION.SDK_INT &lt; 19) return getRealPathFromURI_API11to18(context, uri);\r\n        else return getRealPathFromURI_API19(context, uri);\r\n    }\r\n    static String getFileName(String Fpath) {\r\n        String[] result=Fpath.split(&quot;/&quot;);\r\n        return result[result.length-1];\r\n    }\r\n    static void copy(Context context, Uri srcUri, File dstFile) {\r\n        try {\r\n            InputStream inputStream = context.getContentResolver().openInputStream(\r\n                    srcUri);\r\n            FileOutputStream outputStream = new FileOutputStream(dstFile);\r\n            IOUtils.copy(inputStream, outputStream);\r\n            inputStream.close();\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    static String getFilePathFromURI(Context context, Uri contentUri) {\r\n        String fileName = getFileName(contentUri.getPath());\r\n        if (!TextUtils.isEmpty(fileName)) {\r\n            File copyFile = new File(context.getCacheDir().toString() + &quot;/&quot; + fileName);\r\n            copy(context, contentUri, copyFile);\r\n            return copyFile.getAbsolutePath();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```","title":"How to get path to pdf file from uri without specific permissions in android 14 and hier","body":"<p>I want to get path to pdf file,which i get as uri from intent action ACTION_OPEN_DOCUMENT,but how i can get it,if media type of uri is document (via debug i understand,what problem in line 126 of my code). For images i haven't any problem,with permission read_media_images or read_external_storage (for android  twelve and lower),but with pdf documents i have this problem. I dont want to get full access to external storage,because it will be probably problems with google play,so whether it possible get paths of pdf files without specials permissions,which use in api 30 and hier to get full access to external storage. Thanks very much for any help.</p>\n<pre><code>package maximsblog.blogspot.com.visionsender;\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentUris;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.provider.DocumentsContract;\nimport android.provider.MediaStore;\nimport android.text.TextUtils;\n\nimport androidx.loader.content.CursorLoader;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nclass AndroidUtilities {\n    static class IOUtils {\n        private static final int BUFFER_SIZE = 1024 * 2;\n        static int copy(InputStream input, OutputStream output) throws IOException {\n            byte[] buffer = new byte[BUFFER_SIZE];\n            BufferedInputStream b = new BufferedInputStream(input, BUFFER_SIZE);\n            BufferedOutputStream out = new BufferedOutputStream(output, BUFFER_SIZE);\n            int  count = 0;\n            int n = 0;\n            try {\n                while((n =input.read(buffer, 0, BUFFER_SIZE))!= -1) {\n                    out.write(buffer, 0, n);\n                    count += n;\n                }\n                out.flush();\n            } finally {\n                try {\n                    out.close();\n                } catch (IOException e) {\n                }\n                try {\n                    input.close();\n                } catch (IOException e) {\n                }\n            }\n            return count;\n        }\n    }\n    static boolean isWhatsappUri(Uri uri) {\n        return &quot;com.whatsapp.provider.media&quot;.equals(uri.getAuthority());\n    }\n    static boolean isExternalStorageDocument(Uri uri) {\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n    }\n\n    static boolean isDownloadsDocument(Uri uri) {\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n    }\n\n    static boolean isMediaDocument(Uri uri) {\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n    }\n\n    static boolean isGooglePhotosUri(Uri uri) {\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\n    }\n\n    static String getDataColumn(Context context, Uri uri, String selection, String[] selectionArgs, String columnName) {\n        Cursor cursor =null;\n        if (columnName == null)\n            columnName = &quot;_data&quot;;\n        try {\n            cursor = context.getContentResolver().query(\n                    uri, new String[] {columnName}, selection, selectionArgs,null);\n            if (cursor == null) return uri.getPath();\n            if (cursor.moveToFirst()) {\n                int column_index = cursor.getColumnIndexOrThrow(columnName);\n                if (columnName.equals(&quot;_data&quot;))\n                    return cursor.getString(column_index);\n                else\n                    return uri.toString() + &quot;/&quot; + cursor.getString(column_index);\n            }\n        } finally {\n            if (cursor != null)\n                cursor.close();\n        }\n        return null;\n    }\n\n    static String getDataColumn(Context context, Uri uri, String selection,\n                                String[] selectionArgs) {\n        return getDataColumn(context, uri, selection, selectionArgs, null);\n    }\n\n    @SuppressLint(&quot;NewApi&quot;)\n    static String getRealPathFromURI_API19(Context context, Uri uri) {\n        String result = null;\n        if (DocumentsContract.isDocumentUri(context, uri)) {\n            String[] split =null;\n            String docId=null;\n            if (isExternalStorageDocument(uri)) {\n                docId = DocumentsContract.getDocumentId(uri);\n                                                                                                                                                                                                                                                                                                                                                                                                                                              String type = split[0];\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + split[1];\n                }\n            } else if (isDownloadsDocument(uri)) {\n                docId = DocumentsContract.getDocumentId(uri);\n                Uri contentUri = ContentUris.withAppendedId(Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(docId));\n                return getDataColumn(context, contentUri, null, null);\n            } else if (isMediaDocument(uri)) {\n                docId = DocumentsContract.getDocumentId(uri);\n                split = docId.split(&quot;:&quot;);\n                String type = split[0];\n                Uri contentUri =null;\n                if (&quot;image&quot;.equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;video&quot;.equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;audio&quot;.equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n                else if(&quot;document&quot;.equals(type)) { //in this line (126) we have a problems. How to get path of file for this case?\n//contentUri =MediaStore.getDocumentUri(context,uri); //crash,when we call this method.\n}\n                String selection = &quot;_id=?&quot;;\n            return getDataColumn(context, contentUri, selection, new String[] {split[1]});\n            }\n        }\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n            if (isGooglePhotosUri(uri))\n                return uri.getLastPathSegment();\n            return getDataColumn(context, uri, null, null);\n        } else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        } else if (isWhatsappUri(uri)) {\n            return getDataColumn(context, uri, null, null, &quot;_display_name&quot;);\n        }\n        return null;\n    }\n\n    @SuppressLint(&quot;NewApi&quot;)\n    static String getRealPathFromURI_API11to18(Context context, Uri contentUri) {\n        if (isWhatsappUri(contentUri)) {\n            return new File(contentUri.getPath()).getAbsolutePath();\n        }\n        String[] proj = new String[] {MediaStore.Images.Media.DATA};\n        String result = null;\n        CursorLoader cursorLoader = new CursorLoader(\n                context,\n                contentUri, proj, null, null, null\n        );\n        Cursor cursor = cursorLoader.loadInBackground();\n        if (cursor != null) {\n            cursor.moveToFirst();\n            result = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\n        }\n        cursor.close();\n        return result;\n    }\n\n    static String getRealPathFromURI_BelowAPI11(Context context, Uri contentUri) {\n        if (isWhatsappUri(contentUri)) {\n            return new File(contentUri.getPath()).getAbsolutePath();\n        }\n                Cursor cursor = context.getContentResolver().query(contentUri, new String[] {MediaStore.Images.Media.DATA}, null, null, null);\n        cursor.moveToFirst();\n        String result = cursor.getString(cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA));\n        cursor.close();\n        return result;\n    }\n\n    static String getRealPath(Context context, Uri uri) {\n        if(Build.VERSION.SDK_INT &lt; 11) return getRealPathFromURI_BelowAPI11(context, uri);\n        else if(Build.VERSION.SDK_INT &lt; 19) return getRealPathFromURI_API11to18(context, uri);\n        else return getRealPathFromURI_API19(context, uri);\n    }\n    static String getFileName(String Fpath) {\n        String[] result=Fpath.split(&quot;/&quot;);\n        return result[result.length-1];\n    }\n    static void copy(Context context, Uri srcUri, File dstFile) {\n        try {\n            InputStream inputStream = context.getContentResolver().openInputStream(\n                    srcUri);\n            FileOutputStream outputStream = new FileOutputStream(dstFile);\n            IOUtils.copy(inputStream, outputStream);\n            inputStream.close();\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    static String getFilePathFromURI(Context context, Uri contentUri) {\n        String fileName = getFileName(contentUri.getPath());\n        if (!TextUtils.isEmpty(fileName)) {\n            File copyFile = new File(context.getCacheDir().toString() + &quot;/&quot; + fileName);\n            copy(context, contentUri, copyFile);\n            return copyFile.getAbsolutePath();\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","navigation","bottomnavigationview","android-navhostfragment"],"comments":[{"owner":{"account_id":10239293,"reputation":702,"user_id":7557205,"display_name":"Aswin P Ashok"},"score":2,"creation_date":1698837320,"post_id":77402089,"comment_id":136454761,"body_markdown":"Attach stacktrace","body":"Attach stacktrace"},{"owner":{"account_id":19808680,"reputation":63,"user_id":14508072,"display_name":"sandeep-prabhakula"},"score":0,"creation_date":1698842418,"post_id":77402089,"comment_id":136455653,"body_markdown":"Attach the error stacktrace also provide the XML file which have the NavHost Widget","body":"Attach the error stacktrace also provide the XML file which have the NavHost Widget"}],"owner":{"account_id":21976966,"reputation":11,"user_id":16252642,"display_name":"Amazing MrBilll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698836138,"creation_date":1698836138,"question_id":77402089,"body_markdown":"```\r\nNavController navController = Navigation.findNavController(this, R.id.fragment);\r\n\r\nBottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\nNavigationUI.setupWithNavController(bottomNavigationView, navController);\r\n```\r\n\r\nWhenever I run this code the app crashes and I have linked all the ids perfectly\r\nWhat should I do?\r\n\r\nI just wanted a dfunctioning bottom navigation bar and the app crashes ","title":"App Crashes when Implementing Bottom navigation with nav controller","body":"<pre><code>NavController navController = Navigation.findNavController(this, R.id.fragment);\n\nBottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigationView);\nNavigationUI.setupWithNavController(bottomNavigationView, navController);\n</code></pre>\n<p>Whenever I run this code the app crashes and I have linked all the ids perfectly\nWhat should I do?</p>\n<p>I just wanted a dfunctioning bottom navigation bar and the app crashes</p>\n"},{"tags":["java","graphics2d","framebuffer"],"answers":[{"tags":[],"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698835369,"creation_date":1698835369,"answer_id":77402035,"question_id":77401530,"body_markdown":"The problem is that the lack of a component prohibits the easiest way of hiding the cursor with setCursor. \r\n\r\nI tried the following in the cmdline.txt:\r\n\r\n    vt.global_cursor_default=0\r\n\r\n(do not forget to reboot ^^)","title":"Unwanted cursor with Java2D drawing directly to framebuffer","body":"<p>The problem is that the lack of a component prohibits the easiest way of hiding the cursor with setCursor.</p>\n<p>I tried the following in the cmdline.txt:</p>\n<pre><code>vt.global_cursor_default=0\n</code></pre>\n<p>(do not forget to reboot ^^)</p>\n"}],"owner":{"account_id":5527589,"reputation":141,"user_id":4388642,"accept_rate":57,"display_name":"sodastream"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77402035,"answer_count":1,"score":1,"last_activity_date":1698835369,"creation_date":1698830583,"question_id":77401530,"body_markdown":"The environment is Java 11 on a Raspberry Pi 3B+ with a 3.5&quot; touchscreen. The program writes directly to the framebuffer with the aid of Thomas Welsch&#39;s [JavaFrameBuffer][1] JNI support.\r\n\r\nThings work as expected, except that a blinking cursor appears on the screen after drawing some text. This app uses no input except screen touches, so a cursor is irrelevant and visually disturbing.\r\n\r\nHow can I get rid of it?\r\n\r\nPlease note that no Component is present, so there is no ```setCursor``` method available.\r\n\r\n\r\n  [1]: https://github.com/ttww/JavaFrameBuffer","title":"Unwanted cursor with Java2D drawing directly to framebuffer","body":"<p>The environment is Java 11 on a Raspberry Pi 3B+ with a 3.5&quot; touchscreen. The program writes directly to the framebuffer with the aid of Thomas Welsch's <a href=\"https://github.com/ttww/JavaFrameBuffer\" rel=\"nofollow noreferrer\">JavaFrameBuffer</a> JNI support.</p>\n<p>Things work as expected, except that a blinking cursor appears on the screen after drawing some text. This app uses no input except screen touches, so a cursor is irrelevant and visually disturbing.</p>\n<p>How can I get rid of it?</p>\n<p>Please note that no Component is present, so there is no <code>setCursor</code> method available.</p>\n"},{"tags":["java","docker","maven","dockerfile","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698836387,"post_id":77402033,"comment_id":136454616,"body_markdown":"Usually you define only as you already mentioned like `11` via `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;`. The version in docker file might be change over the time as well which is tracked by your version control system... and usually there should no issue related to the patch version ... apart from that the 11.0.12 seemed to be a bit out of date..11.0.20 or even 11.0.21... I would always use the latest patch version in the container.","body":"Usually you define only as you already mentioned like <code>11</code> via <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code>. The version in docker file might be change over the time as well which is tracked by your version control system... and usually there should no issue related to the patch version ... apart from that the 11.0.12 seemed to be a bit out of date..11.0.20 or even 11.0.21... I would always use the latest patch version in the container."},{"owner":{"display_name":"user18196814"},"score":0,"creation_date":1698845569,"post_id":77402033,"comment_id":136456284,"body_markdown":"@khmarbaise i mentioned java version simply like that :                          \n   &lt;properties&gt;\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\n\t&lt;/properties&gt;                                                                                                                              and not with     &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;","body":"@khmarbaise i mentioned java version simply like that :                              &lt;properties&gt; \t\t&lt;java.version&gt;11&lt;/java.version&gt; \t&lt;/properties&gt;                                                                                                                              and not with     &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698855080,"post_id":77402033,"comment_id":136458485,"body_markdown":"First you don&#39;t have mentioned that. Apart from that you should use `&lt;maven.compiler.release&gt;..&lt;/maven.compiler.release&gt;`instead in particular with JDK9+ .  The `java.version` is usually related to spring boot project... but you don&#39;t mentioned that project is something like a spring boot project if so use the `java.version` ...","body":"First you don&#39;t have mentioned that. Apart from that you should use <code>&lt;maven.compiler.release&gt;..&lt;&#47;maven.compiler.release&gt;</code>instead in particular with JDK9+ .  The <code>java.version</code> is usually related to spring boot project... but you don&#39;t mentioned that project is something like a spring boot project if so use the <code>java.version</code> ..."}],"owner":{"display_name":"user18196814"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698835334,"creation_date":1698835334,"question_id":77402033,"body_markdown":"I&#39;m working on a Java project using Maven where the pom.xml file sets the Java version as **11**, without specifying an exact version (e.g., 11.0.3). In the corresponding Dockerfile, I&#39;m using the OpenJDK image specified as **openjdk:11.0.12-jdk**\r\n\r\nI&#39;d like to understand the best practices or recommendations regarding aligning the Java version between the Maven project configuration and the Dockerfile. Should the version specified in the pom.xml be more precise, matching the specific version used in the Dockerfile? Or is it acceptable to have a broader declaration in the pom.xml without specifying an exact version while using a specific version in the Dockerfile?","title":"Specifying the exact java version in maven and the corresponding version in dokerfile","body":"<p>I'm working on a Java project using Maven where the pom.xml file sets the Java version as <strong>11</strong>, without specifying an exact version (e.g., 11.0.3). In the corresponding Dockerfile, I'm using the OpenJDK image specified as <strong>openjdk:11.0.12-jdk</strong></p>\n<p>I'd like to understand the best practices or recommendations regarding aligning the Java version between the Maven project configuration and the Dockerfile. Should the version specified in the pom.xml be more precise, matching the specific version used in the Dockerfile? Or is it acceptable to have a broader declaration in the pom.xml without specifying an exact version while using a specific version in the Dockerfile?</p>\n"},{"tags":["java","android","string","substring"],"comments":[{"owner":{"account_id":6837619,"reputation":78,"user_id":5258960,"display_name":"Fabian Lang"},"score":0,"creation_date":1444032768,"post_id":32943827,"comment_id":53713015,"body_markdown":"Maybe the regex provided in this post is what you are looking for: http://stackoverflow.com/questions/8634139/phone-validation-regex","body":"Maybe the regex provided in this post is what you are looking for: <a href=\"http://stackoverflow.com/questions/8634139/phone-validation-regex\" title=\"phone validation regex\">stackoverflow.com/questions/8634139/phone-validation-regex</a>"},{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":0,"creation_date":1444033069,"post_id":32943827,"comment_id":53713138,"body_markdown":"Have you at least debug your app? Do you know what is wrong? (hint: `sample.indexOf()` finds the **first** instance of the string... there&#39;s another function for finding the **last** one)","body":"Have you at least debug your app? Do you know what is wrong? (hint: <code>sample.indexOf()</code> finds the <b>first</b> instance of the string... there&#39;s another function for finding the <b>last</b> one)"},{"owner":{"account_id":7008034,"reputation":8266,"user_id":5371821,"accept_rate":79,"display_name":"starkshang"},"score":0,"creation_date":1444129852,"post_id":32943827,"comment_id":53761407,"body_markdown":"What types do your result have?such as 92166-29903 you mentioned here.","body":"What types do your result have?such as 92166-29903 you mentioned here."},{"owner":{"account_id":6999721,"reputation":59,"user_id":5366118,"accept_rate":50,"display_name":"Archana"},"score":0,"creation_date":1444132744,"post_id":32943827,"comment_id":53763399,"body_markdown":"it can be any mobile number.@FireSun","body":"it can be any mobile number.@FireSun"}],"answers":[{"tags":[],"owner":{"account_id":7008034,"reputation":8266,"user_id":5371821,"accept_rate":79,"display_name":"starkshang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1444037565,"creation_date":1444037565,"answer_id":32945285,"question_id":32943827,"body_markdown":"    int index = sample.lastIndexOf(&quot;M&quot;);\r\n    String newString = sample.substring(index+2, sample.length());\r\n    mobileNumber = newString.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n    edtMobile.setText(mobileNumber.substring(0, 10));\r\nIf you want the &quot;-&quot; in your result,just delete&lt;br /&gt; `mobileNumber = newString.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);`","title":"Identify and get a mobile number from a String","body":"<pre><code>int index = sample.lastIndexOf(\"M\");\nString newString = sample.substring(index+2, sample.length());\nmobileNumber = newString.replaceAll(\"[^0-9]\", \"\");\nedtMobile.setText(mobileNumber.substring(0, 10));\n</code></pre>\n\n<p>If you want the \"-\" in your result,just delete<br /> <code>mobileNumber = newString.replaceAll(\"[^0-9]\", \"\");</code></p>\n"},{"tags":[],"owner":{"account_id":6701457,"reputation":371,"user_id":5167784,"accept_rate":75,"display_name":"Amey Bawiskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444041329,"creation_date":1444041329,"answer_id":32946480,"question_id":32943827,"body_markdown":"try this code.\r\nMethod 1:\r\n        \r\n\r\n    String input = &quot;Street1,Punjab Market-Patiala 147001 M:92166-29903&quot;;\r\n        int value = input.lastIndexOf(&quot;:&quot;);\r\n        String s = input.substring(value + 1, input.length());\r\n        Log.d(&quot;reverseString&quot;, &quot;&quot; + s);\r\nMethod 2:\r\n \r\n\r\n      StringBuffer reverseString=new StringBuffer(input);\r\n        StringBuffer s1=reverseString.reverse();\r\n        int firstindex=s1.indexOf(&quot;:&quot;);\r\n        String finalstring=s1.substring(0, firstindex);\r\n        StringBuffer getexactstring=new StringBuffer(finalstring);\r\n     \r\n\r\n\r\nthis code will give you exact mobile number that you want.","title":"Identify and get a mobile number from a String","body":"<p>try this code.\nMethod 1:</p>\n\n<pre><code>String input = \"Street1,Punjab Market-Patiala 147001 M:92166-29903\";\n    int value = input.lastIndexOf(\":\");\n    String s = input.substring(value + 1, input.length());\n    Log.d(\"reverseString\", \"\" + s);\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>  StringBuffer reverseString=new StringBuffer(input);\n    StringBuffer s1=reverseString.reverse();\n    int firstindex=s1.indexOf(\":\");\n    String finalstring=s1.substring(0, firstindex);\n    StringBuffer getexactstring=new StringBuffer(finalstring);\n</code></pre>\n\n<p>this code will give you exact mobile number that you want.</p>\n"}],"owner":{"account_id":6999721,"reputation":59,"user_id":5366118,"accept_rate":50,"display_name":"Archana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":32945285,"answer_count":2,"score":0,"last_activity_date":1698834975,"creation_date":1444032216,"question_id":32943827,"body_markdown":"I need to extract a mobile number from a string. I have extracted numbers from string, but failed to get what I need.\r\n\r\nHere is the input: a string contains an address and phone number.\r\n\r\n    String input = &quot;Street1,Punjab Market-Patiala 147001 M:92166-29903&quot;\r\n\r\nI need to extract the mobile number, which is `92166-29903`.\r\n\r\nI use this method to check whether a string contains a mobile number or not:\r\n\r\n    private Boolean isMobileAvailable(String string)\r\n    {\r\n        Boolean ismobile = false;\r\n        if (string.matches(&quot;(?i).*M.*&quot;))\r\n        {\r\n            ismobile = true;\r\n        } \r\n        return ismobile;\r\n    }\r\n\r\nUsed in a code as follows:\r\n\r\n    String mobilenumber=&quot;&quot;;\r\n    \r\n    private void getMobileNumber(String sample)\r\n    {\r\n        int index = sample.indexOf(&quot;M&quot;);\r\n        String newString = &quot;&quot;;\r\n        newString = sample.substring(index, sample.length());\r\n        mobileNumber = newString.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n        edtMobile.setText(mobileNumber.substring(0, 10));\r\n    }\r\n    \r\nHere, instead of mobile number, I am getting `147009211`.\r\n\r\nHow can I identify the mobile number correctly from above string?","title":"Identify and get a mobile number from a String","body":"<p>I need to extract a mobile number from a string. I have extracted numbers from string, but failed to get what I need.</p>\n\n<p>Here is the input: a string contains an address and phone number.</p>\n\n<pre><code>String input = \"Street1,Punjab Market-Patiala 147001 M:92166-29903\"\n</code></pre>\n\n<p>I need to extract the mobile number, which is <code>92166-29903</code>.</p>\n\n<p>I use this method to check whether a string contains a mobile number or not:</p>\n\n<pre><code>private Boolean isMobileAvailable(String string)\n{\n    Boolean ismobile = false;\n    if (string.matches(\"(?i).*M.*\"))\n    {\n        ismobile = true;\n    } \n    return ismobile;\n}\n</code></pre>\n\n<p>Used in a code as follows:</p>\n\n<pre><code>String mobilenumber=\"\";\n\nprivate void getMobileNumber(String sample)\n{\n    int index = sample.indexOf(\"M\");\n    String newString = \"\";\n    newString = sample.substring(index, sample.length());\n    mobileNumber = newString.replaceAll(\"[^0-9]\", \"\");\n    edtMobile.setText(mobileNumber.substring(0, 10));\n}\n</code></pre>\n\n<p>Here, instead of mobile number, I am getting <code>147009211</code>.</p>\n\n<p>How can I identify the mobile number correctly from above string?</p>\n"},{"tags":["java","jaas"],"answers":[{"tags":[],"owner":{"account_id":2296488,"reputation":669,"user_id":2017801,"display_name":"Guram Savinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698834734,"creation_date":1698834734,"answer_id":77401975,"question_id":60572808,"body_markdown":"System properties can be used in jaas.conf according to the Oracle documentation:  https://docs.oracle.com/javase/8/docs/api/javax/security/auth/login/Configuration.html\r\n\r\n&gt; If a String in the form, ${system.property}, occurs in the value, it\r\n&gt; will be expanded to the value of the system property.","title":"JAAS Login Configuration variable support?","body":"<p>System properties can be used in jaas.conf according to the Oracle documentation:  <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/security/auth/login/Configuration.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/security/auth/login/Configuration.html</a></p>\n<blockquote>\n<p>If a String in the form, ${system.property}, occurs in the value, it\nwill be expanded to the value of the system property.</p>\n</blockquote>\n"}],"owner":{"account_id":111376,"reputation":3434,"user_id":294253,"accept_rate":100,"display_name":"Ben DeMott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77401975,"answer_count":1,"score":5,"last_activity_date":1698834734,"creation_date":1583536629,"question_id":60572808,"body_markdown":"I&#39;ve looked through the official [documentation][1] and I can&#39;t find anywhere that states you can expand java properties or environment variables in JAAS configuration files.\r\n\r\nIs this supported, and if so is there any documentation that describes it?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/security/appendix-b-jaas-login-configuration-file.html#GUID-7EB80FA5-3C16-4016-AED6-0FC619F86F8E","title":"JAAS Login Configuration variable support?","body":"<p>I've looked through the official <a href=\"https://docs.oracle.com/en/java/javase/13/security/appendix-b-jaas-login-configuration-file.html#GUID-7EB80FA5-3C16-4016-AED6-0FC619F86F8E\" rel=\"noreferrer\">documentation</a> and I can't find anywhere that states you can expand java properties or environment variables in JAAS configuration files.</p>\n\n<p>Is this supported, and if so is there any documentation that describes it?</p>\n"},{"tags":["java","spring","docker","certificate"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698834475,"creation_date":1698834475,"answer_id":77401948,"question_id":77401869,"body_markdown":"You have to rebuild the docker image embedding the certificate too.\r\n\r\nAs alternative, you can rerun the container mapping the certificate by an external mounted volume.","title":"Spring Boot Docker add external .crt certificate","body":"<p>You have to rebuild the docker image embedding the certificate too.</p>\n<p>As alternative, you can rerun the container mapping the certificate by an external mounted volume.</p>\n"}],"owner":{"account_id":16518515,"reputation":59,"user_id":11935302,"display_name":"alexandruRobert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698834475,"creation_date":1698833913,"question_id":77401869,"body_markdown":"I am working on a project that uses docker containers for some Spring Boot projects, and directly Java for a single project. \r\n\r\nThe project being runned using directly Java and a war file is deployed on a isolated machine, not the one used for the docker containers. The access to this remote server is secured using a .crt file that was created before my arrival. \r\n\r\nI am trying to add the .crt file to a Spring Boot project running as a docker container on another machine. What should I do ? ","title":"Spring Boot Docker add external .crt certificate","body":"<p>I am working on a project that uses docker containers for some Spring Boot projects, and directly Java for a single project.</p>\n<p>The project being runned using directly Java and a war file is deployed on a isolated machine, not the one used for the docker containers. The access to this remote server is secured using a .crt file that was created before my arrival.</p>\n<p>I am trying to add the .crt file to a Spring Boot project running as a docker container on another machine. What should I do ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698834177,"creation_date":1698834177,"answer_id":77401913,"question_id":77400794,"body_markdown":"A reason why you are getting this exception is in usage of `UserDetailsService` into\r\n`JwtAutheticationFilter` and `JwtAutheticationFilter` in `SecurityConfigs` where `UserDetailsService` is creating as `Spring Bean`:\r\n\r\nTo fix it just create another config class where you are going to declare something like this:\r\n\r\n    @Configuration\r\n    public class UserService {\r\n    \r\n      @Bean\r\n      public UserDetailsService userDetailsService() {\r\n    \r\n        UserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;))\r\n            .roles(&quot;NORMAL&quot;)\r\n            .build();\r\n    \r\n        UserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;))\r\n            .roles(&quot;ADMIN&quot;)\r\n            .build();\r\n    \r\n        return new InMemoryUserDetailsManager(normalUser,\r\n            adminUser);\r\n      }\r\n    \r\n      @Bean\r\n      public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n      }\r\n    \r\n    }\r\n\r\nAnd the you will be able to invoke it into `JwtAutheticationFilter` as field \r\n\r\n      @Autowired\r\n      private UserService userService;\r\n\r\nand then to use it something like :\r\n\r\n    UserDetails userDetails = userService.userDetailsService().loadUserByUsername(userName);\r\n\r\nInstead of:\r\n\r\n    userDetailsService.loadUserByUsername(userName);\r\n\r\nAnd like `JwtAutheticationFilter` you will inject `UserService` into `SecurityConfigs` and will use `passwordEncoder()` method.\r\n\r\n\r\n\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name jwtAutheticationFilter Unsatisfied dependency expressed through field userDetailsService","body":"<p>A reason why you are getting this exception is in usage of <code>UserDetailsService</code> into\n<code>JwtAutheticationFilter</code> and <code>JwtAutheticationFilter</code> in <code>SecurityConfigs</code> where <code>UserDetailsService</code> is creating as <code>Spring Bean</code>:</p>\n<p>To fix it just create another config class where you are going to declare something like this:</p>\n<pre><code>@Configuration\npublic class UserService {\n\n  @Bean\n  public UserDetailsService userDetailsService() {\n\n    UserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;))\n        .roles(&quot;NORMAL&quot;)\n        .build();\n\n    UserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;))\n        .roles(&quot;ADMIN&quot;)\n        .build();\n\n    return new InMemoryUserDetailsManager(normalUser,\n        adminUser);\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n\n}\n</code></pre>\n<p>And the you will be able to invoke it into <code>JwtAutheticationFilter</code> as field</p>\n<pre><code>  @Autowired\n  private UserService userService;\n</code></pre>\n<p>and then to use it something like :</p>\n<pre><code>UserDetails userDetails = userService.userDetailsService().loadUserByUsername(userName);\n</code></pre>\n<p>Instead of:</p>\n<pre><code>userDetailsService.loadUserByUsername(userName);\n</code></pre>\n<p>And like <code>JwtAutheticationFilter</code> you will inject <code>UserService</code> into <code>SecurityConfigs</code> and will use <code>passwordEncoder()</code> method.</p>\n"}],"owner":{"account_id":21505740,"reputation":41,"user_id":15849157,"display_name":"Ankit Rege"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698834177,"creation_date":1698820953,"question_id":77400794,"body_markdown":"I am using spring security in my project. and I am getting this error which says \r\n\r\nError starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;jwtAutheticationFilter&#39;: Unsatisfied dependency expressed through field &#39;userDetailsService&#39;: Error creating bean with name &#39;securityConfigs&#39;: Unsatisfied dependency expressed through field &#39;jwtAutheticationFilter&#39;: Error creating bean with name &#39;jwtAutheticationFilter&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\nbelow is the full stack of error log\r\n\r\n\r\n```\r\n2023-11-01T11:59:53.866+05:30  WARN 21524 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\r\n2023-11-01T11:59:54.458+05:30  INFO 21524 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-11-01T11:59:54.519+05:30  INFO 21524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-01T11:59:54.718+05:30 ERROR 21524 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;jwtAutheticationFilter&#39;: Unsatisfied dependency expressed through field &#39;userDetailsService&#39;: Error creating bean with name &#39;securityConfigs&#39;: Unsatisfied dependency expressed through field &#39;jwtAutheticationFilter&#39;: Error creating bean with name &#39;jwtAutheticationFilter&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n2023-11-01T11:59:54.732+05:30  INFO 21524 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-11-01T11:59:54.734+05:30  WARN 21524 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\r\n2023-11-01T11:59:54.735+05:30  WARN 21524 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\r\n2023-11-01T11:59:54.737+05:30  WARN 21524 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\r\n2023-11-01T11:59:54.737+05:30  INFO 21524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-01T11:59:54.740+05:30  INFO 21524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-11-01T11:59:54.747+05:30  INFO 21524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-11-01T11:59:54.754+05:30  INFO 21524 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-01T11:59:54.765+05:30 ERROR 21524 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  jwtAutheticationFilter (field private org.springframework.security.core.userdetails.UserDetailsService com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter.userDetailsService)\r\n↑     ↓\r\n|  securityConfigs (field private com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter com.codewithdurgesh.blog.configs.SecurityConfigs.jwtAutheticationFilter)\r\n└─────┘\r\n\r\n\r\n```\r\n\r\nhere are all the the classes which i have created.\r\n\r\n**JwtAutheticationFilter class**\r\n```\r\npackage com.codewithdurgesh.blog.sequrity;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport io.jsonwebtoken.ExpiredJwtException;\r\nimport io.jsonwebtoken.MalformedJwtException;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class JwtAutheticationFilter extends OncePerRequestFilter {\r\n\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n\t@Autowired\r\n\tprivate JWTTokenHelper jwtTokenHelper;\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t// this method will get calls whenever user tries to access API and sent request\r\n\r\n//\t\t1. GET token from request\r\n//\t\twe get token in the form of Bearer eybxsghdjtuwoqzmglhdnvi\r\n\r\n\t\tString requestToken = request.getHeader(&quot;Authorization&quot;);\r\n\t\tSystem.out.println(&quot;request token is &quot; + requestToken);\r\n\r\n\t\tString userName = null;\r\n\t\tString token = null;\r\n\r\n\t\tif (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\r\n//\t\t\tneed to remove Bearer from the request token to get the actual token\r\n\r\n\t\t\ttoken = requestToken.substring(7);\r\n\t\t\ttry {\r\n\t\t\t\tuserName = jwtTokenHelper.getUsernameFromToken(token);\r\n\t\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t\tSystem.out.println(&quot;unable to get the JWT token&quot;);\r\n\t\t\t} catch (ExpiredJwtException e) {\r\n\t\t\t\tSystem.out.println(&quot; the JWT token is expired&quot;);\r\n\t\t\t} catch (MalformedJwtException e) {\r\n\t\t\t\tSystem.out.println(&quot;jwt invalid &quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;the JWT token is not correct&quot;);\r\n\t\t}\r\n\r\n//\t\t once we get the token, now validate\r\n//\t\tSecurityContextHolder.getContext().getAuthentication() = null meaning that there is no authentication given to any user by spring security\r\n\r\n\t\tif (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n\t\t\tUserDetails userDetails = userDetailsService.loadUserByUsername(userName);\r\n\r\n\t\t\tif (jwtTokenHelper.validateToken(token, userDetails)) {\r\n//\t\t\t\tcorrect hai , authenticate krna h\r\n\r\n\t\t\t\tUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\tuserDetails, null, userDetails.getAuthorities());\r\n\r\n\t\t\t\tusernamePasswordAuthenticationToken\r\n\t\t\t\t\t\t.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;the JWT token is invalid&quot;);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;the user name is null or context is not null &quot;);\r\n\t\t}\r\n\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**SecurityConfigs class**\r\n\r\n```\r\npackage com.codewithdurgesh.blog.configs;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.DefaultSecurityFilterChain;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n\r\nimport com.codewithdurgesh.blog.sequrity.CustomUserDetailService;\r\nimport com.codewithdurgesh.blog.sequrity.JWTAuthenticationEntryPoint;\r\nimport com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter;\r\n\r\nimport jakarta.servlet.Filter;\r\n\r\n@Configuration\r\n@EnableMethodSecurity\r\n@EnableWebSecurity\r\npublic class SecurityConfigs {\r\n\r\n\t@Autowired\r\n\tprivate CustomUserDetailService customUserDetailService;\r\n\r\n\t@Autowired\r\n\tprivate JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAutheticationFilter jwtAutheticationFilter;\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n\t\thttpSecurity.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/users/getAllUser&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.requestMatchers(&quot;/api/users/getUser/{id}&quot;).hasRole(&quot;NORMAL&quot;).anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n\t\t\t\t.and()\r\n\t\t\t\t.sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n//\t\t.formLogin();\r\n\t\t\r\n\t\thttpSecurity.addFilterBefore(jwtAutheticationFilter, (Class&lt;? extends Filter&gt;) UsernamePasswordAuthenticationToken.class);\r\n\r\n\t\thttpSecurity.authenticationProvider(daoAuthenticationProvider());\r\n\r\n\t\tDefaultSecurityFilterChain defaultSecurityFilterChain = httpSecurity.build();\r\n\r\n\t\treturn defaultSecurityFilterChain;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\r\n\t\tUserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;)).roles(&quot;NORMAL&quot;)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;)\r\n\t\t\t\t.build();\r\n\r\n\t\tInMemoryUserDetailsManager inMemoryDetailsManager = new InMemoryUserDetailsManager(normalUser, adminUser);\r\n\r\n\t\treturn inMemoryDetailsManager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\t\tprovider.setUserDetailsService(customUserDetailService);\r\n\t\tprovider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean(AuthenticationConfiguration config) throws Exception {\r\n\t\treturn config.getAuthenticationManager();\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**AuthController Class**\r\n\r\n\r\n```\r\npackage com.codewithdurgesh.blog.configs;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.DefaultSecurityFilterChain;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n\r\nimport com.codewithdurgesh.blog.sequrity.CustomUserDetailService;\r\nimport com.codewithdurgesh.blog.sequrity.JWTAuthenticationEntryPoint;\r\nimport com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter;\r\n\r\nimport jakarta.servlet.Filter;\r\n\r\n@Configuration\r\n@EnableMethodSecurity\r\n@EnableWebSecurity\r\npublic class SecurityConfigs {\r\n\r\n\t@Autowired\r\n\tprivate CustomUserDetailService customUserDetailService;\r\n\r\n\t@Autowired\r\n\tprivate JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtAutheticationFilter jwtAutheticationFilter;\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n\t\thttpSecurity.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/users/getAllUser&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.requestMatchers(&quot;/api/users/getUser/{id}&quot;).hasRole(&quot;NORMAL&quot;).anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n\t\t\t\t.and()\r\n\t\t\t\t.sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n//\t\t.formLogin();\r\n\t\t\r\n\t\thttpSecurity.addFilterBefore(jwtAutheticationFilter, (Class&lt;? extends Filter&gt;) UsernamePasswordAuthenticationToken.class);\r\n\r\n\t\thttpSecurity.authenticationProvider(daoAuthenticationProvider());\r\n\r\n\t\tDefaultSecurityFilterChain defaultSecurityFilterChain = httpSecurity.build();\r\n\r\n\t\treturn defaultSecurityFilterChain;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\r\n\t\tUserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;)).roles(&quot;NORMAL&quot;)\r\n\t\t\t\t.build();\r\n\r\n\t\tUserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;)\r\n\t\t\t\t.build();\r\n\r\n\t\tInMemoryUserDetailsManager inMemoryDetailsManager = new InMemoryUserDetailsManager(normalUser, adminUser);\r\n\r\n\t\treturn inMemoryDetailsManager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\t\tprovider.setUserDetailsService(customUserDetailService);\r\n\t\tprovider.setPasswordEncoder(passwordEncoder());\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean(AuthenticationConfiguration config) throws Exception {\r\n\t\treturn config.getAuthenticationManager();\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI added the below property in the application.properties files as this was action given in the logs \r\n\r\nspring.main.allow-circular-references=true.\r\n\r\nin Description it is written that \r\n\r\nThe dependencies of some of the beans in the application context form a cycle: --&gt; I am not sure why how the Cycle is being created\r\n \r\nI tried to read about the error online but I am still facing this issue.\r\n\r\nany help would be appreciated.\r\nThank you\r\n","title":"UnsatisfiedDependencyException: Error creating bean with name jwtAutheticationFilter Unsatisfied dependency expressed through field userDetailsService","body":"<p>I am using spring security in my project. and I am getting this error which says</p>\n<p>Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAutheticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'securityConfigs': Unsatisfied dependency expressed through field 'jwtAutheticationFilter': Error creating bean with name 'jwtAutheticationFilter': Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n<p>below is the full stack of error log</p>\n<pre><code>2023-11-01T11:59:53.866+05:30  WARN 21524 --- [  restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\n2023-11-01T11:59:54.458+05:30  INFO 21524 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-11-01T11:59:54.519+05:30  INFO 21524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-11-01T11:59:54.718+05:30 ERROR 21524 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAutheticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'securityConfigs': Unsatisfied dependency expressed through field 'jwtAutheticationFilter': Error creating bean with name 'jwtAutheticationFilter': Requested bean is currently in creation: Is there an unresolvable circular reference?\n2023-11-01T11:59:54.732+05:30  INFO 21524 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-11-01T11:59:54.734+05:30  WARN 21524 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.8/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\n2023-11-01T11:59:54.735+05:30  WARN 21524 --- [  restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.8/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.8/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.8/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.8/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.8/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\n2023-11-01T11:59:54.737+05:30  WARN 21524 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\n2023-11-01T11:59:54.737+05:30  INFO 21524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-11-01T11:59:54.740+05:30  INFO 21524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-11-01T11:59:54.747+05:30  INFO 21524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-11-01T11:59:54.754+05:30  INFO 21524 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-01T11:59:54.765+05:30 ERROR 21524 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  jwtAutheticationFilter (field private org.springframework.security.core.userdetails.UserDetailsService com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter.userDetailsService)\n↑     ↓\n|  securityConfigs (field private com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter com.codewithdurgesh.blog.configs.SecurityConfigs.jwtAutheticationFilter)\n└─────┘\n\n\n</code></pre>\n<p>here are all the the classes which i have created.</p>\n<p><strong>JwtAutheticationFilter class</strong></p>\n<pre><code>package com.codewithdurgesh.blog.sequrity;\n\nimport java.io.IOException;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport io.jsonwebtoken.ExpiredJwtException;\nimport io.jsonwebtoken.MalformedJwtException;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Component\npublic class JwtAutheticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private JWTTokenHelper jwtTokenHelper;\n    \n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        // this method will get calls whenever user tries to access API and sent request\n\n//      1. GET token from request\n//      we get token in the form of Bearer eybxsghdjtuwoqzmglhdnvi\n\n        String requestToken = request.getHeader(&quot;Authorization&quot;);\n        System.out.println(&quot;request token is &quot; + requestToken);\n\n        String userName = null;\n        String token = null;\n\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\n//          need to remove Bearer from the request token to get the actual token\n\n            token = requestToken.substring(7);\n            try {\n                userName = jwtTokenHelper.getUsernameFromToken(token);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;unable to get the JWT token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot; the JWT token is expired&quot;);\n            } catch (MalformedJwtException e) {\n                System.out.println(&quot;jwt invalid &quot;);\n            }\n        } else {\n            System.out.println(&quot;the JWT token is not correct&quot;);\n        }\n\n//       once we get the token, now validate\n//      SecurityContextHolder.getContext().getAuthentication() = null meaning that there is no authentication given to any user by spring security\n\n        if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n            UserDetails userDetails = userDetailsService.loadUserByUsername(userName);\n\n            if (jwtTokenHelper.validateToken(token, userDetails)) {\n//              correct hai , authenticate krna h\n\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n\n                usernamePasswordAuthenticationToken\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            } else {\n                System.out.println(&quot;the JWT token is invalid&quot;);\n            }\n\n        } else {\n            System.out.println(&quot;the user name is null or context is not null &quot;);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n<p><strong>SecurityConfigs class</strong></p>\n<pre><code>package com.codewithdurgesh.blog.configs;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.DefaultSecurityFilterChain;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n\nimport com.codewithdurgesh.blog.sequrity.CustomUserDetailService;\nimport com.codewithdurgesh.blog.sequrity.JWTAuthenticationEntryPoint;\nimport com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter;\n\nimport jakarta.servlet.Filter;\n\n@Configuration\n@EnableMethodSecurity\n@EnableWebSecurity\npublic class SecurityConfigs {\n\n    @Autowired\n    private CustomUserDetailService customUserDetailService;\n\n    @Autowired\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    \n    @Autowired\n    private JwtAutheticationFilter jwtAutheticationFilter;\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/users/getAllUser&quot;).hasRole(&quot;ADMIN&quot;)\n                .requestMatchers(&quot;/api/users/getUser/{id}&quot;).hasRole(&quot;NORMAL&quot;).anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n//      .formLogin();\n        \n        httpSecurity.addFilterBefore(jwtAutheticationFilter, (Class&lt;? extends Filter&gt;) UsernamePasswordAuthenticationToken.class);\n\n        httpSecurity.authenticationProvider(daoAuthenticationProvider());\n\n        DefaultSecurityFilterChain defaultSecurityFilterChain = httpSecurity.build();\n\n        return defaultSecurityFilterChain;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n\n        UserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;)).roles(&quot;NORMAL&quot;)\n                .build();\n\n        UserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;)\n                .build();\n\n        InMemoryUserDetailsManager inMemoryDetailsManager = new InMemoryUserDetailsManager(normalUser, adminUser);\n\n        return inMemoryDetailsManager;\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(customUserDetailService);\n        provider.setPasswordEncoder(passwordEncoder());\n\n        return provider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n\n    }\n\n}\n\n</code></pre>\n<p><strong>AuthController Class</strong></p>\n<pre><code>package com.codewithdurgesh.blog.configs;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.DefaultSecurityFilterChain;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n\nimport com.codewithdurgesh.blog.sequrity.CustomUserDetailService;\nimport com.codewithdurgesh.blog.sequrity.JWTAuthenticationEntryPoint;\nimport com.codewithdurgesh.blog.sequrity.JwtAutheticationFilter;\n\nimport jakarta.servlet.Filter;\n\n@Configuration\n@EnableMethodSecurity\n@EnableWebSecurity\npublic class SecurityConfigs {\n\n    @Autowired\n    private CustomUserDetailService customUserDetailService;\n\n    @Autowired\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    \n    @Autowired\n    private JwtAutheticationFilter jwtAutheticationFilter;\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/users/getAllUser&quot;).hasRole(&quot;ADMIN&quot;)\n                .requestMatchers(&quot;/api/users/getUser/{id}&quot;).hasRole(&quot;NORMAL&quot;).anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n//      .formLogin();\n        \n        httpSecurity.addFilterBefore(jwtAutheticationFilter, (Class&lt;? extends Filter&gt;) UsernamePasswordAuthenticationToken.class);\n\n        httpSecurity.authenticationProvider(daoAuthenticationProvider());\n\n        DefaultSecurityFilterChain defaultSecurityFilterChain = httpSecurity.build();\n\n        return defaultSecurityFilterChain;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n\n        UserDetails normalUser = User.withUsername(&quot;ankit&quot;).password(passwordEncoder().encode(&quot;ankit&quot;)).roles(&quot;NORMAL&quot;)\n                .build();\n\n        UserDetails adminUser = User.withUsername(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;)\n                .build();\n\n        InMemoryUserDetailsManager inMemoryDetailsManager = new InMemoryUserDetailsManager(normalUser, adminUser);\n\n        return inMemoryDetailsManager;\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(customUserDetailService);\n        provider.setPasswordEncoder(passwordEncoder());\n\n        return provider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n\n    }\n\n}\n\n</code></pre>\n<p>I added the below property in the application.properties files as this was action given in the logs</p>\n<p>spring.main.allow-circular-references=true.</p>\n<p>in Description it is written that</p>\n<p>The dependencies of some of the beans in the application context form a cycle: --&gt; I am not sure why how the Cycle is being created</p>\n<p>I tried to read about the error online but I am still facing this issue.</p>\n<p>any help would be appreciated.\nThank you</p>\n"},{"tags":["java","unit-testing","mocking","quickcheck","autofixture"],"answers":[{"tags":[],"owner":{"account_id":7599,"reputation":8632,"user_id":13251,"accept_rate":100,"display_name":"Chris Vest"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1341602773,"creation_date":1341602773,"answer_id":11368519,"question_id":11367349,"body_markdown":"There is a Java implementation of QuickCheck, which has APIs for generating test data:\r\n\r\nhttp://java.net/projects/quickcheck/pages/Home\r\n\r\nI&#39;m not too familiar with AutoFixture, and I suspect that QuickCheck is a slightly different kind of test framework, but maybe it is useful for solving your specific problem.","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>There is a Java implementation of QuickCheck, which has APIs for generating test data:</p>\n\n<p><a href=\"http://java.net/projects/quickcheck/pages/Home\" rel=\"nofollow\">http://java.net/projects/quickcheck/pages/Home</a></p>\n\n<p>I'm not too familiar with AutoFixture, and I suspect that QuickCheck is a slightly different kind of test framework, but maybe it is useful for solving your specific problem.</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1341995634,"creation_date":1341995634,"answer_id":11428612,"question_id":11367349,"body_markdown":"ObjectGenerator is more of an experimental feature:\r\n\r\n    ObjectGenerator&lt;Test&gt; objects = PrimitiveGenerators.objects(Test.class);\r\n    objects.on(objects.getRecorder().getTestValue()).returns(PrimitiveGenerators.strings());\r\n                \r\n    Test next = objects.next();\r\n    System.out.println(next.getTestValue());\r\n\r\nI&#39;d prefer a simple Generator implementation:\r\n\r\n    class TestGenerator implements Generator&lt;Test&gt;{\r\n        Generator&lt;String&gt; values = PrimitiveGenerators.strings();\r\n        @Override public Test next() {\r\n            return new TestImpl(values.next());\r\n        }   \r\n    }","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>ObjectGenerator is more of an experimental feature:</p>\n\n<pre><code>ObjectGenerator&lt;Test&gt; objects = PrimitiveGenerators.objects(Test.class);\nobjects.on(objects.getRecorder().getTestValue()).returns(PrimitiveGenerators.strings());\n\nTest next = objects.next();\nSystem.out.println(next.getTestValue());\n</code></pre>\n\n<p>I'd prefer a simple Generator implementation:</p>\n\n<pre><code>class TestGenerator implements Generator&lt;Test&gt;{\n    Generator&lt;String&gt; values = PrimitiveGenerators.strings();\n    @Override public Test next() {\n        return new TestImpl(values.next());\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242391,"reputation":127,"user_id":513867,"display_name":"Nahuel Garbezza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342051774,"creation_date":1342051774,"answer_id":11443370,"question_id":11367349,"body_markdown":"[Yet Another QuickCheck for Java](http://sourceforge.net/projects/yaqc4j/) is another tool you may probably take a look.\r\n\r\nIt is very integrated with JUnit (it supports tests with parameters, annotations to configure the generated objects and so on).\r\n\r\nIt has a lot of generators (all of quickcheck, and some specific to OOP, such as interfaces, abstract classes and singleton generators), and you can define your own ones. There is also a constructor-based generator.\r\n\r\nCurrently is in alpha status, but if you take a look to the [downloads page](http://sourceforge.net/projects/yaqc4j/files/Documentation.html/download) you&#39;ll see a basic documentation.","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p><a href=\"http://sourceforge.net/projects/yaqc4j/\" rel=\"nofollow\">Yet Another QuickCheck for Java</a> is another tool you may probably take a look.</p>\n\n<p>It is very integrated with JUnit (it supports tests with parameters, annotations to configure the generated objects and so on).</p>\n\n<p>It has a lot of generators (all of quickcheck, and some specific to OOP, such as interfaces, abstract classes and singleton generators), and you can define your own ones. There is also a constructor-based generator.</p>\n\n<p>Currently is in alpha status, but if you take a look to the <a href=\"http://sourceforge.net/projects/yaqc4j/files/Documentation.html/download\" rel=\"nofollow\">downloads page</a> you'll see a basic documentation.</p>\n"},{"tags":[],"owner":{"account_id":1190839,"reputation":765,"user_id":1163662,"accept_rate":100,"display_name":"Grzesiek Galezowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1698833497,"creation_date":1393159533,"answer_id":21968364,"question_id":11367349,"body_markdown":"I started a [project focused on implementing core features of AutoFixture in Java][1]. AutoFixture has certainly a lot of features, so I need to prioritize which ones to implement first and which ones not to bother implementing at all. As the project is just started, I welcome testing, defect reports and feature requests.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/grzesiek-galezowski/AutoFixtureGenerator","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>I started a <a href=\"https://github.com/grzesiek-galezowski/AutoFixtureGenerator\" rel=\"nofollow noreferrer\">project focused on implementing core features of AutoFixture in Java</a>. AutoFixture has certainly a lot of features, so I need to prioritize which ones to implement first and which ones not to bother implementing at all. As the project is just started, I welcome testing, defect reports and feature requests.</p>\n"},{"tags":[],"owner":{"account_id":2358814,"reputation":375,"user_id":2066023,"display_name":"Jane Nicholson"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1433852016,"creation_date":1433852016,"answer_id":30731761,"question_id":11367349,"body_markdown":"There&#39;s also JFixture which is available on [github](https://github.com/FlexTradeUKLtd/jfixture) and published to [maven central](http://javalibs.com/artifact/com.flextrade.jfixture/jfixture).\r\n\r\nThis is still under active development, and feature requests are being honoured.","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>There's also JFixture which is available on <a href=\"https://github.com/FlexTradeUKLtd/jfixture\">github</a> and published to <a href=\"http://javalibs.com/artifact/com.flextrade.jfixture/jfixture\">maven central</a>.</p>\n\n<p>This is still under active development, and feature requests are being honoured.</p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11892,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443879549,"creation_date":1443879549,"answer_id":32923252,"question_id":11367349,"body_markdown":"I am using [JFixture][1]  along [Mockito][2].spy() for that ;)\r\n\r\nLet&#39;s see an example how to do something that it would be trivial with AutoFixture and C#. The idea here is to generate random data in your object except for some specific methods that need to have specific values. It is interesting I didn&#39;t find that somewhere stated.. This technique eliminates the &quot;Arrange&quot; part of your unit tests to be a small number of lines and in addition focuses on what values need to be specific for this unit test to pass\r\n\r\n    public class SomeClass {\r\n\t\tpublic int id; //field I care\r\n\t\tpublic String name; // fields I don&#39;t care\r\n\t\tpublic String description; //fields I don&#39;t care\r\n\r\n\t\tpublic int getId(){\r\n\t\t\treturn id;\r\n\t\t} \r\n\r\n\t\tpublic void setId(int id){\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\tpublic String getName(){\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name){\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getDescription(){\r\n\t\t\treturn description;\r\n\t\t}\r\n\r\n\t\tpublic void setDescirption(String description){\r\n\t\t\tthis.description = description;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n    public static void main(String args[]){\r\n\t\tJFixture fixture = new JFixture();\r\n\t\tfixture.customise().circularDependencyBehaviour().omitSpecimen(); //omit circular dependencies\r\n\t\tfixture.customise().noResolutionBehaviour().omitSpecimen(); // omit methods that cannot be resolved\r\n\t\tSomeClass entity = fixture.create(SomeClass.class);\r\n\t\tSomeClass mock = Mockito.spy(entity);\r\n\t\tMockito.when(mock.getId()).thenReturn(3213);\r\n\r\n\t\tSystem.out.println(mock.getId()); // always 3213\r\n\t\tSystem.out.println(mock.getName()); // random\r\n\t\tSystem.out.println(mock.getDescription()); //random\r\n\t}\r\n\r\n\r\nThis prints:\r\n\r\n    3213\r\n    name9a800265-d8ef-4be9-bd45-f0b62f791d9c\r\n    descriptiona9f9245f-eba1-4805-89e3-308ef69e7091\r\n\r\n\r\n   \r\n\r\n\r\n  [1]: https://github.com/FlexTradeUKLtd/jfixture &quot;JFixture&quot;\r\n  [2]: https://github.com/mockito/mockito &quot;Mockito&quot;","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>I am using <a href=\"https://github.com/FlexTradeUKLtd/jfixture\" rel=\"nofollow\" title=\"JFixture\">JFixture</a>  along <a href=\"https://github.com/mockito/mockito\" rel=\"nofollow\" title=\"Mockito\">Mockito</a>.spy() for that ;)</p>\n\n<p>Let's see an example how to do something that it would be trivial with AutoFixture and C#. The idea here is to generate random data in your object except for some specific methods that need to have specific values. It is interesting I didn't find that somewhere stated.. This technique eliminates the \"Arrange\" part of your unit tests to be a small number of lines and in addition focuses on what values need to be specific for this unit test to pass</p>\n\n<pre><code>public class SomeClass {\n    public int id; //field I care\n    public String name; // fields I don't care\n    public String description; //fields I don't care\n\n    public int getId(){\n        return id;\n    } \n\n    public void setId(int id){\n        this.id = id;\n    }\n\n    public String getName(){\n        return name;\n    }\n\n    public void setName(String name){\n        this.name = name;\n    }\n\n    public String getDescription(){\n        return description;\n    }\n\n    public void setDescirption(String description){\n        this.description = description;\n    }\n}\n\n\n\npublic static void main(String args[]){\n    JFixture fixture = new JFixture();\n    fixture.customise().circularDependencyBehaviour().omitSpecimen(); //omit circular dependencies\n    fixture.customise().noResolutionBehaviour().omitSpecimen(); // omit methods that cannot be resolved\n    SomeClass entity = fixture.create(SomeClass.class);\n    SomeClass mock = Mockito.spy(entity);\n    Mockito.when(mock.getId()).thenReturn(3213);\n\n    System.out.println(mock.getId()); // always 3213\n    System.out.println(mock.getName()); // random\n    System.out.println(mock.getDescription()); //random\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>3213\nname9a800265-d8ef-4be9-bd45-f0b62f791d9c\ndescriptiona9f9245f-eba1-4805-89e3-308ef69e7091\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6095788,"reputation":247,"user_id":4756623,"accept_rate":17,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455561513,"creation_date":1447192653,"answer_id":33640416,"question_id":11367349,"body_markdown":"Try object factory. It is open sourced on [github][1]. It can create random Java objects in just a single line of code. And it is highly configurable.\r\n\r\nExample:\r\n\r\n    ObjectFactory rof = new ReflectionObjectFactory();\r\n\r\n    String str = rof.create(String.class);\r\n    Customer cus = rof.create(Customer.class);\r\n\r\n\r\nIt is also available in Maven Central Repository.\r\n\r\n  [1]: https://github.com/leakingtapan/rof","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>Try object factory. It is open sourced on <a href=\"https://github.com/leakingtapan/rof\" rel=\"nofollow\">github</a>. It can create random Java objects in just a single line of code. And it is highly configurable.</p>\n\n<p>Example:</p>\n\n<pre><code>ObjectFactory rof = new ReflectionObjectFactory();\n\nString str = rof.create(String.class);\nCustomer cus = rof.create(Customer.class);\n</code></pre>\n\n<p>It is also available in Maven Central Repository.</p>\n"}],"owner":{"account_id":1570283,"reputation":552,"user_id":1458117,"accept_rate":83,"display_name":"Ivan Alagenchev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5994,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"closed_date":1698833516,"accepted_answer_id":11368519,"answer_count":7,"score":27,"last_activity_date":1698833497,"creation_date":1341597380,"question_id":11367349,"body_markdown":"I am looking for a Java tool that would create [anonymous variables][1] (variables whose value I don&#39;t care about) in my tests, similar to AutoFixture in .Net. Here is a link to [AutoFixture&#39;s readme][2], which has pretty good examples of what it does.\r\n\r\nHere is a short example taken from the same readme: \r\n\r\n   \r\n    [TestMethod]\r\n    public void IntroductoryTest()\r\n    {\r\n        // Fixture setup\r\n        Fixture fixture = new Fixture();\r\n\r\n        int expectedNumber = fixture.CreateAnonymous&lt;int&gt;();\r\n        MyClass sut = fixture.CreateAnonymous&lt;MyClass&gt;();\r\n        // Exercise system\r\n        int result = sut.Echo(expectedNumber);\r\n        // Verify outcome\r\n        Assert.AreEqual&lt;int&gt;(expectedNumber, result, &quot;Echo&quot;);\r\n        // Teardown\r\n    }\r\n\r\nIs there such a tool in the Java world? \r\n\r\n**Edit:**\r\n\r\nI tried QuickCheck and while it managed to do something like what I was looking for: \r\n\r\n    import net.java.quickcheck.Generator;\r\n    import net.java.quickcheck.generator.PrimitiveGenerators;\r\n    import net.java.quickcheck.generator.support.ObjectGeneratorImpl;\r\n\r\n    public class Main {\r\n\r\n\tinterface Test{\r\n\t\t String getTestValue();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tGenerator&lt;String&gt; stringGen = PrimitiveGenerators.strings(5, 100);\r\n\t\tGenerator&lt;Integer&gt; intGen = PrimitiveGenerators.integers(5, 20);\r\n\t\r\n\t\tObjectGeneratorImpl&lt;Test&gt; g = new ObjectGeneratorImpl&lt;&gt;(Test.class);\r\n\t\tg.on(g.getRecorder().getTestValue()).returns(stringGen);\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; intGen.next(); i++) {\r\n\t\t\tSystem.out.println(&quot;value of testValue is: &quot; + g.next().getTestValue());\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nThe tool seems to work only with interfaces. If I change Test to be a class and the method to a field, the generator throws an exception that only interfaces are supported. \r\n\r\nI sincerely hope that there is something better, especially since the documentation is seriously lacking. \r\n\r\n  [1]: http://blogs.msdn.com/b/ploeh/archive/2008/11/17/anonymous-variables.aspx\r\n  [2]: https://github.com/AutoFixture/AutoFixture#readme","title":"Is there a Java alternative to Ploeh&#39;s AutoFixture for .Net?","body":"<p>I am looking for a Java tool that would create <a href=\"http://blogs.msdn.com/b/ploeh/archive/2008/11/17/anonymous-variables.aspx\" rel=\"noreferrer\">anonymous variables</a> (variables whose value I don't care about) in my tests, similar to AutoFixture in .Net. Here is a link to <a href=\"https://github.com/AutoFixture/AutoFixture#readme\" rel=\"noreferrer\">AutoFixture's readme</a>, which has pretty good examples of what it does.</p>\n\n<p>Here is a short example taken from the same readme: </p>\n\n<pre><code>[TestMethod]\npublic void IntroductoryTest()\n{\n    // Fixture setup\n    Fixture fixture = new Fixture();\n\n    int expectedNumber = fixture.CreateAnonymous&lt;int&gt;();\n    MyClass sut = fixture.CreateAnonymous&lt;MyClass&gt;();\n    // Exercise system\n    int result = sut.Echo(expectedNumber);\n    // Verify outcome\n    Assert.AreEqual&lt;int&gt;(expectedNumber, result, \"Echo\");\n    // Teardown\n}\n</code></pre>\n\n<p>Is there such a tool in the Java world? </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I tried QuickCheck and while it managed to do something like what I was looking for: </p>\n\n<pre><code>import net.java.quickcheck.Generator;\nimport net.java.quickcheck.generator.PrimitiveGenerators;\nimport net.java.quickcheck.generator.support.ObjectGeneratorImpl;\n\npublic class Main {\n\ninterface Test{\n     String getTestValue();\n}\n\npublic static void main(String[] args) {\n    Generator&lt;String&gt; stringGen = PrimitiveGenerators.strings(5, 100);\n    Generator&lt;Integer&gt; intGen = PrimitiveGenerators.integers(5, 20);\n\n    ObjectGeneratorImpl&lt;Test&gt; g = new ObjectGeneratorImpl&lt;&gt;(Test.class);\n    g.on(g.getRecorder().getTestValue()).returns(stringGen);\n\n\n    for (int i = 0; i &lt; intGen.next(); i++) {\n        System.out.println(\"value of testValue is: \" + g.next().getTestValue());\n    }\n}\n\n}\n</code></pre>\n\n<p>The tool seems to work only with interfaces. If I change Test to be a class and the method to a field, the generator throws an exception that only interfaces are supported. </p>\n\n<p>I sincerely hope that there is something better, especially since the documentation is seriously lacking. </p>\n"},{"tags":["java","http"],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698833157,"creation_date":1698832119,"question_id":77401675,"body_markdown":"\r\n\r\nUsing apache.commons http client and using below code snippet to create HTTP request (HTTP 1.1). \r\n\t\r\n\r\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create()\r\n        \t\t\t\t    .setConnectionManager(connectionManager)\r\n        \t\t\t\t    .setDefaultRequestConfig(requestConfig)\r\n        \t\t\t\t    .setRetryHandler(new DefaultHttpRequestRetryHandler(connRetries, false))\r\n        \t\t\t\t    .build();\r\n    \r\n    HttpEntity requestHttpEntity = new InputStreamEntity(instream, InputStreamRequestEntity.CONTENT_LENGTH_AUTO);\r\n    \t\t\tif (logger.isDebugEnabled()){\r\n    \t\t\t\tlogger.debug(&quot;Go19 in getURL.....&quot;);\r\n    \t\t\t}\r\n    \t\t\tpost.setEntity(requestHttpEntity);\r\n    CloseableHttpResponse httpResponse = httpClient.execute(post);\r\n\r\n2 Queries : \r\n\r\n1) I need content-length header in request created by HTTP client but I observed that the content-length header is not present. Can you please help why it is not coming?\r\n\r\n2) I need a persistent connection. In the request created by http client, i see Connection: Keep Alive header. Want to understand the relation of persistence connection with content-length header. \r\nIs it possible to have a persistent connection with a content-length header present? I want transfer-encoding: chunked is used for persistent connection. \r\n\r\nThanks in advance","title":"apache http client 4 : persistent connection with content-length header in request","body":"<p>Using apache.commons http client and using below code snippet to create HTTP request (HTTP 1.1).</p>\n<pre><code>    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    CloseableHttpClient httpClient = HttpClientBuilder.create()\n                        .setConnectionManager(connectionManager)\n                        .setDefaultRequestConfig(requestConfig)\n                        .setRetryHandler(new DefaultHttpRequestRetryHandler(connRetries, false))\n                        .build();\n\nHttpEntity requestHttpEntity = new InputStreamEntity(instream, InputStreamRequestEntity.CONTENT_LENGTH_AUTO);\n            if (logger.isDebugEnabled()){\n                logger.debug(&quot;Go19 in getURL.....&quot;);\n            }\n            post.setEntity(requestHttpEntity);\nCloseableHttpResponse httpResponse = httpClient.execute(post);\n</code></pre>\n<p>2 Queries :</p>\n<ol>\n<li><p>I need content-length header in request created by HTTP client but I observed that the content-length header is not present. Can you please help why it is not coming?</p>\n</li>\n<li><p>I need a persistent connection. In the request created by http client, i see Connection: Keep Alive header. Want to understand the relation of persistence connection with content-length header.\nIs it possible to have a persistent connection with a content-length header present? I want transfer-encoding: chunked is used for persistent connection.</p>\n</li>\n</ol>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698834572,"post_id":77401758,"comment_id":136454274,"body_markdown":"Your code is wrong. Ditch that ugly `HibernateUtils`, ditch the `hibernate.cfg.xml`. Inject the `SessionFactory` which is created by `LocalSessionFactoryBean`. And no you should really use a transaction, if you don&#39;t you would need to use `openSession` instead of `getCurrentSession` which would also make you need to manage the session lifecycle (properly close it etc.) with a transaction all of that is managed for you.","body":"Your code is wrong. Ditch that ugly <code>HibernateUtils</code>, ditch the <code>hibernate.cfg.xml</code>. Inject the <code>SessionFactory</code> which is created by <code>LocalSessionFactoryBean</code>. And no you should really use a transaction, if you don&#39;t you would need to use <code>openSession</code> instead of <code>getCurrentSession</code> which would also make you need to manage the session lifecycle (properly close it etc.) with a transaction all of that is managed for you."},{"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"score":0,"creation_date":1698838229,"post_id":77401758,"comment_id":136454902,"body_markdown":"@M.Deinum without the hibernate.cfg.xml how are we going to set the properties in that case? Could you please share some example to help me understand? Thanks","body":"@M.Deinum without the hibernate.cfg.xml how are we going to set the properties in that case? Could you please share some example to help me understand? Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698838918,"post_id":77401758,"comment_id":136455016,"body_markdown":"Through the `LocalSessionFactoryBean`. You don&#39;t need the connection stuff, you shouldn&#39;t be setting the `current.context` stuff. The datasource is your connection pool. Everything else are already properties on that class.","body":"Through the <code>LocalSessionFactoryBean</code>. You don&#39;t need the connection stuff, you shouldn&#39;t be setting the <code>current.context</code> stuff. The datasource is your connection pool. Everything else are already properties on that class."}],"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698832995,"creation_date":1698832995,"question_id":77401758,"body_markdown":"I am using Spring and Hibernate, and am ideally looking at spring to manage my transactions. However I am getting an error - &#39;Calling method &#39;createCriteria&#39; is not valid without an active transaction (Current status: NOT_ACTIVE)&#39; exception.\r\n\r\nThis is how my hibernate.cfg.xml looks like\r\n\r\n\r\n```\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- JDBC Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://abc.def:1111/db_name?useSSL=false&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\r\n        &lt;!-- Echo the SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;!-- Set the current session context --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n                \r\n\r\n        &lt;!-- dbcp connection pool configuration --&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.initialSize&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxTotal&quot;&gt;100&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxIdle&quot;&gt;80&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.minIdle&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dbcp.maxWaitMillis&quot;&gt;-1&lt;/property&gt;\r\n        &lt;mapping class=&quot;com.mypackage.com.model.ABC&quot; /&gt;\r\n        .... //mapping classes\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nThis is my HibernateUtils.java\r\n```\r\npublic class HibernateUtils {\r\n    private static StandardServiceRegistry registry;\r\n    private static SessionFactory sessionFactory;\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n        if (sessionFactory == null) {\r\n            try {\r\n                // Create registry\r\n                registry = new StandardServiceRegistryBuilder().configure().build();\r\n\r\n                // Create MetadataSources\r\n                MetadataSources sources = new MetadataSources(registry);\r\n\r\n                // Create Metadata\r\n                Metadata metadata = sources.getMetadataBuilder().build();\r\n\r\n                // Create SessionFactory\r\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                if (registry != null) {\r\n                    StandardServiceRegistryBuilder.destroy(registry);\r\n                }\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n\r\n    public static void shutdown() {\r\n        if (registry != null) {\r\n            StandardServiceRegistryBuilder.destroy(registry);\r\n        }\r\n    }\r\n}\r\n```\r\nI have added this in application.properties \r\n```\r\n&lt;bean id=&quot;mySessionFactory&quot;\r\n    class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n    &lt;property name=&quot;mappingResources&quot;&gt;\r\n        &lt;list&gt;\r\n            &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\r\n        &lt;/list&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n        &lt;value&gt;\r\n            hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n        &lt;/value&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot; /&gt;\r\n&lt;/bean&gt; \r\n\r\n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;  /&gt;\r\n```\r\n\r\nFinally my DB calls look like this:\r\n```\r\nSession session = HibernateUtils.getSessionFactory().getCurrentSession();\r\nCriteria criteria = session.createCriteria(ABC.class); //Error line\r\nABC obj = (ABC) criteria.add(Restrictions.eq(&quot;userId&quot;, userId)).uniqueResult();\r\nif(obj == null) return null;\r\nreturn obj;\r\n```\r\nMy pom looks like\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.8.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Create criteria without active transaction in Hibernate","body":"<p>I am using Spring and Hibernate, and am ideally looking at spring to manage my transactions. However I am getting an error - 'Calling method 'createCriteria' is not valid without an active transaction (Current status: NOT_ACTIVE)' exception.</p>\n<p>This is how my hibernate.cfg.xml looks like</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- JDBC Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://abc.def:1111/db_name?useSSL=false&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;200&lt;/property&gt;\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;!-- Set the current session context --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n                \n\n        &lt;!-- dbcp connection pool configuration --&gt;\n        &lt;property name=&quot;hibernate.dbcp.initialSize&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxTotal&quot;&gt;100&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxIdle&quot;&gt;80&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.minIdle&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dbcp.maxWaitMillis&quot;&gt;-1&lt;/property&gt;\n        &lt;mapping class=&quot;com.mypackage.com.model.ABC&quot; /&gt;\n        .... //mapping classes\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>This is my HibernateUtils.java</p>\n<pre><code>public class HibernateUtils {\n    private static StandardServiceRegistry registry;\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            try {\n                // Create registry\n                registry = new StandardServiceRegistryBuilder().configure().build();\n\n                // Create MetadataSources\n                MetadataSources sources = new MetadataSources(registry);\n\n                // Create Metadata\n                Metadata metadata = sources.getMetadataBuilder().build();\n\n                // Create SessionFactory\n                sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                if (registry != null) {\n                    StandardServiceRegistryBuilder.destroy(registry);\n                }\n            }\n        }\n        return sessionFactory;\n    }\n\n    public static void shutdown() {\n        if (registry != null) {\n            StandardServiceRegistryBuilder.destroy(registry);\n        }\n    }\n}\n</code></pre>\n<p>I have added this in application.properties</p>\n<pre><code>&lt;bean id=&quot;mySessionFactory&quot;\n    class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\n    &lt;property name=&quot;mappingResources&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;hibernate.cfg.xml&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;value&gt;\n            hibernate.dialect=org.hibernate.dialect.HSQLDialect\n        &lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot; /&gt;\n&lt;/bean&gt; \n\n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;  /&gt;\n</code></pre>\n<p>Finally my DB calls look like this:</p>\n<pre><code>Session session = HibernateUtils.getSessionFactory().getCurrentSession();\nCriteria criteria = session.createCriteria(ABC.class); //Error line\nABC obj = (ABC) criteria.add(Restrictions.eq(&quot;userId&quot;, userId)).uniqueResult();\nif(obj == null) return null;\nreturn obj;\n</code></pre>\n<p>My pom looks like</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.8.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","netbeans","awt","netbeans-platform"],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698832850,"creation_date":1698832205,"answer_id":77401688,"question_id":77395723,"body_markdown":"I don&#39;t know if there is a Netbeans API for this. But it&#39;s a Java app so you can use the JDK flag `sun.java2d.uiScale`. \r\n\r\nFor example with an Ant-based NB app, your app could update file `nbproject/project.properties` with `run.args.extra=-J-Dsun.java2d.uiScale=1.5`\r\n\r\nIt&#39;s not truly dynamic as you need to restart the app (after user confirmation) to apply the changes, but it might be acceptable for this kind of setting.\r\n\r\n\r\n","title":"How can I dynamically scale (enlarge) all GUI controls in my NetBeans Platform-based application to support accessibility?","body":"<p>I don't know if there is a Netbeans API for this. But it's a Java app so you can use the JDK flag <code>sun.java2d.uiScale</code>.</p>\n<p>For example with an Ant-based NB app, your app could update file <code>nbproject/project.properties</code> with <code>run.args.extra=-J-Dsun.java2d.uiScale=1.5</code></p>\n<p>It's not truly dynamic as you need to restart the app (after user confirmation) to apply the changes, but it might be acceptable for this kind of setting.</p>\n"}],"owner":{"account_id":18637040,"reputation":518,"user_id":13583700,"display_name":"Dawid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77401688,"answer_count":1,"score":1,"last_activity_date":1698832850,"creation_date":1698753838,"question_id":77395723,"body_markdown":"I&#39;m working on a **NetBeans Platform application** and want to ensure accessibility by **dynamically** scaling up the GUI components for users with visual impairments. Is there a way to achieve this programmatically for **all** GUI controls?\r\n\r\nPrimarily, I&#39;m looking for a way to iterate through all the UI controls in the NetBeans Platform and somehow (are there setters for this?!) dynamically set the scaling in both the x and y dimensions based on the user&#39;s previous adjustment through the GUI. I would greatly appreciate it if someone could show me how to perform such an iteration and the API for setting the scaling.\r\n\r\n","title":"How can I dynamically scale (enlarge) all GUI controls in my NetBeans Platform-based application to support accessibility?","body":"<p>I'm working on a <strong>NetBeans Platform application</strong> and want to ensure accessibility by <strong>dynamically</strong> scaling up the GUI components for users with visual impairments. Is there a way to achieve this programmatically for <strong>all</strong> GUI controls?</p>\n<p>Primarily, I'm looking for a way to iterate through all the UI controls in the NetBeans Platform and somehow (are there setters for this?!) dynamically set the scaling in both the x and y dimensions based on the user's previous adjustment through the GUI. I would greatly appreciate it if someone could show me how to perform such an iteration and the API for setting the scaling.</p>\n"},{"tags":["java","sql","spring","oracle","jpa"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1698437291,"post_id":77375602,"comment_id":136410406,"body_markdown":"Does this answer your question? [How to build where clause with optional search parameters](https://stackoverflow.com/questions/30454886/how-to-build-where-clause-with-optional-search-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30454886/how-to-build-where-clause-with-optional-search-parameters\">How to build where clause with optional search parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135377,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698429487,"creation_date":1698429487,"answer_id":77376212,"question_id":77375602,"body_markdown":"Usually, we do it as\r\n\r\n    AND (credittype IN (:credittypeVAR) or :credittypeVAR is null)\r\n\r\nYou&#39;d apply it to all parameters.","title":"If the null or empty list does not filter","body":"<p>Usually, we do it as</p>\n<pre><code>AND (credittype IN (:credittypeVAR) or :credittypeVAR is null)\n</code></pre>\n<p>You'd apply it to all parameters.</p>\n"},{"tags":[],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698832811,"creation_date":1698832811,"answer_id":77401747,"question_id":77375602,"body_markdown":"I don&#39;t know why this way doesn&#39;t work in Oracle, it should... But I solved it another way.\r\n\r\nI&#39;m using Oracle and that might be why it doesn&#39;t do it the simple way... I created logic for the lists and I&#39;m using it this way\r\n\r\n“AND ((credittype IN (:credittypeVAR)) OR (‘all’) IN (:credittypeVAR)) \\r\\n”\r\n\r\nIf the list is null or empty, I put the value ‘all’ (I created a method for this).","title":"If the null or empty list does not filter","body":"<p>I don't know why this way doesn't work in Oracle, it should... But I solved it another way.</p>\n<p>I'm using Oracle and that might be why it doesn't do it the simple way... I created logic for the lists and I'm using it this way</p>\n<p>“AND ((credittype IN (:credittypeVAR)) OR (‘all’) IN (:credittypeVAR)) \\r\\n”</p>\n<p>If the list is null or empty, I put the value ‘all’ (I created a method for this).</p>\n"}],"owner":{"account_id":8647787,"reputation":29,"user_id":6474497,"display_name":"BDehylz Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698832811,"creation_date":1698422726,"question_id":77375602,"body_markdown":"Does anyone know how I can do it if the List is null or empty and does not search the list (Bring all elements)?\r\n\r\n\r\n    @Query(&quot;SELECT new ReasonCodeCounter(credittype, reasontext, reasoncode, decisionresult, SUM(total))\\r\\n&quot;\r\n    \r\n    + &quot;FROM ReasonCodeCounter\\r\\n&quot;\r\n    \r\n    + &quot;WHERE createdate &gt;= :startDate AND createdate &lt;= :endDate\\r\\n&quot;\r\n    \r\n    + &quot;AND (credittype IN (:credittypeVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (decisionresult IN (:decisionresultVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (valoracaoproposta IN (:valoracaopropostaVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (produto IN (:produtoVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (regiaobalcao IN (:regiaobalcaoVAR))\\r\\n&quot;\r\n    \r\n    + &quot;AND (ctransorigid IN (:ctransorigidVAR))\\r\\n&quot;\r\n    \r\n    + &quot;GROUP BY credittype, reasontext, reasoncode, decisionresult&quot;)\r\n    \r\n    List&lt;ReasonCodeCounterParent&gt; getOccurrencesOfReasonCodesFilters(LocalDate startDate, LocalDate endDate,\r\n    \r\n    List&lt;String&gt; credittypeVAR, List&lt;String&gt; decisionresultVAR, List&lt;String&gt; valoracaopropostaVAR, List&lt;String&gt; produtoVAR,\r\n    \r\n    List&lt;String&gt; regiaobalcaoVAR, List&lt;String&gt; ctransorigidVAR);","title":"If the null or empty list does not filter","body":"<p>Does anyone know how I can do it if the List is null or empty and does not search the list (Bring all elements)?</p>\n<pre><code>@Query(&quot;SELECT new ReasonCodeCounter(credittype, reasontext, reasoncode, decisionresult, SUM(total))\\r\\n&quot;\n\n+ &quot;FROM ReasonCodeCounter\\r\\n&quot;\n\n+ &quot;WHERE createdate &gt;= :startDate AND createdate &lt;= :endDate\\r\\n&quot;\n\n+ &quot;AND (credittype IN (:credittypeVAR))\\r\\n&quot;\n\n+ &quot;AND (decisionresult IN (:decisionresultVAR))\\r\\n&quot;\n\n+ &quot;AND (valoracaoproposta IN (:valoracaopropostaVAR))\\r\\n&quot;\n\n+ &quot;AND (produto IN (:produtoVAR))\\r\\n&quot;\n\n+ &quot;AND (regiaobalcao IN (:regiaobalcaoVAR))\\r\\n&quot;\n\n+ &quot;AND (ctransorigid IN (:ctransorigidVAR))\\r\\n&quot;\n\n+ &quot;GROUP BY credittype, reasontext, reasoncode, decisionresult&quot;)\n\nList&lt;ReasonCodeCounterParent&gt; getOccurrencesOfReasonCodesFilters(LocalDate startDate, LocalDate endDate,\n\nList&lt;String&gt; credittypeVAR, List&lt;String&gt; decisionresultVAR, List&lt;String&gt; valoracaopropostaVAR, List&lt;String&gt; produtoVAR,\n\nList&lt;String&gt; regiaobalcaoVAR, List&lt;String&gt; ctransorigidVAR);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9769,"page":87,"page_size":100}
