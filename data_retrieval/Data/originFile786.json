{"items":[{"tags":["java","android","kotlin","utf-8"],"answers":[{"comments":[{"owner":{"account_id":24576455,"reputation":11,"user_id":18482213,"display_name":"Danteee313"},"score":0,"creation_date":1671777405,"post_id":74896716,"comment_id":132173826,"body_markdown":"This equals to my code. `bufferedWriter` using `UTF-8` as default value","body":"This equals to my code. <code>bufferedWriter</code> using <code>UTF-8</code> as default value"},{"owner":{"account_id":16089910,"reputation":1,"user_id":11613613,"display_name":"dxzmpk"},"score":0,"creation_date":1671778361,"post_id":74896716,"comment_id":132173976,"body_markdown":"@Danteee313 Did you use UTF-8 in the reader app? If so, you can try converting xmlString to bytes firstly, then write it to outputStream. Let me know if it works! `val byteArray = xmlString.toByteArray() contentResolver.openOutputStream(Uri.EMPTY, &quot;w&quot;)?.write(byteArray) `","body":"@Danteee313 Did you use UTF-8 in the reader app? If so, you can try converting xmlString to bytes firstly, then write it to outputStream. Let me know if it works! <code>val byteArray = xmlString.toByteArray() contentResolver.openOutputStream(Uri.EMPTY, &quot;w&quot;)?.write(byteArray) </code>"},{"owner":{"account_id":24576455,"reputation":11,"user_id":18482213,"display_name":"Danteee313"},"score":0,"creation_date":1671778685,"post_id":74896716,"comment_id":132174030,"body_markdown":"no it&#39;s not. i need to convert somehow symbols in utf-8 value","body":"no it&#39;s not. i need to convert somehow symbols in utf-8 value"},{"owner":{"account_id":16089910,"reputation":1,"user_id":11613613,"display_name":"dxzmpk"},"score":0,"creation_date":1671779541,"post_id":74896716,"comment_id":132174193,"body_markdown":"@Danteee313 According to https://www.codetable.net/decimal/1055, You have encoded `П` to UTF-8 correctly. So check if you have used the correct charset to open the file. I&#39;m not sure which &quot;reader app&quot; you use, but for xml, you can add `&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;no&quot; ?&gt;` to the head, this may help.","body":"@Danteee313 According to <a href=\"https://www.codetable.net/decimal/1055\" rel=\"nofollow noreferrer\">codetable.net/decimal/1055</a>, You have encoded <code>П</code> to UTF-8 correctly. So check if you have used the correct charset to open the file. I&#39;m not sure which &quot;reader app&quot; you use, but for xml, you can add <code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;no&quot; ?&gt;</code> to the head, this may help."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671786893,"post_id":74896716,"comment_id":132175701,"body_markdown":"If @Danteee313 was opening file in the &quot;reader app&quot; with the wrong encoding, shouldn&#39;t they be seeing something like `?` or `�` (i.e., a replacement character)? The actual output they&#39;re seeing (`&amp;#1055;`) looks more like `П` is being _escaped_ for some reason, not simply interpreted wrong by the &quot;reader app&quot;. In other words, I think `&amp;#1055;` is what&#39;s literally being written to the file.","body":"If @Danteee313 was opening file in the &quot;reader app&quot; with the wrong encoding, shouldn&#39;t they be seeing something like <code>?</code> or <code>�</code> (i.e., a replacement character)? The actual output they&#39;re seeing (<code>&amp;#1055;</code>) looks more like <code>П</code> is being <i>escaped</i> for some reason, not simply interpreted wrong by the &quot;reader app&quot;. In other words, I think <code>&amp;#1055;</code> is what&#39;s literally being written to the file."}],"tags":[],"owner":{"account_id":16089910,"reputation":1,"user_id":11613613,"display_name":"dxzmpk"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671776774,"creation_date":1671776459,"answer_id":74896716,"question_id":74896594,"body_markdown":"You can find the official kotlin doc here https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/buffered-writer.html.\r\n```kotlin\r\ncontext.contentResolver.openOutputStream(source, &quot;w&quot;)?.bufferedWriter(\r\n    charset: Charset = Charsets.UTF_8)?.use { stream -&gt;\r\n    val xmlString = Xml.newSerializer().document {\r\n        // some xml things\r\n    }\r\n    stream.write(xmlString)\r\n}\r\n```\r\nAlso, you need to open this file in reader app with the same encoding you specified. ","title":"How to save symbol as readable in XML while writing it to a file?","body":"<p>You can find the official kotlin doc here <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/buffered-writer.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/buffered-writer.html</a>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>context.contentResolver.openOutputStream(source, &quot;w&quot;)?.bufferedWriter(\n    charset: Charset = Charsets.UTF_8)?.use { stream -&gt;\n    val xmlString = Xml.newSerializer().document {\n        // some xml things\n    }\n    stream.write(xmlString)\n}\n</code></pre>\n<p>Also, you need to open this file in reader app with the same encoding you specified.</p>\n"}],"owner":{"account_id":24576455,"reputation":11,"user_id":18482213,"display_name":"Danteee313"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671776774,"creation_date":1671775179,"question_id":74896594,"body_markdown":"I&#39;m saving XML file in my Android app. While i&#39;m writing it i&#39;m using this method:\r\n\r\n\r\n```\r\ncontext.contentResolver.openOutputStream(source, &quot;w&quot;)?.bufferedWriter()?.use { stream -&gt;\r\n    val xmlString = Xml.newSerializer().document {\r\n        // some xml things\r\n    }\r\n    stream.write(xmlString)\r\n}\r\n```\r\n\r\nand it&#39;s working file.\r\n\r\n\r\n\r\nBut when i&#39;m saving cyryllic symbols and trying to open this file in reader app i see decimal HTML code. For example: `&amp;#1055;` instead of `П`. I got advice that i need to save cyrillic symbols straight using it&#39;s UTF-8 value. Can you help me with that? ","title":"How to save symbol as readable in XML while writing it to a file?","body":"<p>I'm saving XML file in my Android app. While i'm writing it i'm using this method:</p>\n<pre><code>context.contentResolver.openOutputStream(source, &quot;w&quot;)?.bufferedWriter()?.use { stream -&gt;\n    val xmlString = Xml.newSerializer().document {\n        // some xml things\n    }\n    stream.write(xmlString)\n}\n</code></pre>\n<p>and it's working file.</p>\n<p>But when i'm saving cyryllic symbols and trying to open this file in reader app i see decimal HTML code. For example: <code>&amp;#1055;</code> instead of <code>П</code>. I got advice that i need to save cyrillic symbols straight using it's UTF-8 value. Can you help me with that?</p>\n"},{"tags":["java","api","rest-assured","web-api-testing"],"owner":{"account_id":27329543,"reputation":1,"user_id":20841908,"display_name":"Rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671776375,"creation_date":1671732838,"question_id":74892410,"body_markdown":"I am trying to send a PDF file along with the XML payload for a soap request using Rest assured.. Without PDF file, request works fine but it gives error if I try to add pdf file along with the soap request\r\n\r\n**I have been trying this but it gives server error 500:**\r\n```\r\nFileInputStream fis = new FileInputStream (&quot;x.xml&quot;);\r\n\r\nFile file = new File(&quot;y.pdf&quot;);\r\nRestAssured.baseURI = &quot;wsdl&quot;;\r\n\r\nResponse response = given().multipart(&quot;file&quot;, file, &quot;application/pdf&quot;)\r\n    .relaxedHttpsValidation()\r\n    .header(&quot;content-type&quot;, &quot;multipart/xml&quot;).and()\r\n    .body(IOUtils.toString(fis, &quot;UTF-8&quot;)).when()\r\n    .post(&quot;resource name&quot;).then().extract().response();\r\n```","title":"How to send pdf file along with XML body using Rest assured?","body":"<p>I am trying to send a PDF file along with the XML payload for a soap request using Rest assured.. Without PDF file, request works fine but it gives error if I try to add pdf file along with the soap request</p>\n<p><strong>I have been trying this but it gives server error 500:</strong></p>\n<pre><code>FileInputStream fis = new FileInputStream (&quot;x.xml&quot;);\n\nFile file = new File(&quot;y.pdf&quot;);\nRestAssured.baseURI = &quot;wsdl&quot;;\n\nResponse response = given().multipart(&quot;file&quot;, file, &quot;application/pdf&quot;)\n    .relaxedHttpsValidation()\n    .header(&quot;content-type&quot;, &quot;multipart/xml&quot;).and()\n    .body(IOUtils.toString(fis, &quot;UTF-8&quot;)).when()\n    .post(&quot;resource name&quot;).then().extract().response();\n</code></pre>\n"},{"tags":["java","excel","csv","special-characters"],"answers":[{"comments":[{"owner":{"account_id":6434223,"reputation":113,"user_id":4986300,"display_name":"Jacques Mathieu"},"score":2,"creation_date":1527176807,"post_id":12473481,"comment_id":88039245,"body_markdown":"This is a problem I have run into before and I always forget about it. Excel should discontinue this behavior, as it simply creates confusion and is not a helpful rule to have in the first place. That or csv&#39;s should have mandatory no whitespace in between commas.","body":"This is a problem I have run into before and I always forget about it. Excel should discontinue this behavior, as it simply creates confusion and is not a helpful rule to have in the first place. That or csv&#39;s should have mandatory no whitespace in between commas."}],"tags":[],"owner":{"account_id":46201,"reputation":6570,"user_id":136416,"accept_rate":79,"display_name":"centralscru"},"comment_count":1,"down_vote_count":0,"up_vote_count":240,"is_accepted":true,"score":240,"last_activity_date":1671776330,"creation_date":1347958236,"answer_id":12473481,"question_id":12473480,"body_markdown":"Excel will only respect the escaping of commas and speech marks if the column value is NOT preceded by a space. So generating the file without spaces like this...\r\n\r\n\r\n    Reference,Title,Description\r\n    1,&quot;My little title&quot;,&quot;My description, which may contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\r\n    2,&quot;My other little title&quot;,&quot;My other description, which may also contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\r\n\r\nfixed the problem.","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>Excel will only respect the escaping of commas and speech marks if the column value is NOT preceded by a space. So generating the file without spaces like this...</p>\n<pre><code>Reference,Title,Description\n1,&quot;My little title&quot;,&quot;My description, which may contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\n2,&quot;My other little title&quot;,&quot;My other description, which may also contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\n</code></pre>\n<p>fixed the problem.</p>\n"},{"comments":[{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":5,"creation_date":1415999873,"post_id":21749399,"comment_id":42422177,"body_markdown":"Does it hurt anything to quote-wrap something that doesn&#39;t have commas, double-quotes or newlines?","body":"Does it hurt anything to quote-wrap something that doesn&#39;t have commas, double-quotes or newlines?"},{"owner":{"account_id":1901662,"reputation":1900,"user_id":1717405,"display_name":"AlphaBetaGamma"},"score":2,"creation_date":1421130781,"post_id":21749399,"comment_id":44230890,"body_markdown":"No ErikReppen  I don&#39;t think that would hurt normally. I belongs to a java background where its recommended not to create new strings by replacing text in old one&#39;s as they have their own share inside heap memory.\n\nIf you want, you can unconditionally replace all values and tell us if it causes any issue although it shouldn&#39;t.","body":"No ErikReppen  I don&#39;t think that would hurt normally. I belongs to a java background where its recommended not to create new strings by replacing text in old one&#39;s as they have their own share inside heap memory.  If you want, you can unconditionally replace all values and tell us if it causes any issue although it shouldn&#39;t."},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":4,"creation_date":1442584783,"post_id":21749399,"comment_id":53154366,"body_markdown":"A field that begins or ends with a space should be quoted.","body":"A field that begins or ends with a space should be quoted."}],"tags":[],"owner":{"account_id":1901662,"reputation":1900,"user_id":1717405,"display_name":"AlphaBetaGamma"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1410552385,"creation_date":1392282106,"answer_id":21749399,"question_id":12473480,"body_markdown":"Below are the rules if you believe it&#39;s random. A utility function can be created on the basis of these rules.\r\n\r\n  1. If the value contains a comma, newline or double quote, then the String value should be returned enclosed in double quotes.\r\n\r\n  2. Any double quote characters in the value should be escaped with another double quote.\r\n\r\n  3. If the value does not contain a comma, newline or double quote, then the\r\nString value should be returned unchanged.","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>Below are the rules if you believe it's random. A utility function can be created on the basis of these rules.</p>\n\n<ol>\n<li><p>If the value contains a comma, newline or double quote, then the String value should be returned enclosed in double quotes.</p></li>\n<li><p>Any double quote characters in the value should be escaped with another double quote.</p></li>\n<li><p>If the value does not contain a comma, newline or double quote, then the\nString value should be returned unchanged.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1382232,"reputation":1080,"user_id":1314986,"display_name":"aaguilera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432650599,"creation_date":1432649836,"answer_id":30461179,"question_id":12473480,"body_markdown":"According to Yashu&#39;s instructions, I wrote the following function (it&#39;s PL/SQL code, but it should be easily adaptable to any other language).\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    FUNCTION field(str IN VARCHAR2) RETURN VARCHAR2 IS\r\n        C_NEWLINE CONSTANT CHAR(1) := &#39;\r\n    &#39;; -- newline is intentional\r\n    \r\n        v_aux VARCHAR2(32000);\r\n        v_has_double_quotes BOOLEAN;\r\n        v_has_comma BOOLEAN;\r\n        v_has_newline BOOLEAN;\r\n    BEGIN\r\n        v_has_double_quotes := instr(str, &#39;&quot;&#39;) &gt; 0;\r\n        v_has_comma := instr(str,&#39;,&#39;) &gt; 0;\r\n        v_has_newline := instr(str, C_NEWLINE) &gt; 0;\r\n        \r\n        IF v_has_double_quotes OR v_has_comma OR v_has_newline THEN\r\n            IF v_has_double_quotes THEN\r\n                v_aux := replace(str,&#39;&quot;&#39;,&#39;&quot;&quot;&#39;);\r\n            ELSE\r\n                v_aux := str;\r\n            END IF;\r\n            return &#39;&quot;&#39;||v_aux||&#39;&quot;&#39;;\r\n        ELSE\r\n            return str;\r\n        END IF;\r\n    END;\r\n","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>According to Yashu's instructions, I wrote the following function (it's PL/SQL code, but it should be easily adaptable to any other language).</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>FUNCTION field(str IN VARCHAR2) RETURN VARCHAR2 IS\n    C_NEWLINE CONSTANT CHAR(1) := '\n'; -- newline is intentional\n\n    v_aux VARCHAR2(32000);\n    v_has_double_quotes BOOLEAN;\n    v_has_comma BOOLEAN;\n    v_has_newline BOOLEAN;\nBEGIN\n    v_has_double_quotes := instr(str, '\"') &gt; 0;\n    v_has_comma := instr(str,',') &gt; 0;\n    v_has_newline := instr(str, C_NEWLINE) &gt; 0;\n\n    IF v_has_double_quotes OR v_has_comma OR v_has_newline THEN\n        IF v_has_double_quotes THEN\n            v_aux := replace(str,'\"','\"\"');\n        ELSE\n            v_aux := str;\n        END IF;\n        return '\"'||v_aux||'\"';\n    ELSE\n        return str;\n    END IF;\nEND;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2150587,"reputation":5268,"user_id":1907083,"accept_rate":79,"display_name":"Reuben Tanner"},"score":2,"creation_date":1495465332,"post_id":33035066,"comment_id":75251735,"body_markdown":"You should give a sample of what worked for you so the OP could copy and paste it if needed.","body":"You should give a sample of what worked for you so the OP could copy and paste it if needed."}],"tags":[],"owner":{"account_id":7092136,"reputation":11,"user_id":5426999,"display_name":"Ramkumar Navaneethakrishnan"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1444384081,"creation_date":1444384081,"answer_id":33035066,"question_id":12473480,"body_markdown":"Even after double quotes, I had this problem for a few days.\r\n\r\nReplaced Pipe Delimiter with Comma, then things worked fine.","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>Even after double quotes, I had this problem for a few days.</p>\n\n<p>Replaced Pipe Delimiter with Comma, then things worked fine.</p>\n"},{"tags":[],"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528798749,"creation_date":1528798749,"answer_id":50814773,"question_id":12473480,"body_markdown":"Single quotes work fine too, even without escaping the double quotes, at least in Excel 2016:\r\n\r\n    &#39;text with spaces, and a comma&#39;,&#39;more text with spaces&#39;,&#39;spaces and &quot;quoted text&quot; and more spaces&#39;,&#39;nospaces&#39;,&#39;NOSPACES1234&#39;\r\n\r\nExcel will put that in 5 columns (if you choose the single quote as &quot;Text qualifier&quot; in the &quot;Text to columns&quot; wizard)","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>Single quotes work fine too, even without escaping the double quotes, at least in Excel 2016:</p>\n\n<pre><code>'text with spaces, and a comma','more text with spaces','spaces and \"quoted text\" and more spaces','nospaces','NOSPACES1234'\n</code></pre>\n\n<p>Excel will put that in 5 columns (if you choose the single quote as \"Text qualifier\" in the \"Text to columns\" wizard)</p>\n"}],"owner":{"account_id":46201,"reputation":6570,"user_id":136416,"accept_rate":79,"display_name":"centralscru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125418,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":12473481,"answer_count":5,"score":123,"last_activity_date":1671776330,"creation_date":1347958236,"question_id":12473480,"body_markdown":"I&#39;m generating a CSV file (delimited by commas rather than tabs). My users will most likely open the CSV file in Excel by double clicking it. My data may contain commas and speech marks, so I&#39;m escaping those as follows.\r\n\r\n    Reference, Title, Description\r\n    1, &quot;My little title&quot;, &quot;My description, which may contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\r\n    2, &quot;My other little title&quot;, &quot;My other description, which may also contain &quot;&quot;speech marks&quot;&quot; and commas.&quot;\r\n\r\nAs far as I know that&#39;s always been the way to do it. Here&#39;s my boggle: when I open this file in Excel 2010 my escaping is not respected. Speech marks appear on the sheet, and the comma causes new columns.\r\n\r\n","title":"How should I escape commas and speech marks in CSV files so they work in Excel?","body":"<p>I'm generating a CSV file (delimited by commas rather than tabs). My users will most likely open the CSV file in Excel by double clicking it. My data may contain commas and speech marks, so I'm escaping those as follows.</p>\n\n<pre><code>Reference, Title, Description\n1, \"My little title\", \"My description, which may contain \"\"speech marks\"\" and commas.\"\n2, \"My other little title\", \"My other description, which may also contain \"\"speech marks\"\" and commas.\"\n</code></pre>\n\n<p>As far as I know that's always been the way to do it. Here's my boggle: when I open this file in Excel 2010 my escaping is not respected. Speech marks appear on the sheet, and the comma causes new columns.</p>\n"},{"tags":["java","android","maven-plugin"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":2,"creation_date":1457968020,"post_id":35990995,"comment_id":59634692,"body_markdown":"Looks like you might be using java 8 compiled libraries with local jdk 7.","body":"Looks like you might be using java 8 compiled libraries with local jdk 7."},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1457968088,"post_id":35990995,"comment_id":59634747,"body_markdown":"how can I fix that? @Taylor","body":"how can I fix that? @Taylor"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":4,"creation_date":1457968145,"post_id":35990995,"comment_id":59634790,"body_markdown":"switch to jdk 8, or use an older version of the library containing `com/android/dx/command/Main`","body":"switch to jdk 8, or use an older version of the library containing <code>com&#47;android&#47;dx&#47;command&#47;Main</code>"},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1457968224,"post_id":35990995,"comment_id":59634862,"body_markdown":"I&#39;m not allowed to switch to jdk 8, how can downgrade the version of the library containing com/android/dx/command/Main? @Taylor","body":"I&#39;m not allowed to switch to jdk 8, how can downgrade the version of the library containing com/android/dx/command/Main? @Taylor"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1457968341,"post_id":35990995,"comment_id":59634959,"body_markdown":"What are you using for build and dependency management?  Maven?","body":"What are you using for build and dependency management?  Maven?"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1457968725,"post_id":35990995,"comment_id":59635247,"body_markdown":"mvn --version shows same jdk?  If so, figure out which library that class is in and dial back the version to a 1.7 compliant version.","body":"mvn --version shows same jdk?  If so, figure out which library that class is in and dial back the version to a 1.7 compliant version."},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1457968840,"post_id":35990995,"comment_id":59635342,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/106256/discussion-between-rafael-reyes-and-taylor).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/106256/discussion-between-rafael-reyes-and-taylor\">continue this discussion in chat</a>."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1457968887,"post_id":35990995,"comment_id":59635373,"body_markdown":"Cannot use chat from where I am.","body":"Cannot use chat from where I am."},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1457968988,"post_id":35990995,"comment_id":59635443,"body_markdown":"mvn --version shows the same jdk, but I don&#39;t get what do you mean with &quot;If so, figure out which library that class is in and dial back the version to a 1.7 compliant version.&quot;  @Taylor","body":"mvn --version shows the same jdk, but I don&#39;t get what do you mean with &quot;If so, figure out which library that class is in and dial back the version to a 1.7 compliant version.&quot;  @Taylor"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1458052174,"post_id":35990995,"comment_id":59679601,"body_markdown":"maven is used for dependency management, somewhere in your pom you&#39;re pulling in a 1.8 only library, you need to figure out which, and pick an earlier version that supports 1.7","body":"maven is used for dependency management, somewhere in your pom you&#39;re pulling in a 1.8 only library, you need to figure out which, and pick an earlier version that supports 1.7"},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1458066693,"post_id":35990995,"comment_id":59690107,"body_markdown":"can we chat? @Taylor","body":"can we chat? @Taylor"},{"owner":{"account_id":2775886,"reputation":8871,"user_id":2401535,"accept_rate":47,"display_name":"Marian Paździoch"},"score":0,"creation_date":1460449877,"post_id":35990995,"comment_id":60734716,"body_markdown":"Possible duplicate of [problems after installing java 8](http://stackoverflow.com/questions/35910550/problems-after-installing-java-8)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/35910550/problems-after-installing-java-8\">problems after installing java 8</a>"},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1460475022,"post_id":35990995,"comment_id":60754394,"body_markdown":"I&#39;m using Java 7 @MarianPaździoch","body":"I&#39;m using Java 7 @MarianPaździoch"},{"owner":{"account_id":3496758,"reputation":1938,"user_id":2924714,"accept_rate":36,"display_name":"user2924714"},"score":0,"creation_date":1467285243,"post_id":35990995,"comment_id":63674575,"body_markdown":"This answer helped me: http://stackoverflow.com/a/37871104/2924714","body":"This answer helped me: <a href=\"http://stackoverflow.com/a/37871104/2924714\">stackoverflow.com/a/37871104/2924714</a>"},{"owner":{"account_id":387472,"reputation":1459,"user_id":745834,"accept_rate":100,"display_name":"marsbear"},"score":0,"creation_date":1469618016,"post_id":35990995,"comment_id":64608907,"body_markdown":"The new Android build tools require jdk 8. So - technically - if somebody does not allow you to upgrade to java 8 he does not allow you to do your work properly :) Go tell them exactly that.\n\nBesides you are not updating a runtime dependency to java 8 but a build time dependency. So it shouldn&#39;t be too much of an issue.","body":"The new Android build tools require jdk 8. So - technically - if somebody does not allow you to upgrade to java 8 he does not allow you to do your work properly :) Go tell them exactly that.  Besides you are not updating a runtime dependency to java 8 but a build time dependency. So it shouldn&#39;t be too much of an issue."},{"owner":{"account_id":6563291,"reputation":205,"user_id":5073734,"display_name":"Habel Philip"},"score":0,"creation_date":1471112800,"post_id":35990995,"comment_id":65227374,"body_markdown":"you can find detailed answer on http://stackoverflow.com/a/37827161/5073734","body":"you can find detailed answer on <a href=\"http://stackoverflow.com/a/37827161/5073734\">stackoverflow.com/a/37827161/5073734</a>"}],"answers":[{"comments":[{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":1,"creation_date":1457968548,"post_id":35991291,"comment_id":59635103,"body_markdown":"I&#39;m using Maven and IntelliJ.","body":"I&#39;m using Maven and IntelliJ."},{"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"score":0,"creation_date":1457976466,"post_id":35991291,"comment_id":59640805,"body_markdown":"In this case you could change source and target  to 1.7 inside configuration on maven compiler plugin","body":"In this case you could change source and target  to 1.7 inside configuration on maven compiler plugin"}],"tags":[],"owner":{"account_id":3602914,"reputation":690,"user_id":3005856,"display_name":"cristianorbs"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466730073,"creation_date":1457968470,"answer_id":35991291,"question_id":35990995,"body_markdown":"From [this][1] question.\r\n\r\nYou can try to change your compiler level back to 1.7 in the IDE you&#39;re using.\r\n\r\n - If you&#39;re on Eclipse, go to Windows ---&gt; Prefences then select Java and expand it then select Compiler and change the compliance level to 1.7.\r\n - If you&#39;re on Android Studio, you can add this to your build.gradle \r\n\r\n\r\n        android {\r\n            compileSdkVersion 19\r\n            buildToolsVersion &quot;19.0.0&quot;\r\n\r\n            defaultConfig {\r\n                minSdkVersion 7\r\n                targetSdkVersion 19\r\n            }\r\n\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_1_7\r\n                targetCompatibility JavaVersion.VERSION_1_7\r\n            }\r\n        }\r\n     \r\nIf this doesn&#39;t help, try checking other&#39;s answer in the link mentioned above and let us know what helped you.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0","title":"Unsupported major.minor version 52.0 in my app","body":"<p>From <a href=\"https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\">this</a> question.</p>\n\n<p>You can try to change your compiler level back to 1.7 in the IDE you're using.</p>\n\n<ul>\n<li>If you're on Eclipse, go to Windows ---> Prefences then select Java and expand it then select Compiler and change the compliance level to 1.7.</li>\n<li><p>If you're on Android Studio, you can add this to your build.gradle </p>\n\n<pre><code>android {\n    compileSdkVersion 19\n    buildToolsVersion \"19.0.0\"\n\n    defaultConfig {\n        minSdkVersion 7\n        targetSdkVersion 19\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>If this doesn't help, try checking other's answer in the link mentioned above and let us know what helped you.</p>\n"},{"comments":[{"owner":{"account_id":8051308,"reputation":2428,"user_id":6069742,"display_name":"Rudy Kurniawan"},"score":0,"creation_date":1460438181,"post_id":36027375,"comment_id":60728286,"body_markdown":"@RafaelReyes I don&#39;t know anything about building android project with maven. But since android use build tools anyway, cant you find what version your build tool version used in maven configuration?","body":"@RafaelReyes I don&#39;t know anything about building android project with maven. But since android use build tools anyway, cant you find what version your build tool version used in maven configuration?"},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":1,"creation_date":1460474968,"post_id":36027375,"comment_id":60754349,"body_markdown":"@RudyKurniawanHi, I guess is &lt;version&gt;4.1.1.4&lt;/version&gt;","body":"@RudyKurniawanHi, I guess is &lt;version&gt;4.1.1.4&lt;/version&gt;"},{"owner":{"account_id":8051308,"reputation":2428,"user_id":6069742,"display_name":"Rudy Kurniawan"},"score":0,"creation_date":1460544624,"post_id":36027375,"comment_id":60788927,"body_markdown":"@RafaelReyes maybe you should do/check what Taylor says in his comment. Is &quot;mvn -v&quot; returning Java version: 1.7..? if yes, can you check your library used on your project, is there any library that build using java 8 and downgrade to version that compatible with java 7","body":"@RafaelReyes maybe you should do/check what Taylor says in his comment. Is &quot;mvn -v&quot; returning Java version: 1.7..? if yes, can you check your library used on your project, is there any library that build using java 8 and downgrade to version that compatible with java 7"},{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1460550912,"post_id":36027375,"comment_id":60793968,"body_markdown":"mvn -v returns 1.7.0_80, vendor: Oracle Corporation, I don&#39;t know how to do &quot;can you check your library used on your project, is there any library that build using java 8&quot; any help? @RudyKurniawan","body":"mvn -v returns 1.7.0_80, vendor: Oracle Corporation, I don&#39;t know how to do &quot;can you check your library used on your project, is there any library that build using java 8&quot; any help? @RudyKurniawan"},{"owner":{"account_id":345605,"reputation":820,"user_id":678637,"accept_rate":78,"display_name":"XurajB"},"score":2,"creation_date":1461632020,"post_id":36027375,"comment_id":61275888,"body_markdown":"The newer version: buildToolsVersion &quot;23.0.3&quot;","body":"The newer version: buildToolsVersion &quot;23.0.3&quot;"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":1,"creation_date":1471961564,"post_id":36027375,"comment_id":65553916,"body_markdown":"it helped thanks for the answer, but what should we do if we need build 24??","body":"it helped thanks for the answer, but what should we do if we need build 24??"},{"owner":{"account_id":8051308,"reputation":2428,"user_id":6069742,"display_name":"Rudy Kurniawan"},"score":2,"creation_date":1472560389,"post_id":36027375,"comment_id":65792335,"body_markdown":"for that, you should use java 8 to build your app","body":"for that, you should use java 8 to build your app"},{"owner":{"account_id":1574772,"reputation":263,"user_id":1461540,"accept_rate":79,"display_name":"Gekon"},"score":0,"creation_date":1473708828,"post_id":36027375,"comment_id":66236164,"body_markdown":"Had same problem with Xamarin and Visual Studio, downgrading to build tools 23.0.2 solved the problem.","body":"Had same problem with Xamarin and Visual Studio, downgrading to build tools 23.0.2 solved the problem."},{"owner":{"account_id":5076466,"reputation":517,"user_id":4073702,"display_name":"Ambar Jain"},"score":0,"creation_date":1475581217,"post_id":36027375,"comment_id":66990455,"body_markdown":"How to change this in Eclipse ?","body":"How to change this in Eclipse ?"},{"owner":{"account_id":8051308,"reputation":2428,"user_id":6069742,"display_name":"Rudy Kurniawan"},"score":0,"creation_date":1476265505,"post_id":36027375,"comment_id":67268682,"body_markdown":"@AmbarJain I personally doesn&#39;t use eclipse but you can try accepted answer in http://stackoverflow.com/questions/21779398/android-sdk-build-tools","body":"@AmbarJain I personally doesn&#39;t use eclipse but you can try accepted answer in <a href=\"http://stackoverflow.com/questions/21779398/android-sdk-build-tools\" title=\"android sdk build tools\">stackoverflow.com/questions/21779398/android-sdk-build-tools</a>"},{"owner":{"account_id":6818821,"reputation":3023,"user_id":5363473,"accept_rate":80,"display_name":"papakias"},"score":0,"creation_date":1478264303,"post_id":36027375,"comment_id":68094792,"body_markdown":"I had the same issue with IBM MobileFirst in eclipse. Downgrading the build tools solved it!!! Thank you so much!","body":"I had the same issue with IBM MobileFirst in eclipse. Downgrading the build tools solved it!!! Thank you so much!"},{"owner":{"account_id":4435783,"reputation":11469,"user_id":3611669,"accept_rate":78,"display_name":"GuidoG"},"score":0,"creation_date":1488973813,"post_id":36027375,"comment_id":72465710,"body_markdown":"@Gekon how can you do that, downgrading to build tools in Xamarin project in visual studio ?","body":"@Gekon how can you do that, downgrading to build tools in Xamarin project in visual studio ?"},{"owner":{"account_id":1574772,"reputation":263,"user_id":1461540,"accept_rate":79,"display_name":"Gekon"},"score":0,"creation_date":1489061145,"post_id":36027375,"comment_id":72511940,"body_markdown":"@GuidoG Find Android SDK folder, go to tools, run android.bat, find Tools  unselect higher version of build tools and select lower one.","body":"@GuidoG Find Android SDK folder, go to tools, run android.bat, find Tools  unselect higher version of build tools and select lower one."}],"tags":[],"owner":{"account_id":8051308,"reputation":2428,"user_id":6069742,"display_name":"Rudy Kurniawan"},"comment_count":13,"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1671776187,"creation_date":1458105715,"answer_id":36027375,"question_id":35990995,"body_markdown":"I face this problem too when making new project from android studio.\r\n\r\nI&#39;ve been able to resolve this by downgrading buildToolsVersion in app gradle  setting:\r\nchange {module-name}/build.gradle line\r\n\r\n&gt; buildToolsVersion &quot;24.0.0 rc1&quot;\r\n\r\nto \r\n\r\n&gt; buildToolsVersion &quot;23.0.3&quot;\r\n\r\n&lt;br/&gt;\r\n@Edit: &lt;br/&gt;\r\nIn Android Studio 2.1 Go to File-&gt; Project Structure-&gt;App -&gt; Build Tool Version. Change it to 23.0.3\r\n\r\nDo the method above, only when you are using java version 7 and for some reason do not want to upgrade to java 8 yet.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I face this problem too when making new project from android studio.</p>\n<p>I've been able to resolve this by downgrading buildToolsVersion in app gradle  setting:\nchange {module-name}/build.gradle line</p>\n<blockquote>\n<p>buildToolsVersion &quot;24.0.0 rc1&quot;</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>buildToolsVersion &quot;23.0.3&quot;</p>\n</blockquote>\n<br/>\n@Edit: <br/>\nIn Android Studio 2.1 Go to File-> Project Structure->App -> Build Tool Version. Change it to 23.0.3\n<p>Do the method above, only when you are using java version 7 and for some reason do not want to upgrade to java 8 yet.</p>\n"},{"tags":[],"owner":{"account_id":485621,"reputation":387,"user_id":902031,"display_name":"Mike Playle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459722934,"creation_date":1459722934,"answer_id":36392076,"question_id":35990995,"body_markdown":"I just encountered this problem.\r\n\r\nReverting from the &quot;Preview Channel&quot; versions of the SDK tools and build tools to the latest stable version fixed it.\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I just encountered this problem.</p>\n\n<p>Reverting from the \"Preview Channel\" versions of the SDK tools and build tools to the latest stable version fixed it.</p>\n"},{"comments":[{"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"score":0,"creation_date":1460475062,"post_id":36571239,"comment_id":60754429,"body_markdown":"I&#39;m on Intellij IDEA with Maven Build.","body":"I&#39;m on Intellij IDEA with Maven Build."}],"tags":[],"owner":{"account_id":8232727,"reputation":798,"user_id":6192940,"display_name":"coarist"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460458646,"creation_date":1460458646,"answer_id":36571239,"question_id":35990995,"body_markdown":"I am on Android Studio 2.0 and facing the same problem. \r\nThe solution provided by Rudy Kurniawan sorted out this issue. The affected file can be located by:\r\n\r\n*&quot;Project&quot; -&gt; &quot;Android&quot; -&gt; &quot;Gradle Scripts&quot; -&gt; &quot;build.gradle(Module:app)&quot;*\r\n\r\nThe  &quot;**Project**&quot; pane is default on the left. To find it, inspect the name of the side tabs, click it, then use the top pull down box to get to &quot;**Android**&quot;. Expand the tree in the pane to find the target file. Double-click it to edit. \r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I am on Android Studio 2.0 and facing the same problem. \nThe solution provided by Rudy Kurniawan sorted out this issue. The affected file can be located by:</p>\n\n<p><em>\"Project\" -> \"Android\" -> \"Gradle Scripts\" -> \"build.gradle(Module:app)\"</em></p>\n\n<p>The  \"<strong>Project</strong>\" pane is default on the left. To find it, inspect the name of the side tabs, click it, then use the top pull down box to get to \"<strong>Android</strong>\". Expand the tree in the pane to find the target file. Double-click it to edit. </p>\n"},{"comments":[{"owner":{"account_id":329380,"reputation":1023,"user_id":652855,"accept_rate":54,"display_name":"wmac"},"score":0,"creation_date":1460643755,"post_id":36620618,"comment_id":60847941,"body_markdown":"This solved my problem with AndroidStudio 2. I was receiving bunch of strange errors.","body":"This solved my problem with AndroidStudio 2. I was receiving bunch of strange errors."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1480610847,"post_id":36620618,"comment_id":69044224,"body_markdown":"With the newest **buildToolsVersion 25.0.1**, it requires Java 8.","body":"With the newest <b>buildToolsVersion 25.0.1</b>, it requires Java 8."}],"tags":[],"owner":{"account_id":153802,"reputation":8952,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1479475060,"creation_date":1460630326,"answer_id":36620618,"question_id":35990995,"body_markdown":"Initially I had downgraded `buildToolsVersion` from `24.0.0 rc3` to `23.0.3`, as specified in Rudy Kurniawan&#39;s answer. Then I have noticed that I have jdk 7 specified in my project settings. I have changed it to jdk 8 and now build tools `24.0.0 rc3` work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt&#39;s also important to have compile options set to `java7`:\r\n\r\n    android {\r\n        ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_7\r\n            targetCompatibility JavaVersion.VERSION_1_7\r\n        }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/iLjcE.png","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Initially I had downgraded <code>buildToolsVersion</code> from <code>24.0.0 rc3</code> to <code>23.0.3</code>, as specified in Rudy Kurniawan's answer. Then I have noticed that I have jdk 7 specified in my project settings. I have changed it to jdk 8 and now build tools <code>24.0.0 rc3</code> work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iLjcE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iLjcE.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's also important to have compile options set to <code>java7</code>:</p>\n\n<pre><code>android {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8467206,"reputation":41,"user_id":6351028,"display_name":"Gladys Sanchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463575934,"creation_date":1463575542,"answer_id":37300068,"question_id":35990995,"body_markdown":"I had the same problem and tried to change the version, sometimes is for the version of Android Studio in Project&gt; Gradle Scripts&gt; build.gradle(Module:app) you can change the version. For example:\r\n\r\n    android {\r\n        compileSdkVersion **23**\r\n        buildToolsVersion **&quot;23.0.3&quot;**\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.android.myapplication&quot;\r\n            minSdkVersion **19**\r\n            targetSdkVersion **23**\r\n            versionCode **1**\r\n            versionName **&quot;1.0&quot;**\r\n        }\r\n\r\n\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I had the same problem and tried to change the version, sometimes is for the version of Android Studio in Project> Gradle Scripts> build.gradle(Module:app) you can change the version. For example:</p>\n\n<pre><code>android {\n    compileSdkVersion **23**\n    buildToolsVersion **\"23.0.3\"**\n\n    defaultConfig {\n        applicationId \"com.example.android.myapplication\"\n        minSdkVersion **19**\n        targetSdkVersion **23**\n        versionCode **1**\n        versionName **\"1.0\"**\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8474155,"reputation":21,"user_id":6355892,"display_name":"haithem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463658211,"creation_date":1463658211,"answer_id":37322183,"question_id":35990995,"body_markdown":"\r\nThanks everyone for solution.\r\n\r\nI could solve my same problem using below solution.\r\n\r\nIn my project, I added jar which were created in Java8. And my project was referring to JRE 7. When i changed project JRE to 8. My problem solved.\r\n\r\nSteps: In eclipse, right click on project name in project explorer &gt; build path &gt; Libraries &gt; click on jre version &gt; click edit &gt; installed JRE &gt; add &gt; standerd VM &gt; select JRE home click-path (path should be localePath\\java\\jdk1.8.0_25\\jre) &gt; provide name &gt; save &gt; select same JRE for project &gt; finish &gt; ok Refresh/build project once &gt; try to run your java file. it should work.\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Thanks everyone for solution.</p>\n\n<p>I could solve my same problem using below solution.</p>\n\n<p>In my project, I added jar which were created in Java8. And my project was referring to JRE 7. When i changed project JRE to 8. My problem solved.</p>\n\n<p>Steps: In eclipse, right click on project name in project explorer > build path > Libraries > click on jre version > click edit > installed JRE > add > standerd VM > select JRE home click-path (path should be localePath\\java\\jdk1.8.0_25\\jre) > provide name > save > select same JRE for project > finish > ok Refresh/build project once > try to run your java file. it should work.</p>\n"},{"comments":[{"owner":{"account_id":1361961,"reputation":4005,"user_id":1299145,"accept_rate":41,"display_name":"Abdur Rahim"},"score":0,"creation_date":1477332514,"post_id":37827735,"comment_id":67713002,"body_markdown":"This worked for me fine. but before that I installed jdk 8 and changed the directory as described in another answer here,","body":"This worked for me fine. but before that I installed jdk 8 and changed the directory as described in another answer here,"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1480610910,"post_id":37827735,"comment_id":69044281,"body_markdown":"How is Xamarin relevant to OP&#39;s question?","body":"How is Xamarin relevant to OP&#39;s question?"},{"owner":{"account_id":1115893,"reputation":6132,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1528490101,"post_id":37827735,"comment_id":88543512,"body_markdown":"&quot;Or set the AndroidSdkBuildToolsVersion MSBuild property to an earlier version. For example, if you also have version 23.0.3 installed, you could add the following line within the top &lt;PropertyGroup&gt; element in the Android project .csproj file:\n&lt;AndroidSdkBuildToolsVersion&gt;23.0.3&lt;/AndroidSdkBuildToolsVersion&gt;&quot;","body":"&quot;Or set the AndroidSdkBuildToolsVersion MSBuild property to an earlier version. For example, if you also have version 23.0.3 installed, you could add the following line within the top &lt;PropertyGroup&gt; element in the Android project .csproj file: &lt;AndroidSdkBuildToolsVersion&gt;23.0.3&lt;/AndroidSdkBuildToolsVer&zwnj;&#8203;sion&gt;&quot;"}],"tags":[],"owner":{"account_id":6563291,"reputation":205,"user_id":5073734,"display_name":"Habel Philip"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465972436,"creation_date":1465972436,"answer_id":37827735,"question_id":35990995,"body_markdown":"Sorry for the late reply.Hope it helps someone else\r\n\r\n\r\nThis problem is related with your SDK, not with your JDK.\r\nYou can check your version information from \r\n\r\n&gt; Help &gt; About &gt; Show Details\r\n\r\n You will get something like \r\n\r\n&gt; Xamarin.Android Version: 6.0.2.1 (Starter Edition) Android SDK:\r\n&gt; X:\\Android\\android-sdk\r\n&gt; \r\n&gt; Supported Android versions:\r\n&gt; \r\n&gt; 4.0.3 (API level 15)\r\n\r\n&gt; 4.4 (API level 19)\r\n\r\n&gt; 6.0 (API level 23) \r\n\r\n&gt; SDK Tools Version: 24.4.1 \r\n&gt; \r\n&gt; SDK Platform Tools Version: 23.0.1 \r\n&gt; \r\n&gt; SDK Build Tools Version: 24 rc2\r\n&gt; \r\n&gt; Java SDK: X:\\Program Files (x86)\\Java\\jdk1.7.0_71 \r\n\r\n&gt; java version &quot;1.7.0_71&quot; \r\n\r\n&gt; Java(TM) SE Runtime Environment (build 1.7.0_71-b14)\r\n\r\n&gt; Java HotSpot(TM) Client VM (build 24.71-b01, mixed mode, sharing)\r\n\r\nIf you are using preview tools for building ,then you will get similar errors all over.\r\n\r\n**What to do now?**\r\n\r\ngoto\r\n&gt; Tools -&gt; SDK manager\r\n\r\n 1. Select all items in preview channels including `Android SDK build tools` with rev `24rc2` or `24rc4`(latest)\r\n\r\n 2. Click on `Delete &#39;n&#39; packages`\r\n\r\n\r\n**How to turn off preview channel**\r\n\r\n 1. In SDK manager, select \r\n&gt; Tools &gt; options\r\n\r\n 2. Uncheck `Enable preview tools`\r\n\r\n\r\n**And what**\r\n\r\nBack to your code  *Clean all* and *rebuild*\r\n(In rare cases, you have to select build-tools from project settings page)","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Sorry for the late reply.Hope it helps someone else</p>\n\n<p>This problem is related with your SDK, not with your JDK.\nYou can check your version information from </p>\n\n<blockquote>\n  <p>Help > About > Show Details</p>\n</blockquote>\n\n<p>You will get something like </p>\n\n<blockquote>\n  <p>Xamarin.Android Version: 6.0.2.1 (Starter Edition) Android SDK:\n  X:\\Android\\android-sdk</p>\n  \n  <p>Supported Android versions:</p>\n  \n  <p>4.0.3 (API level 15)</p>\n  \n  <p>4.4 (API level 19)</p>\n  \n  <p>6.0 (API level 23) </p>\n  \n  <p>SDK Tools Version: 24.4.1 </p>\n  \n  <p>SDK Platform Tools Version: 23.0.1 </p>\n  \n  <p>SDK Build Tools Version: 24 rc2</p>\n  \n  <p>Java SDK: X:\\Program Files (x86)\\Java\\jdk1.7.0_71 </p>\n  \n  <p>java version \"1.7.0_71\" </p>\n  \n  <p>Java(TM) SE Runtime Environment (build 1.7.0_71-b14)</p>\n  \n  <p>Java HotSpot(TM) Client VM (build 24.71-b01, mixed mode, sharing)</p>\n</blockquote>\n\n<p>If you are using preview tools for building ,then you will get similar errors all over.</p>\n\n<p><strong>What to do now?</strong></p>\n\n<p>goto</p>\n\n<blockquote>\n  <p>Tools -> SDK manager</p>\n</blockquote>\n\n<ol>\n<li><p>Select all items in preview channels including <code>Android SDK build tools</code> with rev <code>24rc2</code> or <code>24rc4</code>(latest)</p></li>\n<li><p>Click on <code>Delete 'n' packages</code></p></li>\n</ol>\n\n<p><strong>How to turn off preview channel</strong></p>\n\n<ol>\n<li><p>In SDK manager, select </p>\n\n<blockquote>\n  <p>Tools > options</p>\n</blockquote></li>\n<li><p>Uncheck <code>Enable preview tools</code></p></li>\n</ol>\n\n<p><strong>And what</strong></p>\n\n<p>Back to your code  <em>Clean all</em> and <em>rebuild</em>\n(In rare cases, you have to select build-tools from project settings page)</p>\n"},{"comments":[{"owner":{"account_id":534437,"reputation":23878,"user_id":904422,"accept_rate":80,"display_name":"Mitch"},"score":0,"creation_date":1467365535,"post_id":37890977,"comment_id":63713595,"body_markdown":"This is the first option that I could actually use, because I couldn&#39;t find the settings mentioned in other answers in Android Studio&#39;s UI. I deleted it and then created a new project and it worked.","body":"This is the first option that I could actually use, because I couldn&#39;t find the settings mentioned in other answers in Android Studio&#39;s UI. I deleted it and then created a new project and it worked."}],"tags":[],"owner":{"account_id":4431795,"reputation":386,"user_id":3608795,"display_name":"sotrh"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1466200846,"creation_date":1466200846,"answer_id":37890977,"question_id":35990995,"body_markdown":"I had the same problem with my IntelliJ Maven build. My &quot;solution&quot; was to go into the build tools and remove the build tools 24.0.0 folder. I found it in the `{android-sdk-location}/build-tools/` directory. This is not a long term fix, but this should at least get your project building again. Upgrading to Java 8 as many have suggested will be better long term.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I had the same problem with my IntelliJ Maven build. My \"solution\" was to go into the build tools and remove the build tools 24.0.0 folder. I found it in the <code>{android-sdk-location}/build-tools/</code> directory. This is not a long term fix, but this should at least get your project building again. Upgrading to Java 8 as many have suggested will be better long term.</p>\n"},{"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":10,"creation_date":1466415063,"post_id":37918965,"comment_id":63288756,"body_markdown":"Why do you recommend this downgrade? What does it do?","body":"Why do you recommend this downgrade? What does it do?"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1479927662,"post_id":37918965,"comment_id":68768461,"body_markdown":"Why is **23.0.3** preferable?","body":"Why is <b>23.0.3</b> preferable?"}],"tags":[],"owner":{"account_id":8478174,"reputation":710,"user_id":6358676,"display_name":"FBRNugroho"},"comment_count":2,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1466414953,"creation_date":1466414953,"answer_id":37918965,"question_id":35990995,"body_markdown":"**Gradle Scripts** &gt;&gt; **build.gradle (Module app)**\r\n\r\nChange **buildToolsVersion &quot;24.0.0&quot;** to **buildToolsVersion &quot;23.0.3&quot;**\r\n\r\n\r\nsource : experience","title":"Unsupported major.minor version 52.0 in my app","body":"<p><strong>Gradle Scripts</strong> >> <strong>build.gradle (Module app)</strong></p>\n\n<p>Change <strong>buildToolsVersion \"24.0.0\"</strong> to <strong>buildToolsVersion \"23.0.3\"</strong></p>\n\n<p>source : experience</p>\n"},{"tags":[],"owner":{"account_id":2741039,"reputation":516,"user_id":2362590,"accept_rate":75,"display_name":"Swathin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468161669,"creation_date":1468161669,"answer_id":38293066,"question_id":35990995,"body_markdown":"Your Android build tools are not properly installed. Try installing some other version of build tools and give that version in the gradle file.\r\nor you can go to this directory\r\n\r\n C:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\sdk\\build-tools \r\n\r\nand see which build tools is installed. Try changing the build tool version in the gradle file and compile the app to see if it is working.\r\n\r\ni had 22.0.1,23.0.02 and 24.0.0 versions of build tools and only the old 22.0.1 version worked.\r\n\r\nsource: i tried it myself and it worked for me.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Your Android build tools are not properly installed. Try installing some other version of build tools and give that version in the gradle file.\nor you can go to this directory</p>\n\n<p>C:\\Users\\\\AppData\\Local\\Android\\sdk\\build-tools </p>\n\n<p>and see which build tools is installed. Try changing the build tool version in the gradle file and compile the app to see if it is working.</p>\n\n<p>i had 22.0.1,23.0.02 and 24.0.0 versions of build tools and only the old 22.0.1 version worked.</p>\n\n<p>source: i tried it myself and it worked for me.</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1480612063,"post_id":38463487,"comment_id":69045049,"body_markdown":"This doesn&#39;t necessarily solve the issue for command-line builds with Gradle.","body":"This doesn&#39;t necessarily solve the issue for command-line builds with Gradle."}],"tags":[],"owner":{"account_id":8849866,"reputation":1,"user_id":6609515,"display_name":"Thambu Zk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468944185,"creation_date":1468944185,"answer_id":38463487,"question_id":35990995,"body_markdown":"I had two versions of java jdk installed. Once I pointed to right version of java jdk in File-&gt;Project Structure -&gt; SDK Location to the latest version which I had in JAVA_HOME environment variable, the issue went away.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I had two versions of java jdk installed. Once I pointed to right version of java jdk in File->Project Structure -> SDK Location to the latest version which I had in JAVA_HOME environment variable, the issue went away.</p>\n"},{"comments":[{"owner":{"account_id":1629217,"reputation":81,"user_id":1504122,"display_name":"Bob Cheng"},"score":0,"creation_date":1476352561,"post_id":38690225,"comment_id":67312371,"body_markdown":"I append &quot;Dosgi.requiredJavaVersion=1.7&quot; line to /Applications/eclipse/configuration/config.ini\n\nWorks perfectly on my macOS Sierra","body":"I append &quot;Dosgi.requiredJavaVersion=1.7&quot; line to /Applications/eclipse/configuration/config.ini  Works perfectly on my macOS Sierra"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1479927842,"post_id":38690225,"comment_id":68768555,"body_markdown":"What makes you think OP&#39;s question is associated with Eclipse?","body":"What makes you think OP&#39;s question is associated with Eclipse?"}],"tags":[],"owner":{"account_id":8927752,"reputation":51,"user_id":6661437,"display_name":"user6661437"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470019090,"creation_date":1470018572,"answer_id":38690225,"question_id":35990995,"body_markdown":"I also faced this problem when making a new project in eclipse.\r\n\r\n1. Open your eclipse installation directory \r\n2. Open the file eclipse.ini\r\n3. Modify \r\n\r\n        Dosgi.requiredJavaVersion=1.6 \r\n  to\r\n\r\n        Dosgi.requiredJavaVersion=1.7\r\n\r\nHope this helps\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I also faced this problem when making a new project in eclipse.</p>\n\n<ol>\n<li>Open your eclipse installation directory </li>\n<li>Open the file eclipse.ini</li>\n<li><p>Modify </p>\n\n<pre><code>Dosgi.requiredJavaVersion=1.6 \n</code></pre>\n\n<p>to</p>\n\n<pre><code>Dosgi.requiredJavaVersion=1.7\n</code></pre></li>\n</ol>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1470332780,"creation_date":1470332297,"answer_id":38773992,"question_id":35990995,"body_markdown":"The problem specified:\r\n\r\n&gt;  Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\r\n&gt; com/android/dx/command/Main : Unsupported major.minor version 52.\r\n\r\n**is caused when is declared inside the `build.gradle`, `buildToolsVersion 24` and we don&#180;t have Java 8 installed that is required for this version**. To solve this problem we have to change from `buildToolsVersion` from 24 to maximum 23:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nJava 8 must be required in the future for `Android Studio`, so we have to start using Java 8.\r\n\r\n  [1]: http://i.stack.imgur.com/3Na5N.png","title":"Unsupported major.minor version 52.0 in my app","body":"<p>The problem specified:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsupportedClassVersionError:\n  com/android/dx/command/Main : Unsupported major.minor version 52.</p>\n</blockquote>\n\n<p><strong>is caused when is declared inside the <code>build.gradle</code>, <code>buildToolsVersion 24</code> and we don´t have Java 8 installed that is required for this version</strong>. To solve this problem we have to change from <code>buildToolsVersion</code> from 24 to maximum 23:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Na5N.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3Na5N.png\" alt=\"enter image description here\"></a></p>\n\n<p>Java 8 must be required in the future for <code>Android Studio</code>, so we have to start using Java 8.</p>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471161681,"creation_date":1471161681,"answer_id":38940304,"question_id":35990995,"body_markdown":"Changing `com.android.tools.build:gradle:2.2.0-beta1` to `com.android.tools.build:gradle:2.1.2` fixed it for me.\r\n\r\nMy Android Studio version is 2.1.2, perhaps that&#39;s why","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Changing <code>com.android.tools.build:gradle:2.2.0-beta1</code> to <code>com.android.tools.build:gradle:2.1.2</code> fixed it for me.</p>\n\n<p>My Android Studio version is 2.1.2, perhaps that's why</p>\n"},{"tags":[],"owner":{"account_id":56806,"reputation":6331,"user_id":170169,"accept_rate":72,"display_name":"Jay Sidri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471240316,"creation_date":1471240316,"answer_id":38949933,"question_id":35990995,"body_markdown":"What no one here is saying is that with Build Tools 24.0.0, Java 8 is required and most people have either 1.6 or 1.7. \r\n\r\nSo yeah, setting the build tool to 23.x.x would &#39;solve&#39; the problem but the root cause is the Java version on your system. \r\n\r\nOn the long term, you might want to upgrade your dev environment to use JDK8 to make use the new language enhancements and the jack compiler.\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>What no one here is saying is that with Build Tools 24.0.0, Java 8 is required and most people have either 1.6 or 1.7. </p>\n\n<p>So yeah, setting the build tool to 23.x.x would 'solve' the problem but the root cause is the Java version on your system. </p>\n\n<p>On the long term, you might want to upgrade your dev environment to use JDK8 to make use the new language enhancements and the jack compiler.</p>\n"},{"tags":[],"owner":{"account_id":329126,"reputation":33,"user_id":652478,"display_name":"GodOnScooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472073952,"creation_date":1472073952,"answer_id":39133276,"question_id":35990995,"body_markdown":"This problem stems from the fact that your build tool version and JDK won&#39;t work together. I was using JDK version 7 with build tool 24.0.1. Of course lowering build tool version may fix the problem but it is not a real fix, as upgrading your build tools in future will break it again.\r\n\r\nYou should make sure build tool version and JDK work together. I upgraded my build tool to latest (24.0.1) and installed jdk8. Make sure to set your JAVA_HOME to latest and then try clean build. ","title":"Unsupported major.minor version 52.0 in my app","body":"<p>This problem stems from the fact that your build tool version and JDK won't work together. I was using JDK version 7 with build tool 24.0.1. Of course lowering build tool version may fix the problem but it is not a real fix, as upgrading your build tools in future will break it again.</p>\n\n<p>You should make sure build tool version and JDK work together. I upgraded my build tool to latest (24.0.1) and installed jdk8. Make sure to set your JAVA_HOME to latest and then try clean build. </p>\n"},{"tags":[],"owner":{"account_id":1439713,"reputation":826,"user_id":1360209,"display_name":"Andrea Gherardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472824599,"creation_date":1472824599,"answer_id":39294185,"question_id":35990995,"body_markdown":"Got the same issue outside of Android Studio, when trying to build for Cordova using the sdk from command line (cordova build android). \r\n\r\nThe solution provided by Rudy works in this case too. You just don&#39;t downgrade the version of Build Tools from Android Studio but you do it using the android sdk manager ui.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Got the same issue outside of Android Studio, when trying to build for Cordova using the sdk from command line (cordova build android). </p>\n\n<p>The solution provided by Rudy works in this case too. You just don't downgrade the version of Build Tools from Android Studio but you do it using the android sdk manager ui.</p>\n"},{"comments":[{"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"score":0,"creation_date":1480691238,"post_id":39711111,"comment_id":69081675,"body_markdown":"thats correct. when i tried to fix my travis build i found this question wich did not help me. after i found out how to fix i added this to for others with the same problem","body":"thats correct. when i tried to fix my travis build i found this question wich did not help me. after i found out how to fix i added this to for others with the same problem"}],"tags":[],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474919007,"creation_date":1474919007,"answer_id":39711111,"question_id":35990995,"body_markdown":"Get this error message on the travis build server?\r\n\r\nI fixed my **travis** build with \r\nbuildToolsVersion **&quot;24.0.2&quot;** using this \r\n\r\n\t# travis build \r\n\tlanguage: android\r\n\r\n\tjdk:\r\n\t  - oraclejdk8\r\n\t  \r\n\tandroid:\r\n\t  components:\r\n\t\t- tools\r\n\t\t- build-tools-24.0.2\r\n\t\t- android-23\r\n\r\n\t\t- add-on\r\n\t\t- extra\r\n\r\n\tscript:\r\n\t  - jdk_switcher use oraclejdk8\r\n\t  - ./gradlew assemble\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Get this error message on the travis build server?</p>\n\n<p>I fixed my <strong>travis</strong> build with \nbuildToolsVersion <strong>\"24.0.2\"</strong> using this </p>\n\n<pre><code># travis build \nlanguage: android\n\njdk:\n  - oraclejdk8\n\nandroid:\n  components:\n    - tools\n    - build-tools-24.0.2\n    - android-23\n\n    - add-on\n    - extra\n\nscript:\n  - jdk_switcher use oraclejdk8\n  - ./gradlew assemble\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475341905,"creation_date":1475246659,"answer_id":39794178,"question_id":35990995,"body_markdown":"The Simplest  solution is you have to update your JDK to latest, version . Because  Cordova supports only latest JDK . \r\n\r\n***1*.** First of all you have to update your Android SDK. Then,\r\n\r\n**2.** If you are not  able to update through your terminal ,  Got to your ***Software center*** of Linux destro and  search the Latest (which one you want to install) and install  that one .\r\n\r\nThen again run **Cordova build** .  \r\n\r\nIt will  solve the problem .\r\n\r\n\r\nIn ,my case it worked.\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>The Simplest  solution is you have to update your JDK to latest, version . Because  Cordova supports only latest JDK . </p>\n\n<p><strong><em>1</em>.</strong> First of all you have to update your Android SDK. Then,</p>\n\n<p><strong>2.</strong> If you are not  able to update through your terminal ,  Got to your <strong><em>Software center</em></strong> of Linux destro and  search the Latest (which one you want to install) and install  that one .</p>\n\n<p>Then again run <strong>Cordova build</strong> .  </p>\n\n<p>It will  solve the problem .</p>\n\n<p>In ,my case it worked.</p>\n"},{"comments":[{"owner":{"account_id":1115893,"reputation":6132,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1528490164,"post_id":39872881,"comment_id":88543535,"body_markdown":"&quot;Or set the AndroidSdkBuildToolsVersion MSBuild property to an earlier version. For example, if you also have version 23.0.3 installed, you could add the following line within the top &lt;PropertyGroup&gt; element in the Android project .csproj file:\n&lt;AndroidSdkBuildToolsVersion&gt;23.0.3&lt;/AndroidSdkBuildToolsVersion&gt;&quot; **ref:** https://releases.xamarin.com/technical-bulletin-android-sdk-build-tools-24/","body":"&quot;Or set the AndroidSdkBuildToolsVersion MSBuild property to an earlier version. For example, if you also have version 23.0.3 installed, you could add the following line within the top &lt;PropertyGroup&gt; element in the Android project .csproj file: &lt;AndroidSdkBuildToolsVersion&gt;23.0.3&lt;/AndroidSdkBuildToolsVer&zwnj;&#8203;sion&gt;&quot; <b>ref:</b> <a href=\"https://releases.xamarin.com/technical-bulletin-android-sdk-build-tools-24/\" rel=\"nofollow noreferrer\">releases.xamarin.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":187863,"reputation":19851,"user_id":426227,"accept_rate":76,"display_name":"testing"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1475667294,"creation_date":1475667294,"answer_id":39872881,"question_id":35990995,"body_markdown":"I installed Android Studio alongside to Xamarin Visual Studio (was already installed). After the installation (excluded SDK, because they were already installed) I started Android Studio and it downloaded, installed and added missing SDKs (after giving the path to the SDK location). As a result I got the error message on build\r\n\r\n&gt;java.lang.UnsupportedClassVersionError: com/android/dx/command/Main  :  Unsupported major.minor version 52.0\r\n\r\nAs a solution I installed `jdk-8u101-windows-i586.exe` without JRE (because it was already installed). Before I tried the x64 version, but it disappeared ... Then you have to change the [Java Development Kit location](https://developer.xamarin.com/guides/android/platform_features/introduction-to-nougat/#sdk).\r\n\r\n[![Change JDK location][1]][1]\r\n\r\nThis is done in Visual Studio by clicking Tools &gt; Options &gt; Xamarin &gt; Android Settings. Here you can navigate to the correct location. In my case it was `C:\\Program Files (x86)\\Java\\jdk1.8.0_101`.\r\n\r\nFinally, clean your project and make a new build :-)\r\n\r\n  [1]: http://i.stack.imgur.com/eqydx.png","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I installed Android Studio alongside to Xamarin Visual Studio (was already installed). After the installation (excluded SDK, because they were already installed) I started Android Studio and it downloaded, installed and added missing SDKs (after giving the path to the SDK location). As a result I got the error message on build</p>\n\n<blockquote>\n  <p>java.lang.UnsupportedClassVersionError: com/android/dx/command/Main  :  Unsupported major.minor version 52.0</p>\n</blockquote>\n\n<p>As a solution I installed <code>jdk-8u101-windows-i586.exe</code> without JRE (because it was already installed). Before I tried the x64 version, but it disappeared ... Then you have to change the <a href=\"https://developer.xamarin.com/guides/android/platform_features/introduction-to-nougat/#sdk\" rel=\"noreferrer\">Java Development Kit location</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eqydx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eqydx.png\" alt=\"Change JDK location\"></a></p>\n\n<p>This is done in Visual Studio by clicking Tools > Options > Xamarin > Android Settings. Here you can navigate to the correct location. In my case it was <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_101</code>.</p>\n\n<p>Finally, clean your project and make a new build :-)</p>\n"},{"tags":[],"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479929137,"creation_date":1479929137,"answer_id":40772635,"question_id":35990995,"body_markdown":"You need to go into your SDK installation directory, and make sure that the **/build-tools** sub-directory matches the `buildToolsVersion` in your app&#39;s build.gradle file:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bOqzx.png","title":"Unsupported major.minor version 52.0 in my app","body":"<p>You need to go into your SDK installation directory, and make sure that the <strong>/build-tools</strong> sub-directory matches the <code>buildToolsVersion</code> in your app's build.gradle file:\n<a href=\"https://i.stack.imgur.com/bOqzx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOqzx.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4435783,"reputation":11469,"user_id":3611669,"accept_rate":78,"display_name":"GuidoG"},"score":0,"creation_date":1488974085,"post_id":40934092,"comment_id":72465935,"body_markdown":"How does one do that ?","body":"How does one do that ?"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1488984054,"post_id":40934092,"comment_id":72473074,"body_markdown":"@GuidoG You need to follow the installation instructions for your specific operating system.  Just Google it, and you&#39;ll get the detailed instructions.  The goal is to be able to run **java -version** from the commandline and see it as `1.8`.","body":"@GuidoG You need to follow the installation instructions for your specific operating system.  Just Google it, and you&#39;ll get the detailed instructions.  The goal is to be able to run <b>java -version</b> from the commandline and see it as <code>1.8</code>."}],"tags":[],"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505306658,"creation_date":1480687656,"answer_id":40934092,"question_id":35990995,"body_markdown":"**52** is the code for JDK 8.  You can see that here: http://javarevisited.blogspot.com/2015/05/fixing-unsupported-majorminor-version.html.  So Gradle is expecting you to have JDK 8 as the default Java version on your machine.  Newest versions of Gradle for Android won&#39;t work with Java 7.\r\n\r\nThe solution is simple: make Java 8 the default jdk version on your machine.","title":"Unsupported major.minor version 52.0 in my app","body":"<p><strong>52</strong> is the code for JDK 8.  You can see that here: <a href=\"http://javarevisited.blogspot.com/2015/05/fixing-unsupported-majorminor-version.html\" rel=\"nofollow noreferrer\">http://javarevisited.blogspot.com/2015/05/fixing-unsupported-majorminor-version.html</a>.  So Gradle is expecting you to have JDK 8 as the default Java version on your machine.  Newest versions of Gradle for Android won't work with Java 7.</p>\n\n<p>The solution is simple: make Java 8 the default jdk version on your machine.</p>\n"},{"tags":[],"owner":{"account_id":9822629,"reputation":1,"user_id":7276812,"display_name":"genomma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481384090,"creation_date":1481380397,"answer_id":41076668,"question_id":35990995,"body_markdown":"Check that you have the latest version of the SDK installed in either `C:\\Program Files\\Java` or `C:\\Program Files (x86)\\Java`\r\n\r\nThen go to VS2015 and follow the path tools - options - Xamarin - Android settings and in the section JDK location select change and go to look for the version you have either x64 or x32.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>Check that you have the latest version of the SDK installed in either <code>C:\\Program Files\\Java</code> or <code>C:\\Program Files (x86)\\Java</code></p>\n\n<p>Then go to VS2015 and follow the path tools - options - Xamarin - Android settings and in the section JDK location select change and go to look for the version you have either x64 or x32.</p>\n"},{"tags":[],"owner":{"account_id":3659473,"reputation":1123,"user_id":3049675,"accept_rate":40,"display_name":"mate.gvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484316111,"creation_date":1484316020,"answer_id":41636287,"question_id":35990995,"body_markdown":"I am on cordova, here&#39;s what I&#39;ve done:\r\n\r\n-&#160;rename your android project, so that there&#39;s space for new one  \r\n-&#160;update JAVA Development Kit to 1.8 (latest one in time of writing this)  \r\n-&#160;run `cordova platform add android`   \r\n\r\nShould work without problems now. Your app hash will change, so if you are using it f.e. for facbeook login, you will need to update it","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I am on cordova, here's what I've done:</p>\n\n<p>- rename your android project, so that there's space for new one<br>\n- update JAVA Development Kit to 1.8 (latest one in time of writing this)<br>\n- run <code>cordova platform add android</code>   </p>\n\n<p>Should work without problems now. Your app hash will change, so if you are using it f.e. for facbeook login, you will need to update it</p>\n"},{"tags":[],"owner":{"account_id":61405,"reputation":189,"user_id":183034,"display_name":"rndStr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485855932,"creation_date":1485855184,"answer_id":41953974,"question_id":35990995,"body_markdown":"I&#39;d had this issue for too long (SO etc hadn&#39;t helped) and only just solved it (using sdk 25).\r\n\r\n-The local.properties file proguard.dir var was not applying with ant; I&#39;d specified 5.3.2, but a command line call and signed export build (eclipse) was using 4.7, from the sdk dir(only 5+ supports java 8)\r\n\r\nMy solution was to replace the proguard jars (android-sdk/tools/proguard/libs directory) in the sdk with a current (5+) version of proguard.\r\n\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I'd had this issue for too long (SO etc hadn't helped) and only just solved it (using sdk 25).</p>\n\n<p>-The local.properties file proguard.dir var was not applying with ant; I'd specified 5.3.2, but a command line call and signed export build (eclipse) was using 4.7, from the sdk dir(only 5+ supports java 8)</p>\n\n<p>My solution was to replace the proguard jars (android-sdk/tools/proguard/libs directory) in the sdk with a current (5+) version of proguard.</p>\n"},{"comments":[{"owner":{"account_id":40956,"reputation":4485,"user_id":118889,"accept_rate":62,"display_name":"hewstone"},"score":0,"creation_date":1493663986,"post_id":43014814,"comment_id":74492660,"body_markdown":"this worked for me!  need to have version 1.8 jdk installed and targeted","body":"this worked for me!  need to have version 1.8 jdk installed and targeted"}],"tags":[],"owner":{"account_id":1937930,"reputation":274,"user_id":1744906,"display_name":"Hedego"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1490434698,"creation_date":1490434698,"answer_id":43014814,"question_id":35990995,"body_markdown":"In my case the default jdk was 1.7 then I changed it to 1.8 by browsing to the exact folder where the updated jdk is found in.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>In my case the default jdk was 1.7 then I changed it to 1.8 by browsing to the exact folder where the updated jdk is found in.</p>\n"},{"tags":[],"owner":{"account_id":6463095,"reputation":36,"user_id":5006149,"display_name":"Rachit Murarka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492766272,"creation_date":1492766272,"answer_id":43538690,"question_id":35990995,"body_markdown":"unsupported-major-minor-version error can be because of unsupported JDK version. Update JDK, Go to Module Settings and change the JDK path to the new one. In most of the cases, it fixes the error.","title":"Unsupported major.minor version 52.0 in my app","body":"<p>unsupported-major-minor-version error can be because of unsupported JDK version. Update JDK, Go to Module Settings and change the JDK path to the new one. In most of the cases, it fixes the error.</p>\n"}],"owner":{"account_id":1788353,"reputation":2635,"user_id":1629278,"accept_rate":42,"display_name":"Rafael Reyes"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171446,"favorite_count":0,"down_vote_count":2,"up_vote_count":128,"accepted_answer_id":36027375,"answer_count":28,"score":126,"last_activity_date":1671776187,"creation_date":1457967677,"question_id":35990995,"body_markdown":"I&#39;m trying to compile my Android project and I&#39;m getting this error\r\n\r\n    [INFO] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/dx/command/Main : Unsupported major.minor version 52.0\r\n    [INFO] \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    [INFO] \tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n    [INFO] \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    [INFO] \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n    [INFO] \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n    [INFO] \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    [INFO] \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    [INFO] \tat java.security.AccessController.doPrivileged(Native Method)\r\n    [INFO] \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    [INFO] \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    [INFO] \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    [INFO] \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    [INFO] \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nI&#39;ve been reading in other post that try to compile with Java 8 might cause that error but not my case, I have the following Java version:\r\n\r\n    java version &quot;1.7.0_79&quot;\r\n    OpenJDK Runtime Environment (IcedTea 2.5.5) (7u79-2.5.5-0ubuntu0.14.04.2)\r\n    OpenJDK 64-Bit Server VM (build 24.79-b02, mixed mode)\r\n\r\nOS: Linux Mint\r\n(I&#39;m not have Java 8 installed.)\r\nBuild: MAVEN\r\n\r\nCan anyone help me with this?\r\n","title":"Unsupported major.minor version 52.0 in my app","body":"<p>I'm trying to compile my Android project and I'm getting this error</p>\n\n<pre><code>[INFO] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: com/android/dx/command/Main : Unsupported major.minor version 52.0\n[INFO]  at java.lang.ClassLoader.defineClass1(Native Method)\n[INFO]  at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n[INFO]  at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n[INFO]  at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n[INFO]  at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n[INFO]  at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n[INFO]  at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n[INFO]  at java.security.AccessController.doPrivileged(Native Method)\n[INFO]  at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n[INFO]  at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n[INFO]  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n[INFO]  at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n[INFO]  at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I've been reading in other post that try to compile with Java 8 might cause that error but not my case, I have the following Java version:</p>\n\n<pre><code>java version \"1.7.0_79\"\nOpenJDK Runtime Environment (IcedTea 2.5.5) (7u79-2.5.5-0ubuntu0.14.04.2)\nOpenJDK 64-Bit Server VM (build 24.79-b02, mixed mode)\n</code></pre>\n\n<p>OS: Linux Mint\n(I'm not have Java 8 installed.)\nBuild: MAVEN</p>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","recursion","dynamic-programming","memoization"],"answers":[{"comments":[{"owner":{"account_id":25110516,"reputation":19,"user_id":18960221,"display_name":"Muhammad Mehdi Ali"},"score":0,"creation_date":1671755291,"post_id":74885528,"comment_id":132171226,"body_markdown":"Tried it same result : -(","body":"Tried it same result : -("},{"owner":{"account_id":27307430,"reputation":117,"user_id":20823153,"display_name":"itshagunrathore"},"score":0,"creation_date":1671775097,"post_id":74885528,"comment_id":132173541,"body_markdown":"Trying to find what&#39;s wrong with the Memoization(top-down), as it is a recursive solution added a solution with less complexity O(maxDay)","body":"Trying to find what&#39;s wrong with the Memoization(top-down), as it is a recursive solution added a solution with less complexity O(maxDay)"}],"tags":[],"owner":{"account_id":27307430,"reputation":117,"user_id":20823153,"display_name":"itshagunrathore"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671774957,"creation_date":1671695521,"answer_id":74885528,"question_id":74885299,"body_markdown":"try initializing the array with **Integer.MAX_Value** and not by -1 and calculate your cost2 and cost3 by using days you already covered **daysCovered** in while loops, instead of i=0;\r\n\r\nHere **Arrays.fill(dp, Integer.MAX_VALUE);**\r\n\r\n    class Solution {\r\n      public int mincostTickets(int[] days, int[] costs) {\r\n        int dp[] = new int[days.length];\r\n        Arrays.fill(dp, Integer.MAX_VALUE);\r\n        return solveTicketsCostMem2(days, costs, 0, 0, dp);\r\n      }\r\n\r\nHere **if (dp[daysCovered] != Integer.MAX_VALUE)**\r\n\r\n    if (dp[daysCovered] != Integer.MAX_VALUE) {\r\n          return dp[daysCovered];\r\n        }\r\n\r\n//7 day pass - **int i = daysCovered;**\r\n\r\n      int i = daysCovered;\r\n        while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\r\n          i++;\r\n        }\r\n\r\n//30 day pass **int i = daysCovered;**\r\n\r\n    i = daysCovered;\r\n    while (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\r\n      i++;\r\n    }\r\n\r\n\r\n----------\r\nTried this solution with bottoms up\r\n\r\n    class Solution {\r\n      public int mincostTickets(int[] days, int[] costs) {\r\n        int maxDay = days[days.length - 1];\r\n        int dp[] = new int[maxDay + 1];\r\n        Arrays.fill(dp, Integer.MAX_VALUE);\r\n        dp[0] = 0;\r\n    \r\n        for (int i = 1; i &lt;= maxDay; i++) {\r\n          if (!isTravelDay(days, i)) {\r\n            dp[i] = dp[i - 1];\r\n            continue;\r\n          }\r\n          dp[i] = Math.min(dp[i], dp[i - 1] + costs[0]);\r\n          dp[i] = Math.min(dp[i], dp[Math.max(0, i - 7)] + costs[1]);\r\n          dp[i] = Math.min(dp[i], dp[Math.max(0, i - 30)] + costs[2]);\r\n        }\r\n    \r\n        return dp[maxDay];\r\n      }\r\n    \r\n      private boolean isTravelDay(int[] days, int day) {\r\n        for (int d: days) {\r\n          if (d == day) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n    }","title":"Using Memoization in recursion solution causing wrong answer","body":"<p>try initializing the array with <strong>Integer.MAX_Value</strong> and not by -1 and calculate your cost2 and cost3 by using days you already covered <strong>daysCovered</strong> in while loops, instead of i=0;</p>\n<p>Here <strong>Arrays.fill(dp, Integer.MAX_VALUE);</strong></p>\n<pre><code>class Solution {\n  public int mincostTickets(int[] days, int[] costs) {\n    int dp[] = new int[days.length];\n    Arrays.fill(dp, Integer.MAX_VALUE);\n    return solveTicketsCostMem2(days, costs, 0, 0, dp);\n  }\n</code></pre>\n<p>Here <strong>if (dp[daysCovered] != Integer.MAX_VALUE)</strong></p>\n<pre><code>if (dp[daysCovered] != Integer.MAX_VALUE) {\n      return dp[daysCovered];\n    }\n</code></pre>\n<p>//7 day pass - <strong>int i = daysCovered;</strong></p>\n<pre><code>  int i = daysCovered;\n    while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\n      i++;\n    }\n</code></pre>\n<p>//30 day pass <strong>int i = daysCovered;</strong></p>\n<pre><code>i = daysCovered;\nwhile (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\n  i++;\n}\n</code></pre>\n<hr />\n<p>Tried this solution with bottoms up</p>\n<pre><code>class Solution {\n  public int mincostTickets(int[] days, int[] costs) {\n    int maxDay = days[days.length - 1];\n    int dp[] = new int[maxDay + 1];\n    Arrays.fill(dp, Integer.MAX_VALUE);\n    dp[0] = 0;\n\n    for (int i = 1; i &lt;= maxDay; i++) {\n      if (!isTravelDay(days, i)) {\n        dp[i] = dp[i - 1];\n        continue;\n      }\n      dp[i] = Math.min(dp[i], dp[i - 1] + costs[0]);\n      dp[i] = Math.min(dp[i], dp[Math.max(0, i - 7)] + costs[1]);\n      dp[i] = Math.min(dp[i], dp[Math.max(0, i - 30)] + costs[2]);\n    }\n\n    return dp[maxDay];\n  }\n\n  private boolean isTravelDay(int[] days, int day) {\n    for (int d: days) {\n      if (d == day) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25110516,"reputation":19,"user_id":18960221,"display_name":"Muhammad Mehdi Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671774957,"creation_date":1671694076,"question_id":74885299,"body_markdown":"I was trying to solve Minimum cost of tickets question on leetecode. You can see the description here [https://leetcode.com/problems/minimum-cost-for-tickets/](Minimum_Cost_for_Tickets)\r\n\r\nI have following recursive solution which passes the initial test cases sucessfully\r\nBut the memoization is giving wrong solution for Input: \r\n**days= [1,4,6,7,8,20]\r\ncost= [2,7,15]**\r\n\r\n**Expected= 11\r\nActual= 12**\r\n\r\nPlease help me figuring out what is wrong with my memoization.\r\n\r\nI have used 1D dp because cost is just accumulating so we just need 1D dp to store result for the respective days. I tried debugging and dry run but could not figure out what the problem is.\r\n\r\n**RECURSION SOLUTION(CORRECT OUTPUT):-**\r\n\r\n`\r\n```\r\nclass Solution {\r\n  public int mincostTickets(int[] days, int[] costs) {\r\n    return solveTicketsCostRec(days, costs, 0, 0);\r\n  }\r\n\r\n  private int solveTicketsCostRec(int[] days, int[] costs, int cost, int daysCovered) {\r\n    if (daysCovered &gt;= days.length) {\r\n      return cost;\r\n    }\r\n\r\n    int cost1 = solveTicketsCostRec(days, costs, cost + costs[0], daysCovered + 1);\r\n\r\n    //7 day pass\r\n    int days1 = days[daysCovered] + 7;\r\n    int i = 0;\r\n    while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\r\n      i++;\r\n    }\r\n    int cost2 = solveTicketsCostRec(days, costs, cost + costs[1], i);\r\n\r\n\r\n    //30 day pass\r\n    int days2 = days[daysCovered] + 30;\r\n    i = 0;\r\n    while (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\r\n      i++;\r\n    }\r\n    int cost3 = solveTicketsCostRec(days, costs, cost + costs[2], i);\r\n    \r\n    return Math.min(cost1, Math.min(cost2, cost3));\r\n  }\r\n}\r\n```\r\n`\r\n\r\n\r\n**MEMOIZATION SOLUTION(GIVING WRONG OUTPUT):-**\r\n`\r\n```\r\n//Memoization\r\nclass Solution {\r\n  public int mincostTickets(int[] days, int[] costs) {\r\n    int dp[] = new int[days.length];\r\n    Arrays.fill(dp, -1);\r\n    return solveTicketsCostMem2(days, costs, 0, 0, dp);\r\n  }\r\n\r\n  private int solveTicketsCostMem2(int[] days, int[] costs, int cost, int daysCovered, int[] dp) {\r\n    if (daysCovered &gt;= days.length) {\r\n      return cost;\r\n    }\r\n\r\n    if (dp[daysCovered] != -1) {\r\n      return dp[daysCovered];\r\n    }\r\n    int cost1 = solveTicketsCostMem2(days, costs, cost + costs[0],\r\n            daysCovered + 1, dp);\r\n\r\n    //7 day pass\r\n    int days1 = days[daysCovered] + 7;\r\n    int i = 0;\r\n    while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\r\n      i++;\r\n    }\r\n    int cost2 = solveTicketsCostMem2(days, costs, cost + costs[1],\r\n            i, dp);\r\n\r\n\r\n    //30 day pass\r\n    int days2 = days[daysCovered] + 30;\r\n    i = 0;\r\n    while (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\r\n      i++;\r\n    }\r\n    int cost3 = solveTicketsCostMem2(days, costs, cost + costs[2],\r\n            i, dp);\r\n    \r\n    dp[daysCovered]=Math.min(cost1, Math.min(cost2, cost3));\r\n    return dp[daysCovered];\r\n  }\r\n\r\n}\r\n```\r\n`\r\n\r\n\r\n","title":"Using Memoization in recursion solution causing wrong answer","body":"<p>I was trying to solve Minimum cost of tickets question on leetecode. You can see the description here https://leetcode.com/problems/minimum-cost-for-tickets/</p>\n<p>I have following recursive solution which passes the initial test cases sucessfully\nBut the memoization is giving wrong solution for Input:\n<strong>days= [1,4,6,7,8,20]\ncost= [2,7,15]</strong></p>\n<p><strong>Expected= 11\nActual= 12</strong></p>\n<p>Please help me figuring out what is wrong with my memoization.</p>\n<p>I have used 1D dp because cost is just accumulating so we just need 1D dp to store result for the respective days. I tried debugging and dry run but could not figure out what the problem is.</p>\n<p><strong>RECURSION SOLUTION(CORRECT OUTPUT):-</strong></p>\n<p>`</p>\n<pre><code>class Solution {\n  public int mincostTickets(int[] days, int[] costs) {\n    return solveTicketsCostRec(days, costs, 0, 0);\n  }\n\n  private int solveTicketsCostRec(int[] days, int[] costs, int cost, int daysCovered) {\n    if (daysCovered &gt;= days.length) {\n      return cost;\n    }\n\n    int cost1 = solveTicketsCostRec(days, costs, cost + costs[0], daysCovered + 1);\n\n    //7 day pass\n    int days1 = days[daysCovered] + 7;\n    int i = 0;\n    while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\n      i++;\n    }\n    int cost2 = solveTicketsCostRec(days, costs, cost + costs[1], i);\n\n\n    //30 day pass\n    int days2 = days[daysCovered] + 30;\n    i = 0;\n    while (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\n      i++;\n    }\n    int cost3 = solveTicketsCostRec(days, costs, cost + costs[2], i);\n    \n    return Math.min(cost1, Math.min(cost2, cost3));\n  }\n}\n</code></pre>\n<p>`</p>\n<p><strong>MEMOIZATION SOLUTION(GIVING WRONG OUTPUT):-</strong>\n`</p>\n<pre><code>//Memoization\nclass Solution {\n  public int mincostTickets(int[] days, int[] costs) {\n    int dp[] = new int[days.length];\n    Arrays.fill(dp, -1);\n    return solveTicketsCostMem2(days, costs, 0, 0, dp);\n  }\n\n  private int solveTicketsCostMem2(int[] days, int[] costs, int cost, int daysCovered, int[] dp) {\n    if (daysCovered &gt;= days.length) {\n      return cost;\n    }\n\n    if (dp[daysCovered] != -1) {\n      return dp[daysCovered];\n    }\n    int cost1 = solveTicketsCostMem2(days, costs, cost + costs[0],\n            daysCovered + 1, dp);\n\n    //7 day pass\n    int days1 = days[daysCovered] + 7;\n    int i = 0;\n    while (i &lt; days.length &amp;&amp; days1 &gt; days[i]) {\n      i++;\n    }\n    int cost2 = solveTicketsCostMem2(days, costs, cost + costs[1],\n            i, dp);\n\n\n    //30 day pass\n    int days2 = days[daysCovered] + 30;\n    i = 0;\n    while (i &lt; days.length &amp;&amp; days2 &gt; days[i]) {\n      i++;\n    }\n    int cost3 = solveTicketsCostMem2(days, costs, cost + costs[2],\n            i, dp);\n    \n    dp[daysCovered]=Math.min(cost1, Math.min(cost2, cost3));\n    return dp[daysCovered];\n  }\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":177338,"reputation":7283,"user_id":408598,"accept_rate":83,"display_name":"Programming Guy"},"score":0,"creation_date":1338427578,"post_id":10794587,"comment_id":14093586,"body_markdown":"Two correct answers given at about the same time as far as I can tell. I&#39;ll give the accept to hage just because he has less points, but thank you both.","body":"Two correct answers given at about the same time as far as I can tell. I&#39;ll give the accept to hage just because he has less points, but thank you both."},{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1594308072,"post_id":10794587,"comment_id":111086834,"body_markdown":"If you are wondering the same thing for **kotlin** version check this one https://stackoverflow.com/a/62818187/7747942","body":"If you are wondering the same thing for <b>kotlin</b> version check this one <a href=\"https://stackoverflow.com/a/62818187/7747942\">stackoverflow.com/a/62818187/7747942</a>"}],"answers":[{"tags":[],"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"comment_count":0,"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1512980401,"creation_date":1338276072,"answer_id":10794718,"question_id":10794587,"body_markdown":"[@ComponentScan][1] uses string array, like this:\r\n\r\n    @ComponentScan({&quot;com.my.package.first&quot;,&quot;com.my.package.second&quot;})\r\n\r\n\r\nWhen you provide multiple package names in only one string, Spring interprets this as one package name, and thus can&#39;t find it.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"noreferrer\">@ComponentScan</a> uses string array, like this:</p>\n\n<pre><code>@ComponentScan({\"com.my.package.first\",\"com.my.package.second\"})\n</code></pre>\n\n<p>When you provide multiple package names in only one string, Spring interprets this as one package name, and thus can't find it.</p>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1617128542,"post_id":10794744,"comment_id":118215337,"body_markdown":"Java&#39;s &quot;when is a comma-separated&quot;, &quot;when is it a string-array&quot;, &quot;when is it a string varargs&quot; jigsaw puzzle drives me nuts sometimes.","body":"Java&#39;s &quot;when is a comma-separated&quot;, &quot;when is it a string-array&quot;, &quot;when is it a string varargs&quot; jigsaw puzzle drives me nuts sometimes."}],"tags":[],"owner":{"account_id":1013036,"reputation":20197,"user_id":1025201,"display_name":"mprabhat"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1338276191,"creation_date":1338276191,"answer_id":10794744,"question_id":10794587,"body_markdown":"Provide your package name separately, it requires a [`String[]`](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/ComponentScan.html#basePackages()) for package names.\r\n\r\nInstead of this:\r\n\r\n    @ComponentScan(&quot;com.my.package.first,com.my.package.second&quot;)\r\n\r\nUse this:\r\n\r\n    @ComponentScan({&quot;com.my.package.first&quot;,&quot;com.my.package.second&quot;})","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>Provide your package name separately, it requires a <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/context/annotation/ComponentScan.html#basePackages()\" rel=\"noreferrer\"><code>String[]</code></a> for package names.</p>\n\n<p>Instead of this:</p>\n\n<pre><code>@ComponentScan(\"com.my.package.first,com.my.package.second\")\n</code></pre>\n\n<p>Use this:</p>\n\n<pre><code>@ComponentScan({\"com.my.package.first\",\"com.my.package.second\"})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":298597,"reputation":2617,"user_id":1105831,"accept_rate":0,"display_name":"xaverras"},"score":1,"creation_date":1444313953,"post_id":21333294,"comment_id":53859866,"body_markdown":"Could someone explain why @ComponentScan({&quot;com.app&quot;, &quot;com.controllers&quot;}) doesn&#39;t work for me but @ComponentScan(basePackageClasses ={&quot;com.controllers&quot;}) does work nice ? I find it boring writing every class name","body":"Could someone explain why @ComponentScan({&quot;com.app&quot;, &quot;com.controllers&quot;}) doesn&#39;t work for me but @ComponentScan(basePackageClasses ={&quot;com.controllers&quot;}) does work nice ? I find it boring writing every class name"},{"owner":{"account_id":3078757,"reputation":3376,"user_id":2607501,"accept_rate":40,"display_name":"Prancer"},"score":3,"creation_date":1444650855,"post_id":21333294,"comment_id":53977407,"body_markdown":"You only have to specify one class in the package, for the package you want to scan. This is known as a marker class. If you need to scan a package higher in the hierarchy that has no classes, spring suggests a technique using a  &quot;spring marker&quot; interface or final class defined in that package solely for the purpose of package scanning.","body":"You only have to specify one class in the package, for the package you want to scan. This is known as a marker class. If you need to scan a package higher in the hierarchy that has no classes, spring suggests a technique using a  &quot;spring marker&quot; interface or final class defined in that package solely for the purpose of package scanning."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1617053410,"post_id":21333294,"comment_id":118190018,"body_markdown":"Thank you.  I am so sick of tracking down #wheresWaldo with string-magic/magic-strings.","body":"Thank you.  I am so sick of tracking down #wheresWaldo with string-magic/magic-strings."}],"tags":[],"owner":{"account_id":3078757,"reputation":3376,"user_id":2607501,"accept_rate":40,"display_name":"Prancer"},"comment_count":3,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1390568124,"creation_date":1390568124,"answer_id":21333294,"question_id":10794587,"body_markdown":"There is another **type-safe** *alternative* to specifying a base-package location as a String. [See the API here][1], but I&#39;ve also illustrated below:\r\n\r\n    @ComponentScan(basePackageClasses = {ExampleController.class, ExampleModel.class, ExmapleView.class})\r\n\r\nUsing the **basePackageClasses** specifier with your class references will tell Spring to scan those packages (just like the mentioned *alternatives*), but this method is both **type-safe** and adds **IDE support** for future refactoring -- a huge plus in my book.\r\n\r\nReading from the API, Spring suggests creating a no-op marker class or interface in each package you wish to scan that serves no other purpose than to be used as a reference for/by this attribute.\r\n\r\nIMO, I don&#39;t like the marker-classes *(but then again, they are pretty much just like the package-info classes)* but the type safety, IDE support, and drastically reducing the number of base packages needed to include for this scan is, with out a doubt, a far better option.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.1.4.RELEASE/javadoc-api/org/springframework/context/annotation/ComponentScan.html#basePackageClasses%28%29","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>There is another <strong>type-safe</strong> <em>alternative</em> to specifying a base-package location as a String. <a href=\"http://docs.spring.io/spring/docs/3.1.4.RELEASE/javadoc-api/org/springframework/context/annotation/ComponentScan.html#basePackageClasses%28%29\">See the API here</a>, but I've also illustrated below:</p>\n\n<pre><code>@ComponentScan(basePackageClasses = {ExampleController.class, ExampleModel.class, ExmapleView.class})\n</code></pre>\n\n<p>Using the <strong>basePackageClasses</strong> specifier with your class references will tell Spring to scan those packages (just like the mentioned <em>alternatives</em>), but this method is both <strong>type-safe</strong> and adds <strong>IDE support</strong> for future refactoring -- a huge plus in my book.</p>\n\n<p>Reading from the API, Spring suggests creating a no-op marker class or interface in each package you wish to scan that serves no other purpose than to be used as a reference for/by this attribute.</p>\n\n<p>IMO, I don't like the marker-classes <em>(but then again, they are pretty much just like the package-info classes)</em> but the type safety, IDE support, and drastically reducing the number of base packages needed to include for this scan is, with out a doubt, a far better option.</p>\n"},{"tags":[],"owner":{"account_id":6805657,"reputation":1560,"user_id":5237474,"accept_rate":89,"display_name":"shashwatZing"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1580138923,"creation_date":1455113975,"answer_id":35317645,"question_id":10794587,"body_markdown":"Another way of doing this is using the `basePackages` field; which is a field inside ComponentScan annotation.\r\n    \r\n    @ComponentScan(basePackages={&quot;com.firstpackage&quot;,&quot;com.secondpackage&quot;})\r\n\r\nIf you look into the ComponentScan annotation .class from the jar file you will see a basePackages field that takes in an array of Strings\r\n\r\n    public @interface ComponentScan {\r\n    String[] basePackages() default {};\r\n    }\r\nOr you can mention the classes explicitly. Which takes in array of classes\r\n\r\n    Class&lt;?&gt;[]\tbasePackageClasses","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>Another way of doing this is using the <code>basePackages</code> field; which is a field inside ComponentScan annotation.</p>\n\n<pre><code>@ComponentScan(basePackages={\"com.firstpackage\",\"com.secondpackage\"})\n</code></pre>\n\n<p>If you look into the ComponentScan annotation .class from the jar file you will see a basePackages field that takes in an array of Strings</p>\n\n<pre><code>public @interface ComponentScan {\nString[] basePackages() default {};\n}\n</code></pre>\n\n<p>Or you can mention the classes explicitly. Which takes in array of classes</p>\n\n<pre><code>Class&lt;?&gt;[]  basePackageClasses\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9266966,"reputation":53,"user_id":6882152,"display_name":"ksw"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479971261,"creation_date":1479971261,"answer_id":40779960,"question_id":10794587,"body_markdown":"You use ComponentScan to scan multiple packages using \r\n\r\n`@ComponentScan({&quot;com.my.package.first&quot;,&quot;com.my.package.second&quot;})`\r\n","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>You use ComponentScan to scan multiple packages using </p>\n\n<p><code>@ComponentScan({\"com.my.package.first\",\"com.my.package.second\"})</code></p>\n"},{"comments":[{"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"score":0,"creation_date":1563707984,"post_id":54477425,"comment_id":100781521,"body_markdown":"Thanks after spending close to half an hour this was the missing dependency","body":"Thanks after spending close to half an hour this was the missing dependency"},{"owner":{"account_id":20559259,"reputation":89,"user_id":15090115,"display_name":"A_X"},"score":0,"creation_date":1642862126,"post_id":54477425,"comment_id":125187791,"body_markdown":"Spring Context is the only required dependency for those annotations.","body":"Spring Context is the only required dependency for those annotations."}],"tags":[],"owner":{"account_id":11434450,"reputation":21,"user_id":8382275,"display_name":"Amirtha Krishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549016408,"creation_date":1549016408,"answer_id":54477425,"question_id":10794587,"body_markdown":"make sure you have added this dependency in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>make sure you have added this dependency in your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2876245,"reputation":1996,"user_id":3107689,"display_name":"yeya"},"score":4,"creation_date":1550351183,"post_id":54727515,"comment_id":96238948,"body_markdown":"Please consider adding explanation to your answer","body":"Please consider adding explanation to your answer"}],"tags":[],"owner":{"account_id":12881305,"reputation":71,"user_id":9316251,"display_name":"Farouk.ch"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550733603,"creation_date":1550350084,"answer_id":54727515,"question_id":10794587,"body_markdown":"   \r\n\r\n    \r\n\r\n You can also use @ComponentScans annotation:\r\n\r\n        \r\n    @ComponentScans(value = { @ComponentScan(&quot;com.my.package.first&quot;),\r\n                              @ComponentScan(&quot;com.my.package.second&quot;) })\r\n\r\n\r\n\r\n","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>You can also use @ComponentScans annotation:</p>\n\n<pre><code>@ComponentScans(value = { @ComponentScan(\"com.my.package.first\"),\n                          @ComponentScan(\"com.my.package.second\") })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18022617,"reputation":21,"user_id":13099418,"display_name":"Yann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584807970,"creation_date":1584790708,"answer_id":60787333,"question_id":10794587,"body_markdown":"I use:\r\n\r\n    @ComponentScan(basePackages = {&quot;com.package1&quot;,&quot;com.package2&quot;,&quot;com.package3&quot;, &quot;com.packagen&quot;})\r\n","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>I use:</p>\n\n<pre><code>@ComponentScan(basePackages = {\"com.package1\",\"com.package2\",\"com.package3\", \"com.packagen\"})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671445736,"post_id":74824144,"comment_id":132093368,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74824144/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":1339676,"reputation":37,"user_id":1281632,"display_name":"vaibhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671774013,"creation_date":1671191866,"answer_id":74824144,"question_id":10794587,"body_markdown":"Use\r\n\r\n     @ComponentScan(basePackages = {&quot;package1&quot;, &quot;package2&quot;})\r\n\r\ndefine it at top before class.\r\n\r\n\r\n\r\n_Edit: the brackets must be around all the base packages, not a pair of brackets per package_","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>Use</p>\n<pre><code> @ComponentScan(basePackages = {&quot;package1&quot;, &quot;package2&quot;})\n</code></pre>\n<p>define it at top before class.</p>\n<p><em>Edit: the brackets must be around all the base packages, not a pair of brackets per package</em></p>\n"}],"owner":{"account_id":177338,"reputation":7283,"user_id":408598,"accept_rate":83,"display_name":"Programming Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227133,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":10794718,"answer_count":9,"score":112,"last_activity_date":1671774013,"creation_date":1338275394,"question_id":10794587,"body_markdown":"I&#39;m using Spring 3.1 and bootstrapping an application using the `@Configuration` and `@ComponentScan` attributes.\r\n\r\nThe actual start is done with\r\n\r\n    new AnnotationConfigApplicationContext(MyRootConfigurationClass.class);\r\n\r\nThis Configuration class is annotated with\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.my.package&quot;)\r\n    public class MyRootConfigurationClass\r\n\r\nand this works fine. However I&#39;d like to be more specific about the packages I scan so I tried.\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.my.package.first,com.my.package.second&quot;)\r\n    public class MyRootConfigurationClass\r\n\r\nHowever this fails with errors telling me it can&#39;t find components specified using the `@Component` annotation.\r\n\r\nWhat is the correct way to do what I&#39;m after?\r\n\r\nThanks\r\n","title":"How to scan multiple paths using the @ComponentScan annotation?","body":"<p>I'm using Spring 3.1 and bootstrapping an application using the <code>@Configuration</code> and <code>@ComponentScan</code> attributes.</p>\n\n<p>The actual start is done with</p>\n\n<pre><code>new AnnotationConfigApplicationContext(MyRootConfigurationClass.class);\n</code></pre>\n\n<p>This Configuration class is annotated with</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.my.package\")\npublic class MyRootConfigurationClass\n</code></pre>\n\n<p>and this works fine. However I'd like to be more specific about the packages I scan so I tried.</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.my.package.first,com.my.package.second\")\npublic class MyRootConfigurationClass\n</code></pre>\n\n<p>However this fails with errors telling me it can't find components specified using the <code>@Component</code> annotation.</p>\n\n<p>What is the correct way to do what I'm after?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","rules","rule-engine"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1671776238,"post_id":74896405,"comment_id":132173693,"body_markdown":"I assume you are using spring data jpa, you can use java bean validation. Just search for &quot;java bean validation&quot; or &quot;spring boot validation&quot; there are lot of examples on that topic","body":"I assume you are using spring data jpa, you can use java bean validation. Just search for &quot;java bean validation&quot; or &quot;spring boot validation&quot; there are lot of examples on that topic"}],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671773178,"creation_date":1671773178,"question_id":74896405,"body_markdown":"\r\nI have a usecase where I need some validations at the entity level based on value of some attribute of the entity. For eg:\r\n\r\n\r\n```\r\n    Class User {\r\n        int id;\r\n        String job;\r\n        String phone;\r\n        String city;\r\n        String state;\r\n        String country;\r\n    }\r\n```\r\nLets say for different type of jobs, I am trying to do different validations before putting in the DB.\r\n    \r\n    1.**Job == Manager**\r\n    {\r\n        city =&gt; required,\r\n        state =&gt; optional,\r\n        phone =&gt; optional,\r\n        country =&gt; optional\r\n    }\r\n    \r\n    2. **Job == Teacher**\r\n    {\r\n        city =&gt; optional,\r\n        state =&gt; required,\r\n        phone =&gt; optional,\r\n        country =&gt; optional\r\n    }\r\n    \r\n    3. **Job == Clerk**\r\n    {\r\n        city =&gt; should not be preset (throw exception if present),\r\n        state =&gt; required,\r\n        phone =&gt; optional,\r\n        country =&gt; required\r\n    }\r\n    \r\n    4. **Job == Sportsman**\r\n    {\r\n        city =&gt; required,\r\n        state =&gt; required,\r\n        phone =&gt; [some regex only],\r\n        country =&gt; required\r\n    }\r\n    \r\n    \r\n\r\nI know we can hardcode these validations before inserting the record into DB, but I want these rules to be dynamic enough, so that before insertion based on the Job type the rules will be evaluated and if confirms then only proceed to DB. The advantage of this approach will be that the application code will be decoupled from the rules. So, in future some new rule comes, I will just update the rules and it should work smoothly.\r\n    \r\nI am sure there must be some **library (rule-engine)** already implemented for rule validation in java. Please let me know what should I refer to implement this.\r\n\r\n","title":"Dynamic Rule validation of a Java class","body":"<p>I have a usecase where I need some validations at the entity level based on value of some attribute of the entity. For eg:</p>\n<pre><code>    Class User {\n        int id;\n        String job;\n        String phone;\n        String city;\n        String state;\n        String country;\n    }\n</code></pre>\n<p>Lets say for different type of jobs, I am trying to do different validations before putting in the DB.</p>\n<pre><code>1.**Job == Manager**\n{\n    city =&gt; required,\n    state =&gt; optional,\n    phone =&gt; optional,\n    country =&gt; optional\n}\n\n2. **Job == Teacher**\n{\n    city =&gt; optional,\n    state =&gt; required,\n    phone =&gt; optional,\n    country =&gt; optional\n}\n\n3. **Job == Clerk**\n{\n    city =&gt; should not be preset (throw exception if present),\n    state =&gt; required,\n    phone =&gt; optional,\n    country =&gt; required\n}\n\n4. **Job == Sportsman**\n{\n    city =&gt; required,\n    state =&gt; required,\n    phone =&gt; [some regex only],\n    country =&gt; required\n}\n</code></pre>\n<p>I know we can hardcode these validations before inserting the record into DB, but I want these rules to be dynamic enough, so that before insertion based on the Job type the rules will be evaluated and if confirms then only proceed to DB. The advantage of this approach will be that the application code will be decoupled from the rules. So, in future some new rule comes, I will just update the rules and it should work smoothly.</p>\n<p>I am sure there must be some <strong>library (rule-engine)</strong> already implemented for rule validation in java. Please let me know what should I refer to implement this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1671771290,"post_id":74896022,"comment_id":132173006,"body_markdown":"What is the value of `c.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL)` as in this code here? https://developer.android.com/reference/android/hardware/camera2/CameraCharacteristics#INFO_SUPPORTED_HARDWARE_LEVEL","body":"What is the value of <code>c.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL)</code> as in this code here? <a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraCharacteristics#INFO_SUPPORTED_HARDWARE_LEVEL\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/hardware/camera2/&hellip;</a>"},{"owner":{"account_id":14450412,"reputation":41,"user_id":10438125,"display_name":"Ac. Selvan"},"score":0,"creation_date":1671773799,"post_id":74896022,"comment_id":132173342,"body_markdown":"@MikeKim My Supported Hardware Level is 4","body":"@MikeKim My Supported Hardware Level is 4"},{"owner":{"account_id":14450412,"reputation":41,"user_id":10438125,"display_name":"Ac. Selvan"},"score":0,"creation_date":1671773834,"post_id":74896022,"comment_id":132173348,"body_markdown":"There is a one exception &quot;Skipped 53 frames!  The application may be doing too much work on its main thread.&quot; is that might be a problem?","body":"There is a one exception &quot;Skipped 53 frames!  The application may be doing too much work on its main thread.&quot; is that might be a problem?"},{"owner":{"account_id":10812143,"reputation":148,"user_id":7952427,"display_name":"S. Lopes"},"score":0,"creation_date":1679483712,"post_id":74896022,"comment_id":133729081,"body_markdown":"what external camera and what android device are you using?","body":"what external camera and what android device are you using?"}],"owner":{"account_id":14450412,"reputation":41,"user_id":10438125,"display_name":"Ac. Selvan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671772975,"creation_date":1671768661,"question_id":74896022,"body_markdown":"```\r\npackage com.example.camera4;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;Main&quot;;\r\n    private Button takePictureButton,nextactivity;\r\n    private TextureView textureView;\r\n    private ImageView imageView;\r\n\r\n\r\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\r\n\r\n    static {\r\n        ORIENTATIONS.append(Surface.ROTATION_0, 90);\r\n        ORIENTATIONS.append(Surface.ROTATION_90, 0);\r\n        ORIENTATIONS.append(Surface.ROTATION_180, 270);\r\n        ORIENTATIONS.append(Surface.ROTATION_270, 180);\r\n    }\r\n\r\n    private String cameraId;\r\n    protected CameraDevice cameraDevice;\r\n    protected CameraCaptureSession cameraCaptureSessions;\r\n\r\n    protected CaptureRequest.Builder captureRequestBuilder;\r\n    private Size imageDimension;\r\n    private ImageReader imageReader;\r\n    private File file;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private boolean mFlashSupported;\r\n    private Handler mBackgroundHandler;\r\n    private HandlerThread mBackgroundThread;\r\n    private String folderName=&quot;Myphotodir&quot;;\r\n    private File folder;\r\n    byte[] bytes1 ;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textureView = (TextureView) findViewById(R.id.texture);\r\n        assert textureView != null;\r\n        textureView.setSurfaceTextureListener(textureListener);\r\n        takePictureButton = findViewById(R.id.btn_takepicture);\r\n        imageView = findViewById(R.id.imageview);\r\n        assert takePictureButton != null;\r\n        nextactivity = findViewById(R.id.nextactivity);\r\n        nextactivity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent =  new Intent(MainActivity.this,AndroidCameraApi.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        takePictureButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                takePicture();\r\n            }\r\n        });\r\n    }\r\n\r\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n            //open your camera here\r\n            openCamera();\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\r\n            // Transform you image captured size according to the surface width and height\r\n        }\r\n\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) {\r\n        }\r\n    };\r\n    private final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(CameraDevice camera) {\r\n            //This is called when the camera is open\r\n            Log.e(TAG, &quot;onOpened&quot;);\r\n            cameraDevice = camera;\r\n            createCameraPreview();\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(CameraDevice camera) {\r\n            cameraDevice = camera;\r\n            closeCamera();\r\n        }\r\n\r\n        @Override\r\n        public void onError(CameraDevice camera, int error) {\r\n            cameraDevice = camera;\r\n            closeCamera();\r\n        }\r\n    };\r\n    final CameraCaptureSession.CaptureCallback captureCallbackListener = new CameraCaptureSession.CaptureCallback() {\r\n\r\n        @Override\r\n        public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\r\n            super.onCaptureCompleted(session, request, result);\r\n            Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file, Toast.LENGTH_SHORT).show();\r\n            createCameraPreview();\r\n\r\n        }\r\n    };\r\n\r\n    protected void startBackgroundThread() {\r\n        mBackgroundThread = new HandlerThread(&quot;Camera Background&quot;);\r\n        mBackgroundThread.start();\r\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\r\n    }\r\n\r\n    protected void stopBackgroundThread() {\r\n        mBackgroundThread.quitSafely();\r\n        try {\r\n            mBackgroundThread.join();\r\n            mBackgroundThread = null;\r\n            mBackgroundHandler = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    protected void takePicture() {\r\n        if (null == cameraDevice) {\r\n            Log.e(TAG, &quot;cameraDevice is null&quot;);\r\n            return;\r\n        }\r\n        Log.d(&quot;takePicture()&quot;,&quot;started&quot;);\r\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\r\n            Size[] jpegSizes = null;\r\n            if (characteristics != null) {\r\n                jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\r\n            }\r\n            int width = 640;\r\n            int height = 480;\r\n            if (jpegSizes != null &amp;&amp; 0 &lt; jpegSizes.length) {\r\n                width = jpegSizes[0].getWidth();\r\n                height = jpegSizes[0].getHeight();\r\n            }\r\n            ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\r\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(1);\r\n            outputSurfaces.add(reader.getSurface());\r\n            outputSurfaces.add(new Surface(textureView.getSurfaceTexture()));\r\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n            captureBuilder.addTarget(reader.getSurface());\r\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n            // Orientation\r\n            int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n            folder = new File(folderName);\r\n            String timestamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n            String imageFilename = &quot;image&quot;+&quot;.jpg&quot;;\r\n            file = new File(getExternalFilesDir(folderName),&quot;/&quot;+imageFilename);\r\n            if (!folder.exists())\r\n            {\r\n                folder.mkdirs();\r\n            }\r\n\r\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\r\n                @Override\r\n                public void onImageAvailable(ImageReader reader1) {\r\n                    Log.d(&quot;image available&quot;,&quot;true&quot;);\r\n                    Image image = null;\r\n                    try {\r\n                        image = reader1.acquireNextImage();\r\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n                        byte[] bytes = new byte[buffer.capacity()];\r\n                        buffer.get(bytes);\r\n                        save(bytes);\r\n                        image.close();\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                private void save(byte[] bytes) throws IOException {\r\n                    Log.d(&quot;save()&quot;,&quot;called&quot;);\r\n                    OutputStream output = null;\r\n                    try {\r\n                        output = new FileOutputStream(file);\r\n                        output.write(bytes);\r\n                        output.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            };\r\n            reader.setOnImageAvailableListener(readerListener, mBackgroundHandler);\r\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\r\n\r\n                @Override\r\n                public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\r\n                    super.onCaptureCompleted(session, request, result);\r\n\r\n                    Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file.getPath(), Toast.LENGTH_LONG).show();\r\n                    createCameraPreview();\r\n                    Log.d(&quot;image location=&quot;,String.valueOf(file));\r\n                    Log.d(&quot;image result=&quot;,String.valueOf(result));\r\n                }\r\n\r\n                public byte[] getBytes(InputStream inputStream) throws IOException {\r\n\r\n                    ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\r\n                    int bufferSize = 1024;\r\n                    byte[] buffer = new byte[bufferSize];\r\n\r\n                    int len = 0;\r\n                    while ((len = inputStream.read(buffer)) != -1) {\r\n                        byteBuffer.write(buffer, 0, len);\r\n                        bytes1 =byteBuffer.toByteArray();\r\n                    }\r\n                    return bytes1;\r\n                    }\r\n            };\r\n            cameraDevice.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(CameraCaptureSession session) {\r\n                    try {\r\n                        session.capture(captureBuilder.build(), captureListener, mBackgroundHandler);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(CameraCaptureSession session) {\r\n                }\r\n            }, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected void createCameraPreview() {\r\n        try {\r\n            SurfaceTexture texture = textureView.getSurfaceTexture();\r\n            assert texture != null;\r\n            texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\r\n            Surface surface = new Surface(texture);\r\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.addTarget(surface);\r\n            cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    //The camera is already closed\r\n                    if (null == cameraDevice) {\r\n                        return;\r\n                    }\r\n                    // When the session is ready, we start displaying the preview.\r\n                    cameraCaptureSessions = cameraCaptureSession;\r\n                    updatePreview();\r\n                }\r\n\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    Toast.makeText(MainActivity.this, &quot;Configuration change&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void openCamera() {\r\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        Log.e(TAG, &quot;is camera open&quot;);\r\n        try {\r\n            cameraId = manager.getCameraIdList()[0];\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n            assert map != null;\r\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\r\n            // Add permission for camera and let user grant the permission\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            manager.openCamera(cameraId, stateCallback, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.e(TAG, &quot;openCamera X&quot;);\r\n    }\r\n\r\n    protected void updatePreview() {\r\n        if (null == cameraDevice) {\r\n            Log.e(TAG, &quot;updatePreview error, return&quot;);\r\n        }\r\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n        captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_AUTO);\r\n        try {\r\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(), null, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                // close the app\r\n                Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can&#39;t use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Log.e(TAG, &quot;onResume&quot;);\r\n        startBackgroundThread();\r\n        if (textureView.isAvailable()) {\r\n            openCamera();\r\n        } else {\r\n            textureView.setSurfaceTextureListener(textureListener);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        Log.e(TAG, &quot;onPause&quot;);\r\n        //closeCamera();\r\n        stopBackgroundThread();\r\n        closeCamera();\r\n        super.onPause();\r\n    }\r\n    @MainThread\r\n    private void closeCamera() {\r\n        if (null != cameraDevice) {\r\n            cameraDevice.close();\r\n            cameraDevice = null;\r\n        }\r\n        if (null != imageReader) {\r\n            imageReader.close();\r\n            imageReader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Code Explanation\r\n- While the app started the camera has been opened by calling openCamera(); function In that function I have been getting the manifest permission and then opening the camera [0]\r\n While Clicking &quot;takePicture(); function&quot; I have been getting the captured image by using &quot;\r\n- ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);&quot;\r\n- I have been getting only one image and then by using \r\n- ImageReader.OnImageAvailableListener inside the listener I have been using \r\nimage = reader1.acquireNextImage(); to acqure the captured image\r\n- then I have been converting the image to byte and then pass it to the &quot;save() function&quot; in that function I have been saving my captured image and then save them in my local storage\r\n- In reader.setOnImageAvailableListener I have been calling onCaptureCompleted to show the image location and then calling the &quot;createCameraPreview() Function&quot;\r\n\r\n\r\n## Description ##\r\n- I have been using the above code to capture an image and save it in local storage\r\n- While capturing the image by using a mobile phone with the mobile internal camera it is working properly\r\n- While I tried to take pictures from the POS Billing machine using the External USB camera the camera shows the live feed in &lt;TextureView&gt;` While I click the &quot;Take Picture Button&quot; The image saved just a black image\r\n- While clicking the &quot;Take Picture Button&quot; it successfully passes through &quot;ImageReader.OnImageAvailableListener&quot; which is used to get the acquirenextimage() and call the &quot;save() function&quot; Which is used to save images in my local storage\r\n\r\n**What Do I need** \r\n- The above code is working properly when I capture images from my phone and when I have been trying from my POS device the using EXternal USB camera it just saves a black image\r\n- Please provide me an explanation of what I am doing wrong or why the problem acquires the POS device only.\r\n\r\n\r\n**My LogCat**\r\n\r\n    ---------------------------- PROCESS ENDED (10183) for package com.example.camera4 ----------------------------\r\n    2022-12-23 10:48:56.977   561-7931  ActivityManager         system_process                       E  getPackageFerformanceMode--ComponentInfo{com.example.camera4/com.example.camera4.MainActivity}----com.example.camera4\r\n    2022-12-23 10:48:56.980   561-5053  ActivityManager         system_process                       E  getPackageFerformanceMode--ComponentInfo{com.example.camera4/com.example.camera4.MainActivity}----com.example.camera4\r\n    ---------------------------- PROCESS STARTED (11010) for package com.example.camera4 ----------------------------\r\n    2022-12-23 10:48:57.700 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/os/Trace;-&gt;TRACE_TAG_APP:J (light greylist, reflection)\r\n    2022-12-23 10:48:57.700 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (light greylist, reflection)\r\n    2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;left:I (light greylist, linking)\r\n    2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;top:I (light greylist, linking)\r\n    2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;right:I (light greylist, linking)\r\n    2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;bottom:I (light greylist, linking)\r\n    2022-12-23 10:48:57.890 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/view/WindowInsets;-&gt;CONSUMED:Landroid/view/WindowInsets; (light greylist, reflection)\r\n    2022-12-23 10:48:57.958 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\r\n    2022-12-23 10:48:57.959 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\r\n    2022-12-23 10:48:58.130 11010-11010 Main                    com.example.camera4                  E  onResume\r\n    2022-12-23 10:48:58.142 11010-11010 OpenGLRenderer          com.example.camera4                  D  Skia GL Pipeline\r\n    2022-12-23 10:48:58.212 11010-11036 mali_so                 com.example.camera4                  I  [File] : hardware/arm/mali_so/driver/product/base/src/mali_base_kbase.c; [Line] : 876; [Func] : base_context_deal_with_version_affairs_rk_ext;\r\n                                                                                                        arm_release_ver of this mali_so is &#39;r18p0-01rel0&#39;, rk_so_ver is &#39;15@0&#39;.\r\n    2022-12-23 10:48:58.213 11010-11036 mali_so                 com.example.camera4                  D  [File] : hardware/arm/mali_so/driver/product/base/src/mali_base_kbase.c; [Line] : 881; [Func] : base_context_deal_with_version_affairs_rk_ext;\r\n                                                                                                        current process is NOT sf, to bail out.\r\n    2022-12-23 10:48:58.236 11010-11036 ConfigStore             com.example.camera4                  I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0\r\n    2022-12-23 10:48:58.236 11010-11036 ConfigStore             com.example.camera4                  I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0\r\n    2022-12-23 10:48:58.236 11010-11036 OpenGLRenderer          com.example.camera4                  I  Initialized EGL, version 1.4\r\n    2022-12-23 10:48:58.236 11010-11036 OpenGLRenderer          com.example.camera4                  D  Swap behavior 2\r\n    2022-12-23 10:48:58.247 11010-11036 mali_winsys             com.example.camera4                  D  EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, egl_color_buffer_format *, EGLBoolean) returns 0x3000\r\n    2022-12-23 10:48:58.280 11010-11010 Main                    com.example.camera4                  E  is camera open\r\n    2022-12-23 10:48:58.281 11010-11010 CameraManagerGlobal     com.example.camera4                  I  Connecting to camera service\r\n    2022-12-23 10:48:58.294 11010-11010 camera level            com.example.camera4                  D  4\r\n    2022-12-23 10:48:59.024 11010-11010 Main                    com.example.camera4                  E  openCamera X\r\n    2022-12-23 10:48:59.086 11010-11036 GRALLOC-ROCKCHIP        com.example.camera4                  D  RK_GRAPHICS_VER=commit-id:dc44fa2\r\n    2022-12-23 10:48:59.110 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:48:59.146 11010-11036 chatty                  com.example.camera4                  I  uid=10072(com.example.camera4) RenderThread identical 10 lines\r\n    2022-12-23 10:48:59.150 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:48:59.153 11010-11036 OpenGLRenderer          com.example.camera4                  I  Davey! duration=973ms; Flags=0, IntendedVsync=17676652385667, Vsync=17676735718997, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=17676746187254, AnimationStart=17676746254045, PerformTraversalsStart=17676746778170, DrawStart=17676751392046, SyncQueued=17677553044460, SyncStart=17677553731626, IssueDrawCommandsStart=17677553857043, SwapBuffers=17677624795634, FrameCompleted=17677627029217, DequeueBufferDuration=510000, QueueBufferDuration=417000, \r\n    2022-12-23 10:48:59.171 11010-11010 Choreographer           com.example.camera4                  I  Skipped 53 frames!  The application may be doing too much work on its main thread.\r\n    2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (light greylist, reflection)\r\n    2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (light greylist, reflection)\r\n    2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;traceCounter(JLjava/lang/String;I)V (light greylist, reflection)\r\n    2022-12-23 10:48:59.202 11010-11010 Main                    com.example.camera4                  E  onOpened\r\n    2022-12-23 10:48:59.206 11010-11036 OpenGLRenderer          com.example.camera4                  I  Davey! duration=927ms; Flags=0, IntendedVsync=17676752273366, Vsync=17677635606664, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=17677645137927, AnimationStart=17677645220761, PerformTraversalsStart=17677646040052, DrawStart=17677646535011, SyncQueued=17677657101220, SyncStart=17677657157803, IssueDrawCommandsStart=17677657277970, SwapBuffers=17677676895764, FrameCompleted=17677679493347, DequeueBufferDuration=190000, QueueBufferDuration=661000, \r\n    2022-12-23 10:48:59.476 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:48:59.483 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:48:59.503 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:48:59.507 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:48:59.518 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:48:59.524 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:19.945 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:49:19.986 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:19.990 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:19.999 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:20.055 11010-11010 takePicture()           com.example.camera4                  D  started\r\n    2022-12-23 10:49:20.476 11010-11035 image available         com.example.camera4                  D  true\r\n    2022-12-23 10:49:20.477 11010-11035 save()                  com.example.camera4                  D  called\r\n    2022-12-23 10:49:20.794 11010-11010 example.camera          com.example.camera4                  W  Long monitor contention with owner Camera Background (11035) at void android.hardware.camera2.impl.CameraDeviceImpl.createCaptureSessionInternal(android.hardware.camera2.params.InputConfiguration, java.util.List, android.hardware.camera2.CameraCaptureSession$StateCallback, java.util.concurrent.Executor, int, android.hardware.camera2.CaptureRequest)(CameraDeviceImpl.java:636) waiters=0 in void android.hardware.camera2.impl.CameraDeviceImpl$4.run() for 270ms\r\n    2022-12-23 10:49:20.793 11010-11035 image location=         com.example.camera4                  D  /storage/emulated/0/Android/data/com.example.camera4/files/Myphotodir/image.jpg\r\n    2022-12-23 10:49:20.795 11010-11035 image result=           com.example.camera4                  D  android.hardware.camera2.TotalCaptureResult@37e6a4f\r\n    2022-12-23 10:49:20.805 11010-11010 data                    com.example.camera4                  D  onActivityResult: bytes size=2986\r\n    2022-12-23 10:49:20.807 11010-11010 data                    com.example.camera4                  D  \r\n    2022-12-23 10:49:20.833 11010-11023 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:49:20.837 11010-11023 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:49:20.853 11010-11059 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\r\n    2022-12-23 10:49:20.869 11010-11036 mali_winsys             com.example.camera4                  D  EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, egl_color_buffer_format *, EGLBoolean) returns 0x3000\r\n    2022-12-23 10:49:20.879 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:20.882 11010-11036 chatty                  com.example.camera4                  I  uid=10072(com.example.camera4) RenderThread identical 1 line\r\n    2022-12-23 10:49:20.885 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\r\n    2022-12-23 10:49:20.894 11010-11064 NetworkSecurityConfig   com.example.camera4                  D  No Network Security Config specified, using platform default\r\n    2022-12-23 10:49:20.937 11010-11019 System                  com.example.camera4                  W  A resource failed to call release. \r\n    2022-12-23 10:49:20.975 11010-11019 System                  com.example.camera4                  W  A resource failed to call release. \r\n    2022-12-23 10:49:20.976 11010-11019 System                  com.example.camera4                  W  A resource failed to call close. \r\n    2022-12-23 10:49:22.292 11010-11010 Volley response         com.example.camera4                  D  {&quot;status&quot;:200,&quot;body&quot;:&quot;https:\\/\\/b2b-partnerapp-images.s3.ap-south-1.amazonaws.com\\/itemweightdetails\\/66955be7-47ec-4820-8cc9-0ac64fcebd8b.jpeg&quot;,&quot;isBase64Encoded&quot;:true}\r\n    2022-12-23 10:49:24.031 11010-11036 libEGL                  com.example.camera4                  W  EGLNativeWindowType 0x7995738010 disconnect failed\r\n\r\n","title":"By Using Camera 2 api while using External USB Camera the Captured image are just black Images and Thumpnails","body":"<pre><code>package com.example.camera4;\n\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;Main&quot;;\n    private Button takePictureButton,nextactivity;\n    private TextureView textureView;\n    private ImageView imageView;\n\n\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\n\n    static {\n        ORIENTATIONS.append(Surface.ROTATION_0, 90);\n        ORIENTATIONS.append(Surface.ROTATION_90, 0);\n        ORIENTATIONS.append(Surface.ROTATION_180, 270);\n        ORIENTATIONS.append(Surface.ROTATION_270, 180);\n    }\n\n    private String cameraId;\n    protected CameraDevice cameraDevice;\n    protected CameraCaptureSession cameraCaptureSessions;\n\n    protected CaptureRequest.Builder captureRequestBuilder;\n    private Size imageDimension;\n    private ImageReader imageReader;\n    private File file;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    private boolean mFlashSupported;\n    private Handler mBackgroundHandler;\n    private HandlerThread mBackgroundThread;\n    private String folderName=&quot;Myphotodir&quot;;\n    private File folder;\n    byte[] bytes1 ;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        textureView = (TextureView) findViewById(R.id.texture);\n        assert textureView != null;\n        textureView.setSurfaceTextureListener(textureListener);\n        takePictureButton = findViewById(R.id.btn_takepicture);\n        imageView = findViewById(R.id.imageview);\n        assert takePictureButton != null;\n        nextactivity = findViewById(R.id.nextactivity);\n        nextactivity.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent =  new Intent(MainActivity.this,AndroidCameraApi.class);\n                startActivity(intent);\n            }\n        });\n        takePictureButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                takePicture();\n            }\n        });\n    }\n\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\n        @Override\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n            //open your camera here\n            openCamera();\n        }\n\n        @Override\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\n            // Transform you image captured size according to the surface width and height\n        }\n\n        @Override\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n            return false;\n        }\n\n        @Override\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) {\n        }\n    };\n    private final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\n        @Override\n        public void onOpened(CameraDevice camera) {\n            //This is called when the camera is open\n            Log.e(TAG, &quot;onOpened&quot;);\n            cameraDevice = camera;\n            createCameraPreview();\n        }\n\n        @Override\n        public void onDisconnected(CameraDevice camera) {\n            cameraDevice = camera;\n            closeCamera();\n        }\n\n        @Override\n        public void onError(CameraDevice camera, int error) {\n            cameraDevice = camera;\n            closeCamera();\n        }\n    };\n    final CameraCaptureSession.CaptureCallback captureCallbackListener = new CameraCaptureSession.CaptureCallback() {\n\n        @Override\n        public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\n            super.onCaptureCompleted(session, request, result);\n            Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file, Toast.LENGTH_SHORT).show();\n            createCameraPreview();\n\n        }\n    };\n\n    protected void startBackgroundThread() {\n        mBackgroundThread = new HandlerThread(&quot;Camera Background&quot;);\n        mBackgroundThread.start();\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n    }\n\n    protected void stopBackgroundThread() {\n        mBackgroundThread.quitSafely();\n        try {\n            mBackgroundThread.join();\n            mBackgroundThread = null;\n            mBackgroundHandler = null;\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    protected void takePicture() {\n        if (null == cameraDevice) {\n            Log.e(TAG, &quot;cameraDevice is null&quot;);\n            return;\n        }\n        Log.d(&quot;takePicture()&quot;,&quot;started&quot;);\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        try {\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\n            Size[] jpegSizes = null;\n            if (characteristics != null) {\n                jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\n            }\n            int width = 640;\n            int height = 480;\n            if (jpegSizes != null &amp;&amp; 0 &lt; jpegSizes.length) {\n                width = jpegSizes[0].getWidth();\n                height = jpegSizes[0].getHeight();\n            }\n            ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(1);\n            outputSurfaces.add(reader.getSurface());\n            outputSurfaces.add(new Surface(textureView.getSurfaceTexture()));\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n            captureBuilder.addTarget(reader.getSurface());\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n            // Orientation\n            int rotation = getWindowManager().getDefaultDisplay().getRotation();\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\n            folder = new File(folderName);\n            String timestamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n            String imageFilename = &quot;image&quot;+&quot;.jpg&quot;;\n            file = new File(getExternalFilesDir(folderName),&quot;/&quot;+imageFilename);\n            if (!folder.exists())\n            {\n                folder.mkdirs();\n            }\n\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\n                @Override\n                public void onImageAvailable(ImageReader reader1) {\n                    Log.d(&quot;image available&quot;,&quot;true&quot;);\n                    Image image = null;\n                    try {\n                        image = reader1.acquireNextImage();\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n                        byte[] bytes = new byte[buffer.capacity()];\n                        buffer.get(bytes);\n                        save(bytes);\n                        image.close();\n                    } catch (FileNotFoundException e) {\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                private void save(byte[] bytes) throws IOException {\n                    Log.d(&quot;save()&quot;,&quot;called&quot;);\n                    OutputStream output = null;\n                    try {\n                        output = new FileOutputStream(file);\n                        output.write(bytes);\n                        output.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            };\n            reader.setOnImageAvailableListener(readerListener, mBackgroundHandler);\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\n\n                @Override\n                public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\n                    super.onCaptureCompleted(session, request, result);\n\n                    Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file.getPath(), Toast.LENGTH_LONG).show();\n                    createCameraPreview();\n                    Log.d(&quot;image location=&quot;,String.valueOf(file));\n                    Log.d(&quot;image result=&quot;,String.valueOf(result));\n                }\n\n                public byte[] getBytes(InputStream inputStream) throws IOException {\n\n                    ByteArrayOutputStream byteBuffer = new ByteArrayOutputStream();\n                    int bufferSize = 1024;\n                    byte[] buffer = new byte[bufferSize];\n\n                    int len = 0;\n                    while ((len = inputStream.read(buffer)) != -1) {\n                        byteBuffer.write(buffer, 0, len);\n                        bytes1 =byteBuffer.toByteArray();\n                    }\n                    return bytes1;\n                    }\n            };\n            cameraDevice.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\n                @Override\n                public void onConfigured(CameraCaptureSession session) {\n                    try {\n                        session.capture(captureBuilder.build(), captureListener, mBackgroundHandler);\n                    } catch (CameraAccessException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onConfigureFailed(CameraCaptureSession session) {\n                }\n            }, mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    protected void createCameraPreview() {\n        try {\n            SurfaceTexture texture = textureView.getSurfaceTexture();\n            assert texture != null;\n            texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\n            Surface surface = new Surface(texture);\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.addTarget(surface);\n            cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback() {\n                @Override\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                    //The camera is already closed\n                    if (null == cameraDevice) {\n                        return;\n                    }\n                    // When the session is ready, we start displaying the preview.\n                    cameraCaptureSessions = cameraCaptureSession;\n                    updatePreview();\n                }\n\n                @Override\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                    Toast.makeText(MainActivity.this, &quot;Configuration change&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }, null);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void openCamera() {\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        Log.e(TAG, &quot;is camera open&quot;);\n        try {\n            cameraId = manager.getCameraIdList()[0];\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n            assert map != null;\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\n            // Add permission for camera and let user grant the permission\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\n                return;\n            }\n            manager.openCamera(cameraId, stateCallback, null);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n        Log.e(TAG, &quot;openCamera X&quot;);\n    }\n\n    protected void updatePreview() {\n        if (null == cameraDevice) {\n            Log.e(TAG, &quot;updatePreview error, return&quot;);\n        }\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n        captureRequestBuilder.set(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_AUTO);\n        try {\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(), null, mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n                // close the app\n                Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can't use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Log.e(TAG, &quot;onResume&quot;);\n        startBackgroundThread();\n        if (textureView.isAvailable()) {\n            openCamera();\n        } else {\n            textureView.setSurfaceTextureListener(textureListener);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.e(TAG, &quot;onPause&quot;);\n        //closeCamera();\n        stopBackgroundThread();\n        closeCamera();\n        super.onPause();\n    }\n    @MainThread\n    private void closeCamera() {\n        if (null != cameraDevice) {\n            cameraDevice.close();\n            cameraDevice = null;\n        }\n        if (null != imageReader) {\n            imageReader.close();\n            imageReader = null;\n        }\n    }\n}\n</code></pre>\n<h1>Code Explanation</h1>\n<ul>\n<li>While the app started the camera has been opened by calling openCamera(); function In that function I have been getting the manifest permission and then opening the camera [0]\nWhile Clicking &quot;takePicture(); function&quot; I have been getting the captured image by using &quot;</li>\n<li>ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);&quot;</li>\n<li>I have been getting only one image and then by using</li>\n<li>ImageReader.OnImageAvailableListener inside the listener I have been using\nimage = reader1.acquireNextImage(); to acqure the captured image</li>\n<li>then I have been converting the image to byte and then pass it to the &quot;save() function&quot; in that function I have been saving my captured image and then save them in my local storage</li>\n<li>In reader.setOnImageAvailableListener I have been calling onCaptureCompleted to show the image location and then calling the &quot;createCameraPreview() Function&quot;</li>\n</ul>\n<h2>Description</h2>\n<ul>\n<li>I have been using the above code to capture an image and save it in local storage</li>\n<li>While capturing the image by using a mobile phone with the mobile internal camera it is working properly</li>\n<li>While I tried to take pictures from the POS Billing machine using the External USB camera the camera shows the live feed in ` While I click the &quot;Take Picture Button&quot; The image saved just a black image</li>\n<li>While clicking the &quot;Take Picture Button&quot; it successfully passes through &quot;ImageReader.OnImageAvailableListener&quot; which is used to get the acquirenextimage() and call the &quot;save() function&quot; Which is used to save images in my local storage</li>\n</ul>\n<p><strong>What Do I need</strong></p>\n<ul>\n<li>The above code is working properly when I capture images from my phone and when I have been trying from my POS device the using EXternal USB camera it just saves a black image</li>\n<li>Please provide me an explanation of what I am doing wrong or why the problem acquires the POS device only.</li>\n</ul>\n<p><strong>My LogCat</strong></p>\n<pre><code>---------------------------- PROCESS ENDED (10183) for package com.example.camera4 ----------------------------\n2022-12-23 10:48:56.977   561-7931  ActivityManager         system_process                       E  getPackageFerformanceMode--ComponentInfo{com.example.camera4/com.example.camera4.MainActivity}----com.example.camera4\n2022-12-23 10:48:56.980   561-5053  ActivityManager         system_process                       E  getPackageFerformanceMode--ComponentInfo{com.example.camera4/com.example.camera4.MainActivity}----com.example.camera4\n---------------------------- PROCESS STARTED (11010) for package com.example.camera4 ----------------------------\n2022-12-23 10:48:57.700 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/os/Trace;-&gt;TRACE_TAG_APP:J (light greylist, reflection)\n2022-12-23 10:48:57.700 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (light greylist, reflection)\n2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;left:I (light greylist, linking)\n2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;top:I (light greylist, linking)\n2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;right:I (light greylist, linking)\n2022-12-23 10:48:57.841 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/graphics/Insets;-&gt;bottom:I (light greylist, linking)\n2022-12-23 10:48:57.890 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden field Landroid/view/WindowInsets;-&gt;CONSUMED:Landroid/view/WindowInsets; (light greylist, reflection)\n2022-12-23 10:48:57.958 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\n2022-12-23 10:48:57.959 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\n2022-12-23 10:48:58.130 11010-11010 Main                    com.example.camera4                  E  onResume\n2022-12-23 10:48:58.142 11010-11010 OpenGLRenderer          com.example.camera4                  D  Skia GL Pipeline\n2022-12-23 10:48:58.212 11010-11036 mali_so                 com.example.camera4                  I  [File] : hardware/arm/mali_so/driver/product/base/src/mali_base_kbase.c; [Line] : 876; [Func] : base_context_deal_with_version_affairs_rk_ext;\n                                                                                                    arm_release_ver of this mali_so is 'r18p0-01rel0', rk_so_ver is '15@0'.\n2022-12-23 10:48:58.213 11010-11036 mali_so                 com.example.camera4                  D  [File] : hardware/arm/mali_so/driver/product/base/src/mali_base_kbase.c; [Line] : 881; [Func] : base_context_deal_with_version_affairs_rk_ext;\n                                                                                                    current process is NOT sf, to bail out.\n2022-12-23 10:48:58.236 11010-11036 ConfigStore             com.example.camera4                  I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0\n2022-12-23 10:48:58.236 11010-11036 ConfigStore             com.example.camera4                  I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0\n2022-12-23 10:48:58.236 11010-11036 OpenGLRenderer          com.example.camera4                  I  Initialized EGL, version 1.4\n2022-12-23 10:48:58.236 11010-11036 OpenGLRenderer          com.example.camera4                  D  Swap behavior 2\n2022-12-23 10:48:58.247 11010-11036 mali_winsys             com.example.camera4                  D  EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, egl_color_buffer_format *, EGLBoolean) returns 0x3000\n2022-12-23 10:48:58.280 11010-11010 Main                    com.example.camera4                  E  is camera open\n2022-12-23 10:48:58.281 11010-11010 CameraManagerGlobal     com.example.camera4                  I  Connecting to camera service\n2022-12-23 10:48:58.294 11010-11010 camera level            com.example.camera4                  D  4\n2022-12-23 10:48:59.024 11010-11010 Main                    com.example.camera4                  E  openCamera X\n2022-12-23 10:48:59.086 11010-11036 GRALLOC-ROCKCHIP        com.example.camera4                  D  RK_GRAPHICS_VER=commit-id:dc44fa2\n2022-12-23 10:48:59.110 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:48:59.146 11010-11036 chatty                  com.example.camera4                  I  uid=10072(com.example.camera4) RenderThread identical 10 lines\n2022-12-23 10:48:59.150 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:48:59.153 11010-11036 OpenGLRenderer          com.example.camera4                  I  Davey! duration=973ms; Flags=0, IntendedVsync=17676652385667, Vsync=17676735718997, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=17676746187254, AnimationStart=17676746254045, PerformTraversalsStart=17676746778170, DrawStart=17676751392046, SyncQueued=17677553044460, SyncStart=17677553731626, IssueDrawCommandsStart=17677553857043, SwapBuffers=17677624795634, FrameCompleted=17677627029217, DequeueBufferDuration=510000, QueueBufferDuration=417000, \n2022-12-23 10:48:59.171 11010-11010 Choreographer           com.example.camera4                  I  Skipped 53 frames!  The application may be doing too much work on its main thread.\n2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (light greylist, reflection)\n2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (light greylist, reflection)\n2022-12-23 10:48:59.185 11010-11010 example.camera          com.example.camera4                  W  Accessing hidden method Landroid/os/Trace;-&gt;traceCounter(JLjava/lang/String;I)V (light greylist, reflection)\n2022-12-23 10:48:59.202 11010-11010 Main                    com.example.camera4                  E  onOpened\n2022-12-23 10:48:59.206 11010-11036 OpenGLRenderer          com.example.camera4                  I  Davey! duration=927ms; Flags=0, IntendedVsync=17676752273366, Vsync=17677635606664, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=17677645137927, AnimationStart=17677645220761, PerformTraversalsStart=17677646040052, DrawStart=17677646535011, SyncQueued=17677657101220, SyncStart=17677657157803, IssueDrawCommandsStart=17677657277970, SwapBuffers=17677676895764, FrameCompleted=17677679493347, DequeueBufferDuration=190000, QueueBufferDuration=661000, \n2022-12-23 10:48:59.476 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:48:59.483 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:48:59.503 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:48:59.507 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:48:59.518 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:48:59.524 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:19.945 11010-11024 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:49:19.986 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:19.990 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:19.999 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:20.055 11010-11010 takePicture()           com.example.camera4                  D  started\n2022-12-23 10:49:20.476 11010-11035 image available         com.example.camera4                  D  true\n2022-12-23 10:49:20.477 11010-11035 save()                  com.example.camera4                  D  called\n2022-12-23 10:49:20.794 11010-11010 example.camera          com.example.camera4                  W  Long monitor contention with owner Camera Background (11035) at void android.hardware.camera2.impl.CameraDeviceImpl.createCaptureSessionInternal(android.hardware.camera2.params.InputConfiguration, java.util.List, android.hardware.camera2.CameraCaptureSession$StateCallback, java.util.concurrent.Executor, int, android.hardware.camera2.CaptureRequest)(CameraDeviceImpl.java:636) waiters=0 in void android.hardware.camera2.impl.CameraDeviceImpl$4.run() for 270ms\n2022-12-23 10:49:20.793 11010-11035 image location=         com.example.camera4                  D  /storage/emulated/0/Android/data/com.example.camera4/files/Myphotodir/image.jpg\n2022-12-23 10:49:20.795 11010-11035 image result=           com.example.camera4                  D  android.hardware.camera2.TotalCaptureResult@37e6a4f\n2022-12-23 10:49:20.805 11010-11010 data                    com.example.camera4                  D  onActivityResult: bytes size=2986\n2022-12-23 10:49:20.807 11010-11010 data                    com.example.camera4                  D  \n2022-12-23 10:49:20.833 11010-11023 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:49:20.837 11010-11023 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:49:20.853 11010-11059 [Gralloc]               com.example.camera4                  I  for nv12, w : 160, h : 120, pixel_stride : 160, byte_stride : 160, size : 38400; internalHeight : 120.\n2022-12-23 10:49:20.869 11010-11036 mali_winsys             com.example.camera4                  D  EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, egl_color_buffer_format *, EGLBoolean) returns 0x3000\n2022-12-23 10:49:20.879 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:20.882 11010-11036 chatty                  com.example.camera4                  I  uid=10072(com.example.camera4) RenderThread identical 1 line\n2022-12-23 10:49:20.885 11010-11036 &lt;no-tag&gt;                com.example.camera4                  D  set stream to NULL\n2022-12-23 10:49:20.894 11010-11064 NetworkSecurityConfig   com.example.camera4                  D  No Network Security Config specified, using platform default\n2022-12-23 10:49:20.937 11010-11019 System                  com.example.camera4                  W  A resource failed to call release. \n2022-12-23 10:49:20.975 11010-11019 System                  com.example.camera4                  W  A resource failed to call release. \n2022-12-23 10:49:20.976 11010-11019 System                  com.example.camera4                  W  A resource failed to call close. \n2022-12-23 10:49:22.292 11010-11010 Volley response         com.example.camera4                  D  {&quot;status&quot;:200,&quot;body&quot;:&quot;https:\\/\\/b2b-partnerapp-images.s3.ap-south-1.amazonaws.com\\/itemweightdetails\\/66955be7-47ec-4820-8cc9-0ac64fcebd8b.jpeg&quot;,&quot;isBase64Encoded&quot;:true}\n2022-12-23 10:49:24.031 11010-11036 libEGL                  com.example.camera4                  W  EGLNativeWindowType 0x7995738010 disconnect failed\n</code></pre>\n"},{"tags":["java","android","arrays"],"answers":[{"tags":[],"owner":{"account_id":85376,"reputation":15716,"user_id":238052,"accept_rate":66,"display_name":"gmhk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671761976,"creation_date":1671761976,"answer_id":74895555,"question_id":74895520,"body_markdown":"To fix this error, you need to make sure that the array is not empty before trying to access its elements. You can do this by checking the length of the array before attempting to access its elements:\r\n\r\n    int[] arr = new int[0];\r\n    if (arr.length &gt; 0) {\r\n        int firstElement = arr[0];\r\n    } else {\r\n        // handle the case where the array is empty\r\n    }\r\n\r\nAlternatively, you can use a try-catch block to handle the exception when it is thrown:\r\n\r\n    int[] arr = new int[0];\r\n    try {\r\n        int firstElement = arr[0];\r\n    } catch (ArrayIndexOutOfBoundsException e) {\r\n        // handle the exception\r\n    }","title":"java.lang.ArrayIndexOutOfBoundsException: length=0; index=0","body":"<p>To fix this error, you need to make sure that the array is not empty before trying to access its elements. You can do this by checking the length of the array before attempting to access its elements:</p>\n<pre><code>int[] arr = new int[0];\nif (arr.length &gt; 0) {\n    int firstElement = arr[0];\n} else {\n    // handle the case where the array is empty\n}\n</code></pre>\n<p>Alternatively, you can use a try-catch block to handle the exception when it is thrown:</p>\n<pre><code>int[] arr = new int[0];\ntry {\n    int firstElement = arr[0];\n} catch (ArrayIndexOutOfBoundsException e) {\n    // handle the exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671771907,"creation_date":1671771907,"answer_id":74896295,"question_id":74895520,"body_markdown":"In your wordJumble function replace \r\n````\r\nfor(int i=0 ; i&lt; wordArray.length-1 ; i++ )\r\n    {\r\n        int j = random.nextInt(wordArray.length-1);\r\n        char temp = wordArray[i];\r\n        wordArray[i] = wordArray[j];\r\n        wordArray[j] = temp;\r\n    }\r\n````\r\n\r\nwith\r\n````\r\nfor(int i=0 ; i&lt; wordArray.length ; i++ )\r\n    {\r\n        int j = random.nextInt(wordArray.length-1);\r\n        char temp = wordArray[i];\r\n        wordArray[i] = wordArray[j];\r\n        wordArray[j] = temp;\r\n    }\r\n````\r\n\r\nyou are already using &lt; for loop till length-1. No need to specify again length-1 as it will check till second last element.","title":"java.lang.ArrayIndexOutOfBoundsException: length=0; index=0","body":"<p>In your wordJumble function replace</p>\n<pre><code>for(int i=0 ; i&lt; wordArray.length-1 ; i++ )\n    {\n        int j = random.nextInt(wordArray.length-1);\n        char temp = wordArray[i];\n        wordArray[i] = wordArray[j];\n        wordArray[j] = temp;\n    }\n</code></pre>\n<p>with</p>\n<pre><code>for(int i=0 ; i&lt; wordArray.length ; i++ )\n    {\n        int j = random.nextInt(wordArray.length-1);\n        char temp = wordArray[i];\n        wordArray[i] = wordArray[j];\n        wordArray[j] = temp;\n    }\n</code></pre>\n<p>you are already using &lt; for loop till length-1. No need to specify again length-1 as it will check till second last element.</p>\n"}],"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1671801203,"answer_count":2,"score":-3,"last_activity_date":1671771907,"creation_date":1671761438,"question_id":74895520,"body_markdown":"I&#39;m creating a jumbled word game. At first I only have 3 levels, but when I try to add another levels, I got this error &quot; java.lang.ArrayIndexOutOfBoundsException: length=0; index=0 &quot; \r\n\r\nThis part is where the error \r\n\r\n\r\n```\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n    final String [] str=quesWord.toArray(new String[quesWord.size()]);\r\n    attemptsLeft.setText(&quot;Attempts left: &quot;+chances);\r\n    points.setText(&quot;Score: &quot;+score);\r\n    jumbleWord.setText(wordJumble(str[0]));\r\n    b.setOnClickListener(new OnClickListener() {\r\n        int j=0;\r\n        int len=str.length;\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic static String wordJumble(String word )\r\n{\r\n    Random random = new Random();\r\n    char wordArray[] = word.toCharArray();\r\n    for(int i=0 ; i&lt; wordArray.length-1 ; i++ )\r\n    {\r\n        int j = random.nextInt(wordArray.length-1);\r\n        char temp = wordArray[i];\r\n        wordArray[i] = wordArray[j];\r\n        wordArray[j] = temp;\r\n    }\r\n    if(wordArray.toString().equals(word)){\r\n        wordJumble(word);\r\n    }\r\n    return new String(wordArray);\r\n}\r\n```\r\n```\r\npublic void fetchWords(){\r\n    try{\r\n        c=db.rawQuery(&quot;select * from wordscramble where level=&#39;&quot;+lv+&quot;&#39;&quot;,null);\r\n        while(c.moveToNext()){\r\n            s=c.getString(0);\r\n            quesWord.add(s);\r\n        }\r\n        Collections.shuffle(quesWord);\r\n    }\r\n    catch(Exception e){\r\n\r\n    }\r\n}\r\n```\r\n","title":"java.lang.ArrayIndexOutOfBoundsException: length=0; index=0","body":"<p>I'm creating a jumbled word game. At first I only have 3 levels, but when I try to add another levels, I got this error &quot; java.lang.ArrayIndexOutOfBoundsException: length=0; index=0 &quot;</p>\n<p>This part is where the error</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    final String [] str=quesWord.toArray(new String[quesWord.size()]);\n    attemptsLeft.setText(&quot;Attempts left: &quot;+chances);\n    points.setText(&quot;Score: &quot;+score);\n    jumbleWord.setText(wordJumble(str[0]));\n    b.setOnClickListener(new OnClickListener() {\n        int j=0;\n        int len=str.length;\n</code></pre>\n<pre><code>public static String wordJumble(String word )\n{\n    Random random = new Random();\n    char wordArray[] = word.toCharArray();\n    for(int i=0 ; i&lt; wordArray.length-1 ; i++ )\n    {\n        int j = random.nextInt(wordArray.length-1);\n        char temp = wordArray[i];\n        wordArray[i] = wordArray[j];\n        wordArray[j] = temp;\n    }\n    if(wordArray.toString().equals(word)){\n        wordJumble(word);\n    }\n    return new String(wordArray);\n}\n</code></pre>\n<pre><code>public void fetchWords(){\n    try{\n        c=db.rawQuery(&quot;select * from wordscramble where level='&quot;+lv+&quot;'&quot;,null);\n        while(c.moveToNext()){\n            s=c.getString(0);\n            quesWord.add(s);\n        }\n        Collections.shuffle(quesWord);\n    }\n    catch(Exception e){\n\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","dependencies","maven-3"],"comments":[{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":1,"creation_date":1671552033,"post_id":74864854,"comment_id":132121331,"body_markdown":"where did you add `${user.home}\\my-repository\\path\\to\\the\\artifact\\version\\dependency-version.jar` ? Could you add more info: 1. your `pom.xml` 2. do you use some custom `settings.xml` for maven?","body":"where did you add <code>${user.home}\\my-repository\\path\\to\\the\\artifact\\version\\depe&zwnj;&#8203;ndency-version.jar</code> ? Could you add more info: 1. your <code>pom.xml</code> 2. do you use some custom <code>settings.xml</code> for maven?"},{"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"score":0,"creation_date":1671614416,"post_id":74864854,"comment_id":132134832,"body_markdown":"@Rustam - Here are a few complementary information:\n1) ${user.home} is the placeholder set in the setting.xml in the localRepository element, which refers to the .m2 directory under the current user directory.\n2) the setting.xml is set at project-level into the .mvn directory along with a maven,config file.\n3) I am not entitled to provide any of the pom.xml files (NDA stuff)","body":"@Rustam - Here are a few complementary information: 1) ${user.home} is the placeholder set in the setting.xml in the localRepository element, which refers to the .m2 directory under the current user directory. 2) the setting.xml is set at project-level into the .mvn directory along with a maven,config file. 3) I am not entitled to provide any of the pom.xml files (NDA stuff)"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671615253,"post_id":74864854,"comment_id":132135107,"body_markdown":"got it, it is not necessary to provide all `pom.xml`, just which plugin is used inside your `&lt;build&gt;`, do you use some repositories in &lt;repositories&gt;? Looks like there are lack of information in your  setting.xml, and also looks like you have repositories tag in pom.xml with `https://host:port..`, however it should be some placeholder for `host` and `port`. You have to config setting.xml correctly: https://maven.apache.org/settings.html","body":"got it, it is not necessary to provide all <code>pom.xml</code>, just which plugin is used inside your <code>&lt;build&gt;</code>, do you use some repositories in &lt;repositories&gt;? Looks like there are lack of information in your  setting.xml, and also looks like you have repositories tag in pom.xml with <code>https:&#47;&#47;host:port..</code>, however it should be some placeholder for <code>host</code> and <code>port</code>. You have to config setting.xml correctly: <a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html</a>"},{"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"score":0,"creation_date":1671771059,"post_id":74864854,"comment_id":132172972,"body_markdown":"@Rustam - As mentioned in my latest edits, the repositories tag are in the `.mvn/settings.xml` (instead of the pom.xml) with `&lt;url&gt;https://host:port/repository/my-repo/&lt;/url&gt;`. Searching here and there I am just wondering if I should add from SSL-related properties into the MAVEN_OPTS","body":"@Rustam - As mentioned in my latest edits, the repositories tag are in the <code>.mvn&#47;settings.xml</code> (instead of the pom.xml) with <code>&lt;url&gt;https:&#47;&#47;host:port&#47;repository&#47;my-repo&#47;&lt;&#47;url&gt;</code>. Searching here and there I am just wondering if I should add from SSL-related properties into the MAVEN_OPTS"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1671785913,"post_id":74864854,"comment_id":132175484,"body_markdown":"`https://host:port`  is not correct, use necessary `host` and `port`","body":"<code>https:&#47;&#47;host:port</code>  is not correct, use necessary <code>host</code> and <code>port</code>"}],"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671770493,"creation_date":1671547728,"question_id":74864854,"body_markdown":"I have the following issue on a Maven project (with Maven 3.8.1):\r\n```\r\nCompilation failure\r\nerror: error reading ${user.home}\\my-repository\\path\\to\\the\\artifact\\version\\dependency-version.jar; error in opening zip file\r\n```\r\n\r\nI have found a lot of posts on the matter (such as https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven/47405114) but none with a reliable solution.\r\nThe only workaround that helps is to manual download the JAR file from a browser and save it at the location mentioned in the error.\r\n\r\n\r\nIn my case, I would like to know if the fact that the repository is over HTTPS and using an internal Certificate Authority could be the cause since:\r\n\r\n - while investigating the issue, I saw warnings as follow:\r\n```\r\n[WARNING] Checksum validation failed, expected &lt;!DOCTYPE but is 963eb274a2ab77544a448a617489e097a3797b81 from my-maven-repo for https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\r\n[WARNING] Could not validate integrity of download from https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\r\norg.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, expected &lt;!DOCTYPE but is 1bc04ac588e7b7f3a35851e63e9ff5f507579567\r\n    at org.eclipse.aether.connector.basic.ChecksumValidator.validateExternalChecksums (ChecksumValidator.java:174)\r\n    ...\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n[WARNING] Checksum validation failed, expected &lt;!DOCTYPE but is 1bc04ac588e7b7f3a35851e63e9ff5f507579567 from my-maven-repo for https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\r\nDownloaded from my-maven-repo: https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom (19 kB at 7.4 kB/s)\r\n[WARNING] The POM for path.to.the:artifact:jar:version is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n```\r\n - then, when opening *https://host:port/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom* into a browser, it returns an error as :\r\n***NET::ERR_CERT_AUTHORITY_INVALID***\r\n\r\nIf so, how can I solved it?\r\n\r\n----------\r\n\r\n**NOTE**:\r\n - ${user.home} is the placeholder set in the *setting.xml* in the\r\n   *localRepository* element, which refers to the .m2 directory under the\r\n   current user directory. \r\n - the *setting.xml* is set at project-level into\r\n   the *.mvn* directory, along with a *maven.config* file, and holds all *repositories* configurations.\r\n\r\n----------\r\n\r\nThe pom.xml *&lt;build&gt;* section:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;excludes&gt;\r\n              &lt;exclude&gt;**/*.conf&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n          &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n    \r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.2&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n                &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;java.util.logging.config.file&lt;/name&gt;\r\n                            &lt;value&gt;${project.basedir}/src/main/resources/test/logging.properties&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;some_prop&lt;/name&gt;\r\n                            &lt;value&gt;some_value&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webappDirectory&gt;${basedir}/target/tmp&lt;/webappDirectory&gt;\r\n                    &lt;packagingIncludes&gt;WEB-INF/lib/*.jar,\r\n                    **/*.xml,**/*.idmap,**/*.info,\r\n                    **/*.properties,**/*.class,**/*.png,**/*.css,**/*.js,**/*.jsp,**/MANIFEST.MF\r\n                    &lt;/packagingIncludes&gt;\r\n    \r\n                    &lt;webxml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webxml&gt;\r\n                    &lt;webResources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                        &lt;exclude&gt;*.properties&lt;/exclude&gt;\r\n                    &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-war&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;war&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven dependency jar file corrupted &quot;error in opening zip file&quot;","body":"<p>I have the following issue on a Maven project (with Maven 3.8.1):</p>\n<pre><code>Compilation failure\nerror: error reading ${user.home}\\my-repository\\path\\to\\the\\artifact\\version\\dependency-version.jar; error in opening zip file\n</code></pre>\n<p>I have found a lot of posts on the matter (such as <a href=\"https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven/47405114\">Maven : error in opening zip file when running maven</a>) but none with a reliable solution.\nThe only workaround that helps is to manual download the JAR file from a browser and save it at the location mentioned in the error.</p>\n<p>In my case, I would like to know if the fact that the repository is over HTTPS and using an internal Certificate Authority could be the cause since:</p>\n<ul>\n<li>while investigating the issue, I saw warnings as follow:</li>\n</ul>\n<pre><code>[WARNING] Checksum validation failed, expected &lt;!DOCTYPE but is 963eb274a2ab77544a448a617489e097a3797b81 from my-maven-repo for https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\n[WARNING] Could not validate integrity of download from https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\norg.eclipse.aether.transfer.ChecksumFailureException: Checksum validation failed, expected &lt;!DOCTYPE but is 1bc04ac588e7b7f3a35851e63e9ff5f507579567\n    at org.eclipse.aether.connector.basic.ChecksumValidator.validateExternalChecksums (ChecksumValidator.java:174)\n    ...\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[WARNING] Checksum validation failed, expected &lt;!DOCTYPE but is 1bc04ac588e7b7f3a35851e63e9ff5f507579567 from my-maven-repo for https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom\nDownloaded from my-maven-repo: https://&lt;host&gt;:&lt;port&gt;/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom (19 kB at 7.4 kB/s)\n[WARNING] The POM for path.to.the:artifact:jar:version is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n</code></pre>\n<ul>\n<li>then, when opening <em>https://host:port/repository/my-maven-repo/path/to/the/artifact/version/dependency-version.pom</em> into a browser, it returns an error as :\n<em><strong>NET::ERR_CERT_AUTHORITY_INVALID</strong></em></li>\n</ul>\n<p>If so, how can I solved it?</p>\n<hr />\n<p><strong>NOTE</strong>:</p>\n<ul>\n<li>${user.home} is the placeholder set in the <em>setting.xml</em> in the\n<em>localRepository</em> element, which refers to the .m2 directory under the\ncurrent user directory.</li>\n<li>the <em>setting.xml</em> is set at project-level into\nthe <em>.mvn</em> directory, along with a <em>maven.config</em> file, and holds all <em>repositories</em> configurations.</li>\n</ul>\n<hr />\n<p>The pom.xml <em></em> section:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;**/*.conf&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;${jdk.version}&lt;/source&gt;\n            &lt;target&gt;${jdk.version}&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;systemProperties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;java.util.logging.config.file&lt;/name&gt;\n                        &lt;value&gt;${project.basedir}/src/main/resources/test/logging.properties&lt;/value&gt;\n                    &lt;/property&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;some_prop&lt;/name&gt;\n                        &lt;value&gt;some_value&lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/systemProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webappDirectory&gt;${basedir}/target/tmp&lt;/webappDirectory&gt;\n                &lt;packagingIncludes&gt;WEB-INF/lib/*.jar,\n                **/*.xml,**/*.idmap,**/*.info,\n                **/*.properties,**/*.class,**/*.png,**/*.css,**/*.js,**/*.jsp,**/MANIFEST.MF\n                &lt;/packagingIncludes&gt;\n\n                &lt;webxml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webxml&gt;\n                &lt;webResources&gt;\n                &lt;resource&gt;\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                    &lt;exclude&gt;*.properties&lt;/exclude&gt;\n                &lt;/resource&gt;\n                &lt;/webResources&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-war&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;war&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":16799302,"reputation":1015,"user_id":12144992,"display_name":"Seth E"},"score":0,"creation_date":1672095885,"post_id":74895681,"comment_id":132221028,"body_markdown":"if `isUserAuthorized()` returns a boolean, why do you use `isAuthorized = isUserAuthorized()?true:false;`.  You can just use `isAuthorized = isUserAuthorized()`","body":"if <code>isUserAuthorized()</code> returns a boolean, why do you use <code>isAuthorized = isUserAuthorized()?true:false;</code>.  You can just use <code>isAuthorized = isUserAuthorized()</code>"}],"answers":[{"comments":[{"owner":{"account_id":15656572,"reputation":119,"user_id":11296746,"display_name":"anonymous_coder"},"score":0,"creation_date":1672159420,"post_id":74895833,"comment_id":132232680,"body_markdown":"the isAuthorized() method doesn&#39;t actually return boolean.\nhere&#39;s the code\n\npublic Object isAuthorized() {\nif(some condition){\n//do something\n}\nelse{\n//set boolen value to true\n}","body":"the isAuthorized() method doesn&#39;t actually return boolean. here&#39;s the code  public Object isAuthorized() { if(some condition){ //do something } else{ //set boolen value to true }"}],"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671765940,"creation_date":1671765940,"answer_id":74895833,"question_id":74895681,"body_markdown":"Instead of keeping track of the state of the boolean variable, usually we perform some action based on the positive condition:\r\n\r\n    public Response getUserData(User user){\r\n        if (isUserAuthorized()) {\r\n            // actions that should happen only when authorized\r\n        } else {\r\n            // actions that should happen only when NOT authorized \r\n        }\r\n    }\r\n\r\nBut if you really want to keep track of that state, you can always set the variable to false at the end of the method call:\r\n\r\n    //check if user is authorized\r\n    isAuthorized = isUserAuthorized()?true:false;\r\n    //perform other things based on above boolean\r\n    isAuthorized = false;\r\n    return someResponse;\r\n\r\nNote: that may cause issues related to concurrency, but if that doesn&#39;t concern you, no harm.","title":"how to initialize a boolean variable for every api call?","body":"<p>Instead of keeping track of the state of the boolean variable, usually we perform some action based on the positive condition:</p>\n<pre><code>public Response getUserData(User user){\n    if (isUserAuthorized()) {\n        // actions that should happen only when authorized\n    } else {\n        // actions that should happen only when NOT authorized \n    }\n}\n</code></pre>\n<p>But if you really want to keep track of that state, you can always set the variable to false at the end of the method call:</p>\n<pre><code>//check if user is authorized\nisAuthorized = isUserAuthorized()?true:false;\n//perform other things based on above boolean\nisAuthorized = false;\nreturn someResponse;\n</code></pre>\n<p>Note: that may cause issues related to concurrency, but if that doesn't concern you, no harm.</p>\n"},{"tags":[],"owner":{"account_id":7444496,"reputation":521,"user_id":5661175,"display_name":"erik.aortiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671769163,"creation_date":1671769163,"answer_id":74896065,"question_id":74895681,"body_markdown":"if you want to call a business logic method for all api methods, you need to use a web HandlerInterceptor, by example:\r\n\r\n    @Component\r\n    public class AppInterceptor implements HandlerInterceptor {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(AppInterceptor.class);\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            var authorized = UserIsAuthorizedDummy(); // &lt;- you business logic here\r\n            request.setAttribute(&quot;is_authorized&quot;, authorized);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {}\r\n    \r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception) {}\r\n    \r\n        private boolean UserIsAuthorizedDummy() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd configure this interceptor with a **WebMvcConfigurer** implementation, by example:\r\n\r\n    @Configuration\r\n    public class AppConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        AppInterceptor appInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(appInterceptor);\r\n        }\r\n    }\r\n\r\nThen you can use it in you controller methods, and you will see and access the **is_authorized** atrribute from request object. example:\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    \tpublic LocalResponse getUser(HttpServletRequest request) {\r\n    \t\tvar response = new LocalResponse();\r\n    \t\t// check AppInterceptor.preHandle() to see when &quot;is_authorized&quot; attribute is set\r\n    \t\tresponse.setAuthorized((boolean) request.getAttribute(&quot;is_authorized&quot;));\r\n    \r\n    \t\tif (response.isAuthorized()) {\r\n    \t\t\tresponse.setUserId(&quot;1111&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn response;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/profile&quot;)\r\n    \tpublic LocalResponse getProfile(HttpServletRequest request) {\r\n    \t\tvar response = new LocalResponse();\r\n    \t\t// check AppInterceptor.preHandle() to see when &quot;is_authorized&quot; attribute is set\r\n    \t\tresponse.setAuthorized((boolean) request.getAttribute(&quot;is_authorized&quot;));\r\n    \r\n    \t\tif (response.isAuthorized()) {\r\n    \t\t\tresponse.setUserId(&quot;1111-22222&quot;);\r\n    \t\t}\r\n    \r\n    \t\treturn response;\r\n    \t}\r\n\r\nYou can see a working example in the following repository: https://github.com/eriknyk/springboot-web-interceptor-demo/","title":"how to initialize a boolean variable for every api call?","body":"<p>if you want to call a business logic method for all api methods, you need to use a web HandlerInterceptor, by example:</p>\n<pre><code>@Component\npublic class AppInterceptor implements HandlerInterceptor {\n\n    private static Logger logger = LoggerFactory.getLogger(AppInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        var authorized = UserIsAuthorizedDummy(); // &lt;- you business logic here\n        request.setAttribute(&quot;is_authorized&quot;, authorized);\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {}\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception) {}\n\n    private boolean UserIsAuthorizedDummy() {\n        return true;\n    }\n}\n</code></pre>\n<p>And configure this interceptor with a <strong>WebMvcConfigurer</strong> implementation, by example:</p>\n<pre><code>@Configuration\npublic class AppConfig implements WebMvcConfigurer {\n    @Autowired\n    AppInterceptor appInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(appInterceptor);\n    }\n}\n</code></pre>\n<p>Then you can use it in you controller methods, and you will see and access the <strong>is_authorized</strong> atrribute from request object. example:</p>\n<pre><code>@GetMapping(&quot;/user&quot;)\n    public LocalResponse getUser(HttpServletRequest request) {\n        var response = new LocalResponse();\n        // check AppInterceptor.preHandle() to see when &quot;is_authorized&quot; attribute is set\n        response.setAuthorized((boolean) request.getAttribute(&quot;is_authorized&quot;));\n\n        if (response.isAuthorized()) {\n            response.setUserId(&quot;1111&quot;);\n        }\n\n        return response;\n    }\n\n    @GetMapping(&quot;/profile&quot;)\n    public LocalResponse getProfile(HttpServletRequest request) {\n        var response = new LocalResponse();\n        // check AppInterceptor.preHandle() to see when &quot;is_authorized&quot; attribute is set\n        response.setAuthorized((boolean) request.getAttribute(&quot;is_authorized&quot;));\n\n        if (response.isAuthorized()) {\n            response.setUserId(&quot;1111-22222&quot;);\n        }\n\n        return response;\n    }\n</code></pre>\n<p>You can see a working example in the following repository: <a href=\"https://github.com/eriknyk/springboot-web-interceptor-demo/\" rel=\"nofollow noreferrer\">https://github.com/eriknyk/springboot-web-interceptor-demo/</a></p>\n"}],"owner":{"account_id":15656572,"reputation":119,"user_id":11296746,"display_name":"anonymous_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672235046,"answer_count":2,"score":-1,"last_activity_date":1671769163,"creation_date":1671763779,"question_id":74895681,"body_markdown":"i have an api\r\n\r\n    public interface UserService{\r\n    \r\n    @GetMapping(&quot;/get-user-data&quot;)\r\n    public Response getUserData();\r\n    \r\n    }\r\n\r\ni have my impl as below\r\n\r\n    public class UserServiceImpl implements UserService{\r\n\r\n    private boolean isAuthorized = false;\r\n\r\n    public Response getUserData(User user){\r\n        //check if user is authorized\r\n        isAuthorized = isUserAuthorized()?true:false;\r\n        //perform other things based on above boolean\r\n        return someResponse;\r\n        }\r\n    }\r\n\r\ni want this boolean &quot;isAuthorized&quot; must be set to false for every call to this api. whatever i have above isn&#39;t working, how to achieve this?","title":"how to initialize a boolean variable for every api call?","body":"<p>i have an api</p>\n<pre><code>public interface UserService{\n\n@GetMapping(&quot;/get-user-data&quot;)\npublic Response getUserData();\n\n}\n</code></pre>\n<p>i have my impl as below</p>\n<pre><code>public class UserServiceImpl implements UserService{\n\nprivate boolean isAuthorized = false;\n\npublic Response getUserData(User user){\n    //check if user is authorized\n    isAuthorized = isUserAuthorized()?true:false;\n    //perform other things based on above boolean\n    return someResponse;\n    }\n}\n</code></pre>\n<p>i want this boolean &quot;isAuthorized&quot; must be set to false for every call to this api. whatever i have above isn't working, how to achieve this?</p>\n"},{"tags":["java","android","android-studio","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":22229891,"reputation":9,"user_id":16466250,"display_name":"Daudi Mabula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671751772,"creation_date":1671751772,"answer_id":74894805,"question_id":74893519,"body_markdown":"You have to use fragment transactions to show one fragment and remove the other in the UI like in the code below.\r\n\r\n    profileFragment = new ProfileFragment();\r\n    changePassFragement= new ChangePassFragment();\r\n    changePassBtn.setonClickListener(e-&gt;{\r\n    getSupportFragmentManager().beginTransaction().replace(R.id.profileLayout,changePassFragment).commit()\r\n    });\r\n\r\nand to replace back useprofileFragment instead of changePassFragment and the required layout in the replace() method.","title":"How can I change the fragment in current fragment?","body":"<p>You have to use fragment transactions to show one fragment and remove the other in the UI like in the code below.</p>\n<pre><code>profileFragment = new ProfileFragment();\nchangePassFragement= new ChangePassFragment();\nchangePassBtn.setonClickListener(e-&gt;{\ngetSupportFragmentManager().beginTransaction().replace(R.id.profileLayout,changePassFragment).commit()\n});\n</code></pre>\n<p>and to replace back useprofileFragment instead of changePassFragment and the required layout in the replace() method.</p>\n"},{"tags":[],"owner":{"account_id":27227856,"reputation":46,"user_id":20756071,"display_name":"Vivek Dangariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671769139,"creation_date":1671769139,"answer_id":74896061,"question_id":74893519,"body_markdown":"You can use fragment transaction manager to add the new fragments.Given code.   \r\n\r\n    changePassBtn.setOnClickListener(new View.OnClickListener(){\r\n    @Override\r\n    public void onClick(View v){\r\n    FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();   \r\n    transaction.replace(R.id.profile, new ChangePassFragment());\r\n    transaction.commit();\r\n    }\r\n    });\r\nAnd again you can use the same code for return to the profile fragment by using replace method. ","title":"How can I change the fragment in current fragment?","body":"<p>You can use fragment transaction manager to add the new fragments.Given code.</p>\n<pre><code>changePassBtn.setOnClickListener(new View.OnClickListener(){\n@Override\npublic void onClick(View v){\nFragmentTransaction transaction = getSupportFragmentManager().beginTransaction();   \ntransaction.replace(R.id.profile, new ChangePassFragment());\ntransaction.commit();\n}\n});\n</code></pre>\n<p>And again you can use the same code for return to the profile fragment by using replace method.</p>\n"}],"owner":{"account_id":21519813,"reputation":181,"user_id":15861110,"display_name":"Muhammet Aydoğan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74896061,"answer_count":2,"score":0,"last_activity_date":1671769139,"creation_date":1671740704,"question_id":74893519,"body_markdown":"I am developing a mobile application using with java in android studio.I am new to this environment.I have bottom navigation bar with 3 menu item (Home,Add article,Profile).\r\n\r\n    &lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/home&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_home_24&quot;\r\n            android:title=&quot;Home&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/article&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_post_add_24&quot;\r\n            android:title=&quot;Article&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/profile&quot;\r\n            android:icon=&quot;@drawable/ic_baseline_person_24&quot;\r\n            android:title=&quot;Profile&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n\r\nand in profile fragment I have two buttons(change password,update profile informations).When I click the change password button,I want to change current fragment to changePasswordFragment.But navigation bar has to be shown at the bottom . How can I figure that?","title":"How can I change the fragment in current fragment?","body":"<p>I am developing a mobile application using with java in android studio.I am new to this environment.I have bottom navigation bar with 3 menu item (Home,Add article,Profile).</p>\n<pre><code>&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/home&quot;\n        android:icon=&quot;@drawable/ic_baseline_home_24&quot;\n        android:title=&quot;Home&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/article&quot;\n        android:icon=&quot;@drawable/ic_baseline_post_add_24&quot;\n        android:title=&quot;Article&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/profile&quot;\n        android:icon=&quot;@drawable/ic_baseline_person_24&quot;\n        android:title=&quot;Profile&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>and in profile fragment I have two buttons(change password,update profile informations).When I click the change password button,I want to change current fragment to changePasswordFragment.But navigation bar has to be shown at the bottom . How can I figure that?</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1608200286,"post_id":65338691,"comment_id":115512467,"body_markdown":"You need to declare the parameter in the lambda: `.forEach(path -&gt; addToZipFile(path, zipOut))`","body":"You need to declare the parameter in the lambda: <code>.forEach(path -&gt; addToZipFile(path, zipOut))</code>"},{"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"score":0,"creation_date":1608200600,"post_id":65338691,"comment_id":115512613,"body_markdown":"And if i want the absolute path of each file ? I can&#39;t do File.getAbsolutePath()","body":"And if i want the absolute path of each file ? I can&#39;t do File.getAbsolutePath()"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1608200772,"post_id":65338691,"comment_id":115512681,"body_markdown":"Why not `.map(path -&gt; path.toAbsolutePath())` after filter? Or maybe you want to convert to file first...","body":"Why not <code>.map(path -&gt; path.toAbsolutePath())</code> after filter? Or maybe you want to convert to file first..."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1608201040,"post_id":65338691,"comment_id":115512806,"body_markdown":"you can use also `Files.list(directory)\n        .filter(Files::isDirectory)\n        .map(Path::toAbsolutePath)\n        .forEach(path -&gt; addToZipFile(path, zipOut));`","body":"you can use also <code>Files.list(directory)         .filter(Files::isDirectory)         .map(Path::toAbsolutePath)         .forEach(path -&gt; addToZipFile(path, zipOut));</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1608203357,"post_id":65338691,"comment_id":115513894,"body_markdown":"Instead of mapping each result path to an absolute path, map the directory to an absolute path before listing, `Files.list(directory.toAbsolutePath())` then, the resulting paths are already absolute.","body":"Instead of mapping each result path to an absolute path, map the directory to an absolute path before listing, <code>Files.list(directory.toAbsolutePath())</code> then, the resulting paths are already absolute."},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1608419754,"post_id":65338691,"comment_id":115579903,"body_markdown":"What if the `directory` contains subfolders? And if files are contained therein, must they added into `zipOut`?","body":"What if the <code>directory</code> contains subfolders? And if files are contained therein, must they added into <code>zipOut</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8812369,"reputation":364,"user_id":6585002,"display_name":"Ceddaerrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671768960,"creation_date":1671768960,"answer_id":74896042,"question_id":65338691,"body_markdown":"Since Java 8, you can use a *DirectoryStream* to iterate over the entries in a directory.\r\n```\r\nfinal Path dir = ...\r\ntry (DirectoryStream&lt;Path&gt; stream = java.nio.file.Files.newDirectoryStream(dir, &quot;*.java&quot;)) {\r\n    stream.forEach(subPath -&gt; {\r\n       ...\r\n    });\r\n}\r\n```","title":"How to obtain path of files in a folder with Streams Java","body":"<p>Since Java 8, you can use a <em>DirectoryStream</em> to iterate over the entries in a directory.</p>\n<pre><code>final Path dir = ...\ntry (DirectoryStream&lt;Path&gt; stream = java.nio.file.Files.newDirectoryStream(dir, &quot;*.java&quot;)) {\n    stream.forEach(subPath -&gt; {\n       ...\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671768960,"creation_date":1608200128,"question_id":65338691,"body_markdown":"I have the code below :\r\n\r\n    private Path zipFiles(Path directory){\r\n         Files.list(directory).filter(Files::isDirectory)\r\n                          .forEach(addToZipFile(???, zipOut));\r\n    }\r\n\r\nHow can I obtain the path of each file ? Are there better ways of doing it using lambdas or stream ?\r\nThx !","title":"How to obtain path of files in a folder with Streams Java","body":"<p>I have the code below :</p>\n<pre><code>private Path zipFiles(Path directory){\n     Files.list(directory).filter(Files::isDirectory)\n                      .forEach(addToZipFile(???, zipOut));\n}\n</code></pre>\n<p>How can I obtain the path of each file ? Are there better ways of doing it using lambdas or stream ?\nThx !</p>\n"},{"tags":["java","android","permissions","usb","android-sdcard"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671710345,"post_id":74888139,"comment_id":132159061,"body_markdown":"&quot;Please tell me what permissions are needed so that you can access the flash drive files directly&quot; -- `MANAGE_EXTERNAL_STORAGE` should work, though the user would need to grant it manually in Settings, and you might not be allowed to distribute your app through the Play Store or elsewhere. Consider using `ACTION_OPEN_DOCUMENT_TREE` / `ActivityResultContracts.OpenDocumentTree` and let the user decide where the content is that the user wants you to use.","body":"&quot;Please tell me what permissions are needed so that you can access the flash drive files directly&quot; -- <code>MANAGE_EXTERNAL_STORAGE</code> should work, though the user would need to grant it manually in Settings, and you might not be allowed to distribute your app through the Play Store or elsewhere. Consider using <code>ACTION_OPEN_DOCUMENT_TREE</code> / <code>ActivityResultContracts.OpenDocumentTree</code> and let the user decide where the content is that the user wants you to use."},{"owner":{"account_id":22979907,"reputation":1,"user_id":17107004,"display_name":"Yui_iuY"},"score":0,"creation_date":1671767689,"post_id":74888139,"comment_id":132172621,"body_markdown":"Thanks for the reply. We are not interested in Google Play. The problem is that we would not like to implement an internal just an internal explorer in the application and immediately conditionally along the path /storage/... or /mnt/... get access to the flash drive. On some devices it works, and on some android hides the path to the flash drive.","body":"Thanks for the reply. We are not interested in Google Play. The problem is that we would not like to implement an internal just an internal explorer in the application and immediately conditionally along the path /storage/... or /mnt/... get access to the flash drive. On some devices it works, and on some android hides the path to the flash drive."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906211,"post_id":74888139,"comment_id":132195900,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22979907,"reputation":1,"user_id":17107004,"display_name":"Yui_iuY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671768950,"creation_date":1671709972,"question_id":74888139,"body_markdown":"During the development of the application, we encountered a problem. We connect a USB flash drive to the device via OTG cable. We request access rights from the user, but in the end we get nothing.\r\n\r\nAs a result, we started looking at what the path to Total Commander looks like. It looks something like this:\r\n[enter image description here](https://i.stack.imgur.com/lr60s.png)\r\n\r\nAs a result, we realized that the system hides the file. Please tell me what permissions are needed so that you can access the flash drive files directly.\r\n\r\nWe tried to write simple Java code to display the contents of the folder on the screen, but we couldn&#39;t find the way to our flash drive.\r\n\r\n```\r\nString path = new File(Objects.requireNonNull(Environment.getExternalStorageDirectory().getParent())).getParent();\r\n```\r\n\r\nTested on several devices, we noticed that only 2 flash drives are displayed and have access to them, since they are displayed on the path /storage/emulated/0, on the rest there is no and we will change the path ///USB_.\r\n\r\nThe permission we gave:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\r\n```\r\n\r\n\r\n!API 29!","title":"How do I get the path to the usb flash drive or access it?","body":"<p>During the development of the application, we encountered a problem. We connect a USB flash drive to the device via OTG cable. We request access rights from the user, but in the end we get nothing.</p>\n<p>As a result, we started looking at what the path to Total Commander looks like. It looks something like this:\n<a href=\"https://i.stack.imgur.com/lr60s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>As a result, we realized that the system hides the file. Please tell me what permissions are needed so that you can access the flash drive files directly.</p>\n<p>We tried to write simple Java code to display the contents of the folder on the screen, but we couldn't find the way to our flash drive.</p>\n<pre><code>String path = new File(Objects.requireNonNull(Environment.getExternalStorageDirectory().getParent())).getParent();\n</code></pre>\n<p>Tested on several devices, we noticed that only 2 flash drives are displayed and have access to them, since they are displayed on the path /storage/emulated/0, on the rest there is no and we will change the path ///USB_.</p>\n<p>The permission we gave:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\n</code></pre>\n<p>!API 29!</p>\n"},{"tags":["java","android","android-studio","android-alertdialog","android-studio-3.0"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1671774545,"post_id":74896008,"comment_id":132173457,"body_markdown":"Don&#39;t repeat your question three times. If Stack Overflow was complaining that your question was too short, then that&#39;s a hint that you should improve the question. Check out [ask] and [mre] for more information. You may also want to take the [tour] and check out the [help].","body":"Don&#39;t repeat your question three times. If Stack Overflow was complaining that your question was too short, then that&#39;s a hint that you should improve the question. Check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information. You may also want to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and check out the <a href=\"https://stackoverflow.com/help\">help center</a>."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671768885,"creation_date":1671768885,"answer_id":74896037,"question_id":74896008,"body_markdown":"A normal alert Dialog would look something like this\r\n```\r\nAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\nbuilder.setTitle(&quot;Title of the alert dialog&quot;);\r\nbuilder.setMessage(&quot;Message to be displayed in the alert dialog&quot;);\r\nbuilder.setPositiveButton(&quot;Positive Button&quot;, new DialogInterface.OnClickListener() {\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n        // Code to be executed when the positive button is clicked\r\n    }\r\n});\r\nbuilder.setNegativeButton(&quot;Negative Button&quot;, new DialogInterface.OnClickListener() {\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n        // Code to be executed when the negative button is clicked\r\n    }\r\n});\r\n\r\nAlertDialog alertDialog = builder.create();\r\nalertDialog.show();\r\n\r\n```\r\n\r\nYou can customize this more. Please look into the AlertDialog class in the [Android documentation][1]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/dialogs","title":"How to set alert dialog box in android java?","body":"<p>A normal alert Dialog would look something like this</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(this);\nbuilder.setTitle(&quot;Title of the alert dialog&quot;);\nbuilder.setMessage(&quot;Message to be displayed in the alert dialog&quot;);\nbuilder.setPositiveButton(&quot;Positive Button&quot;, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        // Code to be executed when the positive button is clicked\n    }\n});\nbuilder.setNegativeButton(&quot;Negative Button&quot;, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        // Code to be executed when the negative button is clicked\n    }\n});\n\nAlertDialog alertDialog = builder.create();\nalertDialog.show();\n\n</code></pre>\n<p>You can customize this more. Please look into the AlertDialog class in the <a href=\"https://developer.android.com/develop/ui/views/components/dialogs\" rel=\"nofollow noreferrer\">Android documentation</a></p>\n"}],"owner":{"account_id":26479811,"reputation":13,"user_id":20119225,"display_name":"Mari"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1671777322,"accepted_answer_id":74896037,"answer_count":1,"score":-2,"last_activity_date":1671768885,"creation_date":1671768450,"question_id":74896008,"body_markdown":"How to set alert dialog box in android java?\r\n\r\nHow to set alert dialog box in android java?","title":"How to set alert dialog box in android java?","body":"<p>How to set alert dialog box in android java?</p>\n<p>How to set alert dialog box in android java?</p>\n"},{"tags":["java","excel","apache-poi","xmlbeans"],"comments":[{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1631685459,"post_id":69187490,"comment_id":122285432,"body_markdown":"Several potential issues come to my mind, like duplicated POI jars, like the old ooxml-schemas - see [component page](http://poi.apache.org/components/index.html) - or maybe incompatible xlsx-streamer. To identify the culprit, I would use a packager manager (maven or gradle) and only reference the poi-ooxml artifact. exclude batik to minimize the size. then create a dummy xssfworkbook for a test. then check which conflicting dependencies xlsx-streamer brings in and exclude those.","body":"Several potential issues come to my mind, like duplicated POI jars, like the old ooxml-schemas - see <a href=\"http://poi.apache.org/components/index.html\" rel=\"nofollow noreferrer\">component page</a> - or maybe incompatible xlsx-streamer. To identify the culprit, I would use a packager manager (maven or gradle) and only reference the poi-ooxml artifact. exclude batik to minimize the size. then create a dummy xssfworkbook for a test. then check which conflicting dependencies xlsx-streamer brings in and exclude those."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1631743232,"post_id":69187490,"comment_id":122307888,"body_markdown":"this is caused by https://github.com/monitorjbl/excel-streaming-reader/issues/227 - https://github.com/monitorjbl/excel-streaming-reader does not support POI 5 - I have a fork https://github.com/pjfanning/excel-streaming-reader/ that does support POI 5","body":"this is caused by <a href=\"https://github.com/monitorjbl/excel-streaming-reader/issues/227\" rel=\"nofollow noreferrer\">github.com/monitorjbl/excel-streaming-reader/issues/227</a> - <a href=\"https://github.com/monitorjbl/excel-streaming-reader\" rel=\"nofollow noreferrer\">github.com/monitorjbl/excel-streaming-reader</a> does not support POI 5 - I have a fork <a href=\"https://github.com/pjfanning/excel-streaming-reader/\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader</a> that does support POI 5"},{"owner":{"account_id":6477687,"reputation":33,"user_id":5015812,"display_name":"Rambabu Pudi"},"score":0,"creation_date":1632118474,"post_id":69187490,"comment_id":122396881,"body_markdown":"yes @PJFanning,  Thank you for the confirmation, Now I am using pjfanning/excel-streaming-reader(https://github.com/monitorjbl/excel-streaming-reader) to provide support to the POI-5.0.0 version instead of using monitorjbl xlsx-streamer  \n, monitorjbl xlsx-streamer 2.2.0(https://github.com/pjfanning/excel-streaming-reader) is not support to POI-5.0.0 version.","body":"yes @PJFanning,  Thank you for the confirmation, Now I am using pjfanning/excel-streaming-reader(<a href=\"https://github.com/monitorjbl/excel-streaming-reader\" rel=\"nofollow noreferrer\">github.com/monitorjbl/excel&zwnj;&#8203;-streaming-reader</a>) to provide support to the POI-5.0.0 version instead of using monitorjbl xlsx-streamer   , monitorjbl xlsx-streamer 2.2.0(<a href=\"https://github.com/pjfanning/excel-streaming-reader\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader</a>) is not support to POI-5.0.0 version."}],"answers":[{"tags":[],"owner":{"account_id":4698316,"reputation":81,"user_id":3802625,"display_name":"mdilantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671768213,"creation_date":1671768213,"answer_id":74895992,"question_id":69187490,"body_markdown":"monitorjbl xlsx-streamer 2.2.0 doesn&#39;t support apache poi 5.0.0.need to be replaced with https://github.com/pjfanning/excel-streaming-reader dependency.","title":"POI 5.0.0, xmlbeans-5.0.1, xlsx-streamer-2.2.0 java.lang.NoSuchMethodError org.apache.poi.xssf.model.SharedStringsTable.getEntryAt(I)","body":"<p>monitorjbl xlsx-streamer 2.2.0 doesn't support apache poi 5.0.0.need to be replaced with <a href=\"https://github.com/pjfanning/excel-streaming-reader\" rel=\"nofollow noreferrer\">https://github.com/pjfanning/excel-streaming-reader</a> dependency.</p>\n"}],"owner":{"account_id":6477687,"reputation":33,"user_id":5015812,"display_name":"Rambabu Pudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671768213,"creation_date":1631683566,"question_id":69187490,"body_markdown":"I upgraded POI from 4.1.1 to 5.0.0, xmlbeans from 3.0.2 to 5.0.1, xlsx-streamer-2.2.0, After upgrading poi getting below error.\r\n\r\njava.lang.NoSuchMethodError: org.apache.poi.xssf.model.SharedStringsTable.getEntryAt(I)Lorg/openxmlformats/schemas/spreadsheetml/x2006/main/CTRst;\r\n\r\nThe issue is coming over iterating com.monitorjbl.xlsx.impl.StreamingSheet\r\n\r\nEven I tried downgrading xmlbeans to 3.0.1 and 3.0.2 but no luck.\r\n\r\n\r\n","title":"POI 5.0.0, xmlbeans-5.0.1, xlsx-streamer-2.2.0 java.lang.NoSuchMethodError org.apache.poi.xssf.model.SharedStringsTable.getEntryAt(I)","body":"<p>I upgraded POI from 4.1.1 to 5.0.0, xmlbeans from 3.0.2 to 5.0.1, xlsx-streamer-2.2.0, After upgrading poi getting below error.</p>\n<p>java.lang.NoSuchMethodError: org.apache.poi.xssf.model.SharedStringsTable.getEntryAt(I)Lorg/openxmlformats/schemas/spreadsheetml/x2006/main/CTRst;</p>\n<p>The issue is coming over iterating com.monitorjbl.xlsx.impl.StreamingSheet</p>\n<p>Even I tried downgrading xmlbeans to 3.0.1 and 3.0.2 but no luck.</p>\n"},{"tags":["java","visual-studio-code","editor"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1671767300,"post_id":74895920,"comment_id":132172586,"body_markdown":"Those seem to just be the name of the parameters to the methods.","body":"Those seem to just be the name of the parameters to the methods."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671767721,"post_id":74895920,"comment_id":132172624,"body_markdown":"I think this question may be a duplicate of https://stackoverflow.com/q/68698269 which appears to have good answers.","body":"I think this question may be a duplicate of <a href=\"https://stackoverflow.com/q/68698269\">stackoverflow.com/q/68698269</a> which appears to have good answers."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671767792,"post_id":74895920,"comment_id":132172632,"body_markdown":"There&#39;s also https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-april-2022/ which might be helpful.","body":"There&#39;s also <a href=\"https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-april-2022/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/java/&hellip;</a> which might be helpful."},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1671771329,"post_id":74895920,"comment_id":132173013,"body_markdown":"it is a feature added after the tutorial was made","body":"it is a feature added after the tutorial was made"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1671775445,"post_id":74895920,"comment_id":132173602,"body_markdown":"Hi WaddleDee, glad to know you&#39;ve found the solution to resolve this issue! Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"Hi WaddleDee, glad to know you&#39;ve found the solution to resolve this issue! Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"}],"owner":{"account_id":27332356,"reputation":1,"user_id":20844299,"display_name":"WaddleDee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671767933,"creation_date":1671767179,"question_id":74895920,"body_markdown":"I have recently set up my VS code to be able to run Java. I downloaded the extension pack for java and then downloaded Azul Zulu jdk to run java programs. So far it runs fine, but for certain snippets of code orange blocks of text will appear. They cannot be deleted or modified in any way, and I haven&#39;t changed any settings besides changing VS code to use the Zulu jdk as my default jdk.\r\n\r\n[Example of the orange blocks I&#39;m getting](https://i.stack.imgur.com/UJS83.png)\r\n\r\nI have tried going through my setting related to Java in my VS code, but I can&#39;t find anything that would cause this. I haven&#39;t done anything besides set up my default jdk and installing the extension for java.\r\n\r\nAny help with getting rid of these orange blocks would be appreciated.\r\n\r\nEdit: \r\n\r\nJava&gt; Inlay Hints &gt; parameter names: Enabled, was the setting that was causing it. Setting this to none fixed the issue. I was confused as the guide I was following did not mention this, nor did it show up on their visual examples when writing code, even though our methods from installing to writing java would have been the same. ","title":"Orange text in VS code when writing in Java","body":"<p>I have recently set up my VS code to be able to run Java. I downloaded the extension pack for java and then downloaded Azul Zulu jdk to run java programs. So far it runs fine, but for certain snippets of code orange blocks of text will appear. They cannot be deleted or modified in any way, and I haven't changed any settings besides changing VS code to use the Zulu jdk as my default jdk.</p>\n<p><a href=\"https://i.stack.imgur.com/UJS83.png\" rel=\"nofollow noreferrer\">Example of the orange blocks I'm getting</a></p>\n<p>I have tried going through my setting related to Java in my VS code, but I can't find anything that would cause this. I haven't done anything besides set up my default jdk and installing the extension for java.</p>\n<p>Any help with getting rid of these orange blocks would be appreciated.</p>\n<p>Edit:</p>\n<p>Java&gt; Inlay Hints &gt; parameter names: Enabled, was the setting that was causing it. Setting this to none fixed the issue. I was confused as the guide I was following did not mention this, nor did it show up on their visual examples when writing code, even though our methods from installing to writing java would have been the same.</p>\n"},{"tags":["java","method-hiding","member-hiding"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1671739828,"post_id":74893351,"comment_id":132168163,"body_markdown":"You&#39;re thinking that `CrestedPenguin()` should dictate which `getHeight()` is called, but that reference is irrelevant; because the static type that the compiler sees is the only one on which `getHeight()` is called (directly). `this` in `Penguing` can **only** be `Penguin`, and that&#39;s why the compiler picks the method in `Penguin`. Beside that, you should avoid invoking static methods on instances, and the biggest reason for that is the potential to lead to the confusion you&#39;re experiencing.","body":"You&#39;re thinking that <code>CrestedPenguin()</code> should dictate which <code>getHeight()</code> is called, but that reference is irrelevant; because the static type that the compiler sees is the only one on which <code>getHeight()</code> is called (directly). <code>this</code> in <code>Penguing</code> can <b>only</b> be <code>Penguin</code>, and that&#39;s why the compiler picks the method in <code>Penguin</code>. Beside that, you should avoid invoking static methods on instances, and the biggest reason for that is the potential to lead to the confusion you&#39;re experiencing."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1671739879,"post_id":74893351,"comment_id":132168178,"body_markdown":"For what it&#39;s worth, I&#39;m not actually sure how this works either, because I would never do this and have never had a need to. If you remove the `static` modifier, that&#39;s a more real world use case and should behave as you expect.","body":"For what it&#39;s worth, I&#39;m not actually sure how this works either, because I would never do this and have never had a need to. If you remove the <code>static</code> modifier, that&#39;s a more real world use case and should behave as you expect."}],"answers":[{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671739877,"creation_date":1671739877,"answer_id":74893415,"question_id":74893351,"body_markdown":"The problem with this code snippet is that you added `static` keyword in `getHeight()` function. We cannot override static function because we don&#39;t need an object to access the function. Changing it to \r\n```\r\nclass Penguin {\r\n    public int getHeight() { return 3; }\r\n    public void printInfo() {\r\n        System.out.println(this.getHeight());\r\n    }\r\n}\r\npublic class CrestedPenguin extends Penguin {\r\n    public int getHeight() { return 8; }\r\n    public static void main(String... fish) {\r\n        new CrestedPenguin().printInfo();\r\n    }\r\n}\r\n```\r\nWill override `getHeight()` function of Penguin.","title":"How method hiding works in Java?","body":"<p>The problem with this code snippet is that you added <code>static</code> keyword in <code>getHeight()</code> function. We cannot override static function because we don't need an object to access the function. Changing it to</p>\n<pre><code>class Penguin {\n    public int getHeight() { return 3; }\n    public void printInfo() {\n        System.out.println(this.getHeight());\n    }\n}\npublic class CrestedPenguin extends Penguin {\n    public int getHeight() { return 8; }\n    public static void main(String... fish) {\n        new CrestedPenguin().printInfo();\n    }\n}\n</code></pre>\n<p>Will override <code>getHeight()</code> function of Penguin.</p>\n"},{"comments":[{"owner":{"account_id":17664629,"reputation":31,"user_id":12822317,"display_name":"Salem KRAB"},"score":0,"creation_date":1671782388,"post_id":74895910,"comment_id":132174735,"body_markdown":"thanks for your ressponse. indeed i&#39;m using this book for the preparation and this code is from this book","body":"thanks for your ressponse. indeed i&#39;m using this book for the preparation and this code is from this book"}],"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671767040,"creation_date":1671767040,"answer_id":74895910,"question_id":74893351,"body_markdown":"Since you mentioned that you are preparing for the OCP exam... I would like to expand what causes the method hiding behavior, in case you face similar problems:\r\n\r\n&gt; The following list summarizes the five rules for hiding a method:\r\n&gt; \r\n&gt; 1. The method in the child class must have the same signature as the method in the parent class.\r\n&gt; 2. The method in the child class must be at least as accessible or more accessible than the method in the parent class.\r\n&gt; 3. The method in the child class may not throw a checked exception that is new or broader than the class of any exception thrown in the\r\n&gt; parent class method.\r\n&gt; 4. If the method returns a value, it must be the same or a subclass of the method in the parent class, known as covariant return types.\r\n&gt; 5. The method defined in the child class must be marked as static if it is marked as static in the parent class (method hiding). Likewise,\r\n&gt; the method must not be marked as static in the child class if it is\r\n&gt; not marked as static in the parent class (method overriding).\r\n\r\nThis is quoted from &quot;OCA Oracle Certified Associate Java SE 8 Programmer Study Guide Exam 1&quot;, I suggest reading it for preparing for OCP, because it covers in all possible details the core features of Java, unlike the OCP books I&#39;ve seen.","title":"How method hiding works in Java?","body":"<p>Since you mentioned that you are preparing for the OCP exam... I would like to expand what causes the method hiding behavior, in case you face similar problems:</p>\n<blockquote>\n<p>The following list summarizes the five rules for hiding a method:</p>\n<ol>\n<li>The method in the child class must have the same signature as the method in the parent class.</li>\n<li>The method in the child class must be at least as accessible or more accessible than the method in the parent class.</li>\n<li>The method in the child class may not throw a checked exception that is new or broader than the class of any exception thrown in the\nparent class method.</li>\n<li>If the method returns a value, it must be the same or a subclass of the method in the parent class, known as covariant return types.</li>\n<li>The method defined in the child class must be marked as static if it is marked as static in the parent class (method hiding). Likewise,\nthe method must not be marked as static in the child class if it is\nnot marked as static in the parent class (method overriding).</li>\n</ol>\n</blockquote>\n<p>This is quoted from &quot;OCA Oracle Certified Associate Java SE 8 Programmer Study Guide Exam 1&quot;, I suggest reading it for preparing for OCP, because it covers in all possible details the core features of Java, unlike the OCP books I've seen.</p>\n"}],"owner":{"account_id":17664629,"reputation":31,"user_id":12822317,"display_name":"Salem KRAB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671767040,"creation_date":1671739441,"question_id":74893351,"body_markdown":"\tclass Penguin {\r\n\t\tpublic static int getHeight() {\r\n\t\t\treturn 3;\r\n\t\t}\r\n\t\r\n\t\tpublic void printInfo() {\r\n\t\t\tSystem.out.println(this.getHeight());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class CrestedPenguin extends Penguin {\r\n\t\tpublic static int getHeight() {\r\n\t\t\treturn 8;\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String... fish) {\r\n\t\t\tnew CrestedPenguin().printInfo();\r\n\t\t}\r\n\t}\r\n\r\nThis code output 3.\r\nI don&#39;t understand the output. I expected 8 because of method hiding.\r\nI looked on the internet for method hiding and I understand this concept, but I don&#39;t understand why  the `getHeight` method called is the one in Penguin instead of the one in `Crested Penguin` since the reference is of a `CrestedPenguin` type.\r\n\r\n\r\nUpdate: i want to mention that this is an educational code and it is not intended for production purpose. I am preparing for the Java OCP.","title":"How method hiding works in Java?","body":"<pre><code>class Penguin {\n    public static int getHeight() {\n        return 3;\n    }\n\n    public void printInfo() {\n        System.out.println(this.getHeight());\n    }\n}\n\npublic class CrestedPenguin extends Penguin {\n    public static int getHeight() {\n        return 8;\n    }\n\n    public static void main(String... fish) {\n        new CrestedPenguin().printInfo();\n    }\n}\n</code></pre>\n<p>This code output 3.\nI don't understand the output. I expected 8 because of method hiding.\nI looked on the internet for method hiding and I understand this concept, but I don't understand why  the <code>getHeight</code> method called is the one in Penguin instead of the one in <code>Crested Penguin</code> since the reference is of a <code>CrestedPenguin</code> type.</p>\n<p>Update: i want to mention that this is an educational code and it is not intended for production purpose. I am preparing for the Java OCP.</p>\n"},{"tags":["java","obfuscation","yguard"],"owner":{"account_id":13319147,"reputation":577,"user_id":9614476,"display_name":"Nagendra Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671766496,"creation_date":1598192173,"question_id":63547981,"body_markdown":"My pom has \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand I can see in `jaxb-api` there are two classes with same name. One from `javax/xml/bind/ModuleUtil` and other from `META-INF/versions/9/javax/xml/bind/ModuleUtil`.\r\n\r\nHow do I exclude this while obfuscating? Any idea?\r\n\r\n\tyGuard detected a duplicate class definition for \r\n\t\tjavax.xml.bind.ModuleUtil\r\n\t\t[jar:C:\\Users\\Test\\IdeaProjects\\**\\target\\Test.jar|javax/xml/bind/ModuleUtil.class] in \r\n\t\t[jar:C:\\Users\\Test\\IdeaProjects\\**\\target\\Test.jar|META-INF/versions/9/javax/xml/bind/ModuleUtil.class]","title":"YGuard Obfuscate failing with message : yGuard detected a duplicate class definition for javax.xml.bind.ModuleUtil","body":"<p>My pom has</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and I can see in <code>jaxb-api</code> there are two classes with same name. One from <code>javax/xml/bind/ModuleUtil</code> and other from <code>META-INF/versions/9/javax/xml/bind/ModuleUtil</code>.</p>\n<p>How do I exclude this while obfuscating? Any idea?</p>\n<pre><code>yGuard detected a duplicate class definition for \n    javax.xml.bind.ModuleUtil\n    [jar:C:\\Users\\Test\\IdeaProjects\\**\\target\\Test.jar|javax/xml/bind/ModuleUtil.class] in \n    [jar:C:\\Users\\Test\\IdeaProjects\\**\\target\\Test.jar|META-INF/versions/9/javax/xml/bind/ModuleUtil.class]\n</code></pre>\n"},{"tags":["java","user-interface","jframe","jbutton","actionlistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1671757542,"post_id":74895189,"comment_id":132171514,"body_markdown":"Why does the constructor make both frames visible if you only want one visible?","body":"Why does the constructor make both frames visible if you only want one visible?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671758504,"post_id":74895189,"comment_id":132171639,"body_markdown":"unrelated: null layout is __wrong__!","body":"unrelated: null layout is <b>wrong</b>!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671758834,"post_id":74895189,"comment_id":132171675,"body_markdown":"please fix the indentation of the code - also for your own sake:) - looks like the brackets in the actionPerformed are misplaced","body":"please fix the indentation of the code - also for your own sake:) - looks like the brackets in the actionPerformed are misplaced"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1671768016,"post_id":74895189,"comment_id":132172658,"body_markdown":"Don&#39;t use multiple frames, make use of something like `CardLayout` instead to switch between individual components - then, you only need one frame","body":"Don&#39;t use multiple frames, make use of something like <code>CardLayout</code> instead to switch between individual components - then, you only need one frame"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671758400,"post_id":74895319,"comment_id":132171624,"body_markdown":"null layout is __wrong__ - don&#39;t replicate the errors in the question","body":"null layout is <b>wrong</b> - don&#39;t replicate the errors in the question"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1671758590,"post_id":74895319,"comment_id":132171645,"body_markdown":"Ok, removed the layout","body":"Ok, removed the layout"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671758738,"post_id":74895319,"comment_id":132171664,"body_markdown":"still wrong (though without much effect): manually setting sizes/locations of components","body":"still wrong (though without much effect): manually setting sizes/locations of components"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1671766054,"post_id":74895319,"comment_id":132172466,"body_markdown":"Ok, used `Window::pack` and `Window::setLocationByPlatform`","body":"Ok, used <code>Window::pack</code> and <code>Window::setLocationByPlatform</code>"}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671766006,"creation_date":1671758339,"answer_id":74895319,"question_id":74895189,"body_markdown":"Try this instead.\r\n\r\n\r\n```java\r\n\r\n   public class IA2 extends JFrame implements ActionListener{\r\n   \r\n   \r\n   \r\n      JButton total = new JButton();\r\n      JButton back = new JButton();\r\n   \r\n      JFrame frame1 = new JFrame();\r\n      JFrame frame2 = new JFrame();\r\n   \r\n   \r\n      IA2(){\r\n      \r\n      \r\n         frame1.setTitle(&quot;Lab equipement&quot;);\r\n         frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n         frame1.setLocationByPlatform(true);\r\n         frame1.setVisible(true);\r\n         frame1.setResizable(false);\r\n         frame1.getContentPane().setBackground(new Color(5, 25, 50));\r\n      \r\n         frame2.setTitle(&quot;Total Equipement&quot;);\r\n         frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n         frame2.setLocationByPlatform(true);\r\n         //frame2.setVisible(true);\r\n         frame2.setResizable(false);\r\n         frame2.getContentPane().setBackground(new Color(5, 25, 50));\r\n      \r\n         total = new JButton();\r\n         frame1.add(total);\r\n         total.addActionListener(this);\r\n         total.setText(&quot;Total Equipement&quot;);\r\n         total.setFocusable(false);\r\n      \r\n         back = new JButton();\r\n         frame2.add(back);\r\n         back.addActionListener(this);\r\n         back.setText(&quot;Back&quot;);\r\n         back.setFocusable(false);\r\n         \r\n         frame1.pack();\r\n         \r\n      }\r\n   \r\n      @Override\r\n      public void actionPerformed(ActionEvent e) {\r\n      \r\n         if(e.getSource()==total) {\r\n         \r\n            frame1.dispose();\r\n            frame2.setVisible(true);\r\n            frame2.pack();\r\n         \r\n         }\r\n         \r\n         \r\n         if(e.getSource()==back) {\r\n            \r\n            frame2.dispose();\r\n            frame1.setVisible(true);\r\n            frame1.pack();\r\n         }\r\n      }\r\n   \r\n   }\r\n   \r\n```\r\n\r\nI made `frame2` invisible on startup.\r\n\r\nI also fixed your `actionPerformed` method by pulling out the if statement out of the other.","title":"Button activating automatically?","body":"<p>Try this instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public class IA2 extends JFrame implements ActionListener{\n   \n   \n   \n      JButton total = new JButton();\n      JButton back = new JButton();\n   \n      JFrame frame1 = new JFrame();\n      JFrame frame2 = new JFrame();\n   \n   \n      IA2(){\n      \n      \n         frame1.setTitle(&quot;Lab equipement&quot;);\n         frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         frame1.setLocationByPlatform(true);\n         frame1.setVisible(true);\n         frame1.setResizable(false);\n         frame1.getContentPane().setBackground(new Color(5, 25, 50));\n      \n         frame2.setTitle(&quot;Total Equipement&quot;);\n         frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n         frame2.setLocationByPlatform(true);\n         //frame2.setVisible(true);\n         frame2.setResizable(false);\n         frame2.getContentPane().setBackground(new Color(5, 25, 50));\n      \n         total = new JButton();\n         frame1.add(total);\n         total.addActionListener(this);\n         total.setText(&quot;Total Equipement&quot;);\n         total.setFocusable(false);\n      \n         back = new JButton();\n         frame2.add(back);\n         back.addActionListener(this);\n         back.setText(&quot;Back&quot;);\n         back.setFocusable(false);\n         \n         frame1.pack();\n         \n      }\n   \n      @Override\n      public void actionPerformed(ActionEvent e) {\n      \n         if(e.getSource()==total) {\n         \n            frame1.dispose();\n            frame2.setVisible(true);\n            frame2.pack();\n         \n         }\n         \n         \n         if(e.getSource()==back) {\n            \n            frame2.dispose();\n            frame1.setVisible(true);\n            frame1.pack();\n         }\n      }\n   \n   }\n   \n</code></pre>\n<p>I made <code>frame2</code> invisible on startup.</p>\n<p>I also fixed your <code>actionPerformed</code> method by pulling out the if statement out of the other.</p>\n"}],"owner":{"account_id":27331525,"reputation":11,"user_id":20843580,"display_name":"CoderInNeed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671766006,"creation_date":1671756638,"question_id":74895189,"body_markdown":"I have a button that on a gui that supposed to open a new gui and close the old one but as soon as I run the code it automatically opens the new gui without closing the old one. I also have a button on the new gui that supposed reopen the old gui and close the new one. How can I fix this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class IA2 extends JFrame implements ActionListener{\r\n\r\n\r\n\r\nJButton total = new JButton();\r\nJButton back = new JButton();\r\n\r\nJFrame frame1 = new JFrame();\r\nJFrame frame2 = new JFrame();\r\n\r\n\r\n IA2(){\r\n\t\t\r\n\t\t \r\n\t\tframe1.setTitle(&quot;Lab equipement&quot;);\r\n\t\tframe1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe1.setLayout(null);\r\n\t\tframe1.setSize(500, 425);\r\n\t\tframe1.setVisible(true);\r\n\t\tframe1.setResizable(false);\r\n\t\tframe1.getContentPane().setBackground(new Color(5, 25, 50));\r\n\r\n                frame2.setTitle(&quot;Total Equipement&quot;);\r\n\t        frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t        frame2.setLayout(null);\r\n\t        frame2.setSize(500, 425);\r\n\t        frame2.setVisible(true);\r\n\t        frame2.setResizable(false);\r\n\t        frame2.getContentPane().setBackground(new Color(5, 25, 50));\r\n          \r\n\t\ttotal = new JButton();\r\n\t\ttotal.setBounds(50, 10, 150, 75);\r\n\t\tframe1.add(total);\r\n\t        total.addActionListener(this);\r\n\t        total.setText(&quot;Total Equipement&quot;);\r\n                total.setFocusable(false);    \r\n\r\n                back = new JButton();\r\n\t        back.setBounds(50, 10, 150, 75);\r\n\t        frame2.add(back);\r\n\t        back.addActionListener(this);\r\n\t        back.setText(&quot;Back&quot;);\r\n\t        back.setFocusable(false); \r\n}\r\n\r\n\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\r\n\tif(e.getSource()==total) {\r\n\t\t\t\r\n\tframe1.dispose();\r\n\tframe2.setVisible(true);\r\n\t\t\t\r\n\tif(e.getSource()==back) {\r\n\r\n\tframe2.dispose();\r\n\tframe1.setVisible(true);\t\r\n\t\t\t}\t\r\n\t\t}\t\t\r\n\t}\r\n","title":"Button activating automatically?","body":"<p>I have a button that on a gui that supposed to open a new gui and close the old one but as soon as I run the code it automatically opens the new gui without closing the old one. I also have a button on the new gui that supposed reopen the old gui and close the new one. How can I fix this?</p>\n<pre><code>public class IA2 extends JFrame implements ActionListener{\n\n\n\nJButton total = new JButton();\nJButton back = new JButton();\n\nJFrame frame1 = new JFrame();\nJFrame frame2 = new JFrame();\n\n\n IA2(){\n        \n         \n        frame1.setTitle(&quot;Lab equipement&quot;);\n        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame1.setLayout(null);\n        frame1.setSize(500, 425);\n        frame1.setVisible(true);\n        frame1.setResizable(false);\n        frame1.getContentPane().setBackground(new Color(5, 25, 50));\n\n                frame2.setTitle(&quot;Total Equipement&quot;);\n            frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame2.setLayout(null);\n            frame2.setSize(500, 425);\n            frame2.setVisible(true);\n            frame2.setResizable(false);\n            frame2.getContentPane().setBackground(new Color(5, 25, 50));\n          \n        total = new JButton();\n        total.setBounds(50, 10, 150, 75);\n        frame1.add(total);\n            total.addActionListener(this);\n            total.setText(&quot;Total Equipement&quot;);\n                total.setFocusable(false);    \n\n                back = new JButton();\n            back.setBounds(50, 10, 150, 75);\n            frame2.add(back);\n            back.addActionListener(this);\n            back.setText(&quot;Back&quot;);\n            back.setFocusable(false); \n}\n\n\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n            \n    if(e.getSource()==total) {\n            \n    frame1.dispose();\n    frame2.setVisible(true);\n            \n    if(e.getSource()==back) {\n\n    frame2.dispose();\n    frame1.setVisible(true);    \n            }   \n        }       \n    }\n</code></pre>\n"},{"tags":["python","java","png","jpeg","imagemagick-convert"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1671759465,"post_id":74895371,"comment_id":132171746,"body_markdown":"Where is the conversion code? Are you sure you&#39;re converting to lossless JPEG?","body":"Where is the conversion code? Are you sure you&#39;re converting to lossless JPEG?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1671759785,"post_id":74895371,"comment_id":132171782,"body_markdown":"Did you look at [this answer](https://stackoverflow.com/a/7619091/3558960)?","body":"Did you look at <a href=\"https://stackoverflow.com/a/7619091/3558960\">this answer</a>?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1671759957,"post_id":74895371,"comment_id":132171800,"body_markdown":"Lossless JPEG? That seems like an oxymoron. Why/what?","body":"Lossless JPEG? That seems like an oxymoron. Why/what?"},{"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"score":1,"creation_date":1671761832,"post_id":74895371,"comment_id":132172018,"body_markdown":"@ElliottFrisch See https://en.wikipedia.org/wiki/Lossless_JPEG , JPEG-LS is an extension to JPEG that adds lossless compression. But it&#39;s not the same thing as JPEG with quality set to 100%.","body":"@ElliottFrisch See <a href=\"https://en.wikipedia.org/wiki/Lossless_JPEG\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Lossless_JPEG</a> , JPEG-LS is an extension to JPEG that adds lossless compression. But it&#39;s not the same thing as JPEG with quality set to 100%."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1671761969,"post_id":74895371,"comment_id":132172034,"body_markdown":"@ChiaraCoetzee *The standard Independent JPEG Group libraries cannot encode or decode it* I guess that&#39;s why I&#39;ve never heard of it.","body":"@ChiaraCoetzee <i>The standard Independent JPEG Group libraries cannot encode or decode it</i> I guess that&#39;s why I&#39;ve never heard of it."}],"answers":[{"tags":[],"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671765193,"creation_date":1671761994,"answer_id":74895559,"question_id":74895371,"body_markdown":"In short, JPEG is a lossy compression format at all quality levels. It doesn&#39;t matter if you set the quality to 100%. See [this earlier question &quot;Is JPEG lossless when quality is set to 100?&quot;][1]. There are extensions such as [JPEG-LS][2] that are lossless, but it is a totally different compression algorithm with its own file extension (.jls) and container, and most mainstream software cannot decode it. If you need lossless, here are some options:\r\n1. Keep it in PNG. If you&#39;re really concerned about PNG filesize, you can recompress with [pngcrush][3], [OptiPNG][4], or [AdvancedCOMP][5].\r\n2. Use [WebP in lossless mode][6]. Supported by most modern browsers and often smaller filesize than PNG. Here is a [guide to writing WebP images in Java][10] using ImageIO or JDeli (if you use JDeli, you can call [SetCompressionFormat][11] to select lossless). In Python, you can use [Pillow&#39;s WebP support](https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html#webp) and pass `lossless=True` to `save()`.\r\n3. Use AVIF (AV1 image format) in lossless mode. (Supported by recent versions of Chrome and Firefox.)\r\n4. Use JPEG-LS, JPEG 2000 in lossless mode, or JPEG XL in lossless mode. (JPEG XL support can be enabled in [certain recent web browser versions][7].)\r\n\r\n[This article][8] does a basic comparison of them, and [this reddit post][9] does a more thorough comparison. Overall, I&#39;d say that WebP offers the best balance of wide software support and high compression ratios.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7982409/is-jpeg-lossless-when-quality-is-set-to-100\r\n  [2]: https://en.wikipedia.org/wiki/Lossless_JPEG\r\n  [3]: https://pmt.sourceforge.io/pngcrush/\r\n  [4]: https://optipng.sourceforge.net/\r\n  [5]: http://www.advancemame.it/comp-readme\r\n  [6]: https://developers.google.com/speed/webp/gallery2\r\n  [7]: https://caniuse.com/jpegxl\r\n  [8]: https://siipo.la/blog/whats-the-best-lossless-image-format-comparing-png-webp-avif-and-jpeg-xl\r\n  [9]: https://www.reddit.com/r/AV1/comments/aabqdc/lossless_compression_test_png_vs_webp_vs_avif/\r\n  [10]: https://blog.idrsolutions.com/how-to-write-webp-images-in-java-with-jdeli/\r\n  [11]: https://files.idrsolutions.com/maven/site/jdeli/apidocs/com/idrsolutions/image/webp/options/WebpEncoderOptions.html#setCompressionFormat(com.idrsolutions.image.webp.options.WebpCompressionFormat)\r\n  [12]: https://www.webucator.com/tutorial/using-python-to-convert-images-to-webp/","title":"How to convert PNG to JPEG losslessly?","body":"<p>In short, JPEG is a lossy compression format at all quality levels. It doesn't matter if you set the quality to 100%. See <a href=\"https://stackoverflow.com/questions/7982409/is-jpeg-lossless-when-quality-is-set-to-100\">this earlier question &quot;Is JPEG lossless when quality is set to 100?&quot;</a>. There are extensions such as <a href=\"https://en.wikipedia.org/wiki/Lossless_JPEG\" rel=\"nofollow noreferrer\">JPEG-LS</a> that are lossless, but it is a totally different compression algorithm with its own file extension (.jls) and container, and most mainstream software cannot decode it. If you need lossless, here are some options:</p>\n<ol>\n<li>Keep it in PNG. If you're really concerned about PNG filesize, you can recompress with <a href=\"https://pmt.sourceforge.io/pngcrush/\" rel=\"nofollow noreferrer\">pngcrush</a>, <a href=\"https://optipng.sourceforge.net/\" rel=\"nofollow noreferrer\">OptiPNG</a>, or <a href=\"http://www.advancemame.it/comp-readme\" rel=\"nofollow noreferrer\">AdvancedCOMP</a>.</li>\n<li>Use <a href=\"https://developers.google.com/speed/webp/gallery2\" rel=\"nofollow noreferrer\">WebP in lossless mode</a>. Supported by most modern browsers and often smaller filesize than PNG. Here is a <a href=\"https://blog.idrsolutions.com/how-to-write-webp-images-in-java-with-jdeli/\" rel=\"nofollow noreferrer\">guide to writing WebP images in Java</a> using ImageIO or JDeli (if you use JDeli, you can call <a href=\"https://files.idrsolutions.com/maven/site/jdeli/apidocs/com/idrsolutions/image/webp/options/WebpEncoderOptions.html#setCompressionFormat(com.idrsolutions.image.webp.options.WebpCompressionFormat)\" rel=\"nofollow noreferrer\">SetCompressionFormat</a> to select lossless). In Python, you can use <a href=\"https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html#webp\" rel=\"nofollow noreferrer\">Pillow's WebP support</a> and pass <code>lossless=True</code> to <code>save()</code>.</li>\n<li>Use AVIF (AV1 image format) in lossless mode. (Supported by recent versions of Chrome and Firefox.)</li>\n<li>Use JPEG-LS, JPEG 2000 in lossless mode, or JPEG XL in lossless mode. (JPEG XL support can be enabled in <a href=\"https://caniuse.com/jpegxl\" rel=\"nofollow noreferrer\">certain recent web browser versions</a>.)</li>\n</ol>\n<p><a href=\"https://siipo.la/blog/whats-the-best-lossless-image-format-comparing-png-webp-avif-and-jpeg-xl\" rel=\"nofollow noreferrer\">This article</a> does a basic comparison of them, and <a href=\"https://www.reddit.com/r/AV1/comments/aabqdc/lossless_compression_test_png_vs_webp_vs_avif/\" rel=\"nofollow noreferrer\">this reddit post</a> does a more thorough comparison. Overall, I'd say that WebP offers the best balance of wide software support and high compression ratios.</p>\n"}],"owner":{"account_id":27329819,"reputation":13,"user_id":20842140,"display_name":"Neo Reeves"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74895559,"answer_count":1,"score":1,"last_activity_date":1671765193,"creation_date":1671759147,"question_id":74895371,"body_markdown":"I&#39;ve converted PNG to JPEG with both java and python PIL.\r\nPython code :\r\n```\r\nfrom PIL import Image  \r\n\r\nimg = Image.open(&#39;input.png&#39;)\r\nimg.save(&#39;output.jpg&#39;, &#39;JPEG&#39;, quality=100)\r\n```\r\n\r\nFor converting the Java code I used:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class PngToJpeg {\r\n    public static void main(String[] args) {\r\n        // Specify the input and output file paths\r\n        String inputFile = &quot;./test.png&quot;;\r\n        String outputFile = &quot;./testout.jpg&quot;;\r\n\r\n        // Read the input image into a BufferedImage\r\n        BufferedImage inputImage = null;\r\n        try {\r\n            inputImage = ImageIO.read(new File(inputFile));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Write the input image to the output file as a JPEG image\r\n        try {\r\n            ImageIO.write(inputImage, &quot;jpg&quot;, new File(outputFile));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n below code shows me the exact value of each pixel:\r\n\r\n```\r\nfrom PIL import Image\r\n\r\nimg = Image.open(&quot;test.jpeg&quot;)\r\npixellist = list(img.getdata())\r\nprint(pixellist)\r\n```\r\n\r\nWhen I convert JPEG to PNG with both Python and JAVA the pixel values are exactly the same. But when its the other way around it seems like there were 2 or 3 subtracted from many pixels.\r\nFor example:\r\n\r\nJPEG pixels(after conversion):\r\n`(22, 22, 22), (219, 219, 219), (219, 219, 219), (219, 219, 219), (219, 219, 219)`\r\n\r\nPNG pixels(original image):\r\n`(22, 22, 22), (222, 222, 222), (222, 222, 222), (222, 222, 222), (222, 222, 222)`\r\n\r\nThings to note here that the PNG has no ALPHA channel.\r\n\r\nSo what am i missing here? How to achieve the exact same pixel values when converting a PNG to JPEG? \r\n\r\nI have also checked imagemagick, convert. They appear to be the same result.","title":"How to convert PNG to JPEG losslessly?","body":"<p>I've converted PNG to JPEG with both java and python PIL.\nPython code :</p>\n<pre><code>from PIL import Image  \n\nimg = Image.open('input.png')\nimg.save('output.jpg', 'JPEG', quality=100)\n</code></pre>\n<p>For converting the Java code I used:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\n\npublic class PngToJpeg {\n    public static void main(String[] args) {\n        // Specify the input and output file paths\n        String inputFile = &quot;./test.png&quot;;\n        String outputFile = &quot;./testout.jpg&quot;;\n\n        // Read the input image into a BufferedImage\n        BufferedImage inputImage = null;\n        try {\n            inputImage = ImageIO.read(new File(inputFile));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        // Write the input image to the output file as a JPEG image\n        try {\n            ImageIO.write(inputImage, &quot;jpg&quot;, new File(outputFile));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>below code shows me the exact value of each pixel:</p>\n<pre><code>from PIL import Image\n\nimg = Image.open(&quot;test.jpeg&quot;)\npixellist = list(img.getdata())\nprint(pixellist)\n</code></pre>\n<p>When I convert JPEG to PNG with both Python and JAVA the pixel values are exactly the same. But when its the other way around it seems like there were 2 or 3 subtracted from many pixels.\nFor example:</p>\n<p>JPEG pixels(after conversion):\n<code>(22, 22, 22), (219, 219, 219), (219, 219, 219), (219, 219, 219), (219, 219, 219)</code></p>\n<p>PNG pixels(original image):\n<code>(22, 22, 22), (222, 222, 222), (222, 222, 222), (222, 222, 222), (222, 222, 222)</code></p>\n<p>Things to note here that the PNG has no ALPHA channel.</p>\n<p>So what am i missing here? How to achieve the exact same pixel values when converting a PNG to JPEG?</p>\n<p>I have also checked imagemagick, convert. They appear to be the same result.</p>\n"},{"tags":["java","mysql","jpa"],"comments":[{"owner":{"account_id":21591205,"reputation":258,"user_id":15920786,"display_name":"easleyfixed"},"score":0,"creation_date":1671731514,"post_id":74891885,"comment_id":132165947,"body_markdown":"Also if you are using a mysql server, you should probably install MS Workbench, you could right click a table, select ALTER, and then go to town clicking the check boxes to define your primary key as Auto Increment and all that .   Not sure how often you have to alter a table, but if its more than once a day, this program will save you much time.","body":"Also if you are using a mysql server, you should probably install MS Workbench, you could right click a table, select ALTER, and then go to town clicking the check boxes to define your primary key as Auto Increment and all that .   Not sure how often you have to alter a table, but if its more than once a day, this program will save you much time."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1671744893,"post_id":74891885,"comment_id":132169448,"body_markdown":"I&#39;ll offer a counter-argument. MySQL Workbench is full of bugs and performance problems. I have used MySQL for 20+ years, but I never use the GUI. I don&#39;t think it saves any time to use the GUI, if you count all the time troubleshooting why it isn&#39;t working. I use MySQL from the command-line, SQL scripts, or else I write a quick Python script to do some tasks.","body":"I&#39;ll offer a counter-argument. MySQL Workbench is full of bugs and performance problems. I have used MySQL for 20+ years, but I never use the GUI. I don&#39;t think it saves any time to use the GUI, if you count all the time troubleshooting why it isn&#39;t working. I use MySQL from the command-line, SQL scripts, or else I write a quick Python script to do some tasks."}],"answers":[{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671763510,"creation_date":1671763510,"answer_id":74895659,"question_id":74891885,"body_markdown":"It can be achieved via @TableGenerator Annotation, if given annotation supported by JPA Provider.\r\n\r\nTableGenerator Annotation will create new table there it will keep initial default value as provided and query should be like this.\r\n\r\nHibernate: \r\n    \r\n    create table cart (\r\n       id bigint not null,\r\n        primary key (id)\r\n    )\r\nHibernate: \r\n    \r\n    create table cart_id_generator (\r\n       pk_name varchar(255) not null,\r\n        pk_value bigint,\r\n        primary key (pk_name)\r\n    )\r\nHibernate: \r\n    \r\n    insert into cart_id_generator(pk_name, pk_value) values (&#39;cart&#39;,1000000)\r\n\r\n\r\n    @Entity\r\n    public class Cart {\r\n    \r\n        @Id\r\n        @TableGenerator(name = &quot;cart_id_generator&quot;, table = &quot;cart_id_generator&quot;, pkColumnName = &quot;pk_name&quot;, valueColumnName = &quot;pk_value&quot;, initialValue = 1000000)\r\n        @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;cart_id_generator&quot;)\r\n        private Long id;\r\n    \r\n        private Cart() {}\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    }\r\n\r\n  ","title":"How to set MySQL AUTO_INCREMENT with JPA","body":"<p>It can be achieved via @TableGenerator Annotation, if given annotation supported by JPA Provider.</p>\n<p>TableGenerator Annotation will create new table there it will keep initial default value as provided and query should be like this.</p>\n<p>Hibernate:</p>\n<pre><code>create table cart (\n   id bigint not null,\n    primary key (id)\n)\n</code></pre>\n<p>Hibernate:</p>\n<pre><code>create table cart_id_generator (\n   pk_name varchar(255) not null,\n    pk_value bigint,\n    primary key (pk_name)\n)\n</code></pre>\n<p>Hibernate:</p>\n<pre><code>insert into cart_id_generator(pk_name, pk_value) values ('cart',1000000)\n\n\n@Entity\npublic class Cart {\n\n    @Id\n    @TableGenerator(name = &quot;cart_id_generator&quot;, table = &quot;cart_id_generator&quot;, pkColumnName = &quot;pk_name&quot;, valueColumnName = &quot;pk_value&quot;, initialValue = 1000000)\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;cart_id_generator&quot;)\n    private Long id;\n\n    private Cart() {}\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2297872,"reputation":2062,"user_id":2018885,"accept_rate":80,"display_name":"Stefaan Neyts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671763510,"creation_date":1671729865,"question_id":74891885,"body_markdown":"I have a class annotated with JPA:\r\n\r\n```\r\n@Entity\r\npublic class Cart {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Min(1000000)\r\n    private Long id;\r\n\r\n    private Cart() {}\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\nUsing auto DDL this results in a MySQL table:\r\n```\r\nCREATE TABLE `cart` (\r\n\t`id` BIGINT NOT NULL AUTO_INCREMENT,\r\n\tPRIMARY KEY (`id`)\r\n)\r\nCOLLATE=&#39;utf8mb4_general_ci&#39;\r\nENGINE=InnoDB\r\nAUTO_INCREMENT=1\r\n;\r\n```\r\n\r\nBut I want the `AUTO_INCREMENT` to have value `1000000` after DB creation.\r\n\r\nHow can this be achieved using JPA?\r\n\r\nKind regards\r\n\r\nStefaan","title":"How to set MySQL AUTO_INCREMENT with JPA","body":"<p>I have a class annotated with JPA:</p>\n<pre><code>@Entity\npublic class Cart {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Min(1000000)\n    private Long id;\n\n    private Cart() {}\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>Using auto DDL this results in a MySQL table:</p>\n<pre><code>CREATE TABLE `cart` (\n    `id` BIGINT NOT NULL AUTO_INCREMENT,\n    PRIMARY KEY (`id`)\n)\nCOLLATE='utf8mb4_general_ci'\nENGINE=InnoDB\nAUTO_INCREMENT=1\n;\n</code></pre>\n<p>But I want the <code>AUTO_INCREMENT</code> to have value <code>1000000</code> after DB creation.</p>\n<p>How can this be achieved using JPA?</p>\n<p>Kind regards</p>\n<p>Stefaan</p>\n"},{"tags":["java","maven","pom.xml","graphviz"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671798904,"post_id":74894641,"comment_id":132178758,"body_markdown":"All relevant information must be included in the question itself, not linked on off-site resources like pastebin.","body":"All relevant information must be included in the question itself, not linked on off-site resources like pastebin."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671762729,"creation_date":1671762729,"answer_id":74895604,"question_id":74894641,"body_markdown":"remove your all dependency goupid hava `org.slf4j` and `org.apache.logging.log4j`\r\n\r\nlogging part only add this two, no more.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"I want to use GraphViz in Maven project, but it fails: &quot;class path contains multiple SLF4J providers&quot;","body":"<p>remove your all dependency goupid hava <code>org.slf4j</code> and <code>org.apache.logging.log4j</code></p>\n<p>logging part only add this two, no more.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27331044,"reputation":3,"user_id":20843165,"display_name":"Sobira Muminova"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671803639,"accepted_answer_id":74895604,"answer_count":1,"score":-1,"last_activity_date":1671762729,"creation_date":1671749876,"question_id":74894641,"body_markdown":"I want to use grahpViz with Maven but got this exception:\r\n\r\n    `https://pastebin.com/uKpemQ2c\r\n`\r\nmy pom.xml file:\r\n\r\n    `https://pastebin.com/hvCKSS2N\r\n`\r\n\r\nI tried to use official documentation and added dependencies to pom.xml but it doesn&#39;t work.","title":"I want to use GraphViz in Maven project, but it fails: &quot;class path contains multiple SLF4J providers&quot;","body":"<p>I want to use grahpViz with Maven but got this exception:</p>\n<pre><code>`https://pastebin.com/uKpemQ2c\n</code></pre>\n<p>`\nmy pom.xml file:</p>\n<pre><code>`https://pastebin.com/hvCKSS2N\n</code></pre>\n<p>`</p>\n<p>I tried to use official documentation and added dependencies to pom.xml but it doesn't work.</p>\n"},{"tags":["java","database","unique-constraint"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1597915060,"post_id":63501943,"comment_id":112289981,"body_markdown":"&quot; in the window of check-then-act some other thread can create a user with same email.&quot; &lt;- You could just synchronize this part and make sure that while one thread is checking if the email exists and creates a new user, no other thread can do the same.","body":"&quot; in the window of check-then-act some other thread can create a user with same email.&quot; &lt;- You could just synchronize this part and make sure that while one thread is checking if the email exists and creates a new user, no other thread can do the same."},{"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"score":0,"creation_date":1597915592,"post_id":63501943,"comment_id":112290254,"body_markdown":"Synchronization is language (jvm-level) lock and doesn&#39;t hold good if multiple instances of service are running. Read point#2","body":"Synchronization is language (jvm-level) lock and doesn&#39;t hold good if multiple instances of service are running. Read point#2"}],"answers":[{"comments":[{"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"score":0,"creation_date":1597916665,"post_id":63502229,"comment_id":112290784,"body_markdown":"...`you might send a &quot;create account(emailAddress` if you&#39;re achieving this through `language-level lock` then you&#39;re restricting to no-redundancy (and potentially **SPOF**)\n\nIf you&#39;re trying to achieve solution through `draft` flag then it&#39;s basically a `fire-and-forget` scenario and requestor will always see request succeeded, moreover you&#39;re only achieving asynchronous behavior, **not** _not-using_ through database constraints","body":"...<code>you might send a &quot;create account(emailAddress</code> if you&#39;re achieving this through <code>language-level lock</code> then you&#39;re restricting to no-redundancy (and potentially <b>SPOF</b>)  If you&#39;re trying to achieve solution through <code>draft</code> flag then it&#39;s basically a <code>fire-and-forget</code> scenario and requestor will always see request succeeded, moreover you&#39;re only achieving asynchronous behavior, <b>not</b> <i>not-using</i> through database constraints"}],"tags":[],"owner":{"account_id":312557,"reputation":29237,"user_id":626692,"display_name":"Neville Kuyt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597915967,"creation_date":1597915967,"answer_id":63502229,"question_id":63501943,"body_markdown":"I think your question is more generic - &quot;how do I ensure a database write action succeeded, and how do I handle cases where it didn&#39;t?&quot;. Uniqueness is just one failure mode - you may be attempting to insert a value that&#39;s too big, or of the wrong data type, or that doesn&#39;t match a foreign key constraint.\r\n\r\nRelational databases solve this through being [ACID][1]-compliant, and throwing errors for the client to deal with when a transaction fails.\r\n\r\nYou want (some of) the benefits of ACID without the relational database. That&#39;s a fairly big [topic][2] of conversation. The obvious way to solve this is to introduce the concept of &quot;transaction&quot; in your application layer. For instance, in your case, you might send a &quot;create account(emailAddress, name, ...)&quot; message, and have the application listen for either an &quot;accountCreated&quot; or &quot;accountCreationFailed&quot; response. The recipient of that message is responsible for writing to the database; you have a couple of options. One is to lock that thread (so only one process can write to the database at any time); that&#39;s not super scalable. The other mechanism I&#39;ve used is introducing status flags - you write the account data to the database with a &quot;draft&quot; flag, then check for your constraints (including uniqueness), and set the &quot;draft&quot; flag to &quot;validated&quot; if the constraints are met (i.e. there is no other record with the same email address), and &quot;failed&quot; if they are not. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ACID\r\n  [2]: https://stackoverflow.com/questions/2608103/is-there-any-nosql-data-store-that-is-acid-compliant","title":"Is there a way to ensure uniqueness of a field without relying on database","body":"<p>I think your question is more generic - &quot;how do I ensure a database write action succeeded, and how do I handle cases where it didn't?&quot;. Uniqueness is just one failure mode - you may be attempting to insert a value that's too big, or of the wrong data type, or that doesn't match a foreign key constraint.</p>\n<p>Relational databases solve this through being <a href=\"https://en.wikipedia.org/wiki/ACID\" rel=\"nofollow noreferrer\">ACID</a>-compliant, and throwing errors for the client to deal with when a transaction fails.</p>\n<p>You want (some of) the benefits of ACID without the relational database. That's a fairly big <a href=\"https://stackoverflow.com/questions/2608103/is-there-any-nosql-data-store-that-is-acid-compliant\">topic</a> of conversation. The obvious way to solve this is to introduce the concept of &quot;transaction&quot; in your application layer. For instance, in your case, you might send a &quot;create account(emailAddress, name, ...)&quot; message, and have the application listen for either an &quot;accountCreated&quot; or &quot;accountCreationFailed&quot; response. The recipient of that message is responsible for writing to the database; you have a couple of options. One is to lock that thread (so only one process can write to the database at any time); that's not super scalable. The other mechanism I've used is introducing status flags - you write the account data to the database with a &quot;draft&quot; flag, then check for your constraints (including uniqueness), and set the &quot;draft&quot; flag to &quot;validated&quot; if the constraints are met (i.e. there is no other record with the same email address), and &quot;failed&quot; if they are not.</p>\n"},{"comments":[{"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"score":0,"creation_date":1597928713,"post_id":63504867,"comment_id":112296586,"body_markdown":"Database transactions isn&#39;t in question here, we are looking for a solution that doesn&#39;t involve relying on database constraints/transactions.\nRelational databases natively support ACID and hence very easy to aid unique constraint via databases.","body":"Database transactions isn&#39;t in question here, we are looking for a solution that doesn&#39;t involve relying on database constraints/transactions. Relational databases natively support ACID and hence very easy to aid unique constraint via databases."},{"owner":{"account_id":2531742,"reputation":64,"user_id":5034081,"display_name":"Aidin"},"score":0,"creation_date":1597933467,"post_id":63504867,"comment_id":112299401,"body_markdown":"@bitscanbyte I was not talking about databases, I was talking about a state store. your problem requires storing state. If you don&#39;t want to you use available data stores, then you have to implement a part of their functionality in your code. you can also use an embeddable database library like https://github.com/jankotek/mapdb or https://github.com/hazelcast/hazelcast (in embedded mode). hazlecast also supports distributed mode, for example five instances of your application sharing the same state.","body":"@bitscanbyte I was not talking about databases, I was talking about a state store. your problem requires storing state. If you don&#39;t want to you use available data stores, then you have to implement a part of their functionality in your code. you can also use an embeddable database library like <a href=\"https://github.com/jankotek/mapdb\" rel=\"nofollow noreferrer\">github.com/jankotek/mapdb</a> or <a href=\"https://github.com/hazelcast/hazelcast\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast</a> (in embedded mode). hazlecast also supports distributed mode, for example five instances of your application sharing the same state."}],"tags":[],"owner":{"account_id":2531742,"reputation":64,"user_id":5034081,"display_name":"Aidin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597925696,"creation_date":1597925696,"answer_id":63504867,"question_id":63501943,"body_markdown":"to check for uniquness you need to store the &quot;state&quot; of the program. for safety you need to be able to apply changes to the state transactionally.\r\n\r\n - you can use database transactions. a few of the NoSQL databases support transactions too, for example, redis and MongoDB. you have to check for each vendor separately to see how they support transactions. in this setup, each client will connect to the database and it will handle all of the details for you. also depending on your use case you should be careful about the isolation level configuration.\r\n - if durability is not a concern then you can use in memory databases that support transactions.\r\n\r\nwhich state store you choose, it should support transactions. there are several ways to implement transactions and achieve consistency. many relational databases like PostgresSQL achieve this by implementing the MVCC algorithm. in a distributed environment you have to look for distributed transactions such as 2PC, Paxos, etc.  \r\n\r\nnormally everybody relies on availabe datastore solutions unless there is a weird or specific requirement for the project.\r\n\r\nfinal note, the communication pattern is not related to the underlying problem here. for example, in the Actor case you mentioned, at the end of the day, each actor has to query the state to find if a email exists or not. if your state store supports [Serializability][1] then there is no problem and conflicts will not happen (communicating the error to the client is another issue). suppose that you are using PostgreSQL. when a insert/update query is issued, it is wrapped around a transaction and the underlying MVCC algorithm will take care of everything. in an advanced and distrbiuted environment you can use data stores that support distributed transactions, like CockroachDB.\r\n\r\nif you want to dive deep you can research these keywords: ACID, isolation levels, atomicity, serializability, CAP theorem, 2PC, MVCC, distributed transacitons, distributed locks, ...\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Serializability","title":"Is there a way to ensure uniqueness of a field without relying on database","body":"<p>to check for uniquness you need to store the &quot;state&quot; of the program. for safety you need to be able to apply changes to the state transactionally.</p>\n<ul>\n<li>you can use database transactions. a few of the NoSQL databases support transactions too, for example, redis and MongoDB. you have to check for each vendor separately to see how they support transactions. in this setup, each client will connect to the database and it will handle all of the details for you. also depending on your use case you should be careful about the isolation level configuration.</li>\n<li>if durability is not a concern then you can use in memory databases that support transactions.</li>\n</ul>\n<p>which state store you choose, it should support transactions. there are several ways to implement transactions and achieve consistency. many relational databases like PostgresSQL achieve this by implementing the MVCC algorithm. in a distributed environment you have to look for distributed transactions such as 2PC, Paxos, etc.</p>\n<p>normally everybody relies on availabe datastore solutions unless there is a weird or specific requirement for the project.</p>\n<p>final note, the communication pattern is not related to the underlying problem here. for example, in the Actor case you mentioned, at the end of the day, each actor has to query the state to find if a email exists or not. if your state store supports <a href=\"https://en.wikipedia.org/wiki/Serializability\" rel=\"nofollow noreferrer\">Serializability</a> then there is no problem and conflicts will not happen (communicating the error to the client is another issue). suppose that you are using PostgreSQL. when a insert/update query is issued, it is wrapped around a transaction and the underlying MVCC algorithm will take care of everything. in an advanced and distrbiuted environment you can use data stores that support distributed transactions, like CockroachDB.</p>\n<p>if you want to dive deep you can research these keywords: ACID, isolation levels, atomicity, serializability, CAP theorem, 2PC, MVCC, distributed transacitons, distributed locks, ...</p>\n"},{"tags":[],"owner":{"account_id":8765500,"reputation":185,"user_id":6554026,"display_name":"grantn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671762660,"creation_date":1671762660,"answer_id":74895600,"question_id":63501943,"body_markdown":"NoSQL databases provide different, weaker, guarantees than relational databases. Generally, the tradeoff is you give up ACID guarantees in exchange for increased scalability in the dimensions that matter for your application.\r\n\r\nIt&#39;s possible to provide some kind of uniqueness guarantee, but subject to certain tradeoffs. With NoSQL, there are always tradeoffs.\r\n\r\nIf your NoSQL store supports [optimistic concurrency control][1], maybe this approach will work:\r\n\r\nStore a separate document that contains the set of all `emailAddress` values, across all documents in your NoSQL table. This is one instance of this document at a given time.\r\n\r\nEach time you want to save a document containing `emailAddress`, first confirm email address uniqueness:\r\n\r\nPerform the following actions, protected by optimistic locking.  You can on the backend if this due to a concurrent update:\r\n\r\n1. Read this &quot;all emails&quot; document.\r\n2. Confirm the email isn&#39;t present.\r\n3. If not present, add the email address to the &quot;all emails document&quot;\r\n4. Save it.\r\n\r\nYou&#39;ve now traded one problem ... the lack of unique constraints, for another ... the inability to synchronise updates across your original document and this new &quot;all emails&quot; document.  This may or may not be acceptable, it depends on the guarantees that your application needs to provide. \r\n\r\ne.g. Maybe you can accept that an email may be added to &quot;all emails&quot;, that saving the related document to your other &quot;table&quot; subsequently fails, and that that email address is now not able to be used.  You could clean this up with a batch job somehow. Not sure. \r\n\r\nThe index of emails could be stored in some other service (e.g. a persistent cache). The same problem exists, you need to keep the index and your document store in sync somehow.\r\n\r\nThere&#39;s no easy solution.  For a detailed overview of the relevant concepts, I&#39;d recommend [Designing Data-Intensive Applications][2] by Martin Kleppmann.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Optimistic_concurrency_control\r\n  [2]: https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/","title":"Is there a way to ensure uniqueness of a field without relying on database","body":"<p>NoSQL databases provide different, weaker, guarantees than relational databases. Generally, the tradeoff is you give up ACID guarantees in exchange for increased scalability in the dimensions that matter for your application.</p>\n<p>It's possible to provide some kind of uniqueness guarantee, but subject to certain tradeoffs. With NoSQL, there are always tradeoffs.</p>\n<p>If your NoSQL store supports <a href=\"https://en.wikipedia.org/wiki/Optimistic_concurrency_control\" rel=\"nofollow noreferrer\">optimistic concurrency control</a>, maybe this approach will work:</p>\n<p>Store a separate document that contains the set of all <code>emailAddress</code> values, across all documents in your NoSQL table. This is one instance of this document at a given time.</p>\n<p>Each time you want to save a document containing <code>emailAddress</code>, first confirm email address uniqueness:</p>\n<p>Perform the following actions, protected by optimistic locking.  You can on the backend if this due to a concurrent update:</p>\n<ol>\n<li>Read this &quot;all emails&quot; document.</li>\n<li>Confirm the email isn't present.</li>\n<li>If not present, add the email address to the &quot;all emails document&quot;</li>\n<li>Save it.</li>\n</ol>\n<p>You've now traded one problem ... the lack of unique constraints, for another ... the inability to synchronise updates across your original document and this new &quot;all emails&quot; document.  This may or may not be acceptable, it depends on the guarantees that your application needs to provide.</p>\n<p>e.g. Maybe you can accept that an email may be added to &quot;all emails&quot;, that saving the related document to your other &quot;table&quot; subsequently fails, and that that email address is now not able to be used.  You could clean this up with a batch job somehow. Not sure.</p>\n<p>The index of emails could be stored in some other service (e.g. a persistent cache). The same problem exists, you need to keep the index and your document store in sync somehow.</p>\n<p>There's no easy solution.  For a detailed overview of the relevant concepts, I'd recommend <a href=\"https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/\" rel=\"nofollow noreferrer\">Designing Data-Intensive Applications</a> by Martin Kleppmann.</p>\n"}],"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1671762660,"creation_date":1597914889,"question_id":63501943,"body_markdown":"**Without** relying on the database, is there a way to **ensure** a field (let&#39;s say a User&#39;s `emailAddress`) is unique.\r\n\r\nSome common failure attempts: \r\n\r\n 1. Check first if `emailAddress` exists (by querying the DB) and if not then create the user. Now obviously in the window of check-then-act some other thread can create a user with same email. Hence this solution is no good.\r\n 2. Apply a language-level lock on the method responsible for creating the user. This solution fails as we need redundancy of the service for performance reasons and lock is on a single JVM.\r\n 3. Use an Event store (like an Akka actor&#39;s mailbox), event being an AddUser message, but since the actor behavior is asynchronous, the requestor(sender) can&#39;t be notified that user creation with unique email was successful. Moreover, how do 2 requests (with same email) know they contain a unique email? This may get complicated.\r\n\r\nDatabase, being a single source of data that every thread and every service instance will write to, makes sense to implement the `unique constraint` here. But this holds true for **Relational** databases.\r\nThen what about **NoSql** databases? some do allow for a unique constraint, but it&#39;s not their native behavior, or maybe it is.\r\n\r\nBut the question of not using the database to implement uniqueness of a field, what could be the options?","title":"Is there a way to ensure uniqueness of a field without relying on database","body":"<p><strong>Without</strong> relying on the database, is there a way to <strong>ensure</strong> a field (let's say a User's <code>emailAddress</code>) is unique.</p>\n<p>Some common failure attempts:</p>\n<ol>\n<li>Check first if <code>emailAddress</code> exists (by querying the DB) and if not then create the user. Now obviously in the window of check-then-act some other thread can create a user with same email. Hence this solution is no good.</li>\n<li>Apply a language-level lock on the method responsible for creating the user. This solution fails as we need redundancy of the service for performance reasons and lock is on a single JVM.</li>\n<li>Use an Event store (like an Akka actor's mailbox), event being an AddUser message, but since the actor behavior is asynchronous, the requestor(sender) can't be notified that user creation with unique email was successful. Moreover, how do 2 requests (with same email) know they contain a unique email? This may get complicated.</li>\n</ol>\n<p>Database, being a single source of data that every thread and every service instance will write to, makes sense to implement the <code>unique constraint</code> here. But this holds true for <strong>Relational</strong> databases.\nThen what about <strong>NoSql</strong> databases? some do allow for a unique constraint, but it's not their native behavior, or maybe it is.</p>\n<p>But the question of not using the database to implement uniqueness of a field, what could be the options?</p>\n"},{"tags":["java","spring","spring-aop","spring-ioc"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671780851,"post_id":74893161,"comment_id":132174426,"body_markdown":"In addition to the information in my answer to the question I marked this one as a duplicate of, I want to mention that AFAIK (never having been a Spring user) you can also use `@Transactional` in native AspectJ mode. In that case, self-invocation should be tracked, because AspectJ does not use proxies. If that really works, however, depends on how the transaction aspects are implemented. I did not check, never having used them. Just give it a try or study the user manual.","body":"In addition to the information in my answer to the question I marked this one as a duplicate of, I want to mention that AFAIK (never having been a Spring user) you can also use <code>@Transactional</code> in native AspectJ mode. In that case, self-invocation should be tracked, because AspectJ does not use proxies. If that really works, however, depends on how the transaction aspects are implemented. I did not check, never having used them. Just give it a try or study the user manual."},{"owner":{"account_id":24911802,"reputation":71,"user_id":18781269,"display_name":"alchemist"},"score":1,"creation_date":1671877865,"post_id":74893161,"comment_id":132191353,"body_markdown":"This question is locked, so I am posting this as a comment. The real reason is inconsistency with the JDK proxying mechanism, as mentioned in the docs: &quot;Spring AOP defaults to using standard JDK dynamic proxies for AOP proxies.&quot; Remember, you can&#39;t intercept method calls within a custom class using standard JDK proxies since you can&#39;t &#39;extend&#39; the said class. Check out the [&quot;Proxying Mechanism&quot;](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-proxying) section of the docs to learn more.","body":"This question is locked, so I am posting this as a comment. The real reason is inconsistency with the JDK proxying mechanism, as mentioned in the docs: &quot;Spring AOP defaults to using standard JDK dynamic proxies for AOP proxies.&quot; Remember, you can&#39;t intercept method calls within a custom class using standard JDK proxies since you can&#39;t &#39;extend&#39; the said class. Check out the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-proxying\" rel=\"nofollow noreferrer\">&quot;Proxying Mechanism&quot;</a> section of the docs to learn more."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671881835,"post_id":74893161,"comment_id":132191969,"body_markdown":"@alchemist, I am failing to see the relevance of your comment. What you said is firstly untrue, because there is no &quot;inconsistency&quot; mentioned in the documentation. Your interpretation is wrong, IMO. Nothing is inconsistent there. Secondly, the proxying mechanism in the docs only explains how Spring beans are being proxied, not how it works for config classes or bean factory methods. The mechanism there is fundamentally different. With all due respect, please refrain from confusing others with half-baked comments.","body":"@alchemist, I am failing to see the relevance of your comment. What you said is firstly untrue, because there is no &quot;inconsistency&quot; mentioned in the documentation. Your interpretation is wrong, IMO. Nothing is inconsistent there. Secondly, the proxying mechanism in the docs only explains how Spring beans are being proxied, not how it works for config classes or bean factory methods. The mechanism there is fundamentally different. With all due respect, please refrain from confusing others with half-baked comments."},{"owner":{"account_id":24911802,"reputation":71,"user_id":18781269,"display_name":"alchemist"},"score":1,"creation_date":1671882981,"post_id":74893161,"comment_id":132192119,"body_markdown":"@kriegaex I don&#39;t think it is confusing for Spring users. JDK and CGLIB proxying mechanisms can not be used interchangeably, and Spring favors JDK proxying because it doesn&#39;t want to rely on external libraries. Hence, the Spring developers have to use proxies in a way that is compatible with the JDK, even when the classes are being proxied with CGLIB. If you hadn&#39;t closed the question, I could provide a more detailed explanation","body":"@kriegaex I don&#39;t think it is confusing for Spring users. JDK and CGLIB proxying mechanisms can not be used interchangeably, and Spring favors JDK proxying because it doesn&#39;t want to rely on external libraries. Hence, the Spring developers have to use proxies in a way that is compatible with the JDK, even when the classes are being proxied with CGLIB. If you hadn&#39;t closed the question, I could provide a more detailed explanation"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671884109,"post_id":74893161,"comment_id":132192256,"body_markdown":"I know all of this, but it still is irrelevant in this context, because the question asked was not about the difference between JDK and CGLIB proxies. Proxying interface vs. class types technically is not the same, so let us not compare apples and pears. IMO, proxying an interface is preferable to proxying a class, and that is what JDK proxies are made for. So I understand that they are the default. BTW, in Spring Boot CGLIB proxies are the default, even for interface types. That is rather what I would call inconsistent, but not what you said. But we are way OT here, let us stop.","body":"I know all of this, but it still is irrelevant in this context, because the question asked was not about the difference between JDK and CGLIB proxies. Proxying interface vs. class types technically is not the same, so let us not compare apples and pears. IMO, proxying an interface is preferable to proxying a class, and that is what JDK proxies are made for. So I understand that they are the default. BTW, in Spring Boot CGLIB proxies are the default, even for interface types. That is rather what I would call inconsistent, but not what you said. But we are way OT here, let us stop."},{"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"score":1,"creation_date":1671884718,"post_id":74893161,"comment_id":132192355,"body_markdown":"@kriegaex I would like to read the complete answer from @alchemist. To me it seems relevant and answers the question: if JDK interface-based proxies are less powerful (have no ability to override `this` with a proxied reference),then it makes perfect sense to not apply the same technique for AOP based on CGLIB proxies (even if they can do so), otherwise the software would behave differently depending on proxy mechanism. If I understood correctly JDK proxies are the &quot;lowest denominator&quot; here, hence Spring developers can&#39;t allow CGLIB proxies to do more (to make AOP working with self invocation)","body":"@kriegaex I would like to read the complete answer from @alchemist. To me it seems relevant and answers the question: if JDK interface-based proxies are less powerful (have no ability to override <code>this</code> with a proxied reference),then it makes perfect sense to not apply the same technique for AOP based on CGLIB proxies (even if they can do so), otherwise the software would behave differently depending on proxy mechanism. If I understood correctly JDK proxies are the &quot;lowest denominator&quot; here, hence Spring developers can&#39;t allow CGLIB proxies to do more (to make AOP working with self invocation)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671891013,"post_id":74893161,"comment_id":132193317,"body_markdown":"Guys, if you need self-invocation, simply ditch proxies and use native AspectJ. That is what the Spring manual also tells you. Please stop philosophising here, the debate is too long already, and it is off-topic on Stack Overflow.","body":"Guys, if you need self-invocation, simply ditch proxies and use native AspectJ. That is what the Spring manual also tells you. Please stop philosophising here, the debate is too long already, and it is off-topic on Stack Overflow."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671761987,"creation_date":1671761182,"answer_id":74895502,"question_id":74893161,"body_markdown":"In general that is not a good idea to discuss decisions made by other developers, however I believe I can give some clues...\r\n\r\n\r\nLet&#39;s consider following `@Transactional` bean:\r\n\r\n```java\r\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\r\nvoid method1() {\r\n    // do something\r\n    method3()\r\n    // do something\r\n}\r\n\r\nvoid method2() {\r\n    // do something\r\n    method3()\r\n    // do something\r\n}\r\n\r\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\r\nvoid method3() {\r\n    // do something\r\n}\r\n```\r\n\r\nIf spring were performing transformations similar to [`@Configuration` classes](https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassEnhancer.java) (i.e. subclassing bean class and overriding `@Transactional` methods) that might be &quot;desired&quot; behaviour for `#method2`, but in case of `#method1` we could start getting inconsistencies. And in order to overcome possible ambiguities you would need to write something like:\r\n\r\n```java\r\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\r\nvoid method1() {\r\n    // do something\r\n    doMethod3()\r\n    // do something\r\n}\r\n\r\nvoid method2() {\r\n    // do something\r\n    method3()\r\n    // do something\r\n}\r\n\r\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\r\nvoid method3() {\r\n    doMethod3()\r\n}\r\n\r\nvoid doMethod3() {\r\n    // do something\r\n}\r\n```\r\n\r\nAnother example:\r\n\r\n```java\r\n@Transactional\r\nvoid method1() {\r\n    // do something\r\n    try {\r\n       method2()\r\n    } catch (Exception ex) {\r\n       // ignore\r\n    }\r\n    // do something\r\n}\r\n\r\n@Transactional\r\nvoid method2() {\r\n    // do something\r\n}\r\n```\r\n\r\nNow, exceptions raised in `#method2` would mark transaction initiated in `#method1` as rollback-only regardless of our attempts to catch those exceptions.\r\n\r\nBoth examples above demonstrate that `@Transactional` semantics also depends on caller side, and IMO that is much simpler to have a deal with current straightforward implementation, when all `@Transactional` annotations are basically ignored, rather than solving `@Transactional` puzzles every day.\r\n\r\nFYI, self-injection IMO is not a good idea, the problem is when we do some tricks in code those tricks must be clearly visible and discoverable, it is much better to write something like:\r\n\r\n```java\r\nclass TransactionService {\r\n\r\n   @Transactional\r\n   public &lt;T&gt; T tx(Supplier&lt;T&gt; supplier) {\r\n     return supplier.get();\r\n   }\r\n\r\n}\r\n```","title":"Why self-inject is required for class calling own @Transactional method, but is not required for @Bean methods to ensure single instance creation?","body":"<p>In general that is not a good idea to discuss decisions made by other developers, however I believe I can give some clues...</p>\n<p>Let's consider following <code>@Transactional</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\nvoid method1() {\n    // do something\n    method3()\n    // do something\n}\n\nvoid method2() {\n    // do something\n    method3()\n    // do something\n}\n\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\nvoid method3() {\n    // do something\n}\n</code></pre>\n<p>If spring were performing transformations similar to <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassEnhancer.java\" rel=\"nofollow noreferrer\"><code>@Configuration</code> classes</a> (i.e. subclassing bean class and overriding <code>@Transactional</code> methods) that might be &quot;desired&quot; behaviour for <code>#method2</code>, but in case of <code>#method1</code> we could start getting inconsistencies. And in order to overcome possible ambiguities you would need to write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\nvoid method1() {\n    // do something\n    doMethod3()\n    // do something\n}\n\nvoid method2() {\n    // do something\n    method3()\n    // do something\n}\n\n@Transactional(propagation=PROPAGATION_REQUIRES_NEW)\nvoid method3() {\n    doMethod3()\n}\n\nvoid doMethod3() {\n    // do something\n}\n</code></pre>\n<p>Another example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\nvoid method1() {\n    // do something\n    try {\n       method2()\n    } catch (Exception ex) {\n       // ignore\n    }\n    // do something\n}\n\n@Transactional\nvoid method2() {\n    // do something\n}\n</code></pre>\n<p>Now, exceptions raised in <code>#method2</code> would mark transaction initiated in <code>#method1</code> as rollback-only regardless of our attempts to catch those exceptions.</p>\n<p>Both examples above demonstrate that <code>@Transactional</code> semantics also depends on caller side, and IMO that is much simpler to have a deal with current straightforward implementation, when all <code>@Transactional</code> annotations are basically ignored, rather than solving <code>@Transactional</code> puzzles every day.</p>\n<p>FYI, self-injection IMO is not a good idea, the problem is when we do some tricks in code those tricks must be clearly visible and discoverable, it is much better to write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TransactionService {\n\n   @Transactional\n   public &lt;T&gt; T tx(Supplier&lt;T&gt; supplier) {\n     return supplier.get();\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1671780605,"answer_count":1,"score":2,"last_activity_date":1671761987,"creation_date":1671738043,"question_id":74893161,"body_markdown":"It&#39; well-known that [`@Transactional`](https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo) or [any other AOP around the method](https://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method) won&#39;t work if it was called from inside of the same class.\r\n\r\nAnd explanation is clear and always made sense to me: the proxy wraps a real basic Java object. All the other clients of our class actually have a reference to proxy (injected by Spring), that&#39;s why AOP logic works. Inside of the same class we have a clean `this` without AOP, hence AOP does not work if you call AOP-suggesting method directly on `this`.\r\n\r\nBut at the same time there are `@Configuration` classes with `@Bean` methods for producing singletons which somehow get executed __only once__ even if there is the code which explicitly invokes such method multiple times on `this`. Here is the practical example:\r\n\r\n```java\r\n@Bean\r\nString bean1() {\r\n    System.out.println(&quot;Creating bean1 only once&quot;);\r\n    return new StringBuilder(&quot;bean1&quot;).toString();\r\n}\r\n\r\n@Bean\r\nStringHolder bean2() {\r\n    return new StringHolder(&quot;bean2&quot;, bean1());\r\n}\r\n\r\n@Bean\r\nStringHolder bean3() {\r\n    return new StringHolder(&quot;bean3&quot;, bean1());\r\n}\r\n```\r\n\r\nBoth `bean2()` and `bean3()` explicitly call `bean1()`, but the &quot;Creating bean1 only once&quot; will be printed only once on context startup. How does it even work? The `@Transactional`/AOP examples linked above teach us that the framework&#39;s magic should not work when we call self methods.\r\n\r\nThe behavior of `@Bean` in `@Configuration` on the other hand is expected according to what [Spring Core documentation](https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#beans-factorybeans-annotations) says:\r\n\r\n&gt; CGLIB proxying is the means by which invoking methods or fields within `@Bean` methods in `@Configuration` classes creates bean metadata references to collaborating objects. __Such methods are not invoked with normal Java semantics but rather go through the container in order to provide the usual lifecycle management and proxying of Spring beans, even when referring to other beans through programmatic calls to `@Bean` methods__\r\n\r\nI&#39;ve decided to check in debugger what is the reference to `this` inside of a `@Bean` method of `@Configuraiton` class and it turned out that `this` is not just an instance of `MyConfigClass`, but an instance of `MyConfigClass$$SpringCGLIB$$0`.\r\nSo, this is a real evidence that `this` can somehow point to a CGLIB proxy and not just a basic instance of original class. \r\nIf it can be achieved, why the same technique is not applied to instances of classes with `@Transactional` and other AOP?\r\n\r\nMy first clue was that `@Transactional`/AOP probably uses different types of proxies, so I&#39;ve also inspected the reference to `MyTransactionalService`. Inside of a method of the service `this` points to instance of basic `MyTransactionalService`, but outside of the class DI container will inject a reference to `MyTransactionalService$$SpringCGLIB$$0`.\r\n\r\nSo, it looks like the same CGLIB approach is used for both cases: `MyConfigClass` and `MyTransactionalService`. But why methods of `MyConfigClass` see proxied object behind `this` ref, and at the same time methods of `MyTransactionalService` see bare non-proxied object?","title":"Why self-inject is required for class calling own @Transactional method, but is not required for @Bean methods to ensure single instance creation?","body":"<p>It' well-known that <a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\"><code>@Transactional</code></a> or <a href=\"https://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method\">any other AOP around the method</a> won't work if it was called from inside of the same class.</p>\n<p>And explanation is clear and always made sense to me: the proxy wraps a real basic Java object. All the other clients of our class actually have a reference to proxy (injected by Spring), that's why AOP logic works. Inside of the same class we have a clean <code>this</code> without AOP, hence AOP does not work if you call AOP-suggesting method directly on <code>this</code>.</p>\n<p>But at the same time there are <code>@Configuration</code> classes with <code>@Bean</code> methods for producing singletons which somehow get executed <strong>only once</strong> even if there is the code which explicitly invokes such method multiple times on <code>this</code>. Here is the practical example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nString bean1() {\n    System.out.println(&quot;Creating bean1 only once&quot;);\n    return new StringBuilder(&quot;bean1&quot;).toString();\n}\n\n@Bean\nStringHolder bean2() {\n    return new StringHolder(&quot;bean2&quot;, bean1());\n}\n\n@Bean\nStringHolder bean3() {\n    return new StringHolder(&quot;bean3&quot;, bean1());\n}\n</code></pre>\n<p>Both <code>bean2()</code> and <code>bean3()</code> explicitly call <code>bean1()</code>, but the &quot;Creating bean1 only once&quot; will be printed only once on context startup. How does it even work? The <code>@Transactional</code>/AOP examples linked above teach us that the framework's magic should not work when we call self methods.</p>\n<p>The behavior of <code>@Bean</code> in <code>@Configuration</code> on the other hand is expected according to what <a href=\"https://docs.spring.io/spring-framework/docs/6.0.3/reference/html/core.html#beans-factorybeans-annotations\" rel=\"nofollow noreferrer\">Spring Core documentation</a> says:</p>\n<blockquote>\n<p>CGLIB proxying is the means by which invoking methods or fields within <code>@Bean</code> methods in <code>@Configuration</code> classes creates bean metadata references to collaborating objects. <strong>Such methods are not invoked with normal Java semantics but rather go through the container in order to provide the usual lifecycle management and proxying of Spring beans, even when referring to other beans through programmatic calls to <code>@Bean</code> methods</strong></p>\n</blockquote>\n<p>I've decided to check in debugger what is the reference to <code>this</code> inside of a <code>@Bean</code> method of <code>@Configuraiton</code> class and it turned out that <code>this</code> is not just an instance of <code>MyConfigClass</code>, but an instance of <code>MyConfigClass$$SpringCGLIB$$0</code>.\nSo, this is a real evidence that <code>this</code> can somehow point to a CGLIB proxy and not just a basic instance of original class.\nIf it can be achieved, why the same technique is not applied to instances of classes with <code>@Transactional</code> and other AOP?</p>\n<p>My first clue was that <code>@Transactional</code>/AOP probably uses different types of proxies, so I've also inspected the reference to <code>MyTransactionalService</code>. Inside of a method of the service <code>this</code> points to instance of basic <code>MyTransactionalService</code>, but outside of the class DI container will inject a reference to <code>MyTransactionalService$$SpringCGLIB$$0</code>.</p>\n<p>So, it looks like the same CGLIB approach is used for both cases: <code>MyConfigClass</code> and <code>MyTransactionalService</code>. But why methods of <code>MyConfigClass</code> see proxied object behind <code>this</code> ref, and at the same time methods of <code>MyTransactionalService</code> see bare non-proxied object?</p>\n"},{"tags":["java","constructor","initialization","lombok"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1510166132,"post_id":47187111,"comment_id":81323525,"body_markdown":"Have you tried using @PostConstruct?","body":"Have you tried using @PostConstruct?"},{"owner":{"display_name":"user180100"},"score":2,"creation_date":1510166270,"post_id":47187111,"comment_id":81323595,"body_markdown":"You&#39;re using lombok how about using https://projectlombok.org/features/GetterLazy?","body":"You&#39;re using lombok how about using <a href=\"https://projectlombok.org/features/GetterLazy\" rel=\"nofollow noreferrer\">projectlombok.org/features/GetterLazy</a>?"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1510166826,"post_id":47187111,"comment_id":81323914,"body_markdown":"Maybe you could use inheritance and have `x` initialized in super class constructor that should run before your initialize block.","body":"Maybe you could use inheritance and have <code>x</code> initialized in super class constructor that should run before your initialize block."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1510166846,"post_id":47187111,"comment_id":81323925,"body_markdown":"it&#39;s my bad my first comment was @Lazy from spring (it&#39;s late here :p)","body":"it&#39;s my bad my first comment was @Lazy from spring (it&#39;s late here :p)"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1510166895,"post_id":47187390,"comment_id":81323960,"body_markdown":"The code can be in-line too `private final int sqrt = (int) Math.sqrt(x);`, thus avoiding the existence of the `compute()` method","body":"The code can be in-line too <code>private final int sqrt = (int) Math.sqrt(x);</code>, thus avoiding the existence of the <code>compute()</code> method"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":1,"creation_date":1510168174,"post_id":47187390,"comment_id":81324744,"body_markdown":"you&#39;re gonna have a `null` if you access the variable before you call the getter which seems totally weird like for a **final primitive** https://pastebin.com/5D0tCgaS","body":"you&#39;re gonna have a <code>null</code> if you access the variable before you call the getter which seems totally weird like for a <b>final primitive</b> <a href=\"https://pastebin.com/5D0tCgaS\" rel=\"nofollow noreferrer\">pastebin.com/5D0tCgaS</a>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1510169746,"post_id":47187390,"comment_id":81325716,"body_markdown":"@RC. I took the liberty of leeting up your answer. I also tested the code to make sure it really does work (I agree, this is pretty cool!). Andrew is (unsurprisingly) correct: only access through the getter invokes the magic.","body":"@RC. I took the liberty of leeting up your answer. I also tested the code to make sure it really does work (I agree, this is pretty cool!). Andrew is (unsurprisingly) correct: only access through the getter invokes the magic."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1510171839,"post_id":47187390,"comment_id":81326861,"body_markdown":"No problem, and yes, this supposes you only access `sqrt` through the getter (but it&#39;s still a pretty cool feature)","body":"No problem, and yes, this supposes you only access <code>sqrt</code> through the getter (but it&#39;s still a pretty cool feature)"}],"tags":[],"owner":{"display_name":"user180100"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1510169634,"creation_date":1510166778,"answer_id":47187390,"question_id":47187111,"body_markdown":"How about using the [`lazy` option on @Getter][1] for the computation:\r\n\r\n    // tested and works OK\r\n    @Getter(lazy = true) \r\n    private final int sqrt = (int) Math.sqrt(x);\r\n\r\nNote: Calling `getSqrt()` works as expected/hoped, firing the computation and setting the &quot;final&quot; field, however accessing the field directly does not invoke the magic - you get the uninitialized value.\r\n\r\n  [1]: http://projectlombok.org/features/GetterLazy","title":"Is there a Lombok way to initialise a final field that is calculated from other fields?","body":"<p>How about using the <a href=\"http://projectlombok.org/features/GetterLazy\" rel=\"noreferrer\"><code>lazy</code> option on @Getter</a> for the computation:</p>\n\n<pre><code>// tested and works OK\n@Getter(lazy = true) \nprivate final int sqrt = (int) Math.sqrt(x);\n</code></pre>\n\n<p>Note: Calling <code>getSqrt()</code> works as expected/hoped, firing the computation and setting the \"final\" field, however accessing the field directly does not invoke the magic - you get the uninitialized value.</p>\n"}],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":47187390,"answer_count":1,"score":12,"last_activity_date":1671761878,"creation_date":1510165743,"question_id":47187111,"body_markdown":"I&#39;m using Lombok to minimize code. Here&#39;s my (contrived) situation in vanilla Java:\r\n\r\n    public class MyClass {\r\n        private final int x;\r\n        private final int sqrt;\r\n        public MyClass(int x) {\r\n            this.x = x;\r\n            sqrt = (int)Math.sqrt(x);\r\n        }\r\n        // getters, etc\r\n    }\r\n\r\nI want to use lombok to generate the constructor and getters:\r\n\r\n    @Getter\r\n    @RequiredArgsConstructor\r\n    public class MyClass {\r\n        private final int x;\r\n        private int sqrt;\r\n    }\r\n\r\nTo get the computation into the class, you might consider an instance block:\r\n\r\n    {\r\n        sqrt = (int)Math.sqrt(x);\r\n    }\r\n\r\nbut instance blocks are executed *before* code in the constructor executes, so `x` won&#39;t be initialized yet.\r\n\r\nIs there a way to execute `sqrt = (int)Math.sqrt(x);` *after* `x` is assigned with the constructor argument, but still use the constructor generated by `RequiredArgsConstructor`?\r\n\r\nNotes:\r\n\r\n- Coding the computation in the getter is not an option (for one, it negates the benefit of using `@Getter`)\r\n- This example is a gross simplification of the real life class, which has many `final` fields, and several computed/derived fields, so the boilerplate savings using lombok are considerable\r\n- The class is a simple POJO DTO, not a managed bean, so none of the lifecycle javax annotations (e.g. `@PostConstruct`) are of any use\r\n","title":"Is there a Lombok way to initialise a final field that is calculated from other fields?","body":"<p>I'm using Lombok to minimize code. Here's my (contrived) situation in vanilla Java:</p>\n<pre><code>public class MyClass {\n    private final int x;\n    private final int sqrt;\n    public MyClass(int x) {\n        this.x = x;\n        sqrt = (int)Math.sqrt(x);\n    }\n    // getters, etc\n}\n</code></pre>\n<p>I want to use lombok to generate the constructor and getters:</p>\n<pre><code>@Getter\n@RequiredArgsConstructor\npublic class MyClass {\n    private final int x;\n    private int sqrt;\n}\n</code></pre>\n<p>To get the computation into the class, you might consider an instance block:</p>\n<pre><code>{\n    sqrt = (int)Math.sqrt(x);\n}\n</code></pre>\n<p>but instance blocks are executed <em>before</em> code in the constructor executes, so <code>x</code> won't be initialized yet.</p>\n<p>Is there a way to execute <code>sqrt = (int)Math.sqrt(x);</code> <em>after</em> <code>x</code> is assigned with the constructor argument, but still use the constructor generated by <code>RequiredArgsConstructor</code>?</p>\n<p>Notes:</p>\n<ul>\n<li>Coding the computation in the getter is not an option (for one, it negates the benefit of using <code>@Getter</code>)</li>\n<li>This example is a gross simplification of the real life class, which has many <code>final</code> fields, and several computed/derived fields, so the boilerplate savings using lombok are considerable</li>\n<li>The class is a simple POJO DTO, not a managed bean, so none of the lifecycle javax annotations (e.g. <code>@PostConstruct</code>) are of any use</li>\n</ul>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600681679,"creation_date":1600681679,"answer_id":63989855,"question_id":63946894,"body_markdown":"According to [VsCode-Java in Twitter][1], JDK15 support won&#39;t be released until the end of September, and here is a [github issue][2] that&#39;s related to Java 15 not support.\r\n\r\n\r\n  [1]: https://twitter.com/VSCodeJava/status/1306275380584763392\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/1627","title":"VSCode Unbound classpath container JRE System Library [JavaSE-15]","body":"<p>According to <a href=\"https://twitter.com/VSCodeJava/status/1306275380584763392\" rel=\"nofollow noreferrer\">VsCode-Java in Twitter</a>, JDK15 support won't be released until the end of September, and here is a <a href=\"https://github.com/redhat-developer/vscode-java/issues/1627\" rel=\"nofollow noreferrer\">github issue</a> that's related to Java 15 not support.</p>\n"},{"comments":[{"owner":{"account_id":8406740,"reputation":328,"user_id":6310002,"display_name":"Rajon Tanducar"},"score":0,"creation_date":1661395362,"post_id":66722249,"comment_id":129763867,"body_markdown":"this worked for me. thanks. But can you tell me why the built in template doesn&#39;t work?","body":"this worked for me. thanks. But can you tell me why the built in template doesn&#39;t work?"},{"owner":{"account_id":201081,"reputation":165,"user_id":1005462,"display_name":"user1005462"},"score":0,"creation_date":1661502131,"post_id":66722249,"comment_id":129792127,"body_markdown":"maybe new java features not added to vscode yet","body":"maybe new java features not added to vscode yet"}],"tags":[],"owner":{"account_id":201081,"reputation":165,"user_id":1005462,"display_name":"user1005462"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616247576,"creation_date":1616247576,"answer_id":66722249,"question_id":63946894,"body_markdown":"https://stackoverflow.com/a/42525941/1005462\r\nthis one was helpfull;\r\n\r\nreplace : \r\nbuild block in POM to\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"VSCode Unbound classpath container JRE System Library [JavaSE-15]","body":"<p><a href=\"https://stackoverflow.com/a/42525941/1005462\">https://stackoverflow.com/a/42525941/1005462</a>\nthis one was helpfull;</p>\n<p>replace :\nbuild block in POM to</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18667284,"reputation":347,"user_id":13606967,"display_name":"Łukasz Garczynski"},"score":0,"creation_date":1696195643,"post_id":74895547,"comment_id":136119151,"body_markdown":"In my case on WIndows 10 machine this was: \n\n&quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-21&quot;","body":"In my case on WIndows 10 machine this was:   &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-21&quot;"}],"tags":[],"owner":{"account_id":11737877,"reputation":1652,"user_id":8591092,"display_name":"Wisnu Wijokangko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671761790,"creation_date":1671761790,"answer_id":74895547,"question_id":63946894,"body_markdown":"I am new to building Java apps in VSCode. In my case, I was developing a microservice using Spring Boot. Here is what I&#39;ve done to solve the issue ;\r\n\r\n 1. Make sure `JAVA_HOME` env variable is registered to the right path\r\n 2. Configured JDK path in `java.jdt.ls.java.home` to settings.json located inside .vscode. Here is my configuration.\r\n&lt;pre&gt;\r\n{\r\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;automatic&quot;,\r\n    &quot;java.compile.nullAnalysis.mode&quot;: &quot;automatic&quot;,\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home&quot;\r\n}\r\n&lt;/pre&gt;\r\n 3. Restart the VSCode","title":"VSCode Unbound classpath container JRE System Library [JavaSE-15]","body":"<p>I am new to building Java apps in VSCode. In my case, I was developing a microservice using Spring Boot. Here is what I've done to solve the issue ;</p>\n<ol>\n<li>Make sure <code>JAVA_HOME</code> env variable is registered to the right path</li>\n<li>Configured JDK path in <code>java.jdt.ls.java.home</code> to settings.json located inside .vscode. Here is my configuration.</li>\n</ol>\n<pre>\n{\n    \"java.configuration.updateBuildConfiguration\": \"automatic\",\n    \"java.compile.nullAnalysis.mode\": \"automatic\",\n    \"java.jdt.ls.java.home\": \"/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home\"\n}\n</pre>\n<ol start=\"3\">\n<li>Restart the VSCode</li>\n</ol>\n"}],"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12340,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63989855,"answer_count":3,"score":3,"last_activity_date":1671761790,"creation_date":1600381511,"question_id":63946894,"body_markdown":"I have been programming a java project using JDK14 and VSCode. Recently JDK15 is available, and I switched to the JDK. As for configuration, I pointed the VScode ````java.home```` and system ````JAVA_HOME```` to the new JDK folder.\r\n\r\nWhen I clear the VSCode cache and restart the IDE, I started receiving this error\r\n\r\n    {\r\n\t&quot;resource&quot;: &quot;/E:/dev/java/challenges/&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#3&quot;,\r\n\t&quot;code&quot;: &quot;963&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;Unbound classpath container: &#39;JRE System Library [JavaSE-15]&#39; in project &#39;challenges&#39;&quot;,\r\n\t&quot;source&quot;: &quot;Java&quot;,\r\n\t&quot;startLineNumber&quot;: 1,\r\n\t&quot;startColumn&quot;: 1,\r\n\t&quot;endLineNumber&quot;: 1,\r\n\t&quot;endColumn&quot;: 1\r\n    } \r\n\r\nI have seen similar questions/answers, but none of them was directed to VSCode. \r\n\r\n[![Screen shot on the error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9Qf5.png","title":"VSCode Unbound classpath container JRE System Library [JavaSE-15]","body":"<p>I have been programming a java project using JDK14 and VSCode. Recently JDK15 is available, and I switched to the JDK. As for configuration, I pointed the VScode <code>java.home</code> and system <code>JAVA_HOME</code> to the new JDK folder.</p>\n<p>When I clear the VSCode cache and restart the IDE, I started receiving this error</p>\n<pre><code>{\n&quot;resource&quot;: &quot;/E:/dev/java/challenges/&quot;,\n&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#3&quot;,\n&quot;code&quot;: &quot;963&quot;,\n&quot;severity&quot;: 8,\n&quot;message&quot;: &quot;Unbound classpath container: 'JRE System Library [JavaSE-15]' in project 'challenges'&quot;,\n&quot;source&quot;: &quot;Java&quot;,\n&quot;startLineNumber&quot;: 1,\n&quot;startColumn&quot;: 1,\n&quot;endLineNumber&quot;: 1,\n&quot;endColumn&quot;: 1\n} \n</code></pre>\n<p>I have seen similar questions/answers, but none of them was directed to VSCode.</p>\n<p><a href=\"https://i.stack.imgur.com/X9Qf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9Qf5.png\" alt=\"Screen shot on the error\" /></a></p>\n"},{"tags":["java","collections","hashmap","treemap","treeset"],"comments":[{"owner":{"display_name":"user20843766"},"score":0,"creation_date":1671758869,"post_id":74895332,"comment_id":132171679,"body_markdown":"@Sweeper Thanks, I also thought that but as there are multiple values, can I use stock values as key?","body":"@Sweeper Thanks, I also thought that but as there are multiple values, can I use stock values as key?"},{"owner":{"display_name":"user20843766"},"score":0,"creation_date":1671758903,"post_id":74895332,"comment_id":132171682,"body_markdown":"If it is not possible, should I use a TreeSet to get lower of a given value in that stock list?","body":"If it is not possible, should I use a TreeSet to get lower of a given value in that stock list?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1671758939,"post_id":74895332,"comment_id":132171688,"body_markdown":"You mean there can be duplicate values? If so, what should happen if there are multiple 3s?","body":"You mean there can be duplicate values? If so, what should happen if there are multiple 3s?"},{"owner":{"display_name":"user20843766"},"score":0,"creation_date":1671759133,"post_id":74895332,"comment_id":132171709,"body_markdown":"Yes, there are multiple stock values as given on the list. In such case, the first value should be returned. So, any idea for that situation? Should I only use TreeMap? Or also TreeSet?","body":"Yes, there are multiple stock values as given on the list. In such case, the first value should be returned. So, any idea for that situation? Should I only use TreeMap? Or also TreeSet?"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671759477,"post_id":74895332,"comment_id":132171747,"body_markdown":"set does not allow doublication but i do not see you need the key so you can use list and use indexOf method https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#indexOf(java.lang.Object) that return the index of the first occurance  then you get the value in that index minus 1","body":"set does not allow doublication but i do not see you need the key so you can use list and use indexOf method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#indexOf(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> that return the index of the first occurance  then you get the value in that index minus 1"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671759561,"post_id":74895332,"comment_id":132171755,"body_markdown":"what do you mean by &quot;need to catch this entry&quot; ?","body":"what do you mean by &quot;need to catch this entry&quot; ?"},{"owner":{"display_name":"user20843766"},"score":0,"creation_date":1671759849,"post_id":74895332,"comment_id":132171788,"body_markdown":"@justsomeone I mean &quot;need to obtain this&quot;","body":"@justsomeone I mean &quot;need to obtain this&quot;"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671759992,"post_id":74895332,"comment_id":132171807,"body_markdown":"if this mean the value in the key 8 then using list you can get the value in the index 7 as index start from 0 in list same as array if you look for first occurance of the value 3 then the method i mentioned earlier would help :)","body":"if this mean the value in the key 8 then using list you can get the value in the index 7 as index start from 0 in list same as array if you look for first occurance of the value 3 then the method i mentioned earlier would help :)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671764690,"post_id":74895332,"comment_id":132172305,"body_markdown":"What would happen if the &quot;lower&quot; value occurred more than once among the values?","body":"What would happen if the &quot;lower&quot; value occurred more than once among the values?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671801423,"post_id":74895332,"comment_id":132179399,"body_markdown":"As @DawoodibnKareem has pointed out, Values in your example are **repeated** (e.g. `8`). So first of all what should be the type of result: a `List`, a single value? If you need a single Value, then you need to explain which one should be chosen.","body":"As @DawoodibnKareem has pointed out, Values in your example are <b>repeated</b> (e.g. <code>8</code>). So first of all what should be the type of result: a <code>List</code>, a single value? If you need a single Value, then you need to explain which one should be chosen."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671760335,"creation_date":1671760335,"answer_id":74895450,"question_id":74895332,"body_markdown":"You should use the stock value as key, and the day as value. This makes it very easy to use `lowerEntry(4).getValue()` to find the day 8.\r\n\r\nHowever, there can be duplicate values, and you want to find the earliest entry (i.e. with the lowest day number). The tree map obviously cannot have duplicate keys, so we work around this by only storing the earliest entry for each stock value.\r\n\r\n```\r\nNavigableMap&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();\r\nfor (int i = stocks.size() - 1; i &gt;= 0; i--) {\r\n    map.put(stocks.get(i), i+1);\r\n}\r\n```\r\n\r\nNotice that the arguments for `put` is reversed, and the for loop is also reversed. We start from the end of the list, so that the earliest stock values *overwrite* later ones if they happen to be the same.\r\n\r\nThen you can do\r\n\r\n    map.lowerEntry(4).getValue()\r\n\r\nto find 8.","title":"How to get lower value in a TreeMap?","body":"<p>You should use the stock value as key, and the day as value. This makes it very easy to use <code>lowerEntry(4).getValue()</code> to find the day 8.</p>\n<p>However, there can be duplicate values, and you want to find the earliest entry (i.e. with the lowest day number). The tree map obviously cannot have duplicate keys, so we work around this by only storing the earliest entry for each stock value.</p>\n<pre><code>NavigableMap&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();\nfor (int i = stocks.size() - 1; i &gt;= 0; i--) {\n    map.put(stocks.get(i), i+1);\n}\n</code></pre>\n<p>Notice that the arguments for <code>put</code> is reversed, and the for loop is also reversed. We start from the end of the list, so that the earliest stock values <em>overwrite</em> later ones if they happen to be the same.</p>\n<p>Then you can do</p>\n<pre><code>map.lowerEntry(4).getValue()\n</code></pre>\n<p>to find 8.</p>\n"}],"owner":{"display_name":"user20843766"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74895450,"answer_count":1,"score":0,"last_activity_date":1671761106,"creation_date":1671758602,"question_id":74895332,"body_markdown":"I use `TreeMap` to keep daily stocks of a product as shown below:\r\n\r\n\r\n\r\n```\r\nNavigableMap&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();\r\nfor (int i = 0; i &lt; stocks.size(); i++) {\r\n    map.put(i+1, stocks.get(i));\r\n}\r\n```\r\n\r\nI use day as key and stock as value:\r\n\r\n```\r\nkey  | value\r\n------------\r\n1    | 5 \r\n2    | 6 \r\n3    | 8 \r\n4    | 4  &lt;-- need to find lower of this value\r\n5    | 9 \r\n6    | 10 \r\n7    | 8\r\n8    | 3  &lt;-- I need to obtain this\r\n9    | 6 \r\n10   | 4 \r\n```\r\n\r\nI am trying to get the key of lower(4), which is 8. If there are multiple entries that match, such as in the case of lower(7), I want the key of the first entry, so lower(7) should produce 2, not 9.\r\n\r\nHowever, I cannot go over values and need to use keys. So, how can I do this? \r\n\r\nIf it is not possible, should I also need to use a `TreeSet` to get lower?\r\n\r\n\r\n\r\n\r\n","title":"How to get lower value in a TreeMap?","body":"<p>I use <code>TreeMap</code> to keep daily stocks of a product as shown below:</p>\n<pre><code>NavigableMap&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();\nfor (int i = 0; i &lt; stocks.size(); i++) {\n    map.put(i+1, stocks.get(i));\n}\n</code></pre>\n<p>I use day as key and stock as value:</p>\n<pre><code>key  | value\n------------\n1    | 5 \n2    | 6 \n3    | 8 \n4    | 4  &lt;-- need to find lower of this value\n5    | 9 \n6    | 10 \n7    | 8\n8    | 3  &lt;-- I need to obtain this\n9    | 6 \n10   | 4 \n</code></pre>\n<p>I am trying to get the key of lower(4), which is 8. If there are multiple entries that match, such as in the case of lower(7), I want the key of the first entry, so lower(7) should produce 2, not 9.</p>\n<p>However, I cannot go over values and need to use keys. So, how can I do this?</p>\n<p>If it is not possible, should I also need to use a <code>TreeSet</code> to get lower?</p>\n"},{"tags":["java","android","package","rss-reader"],"comments":[{"owner":{"account_id":1430416,"reputation":7077,"user_id":1352969,"accept_rate":94,"display_name":"Shrikant Ballal"},"score":0,"creation_date":1376834996,"post_id":18299898,"comment_id":26850325,"body_markdown":"If you are using ADT 22, then &quot;external library&quot; might not be checked, go to project properties and check this option in build path.","body":"If you are using ADT 22, then &quot;external library&quot; might not be checked, go to project properties and check this option in build path."},{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1376835599,"post_id":18299898,"comment_id":26850494,"body_markdown":"I can&#39;t find this option. Is it in Builders or java Build path?","body":"I can&#39;t find this option. Is it in Builders or java Build path?"},{"owner":{"account_id":1430416,"reputation":7077,"user_id":1352969,"accept_rate":94,"display_name":"Shrikant Ballal"},"score":0,"creation_date":1376835795,"post_id":18299898,"comment_id":26850558,"body_markdown":"project &gt; properties &gt; java build path &gt; order and export &gt; check &quot;Android Private Libraries&quot;","body":"project &gt; properties &gt; java build path &gt; order and export &gt; check &quot;Android Private Libraries&quot;"},{"owner":{"account_id":230955,"reputation":15215,"user_id":494879,"accept_rate":97,"display_name":"ataulm"},"score":5,"creation_date":1401220971,"post_id":18299898,"comment_id":36795487,"body_markdown":"The name of the IDE would have been a useful addition to this question.","body":"The name of the IDE would have been a useful addition to this question."},{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1401237385,"post_id":18299898,"comment_id":36801656,"body_markdown":"The IDE was Android SDK downloaded from the Android Developers website. I am not sure which version it was though; it was probably the latest version at the time of posting this question","body":"The IDE was Android SDK downloaded from the Android Developers website. I am not sure which version it was though; it was probably the latest version at the time of posting this question"},{"owner":{"display_name":"user4389558"},"score":0,"creation_date":1419360982,"post_id":18299898,"comment_id":43673227,"body_markdown":"https://stackoverflow.com/questions/26977608/appcompat-v7-errors-in-eclipse/27626241#27626241","body":"<a href=\"https://stackoverflow.com/questions/26977608/appcompat-v7-errors-in-eclipse/27626241#27626241\" title=\"appcompat v7 errors in eclipse\">stackoverflow.com/questions/26977608/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1496785,"reputation":5911,"user_id":1402526,"accept_rate":74,"display_name":"Muz"},"score":2,"creation_date":1381058561,"post_id":18300071,"comment_id":28424266,"body_markdown":"Thanks :) Got this error after copying all my stuff to a new laptop, but installing Android on a different path","body":"Thanks :) Got this error after copying all my stuff to a new laptop, but installing Android on a different path"},{"owner":{"display_name":"user2278484"},"score":1,"creation_date":1391186844,"post_id":18300071,"comment_id":32429685,"body_markdown":"Thank you! You indeed solved my problem but, it is still wierd to me - My project used the v4 support lib just fine, and only after adding an external project which also uses the support lib it started happening. Why is that? Why didn&#39;t I have to add the v4 support lib before I added an external project?","body":"Thank you! You indeed solved my problem but, it is still wierd to me - My project used the v4 support lib just fine, and only after adding an external project which also uses the support lib it started happening. Why is that? Why didn&#39;t I have to add the v4 support lib before I added an external project?"},{"owner":{"account_id":2739489,"reputation":6684,"user_id":2361336,"accept_rate":82,"display_name":"Salman Khakwani"},"score":0,"creation_date":1392085823,"post_id":18300071,"comment_id":32794991,"body_markdown":"Here is a link, that clearly answers your question :)\nhttp://stackoverflow.com/questions/12926548/what-is-android-support-library","body":"Here is a link, that clearly answers your question :) <a href=\"http://stackoverflow.com/questions/12926548/what-is-android-support-library\" title=\"what is android support library\">stackoverflow.com/questions/12926548/&hellip;</a>"},{"owner":{"account_id":2739489,"reputation":6684,"user_id":2361336,"accept_rate":82,"display_name":"Salman Khakwani"},"score":0,"creation_date":1392086174,"post_id":18300071,"comment_id":32795072,"body_markdown":"@nylon100 That External Library may be using the features that are introduced in later version of Android SDKs and inorder to avail those features in your Project Support library is a must to add.","body":"@nylon100 That External Library may be using the features that are introduced in later version of Android SDKs and inorder to avail those features in your Project Support library is a must to add."},{"owner":{"account_id":230410,"reputation":1621,"user_id":493998,"accept_rate":71,"display_name":"Ted Betz"},"score":0,"creation_date":1394126972,"post_id":18300071,"comment_id":33757912,"body_markdown":"Thanks, that was it!! Why is it that the android system can&#39;t include this file when we ask for the import? I wasted an hour on this bug.","body":"Thanks, that was it!! Why is it that the android system can&#39;t include this file when we ask for the import? I wasted an hour on this bug."},{"owner":{"account_id":1598197,"reputation":2736,"user_id":1479804,"accept_rate":62,"display_name":"Dennis Kassel"},"score":0,"creation_date":1399163877,"post_id":18300071,"comment_id":35948319,"body_markdown":"In the current version of IntelliJ it is hard to follow your instructions, because there are certain options named differently. But at the end it was a great help!","body":"In the current version of IntelliJ it is hard to follow your instructions, because there are certain options named differently. But at the end it was a great help!"},{"owner":{"account_id":99539,"reputation":11027,"user_id":268803,"accept_rate":93,"display_name":"Brad Hein"},"score":2,"creation_date":1413397413,"post_id":18300071,"comment_id":41432299,"body_markdown":"I see there&#39;s a new option if you right click on the project, android tools, &quot;install support library&quot;. Does the configuration automagically :)","body":"I see there&#39;s a new option if you right click on the project, android tools, &quot;install support library&quot;. Does the configuration automagically :)"},{"owner":{"account_id":1549884,"reputation":3439,"user_id":1442541,"display_name":"evya"},"score":3,"creation_date":1416837605,"post_id":18300071,"comment_id":42716393,"body_markdown":"In Android Studio go to: File -&gt; Project Structure -&gt; Dependencies Tab -&gt; Click + to add Library dependency -&gt; Choose support-v4 from the list -&gt; Click OK.","body":"In Android Studio go to: File -&gt; Project Structure -&gt; Dependencies Tab -&gt; Click + to add Library dependency -&gt; Choose support-v4 from the list -&gt; Click OK."},{"owner":{"account_id":2739489,"reputation":6684,"user_id":2361336,"accept_rate":82,"display_name":"Salman Khakwani"},"score":0,"creation_date":1416838754,"post_id":18300071,"comment_id":42717088,"body_markdown":"@evya Thanks for your response, i will update my Answer.","body":"@evya Thanks for your response, i will update my Answer."},{"owner":{"account_id":2398447,"reputation":2438,"user_id":2096773,"accept_rate":61,"display_name":"Naga"},"score":0,"creation_date":1542263314,"post_id":18300071,"comment_id":93507497,"body_markdown":"compile is obsolete and has been replaced with implementation now","body":"compile is obsolete and has been replaced with implementation now"},{"owner":{"account_id":8003499,"reputation":91,"user_id":6037506,"display_name":"Shahab Ensafi"},"score":0,"creation_date":1555579594,"post_id":18300071,"comment_id":98162903,"body_markdown":"I had the problem and followed the instructions. However, I could not resolve the problem until I realized that the `android.useAndroidX` and `android.enableJetifier` are set to `true` at `gradle.properties`. By making them `false`, my problem was solved.","body":"I had the problem and followed the instructions. However, I could not resolve the problem until I realized that the <code>android.useAndroidX</code> and <code>android.enableJetifier</code> are set to <code>true</code> at <code>gradle.properties</code>. By making them <code>false</code>, my problem was solved."}],"tags":[],"owner":{"account_id":2739489,"reputation":6684,"user_id":2361336,"accept_rate":82,"display_name":"Salman Khakwani"},"comment_count":11,"down_vote_count":1,"up_vote_count":287,"is_accepted":true,"score":286,"last_activity_date":1671760506,"creation_date":1376835776,"answer_id":18300071,"question_id":18299898,"body_markdown":"**Follow these steps:**\r\n\r\n**For Eclipse:**\r\n\r\n - Go to your Project&#39;s `Properties`&lt;br/&gt;\r\n - Navigate to the `Java Build Path`\r\n - Then go to the `Libraries` tab. There click the `Add External JARs` Button on the Right pane.&lt;br/&gt;\r\n - Select the `android-support-v4.jar` file, usually the path for the **Jar file** is :&lt;br/&gt;\r\n***YOUR_DRIVE\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar***\r\n&lt;br/&gt;\r\n - After adding `android-support-v4.jar` Library, navigate to the `Order and Export` tab and put check mark on the `android-support-v4` Library file.&lt;br/&gt;\r\n - After doing the above, **Clean** the Project and **Build** it.&lt;br/&gt;\r\n - *Problem Solved.*\r\n\r\n**For Android Studio:**\r\n&lt;br/&gt;\r\n\r\n*Short Version:*\r\n\r\n - Add the following line to your `build.gradle` file: &lt;br/&gt;\r\n`implementation &#39;com.android.support:support-v4:YOUR_TARGET_VERSION&#39;` \r\n\r\n*Long Version:*\r\n\r\n - Go to File -&gt; Project Structure \r\n\r\n - Go to &quot;Dependencies&quot; Tab -&gt; Click on the Plus sign -&gt; Go to &quot;Library dependency&quot; \r\n\r\n - Select the support library &quot;support-v4 (com.android.support:support-v4:YOUR_TARGET_VERSION)&quot; \r\n\r\n - Navigate to your &quot;build.gradle&quot; inside your App Directory and double check if your desired Android Support Library has been added to your dependencies. \r\n\r\n - Rebuild your project and now everything should work.&lt;br/&gt;\r\n\r\n**Further reading regarding this Question:**\r\n\r\n 1. &lt;a href=&quot;http://developer.android.com/tools/support-library/index.html&quot;&gt;Support Library - Android Dev&lt;/a&gt;\r\n 2. &lt;a href=&quot;https://developer.android.com/topic/libraries/support-library/revisions.html&quot;&gt;Recent Support Library Revisions&lt;/a&gt;\r\n 3. &lt;a href=&quot;https://developer.android.com/topic/libraries/support-library/packages.html&quot;&gt;Support Library Packages&lt;/a&gt;\r\n 4. https://stackoverflow.com/questions/12926548/what-is-android-support-library\r\n 5. https://stackoverflow.com/questions/11641669/how-android-support-library-work","title":"The import android.support cannot be resolved","body":"<p><strong>Follow these steps:</strong></p>\n<p><strong>For Eclipse:</strong></p>\n<ul>\n<li>Go to your Project's <code>Properties</code><br/></li>\n<li>Navigate to the <code>Java Build Path</code></li>\n<li>Then go to the <code>Libraries</code> tab. There click the <code>Add External JARs</code> Button on the Right pane.<br/></li>\n<li>Select the <code>android-support-v4.jar</code> file, usually the path for the <strong>Jar file</strong> is :<br/>\n<em><strong>YOUR_DRIVE\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar</strong></em>\n<br/></li>\n<li>After adding <code>android-support-v4.jar</code> Library, navigate to the <code>Order and Export</code> tab and put check mark on the <code>android-support-v4</code> Library file.<br/></li>\n<li>After doing the above, <strong>Clean</strong> the Project and <strong>Build</strong> it.<br/></li>\n<li><em>Problem Solved.</em></li>\n</ul>\n<p><strong>For Android Studio:</strong>\n<br/></p>\n<p><em>Short Version:</em></p>\n<ul>\n<li>Add the following line to your <code>build.gradle</code> file: <br/>\n<code>implementation 'com.android.support:support-v4:YOUR_TARGET_VERSION'</code></li>\n</ul>\n<p><em>Long Version:</em></p>\n<ul>\n<li><p>Go to File -&gt; Project Structure</p>\n</li>\n<li><p>Go to &quot;Dependencies&quot; Tab -&gt; Click on the Plus sign -&gt; Go to &quot;Library dependency&quot;</p>\n</li>\n<li><p>Select the support library &quot;support-v4 (com.android.support:support-v4:YOUR_TARGET_VERSION)&quot;</p>\n</li>\n<li><p>Navigate to your &quot;build.gradle&quot; inside your App Directory and double check if your desired Android Support Library has been added to your dependencies.</p>\n</li>\n<li><p>Rebuild your project and now everything should work.<br/></p>\n</li>\n</ul>\n<p><strong>Further reading regarding this Question:</strong></p>\n<ol>\n<li><a href=\"http://developer.android.com/tools/support-library/index.html\" rel=\"nofollow noreferrer\">Support Library - Android Dev</a></li>\n<li><a href=\"https://developer.android.com/topic/libraries/support-library/revisions.html\" rel=\"nofollow noreferrer\">Recent Support Library Revisions</a></li>\n<li><a href=\"https://developer.android.com/topic/libraries/support-library/packages.html\" rel=\"nofollow noreferrer\">Support Library Packages</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12926548/what-is-android-support-library\">What is an Android Support Library?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11641669/how-android-support-library-work\">How do the Android Support Libraries work?</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"score":0,"creation_date":1419665077,"post_id":27520389,"comment_id":43745751,"body_markdown":"@downvoter.. a brief kind information abt the reason for downvote will be highly appreciated. This&#39;ll help me in future to make my ans better in helping others. I&#39;ve shared what I&#39;d experienced to help future readers and the ans pretty much related to the question.","body":"@downvoter.. a brief kind information abt the reason for downvote will be highly appreciated. This&#39;ll help me in future to make my ans better in helping others. I&#39;ve shared what I&#39;d experienced to help future readers and the ans pretty much related to the question."}],"tags":[],"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1559647307,"creation_date":1418801712,"answer_id":27520389,"question_id":18299898,"body_markdown":"Another way to solve the issue:\r\n\r\nIf you are using the support library, you need to add the `appcompat` lib to the project. [This link][1] shows how to add the support lib to your project.\r\n\r\nAssuming you have added the support lib earlier but you are getting the mentioned issue, you can follow the steps below to fix that.\r\n\r\n1. Right click on the project and navigate to **Build Path &gt; Configure Build Path**.\r\n\r\n2. On the left side of the window, select **Android**. You will see something like this:\r\n\r\n![enter image description here][2]\r\n\r\n3. You can notice that no library is referenced at the moment. Now click on the **Add** button shown at the bottom-right side. You will see a pop up window as shown below.\r\n\r\n![enter image description here][3]\r\n\r\n4. Select the `appcompat` lib and press **OK**. (Note: The lib will be shown if you have added them as mentioned earlier). Now you will see the following window:\r\n\r\n![enter image description here][4]\r\n\r\n5. Press **OK**. That&#39;s it. The lib is now added to your project (notice the red mark) and the errors relating inclusion of support lib must be gone. \r\n\r\n\r\n  [1]: https://developer.android.com/tools/support-library/setup.html#add-library\r\n  [2]: http://i.stack.imgur.com/7eqgX.png\r\n  [3]: http://i.stack.imgur.com/DkUX9.png\r\n  [4]: http://i.stack.imgur.com/nqONi.png","title":"The import android.support cannot be resolved","body":"<p>Another way to solve the issue:</p>\n\n<p>If you are using the support library, you need to add the <code>appcompat</code> lib to the project. <a href=\"https://developer.android.com/tools/support-library/setup.html#add-library\" rel=\"nofollow noreferrer\">This link</a> shows how to add the support lib to your project.</p>\n\n<p>Assuming you have added the support lib earlier but you are getting the mentioned issue, you can follow the steps below to fix that.</p>\n\n<ol>\n<li><p>Right click on the project and navigate to <strong>Build Path > Configure Build Path</strong>.</p></li>\n<li><p>On the left side of the window, select <strong>Android</strong>. You will see something like this:</p></li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/7eqgX.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"3\">\n<li>You can notice that no library is referenced at the moment. Now click on the <strong>Add</strong> button shown at the bottom-right side. You will see a pop up window as shown below.</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/DkUX9.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"4\">\n<li>Select the <code>appcompat</code> lib and press <strong>OK</strong>. (Note: The lib will be shown if you have added them as mentioned earlier). Now you will see the following window:</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/nqONi.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"5\">\n<li>Press <strong>OK</strong>. That's it. The lib is now added to your project (notice the red mark) and the errors relating inclusion of support lib must be gone. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459493205,"creation_date":1433071293,"answer_id":30556792,"question_id":18299898,"body_markdown":"**This is very easy step to import any 3rd party lib or jar file into your project**\r\n\r\n \r\n\r\n 1. Copy **android-support-v4.jar** file from\r\n    **your_drive\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar**\r\n    &lt;br&gt;***or*** copy from your existing project&#39;s bin folder.\r\n &lt;br&gt;**or any third party .jar file**\r\n 2. paste copied **jar** file into **lib** folder\r\n\r\n\r\n\r\n 3. right click on this jar file and then click on **build Path-&gt;Add to\r\n    Build Path** ![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/O1hYw.png\r\n\r\n \r\n\r\n 4. even still you are getting error in your project then **Clean the\r\n    Project and Build it.**","title":"The import android.support cannot be resolved","body":"<p><strong>This is very easy step to import any 3rd party lib or jar file into your project</strong></p>\n\n<ol>\n<li>Copy <strong>android-support-v4.jar</strong> file from\n<strong>your_drive\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar</strong>\n<br><strong><em>or</em></strong> copy from your existing project's bin folder.\n<br><strong>or any third party .jar file</strong></li>\n<li><p>paste copied <strong>jar</strong> file into <strong>lib</strong> folder</p></li>\n<li><p>right click on this jar file and then click on <strong>build Path->Add to\nBuild Path</strong> <img src=\"https://i.stack.imgur.com/O1hYw.png\" alt=\"enter image description here\"></p></li>\n<li><p>even still you are getting error in your project then <strong>Clean the\nProject and Build it.</strong></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":378519,"reputation":11057,"user_id":731284,"accept_rate":63,"display_name":"Arun Badole"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434523546,"creation_date":1434523546,"answer_id":30884124,"question_id":18299898,"body_markdown":"This issue may also occur if you have multiple versions of the same support library `android-support-v4.jar`. If your project is using other library projects that contain different-2 versions of the support library. To resolve the issue keep the same version of support library at each place.","title":"The import android.support cannot be resolved","body":"<p>This issue may also occur if you have multiple versions of the same support library <code>android-support-v4.jar</code>. If your project is using other library projects that contain different-2 versions of the support library. To resolve the issue keep the same version of support library at each place.</p>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442574186,"creation_date":1442574186,"answer_id":32650406,"question_id":18299898,"body_markdown":"I have resolved it by deleting `android-support-v4.jar` from my Project. Because `appcompat_v7` already have a copy of it. \r\n\r\n**If you have already import appcompat_v7 but still the problem doesn&#39;t solve. then try it.**","title":"The import android.support cannot be resolved","body":"<p>I have resolved it by deleting <code>android-support-v4.jar</code> from my Project. Because <code>appcompat_v7</code> already have a copy of it. </p>\n\n<p><strong>If you have already import appcompat_v7 but still the problem doesn't solve. then try it.</strong></p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1444696771,"creation_date":1444696771,"answer_id":33092364,"question_id":18299898,"body_markdown":"andorid-support-v4.jar is an external jar file that you have to import into your project. \r\n\r\nThis is how you do it in Android Studio:\r\n\r\nGo to File -&gt; Project Structure\r\n[![enter image description here][1]][1]\r\n\r\nGo to &quot;Dependencies&quot; Tab -&gt; Click on the Plus sign -&gt; Go to &quot;Library dependency&quot;\r\n[![enter image description here][2]][2]\r\n\r\nSelect the support library &quot;support-v4 (com.android.support:support-v4:23.0.1)&quot;\r\n[![enter image description here][3]][3]\r\n\r\nNow to go your &quot;build.gradle&quot; file in your app and make sure the android support library has been added to your dependencies. Alternatively, you could&#39;ve also just typed  `compile &#39;com.android.support:support-v4:23.0.1&#39;`  directly into your `dependencies{}` instead of doing it through the GUI. \r\n\r\n[![enter image description here][4]][4]\r\n\r\nRebuild your project and now everything should work. \r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qa5SR.png\r\n  [2]: http://i.stack.imgur.com/iqams.png\r\n  [3]: http://i.stack.imgur.com/a1unp.png\r\n  [4]: http://i.stack.imgur.com/lfMiR.png\r\n  [5]: http://i.stack.imgur.com/ygs3d.png","title":"The import android.support cannot be resolved","body":"<p>andorid-support-v4.jar is an external jar file that you have to import into your project. </p>\n\n<p>This is how you do it in Android Studio:</p>\n\n<p>Go to File -> Project Structure\n<a href=\"https://i.stack.imgur.com/qa5SR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qa5SR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Go to \"Dependencies\" Tab -> Click on the Plus sign -> Go to \"Library dependency\"\n<a href=\"https://i.stack.imgur.com/iqams.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iqams.png\" alt=\"enter image description here\"></a></p>\n\n<p>Select the support library \"support-v4 (com.android.support:support-v4:23.0.1)\"\n<a href=\"https://i.stack.imgur.com/a1unp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/a1unp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now to go your \"build.gradle\" file in your app and make sure the android support library has been added to your dependencies. Alternatively, you could've also just typed  <code>compile 'com.android.support:support-v4:23.0.1'</code>  directly into your <code>dependencies{}</code> instead of doing it through the GUI. </p>\n\n<p><a href=\"https://i.stack.imgur.com/lfMiR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lfMiR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Rebuild your project and now everything should work. \n<a href=\"https://i.stack.imgur.com/ygs3d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ygs3d.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":409450,"reputation":109,"user_id":780718,"accept_rate":75,"display_name":"Wayferer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454107500,"creation_date":1454107500,"answer_id":35095420,"question_id":18299898,"body_markdown":"I followed the instructions above by Gene in Android Studio 1.5.1 but it added this to my build.gradle file:\r\n\r\n    compile &#39;platforms:android:android-support-v4:23.1.1&#39;\r\n\r\nso I changed it to:\r\n\r\n    compile &#39;com.android.support:support-v4:23.1.1&#39;\r\n\r\nAnd it started working.","title":"The import android.support cannot be resolved","body":"<p>I followed the instructions above by Gene in Android Studio 1.5.1 but it added this to my build.gradle file:</p>\n\n<pre><code>compile 'platforms:android:android-support-v4:23.1.1'\n</code></pre>\n\n<p>so I changed it to:</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.1.1'\n</code></pre>\n\n<p>And it started working.</p>\n"},{"tags":[],"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482902968,"creation_date":1482902658,"answer_id":41355831,"question_id":18299898,"body_markdown":"Android Studio 2.2.3\r\nLinux Mint 18.1\r\n\r\nInside your &#39;project view&#39; open Gradle Scripts -&gt; build.gradle(Module:app) and put your mouse pointer inside the word dependencies.\r\n\r\nClick on the light bulb and click &quot;add library dependency&quot; and for me all the libraries I wanted were listed there.\r\n\r\nexample libraries that came up for me:\r\n  compile &#39;com.android.support:gridlayout-v7:25.1.0&#39;\r\n    compile &#39;com.android.support:support-v13:25.1.0&#39;\r\n\r\nI am now looking to add android support by default in Gradles default configuration.","title":"The import android.support cannot be resolved","body":"<p>Android Studio 2.2.3\nLinux Mint 18.1</p>\n\n<p>Inside your 'project view' open Gradle Scripts -> build.gradle(Module:app) and put your mouse pointer inside the word dependencies.</p>\n\n<p>Click on the light bulb and click \"add library dependency\" and for me all the libraries I wanted were listed there.</p>\n\n<p>example libraries that came up for me:\n  compile 'com.android.support:gridlayout-v7:25.1.0'\n    compile 'com.android.support:support-v13:25.1.0'</p>\n\n<p>I am now looking to add android support by default in Gradles default configuration.</p>\n"},{"tags":[],"owner":{"account_id":3957385,"reputation":3078,"user_id":3265444,"accept_rate":92,"display_name":"Ajji"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527574047,"creation_date":1527574047,"answer_id":50577369,"question_id":18299898,"body_markdown":"For me they were appearing when i transferred code manually to another laptop. Just do \r\n\r\n    \r\n\r\n&gt; File&gt;Invalidate Cache/Restart\r\n\r\nclick on &#39;Invalidate Cache and Restart&#39; and your are done. ","title":"The import android.support cannot be resolved","body":"<p>For me they were appearing when i transferred code manually to another laptop. Just do </p>\n\n<blockquote>\n  <p>File>Invalidate Cache/Restart</p>\n</blockquote>\n\n<p>click on 'Invalidate Cache and Restart' and your are done. </p>\n"}],"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185294,"favorite_count":0,"down_vote_count":1,"up_vote_count":129,"accepted_answer_id":18300071,"answer_count":9,"score":128,"last_activity_date":1671760506,"creation_date":1376834661,"question_id":18299898,"body_markdown":"I am trying to run the code provided [HERE][1]  \r\nI downloaded the code from their Github and imported into Android SDK, but it shows error at the lines  \r\n\r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.support.v4.app.NavUtils;  \r\n\r\nin multiple files. However if I check the Android SDK Manager, the `Android Support Library` as well as the `Android Support Repository` in the Extras folder are both installed. I can also see the support folder and it&#39;s contents in the `SDK_INSTALL\\sdk\\extras\\android\\support` directory. It also has the v4 folder which also contains the `android-support-v4.jar` and the `src` folder. THen why is it still showing the error, how do I resolve it and how do I get that sample code running? THe sample code is for an RSS reader app, if that&#39;s relevant.\r\n\r\n  [1]: http://architects.dzone.com/articles/building-rss-reader-android\r\n","title":"The import android.support cannot be resolved","body":"<p>I am trying to run the code provided <a href=\"http://architects.dzone.com/articles/building-rss-reader-android\" rel=\"noreferrer\">HERE</a><br>\nI downloaded the code from their Github and imported into Android SDK, but it shows error at the lines  </p>\n\n<pre><code>import android.support.v4.app.FragmentActivity;\nimport android.support.v4.app.NavUtils;  \n</code></pre>\n\n<p>in multiple files. However if I check the Android SDK Manager, the <code>Android Support Library</code> as well as the <code>Android Support Repository</code> in the Extras folder are both installed. I can also see the support folder and it's contents in the <code>SDK_INSTALL\\sdk\\extras\\android\\support</code> directory. It also has the v4 folder which also contains the <code>android-support-v4.jar</code> and the <code>src</code> folder. THen why is it still showing the error, how do I resolve it and how do I get that sample code running? THe sample code is for an RSS reader app, if that's relevant.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1591577349,"post_id":1957406,"comment_id":110100535,"body_markdown":"I&#39;ve updated the question and answer to make them on-topic. Please reopen.","body":"I&#39;ve updated the question and answer to make them on-topic. Please reopen."}],"answers":[{"tags":[],"owner":{"account_id":85406,"reputation":18277,"user_id":238123,"accept_rate":76,"display_name":"Denis Palnitsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1261733001,"creation_date":1261733001,"answer_id":1960854,"question_id":1957406,"body_markdown":"Thanks all who attempted to help.&lt;br /&gt; For me this script was helpful. It process only flat JSON and don&#39;t take care of types, but automate some routine\r\n\r\n      String str = \r\n            &quot;{&quot;\r\n                + &quot;&#39;title&#39;: &#39;Computing and Information systems&#39;,&quot;\r\n                + &quot;&#39;id&#39; : 1,&quot;\r\n                + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\r\n                + &quot;&#39;groups&#39; : [{&quot;\r\n                    + &quot;&#39;title&#39; : &#39;Level one CIS&#39;,&quot;\r\n                    + &quot;&#39;id&#39; : 2,&quot;\r\n                    + &quot;&#39;children&#39; : &#39;true&#39;,&quot;\r\n                    + &quot;&#39;groups&#39; : [{&quot;\r\n                        + &quot;&#39;title&#39; : &#39;Intro To Computing and Internet&#39;,&quot;\r\n                        + &quot;&#39;id&#39; : 3,&quot;\r\n                        + &quot;&#39;children&#39;: &#39;false&#39;,&quot;\r\n                        + &quot;&#39;groups&#39;:[]&quot;\r\n                    + &quot;}]&quot; \r\n                + &quot;}]&quot;\r\n            + &quot;}&quot;;\r\n        \r\n    \r\n \r\n        JSONObject json = new JSONObject(str);\r\n        Iterator&lt;String&gt; iterator =  json.keys();\r\n        \r\n        System.out.println(&quot;Fields:&quot;);\r\n        while (iterator.hasNext() ){\r\n           System.out.println(String.format(&quot;public String %s;&quot;, iterator.next()));\r\n        }\r\n        \r\n        System.out.println(&quot;public void Parse (String str){&quot;);\r\n        System.out.println(&quot;JSONObject json = new JSONObject(str);&quot;);\r\n        \r\n        iterator  = json.keys();\r\n        while (iterator.hasNext() ){\r\n           String key = iterator.next();\r\n           System.out.println(String.format(&quot;this.%s = json.getString(\\&quot;%s\\&quot;);&quot;,key,key ));\r\n\r\n        System.out.println(&quot;}&quot;);\r\n","title":"Generate Java class from JSON?","body":"<p>Thanks all who attempted to help.<br /> For me this script was helpful. It process only flat JSON and don't take care of types, but automate some routine</p>\n\n<pre><code>  String str = \n        \"{\"\n            + \"'title': 'Computing and Information systems',\"\n            + \"'id' : 1,\"\n            + \"'children' : 'true',\"\n            + \"'groups' : [{\"\n                + \"'title' : 'Level one CIS',\"\n                + \"'id' : 2,\"\n                + \"'children' : 'true',\"\n                + \"'groups' : [{\"\n                    + \"'title' : 'Intro To Computing and Internet',\"\n                    + \"'id' : 3,\"\n                    + \"'children': 'false',\"\n                    + \"'groups':[]\"\n                + \"}]\" \n            + \"}]\"\n        + \"}\";\n\n\n\n    JSONObject json = new JSONObject(str);\n    Iterator&lt;String&gt; iterator =  json.keys();\n\n    System.out.println(\"Fields:\");\n    while (iterator.hasNext() ){\n       System.out.println(String.format(\"public String %s;\", iterator.next()));\n    }\n\n    System.out.println(\"public void Parse (String str){\");\n    System.out.println(\"JSONObject json = new JSONObject(str);\");\n\n    iterator  = json.keys();\n    while (iterator.hasNext() ){\n       String key = iterator.next();\n       System.out.println(String.format(\"this.%s = json.getString(\\\"%s\\\");\",key,key ));\n\n    System.out.println(\"}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1263165897,"creation_date":1263165897,"answer_id":2039096,"question_id":1957406,"body_markdown":"As far as I know there is no such tool. Yet.\r\n\r\nThe main reason is, I suspect, that unlike with XML (which has XML Schema, and then tools like &#39;xjc&#39; to do what you ask, between XML and POJO definitions), there is no fully features schema language. There is JSON Schema, but it has very little support for actual type definitions (focuses on JSON structures), so it would be tricky to generate Java classes. But probably still possible, esp. if some naming conventions were defined and used to support generation.\r\n\r\nHowever: this is something that has been fairly frequently requested (on mailing lists of JSON tool projects I follow), so I think that someone will write such a tool in near future.\r\n\r\nSo I don&#39;t think it is a bad idea per se (also: it is not a good idea for all use cases, depends on what you want to do ).\r\n","title":"Generate Java class from JSON?","body":"<p>As far as I know there is no such tool. Yet.</p>\n\n<p>The main reason is, I suspect, that unlike with XML (which has XML Schema, and then tools like 'xjc' to do what you ask, between XML and POJO definitions), there is no fully features schema language. There is JSON Schema, but it has very little support for actual type definitions (focuses on JSON structures), so it would be tricky to generate Java classes. But probably still possible, esp. if some naming conventions were defined and used to support generation.</p>\n\n<p>However: this is something that has been fairly frequently requested (on mailing lists of JSON tool projects I follow), so I think that someone will write such a tool in near future.</p>\n\n<p>So I don't think it is a bad idea per se (also: it is not a good idea for all use cases, depends on what you want to do ).</p>\n"},{"comments":[{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":5,"creation_date":1331571903,"post_id":4480636,"comment_id":12284989,"body_markdown":"Wouldn&#39;t someone who used your jsonschema2pojo tool have to write their own schema file then?  The OP asked to start with a Json file, not a schema.  Is there a companion tool to go from Json -&gt; Schema?  I assume that such a tool, if it existed, could only provide a guess.","body":"Wouldn&#39;t someone who used your jsonschema2pojo tool have to write their own schema file then?  The OP asked to start with a Json file, not a schema.  Is there a companion tool to go from Json -&gt; Schema?  I assume that such a tool, if it existed, could only provide a guess."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":3,"creation_date":1348434496,"post_id":4480636,"comment_id":16912072,"body_markdown":"As of version 0.3.3, you can use plain old JSON as input :)","body":"As of version 0.3.3, you can use plain old JSON as input :)"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":19,"creation_date":1350503656,"post_id":4480636,"comment_id":17542109,"body_markdown":"...and there&#39;s now an online generator too: http://jsonschema2pojo.org","body":"...and there&#39;s now an online generator too: <a href=\"http://jsonschema2pojo.org\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1373827297,"post_id":4480636,"comment_id":25690033,"body_markdown":"Has Gson support too now :)","body":"Has Gson support too now :)"},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1400779533,"post_id":4480636,"comment_id":36633588,"body_markdown":"Doesn&#39;t work with local references, thus severely limiting the usefulness of this utility.","body":"Doesn&#39;t work with local references, thus severely limiting the usefulness of this utility."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1400793881,"post_id":4480636,"comment_id":36641188,"body_markdown":"@james.garriss Local references work when using the tool via Maven, Gradle, Ant, CLI. They don&#39;t currently work at jsonschema2pojo.org (it&#39;s a quirk of the way the webapp creates an in-memory schema that isn&#39;t backed by any file). Easily fixed.","body":"@james.garriss Local references work when using the tool via Maven, Gradle, Ant, CLI. They don&#39;t currently work at jsonschema2pojo.org (it&#39;s a quirk of the way the webapp creates an in-memory schema that isn&#39;t backed by any file). Easily fixed."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1400843710,"post_id":4480636,"comment_id":36660546,"body_markdown":"I tried the CLI with this JSON file (which is also a JSON Schema): http://json-schema.org/draft-04/schema#.  StackOverFlow exception.  Fixable, @joelittejohn?  It would be a big help.  Thanks.","body":"I tried the CLI with this JSON file (which is also a JSON Schema): <a href=\"http://json-schema.org/draft-04/schema#\" rel=\"nofollow noreferrer\">json-schema.org/draft-04/schema#</a>.  StackOverFlow exception.  Fixable, @joelittejohn?  It would be a big help.  Thanks."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1401056481,"post_id":4480636,"comment_id":36724226,"body_markdown":"@james.garriss The schema schema makes extensive use of union types, it&#39;s highly dynamic and not easily mappable to Java&#39;s type system. It&#39;s beyond what jsonschema2pojo could ever support.","body":"@james.garriss The schema schema makes extensive use of union types, it&#39;s highly dynamic and not easily mappable to Java&#39;s type system. It&#39;s beyond what jsonschema2pojo could ever support."},{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1404568986,"post_id":4480636,"comment_id":38089804,"body_markdown":"This produces a popup that just says &quot;Preview&quot; and nothing else, or alternatively an empty jar. I&#39;m guessing there is something going wrong, but there is no information given. Tried with a variety of input and settings.","body":"This produces a popup that just says &quot;Preview&quot; and nothing else, or alternatively an empty jar. I&#39;m guessing there is something going wrong, but there is no information given. Tried with a variety of input and settings."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1404584507,"post_id":4480636,"comment_id":38093768,"body_markdown":"@Torque This almost certainly means there&#39;s no types to generate. Try the mailing list or raise an issue on GitHub (showing your input) and I can explain how your schema is being interpreted.","body":"@Torque This almost certainly means there&#39;s no types to generate. Try the mailing list or raise an issue on GitHub (showing your input) and I can explain how your schema is being interpreted."},{"owner":{"account_id":3729650,"reputation":1020,"user_id":3102471,"accept_rate":71,"display_name":"mbmast"},"score":2,"creation_date":1421089309,"post_id":4480636,"comment_id":44217087,"body_markdown":"Excellent tool.  The supplied link contains an online tool where you can paste in sample JSON, click a button and get Java source.","body":"Excellent tool.  The supplied link contains an online tool where you can paste in sample JSON, click a button and get Java source."},{"owner":{"account_id":365723,"reputation":1537,"user_id":710817,"accept_rate":67,"display_name":"whoami"},"score":0,"creation_date":1427267081,"post_id":4480636,"comment_id":46703159,"body_markdown":"I tried the ant version but that didn&#39;t generate the java files, got empty jar. Now using http://pojo.sodhanalibrary.com/.. looks good to me.","body":"I tried the ant version but that didn&#39;t generate the java files, got empty jar. Now using <a href=\"http://pojo.sodhanalibrary.com/\" rel=\"nofollow noreferrer\">pojo.sodhanalibrary.com</a>.. looks good to me."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1427279689,"post_id":4480636,"comment_id":46709893,"body_markdown":"@praki This probably means you&#39;re not using the right source type. If you want to use JSON and not JSON Schema, then you need to use sourceType JSON (see http://joelittlejohn.github.io/jsonschema2pojo/site/0.4.10/Jsonschema2PojoTask.html).","body":"@praki This probably means you&#39;re not using the right source type. If you want to use JSON and not JSON Schema, then you need to use sourceType JSON (see <a href=\"http://joelittlejohn.github.io/jsonschema2pojo/site/0.4.10/Jsonschema2PojoTask.html\" rel=\"nofollow noreferrer\">joelittlejohn.github.io/jsonschema2pojo/site/0.4.10/&hellip;</a>)."},{"owner":{"account_id":48628,"reputation":86,"user_id":144555,"display_name":"Hamiseixas"},"score":0,"creation_date":1441039277,"post_id":4480636,"comment_id":52506943,"body_markdown":"If you have node.js and npm installed, you can take a look at this package: https://github.com/rtoshiro/json2poxo","body":"If you have node.js and npm installed, you can take a look at this package: <a href=\"https://github.com/rtoshiro/json2poxo\" rel=\"nofollow noreferrer\">github.com/rtoshiro/json2poxo</a>"},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1454071147,"post_id":4480636,"comment_id":57891034,"body_markdown":"Why does Android Studio mark `@Generated(&quot;org.jsonschema2pojo&quot;)` as an error? I&#39;d like to keep it in, but had to remove it to get rid of the error. Also, Android Studio doesn&#39;t like the generated `toString()` method","body":"Why does Android Studio mark <code>@Generated(&quot;org.jsonschema2pojo&quot;)</code> as an error? I&#39;d like to keep it in, but had to remove it to get rid of the error. Also, Android Studio doesn&#39;t like the generated <code>toString()</code> method"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1454085318,"post_id":4480636,"comment_id":57900888,"body_markdown":"Unfortunately Android doesn&#39;t include `@Generated` even though it&#39;s part of Java 6. You can get it from `org.glassfish:javax.annotation:10.0-b28`.","body":"Unfortunately Android doesn&#39;t include <code>@Generated</code> even though it&#39;s part of Java 6. You can get it from <code>org.glassfish:javax.annotation:10.0-b28</code>."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1454085341,"post_id":4480636,"comment_id":57900904,"body_markdown":"I&#39;m interested to know more about the toString problem. Feel free to raise a bug.","body":"I&#39;m interested to know more about the toString problem. Feel free to raise a bug."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1456927751,"post_id":4480636,"comment_id":59172165,"body_markdown":"@Darpan If you want to use larger input, feel free to use the Maven plugin, Gradle plugin, CLI, etc. We need to have a limit of some kind on the website.","body":"@Darpan If you want to use larger input, feel free to use the Maven plugin, Gradle plugin, CLI, etc. We need to have a limit of some kind on the website."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1474871527,"post_id":4480636,"comment_id":66690693,"body_markdown":"Reports an error on complex JSON, while some others create classes.","body":"Reports an error on complex JSON, while some others create classes."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1474890137,"post_id":4480636,"comment_id":66701837,"body_markdown":"@CoolMind What kind of JSON? Care to raise a bug?","body":"@CoolMind What kind of JSON? Care to raise a bug?"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1474914906,"post_id":4480636,"comment_id":66717767,"body_markdown":"@joelittlejohn, maybe I made something wrong. But I have a JSON with case-sensitive fields (almost equal), and it reports that that field already exists. Where can I raise a bug?","body":"@joelittlejohn, maybe I made something wrong. But I have a JSON with case-sensitive fields (almost equal), and it reports that that field already exists. Where can I raise a bug?"},{"owner":{"account_id":3058352,"reputation":2385,"user_id":2591556,"accept_rate":86,"display_name":"VipulKumar"},"score":0,"creation_date":1478587504,"post_id":4480636,"comment_id":68205121,"body_markdown":"@joelittlejohn It&#39;s a great tool. But it doesn&#39;t make nested classes for nested objects as they were in the json. Maybe have an option to do that as well? will be a big help.","body":"@joelittlejohn It&#39;s a great tool. But it doesn&#39;t make nested classes for nested objects as they were in the json. Maybe have an option to do that as well? will be a big help."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1478616069,"post_id":4480636,"comment_id":68223092,"body_markdown":"@VipulKumar it definitely does support nested objects, whatever level of nesting you like. It doesn&#39;t support mixed type arrays, as binding this to Java is difficult.","body":"@VipulKumar it definitely does support nested objects, whatever level of nesting you like. It doesn&#39;t support mixed type arrays, as binding this to Java is difficult."},{"owner":{"account_id":3058352,"reputation":2385,"user_id":2591556,"accept_rate":86,"display_name":"VipulKumar"},"score":0,"creation_date":1478685510,"post_id":4480636,"comment_id":68251159,"body_markdown":"@joelittlejohn It does support nested objects but it creates separate classes for all of them. I would like them to be inner classes. e.g. if I have object b inside object a, I would like class B to be an inner class of A. Hope you understand the problem.","body":"@joelittlejohn It does support nested objects but it creates separate classes for all of them. I would like them to be inner classes. e.g. if I have object b inside object a, I would like class B to be an inner class of A. Hope you understand the problem."},{"owner":{"account_id":3588860,"reputation":977,"user_id":2995358,"accept_rate":43,"display_name":"user2995358"},"score":0,"creation_date":1484534576,"post_id":4480636,"comment_id":70535488,"body_markdown":"@joelittlejohn Yes, it is a great tool. But, it does not throw an error if it cannot create classes from JSON. In my case I copy pasted a json response from a web site as follows:\n{&quot;result&quot;:[{&quot;parent&quot;:&quot;&quot; ..... too long, but it was a well formatted JSON.\nit generated an empty file. After I removed {&quot;result&quot;:[, it could generate.\nIf it can thrown an error with possible location of the error in the string, it will be more useful.","body":"@joelittlejohn Yes, it is a great tool. But, it does not throw an error if it cannot create classes from JSON. In my case I copy pasted a json response from a web site as follows: {&quot;result&quot;:[{&quot;parent&quot;:&quot;&quot; ..... too long, but it was a well formatted JSON. it generated an empty file. After I removed {&quot;result&quot;:[, it could generate. If it can thrown an error with possible location of the error in the string, it will be more useful."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1484577030,"post_id":4480636,"comment_id":70554452,"body_markdown":"@user2995358 If you pasted JSON then the most likely cause of receiving no generated output is that you used `Source type: JSON Schema` instead of `Source Type: JSON`. If you are still having trouble, please raise an issue on the github project.","body":"@user2995358 If you pasted JSON then the most likely cause of receiving no generated output is that you used <code>Source type: JSON Schema</code> instead of <code>Source Type: JSON</code>. If you are still having trouble, please raise an issue on the github project."},{"owner":{"account_id":1660196,"reputation":197,"user_id":1528633,"accept_rate":71,"display_name":"Dibyanshu Jaiswal"},"score":0,"creation_date":1491891702,"post_id":4480636,"comment_id":73739696,"body_markdown":"@joelittlejohn I have used your jsonschema2pojo website a few times, and I was happy with the results. But since yesterday, I am unable to get any pojo classes from it. Every time I submit, I get a Not Found page. Is you website under maintenance??","body":"@joelittlejohn I have used your jsonschema2pojo website a few times, and I was happy with the results. But since yesterday, I am unable to get any pojo classes from it. Every time I submit, I get a Not Found page. Is you website under maintenance??"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1491904993,"post_id":4480636,"comment_id":73748636,"body_markdown":"@dibyanshu-jaiswal It&#39;s working fine for me. What browser are you using and what is the URL in the browser when you see the 404? Are you accessing the site through a corporate proxy? Which step gives you a 404? I suggest using Chrome of Firefox and trying outside your corporate network.","body":"@dibyanshu-jaiswal It&#39;s working fine for me. What browser are you using and what is the URL in the browser when you see the 404? Are you accessing the site through a corporate proxy? Which step gives you a 404? I suggest using Chrome of Firefox and trying outside your corporate network."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1511209211,"post_id":4480636,"comment_id":81754237,"body_markdown":"@joelittlejohn - Instead of online converters, can we use any popular json to java library to convert json to Java code file, rather than a Java class file ? Would this be simple ?","body":"@joelittlejohn - Instead of online converters, can we use any popular json to java library to convert json to Java code file, rather than a Java class file ? Would this be simple ?"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":1,"creation_date":1511221373,"post_id":4480636,"comment_id":81759633,"body_markdown":"@testerjoe If you mean Java source code, then yes jsonschema2pojo does this, and it&#39;s available as a maven plugin, ant task, gradle extension, CLI tool, java library, etc...","body":"@testerjoe If you mean Java source code, then yes jsonschema2pojo does this, and it&#39;s available as a maven plugin, ant task, gradle extension, CLI tool, java library, etc..."},{"owner":{"account_id":3751495,"reputation":1012,"user_id":3118899,"accept_rate":40,"display_name":"Nizamudeen Sherif"},"score":0,"creation_date":1556092244,"post_id":4480636,"comment_id":98314954,"body_markdown":"This online generator is not working for past few days and its not showing error as well.","body":"This online generator is not working for past few days and its not showing error as well."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1556094980,"post_id":4480636,"comment_id":98316472,"body_markdown":"@NizamudeenSherif Works okay for me. It might be a problem with some kind of filtering on your internet connection.","body":"@NizamudeenSherif Works okay for me. It might be a problem with some kind of filtering on your internet connection."},{"owner":{"account_id":3751495,"reputation":1012,"user_id":3118899,"accept_rate":40,"display_name":"Nizamudeen Sherif"},"score":0,"creation_date":1556109584,"post_id":4480636,"comment_id":98325172,"body_markdown":"Yes @joelittlejohn it works now, Thanks for update.","body":"Yes @joelittlejohn it works now, Thanks for update."},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1564514619,"post_id":4480636,"comment_id":101054073,"body_markdown":"@joelittlejohn: Excellent tool. Thanks for that. I just have a little doubt here regarding its usage. Lets say I converted my json file to pojo using your tool. So now if I want to create an object of this class to use it in same code after class is build, how would I do that? I know my class name but wouldn&#39;t compiler say that this class not found as this class is not yet created at the time of compilation? I believe this class gets formed after we run the code and if in same code we create the object of this class, then wouldn&#39;t it be unable to compile? Just curious about this.","body":"@joelittlejohn: Excellent tool. Thanks for that. I just have a little doubt here regarding its usage. Lets say I converted my json file to pojo using your tool. So now if I want to create an object of this class to use it in same code after class is build, how would I do that? I know my class name but wouldn&#39;t compiler say that this class not found as this class is not yet created at the time of compilation? I believe this class gets formed after we run the code and if in same code we create the object of this class, then wouldn&#39;t it be unable to compile? Just curious about this."},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":0,"creation_date":1565639465,"post_id":4480636,"comment_id":101408041,"body_markdown":"@CodeHunter You use this tool before you compile. If you are still confused then probably best to ask a new StackOverflow question.","body":"@CodeHunter You use this tool before you compile. If you are still confused then probably best to ask a new StackOverflow question."},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1565644811,"post_id":4480636,"comment_id":101409827,"body_markdown":"@joelittlejohn I figured it out how to use them both side by side. You can utilize java compiler classes for this purpose. All you need to do is provide the generated class as string content and then create object based on it.","body":"@joelittlejohn I figured it out how to use them both side by side. You can utilize java compiler classes for this purpose. All you need to do is provide the generated class as string content and then create object based on it."},{"owner":{"account_id":965193,"reputation":2134,"user_id":988738,"accept_rate":74,"display_name":"xbmono"},"score":0,"creation_date":1626325736,"post_id":4480636,"comment_id":120863773,"body_markdown":"This has limitation in size. My schema is too large and the online tool doesn&#39;t generate anything","body":"This has limitation in size. My schema is too large and the online tool doesn&#39;t generate anything"},{"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"score":1,"creation_date":1626356857,"post_id":4480636,"comment_id":120875761,"body_markdown":"@xbmono for very large schemas, it&#39;s best you use the tool locally (CLI/Maven/Gradle/Ant).","body":"@xbmono for very large schemas, it&#39;s best you use the tool locally (CLI/Maven/Gradle/Ant)."}],"tags":[],"owner":{"account_id":43106,"reputation":11724,"user_id":125825,"accept_rate":100,"display_name":"joelittlejohn"},"comment_count":38,"down_vote_count":1,"up_vote_count":300,"is_accepted":false,"score":299,"last_activity_date":1671760359,"creation_date":1292713223,"answer_id":4480636,"question_id":1957406,"body_markdown":"Try http://www.jsonschema2pojo.org\r\n\r\nOr the **jsonschema2pojo** plug-in for Maven:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;sourceDirectory&gt;${basedir}/src/main/resources/schemas&lt;/sourceDirectory&gt;\r\n\t\t&lt;targetPackage&gt;com.myproject.jsonschemas&lt;/targetPackage&gt;\r\n\t\t&lt;sourceType&gt;json&lt;/sourceType&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe `&lt;sourceType&gt;json&lt;/sourceType&gt;` covers the case where the sources are json (like the OP). If you have actual json *schemas*, remove this line.\r\n\r\nUpdated in 2014: Two things have happened since Dec &#39;09 when this question was asked:\r\n\r\n * The [JSON Schema spec][1] has moved on a lot. It&#39;s still in draft (not finalised) but it&#39;s close to completion and is now a viable tool specifying your structural rules\r\n\r\n * I&#39;ve recently started a new open source project specifically intended to solve your problem: [jsonschema2pojo][2]. The jsonschema2pojo tool takes a json schema document and generates DTO-style Java classes (in the form of .java source files). The project is not yet mature but already provides coverage of the most useful parts of json schema. I&#39;m looking for more feedback from users to help drive the development. Right now you can use the tool from the command line or as a Maven plugin.\r\n\r\n  [1]: http://json-schema.org\r\n  [2]: https://github.com/joelittlejohn/jsonschema2pojo","title":"Generate Java class from JSON?","body":"<p>Try <a href=\"http://www.jsonschema2pojo.org\" rel=\"nofollow noreferrer\">http://www.jsonschema2pojo.org</a></p>\n<p>Or the <strong>jsonschema2pojo</strong> plug-in for Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;${basedir}/src/main/resources/schemas&lt;/sourceDirectory&gt;\n        &lt;targetPackage&gt;com.myproject.jsonschemas&lt;/targetPackage&gt;\n        &lt;sourceType&gt;json&lt;/sourceType&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The <code>&lt;sourceType&gt;json&lt;/sourceType&gt;</code> covers the case where the sources are json (like the OP). If you have actual json <em>schemas</em>, remove this line.</p>\n<p>Updated in 2014: Two things have happened since Dec '09 when this question was asked:</p>\n<ul>\n<li><p>The <a href=\"http://json-schema.org\" rel=\"nofollow noreferrer\">JSON Schema spec</a> has moved on a lot. It's still in draft (not finalised) but it's close to completion and is now a viable tool specifying your structural rules</p>\n</li>\n<li><p>I've recently started a new open source project specifically intended to solve your problem: <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">jsonschema2pojo</a>. The jsonschema2pojo tool takes a json schema document and generates DTO-style Java classes (in the form of .java source files). The project is not yet mature but already provides coverage of the most useful parts of json schema. I'm looking for more feedback from users to help drive the development. Right now you can use the tool from the command line or as a Maven plugin.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":2,"creation_date":1400702718,"post_id":5091975,"comment_id":36594587,"body_markdown":"Protocol Buffers is not even close to an answer on how to create Java objects from JSON.  At the very least you should have recommended a tool for creating Java Objects from Protocol Buffers.","body":"Protocol Buffers is not even close to an answer on how to create Java objects from JSON.  At the very least you should have recommended a tool for creating Java Objects from Protocol Buffers."}],"tags":[],"owner":{"account_id":230771,"reputation":6217,"user_id":494572,"accept_rate":59,"display_name":"dgorissen"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1298470133,"creation_date":1298470133,"answer_id":5091975,"question_id":1957406,"body_markdown":"To add to @japher&#39;s post. If you are not particularly tied to JSON, [Protocol Buffers][1] is worth checking out.\r\n\r\n\r\n  [1]: http://code.google.com/p/protobuf/","title":"Generate Java class from JSON?","body":"<p>To add to @japher's post. If you are not particularly tied to JSON, <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">Protocol Buffers</a> is worth checking out.</p>\n"},{"tags":[],"owner":{"account_id":1120835,"reputation":199,"user_id":1109175,"display_name":"Chris R"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1324445120,"creation_date":1324445120,"answer_id":8585423,"question_id":1957406,"body_markdown":"I&#39;m aware this is an old question, but I stumbled across it while trying to find an answer myself. \r\n\r\nThe answer that mentions the online json-pojo generator (jsongen) is good, but I needed something I could run on the command line and tweak more.\r\n\r\nSo I wrote a very hacky ruby script to take a sample JSON file and generate POJOs from it.  It has a number of limitations (for example, it doesn&#39;t deal with fields that match java reserved  keywords) but it does enough for many cases.\r\n\r\nThe code generated, by default, annotates for use with Jackson, but this can be turned off with a switch.\r\n\r\nYou can find the code on github: https://github.com/wotifgroup/json2pojo","title":"Generate Java class from JSON?","body":"<p>I'm aware this is an old question, but I stumbled across it while trying to find an answer myself. </p>\n\n<p>The answer that mentions the online json-pojo generator (jsongen) is good, but I needed something I could run on the command line and tweak more.</p>\n\n<p>So I wrote a very hacky ruby script to take a sample JSON file and generate POJOs from it.  It has a number of limitations (for example, it doesn't deal with fields that match java reserved  keywords) but it does enough for many cases.</p>\n\n<p>The code generated, by default, annotates for use with Jackson, but this can be turned off with a switch.</p>\n\n<p>You can find the code on github: <a href=\"https://github.com/wotifgroup/json2pojo\" rel=\"noreferrer\">https://github.com/wotifgroup/json2pojo</a></p>\n"},{"tags":[],"owner":{"account_id":426692,"reputation":2197,"user_id":808036,"display_name":"ehanoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340109525,"creation_date":1334926777,"answer_id":10246733,"question_id":1957406,"body_markdown":"I had the same problem so i decided to start writing a small tool to help me with this. Im gonna share andopen source it.\r\n\r\nhttps://github.com/BrunoAlexandreMendesMartins/CleverModels\r\n\r\nIt supports, JAVA, C# &amp; Objective-c from JSON .\r\n\r\nFeel free to contribute!","title":"Generate Java class from JSON?","body":"<p>I had the same problem so i decided to start writing a small tool to help me with this. Im gonna share andopen source it.</p>\n\n<p><a href=\"https://github.com/BrunoAlexandreMendesMartins/CleverModels\" rel=\"nofollow\">https://github.com/BrunoAlexandreMendesMartins/CleverModels</a></p>\n\n<p>It supports, JAVA, C# &amp; Objective-c from JSON .</p>\n\n<p>Feel free to contribute!</p>\n"},{"comments":[{"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"score":0,"creation_date":1443816459,"post_id":12950053,"comment_id":53657919,"body_markdown":"That&#39;s also my impression, but I didn&#39;t try the Maven plugin yet, however the online version is pretty slow and dies for anything other than the usual Person class...\nSo for quick online conversion, @tim-boudreau&#39;s tool worked best for me.","body":"That&#39;s also my impression, but I didn&#39;t try the Maven plugin yet, however the online version is pretty slow and dies for anything other than the usual Person class... So for quick online conversion, @tim-boudreau&#39;s tool worked best for me."},{"owner":{"account_id":1091123,"reputation":2637,"user_id":1085742,"accept_rate":39,"display_name":"AndroidDev"},"score":0,"creation_date":1477208476,"post_id":12950053,"comment_id":67666365,"body_markdown":"I tried JsonSchema2Pojo but hitting the Preview button pops up the blank preview.","body":"I tried JsonSchema2Pojo but hitting the Preview button pops up the blank preview."}],"tags":[],"owner":{"account_id":248421,"reputation":4885,"user_id":523758,"display_name":"Antoine Sabot-Durand"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1403649639,"creation_date":1350548211,"answer_id":12950053,"question_id":1957406,"body_markdown":"Answering this old question with recent project ;-).\r\n\r\nAt the moment the best solution is probably [JsonSchema2Pojo][1] : \r\n\r\nIt does the job from the seldom used Json Schema but also with plain Json. It provides Ant and Maven plugin and an [online test application][2] can give you an idea of the tool. I put a Json Tweet and generated all the containing class (Tweet, User, Location, etc..).\r\n\r\nWe&#39;ll use it on [Agorava][3] project to generate Social Media mapping and follow the contant evolution in their API.\r\n\r\n\r\n  [1]: https://github.com/joelittlejohn/jsonschema2pojo\r\n  [2]: http://jsonschema2pojo.org/\r\n  [3]: http://agorava.org","title":"Generate Java class from JSON?","body":"<p>Answering this old question with recent project ;-).</p>\n\n<p>At the moment the best solution is probably <a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"noreferrer\">JsonSchema2Pojo</a> : </p>\n\n<p>It does the job from the seldom used Json Schema but also with plain Json. It provides Ant and Maven plugin and an <a href=\"http://jsonschema2pojo.org/\" rel=\"noreferrer\">online test application</a> can give you an idea of the tool. I put a Json Tweet and generated all the containing class (Tweet, User, Location, etc..).</p>\n\n<p>We'll use it on <a href=\"http://agorava.org\" rel=\"noreferrer\">Agorava</a> project to generate Social Media mapping and follow the contant evolution in their API.</p>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":14,"creation_date":1367727469,"post_id":12950460,"comment_id":23477385,"body_markdown":"doesn&#39;t create java definitions","body":"doesn&#39;t create java definitions"},{"owner":{"account_id":341703,"reputation":2528,"user_id":672455,"accept_rate":67,"display_name":"hop"},"score":3,"creation_date":1379107023,"post_id":12950460,"comment_id":27716369,"body_markdown":"This is not what the question is about","body":"This is not what the question is about"}],"tags":[],"owner":{"account_id":1194658,"reputation":110,"user_id":1166633,"display_name":"MB.One"},"comment_count":2,"down_vote_count":8,"up_vote_count":9,"is_accepted":false,"score":1,"last_activity_date":1350549620,"creation_date":1350549620,"answer_id":12950460,"question_id":1957406,"body_markdown":"You could also try GSON library. Its quite powerful it can create JSON from collections, custom objects and works also vice versa.  Its released under Apache Licence 2.0 so you can use it also commercially. \r\n\r\nhttp://code.google.com/p/google-gson/ ","title":"Generate Java class from JSON?","body":"<p>You could also try GSON library. Its quite powerful it can create JSON from collections, custom objects and works also vice versa.  Its released under Apache Licence 2.0 so you can use it also commercially. </p>\n\n<p><a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">http://code.google.com/p/google-gson/</a> </p>\n"},{"tags":[],"owner":{"account_id":1976997,"reputation":241,"user_id":1774567,"display_name":"Astav"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1627914018,"creation_date":1351176766,"answer_id":13071312,"question_id":1957406,"body_markdown":"If you&#39;re using Jackson (the most popular library there), try \r\n\r\nhttps://github.com/astav/JsonToJava\r\n\r\nIts open source (last updated on Jun 7, 2013 as of year 2021) and anyone should be able to contribute.\r\n\r\n**Summary**\r\n\r\nA JsonToJava source class file generator that deduces the schema based on supplied sample json data and generates the necessary java data structures.\r\n\r\nIt encourages teams to think in Json first, before writing actual code.\r\n\r\n**Features**\r\n\r\n- Can generate classes for an arbitrarily complex hierarchy (recursively)\r\n- Can read your existing Java classes and if it can deserialize into those structures, will do so \r\n- Will prompt for user input when ambiguous cases exist","title":"Generate Java class from JSON?","body":"<p>If you're using Jackson (the most popular library there), try</p>\n<p><a href=\"https://github.com/astav/JsonToJava\" rel=\"nofollow noreferrer\">https://github.com/astav/JsonToJava</a></p>\n<p>Its open source (last updated on Jun 7, 2013 as of year 2021) and anyone should be able to contribute.</p>\n<p><strong>Summary</strong></p>\n<p>A JsonToJava source class file generator that deduces the schema based on supplied sample json data and generates the necessary java data structures.</p>\n<p>It encourages teams to think in Json first, before writing actual code.</p>\n<p><strong>Features</strong></p>\n<ul>\n<li>Can generate classes for an arbitrarily complex hierarchy (recursively)</li>\n<li>Can read your existing Java classes and if it can deserialize into those structures, will do so</li>\n<li>Will prompt for user input when ambiguous cases exist</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1184735,"reputation":734,"user_id":1158927,"accept_rate":81,"display_name":"Rafael Ruiz Tabares"},"score":0,"creation_date":1489758553,"post_id":26756917,"comment_id":72824593,"body_markdown":"this answer looks so trivial. There is automatic way to generate pojo from json","body":"this answer looks so trivial. There is automatic way to generate pojo from json"}],"tags":[],"owner":{"account_id":519569,"reputation":729,"user_id":1277491,"display_name":"Foobnix"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1415189505,"creation_date":1415189505,"answer_id":26756917,"question_id":1957406,"body_markdown":"**Try my solution**\r\n\r\nhttp://htmlpreview.github.io/?https://raw.githubusercontent.com/foobnix/android-universal-utils/master/json/generator.html\r\n\r\n    {\r\n        &quot;auctionHouse&quot;: &quot;sample string 1&quot;,\r\n        &quot;bidDate&quot;: &quot;2014-05-30T08:20:38.5426521-04:00 &quot;,\r\n        &quot;bidPrice&quot;: 3,\r\n        &quot;bidPrice1&quot;: 3.1,\r\n        &quot;isYear&quot;:true\r\n    }\r\n\r\n**Result Java Class**\r\n\r\n    private String  auctionHouse;\r\n    private Date  bidDate;\r\n    private int  bidPrice;\r\n    private double  bidPrice1;\r\n    private boolean  isYear;\r\n\r\n**JSONObject get** \r\n\r\n    auctionHouse = obj.getString(&quot;auctionHouse&quot;);\r\n    bidDate = obj.opt(&quot;bidDate&quot;);\r\n    bidPrice = obj.getInt(&quot;bidPrice&quot;);\r\n    bidPrice1 = obj.getDouble(&quot;bidPrice1&quot;);\r\n    isYear = obj.getBoolean(&quot;isYear&quot;);\r\n\r\n**JSONObject put**\r\n\r\n    obj.put(&quot;auctionHouse&quot;,auctionHouse);\r\n    obj.put(&quot;bidDate&quot;,bidDate);\r\n    obj.put(&quot;bidPrice&quot;,bidPrice);\r\n    obj.put(&quot;bidPrice1&quot;,bidPrice1);\r\n    obj.put(&quot;isYear&quot;,isYear);","title":"Generate Java class from JSON?","body":"<p><strong>Try my solution</strong></p>\n\n<p><a href=\"http://htmlpreview.github.io/?https://raw.githubusercontent.com/foobnix/android-universal-utils/master/json/generator.html\" rel=\"nofollow\">http://htmlpreview.github.io/?https://raw.githubusercontent.com/foobnix/android-universal-utils/master/json/generator.html</a></p>\n\n<pre><code>{\n    \"auctionHouse\": \"sample string 1\",\n    \"bidDate\": \"2014-05-30T08:20:38.5426521-04:00 \",\n    \"bidPrice\": 3,\n    \"bidPrice1\": 3.1,\n    \"isYear\":true\n}\n</code></pre>\n\n<p><strong>Result Java Class</strong></p>\n\n<pre><code>private String  auctionHouse;\nprivate Date  bidDate;\nprivate int  bidPrice;\nprivate double  bidPrice1;\nprivate boolean  isYear;\n</code></pre>\n\n<p><strong>JSONObject get</strong> </p>\n\n<pre><code>auctionHouse = obj.getString(\"auctionHouse\");\nbidDate = obj.opt(\"bidDate\");\nbidPrice = obj.getInt(\"bidPrice\");\nbidPrice1 = obj.getDouble(\"bidPrice1\");\nisYear = obj.getBoolean(\"isYear\");\n</code></pre>\n\n<p><strong>JSONObject put</strong></p>\n\n<pre><code>obj.put(\"auctionHouse\",auctionHouse);\nobj.put(\"bidDate\",bidDate);\nobj.put(\"bidPrice\",bidPrice);\nobj.put(\"bidPrice1\",bidPrice1);\nobj.put(\"isYear\",isYear);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367723,"reputation":884,"user_id":714077,"accept_rate":86,"display_name":"noogrub"},"score":2,"creation_date":1438406336,"post_id":28377860,"comment_id":51450157,"body_markdown":"This worked very well for me on the first go.  I had deeply nested JSON and it worked fine, although I did have to trim redundant portions to get the overall size below 2k.  Enabled me to write: \t\tMyClass c = new MyClass();\n\t\tc = gson.fromJson(c.getHTML(someURLthatReturnsJSON), MyClass.class);  and the resulting data flowed perfectly.  I had to remove all those Jackson notations, but otherwise it worked fine for gson.  Thank you.","body":"This worked very well for me on the first go.  I had deeply nested JSON and it worked fine, although I did have to trim redundant portions to get the overall size below 2k.  Enabled me to write: \t\tMyClass c = new MyClass(); \t\tc = gson.fromJson(c.getHTML(someURLthatReturnsJSON), MyClass.class);  and the resulting data flowed perfectly.  I had to remove all those Jackson notations, but otherwise it worked fine for gson.  Thank you."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1474880209,"post_id":28377860,"comment_id":66695409,"body_markdown":"Thanks, it works. When I feeded a JSON with case-sensitive fields, this site returned a result, while www.jsonschema2pojo.org reported an error.","body":"Thanks, it works. When I feeded a JSON with case-sensitive fields, this site returned a result, while www.jsonschema2pojo.org reported an error."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1616507686,"post_id":28377860,"comment_id":118019554,"body_markdown":"I was able to generate some java code today, but it stopped working then. The corresponding text area isn&#39;t there anymore...","body":"I was able to generate some java code today, but it stopped working then. The corresponding text area isn&#39;t there anymore..."}],"tags":[],"owner":{"account_id":193604,"reputation":1751,"user_id":435436,"display_name":"Tim Boudreau"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1423275787,"creation_date":1423275787,"answer_id":28377860,"question_id":1957406,"body_markdown":"Here&#39;s an [online tool](http://timboudreau.com/blog/json/read) that will take JSON, including nested objects or nested arrays of objects and generate a Java source with Jackson annotations.","title":"Generate Java class from JSON?","body":"<p>Here's an <a href=\"http://timboudreau.com/blog/json/read\">online tool</a> that will take JSON, including nested objects or nested arrays of objects and generate a Java source with Jackson annotations.</p>\n"},{"tags":[],"owner":{"account_id":51548,"reputation":1773,"user_id":154059,"accept_rate":0,"display_name":"inder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426361643,"creation_date":1426361643,"answer_id":29053293,"question_id":1957406,"body_markdown":"I created a github project Json2Java that does this.\r\nhttps://github.com/inder123/json2java\r\n\r\nJson2Java provides customizations such as renaming fields, and creating inheritance hierarchies.\r\n\r\nI have used the tool to create some relatively complex APIs:\r\n\r\nGracenote&#39;s TMS API: https://github.com/inder123/gracenote-java-api\r\n\r\nGoogle Maps Geocoding API: https://github.com/inder123/geocoding\r\n","title":"Generate Java class from JSON?","body":"<p>I created a github project Json2Java that does this.\n<a href=\"https://github.com/inder123/json2java\" rel=\"nofollow\">https://github.com/inder123/json2java</a></p>\n\n<p>Json2Java provides customizations such as renaming fields, and creating inheritance hierarchies.</p>\n\n<p>I have used the tool to create some relatively complex APIs:</p>\n\n<p>Gracenote's TMS API: <a href=\"https://github.com/inder123/gracenote-java-api\" rel=\"nofollow\">https://github.com/inder123/gracenote-java-api</a></p>\n\n<p>Google Maps Geocoding API: <a href=\"https://github.com/inder123/geocoding\" rel=\"nofollow\">https://github.com/inder123/geocoding</a></p>\n"},{"tags":[],"owner":{"account_id":965193,"reputation":2134,"user_id":988738,"accept_rate":74,"display_name":"xbmono"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626748007,"creation_date":1626748007,"answer_id":68448905,"question_id":1957406,"body_markdown":"I know there are many answers but of all these I found this one most useful for me. This link below gives you all the POJO classes in a separate file rather than one huge class that some of the mentioned websites do:\r\n\r\n[https://json2csharp.com/json-to-pojo][1]\r\n\r\nIt has other converters too. Also, it works online without a limitation in size. My JSON is huge and it worked nicely.\r\n\r\n\r\n  [1]: https://json2csharp.com/json-to-pojo","title":"Generate Java class from JSON?","body":"<p>I know there are many answers but of all these I found this one most useful for me. This link below gives you all the POJO classes in a separate file rather than one huge class that some of the mentioned websites do:</p>\n<p><a href=\"https://json2csharp.com/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/json-to-pojo</a></p>\n<p>It has other converters too. Also, it works online without a limitation in size. My JSON is huge and it worked nicely.</p>\n"}],"owner":{"account_id":85406,"reputation":18277,"user_id":238123,"accept_rate":76,"display_name":"Denis Palnitsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378661,"favorite_count":0,"down_vote_count":2,"up_vote_count":248,"answer_count":13,"score":246,"last_activity_date":1671760359,"creation_date":1261643828,"question_id":1957406,"body_markdown":"In a Java Maven project, how do you generate java source files from JSON? For example we have  \r\n\r\n```json\r\n{\r\n  &quot;firstName&quot;: &quot;John&quot;,  \r\n  &quot;lastName&quot;: &quot;Smith&quot;,  \r\n  &quot;address&quot;: {  \r\n\t&quot;streetAddress&quot;: &quot;21 2nd Street&quot;,  \r\n\t &quot;city&quot;: &quot;New York&quot;\r\n  }\r\n}\r\n```\r\n\r\nWhen we run `mvn generate-sources` we want it to generate something like this:  \r\n\r\n```lang-java\r\nclass Address  {\r\n\tJSONObject mInternalJSONObject;\r\n\t \r\n\tAddress (JSONObject json){\r\n\t\tmInternalJSONObject = json;\r\n\t}\r\n\t \r\n\tString  getStreetAddress () {\r\n\t\treturn mInternalJSONObject.getString(&quot;streetAddress&quot;);\r\n\t}\r\n\t\r\n\tString  getCity (){\r\n\t\treturn mInternalJSONObject.getString(&quot;city&quot;);\r\n\t}\r\n}\r\n\r\nclass Person {        \r\n\tJSONObject mInternalJSONObject;\r\n\t\r\n\tPerson (JSONObject json){\r\n\t\tmInternalJSONObject = json;\r\n\t}\r\n\t\r\n\tString  getFirstName () {\r\n\t\treturn mInternalJSONObject.getString(&quot;firstName&quot;);\r\n\t}\r\n\t\r\n\tString  getLastName (){\r\n\t\treturn mInternalJSONObject.getString(&quot;lastName&quot;);\r\n\t}\r\n\t\r\n\tAddress getAddress (){\r\n\t\treturn Address(mInternalJSONObject.getString(&quot;address&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nAs a Java developer, what lines of XML do I need to write in my `pom.xml` in order to make this happen?\r\n","title":"Generate Java class from JSON?","body":"<p>In a Java Maven project, how do you generate java source files from JSON? For example we have</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;firstName&quot;: &quot;John&quot;,  \n  &quot;lastName&quot;: &quot;Smith&quot;,  \n  &quot;address&quot;: {  \n    &quot;streetAddress&quot;: &quot;21 2nd Street&quot;,  \n     &quot;city&quot;: &quot;New York&quot;\n  }\n}\n</code></pre>\n<p>When we run <code>mvn generate-sources</code> we want it to generate something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Address  {\n    JSONObject mInternalJSONObject;\n     \n    Address (JSONObject json){\n        mInternalJSONObject = json;\n    }\n     \n    String  getStreetAddress () {\n        return mInternalJSONObject.getString(&quot;streetAddress&quot;);\n    }\n    \n    String  getCity (){\n        return mInternalJSONObject.getString(&quot;city&quot;);\n    }\n}\n\nclass Person {        \n    JSONObject mInternalJSONObject;\n    \n    Person (JSONObject json){\n        mInternalJSONObject = json;\n    }\n    \n    String  getFirstName () {\n        return mInternalJSONObject.getString(&quot;firstName&quot;);\n    }\n    \n    String  getLastName (){\n        return mInternalJSONObject.getString(&quot;lastName&quot;);\n    }\n    \n    Address getAddress (){\n        return Address(mInternalJSONObject.getString(&quot;address&quot;));\n    }\n}\n</code></pre>\n<p>As a Java developer, what lines of XML do I need to write in my <code>pom.xml</code> in order to make this happen?</p>\n"},{"tags":["java","xml","spring-boot","jaxb"],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671759717,"creation_date":1671759717,"question_id":74895403,"body_markdown":"I have a quite simple `Spring Boot` application that its own purpose (for now) is to listen to an `IBM MQ` queue and saves part of the incoming data into a persistent storage.\r\n\r\nI&#39;ve configured everything to be able to &quot;listen&quot; to the queue, but I&#39;m unable to convert the received (XML) messages into the corresponding POJO.\r\n\r\nThis is (an excerpt of) what I&#39;m receiving:\r\n\r\n```xml\r\n&lt;s:Envelope xmlns:s=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n  &lt;s:Header&gt;\r\n    &lt;a:Action s:mustUnderstand=&quot;1&quot;&gt;http://domain.tld/IMessage/MqMessage&lt;/a:Action&gt;\r\n    &lt;a:To s:mustUnderstand=&quot;1&quot;&gt;MQ_REQUEST@S03&amp;amp;amp;connectionFactory=binding(client)connectQueueManager(QM_03)clientConnection(s03.domain.tld(1416))clientChannel(QM_03.QUEUE)&amp;amp;amp;initialContextFactory=com.ibm.mq.jms.Nojndi&lt;/a:To&gt;\r\n  &lt;/s:Header&gt;\r\n  &lt;s:Body&gt;\r\n    &lt;ProcessMqMessage xmlns=&quot;http://domain.tld/segment&quot;&gt;\r\n      &lt;msg&gt;\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;\r\n        &lt;MessageEnvelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns=&quot;http://domain.tld/IGateway&quot;&gt;\r\n          &lt;MessageHeader&gt;\r\n            &lt;MessageID&gt;some-uuid&lt;/MessageID&gt;\r\n            &lt;MessageType&gt;MessageType&lt;/MessageType&gt;\r\n            &lt;MessageVersionNumber&gt;1.4.5&lt;/MessageVersionNumber&gt;\r\n            &lt;MessageCreationDateTime&gt;2022-06-01T13:39:30.195798&lt;/MessageCreationDateTime&gt;\r\n            &lt;MessageSentDateTime&gt;2022-06-01T13:39:35.8629222Z&lt;/MessageSentDateTime&gt;\r\n            &lt;TimeZoneOffset&gt;-PT4H&lt;/TimeZoneOffset&gt;\r\n          &lt;/MessageHeader&gt;\r\n          &lt;MessageContent&gt;\r\n            &lt;MessageType&gt;\r\n              &lt;Reading&gt;Scan&lt;/Reading&gt;\r\n              &lt;IdentifierData&gt;\r\n                &lt;ID xsi:type=&quot;xsd:string&quot;&gt;some string value&lt;/ID&gt;\r\n              &lt;/IdentifierData&gt;\r\n              ...\r\n```\r\n\r\nBasically, I&#39;m receiving messages like that one, but as strings, using a `JmsListener`:\r\n\r\n```java\r\n@JmsListener(destination = &quot;dest&quot;)\r\n// public void processMessage(@Payload final TypeMessage msg) {\r\npublic void processMessage(final Message&lt;String&gt; msg) {\r\n  try {\r\n    final var context = JAXBContext.newInstance(TypeMessage.class);\r\n    final var marshaller = context.createUnmarshaller();\r\n    final var result = marshaller.unmarshal(new StringReader(msg.getPayload()));\r\n  } catch (final Exception e) { }\r\n}\r\n```\r\n\r\n...and I&#39;m trying to find a way to unmarshal that string into a POJO (initially only with these two fields just for testing):\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlRootElement(name = &quot;MessageContent&quot;)\r\npublic class MessageContent {\r\n  @XmlElement(name = &quot;MessageType&quot;)\r\n  private MessageType;\r\n\r\n  @Getter\r\n  @Setter\r\n  @NoArgsConstructor\r\n  @XmlAccessorType(XmlAccessType.FIELD)\r\n  @XmlRootElement(name = &quot;MessageType&quot;)\r\n  public static class MessageType {\r\n    @XmlElement(name = &quot;Reading&quot;)\r\n    private String reading;\r\n  }\r\n}\r\n```\r\n\r\nIn the end, looks like there is something wrong with the `JAXB` configuration or the annotations in the POJO, because I&#39;m always getting this:\r\n\r\n```shell\r\n12-22-2022 20:28:11.387 |-  WARN in MessageManager:32 [org.springframework.jms.JmsListenerEndpointContainer#0-1] - Something happened here. This was the reason:\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.w3.org/2003/05/soap-envelope&quot;, local:&quot;Envelope&quot;). Expected elements are &lt;{}MessageType&gt;,&lt;{}MessageContent&gt;\r\n```\r\n\r\nI can roughly infer that `JAXB` want me to map all the properties, but since this XML is massive I&#39;m trying to map only the fields/tags that I&#39;m interested. Also some of the tags in the XML can be present or not between messages.\r\n\r\nIdeally I would like to receive a message using the `MessageContent` type in the JMS listener by using some underlying conversion triggered automatically by `Spring`, but not sure if that&#39;s possible.\r\n\r\n&gt; I don&#39;t have a single bean configured. All the configuration is done inside `application.yaml`, along with the `@EnableJms` annotation.","title":"Unable to unmarshall XML message from MQ manager using Spring Boot","body":"<p>I have a quite simple <code>Spring Boot</code> application that its own purpose (for now) is to listen to an <code>IBM MQ</code> queue and saves part of the incoming data into a persistent storage.</p>\n<p>I've configured everything to be able to &quot;listen&quot; to the queue, but I'm unable to convert the received (XML) messages into the corresponding POJO.</p>\n<p>This is (an excerpt of) what I'm receiving:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:Envelope xmlns:s=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n  &lt;s:Header&gt;\n    &lt;a:Action s:mustUnderstand=&quot;1&quot;&gt;http://domain.tld/IMessage/MqMessage&lt;/a:Action&gt;\n    &lt;a:To s:mustUnderstand=&quot;1&quot;&gt;MQ_REQUEST@S03&amp;amp;amp;connectionFactory=binding(client)connectQueueManager(QM_03)clientConnection(s03.domain.tld(1416))clientChannel(QM_03.QUEUE)&amp;amp;amp;initialContextFactory=com.ibm.mq.jms.Nojndi&lt;/a:To&gt;\n  &lt;/s:Header&gt;\n  &lt;s:Body&gt;\n    &lt;ProcessMqMessage xmlns=&quot;http://domain.tld/segment&quot;&gt;\n      &lt;msg&gt;\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;\n        &lt;MessageEnvelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xmlns=&quot;http://domain.tld/IGateway&quot;&gt;\n          &lt;MessageHeader&gt;\n            &lt;MessageID&gt;some-uuid&lt;/MessageID&gt;\n            &lt;MessageType&gt;MessageType&lt;/MessageType&gt;\n            &lt;MessageVersionNumber&gt;1.4.5&lt;/MessageVersionNumber&gt;\n            &lt;MessageCreationDateTime&gt;2022-06-01T13:39:30.195798&lt;/MessageCreationDateTime&gt;\n            &lt;MessageSentDateTime&gt;2022-06-01T13:39:35.8629222Z&lt;/MessageSentDateTime&gt;\n            &lt;TimeZoneOffset&gt;-PT4H&lt;/TimeZoneOffset&gt;\n          &lt;/MessageHeader&gt;\n          &lt;MessageContent&gt;\n            &lt;MessageType&gt;\n              &lt;Reading&gt;Scan&lt;/Reading&gt;\n              &lt;IdentifierData&gt;\n                &lt;ID xsi:type=&quot;xsd:string&quot;&gt;some string value&lt;/ID&gt;\n              &lt;/IdentifierData&gt;\n              ...\n</code></pre>\n<p>Basically, I'm receiving messages like that one, but as strings, using a <code>JmsListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;dest&quot;)\n// public void processMessage(@Payload final TypeMessage msg) {\npublic void processMessage(final Message&lt;String&gt; msg) {\n  try {\n    final var context = JAXBContext.newInstance(TypeMessage.class);\n    final var marshaller = context.createUnmarshaller();\n    final var result = marshaller.unmarshal(new StringReader(msg.getPayload()));\n  } catch (final Exception e) { }\n}\n</code></pre>\n<p>...and I'm trying to find a way to unmarshal that string into a POJO (initially only with these two fields just for testing):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;MessageContent&quot;)\npublic class MessageContent {\n  @XmlElement(name = &quot;MessageType&quot;)\n  private MessageType;\n\n  @Getter\n  @Setter\n  @NoArgsConstructor\n  @XmlAccessorType(XmlAccessType.FIELD)\n  @XmlRootElement(name = &quot;MessageType&quot;)\n  public static class MessageType {\n    @XmlElement(name = &quot;Reading&quot;)\n    private String reading;\n  }\n}\n</code></pre>\n<p>In the end, looks like there is something wrong with the <code>JAXB</code> configuration or the annotations in the POJO, because I'm always getting this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>12-22-2022 20:28:11.387 |-  WARN in MessageManager:32 [org.springframework.jms.JmsListenerEndpointContainer#0-1] - Something happened here. This was the reason:\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://www.w3.org/2003/05/soap-envelope&quot;, local:&quot;Envelope&quot;). Expected elements are &lt;{}MessageType&gt;,&lt;{}MessageContent&gt;\n</code></pre>\n<p>I can roughly infer that <code>JAXB</code> want me to map all the properties, but since this XML is massive I'm trying to map only the fields/tags that I'm interested. Also some of the tags in the XML can be present or not between messages.</p>\n<p>Ideally I would like to receive a message using the <code>MessageContent</code> type in the JMS listener by using some underlying conversion triggered automatically by <code>Spring</code>, but not sure if that's possible.</p>\n<blockquote>\n<p>I don't have a single bean configured. All the configuration is done inside <code>application.yaml</code>, along with the <code>@EnableJms</code> annotation.</p>\n</blockquote>\n"},{"tags":["java","visual-studio"],"owner":{"account_id":13890863,"reputation":211,"user_id":10034073,"display_name":"kviLL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671758494,"creation_date":1671758494,"question_id":74895326,"body_markdown":"Using Red Hat&#39;s [Language Support for Java][1] extension in VS Code, is there any way to disable all linting while retaining the formatting? I basically want the extension to do nothing except format my code.\r\n\r\nAt the end of the day, I just want an extension that formats exactly like the Red Hat extension according to [eclipse profiles][2]. If there&#39;s a better alternative, that works too.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=redhat.java\r\n  [2]: https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings","title":"VSCode Java RedHat extension - disable linting but keep formatter","body":"<p>Using Red Hat's <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java</a> extension in VS Code, is there any way to disable all linting while retaining the formatting? I basically want the extension to do nothing except format my code.</p>\n<p>At the end of the day, I just want an extension that formats exactly like the Red Hat extension according to <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\" rel=\"nofollow noreferrer\">eclipse profiles</a>. If there's a better alternative, that works too.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671732663,"post_id":74891458,"comment_id":132166274,"body_markdown":"Where is the code and class definition of object `projectileShooter` and also of class  `ProjectileShooterPanel` ? Please give a [example].","body":"Where is the code and class definition of object <code>projectileShooter</code> and also of class  <code>ProjectileShooterPanel</code> ? Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"display_name":"user20823464"},"score":0,"creation_date":1671753312,"post_id":74891458,"comment_id":132170942,"body_markdown":"My background is now covering my projectile, any ideas?","body":"My background is now covering my projectile, any ideas?"}],"answers":[{"comments":[{"owner":{"display_name":"user20823464"},"score":0,"creation_date":1671751211,"post_id":74892435,"comment_id":132170671,"body_markdown":"How do you suggest I paint the background in the projectile shooter panel. Is my problem not that when I shoot the projectile the panel is updated and doesn&#39;t include the background?","body":"How do you suggest I paint the background in the projectile shooter panel. Is my problem not that when I shoot the projectile the panel is updated and doesn&#39;t include the background?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671752295,"post_id":74892435,"comment_id":132170809,"body_markdown":"You use the `Graphics.drawImage(....)` method in the `paintComponent(...)` method of the panel. For example check out [Background Panel](https://tips4java.wordpress.com/2008/10/12/background-panel/)","body":"You use the <code>Graphics.drawImage(....)</code> method in the <code>paintComponent(...)</code> method of the panel. For example check out <a href=\"https://tips4java.wordpress.com/2008/10/12/background-panel/\" rel=\"nofollow noreferrer\">Background Panel</a>"},{"owner":{"display_name":"user20823464"},"score":0,"creation_date":1671752891,"post_id":74892435,"comment_id":132170886,"body_markdown":"Is my problem not that when the panel is updated after I shoot my projectile it isn&#39;t including my background?","body":"Is my problem not that when the panel is updated after I shoot my projectile it isn&#39;t including my background?"},{"owner":{"display_name":"user20823464"},"score":0,"creation_date":1671753274,"post_id":74892435,"comment_id":132170935,"body_markdown":"I have managed to get my background to stay on the whole time but it now covers my projectile (I can see it flying at the top of the gui where the background doesn&#39;t reach) any ideas on how to fix that?","body":"I have managed to get my background to stay on the whole time but it now covers my projectile (I can see it flying at the top of the gui where the background doesn&#39;t reach) any ideas on how to fix that?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671757162,"post_id":74892435,"comment_id":132171469,"body_markdown":"Two suggestion were given: 1) Add the projectile panel to the background. Why did you do it the other way? 2) do the painting of the image on the projectile panel instead of using a label.","body":"Two suggestion were given: 1) Add the projectile panel to the background. Why did you do it the other way? 2) do the painting of the image on the projectile panel instead of using a label."},{"owner":{"display_name":"user20823464"},"score":0,"creation_date":1671799738,"post_id":74892435,"comment_id":132178986,"body_markdown":"Thank you for your patience, I&#39;m really not very good at java so it took me some time, I have managed to get this working now by painting it in the projectile panel. However, there is now a huge frame rate loss. Any ideas on how that can be resolved?","body":"Thank you for your patience, I&#39;m really not very good at java so it took me some time, I have managed to get this working now by painting it in the projectile panel. However, there is now a huge frame rate loss. Any ideas on how that can be resolved?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671808751,"post_id":74892435,"comment_id":132181385,"body_markdown":"This is now a different question and we can&#39;t guess how you changed the above code. Ask a new question with an updated [mre]. My guess is that you read the image in the paintComponent() method which is wrong. A painting method is for painting only so it can be as fast as possible.","body":"This is now a different question and we can&#39;t guess how you changed the above code. Ask a new question with an updated <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. My guess is that you read the image in the paintComponent() method which is wrong. A painting method is for painting only so it can be as fast as possible."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671758097,"creation_date":1671732943,"answer_id":74892435,"question_id":74891458,"body_markdown":"    f.add(back);\r\n\r\nis equivalent to:\r\n\r\n    f.getContentPane().add(back, BorderLayout.CENTER);\r\n\r\nLater in your code you do:\r\n\r\n    f.getContentPane().add(projectileShooterPanel, BorderLayout.CENTER);\r\n\r\nWhich will cause problems because you can&#39;t add two components to the CENTER. \r\n\r\nA Swing GUI is parent/child design so you need something like:\r\n\r\n    f.getContentPane().add(back, BorderLayout.CENTER);\r\n    back.setLayout(new BorderLayout());\r\n    back.add(projectileShooterPanel, BorderLayout.CENTER);\r\n\r\nI&#39;ll let you figure out the logic order and placement of the above statements.\r\n\r\nAlso why do you have:\r\n\r\n    f.setLayout(new BorderLayout());\r\n\r\nat the end of the constructor? This replaces all the constraint information of your original layout.\r\n\r\nFinally, your projectile shooter panel needs to be transparent, otherwise it will paint over top of the background. So you also need:\r\n\r\n    projectileShooterPanel.setOpaque( false );\r\n\r\nNote: instead of using the JLabel as the background it would be easier to paint the background in your projectile shooter panel. Then you won&#39;t have issues with trying to add multiple panels to one another and the shooter panel won&#39;t need to be transparent.\r\n\r\nEdit:\r\n\r\nYou need a parent/child relationship between your components like:\r\n\r\n    - frame\r\n        - content pane\r\n            - background image \r\n                - projectile panel\r\n                    - projectile\r\n\r\n \r\nMy first suggestion was to make the background a component and add the projectile panel to it:\r\n\r\n1. set the layout of the background component\r\n2. add the projectile panel to the background\r\n3. make the projectile panel transparent so you can see the image\r\n\r\nThis is not the best solution\r\n\r\nThe second solution was to paint the background as part of the projectile panel:\r\n\r\n1. paint the background image in the projectile panel\r\n2. paint the projectile\r\n\r\nThis is the preferred solution.","title":"Background disappears when button is pressed","body":"<pre><code>f.add(back);\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>f.getContentPane().add(back, BorderLayout.CENTER);\n</code></pre>\n<p>Later in your code you do:</p>\n<pre><code>f.getContentPane().add(projectileShooterPanel, BorderLayout.CENTER);\n</code></pre>\n<p>Which will cause problems because you can't add two components to the CENTER.</p>\n<p>A Swing GUI is parent/child design so you need something like:</p>\n<pre><code>f.getContentPane().add(back, BorderLayout.CENTER);\nback.setLayout(new BorderLayout());\nback.add(projectileShooterPanel, BorderLayout.CENTER);\n</code></pre>\n<p>I'll let you figure out the logic order and placement of the above statements.</p>\n<p>Also why do you have:</p>\n<pre><code>f.setLayout(new BorderLayout());\n</code></pre>\n<p>at the end of the constructor? This replaces all the constraint information of your original layout.</p>\n<p>Finally, your projectile shooter panel needs to be transparent, otherwise it will paint over top of the background. So you also need:</p>\n<pre><code>projectileShooterPanel.setOpaque( false );\n</code></pre>\n<p>Note: instead of using the JLabel as the background it would be easier to paint the background in your projectile shooter panel. Then you won't have issues with trying to add multiple panels to one another and the shooter panel won't need to be transparent.</p>\n<p>Edit:</p>\n<p>You need a parent/child relationship between your components like:</p>\n<pre><code>- frame\n    - content pane\n        - background image \n            - projectile panel\n                - projectile\n</code></pre>\n<p>My first suggestion was to make the background a component and add the projectile panel to it:</p>\n<ol>\n<li>set the layout of the background component</li>\n<li>add the projectile panel to the background</li>\n<li>make the projectile panel transparent so you can see the image</li>\n</ol>\n<p>This is not the best solution</p>\n<p>The second solution was to paint the background as part of the projectile panel:</p>\n<ol>\n<li>paint the background image in the projectile panel</li>\n<li>paint the projectile</li>\n</ol>\n<p>This is the preferred solution.</p>\n"}],"owner":{"display_name":"user20823464"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1671799778,"answer_count":1,"score":0,"last_activity_date":1671758097,"creation_date":1671727460,"question_id":74891458,"body_markdown":"I have set up a game in Java using Swing UI.\r\n\r\n### Expected\r\nWhen firing a projectile across the screen and I want the background to be constantly there \r\n\r\n### Issue\r\nWhen I run the code the background appears to be fine.\r\nBut when the button to fire the projectile is pressed then the background disappears. \r\n\r\n### Code\r\n```\r\npublic class ProjectileShooterTest {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static void createAndShowGUI() {\r\n        JFrame f = new JFrame() {\r\n        };\r\n\r\n        ImageIcon background=new ImageIcon(&quot;Background.png&quot;);\r\n        Image img=background.getImage();\r\n        Image temp=img.getScaledInstance(800,440,Image.SCALE_SMOOTH);\r\n        background=new ImageIcon(temp);\r\n\r\n        JLabel back=new JLabel(background);\r\n        back.setBounds(0,0,800,500);\r\n\r\n        f.getContentPane().setLayout(new BorderLayout());\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setSize(800,500);\r\n\r\n        final ProjectileShooter projectileShooter = new ProjectileShooter();\r\n        ProjectileShooterPanel projectileShooterPanel = new ProjectileShooterPanel(projectileShooter);\r\n        projectileShooter.setPaintingComponent(projectileShooterPanel);\r\n\r\n        JPanel controlPanel = new JPanel(new GridLayout(1,0));\r\n        controlPanel.add(new JLabel(&quot;     Post-Launch Angle&quot;));\r\n\r\n        final JSlider angleSlider = new JSlider(70, 89, 85);\r\n        angleSlider.setLayout( new FlowLayout() );\r\n\r\n        controlPanel.add(angleSlider);\r\n        f.add(back);\r\n\r\n        controlPanel.add(new JLabel(&quot;                         Thrust&quot;));\r\n        final JSlider powerSlider = new JSlider(50, 80, 60);\r\n        powerSlider.setLayout( new FlowLayout() );\r\n        controlPanel.add(powerSlider);\r\n\r\n\r\n        JButton shootButton = new JButton(&quot;Launch&quot;);\r\n        shootButton.setLayout( new FlowLayout() );\r\n        shootButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                int angleDeg = angleSlider.getValue();\r\n                int power = powerSlider.getValue();\r\n                projectileShooter.setAngle(Math.toRadians(angleDeg));\r\n                projectileShooter.setPower(power);\r\n                projectileShooter.shoot();\r\n            }\r\n        });\r\n        f.add(back);\r\n        controlPanel.add(shootButton);\r\n\r\n        f.getContentPane().add(controlPanel, BorderLayout.NORTH);\r\n        f.getContentPane().add(projectileShooterPanel, BorderLayout.CENTER);\r\n        f.setVisible(true);\r\n        f.setLayout(new BorderLayout());\r\n    }\r\n}\r\n\r\nclass ProjectileShooter\r\n{\r\n    private double angleRad = Math.toRadians(45);\r\n    private double power = 50;\r\n    private Projectile projectile;\r\n    private JComponent paintingComponent;\r\n\r\n    void setPaintingComponent(JComponent paintingComponent)\r\n    {\r\n        this.paintingComponent = paintingComponent;\r\n    }\r\n\r\n    void setAngle(double angleRad)\r\n    {\r\n        this.angleRad = angleRad;\r\n    }\r\n\r\n    void setPower(double power)\r\n    {\r\n        this.power = power;\r\n    }\r\n\r\n    void shoot()\r\n    {\r\n        Thread t = new Thread(new Runnable()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                executeShot();\r\n            }\r\n        });\r\n        t.setDaemon(true);\r\n        t.start();\r\n    }\r\n\r\n    private void executeShot()\r\n    {\r\n        if (projectile != null)\r\n        {\r\n            return;\r\n        }\r\n        projectile = new Projectile();\r\n\r\n        Point2D velocity =\r\n                AffineTransform.getRotateInstance(angleRad).\r\n                        transform(new Point2D.Double(1,0), null);\r\n        velocity.setLocation(\r\n                velocity.getX() * power * 0.5,\r\n                velocity.getY() * power * 0.5);\r\n        projectile.setVelocity(velocity);\r\n        //System.out.println(&quot;Initial &quot;+velocity);\r\n\r\n\r\n        long prevTime = System.nanoTime();\r\n        while (projectile.getPosition().getY() &gt;= 0)\r\n        {\r\n            long currentTime = System.nanoTime();\r\n            double dt = 3 * (currentTime - prevTime) / 1e8;\r\n            projectile.performTimeStep(dt);\r\n\r\n            prevTime = currentTime;\r\n            paintingComponent.repaint();\r\n            try\r\n            {\r\n                Thread.sleep(10);\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                Thread.currentThread().interrupt();\r\n                return;\r\n            }\r\n        }\r\n\r\n        projectile = null;\r\n        paintingComponent.repaint();\r\n    }\r\n\r\n    Projectile getProjectile()\r\n    {\r\n        return projectile;\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Question\r\nHow can I solve this?","title":"Background disappears when button is pressed","body":"<p>I have set up a game in Java using Swing UI.</p>\n<h3>Expected</h3>\n<p>When firing a projectile across the screen and I want the background to be constantly there</p>\n<h3>Issue</h3>\n<p>When I run the code the background appears to be fine.\nBut when the button to fire the projectile is pressed then the background disappears.</p>\n<h3>Code</h3>\n<pre><code>public class ProjectileShooterTest {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n        JFrame f = new JFrame() {\n        };\n\n        ImageIcon background=new ImageIcon(&quot;Background.png&quot;);\n        Image img=background.getImage();\n        Image temp=img.getScaledInstance(800,440,Image.SCALE_SMOOTH);\n        background=new ImageIcon(temp);\n\n        JLabel back=new JLabel(background);\n        back.setBounds(0,0,800,500);\n\n        f.getContentPane().setLayout(new BorderLayout());\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(800,500);\n\n        final ProjectileShooter projectileShooter = new ProjectileShooter();\n        ProjectileShooterPanel projectileShooterPanel = new ProjectileShooterPanel(projectileShooter);\n        projectileShooter.setPaintingComponent(projectileShooterPanel);\n\n        JPanel controlPanel = new JPanel(new GridLayout(1,0));\n        controlPanel.add(new JLabel(&quot;     Post-Launch Angle&quot;));\n\n        final JSlider angleSlider = new JSlider(70, 89, 85);\n        angleSlider.setLayout( new FlowLayout() );\n\n        controlPanel.add(angleSlider);\n        f.add(back);\n\n        controlPanel.add(new JLabel(&quot;                         Thrust&quot;));\n        final JSlider powerSlider = new JSlider(50, 80, 60);\n        powerSlider.setLayout( new FlowLayout() );\n        controlPanel.add(powerSlider);\n\n\n        JButton shootButton = new JButton(&quot;Launch&quot;);\n        shootButton.setLayout( new FlowLayout() );\n        shootButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                int angleDeg = angleSlider.getValue();\n                int power = powerSlider.getValue();\n                projectileShooter.setAngle(Math.toRadians(angleDeg));\n                projectileShooter.setPower(power);\n                projectileShooter.shoot();\n            }\n        });\n        f.add(back);\n        controlPanel.add(shootButton);\n\n        f.getContentPane().add(controlPanel, BorderLayout.NORTH);\n        f.getContentPane().add(projectileShooterPanel, BorderLayout.CENTER);\n        f.setVisible(true);\n        f.setLayout(new BorderLayout());\n    }\n}\n\nclass ProjectileShooter\n{\n    private double angleRad = Math.toRadians(45);\n    private double power = 50;\n    private Projectile projectile;\n    private JComponent paintingComponent;\n\n    void setPaintingComponent(JComponent paintingComponent)\n    {\n        this.paintingComponent = paintingComponent;\n    }\n\n    void setAngle(double angleRad)\n    {\n        this.angleRad = angleRad;\n    }\n\n    void setPower(double power)\n    {\n        this.power = power;\n    }\n\n    void shoot()\n    {\n        Thread t = new Thread(new Runnable()\n        {\n            @Override\n            public void run()\n            {\n                executeShot();\n            }\n        });\n        t.setDaemon(true);\n        t.start();\n    }\n\n    private void executeShot()\n    {\n        if (projectile != null)\n        {\n            return;\n        }\n        projectile = new Projectile();\n\n        Point2D velocity =\n                AffineTransform.getRotateInstance(angleRad).\n                        transform(new Point2D.Double(1,0), null);\n        velocity.setLocation(\n                velocity.getX() * power * 0.5,\n                velocity.getY() * power * 0.5);\n        projectile.setVelocity(velocity);\n        //System.out.println(&quot;Initial &quot;+velocity);\n\n\n        long prevTime = System.nanoTime();\n        while (projectile.getPosition().getY() &gt;= 0)\n        {\n            long currentTime = System.nanoTime();\n            double dt = 3 * (currentTime - prevTime) / 1e8;\n            projectile.performTimeStep(dt);\n\n            prevTime = currentTime;\n            paintingComponent.repaint();\n            try\n            {\n                Thread.sleep(10);\n            }\n            catch (InterruptedException e)\n            {\n                Thread.currentThread().interrupt();\n                return;\n            }\n        }\n\n        projectile = null;\n        paintingComponent.repaint();\n    }\n\n    Projectile getProjectile()\n    {\n        return projectile;\n    }\n\n}\n</code></pre>\n<h3>Question</h3>\n<p>How can I solve this?</p>\n"},{"tags":["java","refactoring","assert"],"comments":[{"owner":{"account_id":18120981,"reputation":41,"user_id":13177027,"display_name":"Aarav Dave"},"score":0,"creation_date":1671728347,"post_id":74891521,"comment_id":132165005,"body_markdown":"Short answer: Use the if statement. Long answer: see below.","body":"Short answer: Use the if statement. Long answer: see below."}],"answers":[{"tags":[],"owner":{"account_id":18120981,"reputation":41,"user_id":13177027,"display_name":"Aarav Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671728078,"creation_date":1671728078,"answer_id":74891576,"question_id":74891521,"body_markdown":"You should never be concerned about a yellow IDE warning, but IF it does happen to matter, I would use option 3. Option 1 will have an unnecessary assert, option 2 will throw your plans as a coder away.\r\n\r\nI would like to say it like this: If the IDE doesn&#39;t understand your code, add the if statement. It not only makes your code a lot easier to read, but also makes it as a precaution, where if you ever change your code it will be unaffected.\r\n\r\nHappy coding! :)","title":"Should an assert be used to fix an IDE warning?","body":"<p>You should never be concerned about a yellow IDE warning, but IF it does happen to matter, I would use option 3. Option 1 will have an unnecessary assert, option 2 will throw your plans as a coder away.</p>\n<p>I would like to say it like this: If the IDE doesn't understand your code, add the if statement. It not only makes your code a lot easier to read, but also makes it as a precaution, where if you ever change your code it will be unaffected.</p>\n<p>Happy coding! :)</p>\n"},{"comments":[{"owner":{"account_id":20363989,"reputation":5,"user_id":14937743,"display_name":"Giopav"},"score":0,"creation_date":1671735350,"post_id":74891796,"comment_id":132167082,"body_markdown":"Thank you so much for the accurate answer! I also changed the slang expression in favour of &quot;remove&quot;. Some time ago I made a post about assert statements and found out that an assert can also be used to aid developers who are reading a private method to understand it better, as the official Oracle documentation says, am I wrong? I really want to get java asserts right as I&#39;m getting extremely different answers from different sources. Again, thanks!","body":"Thank you so much for the accurate answer! I also changed the slang expression in favour of &quot;remove&quot;. Some time ago I made a post about assert statements and found out that an assert can also be used to aid developers who are reading a private method to understand it better, as the official Oracle documentation says, am I wrong? I really want to get java asserts right as I&#39;m getting extremely different answers from different sources. Again, thanks!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671758299,"post_id":74891796,"comment_id":132171608,"body_markdown":"Opinions differ on `assert` in Java, but (AFAIK) most Java programmers avoid them in production code; see https://softwareengineering.stackexchange.com/questions/137158.  (And some sources are unreliable or uninformed.  I am thinking of some of the Java tutorials that show up in search results.)","body":"Opinions differ on <code>assert</code> in Java, but (AFAIK) most Java programmers avoid them in production code; see <a href=\"https://softwareengineering.stackexchange.com/questions/137158\">softwareengineering.stackexchange.com/questions/137158</a>.  (And some sources are unreliable or uninformed.  I am thinking of some of the Java tutorials that show up in search results.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671757941,"creation_date":1671729326,"answer_id":74891796,"question_id":74891521,"body_markdown":"&gt; Should an assert be used to fix an IDE warning?\r\n\r\nNo it shouldn&#39;t.  The reason is that the `assert` is not guaranteed to prevent the NPE ... should the value be `null` at runtime.  Why?  Because the execution of `assert` statements is conditional on the JVM being run with an appropriate `-ea` option.  The default is that assertion checking is off.\r\n\r\nAnd besides, I suspect that an `assert` wouldn&#39;t suppress the warning anyway, at least for *some* IDEs and bug checkers.\r\n\r\n------------------\r\n\r\nAs @Aarav [writes][1] adding a possibly redundant `if` test for `null` is the best solution.  Using a temporary variable is a good idea too, especially if it avoids a *costly* extra method call.  \r\n\r\nThere is no need to worry that the redundant test will have a runtime overhead.  The JIT compiler is good at optimizing out redundant `null` checks.  For example:\r\n\r\n    if (obj != null) {\r\n        obj.someMethod();\r\n    }\r\n\r\nIn addition to the explicit `null` test, there is a 2nd implicit test for null when you call `someMethod` on `obj`.  But the JIT compiler will remove the 2nd test because it &quot;knows&quot; that it has already checked that `obj` is not `null`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74891576/139985","title":"Should an assert be used to fix an IDE warning?","body":"<blockquote>\n<p>Should an assert be used to fix an IDE warning?</p>\n</blockquote>\n<p>No it shouldn't.  The reason is that the <code>assert</code> is not guaranteed to prevent the NPE ... should the value be <code>null</code> at runtime.  Why?  Because the execution of <code>assert</code> statements is conditional on the JVM being run with an appropriate <code>-ea</code> option.  The default is that assertion checking is off.</p>\n<p>And besides, I suspect that an <code>assert</code> wouldn't suppress the warning anyway, at least for <em>some</em> IDEs and bug checkers.</p>\n<hr />\n<p>As @Aarav <a href=\"https://stackoverflow.com/a/74891576/139985\">writes</a> adding a possibly redundant <code>if</code> test for <code>null</code> is the best solution.  Using a temporary variable is a good idea too, especially if it avoids a <em>costly</em> extra method call.</p>\n<p>There is no need to worry that the redundant test will have a runtime overhead.  The JIT compiler is good at optimizing out redundant <code>null</code> checks.  For example:</p>\n<pre><code>if (obj != null) {\n    obj.someMethod();\n}\n</code></pre>\n<p>In addition to the explicit <code>null</code> test, there is a 2nd implicit test for null when you call <code>someMethod</code> on <code>obj</code>.  But the JIT compiler will remove the 2nd test because it &quot;knows&quot; that it has already checked that <code>obj</code> is not <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":5233910,"reputation":21546,"user_id":4183191,"accept_rate":100,"display_name":"Tasos Papastylianou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671740321,"creation_date":1671740321,"answer_id":74893471,"question_id":74891521,"body_markdown":"I agree with the other answers here, but just wanted to point out that, to me, the logic of that block is completely backwards. So instead, what I&#39;d do would be to rewrite the whole block so that it flows more naturally. \r\n\r\n    private static boolean sendLore( Player player, ItemStack mainHandItem )\r\n    {   if  ( mainHandItem.getItemMeta().hasLore() )\r\n        {   player.sendMessage( ChatColor.GREEN + &quot;The lore is: &quot; );\r\n            for ( Component loreItem : mainHandItem.getItemMeta().lore() )\r\n            {   var Message = Component\r\n                              .text( ChatColor.GRAY + String.valueOf( i + 1 ) + &quot;) &quot; + ChatColor.RESET )\r\n                              .append( lineMessage( loreItem ) );\r\n                player.sendMessage( Message );\r\n            }\r\n            return true;\r\n        }\r\n        else\r\n        {   player.sendMessage( ChatColor.RED + &quot;This item doesn&#39;t have a lore.&quot; );\r\n            return false;\r\n        }\r\n    }\r\n\r\nPresumably this would also make the warning go away.","title":"Should an assert be used to fix an IDE warning?","body":"<p>I agree with the other answers here, but just wanted to point out that, to me, the logic of that block is completely backwards. So instead, what I'd do would be to rewrite the whole block so that it flows more naturally.</p>\n<pre><code>private static boolean sendLore( Player player, ItemStack mainHandItem )\n{   if  ( mainHandItem.getItemMeta().hasLore() )\n    {   player.sendMessage( ChatColor.GREEN + &quot;The lore is: &quot; );\n        for ( Component loreItem : mainHandItem.getItemMeta().lore() )\n        {   var Message = Component\n                          .text( ChatColor.GRAY + String.valueOf( i + 1 ) + &quot;) &quot; + ChatColor.RESET )\n                          .append( lineMessage( loreItem ) );\n            player.sendMessage( Message );\n        }\n        return true;\n    }\n    else\n    {   player.sendMessage( ChatColor.RED + &quot;This item doesn't have a lore.&quot; );\n        return false;\n    }\n}\n</code></pre>\n<p>Presumably this would also make the warning go away.</p>\n"}],"owner":{"account_id":20363989,"reputation":5,"user_id":14937743,"display_name":"Giopav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74891796,"answer_count":3,"score":0,"last_activity_date":1671757941,"creation_date":1671727805,"question_id":74891521,"body_markdown":"To be more concise, which one of these methods should I use?\r\n\r\nFor context, the warning (marked in yellow in the image below) says that the lore variable might be null, although I handle it (marked in blue). \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Uy4H6.png&quot;&gt;\r\n\r\nThese are the solutions I came up with:\r\n1. The &quot;assert so that he shuts up&quot;: &lt;img src=&quot;https://i.stack.imgur.com/603gS.png&quot;&gt;\r\n\r\n2. The &quot;remove that method and use another&quot;: &lt;img src=&quot;https://i.stack.imgur.com/BDLMH.png&quot;&gt;\r\n\r\n3. The &quot;unnecessary if&quot;: &lt;img src=&quot;https://i.stack.imgur.com/I8MKK.png&quot;&gt;\r\n\r\nI used the second option, just assert it, but I know that I shouldn&#39;t use assertion for such unimportant stuff.","title":"Should an assert be used to fix an IDE warning?","body":"<p>To be more concise, which one of these methods should I use?</p>\n<p>For context, the warning (marked in yellow in the image below) says that the lore variable might be null, although I handle it (marked in blue).</p>\n<img src=\"https://i.stack.imgur.com/Uy4H6.png\">\n<p>These are the solutions I came up with:</p>\n<ol>\n<li><p>The &quot;assert so that he shuts up&quot;: <img src=\"https://i.stack.imgur.com/603gS.png\"></p>\n</li>\n<li><p>The &quot;remove that method and use another&quot;: <img src=\"https://i.stack.imgur.com/BDLMH.png\"></p>\n</li>\n<li><p>The &quot;unnecessary if&quot;: <img src=\"https://i.stack.imgur.com/I8MKK.png\"></p>\n</li>\n</ol>\n<p>I used the second option, just assert it, but I know that I shouldn't use assertion for such unimportant stuff.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671098402,"post_id":74809692,"comment_id":132026245,"body_markdown":"https://swagger.io/docs/specification/describing-parameters/ does this help?","body":"<a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noreferrer\">swagger.io/docs/specification/describing-parameters</a> does this help?"},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671098613,"post_id":74809692,"comment_id":132026330,"body_markdown":"&#39;parameters&#39; is an array and you can specify more than one `@Parameter` (enclosed within a pair of curly braces)","body":"&#39;parameters&#39; is an array and you can specify more than one <code>@Parameter</code> (enclosed within a pair of curly braces)"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671098344,"creation_date":1671098344,"answer_id":74809738,"question_id":74809692,"body_markdown":"Here is example\r\n```\r\n@Operation(\r\n        parameters = {\r\n        @Parameter(name = &quot;test1&quot;,\r\n                description = &quot;test1&quot;\r\n        ),\r\n        @Parameter(name = &quot;test2&quot;,\r\n                description = &quot;test2&quot;\r\n        )}\r\n)\r\n```","title":"How to define multiple parameters in Swagger?","body":"<p>Here is example</p>\n<pre><code>@Operation(\n        parameters = {\n        @Parameter(name = &quot;test1&quot;,\n                description = &quot;test1&quot;\n        ),\n        @Parameter(name = &quot;test2&quot;,\n                description = &quot;test2&quot;\n        )}\n)\n</code></pre>\n"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671098407,"accepted_answer_id":74809738,"answer_count":1,"score":0,"last_activity_date":1671757025,"creation_date":1671098129,"question_id":74809692,"body_markdown":"I have an api with the following path \r\n```\r\n@PutMapping(&quot;/test/{test1}/{test2}&quot;)\r\n```\r\nI am not sure how to define multiple parameters in @Operation, I only know how to describe one and from what I searched on google I didn&#39;t find anything that could help me yet.\r\n\r\n\r\n```\r\n@Operation(\r\n        parameters = @Parameter(name = &quot;test1&quot;,\r\n                description = &quot;test1&quot;\r\n        )\r\n)\r\n```\r\n\r\n\r\n\r\nWhat I want to do is to try to add a name and a description for test2 as well.","title":"How to define multiple parameters in Swagger?","body":"<p>I have an api with the following path</p>\n<pre><code>@PutMapping(&quot;/test/{test1}/{test2}&quot;)\n</code></pre>\n<p>I am not sure how to define multiple parameters in @Operation, I only know how to describe one and from what I searched on google I didn't find anything that could help me yet.</p>\n<pre><code>@Operation(\n        parameters = @Parameter(name = &quot;test1&quot;,\n                description = &quot;test1&quot;\n        )\n)\n</code></pre>\n<p>What I want to do is to try to add a name and a description for test2 as well.</p>\n"},{"tags":["java","android","annotation-processing","annotation-processor"],"comments":[{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1487385058,"post_id":42296008,"comment_id":71775601,"body_markdown":"It is hard to diagnose your issues, since you don&#39;t have a self-contained sample of problem, haven&#39;t posted any relevant code, and the error descriptions are pretty much useless. But note, that linked article is *abhorrent* as a guideline for writing annotation processors. You should understand the mechanics of multi-round compilation and the purpose of  `ErrorType` before trying to do the things you are trying to do (using not-yet-existing types in code &amp; running multiple  inter-dependant annotation processors).","body":"It is hard to diagnose your issues, since you don&#39;t have a self-contained sample of problem, haven&#39;t posted any relevant code, and the error descriptions are pretty much useless. But note, that linked article is <i>abhorrent</i> as a guideline for writing annotation processors. You should understand the mechanics of multi-round compilation and the purpose of  <code>ErrorType</code> before trying to do the things you are trying to do (using not-yet-existing types in code &amp; running multiple  inter-dependant annotation processors)."},{"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"score":0,"creation_date":1487407191,"post_id":42296008,"comment_id":71780050,"body_markdown":"Thank you for yor answer. I will try to update my question with minimum sample which provides the same error. What would you recommend as good guideline for writing annotation processors?","body":"Thank you for yor answer. I will try to update my question with minimum sample which provides the same error. What would you recommend as good guideline for writing annotation processors?"}],"answers":[{"comments":[{"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"score":1,"creation_date":1672082171,"post_id":74895173,"comment_id":132218615,"body_markdown":"Thanks for your answer. Its good to know about that, I will consider that writing any new annotation processors in future. It has been almost 6 years and this code is no longer needed since android&#39;s ViewModels were introduced so I will just approve it as the correct answer.","body":"Thanks for your answer. Its good to know about that, I will consider that writing any new annotation processors in future. It has been almost 6 years and this code is no longer needed since android&#39;s ViewModels were introduced so I will just approve it as the correct answer."}],"tags":[],"owner":{"account_id":6406447,"reputation":3114,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671756413,"creation_date":1671756413,"answer_id":74895173,"question_id":42296008,"body_markdown":"From the [Javadoc of the `Processor` interface](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Processor.html).\r\n\r\n&gt; Annotation processing happens in a sequence of rounds. On each round, a processor may be asked to process a subset of the annotations found on the source and class files produced by a prior round. The inputs to the first round of processing are the initial inputs to a run of the tool; these initial inputs can be regarded as the output of a virtual zeroth round of processing.\r\n\r\n`Processor.process` is called once for each round. The type `ViewModel_*` will not be available in the first round. During this round, the type of the field will be [`ErrorType`](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/lang/model/type/ErrorType.html) (i.e. [`TypeKind.ERROR`](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/lang/model/type/TypeKind.html#ERROR)). An annotation prcessor might handle such type by deferring further processing into the next round, as long as [`RoundEnvironment.processingOver()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/RoundEnvironment.html#processingOver()) is `false`.\r\n\r\nAnyway, this doesn&#39;t quite explain the error message you are seeing on its own. To make any further claims about the cause of your issue, I would have to see a proper example.","title":"Annotation processing order - cannot find symbol","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\">Javadoc of the <code>Processor</code> interface</a>.</p>\n<blockquote>\n<p>Annotation processing happens in a sequence of rounds. On each round, a processor may be asked to process a subset of the annotations found on the source and class files produced by a prior round. The inputs to the first round of processing are the initial inputs to a run of the tool; these initial inputs can be regarded as the output of a virtual zeroth round of processing.</p>\n</blockquote>\n<p><code>Processor.process</code> is called once for each round. The type <code>ViewModel_*</code> will not be available in the first round. During this round, the type of the field will be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/lang/model/type/ErrorType.html\" rel=\"nofollow noreferrer\"><code>ErrorType</code></a> (i.e. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/lang/model/type/TypeKind.html#ERROR\" rel=\"nofollow noreferrer\"><code>TypeKind.ERROR</code></a>). An annotation prcessor might handle such type by deferring further processing into the next round, as long as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.compiler/javax/annotation/processing/RoundEnvironment.html#processingOver()\" rel=\"nofollow noreferrer\"><code>RoundEnvironment.processingOver()</code></a> is <code>false</code>.</p>\n<p>Anyway, this doesn't quite explain the error message you are seeing on its own. To make any further claims about the cause of your issue, I would have to see a proper example.</p>\n"}],"owner":{"account_id":2684116,"reputation":2913,"user_id":2318843,"display_name":"RadekJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74895173,"answer_count":1,"score":3,"last_activity_date":1671756413,"creation_date":1487328636,"question_id":42296008,"body_markdown":"**What I have:**\r\n\r\n 1. I have written an annotation processor `@ViewModel` which generates classes `ViewModel_&lt;annotated class name&gt;`.\r\n 2. I have written another annotation processor `@Retainable` which generates builders for fields annotated with `@Retainable`. \r\n\r\nMy implementation is based on this article:\r\n\r\nhttp://blog.stablekernel.com/the-10-step-guide-to-annotation-processing-in-android-studio\r\n\r\nbut I have two annotation processors.\r\n\r\n**My problem:**\r\n\r\nIf I annotate field of type `ViewModel_&lt;annotated class name&gt;` with my `@Retainable` annotation.\r\n\r\n    ...\r\n    @Retainable\r\n    ViewModel_&lt;annotated class name&gt; viewModelGenerated;\r\n    ...\r\n\r\nthe compiler complains:\r\n\r\n&gt; Error:(33, 15) error: cannot find symbol class ViewModel_&amp;lt;annotated class name&amp;gt;\r\n\r\nbut,\r\n\r\nIf I annotate this field with daggers `@Inject` instead of my `@Retainable` everything is compiling.\r\n\r\n**Question:**\r\n\r\nWhat is the difference between my annotation and daggers?\r\nWhat can I do to make it work?\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Annotation processing order - cannot find symbol","body":"<p><strong>What I have:</strong></p>\n\n<ol>\n<li>I have written an annotation processor <code>@ViewModel</code> which generates classes <code>ViewModel_&lt;annotated class name&gt;</code>.</li>\n<li>I have written another annotation processor <code>@Retainable</code> which generates builders for fields annotated with <code>@Retainable</code>. </li>\n</ol>\n\n<p>My implementation is based on this article:</p>\n\n<p><a href=\"http://blog.stablekernel.com/the-10-step-guide-to-annotation-processing-in-android-studio\" rel=\"nofollow noreferrer\">http://blog.stablekernel.com/the-10-step-guide-to-annotation-processing-in-android-studio</a></p>\n\n<p>but I have two annotation processors.</p>\n\n<p><strong>My problem:</strong></p>\n\n<p>If I annotate field of type <code>ViewModel_&lt;annotated class name&gt;</code> with my <code>@Retainable</code> annotation.</p>\n\n<pre><code>...\n@Retainable\nViewModel_&lt;annotated class name&gt; viewModelGenerated;\n...\n</code></pre>\n\n<p>the compiler complains:</p>\n\n<blockquote>\n  <p>Error:(33, 15) error: cannot find symbol class ViewModel_&lt;annotated class name&gt;</p>\n</blockquote>\n\n<p>but,</p>\n\n<p>If I annotate this field with daggers <code>@Inject</code> instead of my <code>@Retainable</code> everything is compiling.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>What is the difference between my annotation and daggers?\nWhat can I do to make it work?</p>\n"},{"tags":["java","security","keystore","public-key"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1416685022,"post_id":27081174,"comment_id":42672647,"body_markdown":"Okay, the question is, do you want a `Certificate` like an X509Certificate, or do you want to use this as a client authentication mechanism using a PKCS12 file? If you have a PKCS12 file, then you need the corresponding private key to create a PKCS12 file out of the private key and the X509Certificate. I&#39;m not sure what you mean by &quot;individual trusted keys&quot;, the whole point of a chain of trust is that the CA signs the X509Certificate, and if the CA is trusted, then so are all the certificates. For this, there is a CA which provides the X509Certificate by signing the PKCS10 CSR.","body":"Okay, the question is, do you want a <code>Certificate</code> like an X509Certificate, or do you want to use this as a client authentication mechanism using a PKCS12 file? If you have a PKCS12 file, then you need the corresponding private key to create a PKCS12 file out of the private key and the X509Certificate. I&#39;m not sure what you mean by &quot;individual trusted keys&quot;, the whole point of a chain of trust is that the CA signs the X509Certificate, and if the CA is trusted, then so are all the certificates. For this, there is a CA which provides the X509Certificate by signing the PKCS10 CSR."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1416685113,"post_id":27081174,"comment_id":42672683,"body_markdown":"I personally had to mess around with this a week ago or two, but I don&#39;t have enough data about your architecture to properly answer the question.","body":"I personally had to mess around with this a week ago or two, but I don&#39;t have enough data about your architecture to properly answer the question."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1416685155,"post_id":27081174,"comment_id":42672697,"body_markdown":"Technically, a public key isn&#39;t really worth anything for the sake of SSL client-certificate authentication, because it needs a private key too. But if that&#39;s not what you need it for, then we might get somewhere.","body":"Technically, a public key isn&#39;t really worth anything for the sake of SSL client-certificate authentication, because it needs a private key too. But if that&#39;s not what you need it for, then we might get somewhere."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1416685214,"post_id":27081174,"comment_id":42672721,"body_markdown":"This might be of interest to you: http://stackoverflow.com/a/26782357/2413303","body":"This might be of interest to you: <a href=\"http://stackoverflow.com/a/26782357/2413303\">stackoverflow.com/a/26782357/2413303</a>"},{"owner":{"account_id":203117,"reputation":423,"user_id":450583,"accept_rate":60,"display_name":"flightlessbird"},"score":0,"creation_date":1416688667,"post_id":27081174,"comment_id":42673814,"body_markdown":"I am using the keys to verify signed JWTs (verifying cryptographic signatures to establish trust in claims). As such I only need a set of public keys.","body":"I am using the keys to verify signed JWTs (verifying cryptographic signatures to establish trust in claims). As such I only need a set of public keys."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671754754,"creation_date":1416684410,"answer_id":27081528,"question_id":27081174,"body_markdown":"Short answer: you cannot create certificate without private key.\r\n\r\nLong answer: [google &quot;java create self signed certificate programmatically&quot;](https://www.google.com/search?q=java+create+self+signed+certificate+programmatically), e.g.: https://www.mayrhofer.eu.org/post/create-x509-certs-in-java/","title":"How should I convert a PublicKey to a Certificate in Java","body":"<p>Short answer: you cannot create certificate without private key.</p>\n<p>Long answer: <a href=\"https://www.google.com/search?q=java+create+self+signed+certificate+programmatically\" rel=\"nofollow noreferrer\">google &quot;java create self signed certificate programmatically&quot;</a>, e.g.: <a href=\"https://www.mayrhofer.eu.org/post/create-x509-certs-in-java/\" rel=\"nofollow noreferrer\">https://www.mayrhofer.eu.org/post/create-x509-certs-in-java/</a></p>\n"}],"owner":{"account_id":203117,"reputation":423,"user_id":450583,"accept_rate":60,"display_name":"flightlessbird"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671754754,"creation_date":1416682452,"question_id":27081174,"body_markdown":"I have a circumstance where I need to store one or more public keys for use in authentication. I would like to store them in a KeyStore as TrustedCertificates - is there a way to do this, ideally using standard java.security classes?\r\n\r\nI have seen that I can generate certificates with Bouncycastle, but most examples seem to show examples of chains of trust, whereas in my case I have individual trusted keys. Also, all the examples I have seen deal with key-pairs, but I am only interested in the set of public keys provided. Is it possible to create a certificate containing only a public key? ","title":"How should I convert a PublicKey to a Certificate in Java","body":"<p>I have a circumstance where I need to store one or more public keys for use in authentication. I would like to store them in a KeyStore as TrustedCertificates - is there a way to do this, ideally using standard java.security classes?</p>\n\n<p>I have seen that I can generate certificates with Bouncycastle, but most examples seem to show examples of chains of trust, whereas in my case I have individual trusted keys. Also, all the examples I have seen deal with key-pairs, but I am only interested in the set of public keys provided. Is it possible to create a certificate containing only a public key? </p>\n"},{"tags":["java","playframework","request","connection","httpclient"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1671753986,"post_id":74894974,"comment_id":132171020,"body_markdown":"Are you using a java 11 or higher compiler?","body":"Are you using a java 11 or higher compiler?"},{"owner":{"account_id":26772909,"reputation":1,"user_id":20368985,"display_name":"incsilva"},"score":0,"creation_date":1671754804,"post_id":74894974,"comment_id":132171158,"body_markdown":"I&#180;m using a java 18","body":"I&#180;m using a java 18"}],"owner":{"account_id":26772909,"reputation":1,"user_id":20368985,"display_name":"incsilva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671754043,"creation_date":1671753778,"question_id":74894974,"body_markdown":"```\r\npackage controllers;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpClient.Redirect;\r\nimport java.net.http.HttpRequest.BodyPublishers;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.time.Duration;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport models.Aparelho;\r\nimport models.Status;\r\nimport play.data.validation.Valid;\r\nimport play.mvc.Controller;\r\nimport play.mvc.With;\r\nimport security.Seguranca;\r\n\r\npublic class Aparelhos extends Controller {\r\n\r\n\tpublic static void form(Aparelho aparelho) {\r\n\t\trender(aparelho);\r\n\t}\r\n\r\n\tpublic static void menu() {\r\n\t\trender();\r\n\t}\r\n\r\n\tpublic static void salvar(@Valid Aparelho aparelho) {\r\n\t\tlong qtd = Aparelho.count(&quot;nome = ?1 and id &lt;&gt; ?2&quot;, aparelho.nome, aparelho.id);\r\n\t\tif (validation.hasErrors()) {\r\n\t\t\tvalidation.keep();\r\n\t\t\tform(aparelho);\r\n\t\t}\r\n\r\n\t\tif (qtd == 0) {\r\n\t\t\taparelho.status = Status.desligado;\r\n\t\t\taparelho.save();\r\n\t\t\tflash.success(&quot;Cadastro realizado com sucesso.&quot;);\r\n\t\t} else {\r\n\t\t\tflash.error(&quot;O aparelho informado j&#225; possui cadastro.&quot;);\r\n\t\t}\r\n\t\tlistar();\r\n\t}\r\n\r\n\tpublic static void listar() {\r\n\t\tString termo = params.get(&quot;termo&quot;);\r\n\r\n\t\tList&lt;Aparelho&gt; aparelhos = Collections.EMPTY_LIST;\r\n\t\tif (termo == null || termo.isEmpty()) {\r\n\t\t\taparelhos = Aparelho.findAll();\r\n\t\t} else {\r\n\t\t\taparelhos = Aparelho.find(\r\n\t\t\t\t\t&quot;(lower(nome) like ?1 OR lower(enderecoIp) like ?2 &quot;\r\n\t\t\t\t\t\t\t+ &quot; OR lower(enderecoMac) like ?3 OR lower(local) like ?4)&quot;,\r\n\t\t\t\t\t&quot;%&quot; + termo.toLowerCase() + &quot;%&quot;, &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;, &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;,\r\n\t\t\t\t\t&quot;%&quot; + termo.toLowerCase() + &quot;%&quot;).fetch();\r\n\t\t}\r\n\t\trender(aparelhos, termo);\r\n\t}\r\n\r\n\tpublic static void funcionar(Long id) throws IOException, InterruptedException {\r\n\t\tAparelho ap = Aparelho.findById(id);\r\n\t\tString ip = ap.enderecoIp;\r\n\t\tString cod;\r\n\r\n\t\tif (ap.status == Status.ligado) {\r\n\t\t\tcod = ap.codIrDesligar;\r\n\t\t\tconexaoHttp(ip, cod);\r\n\t\t\tap.status = Status.desligado;\r\n\t\t} else {\r\n\t\t\tcod = ap.codIrLigar;\r\n\t\t\tconexaoHttp(ip, cod);\r\n\t\t\tap.status = Status.ligado;\r\n\t\t}\r\n\r\n\t\tligados();\r\n\t}\r\n\r\n\tpublic static void conexaoHttp(String ip, String cod) throws IOException, InterruptedException {\r\n\r\n\t\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.POST(BodyPublishers.ofString(&quot;{\\&quot;ip address\\&quot;: \\&quot;&quot; + ip + &quot;\\&quot;, \\&quot;codigo\\&quot;: \\&quot; &quot; + cod + &quot;\\&quot;}&quot;))\r\n\t\t\t\t.uri(URI.create(&quot;&quot;)).headers(&quot;Accept&quot;, &quot;application/json&quot;)\r\n\r\n\t\t\t\t.timeout(Duration.ofSeconds(5)).build();\r\n\r\n\t\tHttpClient httpClient = HttpClient.newBuilder().connectTimeout(Duration.ofSeconds(3))\r\n\t\t\t\t.followRedirects(Redirect.NORMAL).build();\r\n\r\n\t\thttpClient.sendAsync(request, BodyHandlers.ofString()).thenApply(HttpResponse::body);\r\n\t}\r\n```\r\n\r\n\r\nThe message that appears is: \r\nThe file /app/controllers/Aparelhos.java could not be compiled. Error raised is : java.net.http.HttpClient cannot be resolved\r\n\r\nIt&#39;s my first time trying to make an http connection with java. I&#39;m using play! Framework\r\n\r\nIn this case, what I want to happen is for the &#39;conexaoHttp&#39; method to send to the url that I put only an ip address and a code that are registered in my database.","title":"There&#39;s something in the &#39;conexaoHttp&#39; m&#233;todo that&#39;s not working","body":"<pre><code>package controllers;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpClient.Redirect;\nimport java.net.http.HttpRequest.BodyPublishers;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\nimport java.util.Collections;\nimport java.util.List;\n\nimport models.Aparelho;\nimport models.Status;\nimport play.data.validation.Valid;\nimport play.mvc.Controller;\nimport play.mvc.With;\nimport security.Seguranca;\n\npublic class Aparelhos extends Controller {\n\n    public static void form(Aparelho aparelho) {\n        render(aparelho);\n    }\n\n    public static void menu() {\n        render();\n    }\n\n    public static void salvar(@Valid Aparelho aparelho) {\n        long qtd = Aparelho.count(&quot;nome = ?1 and id &lt;&gt; ?2&quot;, aparelho.nome, aparelho.id);\n        if (validation.hasErrors()) {\n            validation.keep();\n            form(aparelho);\n        }\n\n        if (qtd == 0) {\n            aparelho.status = Status.desligado;\n            aparelho.save();\n            flash.success(&quot;Cadastro realizado com sucesso.&quot;);\n        } else {\n            flash.error(&quot;O aparelho informado já possui cadastro.&quot;);\n        }\n        listar();\n    }\n\n    public static void listar() {\n        String termo = params.get(&quot;termo&quot;);\n\n        List&lt;Aparelho&gt; aparelhos = Collections.EMPTY_LIST;\n        if (termo == null || termo.isEmpty()) {\n            aparelhos = Aparelho.findAll();\n        } else {\n            aparelhos = Aparelho.find(\n                    &quot;(lower(nome) like ?1 OR lower(enderecoIp) like ?2 &quot;\n                            + &quot; OR lower(enderecoMac) like ?3 OR lower(local) like ?4)&quot;,\n                    &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;, &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;, &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;,\n                    &quot;%&quot; + termo.toLowerCase() + &quot;%&quot;).fetch();\n        }\n        render(aparelhos, termo);\n    }\n\n    public static void funcionar(Long id) throws IOException, InterruptedException {\n        Aparelho ap = Aparelho.findById(id);\n        String ip = ap.enderecoIp;\n        String cod;\n\n        if (ap.status == Status.ligado) {\n            cod = ap.codIrDesligar;\n            conexaoHttp(ip, cod);\n            ap.status = Status.desligado;\n        } else {\n            cod = ap.codIrLigar;\n            conexaoHttp(ip, cod);\n            ap.status = Status.ligado;\n        }\n\n        ligados();\n    }\n\n    public static void conexaoHttp(String ip, String cod) throws IOException, InterruptedException {\n\n        HttpRequest request = HttpRequest.newBuilder()\n                .POST(BodyPublishers.ofString(&quot;{\\&quot;ip address\\&quot;: \\&quot;&quot; + ip + &quot;\\&quot;, \\&quot;codigo\\&quot;: \\&quot; &quot; + cod + &quot;\\&quot;}&quot;))\n                .uri(URI.create(&quot;&quot;)).headers(&quot;Accept&quot;, &quot;application/json&quot;)\n\n                .timeout(Duration.ofSeconds(5)).build();\n\n        HttpClient httpClient = HttpClient.newBuilder().connectTimeout(Duration.ofSeconds(3))\n                .followRedirects(Redirect.NORMAL).build();\n\n        httpClient.sendAsync(request, BodyHandlers.ofString()).thenApply(HttpResponse::body);\n    }\n</code></pre>\n<p>The message that appears is:\nThe file /app/controllers/Aparelhos.java could not be compiled. Error raised is : java.net.http.HttpClient cannot be resolved</p>\n<p>It's my first time trying to make an http connection with java. I'm using play! Framework</p>\n<p>In this case, what I want to happen is for the 'conexaoHttp' method to send to the url that I put only an ip address and a code that are registered in my database.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1671748160,"post_id":74894450,"comment_id":132170180,"body_markdown":"Whats the question? Do you want to avoid re-assigning the local variable or remove the notification?","body":"Whats the question? Do you want to avoid re-assigning the local variable or remove the notification?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671749729,"creation_date":1671749729,"answer_id":74894622,"question_id":74894450,"body_markdown":"It is just a notification, probably because sometimes reassigned local variables can cause problems for later operations. In your case it is totally legit to reassign, just be aware that it will create several new objects.\r\n\r\nIf you would like to prevent this, you could work with a `StringBuilder` here that you convert to a String whenever necessary, but this also creates a new `String` object, so if you don&#39;t use this in a loop usually it is not necessary to change anything (and for the string manipulation in a loop you probably will get a warning, a stronger sign for a potential problem in your code than this actual notification).","title":"Notification saying &quot;Reassigned local variable&quot; in Android Studio","body":"<p>It is just a notification, probably because sometimes reassigned local variables can cause problems for later operations. In your case it is totally legit to reassign, just be aware that it will create several new objects.</p>\n<p>If you would like to prevent this, you could work with a <code>StringBuilder</code> here that you convert to a String whenever necessary, but this also creates a new <code>String</code> object, so if you don't use this in a loop usually it is not necessary to change anything (and for the string manipulation in a loop you probably will get a warning, a stronger sign for a potential problem in your code than this actual notification).</p>\n"}],"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74894622,"answer_count":1,"score":0,"last_activity_date":1671753881,"creation_date":1671747893,"question_id":74894450,"body_markdown":"My string is getting underlined, with a notification saying `&quot;Reassigned local variable&quot;`. I have worked out that this happens any time that the string is modified, but I am not sure why this notification is coming up.\r\n\r\nIt doesn&#39;t appear do be causing any errors, and nothing is showing under the &quot;problems&quot; tab, so I&#39;m not sure if it is something I should change or if I should just ignore it.\r\n\r\nBelow is a simplified version of the code.\r\n\r\n\r\n```\r\nCanvas canvas;\r\nPaint p = new Paint();\r\n\r\nString value = &quot;a&quot;; //&#39;value&#39; here becomes underlined\r\n\r\nif(someCondition()) value += &quot;bcdefghijklmnop&quot;; //&#39;value&#39; here becomes underlined\r\n\r\ncanvas.drawText(value, 50, 50, p);\r\n```","title":"Notification saying &quot;Reassigned local variable&quot; in Android Studio","body":"<p>My string is getting underlined, with a notification saying <code>&quot;Reassigned local variable&quot;</code>. I have worked out that this happens any time that the string is modified, but I am not sure why this notification is coming up.</p>\n<p>It doesn't appear do be causing any errors, and nothing is showing under the &quot;problems&quot; tab, so I'm not sure if it is something I should change or if I should just ignore it.</p>\n<p>Below is a simplified version of the code.</p>\n<pre><code>Canvas canvas;\nPaint p = new Paint();\n\nString value = &quot;a&quot;; //'value' here becomes underlined\n\nif(someCondition()) value += &quot;bcdefghijklmnop&quot;; //'value' here becomes underlined\n\ncanvas.drawText(value, 50, 50, p);\n</code></pre>\n"},{"tags":["java","scala","apache-spark","generics","user-defined-functions"],"comments":[{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1671728735,"post_id":74891635,"comment_id":132165111,"body_markdown":"How are you going to _use_ that function? Your declared return type `Any` isn&#39;t useful for anything meaningful.","body":"How are you going to <i>use</i> that function? Your declared return type <code>Any</code> isn&#39;t useful for anything meaningful."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":3,"creation_date":1671734259,"post_id":74891635,"comment_id":132166793,"body_markdown":"`classOf[String]`?","body":"<code>classOf[String]</code>?"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":4,"creation_date":1671738010,"post_id":74891635,"comment_id":132167717,"body_markdown":"What is the actual meta-problem you are trying to solve here?","body":"What is the actual meta-problem you are trying to solve here?"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671749831,"creation_date":1671749831,"answer_id":74894636,"question_id":74891635,"body_markdown":"It&#39;s hard to guess how you&#39;re going to use the function.\r\n\r\nDepending on your use case you can try `Type`\r\n\r\n    def typeGetter(`type`: DataType): universe.Type = `type` match {\r\n      case StringType =&gt; universe.typeOf[String]\r\n      case x: DecimalType =&gt; universe.typeOf[java.math.BigDecimal]\r\n      case LongType =&gt; universe.typeOf[Long]\r\n      case IntegerType =&gt; universe.typeOf[Int]\r\n    }\r\n\r\nor `TypeTag`\r\n\r\n    def typeGetter(`type`: DataType): universe.TypeTag[_] = `type` match {\r\n      case StringType =&gt; universe.typeTag[String]\r\n      case x: DecimalType =&gt; universe.typeTag[java.math.BigDecimal]\r\n      case LongType =&gt; universe.typeTag[Long]\r\n      case IntegerType =&gt; universe.typeTag[Int]\r\n    }\r\n\r\nor `Class`\r\n\r\n    def typeGetter(`type`: DataType): Class[_] = `type` match {\r\n      case StringType =&gt; classOf[String]\r\n      case x: DecimalType =&gt; classOf[java.math.BigDecimal]\r\n      case LongType =&gt; classOf[Long]\r\n      case IntegerType =&gt; classOf[Int]\r\n    }\r\n\r\nor `ClassTag`\r\n\r\n    def typeGetter(`type`: DataType): scala.reflect.ClassTag[_] = `type` match {\r\n      case StringType =&gt; scala.reflect.classTag[String]\r\n      case x: DecimalType =&gt; scala.reflect.classTag[java.math.BigDecimal]\r\n      case LongType =&gt; scala.reflect.classTag[Long]\r\n      case IntegerType =&gt; scala.reflect.classTag[Int]\r\n    }\r\n\r\nor a type class\r\n\r\n    trait TypeGetter[T] {\r\n      type Out\r\n    }\r\n    object TypeGetter {\r\n      type Aux[T, Out0] = TypeGetter[T] { type Out = Out0 }\r\n        \r\n      implicit val string: Aux[StringType, String] = null\r\n      implicit val decimal: Aux[DecimalType, BigDecimal] = null\r\n      implicit val long: Aux[LongType, Long] = null\r\n      implicit val integer: Aux[IntegerType, Int] = null\r\n    }\r\n      \r\n    def foo[T](implicit typeGetter: TypeGetter[T]): typeGetter.Out = ???","title":"How do I return a datatype as a return object in scala","body":"<p>It's hard to guess how you're going to use the function.</p>\n<p>Depending on your use case you can try <code>Type</code></p>\n<pre><code>def typeGetter(`type`: DataType): universe.Type = `type` match {\n  case StringType =&gt; universe.typeOf[String]\n  case x: DecimalType =&gt; universe.typeOf[java.math.BigDecimal]\n  case LongType =&gt; universe.typeOf[Long]\n  case IntegerType =&gt; universe.typeOf[Int]\n}\n</code></pre>\n<p>or <code>TypeTag</code></p>\n<pre><code>def typeGetter(`type`: DataType): universe.TypeTag[_] = `type` match {\n  case StringType =&gt; universe.typeTag[String]\n  case x: DecimalType =&gt; universe.typeTag[java.math.BigDecimal]\n  case LongType =&gt; universe.typeTag[Long]\n  case IntegerType =&gt; universe.typeTag[Int]\n}\n</code></pre>\n<p>or <code>Class</code></p>\n<pre><code>def typeGetter(`type`: DataType): Class[_] = `type` match {\n  case StringType =&gt; classOf[String]\n  case x: DecimalType =&gt; classOf[java.math.BigDecimal]\n  case LongType =&gt; classOf[Long]\n  case IntegerType =&gt; classOf[Int]\n}\n</code></pre>\n<p>or <code>ClassTag</code></p>\n<pre><code>def typeGetter(`type`: DataType): scala.reflect.ClassTag[_] = `type` match {\n  case StringType =&gt; scala.reflect.classTag[String]\n  case x: DecimalType =&gt; scala.reflect.classTag[java.math.BigDecimal]\n  case LongType =&gt; scala.reflect.classTag[Long]\n  case IntegerType =&gt; scala.reflect.classTag[Int]\n}\n</code></pre>\n<p>or a type class</p>\n<pre><code>trait TypeGetter[T] {\n  type Out\n}\nobject TypeGetter {\n  type Aux[T, Out0] = TypeGetter[T] { type Out = Out0 }\n    \n  implicit val string: Aux[StringType, String] = null\n  implicit val decimal: Aux[DecimalType, BigDecimal] = null\n  implicit val long: Aux[LongType, Long] = null\n  implicit val integer: Aux[IntegerType, Int] = null\n}\n  \ndef foo[T](implicit typeGetter: TypeGetter[T]): typeGetter.Out = ???\n</code></pre>\n"}],"owner":{"account_id":26000173,"reputation":49,"user_id":19710843,"display_name":"tempUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74894636,"answer_count":1,"score":1,"last_activity_date":1671753749,"creation_date":1671728344,"question_id":74891635,"body_markdown":"I want to return a datatype as a return value of a function in scala. I tried the below function.\r\n\r\n``` \r\ndef typeGetterFun(`type`: DataType) = `type` match {\r\n      case StringType =&gt; String\r\n      case LongType =&gt; Long\r\n      case IntegerType =&gt; Int\r\n    }\r\n```\r\n\r\nError:\r\n```\r\n error: object java.lang.String is not a value\r\n             case StringType =&gt; String\r\n```\r\n\r\nI also tried using type tag Which did not work either\r\n\r\n```\r\n    def typeGetter(`type`:DataType): Any = `type` match {\r\n      case StringType =&gt; universe.TypeTag[String]\r\n      case x:DecimalType =&gt; universe.TypeTag[java.math.BigDecimal]\r\n      case LongType =&gt; universe.TypeTag[Long]\r\n      case IntegerType =&gt; universe.TypeTag[Int]\r\n    }\r\n```\r\n\r\nWe need to pass mirror and another parameter for apply method it seems. \r\n\r\nI&#39;m not sure how to do that. I Want a generic one like what I&#39;m trying above.","title":"How do I return a datatype as a return object in scala","body":"<p>I want to return a datatype as a return value of a function in scala. I tried the below function.</p>\n<pre><code>def typeGetterFun(`type`: DataType) = `type` match {\n      case StringType =&gt; String\n      case LongType =&gt; Long\n      case IntegerType =&gt; Int\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code> error: object java.lang.String is not a value\n             case StringType =&gt; String\n</code></pre>\n<p>I also tried using type tag Which did not work either</p>\n<pre><code>    def typeGetter(`type`:DataType): Any = `type` match {\n      case StringType =&gt; universe.TypeTag[String]\n      case x:DecimalType =&gt; universe.TypeTag[java.math.BigDecimal]\n      case LongType =&gt; universe.TypeTag[Long]\n      case IntegerType =&gt; universe.TypeTag[Int]\n    }\n</code></pre>\n<p>We need to pass mirror and another parameter for apply method it seems.</p>\n<p>I'm not sure how to do that. I Want a generic one like what I'm trying above.</p>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671753322,"creation_date":1671753322,"answer_id":74894935,"question_id":74891780,"body_markdown":"As one of the use cases, it can be added the `changelog` file:\r\n\r\n    db.changelog-master.yaml\r\n\r\ninside the directory `resource/db/changelog/` with the following content as:\r\n\r\n    databaseChangeLog:\r\n      - changeSet:\r\n          id: 1\r\n          author: invzbl3\r\n    \r\n    name: db.changelog-master.yaml\r\n    environment: testing\r\n    is-enabled: false\r\n\r\nusing `is-enabled` with the value as `false`.","title":"How can I get rid of the &#39;no changelog could be found&#39; error related to Liquibase without using Liquibase?","body":"<p>As one of the use cases, it can be added the <code>changelog</code> file:</p>\n<pre><code>db.changelog-master.yaml\n</code></pre>\n<p>inside the directory <code>resource/db/changelog/</code> with the following content as:</p>\n<pre><code>databaseChangeLog:\n  - changeSet:\n      id: 1\n      author: invzbl3\n\nname: db.changelog-master.yaml\nenvironment: testing\nis-enabled: false\n</code></pre>\n<p>using <code>is-enabled</code> with the value as <code>false</code>.</p>\n"}],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74894935,"answer_count":1,"score":0,"last_activity_date":1671753322,"creation_date":1671729234,"question_id":74891780,"body_markdown":"I&#39;m working with the [project][1], where I have as a `POM` file:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.liquibase/liquibase-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jooq/jooq --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n            &lt;version&gt;3.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nWhile I&#39;m running the current version of the project, I&#39;m getting constantly the issue as:\r\n\r\n    Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;.\r\n\r\nI&#39;ve already researched answers based on:\r\n1) https://stackoverflow.com/a/63227085/8370915\r\n2) https://stackoverflow.com/q/68883660/8370915\r\n3) https://stackoverflow.com/q/46810712/8370915\r\n\r\nand my question based on it is:\r\n\r\nif I don&#39;t have any requirements in the task to use `Liquibase` as an additional tool, can I fix this issue somehow and avoid it as I don&#39;t need it.\r\n\r\nIf yes, do you know what can be the cause of reproducing it? What do I need to change in my `POM` specifically to remove this error? \r\n\r\nI&#39;m asking it, because if I remove the dependency as `liquibase-core`:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n      &lt;version&gt;4.16.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m getting another issue as:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: liquibase.exception.ChangeLogParseException\r\n\r\nand to solve it, I need to add [dependency][2] of `Liquibase`.\r\n\r\nI can provide any additional details, if you need.\r\n\r\nThank you in advance for any smart ideas.\r\n\r\n\r\n  [1]: https://github.com/invzbl3/RestApiApplication\r\n  [2]: https://stackoverflow.com/a/38164476/8370915","title":"How can I get rid of the &#39;no changelog could be found&#39; error related to Liquibase without using Liquibase?","body":"<p>I'm working with the <a href=\"https://github.com/invzbl3/RestApiApplication\" rel=\"nofollow noreferrer\">project</a>, where I have as a <code>POM</code> file:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.liquibase/liquibase-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;version&gt;4.16.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.jooq/jooq --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>While I'm running the current version of the project, I'm getting constantly the issue as:</p>\n<pre><code>Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.\n</code></pre>\n<p>I've already researched answers based on:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/63227085/8370915\">https://stackoverflow.com/a/63227085/8370915</a></li>\n<li><a href=\"https://stackoverflow.com/q/68883660/8370915\">Liquibase failed to start because no changelog could be found at &#39;Migration File: class path</a></li>\n<li><a href=\"https://stackoverflow.com/q/46810712/8370915\">Why liquibase unable to resolved the db.changelog classpath?</a></li>\n</ol>\n<p>and my question based on it is:</p>\n<p>if I don't have any requirements in the task to use <code>Liquibase</code> as an additional tool, can I fix this issue somehow and avoid it as I don't need it.</p>\n<p>If yes, do you know what can be the cause of reproducing it? What do I need to change in my <code>POM</code> specifically to remove this error?</p>\n<p>I'm asking it, because if I remove the dependency as <code>liquibase-core</code>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n  &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n  &lt;version&gt;4.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm getting another issue as:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: liquibase.exception.ChangeLogParseException\n</code></pre>\n<p>and to solve it, I need to add <a href=\"https://stackoverflow.com/a/38164476/8370915\">dependency</a> of <code>Liquibase</code>.</p>\n<p>I can provide any additional details, if you need.</p>\n<p>Thank you in advance for any smart ideas.</p>\n"},{"tags":["java","xml","android-animation","android-studio-3.0","lottie"],"owner":{"account_id":27331362,"reputation":1,"user_id":20843439,"display_name":"Muhammad Basit Latif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671753315,"creation_date":1671753315,"question_id":74894934,"body_markdown":"I&#39;m creating a quiz application .on result screen i wanted to use two Lottie animation which switch according to score user.\r\nim wanted to use if statement for switching 2 lottie animations if user get less score then fail animation shows and if passes congrats animation shows.\r\nthe result score in coming from questionsActivity through Intent to ScoreActivity.and i also dont know how to use that data which is coming from previous screen through intent for making decision for showing Lottie animations.\r\ncan anyone help me out how can i do this kind of stuff\r\nthis is what i do\r\n\r\n```\r\n```\r\n\r\n```\r\npublic class ScoreActivity extends AppCompatActivity {\r\n    LottieAnimationView lottieAnimationView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_score);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n        loadAds();\r\n\r\n        TextView scored = findViewById(R.id.scored);\r\n        TextView total = findViewById(R.id.total);\r\n        Button doneBtn = findViewById(R.id.done_btn);\r\n        lottieAnimationView = findViewById(R.id.animationView);\r\n\r\n        scored.setText(String.valueOf(getIntent().getIntExtra(&quot;score&quot;, 0)));\r\n        total.setText(&quot; / &quot; + getIntent().getIntExtra(&quot;total&quot;, 0));\r\n        doneBtn.setOnClickListener(view -&gt; finish());\r\n        lottieAnimationView.addAnimatorListener(new Animator.AnimatorListener() {\r\n            @Override\r\n            public void onAnimationStart(Animator animator) {\r\n                if (\r\n                lottieAnimationView.setTextDelegate(String.valueOf(getIntent().getIntExtra(&quot;score&quot;)));)\r\n            }\r\n\r\n            @Override\r\n            public void onAnimationEnd(Animator animator) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onAnimationCancel(Animator animator) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onAnimationRepeat(Animator animator) {\r\n\r\n            }\r\n        });\r\n        lottieAnimationView.setAnimation(&quot;trophy.json&quot;);\r\n\r\n    }\r\n\r\n    private void loadAds() {\r\n        AdView mAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n\r\n        mAdView.setAdListener(new AdListener() {\r\n            @Override\r\n            public void onAdFailedToLoad(LoadAdError adError) {\r\n                // Code to be executed when an ad request fails.\r\n                AdRequest adRequest = new AdRequest.Builder().build();\r\n                mAdView.loadAd(adRequest);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\n```\r\n","title":"I&#39;m creating a quiz application .on result screen i wanted to use two Lottie animation which switch according to score user","body":"<p>I'm creating a quiz application .on result screen i wanted to use two Lottie animation which switch according to score user.\nim wanted to use if statement for switching 2 lottie animations if user get less score then fail animation shows and if passes congrats animation shows.\nthe result score in coming from questionsActivity through Intent to ScoreActivity.and i also dont know how to use that data which is coming from previous screen through intent for making decision for showing Lottie animations.\ncan anyone help me out how can i do this kind of stuff\nthis is what i do</p>\n<pre><code></code></pre>\n<pre><code>public class ScoreActivity extends AppCompatActivity {\n    LottieAnimationView lottieAnimationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_score);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n        loadAds();\n\n        TextView scored = findViewById(R.id.scored);\n        TextView total = findViewById(R.id.total);\n        Button doneBtn = findViewById(R.id.done_btn);\n        lottieAnimationView = findViewById(R.id.animationView);\n\n        scored.setText(String.valueOf(getIntent().getIntExtra(&quot;score&quot;, 0)));\n        total.setText(&quot; / &quot; + getIntent().getIntExtra(&quot;total&quot;, 0));\n        doneBtn.setOnClickListener(view -&gt; finish());\n        lottieAnimationView.addAnimatorListener(new Animator.AnimatorListener() {\n            @Override\n            public void onAnimationStart(Animator animator) {\n                if (\n                lottieAnimationView.setTextDelegate(String.valueOf(getIntent().getIntExtra(&quot;score&quot;)));)\n            }\n\n            @Override\n            public void onAnimationEnd(Animator animator) {\n\n            }\n\n            @Override\n            public void onAnimationCancel(Animator animator) {\n\n            }\n\n            @Override\n            public void onAnimationRepeat(Animator animator) {\n\n            }\n        });\n        lottieAnimationView.setAnimation(&quot;trophy.json&quot;);\n\n    }\n\n    private void loadAds() {\n        AdView mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n\n        mAdView.setAdListener(new AdListener() {\n            @Override\n            public void onAdFailedToLoad(LoadAdError adError) {\n                // Code to be executed when an ad request fails.\n                AdRequest adRequest = new AdRequest.Builder().build();\n                mAdView.loadAd(adRequest);\n            }\n        });\n\n    }\n\n\n}\n</code></pre>\n<pre><code>\n</code></pre>\n"},{"tags":["java","visual-studio-code","selenium-webdriver","azure-devops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671761797,"post_id":74894909,"comment_id":132172014,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1671787015,"post_id":74894909,"comment_id":132175741,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking. Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":27331407,"reputation":1,"user_id":20843476,"display_name":"Yella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671753098,"creation_date":1671753051,"question_id":74894909,"body_markdown":"I learned testing scripts selenium web driver with java in Visual studio code\r\nBut now i want to connect or integrate Visual studio code into Azure DevOpS to perform Automation testing.    \r\n\r\nCan anyone please help me out  ","title":"Integrate Visual studio code with selenium Web driver into Azure DevOps","body":"<p>I learned testing scripts selenium web driver with java in Visual studio code\nBut now i want to connect or integrate Visual studio code into Azure DevOpS to perform Automation testing.</p>\n<p>Can anyone please help me out</p>\n"},{"tags":["java","concurrency","jvm"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1439360182,"post_id":31957237,"comment_id":51823145,"body_markdown":"*Thread 1 may read of x as -1?*: thread 1 doesn&#39;t read x at all in your example.","body":"<i>Thread 1 may read of x as -1?</i>: thread 1 doesn&#39;t read x at all in your example."},{"owner":{"account_id":4863619,"reputation":71,"user_id":3922575,"accept_rate":86,"display_name":"Leo"},"score":0,"creation_date":1439361581,"post_id":31957237,"comment_id":51823790,"body_markdown":"sorry, i mean read a to x as -1.. @JBNizet","body":"sorry, i mean read a to x as -1.. @JBNizet"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1439419374,"post_id":31957237,"comment_id":51859679,"body_markdown":"Do note that the JSR 133 *Cookbook* is meant for compiler developers and is a *conservative approximation* of the JMM. Programmers shouldn&#39;t rely on its semantics because a JVM may implement more relaxed semantics. You might want to take a look at gil tene&#39;s [cookbook  for java devs](http://giltene.github.io/DeveloperJMMCookbook/) instead","body":"Do note that the JSR 133 <i>Cookbook</i> is meant for compiler developers and is a <i>conservative approximation</i> of the JMM. Programmers shouldn&#39;t rely on its semantics because a JVM may implement more relaxed semantics. You might want to take a look at gil tene&#39;s <a href=\"http://giltene.github.io/DeveloperJMMCookbook/\" rel=\"nofollow noreferrer\">cookbook  for java devs</a> instead"}],"answers":[{"tags":[],"owner":{"account_id":27326267,"reputation":11,"user_id":20839200,"display_name":"JpMore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671753005,"creation_date":1671753005,"answer_id":74894904,"question_id":31957237,"body_markdown":"I had the same question but couldn&#39;t find the answer, so I asked the author and here is his reply, &quot;the reason it omitted LoadStore in the case you ask is that it is always covered by the trailing StoreLoad. (True only for volatiles, and using the post-store vs pre-load full fence mappings considered here)&quot;\r\n\r\nMy understanding:\r\n&#39;Issue a StoreLoad barrier after each volatile store&#39;, the StoreLoad on every architecture is implemented by full memory fence (you can check this in the Multiprocessors part on the same page), so all previous loads can&#39;t be reordered with loads/stores following volatile store.","title":"Is there LoadStore memory barrier before volatile write in JAVA","body":"<p>I had the same question but couldn't find the answer, so I asked the author and here is his reply, &quot;the reason it omitted LoadStore in the case you ask is that it is always covered by the trailing StoreLoad. (True only for volatiles, and using the post-store vs pre-load full fence mappings considered here)&quot;</p>\n<p>My understanding:\n'Issue a StoreLoad barrier after each volatile store', the StoreLoad on every architecture is implemented by full memory fence (you can check this in the Multiprocessors part on the same page), so all previous loads can't be reordered with loads/stores following volatile store.</p>\n"}],"owner":{"account_id":4863619,"reputation":71,"user_id":3922575,"accept_rate":86,"display_name":"Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671753005,"creation_date":1439359775,"question_id":31957237,"body_markdown":"In JSR 133 cook book http://g.oswego.edu/dl/jmm/cookbook.html\n\nIn the chapter of inserting barriers:\n\n&gt;-Issue a StoreStore barrier before each volatile store.\n&gt;\n&gt;-Issue a StoreStore barrier after all stores but before return from any constructor for any class with a final field.\n&gt;\n&gt;-Issue a StoreLoad barrier after each volatile store. \n&gt;\n&gt;-Issue LoadLoad and LoadStore barriers after each volatile load.\n&gt;\n&gt;-Issue an ExitEnter barrier either before each MonitorEnter or after each MonitorExit.\n&gt;\n&gt;-Issue EnterLoad and EnterStore barriers after each MonitorEnter.\n&gt;\n&gt;-Issue StoreExit and LoadExit barriers before each MonitorExit.\n&gt;\n&gt;-If on a processor that does not intrinsically provide ordering on indirect loads, issue a LoadLoad barrier before each load of a final\nfields.\n\nBut, no loadstore barrier before volatile write? So load can be reordered after volatile write?\n\nSo the following won&#39;t work?\n\n    Init a = 3\n    V = false\n\n    Thread1\n    x = a\n    V = true\n\n    Thread2\n    If (V equal true)\n        a = -1\n\nWhere V is volatile and a is an ordinary var.\n\nThread 1 may read a to x as -1?\nThis obey the happen before rule because if Thread2 read V as ture, x = a happen before a = -1?","title":"Is there LoadStore memory barrier before volatile write in JAVA","body":"<p>In JSR 133 cook book <a href=\"http://g.oswego.edu/dl/jmm/cookbook.html\" rel=\"nofollow noreferrer\">http://g.oswego.edu/dl/jmm/cookbook.html</a></p>\n<p>In the chapter of inserting barriers:</p>\n<blockquote>\n<p>-Issue a StoreStore barrier before each volatile store.</p>\n<p>-Issue a StoreStore barrier after all stores but before return from any constructor for any class with a final field.</p>\n<p>-Issue a StoreLoad barrier after each volatile store.</p>\n<p>-Issue LoadLoad and LoadStore barriers after each volatile load.</p>\n<p>-Issue an ExitEnter barrier either before each MonitorEnter or after each MonitorExit.</p>\n<p>-Issue EnterLoad and EnterStore barriers after each MonitorEnter.</p>\n<p>-Issue StoreExit and LoadExit barriers before each MonitorExit.</p>\n<p>-If on a processor that does not intrinsically provide ordering on indirect loads, issue a LoadLoad barrier before each load of a final\nfields.</p>\n</blockquote>\n<p>But, no loadstore barrier before volatile write? So load can be reordered after volatile write?</p>\n<p>So the following won't work?</p>\n<pre><code>Init a = 3\nV = false\n\nThread1\nx = a\nV = true\n\nThread2\nIf (V equal true)\n    a = -1\n</code></pre>\n<p>Where V is volatile and a is an ordinary var.</p>\n<p>Thread 1 may read a to x as -1?\nThis obey the happen before rule because if Thread2 read V as ture, x = a happen before a = -1?</p>\n"},{"tags":["java","node.js","azure","message-queue"],"answers":[{"comments":[{"owner":{"account_id":4289286,"reputation":119,"user_id":3506080,"accept_rate":50,"display_name":"MoB"},"score":1,"creation_date":1446834920,"post_id":33563414,"comment_id":54924611,"body_markdown":"Understood, so is there a way to &quot;safely&quot; deserialize those messages in Node? I take sticking to the same protocol across all clients is a good idea however reality might be different and the payload still needs to be exchangable.","body":"Understood, so is there a way to &quot;safely&quot; deserialize those messages in Node? I take sticking to the same protocol across all clients is a good idea however reality might be different and the payload still needs to be exchangable."},{"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"score":0,"creation_date":1447137934,"post_id":33563414,"comment_id":55022462,"body_markdown":"@user3506080 It&#39;s not a good idea for using different protocols within sender and receiver. But I think you can get safely the correct messages thru split the content by the special character if really necessary.","body":"@user3506080 It&#39;s not a good idea for using different protocols within sender and receiver. But I think you can get safely the correct messages thru split the content by the special character if really necessary."},{"owner":{"account_id":2081756,"reputation":119,"user_id":1853617,"display_name":"Fredrik J&#246;nsson"},"score":0,"creation_date":1482406588,"post_id":33563414,"comment_id":69766069,"body_markdown":"While the information is technically correct, it is just plain wrong. AMQP is a binary transfer protocol and does not do any encoding of the actual message at all. What does the encoding of the message is JMS. If you change the type of the message to a byte message (JmsByteMessage), the encoding will be interpreted as &quot;application/octetstream&quot; by the REST service rather than &quot;application/xml&quot; and you message will be readable in node.","body":"While the information is technically correct, it is just plain wrong. AMQP is a binary transfer protocol and does not do any encoding of the actual message at all. What does the encoding of the message is JMS. If you change the type of the message to a byte message (JmsByteMessage), the encoding will be interpreted as &quot;application/octetstream&quot; by the REST service rather than &quot;application/xml&quot; and you message will be readable in node."},{"owner":{"account_id":233501,"reputation":2445,"user_id":915865,"accept_rate":88,"display_name":"Kat Lim Ruiz"},"score":1,"creation_date":1565817739,"post_id":33563414,"comment_id":101473465,"body_markdown":"I understand what this is saying, however, it doesn&#39;t say any explicit solution. My take would be that we would have to delete from u006 to u001 and then JSON.parse. Is there a library that can do this for us (even if it&#39;s simple, it&#39;s better to stick to the standard)?","body":"I understand what this is saying, however, it doesn&#39;t say any explicit solution. My take would be that we would have to delete from u006 to u001 and then JSON.parse. Is there a library that can do this for us (even if it&#39;s simple, it&#39;s better to stick to the standard)?"},{"owner":{"account_id":326407,"reputation":7960,"user_id":648162,"display_name":"qris"},"score":0,"creation_date":1671664583,"post_id":33563414,"comment_id":132150175,"body_markdown":"I don&#39;t think this is correct at all. The message starts with @, not \\u0006. It&#39;s actually in .NET Binary XML Format (MC-NBFX), not just using \\x06 and \\x1a to delimit &quot;metadata&quot; in some unknown/arbitrary format. Please see my [answer below](https://stackoverflow.com/a/74882675/648162).","body":"I don&#39;t think this is correct at all. The message starts with @, not \\u0006. It&#39;s actually in .NET Binary XML Format (MC-NBFX), not just using \\x06 and \\x1a to delimit &quot;metadata&quot; in some unknown/arbitrary format. Please see my <a href=\"https://stackoverflow.com/a/74882675/648162\">answer below</a>."}],"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1446801959,"creation_date":1446801959,"answer_id":33563414,"question_id":33542509,"body_markdown":"The Azure Service Bus supports two different protocols: AMQP and HTTP. The Java/JMS using qpid libs is using AMQP protocal for ServiceBus. However, the ServiceBus REST APIs wrapped in NodeJS thur HTTP protocol.\r\n\r\nDetails for AMQP support in Service Bus, please refer to https://azure.microsoft.com/en-us/documentation/articles/service-bus-amqp-overview/.\r\n\r\nAnd for REST APIs of ServiceBus, please refer to https://msdn.microsoft.com/en-us/library/azure/hh780717.aspx.\r\n\r\n&gt; AMQP is a binary, application layer protocol, designed to efficiently\r\n&gt; support a wide variety of messaging applications and communication\r\n&gt; patterns.  - [from WikiPedia][1]\r\n\r\n But the HTTP is a text protocol.\r\n\r\nThe message format is as below, please refer to the section `Message Format` of the aritifact http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#section-message-format. And the AMQP specification can be refered to http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-overview-v1.0-os.html.\r\n\r\n                                                         Bare Message\r\n                                                                |\r\n                                          .---------------------+--------------------.\r\n                                          |                                          |\r\n     +--------+-------------+-------------+------------+--------------+--------------+--------+\r\n     | header | delivery-   | message-    | properties | application- | application- | footer |\r\n     |        | annotations | annotations |            | properties   | data         |        |\r\n     +--------+-------------+-------------+------------+--------------+--------------+--------+\r\n     |                                                                                        |\r\n     &#39;-------------------------------------------+--------------------------------------------&#39;\r\n                                                 |\r\n                                          Annotated Message\r\n\r\nSo the messages sent in Java or sent in NodeJS were serialized to different results.\r\n\r\nThe content `\\uXXXX` formated in the content of body from AMQP is Unicode Charater.\r\n\r\nThe Unicode Charater `\\u0006` is Acknowledge controll charater, please refer to https://en.wikipedia.org/wiki/Acknowledge_character to know it.\r\n\r\nAnd the Unicode Charater `\\u001a` is Substitute controll charater, please refer to https://en.wikipedia.org/wiki/Substitute_character.\r\n\r\nThey are limit the start and end of the metadata in the message header.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol","title":"Interoperability Azure Service Bus Message Queue Messages","body":"<p>The Azure Service Bus supports two different protocols: AMQP and HTTP. The Java/JMS using qpid libs is using AMQP protocal for ServiceBus. However, the ServiceBus REST APIs wrapped in NodeJS thur HTTP protocol.</p>\n\n<p>Details for AMQP support in Service Bus, please refer to <a href=\"https://azure.microsoft.com/en-us/documentation/articles/service-bus-amqp-overview/\" rel=\"nofollow\">https://azure.microsoft.com/en-us/documentation/articles/service-bus-amqp-overview/</a>.</p>\n\n<p>And for REST APIs of ServiceBus, please refer to <a href=\"https://msdn.microsoft.com/en-us/library/azure/hh780717.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/azure/hh780717.aspx</a>.</p>\n\n<blockquote>\n  <p>AMQP is a binary, application layer protocol, designed to efficiently\n  support a wide variety of messaging applications and communication\n  patterns.  - <a href=\"https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol\" rel=\"nofollow\">from WikiPedia</a></p>\n</blockquote>\n\n<p>But the HTTP is a text protocol.</p>\n\n<p>The message format is as below, please refer to the section <code>Message Format</code> of the aritifact <a href=\"http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#section-message-format\" rel=\"nofollow\">http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#section-message-format</a>. And the AMQP specification can be refered to <a href=\"http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-overview-v1.0-os.html\" rel=\"nofollow\">http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-overview-v1.0-os.html</a>.</p>\n\n<pre><code>                                                     Bare Message\n                                                            |\n                                      .---------------------+--------------------.\n                                      |                                          |\n +--------+-------------+-------------+------------+--------------+--------------+--------+\n | header | delivery-   | message-    | properties | application- | application- | footer |\n |        | annotations | annotations |            | properties   | data         |        |\n +--------+-------------+-------------+------------+--------------+--------------+--------+\n |                                                                                        |\n '-------------------------------------------+--------------------------------------------'\n                                             |\n                                      Annotated Message\n</code></pre>\n\n<p>So the messages sent in Java or sent in NodeJS were serialized to different results.</p>\n\n<p>The content <code>\\uXXXX</code> formated in the content of body from AMQP is Unicode Charater.</p>\n\n<p>The Unicode Charater <code>\\u0006</code> is Acknowledge controll charater, please refer to <a href=\"https://en.wikipedia.org/wiki/Acknowledge_character\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Acknowledge_character</a> to know it.</p>\n\n<p>And the Unicode Charater <code>\\u001a</code> is Substitute controll charater, please refer to <a href=\"https://en.wikipedia.org/wiki/Substitute_character\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Substitute_character</a>.</p>\n\n<p>They are limit the start and end of the metadata in the message header.</p>\n"},{"tags":[],"owner":{"account_id":2081756,"reputation":119,"user_id":1853617,"display_name":"Fredrik J&#246;nsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482407381,"creation_date":1482407381,"answer_id":41282533,"question_id":33542509,"body_markdown":"We have encountered the exact same issue, though in a somewhat more involved example using a Camel based producer. Due to changes in our environment we started to encounter these issues.\r\n\r\nThe issue here is how the REST service is interpreting the JMS message when it is encoding the HTTP response to the node client.\r\n\r\nWe&#39;ve found that JmsTextmessage for some reason, not fully clear, are assumed to be of type &quot;application/xml&quot; and the content will be forwarded as such. Hence the OUTPUT you get in your example.\r\n\r\nIf instead using a JmsByteMessage, the content is interpreted as &quot;application/octet-stream&quot; and not mangled in transfer. \r\n\r\nSo try something along the lines of:\r\n\r\n    BytesMessage message = sendSession.createBytesMessage();\r\n    String body = &quot;Test AMQP message from JMS&quot;;\r\n    message.writeBytes(body.getBytes(StandardCharsets.UTF_8));\r\n    sender.send(message);\r\n\r\nWe use this in order to transfer JSON encoded data to be interpreted by a Node.js client.","title":"Interoperability Azure Service Bus Message Queue Messages","body":"<p>We have encountered the exact same issue, though in a somewhat more involved example using a Camel based producer. Due to changes in our environment we started to encounter these issues.</p>\n\n<p>The issue here is how the REST service is interpreting the JMS message when it is encoding the HTTP response to the node client.</p>\n\n<p>We've found that JmsTextmessage for some reason, not fully clear, are assumed to be of type \"application/xml\" and the content will be forwarded as such. Hence the OUTPUT you get in your example.</p>\n\n<p>If instead using a JmsByteMessage, the content is interpreted as \"application/octet-stream\" and not mangled in transfer. </p>\n\n<p>So try something along the lines of:</p>\n\n<pre><code>BytesMessage message = sendSession.createBytesMessage();\nString body = \"Test AMQP message from JMS\";\nmessage.writeBytes(body.getBytes(StandardCharsets.UTF_8));\nsender.send(message);\n</code></pre>\n\n<p>We use this in order to transfer JSON encoded data to be interpreted by a Node.js client.</p>\n"},{"tags":[],"owner":{"account_id":96899,"reputation":1429,"user_id":263139,"display_name":"jrupe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521139981,"creation_date":1521139981,"answer_id":49307178,"question_id":33542509,"body_markdown":"I had the same issue with the message body being prefixed by this &quot;@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/\\u0001&quot;. \r\n\r\nI was using Nodejs, with the **azure-iot-device-mqtt** and **azure-iot-device** packages, to send messages to IoT hub. I was using a Stream Analytics Job to receive the messages from IoT hub and publish them to a queue. I was using Nodejs, with the **amqp10** package, to receive the events from the queue. \r\n\r\nThe problem was not caused by the way I was sending or receiving the messages. Rather, the problem was with the Stream Analytics compatibility level! Compatibility level 1.0 (the default at least when I deployed) uses the [DataContractSerializer][1] which serializes the message into an XML stream! Microsoft changed (fixed) this with compatibility level 1.1. So you may just need to change the compatibility level (CONFIGURE-&gt;Compatibility level) for your Stream Analytics job to 1.1.\r\n\r\nSee: https://learn.microsoft.com/en-us/azure/stream-analytics/stream-analytics-compatibility-level#major-changes-in-the-latest-compatibility-level-11:\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/system.runtime.serialization.datacontractserializer(v=vs.110).aspx","title":"Interoperability Azure Service Bus Message Queue Messages","body":"<p>I had the same issue with the message body being prefixed by this \"@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/\\u0001\". </p>\n\n<p>I was using Nodejs, with the <strong>azure-iot-device-mqtt</strong> and <strong>azure-iot-device</strong> packages, to send messages to IoT hub. I was using a Stream Analytics Job to receive the messages from IoT hub and publish them to a queue. I was using Nodejs, with the <strong>amqp10</strong> package, to receive the events from the queue. </p>\n\n<p>The problem was not caused by the way I was sending or receiving the messages. Rather, the problem was with the Stream Analytics compatibility level! Compatibility level 1.0 (the default at least when I deployed) uses the <a href=\"https://msdn.microsoft.com/en-us/library/system.runtime.serialization.datacontractserializer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DataContractSerializer</a> which serializes the message into an XML stream! Microsoft changed (fixed) this with compatibility level 1.1. So you may just need to change the compatibility level (CONFIGURE->Compatibility level) for your Stream Analytics job to 1.1.</p>\n\n<p>See: <a href=\"https://learn.microsoft.com/en-us/azure/stream-analytics/stream-analytics-compatibility-level#major-changes-in-the-latest-compatibility-level-11\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/stream-analytics/stream-analytics-compatibility-level#major-changes-in-the-latest-compatibility-level-11</a>:</p>\n"},{"tags":[],"owner":{"account_id":326407,"reputation":7960,"user_id":648162,"display_name":"qris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671752530,"creation_date":1671664528,"answer_id":74882675,"question_id":33542509,"body_markdown":"The message sent by JMS is actually in .NET Binary XML Format (MC-NBFX), as specified [here](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/94c66ea1-e79a-4364-af88-1fa7fef2cc33). I think this is what you get when you try to serialise an object using a DataContractSerializer with [XmlDictionaryWrite.CreateBinaryWriter](https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmldictionarywriter.createbinarywriter?view=net-7.0) (although I know nothing about .NET).\r\n\r\nQuoting the message body from above for quick reference, and replacing Unicode characters with their hex equivalent (e.g. `\\u0006` to `\\x06`) and `\\b` (backspace escape) with its ASCII code 0x08 (BS):\r\n\r\n```\r\n@\\x06string\\x083http://schemas.microsoft.com/2003/10/Serialization/�\\x1aTest AMQP message from JMS\r\n```\r\n\r\n* Key to record types is [here](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/e17683ce-cb4c-4968-bd7a-ebfe5cc18a1e).\r\n* The initial @ character (ASCII code 0x40) is the type byte for the start of a [ShortElement record](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/70fd89e4-04cc-4266-bfe0-9b39ce86e134). This is followed by the element name and its attributes.\r\n* The ASCII code 0x06 is the start of the name, encoded as a variable-length [String](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/cc9e00dc-ecc5-4a61-8869-3bd6c3f9c71a). This is the length byte; the string has length 6 and is the word `string`.\r\n* It is followed (in the ShortElement) by zero or more [Attribute Records](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/cc9e00dc-ecc5-4a61-8869-3bd6c3f9c71a), which start with the type byte 0x05. There are none, so the &lt;string&gt; element has no attributes.\r\n* The next byte is 0x08, which is the start of a [ShortXmlnsAttribute](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/c1999b4e-d35e-4e36-80bb-a1d2dccf2935) record. The value should be the XML namespace of the `&lt;string&gt;` element, and indeed it is, again encoded as a variable-length string, with the length byte `3` (0x33 or decimal 51) and 51 characters of URL. \r\n* The next byte is an unprintable Unicode character in the question text, and I&#39;m not sure it&#39;s been copied correctly. In my application (where I receive similar messages from an outside system) I get the byte 0x98 instead, which is invalid in Unicode, and is the type byte of a [Chars8Text](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/4d623c6e-d700-4091-a6b7-60e1d62a5c2a) record, so I&#39;m going to assume it was one of these. In this record type, the type byte is followed by a length byte, in this case 0x1a (26 decimal), and then that number of bytes (i.e. 26 bytes) of text encoded as UTF-8: `Test AMQP message from JMS`.\r\n* This is followed by type byte 0x01, which is an [EndElement](https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/dba7ab5e-1789-42d7-acdd-6e4556b1553b) record, representing the end of the `string` element, i.e. `&lt;/string&gt;` in XML text.\r\n\r\nSo the equivalent XML text would be this:\r\n\r\n`&lt;string xmlns=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;Test AMQP message from JMS&lt;/string&gt;`\r\n\r\nThere are libraries that can decode this for you, for example [libnbfx](https://github.com/Sleepyowl/libnbfx) (C++) or [msbin](https://github.com/ayzenquwe/msbin) (Python).","title":"Interoperability Azure Service Bus Message Queue Messages","body":"<p>The message sent by JMS is actually in .NET Binary XML Format (MC-NBFX), as specified <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/94c66ea1-e79a-4364-af88-1fa7fef2cc33\" rel=\"nofollow noreferrer\">here</a>. I think this is what you get when you try to serialise an object using a DataContractSerializer with <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.xml.xmldictionarywriter.createbinarywriter?view=net-7.0\" rel=\"nofollow noreferrer\">XmlDictionaryWrite.CreateBinaryWriter</a> (although I know nothing about .NET).</p>\n<p>Quoting the message body from above for quick reference, and replacing Unicode characters with their hex equivalent (e.g. <code>\\u0006</code> to <code>\\x06</code>) and <code>\\b</code> (backspace escape) with its ASCII code 0x08 (BS):</p>\n<pre><code>@\\x06string\\x083http://schemas.microsoft.com/2003/10/Serialization/�\\x1aTest AMQP message from JMS\n</code></pre>\n<ul>\n<li>Key to record types is <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/e17683ce-cb4c-4968-bd7a-ebfe5cc18a1e\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>The initial @ character (ASCII code 0x40) is the type byte for the start of a <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/70fd89e4-04cc-4266-bfe0-9b39ce86e134\" rel=\"nofollow noreferrer\">ShortElement record</a>. This is followed by the element name and its attributes.</li>\n<li>The ASCII code 0x06 is the start of the name, encoded as a variable-length <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/cc9e00dc-ecc5-4a61-8869-3bd6c3f9c71a\" rel=\"nofollow noreferrer\">String</a>. This is the length byte; the string has length 6 and is the word <code>string</code>.</li>\n<li>It is followed (in the ShortElement) by zero or more <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/cc9e00dc-ecc5-4a61-8869-3bd6c3f9c71a\" rel=\"nofollow noreferrer\">Attribute Records</a>, which start with the type byte 0x05. There are none, so the  element has no attributes.</li>\n<li>The next byte is 0x08, which is the start of a <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/c1999b4e-d35e-4e36-80bb-a1d2dccf2935\" rel=\"nofollow noreferrer\">ShortXmlnsAttribute</a> record. The value should be the XML namespace of the <code>&lt;string&gt;</code> element, and indeed it is, again encoded as a variable-length string, with the length byte <code>3</code> (0x33 or decimal 51) and 51 characters of URL.</li>\n<li>The next byte is an unprintable Unicode character in the question text, and I'm not sure it's been copied correctly. In my application (where I receive similar messages from an outside system) I get the byte 0x98 instead, which is invalid in Unicode, and is the type byte of a <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/4d623c6e-d700-4091-a6b7-60e1d62a5c2a\" rel=\"nofollow noreferrer\">Chars8Text</a> record, so I'm going to assume it was one of these. In this record type, the type byte is followed by a length byte, in this case 0x1a (26 decimal), and then that number of bytes (i.e. 26 bytes) of text encoded as UTF-8: <code>Test AMQP message from JMS</code>.</li>\n<li>This is followed by type byte 0x01, which is an <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/mc-nbfx/dba7ab5e-1789-42d7-acdd-6e4556b1553b\" rel=\"nofollow noreferrer\">EndElement</a> record, representing the end of the <code>string</code> element, i.e. <code>&lt;/string&gt;</code> in XML text.</li>\n</ul>\n<p>So the equivalent XML text would be this:</p>\n<p><code>&lt;string xmlns=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;Test AMQP message from JMS&lt;/string&gt;</code></p>\n<p>There are libraries that can decode this for you, for example <a href=\"https://github.com/Sleepyowl/libnbfx\" rel=\"nofollow noreferrer\">libnbfx</a> (C++) or <a href=\"https://github.com/ayzenquwe/msbin\" rel=\"nofollow noreferrer\">msbin</a> (Python).</p>\n"}],"owner":{"account_id":4289286,"reputation":119,"user_id":3506080,"accept_rate":50,"display_name":"MoB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4074,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33563414,"answer_count":4,"score":3,"last_activity_date":1671752530,"creation_date":1446720183,"question_id":33542509,"body_markdown":"I have a Java App and a NodeJS App both using a single Azure Service Bus Message Queue.\r\n\r\nI witness some strange effects with my clients, as follow.\r\n \r\nJAVA MESSAGE PRODUCER (using QPID libraries per Azure JMS tutorial):\r\n\r\n     TextMessage message = sendSession.createTextMessage();\r\n            message.setText(&quot;Test AMQP message from JMS&quot;);\r\n            long randomMessageID = randomGenerator.nextLong() &gt;&gt;&gt;1;\r\n            message.setJMSMessageID(&quot;ID:&quot; + randomMessageID);\r\n            sender.send(message);\r\n            System.out.println(&quot;Sent message with JMSMessageID = &quot; + message.getJMSMessageID());\r\n \r\nOUTPUT:\r\nSent message with JMSMessageID = ID:2414932965987073843\r\n \r\nNODEJS MESSAGE CONSUMER:\r\n\r\n    serviceBus.receiveQueueMessage(queue, {timeoutIntervalInS: timeOut, isReceiveAndDelete: true}, function(err, message) {\r\n    if(message !==null)console.log(util.inspect(message, {showHidden: false, depth: null}));\r\n    });\r\n\r\nOUTPUT:\r\n\r\n    { body: &#39;@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/�\\u001aTest AMQP message from JMS&#39;,\r\n    brokerProperties:\r\n    { DeliveryCount: 1,\r\n    EnqueuedSequenceNumber: 5000004,\r\n    EnqueuedTimeUtc: &#39;Wed, 04 Nov 2015 21:28:21 GMT&#39;,\r\n    MessageId: &#39;2414932965987073843&#39;,\r\n    PartitionKey: &#39;89&#39;,\r\n    SequenceNumber: 59672695067659070,\r\n    State: &#39;Active&#39;,\r\n    TimeToLive: 1209600,\r\n    To: &#39;moequeue&#39; },\r\n    contentType: &#39;application/xml; charset=utf-8&#39; }\r\n\r\nIf I compare that to a message inserted into the queue via serviceBus.sendQueueMessage(), then the properties look like this:\r\n\r\n    { body: &#39;test message&#39;,\r\n    brokerProperties:\r\n    { DeliveryCount: 1,\r\n    EnqueuedSequenceNumber: 0,\r\n    EnqueuedTimeUtc: &#39;Wed, 04 Nov 2015 21:44:03 GMT&#39;,\r\n    MessageId: &#39;bc0a3d4f-15ba-434f-9fb0-1a3789885f8c&#39;,\r\n    PartitionKey: &#39;734&#39;,\r\n    SequenceNumber: 37436171906517256,\r\n    State: &#39;Active&#39;,\r\n    TimeToLive: 1209600 },\r\n    contentType: &#39;text/plain&#39;,\r\n    customProperties:\r\n    { message_number: 0,\r\n    sent_date: Wed Nov 04 2015 21:44:03 GMT+0000 (UTC) } }\r\n\r\nSo content type is different to start with - why? - and then where does the strange garbage in the body of the first message payload come from: **@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/�\\u001a**\r\nIs that the result of serialization? How can this be mitigated?\r\n\r\nFind the code as well here:\r\nhttp://pastebin.com/T9RTFRBk\r\n","title":"Interoperability Azure Service Bus Message Queue Messages","body":"<p>I have a Java App and a NodeJS App both using a single Azure Service Bus Message Queue.</p>\n\n<p>I witness some strange effects with my clients, as follow.</p>\n\n<p>JAVA MESSAGE PRODUCER (using QPID libraries per Azure JMS tutorial):</p>\n\n<pre><code> TextMessage message = sendSession.createTextMessage();\n        message.setText(\"Test AMQP message from JMS\");\n        long randomMessageID = randomGenerator.nextLong() &gt;&gt;&gt;1;\n        message.setJMSMessageID(\"ID:\" + randomMessageID);\n        sender.send(message);\n        System.out.println(\"Sent message with JMSMessageID = \" + message.getJMSMessageID());\n</code></pre>\n\n<p>OUTPUT:\nSent message with JMSMessageID = ID:2414932965987073843</p>\n\n<p>NODEJS MESSAGE CONSUMER:</p>\n\n<pre><code>serviceBus.receiveQueueMessage(queue, {timeoutIntervalInS: timeOut, isReceiveAndDelete: true}, function(err, message) {\nif(message !==null)console.log(util.inspect(message, {showHidden: false, depth: null}));\n});\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>{ body: '@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/�\\u001aTest AMQP message from JMS',\nbrokerProperties:\n{ DeliveryCount: 1,\nEnqueuedSequenceNumber: 5000004,\nEnqueuedTimeUtc: 'Wed, 04 Nov 2015 21:28:21 GMT',\nMessageId: '2414932965987073843',\nPartitionKey: '89',\nSequenceNumber: 59672695067659070,\nState: 'Active',\nTimeToLive: 1209600,\nTo: 'moequeue' },\ncontentType: 'application/xml; charset=utf-8' }\n</code></pre>\n\n<p>If I compare that to a message inserted into the queue via serviceBus.sendQueueMessage(), then the properties look like this:</p>\n\n<pre><code>{ body: 'test message',\nbrokerProperties:\n{ DeliveryCount: 1,\nEnqueuedSequenceNumber: 0,\nEnqueuedTimeUtc: 'Wed, 04 Nov 2015 21:44:03 GMT',\nMessageId: 'bc0a3d4f-15ba-434f-9fb0-1a3789885f8c',\nPartitionKey: '734',\nSequenceNumber: 37436171906517256,\nState: 'Active',\nTimeToLive: 1209600 },\ncontentType: 'text/plain',\ncustomProperties:\n{ message_number: 0,\nsent_date: Wed Nov 04 2015 21:44:03 GMT+0000 (UTC) } }\n</code></pre>\n\n<p>So content type is different to start with - why? - and then where does the strange garbage in the body of the first message payload come from: <strong>@\\u0006string\\b3http://schemas.microsoft.com/2003/10/Serialization/�\\u001a</strong>\nIs that the result of serialization? How can this be mitigated?</p>\n\n<p>Find the code as well here:\n<a href=\"http://pastebin.com/T9RTFRBk\" rel=\"nofollow\">http://pastebin.com/T9RTFRBk</a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671717248,"post_id":74889354,"comment_id":132161204,"body_markdown":"Most of these questions can be answered by reading the docs: [MouseEvent](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/event/MouseEvent.html)  In this case it tells me that there&#39;s a `getSource()` method but no `getTarget()` method.  Your Eck book is being fairly fast and loose with the API, you might try looking around for a better guide.  https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html","body":"Most of these questions can be answered by reading the docs: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/event/MouseEvent.html\" rel=\"nofollow noreferrer\">MouseEvent</a>  In this case it tells me that there&#39;s a <code>getSource()</code> method but no <code>getTarget()</code> method.  Your Eck book is being fairly fast and loose with the API, you might try looking around for a better guide.  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/&hellip;</a>"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1671717489,"post_id":74889354,"comment_id":132161282,"body_markdown":"@markspace, [getTarget()](https://docs.oracle.com/javase/8/javafx/api/javafx/event/Event.html#getTarget--)","body":"@markspace, <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/event/Event.html#getTarget--\" rel=\"nofollow noreferrer\">getTarget()</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671718706,"post_id":74889354,"comment_id":132161677,"body_markdown":"That&#39;s Event, not MouseEvent.  The source book is mixing Swing and JavaFx classes.  It&#39;s not a great idea.","body":"That&#39;s Event, not MouseEvent.  The source book is mixing Swing and JavaFx classes.  It&#39;s not a great idea."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671719163,"post_id":74889354,"comment_id":132161818,"body_markdown":"a good resource for learning fx event processing is the ol&#39; tutorial - https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117 ... also, don&#39;t forget to study the api doc (as @mrmcwolf already suggested) , it&#39;s a bit dense at places but correct","body":"a good resource for learning fx event processing is the ol&#39; tutorial - <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/events.htm#JFXED117\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/events-tutorial/&hellip;</a> ... also, don&#39;t forget to study the api doc (as @mrmcwolf already suggested) , it&#39;s a bit dense at places but correct"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1671719841,"post_id":74889354,"comment_id":132162084,"body_markdown":"I&#39;ll try to put it simply: `source` can be **anything** (the source of the event), `target` its receiver (javafx node), and `listener`s can register anywhere along the chain from the root node to the target and back.","body":"I&#39;ll try to put it simply: <code>source</code> can be <b>anything</b> (the source of the event), <code>target</code> its receiver (javafx node), and <code>listener</code>s can register anywhere along the chain from the root node to the target and back."},{"owner":{"account_id":22029953,"reputation":33,"user_id":16297378,"display_name":"trier"},"score":0,"creation_date":1671721102,"post_id":74889354,"comment_id":132162549,"body_markdown":"Thanks very much, for this. I think the book was correct that the source according to the following test which i will attempt to paste as an answer. In JavaFX, the target emits the events and the source detects them. If this is correct, it is completely backwards from what my experience with web apis would lead me to believe.","body":"Thanks very much, for this. I think the book was correct that the source according to the following test which i will attempt to paste as an answer. In JavaFX, the target emits the events and the source detects them. If this is correct, it is completely backwards from what my experience with web apis would lead me to believe."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1671724359,"post_id":74889354,"comment_id":132163787,"body_markdown":"repeating: please study the basic description of fx event handling - I believe that there is no way to fully understand the concept of source/target in fx context - they are the _positions_ of the event in the dispatch chain, in particular: source == _Origin of the event, with respect to the location of the event in the event dispatch chain_ and target == _Node on which the action occurred and the end node in the event dispatch chain_ The former changes while being delivered along the chain, the latter remains the same but might never be reached.","body":"repeating: please study the basic description of fx event handling - I believe that there is no way to fully understand the concept of source/target in fx context - they are the <i>positions</i> of the event in the dispatch chain, in particular: source == <i>Origin of the event, with respect to the location of the event in the event dispatch chain</i> and target == <i>Node on which the action occurred and the end node in the event dispatch chain</i> The former changes while being delivered along the chain, the latter remains the same but might never be reached."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671732063,"post_id":74889354,"comment_id":132166100,"body_markdown":"Please don’t screenshot code, put it in the question as text, formatted as code.","body":"Please don’t screenshot code, put it in the question as text, formatted as code."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671948198,"post_id":74894816,"comment_id":132199862,"body_markdown":"Also worth noting is that, if anything consumes the event in either of the phases, it stops traveling at that point and cannot be seen by later handlers or filters that would have been triggered in the chain.  This can be the reason that sometimes a developer does not see an event they expected (something else already consumed the event).","body":"Also worth noting is that, if anything consumes the event in either of the phases, it stops traveling at that point and cannot be seen by later handlers or filters that would have been triggered in the chain.  This can be the reason that sometimes a developer does not see an event they expected (something else already consumed the event)."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671751889,"creation_date":1671751889,"answer_id":74894816,"question_id":74889354,"body_markdown":"Events in JavaFX have a target, but they don&#39;t necessarily _start_ at the target. They travel from the top of the scene graph towards the target and then travel back up. The travelling down phase is known as the &quot;capturing phase&quot;, while the travelling up phase is known as the &quot;bubbling phase&quot;.\r\n\r\nCapturing phase:\r\n\r\n```lang-none\r\nWindow → Scene → Root Layout → Layout 1 → Layout 2 → Target Node\r\n```\r\n\r\nBubbling phase:\r\n\r\n```lang-none\r\nWindow ← Scene ← Root Layout ← Layout 1 ← Layout 2 ← Target Node\r\n```\r\n\r\nWhat this means is that `EventHandler`s, or even the same `EventHandler`, can be registered at any point along this path/chain. Throughout the entire process, the _target_ remains the same. But the _source_ changes as the event travels, so that it is always the `Window` / `Scene` / `Node` that is _currently processing_ the event. You can see this with the following code:\r\n\r\n```lang-java\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.Event;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private int indent;\r\n    private final EventHandler&lt;Event&gt; filter = event -&gt; {\r\n        System.out.printf(\r\n                &quot;%ssource = %s, target = %s%n&quot;,\r\n                &quot; &quot;.repeat(indent),\r\n                event.getSource(),\r\n                event.getTarget()\r\n        );\r\n        if (event.getSource() != event.getTarget()) {\r\n            indent += 4;\r\n        } else {\r\n            System.out.println(&quot; &quot;.repeat(indent) + &quot;CAPTURING PHASE COMPLETE -- BUBBLING PHASE STARTING&quot;);\r\n        }\r\n    };\r\n    private final EventHandler&lt;Event&gt; handler = event -&gt; {\r\n        System.out.printf(\r\n                &quot;%ssource = %s, target = %s%n&quot;,\r\n                &quot; &quot;.repeat(indent),\r\n                event.getSource(),\r\n                event.getTarget()\r\n        );\r\n        indent -= 4;\r\n    };\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button targetNode = new Button(&quot;Click me!&quot;);\r\n        targetNode.addEventFilter(ActionEvent.ACTION, filter);\r\n        targetNode.addEventHandler(ActionEvent.ACTION, handler);\r\n        targetNode.setId(&quot;targetNode&quot;);\r\n\r\n        StackPane layoutTwo = new StackPane(targetNode);\r\n        layoutTwo.addEventFilter(ActionEvent.ACTION, filter);\r\n        layoutTwo.addEventHandler(ActionEvent.ACTION, handler);\r\n        layoutTwo.setId(&quot;layoutTwo&quot;);\r\n\r\n        StackPane layoutOne = new StackPane(layoutTwo);\r\n        layoutOne.addEventFilter(ActionEvent.ACTION, filter);\r\n        layoutOne.addEventHandler(ActionEvent.ACTION, handler);\r\n        layoutOne.setId(&quot;layoutOne&quot;);\r\n\r\n        StackPane rootLayout = new StackPane(layoutOne);\r\n        rootLayout.addEventFilter(ActionEvent.ACTION, filter);\r\n        rootLayout.addEventHandler(ActionEvent.ACTION, handler);\r\n        rootLayout.setId(&quot;rootLayout&quot;);\r\n\r\n        Scene scene = new Scene(rootLayout, 500, 300);\r\n        scene.addEventFilter(ActionEvent.ACTION, filter);\r\n        scene.addEventHandler(ActionEvent.ACTION, handler);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.addEventFilter(ActionEvent.ACTION, filter);\r\n        primaryStage.addEventHandler(ActionEvent.ACTION, handler);\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\nOutput (when you click the button):\r\n\r\n```lang-none\r\nsource = javafx.stage.Stage@7a23cddd, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n    source = javafx.scene.Scene@67d7e678, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n        source = StackPane[id=rootLayout, styleClass=root], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n            source = StackPane[id=layoutOne], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n                source = StackPane[id=layoutTwo], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n                    source = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n                    CAPTURING PHASE COMPLETE -- BUBBLING PHASE STARTING\r\n                    source = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n                source = StackPane[id=layoutTwo], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n            source = StackPane[id=layoutOne], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n        source = StackPane[id=rootLayout, styleClass=root], target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n    source = javafx.scene.Scene@67d7e678, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\nsource = javafx.stage.Stage@7a23cddd, target = Button[id=targetNode, styleClass=button]&#39;Click me!&#39;\r\n```\r\n\r\nAs you can see, the source changes but the target remains the same.\r\n\r\nNote that event &quot;filters&quot; are invoked during the capturing phase, whereas event &quot;handlers&quot; are invoked during the bubbling phase. An `EventHandler` that&#39;s registered via one of the `onXXX` properties are also invoked during the bubbling phase.","title":"JavaFX question on terms &quot;target&quot; and &quot;source&quot;","body":"<p>Events in JavaFX have a target, but they don't necessarily <em>start</em> at the target. They travel from the top of the scene graph towards the target and then travel back up. The travelling down phase is known as the &quot;capturing phase&quot;, while the travelling up phase is known as the &quot;bubbling phase&quot;.</p>\n<p>Capturing phase:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Window → Scene → Root Layout → Layout 1 → Layout 2 → Target Node\n</code></pre>\n<p>Bubbling phase:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Window ← Scene ← Root Layout ← Layout 1 ← Layout 2 ← Target Node\n</code></pre>\n<p>What this means is that <code>EventHandler</code>s, or even the same <code>EventHandler</code>, can be registered at any point along this path/chain. Throughout the entire process, the <em>target</em> remains the same. But the <em>source</em> changes as the event travels, so that it is always the <code>Window</code> / <code>Scene</code> / <code>Node</code> that is <em>currently processing</em> the event. You can see this with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.Event;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private int indent;\n    private final EventHandler&lt;Event&gt; filter = event -&gt; {\n        System.out.printf(\n                &quot;%ssource = %s, target = %s%n&quot;,\n                &quot; &quot;.repeat(indent),\n                event.getSource(),\n                event.getTarget()\n        );\n        if (event.getSource() != event.getTarget()) {\n            indent += 4;\n        } else {\n            System.out.println(&quot; &quot;.repeat(indent) + &quot;CAPTURING PHASE COMPLETE -- BUBBLING PHASE STARTING&quot;);\n        }\n    };\n    private final EventHandler&lt;Event&gt; handler = event -&gt; {\n        System.out.printf(\n                &quot;%ssource = %s, target = %s%n&quot;,\n                &quot; &quot;.repeat(indent),\n                event.getSource(),\n                event.getTarget()\n        );\n        indent -= 4;\n    };\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button targetNode = new Button(&quot;Click me!&quot;);\n        targetNode.addEventFilter(ActionEvent.ACTION, filter);\n        targetNode.addEventHandler(ActionEvent.ACTION, handler);\n        targetNode.setId(&quot;targetNode&quot;);\n\n        StackPane layoutTwo = new StackPane(targetNode);\n        layoutTwo.addEventFilter(ActionEvent.ACTION, filter);\n        layoutTwo.addEventHandler(ActionEvent.ACTION, handler);\n        layoutTwo.setId(&quot;layoutTwo&quot;);\n\n        StackPane layoutOne = new StackPane(layoutTwo);\n        layoutOne.addEventFilter(ActionEvent.ACTION, filter);\n        layoutOne.addEventHandler(ActionEvent.ACTION, handler);\n        layoutOne.setId(&quot;layoutOne&quot;);\n\n        StackPane rootLayout = new StackPane(layoutOne);\n        rootLayout.addEventFilter(ActionEvent.ACTION, filter);\n        rootLayout.addEventHandler(ActionEvent.ACTION, handler);\n        rootLayout.setId(&quot;rootLayout&quot;);\n\n        Scene scene = new Scene(rootLayout, 500, 300);\n        scene.addEventFilter(ActionEvent.ACTION, filter);\n        scene.addEventHandler(ActionEvent.ACTION, handler);\n\n        primaryStage.setScene(scene);\n        primaryStage.addEventFilter(ActionEvent.ACTION, filter);\n        primaryStage.addEventHandler(ActionEvent.ACTION, handler);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>Output (when you click the button):</p>\n<pre class=\"lang-none prettyprint-override\"><code>source = javafx.stage.Stage@7a23cddd, target = Button[id=targetNode, styleClass=button]'Click me!'\n    source = javafx.scene.Scene@67d7e678, target = Button[id=targetNode, styleClass=button]'Click me!'\n        source = StackPane[id=rootLayout, styleClass=root], target = Button[id=targetNode, styleClass=button]'Click me!'\n            source = StackPane[id=layoutOne], target = Button[id=targetNode, styleClass=button]'Click me!'\n                source = StackPane[id=layoutTwo], target = Button[id=targetNode, styleClass=button]'Click me!'\n                    source = Button[id=targetNode, styleClass=button]'Click me!', target = Button[id=targetNode, styleClass=button]'Click me!'\n                    CAPTURING PHASE COMPLETE -- BUBBLING PHASE STARTING\n                    source = Button[id=targetNode, styleClass=button]'Click me!', target = Button[id=targetNode, styleClass=button]'Click me!'\n                source = StackPane[id=layoutTwo], target = Button[id=targetNode, styleClass=button]'Click me!'\n            source = StackPane[id=layoutOne], target = Button[id=targetNode, styleClass=button]'Click me!'\n        source = StackPane[id=rootLayout, styleClass=root], target = Button[id=targetNode, styleClass=button]'Click me!'\n    source = javafx.scene.Scene@67d7e678, target = Button[id=targetNode, styleClass=button]'Click me!'\nsource = javafx.stage.Stage@7a23cddd, target = Button[id=targetNode, styleClass=button]'Click me!'\n</code></pre>\n<p>As you can see, the source changes but the target remains the same.</p>\n<p>Note that event &quot;filters&quot; are invoked during the capturing phase, whereas event &quot;handlers&quot; are invoked during the bubbling phase. An <code>EventHandler</code> that's registered via one of the <code>onXXX</code> properties are also invoked during the bubbling phase.</p>\n"}],"owner":{"account_id":22029953,"reputation":33,"user_id":16297378,"display_name":"trier"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74894816,"answer_count":1,"score":-1,"last_activity_date":1671751889,"creation_date":1671716454,"question_id":74889354,"body_markdown":"I am hoping you can help clarify something for me. I believe I understand the author&#39;s treatment of event handling in JavaFX up until he stated the following (Eck, 2022, Section 6.3.1):\r\n\r\n“The object that the listener is registered with is called the&#160;source&#160;of the event”.\r\n\r\nIsn&#39;t it the &quot;target&quot; that we register the listener objects with? And sometimes the target and source can be the same. The source is component that generates the event objects.\r\n\r\nEdit: Thanks everyone! I tested this and it seems that these terms in JavaFX are kind of backwards. This is modified from example in book. The target is the button (!) which emits the event and the source (the HBox container) detects them!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nReferences:\r\n\r\nEck, D. J. (2022). Introduction to programming using Java, version 9.0. http://math.hws.edu/javanotes\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNRWi.png","title":"JavaFX question on terms &quot;target&quot; and &quot;source&quot;","body":"<p>I am hoping you can help clarify something for me. I believe I understand the author's treatment of event handling in JavaFX up until he stated the following (Eck, 2022, Section 6.3.1):</p>\n<p>“The object that the listener is registered with is called the source of the event”.</p>\n<p>Isn't it the &quot;target&quot; that we register the listener objects with? And sometimes the target and source can be the same. The source is component that generates the event objects.</p>\n<p>Edit: Thanks everyone! I tested this and it seems that these terms in JavaFX are kind of backwards. This is modified from example in book. The target is the button (!) which emits the event and the source (the HBox container) detects them!</p>\n<p><a href=\"https://i.stack.imgur.com/JNRWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JNRWi.png\" alt=\"enter image description here\" /></a></p>\n<p>References:</p>\n<p>Eck, D. J. (2022). Introduction to programming using Java, version 9.0. <a href=\"http://math.hws.edu/javanotes\" rel=\"nofollow noreferrer\">http://math.hws.edu/javanotes</a></p>\n"},{"tags":["java","datetime","jodatime"],"comments":[{"owner":{"account_id":4209791,"reputation":4656,"user_id":3447827,"accept_rate":75,"display_name":"durbnpoisn"},"score":2,"creation_date":1426101155,"post_id":28995301,"comment_id":46238861,"body_markdown":"I think you may need to write some code, or show what you have so far.","body":"I think you may need to write some code, or show what you have so far."},{"owner":{"account_id":1419364,"reputation":63,"user_id":1344316,"display_name":"pieterjanvh"},"score":1,"creation_date":1426101553,"post_id":28995301,"comment_id":46239072,"body_markdown":"Sharing the things I came up with would really not make any sense. I haven&#39;t even come close to a solution. I have spent hours on googling about this and came up empty. If the solutions is obvious, I must be using the wrong keywords...\nPosting here is always a last resort for me (as you can see by the very few questions I ask).","body":"Sharing the things I came up with would really not make any sense. I haven&#39;t even come close to a solution. I have spent hours on googling about this and came up empty. If the solutions is obvious, I must be using the wrong keywords... Posting here is always a last resort for me (as you can see by the very few questions I ask)."}],"answers":[{"comments":[{"owner":{"account_id":1419364,"reputation":63,"user_id":1344316,"display_name":"pieterjanvh"},"score":1,"creation_date":1426101946,"post_id":28995458,"comment_id":46239311,"body_markdown":"Thanks a lot, this might get me somewhere. Have not thought about it this way. *shame*","body":"Thanks a lot, this might get me somewhere. Have not thought about it this way. <i>shame</i>"},{"owner":{"account_id":1419364,"reputation":63,"user_id":1344316,"display_name":"pieterjanvh"},"score":0,"creation_date":1426104185,"post_id":28995458,"comment_id":46240655,"body_markdown":"Yes sir, that got me there in 20 minutes. Thank you for your help and sorry for wasting your time.","body":"Yes sir, that got me there in 20 minutes. Thank you for your help and sorry for wasting your time."},{"owner":{"account_id":3348783,"reputation":4096,"user_id":2813306,"accept_rate":70,"display_name":"Davis Broda"},"score":0,"creation_date":1426104385,"post_id":28995458,"comment_id":46240760,"body_markdown":"@pieterjanvh No need to apologize. You&#39;re not the only one to struggle with this issue. I&#39;ve seen several other people run into the same wall. This sort of thing is basically what stackoverflow is for.","body":"@pieterjanvh No need to apologize. You&#39;re not the only one to struggle with this issue. I&#39;ve seen several other people run into the same wall. This sort of thing is basically what stackoverflow is for."},{"owner":{"account_id":1419364,"reputation":63,"user_id":1344316,"display_name":"pieterjanvh"},"score":0,"creation_date":1426106344,"post_id":28995458,"comment_id":46241875,"body_markdown":"The pseudocode does not take weekends in account, but I have found a solution never the less. I will edit my question with the solution. Thank you for your help.","body":"The pseudocode does not take weekends in account, but I have found a solution never the less. I will edit my question with the solution. Thank you for your help."},{"owner":{"account_id":3348783,"reputation":4096,"user_id":2813306,"accept_rate":70,"display_name":"Davis Broda"},"score":0,"creation_date":1426106534,"post_id":28995458,"comment_id":46241984,"body_markdown":"@pieterjanvh Weekdays would be little more than another iteration of this code, with onSameWorkWeek replacing onSameWorkDay? and similar replacements.I figured that if you got the days working you wouldn&#39;t have too much trouble with the weeks, so it wasn&#39;t worth making the answer more complicated by inserting week-handling code..","body":"@pieterjanvh Weekdays would be little more than another iteration of this code, with onSameWorkWeek replacing onSameWorkDay? and similar replacements.I figured that if you got the days working you wouldn&#39;t have too much trouble with the weeks, so it wasn&#39;t worth making the answer more complicated by inserting week-handling code.."}],"tags":[],"owner":{"account_id":3348783,"reputation":4096,"user_id":2813306,"accept_rate":70,"display_name":"Davis Broda"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1426101457,"creation_date":1426101457,"answer_id":28995458,"question_id":28995301,"body_markdown":"a pseudocode solution might look something like the below.\r\n\r\n    onSameWorkDay?\r\n    \r\n        if yes\r\n            simple date comparison\r\n        if no\r\n            days = find number of whole work days between the two dates\r\n            dayToMin = days * 8 * 60\r\n            minDay1 = find minutes between specified start time and end of day1\r\n            minDay2 = find minutes between start of final day and specified end time\r\n            totalTime = dayToMin + minDay1 + minDay2\r\n\r\n","title":"Get minutes between two working days in Java","body":"<p>a pseudocode solution might look something like the below.</p>\n\n<pre><code>onSameWorkDay?\n\n    if yes\n        simple date comparison\n    if no\n        days = find number of whole work days between the two dates\n        dayToMin = days * 8 * 60\n        minDay1 = find minutes between specified start time and end of day1\n        minDay2 = find minutes between start of final day and specified end time\n        totalTime = dayToMin + minDay1 + minDay2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":419699,"reputation":149,"user_id":797006,"accept_rate":36,"display_name":"Martin"},"score":0,"creation_date":1660625561,"post_id":71011182,"comment_id":129569702,"body_markdown":"This is a great solution - thank you","body":"This is a great solution - thank you"}],"tags":[],"owner":{"account_id":23676876,"reputation":11,"user_id":17703012,"display_name":"anshuman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644177852,"creation_date":1644177852,"answer_id":71011182,"question_id":28995301,"body_markdown":"I think people on lookout for a solution of this problem will find this repo useful: https://github.com/ansshuman/silversurfer\r\n\r\nSpecifically this java code file: https://github.com/ansshuman/silversurfer/blob/main/src/com/github/ansshuman/timesurfer/TimeSurfer.java\r\n\r\nIts method &#39;public Long calculateWorkingTimeInMillis(Date start, Date end)&#39; calculates working time between two dates. Time and Space complexity both are O(1) for the program. Uses the old Date and calendar api but works properly though","title":"Get minutes between two working days in Java","body":"<p>I think people on lookout for a solution of this problem will find this repo useful: <a href=\"https://github.com/ansshuman/silversurfer\" rel=\"nofollow noreferrer\">https://github.com/ansshuman/silversurfer</a></p>\n<p>Specifically this java code file: <a href=\"https://github.com/ansshuman/silversurfer/blob/main/src/com/github/ansshuman/timesurfer/TimeSurfer.java\" rel=\"nofollow noreferrer\">https://github.com/ansshuman/silversurfer/blob/main/src/com/github/ansshuman/timesurfer/TimeSurfer.java</a></p>\n<p>Its method 'public Long calculateWorkingTimeInMillis(Date start, Date end)' calculates working time between two dates. Time and Space complexity both are O(1) for the program. Uses the old Date and calendar api but works properly though</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1671719972,"post_id":74889377,"comment_id":132162136,"body_markdown":"Thanks for the contribution, What you say is very true and helpful. We don’t value link-only answers much on Stack Overflow, so you may want to explain a little about how `LocalDateTime` helps find the result (with or without code, it’s no requirement).","body":"Thanks for the contribution, What you say is very true and helpful. We don’t value link-only answers much on Stack Overflow, so you may want to explain a little about how <code>LocalDateTime</code> helps find the result (with or without code, it’s no requirement)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671749777,"post_id":74889377,"comment_id":132170453,"body_markdown":"`LocalDateTime` is actually the wrong class to use here. That class lacks the context of a time zone. So calculating elapsed time between moments is impossible as your calculation will fail to account for anomalies such Daylight Saving Time (DST).","body":"<code>LocalDateTime</code> is actually the wrong class to use here. That class lacks the context of a time zone. So calculating elapsed time between moments is impossible as your calculation will fail to account for anomalies such Daylight Saving Time (DST)."}],"tags":[],"owner":{"account_id":11895837,"reputation":1,"user_id":8705301,"display_name":"Khaver Hussaini Syed "},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671716630,"creation_date":1671716630,"answer_id":74889377,"question_id":28995301,"body_markdown":"In the latest Java version as date it is easier to do with [LocalDateTime](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html).","title":"Get minutes between two working days in Java","body":"<p>In the latest Java version as date it is easier to do with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a>.</p>\n"}],"owner":{"account_id":1419364,"reputation":63,"user_id":1344316,"display_name":"pieterjanvh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28995458,"answer_count":3,"score":0,"last_activity_date":1671750059,"creation_date":1426100991,"question_id":28995301,"body_markdown":"I am trying to calculate the minutes between two Joda DateTimes or Calendars in Java.\r\nOfcourse this would be simple if I could use the Minutes.minutesBetween function, but I can only count the minutes between working days and 8:00 AM - 6:00 PM.\r\n\r\nE.g.:\r\n\r\n&gt; Startdate: 03-11-2015 16:00  \r\n&gt; Enddate: 03-11-2015 17:00\r\n\r\n\r\n\r\nThis would be simple, as it would be exactly 60 minutes. Because it&#39;s a workday and between the given work hours.\r\n\r\nNow what I am trying to calculate is:\r\n\r\n&gt; Startdate: 03-11-2015 17:00  \r\n&gt; Enddate: 03-12-2015 09:00\r\n\r\nThis should return 120 minutes even though there&#39;s a lot more minutes in between, because there&#39;s only two working hours between the two dates.\r\n\r\nSometimes there&#39;s also a weekend between two dates, those minutes should not be added either.\r\n\r\nI have been trying tirelessly to implement this, but I have not found a solution.\r\n\r\nAny ideas?\r\n\r\nThanks in advance.\r\n\r\nEDIT:\r\nThanks to Davis Broda&#39;s pseudocode I have found a solution:\r\n\r\n    private static int BEGINWORKHOUR = 8;\r\n    private static int ENDWORKHOUR = 16;\r\n\r\n    public int getWorkedMinutes(){\r\n        Calendar start = (Calendar) this.startTime.clone();\r\n        Calendar end = (Calendar) this.endTime.clone();\r\n\r\n        if(start.get(Calendar.HOUR_OF_DAY) &lt; BEGINWORKHOUR){\r\n            start.set(Calendar.HOUR_OF_DAY, BEGINWORKHOUR);\r\n            start.set(Calendar.MINUTE, 0);\r\n        }\r\n\r\n        if(end.get(Calendar.HOUR_OF_DAY) &gt;= ENDWORKHOUR){\r\n            end.set(Calendar.HOUR_OF_DAY, ENDWORKHOUR);\r\n            end.set(Calendar.MINUTE, 0);\r\n        }\r\n\r\n        int workedMins = 0;\r\n        while(!sameDay(start, end)){\r\n            workedMins += workedMinsDay(start);\r\n            start.add(Calendar.DAY_OF_MONTH, 1);\r\n            start.set(Calendar.HOUR_OF_DAY, BEGINWORKHOUR);\r\n            start.set(Calendar.MINUTE, 0);\r\n        }\r\n        workedMins += (end.get(Calendar.MINUTE) - start.get(Calendar.MINUTE)) + ((end.get(Calendar.HOUR_OF_DAY) - start.get(Calendar.HOUR_OF_DAY))*60);\r\n        return workedMins;\r\n    }\r\n\r\n    private int workedMinsDay(Calendar start){\r\n        if((start.get(Calendar.DAY_OF_WEEK) == 1) || (start.get(Calendar.DAY_OF_WEEK) == 6))    return 0;\r\n        else return (60 - start.get(Calendar.MINUTE)) + ((ENDWORKHOUR - start.get(Calendar.HOUR_OF_DAY) - 1)*60);\r\n    }\r\n\r\n    private boolean sameDay(Calendar start, Calendar end){\r\n        if(start.get(Calendar.YEAR) == end.get(Calendar.YEAR) &amp;&amp; start.get(Calendar.MONTH) == end.get(Calendar.MONTH) &amp;&amp;\r\n                start.get(Calendar.DAY_OF_MONTH) == end.get(Calendar.DAY_OF_MONTH)) return true;\r\n        else return false;\r\n    }","title":"Get minutes between two working days in Java","body":"<p>I am trying to calculate the minutes between two Joda DateTimes or Calendars in Java.\nOfcourse this would be simple if I could use the Minutes.minutesBetween function, but I can only count the minutes between working days and 8:00 AM - 6:00 PM.</p>\n\n<p>E.g.:</p>\n\n<blockquote>\n  <p>Startdate: 03-11-2015 16:00<br>\n  Enddate: 03-11-2015 17:00</p>\n</blockquote>\n\n<p>This would be simple, as it would be exactly 60 minutes. Because it's a workday and between the given work hours.</p>\n\n<p>Now what I am trying to calculate is:</p>\n\n<blockquote>\n  <p>Startdate: 03-11-2015 17:00<br>\n  Enddate: 03-12-2015 09:00</p>\n</blockquote>\n\n<p>This should return 120 minutes even though there's a lot more minutes in between, because there's only two working hours between the two dates.</p>\n\n<p>Sometimes there's also a weekend between two dates, those minutes should not be added either.</p>\n\n<p>I have been trying tirelessly to implement this, but I have not found a solution.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT:\nThanks to Davis Broda's pseudocode I have found a solution:</p>\n\n<pre><code>private static int BEGINWORKHOUR = 8;\nprivate static int ENDWORKHOUR = 16;\n\npublic int getWorkedMinutes(){\n    Calendar start = (Calendar) this.startTime.clone();\n    Calendar end = (Calendar) this.endTime.clone();\n\n    if(start.get(Calendar.HOUR_OF_DAY) &lt; BEGINWORKHOUR){\n        start.set(Calendar.HOUR_OF_DAY, BEGINWORKHOUR);\n        start.set(Calendar.MINUTE, 0);\n    }\n\n    if(end.get(Calendar.HOUR_OF_DAY) &gt;= ENDWORKHOUR){\n        end.set(Calendar.HOUR_OF_DAY, ENDWORKHOUR);\n        end.set(Calendar.MINUTE, 0);\n    }\n\n    int workedMins = 0;\n    while(!sameDay(start, end)){\n        workedMins += workedMinsDay(start);\n        start.add(Calendar.DAY_OF_MONTH, 1);\n        start.set(Calendar.HOUR_OF_DAY, BEGINWORKHOUR);\n        start.set(Calendar.MINUTE, 0);\n    }\n    workedMins += (end.get(Calendar.MINUTE) - start.get(Calendar.MINUTE)) + ((end.get(Calendar.HOUR_OF_DAY) - start.get(Calendar.HOUR_OF_DAY))*60);\n    return workedMins;\n}\n\nprivate int workedMinsDay(Calendar start){\n    if((start.get(Calendar.DAY_OF_WEEK) == 1) || (start.get(Calendar.DAY_OF_WEEK) == 6))    return 0;\n    else return (60 - start.get(Calendar.MINUTE)) + ((ENDWORKHOUR - start.get(Calendar.HOUR_OF_DAY) - 1)*60);\n}\n\nprivate boolean sameDay(Calendar start, Calendar end){\n    if(start.get(Calendar.YEAR) == end.get(Calendar.YEAR) &amp;&amp; start.get(Calendar.MONTH) == end.get(Calendar.MONTH) &amp;&amp;\n            start.get(Calendar.DAY_OF_MONTH) == end.get(Calendar.DAY_OF_MONTH)) return true;\n    else return false;\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671750605,"post_id":74894656,"comment_id":132170573,"body_markdown":"Are you asking us to write the security rules for your fully defined data structure and code? That seems a bit beyond what&#39;s reasonable on Stack Overflow. Starting from https://firebase.google.com/docs/database/security (including the video) and https://firebase.google.com/docs/rules would be better for that. --- If you have a specific read or write operation that you tried to write rules for and can&#39;t get working, please update your question to show where exactly you got stuck.","body":"Are you asking us to write the security rules for your fully defined data structure and code? That seems a bit beyond what&#39;s reasonable on Stack Overflow. Starting from <a href=\"https://firebase.google.com/docs/database/security\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/security</a> (including the video) and <a href=\"https://firebase.google.com/docs/rules\" rel=\"nofollow noreferrer\">firebase.google.com/docs/rules</a> would be better for that. --- If you have a specific read or write operation that you tried to write rules for and can&#39;t get working, please update your question to show where exactly you got stuck."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1671755320,"post_id":74894656,"comment_id":132171231,"body_markdown":"@FrankvanPuffelen No i am not asking for code i am asking for hints or any kind of sample which can relate to my structure","body":"@FrankvanPuffelen No i am not asking for code i am asking for hints or any kind of sample which can relate to my structure"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671750011,"creation_date":1671750011,"question_id":74894656,"body_markdown":"I am using Firebase Real time database for our chat app and it&#39;s works fine until i try to set rules \r\nright now i have unsecured rules. \r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;.read&quot;: true,\r\n        &quot;.write&quot;: true\r\n      }\r\n    }\r\n\r\nWhere anyone can write and read the entire database. So i generate custom token at user login then  sign in with FirebaseAuth.\r\n\r\n\r\n    mAuth.signInWithCustomToken(mCustomToken)\r\n            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        // Sign in success\r\n    \r\n                    } else {\r\n                        // If sign in fails\r\n                        Toast.makeText(CustomAuthActivity.this, &quot;Authentication failed.&quot;,\r\n                    }\r\n                }\r\n            });\r\n\r\nIf i use Database reference without child `DatabaseReference db = FirebaseDatabase.getInstance().getReference()` and rules like below then it&#39;s works without any issues\r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;.read&quot;: &quot;auth.uid !== null&quot;,\r\n        &quot;.write&quot;: &quot;auth.uid !== null&quot;,\r\n      }\r\n    }\r\n\r\nand when i start adding children like this `DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;Chat&quot;);` then it showing `DatabaseError: Permission denied` in log. My app is live with users so it won&#39;t set rules for now because it will block our users to access database and chat.\r\n\r\n\r\nThis is my actual realtime database.\r\n\r\n    {\r\n      &quot;Chat&quot;: {\r\n        &quot;919810012345-919810012346&quot;: &quot;&quot;,\r\n        &quot;919810012347-919810012348&quot;: {\r\n          &quot;-NI7hqW3YTFKpnSZU422&quot;: {\r\n            &quot;Message&quot;: &quot;Test Message&quot;,\r\n            &quot;Message_From&quot;: &quot;Demo User5&quot;,\r\n            &quot;Message_From_ID&quot;: &quot;0001&quot;,\r\n            &quot;Message_To&quot;: &quot;Test User&quot;,\r\n            &quot;Status&quot;: &quot;Delivered&quot;,\r\n            &quot;Time&quot;: &quot;1669814773643&quot;,\r\n          }\r\n        },\r\n        &quot;919810012345-919810012349&quot;: &quot;&quot;,\r\n        &quot;919810012345-919810012350&quot;: {\r\n          &quot;-NI7hXybU02Mg6vYqdKp&quot;: {\r\n            &quot;Message&quot;: &quot;Test Message&quot;,\r\n            &quot;Message_From&quot;: &quot;Demo User5 &quot;,\r\n            &quot;Message_From_ID&quot;: &quot;0001&quot;,\r\n            &quot;Message_To&quot;: &quot;Dummy User&quot;,\r\n            &quot;Status&quot;: &quot;Delivered&quot;,\r\n            &quot;Time&quot;: &quot;1669814693724&quot;,\r\n            &quot;Type&quot;: &quot;Typed_Message&quot;,\r\n          }\r\n        }\r\n      },\r\n      &quot;Users&quot;: {\r\n        &quot;0001&quot;: {\r\n          &quot;Online&quot;: false,\r\n          &quot;lastSeen&quot;: &quot;1671742997177&quot;\r\n        },\r\n        &quot;0002&quot;: {\r\n          &quot;Online&quot;: false\r\n        },\r\n        &quot;0003&quot;: {\r\n          &quot;Online&quot;: false\r\n        }\r\n      },\r\n      &quot;UsersLocations&quot;: {\r\n        &quot;0001&quot;: {\r\n          &quot;-1&quot;: {\r\n            &quot;Latitude&quot;: &quot;28.531&quot;,\r\n            &quot;Longitude&quot;: &quot;77.257&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nCan anyone help me to set rules for above database structure?\r\n\r\n","title":"Firebase Realtime Database Setup Rules For Custom Auth","body":"<p>I am using Firebase Real time database for our chat app and it's works fine until i try to set rules\nright now i have unsecured rules.</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>Where anyone can write and read the entire database. So i generate custom token at user login then  sign in with FirebaseAuth.</p>\n<pre><code>mAuth.signInWithCustomToken(mCustomToken)\n        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if (task.isSuccessful()) {\n                    // Sign in success\n\n                } else {\n                    // If sign in fails\n                    Toast.makeText(CustomAuthActivity.this, &quot;Authentication failed.&quot;,\n                }\n            }\n        });\n</code></pre>\n<p>If i use Database reference without child <code>DatabaseReference db = FirebaseDatabase.getInstance().getReference()</code> and rules like below then it's works without any issues</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;auth.uid !== null&quot;,\n    &quot;.write&quot;: &quot;auth.uid !== null&quot;,\n  }\n}\n</code></pre>\n<p>and when i start adding children like this <code>DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;Chat&quot;);</code> then it showing <code>DatabaseError: Permission denied</code> in log. My app is live with users so it won't set rules for now because it will block our users to access database and chat.</p>\n<p>This is my actual realtime database.</p>\n<pre><code>{\n  &quot;Chat&quot;: {\n    &quot;919810012345-919810012346&quot;: &quot;&quot;,\n    &quot;919810012347-919810012348&quot;: {\n      &quot;-NI7hqW3YTFKpnSZU422&quot;: {\n        &quot;Message&quot;: &quot;Test Message&quot;,\n        &quot;Message_From&quot;: &quot;Demo User5&quot;,\n        &quot;Message_From_ID&quot;: &quot;0001&quot;,\n        &quot;Message_To&quot;: &quot;Test User&quot;,\n        &quot;Status&quot;: &quot;Delivered&quot;,\n        &quot;Time&quot;: &quot;1669814773643&quot;,\n      }\n    },\n    &quot;919810012345-919810012349&quot;: &quot;&quot;,\n    &quot;919810012345-919810012350&quot;: {\n      &quot;-NI7hXybU02Mg6vYqdKp&quot;: {\n        &quot;Message&quot;: &quot;Test Message&quot;,\n        &quot;Message_From&quot;: &quot;Demo User5 &quot;,\n        &quot;Message_From_ID&quot;: &quot;0001&quot;,\n        &quot;Message_To&quot;: &quot;Dummy User&quot;,\n        &quot;Status&quot;: &quot;Delivered&quot;,\n        &quot;Time&quot;: &quot;1669814693724&quot;,\n        &quot;Type&quot;: &quot;Typed_Message&quot;,\n      }\n    }\n  },\n  &quot;Users&quot;: {\n    &quot;0001&quot;: {\n      &quot;Online&quot;: false,\n      &quot;lastSeen&quot;: &quot;1671742997177&quot;\n    },\n    &quot;0002&quot;: {\n      &quot;Online&quot;: false\n    },\n    &quot;0003&quot;: {\n      &quot;Online&quot;: false\n    }\n  },\n  &quot;UsersLocations&quot;: {\n    &quot;0001&quot;: {\n      &quot;-1&quot;: {\n        &quot;Latitude&quot;: &quot;28.531&quot;,\n        &quot;Longitude&quot;: &quot;77.257&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Can anyone help me to set rules for above database structure?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"answers":[{"comments":[{"owner":{"account_id":4480824,"reputation":2249,"user_id":3644938,"accept_rate":50,"display_name":"Ruelos Joel"},"score":0,"creation_date":1635172092,"post_id":48418394,"comment_id":123218018,"body_markdown":"This surely will work however it will always trigger that method even for other property changes, I think what&#39;s missing in RefreshScopeRefreshedEvent is the getKeys() method that EnvironmentChangeEvent can provide however EnvironmentChangeEvent doesn&#39;t guarantee the beans with @Refreshscope is updated","body":"This surely will work however it will always trigger that method even for other property changes, I think what&#39;s missing in RefreshScopeRefreshedEvent is the getKeys() method that EnvironmentChangeEvent can provide however EnvironmentChangeEvent doesn&#39;t guarantee the beans with @Refreshscope is updated"}],"tags":[],"owner":{"account_id":12195948,"reputation":438,"user_id":8901624,"display_name":"Jordi Mart&#237;nez"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516784269,"creation_date":1516784269,"answer_id":48418394,"question_id":47719463,"body_markdown":"With a RefreshScopeRefreshedEvent Listener you can get notified when the configuration is updated.\r\n\r\nThe following example works for me: \r\n\r\nThe configuration: \r\n\r\n\t@Configuration\r\n\tpublic class Config {\r\n\t\t@Bean\r\n\t\t@RefreshScope\r\n\t\tpublic A aBean() {\r\n\t\t\treturn new A();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic RefreshScopeRefreshedListener remoteApplicationEventListener(A aBean) {\r\n\t\t\treturn new RefreshScopeRefreshedListener(aBean);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nAnd the listener: \r\n\r\n\tpublic class RefreshScopeRefreshedListener implements ApplicationListener&lt;RefreshScopeRefreshedEvent&gt; {\r\n\t\tprivate A aBean;\r\n\r\n\t\tpublic RefreshScopeRefreshedListener(A abean) {\r\n\t\t\tthis.aBean = abean;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onApplicationEvent(RefreshScopeRefreshedEvent event) {\r\n\t\t\tSystem.out.println(aBean.getValue());\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nIt always print the new value of the configuration. \r\n\r\n\r\nIf you already tried this listener, are you sure that is has been registered well? The bean has been created correctly?","title":"How can I execute custom logic after Spring cloud configuration refresh?","body":"<p>With a RefreshScopeRefreshedEvent Listener you can get notified when the configuration is updated.</p>\n\n<p>The following example works for me: </p>\n\n<p>The configuration: </p>\n\n<pre><code>@Configuration\npublic class Config {\n    @Bean\n    @RefreshScope\n    public A aBean() {\n        return new A();\n    }\n\n    @Bean\n    public RefreshScopeRefreshedListener remoteApplicationEventListener(A aBean) {\n        return new RefreshScopeRefreshedListener(aBean);\n    }\n\n}\n</code></pre>\n\n<p>And the listener: </p>\n\n<pre><code>public class RefreshScopeRefreshedListener implements ApplicationListener&lt;RefreshScopeRefreshedEvent&gt; {\n    private A aBean;\n\n    public RefreshScopeRefreshedListener(A abean) {\n        this.aBean = abean;\n    }\n\n    @Override\n    public void onApplicationEvent(RefreshScopeRefreshedEvent event) {\n        System.out.println(aBean.getValue());\n\n    }\n\n}\n</code></pre>\n\n<p>It always print the new value of the configuration. </p>\n\n<p>If you already tried this listener, are you sure that is has been registered well? The bean has been created correctly?</p>\n"},{"tags":[],"owner":{"account_id":4480824,"reputation":2249,"user_id":3644938,"accept_rate":50,"display_name":"Ruelos Joel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635173150,"creation_date":1635173150,"answer_id":69710129,"question_id":47719463,"body_markdown":"What I&#39;ve done is to get hook of `EnvironmentChangeEvent` listener, and then get the updated properties from the `Environment` itself, not from the `@Autowired Bean bean`\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @EventListener(EnvironmentChangeEvent.class)\r\n    public void onApplicationEvent(EnvironmentChangeEvent environmentChangeEvent) {\r\n        log.info(&quot;Received an environment changed event for keys {}&quot;, environmentChangeEvent.getKeys());\r\n        if(environmentChangeEvent.getKeys().contains(&quot;key.i.wanted.to.recalculate&quot;)) {\r\n            String newValue = env.getProperty(&quot;key.i.wanted.to.recalculate&quot;);\r\n            System.out.println(&quot;New Value: &quot; + newValue);\r\n        }\r\n    }","title":"How can I execute custom logic after Spring cloud configuration refresh?","body":"<p>What I've done is to get hook of <code>EnvironmentChangeEvent</code> listener, and then get the updated properties from the <code>Environment</code> itself, not from the <code>@Autowired Bean bean</code></p>\n<pre><code>@Autowired\nprivate Environment env;\n\n@EventListener(EnvironmentChangeEvent.class)\npublic void onApplicationEvent(EnvironmentChangeEvent environmentChangeEvent) {\n    log.info(&quot;Received an environment changed event for keys {}&quot;, environmentChangeEvent.getKeys());\n    if(environmentChangeEvent.getKeys().contains(&quot;key.i.wanted.to.recalculate&quot;)) {\n        String newValue = env.getProperty(&quot;key.i.wanted.to.recalculate&quot;);\n        System.out.println(&quot;New Value: &quot; + newValue);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19375828,"reputation":51,"user_id":14168116,"display_name":"selva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641387599,"creation_date":1641387599,"answer_id":70593289,"question_id":47719463,"body_markdown":"Alternatively you can add @PostConstruct with @ConfigurationProperties so that you can write your custom logic \r\n\r\n    @ConfigurationProperties(prefix = &quot;dummy.just.to.trigger.actuator.refresh&quot;)\r\n    Class AnyPropLoader {\r\n    @PostConstruct\r\n    private void customLogicMethod(){\r\n    ...\r\n    }\r\n    }","title":"How can I execute custom logic after Spring cloud configuration refresh?","body":"<p>Alternatively you can add @PostConstruct with @ConfigurationProperties so that you can write your custom logic</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;dummy.just.to.trigger.actuator.refresh&quot;)\nClass AnyPropLoader {\n@PostConstruct\nprivate void customLogicMethod(){\n...\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092764,"reputation":143,"user_id":1087029,"display_name":"AlejandroHernandez.Inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671749793,"creation_date":1671749075,"answer_id":74894562,"question_id":47719463,"body_markdown":"- Create a Bean (dto or an object)\r\n- update it, in any method\r\n- Autowire that dto/object in another class\r\n- That class is updating the values of that DTO/Object\r\n\r\nThis is how I solved this updating of data and using @Autowired.","title":"How can I execute custom logic after Spring cloud configuration refresh?","body":"<ul>\n<li>Create a Bean (dto or an object)</li>\n<li>update it, in any method</li>\n<li>Autowire that dto/object in another class</li>\n<li>That class is updating the values of that DTO/Object</li>\n</ul>\n<p>This is how I solved this updating of data and using @Autowired.</p>\n"}],"owner":{"account_id":879489,"reputation":412,"user_id":156731,"accept_rate":60,"display_name":"X3no"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1671749793,"creation_date":1512754452,"question_id":47719463,"body_markdown":"I have my application set up to use Spring cloud config for providing configuration and have the monitor enabled so that the config server publishes change events to my application. The configuration gets updated correctly, but I want to be notified of when the configuration changes so I can execute some custom logic based on the new config.\r\n\r\nI have this configuration object\r\n\r\n    @Configuration\r\n    @RefreshScope\r\n    @ConfigurationProperties(prefix = &quot;my.prefix&quot;)\r\n    public class MyConfig {\r\n        private Map&lt;String, MyObject&gt; configs;\r\n        private String someValue;\r\n        \r\n        public Map&lt;String, MyObject&gt; getConfigs(){...}\r\n        public void setConfigs(){...}\r\n\r\n        public String getSomeValue(){...}\r\n        public void setSomeValue(){...}\r\n    }\r\n    ...\r\n    public class MyObject {\r\n       private String field1;\r\n       \r\n       public String getField1() {...}\r\n       public void setField1() {...}\r\n    }\r\n\r\nAnd this in my config servers application.yml\r\n\r\n    my:\r\n      prefix:\r\n        configs:\r\n          TEST:\r\n            field1: &quot;testValue&quot;\r\n        someValue: &quot;test&quot;\r\n\r\nNow when I change someValue in the configuration, and the config server publishes a refresh, it calls setSomeValue() and updates the value to the new value.  I can add my custom logic to setSomeValue() and it will work fine.  However it does not seem to call setConfigs() or setField1() when updating or adding/removing entries from configs. \r\n\r\nI tried registering a listener for EnviornmentChangeEvents, RefreshEvents, or RefreshScopeRefreshedEvents but those are either triggered before Spring updates the values or aren&#39;t triggered at all.  I also tried adding logic to @PreDestroy and @PostConstruct methods but only the PreDestroy ends up being called and it&#39;s called before the configuration is updated.  I also tried implementing InitializingBean and putting my logic in afterPropertiesSet() but it never get&#39;s called either.\r\n\r\nHow can I get notified when this configuration get&#39;s updated?","title":"How can I execute custom logic after Spring cloud configuration refresh?","body":"<p>I have my application set up to use Spring cloud config for providing configuration and have the monitor enabled so that the config server publishes change events to my application. The configuration gets updated correctly, but I want to be notified of when the configuration changes so I can execute some custom logic based on the new config.</p>\n\n<p>I have this configuration object</p>\n\n<pre><code>@Configuration\n@RefreshScope\n@ConfigurationProperties(prefix = \"my.prefix\")\npublic class MyConfig {\n    private Map&lt;String, MyObject&gt; configs;\n    private String someValue;\n\n    public Map&lt;String, MyObject&gt; getConfigs(){...}\n    public void setConfigs(){...}\n\n    public String getSomeValue(){...}\n    public void setSomeValue(){...}\n}\n...\npublic class MyObject {\n   private String field1;\n\n   public String getField1() {...}\n   public void setField1() {...}\n}\n</code></pre>\n\n<p>And this in my config servers application.yml</p>\n\n<pre><code>my:\n  prefix:\n    configs:\n      TEST:\n        field1: \"testValue\"\n    someValue: \"test\"\n</code></pre>\n\n<p>Now when I change someValue in the configuration, and the config server publishes a refresh, it calls setSomeValue() and updates the value to the new value.  I can add my custom logic to setSomeValue() and it will work fine.  However it does not seem to call setConfigs() or setField1() when updating or adding/removing entries from configs. </p>\n\n<p>I tried registering a listener for EnviornmentChangeEvents, RefreshEvents, or RefreshScopeRefreshedEvents but those are either triggered before Spring updates the values or aren't triggered at all.  I also tried adding logic to @PreDestroy and @PostConstruct methods but only the PreDestroy ends up being called and it's called before the configuration is updated.  I also tried implementing InitializingBean and putting my logic in afterPropertiesSet() but it never get's called either.</p>\n\n<p>How can I get notified when this configuration get's updated?</p>\n"},{"tags":["java","sql","spring","jpa","jpql"],"answers":[{"comments":[{"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"score":0,"creation_date":1671826181,"post_id":74894525,"comment_id":132185475,"body_markdown":"I&#39;d upvote your response but I cannot because my reputation ain&#39;t enough xD. Cheers!","body":"I&#39;d upvote your response but I cannot because my reputation ain&#39;t enough xD. Cheers!"}],"tags":[],"owner":{"account_id":2795980,"reputation":63,"user_id":2405198,"display_name":"user2405198"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671748597,"creation_date":1671748597,"answer_id":74894525,"question_id":74893352,"body_markdown":"You can use SQL instead HQL (nativeQuery=true)\r\n\r\n**DAO Layer**\r\n\r\n    package com.jb.app.repos;\r\n    \r\n    import com.jb.app.beans.Appointment;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface AppointmentRepository extends JpaRepository&lt;Appointment, Integer&gt; {\r\n    \r\n        @Query(value = &quot;SELECT * FROM APPOINTMENT WHERE appointment_date = ?1 AND start_time = ?2 AND employee_id = ?3&quot;, nativeQuery = true)\r\n        List&lt;Appointment&gt; getAppointmentByDateAndEmployee(LocalDate appointmentDate, LocalTime startTime, int employeeId);\r\n    \r\n    }\r\n\r\n\r\n**Service Layer**\r\n\r\n    package com.jb.app.services;\r\n    \r\n    import com.jb.app.beans.Appointment;\r\n    import com.jb.app.beans.Employee;\r\n    import com.jb.app.repos.AppointmentRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.util.List;\r\n    \r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AppointmentServiceImpl implements AppointmentService{\r\n        \r\n        private final AppointmentRepository appointmentRepository;\r\n        \r\n        @Override\r\n        public List&lt;Appointment&gt; getAppointmentByDateAndEmployee(LocalDate appointmentDate, LocalTime startTime, Employee e) {\r\n            return appointmentRepository.getAppointmentByDateAndEmployee(appointmentDate,startTime,e.getId());\r\n        }\r\n    }\r\n\r\n","title":"JPQL @Query for a ManyToOne relationship","body":"<p>You can use SQL instead HQL (nativeQuery=true)</p>\n<p><strong>DAO Layer</strong></p>\n<pre><code>package com.jb.app.repos;\n\nimport com.jb.app.beans.Appointment;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.List;\n\n@Repository\npublic interface AppointmentRepository extends JpaRepository&lt;Appointment, Integer&gt; {\n\n    @Query(value = &quot;SELECT * FROM APPOINTMENT WHERE appointment_date = ?1 AND start_time = ?2 AND employee_id = ?3&quot;, nativeQuery = true)\n    List&lt;Appointment&gt; getAppointmentByDateAndEmployee(LocalDate appointmentDate, LocalTime startTime, int employeeId);\n\n}\n</code></pre>\n<p><strong>Service Layer</strong></p>\n<pre><code>package com.jb.app.services;\n\nimport com.jb.app.beans.Appointment;\nimport com.jb.app.beans.Employee;\nimport com.jb.app.repos.AppointmentRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.List;\n\n\n@Service\n@RequiredArgsConstructor\npublic class AppointmentServiceImpl implements AppointmentService{\n    \n    private final AppointmentRepository appointmentRepository;\n    \n    @Override\n    public List&lt;Appointment&gt; getAppointmentByDateAndEmployee(LocalDate appointmentDate, LocalTime startTime, Employee e) {\n        return appointmentRepository.getAppointmentByDateAndEmployee(appointmentDate,startTime,e.getId());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18235483,"reputation":36,"user_id":13273596,"display_name":"Gorostiaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74894525,"answer_count":1,"score":0,"last_activity_date":1671748597,"creation_date":1671739445,"question_id":74893352,"body_markdown":"Please I need some help. I&#39;ve got 2 entities: \r\n\r\n**Appointment.class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;appointment&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Appointment {\r\n    \t\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        @Column(name = &quot;created_date&quot;)\r\n        private Date createdDate;\r\n        \r\n        @Column(name = &quot;modified_date&quot;)\r\n        private Date modifiedDate;\r\n        \r\n        @Column(name = &quot;appointment_date&quot;)\r\n        private LocalDate appointmentDate;\r\n        \r\n        @Column(name = &quot;start_time&quot;)\r\n        private LocalTime startTime;\r\n        \r\n        private Boolean cancelled;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(nullable = false, name = &quot;client_id&quot;)\r\n        private Client clientId;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(nullable = false, name = &quot;employee_id&quot;)\r\n        private Employee employee; \r\n        \r\n        @ManyToOne\r\n        @JoinColumn(nullable = false, name = &quot;service_id&quot;)\r\n        private Service service;\r\n    }\r\n\r\nAnd **Employee.class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Employee {\r\n    \t\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n        \r\n        @Column(name = &quot;created_date&quot;)\r\n        private Date createdDate;\r\n        \r\n        @Column(name = &quot; modified_date&quot;)\r\n        private Date modifiedDate;\r\n        \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;service_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Service service; \r\n    }\r\n\r\nI need to get all the appointments that match with the given `startTime`, `appointmentDate` and `employee` \r\nI want to define an abstract method in the interface `AppointmentRepo` so that in my `AppointmentServices.class` I can call that method with 3 arguments and get the appointment entity. \r\n\r\nAppointmentServices.class \r\n\r\n    appointmentRepo.getAppointmentByDateAndEmployee(date, employee, scheduledHour);\r\n\r\n**AppointmentRepo interface**\r\n\r\n    @Repository\r\n    public interface AppointmentRepo extends JpaRepository&lt;Appointment, Integer&gt;{\r\n    \t\r\n    \t@Query(&quot;SELECT a FROM Appointment a INNER JOIN a.employee e WHERE a.appointmentDate = :appointment_date AND e = :employee AND s.startTime = :start_time&quot;)\r\n    \tpublic List&lt;Appointment&gt; getAppointmentByDateAndEmployee (@Param(&quot;appointment_date&quot;) LocalDate appointmentDate, \r\n    \t\t\t@Param(&quot;employee_id&quot;) Employee employee, @Param(&quot;start_time&quot;) LocalTime startTime); \r\n    \r\n    }\r\nHow I have to set my @Query in order to be given an appointment entity that matches with 3 given arguments (a date, and time and a reference to other entity called Employee) \r\nAm I doing wrong matching the entire object so I need just to use the id of the Employee entity? \r\n\r\nPlease help me, and thanks for your time!!\r\nHappy Holidays ","title":"JPQL @Query for a ManyToOne relationship","body":"<p>Please I need some help. I've got 2 entities:</p>\n<p><strong>Appointment.class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;appointment&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Appointment {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(name = &quot;created_date&quot;)\n    private Date createdDate;\n    \n    @Column(name = &quot;modified_date&quot;)\n    private Date modifiedDate;\n    \n    @Column(name = &quot;appointment_date&quot;)\n    private LocalDate appointmentDate;\n    \n    @Column(name = &quot;start_time&quot;)\n    private LocalTime startTime;\n    \n    private Boolean cancelled;\n    \n    @ManyToOne\n    @JoinColumn(nullable = false, name = &quot;client_id&quot;)\n    private Client clientId;\n    \n    @ManyToOne\n    @JoinColumn(nullable = false, name = &quot;employee_id&quot;)\n    private Employee employee; \n    \n    @ManyToOne\n    @JoinColumn(nullable = false, name = &quot;service_id&quot;)\n    private Service service;\n}\n</code></pre>\n<p>And <strong>Employee.class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;employee&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;created_date&quot;)\n    private Date createdDate;\n    \n    @Column(name = &quot; modified_date&quot;)\n    private Date modifiedDate;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;service_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Service service; \n}\n</code></pre>\n<p>I need to get all the appointments that match with the given <code>startTime</code>, <code>appointmentDate</code> and <code>employee</code>\nI want to define an abstract method in the interface <code>AppointmentRepo</code> so that in my <code>AppointmentServices.class</code> I can call that method with 3 arguments and get the appointment entity.</p>\n<p>AppointmentServices.class</p>\n<pre><code>appointmentRepo.getAppointmentByDateAndEmployee(date, employee, scheduledHour);\n</code></pre>\n<p><strong>AppointmentRepo interface</strong></p>\n<pre><code>@Repository\npublic interface AppointmentRepo extends JpaRepository&lt;Appointment, Integer&gt;{\n    \n    @Query(&quot;SELECT a FROM Appointment a INNER JOIN a.employee e WHERE a.appointmentDate = :appointment_date AND e = :employee AND s.startTime = :start_time&quot;)\n    public List&lt;Appointment&gt; getAppointmentByDateAndEmployee (@Param(&quot;appointment_date&quot;) LocalDate appointmentDate, \n            @Param(&quot;employee_id&quot;) Employee employee, @Param(&quot;start_time&quot;) LocalTime startTime); \n\n}\n</code></pre>\n<p>How I have to set my @Query in order to be given an appointment entity that matches with 3 given arguments (a date, and time and a reference to other entity called Employee)\nAm I doing wrong matching the entire object so I need just to use the id of the Employee entity?</p>\n<p>Please help me, and thanks for your time!!\nHappy Holidays</p>\n"},{"tags":["java","reactive-programming","vert.x"],"answers":[{"tags":[],"owner":{"account_id":22218368,"reputation":61,"user_id":16456454,"display_name":"Eli P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671748546,"creation_date":1671748546,"answer_id":74894519,"question_id":71285612,"body_markdown":"You need to use session for such kind of operations.&lt;br&gt; When you put/add authenticated user data to routing context it&#39;s relevancy is **only** as long as this specific context/request is live, when the context ends the data added to it dies with it.&lt;br&gt; So when you want to save your authenticated user data for next **new** request you need to save it in the session instance.&lt;br&gt;\r\nYou can achieve this like this:\r\n```\r\nimport io.vertx.core.json.JsonObject;\r\nimport io.vertx.ext.auth.User;\r\nimport io.vertx.ext.auth.impl.UserImpl;\r\nimport io.vertx.ext.web.RoutingContext;\r\n...\r\n\r\n// in your authenticationProvider\r\npublic void authenticate(RoutingContext context, Handler&lt;AsyncResult&lt;User&gt;&gt; handler) {\r\n  .\r\n  your code to authenticate the user...\r\n  .\r\n  JsonObject userData = new JsonObject();\r\n  userData.put(&quot;id&quot;, 123456);\r\n  userData.put(&quot;name&quot;, &quot;userName&quot;);\r\n  User user = new UserImpl(userData, new JsonObject());\r\n  context.session().put(&quot;user&quot;, user); // to add user data to the session\r\n  handler.handle(Future.succeededFuture(user));\r\n}\r\n\r\nprivate void checkLogin(RoutingContext context) {\r\n  User user = context.session().get(&quot;user&quot;); // to get user data from the session\r\n  if (user == null) {\r\n    //user needs authentication\r\n  }\r\n}\r\n``` ","title":"Mongo Auth Provider doesn&#39;t inject user object in routing context after authentification in vert.x 4.2.5","body":"<p>You need to use session for such kind of operations.<br> When you put/add authenticated user data to routing context it's relevancy is <strong>only</strong> as long as this specific context/request is live, when the context ends the data added to it dies with it.<br> So when you want to save your authenticated user data for next <strong>new</strong> request you need to save it in the session instance.<br>\nYou can achieve this like this:</p>\n<pre><code>import io.vertx.core.json.JsonObject;\nimport io.vertx.ext.auth.User;\nimport io.vertx.ext.auth.impl.UserImpl;\nimport io.vertx.ext.web.RoutingContext;\n...\n\n// in your authenticationProvider\npublic void authenticate(RoutingContext context, Handler&lt;AsyncResult&lt;User&gt;&gt; handler) {\n  .\n  your code to authenticate the user...\n  .\n  JsonObject userData = new JsonObject();\n  userData.put(&quot;id&quot;, 123456);\n  userData.put(&quot;name&quot;, &quot;userName&quot;);\n  User user = new UserImpl(userData, new JsonObject());\n  context.session().put(&quot;user&quot;, user); // to add user data to the session\n  handler.handle(Future.succeededFuture(user));\n}\n\nprivate void checkLogin(RoutingContext context) {\n  User user = context.session().get(&quot;user&quot;); // to get user data from the session\n  if (user == null) {\n    //user needs authentication\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17051744,"reputation":13,"user_id":12337242,"display_name":"Ilyass Asri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671748546,"creation_date":1645972443,"question_id":71285612,"body_markdown":"i&#39;m using **vert.x** 4.2.5, and mongodb as auth provider.\r\n\r\nthe problem that even after logging in successfully, the user still can&#39;t access to the private routes, and i can&#39;t find the **user object** injected in **routing context**\r\n\r\nmy api : \r\n``` \r\nRouter apiAuth = Router.router(vertx);\r\n\r\nSessionStore store = LocalSessionStore.create(vertx);\r\nSessionHandler sessionHandler = SessionHandler.create(store);\r\n\r\napiAuth.route().handler(sessionHandler);\r\napiAuth.route().handler(BodyHandler.create());\r\n\r\nAuthenticationHandler basicAuthHandler = BasicAuthHandler.create(authenticationProvider);\r\n\r\napiAuth.post(&quot;/login&quot;).handler(this::login);\r\napiAuth.get(&quot;/checkLogin&quot;).handler(basicAuthHandler);\r\napiAuth.get(&quot;/checkLogin&quot;).handler(this::checkLogin);\r\n\r\n```\r\n\r\n**Login method :**\r\n``` \r\n  private void login(RoutingContext routingContext) {\r\n    JsonObject body = routingContext.getBodyAsJson();\r\n    JsonObject authInfo =\r\n        new JsonObject()\r\n            .put(&quot;username&quot;, body.getString(&quot;username&quot;))\r\n            .put(&quot;password&quot;, body.getString(&quot;password&quot;));\r\n    authenticationProvider\r\n      .authenticate(authInfo).onSuccess(user -&gt; {\r\n        routingContext\r\n          .response()\r\n          .setStatusCode(200)\r\n          .putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n          .end(\r\n            new JsonObject()\r\n              .put(&quot;success&quot;, true)\r\n              .encode());\r\n      });\r\n  }\r\n```\r\n\r\n**checkLogin method :** \r\n``` \r\n  private void checkLogin(RoutingContext routingContext) {\r\n    routingContext.response().setStatusCode(200).end(new JsonObject().put(&quot;authenticated&quot;, true).encode());\r\n  }\r\n\r\n```\r\n","title":"Mongo Auth Provider doesn&#39;t inject user object in routing context after authentification in vert.x 4.2.5","body":"<p>i'm using <strong>vert.x</strong> 4.2.5, and mongodb as auth provider.</p>\n<p>the problem that even after logging in successfully, the user still can't access to the private routes, and i can't find the <strong>user object</strong> injected in <strong>routing context</strong></p>\n<p>my api :</p>\n<pre><code>Router apiAuth = Router.router(vertx);\n\nSessionStore store = LocalSessionStore.create(vertx);\nSessionHandler sessionHandler = SessionHandler.create(store);\n\napiAuth.route().handler(sessionHandler);\napiAuth.route().handler(BodyHandler.create());\n\nAuthenticationHandler basicAuthHandler = BasicAuthHandler.create(authenticationProvider);\n\napiAuth.post(&quot;/login&quot;).handler(this::login);\napiAuth.get(&quot;/checkLogin&quot;).handler(basicAuthHandler);\napiAuth.get(&quot;/checkLogin&quot;).handler(this::checkLogin);\n\n</code></pre>\n<p><strong>Login method :</strong></p>\n<pre><code>  private void login(RoutingContext routingContext) {\n    JsonObject body = routingContext.getBodyAsJson();\n    JsonObject authInfo =\n        new JsonObject()\n            .put(&quot;username&quot;, body.getString(&quot;username&quot;))\n            .put(&quot;password&quot;, body.getString(&quot;password&quot;));\n    authenticationProvider\n      .authenticate(authInfo).onSuccess(user -&gt; {\n        routingContext\n          .response()\n          .setStatusCode(200)\n          .putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .end(\n            new JsonObject()\n              .put(&quot;success&quot;, true)\n              .encode());\n      });\n  }\n</code></pre>\n<p><strong>checkLogin method :</strong></p>\n<pre><code>  private void checkLogin(RoutingContext routingContext) {\n    routingContext.response().setStatusCode(200).end(new JsonObject().put(&quot;authenticated&quot;, true).encode());\n  }\n\n</code></pre>\n"},{"tags":["java","json","xml","jackson"],"answers":[{"comments":[{"owner":{"account_id":8414659,"reputation":75,"user_id":8142431,"display_name":"Ags "},"score":0,"creation_date":1554230737,"post_id":55347176,"comment_id":97673029,"body_markdown":"Thank you very much for the detailed information . I agree with the business logic should not depend upon displaying null fields . It is more of the legal and  compliance than business logic .","body":"Thank you very much for the detailed information . I agree with the business logic should not depend upon displaying null fields . It is more of the legal and  compliance than business logic ."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1554235363,"post_id":55347176,"comment_id":97675117,"body_markdown":"@Ags, I understood these arguments. I think, I showed how fluffy is converting `XML` to `JSON` and is not an easy task. We should deeply understand what means `empty` node in `XML` and `empty` node in `JSON`. You can create some rules what to do in case `X`, `Y`, `Z` and try to create custom solution.","body":"@Ags, I understood these arguments. I think, I showed how fluffy is converting <code>XML</code> to <code>JSON</code> and is not an easy task. We should deeply understand what means <code>empty</code> node in <code>XML</code> and <code>empty</code> node in <code>JSON</code>. You can create some rules what to do in case <code>X</code>, <code>Y</code>, <code>Z</code> and try to create custom solution."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671748526,"creation_date":1553552006,"answer_id":55347176,"question_id":55346009,"body_markdown":"If you want to differentiate `null` value fields from absent fields the most generic method will be using `Map` or `JsonNode` instead of `POJO`. `POJO` class has constant structure, `Map` or `JsonNode` have dynamic - contains only what you actually put there. Let&#39;s create a simple app which reads `XML` payload from file and creates `JSON` response:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    \r\n    import java.io.File;\r\n    import java.util.Map;\r\n    \r\n    public class JsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\r\n    \r\n    \t\tXmlMapper xmlMapper = new XmlMapper();\r\n    \t\tMap map = xmlMapper.readValue(xmlFile, Map.class);\r\n    \r\n    \t\tObjectMapper jsonMapper = new ObjectMapper();\r\n    \t\tString json = jsonMapper.writeValueAsString(map);\r\n    \r\n    \t\tSystem.out.println(json);\r\n    \t}\r\n    }\r\n\r\nNow take a look on some examples where we test what `JSON` will be generated for `empty`, `null` and absent nodes.\r\n\r\nTest 0-0\r\n------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;a&gt;A&lt;/a&gt;\r\n        &lt;b&gt;1&lt;/b&gt;\r\n        &lt;c&gt;\r\n            &lt;c1&gt;Rick&lt;/c1&gt;\r\n            &lt;c2&gt;58&lt;/c2&gt;\r\n        &lt;/c&gt;\r\n    &lt;/Root&gt;\r\n\r\nResult `JSON` is:\r\n\r\n    {&quot;a&quot;:&quot;A&quot;,&quot;b&quot;:&quot;1&quot;,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:&quot;58&quot;}}\r\n\r\nTest 0-1\r\n------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;a&gt;A&lt;/a&gt;\r\n        &lt;c&gt;\r\n            &lt;c1&gt;Rick&lt;/c1&gt;\r\n            &lt;c2/&gt;\r\n        &lt;/c&gt;\r\n    &lt;/Root&gt;\r\n\r\nOutput `JSON`:\r\n\r\n    {&quot;a&quot;:&quot;A&quot;,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:null}}\r\n\r\nTest 0-2\r\n------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;c/&gt;\r\n    &lt;/Root&gt;\r\n\r\nOutput `JSON`:\r\n\r\n    {&quot;c&quot;:null}\r\n\r\nThe biggest problem with this simple and fast solution is we lost type information for primitives. For example, if `b` is `Integer` we should return it in `JSON` as number primitive which does not have quotes: `&quot;` chars around. To solve this problem we should use `POJO` model which allows us to find all required types. Let&#39;s create `POJO` model for our example:\r\n\r\n    @JsonFilter(&quot;allowedFields&quot;)\r\n    class Root {\r\n    \tprivate String a;\r\n    \tprivate Integer b;\r\n    \tprivate C c;\r\n    \r\n    \t// getters, setters\r\n    }\r\n    \r\n    @JsonFilter(&quot;allowedFields&quot;)\r\n    class C {\r\n    \tprivate String c1;\r\n    \tprivate Integer c2;\r\n    \r\n    \t// getters, setters\r\n    }\r\n\r\nWe need to change our simple `XML -&gt; Map -&gt; JSON` algorithm to below one:\r\n\r\n 1. Read JSON as `Map` or `JsonNode`\r\n 2. Find all field names\r\n 3. Create `FilterProvider` with found names - notice that filter is registered with `allowedFields` name, the same which is used in `@JsonFilter` annotation.\r\n 4. Convert `Map` to `POJO` for type coercion.\r\n 5. Write `POJO` with filter\r\n\r\nSimple app could look like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFilter;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\n    import com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    \r\n    import java.io.File;\r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    import java.util.Set;\r\n    \r\n    public class JsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\r\n    \r\n    \t\tNodesWalker walker = new NodesWalker();\r\n    \r\n    \t\tXmlMapper xmlMapper = new XmlMapper();\r\n    \t\tJsonNode root = xmlMapper.readValue(xmlFile, JsonNode.class);\r\n    \t\tSet&lt;String&gt; names = walker.findAllNames(root);\r\n    \r\n    \t\tSimpleFilterProvider filterProvider = new SimpleFilterProvider();\r\n    \t\tfilterProvider.addFilter(&quot;allowedFields&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(names));\r\n    \r\n    \t\tObjectMapper jsonMapper = new ObjectMapper();\r\n    \t\tjsonMapper.setFilterProvider(filterProvider);\r\n    \r\n    \t\tRoot rootConverted = jsonMapper.convertValue(root, Root.class);\r\n    \t\tString json = jsonMapper.writeValueAsString(rootConverted);\r\n    \r\n    \t\tSystem.out.println(json);\r\n    \t}\r\n    }\r\n    \r\n    class NodesWalker {\r\n    \r\n    \tpublic Set&lt;String&gt; findAllNames(JsonNode node) {\r\n    \t\tSet&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    \r\n    \t\tLinkedList&lt;JsonNode&gt; nodes = new LinkedList&lt;&gt;();\r\n    \t\tnodes.add(node);\r\n    \t\twhile (nodes.size() &gt; 0) {\r\n    \t\t\tJsonNode first = nodes.removeFirst();\r\n    \t\t\tif (first.isObject()) {\r\n    \t\t\t\tObjectNode objectNode = (ObjectNode) first;\r\n    \t\t\t\tobjectNode.fields().forEachRemaining(e -&gt; {\r\n    \t\t\t\t\tnames.add(e.getKey());\r\n    \t\t\t\t\tJsonNode value = e.getValue();\r\n    \t\t\t\t\tif (value.isObject() || value.isArray()) {\r\n    \t\t\t\t\t\tnodes.add(value);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t} else if (first.isArray()) {\r\n    \t\t\t\tArrayNode arrayNode = (ArrayNode) first;\r\n    \t\t\t\tarrayNode.elements().forEachRemaining(e -&gt; {\r\n    \t\t\t\t\tif (e.isObject() || e.isArray()) {\r\n    \t\t\t\t\t\tnodes.add(e);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn names;\r\n    \t}\r\n    }\r\n\r\nTest 1-0\r\n--------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;a&gt;A&lt;/a&gt;\r\n        &lt;b&gt;1&lt;/b&gt;\r\n        &lt;c&gt;\r\n            &lt;c1&gt;Rick&lt;/c1&gt;\r\n            &lt;c2&gt;58&lt;/c2&gt;\r\n        &lt;/c&gt;\r\n    &lt;/Root&gt;\r\n\r\nOutput `JSON`:\r\n\r\n    {&quot;a&quot;:&quot;A&quot;,&quot;b&quot;:1,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:58}}\r\n\r\nTest 1-1\r\n--------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;b&gt;1&lt;/b&gt;\r\n        &lt;c&gt;\r\n            &lt;c2/&gt;\r\n        &lt;/c&gt;\r\n    &lt;/Root&gt;\r\n\r\nOutput `JSON`:\r\n\r\n    {&quot;b&quot;:1,&quot;c&quot;:{&quot;c2&quot;:null}}\r\n\r\nTest 1-2\r\n--------\r\nInput `XML`:\r\n\r\n    &lt;Root&gt;\r\n        &lt;c/&gt;\r\n    &lt;/Root&gt;\r\n\r\nOutput `JSON`:\r\n\r\n    {&quot;c&quot;:null}\r\n\r\nAfter all these tests we see that dynamic checking whether field is `null`, `empty` or `absent` is not an easy task. Even so, above 2 solutions work for simple models you should test them for all responses you want to generate. When model is complex and contains many complex annotations such as: `@JsonTypeInfo`, `@JsonSubTypes` on `Jackson` side or `@XmlElementWrapper`, `@XmlAnyElement` on `JAXB` side it make this task very hard to implement.\r\n\r\nI think the best solution in your example is to use `@JsonInclude(NON_NULL)` which send to client all set fields on `XML` side. `null` and `absent` should be treated on client side identically. Business logic should not rely on the fact field is set to `null` or `absent` in `JSON` payload.\r\n\r\nSee also:\r\n\r\n - [what is the convention in JSON for empty vs. null?][1]\r\n - [Representing null in JSON][2]\r\n - [Implement PATCH method with Lombok and MapStruct][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9619852/what-is-the-convention-in-json-for-empty-vs-null\r\n  [2]: https://stackoverflow.com/questions/21120999/representing-null-in-json\r\n  [3]: https://stackoverflow.com/questions/74886852/how-to-deserialize-json-and-distinguish-null-from-the-absence-of-a-value","title":"How to differentiate null value fields from absent fields in jackson library","body":"<p>If you want to differentiate <code>null</code> value fields from absent fields the most generic method will be using <code>Map</code> or <code>JsonNode</code> instead of <code>POJO</code>. <code>POJO</code> class has constant structure, <code>Map</code> or <code>JsonNode</code> have dynamic - contains only what you actually put there. Let's create a simple app which reads <code>XML</code> payload from file and creates <code>JSON</code> response:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\nimport java.io.File;\nimport java.util.Map;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\n\n        XmlMapper xmlMapper = new XmlMapper();\n        Map map = xmlMapper.readValue(xmlFile, Map.class);\n\n        ObjectMapper jsonMapper = new ObjectMapper();\n        String json = jsonMapper.writeValueAsString(map);\n\n        System.out.println(json);\n    }\n}\n</code></pre>\n<p>Now take a look on some examples where we test what <code>JSON</code> will be generated for <code>empty</code>, <code>null</code> and absent nodes.</p>\n<h2>Test 0-0</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;a&gt;A&lt;/a&gt;\n    &lt;b&gt;1&lt;/b&gt;\n    &lt;c&gt;\n        &lt;c1&gt;Rick&lt;/c1&gt;\n        &lt;c2&gt;58&lt;/c2&gt;\n    &lt;/c&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Result <code>JSON</code> is:</p>\n<pre><code>{&quot;a&quot;:&quot;A&quot;,&quot;b&quot;:&quot;1&quot;,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:&quot;58&quot;}}\n</code></pre>\n<h2>Test 0-1</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;a&gt;A&lt;/a&gt;\n    &lt;c&gt;\n        &lt;c1&gt;Rick&lt;/c1&gt;\n        &lt;c2/&gt;\n    &lt;/c&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Output <code>JSON</code>:</p>\n<pre><code>{&quot;a&quot;:&quot;A&quot;,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:null}}\n</code></pre>\n<h2>Test 0-2</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;c/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Output <code>JSON</code>:</p>\n<pre><code>{&quot;c&quot;:null}\n</code></pre>\n<p>The biggest problem with this simple and fast solution is we lost type information for primitives. For example, if <code>b</code> is <code>Integer</code> we should return it in <code>JSON</code> as number primitive which does not have quotes: <code>&quot;</code> chars around. To solve this problem we should use <code>POJO</code> model which allows us to find all required types. Let's create <code>POJO</code> model for our example:</p>\n<pre><code>@JsonFilter(&quot;allowedFields&quot;)\nclass Root {\n    private String a;\n    private Integer b;\n    private C c;\n\n    // getters, setters\n}\n\n@JsonFilter(&quot;allowedFields&quot;)\nclass C {\n    private String c1;\n    private Integer c2;\n\n    // getters, setters\n}\n</code></pre>\n<p>We need to change our simple <code>XML -&gt; Map -&gt; JSON</code> algorithm to below one:</p>\n<ol>\n<li>Read JSON as <code>Map</code> or <code>JsonNode</code></li>\n<li>Find all field names</li>\n<li>Create <code>FilterProvider</code> with found names - notice that filter is registered with <code>allowedFields</code> name, the same which is used in <code>@JsonFilter</code> annotation.</li>\n<li>Convert <code>Map</code> to <code>POJO</code> for type coercion.</li>\n<li>Write <code>POJO</code> with filter</li>\n</ol>\n<p>Simple app could look like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonFilter;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\nimport java.io.File;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Set;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\n\n        NodesWalker walker = new NodesWalker();\n\n        XmlMapper xmlMapper = new XmlMapper();\n        JsonNode root = xmlMapper.readValue(xmlFile, JsonNode.class);\n        Set&lt;String&gt; names = walker.findAllNames(root);\n\n        SimpleFilterProvider filterProvider = new SimpleFilterProvider();\n        filterProvider.addFilter(&quot;allowedFields&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(names));\n\n        ObjectMapper jsonMapper = new ObjectMapper();\n        jsonMapper.setFilterProvider(filterProvider);\n\n        Root rootConverted = jsonMapper.convertValue(root, Root.class);\n        String json = jsonMapper.writeValueAsString(rootConverted);\n\n        System.out.println(json);\n    }\n}\n\nclass NodesWalker {\n\n    public Set&lt;String&gt; findAllNames(JsonNode node) {\n        Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n        LinkedList&lt;JsonNode&gt; nodes = new LinkedList&lt;&gt;();\n        nodes.add(node);\n        while (nodes.size() &gt; 0) {\n            JsonNode first = nodes.removeFirst();\n            if (first.isObject()) {\n                ObjectNode objectNode = (ObjectNode) first;\n                objectNode.fields().forEachRemaining(e -&gt; {\n                    names.add(e.getKey());\n                    JsonNode value = e.getValue();\n                    if (value.isObject() || value.isArray()) {\n                        nodes.add(value);\n                    }\n                });\n            } else if (first.isArray()) {\n                ArrayNode arrayNode = (ArrayNode) first;\n                arrayNode.elements().forEachRemaining(e -&gt; {\n                    if (e.isObject() || e.isArray()) {\n                        nodes.add(e);\n                    }\n                });\n            }\n        }\n\n        return names;\n    }\n}\n</code></pre>\n<h2>Test 1-0</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;a&gt;A&lt;/a&gt;\n    &lt;b&gt;1&lt;/b&gt;\n    &lt;c&gt;\n        &lt;c1&gt;Rick&lt;/c1&gt;\n        &lt;c2&gt;58&lt;/c2&gt;\n    &lt;/c&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Output <code>JSON</code>:</p>\n<pre><code>{&quot;a&quot;:&quot;A&quot;,&quot;b&quot;:1,&quot;c&quot;:{&quot;c1&quot;:&quot;Rick&quot;,&quot;c2&quot;:58}}\n</code></pre>\n<h2>Test 1-1</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;b&gt;1&lt;/b&gt;\n    &lt;c&gt;\n        &lt;c2/&gt;\n    &lt;/c&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Output <code>JSON</code>:</p>\n<pre><code>{&quot;b&quot;:1,&quot;c&quot;:{&quot;c2&quot;:null}}\n</code></pre>\n<h2>Test 1-2</h2>\n<p>Input <code>XML</code>:</p>\n<pre><code>&lt;Root&gt;\n    &lt;c/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Output <code>JSON</code>:</p>\n<pre><code>{&quot;c&quot;:null}\n</code></pre>\n<p>After all these tests we see that dynamic checking whether field is <code>null</code>, <code>empty</code> or <code>absent</code> is not an easy task. Even so, above 2 solutions work for simple models you should test them for all responses you want to generate. When model is complex and contains many complex annotations such as: <code>@JsonTypeInfo</code>, <code>@JsonSubTypes</code> on <code>Jackson</code> side or <code>@XmlElementWrapper</code>, <code>@XmlAnyElement</code> on <code>JAXB</code> side it make this task very hard to implement.</p>\n<p>I think the best solution in your example is to use <code>@JsonInclude(NON_NULL)</code> which send to client all set fields on <code>XML</code> side. <code>null</code> and <code>absent</code> should be treated on client side identically. Business logic should not rely on the fact field is set to <code>null</code> or <code>absent</code> in <code>JSON</code> payload.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9619852/what-is-the-convention-in-json-for-empty-vs-null\">what is the convention in JSON for empty vs. null?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21120999/representing-null-in-json\">Representing null in JSON</a></li>\n<li><a href=\"https://stackoverflow.com/questions/74886852/how-to-deserialize-json-and-distinguish-null-from-the-absence-of-a-value\">Implement PATCH method with Lombok and MapStruct</a></li>\n</ul>\n"}],"owner":{"account_id":8414659,"reputation":75,"user_id":8142431,"display_name":"Ags "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3138,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671748526,"creation_date":1553546055,"question_id":55346009,"body_markdown":"We are consuming an API and the api is providing xml fields. We have to convert xml to json for our consumers. We have a requirement of showing just what we have got as XML and to display only those fields . \r\n\r\n1. If fields exists with value present it \r\n2. If fields does not exist don&#39;t present it \r\n3. if field exists with null/no value display the field as it is . \r\n\r\nWhat I have seen is general annotations \r\n\r\n`@JsonInclude(NON_EMPTY)` can be used to exclude values that are empty.I cannot use this because I still want to see the empty fields with null value in json \r\n\r\n`@JsonInclude(NON_ABSENT)` can be used to exclude null values and values that are &quot;absent&quot;.I cannot use this because I still want to see the empty fields and null fields in json. Same with the `JsonInclude (NON_NULL)`\r\n\r\nSo my question is if I don&#39;t specify any of these properties can I achieve what I want ? In other words if I don&#39;t specify any of these is jackson&#39;s behavior is to show all the fields that are have the null value on dynamic sense ? My major concern is the dynamic response here . For each requests the fields may be present or not be present . We have to show in the json what exactly we receive in XML ","title":"How to differentiate null value fields from absent fields in jackson library","body":"<p>We are consuming an API and the api is providing xml fields. We have to convert xml to json for our consumers. We have a requirement of showing just what we have got as XML and to display only those fields . </p>\n\n<ol>\n<li>If fields exists with value present it </li>\n<li>If fields does not exist don't present it </li>\n<li>if field exists with null/no value display the field as it is . </li>\n</ol>\n\n<p>What I have seen is general annotations </p>\n\n<p><code>@JsonInclude(NON_EMPTY)</code> can be used to exclude values that are empty.I cannot use this because I still want to see the empty fields with null value in json </p>\n\n<p><code>@JsonInclude(NON_ABSENT)</code> can be used to exclude null values and values that are \"absent\".I cannot use this because I still want to see the empty fields and null fields in json. Same with the <code>JsonInclude (NON_NULL)</code></p>\n\n<p>So my question is if I don't specify any of these properties can I achieve what I want ? In other words if I don't specify any of these is jackson's behavior is to show all the fields that are have the null value on dynamic sense ? My major concern is the dynamic response here . For each requests the fields may be present or not be present . We have to show in the json what exactly we receive in XML </p>\n"},{"tags":["java","spring-boot","jackson","spring-data"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1671703398,"post_id":74886852,"comment_id":132156928,"body_markdown":"Since its the abstracted `save` method you are using, I suggest you can perform a null check and if there&#39;s any attributed null, you may use another save method with a `native` query","body":"Since its the abstracted <code>save</code> method you are using, I suggest you can perform a null check and if there&#39;s any attributed null, you may use another save method with a <code>native</code> query"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1671708359,"post_id":74886852,"comment_id":132158492,"body_markdown":"This has been answered there : https://stackoverflow.com/questions/55346009/how-to-differentiate-null-value-fields-from-absent-fields-in-jackson-library","body":"This has been answered there : <a href=\"https://stackoverflow.com/questions/55346009/how-to-differentiate-null-value-fields-from-absent-fields-in-jackson-library\" title=\"how to differentiate null value fields from absent fields in jackson library\">stackoverflow.com/questions/55346009/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671747794,"creation_date":1671747794,"answer_id":74894437,"question_id":74886852,"body_markdown":"Partial update is different from full-resource update and we should implement it in a different way. Let&#39;s create two request `POJO` classes. One class will be used to create and update resources, second will be used to partially update given resource. To emphasise it we will use different `HTTP` methods.  To distinguish `null` from `absence` we can use `java.util.Optional` class.\r\n\r\n - `SampleCompleteRequest` class we use together with `POST` (create) and `PUT` (update) methods.\r\n - `SamplePartialRequest` class we use together with `PATCH` (partially update) method.\r\n\r\nTo avoid boilerplate code in this example I&#39;m using [Lombok][1] and [MapStruct][2] but it is not required.\r\n\r\n\r\n----------\r\n\r\nModel\r\n-----\r\n```java\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class SampleCompleteRequest {\r\n\r\n\t@NotBlank\r\n\tprivate String name;\r\n\tprivate String value;\r\n}\r\n```\r\n\r\n```java\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.Data;\r\n\r\nimport java.util.Optional;\r\n\r\n@Data\r\npublic class SamplePartialRequest {\r\n\tprivate Optional&lt;@NotBlank String&gt; name;\r\n\tprivate Optional&lt;String&gt; value;\r\n}\r\n```\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class SampleResponse {\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tprivate String value;\r\n}\r\n```\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Sample {\r\n    //@Id - Hibernate annotations are removed\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\tprivate String value;\r\n}\r\n```\r\n\r\nMapStruct\r\n---------\r\nIn `MapStruct` we need to define an interface with all methods we need.\r\n```java\r\nimport com.example.demo.model.SampleCompleteRequest;\r\nimport com.example.demo.model.SamplePartialRequest;\r\nimport com.example.demo.model.SampleResponse;\r\nimport jakarta.annotation.Nullable;\r\nimport org.mapstruct.BeanMapping;\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.MappingTarget;\r\nimport org.mapstruct.ReportingPolicy;\r\n\r\nimport java.util.Optional;\r\n\r\nimport static org.mapstruct.MappingConstants.ComponentModel.SPRING;\r\nimport static org.mapstruct.NullValueCheckStrategy.ALWAYS;\r\nimport static org.mapstruct.NullValuePropertyMappingStrategy.IGNORE;\r\n\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, componentModel = SPRING)\r\npublic interface SamplesMapper {\r\n\t@BeanMapping(nullValueCheckStrategy = ALWAYS, nullValuePropertyMappingStrategy = IGNORE)\r\n\tSample patch(SamplePartialRequest input, @MappingTarget Sample target);\r\n\r\n\tSample update(SampleCompleteRequest input, @MappingTarget Sample target);\r\n\r\n\tSampleResponse mapToResponse(Sample input);\r\n\r\n\tdefault String optionalToString(@Nullable Optional&lt;String&gt; nullable) {\r\n\t\treturn nullable == null ? null : nullable.orElse(null);\r\n\t}\r\n}\r\n```\r\n\r\nPlugin will generate boilerplate code for us. Below class is autogenerated and we do not need to implement it manually.\r\n```java\r\n@Component\r\npublic class SamplesMapperImpl implements SamplesMapper {\r\n\r\n    @Override\r\n    public Sample patch(SamplePartialRequest input, Sample target) {\r\n        if ( input == null ) {\r\n            return target;\r\n        }\r\n\r\n        if ( input.getName() != null ) {\r\n            target.setName( optionalToString( input.getName() ) );\r\n        }\r\n        if ( input.getValue() != null ) {\r\n            target.setValue( optionalToString( input.getValue() ) );\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    @Override\r\n    public Sample update(SampleCompleteRequest input, Sample target) {\r\n        if ( input == null ) {\r\n            return target;\r\n        }\r\n\r\n        target.setName( input.getName() );\r\n        target.setValue( input.getValue() );\r\n\r\n        return target;\r\n    }\r\n\r\n    @Override\r\n    public SampleResponse mapToResponse(Sample input) {\r\n        if ( input == null ) {\r\n            return null;\r\n        }\r\n\r\n        SampleResponse sampleResponse = new SampleResponse();\r\n\r\n        sampleResponse.setId( input.getId() );\r\n        sampleResponse.setName( input.getName() );\r\n        sampleResponse.setValue( input.getValue() );\r\n\r\n        return sampleResponse;\r\n    }\r\n}\r\n```\r\n\r\nResource\r\n--------\r\nA controller class is easy to implement:\r\n```java\r\nimport com.example.demo.model.SampleCompleteRequest;\r\nimport com.example.demo.model.SamplePartialRequest;\r\nimport com.example.demo.model.SampleResponse;\r\nimport com.example.service.SamplesMapper;\r\nimport com.example.service.SamplesService;\r\nimport jakarta.validation.Valid;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.hateoas.CollectionModel;\r\nimport org.springframework.hateoas.EntityModel;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@AllArgsConstructor\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1/samples&quot;)\r\npublic class SamplesResource {\r\n\r\n\tprivate final SamplesMapper mapper;\r\n\tprivate final SamplesService samplesService;\r\n\r\n\t@GetMapping\r\n\tpublic CollectionModel&lt;SampleResponse&gt; listAll() {\r\n\t\tList&lt;SampleResponse&gt; entities = samplesService.list().stream().map(mapper::mapToResponse).toList();\r\n\r\n\t\treturn CollectionModel.of(entities);\r\n\t}\r\n\r\n\t@PostMapping\r\n\tpublic EntityModel&lt;SampleResponse&gt; addSample(@Valid @RequestBody SampleCompleteRequest request) {\r\n\t\tvar entity = samplesService.create(request);\r\n\t\tvar response = mapper.mapToResponse(entity);\r\n\r\n\t\treturn EntityModel.of(response);\r\n\t}\r\n\r\n\t@PutMapping(path = &quot;{id}&quot;)\r\n\tpublic EntityModel&lt;SampleResponse&gt; updateSample(@PathVariable Long id, @Valid @RequestBody SampleCompleteRequest request) {\r\n\t\tvar entity = samplesService.update(id, request);\r\n\t\tvar response = mapper.mapToResponse(entity);\r\n\r\n\t\treturn EntityModel.of(response);\r\n\t}\r\n\r\n\t@PatchMapping(path = &quot;{id}&quot;)\r\n\tpublic EntityModel&lt;SampleResponse&gt; partiallyUpdateSample(@PathVariable Long id, @Valid @RequestBody SamplePartialRequest request) {\r\n\t\tvar entity = samplesService.patch(id, request);\r\n\t\tvar response = mapper.mapToResponse(entity);\r\n\r\n\t\treturn EntityModel.of(response);\r\n\t}\r\n}\r\n```\r\n\r\nA service class is also straightforward:\r\n```java\r\nimport com.example.demo.model.SampleCompleteRequest;\r\nimport com.example.demo.model.SamplePartialRequest;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class SamplesService {\r\n\r\n\tprivate final SamplesMapper mapper;\r\n\tprivate final SamplesRepository repository;\r\n\r\n\tpublic List&lt;Sample&gt; list() {\r\n\t\treturn repository.listAll();\r\n\t}\r\n\r\n\tpublic Sample create(SampleCompleteRequest request) {\r\n\t\tvar sample = mapper.update(request, new Sample());\r\n\t\treturn repository.save(sample);\r\n\t}\r\n\r\n\tpublic Sample update(Long id, SampleCompleteRequest request) {\r\n\t\tvar sample = repository.find(id).orElseThrow();\r\n\t\tmapper.update(request, sample);\r\n\r\n\t\treturn repository.save(sample);\r\n\t}\r\n\r\n\tpublic Sample patch(Long id, SamplePartialRequest request) {\r\n\t\tvar sample = repository.find(id).orElseThrow();\r\n\t\tmapper.patch(request, sample);\r\n\r\n\t\treturn repository.save(sample);\r\n\t}\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n 1. [HTTP PUT vs HTTP PATCH in a REST API][3]\r\n 2. [Difference between Jackson objectMapper to others][4]\r\n 3. [Spring MVC PATCH method: partial updates][5]\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://mapstruct.org/\r\n  [3]: https://www.baeldung.com/http-put-patch-difference-spring\r\n  [4]: https://stackoverflow.com/questions/63600368/difference-between-jackson-objectmapper-to-others\r\n  [5]: https://stackoverflow.com/a/52135000/51591","title":"How to deserialize json and distinguish `null` from the absence of a value","body":"<p>Partial update is different from full-resource update and we should implement it in a different way. Let's create two request <code>POJO</code> classes. One class will be used to create and update resources, second will be used to partially update given resource. To emphasise it we will use different <code>HTTP</code> methods.  To distinguish <code>null</code> from <code>absence</code> we can use <code>java.util.Optional</code> class.</p>\n<ul>\n<li><code>SampleCompleteRequest</code> class we use together with <code>POST</code> (create) and <code>PUT</code> (update) methods.</li>\n<li><code>SamplePartialRequest</code> class we use together with <code>PATCH</code> (partially update) method.</li>\n</ul>\n<p>To avoid boilerplate code in this example I'm using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> and <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> but it is not required.</p>\n<hr />\n<h2>Model</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Data;\n\n@Data\npublic class SampleCompleteRequest {\n\n    @NotBlank\n    private String name;\n    private String value;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Data;\n\nimport java.util.Optional;\n\n@Data\npublic class SamplePartialRequest {\n    private Optional&lt;@NotBlank String&gt; name;\n    private Optional&lt;String&gt; value;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\n@Data\npublic class SampleResponse {\n    private Long id;\n    private String name;\n    private String value;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\n@Data\npublic class Sample {\n    //@Id - Hibernate annotations are removed\n    private Long id;\n    private String name;\n    private String value;\n}\n</code></pre>\n<h2>MapStruct</h2>\n<p>In <code>MapStruct</code> we need to define an interface with all methods we need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.demo.model.SampleCompleteRequest;\nimport com.example.demo.model.SamplePartialRequest;\nimport com.example.demo.model.SampleResponse;\nimport jakarta.annotation.Nullable;\nimport org.mapstruct.BeanMapping;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.MappingTarget;\nimport org.mapstruct.ReportingPolicy;\n\nimport java.util.Optional;\n\nimport static org.mapstruct.MappingConstants.ComponentModel.SPRING;\nimport static org.mapstruct.NullValueCheckStrategy.ALWAYS;\nimport static org.mapstruct.NullValuePropertyMappingStrategy.IGNORE;\n\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, componentModel = SPRING)\npublic interface SamplesMapper {\n    @BeanMapping(nullValueCheckStrategy = ALWAYS, nullValuePropertyMappingStrategy = IGNORE)\n    Sample patch(SamplePartialRequest input, @MappingTarget Sample target);\n\n    Sample update(SampleCompleteRequest input, @MappingTarget Sample target);\n\n    SampleResponse mapToResponse(Sample input);\n\n    default String optionalToString(@Nullable Optional&lt;String&gt; nullable) {\n        return nullable == null ? null : nullable.orElse(null);\n    }\n}\n</code></pre>\n<p>Plugin will generate boilerplate code for us. Below class is autogenerated and we do not need to implement it manually.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SamplesMapperImpl implements SamplesMapper {\n\n    @Override\n    public Sample patch(SamplePartialRequest input, Sample target) {\n        if ( input == null ) {\n            return target;\n        }\n\n        if ( input.getName() != null ) {\n            target.setName( optionalToString( input.getName() ) );\n        }\n        if ( input.getValue() != null ) {\n            target.setValue( optionalToString( input.getValue() ) );\n        }\n\n        return target;\n    }\n\n    @Override\n    public Sample update(SampleCompleteRequest input, Sample target) {\n        if ( input == null ) {\n            return target;\n        }\n\n        target.setName( input.getName() );\n        target.setValue( input.getValue() );\n\n        return target;\n    }\n\n    @Override\n    public SampleResponse mapToResponse(Sample input) {\n        if ( input == null ) {\n            return null;\n        }\n\n        SampleResponse sampleResponse = new SampleResponse();\n\n        sampleResponse.setId( input.getId() );\n        sampleResponse.setName( input.getName() );\n        sampleResponse.setValue( input.getValue() );\n\n        return sampleResponse;\n    }\n}\n</code></pre>\n<h2>Resource</h2>\n<p>A controller class is easy to implement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.demo.model.SampleCompleteRequest;\nimport com.example.demo.model.SamplePartialRequest;\nimport com.example.demo.model.SampleResponse;\nimport com.example.service.SamplesMapper;\nimport com.example.service.SamplesService;\nimport jakarta.validation.Valid;\nimport lombok.AllArgsConstructor;\nimport org.springframework.hateoas.CollectionModel;\nimport org.springframework.hateoas.EntityModel;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@AllArgsConstructor\n@RestController\n@RequestMapping(value = &quot;/api/v1/samples&quot;)\npublic class SamplesResource {\n\n    private final SamplesMapper mapper;\n    private final SamplesService samplesService;\n\n    @GetMapping\n    public CollectionModel&lt;SampleResponse&gt; listAll() {\n        List&lt;SampleResponse&gt; entities = samplesService.list().stream().map(mapper::mapToResponse).toList();\n\n        return CollectionModel.of(entities);\n    }\n\n    @PostMapping\n    public EntityModel&lt;SampleResponse&gt; addSample(@Valid @RequestBody SampleCompleteRequest request) {\n        var entity = samplesService.create(request);\n        var response = mapper.mapToResponse(entity);\n\n        return EntityModel.of(response);\n    }\n\n    @PutMapping(path = &quot;{id}&quot;)\n    public EntityModel&lt;SampleResponse&gt; updateSample(@PathVariable Long id, @Valid @RequestBody SampleCompleteRequest request) {\n        var entity = samplesService.update(id, request);\n        var response = mapper.mapToResponse(entity);\n\n        return EntityModel.of(response);\n    }\n\n    @PatchMapping(path = &quot;{id}&quot;)\n    public EntityModel&lt;SampleResponse&gt; partiallyUpdateSample(@PathVariable Long id, @Valid @RequestBody SamplePartialRequest request) {\n        var entity = samplesService.patch(id, request);\n        var response = mapper.mapToResponse(entity);\n\n        return EntityModel.of(response);\n    }\n}\n</code></pre>\n<p>A service class is also straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.demo.model.SampleCompleteRequest;\nimport com.example.demo.model.SamplePartialRequest;\nimport lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@AllArgsConstructor\npublic class SamplesService {\n\n    private final SamplesMapper mapper;\n    private final SamplesRepository repository;\n\n    public List&lt;Sample&gt; list() {\n        return repository.listAll();\n    }\n\n    public Sample create(SampleCompleteRequest request) {\n        var sample = mapper.update(request, new Sample());\n        return repository.save(sample);\n    }\n\n    public Sample update(Long id, SampleCompleteRequest request) {\n        var sample = repository.find(id).orElseThrow();\n        mapper.update(request, sample);\n\n        return repository.save(sample);\n    }\n\n    public Sample patch(Long id, SamplePartialRequest request) {\n        var sample = repository.find(id).orElseThrow();\n        mapper.patch(request, sample);\n\n        return repository.save(sample);\n    }\n}\n</code></pre>\n<p>See also:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/http-put-patch-difference-spring\" rel=\"nofollow noreferrer\">HTTP PUT vs HTTP PATCH in a REST API</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63600368/difference-between-jackson-objectmapper-to-others\">Difference between Jackson objectMapper to others</a></li>\n<li><a href=\"https://stackoverflow.com/a/52135000/51591\">Spring MVC PATCH method: partial updates</a></li>\n</ol>\n"}],"owner":{"account_id":22316772,"reputation":13,"user_id":16540017,"display_name":"DenisTsitsilin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74894437,"answer_count":1,"score":1,"last_activity_date":1671747794,"creation_date":1671703224,"question_id":74886852,"body_markdown":"I have `REST` api, and when client call `POST` request with body, backend after deserialize should distinguish `null` from the absence of a value.\r\n\r\nBecause if value in `JSON` is null, then `value` in DB should become *null*.\r\n\r\nIf value in `JSON` absence, then `value` in DB should *remain unchanged*.\r\n\r\n**JSON:**\r\n```\r\n{\r\n  &quot;id&quot; : 1,\r\n  &quot;name&quot; : &quot;sample name&quot;,\r\n  &quot;value&quot; : null\r\n}\r\n```\r\nOR\r\n```\r\n{\r\n  &quot;id&quot; : 1,\r\n  &quot;name&quot; : &quot;sample name&quot;\r\n}\r\n```\r\nFor Java after deserialization it is look like : `value = null;`\r\n\r\n**Java:**\r\n```\r\n@Entity\r\n@Table(&quot;sample&quot;)\r\npublic class Sample {\r\n    @Id\r\n    @Column\r\n    private Long id;\r\n    @Column\r\n    private String name;\r\n    @Column\r\n    private Integer value;\r\n\r\n    // getters / setters\r\n}\r\n```\r\n**Sample REST request:**\r\n```\r\n@PutMapping\r\npublic ResponseEntity&lt;SampleDto&gt; updateSample(@RequestBody SampleDto dto) {\r\n    return ResponseEntity.ok(service.updateSample(dto));\r\n}\r\n```\r\n**Sample service impl:**\r\n```\r\npublic SampleDto updateSample(SampleDto dto) {\r\n  Sample sample = sampleRepository.findById(dto.getId);\r\n  sample.setName(dto.getName());\r\n  sample.setValue(dto.getValue());\r\n\r\n//In this operation back need understand: value is null or absence\r\n//Because if value in JSON is null, then value in DB should become null\r\n//If value in JSON absence, then value in DB should remain unchanged\r\n\r\n  Sample newSample = sampleRepository.save(sample);\r\n  return modelMapper.map(newSample, SampleDto.class);\r\n}\r\n```\r\n\r\nProject use `Spring Data`.\r\n\r\nMaybe I should use `@JsonDeserialize` annotation or other `Hibernate` annotation\r\n\r\n\r\n\r\nI tried use `@JsonDeserialize`, but it is not solution.","title":"How to deserialize json and distinguish `null` from the absence of a value","body":"<p>I have <code>REST</code> api, and when client call <code>POST</code> request with body, backend after deserialize should distinguish <code>null</code> from the absence of a value.</p>\n<p>Because if value in <code>JSON</code> is null, then <code>value</code> in DB should become <em>null</em>.</p>\n<p>If value in <code>JSON</code> absence, then <code>value</code> in DB should <em>remain unchanged</em>.</p>\n<p><strong>JSON:</strong></p>\n<pre><code>{\n  &quot;id&quot; : 1,\n  &quot;name&quot; : &quot;sample name&quot;,\n  &quot;value&quot; : null\n}\n</code></pre>\n<p>OR</p>\n<pre><code>{\n  &quot;id&quot; : 1,\n  &quot;name&quot; : &quot;sample name&quot;\n}\n</code></pre>\n<p>For Java after deserialization it is look like : <code>value = null;</code></p>\n<p><strong>Java:</strong></p>\n<pre><code>@Entity\n@Table(&quot;sample&quot;)\npublic class Sample {\n    @Id\n    @Column\n    private Long id;\n    @Column\n    private String name;\n    @Column\n    private Integer value;\n\n    // getters / setters\n}\n</code></pre>\n<p><strong>Sample REST request:</strong></p>\n<pre><code>@PutMapping\npublic ResponseEntity&lt;SampleDto&gt; updateSample(@RequestBody SampleDto dto) {\n    return ResponseEntity.ok(service.updateSample(dto));\n}\n</code></pre>\n<p><strong>Sample service impl:</strong></p>\n<pre><code>public SampleDto updateSample(SampleDto dto) {\n  Sample sample = sampleRepository.findById(dto.getId);\n  sample.setName(dto.getName());\n  sample.setValue(dto.getValue());\n\n//In this operation back need understand: value is null or absence\n//Because if value in JSON is null, then value in DB should become null\n//If value in JSON absence, then value in DB should remain unchanged\n\n  Sample newSample = sampleRepository.save(sample);\n  return modelMapper.map(newSample, SampleDto.class);\n}\n</code></pre>\n<p>Project use <code>Spring Data</code>.</p>\n<p>Maybe I should use <code>@JsonDeserialize</code> annotation or other <code>Hibernate</code> annotation</p>\n<p>I tried use <code>@JsonDeserialize</code>, but it is not solution.</p>\n"},{"tags":["java","spring","sql-injection","spring-annotations"],"comments":[{"owner":{"account_id":130866,"reputation":1351,"user_id":330445,"accept_rate":88,"display_name":"tkr"},"score":0,"creation_date":1512369870,"post_id":28050710,"comment_id":82213268,"body_markdown":"Must MY_QUERY not be static?","body":"Must MY_QUERY not be static?"},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1512370002,"post_id":28050710,"comment_id":82213321,"body_markdown":"@tkr Yes I believe so. I&#39;ve run into issues trying to dynamically build the query components to feed into Query. I believe only the parameters are what you have access to change.","body":"@tkr Yes I believe so. I&#39;ve run into issues trying to dynamically build the query components to feed into Query. I believe only the parameters are what you have access to change."},{"owner":{"account_id":130866,"reputation":1351,"user_id":330445,"accept_rate":88,"display_name":"tkr"},"score":0,"creation_date":1512370690,"post_id":28050710,"comment_id":82213594,"body_markdown":"I actually think that this is by design. This encourages you to not build up the SQL using string concatenation, but by using proper prepared statement parameters. (But I am not quite sure.)","body":"I actually think that this is by design. This encourages you to not build up the SQL using string concatenation, but by using proper prepared statement parameters. (But I am not quite sure.)"},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1512370917,"post_id":28050710,"comment_id":82213670,"body_markdown":"@tkr Thats my guess too. It might also have to do with the way in which the queries are transformed at run time to sql statements. I believe this transformation takes place when the Spring beans are initializing which is also before your own code is actually executed. Or put another way, your query must be ready by bean initialization time, minus the prepared parameters.","body":"@tkr Thats my guess too. It might also have to do with the way in which the queries are transformed at run time to sql statements. I believe this transformation takes place when the Spring beans are initializing which is also before your own code is actually executed. Or put another way, your query must be ready by bean initialization time, minus the prepared parameters."},{"owner":{"account_id":130866,"reputation":1351,"user_id":330445,"accept_rate":88,"display_name":"tkr"},"score":0,"creation_date":1512475497,"post_id":28050710,"comment_id":82264511,"body_markdown":"I checked it. MY_QUERY must not be static but final.","body":"I checked it. MY_QUERY must not be static but final."},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1512615027,"post_id":28050710,"comment_id":82333196,"body_markdown":"@tkr sorry thats what I meant. I meant &quot;static&quot; as in can&#39;t be changed or not dynamic. Thanks for updating the code.","body":"@tkr sorry thats what I meant. I meant &quot;static&quot; as in can&#39;t be changed or not dynamic. Thanks for updating the code."}],"answers":[{"comments":[{"owner":{"account_id":130866,"reputation":1351,"user_id":330445,"accept_rate":88,"display_name":"tkr"},"score":19,"creation_date":1512369793,"post_id":28051100,"comment_id":82213236,"body_markdown":"Is the example in the question safe or unsafe?","body":"Is the example in the question safe or unsafe?"},{"owner":{"account_id":10517209,"reputation":306,"user_id":7750944,"display_name":"Ant T."},"score":0,"creation_date":1694167632,"post_id":28051100,"comment_id":135858966,"body_markdown":"I would also like to know if the above example is safe or unsafe.","body":"I would also like to know if the above example is safe or unsafe."}],"tags":[],"owner":{"account_id":60226,"reputation":2455,"user_id":179962,"display_name":"Alex"},"comment_count":2,"down_vote_count":5,"up_vote_count":8,"is_accepted":true,"score":3,"last_activity_date":1421773427,"creation_date":1421773427,"answer_id":28051100,"question_id":28050710,"body_markdown":"It looks like Spring Data&#39;s `@Query` is just a wrapper around JPA\r\n\r\nSee this SO answer: https://stackoverflow.com/questions/3441193/are-sql-injection-attacks-possible-in-jpa\r\n\r\n","title":"Is the @Query annotation in spring SQL Injection safe?","body":"<p>It looks like Spring Data's <code>@Query</code> is just a wrapper around JPA</p>\n\n<p>See this SO answer: <a href=\"https://stackoverflow.com/questions/3441193/are-sql-injection-attacks-possible-in-jpa\">Are SQL injection attacks possible in JPA?</a></p>\n"},{"tags":[],"owner":{"account_id":4000676,"reputation":350,"user_id":3296787,"display_name":"AntonBerezin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421773540,"creation_date":1421773540,"answer_id":28051133,"question_id":28050710,"body_markdown":"In the query you use bind variable instead of string concatenation (which would be vulnerable to SQL Injection), so I think your example is save in the respect of vulnerability from SQL Injection.","title":"Is the @Query annotation in spring SQL Injection safe?","body":"<p>In the query you use bind variable instead of string concatenation (which would be vulnerable to SQL Injection), so I think your example is save in the respect of vulnerability from SQL Injection.</p>\n"},{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671747659,"creation_date":1671747659,"answer_id":74894425,"question_id":28050710,"body_markdown":"\r\nIt depends on the spring data implementation.  Your example is safe in spring-data-couchbase, as spring-data-couchbase will keep the positional parameter in the sql string, and set a parameter to the value of the provided parameter.  An implementation which re-wrote the sql string replacing the positional parameter with the provided argument would not be safe.\r\n\r\nHowever, the SPEL expression of #{[&amp;lt;n&amp;gt;]} in the @Query string will be replaced by the (n+1)th parameter provided, thus it would not be safe in any implementation.","title":"Is the @Query annotation in spring SQL Injection safe?","body":"<p>It depends on the spring data implementation.  Your example is safe in spring-data-couchbase, as spring-data-couchbase will keep the positional parameter in the sql string, and set a parameter to the value of the provided parameter.  An implementation which re-wrote the sql string replacing the positional parameter with the provided argument would not be safe.</p>\n<p>However, the SPEL expression of #{[&lt;n&gt;]} in the @Query string will be replaced by the (n+1)th parameter provided, thus it would not be safe in any implementation.</p>\n"}],"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25993,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":28051100,"answer_count":3,"score":17,"last_activity_date":1671747659,"creation_date":1421772234,"question_id":28050710,"body_markdown":"Do the parameters of a string passed to the @Query annotation, for Spring, get treated as pure data as they would if, for example, you were using the PreparedStatement class or any method meant to prevent SQL injection?\r\n\r\n    final String MY_QUERY = &quot;SELECT * FROM some_table WHERE some_column = ?1&quot;;\r\n    \r\n    @Query(value=MY_QUERY, nativeQuery = true)\r\n    List&lt;SomeEntity&gt; findResults(String potentiallyMaliciousUserInput);\r\n\r\n**Bottom Line:** Is the code above susceptible to SQL injection?\r\n","title":"Is the @Query annotation in spring SQL Injection safe?","body":"<p>Do the parameters of a string passed to the @Query annotation, for Spring, get treated as pure data as they would if, for example, you were using the PreparedStatement class or any method meant to prevent SQL injection?</p>\n\n<pre><code>final String MY_QUERY = \"SELECT * FROM some_table WHERE some_column = ?1\";\n\n@Query(value=MY_QUERY, nativeQuery = true)\nList&lt;SomeEntity&gt; findResults(String potentiallyMaliciousUserInput);\n</code></pre>\n\n<p><strong>Bottom Line:</strong> Is the code above susceptible to SQL injection?</p>\n"},{"tags":["java","maven","netbeans","maven-2","javafx"],"comments":[{"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"score":0,"creation_date":1517857625,"post_id":20077870,"comment_id":84256347,"body_markdown":"how were you able to fix this issue? I&#39;m also facing the same issue and given suggestions not working for me. Thanks","body":"how were you able to fix this issue? I&#39;m also facing the same issue and given suggestions not working for me. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":294559,"reputation":12793,"user_id":1022330,"accept_rate":51,"display_name":"Oliver Watkins"},"score":0,"creation_date":1384936021,"post_id":20087834,"comment_id":29932600,"body_markdown":"i still can&#39;t get it to show any decent output. Do you think it has anything to do with not being able to find the javafxpackager under the bin?","body":"i still can&#39;t get it to show any decent output. Do you think it has anything to do with not being able to find the javafxpackager under the bin?"},{"owner":{"account_id":80764,"reputation":2291,"user_id":228145,"display_name":"mkleint"},"score":0,"creation_date":1384937178,"post_id":20087834,"comment_id":29933100,"body_markdown":"is possible. I&#39;ve coworked on the archetype for javafx and honestly, there&#39;s no good way of handling javafx execution (unless there is a plugin for that I don&#39;t know about) The javafx people keep on changing stuff and didn&#39;t bother to a simple way to run javafx apps.","body":"is possible. I&#39;ve coworked on the archetype for javafx and honestly, there&#39;s no good way of handling javafx execution (unless there is a plugin for that I don&#39;t know about) The javafx people keep on changing stuff and didn&#39;t bother to a simple way to run javafx apps."},{"owner":{"account_id":1843851,"reputation":3637,"user_id":1672678,"display_name":"anre"},"score":0,"creation_date":1633010989,"post_id":20087834,"comment_id":122652682,"body_markdown":"Had same problem on NetBeans 8.2. Disabling Compile on Save finally solved it.","body":"Had same problem on NetBeans 8.2. Disabling Compile on Save finally solved it."}],"tags":[],"owner":{"account_id":80764,"reputation":2291,"user_id":228145,"display_name":"mkleint"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384924009,"creation_date":1384924009,"answer_id":20087834,"question_id":20077870,"body_markdown":"1. what&#39;s happening? you haven&#39; shown much of the output to be able to decide. if you are using netbeans 7.4, try disabling Compile on Save.\r\n\r\n2. to enable debug output, either run Custom &gt; Goals... action from project popup or after running a regular build, click the Rerun with options action from the output&#39;s toolbar","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<ol>\n<li><p>what's happening? you haven' shown much of the output to be able to decide. if you are using netbeans 7.4, try disabling Compile on Save.</p></li>\n<li><p>to enable debug output, either run Custom > Goals... action from project popup or after running a regular build, click the Rerun with options action from the output's toolbar</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384939780,"creation_date":1384939780,"answer_id":20092007,"question_id":20077870,"body_markdown":"Try to run Maven from the command line or type &quot;-X&quot; in the text field - you can&#39;t break anything this way, at the worst, you&#39;ll get an error (I don&#39;t have Netbeans; in Eclipse, there is a checkbox &quot;Debug&quot; for this).\r\n\r\nWhen running with debug output enabled, you should see the paths which the exec-maven-plugin plugin uses.\r\n\r\nThe next step would then be to copy the command into a command prompt or terminal and execute it manually to see if you get a useful error message there.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Try to run Maven from the command line or type \"-X\" in the text field - you can't break anything this way, at the worst, you'll get an error (I don't have Netbeans; in Eclipse, there is a checkbox \"Debug\" for this).</p>\n\n<p>When running with debug output enabled, you should see the paths which the exec-maven-plugin plugin uses.</p>\n\n<p>The next step would then be to copy the command into a command prompt or terminal and execute it manually to see if you get a useful error message there.</p>\n"},{"comments":[{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1400619298,"post_id":20236551,"comment_id":36552094,"body_markdown":"This did not work for me.. Same error, even after Clean &amp; Build.","body":"This did not work for me.. Same error, even after Clean &amp; Build."},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1400623065,"post_id":20236551,"comment_id":36553894,"body_markdown":"I got mine to work: I had to add `.exe` to the original location so that it became: `${java.home}/../bin/javafxpackager.exe`","body":"I got mine to work: I had to add <code>.exe</code> to the original location so that it became: <code>${java.home}&#47;..&#47;bin&#47;javafxpackager.exe</code>"}],"tags":[],"owner":{"account_id":3647945,"reputation":11,"user_id":3040727,"display_name":"Kenny O. Cruz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385538159,"creation_date":1385538159,"answer_id":20236551,"question_id":20077870,"body_markdown":"Had the same problem, I worked around it by changing\r\n &lt;executable&gt;${java.home}/../bin/javafxpackager&lt;/executable&gt;\r\nto \r\n&lt;executable&gt;${java.home}/bin/javafxpackager&lt;/executable&gt;","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Had the same problem, I worked around it by changing\n ${java.home}/../bin/javafxpackager\nto \n${java.home}/bin/javafxpackager</p>\n"},{"tags":[],"owner":{"account_id":985877,"reputation":429,"user_id":1004388,"display_name":"Ilya Sheershoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389857314,"creation_date":1389857314,"answer_id":21155756,"question_id":20077870,"body_markdown":"Had the same problem after installing oracle jdk on Ubuntu 13.10 x64.\r\n\r\nI&#39;ve done the following steps, not sure which one helped. I think that at least 2 and 3 are necessary.\r\n\r\n1. Deleted Netbeans 7.4 and reinstalled it from oracle&#39;s site.\r\n2. Installed plugins for maven, ant and java that may be related to the project.\r\n3. Deleted .nbproject folder - after that the project was considered a maven project.\r\n\r\nAlso, after that, I&#39;ve found that the project runs, but exits with exit code 1 because I didn&#39;t supply the command line parameters for it. And the builder considers it is an error. So, look carefully for the output and see if the program actually starts.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Had the same problem after installing oracle jdk on Ubuntu 13.10 x64.</p>\n\n<p>I've done the following steps, not sure which one helped. I think that at least 2 and 3 are necessary.</p>\n\n<ol>\n<li>Deleted Netbeans 7.4 and reinstalled it from oracle's site.</li>\n<li>Installed plugins for maven, ant and java that may be related to the project.</li>\n<li>Deleted .nbproject folder - after that the project was considered a maven project.</li>\n</ol>\n\n<p>Also, after that, I've found that the project runs, but exits with exit code 1 because I didn't supply the command line parameters for it. And the builder considers it is an error. So, look carefully for the output and see if the program actually starts.</p>\n"},{"comments":[{"owner":{"account_id":13509637,"reputation":480,"user_id":9746445,"display_name":"Tulshi Das"},"score":0,"creation_date":1624189777,"post_id":22737590,"comment_id":120285397,"body_markdown":"Same for me. I had to add a &quot;/&quot; at the start of the path.","body":"Same for me. I had to add a &quot;/&quot; at the start of the path."}],"tags":[],"owner":{"account_id":3552377,"reputation":286,"user_id":2966953,"accept_rate":86,"display_name":"theteddyboy"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1396131248,"creation_date":1396131248,"answer_id":22737590,"question_id":20077870,"body_markdown":"I am a beginner in Maven - don&#39;t know much about it. \r\nCarefully check on your input i.e. file path in my case. \r\nAfter I have carefully check, my file path is wrong so it leads to this error.\r\nAfter I fixed it, it works magically lol.\r\n","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>I am a beginner in Maven - don't know much about it. \nCarefully check on your input i.e. file path in my case. \nAfter I have carefully check, my file path is wrong so it leads to this error.\nAfter I fixed it, it works magically lol.</p>\n"},{"tags":[],"owner":{"account_id":4937206,"reputation":39,"user_id":3974985,"display_name":"Naveen Sharma"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1408962068,"creation_date":1408962068,"answer_id":25483746,"question_id":20077870,"body_markdown":"A solution which worked in my case is:&lt;br/&gt;\r\n&amp;nbsp;&amp;nbsp;1. Go to the module having Main class.&lt;br/&gt;\r\n&amp;nbsp;&amp;nbsp;2. Right click on pom.xml under this module.&lt;br/&gt;\r\n&amp;nbsp;&amp;nbsp;3. Select &quot;Run Maven&quot; -&gt; &quot;UpdateSnapshots&quot;\r\n\r\n","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>A solution which worked in my case is:<br/>\n&nbsp;&nbsp;1. Go to the module having Main class.<br/>\n&nbsp;&nbsp;2. Right click on pom.xml under this module.<br/>\n&nbsp;&nbsp;3. Select \"Run Maven\" -> \"UpdateSnapshots\"</p>\n"},{"tags":[],"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432445775,"creation_date":1432445775,"answer_id":30420417,"question_id":20077870,"body_markdown":"Maven needs to be able to access various Maven repositories in order to download artifacts to the local repository. If your local system is accessing the Internet through a proxy host, you might need to explicitly specify the proxy settings for Maven by editing the Maven `settings.xml` file. **Maven builds ignore the IDE proxy settings that are set in the Options window.**\r\nFor many common cases, just passing `-Djava.net.useSystemProxies=true` to Maven should suffice to download artifacts through the system&#39;s configured proxy. NetBeans 7.1 will offer to configure this flag for you if it detects a possible proxy problem. https://netbeans.org/bugzilla/show_bug.cgi?id=194916 has discussion.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Maven needs to be able to access various Maven repositories in order to download artifacts to the local repository. If your local system is accessing the Internet through a proxy host, you might need to explicitly specify the proxy settings for Maven by editing the Maven <code>settings.xml</code> file. <strong>Maven builds ignore the IDE proxy settings that are set in the Options window.</strong>\nFor many common cases, just passing <code>-Djava.net.useSystemProxies=true</code> to Maven should suffice to download artifacts through the system's configured proxy. NetBeans 7.1 will offer to configure this flag for you if it detects a possible proxy problem. <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=194916\" rel=\"nofollow\">https://netbeans.org/bugzilla/show_bug.cgi?id=194916</a> has discussion.</p>\n"},{"comments":[{"owner":{"account_id":3243755,"reputation":1944,"user_id":2740158,"accept_rate":77,"display_name":"SoCo"},"score":0,"creation_date":1601744063,"post_id":36613383,"comment_id":113503298,"body_markdown":"Number 2 was my case. Good catch since I am a beginer it would have taken ages to find that out.","body":"Number 2 was my case. Good catch since I am a beginer it would have taken ages to find that out."}],"tags":[],"owner":{"account_id":8245707,"reputation":103,"user_id":6201866,"display_name":"Rohith H.Y"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1461301446,"creation_date":1460604659,"answer_id":36613383,"question_id":20077870,"body_markdown":"1. This error would spring up arbitrarily and caused quite a bit of trouble though the code on my end was solid. \r\n\r\nI did the following : \r\n\r\n* I closed it on netbeans. \r\n* Then open the project by clicking &quot;Open Project&quot;, selecting my project and \r\n* Simply hit the run button in netbeans. \r\n\r\nI would not build or clean build it. Hope that helps you out.\r\n\r\n2. I noticed another reason why this happens. If you moved your main class to another package, the same error springs up. In that case you :\r\n* Right Click Project &gt; Properties &gt; Run\r\n* Set the &quot;Main Class&quot; correctly by clicking &quot;Browse&quot; and selecting.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<ol>\n<li>This error would spring up arbitrarily and caused quite a bit of trouble though the code on my end was solid. </li>\n</ol>\n\n<p>I did the following : </p>\n\n<ul>\n<li>I closed it on netbeans. </li>\n<li>Then open the project by clicking \"Open Project\", selecting my project and </li>\n<li>Simply hit the run button in netbeans. </li>\n</ul>\n\n<p>I would not build or clean build it. Hope that helps you out.</p>\n\n<ol start=\"2\">\n<li>I noticed another reason why this happens. If you moved your main class to another package, the same error springs up. In that case you :\n\n<ul>\n<li>Right Click Project > Properties > Run</li>\n<li>Set the \"Main Class\" correctly by clicking \"Browse\" and selecting.</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1645929,"reputation":2507,"user_id":1517483,"accept_rate":77,"display_name":"devrocca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486670650,"creation_date":1486670650,"answer_id":42145850,"question_id":20077870,"body_markdown":"I solved this issue with right click on project -&gt; Set as Main Project.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>I solved this issue with right click on project -> Set as Main Project.</p>\n"},{"tags":[],"owner":{"display_name":"user3103059"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522864694,"creation_date":1522864694,"answer_id":49657519,"question_id":20077870,"body_markdown":"**Netbeans needs to be able to index the maven repository.** Allow it to do that and try again. It was giving me the same error and after it indexed the repository it ran like a charm","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p><strong>Netbeans needs to be able to index the maven repository.</strong> Allow it to do that and try again. It was giving me the same error and after it indexed the repository it ran like a charm</p>\n"},{"comments":[{"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"score":0,"creation_date":1565004402,"post_id":49821279,"comment_id":101202091,"body_markdown":"In my case, I had the problem with the version of the maven plugin (1.5.0) used by Netbeans 11.1 and I didn&#39;t know where to change this, you guided me to the right place\n`Project Properties &gt; Actions Categories &gt; Action: Run Project`","body":"In my case, I had the problem with the version of the maven plugin (1.5.0) used by Netbeans 11.1 and I didn&#39;t know where to change this, you guided me to the right place <code>Project Properties &gt; Actions Categories &gt; Action: Run Project</code>"},{"owner":{"account_id":3573613,"reputation":115,"user_id":2983401,"display_name":"dkum"},"score":0,"creation_date":1585947431,"post_id":49821279,"comment_id":107954853,"body_markdown":"You are a genius. I wish I could upvote this a million times!","body":"You are a genius. I wish I could upvote this a million times!"},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1586169209,"post_id":49821279,"comment_id":108019054,"body_markdown":"@FiruzzZ what did you change it to?","body":"@FiruzzZ what did you change it to?"},{"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"score":0,"creation_date":1586192532,"post_id":49821279,"comment_id":108032542,"body_markdown":"@martinkimani  the action execution goals: Run project, run file via main() and any other action that you could use.\n`process-classes org.codehaus.mojo:exec-maven-plugin:1.2.1:exec`","body":"@martinkimani  the action execution goals: Run project, run file via main() and any other action that you could use. <code>process-classes org.codehaus.mojo:exec-maven-plugin:1.2.1:exec</code>"}],"tags":[],"owner":{"account_id":9292919,"reputation":41,"user_id":6900819,"display_name":"Sagar Panchal"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523636119,"creation_date":1523636119,"answer_id":49821279,"question_id":20077870,"body_markdown":"I faced the same issue. When I tried to run the project from IDE, it was giving me same error. But when I tried running from the command prompt, the project was running fine. So it came to me that there should be some issue with the settings that makes the program to Run from IDE.\r\n\r\nI solved the problem by changing some Project settings. I traced the error and came to the following part in my pom.xml file.\r\n                \r\n\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-cli&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;exec&lt;/goal&gt;                            \r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;${java.home}/bin/java&lt;/executable&gt;\r\n                        &lt;commandlineArgs&gt;${runfx.args}&lt;/commandlineArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n\r\nI went to my Project Properties &gt; Actions Categories &gt; Action: Run Project:\r\nthen I Set Properties for Run Project Action as follows:\r\n\r\n    runfx.args=-jar &quot;${project.build.directory}/${project.build.finalName}.jar&quot;\r\n\r\nThen, I rebuild the project and I was able to Run the Project. As you can see, the IDE(Netbeans in my case), was not able to find &#39;runfx.args&#39; which is set in Project Properties.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>I faced the same issue. When I tried to run the project from IDE, it was giving me same error. But when I tried running from the command prompt, the project was running fine. So it came to me that there should be some issue with the settings that makes the program to Run from IDE.</p>\n\n<p>I solved the problem by changing some Project settings. I traced the error and came to the following part in my pom.xml file.</p>\n\n<pre><code>            &lt;execution&gt;\n                &lt;id&gt;default-cli&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;exec&lt;/goal&gt;                            \n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;${java.home}/bin/java&lt;/executable&gt;\n                    &lt;commandlineArgs&gt;${runfx.args}&lt;/commandlineArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n</code></pre>\n\n<p>I went to my Project Properties > Actions Categories > Action: Run Project:\nthen I Set Properties for Run Project Action as follows:</p>\n\n<pre><code>runfx.args=-jar \"${project.build.directory}/${project.build.finalName}.jar\"\n</code></pre>\n\n<p>Then, I rebuild the project and I was able to Run the Project. As you can see, the IDE(Netbeans in my case), was not able to find 'runfx.args' which is set in Project Properties.</p>\n"},{"tags":[],"owner":{"account_id":2228413,"reputation":816,"user_id":1966655,"accept_rate":67,"display_name":"swapnil gandhi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531753065,"creation_date":1531753065,"answer_id":51364716,"question_id":20077870,"body_markdown":"&gt; Restart Netbeans &amp; it solved my problem.","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<blockquote>\n  <p>Restart Netbeans &amp; it solved my problem.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16063387,"reputation":1,"user_id":11593698,"display_name":"imane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560764921,"creation_date":1560758647,"answer_id":56627141,"question_id":20077870,"body_markdown":"Im new to java hibernate but i could solve this problem, this is how i did it :\r\nI was working with hibernate and maven project.\r\nFirst you have to put persistence.xml under project directory, then add jdbc manually.\r\nMaven couldn&#39;t download my dependency so i added it manually.\r\nIn the persistence.xml in design jdbc connection add it manually ps: i work with netbeans good luck","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Im new to java hibernate but i could solve this problem, this is how i did it :\nI was working with hibernate and maven project.\nFirst you have to put persistence.xml under project directory, then add jdbc manually.\nMaven couldn't download my dependency so i added it manually.\nIn the persistence.xml in design jdbc connection add it manually ps: i work with netbeans good luck</p>\n"},{"tags":[],"owner":{"account_id":187539,"reputation":145,"user_id":425674,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566935612,"creation_date":1566935612,"answer_id":57681401,"question_id":20077870,"body_markdown":"For me, the clue was the &quot;org.codehaus.mojo:exec-maven-plugin:1.2.1:exec&quot;.  \r\nThe only place this was referenced was in the &quot;Run project&quot; action under Project Properties=&gt;Actions.\r\n\r\nWhen I changed this action to match the HelloFXMLWithMaven sample project (available in Netbeans 11.1):\r\n&quot;clean javafx:run&quot;\r\nthen executing the Run goal was able to proceed.\r\n\r\nNote, I also had to update the pom file&#39;s javafx-maven-plugin to also match the sample project but with the mainClass changed for my project.\r\n","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>For me, the clue was the \"org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\".<br>\nThe only place this was referenced was in the \"Run project\" action under Project Properties=>Actions.</p>\n\n<p>When I changed this action to match the HelloFXMLWithMaven sample project (available in Netbeans 11.1):\n\"clean javafx:run\"\nthen executing the Run goal was able to proceed.</p>\n\n<p>Note, I also had to update the pom file's javafx-maven-plugin to also match the sample project but with the mainClass changed for my project.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671907494,"post_id":74894382,"comment_id":132196122,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74894382/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22716825,"reputation":1,"user_id":16881939,"display_name":"Mikita"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671747354,"creation_date":1671747354,"answer_id":74894382,"question_id":20077870,"body_markdown":"Rohith H.Y Solved this problem\r\n\r\n2. I noticed another reason why this happens. If you moved your main class to another package, the same error springs up. \r\n\r\nIn that case you :\r\n\r\nRight Click Project &gt; Properties &gt; Run  \r\nSet the &quot;Main Class&quot; correctly by clicking &quot;Browse&quot; and selecting.\r\n\r\n","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>Rohith H.Y Solved this problem</p>\n<ol start=\"2\">\n<li>I noticed another reason why this happens. If you moved your main class to another package, the same error springs up.</li>\n</ol>\n<p>In that case you :</p>\n<p>Right Click Project &gt; Properties &gt; Run<br />\nSet the &quot;Main Class&quot; correctly by clicking &quot;Browse&quot; and selecting.</p>\n"}],"owner":{"account_id":294559,"reputation":12793,"user_id":1022330,"accept_rate":51,"display_name":"Oliver Watkins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170256,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":15,"score":19,"last_activity_date":1671747354,"creation_date":1384881545,"question_id":20077870,"body_markdown":"\r\nI can&#39;t run the Maven Netbeans JavaFX example : \r\n\r\n```java\r\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) onproject mavenproject3:\r\n  Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n\r\n  To see the full stack trace of the errors, re-run Maven with the -e\r\n  switch. Re-run Maven using the -X switch to enable full debug logging.\r\n```\r\n\r\nMy POM looks like this : \r\n\r\n```POM\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.huw.almexoffice.client&lt;/groupId&gt;\r\n    &lt;artifactId&gt;almex-office-client&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;Almex Office Client&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;mainClass&gt;com.huw.almexoffice.client.MainApp&lt;/mainClass&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;organization&gt;\r\n        &lt;!-- Used as the &#39;Vendor&#39; for JNLP generation --&gt;\r\n        &lt;name&gt;Your Organisation&lt;/name&gt;\r\n    &lt;/organization&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludeScope&gt;system&lt;/excludeScope&gt;\r\n                            &lt;excludeGroupIds&gt;junit,org.mockito,org.hamcrest&lt;/excludeGroupIds&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\r\n                        \r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;executable&gt;${java.home}/../bin/javafxpackager&lt;/executable&gt;\r\n                            &lt;arguments&gt;\r\n                                &lt;argument&gt;-createjar&lt;/argument&gt;\r\n                                &lt;argument&gt;-nocss2bin&lt;/argument&gt;\r\n                                &lt;argument&gt;-appclass&lt;/argument&gt;\r\n                                &lt;argument&gt;${mainClass}&lt;/argument&gt;\r\n                                &lt;argument&gt;-srcdir&lt;/argument&gt;\r\n                                &lt;argument&gt;${project.build.directory}/classes&lt;/argument&gt;\r\n                                &lt;argument&gt;-outdir&lt;/argument&gt;\r\n                                &lt;argument&gt;${project.build.directory}&lt;/argument&gt;\r\n                                &lt;argument&gt;-outfile&lt;/argument&gt;\r\n                                &lt;argument&gt;${project.build.finalName}.jar&lt;/argument&gt;\r\n                            &lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;  \r\n            &lt;/plugin&gt;\r\n            \r\n            \r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nDoes anyone know why this is happening?\r\n\r\nAnd if not, does anyone know how to get Maven running with the -e or the -X switch via Netbeans? I assume it is via a right click on the POM and then run goal then entering something in the textfield there.\r\n\r\n","title":"Maven won&#39;t run my Project : Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec","body":"<p>I can't run the Maven Netbeans JavaFX example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:exec (default-cli) onproject mavenproject3:\n  Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\n  To see the full stack trace of the errors, re-run Maven with the -e\n  switch. Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>My POM looks like this :</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.huw.almexoffice.client&lt;/groupId&gt;\n    &lt;artifactId&gt;almex-office-client&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Almex Office Client&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;mainClass&gt;com.huw.almexoffice.client.MainApp&lt;/mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;organization&gt;\n        &lt;!-- Used as the 'Vendor' for JNLP generation --&gt;\n        &lt;name&gt;Your Organisation&lt;/name&gt;\n    &lt;/organization&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;excludeScope&gt;system&lt;/excludeScope&gt;\n                            &lt;excludeGroupIds&gt;junit,org.mockito,org.hamcrest&lt;/excludeGroupIds&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\n                        \n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;${java.home}/../bin/javafxpackager&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;-createjar&lt;/argument&gt;\n                                &lt;argument&gt;-nocss2bin&lt;/argument&gt;\n                                &lt;argument&gt;-appclass&lt;/argument&gt;\n                                &lt;argument&gt;${mainClass}&lt;/argument&gt;\n                                &lt;argument&gt;-srcdir&lt;/argument&gt;\n                                &lt;argument&gt;${project.build.directory}/classes&lt;/argument&gt;\n                                &lt;argument&gt;-outdir&lt;/argument&gt;\n                                &lt;argument&gt;${project.build.directory}&lt;/argument&gt;\n                                &lt;argument&gt;-outfile&lt;/argument&gt;\n                                &lt;argument&gt;${project.build.finalName}.jar&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;  \n            &lt;/plugin&gt;\n            \n            \n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;bootclasspath&gt;${sun.boot.class.path}${path.separator}${java.home}/lib/jfxrt.jar&lt;/bootclasspath&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Does anyone know why this is happening?</p>\n<p>And if not, does anyone know how to get Maven running with the -e or the -X switch via Netbeans? I assume it is via a right click on the POM and then run goal then entering something in the textfield there.</p>\n"},{"tags":["java","mysql","amazon-web-services","multithreading","amazon-aurora"],"comments":[{"owner":{"account_id":5874110,"reputation":6056,"user_id":4625526,"accept_rate":50,"display_name":"Norbert"},"score":0,"creation_date":1671308339,"post_id":74732006,"comment_id":132073279,"body_markdown":"To be able to answer on how to get rid of the processes more information is required:\nHow many database connections stay open? What are you using to run the application (Tomcat? Others?). Which driver and what driver configuration do you use?\nAlso open connections in sleep state do not have a tremendous amount of overhead and do not influence performance of individual queries in a measurable fashion. The main risk you run is our of connections (e.g. hit the configured limit in which the DB will not allow new connections)","body":"To be able to answer on how to get rid of the processes more information is required: How many database connections stay open? What are you using to run the application (Tomcat? Others?). Which driver and what driver configuration do you use? Also open connections in sleep state do not have a tremendous amount of overhead and do not influence performance of individual queries in a measurable fashion. The main risk you run is our of connections (e.g. hit the configured limit in which the DB will not allow new connections)"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1671345464,"post_id":74732006,"comment_id":132077211,"body_markdown":"Each thread &quot;connects&quot; to the database, but it sounds like it is missing a matching &quot;disconnect&quot;.","body":"Each thread &quot;connects&quot; to the database, but it sounds like it is missing a matching &quot;disconnect&quot;."},{"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"score":1,"creation_date":1671536823,"post_id":74732006,"comment_id":132115949,"body_markdown":"Can you try to use autoCommit parameter in the JDBC connection to true in your TaskThread  class perhaps ?","body":"Can you try to use autoCommit parameter in the JDBC connection to true in your TaskThread  class perhaps ?"},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1671542037,"post_id":74732006,"comment_id":132117678,"body_markdown":"@RanjitM, it is autoCommit, because the data are being committed into DB but the processes still remain.","body":"@RanjitM, it is autoCommit, because the data are being committed into DB but the processes still remain."},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1671542148,"post_id":74732006,"comment_id":132117725,"body_markdown":"@Rick James, as it is a container managed application the connection are being created or pulled by the container and hence, it is though that the disconnection is also handled.","body":"@Rick James, as it is a container managed application the connection are being created or pulled by the container and hence, it is though that the disconnection is also handled."},{"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"score":1,"creation_date":1671549341,"post_id":74732006,"comment_id":132120300,"body_markdown":"@Armine, might be using try-with-resources statements or by calling the close method on the Connection object .  try (Connection connection = dataService.getConnection()) in TaskThread class","body":"@Armine, might be using try-with-resources statements or by calling the close method on the Connection object .  try (Connection connection = dataService.getConnection()) in TaskThread class"},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1671604735,"post_id":74732006,"comment_id":132132269,"body_markdown":"@RanjitM, as I already mentioned, my appllication is completely managed by the container and I don&#39;t open/close connections manually, it&#39;s all done automatically by Apache Tomcat.","body":"@RanjitM, as I already mentioned, my appllication is completely managed by the container and I don&#39;t open/close connections manually, it&#39;s all done automatically by Apache Tomcat."}],"answers":[{"comments":[{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1671615916,"post_id":74872763,"comment_id":132135341,"body_markdown":"I would avoid disabling connection pooling since it is prone to create other problems which the application haven&#39;t before.","body":"I would avoid disabling connection pooling since it is prone to create other problems which the application haven&#39;t before."},{"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"score":1,"creation_date":1671616629,"post_id":74872763,"comment_id":132135567,"body_markdown":"yes @Armine, I am not suggesting to disable connection pool. I mentioned that setting only to check that those mysql processes are due to connection pools. I suggest to tune connection pool properties.","body":"yes @Armine, I am not suggesting to disable connection pool. I mentioned that setting only to check that those mysql processes are due to connection pools. I suggest to tune connection pool properties."}],"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671608848,"creation_date":1671608848,"answer_id":74872763,"question_id":74732006,"body_markdown":"&gt; all the threads are being shutdown upon their completion, but the corresponding processes in MySQL remain in the process list with &#39;sleep&#39; status\r\n\r\nSpring boot uses HikariCP as a Default DB Connection Pool. When the transactions are closed, Connections are not closed. Rather, DB connections are returned to the Connection Pool. So, MySQL must be showing those idle connections.\r\n\r\n&gt; So my questions is: is there a solution which will make the MySQL processes to be terminated instead of being slept when my task is finished?\r\n\r\nIf the connection pool is not used, then all the connections are opened when required and closed when transactions are completed. MySQL won&#39;t show those sleep processes then. Please try setting below to disable connection pooling -\r\n```\r\nspring.datasource.type=org.springframework.jdbc.datasource.SimpleDriverDataSource\r\n```\r\n\r\nBut, if you disable DB Connection Pool, there are downsides to it - \r\n\r\n 1. MySQL will refuse connections when max connection limit on MySQL is exhausted. \r\n 2. You won&#39;t get those benefits of connection pooling like connection reuse and a cap on maximum open DB Connections by the application.\r\n\r\nI suggest you find how many concurrent connections are needed by your application. Then fine tune HikariCP connection pool property `spring.datasource.hikari.maximum-pool-size` so that connection pool is not impacting application performance. ","title":"Multithreaded Spring Boot Application leaves MySQL processes in sleep state","body":"<blockquote>\n<p>all the threads are being shutdown upon their completion, but the corresponding processes in MySQL remain in the process list with 'sleep' status</p>\n</blockquote>\n<p>Spring boot uses HikariCP as a Default DB Connection Pool. When the transactions are closed, Connections are not closed. Rather, DB connections are returned to the Connection Pool. So, MySQL must be showing those idle connections.</p>\n<blockquote>\n<p>So my questions is: is there a solution which will make the MySQL processes to be terminated instead of being slept when my task is finished?</p>\n</blockquote>\n<p>If the connection pool is not used, then all the connections are opened when required and closed when transactions are completed. MySQL won't show those sleep processes then. Please try setting below to disable connection pooling -</p>\n<pre><code>spring.datasource.type=org.springframework.jdbc.datasource.SimpleDriverDataSource\n</code></pre>\n<p>But, if you disable DB Connection Pool, there are downsides to it -</p>\n<ol>\n<li>MySQL will refuse connections when max connection limit on MySQL is exhausted.</li>\n<li>You won't get those benefits of connection pooling like connection reuse and a cap on maximum open DB Connections by the application.</li>\n</ol>\n<p>I suggest you find how many concurrent connections are needed by your application. Then fine tune HikariCP connection pool property <code>spring.datasource.hikari.maximum-pool-size</code> so that connection pool is not impacting application performance.</p>\n"},{"comments":[{"owner":{"account_id":1347046,"reputation":138,"user_id":1287581,"display_name":"pranshuagarwal"},"score":0,"creation_date":1671718543,"post_id":74872854,"comment_id":132161609,"body_markdown":"Spring Boot uses Hikari by default but there are other connection pools supported as well. For the mentioned configurations to work, please verify the pool used. Then for that pool, find the configuration which sets the maximum amount of time a connection is allowed to stay idle. for eg. for hikari its spring.datasource.hikari.idleTimeout which defaults to 600000ms ( 10 minutes). Your connections would be released as soon as a connection remains idle for this much time.","body":"Spring Boot uses Hikari by default but there are other connection pools supported as well. For the mentioned configurations to work, please verify the pool used. Then for that pool, find the configuration which sets the maximum amount of time a connection is allowed to stay idle. for eg. for hikari its spring.datasource.hikari.idleTimeout which defaults to 600000ms ( 10 minutes). Your connections would be released as soon as a connection remains idle for this much time."},{"owner":{"account_id":4945120,"reputation":143,"user_id":3980746,"display_name":"Philippe K"},"score":0,"creation_date":1671730954,"post_id":74872854,"comment_id":132165789,"body_markdown":"Why do you want to have another status for connection ? The connections are open without activities.\nThe other solution is to only start your springboot for your batch and to stop it after","body":"Why do you want to have another status for connection ? The connections are open without activities. The other solution is to only start your springboot for your batch and to stop it after"},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1671965031,"post_id":74872854,"comment_id":132201574,"body_markdown":"@PhilippeKernevez, I don&#39;t want to have another status for my connections. And my application is a cron job running on a daily basis or whatever. All I just want is not to have too many slept processes in MySQL, because my logic is that when the process did its work, it should be finished and not remained in the processes list slept 6 - 12 hours.","body":"@PhilippeKernevez, I don&#39;t want to have another status for my connections. And my application is a cron job running on a daily basis or whatever. All I just want is not to have too many slept processes in MySQL, because my logic is that when the process did its work, it should be finished and not remained in the processes list slept 6 - 12 hours."}],"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671609471,"creation_date":1671609471,"answer_id":74872854,"question_id":74732006,"body_markdown":"By default, Spring Boot apps use HikariCP for connection pooling. So basically the HikariCP is in charge of DB connection lifecycle. So when one of your threads tries to execute any DB-related action, like read or write data to DB, it asks HikariCP to give it a connection, as the connection creation process is pretty slow and requires lots of resources, HikariCP by default keeps the connection in the pool for a configured time. So you will need to refer to the `maxLifetime` and `idleTimeout` properties from HikariCP [Documentation][1].\r\n\r\nAnd as you are on spring boot, you may control the HikariCP from you `application.properties` file with the following config options.\r\n\r\n\r\n    spring.datasource.hikari.minimum-idle=XXXX\r\n    spring.datasource.hikari.max-lifetime=XXX\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP","title":"Multithreaded Spring Boot Application leaves MySQL processes in sleep state","body":"<p>By default, Spring Boot apps use HikariCP for connection pooling. So basically the HikariCP is in charge of DB connection lifecycle. So when one of your threads tries to execute any DB-related action, like read or write data to DB, it asks HikariCP to give it a connection, as the connection creation process is pretty slow and requires lots of resources, HikariCP by default keeps the connection in the pool for a configured time. So you will need to refer to the <code>maxLifetime</code> and <code>idleTimeout</code> properties from HikariCP <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"noreferrer\">Documentation</a>.</p>\n<p>And as you are on spring boot, you may control the HikariCP from you <code>application.properties</code> file with the following config options.</p>\n<pre><code>spring.datasource.hikari.minimum-idle=XXXX\nspring.datasource.hikari.max-lifetime=XXX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27307430,"reputation":117,"user_id":20823153,"display_name":"itshagunrathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671717423,"creation_date":1671717423,"answer_id":74889526,"question_id":74732006,"body_markdown":"You can try using these connection pool properties, and set the following in your application.properties file.\r\n\r\n    spring.datasource.hikari.idle-timeout=XXXXX\r\n    spring.datasource.hikari.maximum-pool-size=XX\r\n\r\n","title":"Multithreaded Spring Boot Application leaves MySQL processes in sleep state","body":"<p>You can try using these connection pool properties, and set the following in your application.properties file.</p>\n<pre><code>spring.datasource.hikari.idle-timeout=XXXXX\nspring.datasource.hikari.maximum-pool-size=XX\n</code></pre>\n"}],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1671746627,"creation_date":1670510583,"question_id":74732006,"body_markdown":"I have a Spring Boot Application for cron tasks. One of those tasks is executed as a group of several threads executed asynchronously. Each thread inserts ~200K data in MySQL compatible AWS Aurora Serverless DB. Before the task is finished, all the threads are being shutdown upon their completion, but the corresponding processes in MySQL remain in the process list with **&#39;sleep&#39;** status. Here is the shorten sample:\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class ScheduledServiceApp implements SchedulingConfigurer {\r\n        private static final int POOL_SIZE = 20;\r\n\r\n        public static void main(String[] args) {\r\n           SpringApplication.run(ScheduledServiceApp.class, args);\r\n        }\r\n\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n\r\n            threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\r\n            threadPoolTaskScheduler.setThreadNamePrefix(&quot;scheduled-task-pool-&quot;);\r\n            threadPoolTaskScheduler.initialize();\r\n\r\n            scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n         }\r\n    }\r\n\r\n\r\n    @Component\r\n    public class ScheduledTask {\r\n\r\n        // .....\r\n\r\n        @Scheduled(cron = &quot;${task.cron.expression}&quot;, zone=&quot;UTC&quot;)\r\n        // @Modifying(clearAutomatically = true, flushAutomatically = true)\r\n        @Transactional\r\n        public void runTask() {\r\n            try {\r\n                // .....\r\n\r\n                ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(THREAD_COUNT);\r\n\r\n                for (int i = 0; i &lt; THREAD_COUNT; ++i) {\r\n                    Runnable task = new TaskThread();\r\n                    executor.execute(task);\r\n                }\r\n\r\n                executor.shutdown();\r\n\r\n                while (!executor.awaitTermination(1, TimeUnit.SECONDS)) {\r\n                    // wait until the processes in the executor will be terminated\r\n                }\r\n\r\n                log.info(&quot;Task is completed successfully&quot;);\r\n            } catch (Exception e) {\r\n                // log the error\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class TaskThread implements Runnable {\r\n        // .....\r\n\r\n        public void run() {\r\n            dataService.insertData(/* parameters */);\r\n        }\r\n    }\r\n\r\nEach separate thread execution may last for ~30min because of the huge amount of data to be processed and after the task&#39;s completion, in MySQL console I still see the corresponding processes which are in &#39;sleep&#39; mode and which are being terminated only after the timeout value reaches.\r\n\r\nAs you can see in the code, `@Modifying` annotation with its parameters didn&#39;t help either. Also, I don&#39;t want to decrease the timeout value since that may affect on queries running directly in MySQL as well. But I would like to terminate those processes since they affect on application&#39;s overall performance.\r\n\r\n**So my questions is:** is there a solution which will make the MySQL processes to be terminated instead of being slept when my task is finished?\r\n\r\n**Update:** Forgot to mention that the application is completely container managed and running under Tomcat. JDBC/ODBC bridge for MySQL (Aurora Serverless MySQL 5.7 compatible). ","title":"Multithreaded Spring Boot Application leaves MySQL processes in sleep state","body":"<p>I have a Spring Boot Application for cron tasks. One of those tasks is executed as a group of several threads executed asynchronously. Each thread inserts ~200K data in MySQL compatible AWS Aurora Serverless DB. Before the task is finished, all the threads are being shutdown upon their completion, but the corresponding processes in MySQL remain in the process list with <strong>'sleep'</strong> status. Here is the shorten sample:</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class ScheduledServiceApp implements SchedulingConfigurer {\n    private static final int POOL_SIZE = 20;\n\n    public static void main(String[] args) {\n       SpringApplication.run(ScheduledServiceApp.class, args);\n    }\n\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n\n        threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;scheduled-task-pool-&quot;);\n        threadPoolTaskScheduler.initialize();\n\n        scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\n     }\n}\n\n\n@Component\npublic class ScheduledTask {\n\n    // .....\n\n    @Scheduled(cron = &quot;${task.cron.expression}&quot;, zone=&quot;UTC&quot;)\n    // @Modifying(clearAutomatically = true, flushAutomatically = true)\n    @Transactional\n    public void runTask() {\n        try {\n            // .....\n\n            ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(THREAD_COUNT);\n\n            for (int i = 0; i &lt; THREAD_COUNT; ++i) {\n                Runnable task = new TaskThread();\n                executor.execute(task);\n            }\n\n            executor.shutdown();\n\n            while (!executor.awaitTermination(1, TimeUnit.SECONDS)) {\n                // wait until the processes in the executor will be terminated\n            }\n\n            log.info(&quot;Task is completed successfully&quot;);\n        } catch (Exception e) {\n            // log the error\n        }\n    }\n}\n\n\npublic class TaskThread implements Runnable {\n    // .....\n\n    public void run() {\n        dataService.insertData(/* parameters */);\n    }\n}\n</code></pre>\n<p>Each separate thread execution may last for ~30min because of the huge amount of data to be processed and after the task's completion, in MySQL console I still see the corresponding processes which are in 'sleep' mode and which are being terminated only after the timeout value reaches.</p>\n<p>As you can see in the code, <code>@Modifying</code> annotation with its parameters didn't help either. Also, I don't want to decrease the timeout value since that may affect on queries running directly in MySQL as well. But I would like to terminate those processes since they affect on application's overall performance.</p>\n<p><strong>So my questions is:</strong> is there a solution which will make the MySQL processes to be terminated instead of being slept when my task is finished?</p>\n<p><strong>Update:</strong> Forgot to mention that the application is completely container managed and running under Tomcat. JDBC/ODBC bridge for MySQL (Aurora Serverless MySQL 5.7 compatible).</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671746246,"post_id":74890253,"comment_id":132169737,"body_markdown":"Welcome to SO! Don&#39;t dump us your code. Provide a [mre].","body":"Welcome to SO! Don&#39;t dump us your code. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":27320971,"reputation":27,"user_id":20834678,"display_name":"worker24_7"},"score":0,"creation_date":1671724495,"post_id":74890597,"comment_id":132163837,"body_markdown":"Thanks it does help, did not know about EASY_RANDOM, now I just need to test the loop in the method","body":"Thanks it does help, did not know about EASY_RANDOM, now I just need to test the loop in the method"},{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1671736586,"post_id":74890597,"comment_id":132167393,"body_markdown":"@Bernardo If you feel that the answer solves your issue, a nice thing todo is to mark the answer as accepted. Please see https://stackoverflow.com/help/someone-answers for more info.","body":"@Bernardo If you feel that the answer solves your issue, a nice thing todo is to mark the answer as accepted. Please see <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a> for more info."}],"tags":[],"owner":{"account_id":4244992,"reputation":624,"user_id":3473925,"accept_rate":0,"display_name":"bostonjava"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671722761,"creation_date":1671722761,"answer_id":74890597,"question_id":74890253,"body_markdown":"\r\nYou can use EasyRandom to create a list of PlanDay\r\n```\r\nprivate static final EasyRandom EASY_RANDOM = ...;\r\nprivate static final List&lt;PlanDay&gt; playDays =\r\n        EASY_RANDOM.objects(PlanDay.class, 10).collect(Collectors.toList());\r\n```\r\n\r\nYou can use Mokito to mock the medRepo\r\n```\r\n@Mock\r\nprivate MedsRepo medsRepo;\r\n\r\nwhen(medsRepo.getReferencedById(anyLong()).thenReturn(...);\r\n```\r\n\r\nYou will also need to mock PlanDayRepo for the save call.\r\n\r\nHope this helps.","title":"Junit testing a saveService with for loop","body":"<p>You can use EasyRandom to create a list of PlanDay</p>\n<pre><code>private static final EasyRandom EASY_RANDOM = ...;\nprivate static final List&lt;PlanDay&gt; playDays =\n        EASY_RANDOM.objects(PlanDay.class, 10).collect(Collectors.toList());\n</code></pre>\n<p>You can use Mokito to mock the medRepo</p>\n<pre><code>@Mock\nprivate MedsRepo medsRepo;\n\nwhen(medsRepo.getReferencedById(anyLong()).thenReturn(...);\n</code></pre>\n<p>You will also need to mock PlanDayRepo for the save call.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":27320971,"reputation":27,"user_id":20834678,"display_name":"worker24_7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74890597,"answer_count":1,"score":0,"last_activity_date":1671746222,"creation_date":1671721007,"question_id":74890253,"body_markdown":"How would I test the following code? I only know how to test the JPA part (the planDayRepo.save(planDay)).\r\n\r\nThis is the method I want to test:\r\n\r\n```java\r\npublic String savePlans(List &lt; PlanDay &gt; plans) {\r\n    for (int i = 0; i &lt; plans.size(); i++) {\r\n        PlanDay planDay = plans.get(i);\r\n        long medsId = planDay.getMeds().getMedsId();\r\n        int medsToTake = planDay.getMedsToTake();\r\n        int pillNumber = medsRepo.getReferenceById(medsId).getPillNumber();\r\n        int pillUpdate = pillNumber - medsToTake;\r\n        Meds updatePlanDay = medsRepo.findById(medsId).get();\r\n        if (pillUpdate &gt; 0) {\r\n            updatePlanDay.setPillNumber(pillUpdate);\r\n        } else {\r\n            return &quot;Error: No piils available (Existing Pills: &quot; + pillNumber + &quot;)&quot;;\r\n        }\r\n        planDayRepo.save(planDay);\r\n    }\r\n\r\n    return &quot;Saved Successfully&quot;;\r\n}\r\n```\r\n\r\nmy entities:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;meds&quot;)\r\n@JsonIgnoreProperties(value = { &quot;days&quot; })\r\npublic class Meds {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long medsId;\r\n\r\n    @Column\r\n    private String medsName;\r\n\r\n    @Column\r\n    private BigDecimal price;\r\n\r\n    @Column\r\n    private String category;\r\n\r\n    @Column\r\n    private int pillNumber;\r\n\r\n    @Column\r\n    private Date medsDate;\r\n\r\n    @OneToMany(mappedBy = &quot;meds&quot;, cascade = {CascadeType.REMOVE}, fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Set&lt;PlanDay&gt; days = new HashSet&lt;PlanDay&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;plans&quot;)\r\n@JsonIgnoreProperties(value = { &quot;days&quot; })\r\npublic class Plans {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long planId;\r\n\r\n    @OneToMany(mappedBy = &quot;plans&quot;, fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Set&lt;PlanDay&gt; days = new HashSet&lt;PlanDay&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;planDay&quot;)\r\n@JsonIgnoreProperties(value = { &quot;planDaysId&quot; })\r\npublic class PlanDay {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long planDaysId;\r\n\r\n    @Column\r\n    @PastOrPresent\r\n    @FutureOrPresent(groups = OneWeekInTheFuture.class)\r\n    @Min(value = 2022 - 12 - 22, groups = OneWeekInTheFuture.class)\r\n    @Max(value = 2022 - 12 - 29, groups = OneWeekInTheFuture.class)\r\n    private Date planDate;\r\n\r\n    @Column\r\n    private String weekday;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;planId&quot;, nullable = false)\r\n    private Plans plans;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;medsId&quot;, nullable = false)\r\n    private Meds meds;\r\n\r\n    @Column\r\n    private int medsToTake;\r\n}\r\n```\r\nan my Controller:\r\n\r\n\r\n```\r\n@PostMapping(value = &quot;/plan/save&quot;)\r\n    public String savePlans(@RequestBody List&lt;PlanDay&gt; plans) {\r\n\r\n        return saveService.savePlans(plans);\r\n    }\r\n```\r\nI have  a similar loop to the deleteService and I don&#39;t know how to test that as well. The loop is how I update my pillsNumber. Would appreciate any suggestion. Regards","title":"Junit testing a saveService with for loop","body":"<p>How would I test the following code? I only know how to test the JPA part (the planDayRepo.save(planDay)).</p>\n<p>This is the method I want to test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String savePlans(List &lt; PlanDay &gt; plans) {\n    for (int i = 0; i &lt; plans.size(); i++) {\n        PlanDay planDay = plans.get(i);\n        long medsId = planDay.getMeds().getMedsId();\n        int medsToTake = planDay.getMedsToTake();\n        int pillNumber = medsRepo.getReferenceById(medsId).getPillNumber();\n        int pillUpdate = pillNumber - medsToTake;\n        Meds updatePlanDay = medsRepo.findById(medsId).get();\n        if (pillUpdate &gt; 0) {\n            updatePlanDay.setPillNumber(pillUpdate);\n        } else {\n            return &quot;Error: No piils available (Existing Pills: &quot; + pillNumber + &quot;)&quot;;\n        }\n        planDayRepo.save(planDay);\n    }\n\n    return &quot;Saved Successfully&quot;;\n}\n</code></pre>\n<p>my entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;meds&quot;)\n@JsonIgnoreProperties(value = { &quot;days&quot; })\npublic class Meds {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long medsId;\n\n    @Column\n    private String medsName;\n\n    @Column\n    private BigDecimal price;\n\n    @Column\n    private String category;\n\n    @Column\n    private int pillNumber;\n\n    @Column\n    private Date medsDate;\n\n    @OneToMany(mappedBy = &quot;meds&quot;, cascade = {CascadeType.REMOVE}, fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Set&lt;PlanDay&gt; days = new HashSet&lt;PlanDay&gt;();\n\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;plans&quot;)\n@JsonIgnoreProperties(value = { &quot;days&quot; })\npublic class Plans {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long planId;\n\n    @OneToMany(mappedBy = &quot;plans&quot;, fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Set&lt;PlanDay&gt; days = new HashSet&lt;PlanDay&gt;();\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;planDay&quot;)\n@JsonIgnoreProperties(value = { &quot;planDaysId&quot; })\npublic class PlanDay {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long planDaysId;\n\n    @Column\n    @PastOrPresent\n    @FutureOrPresent(groups = OneWeekInTheFuture.class)\n    @Min(value = 2022 - 12 - 22, groups = OneWeekInTheFuture.class)\n    @Max(value = 2022 - 12 - 29, groups = OneWeekInTheFuture.class)\n    private Date planDate;\n\n    @Column\n    private String weekday;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;planId&quot;, nullable = false)\n    private Plans plans;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;medsId&quot;, nullable = false)\n    private Meds meds;\n\n    @Column\n    private int medsToTake;\n}\n</code></pre>\n<p>an my Controller:</p>\n<pre><code>@PostMapping(value = &quot;/plan/save&quot;)\n    public String savePlans(@RequestBody List&lt;PlanDay&gt; plans) {\n\n        return saveService.savePlans(plans);\n    }\n</code></pre>\n<p>I have  a similar loop to the deleteService and I don't know how to test that as well. The loop is how I update my pillsNumber. Would appreciate any suggestion. Regards</p>\n"},{"tags":["java","eclipse","junit","junit4"],"owner":{"account_id":21644991,"reputation":1,"user_id":15966480,"display_name":"Moataz Harrabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671745762,"answer_count":0,"score":0,"last_activity_date":1671745562,"creation_date":1671745562,"question_id":74894159,"body_markdown":"I have this Junit class to do some test, what I&#39;ve noticed that the test are not started from top to bottom \r\n```\r\npackage test;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\nimport monprojet.SommeArgent;\r\n\r\npublic class test {\r\n    SommeArgent m12CHF= new SommeArgent(12, &quot;CHF&quot;); \r\n\tSommeArgent m14CHF= new SommeArgent(14, &quot;CHF&quot;);\r\n\t@Test\r\n\tpublic void FirstTest() throws UniteDistincteException {\r\n\t\tSystem.out.println(&quot;1ere passage avant execution d&#39;une methode de test&quot;);\r\n\t\tSommeArgent expected = new SommeArgent(26, &quot;CHF&quot;);\r\n\t\tSommeArgent result = m12CHF.add(m14CHF); \r\n\t\tAssert.assertTrue(expected.equals(result)); \r\n\t\tSystem.out.println(&quot;1ere passage apres execution d&#39;une methode de test&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void SecondTest() {\r\n\t\tSystem.out.println(&quot;2eme passage avant execution d&#39;une methode de test&quot;);\r\n\t\tSommeArgent m14USD= new SommeArgent(14, &quot;USD&quot;);\r\n        Assert.assertTrue(!m12CHF.equals(null));\r\n\t\tAssert.assertEquals(m12CHF, m12CHF);\r\n\t\tAssert.assertEquals(m12CHF, new SommeArgent(12, &quot;CHF&quot;)); \r\n\t\tAssert.assertTrue(!m12CHF.equals(m14CHF));\r\n\t\tAssert.assertTrue(!m14USD.equals(m14CHF));\r\n\t\tSystem.out.println(&quot;2eme passage apres execution d&#39;une methode de test&quot;);\r\n\t}\r\n    \r\n\t@Test\r\n\tpublic void ThirdTest() throws UniteDistincteException {\r\n\t\tSystem.out.println(&quot;3eme passage avant execution d&#39;une methode de test&quot;);\r\n\t\tSommeArgent m15USD= new SommeArgent(15, &quot;USD&quot;);\r\n\t\tSommeArgent m15TND= new SommeArgent(15, &quot;TND&quot;);\r\n\t\ttry{\r\n\t\t\tSommeArgent Moannaie = m15USD.add(m15TND);\r\n\t\t}catch(Exception e){\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;3eme passage apres execution d&#39;une methode de test&quot;);\r\n\r\n\t}\r\n}\r\n``` \r\nwhen I run the test this is the output\r\n```\r\n2eme passage avant execution d&#39;une methode de test\r\n2eme passage apres execution d&#39;une methode de test\r\n3eme passage avant execution d&#39;une methode de test\r\nunite distincte : USD != TND\r\n3eme passage apres execution d&#39;une methode de test\r\n1ere passage avant execution d&#39;une methode de test\r\n1ere passage apres execution d&#39;une methode de test\r\n\r\n```\r\nas you can see it&#39;s not going in the order that the code was written\r\n\r\n&gt; Blockquote","title":"Java code is not printing from start to end","body":"<p>I have this Junit class to do some test, what I've noticed that the test are not started from top to bottom</p>\n<pre><code>package test;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport monprojet.SommeArgent;\n\npublic class test {\n    SommeArgent m12CHF= new SommeArgent(12, &quot;CHF&quot;); \n    SommeArgent m14CHF= new SommeArgent(14, &quot;CHF&quot;);\n    @Test\n    public void FirstTest() throws UniteDistincteException {\n        System.out.println(&quot;1ere passage avant execution d'une methode de test&quot;);\n        SommeArgent expected = new SommeArgent(26, &quot;CHF&quot;);\n        SommeArgent result = m12CHF.add(m14CHF); \n        Assert.assertTrue(expected.equals(result)); \n        System.out.println(&quot;1ere passage apres execution d'une methode de test&quot;);\n    }\n\n    @Test\n    public void SecondTest() {\n        System.out.println(&quot;2eme passage avant execution d'une methode de test&quot;);\n        SommeArgent m14USD= new SommeArgent(14, &quot;USD&quot;);\n        Assert.assertTrue(!m12CHF.equals(null));\n        Assert.assertEquals(m12CHF, m12CHF);\n        Assert.assertEquals(m12CHF, new SommeArgent(12, &quot;CHF&quot;)); \n        Assert.assertTrue(!m12CHF.equals(m14CHF));\n        Assert.assertTrue(!m14USD.equals(m14CHF));\n        System.out.println(&quot;2eme passage apres execution d'une methode de test&quot;);\n    }\n    \n    @Test\n    public void ThirdTest() throws UniteDistincteException {\n        System.out.println(&quot;3eme passage avant execution d'une methode de test&quot;);\n        SommeArgent m15USD= new SommeArgent(15, &quot;USD&quot;);\n        SommeArgent m15TND= new SommeArgent(15, &quot;TND&quot;);\n        try{\n            SommeArgent Moannaie = m15USD.add(m15TND);\n        }catch(Exception e){\n            System.out.println(e);\n        }\n        System.out.println(&quot;3eme passage apres execution d'une methode de test&quot;);\n\n    }\n}\n</code></pre>\n<p>when I run the test this is the output</p>\n<pre><code>2eme passage avant execution d'une methode de test\n2eme passage apres execution d'une methode de test\n3eme passage avant execution d'une methode de test\nunite distincte : USD != TND\n3eme passage apres execution d'une methode de test\n1ere passage avant execution d'une methode de test\n1ere passage apres execution d'une methode de test\n\n</code></pre>\n<p>as you can see it's not going in the order that the code was written</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"},{"tags":["java","linux","ssl","sslhandshakeexception"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1671711729,"post_id":74887924,"comment_id":132159468,"body_markdown":"*&quot; ALERT:  fatal, handshake_failure&quot;* - the server does not like what the client has sent. This might be anything, like no shared cipher, no common protocol version ... - check your server side for possible explanations if possible. If you have something working against this server compare the ClientHello regarding ciphers, version, extensions ...","body":"<i>&quot; ALERT:  fatal, handshake_failure&quot;</i> - the server does not like what the client has sent. This might be anything, like no shared cipher, no common protocol version ... - check your server side for possible explanations if possible. If you have something working against this server compare the ClientHello regarding ciphers, version, extensions ..."},{"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"score":0,"creation_date":1671714967,"post_id":74887924,"comment_id":132160418,"body_markdown":"@Steffen Ullrich glad to see your comment.  The url can be opened on browser and host:port can be access well by using the openssl -connect also. it seems only failed on using java application to request the host:port","body":"@Steffen Ullrich glad to see your comment.  The url can be opened on browser and host:port can be access well by using the openssl -connect also. it seems only failed on using java application to request the host:port"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1671717695,"post_id":74887924,"comment_id":132161335,"body_markdown":"Given that your Java can only do TLS 1.2 and lower try with `openssl s_client -connect ... -tls1_2` to enforce TLS 1.2. If this works include into your question so that one can see which cipher gets used. If the site is publicly accessible try [SSLLabs](https://www.ssllabs.com/ssltest/analyze.html) and check what ciphers are supported by the server, then compare it to what Java offers.","body":"Given that your Java can only do TLS 1.2 and lower try with <code>openssl s_client -connect ... -tls1_2</code> to enforce TLS 1.2. If this works include into your question so that one can see which cipher gets used. If the site is publicly accessible try <a href=\"https://www.ssllabs.com/ssltest/analyze.html\" rel=\"nofollow noreferrer\">SSLLabs</a> and check what ciphers are supported by the server, then compare it to what Java offers."},{"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"score":0,"creation_date":1671718506,"post_id":74887924,"comment_id":132161596,"body_markdown":"SSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\n    Session-ID: 45CC33C48D6AC80FBE5016CC88AB60C4644F65B203334E14BD9C4C8B77C6AE2E\n    Session-ID-ctx: \n    Master-Key: 0634D8A1FE74A14A48BDF212A91D95548C3A863DC7CA9520CAFFA5B517E5622CFE0300D4C216819149B07A25B022C386\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    TLS session ticket lifetime hint: 300 (seconds)\n    TLS session ticket:","body":"SSL-Session:     Protocol  : TLSv1.2     Cipher    : ECDHE-RSA-AES256-GCM-SHA384     Session-ID: 45CC33C48D6AC80FBE5016CC88AB60C4644F65B203334E14BD9C4C8B77C6&zwnj;&#8203;AE2E     Session-ID-ctx:      Master-Key: 0634D8A1FE74A14A48BDF212A91D95548C3A863DC7CA9520CAFFA5B517E5&zwnj;&#8203;622CFE0300D4C2168191&zwnj;&#8203;49B07A25B022C386     Key-Arg   : None     Krb5 Principal: None     PSK identity: None     PSK identity hint: None     TLS session ticket lifetime hint: 300 (seconds)     TLS session ticket:"},{"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"score":0,"creation_date":1671719957,"post_id":74887924,"comment_id":132162128,"body_markdown":"it use cipher ECDHE-RSA-AES256-GCM-SHA384 and the cipher is not in java offer list. so i need to import the cipher into the java.security. it seems that importing  org.bouncycastle.jce.provider.BouncyCastleProvider into java.security is failed. could you please tell me how to import other cipher suite into the java.security? many thanks","body":"it use cipher ECDHE-RSA-AES256-GCM-SHA384 and the cipher is not in java offer list. so i need to import the cipher into the java.security. it seems that importing  org.bouncycastle.jce.provider.BouncyCastleProvider into java.security is failed. could you please tell me how to import other cipher suite into the java.security? many thanks"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1671720851,"post_id":74887924,"comment_id":132162448,"body_markdown":"First you might check if the ciphers support by Java are not supported by the server - use `-cipher` argument in s_client for this but make sure to use the OpenSSL cipher name according to https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-SUITE-NAMES. If you really need to add this cipher - there are many posts here about this topic and if you don&#39;t find anything there you might better ask why importing BouncyCastleProvider  fails for you (with sufficient detail)","body":"First you might check if the ciphers support by Java are not supported by the server - use <code>-cipher</code> argument in s_client for this but make sure to use the OpenSSL cipher name according to <a href=\"https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-SUITE-NAMES\" rel=\"nofollow noreferrer\">openssl.org/docs/manmaster/man1/&hellip;</a>. If you really need to add this cipher - there are many posts here about this topic and if you don&#39;t find anything there you might better ask why importing BouncyCastleProvider  fails for you (with sufficient detail)"},{"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"score":0,"creation_date":1671720976,"post_id":74887924,"comment_id":132162502,"body_markdown":"I upgrade my java version which support the cipher ECDHE-RSA-AES256-GCM-SHA384 that java application can request the target url now. Thanks!!!","body":"I upgrade my java version which support the cipher ECDHE-RSA-AES256-GCM-SHA384 that java application can request the target url now. Thanks!!!"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1671743779,"post_id":74887924,"comment_id":132169206,"body_markdown":"Your java was offering only AES-128 and 3DES (112-bit) ciphers, while your nginx is accepting only AES-256 and ChaCha (which in TLS is 256-bit). This was characteristic of old _Oracle and Sun_ (not OpenJDK) packages of Java 8u151 or lower which had &#39;limited crypto policy&#39; -- you&#39;ll find _lots_ of Qs on several stacks from the early teens about this. It was technically possible to download and install &#39;unlimited crypto policy&#39; (keeping the Java) but upgrading the Java is probably no harder and otherwise better.","body":"Your java was offering only AES-128 and 3DES (112-bit) ciphers, while your nginx is accepting only AES-256 and ChaCha (which in TLS is 256-bit). This was characteristic of old <i>Oracle and Sun</i> (not OpenJDK) packages of Java 8u151 or lower which had &#39;limited crypto policy&#39; -- you&#39;ll find <i>lots</i> of Qs on several stacks from the early teens about this. It was technically possible to download and install &#39;unlimited crypto policy&#39; (keeping the Java) but upgrading the Java is probably no harder and otherwise better."},{"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"score":0,"creation_date":1671760931,"post_id":74887924,"comment_id":132171923,"body_markdown":"@dave_thompson_085 I am curious about how to find out ciphers that each version provided like you. you may many experience on java SSL or read java document carefully or pay attentioin to java upgrade function in each version? any advice please?","body":"@dave_thompson_085 I am curious about how to find out ciphers that each version provided like you. you may many experience on java SSL or read java document carefully or pay attentioin to java upgrade function in each version? any advice please?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1671828906,"post_id":74887924,"comment_id":132186048,"body_markdown":"@Charles_Lau: I&#39;m not sure exactly what you want. I do read documentation when I have a problem, and the release notes for each release; those cover much more than just cryptography. However, this specific issue -- the &#39;limited&#39; policy -- was very widely discussed and known because it affected _lots_ of people up until 2017; as I said, there are _many_ Stack Qs, and As or just comments, about it, most of which I saw and some of which I participated in.","body":"@Charles_Lau: I&#39;m not sure exactly what you want. I do read documentation when I have a problem, and the release notes for each release; those cover much more than just cryptography. However, this specific issue -- the &#39;limited&#39; policy -- was very widely discussed and known because it affected <i>lots</i> of people up until 2017; as I said, there are <i>many</i> Stack Qs, and As or just comments, about it, most of which I saw and some of which I participated in."}],"owner":{"account_id":17122630,"reputation":1,"user_id":12390521,"display_name":"Charles_Lau"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671745524,"creation_date":1671708745,"question_id":74887924,"body_markdown":"java version 1.8.0_131\r\n\r\nnginx configuration here: \r\n\r\n\r\n```\r\nssl_certificate      /data/modules/nginx/conf/ssl/pem_file.pem;\r\n  ssl_certificate_key   /data/modules/nginx/conf/ssl/key_file.key;\r\n  ssl_session_timeout  5m;\r\n\r\n  ssl_protocols TLSv1.2 TLSv1.3;\r\n  ssl_ciphers ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES256-GCM-SHA384;\r\n  ssl_prefer_server_ciphers off;\r\n  add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;;\r\n  add_header X-Frame-Options SAMEORIGIN;\r\n```\r\n\r\n\r\nhere is java.net debug log:\r\n\r\n\r\n\r\n```\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLSv1\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLSv1.1\r\n%% No cached client session\r\n*** ClientHello, TLSv1.2\r\nRandomCookie:  GMT: 1654921397 bytes = { 1, 222, 145, 27, 44, 211, 167, 223, 74, 229, 54, 135, 3, 192, 62, 79, 189, 146, 176, 31, 45, 192, 125, 13, 14, 73, 152, 75 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\r\nExtension server_name, server_name: [type=host_name (0), value=www.test-api.com]\r\n***\r\n[write] MD5 and SHA1 hashes:  len = 200\r\n.......[HEX CONTENT].........\r\ndevice-state-schedule-1-2, WRITE: TLSv1.2 Handshake, length = 200\r\n[Raw write]: length = 205\r\n.......[HEX CONTENT].........\r\n[Raw read]: length = 5\r\n0000: 15 03 03 00 02                                     .....\r\n[Raw read]: length = 2\r\n0000: 02 28                                              .(\r\ndevice-state-schedule-1-2, READ: TLSv1.2 Alert, length = 2\r\ndevice-state-schedule-1-2, RECV TLSv1.2 ALERT:  fatal, handshake_failure\r\ndevice-state-schedule-1-2, called closeSocket()\r\ndevice-state-schedule-1-2, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n2022-12-22 16:47:49.203 DEBUG 99028 --- [te-schedule-1-2] c.x.c.c.l.Logger                         : ContextId [] XlinkPlatformConfigApiRemoteCall#getPlatformConfig(String,String)-&lt;--- ERROR SSLHandshakeException: Received fatal alert: handshake_failure (419ms)\r\n2022-12-22 16:47:49.204 DEBUG 99028 --- [te-schedule-1-2] c.x.c.c.l.Logger                         : ContextId [] XlinkPlatformConfigApiRemoteCall#getPlatformConfig(String,String)-javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2023)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\r\n\tat com.sun.proxy.$Proxy153.getPlatformConfig(Unknown Source)\r\n\tat cn.xlink.service.impl.ChirpStackPlatformConfigServiceImpl.getPlatformConfig(ChirpStackPlatformConfigServiceImpl.java:45)\r\n\tat cn.xlink.service.impl.ChirpStackPlatformConfigServiceImpl.getPlatformConfigParams(ChirpStackPlatformConfigServiceImpl.java:63)\r\n\tat cn.xlink.service.impl.GatewayDeviceServiceImpl.checkGatewaysDeviceState(GatewayDeviceServiceImpl.java:398)\r\n\tat cn.xlink.service.impl.GatewayDeviceServiceImpl$$FastClassBySpringCGLIB$$ecf68591.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat cn.xlink.service.impl.GatewayDeviceServiceImpl$$EnhancerBySpringCGLIB$$21970120.checkGatewaysDeviceState(&lt;generated&gt;)\r\n\tat cn.xlink.manager.DeviceClientManager.scheduleGatewayState(DeviceClientManager.java:473)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.pulsar.shade.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\n\r\nusing feign to request other resources and there are no any options on feign and http client\r\n\r\nthe java application could not access the SSL handshake and there has no server hello message respond from server, any help please?\r\n\r\n\r\n\r\nI try to import the cipher suite [ bcprov-ext-jdk15on-1.70.jar, bcprov-jdk15on-1.70.jar ] into the $JAVA_HOME/jre/lib/ext/ and append the provider [ org.bouncycastle.jce.provider.BouncyCastleProvider ] to the java.security in $JAVA_HOME/jre/lib/security/java.security also. but it&#39;s not work. \r\n\r\n\r\n`keytool -import -alias &quot;server-ssl&quot; -keystore $JAVA_HOME/jre/lib/security/cacerts -file server.cer`\r\n\r\nThen I import the server certificate to the java truststore but it&#39;s not work yet.\r\n\r\n\r\nIt is ok to open the url on browser and can be accessed by curl or openssl -connect also. It seems only failed on the java application request host:port. I think that might be something wrong on configuring jdk ssl certificate or cipher suite.\r\n\r\nHow can I check that my server and client configurations are correct?\r\n","title":"missing server hello message in SSL handshake, Received fatal alert: handshake_failure","body":"<p>java version 1.8.0_131</p>\n<p>nginx configuration here:</p>\n<pre><code>ssl_certificate      /data/modules/nginx/conf/ssl/pem_file.pem;\n  ssl_certificate_key   /data/modules/nginx/conf/ssl/key_file.key;\n  ssl_session_timeout  5m;\n\n  ssl_protocols TLSv1.2 TLSv1.3;\n  ssl_ciphers ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES256-GCM-SHA384;\n  ssl_prefer_server_ciphers off;\n  add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;;\n  add_header X-Frame-Options SAMEORIGIN;\n</code></pre>\n<p>here is java.net debug log:</p>\n<pre><code>Allow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLSv1.1\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1654921397 bytes = { 1, 222, 145, 27, 44, 211, 167, 223, 74, 229, 54, 135, 3, 192, 62, 79, 189, 146, 176, 31, 45, 192, 125, 13, 14, 73, 152, 75 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\nExtension server_name, server_name: [type=host_name (0), value=www.test-api.com]\n***\n[write] MD5 and SHA1 hashes:  len = 200\n.......[HEX CONTENT].........\ndevice-state-schedule-1-2, WRITE: TLSv1.2 Handshake, length = 200\n[Raw write]: length = 205\n.......[HEX CONTENT].........\n[Raw read]: length = 5\n0000: 15 03 03 00 02                                     .....\n[Raw read]: length = 2\n0000: 02 28                                              .(\ndevice-state-schedule-1-2, READ: TLSv1.2 Alert, length = 2\ndevice-state-schedule-1-2, RECV TLSv1.2 ALERT:  fatal, handshake_failure\ndevice-state-schedule-1-2, called closeSocket()\ndevice-state-schedule-1-2, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n2022-12-22 16:47:49.203 DEBUG 99028 --- [te-schedule-1-2] c.x.c.c.l.Logger                         : ContextId [] XlinkPlatformConfigApiRemoteCall#getPlatformConfig(String,String)-&lt;--- ERROR SSLHandshakeException: Received fatal alert: handshake_failure (419ms)\n2022-12-22 16:47:49.204 DEBUG 99028 --- [te-schedule-1-2] c.x.c.c.l.Logger                         : ContextId [] XlinkPlatformConfigApiRemoteCall#getPlatformConfig(String,String)-javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2023)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\n    at com.sun.proxy.$Proxy153.getPlatformConfig(Unknown Source)\n    at cn.xlink.service.impl.ChirpStackPlatformConfigServiceImpl.getPlatformConfig(ChirpStackPlatformConfigServiceImpl.java:45)\n    at cn.xlink.service.impl.ChirpStackPlatformConfigServiceImpl.getPlatformConfigParams(ChirpStackPlatformConfigServiceImpl.java:63)\n    at cn.xlink.service.impl.GatewayDeviceServiceImpl.checkGatewaysDeviceState(GatewayDeviceServiceImpl.java:398)\n    at cn.xlink.service.impl.GatewayDeviceServiceImpl$$FastClassBySpringCGLIB$$ecf68591.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at cn.xlink.service.impl.GatewayDeviceServiceImpl$$EnhancerBySpringCGLIB$$21970120.checkGatewaysDeviceState(&lt;generated&gt;)\n    at cn.xlink.manager.DeviceClientManager.scheduleGatewayState(DeviceClientManager.java:473)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.pulsar.shade.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>using feign to request other resources and there are no any options on feign and http client</p>\n<p>the java application could not access the SSL handshake and there has no server hello message respond from server, any help please?</p>\n<p>I try to import the cipher suite [ bcprov-ext-jdk15on-1.70.jar, bcprov-jdk15on-1.70.jar ] into the $JAVA_HOME/jre/lib/ext/ and append the provider [ org.bouncycastle.jce.provider.BouncyCastleProvider ] to the java.security in $JAVA_HOME/jre/lib/security/java.security also. but it's not work.</p>\n<p><code>keytool -import -alias &quot;server-ssl&quot; -keystore $JAVA_HOME/jre/lib/security/cacerts -file server.cer</code></p>\n<p>Then I import the server certificate to the java truststore but it's not work yet.</p>\n<p>It is ok to open the url on browser and can be accessed by curl or openssl -connect also. It seems only failed on the java application request host:port. I think that might be something wrong on configuring jdk ssl certificate or cipher suite.</p>\n<p>How can I check that my server and client configurations are correct?</p>\n"},{"tags":["java","spring","spring-boot","default","aerospike"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671741321,"creation_date":1671741321,"answer_id":74893611,"question_id":74891511,"body_markdown":"You can do it using Expressions. Here is sample code:\r\n\r\n    import com.aerospike.client.AerospikeClient;\r\n    import com.aerospike.client.policy.WritePolicy;\r\n    import com.aerospike.client.Bin;\r\n    import com.aerospike.client.Key;\r\n    import com.aerospike.client.Record;\r\n    import com.aerospike.client.Value;\r\n    import com.aerospike.client.policy.RecordExistsAction;\r\n    import com.aerospike.client.AerospikeException;\r\n    import com.aerospike.client.ResultCode;\r\n    import com.aerospike.client.Operation;\r\n    \r\n    import com.aerospike.client.exp.Exp;\r\n    import com.aerospike.client.exp.ExpOperation;\r\n    import com.aerospike.client.exp.ExpWriteFlags;\r\n    import com.aerospike.client.exp.Expression;\r\n    System.out.println(&quot;Client modules imported.&quot;);\r\n    \r\n    AerospikeClient client = new AerospikeClient(&quot;localhost&quot;, 3000);\r\n    \r\n    WritePolicy wP = new WritePolicy();\r\n    wP.respondAllOps = true;\r\n    int iNumber = 11;\r\n    int iTimeLeft = 6000;\r\n    \r\n    for(int i=0; i&lt;5; i++){\r\n      Key key = new Key (&quot;test&quot;, &quot;testset&quot;, iNumber);\r\n      Expression tlExp = Exp.build(Exp.val(iTimeLeft));\r\n      Record record = client.operate(wP, key, \r\n           ExpOperation.write(&quot;timeLeft&quot;, tlExp, ExpWriteFlags.CREATE_ONLY | ExpWriteFlags.POLICY_NO_FAIL),\r\n           //ExpOperation.write(&quot;timeLeft&quot;, tlExp, ExpWriteFlags.DEFAULT),                          \r\n           Operation.get(&quot;timeLeft&quot;));   \r\n        \r\n      List&lt;?&gt; list = record.getList(&quot;timeLeft&quot;);\r\n      System.out.println(list.get(1));  \r\n      iTimeLeft = iTimeLeft - 1000; //should not alter record value\r\n    }\r\n\r\nThis gives the following output:\r\n\r\n    Client modules imported.\r\n    6000\r\n    6000\r\n    6000\r\n    6000\r\n    6000\r\n\r\nHowever, if I use the DEFAULT, the output will be modified each time. (what you don&#39;t want, compared to the correct flags above (CREATE_ONLY|POLICY_NO_FAIL i.e. silently go on to next operation if you want to update the record only if the bin does not exist).\r\n\r\n    Client modules imported.\r\n    6000\r\n    5000\r\n    4000\r\n    3000\r\n    2000","title":"Set default bin value if not present in aerospike","body":"<p>You can do it using Expressions. Here is sample code:</p>\n<pre><code>import com.aerospike.client.AerospikeClient;\nimport com.aerospike.client.policy.WritePolicy;\nimport com.aerospike.client.Bin;\nimport com.aerospike.client.Key;\nimport com.aerospike.client.Record;\nimport com.aerospike.client.Value;\nimport com.aerospike.client.policy.RecordExistsAction;\nimport com.aerospike.client.AerospikeException;\nimport com.aerospike.client.ResultCode;\nimport com.aerospike.client.Operation;\n\nimport com.aerospike.client.exp.Exp;\nimport com.aerospike.client.exp.ExpOperation;\nimport com.aerospike.client.exp.ExpWriteFlags;\nimport com.aerospike.client.exp.Expression;\nSystem.out.println(&quot;Client modules imported.&quot;);\n\nAerospikeClient client = new AerospikeClient(&quot;localhost&quot;, 3000);\n\nWritePolicy wP = new WritePolicy();\nwP.respondAllOps = true;\nint iNumber = 11;\nint iTimeLeft = 6000;\n\nfor(int i=0; i&lt;5; i++){\n  Key key = new Key (&quot;test&quot;, &quot;testset&quot;, iNumber);\n  Expression tlExp = Exp.build(Exp.val(iTimeLeft));\n  Record record = client.operate(wP, key, \n       ExpOperation.write(&quot;timeLeft&quot;, tlExp, ExpWriteFlags.CREATE_ONLY | ExpWriteFlags.POLICY_NO_FAIL),\n       //ExpOperation.write(&quot;timeLeft&quot;, tlExp, ExpWriteFlags.DEFAULT),                          \n       Operation.get(&quot;timeLeft&quot;));   \n    \n  List&lt;?&gt; list = record.getList(&quot;timeLeft&quot;);\n  System.out.println(list.get(1));  \n  iTimeLeft = iTimeLeft - 1000; //should not alter record value\n}\n</code></pre>\n<p>This gives the following output:</p>\n<pre><code>Client modules imported.\n6000\n6000\n6000\n6000\n6000\n</code></pre>\n<p>However, if I use the DEFAULT, the output will be modified each time. (what you don't want, compared to the correct flags above (CREATE_ONLY|POLICY_NO_FAIL i.e. silently go on to next operation if you want to update the record only if the bin does not exist).</p>\n<pre><code>Client modules imported.\n6000\n5000\n4000\n3000\n2000\n</code></pre>\n"}],"owner":{"account_id":15177147,"reputation":43,"user_id":10951544,"display_name":"Suraj Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671745476,"creation_date":1671727754,"question_id":74891511,"body_markdown":"Suppose I have 2 bins in aeropike set \r\n1. **number**(key) 2. **timeLeft**\r\n\r\nI wanted to get a **timeLeft** value from aerospike for a number.\r\nBut if the particular record is not present then I want to create the record and set a default value 6000 to **timeLeft** and then get the value in the single transaction.\r\n\r\n    public Record someMethod(String num) {\r\n\r\n            WritePolicy writePolicy = aerospikeRepo.getWritePolicy(null, ttl, true);\r\n            return aerospikeRepo.operate(writePolicy, namespace, set, num, Operation.get());\r\n\r\n    }\r\n\r\nPersonally, I think the .operate() method of the aerospike client will be used somehow but did not find relevant Operation to set the default value if not present.","title":"Set default bin value if not present in aerospike","body":"<p>Suppose I have 2 bins in aeropike set</p>\n<ol>\n<li><strong>number</strong>(key) 2. <strong>timeLeft</strong></li>\n</ol>\n<p>I wanted to get a <strong>timeLeft</strong> value from aerospike for a number.\nBut if the particular record is not present then I want to create the record and set a default value 6000 to <strong>timeLeft</strong> and then get the value in the single transaction.</p>\n<pre><code>public Record someMethod(String num) {\n\n        WritePolicy writePolicy = aerospikeRepo.getWritePolicy(null, ttl, true);\n        return aerospikeRepo.operate(writePolicy, namespace, set, num, Operation.get());\n\n}\n</code></pre>\n<p>Personally, I think the .operate() method of the aerospike client will be used somehow but did not find relevant Operation to set the default value if not present.</p>\n"},{"tags":["java","selenium","testing","automated-tests","playwright"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1671747655,"post_id":74894039,"comment_id":132170091,"body_markdown":"Maybe extend a class and override the method(s) when/if necessary?","body":"Maybe extend a class and override the method(s) when/if necessary?"},{"owner":{"account_id":23123434,"reputation":1,"user_id":17229632,"display_name":"Max Sudik"},"score":0,"creation_date":1671752145,"post_id":74894039,"comment_id":132170785,"body_markdown":"what would be the point of overriding selectChecbox method if I just don&#39;t want this method to be available for modal object called from the page where this checkbox is not visible?","body":"what would be the point of overriding selectChecbox method if I just don&#39;t want this method to be available for modal object called from the page where this checkbox is not visible?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671905977,"post_id":74894039,"comment_id":132195866,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1672018401,"post_id":74894039,"comment_id":132208487,"body_markdown":"Max, how about ensuring that the checkbox is visible and active and then making a click on it. What do you do if the checkbox is not visible? Accordingly, you may either have a separate method for this verification and then do action. Or in the selectCheckbox() method itself, you can have a check and return true/false or exception accordingly.","body":"Max, how about ensuring that the checkbox is visible and active and then making a click on it. What do you do if the checkbox is not visible? Accordingly, you may either have a separate method for this verification and then do action. Or in the selectCheckbox() method itself, you can have a check and return true/false or exception accordingly."},{"owner":{"account_id":23123434,"reputation":1,"user_id":17229632,"display_name":"Max Sudik"},"score":0,"creation_date":1672156384,"post_id":74894039,"comment_id":132231790,"body_markdown":"thank you @AhamedAbdulRahman, I was thinking about this approach and it might work.\nBut I was thinking if there is a capability in java to restrict method calls based on the object it is called from.\nFor example:\n\n`//Checkbox is visible\npageA.getModal().selectCheckBox();`\n\n`//Checkbox is not visible\npageB.getModal().selectCheckBox(); // compile error because the method is not available`","body":"thank you @AhamedAbdulRahman, I was thinking about this approach and it might work. But I was thinking if there is a capability in java to restrict method calls based on the object it is called from. For example:  <code>&#47;&#47;Checkbox is visible pageA.getModal().selectCheckBox();</code>  <code>&#47;&#47;Checkbox is not visible pageB.getModal().selectCheckBox(); &#47;&#47; compile error because the method is not available</code>"}],"owner":{"account_id":23123434,"reputation":1,"user_id":17229632,"display_name":"Max Sudik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671745038,"creation_date":1671744641,"question_id":74894039,"body_markdown":"Could someone please share best practices for applying the composition in UI test automation using Java\r\n\r\nIf I have multiple Pages that can open a component Modal I could probably implement fields and actions inside of each class:\r\n\r\n```\r\nclass PageA {\r\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id=&#39;checkbox&#39;]&quot;\r\n\r\n  public selectCheckBox() {\r\n    //implementation of select method here\r\n  }\r\n}\r\n```\r\n\r\n```\r\nclass PageB {\r\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id=&#39;checkbox&#39;]&quot;;\r\n\r\n  public selectCheckBox() {\r\n    //implementation of select method here\r\n  }\r\n}\r\n```\r\n\r\n```\r\nclass PageC {\r\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id=&#39;checkbox&#39;]&quot;\r\n\r\n  public selectCheckBox() {\r\n    //implementation of select method here\r\n  }\r\n}\r\n```\r\n\r\nso now using composition I can create a class of Modal to make this component reusbale across multiple pages:\r\n\r\n```\r\nclass Modal {\r\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id=&#39;checkbox&#39;]&quot;;\r\n\r\n  public selectCheckBox() {\r\n    //implementation of select method here\r\n  }\r\n}\r\n```\r\n\r\nand add it to my pages:\r\n\r\n```\r\nclass PageA {\r\n  private Modal modal;\r\n\r\n  public PageA() {\r\n    modal = new Modal();\r\n  }\r\n\r\n  public Modal getModal() {\r\n    return modal;\r\n  }\r\n}\r\n\r\nclass PageB {\r\n  private Modal modal;\r\n\r\n  public PageB() {\r\n    modal = new Modal();\r\n  }\r\n\r\n  public Modal getModal() {\r\n    return modal;\r\n  }\r\n}\r\n\r\nclass PageC {\r\n  private Modal modal;\r\n\r\n  public PageC() {\r\n    modal = new Modal();\r\n  }\r\n\r\n  public Modal getModal() {\r\n    return modal;\r\n  }\r\n}\r\n```\r\n\r\nand in my tests use like this:\r\n\r\n```\r\npublic final class TestExample {\r\n\r\n@Test\r\npublic void test1 () {\r\nPageA pageA = new PageA();\r\nModal modal = pageA.getModal();\r\n\r\nmodal.selectCheckBox();\r\n    }\r\n\r\n@Test\r\npublic void test2 () {\r\nPageB pageB = new PageB();\r\nModal modal2 = pageB.getModal();\r\n\r\nmodal2.selectCheckBox();\r\n    }\r\n\r\n@Test\r\npublic void test3 () {\r\nPageC pageC= new PageC();\r\nModal modal3 = pageC.getModal();\r\n\r\nmodal3.selectCheckBox();\r\n    }\r\n}\r\n```\r\n\r\nThe problem I&#39;m facing is that - when the behaviour/state/visibility of the checkbox i different and depends on the the page from which the modal was opened. For example on Page A the checkbox on the Modal is visible and active, on Page B the checkbox is visible but greyed out, on Page C the checkbox is not even visible etc.\r\n\r\nHow do I restrict actions to interract with the object at compile time depending on the Page I&#39;m opening the modal?\r\n\r\nThe answers that I got already are:\r\n\r\n- Implement the actions to interract with the checkbox in the Page classes - but in this case I&#39;m not sure I&#39;m getting the point of composition.\r\n\r\n- Create an interface and implement it as a Modal classes for different pages - but in this case I can just create different classes for the modal without an interface, even I can just add fields and actions for the modal and its&#39; objects to the respective Page classes\r\n\r\n- Pass some checkers as arguments to test methods - kinda makes implementation not clean.\r\n\r\nSo, I would like to hear what are your thoughs on how to solve this in simple and efficient way.  \r\nThank you\r\n\r\nImplement the actions to interract with the checkbox in the Page classes - but in this case I&#39;m not sure I&#39;m getting the point of composition.\r\n\r\nCreate an interface and implement it as a Modal classes for different pages - but in this case I can just create different classes for the modal without an interface\r\n\r\nPass some checkers as arguments to test methods - kinda makes implementation not clean.","title":"How properly apply composition in Test Automation using Java and POM design pattern?","body":"<p>Could someone please share best practices for applying the composition in UI test automation using Java</p>\n<p>If I have multiple Pages that can open a component Modal I could probably implement fields and actions inside of each class:</p>\n<pre><code>class PageA {\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id='checkbox']&quot;\n\n  public selectCheckBox() {\n    //implementation of select method here\n  }\n}\n</code></pre>\n<pre><code>class PageB {\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id='checkbox']&quot;;\n\n  public selectCheckBox() {\n    //implementation of select method here\n  }\n}\n</code></pre>\n<pre><code>class PageC {\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id='checkbox']&quot;\n\n  public selectCheckBox() {\n    //implementation of select method here\n  }\n}\n</code></pre>\n<p>so now using composition I can create a class of Modal to make this component reusbale across multiple pages:</p>\n<pre><code>class Modal {\n  private static final String CHECKBOX_ON_MODAL = &quot;//div[@id='checkbox']&quot;;\n\n  public selectCheckBox() {\n    //implementation of select method here\n  }\n}\n</code></pre>\n<p>and add it to my pages:</p>\n<pre><code>class PageA {\n  private Modal modal;\n\n  public PageA() {\n    modal = new Modal();\n  }\n\n  public Modal getModal() {\n    return modal;\n  }\n}\n\nclass PageB {\n  private Modal modal;\n\n  public PageB() {\n    modal = new Modal();\n  }\n\n  public Modal getModal() {\n    return modal;\n  }\n}\n\nclass PageC {\n  private Modal modal;\n\n  public PageC() {\n    modal = new Modal();\n  }\n\n  public Modal getModal() {\n    return modal;\n  }\n}\n</code></pre>\n<p>and in my tests use like this:</p>\n<pre><code>public final class TestExample {\n\n@Test\npublic void test1 () {\nPageA pageA = new PageA();\nModal modal = pageA.getModal();\n\nmodal.selectCheckBox();\n    }\n\n@Test\npublic void test2 () {\nPageB pageB = new PageB();\nModal modal2 = pageB.getModal();\n\nmodal2.selectCheckBox();\n    }\n\n@Test\npublic void test3 () {\nPageC pageC= new PageC();\nModal modal3 = pageC.getModal();\n\nmodal3.selectCheckBox();\n    }\n}\n</code></pre>\n<p>The problem I'm facing is that - when the behaviour/state/visibility of the checkbox i different and depends on the the page from which the modal was opened. For example on Page A the checkbox on the Modal is visible and active, on Page B the checkbox is visible but greyed out, on Page C the checkbox is not even visible etc.</p>\n<p>How do I restrict actions to interract with the object at compile time depending on the Page I'm opening the modal?</p>\n<p>The answers that I got already are:</p>\n<ul>\n<li><p>Implement the actions to interract with the checkbox in the Page classes - but in this case I'm not sure I'm getting the point of composition.</p>\n</li>\n<li><p>Create an interface and implement it as a Modal classes for different pages - but in this case I can just create different classes for the modal without an interface, even I can just add fields and actions for the modal and its' objects to the respective Page classes</p>\n</li>\n<li><p>Pass some checkers as arguments to test methods - kinda makes implementation not clean.</p>\n</li>\n</ul>\n<p>So, I would like to hear what are your thoughs on how to solve this in simple and efficient way.<br />\nThank you</p>\n<p>Implement the actions to interract with the checkbox in the Page classes - but in this case I'm not sure I'm getting the point of composition.</p>\n<p>Create an interface and implement it as a Modal classes for different pages - but in this case I can just create different classes for the modal without an interface</p>\n<p>Pass some checkers as arguments to test methods - kinda makes implementation not clean.</p>\n"},{"tags":["java","maven","intellij-idea","javafx","maven-archetype"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1672043172,"post_id":74893755,"comment_id":132211093,"body_markdown":"Seems it&#39;s enough to select &quot;Maven central&quot; catalog - needed archetype will be suggested in the list.","body":"Seems it&#39;s enough to select &quot;Maven central&quot; catalog - needed archetype will be suggested in the list."}],"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671744907,"creation_date":1671742548,"question_id":74893755,"body_markdown":"I tried to create a Maven JAVAFX project from archetype like described on:\r\n    \r\n * https://openjfx.io/openjfx-docs/#maven -&gt; JavaFx And Intellij -&gt; Non-Modular with Maven\r\n    \r\nI followed the instructions, but in this new version of intellij is a bit different but i followed.\r\n\r\nBut it did not worked and not saved the archetype on the Catalog (When i put the exact path to the default local catalog.\r\n\r\nHere is the printscreen of the creation of archetype project on intellij newest version as of 22/12/2022:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/255FO.png)](https://i.stack.imgur.com/255FO.png)\r\n\r\nI just want to save the archetype on the catalog and to create a project based on this archetype.\r\n\r\nHere is the print of the project this archetypes creates, no SRC files and a generic POM:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/YBP5g.png)](https://i.stack.imgur.com/YBP5g.png)","title":"IntelliJ not saving Archetype on Catalog and not using the actual Archetype","body":"<p>I tried to create a Maven JAVAFX project from archetype like described on:</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#maven</a> -&gt; JavaFx And Intellij -&gt; Non-Modular with Maven</li>\n</ul>\n<p>I followed the instructions, but in this new version of intellij is a bit different but i followed.</p>\n<p>But it did not worked and not saved the archetype on the Catalog (When i put the exact path to the default local catalog.</p>\n<p>Here is the printscreen of the creation of archetype project on intellij newest version as of 22/12/2022:</p>\n<p><a href=\"https://i.stack.imgur.com/255FO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/255FO.png\" alt=\"enter image description here\" /></a></p>\n<p>I just want to save the archetype on the catalog and to create a project based on this archetype.</p>\n<p>Here is the print of the project this archetypes creates, no SRC files and a generic POM:</p>\n<p><a href=\"https://i.stack.imgur.com/YBP5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YBP5g.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671744577,"creation_date":1671744276,"answer_id":74893997,"question_id":74893986,"body_markdown":"Java caches values from 0-127. So, == on Uppercase Long will be true for those values. But all others, false.\r\n\r\nBut that is not behaviour you should depend on. Just use `Long::equals` or `Objects::equals`.\r\n\r\nHere is a code example.\r\n\r\n```java\r\n\r\n   private class SOQ_20221222_1\r\n   {\r\n   \r\n      public SOQ_20221222_1()\r\n      {\r\n      \r\n         Long a = 100L;\r\n         Long b = 100L;\r\n        \r\n         Long c = 101L;\r\n         Long d = 101L;\r\n        \r\n         Long e = 102L;\r\n         Long f = 102L;\r\n        \r\n         Long g = 126L;\r\n         Long h = 126L;\r\n        \r\n         Long i = 127L;\r\n         Long j = 127L;\r\n        \r\n         Long k = 128L;\r\n         Long l = 128L;\r\n      \r\n         Long m = 129L;\r\n         Long n = 129L;\r\n      \r\n         System.out.println(a == b);\r\n         System.out.println(c == d);\r\n      \r\n         System.out.println(e == f);\r\n         System.out.println(g == h);\r\n      \r\n         System.out.println(i == j);\r\n         System.out.println(k == l);\r\n      \r\n         System.out.println(m == n);\r\n         \r\n      }\r\n   \r\n   }\r\n   \r\n```\r\n\r\n```\r\ntrue\r\ntrue\r\ntrue\r\ntrue\r\ntrue\r\nfalse\r\nfalse\r\n```","title":"Unexpected result during Long comparison","body":"<p>Java caches values from 0-127. So, == on Uppercase Long will be true for those values. But all others, false.</p>\n<p>But that is not behaviour you should depend on. Just use <code>Long::equals</code> or <code>Objects::equals</code>.</p>\n<p>Here is a code example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   private class SOQ_20221222_1\n   {\n   \n      public SOQ_20221222_1()\n      {\n      \n         Long a = 100L;\n         Long b = 100L;\n        \n         Long c = 101L;\n         Long d = 101L;\n        \n         Long e = 102L;\n         Long f = 102L;\n        \n         Long g = 126L;\n         Long h = 126L;\n        \n         Long i = 127L;\n         Long j = 127L;\n        \n         Long k = 128L;\n         Long l = 128L;\n      \n         Long m = 129L;\n         Long n = 129L;\n      \n         System.out.println(a == b);\n         System.out.println(c == d);\n      \n         System.out.println(e == f);\n         System.out.println(g == h);\n      \n         System.out.println(i == j);\n         System.out.println(k == l);\n      \n         System.out.println(m == n);\n         \n      }\n   \n   }\n   \n</code></pre>\n<pre><code>true\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\n</code></pre>\n"}],"owner":{"account_id":27330669,"reputation":9,"user_id":20842850,"display_name":"Ivn Alxv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1671744821,"accepted_answer_id":74893997,"answer_count":1,"score":-2,"last_activity_date":1671744577,"creation_date":1671744167,"question_id":74893986,"body_markdown":"I&#39;ve been learning Java for quite a while and recently stumbled upon a strange result, during Long comparison.\r\n\r\nHere is a piece of code:\r\n\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Long a = 100L;\r\n        Long b = 100L;\r\n        \r\n        Long c = 150L;\r\n        Long d = 150L;\r\n\r\n        System.out.println(a == b);\r\n        System.out.println(c == d);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\ntrue\r\nfalse\r\n```\r\n\r\n\r\nI know that while Java doesn&#39;t support your general comparison between reference types with `==`, it usually caches all constant values that you hardcode and then smart compare them. \r\n\r\nAnd I honestly believed that, until my code crashed. After some tedious debugging I found the bug, and even reproduced it in few lines.\r\n\r\nWhat is going on here?","title":"Unexpected result during Long comparison","body":"<p>I've been learning Java for quite a while and recently stumbled upon a strange result, during Long comparison.</p>\n<p>Here is a piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        Long a = 100L;\n        Long b = 100L;\n        \n        Long c = 150L;\n        Long d = 150L;\n\n        System.out.println(a == b);\n        System.out.println(c == d);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>true\nfalse\n</code></pre>\n<p>I know that while Java doesn't support your general comparison between reference types with <code>==</code>, it usually caches all constant values that you hardcode and then smart compare them.</p>\n<p>And I honestly believed that, until my code crashed. After some tedious debugging I found the bug, and even reproduced it in few lines.</p>\n<p>What is going on here?</p>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671744643,"post_id":74868892,"comment_id":132169401,"body_markdown":"Comes from here https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.4/kafka/kafka.html","body":"Comes from here <a href=\"https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.4/kafka/kafka.html\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/&hellip;</a>"}],"owner":{"account_id":16748977,"reputation":506,"user_id":12106502,"display_name":"Keerthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671744571,"creation_date":1671570228,"question_id":74868892,"body_markdown":"I have an emitter mapped to a kafka channel named &quot;orders&quot;:\r\n```\r\n@ApplicationScoped\r\npublic class MessageBroker {\r\n\r\n    @Inject\r\n    @Channel(&quot;orders&quot;)\r\n    @OnOverflow(DROP)\r\n    Emitter&lt;String&gt; emitter;\r\n```\r\n\r\nI could see the producer name printed in the console as &quot;kafka-producer-orders&quot;:\r\n```\r\n [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-orders, connected to Kafka brokers &#39;OUTSIDE://localhost:32807&#39;, is configured to write records to &#39;orders&#39;\r\n```\r\nWhere is this name coming from? And how do I change it?","title":"Quarkus Kafka producer name","body":"<p>I have an emitter mapped to a kafka channel named &quot;orders&quot;:</p>\n<pre><code>@ApplicationScoped\npublic class MessageBroker {\n\n    @Inject\n    @Channel(&quot;orders&quot;)\n    @OnOverflow(DROP)\n    Emitter&lt;String&gt; emitter;\n</code></pre>\n<p>I could see the producer name printed in the console as &quot;kafka-producer-orders&quot;:</p>\n<pre><code> [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-orders, connected to Kafka brokers 'OUTSIDE://localhost:32807', is configured to write records to 'orders'\n</code></pre>\n<p>Where is this name coming from? And how do I change it?</p>\n"},{"tags":["java","eclipse","sqlite","javafx"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1671740853,"post_id":74893510,"comment_id":132168421,"body_markdown":"If it were empty, Integer.parseInt would throw an exception.  You would not make it to an is empty check.","body":"If it were empty, Integer.parseInt would throw an exception.  You would not make it to an is empty check."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671749199,"post_id":74893510,"comment_id":132170361,"body_markdown":"Follow [naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).  These are 23 years old, but remain valid today for good reason.","body":"Follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">naming conventions</a>.  These are 23 years old, but remain valid today for good reason."}],"answers":[{"tags":[],"owner":{"account_id":27330094,"reputation":1,"user_id":20842366,"display_name":"Nagendra Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671742418,"creation_date":1671742313,"answer_id":74893737,"question_id":74893510,"body_markdown":"Double.valueOf will throw exception if getText() is empty but to perform other checks &amp; better null handling - \r\n\r\nChange \r\n\r\n**double** Time = Double.valueOf(expeditionTime.getText());\r\n\r\nto\r\n\r\n**Double** Time = Double.valueOf(expeditionTime.getText());\r\n\r\nSame for int - change int Altitude to Integer Altitude","title":"Cannot invoke isEmpty() on the primitive type int or double","body":"<p>Double.valueOf will throw exception if getText() is empty but to perform other checks &amp; better null handling -</p>\n<p>Change</p>\n<p><strong>double</strong> Time = Double.valueOf(expeditionTime.getText());</p>\n<p>to</p>\n<p><strong>Double</strong> Time = Double.valueOf(expeditionTime.getText());</p>\n<p>Same for int - change int Altitude to Integer Altitude</p>\n"},{"tags":[],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671742750,"creation_date":1671742750,"answer_id":74893786,"question_id":74893510,"body_markdown":"IMHO you should not try to parse a literal into a numeric value if you are not sure if it is set correctly. Your problem is that you can&#39;t check if the value is empty, because primitive types don&#39;t have a built-in `isEmpty` method.\r\n\r\n```\r\nprivate boolean isEmpty(String value) {\r\n    return value == null || value.trim().length() == 0;\r\n}\r\n```\r\n\r\nI would use the above method to check if `expeditionTime.getText()` is null or empty, and if so, use the default value ie. `0.0` or any default value you would like to have.","title":"Cannot invoke isEmpty() on the primitive type int or double","body":"<p>IMHO you should not try to parse a literal into a numeric value if you are not sure if it is set correctly. Your problem is that you can't check if the value is empty, because primitive types don't have a built-in <code>isEmpty</code> method.</p>\n<pre><code>private boolean isEmpty(String value) {\n    return value == null || value.trim().length() == 0;\n}\n</code></pre>\n<p>I would use the above method to check if <code>expeditionTime.getText()</code> is null or empty, and if so, use the default value ie. <code>0.0</code> or any default value you would like to have.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671744188,"creation_date":1671744188,"answer_id":74893989,"question_id":74893510,"body_markdown":"Test to make sure the required data is in place **before** you even attempt to work the data and make a save or change to the Database:\r\n\r\n    @FXML\r\n    private void save(MouseEvent event) {\r\n        if (aFormFieldIsEmpty()) {\r\n           new Alert(Alert.AlertType.WARNING, &quot;One or more fields on the form is empty!\\n&quot;\r\n                + &quot;Data must be provided in all fields (except Notes)!&quot;).showAndWait();\r\n            return;       \r\n        }\r\n\r\n        connection = DbConnect.connect();\r\n        String Date = expeditionDate.getText();\r\n        double Time = Double.valueOf(expeditionTime.getText());\r\n        int Altitude = Integer.parseInt(expeditionAltitude.getText());\r\n        int Distance = Integer.parseInt(expeditionDistance.getText());\r\n        String Notes = expeditionNotes.getText();\r\n        \r\n        getQuery();\r\n        insert();\r\n        clean();\r\n    }\r\n\r\n    @FXML\r\n    public boolean aFormFieldIsEmpty() {\r\n        return expeditionDate.getText().isEmpty() || \r\n               expeditionTime.getText().isEmpty() || \r\n               expeditionAltitude.getText().isEmpty() || \r\n               expeditionDistance.getText().isEmpty();\r\n    }\r\n\r\n    @FXML\r\n    private void clean() {\r\n        expeditionDate.clear();\r\n        expeditionTime.clear();\r\n        expeditionAltitude.clear();\r\n        expeditionDistance.clear();\r\n        expeditionNotes.clear();\r\n    }","title":"Cannot invoke isEmpty() on the primitive type int or double","body":"<p>Test to make sure the required data is in place <strong>before</strong> you even attempt to work the data and make a save or change to the Database:</p>\n<pre><code>@FXML\nprivate void save(MouseEvent event) {\n    if (aFormFieldIsEmpty()) {\n       new Alert(Alert.AlertType.WARNING, &quot;One or more fields on the form is empty!\\n&quot;\n            + &quot;Data must be provided in all fields (except Notes)!&quot;).showAndWait();\n        return;       \n    }\n\n    connection = DbConnect.connect();\n    String Date = expeditionDate.getText();\n    double Time = Double.valueOf(expeditionTime.getText());\n    int Altitude = Integer.parseInt(expeditionAltitude.getText());\n    int Distance = Integer.parseInt(expeditionDistance.getText());\n    String Notes = expeditionNotes.getText();\n    \n    getQuery();\n    insert();\n    clean();\n}\n\n@FXML\npublic boolean aFormFieldIsEmpty() {\n    return expeditionDate.getText().isEmpty() || \n           expeditionTime.getText().isEmpty() || \n           expeditionAltitude.getText().isEmpty() || \n           expeditionDistance.getText().isEmpty();\n}\n\n@FXML\nprivate void clean() {\n    expeditionDate.clear();\n    expeditionTime.clear();\n    expeditionAltitude.clear();\n    expeditionDistance.clear();\n    expeditionNotes.clear();\n}\n</code></pre>\n"}],"owner":{"account_id":27328967,"reputation":21,"user_id":20841440,"display_name":"AdrianProvich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1671744188,"creation_date":1671740627,"question_id":74893510,"body_markdown":"I am programing a JavaFX application where I am connecting my JavaFX TableView to my Sqlite database, and here I am trying to do is that if the textfield is empty, then it asks the user to please fill all the data. However, because in my Sqlite database I have 2 sets of data set in integer and one as a double, I cannot invoke the isEmpty to for those three sets of data. However, I cannot cast them to a String, as I will need to do calculations later on. One other aspect which is the last bit of code, is when the user wants to fill in the data to add a new set of data, he can clear whatever he was writing in those text fields, however, I am not sure what is the code for integers and doubles instead of &quot;expeditionDate.setText(null);&quot;. Thank you in advance. \r\n\r\n```\r\n    String query = null;\r\n    Connection connection = null;\r\n    ResultSet resultSet = null;\r\n    PreparedStatement preparedStatement;\r\n    Expedition user = null;\r\n    private boolean update;\r\n    int studentId;\r\n\r\n    /**\r\n     * Initializes the controller class.\r\n     */\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n    }\r\n\r\n    @FXML\r\n    private void save(MouseEvent event) {\r\n\r\n        connection = DbConnect.connect();\r\n        String Date = expeditionDate.getText();\r\n        double Time = Double.valueOf(expeditionTime.getText());\r\n        int Altitude = Integer.parseInt(expeditionAltitude.getText());\r\n        int Distance = Integer.parseInt(expeditionDistance.getText());\r\n        String Notes = expeditionNotes.getText();\r\n\r\n        if (Date.isEmpty() || Time.isEmpty() || Altitude.isEmpty() || Distance.isEmpty()|| Notes.isEmpty()) {\r\n            Alert alert = new Alert(Alert.AlertType.ERROR);\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(&quot;Please Fill All DATA&quot;);\r\n            alert.showAndWait();\r\n\r\n        } else {\r\n            getQuery();\r\n            insert();\r\n            clean();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @FXML\r\n    private void clean() {\r\n        expeditionDate.setText(null);\r\n        expeditionTime.setText(null);\r\n        expeditionAltitude.setValue(null);\r\n        expeditionDistance.setValue(null);\r\n        expeditionNotes.setText(null);\r\n        \r\n    }\r\n```\r\n","title":"Cannot invoke isEmpty() on the primitive type int or double","body":"<p>I am programing a JavaFX application where I am connecting my JavaFX TableView to my Sqlite database, and here I am trying to do is that if the textfield is empty, then it asks the user to please fill all the data. However, because in my Sqlite database I have 2 sets of data set in integer and one as a double, I cannot invoke the isEmpty to for those three sets of data. However, I cannot cast them to a String, as I will need to do calculations later on. One other aspect which is the last bit of code, is when the user wants to fill in the data to add a new set of data, he can clear whatever he was writing in those text fields, however, I am not sure what is the code for integers and doubles instead of &quot;expeditionDate.setText(null);&quot;. Thank you in advance.</p>\n<pre><code>    String query = null;\n    Connection connection = null;\n    ResultSet resultSet = null;\n    PreparedStatement preparedStatement;\n    Expedition user = null;\n    private boolean update;\n    int studentId;\n\n    /**\n     * Initializes the controller class.\n     */\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }\n\n    @FXML\n    private void save(MouseEvent event) {\n\n        connection = DbConnect.connect();\n        String Date = expeditionDate.getText();\n        double Time = Double.valueOf(expeditionTime.getText());\n        int Altitude = Integer.parseInt(expeditionAltitude.getText());\n        int Distance = Integer.parseInt(expeditionDistance.getText());\n        String Notes = expeditionNotes.getText();\n\n        if (Date.isEmpty() || Time.isEmpty() || Altitude.isEmpty() || Distance.isEmpty()|| Notes.isEmpty()) {\n            Alert alert = new Alert(Alert.AlertType.ERROR);\n            alert.setHeaderText(null);\n            alert.setContentText(&quot;Please Fill All DATA&quot;);\n            alert.showAndWait();\n\n        } else {\n            getQuery();\n            insert();\n            clean();\n\n        }\n\n    }\n\n    @FXML\n    private void clean() {\n        expeditionDate.setText(null);\n        expeditionTime.setText(null);\n        expeditionAltitude.setValue(null);\n        expeditionDistance.setValue(null);\n        expeditionNotes.setText(null);\n        \n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","offline-mode","jitpack"],"comments":[{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":1,"creation_date":1671736734,"post_id":74892959,"comment_id":132167431,"body_markdown":"I think server not working, for me also faced for other libraries…","body":"I think server not working, for me also faced for other libraries…"},{"owner":{"account_id":18334522,"reputation":55,"user_id":13352218,"display_name":"Mauricio Rodriguez"},"score":0,"creation_date":1671738615,"post_id":74892959,"comment_id":132167861,"body_markdown":"had same problem, but in my case I could get what I needed from an alternative repository and that solved my issue","body":"had same problem, but in my case I could get what I needed from an alternative repository and that solved my issue"},{"owner":{"account_id":5164233,"reputation":4069,"user_id":4135063,"accept_rate":62,"display_name":"Pedro A"},"score":0,"creation_date":1671800318,"post_id":74892959,"comment_id":132179124,"body_markdown":"It is fixed now","body":"It is fixed now"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671871192,"post_id":74893008,"comment_id":132190424,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74893008/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22145295,"reputation":21,"user_id":16394663,"display_name":"Pseudow"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671736847,"creation_date":1671736847,"answer_id":74893008,"question_id":74892959,"body_markdown":"It seems the jitpack server is currently getting through some problems and we can&#39;t use it right now.","title":"jitpack.io status code 521 from server Android Studio","body":"<p>It seems the jitpack server is currently getting through some problems and we can't use it right now.</p>\n"},{"comments":[{"owner":{"account_id":5164233,"reputation":4069,"user_id":4135063,"accept_rate":62,"display_name":"Pedro A"},"score":0,"creation_date":1671800326,"post_id":74893982,"comment_id":132179127,"body_markdown":"Update: it is fixed now","body":"Update: it is fixed now"}],"tags":[],"owner":{"account_id":23403679,"reputation":106,"user_id":17466431,"display_name":"Jakub Kalinowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671744139,"creation_date":1671744139,"answer_id":74893982,"question_id":74892959,"body_markdown":"It looks like their system is down, but there&#39;s been no response from Jitpack team yet - here&#39;s [the issue created in their repo][1].\r\n\r\n\r\n  [1]: https://github.com/jitpack/jitpack.io/issues/5337","title":"jitpack.io status code 521 from server Android Studio","body":"<p>It looks like their system is down, but there's been no response from Jitpack team yet - here's <a href=\"https://github.com/jitpack/jitpack.io/issues/5337\" rel=\"nofollow noreferrer\">the issue created in their repo</a>.</p>\n"}],"owner":{"account_id":27329948,"reputation":23,"user_id":20842248,"display_name":"Maria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74893982,"answer_count":2,"score":2,"last_activity_date":1671744139,"creation_date":1671736567,"question_id":74892959,"body_markdown":"My app was working great in the past. From this morning suddenly when I run the app from Android Studio this error shows:\r\n\r\n```\r\nCould not GET &#39;https://jitpack.io/androidx/fragment/fragment/maven-metadata.xml&#39;. Received status code 521 from server: \r\nDisable Gradle &#39;offline mode&#39; and sync project\r\n```\r\n\r\nHowever, Gradle &#39;offline mode&#39; is disabled:\r\n[Graddle toolbar](https://i.stack.imgur.com/vsva7.png)\r\n\r\n\r\n\r\n\r\nIs this a problem of jitpack.io? If so, when is expected to be solved? What can I do meanwhile?\r\n\r\nIf I able Gradle &#39;offline mode&#39; when running this other error occurs:\r\n\r\n```\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve androidx.activity:activity:[1.2.0-alpha06].\r\n     Required by:\r\n         project :app &gt; androidx.activity:activity-ktx:1.2.0-alpha06\r\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\r\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\r\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\r\n   &gt; Could not resolve androidx.fragment:fragment:[1.3.0-alpha06].\r\n     Required by:\r\n         project :app &gt; androidx.fragment:fragment-ktx:1.3.0-alpha06\r\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\r\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\r\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:68)\r\n\tat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:46)\r\n\tat org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:106)\r\n\tat org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:79)\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:176)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.addEntryTasks(DefaultTaskExecutionGraph.java:139)\r\n\tat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:49)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$2.proceed(DefaultBuildConfigurationActionExecuter.java:66)\r\n\tat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:45)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$2.proceed(DefaultBuildConfigurationActionExecuter.java:66)\r\n\tat org.gradle.execution.ExcludedTaskFilteringBuildConfigurationAction.configure(ExcludedTaskFilteringBuildConfigurationAction.java:48)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.run(DefaultBuildConfigurationActionExecuter.java:44)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:26)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry.withLenientState(DefaultProjectStateRegistry.java:133)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry.withLenientState(DefaultProjectStateRegistry.java:125)\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:40)\r\n\tat org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:38)\r\n\tat org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer$CalculateTaskGraph.populateTaskGraph(BuildOperatingFiringTaskExecutionPreparer.java:82)\r\n\tat org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer$CalculateTaskGraph.run(BuildOperatingFiringTaskExecutionPreparer.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer.prepareForTaskExecution(BuildOperatingFiringTaskExecutionPreparer.java:45)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareTaskExecution(DefaultGradleLauncher.java:206)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:142)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:126)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:106)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:60)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:57)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:85)\r\n\tat org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:78)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\r\n\tat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:78)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:57)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n\tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all task dependencies for configuration &#39;:app:debugCompileClasspath&#39;.\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1258)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2200(DefaultConfiguration.java:139)\r\n\tat org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationTaskDependency.visitDependencies(DefaultConfiguration.java:1739)\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:111)\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\r\n\t... 110 more\r\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve androidx.activity:activity:[1.2.0-alpha06].\r\nRequired by:\r\n    project :app &gt; androidx.activity:activity-ktx:1.2.0-alpha06\r\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\r\n\r\n```\r\nAny comment will be welcome I really dont know what to do, already looked similar problems but anything worked. Thank you!","title":"jitpack.io status code 521 from server Android Studio","body":"<p>My app was working great in the past. From this morning suddenly when I run the app from Android Studio this error shows:</p>\n<pre><code>Could not GET 'https://jitpack.io/androidx/fragment/fragment/maven-metadata.xml'. Received status code 521 from server: \nDisable Gradle 'offline mode' and sync project\n</code></pre>\n<p>However, Gradle 'offline mode' is disabled:\n<a href=\"https://i.stack.imgur.com/vsva7.png\" rel=\"nofollow noreferrer\">Graddle toolbar</a></p>\n<p>Is this a problem of jitpack.io? If so, when is expected to be solved? What can I do meanwhile?</p>\n<p>If I able Gradle 'offline mode' when running this other error occurs:</p>\n<pre><code>Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\n   &gt; Could not resolve androidx.activity:activity:[1.2.0-alpha06].\n     Required by:\n         project :app &gt; androidx.activity:activity-ktx:1.2.0-alpha06\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\n      &gt; No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\n   &gt; Could not resolve androidx.fragment:fragment:[1.3.0-alpha06].\n     Required by:\n         project :app &gt; androidx.fragment:fragment-ktx:1.3.0-alpha06\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\n      &gt; No cached version listing for androidx.fragment:fragment:[1.3.0-alpha06] available for offline mode.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:68)\n    at org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:46)\n    at org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:106)\n    at org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:79)\n    at org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:176)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.addEntryTasks(DefaultTaskExecutionGraph.java:139)\n    at org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:49)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter$2.proceed(DefaultBuildConfigurationActionExecuter.java:66)\n    at org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:45)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter$2.proceed(DefaultBuildConfigurationActionExecuter.java:66)\n    at org.gradle.execution.ExcludedTaskFilteringBuildConfigurationAction.configure(ExcludedTaskFilteringBuildConfigurationAction.java:48)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:58)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$200(DefaultBuildConfigurationActionExecuter.java:26)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.run(DefaultBuildConfigurationActionExecuter.java:44)\n    at org.gradle.internal.Factories$1.create(Factories.java:26)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry.withLenientState(DefaultProjectStateRegistry.java:133)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry.withLenientState(DefaultProjectStateRegistry.java:125)\n    at org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:40)\n    at org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:38)\n    at org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer$CalculateTaskGraph.populateTaskGraph(BuildOperatingFiringTaskExecutionPreparer.java:82)\n    at org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer$CalculateTaskGraph.run(BuildOperatingFiringTaskExecutionPreparer.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.BuildOperatingFiringTaskExecutionPreparer.prepareForTaskExecution(BuildOperatingFiringTaskExecutionPreparer.java:45)\n    at org.gradle.initialization.DefaultGradleLauncher.prepareTaskExecution(DefaultGradleLauncher.java:206)\n    at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:142)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:126)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:106)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:60)\n    at org.gradle.internal.invocation.GradleBuildController$1.execute(GradleBuildController.java:57)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:85)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:78)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:189)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:57)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:55)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:50)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:68)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:27)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all task dependencies for configuration ':app:debugCompileClasspath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:1258)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$2200(DefaultConfiguration.java:139)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationTaskDependency.visitDependencies(DefaultConfiguration.java:1739)\n    at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:111)\n    at org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\n    at org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\n    at org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\n    at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\n    ... 110 more\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve androidx.activity:activity:[1.2.0-alpha06].\nRequired by:\n    project :app &gt; androidx.activity:activity-ktx:1.2.0-alpha06\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version listing for androidx.activity:activity:[1.2.0-alpha06] available for offline mode.\n\n</code></pre>\n<p>Any comment will be welcome I really dont know what to do, already looked similar problems but anything worked. Thank you!</p>\n"},{"tags":["java","unit-testing","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671744061,"creation_date":1671744061,"answer_id":74893966,"question_id":74876595,"body_markdown":"You need to write a KafkaConsumer to check data that any Kafka topic contains, embedded, or not. \r\n\r\nOtherwise, you can download Kafka CLI tools, produce + flush some messages, then use `kafka-dump-log` tool on segment files written to disk, while your breakpoint is set.","title":"Is IT possoble to check what embeded kafka topic contains?","body":"<p>You need to write a KafkaConsumer to check data that any Kafka topic contains, embedded, or not.</p>\n<p>Otherwise, you can download Kafka CLI tools, produce + flush some messages, then use <code>kafka-dump-log</code> tool on segment files written to disk, while your breakpoint is set.</p>\n"}],"owner":{"account_id":27317642,"reputation":1,"user_id":20831894,"display_name":"Kamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671744061,"creation_date":1671628310,"question_id":74876595,"body_markdown":"As on the title, i wonder if i can chech what embeded kafka topic contains, just lile what local variable contains? \r\n\r\nI tried in intelij debug gui but didnt find anything ","title":"Is IT possoble to check what embeded kafka topic contains?","body":"<p>As on the title, i wonder if i can chech what embeded kafka topic contains, just lile what local variable contains?</p>\n<p>I tried in intelij debug gui but didnt find anything</p>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671743759,"creation_date":1671743759,"answer_id":74893931,"question_id":74893750,"body_markdown":"Every proto3 optional field is placed into a one-field oneof, called a &quot;synthetic&quot; oneof, as it was not present in the source .proto file. The `getOneOfs` method will return all oneofs, including synthetic ones, whereas `getRealOneOfs` will exclude the synthetic oneofs.\r\n\r\nMore info here (in the Background section):\r\n\r\nhttps://github.com/protocolbuffers/protobuf/blob/main/docs/implementing_proto3_presence.md","title":"getRealOneOf() vs getOneOf() in Descriptor.Descriptor Java API","body":"<p>Every proto3 optional field is placed into a one-field oneof, called a &quot;synthetic&quot; oneof, as it was not present in the source .proto file. The <code>getOneOfs</code> method will return all oneofs, including synthetic ones, whereas <code>getRealOneOfs</code> will exclude the synthetic oneofs.</p>\n<p>More info here (in the Background section):</p>\n<p><a href=\"https://github.com/protocolbuffers/protobuf/blob/main/docs/implementing_proto3_presence.md\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/blob/main/docs/implementing_proto3_presence.md</a></p>\n"}],"owner":{"account_id":1046777,"reputation":261,"user_id":9963146,"display_name":"Styp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671743759,"creation_date":1671742480,"question_id":74893750,"body_markdown":"Can anyone enlighten me about the difference of getRealOneOfs and getOneOfs?\r\n\r\nhttps://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.Descriptor.html#getOneofs--\r\n","title":"getRealOneOf() vs getOneOf() in Descriptor.Descriptor Java API","body":"<p>Can anyone enlighten me about the difference of getRealOneOfs and getOneOfs?</p>\n<p><a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.Descriptor.html#getOneofs--\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Descriptors.Descriptor.html#getOneofs--</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1671652913,"post_id":74881003,"comment_id":132147469,"body_markdown":"Thanks, that path is the correct one. How do I go about accessing the values from the file after this?","body":"Thanks, that path is the correct one. How do I go about accessing the values from the file after this?"},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1671658667,"post_id":74881003,"comment_id":132148971,"body_markdown":"Take a look at https://www.baeldung.com/properties-with-spring. Good example of what you are asking for.","body":"Take a look at <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a>. Good example of what you are asking for."}],"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671651370,"creation_date":1671651370,"answer_id":74881003,"question_id":74880229,"body_markdown":"You can use ClassPathResource. Assuming secrets.properties is in the src/main/resources folder ```ClassPathResource(&quot;secrets.properties&quot;)```.","title":"How to pick up values from config files other than application.properties in Java Spring project","body":"<p>You can use ClassPathResource. Assuming secrets.properties is in the src/main/resources folder <code>ClassPathResource(&quot;secrets.properties&quot;)</code>.</p>\n"}],"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671743365,"creation_date":1671646573,"question_id":74880229,"body_markdown":"I am building a Kafka project in Spring and I needed to store sensitive information like access tokens within my project. So, I created a secrets.properties file inside my resources folder, added my confidential information in that file, and added the following line to my application.properties file:\r\n```\r\nspring.config.import=optional:secrets.properties\r\n```\r\nI now want to access the information stored inside the newly created secrets file inside my Java class, but am unsure how to do that. Can someone guide me on how to do this?\r\n\r\nThanks","title":"How to pick up values from config files other than application.properties in Java Spring project","body":"<p>I am building a Kafka project in Spring and I needed to store sensitive information like access tokens within my project. So, I created a secrets.properties file inside my resources folder, added my confidential information in that file, and added the following line to my application.properties file:</p>\n<pre><code>spring.config.import=optional:secrets.properties\n</code></pre>\n<p>I now want to access the information stored inside the newly created secrets file inside my Java class, but am unsure how to do that. Can someone guide me on how to do this?</p>\n<p>Thanks</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671696603,"post_id":74885614,"comment_id":132155028,"body_markdown":"Have you rebuild module A? Do you use the newly builded version of A in B?","body":"Have you rebuild module A? Do you use the newly builded version of A in B?"},{"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"score":0,"creation_date":1671696697,"post_id":74885614,"comment_id":132155056,"body_markdown":"@Jens yes, many times. Even cleared cache and restart intellij","body":"@Jens yes, many times. Even cleared cache and restart intellij"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671696815,"post_id":74885614,"comment_id":132155078,"body_markdown":"You are using version 1.01 is this correct? Is it deployed in to a Maven repo?","body":"You are using version 1.01 is this correct? Is it deployed in to a Maven repo?"},{"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"score":0,"creation_date":1671697710,"post_id":74885614,"comment_id":132155336,"body_markdown":"@SimonMartinelli I don&#39;t understand, why it should be deployed to maven repo","body":"@SimonMartinelli I don&#39;t understand, why it should be deployed to maven repo"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671697799,"post_id":74885614,"comment_id":132155362,"body_markdown":"I just thought because you are using release versions and not snapshot versions. Usually release versions are in a maven repo","body":"I just thought because you are using release versions and not snapshot versions. Usually release versions are in a maven repo"},{"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"score":0,"creation_date":1671698224,"post_id":74885614,"comment_id":132155470,"body_markdown":"Actually its in my organisation internal repos, not public","body":"Actually its in my organisation internal repos, not public"}],"answers":[{"comments":[{"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"score":0,"creation_date":1671704848,"post_id":74887069,"comment_id":132157322,"body_markdown":"yes its same, I have edited in question.","body":"yes its same, I have edited in question."}],"tags":[],"owner":{"account_id":8107263,"reputation":39,"user_id":6108411,"accept_rate":100,"display_name":"Rkumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671704384,"creation_date":1671704384,"answer_id":74887069,"question_id":74885614,"body_markdown":"I don&#39;t see the version of artefact A you are trying to use in module B, can you check if it&#39;s the same version you are trying to build using okhttp 4.9.2","title":"Maven not resolving given nested dependency version","body":"<p>I don't see the version of artefact A you are trying to use in module B, can you check if it's the same version you are trying to build using okhttp 4.9.2</p>\n"},{"tags":[],"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671743364,"creation_date":1671743364,"answer_id":74893875,"question_id":74885614,"body_markdown":"I solved the dependency resolution by enforcing dependency version in dependencyManagement in parent pom as mentioned in [https://stackoverflow.com/a/2684291/5859017][1] in 2nd point. Maybe some dependency in parent pom was causing problem that has okhttp as transitive dependency.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2684291/5859017","title":"Maven not resolving given nested dependency version","body":"<p>I solved the dependency resolution by enforcing dependency version in dependencyManagement in parent pom as mentioned in <a href=\"https://stackoverflow.com/a/2684291/5859017\">https://stackoverflow.com/a/2684291/5859017</a> in 2nd point. Maybe some dependency in parent pom was causing problem that has okhttp as transitive dependency.</p>\n"}],"owner":{"account_id":7738128,"reputation":51,"user_id":5859017,"display_name":"Shubham Agrawal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74893875,"answer_count":2,"score":0,"last_activity_date":1671743364,"creation_date":1671696075,"question_id":74885614,"body_markdown":"I have given following module in module A:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependecies&gt;\r\n\r\nAnd included module A in module B like:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n            &lt;version&gt;1.01&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependecies&gt;\r\n\r\nBut still `mvn dependency:tree` is showing 3.14.9 version in module B, please help.\r\n\r\n    [INFO] com.example.test:B:jar:1.01\r\n    [INFO] +- com.example.test:A:jar:1.01:compile\r\n    [INFO] |  +- com.squareup.okhttp3:okhttp:jar:3.14.9:compile\r\n\r\nI have also excluded it from all other modules that have 3.14.9 conflicts.\r\nI know I can add okhttp 4.9.2 explicitly in module B but there are many such modules, I don&#39;t want to add explicitly 4.9.2 version each time.\r\nFor some reason, this is the case only for okhttp, rest other dependencies resolving given version","title":"Maven not resolving given nested dependency version","body":"<p>I have given following module in module A:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;4.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependecies&gt;\n</code></pre>\n<p>And included module A in module B like:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.example.test&lt;/groupId&gt;\n        &lt;artifactId&gt;A&lt;/artifactId&gt;\n        &lt;version&gt;1.01&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependecies&gt;\n</code></pre>\n<p>But still <code>mvn dependency:tree</code> is showing 3.14.9 version in module B, please help.</p>\n<pre><code>[INFO] com.example.test:B:jar:1.01\n[INFO] +- com.example.test:A:jar:1.01:compile\n[INFO] |  +- com.squareup.okhttp3:okhttp:jar:3.14.9:compile\n</code></pre>\n<p>I have also excluded it from all other modules that have 3.14.9 conflicts.\nI know I can add okhttp 4.9.2 explicitly in module B but there are many such modules, I don't want to add explicitly 4.9.2 version each time.\nFor some reason, this is the case only for okhttp, rest other dependencies resolving given version</p>\n"},{"tags":["java","jboss","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1671726623,"post_id":74890679,"comment_id":132164523,"body_markdown":"What version of ActiveMQ Artemis are you using?","body":"What version of ActiveMQ Artemis are you using?"},{"owner":{"account_id":4653834,"reputation":15,"user_id":3769895,"display_name":"Anbu"},"score":0,"creation_date":1671797123,"post_id":74890679,"comment_id":132178269,"body_markdown":"My client ActiveMQ Artemis  jar version is 2.19.1","body":"My client ActiveMQ Artemis  jar version is 2.19.1"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1671806256,"post_id":74890679,"comment_id":132180690,"body_markdown":"The line numbers in the stack-trace don&#39;t match 2.19.1. For example, the `NullPointerException` is being thrown from line 330 of `ActiveMQMessageHandler.java`, but in 2.19.1 that line is a [logging statement](https://github.com/apache/activemq-artemis/blob/2.19.1/artemis-ra/src/main/java/org/apache/activemq/artemis/ra/inflow/ActiveMQMessageHandler.java#L330) which is basically exactly the same as a logging statement 20 lines before that.","body":"The line numbers in the stack-trace don&#39;t match 2.19.1. For example, the <code>NullPointerException</code> is being thrown from line 330 of <code>ActiveMQMessageHandler.java</code>, but in 2.19.1 that line is a <a href=\"https://github.com/apache/activemq-artemis/blob/2.19.1/artemis-ra/src/main/java/org/apache/activemq/artemis/ra/inflow/ActiveMQMessageHandler.java#L330\" rel=\"nofollow noreferrer\">logging statement</a> which is basically exactly the same as a logging statement 20 lines before that."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1671806300,"post_id":74890679,"comment_id":132180707,"body_markdown":"The next entry in the stack-trace is from line 1031 of `ClientConsumerImpl.java` which should be calling  `onMessage` but [it&#39;s not](https://github.com/apache/activemq-artemis/blob/2.19.1/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/client/impl/ClientConsumerImpl.java#L1031). It&#39;s calling the `discardBody` method instead.","body":"The next entry in the stack-trace is from line 1031 of <code>ClientConsumerImpl.java</code> which should be calling  <code>onMessage</code> but <a href=\"https://github.com/apache/activemq-artemis/blob/2.19.1/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/client/impl/ClientConsumerImpl.java#L1031\" rel=\"nofollow noreferrer\">it&#39;s not</a>. It&#39;s calling the <code>discardBody</code> method instead."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1671806330,"post_id":74890679,"comment_id":132180714,"body_markdown":"I can&#39;t investigate further without an accurate indication of which version of ActiveMQ Artemis you&#39;re using.","body":"I can&#39;t investigate further without an accurate indication of which version of ActiveMQ Artemis you&#39;re using."}],"owner":{"account_id":4653834,"reputation":15,"user_id":3769895,"display_name":"Anbu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671742984,"creation_date":1671723177,"question_id":74890679,"body_markdown":"My war file is deployed in a JBoss server and it connects to the queue in another machine. While deploying the war file I&#39;m getting this exception:\r\n```\r\n2022-12-21 11:28:02,749 ERROR [org.apache.activemq.artemis.ra] (Thread-254 (ActiveMQ-client-global-threads)) AMQ154004: Failed to deliver message: java.lang.NullPointerException\r\n\tat org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:330)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1031)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:50)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1154)\r\n\tat org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\r\n\tat org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\r\n\tat org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:66)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\n\r\n2022-12-21 11:28:02,778 ERROR [org.apache.activemq.artemis.core.client] (Thread-254 (ActiveMQ-client-global-threads)) AMQ214000: Failed to call onMessage: org.apache.activemq.artemis.api.core.ActiveMQInterruptedException: java.lang.InterruptedException\r\n\tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:430)\r\n\tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:358)\r\n\tat org.apache.activemq.artemis.core.protocol.core.impl.ActiveMQSessionContext.sessionStop(ActiveMQSessionContext.java:473)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.stop(ClientSessionImpl.java:1096)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.stop(ClientSessionImpl.java:1085)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.rollback(ClientSessionImpl.java:989)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.rollback(ClientSessionImpl.java:972)\r\n\tat org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:385)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1031)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:50)\r\n\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1154)\r\n\tat org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\r\n\tat org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\r\n\tat org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:66)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\nCaused by: java.lang.InterruptedException\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2151)\r\n\tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:428)\r\n\t... 16 more \r\n```\r\nWhat could be the issue? ","title":"Getting InterruptedException when deploying JMS app in JBoss","body":"<p>My war file is deployed in a JBoss server and it connects to the queue in another machine. While deploying the war file I'm getting this exception:</p>\n<pre><code>2022-12-21 11:28:02,749 ERROR [org.apache.activemq.artemis.ra] (Thread-254 (ActiveMQ-client-global-threads)) AMQ154004: Failed to deliver message: java.lang.NullPointerException\n    at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:330)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1031)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:50)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1154)\n    at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\n    at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\n    at org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:66)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\n\n2022-12-21 11:28:02,778 ERROR [org.apache.activemq.artemis.core.client] (Thread-254 (ActiveMQ-client-global-threads)) AMQ214000: Failed to call onMessage: org.apache.activemq.artemis.api.core.ActiveMQInterruptedException: java.lang.InterruptedException\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:430)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:358)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ActiveMQSessionContext.sessionStop(ActiveMQSessionContext.java:473)\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.stop(ClientSessionImpl.java:1096)\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.stop(ClientSessionImpl.java:1085)\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.rollback(ClientSessionImpl.java:989)\n    at org.apache.activemq.artemis.core.client.impl.ClientSessionImpl.rollback(ClientSessionImpl.java:972)\n    at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:385)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1031)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:50)\n    at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1154)\n    at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:42)\n    at org.apache.activemq.artemis.utils.actors.OrderedExecutor.doTask(OrderedExecutor.java:31)\n    at org.apache.activemq.artemis.utils.actors.ProcessorBase.executePendingTasks(ProcessorBase.java:66)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\nCaused by: java.lang.InterruptedException\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2151)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.sendBlocking(ChannelImpl.java:428)\n    ... 16 more \n</code></pre>\n<p>What could be the issue?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1274748,"reputation":1488,"user_id":1230229,"accept_rate":65,"display_name":"kTiwari"},"score":0,"creation_date":1380099286,"post_id":19000324,"comment_id":28069544,"body_markdown":"Why do you want to use this?Have you google it or not?","body":"Why do you want to use this?Have you google it or not?"}],"answers":[{"tags":[],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380099622,"creation_date":1380099405,"answer_id":19000428,"question_id":19000324,"body_markdown":"The difference is same as in `new Thread(job).start()` and `job.run()`. When you submit the job for execution, the job runs in one of the available thread of the executor. Calling `job.run()` is simply like any other method call which does not run in a separate thread but rather on the calling thread.","title":"Advantage of using Executors.newSingleThreadExecutor()","body":"<p>The difference is same as in <code>new Thread(job).start()</code> and <code>job.run()</code>. When you submit the job for execution, the job runs in one of the available thread of the executor. Calling <code>job.run()</code> is simply like any other method call which does not run in a separate thread but rather on the calling thread.</p>\n"},{"comments":[{"owner":{"account_id":250813,"reputation":11515,"user_id":2191890,"accept_rate":56,"display_name":"Roc Boronat"},"score":0,"creation_date":1581942919,"post_id":19000625,"comment_id":106594129,"body_markdown":"But that doesn&#39;t happen if you don&#39;t reuse the Executor. If you execute the whole line `Executors.newSingleThreadExecutor().submit(job);` the call is pointless.","body":"But that doesn&#39;t happen if you don&#39;t reuse the Executor. If you execute the whole line <code>Executors.newSingleThreadExecutor().submit(job);</code> the call is pointless."}],"tags":[],"owner":{"account_id":2911135,"reputation":3211,"user_id":2495331,"accept_rate":67,"display_name":"Luca Mastrostefano"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1380099946,"creation_date":1380099946,"answer_id":19000625,"question_id":19000324,"body_markdown":"One of the advantage is that Executors.newSingleThreadExecutor reuse the Thread instance to speed up the starting of the other jobs.","title":"Advantage of using Executors.newSingleThreadExecutor()","body":"<p>One of the advantage is that Executors.newSingleThreadExecutor reuse the Thread instance to speed up the starting of the other jobs.</p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1671742970,"creation_date":1380100440,"answer_id":19000809,"question_id":19000324,"body_markdown":"Writing literally\r\n\r\n    Executors.newSingleThreadExecutor().submit(job);\r\n\r\nis pointless: it&#39;s just the wrong way to do\r\n\r\n    new Thread(job).start();\r\n\r\nAs opposed to the latter, the former will leave the thread hanging on until the Executor Service is finalized.\r\n\r\nThe advantage of using an Executor Service comes about when you keep it around as an instance/class variable and reuse it for many submitted tasks. The Executor Service must be properly `shutdown` when you are done with it.\r\n\r\nMore generally, the difference between submitting tasks to an executor service and just running the tasks is in the achieved concurrency. Whether that results in any advantage is highly specific to the job being submitted: it may also be useless or even broken (causing data races, deadlocks, etc.).","title":"Advantage of using Executors.newSingleThreadExecutor()","body":"<p>Writing literally</p>\n<pre><code>Executors.newSingleThreadExecutor().submit(job);\n</code></pre>\n<p>is pointless: it's just the wrong way to do</p>\n<pre><code>new Thread(job).start();\n</code></pre>\n<p>As opposed to the latter, the former will leave the thread hanging on until the Executor Service is finalized.</p>\n<p>The advantage of using an Executor Service comes about when you keep it around as an instance/class variable and reuse it for many submitted tasks. The Executor Service must be properly <code>shutdown</code> when you are done with it.</p>\n<p>More generally, the difference between submitting tasks to an executor service and just running the tasks is in the achieved concurrency. Whether that results in any advantage is highly specific to the job being submitted: it may also be useless or even broken (causing data races, deadlocks, etc.).</p>\n"}],"owner":{"account_id":109277,"reputation":509,"user_id":289621,"accept_rate":48,"display_name":"Abichellam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21752,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"closed_date":1380109434,"answer_count":3,"score":8,"last_activity_date":1671742970,"creation_date":1380099089,"question_id":19000324,"body_markdown":"What is the **advantage** of using\r\n\r\n    Executors.newSingleThreadExecutor().submit(job);\r\n\r\nthan \r\n\r\n    job.run();\r\n\r\nwhere `job` is an instance of `Runnable` class.","title":"Advantage of using Executors.newSingleThreadExecutor()","body":"<p>What is the <strong>advantage</strong> of using</p>\n\n<pre><code>Executors.newSingleThreadExecutor().submit(job);\n</code></pre>\n\n<p>than </p>\n\n<pre><code>job.run();\n</code></pre>\n\n<p>where <code>job</code> is an instance of <code>Runnable</code> class.</p>\n"},{"tags":["java","intellij-idea","javafx","import"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671741715,"post_id":74893448,"comment_id":132168691,"body_markdown":"If you refactor by relocating or renaming items within the IDE rather than using the file system, I think Idea usually fixes all of the package naming and imports for you.  Otherwise, some manual effort is required.  Usually, the unresolved imports will show in red, I delete them, then their class usage sites in the file are in red as well, I go to each individually and use Alt+Enter | Import Class and Idea will add the correct import, or provide a list of imports to select from if there are multiple packages with the same class name. A power-user may have a more efficient approach.","body":"If you refactor by relocating or renaming items within the IDE rather than using the file system, I think Idea usually fixes all of the package naming and imports for you.  Otherwise, some manual effort is required.  Usually, the unresolved imports will show in red, I delete them, then their class usage sites in the file are in red as well, I go to each individually and use Alt+Enter | Import Class and Idea will add the correct import, or provide a list of imports to select from if there are multiple packages with the same class name. A power-user may have a more efficient approach."},{"owner":{"account_id":22337456,"reputation":21,"user_id":18829460,"display_name":"Natalia Coelho"},"score":1,"creation_date":1671742636,"post_id":74893448,"comment_id":132168902,"body_markdown":"Thanks for your tip! After deleting the wrong path it automatically imported the right ones. But it was also necessary to set up the &#39;Add unambiguous imports on the fly&#39; as default located at &#39;File &gt; Settings &gt; Editor &gt; General &gt; Auto Import&#39;.","body":"Thanks for your tip! After deleting the wrong path it automatically imported the right ones. But it was also necessary to set up the &#39;Add unambiguous imports on the fly&#39; as default located at &#39;File &gt; Settings &gt; Editor &gt; General &gt; Auto Import&#39;."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671742861,"post_id":74893448,"comment_id":132168961,"body_markdown":"Cool, I didn&#39;t know about that feature.  You are a power-user :-).  If you get another vote, you can [answer your own question](https://stackoverflow.com/help/self-answer)","body":"Cool, I didn&#39;t know about that feature.  You are a power-user :-).  If you get another vote, you can <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1671744467,"post_id":74893448,"comment_id":132169362,"body_markdown":"If you want to fix imports with many files, you could also search for `import sudoku.` and replace all occurencies with `import com.wissassblog.sudoku.`.","body":"If you want to fix imports with many files, you could also search for <code>import sudoku.</code> and replace all occurencies with <code>import com.wissassblog.sudoku.</code>."},{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1671748673,"post_id":74893448,"comment_id":132170286,"body_markdown":"You should use IntelliJ to move things around as it keeps imports working when you do that :) but too late now... anyway, one thing I do when I find myself with bad imports  is just delete  all imports, then go through every place where it&#39;s &quot;red&#39; and higt Alt+Enter to get suggestions of fixes, which will show which classes you could import for each case.","body":"You should use IntelliJ to move things around as it keeps imports working when you do that :) but too late now... anyway, one thing I do when I find myself with bad imports  is just delete  all imports, then go through every place where it&#39;s &quot;red&#39; and higt Alt+Enter to get suggestions of fixes, which will show which classes you could import for each case."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671777126,"post_id":74893448,"comment_id":132173794,"body_markdown":"@Renato your comment was identical to mine...","body":"@Renato your comment was identical to mine..."}],"owner":{"account_id":22337456,"reputation":21,"user_id":18829460,"display_name":"Natalia Coelho"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671742956,"creation_date":1671740101,"question_id":74893448,"body_markdown":"I was working on a JavaFX Desktop Application and for building reasons, I needed to refactor my project to encapsulate the packages into modules. After that, I realized that my imports were not pointing correctly to the beginning path of the packages.\r\n\r\nExemplifying, one of the imports was like this: \r\n`sudoku.constants.GameState`\r\n\r\nAnd it should&#39;ve been like:\r\n`com.wissassblog.sudoku.computationlogic.GameState`\r\n\r\nNote that it adds the `com.wissassblog` first.\r\n\r\nI could set it up manually, but this wouldn&#39;t be efficient when working on a larger project. Is there a faster way to correctly point to the right import path? \r\n\r\nI&#39;ve tried the following IntelliJ&#39;s tools:\r\n\r\n- Adding unambiguous imports on the fly;\r\n- Optimize imports;\r\n\r\nBut none of this fixed the path automatically.","title":"How to organize IntelliJ imports correctly after a refactoring","body":"<p>I was working on a JavaFX Desktop Application and for building reasons, I needed to refactor my project to encapsulate the packages into modules. After that, I realized that my imports were not pointing correctly to the beginning path of the packages.</p>\n<p>Exemplifying, one of the imports was like this:\n<code>sudoku.constants.GameState</code></p>\n<p>And it should've been like:\n<code>com.wissassblog.sudoku.computationlogic.GameState</code></p>\n<p>Note that it adds the <code>com.wissassblog</code> first.</p>\n<p>I could set it up manually, but this wouldn't be efficient when working on a larger project. Is there a faster way to correctly point to the right import path?</p>\n<p>I've tried the following IntelliJ's tools:</p>\n<ul>\n<li>Adding unambiguous imports on the fly;</li>\n<li>Optimize imports;</li>\n</ul>\n<p>But none of this fixed the path automatically.</p>\n"},{"tags":["java","testing","annotations","testng"],"comments":[{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1414414710,"post_id":26588005,"comment_id":41791062,"body_markdown":"i put that equals to finally because before using annotations, i had the delete method into finally inside passengerServiceTest, and i want the same functionality but with annotations","body":"i put that equals to finally because before using annotations, i had the delete method into finally inside passengerServiceTest, and i want the same functionality but with annotations"}],"answers":[{"comments":[{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":1,"creation_date":1414415331,"post_id":26588272,"comment_id":41791424,"body_markdown":"yes, i had this like this before, but i was trying to avoid  the try and finally. I want to do exactly the same but with annotations , is that possible ? Thanks you !","body":"yes, i had this like this before, but i was trying to avoid  the try and finally. I want to do exactly the same but with annotations , is that possible ? Thanks you !"},{"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"score":0,"creation_date":1414415458,"post_id":26588272,"comment_id":41791502,"body_markdown":"I think it&#39;s neither possible nor desirable!  &#39;try - finally&#39; is a fine, well used and understood concept.","body":"I think it&#39;s neither possible nor desirable!  &#39;try - finally&#39; is a fine, well used and understood concept."},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1414415557,"post_id":26588272,"comment_id":41791564,"body_markdown":"Ok! thanks for your help! I am doing this like your way","body":"Ok! thanks for your help! I am doing this like your way"}],"tags":[],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1533581664,"creation_date":1414415167,"answer_id":26588272,"question_id":26588005,"body_markdown":"You don&#39;t need annotations to achieve this, since it&#39;s exactly what the finally block is intended for:\r\n\r\n    @Test\r\n    public void passengerServiceTest() {            \r\n        try {\r\n            //test code \r\n        } finally {\r\n            deleteCreatedPassenger();\r\n        }\r\n    }\r\n    \r\n    public void deleteCreatedPassenger() {\r\n    ...    \r\n    }\r\n\r\nIf the delete throws an exception then your service test fails.  \r\n\r\nAnnotations are useful in certain scenarios, you shouldn&#39;t aim to use them over core language constructs.","title":"testNG annotation which would equal to &quot;finally&quot; in java?","body":"<p>You don't need annotations to achieve this, since it's exactly what the finally block is intended for:</p>\n\n<pre><code>@Test\npublic void passengerServiceTest() {            \n    try {\n        //test code \n    } finally {\n        deleteCreatedPassenger();\n    }\n}\n\npublic void deleteCreatedPassenger() {\n...    \n}\n</code></pre>\n\n<p>If the delete throws an exception then your service test fails.  </p>\n\n<p>Annotations are useful in certain scenarios, you shouldn't aim to use them over core language constructs.</p>\n"},{"tags":[],"owner":{"account_id":7062643,"reputation":631,"user_id":5407229,"display_name":"Joshua Swain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671742828,"creation_date":1671742828,"answer_id":74893799,"question_id":26588005,"body_markdown":"`alwaysRun`  \r\nhttps://testng.org/doc/documentation-main.html\r\n\r\nEx:\r\n\r\n    @AfterTest(alwaysRun = true)\r\n    public void deleteOldValuesFromDatabase() {\r\n        ...\r\n    }\r\n\r\nDocs say that this will cause the method to run &quot;even if one or more methods invoked previously failed or was skipped&quot;\r\n","title":"testNG annotation which would equal to &quot;finally&quot; in java?","body":"<p><code>alwaysRun</code><br />\n<a href=\"https://testng.org/doc/documentation-main.html\" rel=\"nofollow noreferrer\">https://testng.org/doc/documentation-main.html</a></p>\n<p>Ex:</p>\n<pre><code>@AfterTest(alwaysRun = true)\npublic void deleteOldValuesFromDatabase() {\n    ...\n}\n</code></pre>\n<p>Docs say that this will cause the method to run &quot;even if one or more methods invoked previously failed or was skipped&quot;</p>\n"}],"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26588272,"answer_count":2,"score":4,"last_activity_date":1671742828,"creation_date":1414414334,"question_id":26588005,"body_markdown":"i don&#39;t know if my question was clear, but i am using testNG and i have this:\r\n\r\n    @Test\r\n    public void passengerServiceTest() {\r\n    ...\r\n    }\r\n\r\n    @AfterTest\r\n    public void deleteCreatedPassenger() {\r\n    ...    \r\n    }\r\n\r\nI want to execute my deleteCreatedPassenger() method after passengerServiceTest, also, i want that in case of deleteCreatedPassenger fails, passengerServiceTest fails too, in other words, i want that both of them be the same test, so if one them fails, test fails. \r\nSo i tried with the annotations @AfterTest, @AfterMethod, @AfterClass and all make two tests as &quot;separated&quot; tests.\r\nDo you know how to do this? Regards","title":"testNG annotation which would equal to &quot;finally&quot; in java?","body":"<p>i don't know if my question was clear, but i am using testNG and i have this:</p>\n\n<pre><code>@Test\npublic void passengerServiceTest() {\n...\n}\n\n@AfterTest\npublic void deleteCreatedPassenger() {\n...    \n}\n</code></pre>\n\n<p>I want to execute my deleteCreatedPassenger() method after passengerServiceTest, also, i want that in case of deleteCreatedPassenger fails, passengerServiceTest fails too, in other words, i want that both of them be the same test, so if one them fails, test fails. \nSo i tried with the annotations @AfterTest, @AfterMethod, @AfterClass and all make two tests as \"separated\" tests.\nDo you know how to do this? Regards</p>\n"},{"tags":["java","sql","jsp","jpa","entitymanager"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1671742988,"post_id":74892050,"comment_id":132168984,"body_markdown":"What does `getResultList` return? Can you share the stack trace of the `ClassCastException`?","body":"What does <code>getResultList</code> return? Can you share the stack trace of the <code>ClassCastException</code>?"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1671786315,"post_id":74892050,"comment_id":132175568,"body_markdown":"@dan1st It returns a List, I even tried to save in the object but as I print I get the andress memorries and not the values","body":"@dan1st It returns a List, I even tried to save in the object but as I print I get the andress memorries and not the values"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1671788434,"post_id":74892050,"comment_id":132176065,"body_markdown":"It returns a `List` - ok but does it return a `List&lt;String&gt;` (are all elements `String`s)? And still - Can you share the stack trace of the `ClassCastException`?","body":"It returns a <code>List</code> - ok but does it return a <code>List&lt;String&gt;</code> (are all elements <code>String</code>s)? And still - Can you share the stack trace of the <code>ClassCastException</code>?"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671742723,"creation_date":1671730786,"question_id":74892050,"body_markdown":"My company asked me to improve one method from an older project.\r\nThe task is to create a csv file from a SQL table (`select *`) and download with a jsp, the main problem there aren&#39;t any Model class and there are a lot of table and I prefer don&#39;t create many one, my idea it was to get the list of rows and than for each entity get one row\r\n\r\nThe service class\r\n```\r\npublic List&lt;String&gt; searchBersaniFile() {\r\n\t\tQuery q = em.createNativeQuery(SQL_SELECT_REPNORM_BERSANI);\r\n\t\tList&lt;String&gt; resultList = (List&lt;String&gt;) q.getResultList(); //I get CastClassException here \r\n\t\tSystem.out.println(resultList);\r\n\t\tif (resultList == null) {\r\n\t\t\tresultList = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\treturn resultList;\r\n\t}\r\n```\r\n\r\nThe main class:\r\n\r\n```\r\ntry (ServletOutputStream outServlet = response.getOutputStream()) {\r\n\r\n\t\t\tswitch (flowType) {\r\n\t\t\r\n\t\t\tcase STATO_BERSANI:\r\n\t\t\t\tlistResult = awpSapNewRepository.searchBersaniFile();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tStringBuffer buffer = new StringBuffer();\r\n\t\t\tString str;\r\n\t\t\tfor (String result : listResult) {\r\n\t\t\t\tSystem.out.println(result);\r\n\t\t\t\tstr = result.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).replaceAll(&quot;,&quot;, &quot;;&quot;);\r\n\t\t\t\tSystem.out.println(str);\r\n\t\t\t\tbuffer.append(str);\r\n\t\t\t\tbuffer.append(&quot;\\r\\n&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tString fileName = buildFileName(flowType);\r\n\r\n\t\t\tresponse.setContentType(&quot;text/csv&quot;);\r\n\t\t\t;\r\n\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\r\n\r\n\t\t\toutServlet.write(buffer.toString().getBytes());\r\n\t\t\toutServlet.flush();\r\n\t\t}\r\n```\r\n\r\nI tried to get to get in String as you can see on top  (via debug I see it returns like this: [column1, column2, column3][column1,....])\r\nDo you have any idea how can I get the csv without create any model?","title":"Get a CSV file from an EntityManager","body":"<p>My company asked me to improve one method from an older project.\nThe task is to create a csv file from a SQL table (<code>select *</code>) and download with a jsp, the main problem there aren't any Model class and there are a lot of table and I prefer don't create many one, my idea it was to get the list of rows and than for each entity get one row</p>\n<p>The service class</p>\n<pre><code>public List&lt;String&gt; searchBersaniFile() {\n        Query q = em.createNativeQuery(SQL_SELECT_REPNORM_BERSANI);\n        List&lt;String&gt; resultList = (List&lt;String&gt;) q.getResultList(); //I get CastClassException here \n        System.out.println(resultList);\n        if (resultList == null) {\n            resultList = new ArrayList&lt;&gt;();\n        }\n        return resultList;\n    }\n</code></pre>\n<p>The main class:</p>\n<pre><code>try (ServletOutputStream outServlet = response.getOutputStream()) {\n\n            switch (flowType) {\n        \n            case STATO_BERSANI:\n                listResult = awpSapNewRepository.searchBersaniFile();\n                break;\n            }\n\n            StringBuffer buffer = new StringBuffer();\n            String str;\n            for (String result : listResult) {\n                System.out.println(result);\n                str = result.replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).replaceAll(&quot;,&quot;, &quot;;&quot;);\n                System.out.println(str);\n                buffer.append(str);\n                buffer.append(&quot;\\r\\n&quot;);\n\n            }\n\n            String fileName = buildFileName(flowType);\n\n            response.setContentType(&quot;text/csv&quot;);\n            ;\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\n\n            outServlet.write(buffer.toString().getBytes());\n            outServlet.flush();\n        }\n</code></pre>\n<p>I tried to get to get in String as you can see on top  (via debug I see it returns like this: [column1, column2, column3][column1,....])\nDo you have any idea how can I get the csv without create any model?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671742262,"creation_date":1671742262,"answer_id":74893727,"question_id":74884349,"body_markdown":"Unless you invoke `consumer.seekToBeginning()` or restart the consumer with `auto.offset.reset=earliest` &amp; `enable.auto.commit=false`, then each poll will start at the following offset marker from the previous batch while that consumer process is active. \r\n\r\nZookeeper might be a better option for a distributed lock, and it is a well-documented pattern. Or [as mentioned before, etcd](https://stackoverflow.com/a/73900994/2308683). \r\n\r\nIf you are using a single topic to maintain some state, then only one consumer of any group can read that data, anyway. To query data from the topic, you could build a KTable and implement Interactive Queries. ","title":"Kafka consumer poll","body":"<p>Unless you invoke <code>consumer.seekToBeginning()</code> or restart the consumer with <code>auto.offset.reset=earliest</code> &amp; <code>enable.auto.commit=false</code>, then each poll will start at the following offset marker from the previous batch while that consumer process is active.</p>\n<p>Zookeeper might be a better option for a distributed lock, and it is a well-documented pattern. Or <a href=\"https://stackoverflow.com/a/73900994/2308683\">as mentioned before, etcd</a>.</p>\n<p>If you are using a single topic to maintain some state, then only one consumer of any group can read that data, anyway. To query data from the topic, you could build a KTable and implement Interactive Queries.</p>\n"}],"owner":{"account_id":8274803,"reputation":405,"user_id":6221402,"display_name":"AmsterdamLuis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74893727,"answer_count":1,"score":0,"last_activity_date":1671742262,"creation_date":1671685850,"question_id":74884349,"body_markdown":"I am using a topic with only one partition and consumer groups to simulate a distributed lock. Active instance publishes heartbeats there, and passive instance consumes them and become active when no more heartbeats have been sent in a while.\r\n\r\n\r\nThe topic has retention.ms=5min and segment.ms=5min, and the consumer has auto.offset.reset=earliest, enable.auto.commit=false, max.poll.records=150000.\r\n\r\nOffsets are never committed. I want the consumer to get all data in the topic on each poll. The problem is that sometimes the poll does not return all data in the topic.\r\n\r\nIn which conditions can the poll do that, and how can I avoid it?","title":"Kafka consumer poll","body":"<p>I am using a topic with only one partition and consumer groups to simulate a distributed lock. Active instance publishes heartbeats there, and passive instance consumes them and become active when no more heartbeats have been sent in a while.</p>\n<p>The topic has retention.ms=5min and segment.ms=5min, and the consumer has auto.offset.reset=earliest, enable.auto.commit=false, max.poll.records=150000.</p>\n<p>Offsets are never committed. I want the consumer to get all data in the topic on each poll. The problem is that sometimes the poll does not return all data in the topic.</p>\n<p>In which conditions can the poll do that, and how can I avoid it?</p>\n"},{"tags":["java","plugins","classpath","classloader"],"answers":[{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1374847976,"creation_date":1374847976,"answer_id":17883681,"question_id":17883226,"body_markdown":"You can use [Uberjar][1]. What it does is move all your jars/classes to a `custom namespace` so that none of your classes clash because your dependencies have a different namespace.\r\n\r\nYou might want to look at [maven-shade][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11947037/what-is-an-uber-jar\r\n  [2]: http://maven.apache.org/plugins/maven-shade-plugin/","title":"How to prevent third-party JARs on the classpath from overriding my class dependencies?","body":"<p>You can use <a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar\">Uberjar</a>. What it does is move all your jars/classes to a <code>custom namespace</code> so that none of your classes clash because your dependencies have a different namespace.</p>\n\n<p>You might want to look at <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven-shade</a></p>\n"},{"comments":[{"owner":{"account_id":38721,"reputation":29584,"user_id":111327,"accept_rate":92,"display_name":"sourcenouveau"},"score":0,"creation_date":1374849156,"post_id":17884071,"comment_id":26116672,"body_markdown":"You could be correct but this seems like a lot of work? I am not familiar with OSGi at all.","body":"You could be correct but this seems like a lot of work? I am not familiar with OSGi at all."}],"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374849001,"creation_date":1374849001,"answer_id":17884071,"question_id":17883226,"body_markdown":"You could try to [embed an OSGi container][1] in your plugin.  This would allow you to run and load dependencies as OSGi bundles in isolation from the system classloader.\r\n\r\n[Instructions for Felix][2].\r\n\r\n\r\n  [1]: http://njbartlett.name/2011/03/07/embedding-osgi.html\r\n  [2]: http://felix.apache.org/site/apache-felix-framework-launching-and-embedding.html","title":"How to prevent third-party JARs on the classpath from overriding my class dependencies?","body":"<p>You could try to <a href=\"http://njbartlett.name/2011/03/07/embedding-osgi.html\" rel=\"nofollow\">embed an OSGi container</a> in your plugin.  This would allow you to run and load dependencies as OSGi bundles in isolation from the system classloader.</p>\n\n<p><a href=\"http://felix.apache.org/site/apache-felix-framework-launching-and-embedding.html\" rel=\"nofollow\">Instructions for Felix</a>.</p>\n"}],"owner":{"account_id":38721,"reputation":29584,"user_id":111327,"accept_rate":92,"display_name":"sourcenouveau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17883681,"answer_count":2,"score":0,"last_activity_date":1671741953,"creation_date":1374846891,"question_id":17883226,"body_markdown":"I am writing an application plugin in Java, and my plugin has dependencies on several third-party JARs. I am bundling these dependencies with my plugin so that I can deploy just a single JAR file.\r\n\r\nThe host application may also be running plugins from other vendors. Unfortunately the host application puts all the plugins on the classpath, and I am not able to change this behavior. If another vendor&#39;s plugin is loaded before mine and uses an incompatible version of a dependency, my plugin could crash.\r\n\r\nI am not able to test compatibility between my plugin and other plugins ahead of time. It is also not acceptable for me to say that there is an incompatibility between the plugins--if my plugin crashes, it reflects poorly on my company. The customer does not care why my plugin crashes, they will attribute it to poor programming on my end.\r\n\r\nI am looking for a way to prevent other vendors&#39; plugins from interfering with my own. Is it possible?\r\n\r\nI&#39;ve heard of [custom classloaders][1] but I&#39;m not sure if that solution will work for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6909306/jar-hell-how-to-use-a-classloader-to-replace-one-jar-library-version-with-anoth","title":"How to prevent third-party JARs on the classpath from overriding my class dependencies?","body":"<p>I am writing an application plugin in Java, and my plugin has dependencies on several third-party JARs. I am bundling these dependencies with my plugin so that I can deploy just a single JAR file.</p>\n\n<p>The host application may also be running plugins from other vendors. Unfortunately the host application puts all the plugins on the classpath, and I am not able to change this behavior. If another vendor's plugin is loaded before mine and uses an incompatible version of a dependency, my plugin could crash.</p>\n\n<p>I am not able to test compatibility between my plugin and other plugins ahead of time. It is also not acceptable for me to say that there is an incompatibility between the plugins--if my plugin crashes, it reflects poorly on my company. The customer does not care why my plugin crashes, they will attribute it to poor programming on my end.</p>\n\n<p>I am looking for a way to prevent other vendors' plugins from interfering with my own. Is it possible?</p>\n\n<p>I've heard of <a href=\"https://stackoverflow.com/questions/6909306/jar-hell-how-to-use-a-classloader-to-replace-one-jar-library-version-with-anoth\">custom classloaders</a> but I'm not sure if that solution will work for me.</p>\n"},{"tags":["javascript","java","recaptcha","grecaptcha","react-google-recaptcha"],"answers":[{"comments":[{"owner":{"account_id":27329387,"reputation":11,"user_id":20841775,"display_name":"Prince Sharma"},"score":0,"creation_date":1671870427,"post_id":74893506,"comment_id":132190337,"body_markdown":"How will the [g-recaptcha-response] look like in case when someone using a free version of google V2  spends his monthly limit? Will it be an empty string or not?  If it isn&#39;t an empty string, I will send this [g-recaptcha-response] for server-side validation  but the problem is then how will the json response looks in that case ? FOR EXAMPLE -  it looks like this in case of success or failure {\n  {\n  &quot;success&quot;: true|false,\n  &quot;challenge_ts&quot;: timestamp,  &quot;hostname&quot;: string,    \n  &quot;error-codes&quot;: [...]","body":"How will the [g-recaptcha-response] look like in case when someone using a free version of google V2  spends his monthly limit? Will it be an empty string or not?  If it isn&#39;t an empty string, I will send this [g-recaptcha-response] for server-side validation  but the problem is then how will the json response looks in that case ? FOR EXAMPLE -  it looks like this in case of success or failure {   {   &quot;success&quot;: true|false,   &quot;challenge_ts&quot;: timestamp,  &quot;hostname&quot;: string,       &quot;error-codes&quot;: [...]"},{"owner":{"account_id":27329387,"reputation":11,"user_id":20841775,"display_name":"Prince Sharma"},"score":0,"creation_date":1671875523,"post_id":74893506,"comment_id":132191011,"body_markdown":"We are using the free version of google captcha version 2. We are not using a billing account.                                                                                                                          \n  What do you mean by a call to execute? Do you mean the captcha widget will be visible? and what do you mean by creating an assessment does that mean the server-side validation will not work google will give 429 RESOURCE EXHAUSTED response","body":"We are using the free version of google captcha version 2. We are not using a billing account.                                                                                                                             What do you mean by a call to execute? Do you mean the captcha widget will be visible? and what do you mean by creating an assessment does that mean the server-side validation will not work google will give 429 RESOURCE EXHAUSTED response"}],"tags":[],"owner":{"account_id":2655697,"reputation":115001,"user_id":2296458,"accept_rate":90,"display_name":"Cory Kramer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671741171,"creation_date":1671740591,"answer_id":74893506,"question_id":74892104,"body_markdown":"You will not receive an error creating a token with a [call to execute](https://cloud.google.com/recaptcha-enterprise/docs/instrument-web-pages#user-action), instead you will receive an error when you [create an assessment](https://cloud.google.com/recaptcha-enterprise/docs/create-assessment) using that token after 1 million if you have not set up a billing account.\r\n\r\nhttps://cloud.google.com/recaptcha-enterprise/docs/billing-information\r\n\r\n&gt;**When to enable billing**\r\n&gt;\r\n&gt;- To enable and use reCAPTCHA Enterprise on Google Cloud, you do not need to enable billing for your Google Cloud project. However, you need to enable billing for your Google Cloud project in the following scenarios:\r\n&gt;\r\n&gt;- You want to exceed the free monthly usage limit of reCAPTCHA Enterprise, which is 1 million assessments per month. For more information about the free monthly usage limit, see Pricing.\r\n&gt;\r\n&gt;- You are about to exceed the free monthly usage limit of reCAPTCHA Enterprise and you want to continue using reCAPTCHA Enterprise to protect your website without breaking your production workload.  \r\n&gt;*Caution: If you do not enable billing for your Google Cloud project, reCAPTCHA Enterprise returns an error for any new request after you reach the free monthly usage limit of reCAPTCHA Enterprise.\r\nYou want to migrate site keys from the non-Enterprise version of reCAPTCHA to reCAPTCHA Enterprise.*\r\n&gt;\r\n&gt;- You want to use the password leak detection feature of reCAPTCHA Enterprise.\r\n&gt;\r\n&gt;To learn how to enable billing for your project, see Enable billing for a project.\r\n\r\nIf you make the call to assessment using the REST endpoint you will get a 429 RESOURCE EXHAUSTED response.","title":"What will be the g-captcha-response after 1 million usage of Google ReCaptchaV2 free ? Will it be an empty string or something else?","body":"<p>You will not receive an error creating a token with a <a href=\"https://cloud.google.com/recaptcha-enterprise/docs/instrument-web-pages#user-action\" rel=\"nofollow noreferrer\">call to execute</a>, instead you will receive an error when you <a href=\"https://cloud.google.com/recaptcha-enterprise/docs/create-assessment\" rel=\"nofollow noreferrer\">create an assessment</a> using that token after 1 million if you have not set up a billing account.</p>\n<p><a href=\"https://cloud.google.com/recaptcha-enterprise/docs/billing-information\" rel=\"nofollow noreferrer\">https://cloud.google.com/recaptcha-enterprise/docs/billing-information</a></p>\n<blockquote>\n<p><strong>When to enable billing</strong></p>\n<ul>\n<li><p>To enable and use reCAPTCHA Enterprise on Google Cloud, you do not need to enable billing for your Google Cloud project. However, you need to enable billing for your Google Cloud project in the following scenarios:</p>\n</li>\n<li><p>You want to exceed the free monthly usage limit of reCAPTCHA Enterprise, which is 1 million assessments per month. For more information about the free monthly usage limit, see Pricing.</p>\n</li>\n<li><p>You are about to exceed the free monthly usage limit of reCAPTCHA Enterprise and you want to continue using reCAPTCHA Enterprise to protect your website without breaking your production workload.<br />\n<em>Caution: If you do not enable billing for your Google Cloud project, reCAPTCHA Enterprise returns an error for any new request after you reach the free monthly usage limit of reCAPTCHA Enterprise.\nYou want to migrate site keys from the non-Enterprise version of reCAPTCHA to reCAPTCHA Enterprise.</em></p>\n</li>\n<li><p>You want to use the password leak detection feature of reCAPTCHA Enterprise.</p>\n</li>\n</ul>\n<p>To learn how to enable billing for your project, see Enable billing for a project.</p>\n</blockquote>\n<p>If you make the call to assessment using the REST endpoint you will get a 429 RESOURCE EXHAUSTED response.</p>\n"}],"owner":{"account_id":27329387,"reputation":11,"user_id":20841775,"display_name":"Prince Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671741171,"creation_date":1671731207,"question_id":74892104,"body_markdown":"I am working for a project where I have to integrate google **recaptcha v2** . I am afraid about what happens if the captcha monthly limit exceeds , How will the google response  looks like at that time ? How will I validate for such a scenario ? Basically after 1 million usage is over I have to allow login of the user Has anyone done this thing? \r\n \r\n\r\nI have written frontend validation basic code till now, if the length of google response is 0 or greater Since I don&#39;t know what will be the google response after 1 million quota I am not able to write any code to validate that?","title":"What will be the g-captcha-response after 1 million usage of Google ReCaptchaV2 free ? Will it be an empty string or something else?","body":"<p>I am working for a project where I have to integrate google <strong>recaptcha v2</strong> . I am afraid about what happens if the captcha monthly limit exceeds , How will the google response  looks like at that time ? How will I validate for such a scenario ? Basically after 1 million usage is over I have to allow login of the user Has anyone done this thing?</p>\n<p>I have written frontend validation basic code till now, if the length of google response is 0 or greater Since I don't know what will be the google response after 1 million quota I am not able to write any code to validate that?</p>\n"},{"tags":["java","jackson","jersey","jersey-2.0","jersey-1.0"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1672928167,"post_id":74858825,"comment_id":132386810,"body_markdown":"In 2.x, there is https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/server/ContainerRequest.html#getResponseWriter--.","body":"In 2.x, there is <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/server/ContainerRequest.html#getResponseWriter--\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/jersey.github.io/apidocs/latest/jerse&zwnj;&#8203;y/&hellip;</a>."}],"owner":{"account_id":10977142,"reputation":85,"user_id":8065503,"display_name":"oldMonk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671740910,"creation_date":1671514022,"question_id":74858825,"body_markdown":"I&#39;m getting error below error after migrating from Jersey 1.x to 2.x\r\n\r\n&gt;Cannot find the symbol method: getContainerResponseWritter   location: variable response of type ContainerResponse\r\n\r\nMy code is below:\r\n\r\n```java\r\npublic ContainerResponse filter(ContainerRequest request,\r\n                                ContainerResponse response) {\r\n    setId();     \r\n    response.setContainerResponseWriter(  \r\n            new Adapter(response.getContainerResponseWriter()));  \r\n    return response;   \r\n}\r\n```","title":"Migrating from jersey 1.x o 2.x: error on ContainerResponse","body":"<p>I'm getting error below error after migrating from Jersey 1.x to 2.x</p>\n<blockquote>\n<p>Cannot find the symbol method: getContainerResponseWritter   location: variable response of type ContainerResponse</p>\n</blockquote>\n<p>My code is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ContainerResponse filter(ContainerRequest request,\n                                ContainerResponse response) {\n    setId();     \n    response.setContainerResponseWriter(  \n            new Adapter(response.getContainerResponseWriter()));  \n    return response;   \n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","quarkus","vert.x"],"comments":[{"owner":{"account_id":2667145,"reputation":23,"user_id":2305320,"display_name":"jbkc85"},"score":0,"creation_date":1671744250,"post_id":74893503,"comment_id":132169308,"body_markdown":"update: It appears this does not happen until we go from Quarkus v2.10 -&gt; v2.11.  Perhaps a setting or configuration that we are missing?","body":"update: It appears this does not happen until we go from Quarkus v2.10 -&gt; v2.11.  Perhaps a setting or configuration that we are missing?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1671744921,"post_id":74893503,"comment_id":132169451,"body_markdown":"A NoClassDefFoundError with message &quot;Could not initialize class XYZ&quot; does not mean that class XYZ could not be found. It means that the JVM has already tried and failed to load that class before, so doesn&#39;t bother attempting to load it a second time. If you go back through the logs for your app, do you get a different exception (in particular an ExceptionInInitializerError)? Perhaps try restarting your app.","body":"A NoClassDefFoundError with message &quot;Could not initialize class XYZ&quot; does not mean that class XYZ could not be found. It means that the JVM has already tried and failed to load that class before, so doesn&#39;t bother attempting to load it a second time. If you go back through the logs for your app, do you get a different exception (in particular an ExceptionInInitializerError)? Perhaps try restarting your app."},{"owner":{"account_id":2667145,"reputation":23,"user_id":2305320,"display_name":"jbkc85"},"score":0,"creation_date":1671746264,"post_id":74893503,"comment_id":132169741,"body_markdown":"@LukeWoodward so here is the kicker.  We have tried all of that.  The project boots up fine (via java or the same docker image) locally, but when deployed to Kubernetes it has the NoClassDefFoundError - the same 2 each time.  No amount of restarts helps.  Why does this work locally and not deployed?  The configurations are also *the same* after a lot of comparisons/diffs.","body":"@LukeWoodward so here is the kicker.  We have tried all of that.  The project boots up fine (via java or the same docker image) locally, but when deployed to Kubernetes it has the NoClassDefFoundError - the same 2 each time.  No amount of restarts helps.  Why does this work locally and not deployed?  The configurations are also <i>the same</i> after a lot of comparisons/diffs."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1671777685,"post_id":74893503,"comment_id":132173877,"body_markdown":"@jbkc85 does this still happen with the latest version of Quarkus?","body":"@jbkc85 does this still happen with the latest version of Quarkus?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1671826360,"post_id":74893503,"comment_id":132185518,"body_markdown":"Sorry, no idea, I&#39;ve never really worked much with Kubernetes so I can&#39;t say quite what is going wrong here.","body":"Sorry, no idea, I&#39;ve never really worked much with Kubernetes so I can&#39;t say quite what is going wrong here."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1672757999,"post_id":74893503,"comment_id":132343626,"body_markdown":"It looks similar to this issue https://github.com/reactiverse/reactiverse-contextual-logging/issues/52\n\nCan you try to upgrade Vert.x to 4.3.4 in your project? It fixes the issue linked above","body":"It looks similar to this issue <a href=\"https://github.com/reactiverse/reactiverse-contextual-logging/issues/52\" rel=\"nofollow noreferrer\">github.com/reactiverse/reactiverse-contextual-logging/issues&zwnj;&#8203;/52</a>  Can you try to upgrade Vert.x to 4.3.4 in your project? It fixes the issue linked above"}],"owner":{"account_id":2667145,"reputation":23,"user_id":2305320,"display_name":"jbkc85"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671740544,"creation_date":1671740544,"question_id":74893503,"body_markdown":"Using the generic Dockerfile provided by Quarkus, we try to create a Docker instance of an app to then deploy in our Kubernetes environment:\r\n\r\n```\r\nFROM registry.access.redhat.com/ubi8/openjdk-11:1.14\r\n\r\nENV LANGUAGE=&#39;en_US:en&#39;\r\n\r\nCOPY --chown=185 ourApp/target/*-runner.jar /deployments/app.jar\r\n\r\nEXPOSE 8080\r\nUSER 185\r\nENV AB_JOLOKIA_OFF=&quot;&quot;\r\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\nENV JAVA_APP_JAR=&quot;/deployments/app.jar&quot;\r\n\r\nWORKDIR /deployments\r\n```\r\n\r\nAll of this works great locally - but once deployed to Kubernetes, we suddenly get a vertx.impl error:\r\n\r\n```\r\n$ kubectl logs -f po/app-11111111-ddddd -n appNamespace\r\nio.quarkus.opentelemetry.runtime.exporter.otlp.LateBoundBatchSpanProcessor logDelegateNotFound\r\nWARN: No BatchSpanProcessor delegate specified, no action taken.\r\nDec 22, 2022 8:05:03 PM io.quarkus.runtime.StartupContext runAllInReverseOrder\r\nERROR: Running a shutdown task failed\r\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.core.impl.VertxImpl\r\n\tat io.vertx.core.impl.ContextInternal.current(ContextInternal.java:46)\r\n\tat io.vertx.core.Vertx.currentContext(Vertx.java:117)\r\n\tat io.quarkus.vertx.runtime.VertxCurrentContextFactory$VertxCurrentContext.get(VertxCurrentContextFactory.java:30)\r\n\tat io.quarkus.arc.impl.RequestContext.destroy(RequestContext.java:177)\r\n\tat io.quarkus.arc.ManagedContext.terminate(ManagedContext.java:36)\r\n\tat io.quarkus.arc.impl.ArcContainerImpl.shutdown(ArcContainerImpl.java:382)\r\n\tat io.quarkus.arc.Arc.shutdown(Arc.java:58)\r\n\tat io.quarkus.arc.runtime.ArcRecorder$1.run(ArcRecorder.java:47)\r\n\tat io.quarkus.runtime.StartupContext.runAllInReverseOrder(StartupContext.java:84)\r\n\tat io.quarkus.runtime.StartupContext.close(StartupContext.java:73)\r\n\tat io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n\tat io.quarkus.runtime.Application.start(Application.java:101)\r\n\tat io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:110)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:43)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:123)\r\n\tat io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n\r\nDec 22, 2022 8:05:03 PM io.quarkus.runtime.ApplicationLifecycleManager run\r\nERROR: Failed to start application (with profile prod)\r\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.core.logging.LoggerFactory\r\n\tat io.vertx.core.impl.logging.LoggerFactory.getLogger(LoggerFactory.java:26)\r\n\tat io.vertx.core.impl.AddressResolver.&lt;clinit&gt;(AddressResolver.java:39)\r\n\tat io.vertx.core.dns.AddressResolverOptions.&lt;clinit&gt;(AddressResolverOptions.java:79)\r\n\tat io.vertx.core.VertxOptions.&lt;init&gt;(VertxOptions.java:131)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder.initialize(VertxCoreRecorder.java:201)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$VertxSupplier.get(VertxCoreRecorder.java:610)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$VertxSupplier.get(VertxCoreRecorder.java:592)\r\n\tat io.quarkus.opentelemetry.runtime.OpenTelemetryRecorder.storeVertxOnContextStorage(OpenTelemetryRecorder.java:47)\r\n\tat io.quarkus.deployment.steps.OpenTelemetryProcessor$storeVertxOnContextStorage1193902621.deploy_0(Unknown Source)\r\n\tat io.quarkus.deployment.steps.OpenTelemetryProcessor$storeVertxOnContextStorage1193902621.deploy(Unknown Source)\r\n\tat io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n\tat io.quarkus.runtime.Application.start(Application.java:101)\r\n\tat io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:110)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:43)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:123)\r\n\tat io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n```\r\n\r\nThis happens no matter what configurations I change - I can&#39;t seem to get past it.\r\n\r\nOnce again, this WORKS LOCALLY with the *SAME* Docker image.  Once deployed, it suddenly cant find the class definition.\r\n\r\nDoes anyone have any idea what is going on here?  Is this masking another error that I am not aware of?\r\n\r\nThanks!\r\n\r\n","title":"Quarkus Docker App Running Differently Locally vs Kubernetes","body":"<p>Using the generic Dockerfile provided by Quarkus, we try to create a Docker instance of an app to then deploy in our Kubernetes environment:</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-11:1.14\n\nENV LANGUAGE='en_US:en'\n\nCOPY --chown=185 ourApp/target/*-runner.jar /deployments/app.jar\n\nEXPOSE 8080\nUSER 185\nENV AB_JOLOKIA_OFF=&quot;&quot;\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nENV JAVA_APP_JAR=&quot;/deployments/app.jar&quot;\n\nWORKDIR /deployments\n</code></pre>\n<p>All of this works great locally - but once deployed to Kubernetes, we suddenly get a vertx.impl error:</p>\n<pre><code>$ kubectl logs -f po/app-11111111-ddddd -n appNamespace\nio.quarkus.opentelemetry.runtime.exporter.otlp.LateBoundBatchSpanProcessor logDelegateNotFound\nWARN: No BatchSpanProcessor delegate specified, no action taken.\nDec 22, 2022 8:05:03 PM io.quarkus.runtime.StartupContext runAllInReverseOrder\nERROR: Running a shutdown task failed\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.core.impl.VertxImpl\n    at io.vertx.core.impl.ContextInternal.current(ContextInternal.java:46)\n    at io.vertx.core.Vertx.currentContext(Vertx.java:117)\n    at io.quarkus.vertx.runtime.VertxCurrentContextFactory$VertxCurrentContext.get(VertxCurrentContextFactory.java:30)\n    at io.quarkus.arc.impl.RequestContext.destroy(RequestContext.java:177)\n    at io.quarkus.arc.ManagedContext.terminate(ManagedContext.java:36)\n    at io.quarkus.arc.impl.ArcContainerImpl.shutdown(ArcContainerImpl.java:382)\n    at io.quarkus.arc.Arc.shutdown(Arc.java:58)\n    at io.quarkus.arc.runtime.ArcRecorder$1.run(ArcRecorder.java:47)\n    at io.quarkus.runtime.StartupContext.runAllInReverseOrder(StartupContext.java:84)\n    at io.quarkus.runtime.StartupContext.close(StartupContext.java:73)\n    at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n    at io.quarkus.runtime.Application.start(Application.java:101)\n    at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:110)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:43)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:123)\n    at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n\nDec 22, 2022 8:05:03 PM io.quarkus.runtime.ApplicationLifecycleManager run\nERROR: Failed to start application (with profile prod)\njava.lang.NoClassDefFoundError: Could not initialize class io.vertx.core.logging.LoggerFactory\n    at io.vertx.core.impl.logging.LoggerFactory.getLogger(LoggerFactory.java:26)\n    at io.vertx.core.impl.AddressResolver.&lt;clinit&gt;(AddressResolver.java:39)\n    at io.vertx.core.dns.AddressResolverOptions.&lt;clinit&gt;(AddressResolverOptions.java:79)\n    at io.vertx.core.VertxOptions.&lt;init&gt;(VertxOptions.java:131)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder.initialize(VertxCoreRecorder.java:201)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$VertxSupplier.get(VertxCoreRecorder.java:610)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$VertxSupplier.get(VertxCoreRecorder.java:592)\n    at io.quarkus.opentelemetry.runtime.OpenTelemetryRecorder.storeVertxOnContextStorage(OpenTelemetryRecorder.java:47)\n    at io.quarkus.deployment.steps.OpenTelemetryProcessor$storeVertxOnContextStorage1193902621.deploy_0(Unknown Source)\n    at io.quarkus.deployment.steps.OpenTelemetryProcessor$storeVertxOnContextStorage1193902621.deploy(Unknown Source)\n    at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n    at io.quarkus.runtime.Application.start(Application.java:101)\n    at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:110)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:43)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:123)\n    at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n</code></pre>\n<p>This happens no matter what configurations I change - I can't seem to get past it.</p>\n<p>Once again, this WORKS LOCALLY with the <em>SAME</em> Docker image.  Once deployed, it suddenly cant find the class definition.</p>\n<p>Does anyone have any idea what is going on here?  Is this masking another error that I am not aware of?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":15806135,"reputation":574,"user_id":11404611,"display_name":"karthick S"},"score":0,"creation_date":1561089009,"post_id":56685785,"comment_id":99957919,"body_markdown":"please refer the following link **https://stackoverflow.com/questions/16089651/jackson-serialization-ignore-empty-values-or-nullhttps://stackoverflow.com/questions/16089651/jackson-serialization-ignore-empty-values-or-null**","body":"please refer the following link <b><a href=\"https://stackoverflow.com/questions/16089651/jackson-serialization-ignore-empty-values-or-nullhttps://stackoverflow.com/questions/16089651/jackson-serialization-ignore-empty-values-or-null\" title=\"jackson serialization ignore empty values or nullhttps%3a\">stackoverflow.com/questions/16089651/&hellip;</a></b>"},{"owner":{"account_id":1578509,"reputation":498,"user_id":1464404,"accept_rate":60,"display_name":"Bad_Pan"},"score":0,"creation_date":1580505878,"post_id":56685785,"comment_id":106133213,"body_markdown":"Did you find any solution? I&#39;m having the same problem. I also tried JsonInclude.NON_EMPTY,JsonInclude.NON_NULL but without any luck","body":"Did you find any solution? I&#39;m having the same problem. I also tried JsonInclude.NON_EMPTY,JsonInclude.NON_NULL but without any luck"},{"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"score":0,"creation_date":1632739099,"post_id":56685785,"comment_id":122565710,"body_markdown":"Any one got solution for this ??","body":"Any one got solution for this ??"}],"answers":[{"comments":[{"owner":{"account_id":16172041,"reputation":51,"user_id":11675636,"display_name":"orange00001"},"score":2,"creation_date":1561034078,"post_id":56685828,"comment_id":99937691,"body_markdown":"Thank you. I tried using this annotation with different combinations (class level, type level...) but it doesn&#39;t work","body":"Thank you. I tried using this annotation with different combinations (class level, type level...) but it doesn&#39;t work"}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561033072,"creation_date":1561033072,"answer_id":56685828,"question_id":56685785,"body_markdown":"Try to use [NON_EMPTY][1]\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY) \r\n\r\n&gt;Value that indicates that only properties with null value, or what is considered empty, are not to be included.\r\n\r\n[1]:https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_EMPTY","title":"Exclude empty objects, empty arrays and arrays of empty objects from json response","body":"<p>Try to use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_EMPTY\" rel=\"nofollow noreferrer\">NON_EMPTY</a></p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_EMPTY) \n</code></pre>\n\n<blockquote>\n  <p>Value that indicates that only properties with null value, or what is considered empty, are not to be included.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1937652,"reputation":99,"user_id":1744700,"display_name":"Yunus Emre INCE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671739667,"creation_date":1671739667,"answer_id":74893377,"question_id":56685785,"body_markdown":"`NON_EMPTY` can be used in `application.properties` to exclude empty objects (including null objects) in response.\r\n\r\n```\r\nspring.jackson.default-property-inclusion=NON_EMPTY\r\n```\r\n\r\n\r\nBy the way `NON_NULL` is also applicable to remove null objects only in response.","title":"Exclude empty objects, empty arrays and arrays of empty objects from json response","body":"<p><code>NON_EMPTY</code> can be used in <code>application.properties</code> to exclude empty objects (including null objects) in response.</p>\n<pre><code>spring.jackson.default-property-inclusion=NON_EMPTY\n</code></pre>\n<p>By the way <code>NON_NULL</code> is also applicable to remove null objects only in response.</p>\n"}],"owner":{"account_id":16172041,"reputation":51,"user_id":11675636,"display_name":"orange00001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3563,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1671739667,"creation_date":1561032907,"question_id":56685785,"body_markdown":"#Goal#\r\n\r\nHow can I exclude all empty json objects `{}`, arrays `[]` or arrays of empty objects `[{},{}]` from the JSON response produced by Jackson in a `RestController` ?\r\n\r\n#Requirements and context#\r\n\r\nI&#39;m building a Spring Boot REST API for a client. \r\nThe API sends requests to a database and must produce a JSON response.\r\n\r\n###Constraints:###\r\n\r\n- The DAO layer sends native SQL queries and receives huge DB results as a List&lt;Object[]&gt;. Developers have to manually map this result to Java objects using indexes (see code below)\r\n- SQL queries return a lot of null values (these queries can NOT be modified). Because of these null values, Java objects having only null-valued fields are frequently instantiated\r\n\r\n###Requirements:###\r\n\r\n- All fields having null value must be excluded from JSON responses. Already implemented using Jackson `@JsonInclude(JsonInclude.Include.NON_NULL)` annotation\r\n- All empty json objects `{}` or arrays `[]`, or arrays of empty objects `[{},{}]` must be excluded from the JSON response. This is where I&#39;m stuck (Please see example below)\r\n\r\n\r\n\r\n\r\n\r\n# Code #\r\n\r\nManual mapping in DAO layer:\r\n\r\n\r\n    public List&lt;A&gt; daoMethod() {\r\n        List&lt;Object[]&gt; dbResult = getDbResults();\r\n        List&lt;A&gt; javaObjects = new ArrayList&lt;&gt;();\r\n\r\n        // build nested Java objects\r\n        for (Object[] line in dbResult) {\r\n            A a = new A();\r\n            a.setProp1(line[0]);\r\n            a.setProp2(line[1]);\r\n            // and so on...\r\n            javaObjects.add(a);\r\n            return javaObjects ;\r\n        }\r\n    }\r\n\r\nController method:\r\n\r\n    public ResponseEntity&lt;A&gt; controllerMethod() {\r\n        List&lt;A&gt; javaObjects = myDao.daoMethod();\r\n\t\treturn new ResponseEntity(javaObjects, HttpStatus.OK);\r\n    }\r\n\r\nAll DTO classes which must be serialized in the JSON response extend the `BaseDto` class:\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL) // removes all fields having NULL value\r\n    public abstract class BaseDto implements Serializable{\r\n        // some properties...\r\n    }\r\n\r\n#Actual and expected results#\r\n\r\nCurrent JSON output:\r\n\r\n    {\r\n      prop1: &quot;some string&quot;,\r\n      prop2: [{},{},{}],\r\n      prop3: [],\r\n      prop4: {},\r\n    }\r\n\r\nExpected:\r\n\r\n    {\r\n      prop1: &quot;some string&quot;\r\n    }","title":"Exclude empty objects, empty arrays and arrays of empty objects from json response","body":"<h1>Goal</h1>\n\n<p>How can I exclude all empty json objects <code>{}</code>, arrays <code>[]</code> or arrays of empty objects <code>[{},{}]</code> from the JSON response produced by Jackson in a <code>RestController</code> ?</p>\n\n<h1>Requirements and context</h1>\n\n<p>I'm building a Spring Boot REST API for a client. \nThe API sends requests to a database and must produce a JSON response.</p>\n\n<h3>Constraints:</h3>\n\n<ul>\n<li>The DAO layer sends native SQL queries and receives huge DB results as a List. Developers have to manually map this result to Java objects using indexes (see code below)</li>\n<li>SQL queries return a lot of null values (these queries can NOT be modified). Because of these null values, Java objects having only null-valued fields are frequently instantiated</li>\n</ul>\n\n<h3>Requirements:</h3>\n\n<ul>\n<li>All fields having null value must be excluded from JSON responses. Already implemented using Jackson <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> annotation</li>\n<li>All empty json objects <code>{}</code> or arrays <code>[]</code>, or arrays of empty objects <code>[{},{}]</code> must be excluded from the JSON response. This is where I'm stuck (Please see example below)</li>\n</ul>\n\n<h1>Code</h1>\n\n<p>Manual mapping in DAO layer:</p>\n\n<pre><code>public List&lt;A&gt; daoMethod() {\n    List&lt;Object[]&gt; dbResult = getDbResults();\n    List&lt;A&gt; javaObjects = new ArrayList&lt;&gt;();\n\n    // build nested Java objects\n    for (Object[] line in dbResult) {\n        A a = new A();\n        a.setProp1(line[0]);\n        a.setProp2(line[1]);\n        // and so on...\n        javaObjects.add(a);\n        return javaObjects ;\n    }\n}\n</code></pre>\n\n<p>Controller method:</p>\n\n<pre><code>public ResponseEntity&lt;A&gt; controllerMethod() {\n    List&lt;A&gt; javaObjects = myDao.daoMethod();\n    return new ResponseEntity(javaObjects, HttpStatus.OK);\n}\n</code></pre>\n\n<p>All DTO classes which must be serialized in the JSON response extend the <code>BaseDto</code> class:</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL) // removes all fields having NULL value\npublic abstract class BaseDto implements Serializable{\n    // some properties...\n}\n</code></pre>\n\n<h1>Actual and expected results</h1>\n\n<p>Current JSON output:</p>\n\n<pre><code>{\n  prop1: \"some string\",\n  prop2: [{},{},{}],\n  prop3: [],\n  prop4: {},\n}\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>{\n  prop1: \"some string\"\n}\n</code></pre>\n"},{"tags":["java","api","binary"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1671738757,"post_id":74893217,"comment_id":132167894,"body_markdown":"If you want to send something as binary then don&#39;t convert it to a string","body":"If you want to send something as binary then don&#39;t convert it to a string"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671738779,"post_id":74893217,"comment_id":132167898,"body_markdown":"Don&#39;t use Data Input/Output streams","body":"Don&#39;t use Data Input/Output streams"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671752916,"post_id":74893217,"comment_id":132170890,"body_markdown":"Incidentally that&#39;s wrong on another count too: you can&#39;t use `Integer.toBinaryString` as its output is of variable length, so you wouldn&#39;t know how to decode it if you just appended its output over and over. Java has an HttpClient API, which you can use to do uploads","body":"Incidentally that&#39;s wrong on another count too: you can&#39;t use <code>Integer.toBinaryString</code> as its output is of variable length, so you wouldn&#39;t know how to decode it if you just appended its output over and over. Java has an HttpClient API, which you can use to do uploads"}],"owner":{"account_id":2063584,"reputation":137,"user_id":1839627,"display_name":"TulioVargas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671739111,"creation_date":1671738476,"question_id":74893217,"body_markdown":"I am trying to send a zip file as binary via HTTP request, When I do a call setting the Postman&#39;s tab as Binary then it works as I want to:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I try to send the same file as binary and use the option &quot;RAW&quot; then it does not work.I&#39;ve tried to convert the zip into a binary in Java with the below [code][2]:\r\n\r\n\t\ttry {\r\n            StringBuilder sb = new StringBuilder();\r\n            File file = new File(filePath);\r\n            DataInputStream input = new DataInputStream( new FileInputStream( file ) );\r\n            try {\r\n                while( true ) {\r\n                    sb.append( Integer.toBinaryString( input.readByte() ) );\r\n                    //10100001001011111001010000010000101111111111111111111111111111111100101101010101100100111111111111111111111111111001110101100111111111111111111111111110110011101000010000001000000111010011001011110011111010010111011101001111000111010010101110010011011011011101001001110101110000110000100010100001001011110111110101000001000010111111111111111111111111111111110010110101010110010011111111111111111111111111100111010110011111111111111111111111111011001110100001000000100001001000000000100000000000011101001100101111001111101001011101110100111100011101001010010000000000101100001011001101100100010111101111011011111111111111111111111111011001110110011011001000101111011110110111111111111111111111111110110011111111111111111111111111101110101111111111111111111111111011011111111111111111111111111111101110100110111101101111111111111111111111111101100111010000100101110111000001010101101000011000000000\r\n                }\r\n            } catch( EOFException eof ) {\r\n            } catch( IOException e ) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(sb.toString());\r\n        } catch( FileNotFoundException e2 ) {\r\n            e2.printStackTrace();\r\n        }\r\n\r\nThe message is being receiving with a different size and it is not the content I am expecting:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n**Can you tell me how I can send it as binary using the tab raw?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j9j6K.png\r\n  [2]: https://stackoverflow.com/questions/7119141/java-file-to-binary-conversion\r\n  [3]: https://i.stack.imgur.com/nK53k.png\r\n  [4]: https://i.stack.imgur.com/KFT2r.png","title":"Send a binary file as raw","body":"<p>I am trying to send a zip file as binary via HTTP request, When I do a call setting the Postman's tab as Binary then it works as I want to:</p>\n<p><a href=\"https://i.stack.imgur.com/j9j6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j9j6K.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I try to send the same file as binary and use the option &quot;RAW&quot; then it does not work.I've tried to convert the zip into a binary in Java with the below <a href=\"https://stackoverflow.com/questions/7119141/java-file-to-binary-conversion\">code</a>:</p>\n<pre><code>    try {\n        StringBuilder sb = new StringBuilder();\n        File file = new File(filePath);\n        DataInputStream input = new DataInputStream( new FileInputStream( file ) );\n        try {\n            while( true ) {\n                sb.append( Integer.toBinaryString( input.readByte() ) );\n                //10100001001011111001010000010000101111111111111111111111111111111100101101010101100100111111111111111111111111111001110101100111111111111111111111111110110011101000010000001000000111010011001011110011111010010111011101001111000111010010101110010011011011011101001001110101110000110000100010100001001011110111110101000001000010111111111111111111111111111111110010110101010110010011111111111111111111111111100111010110011111111111111111111111111011001110100001000000100001001000000000100000000000011101001100101111001111101001011101110100111100011101001010010000000000101100001011001101100100010111101111011011111111111111111111111111011001110110011011001000101111011110110111111111111111111111111110110011111111111111111111111111101110101111111111111111111111111011011111111111111111111111111111101110100110111101101111111111111111111111111101100111010000100101110111000001010101101000011000000000\n            }\n        } catch( EOFException eof ) {\n        } catch( IOException e ) {\n            e.printStackTrace();\n        }\n        System.out.println(sb.toString());\n    } catch( FileNotFoundException e2 ) {\n        e2.printStackTrace();\n    }\n</code></pre>\n<p>The message is being receiving with a different size and it is not the content I am expecting:</p>\n<p><a href=\"https://i.stack.imgur.com/nK53k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nK53k.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Can you tell me how I can send it as binary using the tab raw?</strong></p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1607698247,"post_id":65253189,"comment_id":115361617,"body_markdown":"form_template and formTemplate aren&#39;t the same, which one do you need?","body":"form_template and formTemplate aren&#39;t the same, which one do you need?"},{"owner":{"account_id":8826227,"reputation":7898,"user_id":6594394,"accept_rate":40,"display_name":"simibac"},"score":0,"creation_date":1607702198,"post_id":65253189,"comment_id":115363530,"body_markdown":"For my understanding `form_template` is on DB level while `formTemplate` is on Java level. If I use `@OrderBy(&quot;form_template.template_id&quot;)` I get the same error.","body":"For my understanding <code>form_template</code> is on DB level while <code>formTemplate</code> is on Java level. If I use <code>@OrderBy(&quot;form_template.template_id&quot;)</code> I get the same error."},{"owner":{"account_id":8826227,"reputation":7898,"user_id":6594394,"accept_rate":40,"display_name":"simibac"},"score":0,"creation_date":1607702380,"post_id":65253189,"comment_id":115363618,"body_markdown":"I get auto-complete with `formTemplate.templateId` in IntelliJ. Also, since it works with `formTemplate.id`, I guess I need `fromTemplate`.","body":"I get auto-complete with <code>formTemplate.templateId</code> in IntelliJ. Also, since it works with <code>formTemplate.id</code>, I guess I need <code>fromTemplate</code>."}],"answers":[{"comments":[{"owner":{"account_id":7134726,"reputation":3847,"user_id":5454794,"display_name":"beatrice"},"score":0,"creation_date":1660308813,"post_id":65253757,"comment_id":129508637,"body_markdown":"throws the same error for me","body":"throws the same error for me"}],"tags":[],"owner":{"account_id":5945706,"reputation":1374,"user_id":4675277,"accept_rate":78,"display_name":"Anand Vaidya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607699104,"creation_date":1607699104,"answer_id":65253757,"question_id":65253189,"body_markdown":"Although I am not sure about this solution, What I am suspecting is this issue happens because the `formTemplate.templateId` isnt part of your query indeed.\r\n\r\nI see you are using `@OneToMany` for defining the relationship, but in hibernate, the default FetchMode is `SELECT` which means your order by parameter isnt part of your query. To make this parameter part of your query, you will have to make a Join query.\r\n\r\nTry this out - \r\n\r\n    @Fetch(value = FetchMode.JOIN) \r\n    @OneToMany(mappedBy = &quot;formCollection&quot;)\r\n    @OrderBy(&quot;formTemplate.templateId&quot;) //throws error\r\n    private List&lt;FormDO&gt; forms = new ArrayList&lt;&gt;();\r\n\r\nAnd propogate this join to further levels. It might solve your problem.","title":"@OrderBy Hibernate: ERROR: missing FROM-clause entry for table","body":"<p>Although I am not sure about this solution, What I am suspecting is this issue happens because the <code>formTemplate.templateId</code> isnt part of your query indeed.</p>\n<p>I see you are using <code>@OneToMany</code> for defining the relationship, but in hibernate, the default FetchMode is <code>SELECT</code> which means your order by parameter isnt part of your query. To make this parameter part of your query, you will have to make a Join query.</p>\n<p>Try this out -</p>\n<pre><code>@Fetch(value = FetchMode.JOIN) \n@OneToMany(mappedBy = &quot;formCollection&quot;)\n@OrderBy(&quot;formTemplate.templateId&quot;) //throws error\nprivate List&lt;FormDO&gt; forms = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And propogate this join to further levels. It might solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":8348155,"reputation":812,"user_id":6271234,"accept_rate":71,"display_name":"Flyout91"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671738955,"creation_date":1671738955,"answer_id":74893284,"question_id":65253189,"body_markdown":"When you want to order by a collection of entities by a nested attribute, you can not use `@OrderBy`, because the nested attribute is not part of your query. You can only use `@OrderBy` for of first level attribute OR a nested attribute IF it is a collection of `@Embeddable`.\r\n\r\nSo for this case, you have to use `@SortNatural` or `@SortComparator`.\r\n\r\n- Similar issue : https://stackoverflow.com/questions/46496626/hibernate-how-to-sort-internal-query-lists-or-list-in-list\r\n- More about `@OrderBy` vs `@SortNatural`: https://stackoverflow.com/questions/54385480/sort-vs-orderby-performance-impact\r\n\r\n","title":"@OrderBy Hibernate: ERROR: missing FROM-clause entry for table","body":"<p>When you want to order by a collection of entities by a nested attribute, you can not use <code>@OrderBy</code>, because the nested attribute is not part of your query. You can only use <code>@OrderBy</code> for of first level attribute OR a nested attribute IF it is a collection of <code>@Embeddable</code>.</p>\n<p>So for this case, you have to use <code>@SortNatural</code> or <code>@SortComparator</code>.</p>\n<ul>\n<li>Similar issue : <a href=\"https://stackoverflow.com/questions/46496626/hibernate-how-to-sort-internal-query-lists-or-list-in-list\">Hibernate - How to sort internal query lists (or List in List)?</a></li>\n<li>More about <code>@OrderBy</code> vs <code>@SortNatural</code>: <a href=\"https://stackoverflow.com/questions/54385480/sort-vs-orderby-performance-impact\">Sort vs OrderBy - performance impact</a></li>\n</ul>\n"}],"owner":{"account_id":8826227,"reputation":7898,"user_id":6594394,"accept_rate":40,"display_name":"simibac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671738955,"creation_date":1607696918,"question_id":65253189,"body_markdown":"So I have three entities. A `FormCollection` contains multiple `Form`. The `Form` is created from a template and thus has also a many-to-one relation to `FormTemplate`.\r\n\r\n\r\n```java\r\n@Table(name = &quot;form_collection&quot;, schema = &quot;public&quot;)\r\npublic class FormCollectionDO extends BaseAuditableDO {\r\n    @OneToMany(mappedBy = &quot;formCollection&quot;)\r\n    @OrderBy(&quot;formTemplate.templateId&quot;) //throws error\r\n    private List&lt;FormDO&gt; forms = new ArrayList&lt;&gt;();\r\n}\r\n\r\n@Table(name = &quot;form&quot;, schema = &quot;public&quot;)\r\npublic class FormDO extends BaseAuditableDO {\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;form_template_id&quot;)\r\n    private FormTemplateDO formTemplate;\r\n}\r\n\r\n@Table(name = &quot;form_template&quot;, schema = &quot;public&quot;)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class FormTemplateDO extends BaseDO {\r\n\r\n    @Column(name = &quot;template_id&quot;, nullable = false)\r\n    @NotNull\r\n    private Long templateId;\r\n}\r\n\r\n```\r\n\r\n`@OrderBy(&quot;formTemplate.templateId&quot;)` throws an error:\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;formtemplate&quot;\r\n\r\n`@OrderBy(&quot;formTemplate.id&quot;)` works fine. The id comes from the abstract class `BaseDO`. Why does it not work with any of the fields from the `FormTemplateDO` class?\r\n","title":"@OrderBy Hibernate: ERROR: missing FROM-clause entry for table","body":"<p>So I have three entities. A <code>FormCollection</code> contains multiple <code>Form</code>. The <code>Form</code> is created from a template and thus has also a many-to-one relation to <code>FormTemplate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;form_collection&quot;, schema = &quot;public&quot;)\npublic class FormCollectionDO extends BaseAuditableDO {\n    @OneToMany(mappedBy = &quot;formCollection&quot;)\n    @OrderBy(&quot;formTemplate.templateId&quot;) //throws error\n    private List&lt;FormDO&gt; forms = new ArrayList&lt;&gt;();\n}\n\n@Table(name = &quot;form&quot;, schema = &quot;public&quot;)\npublic class FormDO extends BaseAuditableDO {\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;form_template_id&quot;)\n    private FormTemplateDO formTemplate;\n}\n\n@Table(name = &quot;form_template&quot;, schema = &quot;public&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class FormTemplateDO extends BaseDO {\n\n    @Column(name = &quot;template_id&quot;, nullable = false)\n    @NotNull\n    private Long templateId;\n}\n\n</code></pre>\n<p><code>@OrderBy(&quot;formTemplate.templateId&quot;)</code> throws an error:</p>\n<blockquote>\n<p>o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;formtemplate&quot;</p>\n</blockquote>\n<p><code>@OrderBy(&quot;formTemplate.id&quot;)</code> works fine. The id comes from the abstract class <code>BaseDO</code>. Why does it not work with any of the fields from the <code>FormTemplateDO</code> class?</p>\n"},{"tags":["java","android"],"owner":{"account_id":25408454,"reputation":11,"user_id":19216728,"display_name":"Julio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671738868,"creation_date":1671738868,"question_id":74893271,"body_markdown":"I have a problem, I am upload to firebase an image and the result is....\r\n\r\nExample:\r\nThis is the result that upload on firebase\r\n\r\n/storage/emulated/0/android.graphics.Bitmap@69ce6fb.png\r\n\r\nBut I&#39;m require an URL.\r\nEXAMPLE:\r\n\r\nhttps://firebasestorage.googleapis.com/v0/b/-89ac7.appspot.com/o/Tue%20Nov%2008%2018%3A03%3A.....\r\n\r\n\r\nCode example:\r\n\r\n    Bundle bundle = getIntent().getExtras();\r\n            if (bundle!=null){\r\n                int res_image= bundle.getInt(&quot;myImage&quot;);\r\n                Toast.makeText(this, &quot;foto&quot;+res_image, Toast.LENGTH_SHORT).show();\r\n            }\r\n            Bitmap bitmap = null;\r\n            try {\r\n                bitmap = BitmapFactory.decodeStream(EditPhotoActivity.this.openFileInput(&quot;myImage&quot;));\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            File file = new File(Environment.getExternalStorageDirectory()\r\n                    .toString() + &quot;/&quot; + bitmap + &quot;.png&quot;);\r\n            mImagenPerfil = file.getAbsolutePath();\r\n\r\n","title":"Android Studio Firebase upload imagen and path?","body":"<p>I have a problem, I am upload to firebase an image and the result is....</p>\n<p>Example:\nThis is the result that upload on firebase</p>\n<p>/storage/emulated/0/android.graphics.Bitmap@69ce6fb.png</p>\n<p>But I'm require an URL.\nEXAMPLE:</p>\n<p><a href=\"https://firebasestorage.googleapis.com/v0/b/-89ac7.appspot.com/o/Tue%20Nov%2008%2018%3A03%3A....\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/-89ac7.appspot.com/o/Tue%20Nov%2008%2018%3A03%3A....</a>.</p>\n<p>Code example:</p>\n<pre><code>Bundle bundle = getIntent().getExtras();\n        if (bundle!=null){\n            int res_image= bundle.getInt(&quot;myImage&quot;);\n            Toast.makeText(this, &quot;foto&quot;+res_image, Toast.LENGTH_SHORT).show();\n        }\n        Bitmap bitmap = null;\n        try {\n            bitmap = BitmapFactory.decodeStream(EditPhotoActivity.this.openFileInput(&quot;myImage&quot;));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        File file = new File(Environment.getExternalStorageDirectory()\n                .toString() + &quot;/&quot; + bitmap + &quot;.png&quot;);\n        mImagenPerfil = file.getAbsolutePath();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1671690843,"post_id":74882768,"comment_id":132153739,"body_markdown":"Either use double \\ or use / in the path.","body":"Either use double \\ or use / in the path."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671738853,"creation_date":1671738853,"answer_id":74893268,"question_id":74882768,"body_markdown":"After I revised the path, the issue disappeared.\r\n\r\nHere is the answer shown below.\r\n\r\n    uri: file:///C:/Users/MyUsername/IdeaProjects/microservices-demo/config-server-repository","title":"Spring Config cannot detect uri to fetch all values from yml file in Windows","body":"<p>After I revised the path, the issue disappeared.</p>\n<p>Here is the answer shown below.</p>\n<pre><code>uri: file:///C:/Users/MyUsername/IdeaProjects/microservices-demo/config-server-repository\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74893268,"answer_count":1,"score":0,"last_activity_date":1671738853,"creation_date":1671665470,"question_id":74882768,"body_markdown":"I have a problem about fetching all values from yml file located under config-server-repository folder in Windows as uri cannot be detected.\r\n\r\nI added yml file to git through all these commands following below.\r\n\r\n    1 ) git init\r\n    2 ) git add.\r\n    3 ) git commit -m &quot;Initial Commit&quot;\r\n\r\nHow can I fix that.\r\n\r\nHere is my bootstrap file shown below.\r\n\r\n    spring:\r\n      application:\r\n        name: configserver\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: file:C:\\Users\\MyUsername\\IdeaProjects\\microservices-demo\\config-server-repository\r\n              clone-on-start: true\r\n        fail-fast: true # cannot reach the config server to load the configuration and stop it.","title":"Spring Config cannot detect uri to fetch all values from yml file in Windows","body":"<p>I have a problem about fetching all values from yml file located under config-server-repository folder in Windows as uri cannot be detected.</p>\n<p>I added yml file to git through all these commands following below.</p>\n<pre><code>1 ) git init\n2 ) git add.\n3 ) git commit -m &quot;Initial Commit&quot;\n</code></pre>\n<p>How can I fix that.</p>\n<p>Here is my bootstrap file shown below.</p>\n<pre><code>spring:\n  application:\n    name: configserver\n  cloud:\n    config:\n      server:\n        git:\n          uri: file:C:\\Users\\MyUsername\\IdeaProjects\\microservices-demo\\config-server-repository\n          clone-on-start: true\n    fail-fast: true # cannot reach the config server to load the configuration and stop it.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"score":0,"creation_date":1671785359,"post_id":74892383,"comment_id":132175369,"body_markdown":"Syntax for thymeleaf path variable is correct asfar as i can see, first assumption would be that the users list is empty. First step in debugging would be to see if thats the case and if not try to print something you know to work at said location, like a list of user names to see if that works","body":"Syntax for thymeleaf path variable is correct asfar as i can see, first assumption would be that the users list is empty. First step in debugging would be to see if thats the case and if not try to print something you know to work at said location, like a list of user names to see if that works"}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671738667,"creation_date":1671732699,"question_id":74892383,"body_markdown":"I have this URL:\r\n\r\n    http://localhost:8080/api/wallet/userWallet/balance/1\r\n\r\nThat is actually this controller:\r\n\r\n    @GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\r\n    public String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\r\n        model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\r\n        return &quot;user_profile&quot;;\r\n    }\r\n\r\nThat controller list all wallets that user with `ID 1` in this example have.\r\n\r\nNow, I want to create a home page with a navigation, for example link that will says &quot;My wallets&quot; and after user click on it, user should be redirected to `/api/wallet/userWallet/balance/1`\r\n\r\nHow I can achieve this?\r\n\r\nI tried with something like this:\r\n\r\n    &lt;a th:each=&quot;user: ${users}&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{user_id} (user_id=${user.id})}&quot;&gt;My Wallets&lt;/a&gt;\r\n\r\nBut there is nothing on page, HTML is blank, no errors on stack track, no errors in console, on inspect element I cant even see that tag, just empty HTML page.\r\n\r\nI have a felling that I&#39;m missing something about getting user ID that is logged but cant find out what.\r\n\r\nUser entity:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotEmpty\r\n    @Size(min = 3, max = 20)\r\n    private String username;\r\n\r\n    @NotEmpty(message = &quot;Please, insert a first name&quot;)\r\n    private String firstName;\r\n\r\n    @NotEmpty(message = &quot;Please, insert a last name&quot;)\r\n    private String lastName;\r\n\r\n    @NotEmpty\r\n    @Size(max = 50)\r\n    @Email\r\n    private String email;\r\n\r\n    @NotEmpty\r\n    @Size(min = 6)\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;user_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\nWallet entity:\r\n\r\n      @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotEmpty(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    private double initialBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;","title":"How to create a link with user ID as path variable in thymeleaf","body":"<p>I have this URL:</p>\n<pre><code>http://localhost:8080/api/wallet/userWallet/balance/1\n</code></pre>\n<p>That is actually this controller:</p>\n<pre><code>@GetMapping(&quot;/userWallet/balance/{user_id}&quot;)\npublic String getUserWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id, Model model) {\n    model.addAttribute(&quot;wallet&quot;, walletService.findDistinctIdByUserId(user_id));\n    return &quot;user_profile&quot;;\n}\n</code></pre>\n<p>That controller list all wallets that user with <code>ID 1</code> in this example have.</p>\n<p>Now, I want to create a home page with a navigation, for example link that will says &quot;My wallets&quot; and after user click on it, user should be redirected to <code>/api/wallet/userWallet/balance/1</code></p>\n<p>How I can achieve this?</p>\n<p>I tried with something like this:</p>\n<pre><code>&lt;a th:each=&quot;user: ${users}&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{user_id} (user_id=${user.id})}&quot;&gt;My Wallets&lt;/a&gt;\n</code></pre>\n<p>But there is nothing on page, HTML is blank, no errors on stack track, no errors in console, on inspect element I cant even see that tag, just empty HTML page.</p>\n<p>I have a felling that I'm missing something about getting user ID that is logged but cant find out what.</p>\n<p>User entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotEmpty\n@Size(min = 3, max = 20)\nprivate String username;\n\n@NotEmpty(message = &quot;Please, insert a first name&quot;)\nprivate String firstName;\n\n@NotEmpty(message = &quot;Please, insert a last name&quot;)\nprivate String lastName;\n\n@NotEmpty\n@Size(max = 50)\n@Email\nprivate String email;\n\n@NotEmpty\n@Size(min = 6)\nprivate String password;\n\n@ManyToMany(fetch = FetchType.LAZY)\n@JoinTable(name = &quot;user_roles&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\nprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p>Wallet entity:</p>\n<pre><code>  @Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotEmpty(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\nprivate double initialBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n</code></pre>\n"},{"tags":["java","jooq","discord-jda"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1640957414,"post_id":70541828,"comment_id":124698628,"body_markdown":"I don&#39;t fully understand your question. If the ID is set your code immediately returns","body":"I don&#39;t fully understand your question. If the ID is set your code immediately returns"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1640962872,"post_id":70541828,"comment_id":124699990,"body_markdown":"if something isn&#39;t stored, then this is most likely due to some transaction rollback. Can you track this down in your code, and/or show the code that manages your transaction in this case?","body":"if something isn&#39;t stored, then this is most likely due to some transaction rollback. Can you track this down in your code, and/or show the code that manages your transaction in this case?"},{"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"score":0,"creation_date":1641078466,"post_id":70541828,"comment_id":124717326,"body_markdown":"I solved it. It was a problem caused by my database","body":"I solved it. It was a problem caused by my database"}],"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671738638,"creation_date":1640950023,"question_id":70541828,"body_markdown":"I have tried to find out what the problem but I have had not luck so far so I have decided to ask on here. \r\n\r\nSo my problem is that when I run the command /log_channel set add_channel: channelid\r\nit does not update the database and does not give any waring or error the code is \r\n\r\n```java\r\npublic static void setLogChannel(long guildId, long channelId) {\r\n        getContext().insertInto(LOG_CHANNEL)\r\n            .set(LOG_CHANNEL.GUILD_ID, guildId)\r\n            .set(LOG_CHANNEL.CHANNEL_ID, channelId)\r\n            .execute();\r\n    }\r\n\r\n    public static void deleteLogChannel(long guildId) {\r\n        getContext().deleteFrom(LOG_CHANNEL).where(LOG_CHANNEL.GUILD_ID.eq(guildId)).execute();\r\n    }\r\n\r\n    public static Long getLogChannelId(long guildId) {\r\n        return getContext().selectFrom(LOG_CHANNEL)\r\n            .where(LOG_CHANNEL.GUILD_ID.eq(guildId))\r\n            .fetchOne(LOG_CHANNEL.CHANNEL_ID);\r\n    }\r\n```\r\n\r\n```java\r\n  private void handleSetCommand(@NotNull YusufSlashCommandEvent yusufSlashCommandEvent) {\r\n        YusufGuild guild = yusufSlashCommandEvent.getGuild();\r\n        long channelId = yusufSlashCommandEvent.getOption(ADD_CHANNEL).getAsLong();\r\n\r\n        if (isChannelAlreadySet(guild.getIdLong(), yusufSlashCommandEvent)) {\r\n            return;\r\n        }\r\n\r\n        if (!ModerationHelper.userAndBotHaveTheRightPerms(yusufSlashCommandEvent.getMember(),\r\n                guild.getBot(), yusufSlashCommandEvent, guild, Permission.MANAGE_CHANNEL, SET)) {\r\n            return;\r\n        }\r\n\r\n        setLogChannel(guild.getIdLong(), channelId);\r\n\r\n        String textChannelName = Objects\r\n            .requireNonNull(\r\n                    yusufSlashCommandEvent.getGuild().getGuild().getTextChannelById(channelId))\r\n            .getAsMention();\r\n\r\n        yusufSlashCommandEvent.replyMessage(&quot;Log channel set to &quot; + textChannelName);\r\n\r\n        logger.info(&quot;Log channel set to {}&quot;, textChannelName);\r\n    }\r\n\r\n  private static boolean isChannelAlreadySet(long guildId, YusufSlashCommandEvent event) {\r\n        if (isLogChannelSet(guildId)) {\r\n            event\r\n                .reply(&quot;The log channel is already set. Please change it with &quot;\r\n                        + &quot;`/log_channel change &lt;channel&gt;`&quot;)\r\n                .setEphemeral(true)\r\n                .queue();\r\n            logger.info(&quot;Log channel is already set&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n```\r\n\r\nThis is talking the channel and getting its id but when the id is taken its not stored and I dont why.\r\n\r\n","title":"jooq fails to store the data in the given table","body":"<p>I have tried to find out what the problem but I have had not luck so far so I have decided to ask on here.</p>\n<p>So my problem is that when I run the command /log_channel set add_channel: channelid\nit does not update the database and does not give any waring or error the code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setLogChannel(long guildId, long channelId) {\n        getContext().insertInto(LOG_CHANNEL)\n            .set(LOG_CHANNEL.GUILD_ID, guildId)\n            .set(LOG_CHANNEL.CHANNEL_ID, channelId)\n            .execute();\n    }\n\n    public static void deleteLogChannel(long guildId) {\n        getContext().deleteFrom(LOG_CHANNEL).where(LOG_CHANNEL.GUILD_ID.eq(guildId)).execute();\n    }\n\n    public static Long getLogChannelId(long guildId) {\n        return getContext().selectFrom(LOG_CHANNEL)\n            .where(LOG_CHANNEL.GUILD_ID.eq(guildId))\n            .fetchOne(LOG_CHANNEL.CHANNEL_ID);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>  private void handleSetCommand(@NotNull YusufSlashCommandEvent yusufSlashCommandEvent) {\n        YusufGuild guild = yusufSlashCommandEvent.getGuild();\n        long channelId = yusufSlashCommandEvent.getOption(ADD_CHANNEL).getAsLong();\n\n        if (isChannelAlreadySet(guild.getIdLong(), yusufSlashCommandEvent)) {\n            return;\n        }\n\n        if (!ModerationHelper.userAndBotHaveTheRightPerms(yusufSlashCommandEvent.getMember(),\n                guild.getBot(), yusufSlashCommandEvent, guild, Permission.MANAGE_CHANNEL, SET)) {\n            return;\n        }\n\n        setLogChannel(guild.getIdLong(), channelId);\n\n        String textChannelName = Objects\n            .requireNonNull(\n                    yusufSlashCommandEvent.getGuild().getGuild().getTextChannelById(channelId))\n            .getAsMention();\n\n        yusufSlashCommandEvent.replyMessage(&quot;Log channel set to &quot; + textChannelName);\n\n        logger.info(&quot;Log channel set to {}&quot;, textChannelName);\n    }\n\n  private static boolean isChannelAlreadySet(long guildId, YusufSlashCommandEvent event) {\n        if (isLogChannelSet(guildId)) {\n            event\n                .reply(&quot;The log channel is already set. Please change it with &quot;\n                        + &quot;`/log_channel change &lt;channel&gt;`&quot;)\n                .setEphemeral(true)\n                .queue();\n            logger.info(&quot;Log channel is already set&quot;);\n            return false;\n        }\n        return true;\n    }\n\n</code></pre>\n<p>This is talking the channel and getting its id but when the id is taken its not stored and I dont why.</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1671658777,"post_id":74881835,"comment_id":132149003,"body_markdown":"Can you show the error? It is hard to tell from your description what you mean.","body":"Can you show the error? It is hard to tell from your description what you mean."},{"owner":{"account_id":23456543,"reputation":37,"user_id":17511941,"display_name":"Costin Teodor"},"score":0,"creation_date":1671661532,"post_id":74881835,"comment_id":132149631,"body_markdown":"@Minn I added some pictures, maybe this might help?","body":"@Minn I added some pictures, maybe this might help?"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1671661796,"post_id":74881835,"comment_id":132149687,"body_markdown":"Is your class extending ListenerAdapter, and which version of JDA are you using?","body":"Is your class extending ListenerAdapter, and which version of JDA are you using?"},{"owner":{"account_id":23456543,"reputation":37,"user_id":17511941,"display_name":"Costin Teodor"},"score":0,"creation_date":1671661924,"post_id":74881835,"comment_id":132149711,"body_markdown":"@Minn yes, it is. I have other methods that work just fine. Also, I am using the version 5.0.0-alpha.22","body":"@Minn yes, it is. I have other methods that work just fine. Also, I am using the version 5.0.0-alpha.22"}],"answers":[{"comments":[{"owner":{"account_id":23456543,"reputation":37,"user_id":17511941,"display_name":"Costin Teodor"},"score":0,"creation_date":1671666037,"post_id":74882448,"comment_id":132150398,"body_markdown":"This also doesn&#39;t work. It is the same error showing. I&#39;ll edit to add the picture as well –","body":"This also doesn&#39;t work. It is the same error showing. I&#39;ll edit to add the picture as well –"}],"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662405,"creation_date":1671662405,"answer_id":74882448,"question_id":74881835,"body_markdown":"You&#39;re looking for the [`GuildVoiceUpdateEvent`](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/events/guild/voice/GuildVoiceUpdateEvent.html) instead.\r\n\r\n```java\r\n@Override\r\npublic void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\r\n    AudioChannel oldChannel = event.getChannelLeft();\r\n    AudioChannel newChannel = event.getChannelJoined();\r\n    ...\r\n}\r\n```","title":"JDA override method is grayed out","body":"<p>You're looking for the <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/events/guild/voice/GuildVoiceUpdateEvent.html\" rel=\"nofollow noreferrer\"><code>GuildVoiceUpdateEvent</code></a> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\n    AudioChannel oldChannel = event.getChannelLeft();\n    AudioChannel newChannel = event.getChannelJoined();\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23456543,"reputation":37,"user_id":17511941,"display_name":"Costin Teodor"},"score":0,"creation_date":1671744464,"post_id":74893071,"comment_id":132169361,"body_markdown":"invalidating the cache worked. Thank you so much","body":"invalidating the cache worked. Thank you so much"},{"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"score":0,"creation_date":1671818989,"post_id":74893071,"comment_id":132184032,"body_markdown":"No problem and good luck with your project.","body":"No problem and good luck with your project."}],"tags":[],"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671738361,"creation_date":1671737386,"answer_id":74893071,"question_id":74881835,"body_markdown":"can you try \r\n\r\n```java\r\npublic class Test extends ListenerAdapter {\r\n    @Override\r\n    public void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\r\n        AudioChannel oldChannel = event.getChannelLeft();\r\n        AudioChannel newChannel = event.getChannelJoined();\r\n    }\r\n}\r\n```\r\n\r\nUsing JDA 5.0.0-beta.2. \r\n\r\nIf that does not work it might be an issue with your IDE so try to invalidate your cache.","title":"JDA override method is grayed out","body":"<p>can you try</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test extends ListenerAdapter {\n    @Override\n    public void onGuildVoiceUpdate(GuildVoiceUpdateEvent event) {\n        AudioChannel oldChannel = event.getChannelLeft();\n        AudioChannel newChannel = event.getChannelJoined();\n    }\n}\n</code></pre>\n<p>Using JDA 5.0.0-beta.2.</p>\n<p>If that does not work it might be an issue with your IDE so try to invalidate your cache.</p>\n"}],"owner":{"account_id":23456543,"reputation":37,"user_id":17511941,"display_name":"Costin Teodor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74893071,"answer_count":2,"score":1,"last_activity_date":1671738361,"creation_date":1671657294,"question_id":74881835,"body_markdown":"I am trying to create a bot that checks if a user attempts to enter a new voice channel, but when trying to override the onVoiceChannelUpdate method, it stays grayed out and gives me error that I don&#39;t have the parameters class.\r\n\r\nThis is the code I have for this method:\r\n\r\n```\r\n@Override\r\npublic void onVoiceChannelUpdate(VoiceChannelUpdateEvent event) {\r\n    User user = event.getUser();\r\n    VoiceChannel oldVoiceChannel = event.getOldVoiceChannel();\r\n    VoiceChannel newVoiceChannel = event.getNewVoiceChannel();\r\n    if (checkUserVoiceChannelRequest(user, oldVoiceChannel)) {\r\n        System.out.println(user.getName() + &quot; has left the voice channel &quot; + oldVoiceChannel.getName() + &quot; and entered &quot; + newVoiceChannel.getName() + &quot;.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried multiple ways of doing it, but all the methods have the exact same problem. I have some methods from before that check messages and all that and they work, but for any of the other methods that I use, the parameter class is not existent.\r\n\r\nErrors showing: \r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nTried with onGuildVoiceUpdate method also, but it has the same issue:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zfkSC.png\r\n  [2]: https://i.stack.imgur.com/0Qc12.png\r\n  [3]: https://i.stack.imgur.com/8V5ba.png","title":"JDA override method is grayed out","body":"<p>I am trying to create a bot that checks if a user attempts to enter a new voice channel, but when trying to override the onVoiceChannelUpdate method, it stays grayed out and gives me error that I don't have the parameters class.</p>\n<p>This is the code I have for this method:</p>\n<pre><code>@Override\npublic void onVoiceChannelUpdate(VoiceChannelUpdateEvent event) {\n    User user = event.getUser();\n    VoiceChannel oldVoiceChannel = event.getOldVoiceChannel();\n    VoiceChannel newVoiceChannel = event.getNewVoiceChannel();\n    if (checkUserVoiceChannelRequest(user, oldVoiceChannel)) {\n        System.out.println(user.getName() + &quot; has left the voice channel &quot; + oldVoiceChannel.getName() + &quot; and entered &quot; + newVoiceChannel.getName() + &quot;.&quot;);\n    }\n}\n</code></pre>\n<p>I tried multiple ways of doing it, but all the methods have the exact same problem. I have some methods from before that check messages and all that and they work, but for any of the other methods that I use, the parameter class is not existent.</p>\n<p>Errors showing:\n<a href=\"https://i.stack.imgur.com/zfkSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zfkSC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0Qc12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Qc12.png\" alt=\"enter image description here\" /></a></p>\n<p>Tried with onGuildVoiceUpdate method also, but it has the same issue:\n<a href=\"https://i.stack.imgur.com/8V5ba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8V5ba.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"comments":[{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1671735030,"post_id":74892530,"comment_id":132167002,"body_markdown":"apparently it&#39;s working, but why  if I comment &quot;mytext.setLayoutParams(params);&quot; , it is also setting the layout params? I mean, is &quot;mytext.setLayoutParams(params);&quot; needed? It is setting layout params just with: &quot;ConstraintLayout.LayoutParams params = (ConstraintLayout.LayoutParams) mytext.getLayoutParams();\nparams.setMargins(0,10,0,0);&quot;","body":"apparently it&#39;s working, but why  if I comment &quot;mytext.setLayoutParams(params);&quot; , it is also setting the layout params? I mean, is &quot;mytext.setLayoutParams(params);&quot; needed? It is setting layout params just with: &quot;ConstraintLayout.LayoutParams params = (ConstraintLayout.LayoutParams) mytext.getLayoutParams(); params.setMargins(0,10,0,0);&quot;"},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1671735115,"post_id":74892530,"comment_id":132167023,"body_markdown":"I suppose modifying the existing layout params is enough for the view to invalidate/redraw. You may want to keep using `setLayoutParams` anyway, just to ensure consistent behaviour. It may also be worth copying the existing  layout params instead of modifying the existing ones, by doing `final ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams((ConstraintLayout.LayoutParams) mytext.getLayoutParams());`","body":"I suppose modifying the existing layout params is enough for the view to invalidate/redraw. You may want to keep using <code>setLayoutParams</code> anyway, just to ensure consistent behaviour. It may also be worth copying the existing  layout params instead of modifying the existing ones, by doing <code>final ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams((ConstraintLayout.LayoutParams&zwnj;&#8203;) mytext.getLayoutParams());</code>"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1671737157,"post_id":74892530,"comment_id":132167522,"body_markdown":"Okay, could you please modify the answer with the better solution you have told me: copying the existing layout params instead of modifying the existing ones.","body":"Okay, could you please modify the answer with the better solution you have told me: copying the existing layout params instead of modifying the existing ones."},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1671737191,"post_id":74892530,"comment_id":132167530,"body_markdown":"I wouldn&#39;t necessarily say it is better, it&#39;s just an alternative","body":"I wouldn&#39;t necessarily say it is better, it&#39;s just an alternative"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1671737876,"post_id":74892530,"comment_id":132167693,"body_markdown":"Okay, so could you post the 2 possibilities in the answer, please?","body":"Okay, so could you post the 2 possibilities in the answer, please?"},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1671738344,"post_id":74892530,"comment_id":132167788,"body_markdown":"Sure, I&#39;ve included it in my answer","body":"Sure, I&#39;ve included it in my answer"},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1671816868,"post_id":74892530,"comment_id":132183522,"body_markdown":"Has this solved your issue @sacacorchos? Could you accept/upvote the answer if so, please?","body":"Has this solved your issue @sacacorchos? Could you accept/upvote the answer if so, please?"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1671822099,"post_id":74892530,"comment_id":132184711,"body_markdown":"Yes I have been making some tests with both options and I would like to hear one final opinion. Both options are working correctly, but which one would you use better than the other, first option (modifying layout params) or second option (copying layout params)?","body":"Yes I have been making some tests with both options and I would like to hear one final opinion. Both options are working correctly, but which one would you use better than the other, first option (modifying layout params) or second option (copying layout params)?"},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1671825156,"post_id":74892530,"comment_id":132185284,"body_markdown":"I don&#39;t think it&#39;s important - if I were to see either approach on a code review then I would be satisfied. Personally, I would copy the layout params because I favour immutable code over mutable, but either is fine.","body":"I don&#39;t think it&#39;s important - if I were to see either approach on a code review then I would be satisfied. Personally, I would copy the layout params because I favour immutable code over mutable, but either is fine."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1671896872,"post_id":74892530,"comment_id":132194332,"body_markdown":"thanks, I&#39;m accepting your answer :)","body":"thanks, I&#39;m accepting your answer :)"}],"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671738334,"creation_date":1671733533,"answer_id":74892530,"question_id":74892398,"body_markdown":"Try to modify the existing layout params instead of creating new ones. By creating new params, you are likely losing the other information you have defined in your XML, such as your constraints. I&#39;m going from memory, but I would try something like this:\r\n\r\n```\r\nConstraintLayout.LayoutParams params = (ConstraintLayout.LayoutParams) mytext.getLayoutParams();\r\nparams.setMargins(0,10,0,0);\r\nmytext.setLayoutParams(params);\r\n```\r\nYou may also be able to clone the existing layoutparams instead of modifying the existing ones:\r\n\r\n```\r\nfinal ConstraintLayout.LayoutParams current = \r\n  (ConstraintLayout.LayoutParams) mytext.getLayoutParams();\r\nfinal ConstraintLayout.LayoutParams params = \r\n  new ConstraintLayout.LayoutParams(current);\r\nparams.setMargins(0,10,0,0);\r\nmytext.setLayoutParams(params);\r\n```\r\n\r\n**Edit:**\r\nAlso, consder that `setMargins` accepts dimensions as pixels as an argument, not density-independent pixels. This means that if you just set an int value like `10`, then your layout will not scale well for different android devices. You can convert the value to DP [yourself](https://stackoverflow.com/questions/8295986/how-to-calculate-dp-from-pixels-in-android-programmatically), or define the value in `xml` and use [`Resources::getDimensionPixelOffest`](https://developer.android.com/reference/android/content/res/Resources#getDimensionPixelOffset(int)).","title":"LayoutParams is making my AppCompatTextView to disappear","body":"<p>Try to modify the existing layout params instead of creating new ones. By creating new params, you are likely losing the other information you have defined in your XML, such as your constraints. I'm going from memory, but I would try something like this:</p>\n<pre><code>ConstraintLayout.LayoutParams params = (ConstraintLayout.LayoutParams) mytext.getLayoutParams();\nparams.setMargins(0,10,0,0);\nmytext.setLayoutParams(params);\n</code></pre>\n<p>You may also be able to clone the existing layoutparams instead of modifying the existing ones:</p>\n<pre><code>final ConstraintLayout.LayoutParams current = \n  (ConstraintLayout.LayoutParams) mytext.getLayoutParams();\nfinal ConstraintLayout.LayoutParams params = \n  new ConstraintLayout.LayoutParams(current);\nparams.setMargins(0,10,0,0);\nmytext.setLayoutParams(params);\n</code></pre>\n<p><strong>Edit:</strong>\nAlso, consder that <code>setMargins</code> accepts dimensions as pixels as an argument, not density-independent pixels. This means that if you just set an int value like <code>10</code>, then your layout will not scale well for different android devices. You can convert the value to DP <a href=\"https://stackoverflow.com/questions/8295986/how-to-calculate-dp-from-pixels-in-android-programmatically\">yourself</a>, or define the value in <code>xml</code> and use <a href=\"https://developer.android.com/reference/android/content/res/Resources#getDimensionPixelOffset(int)\" rel=\"nofollow noreferrer\"><code>Resources::getDimensionPixelOffest</code></a>.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74892530,"answer_count":1,"score":0,"last_activity_date":1671738334,"creation_date":1671732795,"question_id":74892398,"body_markdown":"I have the following ContstraintLayout:\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            &gt;\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/my_text&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:text=&quot;@string/txt_string&quot;\r\n    \r\n                app:layout_constraintBottom_toBottomOf=&quot;@id/one&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/two&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/three&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/four&quot;\r\n                android:layout_marginTop=&quot;@dimen/margin_dim&quot;\r\n                /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\nI want to change the marginTop value in code:\r\n    \r\nThis is what I have done but the AppCompatTextView is disappearing:\r\n    \r\n            AppCompatTextView mytext;\r\n        \r\n        private void onCreate(@Nullable Bundle savedInstanceState) {\r\n        \r\n              super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.my_layout);\r\n        \r\n                mytext = findViewById(R.id.my_text);\r\n        \r\n    ConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.WRAP_CONTENT, ConstraintLayout.LayoutParams.WRAP_CONTENT);\r\n            params.setMargins(0,10,0,0);\r\n    mytext.setLayoutParams(params);\r\n    \r\n    \r\n    }\r\n\r\n","title":"LayoutParams is making my AppCompatTextView to disappear","body":"<p>I have the following ContstraintLayout:</p>\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        &gt;\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/my_text&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:text=&quot;@string/txt_string&quot;\n\n            app:layout_constraintBottom_toBottomOf=&quot;@id/one&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/two&quot;\n            app:layout_constraintStart_toEndOf=&quot;@id/three&quot;\n            app:layout_constraintTop_toTopOf=&quot;@id/four&quot;\n            android:layout_marginTop=&quot;@dimen/margin_dim&quot;\n            /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I want to change the marginTop value in code:</p>\n<p>This is what I have done but the AppCompatTextView is disappearing:</p>\n<pre><code>        AppCompatTextView mytext;\n    \n    private void onCreate(@Nullable Bundle savedInstanceState) {\n    \n          super.onCreate(savedInstanceState);\n            setContentView(R.layout.my_layout);\n    \n            mytext = findViewById(R.id.my_text);\n    \nConstraintLayout.LayoutParams params = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.WRAP_CONTENT, ConstraintLayout.LayoutParams.WRAP_CONTENT);\n        params.setMargins(0,10,0,0);\nmytext.setLayoutParams(params);\n\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","spock","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1671721653,"post_id":74890261,"comment_id":132162775,"body_markdown":"please add the complete source code for this test class. otherwise its hard to tell what might be wrong","body":"please add the complete source code for this test class. otherwise its hard to tell what might be wrong"},{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1671722795,"post_id":74890261,"comment_id":132163267,"body_markdown":"Try moving the stub (`mockConnector.getResponse(userId) &gt;&gt; responseData`) and other setup (`service.setTokenConnector(mockConnector)`) into the `given` block. Normally don&#39;t see the stub in the when block.","body":"Try moving the stub (<code>mockConnector.getResponse(userId) &gt;&gt; responseData</code>) and other setup (<code>service.setTokenConnector(mockConnector)</code>) into the <code>given</code> block. Normally don&#39;t see the stub in the when block."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671728525,"post_id":74890261,"comment_id":132165056,"body_markdown":"_&quot;`tokenInfos` is initialized previously as an array of object with some values&quot;_ - Initialised how? Which values? What is unexpectedly null during the test? Is this some kind of game show where you are hiding the very thing you are asking about to make it harder for the candidates to answer correctly? Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"<i>&quot;<code>tokenInfos</code> is initialized previously as an array of object with some values&quot;</i> - Initialised how? Which values? What is unexpectedly null during the test? Is this some kind of game show where you are hiding the very thing you are asking about to make it harder for the candidates to answer correctly? Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1671730804,"post_id":74890261,"comment_id":132165742,"body_markdown":"@ShingJo I already tried it before, but that didn&#39;t help","body":"@ShingJo I already tried it before, but that didn&#39;t help"},{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1671730954,"post_id":74890261,"comment_id":132165788,"body_markdown":"@kriegaex I added the initialization","body":"@kriegaex I added the initialization"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671779947,"post_id":74890261,"comment_id":132174257,"body_markdown":"@suvodipMondal, thanks for doing that. You did yourself the biggest favour by following my advice, because it enabled Leonard to answer your question, even though it was not really an [MCVE](https://stackoverflow.com/help/mcve) even after your edit. See, that is the beauty of this community: You are not dependent on a single person. Yesterday, I did not check in here anymore, and in the meantime another community member has stepped in and answered your question. &#128522;","body":"@suvodipMondal, thanks for doing that. You did yourself the biggest favour by following my advice, because it enabled Leonard to answer your question, even though it was not really an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> even after your edit. See, that is the beauty of this community: You are not dependent on a single person. Yesterday, I did not check in here anymore, and in the meantime another community member has stepped in and answered your question. 😊"}],"answers":[{"comments":[{"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"score":0,"creation_date":1671777601,"post_id":74893084,"comment_id":132173856,"body_markdown":"Got it, intializing in `setupSpec` method works","body":"Got it, intializing in <code>setupSpec</code> method works"}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671737490,"creation_date":1671737490,"answer_id":74893084,"question_id":74890261,"body_markdown":"I&#39;ll try to answer, but as @krigaex pointed out, without a [minimal, complete, and verifiable example][1] it is hard to be sure.\r\n\r\nThere are multiple things that are wrong or have no effect.\r\n\r\n1. `@AutoCleanup` will call the `close()` method on the field&#39;s object. Here, the field is an array, which doesn&#39;t have a `close()` method.\r\n2. You declare `tokenInfos` to be `@Shared`, but you only initialize it in the first `setup()` call, which will happen too late for the first entry in the `where` block. So, either initialze the field directly, or move the assignment to `setupSpec`.\r\n\r\n```\r\n    @Shared\r\n    Info[] tokenInfos = getMockInfoBody()\r\n    // OR\r\n    def setupSpec() {\r\n        tokenInfos = getMockInfoBody()\r\n    }\r\n\r\n```\r\n\r\nCurrently, you were method basically looks like this\r\n```\r\n\r\n        where:\r\n        responseData | expected\r\n        null         | 1        // tokenInfos is still null as setup() didn&#39;t run yet\r\n        null         | 0\r\n```\r\n\r\n  [1]: https://stackoverflow.com/help/mcve","title":"Java - Spock &quot;where&quot; block is not working","body":"<p>I'll try to answer, but as @krigaex pointed out, without a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> it is hard to be sure.</p>\n<p>There are multiple things that are wrong or have no effect.</p>\n<ol>\n<li><code>@AutoCleanup</code> will call the <code>close()</code> method on the field's object. Here, the field is an array, which doesn't have a <code>close()</code> method.</li>\n<li>You declare <code>tokenInfos</code> to be <code>@Shared</code>, but you only initialize it in the first <code>setup()</code> call, which will happen too late for the first entry in the <code>where</code> block. So, either initialze the field directly, or move the assignment to <code>setupSpec</code>.</li>\n</ol>\n<pre><code>    @Shared\n    Info[] tokenInfos = getMockInfoBody()\n    // OR\n    def setupSpec() {\n        tokenInfos = getMockInfoBody()\n    }\n\n</code></pre>\n<p>Currently, you were method basically looks like this</p>\n<pre><code>\n        where:\n        responseData | expected\n        null         | 1        // tokenInfos is still null as setup() didn't run yet\n        null         | 0\n</code></pre>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74893084,"answer_count":1,"score":1,"last_activity_date":1671737490,"creation_date":1671721057,"question_id":74890261,"body_markdown":"I am trying to write some test with where but it seems like the data mentioned in where block is not being passed, (I found the values to be null). \r\nHere is my unit test:\r\n```\r\n    def &quot;method response should contain count as expected&quot; () {\r\n        given:\r\n        SomeServiceImpl service = applicationContext.getBean(SomeServiceImpl.class)\r\n\r\n        when:\r\n        mockConnector.getResponse(userId) &gt;&gt; responseData\r\n        service.setTokenConnector(mockConnector)\r\n        ResponseData res = tokenService.getAllData(userId)\r\n        def count = ((ListResponseMeta)(res.getMeta())).getCount()\r\n\r\n        then:\r\n        count == expected\r\n\r\n        where:\r\n        responseData | expected\r\n        tokenInfos | 1\r\n        null | 0\r\n    }\r\n```\r\n\r\nThe `tokenInfos` is initialized previously as an array of object with some values. \r\n\r\n```\r\n    @Shared\r\n    @AutoCleanup\r\n    Info[] tokenInfos = null\r\n\r\n    def setup() {\r\n        tokenInfos = getMockInfoBody()\r\n        mockTokenConnector = Mock(SampleConnector.class)\r\n    }\r\n\r\n    private static Info[] getMockInfoBody() {\r\n        Info infoDeactivated = new Info(&quot;123&quot;, &quot;http://abc.xyz.com&quot;, &quot;D&quot;)\r\n        Info infoActive = new Info(&quot;234&quot;, &quot;http://abc.xyz.com&quot;, &quot;A&quot;)\r\n        Info infoSuspended = new Info(&quot;235&quot;, &quot;http://abc.xyz.com&quot;, &quot;S&quot;)\r\n\r\n        Info[] tokenInfos = new Info[3]\r\n        tokenInfos[0] = infoDeactivated\r\n        tokenInfos[1] = infoActive\r\n        tokenInfos[2] = infoSuspended\r\n\r\n        return tokenInfos\r\n    }\r\n```\r\n\r\nI tried moving responseData within `when` block previously `responseData` was being used in `given` block. Please help here.","title":"Java - Spock &quot;where&quot; block is not working","body":"<p>I am trying to write some test with where but it seems like the data mentioned in where block is not being passed, (I found the values to be null).\nHere is my unit test:</p>\n<pre><code>    def &quot;method response should contain count as expected&quot; () {\n        given:\n        SomeServiceImpl service = applicationContext.getBean(SomeServiceImpl.class)\n\n        when:\n        mockConnector.getResponse(userId) &gt;&gt; responseData\n        service.setTokenConnector(mockConnector)\n        ResponseData res = tokenService.getAllData(userId)\n        def count = ((ListResponseMeta)(res.getMeta())).getCount()\n\n        then:\n        count == expected\n\n        where:\n        responseData | expected\n        tokenInfos | 1\n        null | 0\n    }\n</code></pre>\n<p>The <code>tokenInfos</code> is initialized previously as an array of object with some values.</p>\n<pre><code>    @Shared\n    @AutoCleanup\n    Info[] tokenInfos = null\n\n    def setup() {\n        tokenInfos = getMockInfoBody()\n        mockTokenConnector = Mock(SampleConnector.class)\n    }\n\n    private static Info[] getMockInfoBody() {\n        Info infoDeactivated = new Info(&quot;123&quot;, &quot;http://abc.xyz.com&quot;, &quot;D&quot;)\n        Info infoActive = new Info(&quot;234&quot;, &quot;http://abc.xyz.com&quot;, &quot;A&quot;)\n        Info infoSuspended = new Info(&quot;235&quot;, &quot;http://abc.xyz.com&quot;, &quot;S&quot;)\n\n        Info[] tokenInfos = new Info[3]\n        tokenInfos[0] = infoDeactivated\n        tokenInfos[1] = infoActive\n        tokenInfos[2] = infoSuspended\n\n        return tokenInfos\n    }\n</code></pre>\n<p>I tried moving responseData within <code>when</code> block previously <code>responseData</code> was being used in <code>given</code> block. Please help here.</p>\n"},{"tags":["java","android-studio","kotlin","android-layout","android-alertdialog"],"comments":[{"owner":{"account_id":8746330,"reputation":420,"user_id":6541482,"display_name":"Mohamad Rostami"},"score":0,"creation_date":1671792707,"post_id":74892931,"comment_id":132177142,"body_markdown":"it&#39;s your default color bro, go find the color in colors.xml. check which one is purple. it might be the accent color.","body":"it&#39;s your default color bro, go find the color in colors.xml. check which one is purple. it might be the accent color."},{"owner":{"account_id":15668798,"reputation":396,"user_id":11305890,"display_name":"Klem Lloyd Mwenya"},"score":1,"creation_date":1671823513,"post_id":74892931,"comment_id":132184979,"body_markdown":"@Mohamad Okay bro let me check that!","body":"@Mohamad Okay bro let me check that!"}],"owner":{"account_id":15668798,"reputation":396,"user_id":11305890,"display_name":"Klem Lloyd Mwenya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671736344,"creation_date":1671736344,"question_id":74892931,"body_markdown":"I am quite new to MaterialAlertDialogBuilder in android and I getting a purple default color for actively selected TextIputEditText. I need to change the color of inputs when active to my own color, say maybe teal or green... and also the color for the action buttons on the dialog.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SlE62.jpg\r\n\r\n**Here below is some code:**\r\n```\r\npackage com.indupendo.landing.ui.dialogs;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.DialogFragment;\r\n\r\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder;\r\nimport com.indupendo.R;\r\nimport com.indupendo.databinding.DialogLoginBinding;\r\nimport com.indupendo.globals.utilities.Utils;\r\n\r\npublic class LoginDialog extends DialogFragment {\r\n\r\n    DialogLoginBinding binding;\r\n    View view;\r\n\r\n    public LoginDialog(View view) {\r\n        this.view = view;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        binding = DialogLoginBinding.inflate(getLayoutInflater());\r\n        MaterialAlertDialogBuilder dialogBuilder = new MaterialAlertDialogBuilder(requireActivity(),\r\n                R.style.MaterialAlertDialog_rounded);\r\n        dialogBuilder.setView(binding.getRoot());\r\n\r\n        dialogBuilder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; {\r\n            Utils.INSTANCE.showLoginCancellationSnackBar(view, getLayoutInflater());\r\n            dialog.cancel();\r\n        });\r\n\r\n        dialogBuilder.setPositiveButton(&quot;Login&quot;, (dialog, which) -&gt; Toast.makeText(\r\n                getActivity(),\r\n                &quot;Logged In&quot;,\r\n                Toast.LENGTH_LONG).show());\r\n\r\n        return dialogBuilder.create();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCancel(@NonNull DialogInterface dialog) {\r\n        super.onCancel(dialog);\r\n        Utils.INSTANCE.showLoginCancellationSnackBar(view, getLayoutInflater());\r\n        dialog.cancel();\r\n    }\r\n}\r\n```\r\n**Layout XML:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/root&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;16dp&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/tv_login_dialog_title&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/login_dialog_title&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/maroon&quot;\r\n        android:textSize=&quot;32sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_email_user_id&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        app:boxBackgroundColor=&quot;@android:color/transparent&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_baseline_email_24&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv_login_dialog_title&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/ti_et_email_user_id&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;bottom&quot;\r\n            android:hint=&quot;@string/field_hint_email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_password&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        app:boxBackgroundColor=&quot;@android:color/transparent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/til_email_user_id&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_baseline_lock_24&quot;\r\n        &gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/ti_et_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;bottom&quot;\r\n            android:hint=&quot;@string/field_hint_password&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n**And here is the Theme**\r\n```\r\n&lt;!--- Alert Dialog Theme --&gt;\r\n    &lt;style name=&quot;MaterialAlertDialog_rounded&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;@style/DialogCorners&lt;/item&gt;\r\n    &lt;/style&gt;\r\n","title":"How do I change color of selected TextInputEditText inside a Dialog and the positive and negative buttons text?","body":"<p>I am quite new to MaterialAlertDialogBuilder in android and I getting a purple default color for actively selected TextIputEditText. I need to change the color of inputs when active to my own color, say maybe teal or green... and also the color for the action buttons on the dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/SlE62.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlE62.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here below is some code:</strong></p>\n<pre><code>package com.indupendo.landing.ui.dialogs;\n\nimport android.app.Dialog;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.DialogFragment;\n\nimport com.google.android.material.dialog.MaterialAlertDialogBuilder;\nimport com.indupendo.R;\nimport com.indupendo.databinding.DialogLoginBinding;\nimport com.indupendo.globals.utilities.Utils;\n\npublic class LoginDialog extends DialogFragment {\n\n    DialogLoginBinding binding;\n    View view;\n\n    public LoginDialog(View view) {\n        this.view = view;\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        binding = DialogLoginBinding.inflate(getLayoutInflater());\n        MaterialAlertDialogBuilder dialogBuilder = new MaterialAlertDialogBuilder(requireActivity(),\n                R.style.MaterialAlertDialog_rounded);\n        dialogBuilder.setView(binding.getRoot());\n\n        dialogBuilder.setNegativeButton(&quot;Cancel&quot;, (dialog, which) -&gt; {\n            Utils.INSTANCE.showLoginCancellationSnackBar(view, getLayoutInflater());\n            dialog.cancel();\n        });\n\n        dialogBuilder.setPositiveButton(&quot;Login&quot;, (dialog, which) -&gt; Toast.makeText(\n                getActivity(),\n                &quot;Logged In&quot;,\n                Toast.LENGTH_LONG).show());\n\n        return dialogBuilder.create();\n    }\n\n\n    @Override\n    public void onCancel(@NonNull DialogInterface dialog) {\n        super.onCancel(dialog);\n        Utils.INSTANCE.showLoginCancellationSnackBar(view, getLayoutInflater());\n        dialog.cancel();\n    }\n}\n</code></pre>\n<p><strong>Layout XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;16dp&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/tv_login_dialog_title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/login_dialog_title&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/maroon&quot;\n        android:textSize=&quot;32sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_email_user_id&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:boxBackgroundColor=&quot;@android:color/transparent&quot;\n        app:startIconDrawable=&quot;@drawable/ic_baseline_email_24&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv_login_dialog_title&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/ti_et_email_user_id&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;bottom&quot;\n            android:hint=&quot;@string/field_hint_email&quot;\n            android:inputType=&quot;textEmailAddress&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:boxBackgroundColor=&quot;@android:color/transparent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/til_email_user_id&quot;\n        app:startIconDrawable=&quot;@drawable/ic_baseline_lock_24&quot;\n        &gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/ti_et_password&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;bottom&quot;\n            android:hint=&quot;@string/field_hint_password&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>And here is the Theme</strong></p>\n<pre><code>&lt;!--- Alert Dialog Theme --&gt;\n    &lt;style name=&quot;MaterialAlertDialog_rounded&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;@style/DialogCorners&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"tags":["java","eclipse","maven","jakarta-ee","ear"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1549031797,"post_id":54481497,"comment_id":95770223,"body_markdown":"Is this a maven project? It would be better to use a maven-ear-plugin instead of relying on the black magic of your IDE. https://maven.apache.org/plugins/maven-ear-plugin/","body":"Is this a maven project? It would be better to use a maven-ear-plugin instead of relying on the black magic of your IDE. <a href=\"https://maven.apache.org/plugins/maven-ear-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-ear-plugin</a>"},{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1549032273,"post_id":54481497,"comment_id":95770462,"body_markdown":"Much easer in maven look at this [answer](https://stackoverflow.com/questions/41720479/building-ear-from-a-single-maven-project/41721766#41721766)","body":"Much easer in maven look at this <a href=\"https://stackoverflow.com/questions/41720479/building-ear-from-a-single-maven-project/41721766#41721766\">answer</a>"},{"owner":{"account_id":1937938,"reputation":6524,"user_id":1744914,"accept_rate":66,"display_name":"Most Wanted"},"score":0,"creation_date":1549035142,"post_id":54481497,"comment_id":95771976,"body_markdown":"No, it&#39;s not a maven project (at least yet). That&#39;s why I want to how the underlying command being invoked.","body":"No, it&#39;s not a maven project (at least yet). That&#39;s why I want to how the underlying command being invoked."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1549058082,"post_id":54481497,"comment_id":95781883,"body_markdown":"You should change the packaging of your project into `ear` and define the version of the maven-ear-plugin in your pom and finally you will get an ear...But you have to have more modules cause usually an EE project contains at least one other part like an EJB or WAR or something else...","body":"You should change the packaging of your project into <code>ear</code> and define the version of the maven-ear-plugin in your pom and finally you will get an ear...But you have to have more modules cause usually an EE project contains at least one other part like an EJB or WAR or something else..."}],"owner":{"account_id":1937938,"reputation":6524,"user_id":1744914,"accept_rate":66,"display_name":"Most Wanted"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671736288,"creation_date":1549031235,"question_id":54481497,"body_markdown":"I&#39;m using gui (Eclipse IDE) to create EAR file for my project.\r\n[![export wizard][1]][1]\r\n\r\nHow to launch eclipse in verbose mode or how to inspect which command was executed under the hood during generation?\r\nI mean in the future I would like to build from the command line without opening an IDE. How can I do that? Also is there some Maven equivalent of doing that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/peNps.png","title":"Exporting EAR file with Eclipse manually","body":"<p>I'm using gui (Eclipse IDE) to create EAR file for my project.\n<a href=\"https://i.stack.imgur.com/peNps.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peNps.png\" alt=\"export wizard\" /></a></p>\n<p>How to launch eclipse in verbose mode or how to inspect which command was executed under the hood during generation?\nI mean in the future I would like to build from the command line without opening an IDE. How can I do that? Also is there some Maven equivalent of doing that?</p>\n"},{"tags":["java","spring","hibernate","lombok"],"comments":[{"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"score":0,"creation_date":1499404620,"post_id":44948858,"comment_id":76901017,"body_markdown":"I am trying to evaluate https://github.com/rzwitserloot/lombok/pull/1337/commits currently.","body":"I am trying to evaluate <a href=\"https://github.com/rzwitserloot/lombok/pull/1337/commits\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/pull/1337/commits</a> currently."}],"answers":[{"comments":[{"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"score":5,"creation_date":1499399406,"post_id":44949692,"comment_id":76899597,"body_markdown":"Good point I did try that ... But I can not provide more than 7 params to any function which is a code convention in my team and build fails if I provide more than 7 params. My original code has more than 30 fields in super / parent class","body":"Good point I did try that ... But I can not provide more than 7 params to any function which is a code convention in my team and build fails if I provide more than 7 params. My original code has more than 30 fields in super / parent class"},{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":4,"creation_date":1499414739,"post_id":44949692,"comment_id":76906089,"body_markdown":"I don&#39;t know if it can be done without listing all the parent + child fields in the child constructor/@Builder, at least I did not find any such examples. As a workaround, you might consider to suppress this code convention for this particular class (at least I suppose it comes from some static code analyzer tool, like PMD, Findbugs, Sonar and such as can be suppressed)","body":"I don&#39;t know if it can be done without listing all the parent + child fields in the child constructor/@Builder, at least I did not find any such examples. As a workaround, you might consider to suppress this code convention for this particular class (at least I suppose it comes from some static code analyzer tool, like PMD, Findbugs, Sonar and such as can be suppressed)"},{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":4,"creation_date":1544279065,"post_id":44949692,"comment_id":94223704,"body_markdown":"Won&#39;t work if parent class also has @Builder annotation","body":"Won&#39;t work if parent class also has @Builder annotation"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1564049465,"post_id":44949692,"comment_id":100906989,"body_markdown":"@ShrikantPrabhu in that case, where I am now, I just abort the inheritance and copy the fields; it is lucky that there are just several field in common.","body":"@ShrikantPrabhu in that case, where I am now, I just abort the inheritance and copy the fields; it is lucky that there are just several field in common."},{"owner":{"account_id":6963994,"reputation":148,"user_id":5450721,"display_name":"user59290"},"score":1,"creation_date":1589268877,"post_id":44949692,"comment_id":109217984,"body_markdown":"This solution also works great when you are extending from parent class that cant be modified!!!!! Thank you","body":"This solution also works great when you are extending from parent class that cant be modified!!!!! Thank you"}],"tags":[],"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"comment_count":5,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1499346093,"creation_date":1499346093,"answer_id":44949692,"question_id":44948858,"body_markdown":"See in https://blog.codecentric.de/en/2016/05/reducing-boilerplate-code-project-lombok/ (_@Builder and inheritance_ part)\r\n\r\nAdjusted to your classes\r\n\r\n    @AllArgsConstructor\r\n    public class Parent {\r\n      private double d;\r\n      private float e;\r\n    }\r\n\r\n    public class Child extends Parent {\r\n      private String a;\r\n      private int b;\r\n      private boolean c;\r\n\r\n      @Builder\r\n      public Child(String a, int b, boolean c, double d, float e) {\r\n        super(d, e);\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n      }\r\n    }\r\n\r\nWith this setup\r\n\r\n    Child child = Child.builder().a(&quot;aVal&quot;).b(1000).c(true).d(10.1).e(20.0F).build();\r\n\r\nworks correctly","title":"Lombok @builder on a class that extends another class","body":"<p>See in <a href=\"https://blog.codecentric.de/en/2016/05/reducing-boilerplate-code-project-lombok/\" rel=\"noreferrer\">https://blog.codecentric.de/en/2016/05/reducing-boilerplate-code-project-lombok/</a> (<em>@Builder and inheritance</em> part)</p>\n\n<p>Adjusted to your classes</p>\n\n<pre><code>@AllArgsConstructor\npublic class Parent {\n  private double d;\n  private float e;\n}\n\npublic class Child extends Parent {\n  private String a;\n  private int b;\n  private boolean c;\n\n  @Builder\n  public Child(String a, int b, boolean c, double d, float e) {\n    super(d, e);\n    this.a = a;\n    this.b = b;\n    this.c = c;\n  }\n}\n</code></pre>\n\n<p>With this setup</p>\n\n<pre><code>Child child = Child.builder().a(\"aVal\").b(1000).c(true).d(10.1).e(20.0F).build();\n</code></pre>\n\n<p>works correctly</p>\n"},{"tags":[],"owner":{"account_id":4171143,"reputation":99,"user_id":3418882,"display_name":"rsenden"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1512144039,"creation_date":1512144039,"answer_id":47597065,"question_id":44948858,"body_markdown":"I have a similar but slightly different use case. In my case, I have a chain of abstract super classes that build and execute requests. Different requests share some common parameters, but not every request supports all parameters. The builders for concrete requests should only provide methods for setting supported parameters for a given request. \r\n\r\nI started out with the constructor-based builder implementations, but this resulted in too much boilerplate code, especially if you have many fields to be configured. I have now come up with the following solutions, which looks much cleaner to me.\r\n\r\nBasically the concrete subclasses define the actual fields that the Builder should support, and the Getter annotation results in the corresponding superclass methods to be overridden. The getters in the abstract superclasses can even be defined as abstract to require concrete implementations to define those fields.\r\n\r\n    public abstract class AbstractSuperClass1 {\r\n\t    protected String getParamA() { return &quot;defaultValueA&quot;; }\r\n\r\n\t    public final void doSomething() {\r\n\t\t    System.out.println(getParamA());\r\n\t\t    doSomeThingElse();\r\n\t    }\r\n\r\n\t    protected abstract void doSomeThingElse();\r\n    }\r\n\r\n----\r\n\r\n    public abstract class AbstractSuperClass2 extends AbstractSuperClass1 {\r\n\t    protected String getParamB() { return &quot;defaultValueB&quot;; }\r\n\r\n\t    protected void doSomeThingElse() {\r\n\t\t    System.out.println(getParamB());\r\n\t    }\r\n    }\r\n\r\n----\r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n\r\n    @Getter(AccessLevel.PROTECTED) @Builder\r\n    public class ConcreteClass1 extends AbstractSuperClass2 {\r\n\t    private final String paramA;\r\n\t    // Not supported by this implementation: private final String paramB;\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    ConcreteClass1.builder()\r\n               .paramA(&quot;NonDefaultValueA&quot;)\r\n               .build().doSomething();\r\n\t    }\r\n    }\r\n\r\n----\r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n\r\n    @Getter(AccessLevel.PROTECTED) @Builder\r\n    public class ConcreteClass2 extends AbstractSuperClass2 {\r\n\t    private final String paramA;\r\n\t    private final String paramB;\r\n\t\r\n\t    public static void main(String[] args) {\r\n        \tConcreteClass2.builder()\r\n                .paramA(&quot;NonDefaultValueA&quot;).paramB(&quot;NonDefaultValueB&quot;)\r\n                .build().doSomething();\r\n        }\r\n    }\r\n","title":"Lombok @builder on a class that extends another class","body":"<p>I have a similar but slightly different use case. In my case, I have a chain of abstract super classes that build and execute requests. Different requests share some common parameters, but not every request supports all parameters. The builders for concrete requests should only provide methods for setting supported parameters for a given request. </p>\n\n<p>I started out with the constructor-based builder implementations, but this resulted in too much boilerplate code, especially if you have many fields to be configured. I have now come up with the following solutions, which looks much cleaner to me.</p>\n\n<p>Basically the concrete subclasses define the actual fields that the Builder should support, and the Getter annotation results in the corresponding superclass methods to be overridden. The getters in the abstract superclasses can even be defined as abstract to require concrete implementations to define those fields.</p>\n\n<pre><code>public abstract class AbstractSuperClass1 {\n    protected String getParamA() { return \"defaultValueA\"; }\n\n    public final void doSomething() {\n        System.out.println(getParamA());\n        doSomeThingElse();\n    }\n\n    protected abstract void doSomeThingElse();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public abstract class AbstractSuperClass2 extends AbstractSuperClass1 {\n    protected String getParamB() { return \"defaultValueB\"; }\n\n    protected void doSomeThingElse() {\n        System.out.println(getParamB());\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import lombok.AccessLevel;\nimport lombok.Builder;\nimport lombok.Getter;\n\n@Getter(AccessLevel.PROTECTED) @Builder\npublic class ConcreteClass1 extends AbstractSuperClass2 {\n    private final String paramA;\n    // Not supported by this implementation: private final String paramB;\n\n    public static void main(String[] args) {\n        ConcreteClass1.builder()\n           .paramA(\"NonDefaultValueA\")\n           .build().doSomething();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import lombok.AccessLevel;\nimport lombok.Builder;\nimport lombok.Getter;\n\n@Getter(AccessLevel.PROTECTED) @Builder\npublic class ConcreteClass2 extends AbstractSuperClass2 {\n    private final String paramA;\n    private final String paramB;\n\n    public static void main(String[] args) {\n        ConcreteClass2.builder()\n            .paramA(\"NonDefaultValueA\").paramB(\"NonDefaultValueB\")\n            .build().doSomething();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2494093,"reputation":796,"user_id":2170968,"accept_rate":71,"display_name":"Raipe"},"score":29,"creation_date":1540536612,"post_id":51767718,"comment_id":92909897,"body_markdown":"Just a word of warning though: not supported on IntelliJ Lombok plugin yet.","body":"Just a word of warning though: not supported on IntelliJ Lombok plugin yet."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":4,"creation_date":1570572483,"post_id":51767718,"comment_id":102953097,"body_markdown":"The current release 0.27 of the IntelliJ Lombok plugin now supports `@SuperBuilder`.","body":"The current release 0.27 of the IntelliJ Lombok plugin now supports <code>@SuperBuilder</code>."},{"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"score":1,"creation_date":1614899615,"post_id":51767718,"comment_id":117534101,"body_markdown":"Does not work on extending super classes with Generic Types unless you upgrade to 1.18.16\n\nhttps://github.com/rzwitserloot/lombok/issues/2359","body":"Does not work on extending super classes with Generic Types unless you upgrade to 1.18.16  <a href=\"https://github.com/rzwitserloot/lombok/issues/2359\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/2359</a>"},{"owner":{"account_id":193230,"reputation":1874,"user_id":1581075,"display_name":"vahid kh"},"score":1,"creation_date":1664437142,"post_id":51767718,"comment_id":130472577,"body_markdown":"There is still two limitations. First you can&#39;t use `@Builder` with `@SuperBuilder` in a hierarchy, And next, all of ancestor classes must use `@SuperBuilder`, so you can&#39;t extend from a third-party class which didn&#39;t use this annotation. @jan-rieke","body":"There is still two limitations. First you can&#39;t use <code>@Builder</code> with <code>@SuperBuilder</code> in a hierarchy, And next, all of ancestor classes must use <code>@SuperBuilder</code>, so you can&#39;t extend from a third-party class which didn&#39;t use this annotation. @jan-rieke"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1664457339,"post_id":51767718,"comment_id":130479790,"body_markdown":"Yes. Those limitations are also mentioned in the documentation. For a workaround for the 3rd-party-extension issue see https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar/61763012#61763012","body":"Yes. Those limitations are also mentioned in the documentation. For a workaround for the 3rd-party-extension issue see <a href=\"https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar/61763012#61763012\" title=\"using lomboks superbuilder concept on a class extended from a 3rd party librar\">stackoverflow.com/questions/61708752/&hellip;</a>"}],"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":5,"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1570728662,"creation_date":1533819496,"answer_id":51767718,"question_id":44948858,"body_markdown":"Since release 1.18.2 lombok includes [the new experimental `@SuperBuilder`][1]. It supports fields from superclasses (also abstract ones). With it, the solution is as simple as this:\r\n\r\n    @SuperBuilder\r\n    public class Child extends Parent {\r\n       private String a;\r\n       private int b;\r\n       private boolean c;\r\n    }\r\n\r\n    @SuperBuilder\r\n    public class Parent {\r\n        private double d;\r\n        private float e;\r\n    }\r\n\r\n    Child instance = Child.builder().b(7).e(6.3).build();\r\n\r\n*Update 2019-10-09:* If you use IntelliJ, you need at least version 0.27 of the IntelliJ Lombok plugin to use `@SuperBuilder`.\r\n\r\nPS: `@AllArgsConstructor(onConstructor=@__(@Builder))` does not work because `@Builder` is an annotation-processing annotation that lombok translates to code during compilation. Generating and then translating new lombok annotation would require several iterations of annotation processing, and lombok does not support that. `@Autowired`, in contrast, is a regular Java annotation available at runtime.\r\n\r\n  [1]: https://projectlombok.org/features/experimental/SuperBuilder","title":"Lombok @builder on a class that extends another class","body":"<p>Since release 1.18.2 lombok includes <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"noreferrer\">the new experimental <code>@SuperBuilder</code></a>. It supports fields from superclasses (also abstract ones). With it, the solution is as simple as this:</p>\n\n<pre><code>@SuperBuilder\npublic class Child extends Parent {\n   private String a;\n   private int b;\n   private boolean c;\n}\n\n@SuperBuilder\npublic class Parent {\n    private double d;\n    private float e;\n}\n\nChild instance = Child.builder().b(7).e(6.3).build();\n</code></pre>\n\n<p><em>Update 2019-10-09:</em> If you use IntelliJ, you need at least version 0.27 of the IntelliJ Lombok plugin to use <code>@SuperBuilder</code>.</p>\n\n<p>PS: <code>@AllArgsConstructor(onConstructor=@__(@Builder))</code> does not work because <code>@Builder</code> is an annotation-processing annotation that lombok translates to code during compilation. Generating and then translating new lombok annotation would require several iterations of annotation processing, and lombok does not support that. <code>@Autowired</code>, in contrast, is a regular Java annotation available at runtime.</p>\n"},{"comments":[{"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"score":0,"creation_date":1609164302,"post_id":65478830,"comment_id":115763787,"body_markdown":"Thanks, I will check","body":"Thanks, I will check"},{"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"score":0,"creation_date":1646049802,"post_id":65478830,"comment_id":126020864,"body_markdown":"it was be checked. thanks","body":"it was be checked. thanks"}],"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609164239,"creation_date":1609164239,"answer_id":65478830,"question_id":44948858,"body_markdown":"You need to use `@SuperBuilder(toBuilder = true)` in every object.\r\n\r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Parent extends Child {\r\n    }\r\n    \r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Child {\r\n    }\r\n\r\n\r\n","title":"Lombok @builder on a class that extends another class","body":"<p>You need to use <code>@SuperBuilder(toBuilder = true)</code> in every object.</p>\n<pre><code>@Data\n@SuperBuilder(toBuilder = true)\npublic class Parent extends Child {\n}\n\n@Data\n@SuperBuilder(toBuilder = true)\npublic class Child {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19354506,"reputation":74,"user_id":14151100,"display_name":"glegshot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671736052,"creation_date":1641114673,"answer_id":70554806,"question_id":44948858,"body_markdown":"if your child class wants to have a builder method when the parent already have one,then you can create an all args constructor for the child class and then annotate builder on the constructor of child class and set the property  \r\n\r\n&gt;  @Builder(builderMethodName = &quot;custombuildername&quot;)\r\n\r\nThen invoke the customname builder while creating the child class Object.\r\n\r\n\r\n    package jerry;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    \r\n    public class Child extends Parent { \r\n   \r\n       private String a;\r\n       private int b;\r\n       private boolean c;\r\n\r\n       @Builder(builderMethodName = &quot;childBuilder&quot;)\r\n       public Child(String a, int b, boolean c, double d, float e){\r\n           super(d,e);\r\n       }\r\n    \r\n    }\r\n    \r\n    \r\n    @Builder\r\n    public class Parent {\r\n        private double d;\r\n        private float e;\r\n    }","title":"Lombok @builder on a class that extends another class","body":"<p>if your child class wants to have a builder method when the parent already have one,then you can create an all args constructor for the child class and then annotate builder on the constructor of child class and set the property</p>\n<blockquote>\n<p>@Builder(builderMethodName = &quot;custombuildername&quot;)</p>\n</blockquote>\n<p>Then invoke the customname builder while creating the child class Object.</p>\n<pre><code>package jerry;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\n\npublic class Child extends Parent { \n\n   private String a;\n   private int b;\n   private boolean c;\n\n   @Builder(builderMethodName = &quot;childBuilder&quot;)\n   public Child(String a, int b, boolean c, double d, float e){\n       super(d,e);\n   }\n\n}\n\n\n@Builder\npublic class Parent {\n    private double d;\n    private float e;\n}\n</code></pre>\n"}],"owner":{"account_id":7147029,"reputation":1189,"user_id":5462398,"accept_rate":0,"display_name":"zur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120951,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"answer_count":5,"score":84,"last_activity_date":1671736052,"creation_date":1499343991,"question_id":44948858,"body_markdown":"I have two classes `Child` extends `Parent`. I need to put @Builder annotation on the classes such that I do not need to create the builder my self.\r\n\r\n    package jerry;// Internal compiler error: java.lang.NullPointerException\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n\r\n    @AllArgsConstructor(onConstructor=@__(@Builder))\r\n    public class Child extends Parent { \r\n    //Multiple markers at this line\r\n    //\t- Implicit super constructor Parent() is undefined. Must explicitly invoke another constructor\r\n    //\t- overrides java.lang.Object.toString\r\n        \r\n       private String a;\r\n       private int b;\r\n       private boolean c;\r\n       \r\n    }\r\n\r\n    \r\n    @Builder\r\n    public class Parent {\r\n        private double d;\r\n        private float e;\r\n    }\r\n\r\n\r\nI need to be able to build child instance such that \r\n\r\n    Child child = Child.builder().a(&quot;aVal&quot;).b(1000).c(true).d(10.1).e(20.0F).build();\r\n\r\nBut so far I am getting the errors mentioned in side that code comments. Can any one point me to the right direction how to achieve it with lombok or any other similar library ?\r\n\r\n**Sub-question**\r\n\r\nWhy does `@AllArgsConstructor(onConstructor=@__(@Autowired))` compile but `@AllArgsConstructor(onConstructor=@__(@Builder))` does not?","title":"Lombok @builder on a class that extends another class","body":"<p>I have two classes <code>Child</code> extends <code>Parent</code>. I need to put @Builder annotation on the classes such that I do not need to create the builder my self.</p>\n\n<pre><code>package jerry;// Internal compiler error: java.lang.NullPointerException\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\n\n@AllArgsConstructor(onConstructor=@__(@Builder))\npublic class Child extends Parent { \n//Multiple markers at this line\n//  - Implicit super constructor Parent() is undefined. Must explicitly invoke another constructor\n//  - overrides java.lang.Object.toString\n\n   private String a;\n   private int b;\n   private boolean c;\n\n}\n\n\n@Builder\npublic class Parent {\n    private double d;\n    private float e;\n}\n</code></pre>\n\n<p>I need to be able to build child instance such that </p>\n\n<pre><code>Child child = Child.builder().a(\"aVal\").b(1000).c(true).d(10.1).e(20.0F).build();\n</code></pre>\n\n<p>But so far I am getting the errors mentioned in side that code comments. Can any one point me to the right direction how to achieve it with lombok or any other similar library ?</p>\n\n<p><strong>Sub-question</strong></p>\n\n<p>Why does <code>@AllArgsConstructor(onConstructor=@__(@Autowired))</code> compile but <code>@AllArgsConstructor(onConstructor=@__(@Builder))</code> does not?</p>\n"},{"tags":["java","c#","printing","print-spooler-api","pjl"],"answers":[{"comments":[{"owner":{"account_id":4898652,"reputation":461,"user_id":3947391,"accept_rate":70,"display_name":"PainPoints"},"score":0,"creation_date":1486614478,"post_id":42124626,"comment_id":71424023,"body_markdown":"Well I am a java/scala background, what do you suggest? The actual task is to include additional PJL headers to the spool file and then send to the printer.","body":"Well I am a java/scala background, what do you suggest? The actual task is to include additional PJL headers to the spool file and then send to the printer."},{"owner":{"account_id":120803,"reputation":3118,"user_id":313445,"display_name":"Nick Westgate"},"score":0,"creation_date":1486614983,"post_id":42124626,"comment_id":71424152,"body_markdown":"Since you imply you want to avoid native coding, I would suggest trying option 3 first.","body":"Since you imply you want to avoid native coding, I would suggest trying option 3 first."},{"owner":{"account_id":4898652,"reputation":461,"user_id":3947391,"accept_rate":70,"display_name":"PainPoints"},"score":0,"creation_date":1486707868,"post_id":42124626,"comment_id":71471627,"body_markdown":"I setup RedMon but it works to forward to another printer/output only. \n\nI think I would work on Visual C++ or sth else, is it absolutely achievable to pause a print job after spooling, edit it and then release? I need to do achieve this functionality for only 1 printer but not on other printers which are working normally.","body":"I setup RedMon but it works to forward to another printer/output only.   I think I would work on Visual C++ or sth else, is it absolutely achievable to pause a print job after spooling, edit it and then release? I need to do achieve this functionality for only 1 printer but not on other printers which are working normally."},{"owner":{"account_id":120803,"reputation":3118,"user_id":313445,"display_name":"Nick Westgate"},"score":0,"creation_date":1486717970,"post_id":42124626,"comment_id":71476566,"body_markdown":"There are other port monitors that I think you could use, but they are commercial. VeryPDF have one amongst their many products - it&#39;s [mentioned here](http://www.verydoc.com/blog/intercepting-data-sent-to-a-windows-printer.html). Another one [is here](http://www.alphatronics.net/AVPMon.html). Or you could write your own port monitor (option 2) using the Windows SDK monitor sample as a base, or perhaps the RedMon source. But yes, option 1 is definitely possible. [Here is some software](http://www.papercut.com/products/free-software/) that uses this technique - my other answer links to samples.","body":"There are other port monitors that I think you could use, but they are commercial. VeryPDF have one amongst their many products - it&#39;s <a href=\"http://www.verydoc.com/blog/intercepting-data-sent-to-a-windows-printer.html\" rel=\"nofollow noreferrer\">mentioned here</a>. Another one <a href=\"http://www.alphatronics.net/AVPMon.html\" rel=\"nofollow noreferrer\">is here</a>. Or you could write your own port monitor (option 2) using the Windows SDK monitor sample as a base, or perhaps the RedMon source. But yes, option 1 is definitely possible. <a href=\"http://www.papercut.com/products/free-software/\" rel=\"nofollow noreferrer\">Here is some software</a> that uses this technique - my other answer links to samples."},{"owner":{"account_id":456128,"reputation":6836,"user_id":854742,"display_name":"Carey Gregory"},"score":0,"creation_date":1488337859,"post_id":42124626,"comment_id":72181619,"body_markdown":"This is what language monitors are for. https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/language-monitors","body":"This is what language monitors are for. <a href=\"https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/language-monitors\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/windows/hardware/drivers/print/&hellip;</a>"},{"owner":{"account_id":120803,"reputation":3118,"user_id":313445,"display_name":"Nick Westgate"},"score":0,"creation_date":1488401173,"post_id":42124626,"comment_id":72219136,"body_markdown":"@CareyGregory: Thanks. Why don&#39;t you expand that into an answer? ; - )","body":"@CareyGregory: Thanks. Why don&#39;t you expand that into an answer? ; - )"},{"owner":{"account_id":456128,"reputation":6836,"user_id":854742,"display_name":"Carey Gregory"},"score":0,"creation_date":1488407086,"post_id":42124626,"comment_id":72222335,"body_markdown":"Eh, not enough time. Why don&#39;t you just add a note about it in your answer.","body":"Eh, not enough time. Why don&#39;t you just add a note about it in your answer."},{"owner":{"account_id":120803,"reputation":3118,"user_id":313445,"display_name":"Nick Westgate"},"score":0,"creation_date":1488412094,"post_id":42124626,"comment_id":72224360,"body_markdown":"@CareyGregory: Done. But I remembered that monitors aren&#39;t supported for V4 drivers. Also, I&#39;m not sure how to add a language monitor to an existing printer.","body":"@CareyGregory: Done. But I remembered that monitors aren&#39;t supported for V4 drivers. Also, I&#39;m not sure how to add a language monitor to an existing printer."},{"owner":{"account_id":456128,"reputation":6836,"user_id":854742,"display_name":"Carey Gregory"},"score":0,"creation_date":1488416149,"post_id":42124626,"comment_id":72225586,"body_markdown":"Heh, yeah, I didn&#39;t want to have to explain the v4 stuff, installation, etc. I think merely pointing out the option is sufficient because it is a lot of work just to understand these components and get them working.","body":"Heh, yeah, I didn&#39;t want to have to explain the v4 stuff, installation, etc. I think merely pointing out the option is sufficient because it is a lot of work just to understand these components and get them working."}],"tags":[],"owner":{"account_id":120803,"reputation":3118,"user_id":313445,"display_name":"Nick Westgate"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488411697,"creation_date":1486591985,"answer_id":42124626,"question_id":42102898,"body_markdown":"Editing the spool file is obviously trivial. The trick is how to get access to the spool file.\r\n\r\nI can think of a few ways offhand:\r\n\r\n1. Pause the print job after spooling, edit it, then release it. [See my answer here][1]. This is not trivial and you may need to resort to third-party software depending on time/effort available.\r\n2. Create a print driver or [spooler component][2] such as a port or [language monitor][3] to edit the file. (Thanks to Carey Gregory for the suggestion to use a language monitor). This is a big topic and you&#39;ll have to read a lot of documentation to figure out how to do it, but there is a sample (Pjlmon) in the WDK. Note that the newer V4 driver model for Windows 8/Server 2012 [doesn&#39;t support these components][4].\r\n3. If you don&#39;t need to do this transparently you could set up [RedMon][5] (free) to call your app to edit the spool file. RedMon will then send it to the desired printer.\r\n\r\n4. VeryPDF has some [similar commercial products][6] with more capabilities.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39303965/how-to-pause-the-win32-printjob-by-printername-and-jobid/39411341#39411341\r\n  [2]: https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/print-spooler-components\r\n  [3]: https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/language-monitors\r\n  [4]: https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/v4-driver-connectivity-architecture\r\n  [5]: http://pages.cs.wisc.edu/~ghost/redmon/\r\n  [6]: http://www.verypdf.com/wordpress/201607/how-to-capture-printer-spooler-file-when-printing-and-then-view-andor-print-that-spooler-file-again-42708.html","title":"How to programmatically achieve editing of the spool file header of the normal windows print queue &#39;spool file&#39; before it is sent to the printer?","body":"<p>Editing the spool file is obviously trivial. The trick is how to get access to the spool file.</p>\n\n<p>I can think of a few ways offhand:</p>\n\n<ol>\n<li>Pause the print job after spooling, edit it, then release it. <a href=\"https://stackoverflow.com/questions/39303965/how-to-pause-the-win32-printjob-by-printername-and-jobid/39411341#39411341\">See my answer here</a>. This is not trivial and you may need to resort to third-party software depending on time/effort available.</li>\n<li>Create a print driver or <a href=\"https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/print-spooler-components\" rel=\"nofollow noreferrer\">spooler component</a> such as a port or <a href=\"https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/language-monitors\" rel=\"nofollow noreferrer\">language monitor</a> to edit the file. (Thanks to Carey Gregory for the suggestion to use a language monitor). This is a big topic and you'll have to read a lot of documentation to figure out how to do it, but there is a sample (Pjlmon) in the WDK. Note that the newer V4 driver model for Windows 8/Server 2012 <a href=\"https://msdn.microsoft.com/en-us/windows/hardware/drivers/print/v4-driver-connectivity-architecture\" rel=\"nofollow noreferrer\">doesn't support these components</a>.</li>\n<li><p>If you don't need to do this transparently you could set up <a href=\"http://pages.cs.wisc.edu/~ghost/redmon/\" rel=\"nofollow noreferrer\">RedMon</a> (free) to call your app to edit the spool file. RedMon will then send it to the desired printer.</p></li>\n<li><p>VeryPDF has some <a href=\"http://www.verypdf.com/wordpress/201607/how-to-capture-printer-spooler-file-when-printing-and-then-view-andor-print-that-spooler-file-again-42708.html\" rel=\"nofollow noreferrer\">similar commercial products</a> with more capabilities.</p></li>\n</ol>\n"}],"owner":{"account_id":4898652,"reputation":461,"user_id":3947391,"accept_rate":70,"display_name":"PainPoints"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42124626,"answer_count":1,"score":2,"last_activity_date":1671735685,"creation_date":1486515968,"question_id":42102898,"body_markdown":"How to intercept and change the windows 7 print spool file (.SPL) to add some additional information in the header like &#39;@PJL SET NAME=&quot;PainPoint&quot; &#39; before this file is sent to the printer during the execution of the print job?\r\n\r\nThe .SPL file partial extract from top is :\r\n\u001B\r\n\r\n    %-12345X@PJL SET STRINGCODESET=UTF8\r\n    @PJL COMMENT DATE=02/08/2017\r\n    @PJL ENTER LANGUAGE=PCLXL\r\n    ) HP-PCL XL;2;1;FXXPL2-1.0.0,WINNT-6.1,XPL2DRV-6.9.1.1\r\n    ?\u0002X\u0002???........","title":"How to programmatically achieve editing of the spool file header of the normal windows print queue &#39;spool file&#39; before it is sent to the printer?","body":"<p>How to intercept and change the windows 7 print spool file (.SPL) to add some additional information in the header like '@PJL SET NAME=\"PainPoint\" ' before this file is sent to the printer during the execution of the print job?</p>\n\n<p>The .SPL file partial extract from top is :\n</p>\n\n<pre><code>%-12345X@PJL SET STRINGCODESET=UTF8\n@PJL COMMENT DATE=02/08/2017\n@PJL ENTER LANGUAGE=PCLXL\n) HP-PCL XL;2;1;FXXPL2-1.0.0,WINNT-6.1,XPL2DRV-6.9.1.1\n?X???........\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","hikaricp","aws-parameter-store"],"answers":[{"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1671755639,"post_id":74892813,"comment_id":132171276,"body_markdown":"what is the required maven dependency?","body":"what is the required maven dependency?"}],"tags":[],"owner":{"account_id":17123397,"reputation":137,"user_id":12391137,"display_name":"Rashmi Shehana"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671735497,"creation_date":1671735497,"answer_id":74892813,"question_id":74892111,"body_markdown":"You can use AWS Spring Cloud to get values from SSM params. For that, use Spring Cloud framework-based configuration management. bootstrap.properties file has the default configuration required for Spring Cloud.\r\n\r\n    cloud.aws.credentials.instanceProfile=false\r\n    cloud.aws.credentials.useDefaultAwsCredentialsChain=true\r\n    cloud.aws.stack.auto=false\r\n    cloud.aws.region.auto=false\r\n    cloud.aws.region.static=us-east-1\r\n    \r\n    aws.paramstore.prefix=?\r\n    aws.paramstore.defaultContext=application\r\n    aws.paramstore.profileSeparator=?\r\n    aws.paramstore.failFast=true\r\n    aws.paramstore.name=?\r\n    aws.paramstore.enabled=true","title":"How to fetch Database url, credentials from AWS parameter store, into my spring-boot service, to test database connectivity?","body":"<p>You can use AWS Spring Cloud to get values from SSM params. For that, use Spring Cloud framework-based configuration management. bootstrap.properties file has the default configuration required for Spring Cloud.</p>\n<pre><code>cloud.aws.credentials.instanceProfile=false\ncloud.aws.credentials.useDefaultAwsCredentialsChain=true\ncloud.aws.stack.auto=false\ncloud.aws.region.auto=false\ncloud.aws.region.static=us-east-1\n\naws.paramstore.prefix=?\naws.paramstore.defaultContext=application\naws.paramstore.profileSeparator=?\naws.paramstore.failFast=true\naws.paramstore.name=?\naws.paramstore.enabled=true\n</code></pre>\n"}],"owner":{"account_id":23774814,"reputation":19,"user_id":17788427,"display_name":"Musaddiq M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671735497,"creation_date":1671731258,"question_id":74892111,"body_markdown":"Database URL and database password are stored in the AWS parameter store.\r\nI have a service in spring-boot, and I need to write a function to test database connectivity.\r\n\r\nFor this function, I need to fetch the database URL, and credentials from the AWS parameter store. How do I fetch these parameters from the AWS parameter store and pass them as arguments to my function?\r\n\r\nI&#39;ve written my function which will test the database connectivity. Here, the URL, Username, and password for the database I need to test connectivity, are present in the AWS parameter store. I&#39;m unable to fetch those and pass them to my function.\r\n```\r\nHikariConfig config = new HikariConfig();\r\nconfig.setJdbcUrl(url);\r\nconfig.setUsername(username);\r\nconfig.setPassword(password);\r\n\r\nHikariDataSource ds = new HikariDataSource(config);\r\n\r\ntry (Connection conn = ds.getConnection()) {\r\n  // Execute a simple SQL query to test the connection\r\n  Statement stmt = conn.createStatement();\r\n  ResultSet rs = stmt.executeQuery(&quot;SELECT COUNT(*) FROM users&quot;);\r\n  if (rs.next()) {\r\n    int count = rs.getInt(1);\r\n    System.out.println(&quot;Number of users: &quot; + count);\r\n  }\r\n}\r\n```","title":"How to fetch Database url, credentials from AWS parameter store, into my spring-boot service, to test database connectivity?","body":"<p>Database URL and database password are stored in the AWS parameter store.\nI have a service in spring-boot, and I need to write a function to test database connectivity.</p>\n<p>For this function, I need to fetch the database URL, and credentials from the AWS parameter store. How do I fetch these parameters from the AWS parameter store and pass them as arguments to my function?</p>\n<p>I've written my function which will test the database connectivity. Here, the URL, Username, and password for the database I need to test connectivity, are present in the AWS parameter store. I'm unable to fetch those and pass them to my function.</p>\n<pre><code>HikariConfig config = new HikariConfig();\nconfig.setJdbcUrl(url);\nconfig.setUsername(username);\nconfig.setPassword(password);\n\nHikariDataSource ds = new HikariDataSource(config);\n\ntry (Connection conn = ds.getConnection()) {\n  // Execute a simple SQL query to test the connection\n  Statement stmt = conn.createStatement();\n  ResultSet rs = stmt.executeQuery(&quot;SELECT COUNT(*) FROM users&quot;);\n  if (rs.next()) {\n    int count = rs.getInt(1);\n    System.out.println(&quot;Number of users: &quot; + count);\n  }\n}\n</code></pre>\n"},{"tags":["java","json","junit5","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671725022,"creation_date":1671707876,"answer_id":74887752,"question_id":74887698,"body_markdown":"You have to convert the json object to its string repesentation.\r\n\r\n    expected.toString()\r\n\r\nIn your case:\r\n\r\n    .body(is(equalTo(expected.toString()));  ","title":"How do I convert a JSONObject to JSON?","body":"<p>You have to convert the json object to its string repesentation.</p>\n<pre><code>expected.toString()\n</code></pre>\n<p>In your case:</p>\n<pre><code>.body(is(equalTo(expected.toString()));  \n</code></pre>\n"}],"owner":{"account_id":11227019,"reputation":1057,"user_id":8236354,"accept_rate":0,"display_name":"stein korsveien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671735468,"creation_date":1671707618,"question_id":74887698,"body_markdown":"I Have want the verify a body containing a JSON. I use a  JSONObject the expected value. \r\n\r\n    package com.steinko.todo;\r\n    \r\n    import com.steinko.reactsprinboottutorial.RestfulWebService.HelloWorldController;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Disabled;\r\n    import static io.restassured.module.mockmvc.RestAssuredMockMvc.given;\r\n    import static org.springframework.http.HttpStatus.OK;\r\n    import static org.hamcrest.Matchers.equalTo;\r\n    import static org.hamcrest.CoreMatchers.is;\r\n     \r\n    import  org.json.simple.JSONObject;\r\n    \r\n    \r\n    class HelloWorldControllerTest {\r\n    \t\r\n    \tHelloWorldController controller = new HelloWorldController();\r\n    \t\r\n    \r\n    \r\n    \t@Test\r\n    \tvoid shouldGetHelloWorldMessage() {\r\n    \t\t\r\n    \t\tJSONObject expected =new JSONObject();    \r\n    \t\t  expected.put(&quot;message&quot;,&quot;Hello World Bean&quot;);       \r\n    \t\t   \r\n    \t    given()\r\n    \t      .standaloneSetup(controller)\r\n            .when()\r\n              .get(&quot;/hello-world-bean&quot;)\r\n            .then()\r\n              .statusCode(OK.value())\r\n              .body(is(equalTo(expected)));  \r\n        }\t\r\n     }\t\r\n\r\nWhen I run this test I get following error message\r\n\r\njava.lang.AssertionError: 1 expectation failed.\r\nResponse body doesn&#39;t match expectation.\r\nExpected: is &lt;{&quot;message&quot;:&quot;Hello World Bean&quot;}&gt;\r\n  Actual: {&quot;message&quot;:&quot;Hello World Bean&quot;}\r\n\r\nHow do I convert the JSONObject to Json format? ","title":"How do I convert a JSONObject to JSON?","body":"<p>I Have want the verify a body containing a JSON. I use a  JSONObject the expected value.</p>\n<pre><code>package com.steinko.todo;\n\nimport com.steinko.reactsprinboottutorial.RestfulWebService.HelloWorldController;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Disabled;\nimport static io.restassured.module.mockmvc.RestAssuredMockMvc.given;\nimport static org.springframework.http.HttpStatus.OK;\nimport static org.hamcrest.Matchers.equalTo;\nimport static org.hamcrest.CoreMatchers.is;\n \nimport  org.json.simple.JSONObject;\n\n\nclass HelloWorldControllerTest {\n    \n    HelloWorldController controller = new HelloWorldController();\n    \n\n\n    @Test\n    void shouldGetHelloWorldMessage() {\n        \n        JSONObject expected =new JSONObject();    \n          expected.put(&quot;message&quot;,&quot;Hello World Bean&quot;);       \n           \n        given()\n          .standaloneSetup(controller)\n        .when()\n          .get(&quot;/hello-world-bean&quot;)\n        .then()\n          .statusCode(OK.value())\n          .body(is(equalTo(expected)));  \n    }   \n }  \n</code></pre>\n<p>When I run this test I get following error message</p>\n<p>java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: is &lt;{&quot;message&quot;:&quot;Hello World Bean&quot;}&gt;\nActual: {&quot;message&quot;:&quot;Hello World Bean&quot;}</p>\n<p>How do I convert the JSONObject to Json format?</p>\n"},{"tags":["java","encryption","cryptography","cryptojs"],"comments":[{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1483392818,"post_id":41432896,"comment_id":70072971,"body_markdown":"What does *secret* on the Javascript side look like? Is it a string as well? Is it a hex string, e.g. &quot;34D3724F1A&quot;?","body":"What does <i>secret</i> on the Javascript side look like? Is it a string as well? Is it a hex string, e.g. &quot;34D3724F1A&quot;?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483407887,"post_id":41432896,"comment_id":70076645,"body_markdown":"`String` is not a container for binary data.","body":"<code>String</code> is not a container for binary data."}],"answers":[{"comments":[{"owner":{"account_id":3434968,"reputation":282,"user_id":2878290,"accept_rate":11,"display_name":"Developer KE"},"score":0,"creation_date":1599654878,"post_id":41433458,"comment_id":112839458,"body_markdown":"can you please help us, we have to use AES 256 in ionic 3 front end side and decrypt at java layer level. the encrypted data not able to decrypt. https://stackoverflow.com/questions/63811173/ionic-v3-aes-256-algorithm-to-using-encrypted-not-able-to-decrypt-in-java-aes-gc","body":"can you please help us, we have to use AES 256 in ionic 3 front end side and decrypt at java layer level. the encrypted data not able to decrypt. <a href=\"https://stackoverflow.com/questions/63811173/ionic-v3-aes-256-algorithm-to-using-encrypted-not-able-to-decrypt-in-java-aes-gc\" title=\"ionic v3 aes 256 algorithm to using encrypted not able to decrypt in java aes gc\">stackoverflow.com/questions/63811173/&hellip;</a>"}],"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483392311,"creation_date":1483392311,"answer_id":41433458,"question_id":41432896,"body_markdown":"When encrypting on one system and decrypting on another you are at the mercy of system defaults.  If any system defaults do not match (and they often don&#39;t) then your decryption will fail.\r\n\r\nEverything has to be *byte for byte* the same on both sides.  Effectively that means specifying everything on both sides rather than relying on defaults.  You can only use defaults if you are using the same system at both ends.  Even then, it is better to specify exactly.\r\n\r\nKey, IV, encryption mode, padding and string to bytes conversion all need to be the same at both ends.  It is especially worth checking that the key bytes are the same.  If you are using a Key Derivation Function (KDF) to generate your key, then all the parameters for that need to be the same, and hence specified exactly.\r\n\r\nYour &quot;Invalid AES key length&quot; may well indicate a problem with generating your key.  You use `getBytes()`.  That is probably an error.  You need to specify what sort of bytes you are getting: ANSI, UTF-8, EBCDIC, whatever.  The default assumption for the string to byte conversion is the likely cause of this problem.  Specify the conversion to be used explicitly at both ends.  That way you can be sure that they match.\r\n\r\nCrypto is designed to fail if the parameters do not match exactly for encryption and decryption.  For example, even a one bit difference in the key will cause it to fail.\r\n","title":"CryptoJS AES encryption and Java AES decryption","body":"<p>When encrypting on one system and decrypting on another you are at the mercy of system defaults.  If any system defaults do not match (and they often don't) then your decryption will fail.</p>\n\n<p>Everything has to be <em>byte for byte</em> the same on both sides.  Effectively that means specifying everything on both sides rather than relying on defaults.  You can only use defaults if you are using the same system at both ends.  Even then, it is better to specify exactly.</p>\n\n<p>Key, IV, encryption mode, padding and string to bytes conversion all need to be the same at both ends.  It is especially worth checking that the key bytes are the same.  If you are using a Key Derivation Function (KDF) to generate your key, then all the parameters for that need to be the same, and hence specified exactly.</p>\n\n<p>Your \"Invalid AES key length\" may well indicate a problem with generating your key.  You use <code>getBytes()</code>.  That is probably an error.  You need to specify what sort of bytes you are getting: ANSI, UTF-8, EBCDIC, whatever.  The default assumption for the string to byte conversion is the likely cause of this problem.  Specify the conversion to be used explicitly at both ends.  That way you can be sure that they match.</p>\n\n<p>Crypto is designed to fail if the parameters do not match exactly for encryption and decryption.  For example, even a one bit difference in the key will cause it to fail.</p>\n"},{"comments":[{"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"score":0,"creation_date":1483406112,"post_id":41434590,"comment_id":70076291,"body_markdown":"I already have JCE installed, and I have read a bit about the key size, I believe there was a way to upgrade it to 256, but I don&#39;t mind about size, 128 is fine. This looks very promising, will give it a try tomorrow and get back to you, thank you.","body":"I already have JCE installed, and I have read a bit about the key size, I believe there was a way to upgrade it to 256, but I don&#39;t mind about size, 128 is fine. This looks very promising, will give it a try tomorrow and get back to you, thank you."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1483428588,"post_id":41434590,"comment_id":70082981,"body_markdown":"If you can&#39;t change how the data is encrypted, then you cannot choose the key length. I&#39;ll have to work with 256 bits.","body":"If you can&#39;t change how the data is encrypted, then you cannot choose the key length. I&#39;ll have to work with 256 bits."},{"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"score":0,"creation_date":1483561458,"post_id":41434590,"comment_id":70150964,"body_markdown":"Ok, so, I downloaded the file, backed up current files and replaced them. I restarted application, restarted computer, but I&#39;m still getting: Illegal key size at aesCBC.init(Cipher.DECRYPT_MODE, key, iv);","body":"Ok, so, I downloaded the file, backed up current files and replaced them. I restarted application, restarted computer, but I&#39;m still getting: Illegal key size at aesCBC.init(Cipher.DECRYPT_MODE, key, iv);"},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1483561974,"post_id":41434590,"comment_id":70151192,"body_markdown":"It seems your Unlimited Strength Jurisdiction Policy isn&#39;t properly installed. Ask a separate question on SO specifically about this.","body":"It seems your Unlimited Strength Jurisdiction Policy isn&#39;t properly installed. Ask a separate question on SO specifically about this."},{"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"score":0,"creation_date":1483562037,"post_id":41434590,"comment_id":70151224,"body_markdown":"Let me do a bit more explain, It is a netbeans project, I realized that on project properties, on Sources,  the source/binary format is on JDK 7, don&#39;t know if this affect at all, but on my machine, I have 2 jvms installed, java 8, openjdk and oracle, oracle is running. I don&#39;t know how project source is JDK 7.","body":"Let me do a bit more explain, It is a netbeans project, I realized that on project properties, on Sources,  the source/binary format is on JDK 7, don&#39;t know if this affect at all, but on my machine, I have 2 jvms installed, java 8, openjdk and oracle, oracle is running. I don&#39;t know how project source is JDK 7."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1483562201,"post_id":41434590,"comment_id":70151304,"body_markdown":"Ask a new question.","body":"Ask a new question."},{"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"score":0,"creation_date":1483640468,"post_id":41434590,"comment_id":70189840,"body_markdown":"After solving the unlimited strength jurisdiction policy problem, the code worked perfectly, thank you!","body":"After solving the unlimited strength jurisdiction policy problem, the code worked perfectly, thank you!"},{"owner":{"account_id":1107006,"reputation":4327,"user_id":1098218,"accept_rate":53,"display_name":"Amarjit"},"score":4,"creation_date":1503996736,"post_id":41434590,"comment_id":78827399,"body_markdown":"How do you encrypt same data with java, Can you please post of encryption as well.","body":"How do you encrypt same data with java, Can you please post of encryption as well."},{"owner":{"account_id":1552435,"reputation":4487,"user_id":1444525,"accept_rate":22,"display_name":"Harneet Kaur"},"score":0,"creation_date":1504167773,"post_id":41434590,"comment_id":78911870,"body_markdown":"Is its java version available for encryption as well? Please do the needful","body":"Is its java version available for encryption as well? Please do the needful"},{"owner":{"account_id":1577314,"reputation":167,"user_id":1502017,"accept_rate":20,"display_name":"Arunabh"},"score":0,"creation_date":1508408594,"post_id":41434590,"comment_id":80602711,"body_markdown":"I am trying to use this piece of code. Can some one tell me what jars and js files need to be included for this? Any online link to get them. I havent been able to download the exact dependencies needed to run this.","body":"I am trying to use this piece of code. Can some one tell me what jars and js files need to be included for this? Any online link to get them. I havent been able to download the exact dependencies needed to run this."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1508410996,"post_id":41434590,"comment_id":80604044,"body_markdown":"To compile it, no special jars are needed. It&#39;s all part of the standard JRE. To run it, you have to install the [Java Cryptography Extension (JCE)](http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html). If you have trouble getting JCE to run, search StackOverflow and if you can&#39;t find an answer, ask a specific question about it.","body":"To compile it, no special jars are needed. It&#39;s all part of the standard JRE. To run it, you have to install the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension (JCE)</a>. If you have trouble getting JCE to run, search StackOverflow and if you can&#39;t find an answer, ask a specific question about it."},{"owner":{"account_id":1577314,"reputation":167,"user_id":1502017,"accept_rate":20,"display_name":"Arunabh"},"score":0,"creation_date":1508760672,"post_id":41434590,"comment_id":80725154,"body_markdown":"I am able to write the server side code and required APIs get imported but what about the js files on the client side. I tried using this &#39;aes&#39;:&#39;http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes&#39;,\n\t\t&#39;enc-base64-min&#39;:&#39;http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/enc-base64-min&#39; but it didnt work.","body":"I am able to write the server side code and required APIs get imported but what about the js files on the client side. I tried using this &#39;aes&#39;:&#39;<a href=\"http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes\" rel=\"nofollow noreferrer\">crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups&zwnj;&#8203;/aes</a>&#39;, \t\t&#39;enc-base64-min&#39;:&#39;<a href=\"http://crypto-js.googlecode.com/svn/tags/3.1.2/build/components/enc-base64-min\" rel=\"nofollow noreferrer\">crypto-js.googlecode.com/svn/tags/3.1.2/&zwnj;&#8203;build/components/&hellip;</a>&#39; but it didnt work."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1508792979,"post_id":41434590,"comment_id":80744368,"body_markdown":"Well, &quot;didnt work&quot; isn&#39;t exactly a description that would let anybody help you. Start a new question and provide serious information.","body":"Well, &quot;didnt work&quot; isn&#39;t exactly a description that would let anybody help you. Start a new question and provide serious information."},{"owner":{"account_id":5738180,"reputation":1541,"user_id":4531611,"accept_rate":47,"display_name":"Animesh Jena"},"score":0,"creation_date":1521629824,"post_id":41434590,"comment_id":85809833,"body_markdown":"@Codo: Can you please help me with the encryption process from java. How can I encrypt the data while sending it to CryptoJS server?","body":"@Codo: Can you please help me with the encryption process from java. How can I encrypt the data while sending it to CryptoJS server?"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1528539613,"post_id":41434590,"comment_id":88553619,"body_markdown":"@Codo First thanks for working solution. could you help for encryption? Please look this SO qtn - https://stackoverflow.com/q/49384768/3879847","body":"@Codo First thanks for working solution. could you help for encryption? Please look this SO qtn - <a href=\"https://stackoverflow.com/q/49384768/3879847\">stackoverflow.com/q/49384768/3879847</a>"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1528540833,"post_id":41434590,"comment_id":88553914,"body_markdown":"@Codo I offered bounty also for this qtn - https://stackoverflow.com/questions/49384768/encrypt-from-android-and-decrypt-in-cryptojs","body":"@Codo I offered bounty also for this qtn - <a href=\"https://stackoverflow.com/questions/49384768/encrypt-from-android-and-decrypt-in-cryptojs\" title=\"encrypt from android and decrypt in cryptojs\">stackoverflow.com/questions/49384768/&hellip;</a>"},{"owner":{"account_id":4180795,"reputation":8008,"user_id":3425884,"accept_rate":47,"display_name":"Prajeet Shrestha"},"score":0,"creation_date":1542527503,"post_id":41434590,"comment_id":93594715,"body_markdown":"Hi, I used ur code to decrypt in android app and it&#39;s working fine on emulator, it is also working in my device in when i install a debug build from android studio, but when uploaded app to playstore. This just wont work! I have no clue whats going on.","body":"Hi, I used ur code to decrypt in android app and it&#39;s working fine on emulator, it is also working in my device in when i install a debug build from android studio, but when uploaded app to playstore. This just wont work! I have no clue whats going on."},{"owner":{"account_id":4180795,"reputation":8008,"user_id":3425884,"accept_rate":47,"display_name":"Prajeet Shrestha"},"score":0,"creation_date":1542529380,"post_id":41434590,"comment_id":93595003,"body_markdown":"After some testing it turns out that when I turn on minification in gradle this code doesn&#39;t seem to work! How to bypass this?","body":"After some testing it turns out that when I turn on minification in gradle this code doesn&#39;t seem to work! How to bypass this?"},{"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"score":0,"creation_date":1555367289,"post_id":41434590,"comment_id":98078286,"body_markdown":"Nice but I get *This rule raises an issue when a Cipher instance is created with either ECB or CBC/PKCS5Padding mode.* from SONAR","body":"Nice but I get <i>This rule raises an issue when a Cipher instance is created with either ECB or CBC/PKCS5Padding mode.</i> from SONAR"},{"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"score":0,"creation_date":1559232137,"post_id":41434590,"comment_id":99363816,"body_markdown":"I get a java.security.InvalidKeyException: Illegal key size error (java 8).","body":"I get a java.security.InvalidKeyException: Illegal key size error (java 8)."},{"owner":{"account_id":6566060,"reputation":980,"user_id":5075649,"display_name":"Himanshu Singh"},"score":0,"creation_date":1568303199,"post_id":41434590,"comment_id":102240362,"body_markdown":"@Codo.. thanks for posting this solution. It worked pretty well. I have few questions as I am trying to understand AES algorithm and its implementation, particularly Crypto-JS. Could you let me know, if you will have some time to answer those ? I promise none of those will be around my project, purely based on algorithm and concepts around it. Maybe if you can write me here - himanshu.singhs@outlook.in ? then it&#39;d be a big help. Thanks :D","body":"@Codo.. thanks for posting this solution. It worked pretty well. I have few questions as I am trying to understand AES algorithm and its implementation, particularly Crypto-JS. Could you let me know, if you will have some time to answer those ? I promise none of those will be around my project, purely based on algorithm and concepts around it. Maybe if you can write me here - himanshu.singhs@outlook.in ? then it&#39;d be a big help. Thanks :D"},{"owner":{"account_id":7961496,"reputation":175,"user_id":6009190,"accept_rate":67,"display_name":"Akshay Prabhu"},"score":0,"creation_date":1580994225,"post_id":41434590,"comment_id":106286311,"body_markdown":"@codo Do you have same encrypt function for java","body":"@codo Do you have same encrypt function for java"},{"owner":{"account_id":5328102,"reputation":71,"user_id":4249544,"display_name":"cdcaiza"},"score":0,"creation_date":1593486156,"post_id":41434590,"comment_id":110791385,"body_markdown":"Siiii funciona muchas gracias","body":"Siiii funciona muchas gracias"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1594229239,"post_id":41434590,"comment_id":111055920,"body_markdown":"nit/update: OpenJDK builds never needed the &#39;unlimited policy&#39; download to do 256-bit AES, and Oracle builds starting with 8u151 and j9 in fall 2017 no longer do.","body":"nit/update: OpenJDK builds never needed the &#39;unlimited policy&#39; download to do 256-bit AES, and Oracle builds starting with 8u151 and j9 in fall 2017 no longer do."},{"owner":{"account_id":2578107,"reputation":1918,"user_id":2235356,"accept_rate":86,"display_name":"TEH EMPRAH"},"score":0,"creation_date":1643207634,"post_id":41434590,"comment_id":125278301,"body_markdown":"Can anyone explain why &#39;salt&#39; is being extracted from 8th to 16th byte, and cipher from 16th? Where are first 8 bytes going? IV is 16 bytes. These bytes also seem to be always the same for the same input.... Oooh ooookaaaay, they&#39;re base64 for &quot;Salted_&quot;","body":"Can anyone explain why &#39;salt&#39; is being extracted from 8th to 16th byte, and cipher from 16th? Where are first 8 bytes going? IV is 16 bytes. These bytes also seem to be always the same for the same input.... Oooh ooookaaaay, they&#39;re base64 for &quot;Salted_&quot;"},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1643208261,"post_id":41434590,"comment_id":125278605,"body_markdown":"@TEHEMPRAH CryptoJS follows an OpenSSL format, which always starts with the characters &quot;Salted__&quot;.","body":"@TEHEMPRAH CryptoJS follows an OpenSSL format, which always starts with the characters &quot;Salted__&quot;."}],"tags":[],"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"comment_count":26,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1580996798,"creation_date":1483400295,"answer_id":41434590,"question_id":41432896,"body_markdown":"**Disclaimer: Do not use encryption unless you understand encryption concepts including chaining mode, key derivation functions, IV and block size. And don&#39;t roll your own security scheme but stick to an established one. Just throwing in encryption algorithms doesn&#39;t mean an application has become any more secure.**\r\n\r\nCryptoJS implements the same key derivation function as OpenSSL and the same format to put the IV into the encrypted data. So all Java code that deals with OpenSSL encoded data applies.\r\n\r\nGiven the following Javascript code:\r\n\r\n    var text = &quot;The quick brown fox jumps over the lazy dog. &#128123; &#128123;&quot;;\r\n\tvar secret = &quot;Ren&#233; &#220;ber&quot;;\r\n\tvar encrypted = CryptoJS.AES.encrypt(text, secret);\r\n\tencrypted = encrypted.toString();\r\n\tconsole.log(&quot;Cipher text: &quot; + encrypted);\r\n\r\nWe get the cipher text:\r\n\r\n    U2FsdGVkX1+tsmZvCEFa/iGeSA0K7gvgs9KXeZKwbCDNCs2zPo+BXjvKYLrJutMK+hxTwl/hyaQLOaD7LLIRo2I5fyeRMPnroo6k8N9uwKk=\r\n\r\nOn the Java side, we have\r\n\r\n    String secret = &quot;Ren&#233; &#220;ber&quot;;\r\n    String cipherText = &quot;U2FsdGVkX1+tsmZvCEFa/iGeSA0K7gvgs9KXeZKwbCDNCs2zPo+BXjvKYLrJutMK+hxTwl/hyaQLOaD7LLIRo2I5fyeRMPnroo6k8N9uwKk=&quot;;\r\n    \t\t\r\n    byte[] cipherData = Base64.getDecoder().decode(cipherText);\r\n    byte[] saltData = Arrays.copyOfRange(cipherData, 8, 16);\r\n    \t\t\r\n    MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    final byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\r\n    SecretKeySpec key = new SecretKeySpec(keyAndIV[0], &quot;AES&quot;);\r\n    IvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\r\n    \r\n    byte[] encrypted = Arrays.copyOfRange(cipherData, 16, cipherData.length);\r\n    Cipher aesCBC = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    aesCBC.init(Cipher.DECRYPT_MODE, key, iv);\r\n    byte[] decryptedData = aesCBC.doFinal(encrypted);\r\n    String decryptedText = new String(decryptedData, StandardCharsets.UTF_8);\r\n            \r\n    System.out.println(decryptedText);\r\n\r\nThe result is:\r\n\r\n    The quick brown fox jumps over the lazy dog. &#128123; &#128123;\r\n\r\nThat&#39;s the text we started with. And emojis, accents and umlauts work as well.\r\n\r\n`GenerateKeyAndIV` is a helper function that reimplements OpenSSL&#39;s key derivation function `EVP_BytesToKey` (see https://github.com/openssl/openssl/blob/master/crypto/evp/evp_key.c).\r\n\r\n\t/**\r\n\t * Generates a key and an initialization vector (IV) with the given salt and password.\r\n\t * &lt;p&gt;\r\n\t * This method is equivalent to OpenSSL&#39;s EVP_BytesToKey function\r\n\t * (see https://github.com/openssl/openssl/blob/master/crypto/evp/evp_key.c).\r\n\t * By default, OpenSSL uses a single iteration, MD5 as the algorithm and UTF-8 encoded password data.\r\n\t * &lt;/p&gt;\r\n\t * @param keyLength the length of the generated key (in bytes)\r\n\t * @param ivLength the length of the generated IV (in bytes)\r\n\t * @param iterations the number of digestion rounds \r\n\t * @param salt the salt data (8 bytes of data or &lt;code&gt;null&lt;/code&gt;)\r\n\t * @param password the password data (optional)\r\n\t * @param md the message digest algorithm to use\r\n\t * @return an two-element array with the generated key and IV\r\n\t */\r\n\tpublic static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\r\n\t\t\r\n\t\tint digestLength = md.getDigestLength();\r\n\t\tint requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\r\n\t\tbyte[] generatedData = new byte[requiredLength];\r\n\t\tint generatedLength = 0;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tmd.reset();\r\n\t\r\n\t\t\t// Repeat process until sufficient data has been generated\r\n\t\t\twhile (generatedLength &lt; keyLength + ivLength) {\r\n\t\t\t\t\r\n\t\t\t\t// Digest data (last digest if available, password data, salt if available)\r\n\t\t\t\tif (generatedLength &gt; 0)\r\n\t\t\t\t\tmd.update(generatedData, generatedLength - digestLength, digestLength);\r\n\t\t\t\tmd.update(password);\r\n\t\t\t\tif (salt != null)\r\n\t\t\t\t\tmd.update(salt, 0, 8);\r\n\t\t\t\tmd.digest(generatedData, generatedLength, digestLength);\r\n\t\r\n\t\t\t\t// additional rounds\r\n\t\t\t\tfor (int i = 1; i &lt; iterations; i++) {\r\n\t\t\t\t\tmd.update(generatedData, generatedLength, digestLength);\r\n\t\t\t\t\tmd.digest(generatedData, generatedLength, digestLength);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgeneratedLength += digestLength;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Copy key and IV into separate byte arrays\r\n\t\t\tbyte[][] result = new byte[2][];\r\n\t\t\tresult[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\r\n\t\t\tif (ivLength &gt; 0)\r\n\t\t\t\tresult[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t} catch (DigestException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t\r\n\t\t} finally {\r\n\t\t\t// Clean out temporary data\r\n\t\t\tArrays.fill(generatedData, (byte)0);\r\n\t\t}\r\n\t}\r\n\r\nNote that you have to install the Java Cryptography Extension (JCE) [Unlimited Strength Jurisdiction Policy](http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html). Otherwise, AES with key size of 256 won&#39;t work and throw an exception:\r\n\r\n    java.security.InvalidKeyException: Illegal key size\r\n\r\n**Update**\r\n\r\nI have replaced [Ola Bini&#39;s Java code](https://olabini.com/blog/tag/evp_bytestokey/) of `EVP_BytesToKey`, which I used in the first version of my answer, with a more idiomatic and easier to understand Java code (see above).\r\n\r\nAlso see https://stackoverflow.com/questions/11783062/how-to-decrypt-file-in-java-encrypted-with-openssl-command-using-aes.","title":"CryptoJS AES encryption and Java AES decryption","body":"<p><strong>Disclaimer: Do not use encryption unless you understand encryption concepts including chaining mode, key derivation functions, IV and block size. And don't roll your own security scheme but stick to an established one. Just throwing in encryption algorithms doesn't mean an application has become any more secure.</strong></p>\n\n<p>CryptoJS implements the same key derivation function as OpenSSL and the same format to put the IV into the encrypted data. So all Java code that deals with OpenSSL encoded data applies.</p>\n\n<p>Given the following Javascript code:</p>\n\n<pre><code>var text = \"The quick brown fox jumps over the lazy dog. 👻 👻\";\nvar secret = \"René Über\";\nvar encrypted = CryptoJS.AES.encrypt(text, secret);\nencrypted = encrypted.toString();\nconsole.log(\"Cipher text: \" + encrypted);\n</code></pre>\n\n<p>We get the cipher text:</p>\n\n<pre><code>U2FsdGVkX1+tsmZvCEFa/iGeSA0K7gvgs9KXeZKwbCDNCs2zPo+BXjvKYLrJutMK+hxTwl/hyaQLOaD7LLIRo2I5fyeRMPnroo6k8N9uwKk=\n</code></pre>\n\n<p>On the Java side, we have</p>\n\n<pre><code>String secret = \"René Über\";\nString cipherText = \"U2FsdGVkX1+tsmZvCEFa/iGeSA0K7gvgs9KXeZKwbCDNCs2zPo+BXjvKYLrJutMK+hxTwl/hyaQLOaD7LLIRo2I5fyeRMPnroo6k8N9uwKk=\";\n\nbyte[] cipherData = Base64.getDecoder().decode(cipherText);\nbyte[] saltData = Arrays.copyOfRange(cipherData, 8, 16);\n\nMessageDigest md5 = MessageDigest.getInstance(\"MD5\");\nfinal byte[][] keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, secret.getBytes(StandardCharsets.UTF_8), md5);\nSecretKeySpec key = new SecretKeySpec(keyAndIV[0], \"AES\");\nIvParameterSpec iv = new IvParameterSpec(keyAndIV[1]);\n\nbyte[] encrypted = Arrays.copyOfRange(cipherData, 16, cipherData.length);\nCipher aesCBC = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\naesCBC.init(Cipher.DECRYPT_MODE, key, iv);\nbyte[] decryptedData = aesCBC.doFinal(encrypted);\nString decryptedText = new String(decryptedData, StandardCharsets.UTF_8);\n\nSystem.out.println(decryptedText);\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>The quick brown fox jumps over the lazy dog. 👻 👻\n</code></pre>\n\n<p>That's the text we started with. And emojis, accents and umlauts work as well.</p>\n\n<p><code>GenerateKeyAndIV</code> is a helper function that reimplements OpenSSL's key derivation function <code>EVP_BytesToKey</code> (see <a href=\"https://github.com/openssl/openssl/blob/master/crypto/evp/evp_key.c\" rel=\"noreferrer\">https://github.com/openssl/openssl/blob/master/crypto/evp/evp_key.c</a>).</p>\n\n<pre><code>/**\n * Generates a key and an initialization vector (IV) with the given salt and password.\n * &lt;p&gt;\n * This method is equivalent to OpenSSL's EVP_BytesToKey function\n * (see https://github.com/openssl/openssl/blob/master/crypto/evp/evp_key.c).\n * By default, OpenSSL uses a single iteration, MD5 as the algorithm and UTF-8 encoded password data.\n * &lt;/p&gt;\n * @param keyLength the length of the generated key (in bytes)\n * @param ivLength the length of the generated IV (in bytes)\n * @param iterations the number of digestion rounds \n * @param salt the salt data (8 bytes of data or &lt;code&gt;null&lt;/code&gt;)\n * @param password the password data (optional)\n * @param md the message digest algorithm to use\n * @return an two-element array with the generated key and IV\n */\npublic static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, int iterations, byte[] salt, byte[] password, MessageDigest md) {\n\n    int digestLength = md.getDigestLength();\n    int requiredLength = (keyLength + ivLength + digestLength - 1) / digestLength * digestLength;\n    byte[] generatedData = new byte[requiredLength];\n    int generatedLength = 0;\n\n    try {\n        md.reset();\n\n        // Repeat process until sufficient data has been generated\n        while (generatedLength &lt; keyLength + ivLength) {\n\n            // Digest data (last digest if available, password data, salt if available)\n            if (generatedLength &gt; 0)\n                md.update(generatedData, generatedLength - digestLength, digestLength);\n            md.update(password);\n            if (salt != null)\n                md.update(salt, 0, 8);\n            md.digest(generatedData, generatedLength, digestLength);\n\n            // additional rounds\n            for (int i = 1; i &lt; iterations; i++) {\n                md.update(generatedData, generatedLength, digestLength);\n                md.digest(generatedData, generatedLength, digestLength);\n            }\n\n            generatedLength += digestLength;\n        }\n\n        // Copy key and IV into separate byte arrays\n        byte[][] result = new byte[2][];\n        result[0] = Arrays.copyOfRange(generatedData, 0, keyLength);\n        if (ivLength &gt; 0)\n            result[1] = Arrays.copyOfRange(generatedData, keyLength, keyLength + ivLength);\n\n        return result;\n\n    } catch (DigestException e) {\n        throw new RuntimeException(e);\n\n    } finally {\n        // Clean out temporary data\n        Arrays.fill(generatedData, (byte)0);\n    }\n}\n</code></pre>\n\n<p>Note that you have to install the Java Cryptography Extension (JCE) <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"noreferrer\">Unlimited Strength Jurisdiction Policy</a>. Otherwise, AES with key size of 256 won't work and throw an exception:</p>\n\n<pre><code>java.security.InvalidKeyException: Illegal key size\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I have replaced <a href=\"https://olabini.com/blog/tag/evp_bytestokey/\" rel=\"noreferrer\">Ola Bini's Java code</a> of <code>EVP_BytesToKey</code>, which I used in the first version of my answer, with a more idiomatic and easier to understand Java code (see above).</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/11783062/how-to-decrypt-file-in-java-encrypted-with-openssl-command-using-aes\">How to decrypt file in Java encrypted with openssl command using AES?</a>.</p>\n"}],"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46219,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":41434590,"answer_count":2,"score":22,"last_activity_date":1671733952,"creation_date":1483388778,"question_id":41432896,"body_markdown":"I&#39;m only asking this because I have read many posts for 2 days now about crypto AES encryption, and just when I thought I was getting it, I realized I wasn&#39;t getting it at all.  \r\n\r\nThis post is the closest one to my issue, I have exactly the same problem but it is unanswered:\r\n\r\n[CryptoJS AES encryption and JAVA AES decryption value mismatch][1]\r\n\r\nI have tried doing it in many ways but I haven&#39;t gotten it right.\r\n\r\n\r\n**First Off**\r\n\r\n**I&#39;m getting the already encrypted string (I only got the code to see how they were doing it), so modifying the encryption way is not an option. That&#39;s why all the similar questions aren&#39;t that useful to me.**\r\n\r\n**Second**\r\n\r\n**I do have access to the secret key and I can modify it (so adjusting length is an option if neccessary).**\r\n\r\n\r\nThe encryption is done on CryptoJS and they send the encrypted string as a GET parameter.\r\n\r\n\r\n    GetParamsForAppUrl.prototype.generateUrlParams = function() {\r\n    const self = this;\r\n     return new Promise((resolve, reject) =&gt; {\r\n       const currentDateInMilliseconds = new Date().getTime();\r\n       const secret = tokenSecret.secret;\r\n       var encrypted = CryptoJS.AES.encrypt(self.authorization, secret);\r\n       encrypted = encrypted.toString();\r\n       self.urlParams = {\r\n         token: encrypted,\r\n         time: currentDateInMilliseconds\r\n       };\r\n       resolve();\r\n     });\r\n    };\r\n\r\nI can easily decrypt this on javascript using CryptoJS with:\r\n\r\n    var decrypted = CryptoJS.AES.decrypt(encrypted_string, secret);\r\n        console.log(decrypted.toString(CryptoJS.enc.Utf8)); \r\n\r\n\r\nBut I don&#39;t want to do this on Javascript, for security reasons, so I&#39;m trying to decrypt this on Java:\r\n\r\n    String secret = &quot;secret&quot;;\r\n    byte[] cipherText = encrypted_string.getBytes(&quot;UTF8&quot;);\r\n    SecretKey secKey = new SecretKeySpec(secret.getBytes(), &quot;AES&quot;);\r\n    Cipher aesCipher = Cipher.getInstance(&quot;AES&quot;);\r\n    aesCipher.init(Cipher.DECRYPT_MODE, secKey);\r\n    byte[] bytePlainText = aesCipher.doFinal(byteCipherText);\r\n    String myDecryptedText = = new String(bytePlainText);\r\n\r\n\r\nBefore I had any idea of what I was doing, I tried base64 decoding, adding some IV and a lot of stuff I read, of course none of it worked. \r\n\r\nBut after I started to understand, kinda, what I was doing, I wrote that simple script above, and got me the same error on the post: **Invalid AES key length**\r\n\r\n\r\nI don&#39;t know where to go from here. After reading a lot about this, the solution seems to be hashing or padding, but I have no control on the encryption method, so I can&#39;t really hash the secret or pad it.\r\n\r\nBut as I said, I can change the secret key so it can match some specific length, and I have tried changing it, but as I&#39;m shooting in the dark here, I don&#39;t really know if this is the solution.\r\n\r\nSo, my question basically is, If I got the encrypted string (**in javascript like the first script**) and the secret key, is there a way to decrypt it (**in Java**)? If so, how to do it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17780734/cryptojs-aes-encryption-and-java-aes-decryption-value-mismatch","title":"CryptoJS AES encryption and Java AES decryption","body":"<p>I'm only asking this because I have read many posts for 2 days now about crypto AES encryption, and just when I thought I was getting it, I realized I wasn't getting it at all.  </p>\n\n<p>This post is the closest one to my issue, I have exactly the same problem but it is unanswered:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17780734/cryptojs-aes-encryption-and-java-aes-decryption-value-mismatch\">CryptoJS AES encryption and JAVA AES decryption value mismatch</a></p>\n\n<p>I have tried doing it in many ways but I haven't gotten it right.</p>\n\n<p><strong>First Off</strong></p>\n\n<p><strong>I'm getting the already encrypted string (I only got the code to see how they were doing it), so modifying the encryption way is not an option. That's why all the similar questions aren't that useful to me.</strong></p>\n\n<p><strong>Second</strong></p>\n\n<p><strong>I do have access to the secret key and I can modify it (so adjusting length is an option if neccessary).</strong></p>\n\n<p>The encryption is done on CryptoJS and they send the encrypted string as a GET parameter.</p>\n\n<pre><code>GetParamsForAppUrl.prototype.generateUrlParams = function() {\nconst self = this;\n return new Promise((resolve, reject) =&gt; {\n   const currentDateInMilliseconds = new Date().getTime();\n   const secret = tokenSecret.secret;\n   var encrypted = CryptoJS.AES.encrypt(self.authorization, secret);\n   encrypted = encrypted.toString();\n   self.urlParams = {\n     token: encrypted,\n     time: currentDateInMilliseconds\n   };\n   resolve();\n });\n};\n</code></pre>\n\n<p>I can easily decrypt this on javascript using CryptoJS with:</p>\n\n<pre><code>var decrypted = CryptoJS.AES.decrypt(encrypted_string, secret);\n    console.log(decrypted.toString(CryptoJS.enc.Utf8)); \n</code></pre>\n\n<p>But I don't want to do this on Javascript, for security reasons, so I'm trying to decrypt this on Java:</p>\n\n<pre><code>String secret = \"secret\";\nbyte[] cipherText = encrypted_string.getBytes(\"UTF8\");\nSecretKey secKey = new SecretKeySpec(secret.getBytes(), \"AES\");\nCipher aesCipher = Cipher.getInstance(\"AES\");\naesCipher.init(Cipher.DECRYPT_MODE, secKey);\nbyte[] bytePlainText = aesCipher.doFinal(byteCipherText);\nString myDecryptedText = = new String(bytePlainText);\n</code></pre>\n\n<p>Before I had any idea of what I was doing, I tried base64 decoding, adding some IV and a lot of stuff I read, of course none of it worked. </p>\n\n<p>But after I started to understand, kinda, what I was doing, I wrote that simple script above, and got me the same error on the post: <strong>Invalid AES key length</strong></p>\n\n<p>I don't know where to go from here. After reading a lot about this, the solution seems to be hashing or padding, but I have no control on the encryption method, so I can't really hash the secret or pad it.</p>\n\n<p>But as I said, I can change the secret key so it can match some specific length, and I have tried changing it, but as I'm shooting in the dark here, I don't really know if this is the solution.</p>\n\n<p>So, my question basically is, If I got the encrypted string (<strong>in javascript like the first script</strong>) and the secret key, is there a way to decrypt it (<strong>in Java</strong>)? If so, how to do it?</p>\n"},{"tags":["java","jsp","tomcat","configuration"],"answers":[{"comments":[{"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"score":0,"creation_date":1561728617,"post_id":56807441,"comment_id":100169766,"body_markdown":"That was it.  Those parameters were set to 1.8 on my laptop, not set at all on the server.","body":"That was it.  Those parameters were set to 1.8 on my laptop, not set at all on the server."},{"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"score":2,"creation_date":1561728831,"post_id":56807441,"comment_id":100169863,"body_markdown":"I proposed an edit to paste an example of the correct configuration into your answer.","body":"I proposed an edit to paste an example of the correct configuration into your answer."},{"owner":{"account_id":479676,"reputation":911,"user_id":892487,"display_name":"metaforge"},"score":0,"creation_date":1637707532,"post_id":56807441,"comment_id":123897889,"body_markdown":"Good answer.  How annoying though...  It should be set to 1.8 by default as that is the LTS version.","body":"Good answer.  How annoying though...  It should be set to 1.8 by default as that is the LTS version."}],"tags":[],"owner":{"account_id":4360446,"reputation":2005,"user_id":3557714,"display_name":"Ben R."},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1561729038,"creation_date":1561726828,"answer_id":56807441,"question_id":56807251,"body_markdown":"Per https://tomcat.apache.org/tomcat-8.0-doc/jasper-howto.html,\r\n\r\nThe servlet which implements Jasper is configured using init parameters in your global $CATALINA_BASE/conf/web.xml.\r\n\r\n&gt; \r\ncompilerSourceVM - What JDK version are the source files compatible with? (Default value: 1.7)\r\ncompilerTargetVM - What JDK version are the generated files compatible with? (Default value: 1.7)\r\n\r\nTo give an example, if your `web.xml` file contains the following code, it will compile JSP to the 1.8 language level:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\r\n            &lt;param-value&gt;1.8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;fork&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;xpoweredBy&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;3&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n","title":"Tomcat uses a Java 8 SDK but won&#39;t compile JSP with Java 8 language feature. How to fix it?","body":"<p>Per <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/jasper-howto.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/jasper-howto.html</a>,</p>\n\n<p>The servlet which implements Jasper is configured using init parameters in your global $CATALINA_BASE/conf/web.xml.</p>\n\n<blockquote>\n  <p>compilerSourceVM - What JDK version are the source files compatible with? (Default value: 1.7)\n  compilerTargetVM - What JDK version are the generated files compatible with? (Default value: 1.7)</p>\n</blockquote>\n\n<p>To give an example, if your <code>web.xml</code> file contains the following code, it will compile JSP to the 1.8 language level:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\n\n    &lt;init-param&gt;\n        &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;\n        &lt;param-value&gt;1.8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;init-param&gt;\n        &lt;param-name&gt;fork&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;xpoweredBy&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;3&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"score":1,"creation_date":1671735036,"post_id":74892553,"comment_id":132167005,"body_markdown":"Probably a different problem, since mine was configuration based, but I&#39;m glad  it worked out for you!","body":"Probably a different problem, since mine was configuration based, but I&#39;m glad  it worked out for you!"}],"tags":[],"owner":{"account_id":27329737,"reputation":1,"user_id":20842070,"display_name":"Fanzo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671733673,"creation_date":1671733673,"answer_id":74892553,"question_id":56807251,"body_markdown":"I had this problem with JDK1.8 and Tomcat9.0  and navigated all of google. \r\n\r\nMy solution: Reinstall Tomcat9, very very clear and Start Ok!\r\n\r\nSomething in Tomcat crashed and we dont know!!! ","title":"Tomcat uses a Java 8 SDK but won&#39;t compile JSP with Java 8 language feature. How to fix it?","body":"<p>I had this problem with JDK1.8 and Tomcat9.0  and navigated all of google.</p>\n<p>My solution: Reinstall Tomcat9, very very clear and Start Ok!</p>\n<p>Something in Tomcat crashed and we dont know!!!</p>\n"}],"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4173,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56807441,"answer_count":2,"score":5,"last_activity_date":1671733673,"creation_date":1561726060,"question_id":56807251,"body_markdown":"I think I&#39;m looking at a Tomcat configuration issue with my current problem.  I&#39;m developing a Java Servlet and JSP application for Tomcat 8.5.8, and have begun to use Java 8 language features (specifically method references and streams).  On my local machine running jdk1.8.0_211 the new code works, compiling JSP at runtime as it is meant to do.\r\n\r\nOn our testing server (RH Linux) the new JSP fails to compile (but the rest of the app works).  The error is \r\n\r\n    org.apache.jasper.JasperException: Unable to compile class for JSP: \r\n    \r\n    An error occurred at line: 135 in the jsp file: /jsp/directory/page.jsp\r\n    Method references are allowed only at source level 1.8 or above\r\n\r\nI didn&#39;t set up the server myself, but it runs some build of Java 8, and has the same Tomcat version (8.5.8), so I suspect there&#39;s a configuration file somewhere that&#39;s telling it to compile the JSP at an older language level.  (The evidence is that it *knows what a Method reference is* but refuses to compile it; an exception rather than an error.)\r\n\r\nWhere might a configuration be hiding that tells Tomcat to compile JSP at an older language level?","title":"Tomcat uses a Java 8 SDK but won&#39;t compile JSP with Java 8 language feature. How to fix it?","body":"<p>I think I'm looking at a Tomcat configuration issue with my current problem.  I'm developing a Java Servlet and JSP application for Tomcat 8.5.8, and have begun to use Java 8 language features (specifically method references and streams).  On my local machine running jdk1.8.0_211 the new code works, compiling JSP at runtime as it is meant to do.</p>\n\n<p>On our testing server (RH Linux) the new JSP fails to compile (but the rest of the app works).  The error is </p>\n\n<pre><code>org.apache.jasper.JasperException: Unable to compile class for JSP: \n\nAn error occurred at line: 135 in the jsp file: /jsp/directory/page.jsp\nMethod references are allowed only at source level 1.8 or above\n</code></pre>\n\n<p>I didn't set up the server myself, but it runs some build of Java 8, and has the same Tomcat version (8.5.8), so I suspect there's a configuration file somewhere that's telling it to compile the JSP at an older language level.  (The evidence is that it <em>knows what a Method reference is</em> but refuses to compile it; an exception rather than an error.)</p>\n\n<p>Where might a configuration be hiding that tells Tomcat to compile JSP at an older language level?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671733249,"post_id":74892414,"comment_id":132166466,"body_markdown":"security config depends on user service, user service depends on security config (password encoder only;) ..solution: declare password encoder outside/&quot;above&quot; security config ;)","body":"security config depends on user service, user service depends on security config (password encoder only;) ..solution: declare password encoder outside/&quot;above&quot; security config ;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671733719,"post_id":74892414,"comment_id":132166607,"body_markdown":"alternatively: refactor user service from `@Service` to `@Bean`","body":"alternatively: refactor user service from <code>@Service</code> to <code>@Bean</code>"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1671739398,"post_id":74892414,"comment_id":132168064,"body_markdown":"Since the only thing that SecurityConfig needs UserService for is as a UserDetailsService, you could create an independent UserDetailsService. A separate @Service that implements the one method `public UserDetails loadUserByUsername(String email)`","body":"Since the only thing that SecurityConfig needs UserService for is as a UserDetailsService, you could create an independent UserDetailsService. A separate @Service that implements the one method <code>public UserDetails loadUserByUsername(String email)</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671748290,"post_id":74892414,"comment_id":132170197,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906119,"post_id":74892414,"comment_id":132195889,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24807421,"reputation":1,"user_id":18689252,"display_name":"eliud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671733059,"creation_date":1671732863,"question_id":74892414,"body_markdown":"I am having this error...I kind of know what it mean but I can&#39;t figure how to go about it. Someone willing to help me out? Thanks.\r\n\r\n***************************\r\n\r\nAPPLICATION FAILED TO START\r\n\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  securityConfig (field private ro.sda.finalproject.service.UserService ro.sda.finalproject.config.security.SecurityConfig.userService)\r\n↑     ↓\r\n|  userService defined in file \\[D:\\\\Proiect-Final\\\\target\\\\classes\\\\ro\\\\sda\\\\finalproject\\\\service\\\\UserService.class\\]\r\n└─────┘\r\n\r\n\r\n[enter image description here][1]\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\nProcess finished with exit code 0\r\n\r\n\r\nSee below the two classes:\r\n\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport ro.sda.finalproject.config.security.UserPrincipal;\r\nimport ro.sda.finalproject.controller.exception.ResourceAlreadyExistsException;\r\nimport ro.sda.finalproject.controller.exception.ResourceNotFoundException;\r\nimport ro.sda.finalproject.dto.UserDto;\r\nimport ro.sda.finalproject.enums.RoleType;\r\nimport ro.sda.finalproject.mapper.UserMapper;\r\nimport ro.sda.finalproject.model.Role;\r\nimport ro.sda.finalproject.model.User;\r\nimport ro.sda.finalproject.repository.RoleRepository;\r\nimport ro.sda.finalproject.repository.UserRepository;\r\n\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\npublic class UserService implements UserDetailsService {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(UserService.class);\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    private RoleRepository roleRepository;\r\n    private UserMapper userMapper;\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    public UserService(UserRepository userRepository,\r\n                       RoleRepository roleRepository,\r\n                       UserMapper userMapper,\r\n                       PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.roleRepository = roleRepository;\r\n        this.userMapper = userMapper;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @Transactional\r\n    public void save(UserDto userDto) {\r\n        log.info(&quot;save user {}&quot;, userDto);\r\n\r\n        String email = userDto.getEmail();\r\n        userRepository.findByEmail(email)\r\n                .map(existingUser -&gt; {\r\n                    log.error(&quot;user with email {} already exists&quot;, email);\r\n                    throw new ResourceAlreadyExistsException(&quot;user with email &quot; + email + &quot; already exists&quot;);\r\n                })\r\n                .orElseGet(() -&gt; saveUser(userDto));\r\n    }\r\n\r\n    public List&lt;UserDto&gt; findAll() {\r\n        log.info(&quot;find users&quot;);\r\n\r\n        return userRepository.findAll().stream()\r\n                .map(user -&gt; userMapper.map(user))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public User findByEmail(String email) {\r\n        log.info(&quot;find user by email {}&quot;, email);\r\n\r\n        return userRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(email + &quot; not found&quot;));\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        return userRepository.findByEmail(email)\r\n                .map(user -&gt; {\r\n\r\n                    Set&lt;Role&gt; roles = roleRepository.getRoles(user.getUserId());\r\n                    return new UserPrincipal(user, roles);\r\n                })\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(email + &quot; not found&quot;));\r\n    }\r\n\r\n    public UserDto findById(Long id) {\r\n\r\n        // find by id from repo\r\n        return userRepository.findById(id)\r\n                .map(user -&gt; userMapper.map(user))\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\r\n    }\r\n\r\n    public void update(UserDto dto) {\r\n        userRepository.findById(dto.getUserId())\r\n                .map(user -&gt; userMapper.update(user, dto))\r\n                .map(updatedUser -&gt; userRepository.save(updatedUser))\r\n                .orElseThrow(() -&gt; {\r\n                    throw new ResourceNotFoundException(&quot;user not found&quot;);\r\n                });\r\n    }\r\n\r\n    public void enable(Long id) {\r\n        log.info(&quot;enable user {}&quot;, id);\r\n\r\n        userRepository.findById(id)\r\n                .map(foundUser -&gt; {\r\n                    foundUser.setEnabled(true);\r\n                    return userRepository.save(foundUser);\r\n                })\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\r\n    }\r\n\r\n    public void disable(Long id) {\r\n        log.info(&quot;disable user {}&quot;, id);\r\n\r\n        Role adminRole = roleRepository.findByType(RoleType.ADMIN)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;role not found&quot;));\r\n        long enabledAdminsCount = userRepository.findAll().stream()\r\n                .filter(user -&gt; user.isEnabled())\r\n                .filter(user -&gt; user.getRoles().contains(adminRole))\r\n                .count();\r\n        if (enabledAdminsCount &gt; 1) {\r\n            userRepository.findById(id)\r\n                    .map(foundUser -&gt; {\r\n                        foundUser.setEnabled(false);\r\n                        return userRepository.save(foundUser);\r\n                    })\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\r\n\r\n        } else {\r\n            throw new RuntimeException(&quot;can&#39;t disable last admin&quot;);\r\n        }\r\n    }\r\n\r\n    private User saveUser(UserDto userDto) {\r\n        Role userRole = roleRepository.findByType(RoleType.USER)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;role not found&quot;));\r\n\r\n        // convert user dto to user\r\n        User user = userMapper.map(userDto);\r\n        // encode password\r\n        user.setPassword(passwordEncoder.encode(userDto.getPassword()));\r\n        user.addRole(userRole);\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        userRepository.findById(id)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot; + id));\r\n        userRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.access.AccessDeniedHandler;\r\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport ro.sda.finalproject.service.UserService;\r\n\r\n@Configuration\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                // common\r\n                .antMatchers(&quot;/&quot;, &quot;/product-photos/**&quot;, &quot;/index&quot;, &quot;/about&quot;, &quot;/contact&quot;, &quot;/register/**&quot;, &quot;/addToCart&quot;, &quot;/login&quot;, &quot;/search&quot;, &quot;/shoppingCart&quot;).permitAll()\r\n\r\n                // no authorization needed\r\n                .antMatchers(&quot;/home&quot;, &quot;/products/**&quot;).permitAll()\r\n\r\n\r\n                // static resources\r\n                .antMatchers(&quot;/static/favicon.ico&quot;, &quot;/images/**&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;).permitAll()\r\n\r\n                // features and permissions\r\n                // TODO: add all features before production\r\n                .antMatchers().hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated();\r\n\r\n        // add custom login form\r\n        http.formLogin(form -&gt; form.loginPage(&quot;/login&quot;).permitAll());\r\n\r\n        // login with email as username\r\n        http.formLogin().usernameParameter(&quot;email&quot;);\r\n\r\n        // after successful login go to page\r\n        // TODO: find a way to load the correct page depending on role\r\n        http.formLogin().defaultSuccessUrl(&quot;/home&quot;, true);\r\n\r\n        // after logout go to login\r\n        http.logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/home&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n\r\n        // add a custom access denied handler 404 unauthorized\r\n        http.exceptionHandling().accessDeniedHandler(accessDeniedHandler());\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/webjars/**&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(createDaoAuthentication());\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider createDaoAuthentication() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setUserDetailsService(userService);\r\n        provider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return provider;\r\n    }\r\n\r\n    // notifies the session registry that the session is destroyed on logout\r\n    @Bean\r\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n        return new HttpSessionEventPublisher();\r\n    }\r\n\r\n    @Bean\r\n    public AccessDeniedHandler accessDeniedHandler() {\r\n        return new CustomAccessDeniedHandler();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried eliminating the dependency one after another without success\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U4TvU.png","title":"Cyclic Dependency","body":"<p>I am having this error...I kind of know what it mean but I can't figure how to go about it. Someone willing to help me out? Thanks.</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>The dependencies of some of the beans in the application context form a cycle:</p>\n<p>┌─────┐\n|  securityConfig (field private ro.sda.finalproject.service.UserService ro.sda.finalproject.config.security.SecurityConfig.userService)\n↑     ↓\n|  userService defined in file [D:\\Proiect-Final\\target\\classes\\ro\\sda\\finalproject\\service\\UserService.class]\n└─────┘</p>\n<p><a href=\"https://i.stack.imgur.com/U4TvU.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAction:</p>\n<p>Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.</p>\n<p>Process finished with exit code 0</p>\n<p>See below the two classes:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport ro.sda.finalproject.config.security.UserPrincipal;\nimport ro.sda.finalproject.controller.exception.ResourceAlreadyExistsException;\nimport ro.sda.finalproject.controller.exception.ResourceNotFoundException;\nimport ro.sda.finalproject.dto.UserDto;\nimport ro.sda.finalproject.enums.RoleType;\nimport ro.sda.finalproject.mapper.UserMapper;\nimport ro.sda.finalproject.model.Role;\nimport ro.sda.finalproject.model.User;\nimport ro.sda.finalproject.repository.RoleRepository;\nimport ro.sda.finalproject.repository.UserRepository;\n\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Service\npublic class UserService implements UserDetailsService {\n\n    private static final Logger log = LoggerFactory.getLogger(UserService.class);\n\n    @Autowired\n    private UserRepository userRepository;\n    private RoleRepository roleRepository;\n    private UserMapper userMapper;\n    private PasswordEncoder passwordEncoder;\n\n\n    public UserService(UserRepository userRepository,\n                       RoleRepository roleRepository,\n                       UserMapper userMapper,\n                       PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.userMapper = userMapper;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Transactional\n    public void save(UserDto userDto) {\n        log.info(&quot;save user {}&quot;, userDto);\n\n        String email = userDto.getEmail();\n        userRepository.findByEmail(email)\n                .map(existingUser -&gt; {\n                    log.error(&quot;user with email {} already exists&quot;, email);\n                    throw new ResourceAlreadyExistsException(&quot;user with email &quot; + email + &quot; already exists&quot;);\n                })\n                .orElseGet(() -&gt; saveUser(userDto));\n    }\n\n    public List&lt;UserDto&gt; findAll() {\n        log.info(&quot;find users&quot;);\n\n        return userRepository.findAll().stream()\n                .map(user -&gt; userMapper.map(user))\n                .collect(Collectors.toList());\n    }\n\n    public User findByEmail(String email) {\n        log.info(&quot;find user by email {}&quot;, email);\n\n        return userRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(email + &quot; not found&quot;));\n    }\n\n    @Transactional\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return userRepository.findByEmail(email)\n                .map(user -&gt; {\n\n                    Set&lt;Role&gt; roles = roleRepository.getRoles(user.getUserId());\n                    return new UserPrincipal(user, roles);\n                })\n                .orElseThrow(() -&gt; new UsernameNotFoundException(email + &quot; not found&quot;));\n    }\n\n    public UserDto findById(Long id) {\n\n        // find by id from repo\n        return userRepository.findById(id)\n                .map(user -&gt; userMapper.map(user))\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\n    }\n\n    public void update(UserDto dto) {\n        userRepository.findById(dto.getUserId())\n                .map(user -&gt; userMapper.update(user, dto))\n                .map(updatedUser -&gt; userRepository.save(updatedUser))\n                .orElseThrow(() -&gt; {\n                    throw new ResourceNotFoundException(&quot;user not found&quot;);\n                });\n    }\n\n    public void enable(Long id) {\n        log.info(&quot;enable user {}&quot;, id);\n\n        userRepository.findById(id)\n                .map(foundUser -&gt; {\n                    foundUser.setEnabled(true);\n                    return userRepository.save(foundUser);\n                })\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\n    }\n\n    public void disable(Long id) {\n        log.info(&quot;disable user {}&quot;, id);\n\n        Role adminRole = roleRepository.findByType(RoleType.ADMIN)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;role not found&quot;));\n        long enabledAdminsCount = userRepository.findAll().stream()\n                .filter(user -&gt; user.isEnabled())\n                .filter(user -&gt; user.getRoles().contains(adminRole))\n                .count();\n        if (enabledAdminsCount &gt; 1) {\n            userRepository.findById(id)\n                    .map(foundUser -&gt; {\n                        foundUser.setEnabled(false);\n                        return userRepository.save(foundUser);\n                    })\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot;));\n\n        } else {\n            throw new RuntimeException(&quot;can't disable last admin&quot;);\n        }\n    }\n\n    private User saveUser(UserDto userDto) {\n        Role userRole = roleRepository.findByType(RoleType.USER)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;role not found&quot;));\n\n        // convert user dto to user\n        User user = userMapper.map(userDto);\n        // encode password\n        user.setPassword(passwordEncoder.encode(userDto.getPassword()));\n        user.addRole(userRole);\n        return userRepository.save(user);\n    }\n\n    public void delete(Long id) {\n        userRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;user not found&quot; + id));\n        userRepository.deleteById(id);\n    }\n}\n</code></pre>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.access.AccessDeniedHandler;\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport ro.sda.finalproject.service.UserService;\n\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                // common\n                .antMatchers(&quot;/&quot;, &quot;/product-photos/**&quot;, &quot;/index&quot;, &quot;/about&quot;, &quot;/contact&quot;, &quot;/register/**&quot;, &quot;/addToCart&quot;, &quot;/login&quot;, &quot;/search&quot;, &quot;/shoppingCart&quot;).permitAll()\n\n                // no authorization needed\n                .antMatchers(&quot;/home&quot;, &quot;/products/**&quot;).permitAll()\n\n\n                // static resources\n                .antMatchers(&quot;/static/favicon.ico&quot;, &quot;/images/**&quot;, &quot;/js/**&quot;, &quot;/css/**&quot;).permitAll()\n\n                // features and permissions\n                // TODO: add all features before production\n                .antMatchers().hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated();\n\n        // add custom login form\n        http.formLogin(form -&gt; form.loginPage(&quot;/login&quot;).permitAll());\n\n        // login with email as username\n        http.formLogin().usernameParameter(&quot;email&quot;);\n\n        // after successful login go to page\n        // TODO: find a way to load the correct page depending on role\n        http.formLogin().defaultSuccessUrl(&quot;/home&quot;, true);\n\n        // after logout go to login\n        http.logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/home&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll();\n\n        // add a custom access denied handler 404 unauthorized\n        http.exceptionHandling().accessDeniedHandler(accessDeniedHandler());\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/webjars/**&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(createDaoAuthentication());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider createDaoAuthentication() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userService);\n        provider.setPasswordEncoder(passwordEncoder());\n\n        return provider;\n    }\n\n    // notifies the session registry that the session is destroyed on logout\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n\n    @Bean\n    public AccessDeniedHandler accessDeniedHandler() {\n        return new CustomAccessDeniedHandler();\n    }\n}\n</code></pre>\n<p>I tried eliminating the dependency one after another without success</p>\n"},{"tags":["java","algorithm","sorting","data-structures","merge"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1671538896,"post_id":74862990,"comment_id":132116599,"body_markdown":"In which line exactly do you get the exception? Have you tried debugging yet?","body":"In which line exactly do you get the exception? Have you tried debugging yet?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1671539024,"post_id":74862990,"comment_id":132116641,"body_markdown":"Why does your loop go until `i&lt;left.length` if you are printing elements from the array `centre`? In this case it should be `i&lt;centre.length`.","body":"Why does your loop go until <code>i&lt;left.length</code> if you are printing elements from the array <code>centre</code>? In this case it should be <code>i&lt;centre.length</code>."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671540021,"creation_date":1671539189,"answer_id":74863084,"question_id":74862990,"body_markdown":"`copyOfRange` expects the first index (inclusive) and the last index (exclusive) of the array.\r\n\r\nTherefore passing `sizeCenter` and `sizeRight` as the last argument is wrong.\r\n\r\nTherefore the splitting should be as follows:\r\n\r\n    int[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\r\n    int[] centre = Arrays.copyOfRange(arr, sizeLeft, sizeLeft + sizeCenter);\r\n    int[] right = Arrays.copyOfRange(arr, sizeLeft + sizeCenter, arr.length);\r\n\r\nFrom Javadoc:\r\n&gt;\r\n&gt;**int[] java.util.Arrays.copyOfRange(int[] original, int from, int to)**\r\n&gt;\r\n&gt;**Parameters:**\r\n&gt;\r\n&gt;**original** the array from which a range is to be copied\r\n&gt;\r\n&gt;**from** the initial index of the range to be copied, inclusive\r\n&gt;\r\n&gt;**to** the final index of the range to be copied, exclusive.(This index may lie outside the array.)\r\n\r\nP.S. you don&#39;t need a loop to print your arrays. Just use `System.out.println (Arrays.toString (left));`, etc...","title":"How to split an Array into 3 parts e.g int[] {8,3,6,2,9,5,1,7,4}. i am trying to write a mergesort method and i havve been stuck for over a day","body":"<p><code>copyOfRange</code> expects the first index (inclusive) and the last index (exclusive) of the array.</p>\n<p>Therefore passing <code>sizeCenter</code> and <code>sizeRight</code> as the last argument is wrong.</p>\n<p>Therefore the splitting should be as follows:</p>\n<pre><code>int[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\nint[] centre = Arrays.copyOfRange(arr, sizeLeft, sizeLeft + sizeCenter);\nint[] right = Arrays.copyOfRange(arr, sizeLeft + sizeCenter, arr.length);\n</code></pre>\n<p>From Javadoc:</p>\n<blockquote>\n<p><strong>int[] java.util.Arrays.copyOfRange(int[] original, int from, int to)</strong></p>\n<p><strong>Parameters:</strong></p>\n<p><strong>original</strong> the array from which a range is to be copied</p>\n<p><strong>from</strong> the initial index of the range to be copied, inclusive</p>\n<p><strong>to</strong> the final index of the range to be copied, exclusive.(This index may lie outside the array.)</p>\n</blockquote>\n<p>P.S. you don't need a loop to print your arrays. Just use <code>System.out.println (Arrays.toString (left));</code>, etc...</p>\n"},{"tags":[],"owner":{"account_id":10208417,"reputation":138,"user_id":12024466,"display_name":"Ranjit M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671539238,"creation_date":1671539238,"answer_id":74863094,"question_id":74862990,"body_markdown":"You can do via Java 8 : \r\n\r\n\r\n    int[] array = {8,3,6,2,9,5,1,7,4};\r\n    \r\n            int size = array.length / 3; // to get the size of 3 subarrays\r\n    \r\n            int[][] subarrays = IntStream.range(0, 3)\r\n                    .mapToObj(i -&gt; Arrays.copyOfRange(array, i * size, (i + 1) * size))\r\n                    .toArray(int[][]::new);\r\n    \r\n            for (int[] subarray : subarrays) {\r\n                System.out.println(Arrays.toString(subarray));\r\n            }","title":"How to split an Array into 3 parts e.g int[] {8,3,6,2,9,5,1,7,4}. i am trying to write a mergesort method and i havve been stuck for over a day","body":"<p>You can do via Java 8 :</p>\n<pre><code>int[] array = {8,3,6,2,9,5,1,7,4};\n\n        int size = array.length / 3; // to get the size of 3 subarrays\n\n        int[][] subarrays = IntStream.range(0, 3)\n                .mapToObj(i -&gt; Arrays.copyOfRange(array, i * size, (i + 1) * size))\n                .toArray(int[][]::new);\n\n        for (int[] subarray : subarrays) {\n            System.out.println(Arrays.toString(subarray));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27307430,"reputation":117,"user_id":20823153,"display_name":"itshagunrathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671733057,"creation_date":1671733057,"answer_id":74892451,"question_id":74862990,"body_markdown":"Looks like you are passing the wrong indices to the array of range method.\r\n\r\nTry using this \r\n\r\n    int sizeLeft = div + (mod == 1 ? 1 : 0);\r\n    int sizeCenter = div + (mod == 2 ? 1 : 0);\r\n    int sizeRight = div + (mod == 2 ? 1 : 0);\r\n    int[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\r\n    int[] centre = Arrays.copyOfRange(arr, sizeLeft, sizeLeft + sizeCenter);\r\n    int[] right = Arrays.copyOfRange(arr, sizeLeft + sizeCenter, sizeLeft + sizeCenter + sizeRight);","title":"How to split an Array into 3 parts e.g int[] {8,3,6,2,9,5,1,7,4}. i am trying to write a mergesort method and i havve been stuck for over a day","body":"<p>Looks like you are passing the wrong indices to the array of range method.</p>\n<p>Try using this</p>\n<pre><code>int sizeLeft = div + (mod == 1 ? 1 : 0);\nint sizeCenter = div + (mod == 2 ? 1 : 0);\nint sizeRight = div + (mod == 2 ? 1 : 0);\nint[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\nint[] centre = Arrays.copyOfRange(arr, sizeLeft, sizeLeft + sizeCenter);\nint[] right = Arrays.copyOfRange(arr, sizeLeft + sizeCenter, sizeLeft + sizeCenter + sizeRight);\n</code></pre>\n"}],"owner":{"account_id":27307227,"reputation":5,"user_id":20822983,"display_name":"Antonio Safi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671733057,"creation_date":1671538682,"question_id":74862990,"body_markdown":"just a check to see if the array is split the left array gets split but the centre has no elemnts in it.\r\n//i havent finished the code once i am able to split the array into three parts i can call the mergesort3 method to recursivley keep splitting it until there is no more items left to split.\r\nthen i can merge them using merge3 method.just a check to see if the array is split the left array gets split but the centre has no elemnts in it.\r\n//i havent finished the code once i am able to split the array into three parts i can call the mergesort3 method to recursivley keep splitting it until there is no more items left to split.\r\nthen i can merge them using merge3 method.\r\n```\r\n\r\npublic static int[] mergesort3(int[] arr) {\r\n\r\n    int elements = arr.length;\r\n    int mod = elements % 3;\r\n    int div = elements / 3;\r\n\r\n    int sizeLeft = div + (mod &gt; 0 ? 1 : 0);\r\n    int sizeCenter = div+ (mod &gt; 0 ? 1 : 0);\r\n    int sizeRight = div + (mod &gt; 1 ? 1 : 0);\r\n    int[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\r\n    int[] centre = Arrays.copyOfRange(arr, sizeLeft+1, sizeCenter);\r\n    int[] right = Arrays.copyOfRange(arr, sizeCenter+1, sizeRight);\r\n\r\n  \r\n\r\n*****\r\nbut i am stuck on the first step of splitting this array into three different parts.\r\n   //just to check if the array will print its values.\r\n for (int i = 0;i&lt;left.length; i++){\r\n        System.out.println(centre[i]);\r\n    }\r\n//i get a illegal arugment exception.\r\n\r\n    return merge3(left, centre, right);\r\n```\r\n\r\n\r\ni have tried searching online for help but i am struggling i would really appreciate if someone could point me in the right direction.","title":"How to split an Array into 3 parts e.g int[] {8,3,6,2,9,5,1,7,4}. i am trying to write a mergesort method and i havve been stuck for over a day","body":"<p>just a check to see if the array is split the left array gets split but the centre has no elemnts in it.\n//i havent finished the code once i am able to split the array into three parts i can call the mergesort3 method to recursivley keep splitting it until there is no more items left to split.\nthen i can merge them using merge3 method.just a check to see if the array is split the left array gets split but the centre has no elemnts in it.\n//i havent finished the code once i am able to split the array into three parts i can call the mergesort3 method to recursivley keep splitting it until there is no more items left to split.\nthen i can merge them using merge3 method.</p>\n<pre><code>\npublic static int[] mergesort3(int[] arr) {\n\n    int elements = arr.length;\n    int mod = elements % 3;\n    int div = elements / 3;\n\n    int sizeLeft = div + (mod &gt; 0 ? 1 : 0);\n    int sizeCenter = div+ (mod &gt; 0 ? 1 : 0);\n    int sizeRight = div + (mod &gt; 1 ? 1 : 0);\n    int[] left = Arrays.copyOfRange(arr, 0, sizeLeft);\n    int[] centre = Arrays.copyOfRange(arr, sizeLeft+1, sizeCenter);\n    int[] right = Arrays.copyOfRange(arr, sizeCenter+1, sizeRight);\n\n  \n\n*****\nbut i am stuck on the first step of splitting this array into three different parts.\n   //just to check if the array will print its values.\n for (int i = 0;i&lt;left.length; i++){\n        System.out.println(centre[i]);\n    }\n//i get a illegal arugment exception.\n\n    return merge3(left, centre, right);\n</code></pre>\n<p>i have tried searching online for help but i am struggling i would really appreciate if someone could point me in the right direction.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9437,"page":786,"page_size":100}
