{"items":[{"tags":["java","asynchttpclient"],"answers":[{"comments":[{"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"score":0,"creation_date":1686607393,"post_id":76460561,"comment_id":134819529,"body_markdown":"This works. Thank you. One question though. What&#39;s the difference between the first parameter to NioEventLoopGroup and the thread size in the executor. What happens if they are different?","body":"This works. Thank you. One question though. What&#39;s the difference between the first parameter to NioEventLoopGroup and the thread size in the executor. What happens if they are different?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1686607982,"post_id":76460561,"comment_id":134819592,"body_markdown":"Basically you create the thread pool executor with n threads. Then you specify the number of threads in eventloopgroup and provide your executor. It means that this instance of client will use exactly the number of threads that you specified. That&#39;s okay for sure if your executor has more threads than you specified in the eventloopgroup, but I&#39;m not sure what would happen if the executor has less threads than you specified in the eventloopgroup.","body":"Basically you create the thread pool executor with n threads. Then you specify the number of threads in eventloopgroup and provide your executor. It means that this instance of client will use exactly the number of threads that you specified. That&#39;s okay for sure if your executor has more threads than you specified in the eventloopgroup, but I&#39;m not sure what would happen if the executor has less threads than you specified in the eventloopgroup."}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686607000,"creation_date":1686607000,"answer_id":76460561,"question_id":76460313,"body_markdown":"You can do it like this:\r\n\r\n    public AsyncHttpClient asyncHttpClient() {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\r\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\r\n\r\n        DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\r\n                .setEventLoopGroup(eventLoopGroup);\r\n\r\n        return Dsl.asyncHttpClient(configBuilder.build());\r\n    }","title":"How to set an executor for async-http-client?","body":"<p>You can do it like this:</p>\n<pre><code>public AsyncHttpClient asyncHttpClient() {\n    ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\n    EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\n\n    DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\n            .setEventLoopGroup(eventLoopGroup);\n\n    return Dsl.asyncHttpClient(configBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460561,"answer_count":1,"score":0,"last_activity_date":1686607000,"creation_date":1686603755,"question_id":76460313,"body_markdown":"How to setup the thread pool size for async-http-client? I found this - https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3\r\n\r\n    final AsyncHttpClient http =\r\n            asyncHttpClient(\r\n                    config().setThreadPoolName(&quot;CustomThreadPool&quot;));","title":"How to set an executor for async-http-client?","body":"<p>How to setup the thread pool size for async-http-client? I found this - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html</a> to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3</p>\n<pre><code>final AsyncHttpClient http =\n        asyncHttpClient(\n                config().setThreadPoolName(&quot;CustomThreadPool&quot;));\n</code></pre>\n"},{"tags":["java","performance","optimization","collections"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603333,"post_id":76460260,"comment_id":134818925,"body_markdown":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient.","body":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient."},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1686603494,"post_id":76460260,"comment_id":134818959,"body_markdown":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?","body":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603636,"post_id":76460260,"comment_id":134818986,"body_markdown":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less.","body":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686603820,"post_id":76460260,"comment_id":134819024,"body_markdown":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost.","body":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686604509,"post_id":76460260,"comment_id":134819135,"body_markdown":"Side note: `comparing(Foo::getName)` is equivalent to `c`. There&#39;s no need to define the same comparator twice.","body":"Side note: <code>comparing(Foo::getName)</code> is equivalent to <code>c</code>. There&#39;s no need to define the same comparator twice."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686605427,"creation_date":1686605427,"answer_id":76460446,"question_id":76460260,"body_markdown":"There is no point at all in sorting before searching *every time*.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.\r\n\r\nIn your case, however,\r\n\r\n&gt; multiple add operations happened all time\r\n\r\nYou think that ...\r\n\r\n&gt; The problem is that the performed operations sometimes are for name and others for the surname.\r\n\r\n... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.\r\n\r\n&gt; i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\nYes.  Use a `HashMap&lt;String, Foo&gt;` for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The `Foo`s are not duplicated, but the framework of one `ArrayList` will be smaller than that of two `HashMap`s for the same number of elements / entries).\r\n```\r\npublic class MemTest3 {\r\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\r\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        add(&quot;John&quot;,&quot;colins&quot;);\r\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n        add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    }\r\n\r\n    public static void add(String name,String surname){\r\n        Foo foo = new Foo(name, surname);\r\n\r\n        byGivenName.put(name, foo);\r\n        bySurname.put(surname, foo);\r\n        retrieveByGivenName(&quot;Zoe&quot;);\r\n        retrieveBySurname(&quot;adam&quot;);\r\n    }\r\n\r\n    public static foo retrieveByGivenName(String name) {\r\n        return byGivenName.get(name);\r\n    }\r\n\r\n    public static foo retrieveBySurname(String surname) {\r\n        return bySurname.get(surname);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\nI presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>There is no point at all in sorting before searching <em>every time</em>.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.</p>\n<p>In your case, however,</p>\n<blockquote>\n<p>multiple add operations happened all time</p>\n</blockquote>\n<p>You think that ...</p>\n<blockquote>\n<p>The problem is that the performed operations sometimes are for name and others for the surname.</p>\n</blockquote>\n<p>... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.</p>\n<blockquote>\n<p>i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n</blockquote>\n<p>Yes.  Use a <code>HashMap&lt;String, Foo&gt;</code> for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The <code>Foo</code>s are not duplicated, but the framework of one <code>ArrayList</code> will be smaller than that of two <code>HashMap</code>s for the same number of elements / entries).</p>\n<pre><code>public class MemTest3 {\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n    }\n\n    public static void add(String name,String surname){\n        Foo foo = new Foo(name, surname);\n\n        byGivenName.put(name, foo);\n        bySurname.put(surname, foo);\n        retrieveByGivenName(&quot;Zoe&quot;);\n        retrieveBySurname(&quot;adam&quot;);\n    }\n\n    public static foo retrieveByGivenName(String name) {\n        return byGivenName.get(name);\n    }\n\n    public static foo retrieveBySurname(String surname) {\n        return bySurname.get(surname);\n    }\n\n    // ...\n}\n</code></pre>\n<p>I presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686665485,"post_id":76460527,"comment_id":134828270,"body_markdown":"Then, don’t call the method “BinarySearch…”","body":"Then, don’t call the method “BinarySearch…”"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686666011,"post_id":76460527,"comment_id":134828377,"body_markdown":"@Holger, oh wow, what a great idea.","body":"@Holger, oh wow, what a great idea."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686606588,"creation_date":1686606588,"answer_id":76460527,"question_id":76460260,"body_markdown":"&gt; _&quot;... i want an efficient approach to perform searching operations ...&quot;_\r\n\r\n&gt; _&quot;... is there any efficient solution ...&quot;_\r\n\r\nIt entirely depends on the data, against the search criteria.\r\n\r\nStatistically, a single iteration is going to be the most valid approach.  \r\nAs opposed to sorting first, and then searching.\r\n\r\n```java\r\nFoo BinarySearchName(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getName().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n\r\nFoo BinarySearchSurname(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getSurname().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n```","title":"How to avoid sorting every time when do binary search on a list in java","body":"<blockquote>\n<p><em>&quot;... i want an efficient approach to perform searching operations ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... is there any efficient solution ...&quot;</em></p>\n</blockquote>\n<p>It entirely depends on the data, against the search criteria.</p>\n<p>Statistically, a single iteration is going to be the most valid approach.<br />\nAs opposed to sorting first, and then searching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo BinarySearchName(String string) {\n    for (Foo foo : al) {\n        if (foo.getName().equals(string))\n            return foo;\n    }\n    return null;\n}\n\nFoo BinarySearchSurname(String string) {\n    for (Foo foo : al) {\n        if (foo.getSurname().equals(string))\n            return foo;\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686606588,"creation_date":1686603217,"question_id":76460260,"body_markdown":"Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\n\r\n\r\nHere is my dummy solutions:\r\n\r\n**Dummy solution 1**: keep the code as it with the overhead of sort method before i called the binary search.\r\n\r\n**Dummy solution 2**: waste my memory and keep two sorted ArrayList one with name and the other surname and **keep** also the insertion order so as to avoid sort func every time i do a binary search.\r\n\r\nI am sure there is exist another efficient approach can you suggest me please a solution to this problem \r\n\r\n    package Memory;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    public class MemTest2 {\r\n        static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\r\n        public static void main(String[] args) {\r\n    \r\n            add(&quot;John&quot;,&quot;colins&quot;);\r\n            add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n            add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n            add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    \r\n    \r\n            BinarySearchName();\r\n            BinarySearchSurname();\r\n        }\r\n    \r\n        public static void add(String name,String surname){\r\n            al.add(new Foo(name,surname));\r\n        }\r\n    \r\n        public static void BinarySearchName(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getName().compareTo(u2.getName());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getName));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\r\n        }\r\n    \r\n        public static void BinarySearchSurname(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getSurname().compareTo(u2.getSurname());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getSurname));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\r\n        }\r\n    \r\n        private static class Foo{\r\n            private String name;\r\n            private String surname;\r\n    \r\n            public Foo(String name, String surname) {\r\n                this.name = name;\r\n                this.surname = surname;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getSurname() {\r\n                return surname;\r\n            }\r\n    \r\n            public void setSurname(String surname) {\r\n                this.surname = surname;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n<p>Here is my dummy solutions:</p>\n<p><strong>Dummy solution 1</strong>: keep the code as it with the overhead of sort method before i called the binary search.</p>\n<p><strong>Dummy solution 2</strong>: waste my memory and keep two sorted ArrayList one with name and the other surname and <strong>keep</strong> also the insertion order so as to avoid sort func every time i do a binary search.</p>\n<p>I am sure there is exist another efficient approach can you suggest me please a solution to this problem</p>\n<pre><code>package Memory;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class MemTest2 {\n    static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n\n\n        BinarySearchName();\n        BinarySearchSurname();\n    }\n\n    public static void add(String name,String surname){\n        al.add(new Foo(name,surname));\n    }\n\n    public static void BinarySearchName(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getName().compareTo(u2.getName());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getName));\n        int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\n    }\n\n    public static void BinarySearchSurname(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getSurname().compareTo(u2.getSurname());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getSurname));\n        int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\n    }\n\n    private static class Foo{\n        private String name;\n        private String surname;\n\n        public Foo(String name, String surname) {\n            this.name = name;\n            this.surname = surname;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getSurname() {\n            return surname;\n        }\n\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3309368,"reputation":4742,"user_id":2783229,"accept_rate":66,"display_name":"Nitesh Tiwari"},"score":0,"creation_date":1435601559,"post_id":11411022,"comment_id":50257832,"body_markdown":"example to demonstrate with thread example http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html","body":"example to demonstrate with thread example <a href=\"http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html\" rel=\"nofollow noreferrer\">code2concept.blogspot.in/2015/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":370671,"reputation":21814,"user_id":718764,"accept_rate":88,"display_name":"Carnal"},"comment_count":0,"down_vote_count":2,"up_vote_count":817,"is_accepted":true,"score":815,"last_activity_date":1341915138,"creation_date":1341915138,"answer_id":11411087,"question_id":11411022,"body_markdown":"    Looper.myLooper() == Looper.getMainLooper()\r\n\r\nif this returns true, then you&#39;re on the UI thread!","title":"How to check if current thread is not main thread","body":"<pre><code>Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n\n<p>if this returns true, then you're on the UI thread!</p>\n"},{"comments":[{"owner":{"account_id":1255397,"reputation":2306,"user_id":1214974,"accept_rate":67,"display_name":"Janus Varmarken"},"score":10,"creation_date":1452185884,"post_id":11411116,"comment_id":57067068,"body_markdown":"Should one consider the latter as the safer option as there is no guarantee that any arbitrary thread is associated with a Looper (assuming that the main thread is always associated with a looper)?","body":"Should one consider the latter as the safer option as there is no guarantee that any arbitrary thread is associated with a Looper (assuming that the main thread is always associated with a looper)?"},{"owner":{"account_id":3290197,"reputation":8796,"user_id":3682067,"accept_rate":93,"display_name":"Saeed Masoumi"},"score":1,"creation_date":1541233568,"post_id":11411116,"comment_id":93153207,"body_markdown":"`Looper.myLooper()` will return null if the thread is not associated with a Looper. So both are safe and have the same result but the first one is a little bit slower while it searches inside a map to find out the looper and its associated thread and do some other stuff .","body":"<code>Looper.myLooper()</code> will return null if the thread is not associated with a Looper. So both are safe and have the same result but the first one is a little bit slower while it searches inside a map to find out the looper and its associated thread and do some other stuff ."}],"tags":[],"owner":{"account_id":245918,"reputation":27339,"user_id":519718,"accept_rate":92,"display_name":"AAnkit"},"comment_count":2,"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1434367373,"creation_date":1341915244,"answer_id":11411116,"question_id":11411022,"body_markdown":"you can use below code  to know if current thread is UI/Main thread or not\r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n\r\n\r\nor you can also use this \r\n\r\n    if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n[Here is similar question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8714032/519718","title":"How to check if current thread is not main thread","body":"<p>you can use below code  to know if current thread is UI/Main thread or not</p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p>or you can also use this </p>\n\n<pre><code>if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/8714032/519718\">Here is similar question</a></p>\n"},{"tags":[],"owner":{"account_id":287294,"reputation":6275,"user_id":587012,"accept_rate":44,"display_name":"Vishwanath.M"},"comment_count":0,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1341915489,"creation_date":1341915489,"answer_id":11411195,"question_id":11411022,"body_markdown":"you can verify it in android ddms logcat where process id will be same but thread id will be different.","title":"How to check if current thread is not main thread","body":"<p>you can verify it in android ddms logcat where process id will be same but thread id will be different.</p>\n"},{"comments":[{"owner":{"account_id":3122965,"reputation":4550,"user_id":2642390,"display_name":"Mike"},"score":0,"creation_date":1449089065,"post_id":34052602,"comment_id":55859481,"body_markdown":"What do you mean by &quot;under API 23 or higher&quot;? That doesn&#39;t make much sense to me..Also the exact same answer was posted by AAnkit, below..","body":"What do you mean by &quot;under API 23 or higher&quot;? That doesn&#39;t make much sense to me..Also the exact same answer was posted by AAnkit, below.."},{"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"score":1,"creation_date":1449090006,"post_id":34052602,"comment_id":55859990,"body_markdown":"@Mike Thanks, I fixed the API bit.  AAnkit actually favours `Looper.myLooper() == Looper.getMainLooper()`, which I think is less clear.  I credit greg7gkb.","body":"@Mike Thanks, I fixed the API bit.  AAnkit actually favours <code>Looper.myLooper() == Looper.getMainLooper()</code>, which I think is less clear.  I credit greg7gkb."},{"owner":{"account_id":264259,"reputation":5983,"user_id":550393,"accept_rate":51,"display_name":"2cupsOfTech"},"score":2,"creation_date":1501251562,"post_id":34052602,"comment_id":77713030,"body_markdown":"should this be a comparison with == or equals() as Android Studio is raising a warning ?","body":"should this be a comparison with == or equals() as Android Studio is raising a warning ?"},{"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"score":1,"creation_date":1539047412,"post_id":34052602,"comment_id":92349957,"body_markdown":"@2cupsOfTech On 2nd thought, that’s good advice. Currently both tests are the same at runtime because [Thread](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html) does not override `equals`, and so falls back to `==`, but that could change in future. So I corrected the answer.","body":"@2cupsOfTech On 2nd thought, that’s good advice. Currently both tests are the same at runtime because <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> does not override <code>equals</code>, and so falls back to <code>==</code>, but that could change in future. So I corrected the answer."}],"tags":[],"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"comment_count":4,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1559885046,"creation_date":1449088943,"answer_id":34052602,"question_id":11411022,"body_markdown":"The best way is the clearest, most robust way: *\r\n\r\n    Thread.currentThread().equals( Looper.getMainLooper().getThread() )\r\n\r\nOr, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:\r\n\r\n    Looper.getMainLooper().isCurrentThread()\r\n\r\nSee the [Looper API][LooperAPI].  Note that calling `Looper.getMainLooper()` involves synchronization (see the [source][getMainLooperSource]).  You might want to avoid the overhead by storing the return value and reusing it.\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;* *credit [greg7gkb][gregComment] and [2cupsOfTech][2cupsComment]*\r\n\r\n  [2cupsComment]: https://stackoverflow.com/a/34052602\r\n  [getMainLooperSource]: https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\r\n  [gregComment]: https://stackoverflow.com/a/3273018/2402790\r\n  [LooperAPI]: http://developer.android.com/reference/android/os/Looper.html\r\n","title":"How to check if current thread is not main thread","body":"<p>The best way is the clearest, most robust way: *</p>\n\n<pre><code>Thread.currentThread().equals( Looper.getMainLooper().getThread() )\n</code></pre>\n\n<p>Or, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:</p>\n\n<pre><code>Looper.getMainLooper().isCurrentThread()\n</code></pre>\n\n<p>See the <a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"noreferrer\">Looper API</a>.  Note that calling <code>Looper.getMainLooper()</code> involves synchronization (see the <a href=\"https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\" rel=\"noreferrer\">source</a>).  You might want to avoid the overhead by storing the return value and reusing it.</p>\n\n<p>&nbsp;&nbsp;&nbsp;* <em>credit <a href=\"https://stackoverflow.com/a/3273018/2402790\">greg7gkb</a> and <a href=\"https://stackoverflow.com/a/34052602\">2cupsOfTech</a></em></p>\n"},{"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1480427033,"post_id":40867287,"comment_id":68950146,"body_markdown":"I am not sure the UI thread is a daemon but I will believe you on this one. But how will you make the difference with a Daemon Thread that I could (but should not) create.","body":"I am not sure the UI thread is a daemon but I will believe you on this one. But how will you make the difference with a Daemon Thread that I could (but should not) create."},{"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"score":0,"creation_date":1480577679,"post_id":40867287,"comment_id":69022640,"body_markdown":"I tested in my web app, it shows that UI thread is a Daemon thread. I put some debug break points  in eclipse environment and verified it. Thread detail shown as Thread[http-bio-8080-exec-7,5,main]. Clicked on some UI pages and checked the debug point.","body":"I tested in my web app, it shows that UI thread is a Daemon thread. I put some debug break points  in eclipse environment and verified it. Thread detail shown as Thread[http-bio-8080-exec-7,5,main]. Clicked on some UI pages and checked the debug point."},{"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"score":0,"creation_date":1480577856,"post_id":40867287,"comment_id":69022715,"body_markdown":"Also, even if in the thread name details its showing &#39;main&#39; but calling setDaemon(true) on thread object will make it daemon.","body":"Also, even if in the thread name details its showing &#39;main&#39; but calling setDaemon(true) on thread object will make it daemon."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1480578192,"post_id":40867287,"comment_id":69022868,"body_markdown":"You didn&#39;t read the good part ... I wasn&#39;t doubting (completly) about it being a Daemon, I was telling that you can&#39;t make the differences with an other Daemon thread like this.","body":"You didn&#39;t read the good part ... I wasn&#39;t doubting (completly) about it being a Daemon, I was telling that you can&#39;t make the differences with an other Daemon thread like this."},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1495123740,"post_id":40867287,"comment_id":75130858,"body_markdown":"Put another way: a main thread may be a daemon thread, but not all daemon threads are the main thread. (Identifying the main thread is what is being asked here.)","body":"Put another way: a main thread may be a daemon thread, but not all daemon threads are the main thread. (Identifying the main thread is what is being asked here.)"},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1495123981,"post_id":40867287,"comment_id":75131001,"body_markdown":"Also, it&#39;s important to note that the main thread being a daemon is not under programmer control, and an API or VM change could result in this assertion being untrue.","body":"Also, it&#39;s important to note that the main thread being a daemon is not under programmer control, and an API or VM change could result in this assertion being untrue."}],"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"comment_count":6,"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1480426583,"creation_date":1480426583,"answer_id":40867287,"question_id":11411022,"body_markdown":"You can try Thread.currentThread().isDaemon()\r\n","title":"How to check if current thread is not main thread","body":"<p>You can try Thread.currentThread().isDaemon()</p>\n"},{"comments":[{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1636579575,"post_id":41280460,"comment_id":123598417,"body_markdown":"Other answers around Handler recommend using &quot;.postDelayed()&quot; rather than &quot;.post()&quot;.  What is the main difference and can you mention why you recommended using &quot;.post()&quot;?","body":"Other answers around Handler recommend using &quot;.postDelayed()&quot; rather than &quot;.post()&quot;.  What is the main difference and can you mention why you recommended using &quot;.post()&quot;?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1636585996,"post_id":41280460,"comment_id":123600191,"body_markdown":"@AJW Sure, here are the docs: https://developer.android.com/reference/android/os/Handler#post(java.lang.Runnable) https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long) . You use the postDelayed if you wish for the runnable to run at least X ms fro now.","body":"@AJW Sure, here are the docs: <a href=\"https://developer.android.com/reference/android/os/Handler#post(java.lang.Runnable)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a> . You use the postDelayed if you wish for the runnable to run at least X ms fro now."},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1636586129,"post_id":41280460,"comment_id":123600225,"body_markdown":"Excellent, I appreciate the info.","body":"Excellent, I appreciate the info."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1638623722,"post_id":41280460,"comment_id":124140179,"body_markdown":"@androiddeveloper How can i run something not in the main thread???","body":"@androiddeveloper How can i run something not in the main thread???"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1638627979,"post_id":41280460,"comment_id":124141070,"body_markdown":"@KJEjava48 Many ways to do it. The basic one is to create a new `Thread` class and either implement `run` on it or provide a `Runnable` instance to it, and then call `start()` on this `Thread` instance. In Kotlin there is a very short way to do it, using just `thread{ runCodeHere() }` .","body":"@KJEjava48 Many ways to do it. The basic one is to create a new <code>Thread</code> class and either implement <code>run</code> on it or provide a <code>Runnable</code> instance to it, and then call <code>start()</code> on this <code>Thread</code> instance. In Kotlin there is a very short way to do it, using just <code>thread{ runCodeHere() }</code> ."}],"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1526510689,"creation_date":1482400975,"answer_id":41280460,"question_id":11411022,"body_markdown":"Summarizing the solutions, I think that&#39;s the best one:\r\n\r\n    boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \r\n        ? Looper.getMainLooper().isCurrentThread()\r\n        : Thread.currentThread() == Looper.getMainLooper().getThread();\r\n\r\nAnd, if you wish to run something on the UI thread, you can use this:\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n           //this runs on the UI thread\r\n        }\r\n    });","title":"How to check if current thread is not main thread","body":"<p>Summarizing the solutions, I think that's the best one:</p>\n\n<pre><code>boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \n    ? Looper.getMainLooper().isCurrentThread()\n    : Thread.currentThread() == Looper.getMainLooper().getThread();\n</code></pre>\n\n<p>And, if you wish to run something on the UI thread, you can use this:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n       //this runs on the UI thread\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543314242,"creation_date":1543314242,"answer_id":53497524,"question_id":11411022,"body_markdown":"**You can check** \r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // You are on mainThread \r\n    }else{\r\n    // you are on non-ui thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>You can check</strong> </p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // You are on mainThread \n}else{\n// you are on non-ui thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4103031,"reputation":11144,"user_id":3367974,"accept_rate":33,"display_name":"Mehdi Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547627258,"creation_date":1547625638,"answer_id":54212574,"question_id":11411022,"body_markdown":"`Xamarin.Android` port: (_`C#`_)\r\n\r\n    public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\r\n        ? Looper.MainLooper.IsCurrentThread\r\n        : Looper.MyLooper() == Looper.MainLooper;\r\n\r\nUsage:\r\n\r\n    if (IsMainThread) {\r\n        // you are on UI/Main thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><code>Xamarin.Android</code> port: (<em><code>C#</code></em>)</p>\n\n<pre><code>public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\n    ? Looper.MainLooper.IsCurrentThread\n    : Looper.MyLooper() == Looper.MainLooper;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>if (IsMainThread) {\n    // you are on UI/Main thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759227,"reputation":496,"user_id":2376453,"accept_rate":83,"display_name":"NekoKikoushi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566913620,"creation_date":1566913620,"answer_id":57676093,"question_id":11411022,"body_markdown":"Allow me to preface this with:\r\nI acknowledged this post has the &#39;Android&#39; tag, however, my search had nothing to do with &#39;Android&#39; and this was my top result. To that end, for the **non-Android** SO Java users landing here, don&#39;t forget about:\r\n\r\n    public static void main(String[] args{\r\n        Thread.currentThread().setName(&quot;SomeNameIChoose&quot;);\r\n        /*...the rest of main...*/\r\n    }\r\n\r\nAfter setting this, elsewhere in your code, you can easily check if you&#39;re about to execute on the main thread with:\r\n\r\n    if(Thread.currentThread().getName().equals(&quot;SomeNameIChoose&quot;))\r\n    {\r\n        //do something on main thread\r\n    }\r\n\r\nA bit embarrassed I had searched before remembering this, but hopefully it will help someone else!","title":"How to check if current thread is not main thread","body":"<p>Allow me to preface this with:\nI acknowledged this post has the 'Android' tag, however, my search had nothing to do with 'Android' and this was my top result. To that end, for the <strong>non-Android</strong> SO Java users landing here, don't forget about:</p>\n\n<pre><code>public static void main(String[] args{\n    Thread.currentThread().setName(\"SomeNameIChoose\");\n    /*...the rest of main...*/\n}\n</code></pre>\n\n<p>After setting this, elsewhere in your code, you can easily check if you're about to execute on the main thread with:</p>\n\n<pre><code>if(Thread.currentThread().getName().equals(\"SomeNameIChoose\"))\n{\n    //do something on main thread\n}\n</code></pre>\n\n<p>A bit embarrassed I had searched before remembering this, but hopefully it will help someone else!</p>\n"},{"comments":[{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1638621128,"post_id":65793746,"comment_id":124139604,"body_markdown":"How??  Can u pls show that Toast code","body":"How??  Can u pls show that Toast code"},{"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"score":0,"creation_date":1640090696,"post_id":65793746,"comment_id":124508437,"body_markdown":"`Toast.makeText(activity, &quot;Hello main thread&quot;, Toast.LENGTH_LONG).show();`","body":"<code>Toast.makeText(activity, &quot;Hello main thread&quot;, Toast.LENGTH_LONG).show();</code>"}],"tags":[],"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1611067287,"creation_date":1611067287,"answer_id":65793746,"question_id":11411022,"body_markdown":"A simple Toast message works also as a quick check.","title":"How to check if current thread is not main thread","body":"<p>A simple Toast message works also as a quick check.</p>\n"},{"tags":[],"owner":{"account_id":19490079,"reputation":615,"user_id":14258439,"display_name":"Kumar Santanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641722876,"creation_date":1641722876,"answer_id":70640232,"question_id":11411022,"body_markdown":"**First of all check It is main Thread or not**\r\n\r\n&gt; In Kotlin\r\n\r\n    fun isRunningOnMainThread(): Boolean {\r\n        return Thread.currentThread() == Looper.getMainLooper().thread\r\n    }\r\n\r\n&gt; In Java\r\n\r\n    static boolean isRunningOnMainThread() {\r\n      return Thread.currentThread().equals(Looper.getMainLooper().getThread());\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>First of all check It is main Thread or not</strong></p>\n<blockquote>\n<p>In Kotlin</p>\n</blockquote>\n<pre><code>fun isRunningOnMainThread(): Boolean {\n    return Thread.currentThread() == Looper.getMainLooper().thread\n}\n</code></pre>\n<blockquote>\n<p>In Java</p>\n</blockquote>\n<pre><code>static boolean isRunningOnMainThread() {\n  return Thread.currentThread().equals(Looper.getMainLooper().getThread());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12776413,"reputation":640,"user_id":9955950,"display_name":"shubham chouhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646122873,"creation_date":1646122873,"answer_id":71305539,"question_id":11411022,"body_markdown":"just log this line, it should print &quot;main&quot;.\r\n\r\n  **Thread.currentThread().name**","title":"How to check if current thread is not main thread","body":"<p>just log this line, it should print &quot;main&quot;.</p>\n<p><strong>Thread.currentThread().name</strong></p>\n"},{"tags":[],"owner":{"account_id":13893486,"reputation":1259,"user_id":10030894,"display_name":"Nicolas Duponchel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656582315,"creation_date":1656582315,"answer_id":72813622,"question_id":11411022,"body_markdown":"In addition to all previous answers \r\n```kotlin\r\ninline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\r\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\r\n    return block()\r\n}\r\n``` \r\nallows to wrap any method with it, following example : \r\n```kotlin\r\nfun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\r\n```","title":"How to check if current thread is not main thread","body":"<p>In addition to all previous answers</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\n    return block()\n}\n</code></pre>\n<p>allows to wrap any method with it, following example :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":558340,"reputation":1150,"user_id":920849,"display_name":"Stephen Talley"},"score":0,"creation_date":1687643764,"post_id":74778050,"comment_id":134966184,"body_markdown":"Care to elaborate @Renetik? Can you suggest a better solution in a non-Android context?","body":"Care to elaborate @Renetik? Can you suggest a better solution in a non-Android context?"}],"tags":[],"owner":{"account_id":558340,"reputation":1150,"user_id":920849,"display_name":"Stephen Talley"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670887650,"creation_date":1670884274,"answer_id":74778050,"question_id":11411022,"body_markdown":"A coroutines-based, Android-agnostic approach:\r\n\r\n    val onMainThread: Boolean\r\n        get() = Thread.currentThread() === try {\r\n            runBlocking(Dispatchers.Main.immediate) {\r\n                Thread.currentThread()\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            // No main dispatcher has been registered; not in an Android context?\r\n            null\r\n        }\r\n","title":"How to check if current thread is not main thread","body":"<p>A coroutines-based, Android-agnostic approach:</p>\n<pre><code>val onMainThread: Boolean\n    get() = Thread.currentThread() === try {\n        runBlocking(Dispatchers.Main.immediate) {\n            Thread.currentThread()\n        }\n    } catch (e: IllegalStateException) {\n        // No main dispatcher has been registered; not in an Android context?\n        null\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605781,"creation_date":1686605781,"answer_id":76460474,"question_id":11411022,"body_markdown":"So another answer to join the company, for some extension file in kotlin: \r\n\r\n    import android.os.Looper.getMainLooper\r\n    import java.lang.Thread.currentThread\r\n    \r\n    val Thread.isMain get() = getMainLooper().thread == this\r\n    \r\n    val isThreadMain get() = getMainLooper().thread == currentThread()","title":"How to check if current thread is not main thread","body":"<p>So another answer to join the company, for some extension file in kotlin:</p>\n<pre><code>import android.os.Looper.getMainLooper\nimport java.lang.Thread.currentThread\n\nval Thread.isMain get() = getMainLooper().thread == this\n\nval isThreadMain get() = getMainLooper().thread == currentThread()\n</code></pre>\n"}],"owner":{"account_id":1503800,"reputation":10872,"user_id":1407672,"accept_rate":88,"display_name":"Charlie-Blake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171548,"favorite_count":0,"down_vote_count":1,"up_vote_count":463,"accepted_answer_id":11411087,"answer_count":15,"score":462,"last_activity_date":1686605781,"creation_date":1341914940,"question_id":11411022,"body_markdown":"I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?","title":"How to check if current thread is not main thread","body":"<p>I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686669835,"post_id":76460387,"comment_id":134829439,"body_markdown":"I tried it and i don&#39;t think it is searching correctly\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phone-num.digits-only&quot;: {\n        &quot;gt&quot;: &quot;2333333444&quot;,\n        &quot;lte&quot;: &quot;2333333444&quot;\n      }\n    }\n  }\n}\ngets me 0.  BUT if i change lte to something like 222222222222222222, i get some results. I don&#39;t think it is being treated as numbers?","body":"I tried it and i don&#39;t think it is searching correctly {   &quot;query&quot;: {     &quot;range&quot;: {       &quot;phone-num.digits-only&quot;: {         &quot;gt&quot;: &quot;2333333444&quot;,         &quot;lte&quot;: &quot;2333333444&quot;       }     }   } } gets me 0.  BUT if i change lte to something like 222222222222222222, i get some results. I don&#39;t think it is being treated as numbers?"},{"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"score":0,"creation_date":1686754971,"post_id":76460387,"comment_id":134843318,"body_markdown":"don&#39;t make &quot;gt&quot; and &quot;lte&quot; the same value. &quot;gt&quot; means &quot;greater than&quot; and &quot;lte&quot; means &quot;less than or equals&quot;. If you set both to the same value, you&#39;ll get zero results. use the exact query I gave you without changing it.","body":"don&#39;t make &quot;gt&quot; and &quot;lte&quot; the same value. &quot;gt&quot; means &quot;greater than&quot; and &quot;lte&quot; means &quot;less than or equals&quot;. If you set both to the same value, you&#39;ll get zero results. use the exact query I gave you without changing it."},{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686763411,"post_id":76460387,"comment_id":134845224,"body_markdown":"i did. so the issue is still if i search &quot;gt&quot;: &quot;1&quot; &quot;lte:22222222&quot; i get some results. BUT if i use &quot;gt:4&quot; and same lte i get 0 results... somehow it is still thinking the keys are string.","body":"i did. so the issue is still if i search &quot;gt&quot;: &quot;1&quot; &quot;lte:22222222&quot; i get some results. BUT if i use &quot;gt:4&quot; and same lte i get 0 results... somehow it is still thinking the keys are string."},{"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"score":0,"creation_date":1686766694,"post_id":76460387,"comment_id":134845827,"body_markdown":"Yes, they are still stored as strings, but you can still perform a range query on them this way. The difference is that they are sorted alphabetically rather than numerically, so &quot;4&quot; is greater than &quot;2333333444&quot;.","body":"Yes, they are still stored as strings, but you can still perform a range query on them this way. The difference is that they are sorted alphabetically rather than numerically, so &quot;4&quot; is greater than &quot;2333333444&quot;."},{"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"score":0,"creation_date":1686769060,"post_id":76460387,"comment_id":134846209,"body_markdown":"hmm.. so how do i solve queries like 4045555 to 2034445555? I understand there are standards for phone numbers but with country codes etc. things could be different. is there another way to do it with fields during mapping using scripts maybe I can create a &quot;long&quot; field parsing with script? \nAlso, why is there a need for &quot;keyword&quot; inside fields? it&#39;s not being used anywhere?","body":"hmm.. so how do i solve queries like 4045555 to 2034445555? I understand there are standards for phone numbers but with country codes etc. things could be different. is there another way to do it with fields during mapping using scripts maybe I can create a &quot;long&quot; field parsing with script?  Also, why is there a need for &quot;keyword&quot; inside fields? it&#39;s not being used anywhere?"}],"tags":[],"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605116,"creation_date":1686604574,"answer_id":76460387,"question_id":76459496,"body_markdown":"I would instead keep the parsed value field as a keyword field and just use a range query on that. \r\n\r\nHere&#39;s an example of the mapping you could use:\r\n```\r\nPUT phone-numbers-index \r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;analysis&quot;: {\r\n      &quot;normalizer&quot;: {\r\n        &quot;digits-only&quot;: {\r\n          &quot;type&quot;: &quot;custom&quot;,\r\n          &quot;char_filter&quot;: &quot;digits-only&quot;\r\n        }\r\n      },\r\n      &quot;analyzer&quot;: {\r\n        \r\n      },\r\n      &quot;char_filter&quot; : {\r\n        &quot;digits-only&quot;:{\r\n            &quot;type&quot;:&quot;pattern_replace&quot;,\r\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\r\n            &quot;replacement&quot;:&quot;&quot;\r\n        }\r\n      },\r\n      &quot;filter&quot;: {\r\n        \r\n      }\r\n    }\r\n  }, \r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;phone-num&quot;: {\r\n        &quot;type&quot;: &quot;text&quot;,\r\n        &quot;fields&quot;: {\r\n          &quot;keyword&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          },\r\n          &quot;digits-only&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;,\r\n            &quot;normalizer&quot;: &quot;digits-only&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:\r\n\r\n```\r\nGET phone-numbers-index/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;range&quot;: {\r\n      &quot;phone-num.digits-only&quot;: {\r\n        &quot;gt&quot;: &quot;1&quot;,\r\n        &quot;lte&quot;: &quot;2333333444&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444 ","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I would instead keep the parsed value field as a keyword field and just use a range query on that.</p>\n<p>Here's an example of the mapping you could use:</p>\n<pre><code>PUT phone-numbers-index \n{\n  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;normalizer&quot;: {\n        &quot;digits-only&quot;: {\n          &quot;type&quot;: &quot;custom&quot;,\n          &quot;char_filter&quot;: &quot;digits-only&quot;\n        }\n      },\n      &quot;analyzer&quot;: {\n        \n      },\n      &quot;char_filter&quot; : {\n        &quot;digits-only&quot;:{\n            &quot;type&quot;:&quot;pattern_replace&quot;,\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\n            &quot;replacement&quot;:&quot;&quot;\n        }\n      },\n      &quot;filter&quot;: {\n        \n      }\n    }\n  }, \n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;phone-num&quot;: {\n        &quot;type&quot;: &quot;text&quot;,\n        &quot;fields&quot;: {\n          &quot;keyword&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;\n          },\n          &quot;digits-only&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;,\n            &quot;normalizer&quot;: &quot;digits-only&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:</p>\n<pre><code>GET phone-numbers-index/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phone-num.digits-only&quot;: {\n        &quot;gt&quot;: &quot;1&quot;,\n        &quot;lte&quot;: &quot;2333333444&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>This query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444</p>\n"}],"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686605116,"creation_date":1686595848,"question_id":76459496,"body_markdown":"I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results. \r\n\r\n\r\n```\r\n&quot;phone-num&quot;: {\r\n\r\n&quot;text&quot;,\r\n\r\n&quot;fields&quot;: {\r\n\r\n&quot;parsedValue&quot;: {\r\n\r\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\r\n\r\n&quot;type&quot;:&quot;text&quot;\r\n\r\n}}}\r\n```\r\n\r\n\r\nWhen i tried to do a range query:\r\n\r\n```\r\n&quot;query&quot;:{\r\n\r\n&quot;range&quot;:{\r\n\r\n&quot;phone-num.parsedValue&quot;:{\r\n\r\n&quot;from&quot;:1,\r\n\r\n&quot;to&quot;: 2333333444,\r\n\r\n&quot;include_lower&quot;:true,\r\n\r\n&quot;include_upper&quot;:true }}}\r\n```\r\n\r\ni get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:\r\n\r\n1. Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it\r\n\r\n2. If I can&#39;t do it during mapping part, what about parsing as part of the query? \r\n\r\nSo to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can&#39;t search against it due to the result value still being a string.","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results.</p>\n<pre><code>&quot;phone-num&quot;: {\n\n&quot;text&quot;,\n\n&quot;fields&quot;: {\n\n&quot;parsedValue&quot;: {\n\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\n\n&quot;type&quot;:&quot;text&quot;\n\n}}}\n</code></pre>\n<p>When i tried to do a range query:</p>\n<pre><code>&quot;query&quot;:{\n\n&quot;range&quot;:{\n\n&quot;phone-num.parsedValue&quot;:{\n\n&quot;from&quot;:1,\n\n&quot;to&quot;: 2333333444,\n\n&quot;include_lower&quot;:true,\n\n&quot;include_upper&quot;:true }}}\n</code></pre>\n<p>i get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:</p>\n<ol>\n<li><p>Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it</p>\n</li>\n<li><p>If I can't do it during mapping part, what about parsing as part of the query?</p>\n</li>\n</ol>\n<p>So to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can't search against it due to the result value still being a string.</p>\n"},{"tags":["java","android","multithreading","midi","interrupted-exception"],"comments":[{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473169642,"post_id":39211146,"comment_id":66031005,"body_markdown":"Please, provide more information where  `MyRunnable` is called. There its thread is started, cancelled","body":"Please, provide more information where  <code>MyRunnable</code> is called. There its thread is started, cancelled"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170047,"post_id":39211146,"comment_id":66031329,"body_markdown":"@Vyacheslav Certainly - added it just now","body":"@Vyacheslav Certainly - added it just now"},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170361,"post_id":39211146,"comment_id":66031559,"body_markdown":"So, how do you start `AudioActivity`? I just can see you have changed code of the example project.","body":"So, how do you start <code>AudioActivity</code>? I just can see you have changed code of the example project."},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170458,"post_id":39211146,"comment_id":66031623,"body_markdown":"What is `AudioActivity.midiEngine`?","body":"What is <code>AudioActivity.midiEngine</code>?"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170501,"post_id":39211146,"comment_id":66031648,"body_markdown":"@Vyacheslav `AudioActivity` is just the Main Activity for the Android application. The `midiEngine` variable is a `MidiReceiver` subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). `midiEngine` is a static variable owned by `AudioActivity`. I&#39;ll post that class as well if needed","body":"@Vyacheslav <code>AudioActivity</code> is just the Main Activity for the Android application. The <code>midiEngine</code> variable is a <code>MidiReceiver</code> subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). <code>midiEngine</code> is a static variable owned by <code>AudioActivity</code>. I&#39;ll post that class as well if needed"},{"owner":{"account_id":2246691,"reputation":26585,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170707,"post_id":39211146,"comment_id":66031775,"body_markdown":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works.","body":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works."},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170812,"post_id":39211146,"comment_id":66031856,"body_markdown":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI).","body":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI)."}],"answers":[{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605078,"creation_date":1686605078,"answer_id":76460423,"question_id":39211146,"body_markdown":"This is realy old post but I will repond anyway:\r\n\r\nWhile I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.\r\n\r\nI check thread by :\r\n\r\n    val Thread.isMain get() = Looper.getMainLooper().thread == this\r\nor\r\n\r\n    val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\r\n \r\nWhat gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer. \r\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe? \r\n\r\nI doubt so.","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>This is realy old post but I will repond anyway:</p>\n<p>While I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.</p>\n<p>I check thread by :</p>\n<pre><code>val Thread.isMain get() = Looper.getMainLooper().thread == this\n</code></pre>\n<p>or</p>\n<pre><code>val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n<p>What gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer.\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe?</p>\n<p>I doubt so.</p>\n"}],"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1686605078,"creation_date":1472488914,"question_id":39211146,"body_markdown":"Trying to run MIDI on my Android app. I&#39;m following the [midisuite example][1] to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \r\n`InteruptedException`. How should I prevent this threading issue? My knowledge on multithreading isn&#39;t the best or else I would&#39;ve figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn&#39;t woken up yet from its sleep call.\r\n\r\nI followed the github repo with my code as follows:\r\n\r\n`MidiReceiver` subclass: \r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiEngine extends MidiReceiver {\r\n    \r\n        public  AudioActivity activity;\r\n        private MidiEventScheduler eventScheduler;\r\n        private MidiFramer midiFramer;\r\n        private MidiReceiver midiReceiver = new MyReceiver();\r\n    \r\n        private Thread mThread;\r\n        private boolean go;\r\n        private int mProgram;\r\n    \r\n        public MidiEngine() {\r\n            this(new AudioActivity());\r\n        }\r\n    \r\n        public MidiEngine(AudioActivity activity) {\r\n            this.activity = activity;\r\n            midiReceiver = new MyReceiver();\r\n            midiFramer = new MidiFramer(midiReceiver);\r\n        }\r\n    \r\n        public AudioActivity getActivity() {\r\n            return this.activity;\r\n        }\r\n    \r\n        /* This will be called when MIDI data arrives. */\r\n        @Override\r\n        public void onSend(byte[] data, int offset, int count, long timestamp)\r\n                throws IOException {\r\n            if (eventScheduler != null) {\r\n                if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\r\n                    eventScheduler.getReceiver().send(data, offset, count,\r\n                            timestamp);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Custom Listener to send to correct methods\r\n        private class MyReceiver extends MidiReceiver {\r\n            @Override\r\n            public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\r\n                byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\r\n                int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\r\n    \r\n                switch (command) {\r\n                    case MidiConstants.STATUS_NOTE_ON:\r\n                        activity.keyDown(i, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_NOTE_OFF:\r\n                        activity.keyUp(channel, msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\r\n                        activity.keyDown(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PITCH_BEND:\r\n                        activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_CONTROL_CHANGE:\r\n                        activity.ccAction(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PROGRAM_CHANGE:\r\n                        mProgram = msg[1];\r\n                        break;\r\n    \r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        class MyRunnable implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                do {\r\n                    try {\r\n                        activity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                try {\r\n                                    processMidiEvents();\r\n                                }\r\n                                catch (Exception e) {\r\n                                    Log.e(&quot;Java&quot;, &quot;SynthEngine background thread exception.&quot;, e);\r\n                                }\r\n                            }\r\n                        });\r\n                        Thread.sleep(100);\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        Log.e(&quot;Java&quot;, &quot;Threading exception&quot;, e);\r\n                    }\r\n                }\r\n                while (go);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @throws IOException\r\n         *\r\n         */\r\n        private void processMidiEvents() throws IOException {\r\n            long now = System.nanoTime();\r\n            MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            while (event != null) {\r\n                midiFramer.send(event.data, 0, event.count, event.getTimestamp());\r\n                eventScheduler.addEventToPool(event);\r\n                event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            stop();\r\n            go = true;\r\n            mThread = new Thread(new MyRunnable());\r\n            mThread.setPriority(6);\r\n            eventScheduler = new MidiEventScheduler();\r\n            mThread.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            go = false;\r\n            if (mThread != null) {\r\n                try {\r\n                    mThread.interrupt();\r\n                    mThread.join(500);\r\n                }\r\n                catch (Exception e) {\r\n    \r\n                }\r\n                mThread = null;\r\n                eventScheduler = null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nStack Trace Error (line 154 refers to the `Thread.sleep` part in my custom `Runnable` class):\r\n\r\n    Java: Threading exception\r\n          java.lang.InterruptedException\r\n              at java.lang.Thread.sleep(Native Method)\r\n              at java.lang.Thread.sleep(Thread.java:1031)\r\n              at java.lang.Thread.sleep(Thread.java:985)\r\n              at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\r\n                                                                         at java.lang.Thread.run(Thread.java:818)\r\n\r\nThanks!\r\n\r\n**EDIT: Thread start**\r\n----------\r\n\r\nMidi Device Service subclass (thread will start whenever a device has connected or disconnected).\r\n\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiSynthDeviceService extends MidiDeviceService {\r\n        private static final String TAG = &quot;MidiSynthDeviceService&quot;;\r\n        private boolean midiStarted = false;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            AudioActivity.midiEngine.stop();\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        // Declare the receivers associated with your input ports.\r\n        public MidiReceiver[] onGetInputPortReceivers() {\r\n            return new MidiReceiver[] { AudioActivity.midiEngine };\r\n        }\r\n    \r\n        /**\r\n         * This will get called when clients connect or disconnect.\r\n         * You can use it to turn on your synth only when needed.\r\n         */\r\n        @Override\r\n        public void onDeviceStatusChanged(MidiDeviceStatus status) {\r\n    \r\n            if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\r\n                AudioActivity.midiEngine.start();\r\n                midiStarted = true;\r\n            } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\r\n                AudioActivity.midiEngine.stop();\r\n                midiStarted = false;\r\n            }\r\n        }\r\n    }\r\n\r\nActivity class:\r\n\r\n    public class AudioActivity extends AppCompatActivity {\r\n        private Thread thread;\r\n        public static MidiEngine midiEngine;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // Layout inits\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n            // Setup MIDI:\r\n            if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\r\n                Toast.makeText(this, &quot;MIDI not supported!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            else {\r\n                midiEngine = new MidiEngine(this);\r\n                setupMidi();\r\n            }\r\n\r\n            // Setup audio thread:\r\n            if (thread == null) {\r\n                thread = new Thread() {\r\n                    public void run() {\r\n                        setPriority(Thread.MAX_PRIORITY);\r\n                        // Runs an Open SL audio thread (C++)\r\n                        // This generates a waveform. \r\n                        // AudioEngine is a wrapper class connecting C++ to Java\r\n                        AudioEngine.runProcess();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void setupMidi() {\r\n            if (activity == null) activity = (AudioActivity) getContext();\r\n    \r\n            mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\r\n            if (mMidiManager == null) {\r\n                Toast.makeText(activity, &quot;MidiManager is null!&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            // Get Device Info\r\n            MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, &quot;RFOO&quot;, &quot;AudioApp&quot;);\r\n    \r\n            // MIDI Input\r\n            portIndex = 0;\r\n            inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\r\n                    .inputListView, deviceInfo, portIndex);\r\n            inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\r\n   \r\n            midi_ch_input = 0;\r\n            midi_ch_output = 0;\r\n        }\r\n\r\n        // Bunch of UI code here....\r\n    }\r\n\r\n\r\n  [1]: https://github.com/philburk/android-midisuite","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>Trying to run MIDI on my Android app. I'm following the <a href=\"https://github.com/philburk/android-midisuite\">midisuite example</a> to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \n<code>InteruptedException</code>. How should I prevent this threading issue? My knowledge on multithreading isn't the best or else I would've figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn't woken up yet from its sleep call.</p>\n\n<p>I followed the github repo with my code as follows:</p>\n\n<p><code>MidiReceiver</code> subclass: </p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiEngine extends MidiReceiver {\n\n    public  AudioActivity activity;\n    private MidiEventScheduler eventScheduler;\n    private MidiFramer midiFramer;\n    private MidiReceiver midiReceiver = new MyReceiver();\n\n    private Thread mThread;\n    private boolean go;\n    private int mProgram;\n\n    public MidiEngine() {\n        this(new AudioActivity());\n    }\n\n    public MidiEngine(AudioActivity activity) {\n        this.activity = activity;\n        midiReceiver = new MyReceiver();\n        midiFramer = new MidiFramer(midiReceiver);\n    }\n\n    public AudioActivity getActivity() {\n        return this.activity;\n    }\n\n    /* This will be called when MIDI data arrives. */\n    @Override\n    public void onSend(byte[] data, int offset, int count, long timestamp)\n            throws IOException {\n        if (eventScheduler != null) {\n            if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\n                eventScheduler.getReceiver().send(data, offset, count,\n                        timestamp);\n            }\n        }\n    }\n\n    // Custom Listener to send to correct methods\n    private class MyReceiver extends MidiReceiver {\n        @Override\n        public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\n            byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\n            int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\n\n            switch (command) {\n                case MidiConstants.STATUS_NOTE_ON:\n                    activity.keyDown(i, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_NOTE_OFF:\n                    activity.keyUp(channel, msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\n                    activity.keyDown(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PITCH_BEND:\n                    activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_CONTROL_CHANGE:\n                    activity.ccAction(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PROGRAM_CHANGE:\n                    mProgram = msg[1];\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    }\n\n    class MyRunnable implements Runnable {\n        @Override\n        public void run() {\n            do {\n                try {\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            try {\n                                processMidiEvents();\n                            }\n                            catch (Exception e) {\n                                Log.e(\"Java\", \"SynthEngine background thread exception.\", e);\n                            }\n                        }\n                    });\n                    Thread.sleep(100);\n                }\n                catch (InterruptedException e) {\n                    Log.e(\"Java\", \"Threading exception\", e);\n                }\n            }\n            while (go);\n        }\n    }\n\n    /**\n     * @throws IOException\n     *\n     */\n    private void processMidiEvents() throws IOException {\n        long now = System.nanoTime();\n        MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        while (event != null) {\n            midiFramer.send(event.data, 0, event.count, event.getTimestamp());\n            eventScheduler.addEventToPool(event);\n            event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        }\n    }\n\n    public void start() {\n        stop();\n        go = true;\n        mThread = new Thread(new MyRunnable());\n        mThread.setPriority(6);\n        eventScheduler = new MidiEventScheduler();\n        mThread.start();\n    }\n\n    public void stop() {\n        go = false;\n        if (mThread != null) {\n            try {\n                mThread.interrupt();\n                mThread.join(500);\n            }\n            catch (Exception e) {\n\n            }\n            mThread = null;\n            eventScheduler = null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Stack Trace Error (line 154 refers to the <code>Thread.sleep</code> part in my custom <code>Runnable</code> class):</p>\n\n<pre><code>Java: Threading exception\n      java.lang.InterruptedException\n          at java.lang.Thread.sleep(Native Method)\n          at java.lang.Thread.sleep(Thread.java:1031)\n          at java.lang.Thread.sleep(Thread.java:985)\n          at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\n                                                                     at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>Thanks!</p>\n\n<h2><strong>EDIT: Thread start</strong></h2>\n\n<p>Midi Device Service subclass (thread will start whenever a device has connected or disconnected).</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiSynthDeviceService extends MidiDeviceService {\n    private static final String TAG = \"MidiSynthDeviceService\";\n    private boolean midiStarted = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        AudioActivity.midiEngine.stop();\n        super.onDestroy();\n    }\n\n    @Override\n    // Declare the receivers associated with your input ports.\n    public MidiReceiver[] onGetInputPortReceivers() {\n        return new MidiReceiver[] { AudioActivity.midiEngine };\n    }\n\n    /**\n     * This will get called when clients connect or disconnect.\n     * You can use it to turn on your synth only when needed.\n     */\n    @Override\n    public void onDeviceStatusChanged(MidiDeviceStatus status) {\n\n        if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\n            AudioActivity.midiEngine.start();\n            midiStarted = true;\n        } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\n            AudioActivity.midiEngine.stop();\n            midiStarted = false;\n        }\n    }\n}\n</code></pre>\n\n<p>Activity class:</p>\n\n<pre><code>public class AudioActivity extends AppCompatActivity {\n    private Thread thread;\n    public static MidiEngine midiEngine;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Layout inits\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        // Setup MIDI:\n        if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\n            Toast.makeText(this, \"MIDI not supported!\", Toast.LENGTH_LONG).show();\n        }\n        else {\n            midiEngine = new MidiEngine(this);\n            setupMidi();\n        }\n\n        // Setup audio thread:\n        if (thread == null) {\n            thread = new Thread() {\n                public void run() {\n                    setPriority(Thread.MAX_PRIORITY);\n                    // Runs an Open SL audio thread (C++)\n                    // This generates a waveform. \n                    // AudioEngine is a wrapper class connecting C++ to Java\n                    AudioEngine.runProcess();\n                }\n            }\n        }\n    }\n\n    public void setupMidi() {\n        if (activity == null) activity = (AudioActivity) getContext();\n\n        mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\n        if (mMidiManager == null) {\n            Toast.makeText(activity, \"MidiManager is null!\", Toast.LENGTH_LONG).show();\n            return;\n        }\n        // Get Device Info\n        MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, \"RFOO\", \"AudioApp\");\n\n        // MIDI Input\n        portIndex = 0;\n        inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\n                .inputListView, deviceInfo, portIndex);\n        inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\n\n        midi_ch_input = 0;\n        midi_ch_output = 0;\n    }\n\n    // Bunch of UI code here....\n}\n</code></pre>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1463285867,"post_id":37154575,"comment_id":61998340,"body_markdown":"More discussion [here](http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588).","body":"More discussion <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7951316,"reputation":68,"user_id":6002058,"display_name":"hilzj"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462948981,"creation_date":1462948981,"answer_id":37154932,"question_id":37154575,"body_markdown":"You can use a BubbleChart to illustrate a dataset with 3 columns. \r\n\r\nThere are some android libs which contain some charts that look pretty well.\r\n\r\nHelloCharts for Android: https://github.com/lecho/hellocharts-android\r\n\r\nMPAndroidChart: https://github.com/PhilJay/MPAndroidChart\r\n\r\nHope this solve your problem.","title":"How to plot color map in java?","body":"<p>You can use a BubbleChart to illustrate a dataset with 3 columns. </p>\n\n<p>There are some android libs which contain some charts that look pretty well.</p>\n\n<p>HelloCharts for Android: <a href=\"https://github.com/lecho/hellocharts-android\" rel=\"nofollow\">https://github.com/lecho/hellocharts-android</a></p>\n\n<p>MPAndroidChart: <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow\">https://github.com/PhilJay/MPAndroidChart</a></p>\n\n<p>Hope this solve your problem.</p>\n"},{"comments":[{"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"score":0,"creation_date":1462985368,"post_id":37166671,"comment_id":61872528,"body_markdown":"yes..tried this but output image is not smooth.  I also tried different render width and height.","body":"yes..tried this but output image is not smooth.  I also tried different render width and height."},{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1463048713,"post_id":37166671,"comment_id":61901250,"body_markdown":"What resolution did you use? The example looks like 100 x 100 blocks,","body":"What resolution did you use? The example looks like 100 x 100 blocks,"}],"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462979256,"creation_date":1462979256,"answer_id":37166671,"question_id":37154575,"body_markdown":"An [`XYBlockRenderer`][1] looks like a good match. You can use [`Color.getHSBColor()`][2], like they show [here][3], to make the [`PaintScale`][4].\r\n\r\n[image][5]\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\r\n  [3]: https://stackoverflow.com/a/9875534/261156\r\n  [4]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\r\n  [5]: http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png","title":"How to plot color map in java?","body":"<p>An <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\" rel=\"nofollow noreferrer\"><code>XYBlockRenderer</code></a> looks like a good match. You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\" rel=\"nofollow noreferrer\"><code>Color.getHSBColor()</code></a>, like they show <a href=\"https://stackoverflow.com/a/9875534/261156\">here</a>, to make the <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\" rel=\"nofollow noreferrer\"><code>PaintScale</code></a>.</p>\n\n<p><a href=\"http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"comments":[{"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"score":0,"creation_date":1463323070,"post_id":37235165,"comment_id":62008117,"body_markdown":"Instead of griding, can we create dataset something like dataset.add(array)? [data to be plotted](https://docs.google.com/spreadsheets/d/1jG9UZboPcU0kKRGD2OTHA_iViz9h49y_NEyXDj10KJ4/edit?usp=sharing)","body":"Instead of griding, can we create dataset something like dataset.add(array)? <a href=\"https://docs.google.com/spreadsheets/d/1jG9UZboPcU0kKRGD2OTHA_iViz9h49y_NEyXDj10KJ4/edit?usp=sharing\" rel=\"nofollow noreferrer\">data to be plotted</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1548523721,"post_id":37235165,"comment_id":95574986,"body_markdown":"A related example using `XYLineAndShapeRenderer` with `XYZDataset` is shown [here](https://stackoverflow.com/a/54180207/230513).","body":"A related example using <code>XYLineAndShapeRenderer</code> with <code>XYZDataset</code> is shown <a href=\"https://stackoverflow.com/a/54180207/230513\">here</a>."},{"owner":{"account_id":1063493,"reputation":121,"user_id":6044165,"display_name":"ACB"},"score":0,"creation_date":1688513554,"post_id":37235165,"comment_id":135082804,"body_markdown":"@trashgod What is the significance of H1 and H2 here? I want to create a rainbow pallet where the color values (Z) will be dynamic. I tried this implementation, but it doesn&#39;t make sufficient colors.","body":"@trashgod What is the significance of H1 and H2 here? I want to create a rainbow pallet where the color values (Z) will be dynamic. I tried this implementation, but it doesn&#39;t make sufficient colors."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688576829,"post_id":37235165,"comment_id":135093325,"body_markdown":"I agree; simple, linear interpolation isn&#39;t very flexible; a suitable `Paint` implementation will likely be more adaptable to a particular use case.","body":"I agree; simple, linear interpolation isn&#39;t very flexible; a suitable <code>Paint</code> implementation will likely be more adaptable to a particular use case."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686604805,"creation_date":1463292947,"answer_id":37235165,"question_id":37154575,"body_markdown":"Starting with this [example][1] and using this [idea][2], you can use a `SpectrumPaintScale` to get a palette of colors as shown below.\r\n\r\n[![image][3]][3]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Paint;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.AxisLocation;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.PaintScale;\r\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\r\nimport org.jfree.chart.title.PaintScaleLegend;\r\nimport org.jfree.data.xy.DefaultXYZDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.data.xy.XYZDataset;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\nimport org.jfree.chart.ui.RectangleInsets;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/37235165/230513\r\n */\r\npublic class XYZChartDemo {\r\n\r\n    private static final int N = 100;\r\n\r\n    public XYZChartDemo(String title) {\r\n        JFrame f = new JFrame(title);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 480);\r\n            }\r\n        };\r\n        chartPanel.setMouseZoomable(true, false);\r\n        f.add(chartPanel);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    private static JFreeChart createChart(XYDataset dataset) {\r\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\r\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\r\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\r\n        XYBlockRenderer r = new XYBlockRenderer();\r\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\r\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\r\n        r.setPaintScale(ps);\r\n        plot.setRenderer(r);\r\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\r\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\r\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\r\n        scaleAxis.setAxisLinePaint(Color.white);\r\n        scaleAxis.setTickMarkPaint(Color.white);\r\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\r\n        legend.setSubdivisionCount(128);\r\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\r\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\r\n        legend.setStripWidth(20);\r\n        legend.setPosition(RectangleEdge.RIGHT);\r\n        legend.setBackgroundPaint(Color.WHITE);\r\n        chart.addSubtitle(legend);\r\n        chart.setBackgroundPaint(Color.white);\r\n        return chart;\r\n    }\r\n\r\n    private static XYZDataset createDataset() {\r\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\r\n        double[][] data = new double[3][N * N];\r\n        for (int i = 0; i &lt; N * N; i++) {\r\n            var x = i % N;\r\n            var y = i / N;\r\n            data[0][i] = x;\r\n            data[1][i] = y;\r\n            data[2][i] = x * y;\r\n        }\r\n        dataset.addSeries(&quot;Series&quot;, data);\r\n        return dataset;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\r\n        });\r\n    }\r\n\r\n    private static class SpectrumPaintScale implements PaintScale {\r\n\r\n        private static final float H1 = 0f;\r\n        private static final float H2 = 1f;\r\n        private final double lowerBound;\r\n        private final double upperBound;\r\n\r\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\r\n            this.lowerBound = lowerBound;\r\n            this.upperBound = upperBound;\r\n        }\r\n\r\n        @Override\r\n        public double getLowerBound() {\r\n            return lowerBound;\r\n        }\r\n\r\n        @Override\r\n        public double getUpperBound() {\r\n            return upperBound;\r\n        }\r\n\r\n        @Override\r\n        public Paint getPaint(double value) {\r\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\r\n            float scaledH = H1 + scaledValue * (H2 - H1);\r\n            return Color.getHSBColor(scaledH, 1f, 1f);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\r\n  [2]: https://stackoverflow.com/a/37166671/230513\r\n  [3]: https://i.stack.imgur.com/fPUJC.png\r\n  [4]: http://i.stack.imgur.com/LOKKB.png","title":"How to plot color map in java?","body":"<p>Starting with this <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">example</a> and using this <a href=\"https://stackoverflow.com/a/37166671/230513\">idea</a>, you can use a <code>SpectrumPaintScale</code> to get a palette of colors as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/fPUJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPUJC.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Paint;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.AxisLocation;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.PaintScale;\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\nimport org.jfree.chart.title.PaintScaleLegend;\nimport org.jfree.data.xy.DefaultXYZDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYZDataset;\nimport org.jfree.chart.ui.RectangleEdge;\nimport org.jfree.chart.ui.RectangleInsets;\n\n/**\n * @see https://stackoverflow.com/a/37235165/230513\n */\npublic class XYZChartDemo {\n\n    private static final int N = 100;\n\n    public XYZChartDemo(String title) {\n        JFrame f = new JFrame(title);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(640, 480);\n            }\n        };\n        chartPanel.setMouseZoomable(true, false);\n        f.add(chartPanel);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    private static JFreeChart createChart(XYDataset dataset) {\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\n        XYBlockRenderer r = new XYBlockRenderer();\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\n        r.setPaintScale(ps);\n        plot.setRenderer(r);\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\n        scaleAxis.setAxisLinePaint(Color.white);\n        scaleAxis.setTickMarkPaint(Color.white);\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\n        legend.setSubdivisionCount(128);\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\n        legend.setStripWidth(20);\n        legend.setPosition(RectangleEdge.RIGHT);\n        legend.setBackgroundPaint(Color.WHITE);\n        chart.addSubtitle(legend);\n        chart.setBackgroundPaint(Color.white);\n        return chart;\n    }\n\n    private static XYZDataset createDataset() {\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\n        double[][] data = new double[3][N * N];\n        for (int i = 0; i &lt; N * N; i++) {\n            var x = i % N;\n            var y = i / N;\n            data[0][i] = x;\n            data[1][i] = y;\n            data[2][i] = x * y;\n        }\n        dataset.addSeries(&quot;Series&quot;, data);\n        return dataset;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\n        });\n    }\n\n    private static class SpectrumPaintScale implements PaintScale {\n\n        private static final float H1 = 0f;\n        private static final float H2 = 1f;\n        private final double lowerBound;\n        private final double upperBound;\n\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\n            this.lowerBound = lowerBound;\n            this.upperBound = upperBound;\n        }\n\n        @Override\n        public double getLowerBound() {\n            return lowerBound;\n        }\n\n        @Override\n        public double getUpperBound() {\n            return upperBound;\n        }\n\n        @Override\n        public Paint getPaint(double value) {\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\n            float scaledH = H1 + scaledValue * (H2 - H1);\n            return Color.getHSBColor(scaledH, 1f, 1f);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686604805,"creation_date":1462947901,"question_id":37154575,"body_markdown":"I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qrflq.png","title":"How to plot color map in java?","body":"<p>I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? </p>\n\n<p><a href=\"https://i.stack.imgur.com/qrflq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrflq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","android-12"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1686522802,"post_id":76402457,"comment_id":134806031,"body_markdown":"Related video: [Everything about storage on Android](https://youtu.be/jcO6p5TlcGs) Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on [What’s new in shared storage (Google I/O&#39;19)](https://youtu.be/3EtBw5s9iRY) Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade.","body":"Related video: <a href=\"https://youtu.be/jcO6p5TlcGs\" rel=\"nofollow noreferrer\">Everything about storage on Android</a> Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on <a href=\"https://youtu.be/3EtBw5s9iRY\" rel=\"nofollow noreferrer\">What’s new in shared storage (Google I/O&#39;19)</a> Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1686585726,"post_id":76402457,"comment_id":134815667,"body_markdown":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade.","body":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade."}],"answers":[{"comments":[{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685917170,"post_id":76402601,"comment_id":134724014,"body_markdown":"And where should I save the files, it contains text files and images. E.g. the main directory would be `myapp` and it would contains subdirectories `a`, `b`, `c` etc. and in `a` will be files f1.txt, img1.jpg ... fn.txt, imgn.jpg.","body":"And where should I save the files, it contains text files and images. E.g. the main directory would be <code>myapp</code> and it would contains subdirectories <code>a</code>, <code>b</code>, <code>c</code> etc. and in <code>a</code> will be files f1.txt, img1.jpg ... fn.txt, imgn.jpg."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685917405,"post_id":76402601,"comment_id":134724038,"body_markdown":"But `getExternalStoragePublicDirectory` is deprecated. I won&#39;t work on Android 12.","body":"But <code>getExternalStoragePublicDirectory</code> is deprecated. I won&#39;t work on Android 12."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685917603,"post_id":76402601,"comment_id":134724056,"body_markdown":"I see, the method is indeed deprecated. Let me check other methods","body":"I see, the method is indeed deprecated. Let me check other methods"},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685918454,"post_id":76402601,"comment_id":134724118,"body_markdown":"@xralf I believe you can try to use `Storage Access Framework` instead","body":"@xralf I believe you can try to use <code>Storage Access Framework</code> instead"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685918863,"post_id":76402601,"comment_id":134724156,"body_markdown":"Thank you, but I&#39;m using text files and images and it is in subdirectories as well. I&#39;m using Java as well.","body":"Thank you, but I&#39;m using text files and images and it is in subdirectories as well. I&#39;m using Java as well."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685919107,"post_id":76402601,"comment_id":134724176,"body_markdown":"I think you can save images under the same folder using the same api as well: you need to change file name and content to application/image.","body":"I think you can save images under the same folder using the same api as well: you need to change file name and content to application/image."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685919368,"post_id":76402601,"comment_id":134724194,"body_markdown":"Could you please send me a link where is it described more thoroughly and in Java? I can&#39;t find anything on it. I will do these actions - create directory, create file, read file, append to file, delete file.","body":"Could you please send me a link where is it described more thoroughly and in Java? I can&#39;t find anything on it. I will do these actions - create directory, create file, read file, append to file, delete file."},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685923456,"post_id":76402601,"comment_id":134724501,"body_markdown":"Yeah, will check later this week and will try to provide something to help you. Sorry if the answer is confusing","body":"Yeah, will check later this week and will try to provide something to help you. Sorry if the answer is confusing"},{"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"score":0,"creation_date":1685950634,"post_id":76402601,"comment_id":134726934,"body_markdown":"Hey @xralf, this is POC: https://gist.github.com/st235/488d8d6855dc43704f76d11094f91708","body":"Hey @xralf, this is POC: <a href=\"https://gist.github.com/st235/488d8d6855dc43704f76d11094f91708\" rel=\"nofollow noreferrer\">gist.github.com/st235/488d8d6855dc43704f76d11094f91708</a>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685971785,"post_id":76402601,"comment_id":134731274,"body_markdown":"I tried the code, but I would like to create a file without this launcher. It should be e.g. in directory `my_app_main_dir/a`. Then I would like to read file from directory `my_app_main_dir/a` and append a text to it. I&#39;d like to have the possibility to delete the file as well. You can look [here](https://github.com/lucidl/tedegraph-mobile/blob/main/main.py) (line 244, function add_bookmark()) to my Android Python project. This is the most complex operations I will need, nothing more. I&#39;m trying to rewrite my project to Java for latest Android devices.","body":"I tried the code, but I would like to create a file without this launcher. It should be e.g. in directory <code>my_app_main_dir&#47;a</code>. Then I would like to read file from directory <code>my_app_main_dir&#47;a</code> and append a text to it. I&#39;d like to have the possibility to delete the file as well. You can look <a href=\"https://github.com/lucidl/tedegraph-mobile/blob/main/main.py\" rel=\"nofollow noreferrer\">here</a> (line 244, function add_bookmark()) to my Android Python project. This is the most complex operations I will need, nothing more. I&#39;m trying to rewrite my project to Java for latest Android devices."}],"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685950822,"creation_date":1685916545,"answer_id":76402601,"question_id":76402457,"body_markdown":"You&#39;re totally right that [`Context#getExternalFilesDir`](https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)) returns app that will be **uninstalled** with your app.\r\n\r\nFor **API 29 and above**:\r\n\r\n[Documentation](https://developer.android.com/training/data-storage) says that for `Documents` we should use `Storage Access Framework`.\r\n\r\nYou can create a new file using [`Intent#ACTION_CREATE_DOCUMENT`](https://developer.android.com/training/data-storage/shared/documents-files#create-file)\r\n\r\nSimilar to this:\r\n\r\n```\r\n// Request code for creating a PDF document.\r\nconst val CREATE_FILE = 1\r\n\r\nprivate fun createFile(pickerInitialUri: Uri) {\r\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\r\n        addCategory(Intent.CATEGORY_OPENABLE)\r\n        type = &quot;application/text&quot;\r\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\r\n    }\r\n    startActivityForResult(intent, CREATE_FILE)\r\n}\r\n```\r\n\r\nYou will see something similar to\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter executing the command and receiving the result you can access the file using `uri` from `Intent#getData`. With a `uri` you can use `contentResolver.openOutputStream(destination)` to update the file&#39;s content.\r\n\r\n**Update 1:** this is a similar code in **Java**\r\n\r\n```java\r\n    private void createFile() {\r\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/text&quot;);\r\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\r\n\r\n        launcher.launch(intent);\r\n    }\r\n```\r\n\r\nAnd writing to the file:\r\n\r\n```java\r\nOutputStream stream = getContentResolver().openOutputStream(uri);\r\nPrintWriter writer = new PrintWriter(stream);\r\n\r\nwriter.println(&quot;Hello World&quot;);\r\nwriter.close();\r\n```\r\n\r\n\r\nFor **API below 29**:\r\n\r\nI see that documentation offers to use [`Environment#getExternalStoragePublicDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)), especially, if files should be shared.\r\n\r\nYou can also access the root of the device using [`Environment#getExternalStorageDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()). However, the usage is discouraged in favour of `getExternalStoragePublicDirectory` as files saved in root can pollute user&#39;s space.\r\n\r\n&gt; Applications should not directly use this top-level directory, in order to avoid polluting the user&#39;s root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2ZMt.png","title":"Read/Write to external storage and persist after uninstallation","body":"<p>You're totally right that <a href=\"https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Context#getExternalFilesDir</code></a> returns app that will be <strong>uninstalled</strong> with your app.</p>\n<p>For <strong>API 29 and above</strong>:</p>\n<p><a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">Documentation</a> says that for <code>Documents</code> we should use <code>Storage Access Framework</code>.</p>\n<p>You can create a new file using <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#create-file\" rel=\"nofollow noreferrer\"><code>Intent#ACTION_CREATE_DOCUMENT</code></a></p>\n<p>Similar to this:</p>\n<pre><code>// Request code for creating a PDF document.\nconst val CREATE_FILE = 1\n\nprivate fun createFile(pickerInitialUri: Uri) {\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n        addCategory(Intent.CATEGORY_OPENABLE)\n        type = &quot;application/text&quot;\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\n    }\n    startActivityForResult(intent, CREATE_FILE)\n}\n</code></pre>\n<p>You will see something similar to</p>\n<p><a href=\"https://i.stack.imgur.com/k2ZMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2ZMt.png\" alt=\"enter image description here\" /></a></p>\n<p>After executing the command and receiving the result you can access the file using <code>uri</code> from <code>Intent#getData</code>. With a <code>uri</code> you can use <code>contentResolver.openOutputStream(destination)</code> to update the file's content.</p>\n<p><strong>Update 1:</strong> this is a similar code in <strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void createFile() {\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;application/text&quot;);\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\n\n        launcher.launch(intent);\n    }\n</code></pre>\n<p>And writing to the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStream stream = getContentResolver().openOutputStream(uri);\nPrintWriter writer = new PrintWriter(stream);\n\nwriter.println(&quot;Hello World&quot;);\nwriter.close();\n</code></pre>\n<p>For <strong>API below 29</strong>:</p>\n<p>I see that documentation offers to use <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStoragePublicDirectory</code></a>, especially, if files should be shared.</p>\n<p>You can also access the root of the device using <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStorageDirectory</code></a>. However, the usage is discouraged in favour of <code>getExternalStoragePublicDirectory</code> as files saved in root can pollute user's space.</p>\n<blockquote>\n<p>Applications should not directly use this top-level directory, in order to avoid polluting the user's root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685943225,"post_id":76403573,"comment_id":134725896,"body_markdown":"&gt;&gt;  &quot;You did not tell who and how those files will be used later.&quot; I don&#39;t want the user to loose the data after uninstall or update to a new version. It should be something, that he/she can delete manually later.","body":"&gt;&gt;  &quot;You did not tell who and how those files will be used later.&quot; I don&#39;t want the user to loose the data after uninstall or update to a new version. It should be something, that he/she can delete manually later."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685942871,"creation_date":1685941017,"answer_id":76403573,"question_id":76402457,"body_markdown":"The only place where you should create the subdirectory for your files is in public Download or Documents directory.\r\n\r\nYou will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.\r\n\r\nOther public directories are not possible as they will not take files with different extensions.\r\n\r\nThe files will persist. You did not tell who and how those files will be used later.\r\n\r\nIf you reinstall your app use SAF to let the user choose your subdir. ","title":"Read/Write to external storage and persist after uninstallation","body":"<p>The only place where you should create the subdirectory for your files is in public Download or Documents directory.</p>\n<p>You will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.</p>\n<p>Other public directories are not possible as they will not take files with different extensions.</p>\n<p>The files will persist. You did not tell who and how those files will be used later.</p>\n<p>If you reinstall your app use SAF to let the user choose your subdir.</p>\n"},{"tags":[],"owner":{"account_id":15010741,"reputation":41,"user_id":10835305,"display_name":"rex50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686435656,"creation_date":1686435656,"answer_id":76448360,"question_id":76402457,"body_markdown":"On Android 12, to manage storage **SAF** is the recommended way. \r\n\r\nBut if you don&#39;t want to use then the only way is requesting permission `MANAGE_EXTERNAL_STORAGE` which **allows full storage access**. For more details check out this [link][1].\r\n\r\nNote: `MANAGE_EXTERNAL_STORAGE` is a sensitive permission so check out this [Google play notice][2] before using it.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access\r\n  [2]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play","title":"Read/Write to external storage and persist after uninstallation","body":"<p>On Android 12, to manage storage <strong>SAF</strong> is the recommended way.</p>\n<p>But if you don't want to use then the only way is requesting permission <code>MANAGE_EXTERNAL_STORAGE</code> which <strong>allows full storage access</strong>. For more details check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Note: <code>MANAGE_EXTERNAL_STORAGE</code> is a sensitive permission so check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play\" rel=\"nofollow noreferrer\">Google play notice</a> before using it.</p>\n"},{"tags":[],"owner":{"account_id":8265021,"reputation":1010,"user_id":6214899,"display_name":"Cuong Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686559714,"creation_date":1686559714,"answer_id":76454957,"question_id":76402457,"body_markdown":"- You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\r\n[Refer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348","title":"Read/Write to external storage and persist after uninstallation","body":"<ul>\n<li>You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\n<a href=\"https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348\">Refer</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1686636703,"post_id":76460397,"comment_id":134822162,"body_markdown":"This looks like ChatGPT","body":"This looks like ChatGPT"}],"tags":[],"owner":{"account_id":5835994,"reputation":61,"user_id":4599044,"display_name":"Amr Shekh Zen"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1686604675,"creation_date":1686604675,"answer_id":76460397,"question_id":76402457,"body_markdown":"In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application&#39;s private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.\r\n\r\nHere&#39;s an updated version of your code that saves files to a custom directory on the external storage\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.os.Environment;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class FileUtil {\r\n\r\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\r\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\r\n        if (!directory.exists()) {\r\n            directory.mkdirs(); // Create the directory if it doesn&#39;t exist\r\n        }\r\n\r\n        File file = new File(directory, fileName);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(file);\r\n            outputStream.write(content.getBytes());\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nString directoryName = &quot;my_files_directory&quot;;\r\nString fileName = &quot;my_file.txt&quot;;\r\nString content = &quot;Hello&quot;;\r\n\r\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\r\n\r\n```\r\n\r\nIn this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.\r\n\r\nPlease note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you&#39;ll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.\r\n\r\nRegarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application&#39;s private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application&#39;s private external storage, which is not subject to Scoped Storage restrictions.\r\n\r\nI hope I have been of assistance to you.","title":"Read/Write to external storage and persist after uninstallation","body":"<p>In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application's private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.</p>\n<p>Here's an updated version of your code that saves files to a custom directory on the external storage</p>\n<pre><code>import android.content.Context;\nimport android.os.Environment;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\n        if (!directory.exists()) {\n            directory.mkdirs(); // Create the directory if it doesn't exist\n        }\n\n        File file = new File(directory, fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>String directoryName = &quot;my_files_directory&quot;;\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\n\n</code></pre>\n<p>In this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.</p>\n<p>Please note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you'll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.</p>\n<p>Regarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application's private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application's private external storage, which is not subject to Scoped Storage restrictions.</p>\n<p>I hope I have been of assistance to you.</p>\n"}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1686604675,"creation_date":1685913574,"question_id":76402457,"body_markdown":"I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.\r\n\r\n    import android.content.Context;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class FileUtil {\r\n    \r\n        public static void writeFileToExternalStorage(Context context, String fileName, String content) {\r\n            File file = new File(context.getExternalFilesDir(null), fileName);\r\n    \r\n            try {\r\n                FileOutputStream outputStream = new FileOutputStream(file);\r\n                outputStream.write(content.getBytes());\r\n                outputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    String fileName = &quot;my_file.txt&quot;;\r\n    String content = &quot;Hello&quot;;\r\n    \r\n    FileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\r\n\r\nFile `my_file.txt` will be deleted after uninstallation of the app. I need it to persist.\r\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\r\nI don&#39;t want to use database or shared preferences for it.\r\nHow can I do it?\r\n\r\nIn [this video](https://youtu.be/Fr_XW94jPIQ?t=360) there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don&#39;t want. It&#39;s very uncomfortable for the user.\r\n","title":"Read/Write to external storage and persist after uninstallation","body":"<p>I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.</p>\n<pre><code>import android.content.Context;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String fileName, String content) {\n        File file = new File(context.getExternalFilesDir(null), fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\n</code></pre>\n<p>File <code>my_file.txt</code> will be deleted after uninstallation of the app. I need it to persist.\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\nI don't want to use database or shared preferences for it.\nHow can I do it?</p>\n<p>In <a href=\"https://youtu.be/Fr_XW94jPIQ?t=360\" rel=\"nofollow noreferrer\">this video</a> there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don't want. It's very uncomfortable for the user.</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"score":0,"creation_date":1320753104,"post_id":8049227,"comment_id":9858674,"body_markdown":"Thank you very much, @gkamal. I look at the code in [Open Session in View](http://community.jboss.org/wiki/OpenSessionInView) document. (Your link points to that documents.)  The author suggests the use of filter. In his filter code, he doesn&#39;t call `openSession()` or `close()`. He only calls `getCurrentSession()`. I guess he sets `current_session_context` to `thread`. Now I think I understand `getCurrentSession()`. However, I don&#39;t know when should I use `openSession()`.","body":"Thank you very much, @gkamal. I look at the code in <a href=\"http://community.jboss.org/wiki/OpenSessionInView\" rel=\"nofollow noreferrer\">Open Session in View</a> document. (Your link points to that documents.)  The author suggests the use of filter. In his filter code, he doesn&#39;t call <code>openSession()</code> or <code>close()</code>. He only calls <code>getCurrentSession()</code>. I guess he sets <code>current_session_context</code> to <code>thread</code>. Now I think I understand <code>getCurrentSession()</code>. However, I don&#39;t know when should I use <code>openSession()</code>."},{"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"score":4,"creation_date":1320754346,"post_id":8049227,"comment_id":9858970,"body_markdown":"You will use OpenSession if you don&#39;t want the session to be bound to any context. There are some situations when you would need a different session - other than one bound to the context (Hibernate Interceptors have a limitation that you can&#39;t use the original session) - in those cases you would use OpenSession instead of currentSession.  OpenSession creates a new session which you have to close explicitly.For e.g., in a DAO method you will call OpenSession - use the session and close it.","body":"You will use OpenSession if you don&#39;t want the session to be bound to any context. There are some situations when you would need a different session - other than one bound to the context (Hibernate Interceptors have a limitation that you can&#39;t use the original session) - in those cases you would use OpenSession instead of currentSession.  OpenSession creates a new session which you have to close explicitly.For e.g., in a DAO method you will call OpenSession - use the session and close it."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1368480286,"post_id":8049227,"comment_id":23740281,"body_markdown":"am using getCurrentSession(); because i initialized it in listener not filter is this ok from your view; am using mvc2 jsp servlet","body":"am using getCurrentSession(); because i initialized it in listener not filter is this ok from your view; am using mvc2 jsp servlet"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1398718861,"post_id":8049227,"comment_id":35762169,"body_markdown":"@gkamal - I have a question related to `Sessions`. Can you please help me with it at - https://stackoverflow.com/questions/23351083/understanding-sessionfactory-and-hibernate-sessions . Thank you and chenqui.","body":"@gkamal - I have a question related to <code>Sessions</code>. Can you please help me with it at - <a href=\"https://stackoverflow.com/questions/23351083/understanding-sessionfactory-and-hibernate-sessions\" title=\"understanding sessionfactory and hibernate sessions\">stackoverflow.com/questions/23351083/&hellip;</a> . Thank you and chenqui."},{"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"score":0,"creation_date":1467040993,"post_id":8049227,"comment_id":63553956,"body_markdown":"IMO, it is good practice to let each thread holds its own Session, and only one Session, right?","body":"IMO, it is good practice to let each thread holds its own Session, and only one Session, right?"},{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":0,"creation_date":1471962487,"post_id":8049227,"comment_id":65554665,"body_markdown":"@gkamal `SessionFactory.openSession()` if I use this in `Transaction` context, do I need to manage the connection myself? When I use this, will the `auto-commit` set to false? so when I do `UserTransaction.commit`, Transaction Manager will help me commit or rollback?","body":"@gkamal <code>SessionFactory.openSession()</code> if I use this in <code>Transaction</code> context, do I need to manage the connection myself? When I use this, will the <code>auto-commit</code> set to false? so when I do <code>UserTransaction.commit</code>, Transaction Manager will help me commit or rollback?"}],"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"comment_count":6,"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1434549297,"creation_date":1320749375,"answer_id":8049227,"question_id":8046662,"body_markdown":"As explained in this forum [post][1], 1 and 2 are related. If you set `hibernate.current_session_context_class` to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the `SessionFactory.getCurrentSession()`.\r\n\r\n`SessionFactory.openSession()` always opens a new session that you have to close once you are done with the operations. `SessionFactory.getCurrentSession()` returns a session bound to a context - you don&#39;t need to close this.\r\n\r\nIf you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.\r\n\r\nYou should never use `one session per web app` - session is not a thread safe object - cannot be shared by multiple threads. You should always use &quot;one session per request&quot; or &quot;one session per transaction&quot;\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>As explained in this forum <a href=\"https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979\">post</a>, 1 and 2 are related. If you set <code>hibernate.current_session_context_class</code> to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the <code>SessionFactory.getCurrentSession()</code>.</p>\n\n<p><code>SessionFactory.openSession()</code> always opens a new session that you have to close once you are done with the operations. <code>SessionFactory.getCurrentSession()</code> returns a session bound to a context - you don't need to close this.</p>\n\n<p>If you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.</p>\n\n<p>You should never use <code>one session per web app</code> - session is not a thread safe object - cannot be shared by multiple threads. You should always use \"one session per request\" or \"one session per transaction\"</p>\n"},{"tags":[],"owner":{"account_id":4224156,"reputation":67,"user_id":3458089,"display_name":"swamy"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1414013915,"creation_date":1414013915,"answer_id":26517580,"question_id":8046662,"body_markdown":"SessionFactory:  &quot;One SessionFactory per application per DataBase&quot; \r\n(\r\ne.g., \r\nif you use 3 DataBase&#39;s in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\r\n).\r\n\r\nSession: &quot;One session for one request-response cycle&quot;. you can open session when request came and you can close session after completion of request process. \r\nNote:-Don&#39;t use one session for web application.","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>SessionFactory:  \"One SessionFactory per application per DataBase\" \n(\ne.g., \nif you use 3 DataBase's in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\n).</p>\n\n<p>Session: \"One session for one request-response cycle\". you can open session when request came and you can close session after completion of request process. \nNote:-Don't use one session for web application.</p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1576685316,"post_id":40649315,"comment_id":104981124,"body_markdown":"The answer above tells not to use a single session per webapp. Thus if I were to use `getCurrentSession`, it would reuse the same sesssion, wouldn&#39;t it?","body":"The answer above tells not to use a single session per webapp. Thus if I were to use <code>getCurrentSession</code>, it would reuse the same sesssion, wouldn&#39;t it?"}],"tags":[],"owner":{"account_id":6920302,"reputation":518,"user_id":5313193,"display_name":"Ramu Agrawal"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1547106068,"creation_date":1479368883,"answer_id":40649315,"question_id":8046662,"body_markdown":"If we talk about SessionFactory.openSession()\r\n\r\n - It always creates a new Session object.\r\n - You need to explicitly flush and close session objects.\r\n - In single threaded environment it is slower than getCurrentSession().\r\n - You do not need to configure any property to call this method.\r\n\r\nAnd If we talk about SessionFactory.getCurrentSession()\r\n\r\n - It creates a new Session if not exists, else uses same session which is in current hibernate context.\r\n - You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.\r\n - In single threaded environment it is faster than openSession().\r\n - You need to configure additional property. &quot;hibernate.current_session_context_class&quot; to call getCurrentSession() method, otherwise it will throw an exception.\r\n\r\n\t\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>If we talk about SessionFactory.openSession()</p>\n\n<ul>\n<li>It always creates a new Session object.</li>\n<li>You need to explicitly flush and close session objects.</li>\n<li>In single threaded environment it is slower than getCurrentSession().</li>\n<li>You do not need to configure any property to call this method.</li>\n</ul>\n\n<p>And If we talk about SessionFactory.getCurrentSession()</p>\n\n<ul>\n<li>It creates a new Session if not exists, else uses same session which is in current hibernate context.</li>\n<li>You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.</li>\n<li>In single threaded environment it is faster than openSession().</li>\n<li>You need to configure additional property. \"hibernate.current_session_context_class\" to call getCurrentSession() method, otherwise it will throw an exception.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1576685412,"post_id":45733794,"comment_id":104981184,"body_markdown":"Doesn&#39;t a servlet open a new thread for each request? Thus if it&#39;s a Java webapp, it is already not a single-threaded environment?","body":"Doesn&#39;t a servlet open a new thread for each request? Thus if it&#39;s a Java webapp, it is already not a single-threaded environment?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1651326692,"post_id":45733794,"comment_id":127340856,"body_markdown":"@parsecer right? nobody&#39;s giving a practical example of when to use either.","body":"@parsecer right? nobody&#39;s giving a practical example of when to use either."}],"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537684312,"creation_date":1502968950,"answer_id":45733794,"question_id":8046662,"body_markdown":"`openSession`: When you call `SessionFactory.openSession`, it always creates a new `Session` object and give it to you.\r\n\r\nYou need to explicitly flush and close these session objects. \r\n\r\nAs session objects are *not* thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.\r\n\r\n`getCurrentSession`: When you call `SessionFactory.getCurrentSession`, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.\r\n\r\nWhen you call `SessionFactory.getCurrentSession`, it creates a new `Session` if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.\r\n\r\nIf you are using hibernate in single-threaded environment , you can use `getCurrentSession`, as it is faster in performance as compared to creating a new session each time.\r\n\r\nYou need to add following property to **hibernate.cfg.xml** to use `getCurrentSession` method:\r\n    \r\n    &lt;session-factory&gt;\r\n        &lt;!--  Put other elements here --&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;\r\n              thread\r\n        &lt;/property&gt;\r\n    &lt;/session-factory&gt;","title":"Hibernate openSession() vs getCurrentSession()","body":"<p><code>openSession</code>: When you call <code>SessionFactory.openSession</code>, it always creates a new <code>Session</code> object and give it to you.</p>\n\n<p>You need to explicitly flush and close these session objects. </p>\n\n<p>As session objects are <em>not</em> thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.</p>\n\n<p><code>getCurrentSession</code>: When you call <code>SessionFactory.getCurrentSession</code>, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.</p>\n\n<p>When you call <code>SessionFactory.getCurrentSession</code>, it creates a new <code>Session</code> if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.</p>\n\n<p>If you are using hibernate in single-threaded environment , you can use <code>getCurrentSession</code>, as it is faster in performance as compared to creating a new session each time.</p>\n\n<p>You need to add following property to <strong>hibernate.cfg.xml</strong> to use <code>getCurrentSession</code> method:</p>\n\n<pre><code>&lt;session-factory&gt;\n    &lt;!--  Put other elements here --&gt;\n    &lt;property name=\"hibernate.current_session_context_class\"&gt;\n          thread\n    &lt;/property&gt;\n&lt;/session-factory&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583934854,"creation_date":1583934417,"answer_id":60637540,"question_id":8046662,"body_markdown":"    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\r\n    | \t\t\t\t\t   |                                                                            |  &lt;property name=&quot;&quot;hibernate.current_session_context_class&quot;&quot;&gt;thread&lt;/property&gt;                       |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\n|                      |                                                                            |  &lt;property name=\"\"hibernate.current_session_context_class\"\"&gt;thread&lt;/property&gt;                       |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686751403,"post_id":76460365,"comment_id":134842448,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76460365/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10460859,"reputation":1,"user_id":7711645,"display_name":"Lobots"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686604352,"creation_date":1686604352,"answer_id":76460365,"question_id":8046662,"body_markdown":"    currentSession -&gt; to fetch the session\r\nbeginTransaction -&gt; to open session \r\ncommit and rollback -&gt; to close session","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>currentSession -&gt; to fetch the session\n</code></pre>\n<p>beginTransaction -&gt; to open session\ncommit and rollback -&gt; to close session</p>\n"}],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215745,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":8049227,"answer_count":6,"score":138,"last_activity_date":1686604352,"creation_date":1320733249,"question_id":8046662,"body_markdown":"I have some questions about using Hibernate in JSP web application.\r\n\r\n1. What should be the value for `hibernate.current_session_context_class`?\r\n\r\n1. Then, which of the following statements should be used? And why?\r\n\r\n         Session s = HibernateUtil.getSessionFactory().openSession();\r\n         Session s = HibernateUtil.getSessionFactory().getCurrentSession()\r\n\r\n1. Lastly, which one is better &quot;one session per web app&quot; or &quot;one session per request&quot;? \r\n\r\n\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>I have some questions about using Hibernate in JSP web application.</p>\n\n<ol>\n<li><p>What should be the value for <code>hibernate.current_session_context_class</code>?</p></li>\n<li><p>Then, which of the following statements should be used? And why?</p>\n\n<pre><code> Session s = HibernateUtil.getSessionFactory().openSession();\n Session s = HibernateUtil.getSessionFactory().getCurrentSession()\n</code></pre></li>\n<li><p>Lastly, which one is better \"one session per web app\" or \"one session per request\"? </p></li>\n</ol>\n"},{"tags":["java","spring","iterator","iteration","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548909848,"post_id":54453225,"comment_id":95715126,"body_markdown":"Hey Dave,  thanks for the suggestions I tried fixing the typo and it hasn&#39;t made a difference.  I ran the program in the debugger to check the value of findAll().  Adding a screen grab of the debugger above, its under the link &quot;Debugger in mod controller&quot;","body":"Hey Dave,  thanks for the suggestions I tried fixing the typo and it hasn&#39;t made a difference.  I ran the program in the debugger to check the value of findAll().  Adding a screen grab of the debugger above, its under the link &quot;Debugger in mod controller&quot;"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548911732,"post_id":54453225,"comment_id":95715693,"body_markdown":"@matsui23 OK, so there&#39;s two items in `mods`, so that&#39;s not the issue. Perhaps the line in error is `&lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;`. This should probably be `&lt;div th:if=&quot;${mod.userid == session.currentUser.id}&quot;&gt;`. If changing that doesn&#39;t work, can you check whether `session.currentUser` is not `null`.","body":"@matsui23 OK, so there&#39;s two items in <code>mods</code>, so that&#39;s not the issue. Perhaps the line in error is <code>&lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;</code>. This should probably be <code>&lt;div th:if=&quot;${mod.userid == session.currentUser.id}&quot;&gt;</code>. If changing that doesn&#39;t work, can you check whether <code>session.currentUser</code> is not <code>null</code>."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548913175,"post_id":54453225,"comment_id":95716168,"body_markdown":"I&#39;ve just noticed further up the stacktrace it points to `template: &quot;mods/index&quot; - line 21, col 17`. Which bit of Thymeleaf does that point to?","body":"I&#39;ve just noticed further up the stacktrace it points to <code>template: &quot;mods&#47;index&quot; - line 21, col 17</code>. Which bit of Thymeleaf does that point to?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548913592,"post_id":54453225,"comment_id":95716308,"body_markdown":"In checking my session during debugging I found these exceptions.  Posted an image link above","body":"In checking my session during debugging I found these exceptions.  Posted an image link above"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548914553,"post_id":54453225,"comment_id":95716681,"body_markdown":"Hmmm, what is the type of collection returned by `modDao.findAll()`? Perhaps it&#39;s not a type that Thymeleaf can iterate over. You could try taking the result of `findAll()` and putting it into a `List` and adding that to your model instead.","body":"Hmmm, what is the type of collection returned by <code>modDao.findAll()</code>? Perhaps it&#39;s not a type that Thymeleaf can iterate over. You could try taking the result of <code>findAll()</code> and putting it into a <code>List</code> and adding that to your model instead."},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1548939273,"post_id":54453225,"comment_id":95730092,"body_markdown":"Thanks Dave, I am going to try that suggestion later today.","body":"Thanks Dave, I am going to try that suggestion later today."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1548996555,"post_id":54453225,"comment_id":95753743,"body_markdown":"OK, let me know how you go. I&#39;m keen to know what the issue is.","body":"OK, let me know how you go. I&#39;m keen to know what the issue is."},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549031504,"post_id":54453225,"comment_id":95770052,"body_markdown":"Morning Dave,  I got it to work attempting what you suggested above but I am still confused about why.  Later on when I can get my laptop on wifi I will link a photo of what I did.  Ultimately, I loaded the modDao.findAll() into an iterable&lt;Mod&gt; named testList.  Then passing testList into the model and that displayed the data properly in the template.  I made small syntax changes you recommended in thymeleaf as well but they worked both ways.  I attempted to name the new iterable under the &quot;mods&quot; naming I tried before and that gave me the original exception.  So I am curious as to why that is?","body":"Morning Dave,  I got it to work attempting what you suggested above but I am still confused about why.  Later on when I can get my laptop on wifi I will link a photo of what I did.  Ultimately, I loaded the modDao.findAll() into an iterable&lt;Mod&gt; named testList.  Then passing testList into the model and that displayed the data properly in the template.  I made small syntax changes you recommended in thymeleaf as well but they worked both ways.  I attempted to name the new iterable under the &quot;mods&quot; naming I tried before and that gave me the original exception.  So I am curious as to why that is?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549031706,"post_id":54453225,"comment_id":95770172,"body_markdown":"Thanks again for your help regardless, you helped me work through the issue.  I will post some images and update my original post so you can see the changes.  I would still like to understand why using the iterable instead of the list syntax, even with the same variable, would throw the same exception?  Could it be a reserved key of a sort in thymeleaf?","body":"Thanks again for your help regardless, you helped me work through the issue.  I will post some images and update my original post so you can see the changes.  I would still like to understand why using the iterable instead of the list syntax, even with the same variable, would throw the same exception?  Could it be a reserved key of a sort in thymeleaf?"},{"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"score":0,"creation_date":1549077431,"post_id":54453225,"comment_id":95785663,"body_markdown":"I added a pic in the original post that shows the iterable I used to contain the findAll() method return.  I also included a shot of my thymeleaf template.  Main difference I am seeing is that testList is an iterable and before mod was simply declared as a list.  One curious thing to note is if I change testList naming to &quot;mod&quot; still declared as an iterable and change the variable name in thymeleaf that wont work.","body":"I added a pic in the original post that shows the iterable I used to contain the findAll() method return.  I also included a shot of my thymeleaf template.  Main difference I am seeing is that testList is an iterable and before mod was simply declared as a list.  One curious thing to note is if I change testList naming to &quot;mod&quot; still declared as an iterable and change the variable name in thymeleaf that wont work."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1549079706,"post_id":54453225,"comment_id":95785914,"body_markdown":"@matsui23 I&#39;ve updated my answer based on your success and your comments. In brief, looks like there were two issues: the return type of `findAll()` is not iterable in Thymeleaf; and `mod` is a keyword.","body":"@matsui23 I&#39;ve updated my answer based on your success and your comments. In brief, looks like there were two issues: the return type of <code>findAll()</code> is not iterable in Thymeleaf; and <code>mod</code> is a keyword."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1549337109,"post_id":54453225,"comment_id":95856574,"body_markdown":"No problem, happy to help.","body":"No problem, happy to help."},{"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"score":0,"creation_date":1686480445,"post_id":54453225,"comment_id":134801507,"body_markdown":"the hint with the reserved &quot;keyword&quot; helped me in my case. my variable was named &quot;eq&quot;, which is reserved for equality comparison in thymeleaf. the error message was misleading here. thank you for pushing me into the right direction. ;)","body":"the hint with the reserved &quot;keyword&quot; helped me in my case. my variable was named &quot;eq&quot;, which is reserved for equality comparison in thymeleaf. the error message was misleading here. thank you for pushing me into the right direction. ;)"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1686604401,"post_id":54453225,"comment_id":134819118,"body_markdown":"No worries. Funny how things can still help, even after a long time.","body":"No worries. Funny how things can still help, even after a long time."}],"tags":[],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"comment_count":14,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686604324,"creation_date":1548908445,"answer_id":54453225,"question_id":54453156,"body_markdown":"This issue turned out to be quite a tricky one. The story of its resolution is as follows ...\r\n\r\nJudging by the stacktrace:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n\r\nthere was an iteration in a thymeleaf template that had a `null` variable being iterated over. The only use of `th:each` I could find was:\r\n\r\n    &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n        &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n             ...\r\n        &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n\r\nSo it seemed that `mods` was `null` and hence `th:each=&quot;mod : ${mods}&quot;` is the where the issue lies.\r\n\r\nHowever there was a check for this in place with `&lt;div th:if=&quot;${mods} != null&quot;&gt;`. Or was there? Would the following be more useful:\r\n\r\n    &lt;div th:if=&quot;${mods != null}&quot;&gt;\r\n\r\nie. moving the `}` so that the `null` check is within the expression.\r\n\r\nThat didn&#39;t help, so the result of `modDao.findAll()` was checked and there were two elements found. So it had to be something else.\r\n\r\nReviewing the [basics of iteration in Thymeleaf](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics) suggested that perhaps the collection being returned by `findAll()` was not one of supported types that `th:each` can iterate over.\r\n\r\nSo this collection was copied into an `Iterable` and given a different name and the problem was solved.\r\n\r\nInterestingly, if the iteration variable was given the name `mod` the problem still occurred. Turns out `mod` is a keyword in Thymeleaf and is use for the modulo operation (`%`).\r\n\r\nUltimately, there were two issues with apparently correct code:\r\n\r\n 1. The DAO returned a collection but not one that could be iterated over by `th:each`; and\r\n 2. `mod` is a keyword in Thymeleaf and shouldn&#39;t be used as a variable name.\r\n","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p>This issue turned out to be quite a tricky one. The story of its resolution is as follows ...</p>\n<p>Judging by the stacktrace:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n</code></pre>\n<p>there was an iteration in a thymeleaf template that had a <code>null</code> variable being iterated over. The only use of <code>th:each</code> I could find was:</p>\n<pre><code>&lt;div th:if=&quot;${mods} != null&quot;&gt;\n    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\n         ...\n    &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n<p>So it seemed that <code>mods</code> was <code>null</code> and hence <code>th:each=&quot;mod : ${mods}&quot;</code> is the where the issue lies.</p>\n<p>However there was a check for this in place with <code>&lt;div th:if=&quot;${mods} != null&quot;&gt;</code>. Or was there? Would the following be more useful:</p>\n<pre><code>&lt;div th:if=&quot;${mods != null}&quot;&gt;\n</code></pre>\n<p>ie. moving the <code>}</code> so that the <code>null</code> check is within the expression.</p>\n<p>That didn't help, so the result of <code>modDao.findAll()</code> was checked and there were two elements found. So it had to be something else.</p>\n<p>Reviewing the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics\" rel=\"nofollow noreferrer\">basics of iteration in Thymeleaf</a> suggested that perhaps the collection being returned by <code>findAll()</code> was not one of supported types that <code>th:each</code> can iterate over.</p>\n<p>So this collection was copied into an <code>Iterable</code> and given a different name and the problem was solved.</p>\n<p>Interestingly, if the iteration variable was given the name <code>mod</code> the problem still occurred. Turns out <code>mod</code> is a keyword in Thymeleaf and is use for the modulo operation (<code>%</code>).</p>\n<p>Ultimately, there were two issues with apparently correct code:</p>\n<ol>\n<li>The DAO returned a collection but not one that could be iterated over by <code>th:each</code>; and</li>\n<li><code>mod</code> is a keyword in Thymeleaf and shouldn't be used as a variable name.</li>\n</ol>\n"}],"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54453225,"answer_count":1,"score":2,"last_activity_date":1686604324,"creation_date":1548907971,"question_id":54453156,"body_markdown":"[enter image description here][1]&gt; Been stuck on this for a few days.  I believe that the issue has to do\r\n&gt; with the class itself.  Or the relationship between the class in\r\n&gt; question and the class its column is joined on.  \r\n&gt; \r\n&gt; Here are my classes: \r\n**Mod**\r\n\r\n    package com.matt.Keyword.models;\r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        \r\n        @Entity\r\n        @Table(name = &quot;Mods&quot;)\r\n        public class Mod {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            private Integer role;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;An entry is required&quot;)\r\n            private String entry;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Mod(Integer role, String entry) {\r\n                this.role = role;\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Mod() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public int getRole() {\r\n                return role;\r\n            }\r\n        \r\n            public void setRole(Integer role) {\r\n                this.role = role;\r\n            }\r\n        \r\n            public String getEntry() {\r\n                return entry;\r\n            }\r\n        \r\n            public void setEntry(String entry) {\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid= userid;\r\n            }\r\n        \r\n        }\r\n**Account**\r\n\r\n    package com.matt.Keyword.models;\r\n        \r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        @Entity\r\n        public class Account {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            @Size(min = 3, message = &quot;Try again&quot;)\r\n            private String name;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;A password is required&quot;)\r\n            private String password;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Account(String name, String password) {\r\n                this.name = name;\r\n                this.password = password;\r\n            }\r\n        \r\n            public Account() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public String getName() {\r\n        \r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n        \r\n                this.name = name;\r\n            }\r\n        \r\n            public String getPassword() {\r\n        \r\n                return password;\r\n            }\r\n        \r\n            public void setPassword(String password) {\r\n        \r\n                this.password = password;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid = userid;\r\n            }\r\n        \r\n        }\r\n&gt; Account and Mod classes are very similar and share a relationship with\r\n&gt; the user_id column in the user class.\r\n\r\n**User**\r\n\r\n    package com.matt.Keyword.models;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;user_id&quot;)\r\n        private int id;\r\n    \r\n        @Size(min=3, message = &quot;Try again&quot;)\r\n        private String email;\r\n    \r\n        @Size(min=1, message = &quot;A password is required&quot;)\r\n        private String password;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Account&gt; accounts;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Mod&gt; mods;\r\n    \r\n        public User(String email, String password) {\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public User() {}\r\n    \r\n        public int getId() {\r\n    \r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id){\r\n            this.id = id;\r\n        }\r\n        public String getEmail() {\r\n    \r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n    \r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n    \r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n    \r\n            this.password = password;\r\n        }\r\n    \r\n        public List&lt;Account&gt; getAccounts() {\r\n            return accounts;\r\n        }\r\n    \r\n        public void setAccounts(List&lt;Account&gt; accounts) {\r\n            this.accounts = accounts;\r\n        }\r\n    \r\n    \r\n        public List&lt;Mod&gt; getMods() {\r\n            return mods;\r\n        }\r\n    \r\n        public void setMods(List&lt;Mod&gt; mods) {\r\n            this.mods = mods;\r\n        }\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return email + &quot; &quot; + password;\r\n        }\r\n    }\r\n&gt; The exception gets thrown when I load the index page from my mods\r\n&gt; controller.  I am using thymeleaf to render views.  Here is my mods\r\n&gt; controller.  The Mods database has objects saved to it and in this\r\n&gt; controller during debugging the attribute being passed to the view\r\n&gt; contains a populated list of Mod objects.\r\n **ModController**\r\n\r\n    package com.matt.Keyword.controllers;\r\n        \r\n        \r\n        import com.matt.Keyword.models.Mod;\r\n        import com.matt.Keyword.models.User;\r\n        import com.matt.Keyword.models.data.ModDao;\r\n        import com.matt.Keyword.models.data.UserDao;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.ui.Model;\r\n        import org.springframework.validation.Errors;\r\n        import org.springframework.web.bind.annotation.ModelAttribute;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RequestMethod;\r\n        \r\n        import javax.servlet.http.HttpSession;\r\n        import javax.validation.Valid;\r\n        \r\n        //test commit note\r\n        //second try\r\n        //third try\r\n        /**\r\n         * Created by LaunchCode\r\n         */\r\n        @Controller\r\n        @RequestMapping(&quot;mod&quot;)\r\n        \r\n        public class ModController {\r\n        \r\n            @Autowired\r\n            private UserDao userDao;\r\n        \r\n            @Autowired\r\n            private ModDao modDao;\r\n        \r\n            @RequestMapping(value = &quot;&quot;)\r\n            public String index(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n        \r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                session.getAttribute(&quot;currentUser&quot;);\r\n                model.addAttribute(&quot;title&quot;, &quot;Mods&quot;);\r\n                model.addAttribute(&quot;mods&quot;, modDao.findAll());\r\n                return &quot;mods/index&quot;;\r\n        \r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.GET)\r\n            public String displayModForm(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                model.addAttribute(&quot;title&quot;, &quot;Add a new mod&quot;);\r\n                model.addAttribute(new Mod());\r\n                return &quot;mods/add&quot;;\r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.POST)\r\n            public String processAddModForm(@ModelAttribute @Valid Mod newMod,\r\n                                                Errors errors, Model model, HttpSession session) {\r\n        \r\n                if (errors.hasErrors()) {\r\n                    model.addAttribute(&quot;title&quot;, &quot;List of Mods&quot;);\r\n                    return &quot;mods/add&quot;;\r\n                }\r\n                User currentUser = (User) session.getAttribute(&quot;currentUser&quot;);\r\n        \r\n                session.getId();\r\n        \r\n                currentUser.setId(currentUser.getId());\r\n        \r\n                newMod.setUserid(currentUser.getId());\r\n        \r\n                modDao.save(newMod);\r\n        \r\n                return &quot;redirect:&quot;;\r\n        \r\n            }\r\n        \r\n        }\r\n\r\n&gt; Here is the mod/index page using thymeleaf.\r\n\r\n **mod/index**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n        &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n        &lt;head th:replace=&quot;fragments :: head&quot;&gt;&lt;/head&gt;\r\n        \r\n        &lt;body class=&quot;container&quot;&gt;\r\n        \r\n        &lt;h1 th:text=&quot;${title}&quot;&gt;Default Title&lt;/h1&gt;\r\n        \r\n        &lt;p th:unless=&quot;${mods} and ${mods.size()}&quot;&gt;No current mods&lt;/p&gt;\r\n        \r\n        &lt;nav th:replace=&quot;fragments :: navigation&quot;&gt;&lt;/nav&gt;\r\n        \r\n        &lt;p th:text=&quot;${session.currentUser.email}&quot;&gt;&lt;/p&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Type&lt;/th&gt;\r\n                &lt;th&gt;Entry&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n                &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n                    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n                        &lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;\r\n                            &lt;td th:text=&quot;${mod.role}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${mod.entry}&quot;&gt;&lt;/td&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/div&gt;\r\n        \r\n        &lt;/table&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n&gt; The exception seems to be associated with the for th:each statement. \r\n&gt; Particularly with the &quot;mod&quot; iterator variable.\r\n&gt; Here is the stack trace for the full error:\r\n**Trace**\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 52 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 54 more\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n    \tat org.thymeleaf.util.Validate.notNull(Validate.java:37)\r\n    \tat org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\r\n    \tat org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 67 more\r\n\r\nAny help is appreciated.  Thanks in advance for just taking a look if\r\nyou have the time.\r\n\r\n[Debugger in mod controller][2]\r\n[Here is  a to link to my repo if you want to download it and give it a run.][3]\r\n\r\n\r\n[Hibernate exception in session][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qDdT.png\r\n  [2]: https://i.stack.imgur.com/LcZNc.png\r\n  [3]: https://github.com/matsui23/Keyword\r\n  [4]: https://i.stack.imgur.com/MGo9W.png\r\n[Edit to mod/index controller][1]","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">enter image description here</a>> Been stuck on this for a few days.  I believe that the issue has to do</p>\n\n<blockquote>\n  <p>with the class itself.  Or the relationship between the class in\n  question and the class its column is joined on.  </p>\n  \n  <p>Here are my classes: \n  <strong>Mod</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.models;\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n\n    @Entity\n    @Table(name = \"Mods\")\n    public class Mod {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        private Integer role;\n\n        @NotNull\n        @Size(min = 1, message = \"An entry is required\")\n        private String entry;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Mod(Integer role, String entry) {\n            this.role = role;\n            this.entry = entry;\n        }\n\n        public Mod() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public int getRole() {\n            return role;\n        }\n\n        public void setRole(Integer role) {\n            this.role = role;\n        }\n\n        public String getEntry() {\n            return entry;\n        }\n\n        public void setEntry(String entry) {\n            this.entry = entry;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid= userid;\n        }\n\n    }\n</code></pre>\n\n<p><strong>Account</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n    @Entity\n    public class Account {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        @Size(min = 3, message = \"Try again\")\n        private String name;\n\n        @NotNull\n        @Size(min = 1, message = \"A password is required\")\n        private String password;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Account(String name, String password) {\n            this.name = name;\n            this.password = password;\n        }\n\n        public Account() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public String getName() {\n\n            return name;\n        }\n\n        public void setName(String name) {\n\n            this.name = name;\n        }\n\n        public String getPassword() {\n\n            return password;\n        }\n\n        public void setPassword(String password) {\n\n            this.password = password;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid = userid;\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Account and Mod classes are very similar and share a relationship with\n  the user_id column in the user class.</p>\n</blockquote>\n\n<p><strong>User</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Size;\nimport java.util.List;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"user_id\")\n    private int id;\n\n    @Size(min=3, message = \"Try again\")\n    private String email;\n\n    @Size(min=1, message = \"A password is required\")\n    private String password;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Account&gt; accounts;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Mod&gt; mods;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n\n    public User() {}\n\n    public int getId() {\n\n        return id;\n    }\n\n    public void setId(Integer id){\n        this.id = id;\n    }\n    public String getEmail() {\n\n        return email;\n    }\n\n    public void setEmail(String email) {\n\n        this.email = email;\n    }\n\n    public String getPassword() {\n\n        return password;\n    }\n\n    public void setPassword(String password) {\n\n        this.password = password;\n    }\n\n    public List&lt;Account&gt; getAccounts() {\n        return accounts;\n    }\n\n    public void setAccounts(List&lt;Account&gt; accounts) {\n        this.accounts = accounts;\n    }\n\n\n    public List&lt;Mod&gt; getMods() {\n        return mods;\n    }\n\n    public void setMods(List&lt;Mod&gt; mods) {\n        this.mods = mods;\n    }\n    @Override\n    public String toString()\n    {\n        return email + \" \" + password;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The exception gets thrown when I load the index page from my mods\n  controller.  I am using thymeleaf to render views.  Here is my mods\n  controller.  The Mods database has objects saved to it and in this\n  controller during debugging the attribute being passed to the view\n  contains a populated list of Mod objects.\n   <strong>ModController</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.controllers;\n\n\n    import com.matt.Keyword.models.Mod;\n    import com.matt.Keyword.models.User;\n    import com.matt.Keyword.models.data.ModDao;\n    import com.matt.Keyword.models.data.UserDao;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.validation.Errors;\n    import org.springframework.web.bind.annotation.ModelAttribute;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n\n    import javax.servlet.http.HttpSession;\n    import javax.validation.Valid;\n\n    //test commit note\n    //second try\n    //third try\n    /**\n     * Created by LaunchCode\n     */\n    @Controller\n    @RequestMapping(\"mod\")\n\n    public class ModController {\n\n        @Autowired\n        private UserDao userDao;\n\n        @Autowired\n        private ModDao modDao;\n\n        @RequestMapping(value = \"\")\n        public String index(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n\n                return \"redirect:/keyword/login\";\n            }\n\n            session.getAttribute(\"currentUser\");\n            model.addAttribute(\"title\", \"Mods\");\n            model.addAttribute(\"mods\", modDao.findAll());\n            return \"mods/index\";\n\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.GET)\n        public String displayModForm(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n                return \"redirect:/keyword/login\";\n            }\n\n            model.addAttribute(\"title\", \"Add a new mod\");\n            model.addAttribute(new Mod());\n            return \"mods/add\";\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.POST)\n        public String processAddModForm(@ModelAttribute @Valid Mod newMod,\n                                            Errors errors, Model model, HttpSession session) {\n\n            if (errors.hasErrors()) {\n                model.addAttribute(\"title\", \"List of Mods\");\n                return \"mods/add\";\n            }\n            User currentUser = (User) session.getAttribute(\"currentUser\");\n\n            session.getId();\n\n            currentUser.setId(currentUser.getId());\n\n            newMod.setUserid(currentUser.getId());\n\n            modDao.save(newMod);\n\n            return \"redirect:\";\n\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Here is the mod/index page using thymeleaf.</p>\n</blockquote>\n\n<p><strong>mod/index</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org/\"&gt;\n    &lt;head th:replace=\"fragments :: head\"&gt;&lt;/head&gt;\n\n    &lt;body class=\"container\"&gt;\n\n    &lt;h1 th:text=\"${title}\"&gt;Default Title&lt;/h1&gt;\n\n    &lt;p th:unless=\"${mods} and ${mods.size()}\"&gt;No current mods&lt;/p&gt;\n\n    &lt;nav th:replace=\"fragments :: navigation\"&gt;&lt;/nav&gt;\n\n    &lt;p th:text=\"${session.currentUser.email}\"&gt;&lt;/p&gt;\n\n    &lt;table class=\"table\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Type&lt;/th&gt;\n            &lt;th&gt;Entry&lt;/th&gt;\n        &lt;/tr&gt;\n            &lt;div th:if=\"${mods} != null\"&gt;\n                &lt;tr th:each=\"mod : ${mods}\"&gt;\n                    &lt;div th:if=\"${mod.userid} == ${session.currentUser.id}\"&gt;\n                        &lt;td th:text=\"${mod.role}\"&gt;&lt;/td&gt;\n                        &lt;td th:text=\"${mod.entry}\"&gt;&lt;/td&gt;\n                    &lt;/div&gt;\n                &lt;/tr&gt;\n            &lt;/div&gt;\n\n    &lt;/table&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p>The exception seems to be associated with the for th:each statement. \n  Particularly with the \"mod\" iterator variable.\n  Here is the stack trace for the full error:\n  <strong>Trace</strong></p>\n</blockquote>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 52 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 54 more\nCaused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n    at org.thymeleaf.util.Validate.notNull(Validate.java:37)\n    at org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\n    at org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\n    at org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\n    at org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\n    at org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 67 more\n</code></pre>\n\n<p>Any help is appreciated.  Thanks in advance for just taking a look if\nyou have the time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LcZNc.png\" rel=\"nofollow noreferrer\">Debugger in mod controller</a>\n<a href=\"https://github.com/matsui23/Keyword\" rel=\"nofollow noreferrer\">Here is  a to link to my repo if you want to download it and give it a run.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MGo9W.png\" rel=\"nofollow noreferrer\">Hibernate exception in session</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">Edit to mod/index controller</a></p>\n"},{"tags":["java","aws-sdk","aws-sdk-java"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1686658829,"post_id":76451381,"comment_id":134826670,"body_markdown":"`listTagsForResource` just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a `listTagsForResource`. You will need to call `listImages` to get the details of the images in the repository, including their tags.","body":"<code>listTagsForResource</code> just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a <code>listTagsForResource</code>. You will need to call <code>listImages</code> to get the details of the images in the repository, including their tags."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686684000,"post_id":76451381,"comment_id":134832350,"body_markdown":"@MarkB: Thank you very much.  I will have a look \nIs there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository","body":"@MarkB: Thank you very much.  I will have a look  Is there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository"}],"answers":[{"comments":[{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686509166,"post_id":76451529,"comment_id":134804774,"body_markdown":"thanks for the code . however, the list is empty.  result.getTags() is coming as empty \nbut I can see the tags on the AWS console","body":"thanks for the code . however, the list is empty.  result.getTags() is coming as empty  but I can see the tags on the AWS console"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686502227,"creation_date":1686502227,"answer_id":76451529,"question_id":76451381,"body_markdown":"You&#39;re trying to create an object `r` of type `ListTagsForResourceResult` and call a method `r()` simultaneously, unfortunately that&#39;s not going to work in Java.\r\n\r\nThe `ListTagsForResourceResult` object should be returned from a method call from an instance of the `AmazonECR` client, so iou&#39;ll need to set up an `AmazonECR` to interact with your ECR repository first, and then call the `listTagsForResource()` method on the client with your request as an argument:\r\n```java\r\npublic class AwsECRTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\r\n        \r\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n        \r\n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\r\n        \r\n        System.out.println(result.getTags());\r\n    }\r\n}\r\n```","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>You're trying to create an object <code>r</code> of type <code>ListTagsForResourceResult</code> and call a method <code>r()</code> simultaneously, unfortunately that's not going to work in Java.</p>\n<p>The <code>ListTagsForResourceResult</code> object should be returned from a method call from an instance of the <code>AmazonECR</code> client, so iou'll need to set up an <code>AmazonECR</code> to interact with your ECR repository first, and then call the <code>listTagsForResource()</code> method on the client with your request as an argument:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n\n    public static void main(String[] args) {\n        \n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\n        \n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n        \n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\n        \n        System.out.println(result.getTags());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603972,"creation_date":1686500225,"question_id":76451381,"body_markdown":"Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK \r\n\r\nIm trying to write below code from the documentation and the google search\r\n```java\r\npublic class AwsECRTest {\r\n    \r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n    \tListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n    \trequest.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n    \t\t\t   \r\n    \tListTagsForResourceResult r(ListTagsForResourceRequest request);\t\t   \r\n    \t\t\t   \r\n    \tSystem.out.println(r.getTags());   \r\n    }\r\n}\r\n```\r\n\r\ngetting below error \r\n```console\r\n    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\r\n```\r\n\r\nnot sure , how to pass the `request` object to `ListTagsForResourceResult` \r\n\r\nplease help / suggest \r\n\r\nthis is the doc link : \r\nhttps://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\r\n\r\n\r\n\r\n\r\n","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK</p>\n<p>Im trying to write below code from the documentation and the google search</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n    \n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n                   \n        ListTagsForResourceResult r(ListTagsForResourceRequest request);           \n                   \n        System.out.println(r.getTags());   \n    }\n}\n</code></pre>\n<p>getting below error</p>\n<pre><code>    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\n</code></pre>\n<p>not sure , how to pass the <code>request</code> object to <code>ListTagsForResourceResult</code></p>\n<p>please help / suggest</p>\n<p>this is the doc link :\n<a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java</a></p>\n"},{"tags":["java","arrays","optimization","grid","coordinates"],"answers":[{"tags":[],"owner":{"account_id":18143436,"reputation":56,"user_id":13197027,"display_name":"wookieJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603695,"creation_date":1686602845,"answer_id":76460229,"question_id":63013537,"body_markdown":"I found this question after almost 3 years, but I probably have a solution for you if it&#39;s still valid:\r\n\r\n 1. Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (**ROAD**, **GROUND**) and edges are adjacent coordinates.\r\n 3. Discover **AVAILABLE_SPACE** nodes: you can use **DFS** or **BFS** algorithms now (little modified for this issue) to traverse through **ROAD** and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are **AVAILABLE_SPACE** type will be the **GROUND** types and in the direct neighbourhood of **ROAD** nodes. Maybe another traverse through **AVAILABLE_SPACE** nodes may be needed here after discover them.\r\n\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I found this question after almost 3 years, but I probably have a solution for you if it's still valid:</p>\n<ol>\n<li>Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (<strong>ROAD</strong>, <strong>GROUND</strong>) and edges are adjacent coordinates.</li>\n<li>Discover <strong>AVAILABLE_SPACE</strong> nodes: you can use <strong>DFS</strong> or <strong>BFS</strong> algorithms now (little modified for this issue) to traverse through <strong>ROAD</strong> and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are <strong>AVAILABLE_SPACE</strong> type will be the <strong>GROUND</strong> types and in the direct neighbourhood of <strong>ROAD</strong> nodes. Maybe another traverse through <strong>AVAILABLE_SPACE</strong> nodes may be needed here after discover them.</li>\n</ol>\n"}],"owner":{"account_id":19126248,"reputation":31,"user_id":13969169,"display_name":"kp27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686603695,"creation_date":1595331002,"question_id":63013537,"body_markdown":"I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.\r\n\r\nThe area plan is on a grid - all house details (dimensions etc) are entered by a user.\r\n\r\nAll houses must be placed next to a road - the roads have already been added to the grid by the user.\r\n\r\nI am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).\r\n\r\nThe available space won&#39;t be the empty squares on the grid, but the empty squares adjacent to the road. \r\n(This road can go both horizontal and vertical)\r\n\r\nThe grid:\r\n\r\n    Coords[][] grid;\r\n\r\nIf a coordinate on the grid is a road:\r\n\r\n    grid[x][y].getRoad() == true\r\n\r\nThe following function finds all neighbouring squares of any coordinate:\r\n(cols - number of columns in grid)\r\n(rows - number of rows in grid)\r\n\r\n```\r\npublic static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\r\n{\r\n   Coords[] neighbours = null;\r\n\r\n   //right\r\n   if (x &lt; cols - 1)\r\n   {\r\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\r\n   }\r\n\r\n   //left\r\n   if (x &gt; 0)\r\n   {\r\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\r\n   }\r\n\r\n   //top\r\n   if (y &lt; rows - 1)\r\n   {\r\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\r\n   }\r\n\r\n   //bottom\r\n   if (y &gt; 0)\r\n   {\r\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\r\n   }\r\n\r\n   return neighbours;\r\n}\r\n```\r\n\r\nHow do I loop through all roads squares in the grid, and create an array of ints containing the size of all &#39;gaps&#39; along the road?\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.</p>\n<p>The area plan is on a grid - all house details (dimensions etc) are entered by a user.</p>\n<p>All houses must be placed next to a road - the roads have already been added to the grid by the user.</p>\n<p>I am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).</p>\n<p>The available space won't be the empty squares on the grid, but the empty squares adjacent to the road.\n(This road can go both horizontal and vertical)</p>\n<p>The grid:</p>\n<pre><code>Coords[][] grid;\n</code></pre>\n<p>If a coordinate on the grid is a road:</p>\n<pre><code>grid[x][y].getRoad() == true\n</code></pre>\n<p>The following function finds all neighbouring squares of any coordinate:\n(cols - number of columns in grid)\n(rows - number of rows in grid)</p>\n<pre><code>public static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\n{\n   Coords[] neighbours = null;\n\n   //right\n   if (x &lt; cols - 1)\n   {\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\n   }\n\n   //left\n   if (x &gt; 0)\n   {\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\n   }\n\n   //top\n   if (y &lt; rows - 1)\n   {\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\n   }\n\n   //bottom\n   if (y &gt; 0)\n   {\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\n   }\n\n   return neighbours;\n}\n</code></pre>\n<p>How do I loop through all roads squares in the grid, and create an array of ints containing the size of all 'gaps' along the road?</p>\n"},{"tags":["java","data-structures","iteration","binary-search-tree","inorder"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686583879,"post_id":76456940,"comment_id":134815223,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686602483,"post_id":76456940,"comment_id":134818785,"body_markdown":"I think someone just edited the post and fixed it :)","body":"I think someone just edited the post and fixed it :)"}],"answers":[{"comments":[{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686576205,"post_id":76457061,"comment_id":134813325,"body_markdown":"thank you for your response. these are the kind of solutions I have seen, but this seems relatively complicated (to recursive solution). would be great if you could address this:\n&quot;why does the iterative solution seem to be more complicated than the recursive one? (and also not popular)&quot;. I&#39;m trying to understand the intuition behind this.","body":"thank you for your response. these are the kind of solutions I have seen, but this seems relatively complicated (to recursive solution). would be great if you could address this: &quot;why does the iterative solution seem to be more complicated than the recursive one? (and also not popular)&quot;. I&#39;m trying to understand the intuition behind this."},{"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"score":0,"creation_date":1686578414,"post_id":76457061,"comment_id":134813841,"body_markdown":"well when it comes to chosing two different approaches of algos, in today&#39;s time the preffered one is always the one which is more readable. And recursive one is easier to understand as compared to iterative one with multiple loops and stuff. Also recursive one is better in terms of space complexity, but also keep in mind it can lead to function call overhead","body":"well when it comes to chosing two different approaches of algos, in today&#39;s time the preffered one is always the one which is more readable. And recursive one is easier to understand as compared to iterative one with multiple loops and stuff. Also recursive one is better in terms of space complexity, but also keep in mind it can lead to function call overhead"},{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686582273,"post_id":76457061,"comment_id":134814844,"body_markdown":"why &quot;recursive one is better in terms of space complexity&quot;. I thought recursion is usually way worse in terms of space (do you mean theoretical?)","body":"why &quot;recursive one is better in terms of space complexity&quot;. I thought recursion is usually way worse in terms of space (do you mean theoretical?)"}],"tags":[],"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686575794,"creation_date":1686575794,"answer_id":76457061,"question_id":76456940,"body_markdown":"To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here&#39;s how you can do it:\r\n\r\n 1. Initialize an empty stack. This stack will store pairs of indices\r\n    representing the range of elements for each subtree.\r\n    \r\n 2. Push the initial range [0, n-1] onto the stack, where n is the size\r\n    of the sorted array.\r\n    \r\n 3. While the stack is not empty, do the following:\r\n\r\n    \r\n\r\n    -    Pop the top pair of indices from the stack. Let&#39;s call them start and\r\n   end.\r\n\r\n    \r\n\r\n    -    Calculate the middle index as mid = (start + end) // 2.\r\n\r\n    \r\n\r\n    -    Create a new node with the value at index mid in the sorted array.\r\n\r\n    \r\n\r\n    - Set the left child of the new node to the result of the next\r\n   iteration \r\n       with the range [start, mid-1] (i.e., the left half of the current range).\r\n\r\n    \r\n\r\n    - Set the right child of the new node to the result of the next\r\n   iteration \r\n       with the range [mid+1, end] (i.e., the right half of the current range).\r\n\r\n    \r\n    \r\n\r\n    - Set the parent of the new node as needed.\r\n  4. Return the root of the BST.\r\n\r\n\r\nexample code:\r\n\r\n    class Node {\r\n    int value;\r\n    Node left;\r\n    Node right;\r\n    Node parent;\r\n\r\n    public Node(int value) {\r\n        this.value = value;\r\n        this.left = null;\r\n        this.right = null;\r\n        this.parent = null;\r\n    }\r\n\r\n    }\r\n    public class BalancedBST {\r\n        public static Node createBalancedBSTIterative(int[] sortedArray) {\r\n            int n = sortedArray.length;\r\n            if (n == 0) {\r\n                return null;\r\n            }\r\n\r\n        Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\r\n        Node root = null;\r\n\r\n        int start = 0;\r\n        int end = n - 1;\r\n\r\n        int mid = (start + end) / 2;\r\n        root = new Node(sortedArray[mid]);\r\n        stack.push(new int[]{start, mid - 1});\r\n        stack.push(new int[]{mid + 1, end});\r\n\r\n        while (!stack.empty()) {\r\n            int[] range = stack.pop();\r\n            start = range[0];\r\n            end = range[1];\r\n            mid = (start + end) / 2;\r\n\r\n            Node parent = new Node(sortedArray[mid]);\r\n            parent.parent = root;\r\n\r\n            if (start &lt;= mid - 1) {\r\n                stack.push(new int[]{start, mid - 1});\r\n                parent.left = new Node(0);  // Placeholder node for now\r\n            }\r\n\r\n            if (mid + 1 &lt;= end) {\r\n                stack.push(new int[]{mid + 1, end});\r\n                parent.right = new Node(0); // Placeholder node for now\r\n            }\r\n\r\n            if (parent.parent != null) {\r\n                if (parent == parent.parent.left) {\r\n                    parent.parent.left = parent;\r\n                } else {\r\n                    parent.parent.right = parent;\r\n                }\r\n            } else {\r\n                root = parent;\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n        Node root = createBalancedBSTIterative(sortedArray);\r\n        // You can traverse and print the resulting tree to verify the correctness\r\n    }\r\n    }\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here's how you can do it:</p>\n<ol>\n<li><p>Initialize an empty stack. This stack will store pairs of indices\nrepresenting the range of elements for each subtree.</p>\n</li>\n<li><p>Push the initial range [0, n-1] onto the stack, where n is the size\nof the sorted array.</p>\n</li>\n<li><p>While the stack is not empty, do the following:</p>\n<ul>\n<li><p>Pop the top pair of indices from the stack. Let's call them start and\nend.</p>\n</li>\n<li><p>Calculate the middle index as mid = (start + end) // 2.</p>\n</li>\n<li><p>Create a new node with the value at index mid in the sorted array.</p>\n</li>\n<li><p>Set the left child of the new node to the result of the next\niteration\nwith the range [start, mid-1] (i.e., the left half of the current range).</p>\n</li>\n<li><p>Set the right child of the new node to the result of the next\niteration\nwith the range [mid+1, end] (i.e., the right half of the current range).</p>\n</li>\n<li><p>Set the parent of the new node as needed.</p>\n</li>\n</ul>\n</li>\n<li><p>Return the root of the BST.</p>\n</li>\n</ol>\n<p>example code:</p>\n<pre><code>class Node {\nint value;\nNode left;\nNode right;\nNode parent;\n\npublic Node(int value) {\n    this.value = value;\n    this.left = null;\n    this.right = null;\n    this.parent = null;\n}\n\n}\npublic class BalancedBST {\n    public static Node createBalancedBSTIterative(int[] sortedArray) {\n        int n = sortedArray.length;\n        if (n == 0) {\n            return null;\n        }\n\n    Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\n    Node root = null;\n\n    int start = 0;\n    int end = n - 1;\n\n    int mid = (start + end) / 2;\n    root = new Node(sortedArray[mid]);\n    stack.push(new int[]{start, mid - 1});\n    stack.push(new int[]{mid + 1, end});\n\n    while (!stack.empty()) {\n        int[] range = stack.pop();\n        start = range[0];\n        end = range[1];\n        mid = (start + end) / 2;\n\n        Node parent = new Node(sortedArray[mid]);\n        parent.parent = root;\n\n        if (start &lt;= mid - 1) {\n            stack.push(new int[]{start, mid - 1});\n            parent.left = new Node(0);  // Placeholder node for now\n        }\n\n        if (mid + 1 &lt;= end) {\n            stack.push(new int[]{mid + 1, end});\n            parent.right = new Node(0); // Placeholder node for now\n        }\n\n        if (parent.parent != null) {\n            if (parent == parent.parent.left) {\n                parent.parent.left = parent;\n            } else {\n                parent.parent.right = parent;\n            }\n        } else {\n            root = parent;\n        }\n    }\n\n    return root;\n}\n\npublic static void main(String[] args) {\n    int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\n    Node root = createBalancedBSTIterative(sortedArray);\n    // You can traverse and print the resulting tree to verify the correctness\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686601883,"post_id":76460001,"comment_id":134818673,"body_markdown":"very interesting","body":"very interesting"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686603389,"creation_date":1686600623,"answer_id":76460001,"question_id":76456940,"body_markdown":"You can use an iterative approach where you target a tree that is *complete*, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.\r\n\r\nFrom the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.\r\n\r\nThen you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all `null` entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).\r\n\r\nHere is an implementation with some comments explaining some details:\r\n\r\n### Node\r\n\r\n```\r\nclass Node {\r\n    int value;\r\n    Node left = null;\r\n    Node right = null;\r\n    \r\n    public Node(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n### BinarySearchTree\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass BinarySearchTree {\r\n    Node root = null;\r\n    \r\n    BinarySearchTree(int[] values) {\r\n        if (values.length == 0) return;\r\n        int height = (int)(Math.log(values.length) / Math.log(2));\r\n        // Number of nodes to be placed in the bottom level of the new tree:\r\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\r\n        Node path[] = new Node[height + 1];\r\n        Arrays.fill(path, null);\r\n        // Depth that the next node will have in the new tree \r\n        int depth = height; \r\n        for (int value : values) {\r\n            path[depth] = new Node(value);\r\n            // Is there a left child to link?\r\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \r\n                path[depth].left = path[depth+1];\r\n                path[depth+1] = null;\r\n            }\r\n            if (depth &lt; height) {\r\n                depth = height; // Next node will be a leaf\r\n            } else {\r\n                // Has bottom level been covered? \r\n                //    Then remaining part has one less level\r\n                if (--bottomCount == 0) height--;\r\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\r\n                    path[depth].right = path[depth+1];\r\n                    path[depth+1] = null;\r\n                }\r\n            }\r\n        }\r\n        root = path[0];\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(Node node, String indent) {\r\n        if (node == null) return;\r\n        print(node.right, indent + &quot;   &quot;);\r\n        System.out.println(indent + node.value);\r\n        print(node.left, indent + &quot;   &quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Driver code\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\r\n        BinarySearchTree tree = new BinarySearchTree(values);\r\n        tree.print();\r\n    }\r\n```\r\n\r\nThis has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>You can use an iterative approach where you target a tree that is <em>complete</em>, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.</p>\n<p>From the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.</p>\n<p>Then you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all <code>null</code> entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).</p>\n<p>Here is an implementation with some comments explaining some details:</p>\n<h3>Node</h3>\n<pre><code>class Node {\n    int value;\n    Node left = null;\n    Node right = null;\n    \n    public Node(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<h3>BinarySearchTree</h3>\n<pre><code>import java.util.*;\n\nclass BinarySearchTree {\n    Node root = null;\n    \n    BinarySearchTree(int[] values) {\n        if (values.length == 0) return;\n        int height = (int)(Math.log(values.length) / Math.log(2));\n        // Number of nodes to be placed in the bottom level of the new tree:\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\n        Node path[] = new Node[height + 1];\n        Arrays.fill(path, null);\n        // Depth that the next node will have in the new tree \n        int depth = height; \n        for (int value : values) {\n            path[depth] = new Node(value);\n            // Is there a left child to link?\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \n                path[depth].left = path[depth+1];\n                path[depth+1] = null;\n            }\n            if (depth &lt; height) {\n                depth = height; // Next node will be a leaf\n            } else {\n                // Has bottom level been covered? \n                //    Then remaining part has one less level\n                if (--bottomCount == 0) height--;\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\n                    path[depth].right = path[depth+1];\n                    path[depth+1] = null;\n                }\n            }\n        }\n        root = path[0];\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(Node node, String indent) {\n        if (node == null) return;\n        print(node.right, indent + &quot;   &quot;);\n        System.out.println(indent + node.value);\n        print(node.left, indent + &quot;   &quot;);\n    }\n}\n</code></pre>\n<h3>Driver code</h3>\n<pre><code>    public static void main(String[] args) {\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\n        BinarySearchTree tree = new BinarySearchTree(values);\n        tree.print();\n    }\n</code></pre>\n<p>This has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602031,"creation_date":1686602031,"answer_id":76460141,"question_id":76456940,"body_markdown":"Why is it &quot;complicated&quot; ?\r\n\r\nBecause if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.\r\n\r\nE.g.\r\n\r\n              3\r\n          1       5\r\n        0   2   4   6\r\n\r\nThe nodes are filled using the successive paths\r\n\r\n    3 1 0\r\n    3 1\r\n    3 1 2\r\n    3\r\n    3 5 4\r\n    3 5\r\n    3 5 6\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>Why is it &quot;complicated&quot; ?</p>\n<p>Because if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.</p>\n<p>E.g.</p>\n<pre><code>          3\n      1       5\n    0   2   4   6\n</code></pre>\n<p>The nodes are filled using the successive paths</p>\n<pre><code>3 1 0\n3 1\n3 1 2\n3\n3 5 4\n3 5\n3 5 6\n</code></pre>\n"}],"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76460001,"answer_count":3,"score":0,"last_activity_date":1686603389,"creation_date":1686574932,"question_id":76456940,"body_markdown":"I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.\r\n\r\nI tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don&#39;t).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\r\ncould use help. (jave please if you supply code) \r\n\r\n*I&#39;m a beginner (don&#39;t be to harsh :))","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.</p>\n<p>I tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don't).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\ncould use help. (jave please if you supply code)</p>\n<p>*I'm a beginner (don't be to harsh :))</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1686590898,"post_id":76458852,"comment_id":134816703,"body_markdown":"Please read whole container output. Probably there is an error message in it.","body":"Please read whole container output. Probably there is an error message in it."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686591600,"post_id":76458852,"comment_id":134816859,"body_markdown":"Does running the `registereureka.jar` file directly (not in Docker) work?","body":"Does running the <code>registereureka.jar</code> file directly (not in Docker) work?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686591653,"post_id":76458852,"comment_id":134816875,"body_markdown":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?","body":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593299,"post_id":76458852,"comment_id":134817215,"body_markdown":"Hello and thank you all for looking at my question.\n\n\ngdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started\n\n\nthe last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPackages&#39;\n18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)","body":"Hello and thank you all for looking at my question.   gdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started   the last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBea&zwnj;&#8203;nFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPac&zwnj;&#8203;kages&#39; 18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593311,"post_id":76458852,"comment_id":134817217,"body_markdown":"rob spoor: yes it works, i run the app in intellij and it works","body":"rob spoor: yes it works, i run the app in intellij and it works"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593317,"post_id":76458852,"comment_id":134817219,"body_markdown":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers","body":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers"}],"answers":[{"comments":[{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686605218,"post_id":76460251,"comment_id":134819248,"body_markdown":"hello, thank you for your answer...unfortunately the problem still remains, i tried it without the / and still got the SpringApplicationShutdownHook...i tried to follow you code example but still the same issue","body":"hello, thank you for your answer...unfortunately the problem still remains, i tried it without the / and still got the SpringApplicationShutdownHook...i tried to follow you code example but still the same issue"}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603117,"creation_date":1686603117,"answer_id":76460251,"question_id":76458852,"body_markdown":"This is my working code. Kindly try it:\r\n\r\n    FROM openjdk:17-jdk\r\n    ADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\r\n    EXPOSE 9003\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\nI think you are adding &quot;**/**&quot; along with **app.jar** in Entrypoint and it is not able to find the jar file. Try to remove **&quot;/&quot;** first and if it doesn&#39;t work, take my code as a reference. ","title":"docker container shuts down immediately","body":"<p>This is my working code. Kindly try it:</p>\n<pre><code>FROM openjdk:17-jdk\nADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\nEXPOSE 9003\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>I think you are adding &quot;<strong>/</strong>&quot; along with <strong>app.jar</strong> in Entrypoint and it is not able to find the jar file. Try to remove <strong>&quot;/&quot;</strong> first and if it doesn't work, take my code as a reference.</p>\n"}],"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603117,"creation_date":1686589470,"question_id":76458852,"body_markdown":"i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:\r\n\r\n\r\n```\r\n[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\r\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\r\n```\r\n\r\nhas anyone faced something similar to that?i can&#39;t figure out what is the problem..\r\n\r\nthis is what i have on my Dockerfile\r\n\r\n\r\n```\r\nFROM openjdk:17-alpine\r\nARG JAR_FILE=target/*.jar\r\nADD ./target/registereureka.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n\r\ni can&#39;t figure what is causing the problem","title":"docker container shuts down immediately","body":"<p>i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:</p>\n<pre><code>[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\n</code></pre>\n<p>has anyone faced something similar to that?i can't figure out what is the problem..</p>\n<p>this is what i have on my Dockerfile</p>\n<pre><code>FROM openjdk:17-alpine\nARG JAR_FILE=target/*.jar\nADD ./target/registereureka.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>i can't figure what is causing the problem</p>\n"},{"tags":["java","java-8","java-stream","short-circuiting"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440456121,"post_id":32192846,"comment_id":52270824,"body_markdown":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;.","body":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;."},{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456655,"post_id":32192846,"comment_id":52271002,"body_markdown":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?","body":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?"}],"answers":[{"comments":[{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456561,"post_id":32192911,"comment_id":52270965,"body_markdown":"But it could also happen for the predicates, as soon as they aren(&#39;t) satisfied?","body":"But it could also happen for the predicates, as soon as they aren(&#39;t) satisfied?"}],"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440456224,"creation_date":1440456224,"answer_id":32192911,"question_id":32192846,"body_markdown":"When the javadoc says &quot;may not short-circuit&quot; it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.\r\n\r\n`findFirst` and `findAny` on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>When the javadoc says \"may not short-circuit\" it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.</p>\n\n<p><code>findFirst</code> and <code>findAny</code> on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.</p>\n"},{"comments":[{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456450,"post_id":32192935,"comment_id":52270938,"body_markdown":"But anyMatch does as well?","body":"But anyMatch does as well?"},{"owner":{"display_name":"user3496378"},"score":0,"creation_date":1440456832,"post_id":32192935,"comment_id":52271062,"body_markdown":"If the last value was the match, then yes. Point is the Match methods will always return the same value on the same data set, but the Find methods aren&#39;t guaranteed that consistency because the order may differ.","body":"If the last value was the match, then yes. Point is the Match methods will always return the same value on the same data set, but the Find methods aren&#39;t guaranteed that consistency because the order may differ."},{"owner":{"display_name":"user3496378"},"score":0,"creation_date":1440456921,"post_id":32192935,"comment_id":52271094,"body_markdown":"This lack of consistency is the short circuiting described","body":"This lack of consistency is the short circuiting described"}],"tags":[],"owner":{"display_name":"user3496378"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440457198,"creation_date":1440456409,"answer_id":32192935,"question_id":32192846,"body_markdown":"anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.\n\nfindFirst and findAny just care about finding the first they can and returning that.\n\nEdit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.\n\nThe short circuiting described is talking about the Find methods lacking consistency for a given dataset.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.</p>\n\n<p>findFirst and findAny just care about finding the first they can and returning that.</p>\n\n<p>Edit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.</p>\n\n<p>The short circuiting described is talking about the Find methods lacking consistency for a given dataset.</p>\n"},{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1440457575,"post_id":32192942,"comment_id":52271286,"body_markdown":"From the blog: &quot;The operations allMatch, noneMatch and anyMatch may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is true or false.&quot; This is obviously incorrect since `allMatch` can be determined to be false as soon as first non-match is found.","body":"From the blog: &quot;The operations allMatch, noneMatch and anyMatch may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is true or false.&quot; This is obviously incorrect since <code>allMatch</code> can be determined to be false as soon as first non-match is found."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440457748,"post_id":32192942,"comment_id":52271339,"body_markdown":"@MiserableVariable As I said, blog post is wrong. They *can* all short-circuit. --- The blog is right that 3 of them may *potentially* run forever, but it says it all wrong.","body":"@MiserableVariable As I said, blog post is wrong. They <i>can</i> all short-circuit. --- The blog is right that 3 of them may <i>potentially</i> run forever, but it says it all wrong."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1440457360,"creation_date":1440456456,"answer_id":32192942,"question_id":32192846,"body_markdown":"**Answer Updated**\r\n\r\nI&#39;d say the blog post is wrong when it says &quot;findFirst or findAny we only need the first value which matches the predicate&quot;.\r\n\r\nIn the javadoc for [allMatch(Predicate)][1], [anyMatch(Predicate)][2], [noneMatch(Predicate)][3], [findAny()][4], and [findFirst()][5]:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nHowever, note that `findFirst` and `findAny` doesn&#39;t have a `Predicate`. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"How does short-circuit work for Java 8 Streams?","body":"<p><strong>Answer Updated</strong></p>\n\n<p>I'd say the blog post is wrong when it says \"findFirst or findAny we only need the first value which matches the predicate\".</p>\n\n<p>In the javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\">allMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"noreferrer\">anyMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\" rel=\"noreferrer\">noneMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"noreferrer\">findAny()</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">findFirst()</a>:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>However, note that <code>findFirst</code> and <code>findAny</code> doesn't have a <code>Predicate</code>. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.</p>\n"},{"tags":[],"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440457012,"creation_date":1440457012,"answer_id":32193029,"question_id":32192846,"body_markdown":"According to Oracle&#39;s Stream Documentation:\r\n https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\r\n\r\n&gt;  A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. \r\n\r\nAll five functions have the line:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nIn the description of the function.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>According to Oracle's Stream Documentation:\n <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a></p>\n\n<blockquote>\n  <p>A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. </p>\n</blockquote>\n\n<p>All five functions have the line:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>In the description of the function.</p>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1557694075,"post_id":32194320,"comment_id":98841131,"body_markdown":"Does not answer to the question about `allMatch`.","body":"Does not answer to the question about <code>allMatch</code>."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1468423940,"creation_date":1440467199,"answer_id":32194320,"question_id":32192846,"body_markdown":"There&#39;s a subtle difference, because `anyMatch` family uses a predicate, while `findAny` family does not. Technically `findAny()` looks like `anyMatch(x -&gt; true)` and `anyMatch(pred)` looks like `filter(pred).findAny()`. So here we have another issue. Consider we have a simple infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\r\n\r\nSo it&#39;s true that applying `findAny()` to such stream will always short-circuit and finish while applying `anyMatch(pred)` depends on the predicate. However let&#39;s filter our infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\r\n\r\nIs the resulting stream infinite as well? That&#39;s a tricky question. It actually contains no elements, but to determine this (for example, using `.iterator().hasNext()`) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both `anyMatch` and `findAny` will never finish:\r\n\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\r\n\r\nSo `findAny()` is not guaranteed to finish either, it depends on the previous intermediate stream operations.\r\n\r\nTo conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official [JavaDoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps).","title":"How does short-circuit work for Java 8 Streams?","body":"<p>There's a subtle difference, because <code>anyMatch</code> family uses a predicate, while <code>findAny</code> family does not. Technically <code>findAny()</code> looks like <code>anyMatch(x -&gt; true)</code> and <code>anyMatch(pred)</code> looks like <code>filter(pred).findAny()</code>. So here we have another issue. Consider we have a simple infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\n</code></pre>\n\n<p>So it's true that applying <code>findAny()</code> to such stream will always short-circuit and finish while applying <code>anyMatch(pred)</code> depends on the predicate. However let's filter our infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\n</code></pre>\n\n<p>Is the resulting stream infinite as well? That's a tricky question. It actually contains no elements, but to determine this (for example, using <code>.iterator().hasNext()</code>) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both <code>anyMatch</code> and <code>findAny</code> will never finish:</p>\n\n<pre><code>Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\nStream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\n</code></pre>\n\n<p>So <code>findAny()</code> is not guaranteed to finish either, it depends on the previous intermediate stream operations.</p>\n\n<p>To conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">JavaDoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6948511,"reputation":131,"user_id":5331961,"accept_rate":0,"display_name":"Kai Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645211659,"creation_date":1645211659,"answer_id":71178743,"question_id":32192846,"body_markdown":"```\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\r\n\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\r\n```\r\n\r\nThe first one returns forever, the second one returns immediately","title":"How does short-circuit work for Java 8 Streams?","body":"<pre><code>LongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\n\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\n</code></pre>\n<p>The first one returns forever, the second one returns immediately</p>\n"}],"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17988,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":32194320,"answer_count":6,"score":34,"last_activity_date":1686603115,"creation_date":1440455822,"question_id":32192846,"body_markdown":"Reading up a bit on Java 8, I got to [this][1] blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states: \r\n\r\n&gt;Note in the case of `findFirst` or `findAny` we only need the first value which matches the predicate (although `findAny` is not guaranteed to return the first). However if the stream has no ordering then we’d expect `findFirst` to behave like `findAny`. The operations `allMatch`, `noneMatch` and `anyMatch` may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is `true` or `false`. Thus an infinite stream using these may not terminate.\r\n\r\nI get that `findFirst` or `findAny` may short-circuit the reduction, because as soon as you find an element, you do not need to process any further. \r\n\r\nBut why would this not be possible for `allMatch`, `noneMatch` and `anyMatch`? For `allMatch`, if you find one which doesn&#39;t match the predicate, you can stop processing. Same for none. And `anyMatch` especially doesn&#39;t make sense to me, as it it pretty much equal to `findAny` (except for what is returned)?\r\n\r\nSaying that these three may not short-circuit, because it may take evaluating all the values, could also be said for `findFirst/Any`.\r\n\r\nIs there some fundamental difference I&#39;m missing? Am I not really understanding what is going on?\r\n\r\n  [1]: https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/","title":"How does short-circuit work for Java 8 Streams?","body":"<p>Reading up a bit on Java 8, I got to <a href=\"https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/\" rel=\"nofollow noreferrer\">this</a> blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states:</p>\n<blockquote>\n<p>Note in the case of <code>findFirst</code> or <code>findAny</code> we only need the first value which matches the predicate (although <code>findAny</code> is not guaranteed to return the first). However if the stream has no ordering then we’d expect <code>findFirst</code> to behave like <code>findAny</code>. The operations <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code> may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is <code>true</code> or <code>false</code>. Thus an infinite stream using these may not terminate.</p>\n</blockquote>\n<p>I get that <code>findFirst</code> or <code>findAny</code> may short-circuit the reduction, because as soon as you find an element, you do not need to process any further.</p>\n<p>But why would this not be possible for <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code>? For <code>allMatch</code>, if you find one which doesn't match the predicate, you can stop processing. Same for none. And <code>anyMatch</code> especially doesn't make sense to me, as it it pretty much equal to <code>findAny</code> (except for what is returned)?</p>\n<p>Saying that these three may not short-circuit, because it may take evaluating all the values, could also be said for <code>findFirst/Any</code>.</p>\n<p>Is there some fundamental difference I'm missing? Am I not really understanding what is going on?</p>\n"},{"tags":["java","servlets","jakarta-ee","multipartform-data","requestdispatcher"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686583760,"post_id":76457927,"comment_id":134815197,"body_markdown":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed).","body":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686587351,"post_id":76457927,"comment_id":134816057,"body_markdown":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration.","body":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration."},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686600972,"post_id":76457927,"comment_id":134818514,"body_markdown":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it","body":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it"},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686602468,"post_id":76457927,"comment_id":134818783,"body_markdown":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter.\nHere is the source code if any one wants to test it out for them selves https://github.com/telos-matter/WeirdBehaviorInJEE","body":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter. Here is the source code if any one wants to test it out for them selves <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">github.com/telos-matter/WeirdBehaviorInJEE</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686620693,"post_id":76457927,"comment_id":134820819,"body_markdown":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing.","body":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686621136,"post_id":76457927,"comment_id":134820867,"body_markdown":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant.","body":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686639922,"post_id":76457927,"comment_id":134822711,"body_markdown":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage.","body":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640042,"post_id":76457927,"comment_id":134822732,"body_markdown":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the `InputStream` of the request.","body":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the <code>InputStream</code> of the request."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686722887,"post_id":76457927,"comment_id":134836326,"body_markdown":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config.","body":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config."}],"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602549,"creation_date":1686582023,"question_id":76457927,"body_markdown":"I came across this weird behavior in JEE and I don&#39;t know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;\r\n\r\n# The behavior #\r\nWhen I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms&#39; action) I&#39;m unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts\r\n\r\n# Setup #\r\nI have a main ```Filter``` in my web application mapped to intercept all request like so:\r\n```\r\n@WebFilter(&quot;/*&quot;)\r\npublic class Filter extends HttpFilter {\r\n```\r\nAnd two Servlet each mapped like so:\r\n```\r\n@WebServlet(&quot;/servA&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletA extends HttpServlet {\r\n```\r\nAnd\r\n```\r\n@WebServlet(&quot;/servB&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletB extends HttpServlet {\r\n```\r\nThe filter receives all the requests and *sends* them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request\r\n\r\n# Tests #\r\nI tried multiple stuff to pinpoint the problem exactly and my experiments went like this\r\n\r\n## Sending the request trough ```chain.doFilter``` ##\r\nIn the forms&#39; action I specified, in the first time, the URL for the the first Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and in the ```Filter``` I call the ```chain.doFilter``` method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;```, it works as expected. I also tried specifying a non existing Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and as expected I get a **404 - Not found** response.\r\nThis first test was done just to make sure everything is working fine, and that the ```@MultipartConfig``` annotations are well set and that everything is mapped correctly\r\n\r\n## Sending the request trough ```requestDispatcher.forward``` ##\r\nNow here is where the weird behavior occurs, at first I specify ```ServletA``` in the forms&#39; action and in the ```Filter``` I call ```request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);``` on the received requests, this works fine. I try the same thing with ```ServletB```, changing both the forms&#39; action and the requestDispatcher, also works fine.\r\n\r\nThen I specify ```ServletA``` in the forms&#39; action but in the ```Filter``` I forward the request to ```ServletB```, and everything works fine. ```ServletB``` is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying ```ServletB``` in the forms&#39; action but in the filter I forward it to ```ServletA```, it works just fine, ```ServletA``` is able to retrieve the parameters and parts even though the request was originally made to ```ServletB```\r\n\r\n**BUT** when I specify a non existing Servlet in the forms&#39; action, for example like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and I forward it in ```Filter``` to either ```ServletA``` or ```ServletB``` they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling ```request.getParameterMap``` and an empty collection when calling ```request.getParts()```\r\n\r\n### Notes ###\r\nI tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications\r\n\r\nThat is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it&#39;s something else completely\r\n\r\n### Quick-**dirty**-fix ###\r\nI found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so\r\n```\r\n@WebServlet(&quot;/*&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletM extends HttpServlet {\r\n```\r\nand then forbid making any request to it, and continue using your normal Servlets\r\n\r\n### Source code ###\r\nHere is the [source code](https://github.com/telos-matter/WeirdBehaviorInJEE) if any one wants to try it out for themselves","title":"A bug or a feature in JEE when sending multipart requests to a non existing Servlet?","body":"<p>I came across this weird behavior in JEE and I don't know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;</p>\n<h1>The behavior</h1>\n<p>When I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms' action) I'm unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts</p>\n<h1>Setup</h1>\n<p>I have a main <code>Filter</code> in my web application mapped to intercept all request like so:</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\npublic class Filter extends HttpFilter {\n</code></pre>\n<p>And two Servlet each mapped like so:</p>\n<pre><code>@WebServlet(&quot;/servA&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletA extends HttpServlet {\n</code></pre>\n<p>And</p>\n<pre><code>@WebServlet(&quot;/servB&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletB extends HttpServlet {\n</code></pre>\n<p>The filter receives all the requests and <em>sends</em> them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request</p>\n<h1>Tests</h1>\n<p>I tried multiple stuff to pinpoint the problem exactly and my experiments went like this</p>\n<h2>Sending the request trough <code>chain.doFilter</code></h2>\n<p>In the forms' action I specified, in the first time, the URL for the the first Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and in the <code>Filter</code> I call the <code>chain.doFilter</code> method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;</code>, it works as expected. I also tried specifying a non existing Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and as expected I get a <strong>404 - Not found</strong> response.\nThis first test was done just to make sure everything is working fine, and that the <code>@MultipartConfig</code> annotations are well set and that everything is mapped correctly</p>\n<h2>Sending the request trough <code>requestDispatcher.forward</code></h2>\n<p>Now here is where the weird behavior occurs, at first I specify <code>ServletA</code> in the forms' action and in the <code>Filter</code> I call <code>request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);</code> on the received requests, this works fine. I try the same thing with <code>ServletB</code>, changing both the forms' action and the requestDispatcher, also works fine.</p>\n<p>Then I specify <code>ServletA</code> in the forms' action but in the <code>Filter</code> I forward the request to <code>ServletB</code>, and everything works fine. <code>ServletB</code> is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying <code>ServletB</code> in the forms' action but in the filter I forward it to <code>ServletA</code>, it works just fine, <code>ServletA</code> is able to retrieve the parameters and parts even though the request was originally made to <code>ServletB</code></p>\n<p><strong>BUT</strong> when I specify a non existing Servlet in the forms' action, for example like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and I forward it in <code>Filter</code> to either <code>ServletA</code> or <code>ServletB</code> they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling <code>request.getParameterMap</code> and an empty collection when calling <code>request.getParts()</code></p>\n<h3>Notes</h3>\n<p>I tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications</p>\n<p>That is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it's something else completely</p>\n<h3>Quick-<strong>dirty</strong>-fix</h3>\n<p>I found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so</p>\n<pre><code>@WebServlet(&quot;/*&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletM extends HttpServlet {\n</code></pre>\n<p>and then forbid making any request to it, and continue using your normal Servlets</p>\n<h3>Source code</h3>\n<p>Here is the <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">source code</a> if any one wants to try it out for themselves</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686599208,"post_id":76459832,"comment_id":134818227,"body_markdown":"From your logs, it would seem that `takePictureIntent.resolveActivity(getPackageManager())` returns null since none of the log statements inside that `if` are output. So maybe there is no camera activity?","body":"From your logs, it would seem that <code>takePictureIntent.resolveActivity(getPackageManager())</code> returns null since none of the log statements inside that <code>if</code> are output. So maybe there is no camera activity?"},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686599634,"post_id":76459832,"comment_id":134818282,"body_markdown":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","body":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1686599914,"post_id":76459832,"comment_id":134818326,"body_markdown":"You may find [this](https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture) relevant. Try removing that if-check on `takePictureIntent.resolveActivity(getPackageManager())` entirely and see what happens (if it fails, you will probably get a more useful error message).","body":"You may find <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\">this</a> relevant. Try removing that if-check on <code>takePictureIntent.resolveActivity(getPackageManager())</code> entirely and see what happens (if it fails, you will probably get a more useful error message)."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686600402,"post_id":76459832,"comment_id":134818401,"body_markdown":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :(","body":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :("},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686600769,"post_id":76459832,"comment_id":134818470,"body_markdown":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed.","body":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686602273,"post_id":76459832,"comment_id":134818743,"body_markdown":"@TylerV I have update the code with the information provided in https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture","body":"@TylerV I have update the code with the information provided in <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\" title=\"error no activity found to handle intent act android media action image capture\">stackoverflow.com/questions/49435522/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686609276,"post_id":76459832,"comment_id":134819725,"body_markdown":"But you haven&#39;t updated the logs, you still have the `resolveActivity` if-statement, and now `dispatchTakePictureIntent` doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (`resolveActivity` returning null, `photoFile` being null) - you need to figure out which of those it&#39;s hitting and ask a *specific* question about it.","body":"But you haven&#39;t updated the logs, you still have the <code>resolveActivity</code> if-statement, and now <code>dispatchTakePictureIntent</code> doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (<code>resolveActivity</code> returning null, <code>photoFile</code> being null) - you need to figure out which of those it&#39;s hitting and ask a <i>specific</i> question about it."}],"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602198,"creation_date":1686598967,"question_id":76459832,"body_markdown":"I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can&#39;t figure out.\r\n\r\nShortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn&#39;t capture the image and then display it in image_view?\r\n\r\nThis is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don&#39;t think they are relevant for this issue, that part works just fine)\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\r\n\r\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\r\n    private static final int REQUEST_PERMISSIONS = 2;\r\n\r\n    private Camera camera;\r\n    private ImageView imageView;\r\n    private TextView resultTextView;\r\n    private SurfaceView cameraPreview;\r\n    private String currentPhotoPath;\r\n\r\n    private MultiLayerNetwork neuralNetwork;\r\n    private Bitmap imageBitmap;\r\n\r\n    Button captureButton;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        captureButton = findViewById(R.id.capture_button);\r\n        imageView = findViewById(R.id.image_view);\r\n        resultTextView = findViewById(R.id.result_text_view);\r\n        cameraPreview = findViewById(R.id.camera_preview);\r\n        cameraPreview.getHolder().addCallback(this);\r\n\r\n\r\n        captureButton.setOnClickListener(v -&gt; {\r\n            // Check if the camera permission is granted\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                // Request the camera permission\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\r\n            } else {\r\n                // Launch the camera activity\r\n\r\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\r\n                dispatchTakePictureIntent();\r\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\r\n            }\r\n        });\r\n\r\n        // Load the neural network from the saved model\r\n        try {\r\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n   private File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        // Save a file path for use with ACTION_VIEW intents\r\n        currentPhotoPath = imageFile.getAbsolutePath();\r\n        return imageFile;\r\n    }\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n            // Load the captured image from file path\r\n            Bundle extras = data.getExtras();\r\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\r\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\r\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\r\n            // Display the captured image\r\n            imageView.setImageBitmap(capturedImage);\r\n\r\n            // Recognize the facial expression\r\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\r\n            String expression = recognizer.recognize(capturedImage);\r\n\r\n            // Display the recognized expression\r\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\r\n\r\n            // Save the image and recognized expression to Firebase Storage and Firestore\r\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\r\n                @Override\r\n                public void onImageUploaded(String imageUrl) {\r\n                    // Save the timestamp and recognized expression to Firestore\r\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\r\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\r\n                        @Override\r\n                        public void onExpressionSaved() {\r\n                            // Expression save successful\r\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onExpressionSaveFailed(Exception e) {\r\n                            // Expression save failed\r\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onSuccess() {\r\n                            // Handle the successful saving of the expression here\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                            // Handle the failure of saving the expression here\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onImageUploadFailed(Exception e) {\r\n                    // Image upload failed\r\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                @Override\r\n                public void onSuccess(String imageUrl) {\r\n                    // Handle the successful upload of the image here\r\n                }\r\n                @Override\r\n                public void onFailure(Exception e) {\r\n                    // Handle the failure of the image upload here\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n```\r\n\r\nPlease let me know your input on this!\r\n\r\n\r\nI have been trying to use logs and see what works and where it stops, but I have come as far as this:\r\n\r\n(https://i.stack.imgur.com/9GJF8.png)\r\n\r\nAdded the other methods in the MainActivity.java as well:\r\n\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_PERMISSIONS) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, launch the camera activity\r\n                dispatchTakePictureIntent();\r\n            } else {\r\n                // Permission denied, show a message or handle the case accordingly\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        try {\r\n            camera = Camera.open();\r\n            setCameraDisplayOrientation();\r\n            camera.setPreviewDisplay(holder);\r\n            camera.startPreview();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void setCameraDisplayOrientation() {\r\n        Camera.CameraInfo info = new Camera.CameraInfo();\r\n        Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\r\n        int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n        int degrees = 0;\r\n        switch (rotation) {\r\n            case Surface.ROTATION_0:\r\n                degrees = 0;\r\n                break;\r\n            case Surface.ROTATION_90:\r\n                degrees = 90;\r\n                break;\r\n            case Surface.ROTATION_180:\r\n                degrees = 180;\r\n                break;\r\n            case Surface.ROTATION_270:\r\n                degrees = 270;\r\n                break;\r\n        }\r\n        int result;\r\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n            result = (info.orientation + degrees) % 360;\r\n            result = (360 - result) % 360; // compensate for the mirror effect\r\n        } else {\r\n            result = (info.orientation - degrees + 360) % 360;\r\n        }\r\n        camera.setDisplayOrientation(result);\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n        if (camera != null) {\r\n            // Stop the preview\r\n            camera.stopPreview();\r\n\r\n            // Set the camera parameters\r\n            Camera.Parameters parameters = camera.getParameters();\r\n            Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\r\n            parameters.setPreviewSize(optimalSize.width, optimalSize.height);\r\n\r\n            // Rotate the camera preview by 0 degrees to the right\r\n            camera.setDisplayOrientation(0);\r\n\r\n            // Apply the updated parameters\r\n            camera.setParameters(parameters);\r\n\r\n            // Start the preview\r\n            camera.startPreview();\r\n        }\r\n    }\r\n\r\n    private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\r\n        final double ASPECT_TOLERANCE = 0.1;\r\n        double targetRatio = (double) width / height;\r\n\r\n        Camera.Size optimalSize = null;\r\n        double minDiff = Double.MAX_VALUE;\r\n\r\n        for (Camera.Size size : supportedPreviewSizes) {\r\n            double ratio = (double) size.width / size.height;\r\n            if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\r\n                continue;\r\n\r\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n            if (diff &lt; minDiff) {\r\n                optimalSize = size;\r\n                minDiff = diff;\r\n            }\r\n        }\r\n\r\n        if (optimalSize == null) {\r\n            minDiff = Double.MAX_VALUE;\r\n            for (Camera.Size size : supportedPreviewSizes) {\r\n                double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n                if (diff &lt; minDiff) {\r\n                    optimalSize = size;\r\n                    minDiff = diff;\r\n                }\r\n            }\r\n        }\r\n\r\n        return optimalSize;\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        if (camera != null) {\r\n            camera.stopPreview();\r\n            camera.release();\r\n            camera = null;\r\n        }\r\n    }\r\n\r\n","title":"Facial Expression Detection App - button not working as desired, no error message","body":"<p>I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can't figure out.</p>\n<p>Shortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn't capture the image and then display it in image_view?</p>\n<p>This is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don't think they are relevant for this issue, that part works just fine)</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\n\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\n    private static final int REQUEST_PERMISSIONS = 2;\n\n    private Camera camera;\n    private ImageView imageView;\n    private TextView resultTextView;\n    private SurfaceView cameraPreview;\n    private String currentPhotoPath;\n\n    private MultiLayerNetwork neuralNetwork;\n    private Bitmap imageBitmap;\n\n    Button captureButton;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        captureButton = findViewById(R.id.capture_button);\n        imageView = findViewById(R.id.image_view);\n        resultTextView = findViewById(R.id.result_text_view);\n        cameraPreview = findViewById(R.id.camera_preview);\n        cameraPreview.getHolder().addCallback(this);\n\n\n        captureButton.setOnClickListener(v -&gt; {\n            // Check if the camera permission is granted\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n                // Request the camera permission\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\n            } else {\n                // Launch the camera activity\n\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\n                dispatchTakePictureIntent();\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\n            }\n        });\n\n        // Load the neural network from the saved model\n        try {\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n   private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file path for use with ACTION_VIEW intents\n        currentPhotoPath = imageFile.getAbsolutePath();\n        return imageFile;\n    }\n\n    private void dispatchTakePictureIntent() {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n            }\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            // Load the captured image from file path\n            Bundle extras = data.getExtras();\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\n            // Display the captured image\n            imageView.setImageBitmap(capturedImage);\n\n            // Recognize the facial expression\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\n            String expression = recognizer.recognize(capturedImage);\n\n            // Display the recognized expression\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\n\n            // Save the image and recognized expression to Firebase Storage and Firestore\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\n                @Override\n                public void onImageUploaded(String imageUrl) {\n                    // Save the timestamp and recognized expression to Firestore\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\n                        @Override\n                        public void onExpressionSaved() {\n                            // Expression save successful\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onExpressionSaveFailed(Exception e) {\n                            // Expression save failed\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onSuccess() {\n                            // Handle the successful saving of the expression here\n                        }\n\n                        @Override\n                        public void onFailure(Exception e) {\n                            // Handle the failure of saving the expression here\n                        }\n                    });\n                }\n\n                @Override\n                public void onImageUploadFailed(Exception e) {\n                    // Image upload failed\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                }\n                @Override\n                public void onSuccess(String imageUrl) {\n                    // Handle the successful upload of the image here\n                }\n                @Override\n                public void onFailure(Exception e) {\n                    // Handle the failure of the image upload here\n                }\n            });\n        }\n    }\n\n</code></pre>\n<p>Please let me know your input on this!</p>\n<p>I have been trying to use logs and see what works and where it stops, but I have come as far as this:</p>\n<p>(<a href=\"https://i.stack.imgur.com/9GJF8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9GJF8.png</a>)</p>\n<p>Added the other methods in the MainActivity.java as well:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == REQUEST_PERMISSIONS) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // Permission granted, launch the camera activity\n            dispatchTakePictureIntent();\n        } else {\n            // Permission denied, show a message or handle the case accordingly\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    try {\n        camera = Camera.open();\n        setCameraDisplayOrientation();\n        camera.setPreviewDisplay(holder);\n        camera.startPreview();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void setCameraDisplayOrientation() {\n    Camera.CameraInfo info = new Camera.CameraInfo();\n    Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\n    int rotation = getWindowManager().getDefaultDisplay().getRotation();\n    int degrees = 0;\n    switch (rotation) {\n        case Surface.ROTATION_0:\n            degrees = 0;\n            break;\n        case Surface.ROTATION_90:\n            degrees = 90;\n            break;\n        case Surface.ROTATION_180:\n            degrees = 180;\n            break;\n        case Surface.ROTATION_270:\n            degrees = 270;\n            break;\n    }\n    int result;\n    if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n        result = (info.orientation + degrees) % 360;\n        result = (360 - result) % 360; // compensate for the mirror effect\n    } else {\n        result = (info.orientation - degrees + 360) % 360;\n    }\n    camera.setDisplayOrientation(result);\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n    if (camera != null) {\n        // Stop the preview\n        camera.stopPreview();\n\n        // Set the camera parameters\n        Camera.Parameters parameters = camera.getParameters();\n        Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\n        parameters.setPreviewSize(optimalSize.width, optimalSize.height);\n\n        // Rotate the camera preview by 0 degrees to the right\n        camera.setDisplayOrientation(0);\n\n        // Apply the updated parameters\n        camera.setParameters(parameters);\n\n        // Start the preview\n        camera.startPreview();\n    }\n}\n\nprivate Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\n    final double ASPECT_TOLERANCE = 0.1;\n    double targetRatio = (double) width / height;\n\n    Camera.Size optimalSize = null;\n    double minDiff = Double.MAX_VALUE;\n\n    for (Camera.Size size : supportedPreviewSizes) {\n        double ratio = (double) size.width / size.height;\n        if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\n            continue;\n\n        double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n        if (diff &lt; minDiff) {\n            optimalSize = size;\n            minDiff = diff;\n        }\n    }\n\n    if (optimalSize == null) {\n        minDiff = Double.MAX_VALUE;\n        for (Camera.Size size : supportedPreviewSizes) {\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n            if (diff &lt; minDiff) {\n                optimalSize = size;\n                minDiff = diff;\n            }\n        }\n    }\n\n    return optimalSize;\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    if (camera != null) {\n        camera.stopPreview();\n        camera.release();\n        camera = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","networking"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1318072550,"post_id":7685439,"comment_id":9357755,"body_markdown":"For what purpose? If there is a server there you want to connect to, just try to connect.","body":"For what purpose? If there is a server there you want to connect to, just try to connect."}],"answers":[{"comments":[{"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"score":7,"creation_date":1317980436,"post_id":7685485,"comment_id":9342644,"body_markdown":"isReachable() cannot be trusted to reliably ping hosts outside of the local subnet.\n\nThe most likely reason is that windows is using ICMP ping while isReachable() is failing to use it. This is the case up to at least Java 6.","body":"isReachable() cannot be trusted to reliably ping hosts outside of the local subnet.  The most likely reason is that windows is using ICMP ping while isReachable() is failing to use it. This is the case up to at least Java 6."},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":5,"creation_date":1317981582,"post_id":7685485,"comment_id":9342863,"body_markdown":"There&#39;s a comment in the native `isReachable0` method implementation (in `Inet4AddressImpl.c) which says &quot;Windows implementation of ICMP &amp; RAW sockets is too unreliable for now. Therefore it&#39;s best not to try it at all and rely only on TCP. We may revisit and enable this code in the future.&quot;\n`","body":"There&#39;s a comment in the native <code>isReachable0</code> method implementation (in <code>Inet4AddressImpl.c) which says &quot;Windows implementation of ICMP &amp; RAW sockets is too unreliable for now. Therefore it&#39;s best not to try it at all and rely only on TCP. We may revisit and enable this code in the future.&quot; </code>"},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":1,"creation_date":1317982708,"post_id":7685485,"comment_id":9343098,"body_markdown":"Confirmed, in my WXP test machine this command defaults to a TCP connection on port 7 (echo). It returns reachable even for IP&#39;s that do not exist, or with the firewall blocked.","body":"Confirmed, in my WXP test machine this command defaults to a TCP connection on port 7 (echo). It returns reachable even for IP&#39;s that do not exist, or with the firewall blocked."}],"tags":[],"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1317980324,"creation_date":1317980324,"answer_id":7685485,"question_id":7685439,"body_markdown":"`InetAddress.getByName(host).isReachable(timeOut)` (seen [here][1])\r\n\r\n\r\n  [1]: http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/","title":"How to test if a remote system is reachable","body":"<p><code>InetAddress.getByName(host).isReachable(timeOut)</code> (seen <a href=\"http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/\">here</a>)</p>\n"},{"comments":[{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":10,"creation_date":1351362192,"post_id":7685486,"comment_id":17809241,"body_markdown":"can we check whether a specific port is reachable?","body":"can we check whether a specific port is reachable?"},{"owner":{"account_id":2918180,"reputation":2843,"user_id":2500965,"accept_rate":56,"display_name":"ssindelar"},"score":1,"creation_date":1464779248,"post_id":7685486,"comment_id":62620914,"body_markdown":"This function should not be used in production setups where you don&#39;t have full control over privileges, firewalls, etc.. see: http://stackoverflow.com/questions/9922543/why-does-inetaddress-isreachable-return-false-when-i-can-ping-the-ip-address","body":"This function should not be used in production setups where you don&#39;t have full control over privileges, firewalls, etc.. see: <a href=\"http://stackoverflow.com/questions/9922543/why-does-inetaddress-isreachable-return-false-when-i-can-ping-the-ip-address\" title=\"why does inetaddress isreachable return false when i can ping the ip address\">stackoverflow.com/questions/9922543/&hellip;</a>"},{"owner":{"account_id":5661485,"reputation":3878,"user_id":4479004,"display_name":"xdevs23"},"score":0,"creation_date":1473231401,"post_id":7685486,"comment_id":66055230,"body_markdown":"Nice, simple and clean.","body":"Nice, simple and clean."}],"tags":[],"owner":{"account_id":956700,"reputation":1117,"user_id":981868,"display_name":"andypandy"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1317980330,"creation_date":1317980330,"answer_id":7685486,"question_id":7685439,"body_markdown":"    InetAddress.getByName(ip).isReachable(timeout);","title":"How to test if a remote system is reachable","body":"<pre><code>InetAddress.getByName(ip).isReachable(timeout);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":208350,"reputation":4199,"user_id":458770,"accept_rate":80,"display_name":"strauberry"},"score":0,"creation_date":1317981403,"post_id":7685647,"comment_id":9342840,"body_markdown":"Thank you very much for this advice! I&#39;ll create an entry in the bugtracker as &quot;improvement&quot; :-)","body":"Thank you very much for this advice! I&#39;ll create an entry in the bugtracker as &quot;improvement&quot; :-)"}],"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317981298,"creation_date":1317981298,"answer_id":7685647,"question_id":7685439,"body_markdown":"It looks like you are using Linux so you will probably find that *isReachable()* is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).\r\n\r\nIf that is the case then I think you *will* need to use spawn a Process in the way you suggest, but I recommend using a command like:\r\n  \r\n\r\n       ping -c 1 hostname\r\n\r\nThis will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.\r\n\r\nPing returns 0 for success non-zero on failure.","title":"How to test if a remote system is reachable","body":"<p>It looks like you are using Linux so you will probably find that <em>isReachable()</em> is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).</p>\n\n<p>If that is the case then I think you <em>will</em> need to use spawn a Process in the way you suggest, but I recommend using a command like:</p>\n\n<pre><code>   ping -c 1 hostname\n</code></pre>\n\n<p>This will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.</p>\n\n<p>Ping returns 0 for success non-zero on failure.</p>\n"},{"tags":[],"owner":{"account_id":3943896,"reputation":2232,"user_id":3257288,"accept_rate":83,"display_name":"Alpha2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511194291,"creation_date":1511194291,"answer_id":47396333,"question_id":7685439,"body_markdown":"I know this question has found its answer but I&#39;d like to add my code just for &quot;copy-paste&quot;. \r\n\r\n    public boolean isIpReachable(String ip, int timeout){\r\n        boolean state = false;\r\n        \r\n        try {\r\n            state = InetAddress.getByName(ip).isReachable(timeout);\r\n        } catch (IOException e) {\r\n            //Parse error here\r\n        }\r\n        \r\n        return state;\r\n    }","title":"How to test if a remote system is reachable","body":"<p>I know this question has found its answer but I'd like to add my code just for \"copy-paste\". </p>\n\n<pre><code>public boolean isIpReachable(String ip, int timeout){\n    boolean state = false;\n\n    try {\n        state = InetAddress.getByName(ip).isReachable(timeout);\n    } catch (IOException e) {\n        //Parse error here\n    }\n\n    return state;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1643523,"reputation":101,"user_id":1515525,"display_name":"muratozyurt"},"score":0,"creation_date":1665554261,"post_id":72960447,"comment_id":130724749,"body_markdown":"Better option, please add soc.close(). But still does not provide consistent results. Some hosts can only be accessed after multiple retries.","body":"Better option, please add soc.close(). But still does not provide consistent results. Some hosts can only be accessed after multiple retries."},{"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"score":1,"creation_date":1665631264,"post_id":72960447,"comment_id":130746944,"body_markdown":"No need for close since it is inside the try-with-resource.","body":"No need for close since it is inside the try-with-resource."},{"owner":{"account_id":1643523,"reputation":101,"user_id":1515525,"display_name":"muratozyurt"},"score":0,"creation_date":1665729735,"post_id":72960447,"comment_id":130770693,"body_markdown":"You&#39;re right. I had a different problem where multiple threads were involved and the network had to retry the soc.connect() multiple times. Thanks.","body":"You&#39;re right. I had a different problem where multiple threads were involved and the network had to retry the soc.connect() multiple times. Thanks."}],"tags":[],"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686602052,"creation_date":1657681270,"answer_id":72960447,"question_id":7685439,"body_markdown":"From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but **isReachable()** can&#39;t be used as reliable option. Better pure java option I think will be something like this:\r\n\r\n    private static boolean isReachable(String host, int openPort, int timeOutMillis) {\r\n        try {\r\n            try (Socket soc = new Socket()) {\r\n                soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\r\n            }\r\n            return true;\r\n        } catch (IOException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nAnd if you want to check if host is accessible via web/browser here is it:\r\n\r\n    private static boolean hostsWebApp(String host, int timeOutMillis) {\r\n        boolean isReachable = isReachable(host, 80, timeOutMillis);\r\n        if(!isReachable) {\r\n            return isReachable(host, 443, timeOutMillis);\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n ","title":"How to test if a remote system is reachable","body":"<p>From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but <strong>isReachable()</strong> can't be used as reliable option. Better pure java option I think will be something like this:</p>\n<pre><code>private static boolean isReachable(String host, int openPort, int timeOutMillis) {\n    try {\n        try (Socket soc = new Socket()) {\n            soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\n        }\n        return true;\n    } catch (IOException ex) {\n        return false;\n    }\n}\n</code></pre>\n<p>And if you want to check if host is accessible via web/browser here is it:</p>\n<pre><code>private static boolean hostsWebApp(String host, int timeOutMillis) {\n    boolean isReachable = isReachable(host, 80, timeOutMillis);\n    if(!isReachable) {\n        return isReachable(host, 443, timeOutMillis);\n    } else {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208350,"reputation":4199,"user_id":458770,"accept_rate":80,"display_name":"strauberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39080,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7685486,"answer_count":5,"score":24,"last_activity_date":1686602052,"creation_date":1317980098,"question_id":7685439,"body_markdown":"I want to test whether a remote system is reachable using Java or in other words &quot;send a ping&quot; using Java. This functionality should be encapsulated in a method with boolean value, for example\r\n\r\n    public boolean isReachable(String ip) {\r\n       // what to do :-)\r\n    }\r\n\r\nI&#39;ve tested the Java Process class, but I don&#39;t think that it is the best way to do this, because of the complex output handling with OutputBuffers.\r\n\r\n    Process proc = Runtime.getRuntime().exec(&quot;ping &quot; + ip);\r\n\r\nAnother possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a &quot;naked&quot; unix system, there might be no Socket on the other side :-) Additionally, I&#39;d like to be able to set a timeout, when a remote system is not reachable.\r\n\r\nSo how could I do this? Thank you!","title":"How to test if a remote system is reachable","body":"<p>I want to test whether a remote system is reachable using Java or in other words \"send a ping\" using Java. This functionality should be encapsulated in a method with boolean value, for example</p>\n\n<pre><code>public boolean isReachable(String ip) {\n   // what to do :-)\n}\n</code></pre>\n\n<p>I've tested the Java Process class, but I don't think that it is the best way to do this, because of the complex output handling with OutputBuffers.</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(\"ping \" + ip);\n</code></pre>\n\n<p>Another possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a \"naked\" unix system, there might be no Socket on the other side :-) Additionally, I'd like to be able to set a timeout, when a remote system is not reachable.</p>\n\n<p>So how could I do this? Thank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685333764,"post_id":76354589,"comment_id":134641937,"body_markdown":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information.","body":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1685334090,"post_id":76354589,"comment_id":134641964,"body_markdown":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency.","body":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":1,"creation_date":1685336495,"post_id":76354589,"comment_id":134642200,"body_markdown":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  https://springdoc.org/v2/#spring-webmvc-support","body":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  <a href=\"https://springdoc.org/v2/#spring-webmvc-support\" rel=\"nofollow noreferrer\">springdoc.org/v2/#spring-webmvc-support</a>"}],"answers":[{"tags":[],"owner":{"account_id":21918271,"reputation":83,"user_id":16201869,"display_name":"Alf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686601461,"creation_date":1686601461,"answer_id":76460083,"question_id":76354589,"body_markdown":"This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the [documentation][1], or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the `application.properties`. I&#39;ve recently (yesterday) [raised an issue][2] on this topic.\r\n\r\nCurrent **workaround** is to define all configurations in the `application.properties`.\r\n```\r\nspringdoc.packages-to-scan=com.example.desafiobackvotos.controller\r\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\r\nspringdoc.swagger-ui.url=/v3/api-docs\r\n```\r\nBe aware that some configurations you want to set are the [defaults][3] and you should use the `springdoc-openapi-starter-webmvc-ui` dependency ([Springdoc Getting Started][4]) as [@Abhishek][5] has already pointed out.\r\n\r\n\r\n  [1]: https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\r\n  [2]: https://github.com/springdoc/springdoc-openapi/issues/2259\r\n  [3]: https://springdoc.org/v2/#swagger-ui-properties\r\n  [4]: https://springdoc.org/v2/#getting-started\r\n  [5]: https://stackoverflow.com/users/7012221/abhishek","title":"How to fix the circular dependency?","body":"<p>This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the <a href=\"https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\" rel=\"nofollow noreferrer\">documentation</a>, or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the <code>application.properties</code>. I've recently (yesterday) <a href=\"https://github.com/springdoc/springdoc-openapi/issues/2259\" rel=\"nofollow noreferrer\">raised an issue</a> on this topic.</p>\n<p>Current <strong>workaround</strong> is to define all configurations in the <code>application.properties</code>.</p>\n<pre><code>springdoc.packages-to-scan=com.example.desafiobackvotos.controller\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\nspringdoc.swagger-ui.url=/v3/api-docs\n</code></pre>\n<p>Be aware that some configurations you want to set are the <a href=\"https://springdoc.org/v2/#swagger-ui-properties\" rel=\"nofollow noreferrer\">defaults</a> and you should use the <code>springdoc-openapi-starter-webmvc-ui</code> dependency (<a href=\"https://springdoc.org/v2/#getting-started\" rel=\"nofollow noreferrer\">Springdoc Getting Started</a>) as <a href=\"https://stackoverflow.com/users/7012221/abhishek\">@Abhishek</a> has already pointed out.</p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686601461,"creation_date":1685332514,"question_id":76354589,"body_markdown":"I&#39;m developing an application and I&#39;m having issue with circular dependency in my Swagger class.  \r\nEven setting the ```circular-references``` as true, I still getting error.\r\n\r\nThis the code:\r\n```\r\n    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\r\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\r\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\r\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\r\n\r\n    @Bean\r\n    @Primary\r\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\r\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\r\n        return config;\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\r\n        config.setConfigUrl(SWAGGER_CONFIG);\r\n        config.setUrl(SWAGGER_URL);\r\n        return config;\r\n    }\r\n```\r\n\r\nAnd this is the error:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌──-&gt;──┐\r\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\r\n└──&lt;-──┘\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI&#39;m using ```spring-boot``` 3.0.6 and this dependency in pom:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``     ","title":"How to fix the circular dependency?","body":"<p>I'm developing an application and I'm having issue with circular dependency in my Swagger class.<br />\nEven setting the <code>circular-references</code> as true, I still getting error.</p>\n<p>This the code:</p>\n<pre><code>    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\n\n    @Bean\n    @Primary\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\n        return config;\n    }\n\n    @Bean\n    @Primary\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\n        config.setConfigUrl(SWAGGER_CONFIG);\n        config.setUrl(SWAGGER_URL);\n        return config;\n    }\n</code></pre>\n<p>And this is the error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌──-&gt;──┐\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\n└──&lt;-──┘\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I'm using <code>spring-boot</code> 3.0.6 and this dependency in pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.15&lt;/version&gt;\n        &lt;/dependency&gt;\n``     \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1686039313,"post_id":76412625,"comment_id":134740773,"body_markdown":"you can try `https:\\/\\/[a-z]*.com`, the `*` means any number of tokens","body":"you can try <code>https:\\&#47;\\&#47;[a-z]*.com</code>, the <code>*</code> means any number of tokens"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686039435,"post_id":76412625,"comment_id":134740795,"body_markdown":"`[a-z]` will indeed only match one character. That matches the spec.","body":"<code>[a-z]</code> will indeed only match one character. That matches the spec."},{"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"score":0,"creation_date":1686040524,"post_id":76412625,"comment_id":134741010,"body_markdown":"@Bentaye It is working I was missing *  Thank you","body":"@Bentaye It is working I was missing *  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":28751477,"reputation":134,"user_id":22019464,"display_name":"Chander Parkash"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686056722,"creation_date":1686056722,"answer_id":76414960,"question_id":76412625,"body_markdown":"try this as your pattern for the response you want this will be good.\r\n\r\n    https:\\\\/\\\\/\\\\w+\\\\.com","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>try this as your pattern for the response you want this will be good.</p>\n<pre><code>https:\\\\/\\\\/\\\\w+\\\\.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686601291,"creation_date":1686601291,"answer_id":76460073,"question_id":76412625,"body_markdown":"The reason it is only matching the first character is because you haven&#39;t specified a _quantifier_.\r\n\r\nThus, a _character class_ will only match one character, of the specified values.\r\n\r\n```none\r\nhttps://[a-z]+(?:\\.[a-z]+)+\r\n```\r\n\r\nThis is matching an _a-z_ character, one or more, followed by a repeating pattern of, a single dot character, an _a-z_ character, one more.\r\n\r\nFor example, this will match these values.\r\n\r\n```none\r\nhttps://example.com\r\nhttps://abc.example.com\r\nhttps://www.abc.example.com\r\n```","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>The reason it is only matching the first character is because you haven't specified a <em>quantifier</em>.</p>\n<p>Thus, a <em>character class</em> will only match one character, of the specified values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://[a-z]+(?:\\.[a-z]+)+\n</code></pre>\n<p>This is matching an <em>a-z</em> character, one or more, followed by a repeating pattern of, a single dot character, an <em>a-z</em> character, one more.</p>\n<p>For example, this will match these values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://example.com\nhttps://abc.example.com\nhttps://www.abc.example.com\n</code></pre>\n"}],"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76460073,"answer_count":2,"score":-4,"last_activity_date":1686601291,"creation_date":1686039092,"question_id":76412625,"body_markdown":"I need a regex for the url https://example.com while in place of **example** it can be any letter\r\n\r\n\r\nI tried `https:\\/\\/[a-z]\\.[a-z]` but is only accepting the first letter in example and first letter in com which is `https://e.c` (accepting this with above regex) but I want it to accept whole url(https://example.com) as mentioned in the question.","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>I need a regex for the url <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> while in place of <strong>example</strong> it can be any letter</p>\n<p>I tried <code>https:\\/\\/[a-z]\\.[a-z]</code> but is only accepting the first letter in example and first letter in com which is <code>https://e.c</code> (accepting this with above regex) but I want it to accept whole url(<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>) as mentioned in the question.</p>\n"},{"tags":["java","zip","compression","gzip"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686581057,"post_id":76457680,"comment_id":134814511,"body_markdown":"Maybe have a look at [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)) and [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED)","body":"Maybe have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686581198,"post_id":76457680,"comment_id":134814542,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1686601138,"post_id":76457680,"comment_id":134818537,"body_markdown":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?","body":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686581114,"creation_date":1686581114,"answer_id":76457793,"question_id":76457680,"body_markdown":"You can use `zipOutputStream.setLevel(Deflater.NO_COMPRESSION)`.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>You can use <code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION)</code>.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686581921,"post_id":76457808,"comment_id":134814747,"body_markdown":"Easier yes, but don&#39;t use magic numbers but [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED) (or equiv.)","body":"Easier yes, but don&#39;t use magic numbers but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED\" rel=\"nofollow noreferrer\">this</a> (or equiv.)"},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686592637,"post_id":76457808,"comment_id":134817078,"body_markdown":"Quite right, the documentation for setLevel didn&#39;t link to the constants, but does document that the value is a number between 0 and 9. Anyway, here&#39;s the documentation on the &#39;NO_COMPRESSION&#39; constant: https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION","body":"Quite right, the documentation for setLevel didn&#39;t link to the constants, but does document that the value is a number between 0 and 9. Anyway, here&#39;s the documentation on the &#39;NO_COMPRESSION&#39; constant: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/zip/&hellip;</a>"},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1686593597,"post_id":76457808,"comment_id":134817280,"body_markdown":"Look at my edited post, i tried setLevel but still have issues","body":"Look at my edited post, i tried setLevel but still have issues"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686597108,"post_id":76457808,"comment_id":134817881,"body_markdown":"If that utf-8 setting on the response applies to the file then you&#39;re going to be in trouble. The file will be corrupt","body":"If that utf-8 setting on the response applies to the file then you&#39;re going to be in trouble. The file will be corrupt"}],"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686592699,"creation_date":1686581238,"answer_id":76457808,"question_id":76457680,"body_markdown":"The ZipOutputStream setLevel method is what you want. A value of &#39;0&#39; specifies no compression.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\r\n\r\nEDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The ZipOutputStream setLevel method is what you want. A value of '0' specifies no compression.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-</a></p>\n<p>EDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION</a></p>\n"},{"comments":[{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1686668981,"post_id":76460047,"comment_id":134829217,"body_markdown":"This might explain why it works if compression is on - the total length of the zip file will be slightly greater than the original file if there is no compression, but smaller if there is compression. Without compression, the file will end up being truncated due to the setContentLength call. Try calling setContentLength at the end with the actual length of the zipped file/output stream.","body":"This might explain why it works if compression is on - the total length of the zip file will be slightly greater than the original file if there is no compression, but smaller if there is compression. Without compression, the file will end up being truncated due to the setContentLength call. Try calling setContentLength at the end with the actual length of the zipped file/output stream."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1686669396,"post_id":76460047,"comment_id":134829328,"body_markdown":"yeah, that&#39;s what i expect as well.  you generally can&#39;t call setContentLength after you send the data, because that needs to be sent first as a header.  if the data is small, depending on the library you use, it may buffer it in member before sending.  but if it is large, you wouldn&#39;t want to do that.","body":"yeah, that&#39;s what i expect as well.  you generally can&#39;t call setContentLength after you send the data, because that needs to be sent first as a header.  if the data is small, depending on the library you use, it may buffer it in member before sending.  but if it is large, you wouldn&#39;t want to do that."},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1686732831,"post_id":76460047,"comment_id":134838298,"body_markdown":"So i tested it and you have true. Its because setting little smaller size than final zip. The problem is, that my files are not so small to just pack it before and send, i would need it send inmedietly to response, but then i will not know size for my backend progress bar, i think i am lost :D","body":"So i tested it and you have true. Its because setting little smaller size than final zip. The problem is, that my files are not so small to just pack it before and send, i would need it send inmedietly to response, but then i will not know size for my backend progress bar, i think i am lost :D"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1686751343,"post_id":76460047,"comment_id":134842432,"body_markdown":"@Sizor that is what chunked encoding is for.  you don&#39;t have to know the size before sending.  alternately, you can skip the zip wrapper and just send the file directly.","body":"@Sizor that is what chunked encoding is for.  you don&#39;t have to know the size before sending.  alternately, you can skip the zip wrapper and just send the file directly."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686601038,"creation_date":1686601038,"answer_id":76460047,"question_id":76457680,"body_markdown":"The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the *complete* zip file, or use chunked encoding.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the <em>complete</em> zip file, or use chunked encoding.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460047,"answer_count":3,"score":0,"last_activity_date":1686601038,"creation_date":1686580355,"question_id":76457680,"body_markdown":"Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\r\nDoes anybody know some solution?\r\n\r\nEDIT:\r\nThere is my code:\r\n\r\n    response.setContentType(&quot;application/zip&quot;); // zip archive format\r\n                response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\r\n                                                                                .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\r\n                                                                                .build()\r\n                                                                                .toString());\r\n            \r\n                response.setContentLengthLong(totalSize);\r\n        \r\n                try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\r\n                    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n                for (FileSystemResource file : resources) {\r\n                    try (InputStream inputStream = file.getInputStream()) {\r\n                        zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\r\n                        StreamUtils.copy(inputStream, zipOutputStream);\r\n                        zipOutputStream.flush();\r\n                    }\r\n                }\r\n            }\r\n\r\nit works normal but when i added:\r\n\r\n    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n\r\ni get this error when i try to open final zip:\r\nCould not open, ERROR 1 process doesnt exist\r\n\r\nZip wihtou level is always good","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\nDoes anybody know some solution?</p>\n<p>EDIT:\nThere is my code:</p>\n<pre><code>response.setContentType(&quot;application/zip&quot;); // zip archive format\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\n                                                                            .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\n                                                                            .build()\n                                                                            .toString());\n        \n            response.setContentLengthLong(totalSize);\n    \n            try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\n                zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n            for (FileSystemResource file : resources) {\n                try (InputStream inputStream = file.getInputStream()) {\n                    zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\n                    StreamUtils.copy(inputStream, zipOutputStream);\n                    zipOutputStream.flush();\n                }\n            }\n        }\n</code></pre>\n<p>it works normal but when i added:</p>\n<pre><code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n<p>i get this error when i try to open final zip:\nCould not open, ERROR 1 process doesnt exist</p>\n<p>Zip wihtou level is always good</p>\n"},{"tags":["java","sql","mariadb","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686557882,"post_id":76441723,"comment_id":134809311,"body_markdown":"Have you checked out [the manual page about creating derived tables?](https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/)","body":"Have you checked out <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/\" rel=\"nofollow noreferrer\">the manual page about creating derived tables?</a>"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686576609,"post_id":76441723,"comment_id":134813428,"body_markdown":"@LukasEder I have. But I don&#39;t get how to leverage it.","body":"@LukasEder I have. But I don&#39;t get how to leverage it."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686592062,"post_id":76441723,"comment_id":134816954,"body_markdown":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?","body":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?"}],"answers":[{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686595594,"post_id":76459124,"comment_id":134817598,"body_markdown":"That seems shorter and more to the point than my answer (I didn&#39;t know jooq, so I went long to learn about it). Upvoted.","body":"That seems shorter and more to the point than my answer (I didn&#39;t know jooq, so I went long to learn about it). Upvoted."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686592036,"creation_date":1686592036,"answer_id":76459124,"question_id":76441723,"body_markdown":"The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:\r\n\r\n```java\r\n.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n\r\nInstead of:\r\n\r\n```java\r\n.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n","title":"How to translate the following SQL into jOOQ","body":"<p>The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686597222,"post_id":76459388,"comment_id":134817912,"body_markdown":"For some reason I can&#39;t do a join after `context.update(SD)`, there&#39;s simply no such method. Maybe the reason is older jOOQ version","body":"For some reason I can&#39;t do a join after <code>context.update(SD)</code>, there&#39;s simply no such method. Maybe the reason is older jOOQ version"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686600502,"post_id":76459388,"comment_id":134818421,"body_markdown":"@SebastianLore I have edited the answer to add a possible workaround.","body":"@SebastianLore I have edited the answer to add a possible workaround."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686659844,"post_id":76459388,"comment_id":134826956,"body_markdown":"Thanks for a workaround. I already did it without workarounds, heavily inspired by your answer. I couldn&#39;t do a join after `context.update(SD)`, but I could do `context.update(SD.join(...).on(...))` and it generates an SQL which is very similar to my initial SQL.","body":"Thanks for a workaround. I already did it without workarounds, heavily inspired by your answer. I couldn&#39;t do a join after <code>context.update(SD)</code>, but I could do <code>context.update(SD.join(...).on(...))</code> and it generates an SQL which is very similar to my initial SQL."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686600483,"creation_date":1686594731,"answer_id":76459388,"question_id":76441723,"body_markdown":"The SQL query you have provided is a complex `UPDATE` statement with a `JOIN` clause to a subquery. In jOOQ, you can build such queries by using the `update()` method of [`DSLContext`](https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/), combined with `join()` and `on()` methods for the join clause, and `set()` methods for the update clause. \r\n\r\nTo avoid any readability issue (like a misplaced parenthesis), you could decompose the query.\r\n\r\nI will assume that:\r\n\r\n- your `survey_definition` and `survey_instance` tables are generated as `SURVEY_DEFINITION` and `SURVEY_INSTANCE`, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.\r\n- you have your `DSLContext` available as `context`.\r\n- the `?1` in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with `param(&quot;?1&quot;, Integer.class)`.\r\n\r\nThe code would then be:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static com.example.generated.Tables.*;\r\n\r\n// Assuming the DSLContext is available as &quot;context&quot;\r\n\r\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\r\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\r\n\r\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\r\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\r\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\r\n\r\nTable&lt;?&gt; latest = context\r\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\r\n    .from(SI)\r\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\r\n    .orderBy(SI.END_DATE.desc())\r\n    .limit(1)\r\n    .asTable(&quot;latest&quot;);\r\n\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    .set(SD.LATEST_RESULT, latest.field(status))\r\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\r\n    .execute();\r\n```\r\n\r\nNote: The code assumes that `LATEST_RESULT` and `LATEST_SURVEY_END_DATE` are the exact names of the columns in your `SURVEY_DEFINITION` table and that their types match with the ones from the subquery. If that&#39;s not the case, you might need to change those names or add type conversions.\r\n\r\nAs you can see, I am using the [`on()` method](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)) (part of the [`ON` clause](https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/) on a [`TableOnStep` object](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html), which is returned by the [`join(latest)`](https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/) call.  \r\nI am not using `on()` not on a `SelectLimitPercentStep` object (which does not have an `on()` method, hence your original error message &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;). \r\n\r\n```java\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    ...\r\n```\r\n\r\nHere, `latest` is a `Table` object that represents a derived table.  \r\nSo calling `on()` in this context should not trigger a compilation error. \r\n\r\n----\r\n\r\n&gt; For some reason I can&#39;t do a join after `context.update(SD)`, there&#39;s simply no such method. Maybe the reason is older jOOQ version.\r\n\r\nAn alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.  \r\nAs an example:\r\n\r\n\r\n```java\r\n// First, execute the subquery and fetch the results\r\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\r\n    .from(SURVEY_INSTANCE)\r\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\r\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\r\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\r\n    .limit(1)\r\n    .fetchOne();\r\n\r\n// Next, use the results of the subquery in the UPDATE statement\r\nif (record != null) {\r\n    dslContext.update(SURVEY_DEFINITION)\r\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\r\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\r\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\r\n        .execute();\r\n}\r\n```\r\n\r\nThis workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.","title":"How to translate the following SQL into jOOQ","body":"<p>The SQL query you have provided is a complex <code>UPDATE</code> statement with a <code>JOIN</code> clause to a subquery. In jOOQ, you can build such queries by using the <code>update()</code> method of <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/\" rel=\"nofollow noreferrer\"><code>DSLContext</code></a>, combined with <code>join()</code> and <code>on()</code> methods for the join clause, and <code>set()</code> methods for the update clause.</p>\n<p>To avoid any readability issue (like a misplaced parenthesis), you could decompose the query.</p>\n<p>I will assume that:</p>\n<ul>\n<li>your <code>survey_definition</code> and <code>survey_instance</code> tables are generated as <code>SURVEY_DEFINITION</code> and <code>SURVEY_INSTANCE</code>, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.</li>\n<li>you have your <code>DSLContext</code> available as <code>context</code>.</li>\n<li>the <code>?1</code> in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with <code>param(&quot;?1&quot;, Integer.class)</code>.</li>\n</ul>\n<p>The code would then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static com.example.generated.Tables.*;\n\n// Assuming the DSLContext is available as &quot;context&quot;\n\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\n\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\n\nTable&lt;?&gt; latest = context\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\n    .from(SI)\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\n    .orderBy(SI.END_DATE.desc())\n    .limit(1)\n    .asTable(&quot;latest&quot;);\n\ncontext.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    .set(SD.LATEST_RESULT, latest.field(status))\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\n    .execute();\n</code></pre>\n<p>Note: The code assumes that <code>LATEST_RESULT</code> and <code>LATEST_SURVEY_END_DATE</code> are the exact names of the columns in your <code>SURVEY_DEFINITION</code> table and that their types match with the ones from the subquery. If that's not the case, you might need to change those names or add type conversions.</p>\n<p>As you can see, I am using the <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)\" rel=\"nofollow noreferrer\"><code>on()</code> method</a> (part of the <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/\" rel=\"nofollow noreferrer\"><code>ON</code> clause</a> on a <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html\" rel=\"nofollow noreferrer\"><code>TableOnStep</code> object</a>, which is returned by the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/\" rel=\"nofollow noreferrer\"><code>join(latest)</code></a> call.<br />\nI am not using <code>on()</code> not on a <code>SelectLimitPercentStep</code> object (which does not have an <code>on()</code> method, hence your original error message &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;).</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    ...\n</code></pre>\n<p>Here, <code>latest</code> is a <code>Table</code> object that represents a derived table.<br />\nSo calling <code>on()</code> in this context should not trigger a compilation error.</p>\n<hr />\n<blockquote>\n<p>For some reason I can't do a join after <code>context.update(SD)</code>, there's simply no such method. Maybe the reason is older jOOQ version.</p>\n</blockquote>\n<p>An alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.<br />\nAs an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// First, execute the subquery and fetch the results\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\n    .from(SURVEY_INSTANCE)\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\n    .limit(1)\n    .fetchOne();\n\n// Next, use the results of the subquery in the UPDATE statement\nif (record != null) {\n    dslContext.update(SURVEY_DEFINITION)\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\n        .execute();\n}\n</code></pre>\n<p>This workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.</p>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76459388,"answer_count":2,"score":1,"last_activity_date":1686600483,"creation_date":1686324813,"question_id":76441723,"body_markdown":"I have the following (a bit complex for me) MariaDB 10.6 update:\r\n```sql\r\nupdate survey_definition sd\r\n    join (select si.survey_def_id, si.status, si.end_date\r\n          from survey_instance si\r\n          where si.survey_def_id = ?1\r\n            and si.status not in (14)\r\n          order by si.end_date desc\r\n          limit 1) latest on sd.id = latest.survey_def_id\r\nset sd.latest_result=latest.status,\r\n    sd.latest_survey_end_date=latest.end_date;\r\n\r\n```\r\n\r\nHow to transform it into jOOQ DSL?\r\nIs it possible?\r\n\r\nMy best (unfinished) try is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pOku8.png\r\n\r\njOOQ version: 3.12.1\r\n\r\nText of the DSL:\r\n\r\n``` dsl\r\ndslContext.update(SURVEY_DEFINITION\r\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\r\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n    )\r\n```\r\n\r\nThe `.on()` triggered: &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;.\r\n\r\n\r\n**UPD:** I came up with the following solution:\r\n```java\r\n        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\r\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n            .from(SURVEY_INSTANCE)\r\n            .where(DSL.and(\r\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\r\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\r\n            )\r\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\r\n            .limit(1)\r\n            .asTable(&quot;latest&quot;);\r\n        dslContext.update(SURVEY_DEFINITION\r\n                .join(latest)\r\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\r\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\r\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\r\n            .execute();\r\n```\r\n\r\nThanks both @LukasEder and @VonC for help &amp; ideas.","title":"How to translate the following SQL into jOOQ","body":"<p>I have the following (a bit complex for me) MariaDB 10.6 update:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update survey_definition sd\n    join (select si.survey_def_id, si.status, si.end_date\n          from survey_instance si\n          where si.survey_def_id = ?1\n            and si.status not in (14)\n          order by si.end_date desc\n          limit 1) latest on sd.id = latest.survey_def_id\nset sd.latest_result=latest.status,\n    sd.latest_survey_end_date=latest.end_date;\n\n</code></pre>\n<p>How to transform it into jOOQ DSL?\nIs it possible?</p>\n<p>My best (unfinished) try is:\n<a href=\"https://i.stack.imgur.com/pOku8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOku8.png\" alt=\"enter image description here\" /></a></p>\n<p>jOOQ version: 3.12.1</p>\n<p>Text of the DSL:</p>\n<pre><code>dslContext.update(SURVEY_DEFINITION\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n    )\n</code></pre>\n<p>The <code>.on()</code> triggered: &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;.</p>\n<p><strong>UPD:</strong> I came up with the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n            .from(SURVEY_INSTANCE)\n            .where(DSL.and(\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\n            )\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\n            .limit(1)\n            .asTable(&quot;latest&quot;);\n        dslContext.update(SURVEY_DEFINITION\n                .join(latest)\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\n            .execute();\n</code></pre>\n<p>Thanks both @LukasEder and @VonC for help &amp; ideas.</p>\n"},{"tags":["java","android","window"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1686600612,"post_id":76459970,"comment_id":134818442,"body_markdown":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot","body":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686602529,"post_id":76459970,"comment_id":134818796,"body_markdown":"Samba protocol. Jcifs. Smbj.","body":"Samba protocol. Jcifs. Smbj."}],"owner":{"account_id":24600954,"reputation":1,"user_id":18503839,"display_name":"TrynaGetByGal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686600400,"creation_date":1686600400,"question_id":76459970,"body_markdown":"I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don&#39;t know how to fetch the files.\r\nDo i have to set up a server ?\r\nI connected the computer to the phone&#39;s hotspot and was able to access the xamp dashboard on the phone using the computer&#39;s ip adresse. Also the folder is a shared one.","title":"Accessing files stored on pc using an android app","body":"<p>I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don't know how to fetch the files.\nDo i have to set up a server ?\nI connected the computer to the phone's hotspot and was able to access the xamp dashboard on the phone using the computer's ip adresse. Also the folder is a shared one.</p>\n"},{"tags":["java","ubuntu","raspberry-pi","processbuilder"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1686599292,"post_id":76459342,"comment_id":134818234,"body_markdown":"Based on the `arecord -l` output, it looks like `-D hw:3,0` should be the correct value to try (card,device)","body":"Based on the <code>arecord -l</code> output, it looks like <code>-D hw:3,0</code> should be the correct value to try (card,device)"}],"answers":[{"comments":[{"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"score":0,"creation_date":1686597121,"post_id":76459433,"comment_id":134817889,"body_markdown":"I think you might be onto something that it is not the file system. I added root to the audio group, but it made no change, which record shows the right exec, all under /dev are owned by root, but by adding -D hw:0,0 I get the same error on both the user and root. I will update the question with the output, as maybe 0,0 is wrong?","body":"I think you might be onto something that it is not the file system. I added root to the audio group, but it made no change, which record shows the right exec, all under /dev are owned by root, but by adding -D hw:0,0 I get the same error on both the user and root. I will update the question with the output, as maybe 0,0 is wrong?"},{"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"score":0,"creation_date":1686599672,"post_id":76459433,"comment_id":134818286,"body_markdown":"It works with hw:3,0 (card 3, 0), and -c 1.","body":"It works with hw:3,0 (card 3, 0), and -c 1."}],"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686595181,"creation_date":1686595181,"answer_id":76459433,"question_id":76459342,"body_markdown":"The error may not be related to the file being recorded, but rather to the sound device that arecord is using.\r\n\r\nTo resolve this issue, consider the following steps:\r\n\r\n- Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.\r\n\r\n- Ensure that the audio device files (located under /dev/) are accessible by the root user.\r\n\r\n- Check if the arecord command is in the $PATH for the root user. You can verify this by running “which arecord” as root.\r\n\r\n- You can add the root user to the audio group to grant access to audio devices.\r\n\r\n\r\nYou may also find these links helpful:\r\n\r\nhttps://github.com/synesthesiam/voice2json/issues/28\r\n\r\nhttps://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>The error may not be related to the file being recorded, but rather to the sound device that arecord is using.</p>\n<p>To resolve this issue, consider the following steps:</p>\n<ul>\n<li><p>Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.</p>\n</li>\n<li><p>Ensure that the audio device files (located under /dev/) are accessible by the root user.</p>\n</li>\n<li><p>Check if the arecord command is in the $PATH for the root user. You can verify this by running “which arecord” as root.</p>\n</li>\n<li><p>You can add the root user to the audio group to grant access to audio devices.</p>\n</li>\n</ul>\n<p>You may also find these links helpful:</p>\n<p><a href=\"https://github.com/synesthesiam/voice2json/issues/28\" rel=\"nofollow noreferrer\">https://github.com/synesthesiam/voice2json/issues/28</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory\">aplay: main:831: audio open error: No such file or directory</a></p>\n"}],"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76459433,"answer_count":1,"score":0,"last_activity_date":1686599652,"creation_date":1686594144,"question_id":76459342,"body_markdown":"I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn&#39;t however, and I get the following error when running the application as root:\r\n\r\n&gt; Starting Starting recording /tmp/test.wav - 19:14:36.64\r\n&gt; /usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\r\n&gt; code: 1 with output: arecord: main:830: audio open error: No such file\r\n&gt; or directory\r\n&gt; \r\n&gt; java.lang.Exception: Command exited with code: 1 with output: arecord:\r\n&gt; main:830: audio open error: No such file or directory\r\n&gt; \r\n&gt; \tat Main.record(Main.java:38) \tat Main.main(Main.java:11)\r\n\r\nWhen I run as the default &#39;pi&#39; user (java -jar audioTest.jar) it runs fine.\r\n\r\nThe only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).\r\n\r\nI have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.\r\n\r\nThis is  my test code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Starting&quot;);\r\n            record(new File(&quot;/tmp/test.mp3&quot;));\r\n        }\r\n        \r\n        public static void record(File file) {\r\n             try {\r\n                 String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\r\n                 try {\r\n                     String player = &quot;/usr/bin/arecord&quot;;\r\n                     ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\r\n                     pb.redirectErrorStream(true);\r\n     \r\n                     System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\r\n                     System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\r\n                     //Process pr = pb.start();\r\n                     Process recorderProcess = pb.start();\r\n     \r\n                     BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\r\n     \r\n                     String errorLine;\r\n                     StringBuilder accErrorString = new StringBuilder();\r\n     \r\n                     while ((errorLine = error.readLine()) != null) {\r\n                         accErrorString.append(errorLine).append(&quot;\\n&quot;);\r\n                     }\r\n     \r\n                     int exitVal = recorderProcess.waitFor();\r\n                     if (exitVal != 0) {\r\n                         throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\r\n                     }\r\n                 } catch (java.io.IOException ioex) {\r\n                     // This would be the normal exit it seems.\r\n                 }\r\n            } catch (Exception ex){\r\n                 System.out.println(&quot;Exception: &quot; + ex.getMessage());\r\n                 ex.printStackTrace(System.out);\r\n             }\r\n         }\r\n    }\r\n\r\nAny idea why this is happening would be greatly appreciated.\r\n\r\n[Edit]\r\nThe output of record -l:\r\n\r\n    **** List of CAPTURE Hardware Devices ****\r\n    card 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\r\n      Subdevices: 1/1\r\n      Subdevice #0: subdevice #0\r\n\r\nBut adding -D hw:0,0 now gives the error on both. So for th e&#39;pi&#39; user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn't however, and I get the following error when running the application as root:</p>\n<blockquote>\n<p>Starting Starting recording /tmp/test.wav - 19:14:36.64\n/usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\ncode: 1 with output: arecord: main:830: audio open error: No such file\nor directory</p>\n<p>java.lang.Exception: Command exited with code: 1 with output: arecord:\nmain:830: audio open error: No such file or directory</p>\n<p>at Main.record(Main.java:38)    at Main.main(Main.java:11)</p>\n</blockquote>\n<p>When I run as the default 'pi' user (java -jar audioTest.jar) it runs fine.</p>\n<p>The only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).</p>\n<p>I have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.</p>\n<p>This is  my test code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Starting&quot;);\n        record(new File(&quot;/tmp/test.mp3&quot;));\n    }\n    \n    public static void record(File file) {\n         try {\n             String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\n             try {\n                 String player = &quot;/usr/bin/arecord&quot;;\n                 ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\n                 pb.redirectErrorStream(true);\n \n                 System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\n                 System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\n                 //Process pr = pb.start();\n                 Process recorderProcess = pb.start();\n \n                 BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\n \n                 String errorLine;\n                 StringBuilder accErrorString = new StringBuilder();\n \n                 while ((errorLine = error.readLine()) != null) {\n                     accErrorString.append(errorLine).append(&quot;\\n&quot;);\n                 }\n \n                 int exitVal = recorderProcess.waitFor();\n                 if (exitVal != 0) {\n                     throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\n                 }\n             } catch (java.io.IOException ioex) {\n                 // This would be the normal exit it seems.\n             }\n        } catch (Exception ex){\n             System.out.println(&quot;Exception: &quot; + ex.getMessage());\n             ex.printStackTrace(System.out);\n         }\n     }\n}\n</code></pre>\n<p>Any idea why this is happening would be greatly appreciated.</p>\n<p>[Edit]\nThe output of record -l:</p>\n<pre><code>**** List of CAPTURE Hardware Devices ****\ncard 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n</code></pre>\n<p>But adding -D hw:0,0 now gives the error on both. So for th e'pi' user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.</p>\n"},{"tags":["java","android","progress-bar","android-view"],"owner":{"account_id":21116516,"reputation":520,"user_id":15523510,"display_name":"KiraHoneybee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598823,"creation_date":1686583828,"question_id":76458161,"body_markdown":"Caveat: I am a bit of a neophyte on Android, working with someone else&#39;s code.\r\n\r\nThe app I&#39;m working with does a long background process and currently appears to just &quot;hang&quot; while it&#39;s working.  \r\n\r\nI just want to show a progress bar while it&#39;s working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:\r\n\r\n1. Show progress bar\r\n2. Call function that does huge processing and returns when done (and updates progress bar)\r\n3. Hide progress bar\r\n\r\nThis is the function I came up with:\r\n\r\n    int mProgressMax = 0;\r\n    ProgressBar mProgressBar = null;\r\n    void ShowProgressBar() {\r\n        mActivity.runOnUiThread(() -&gt; {\r\n            mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\r\n            mProgressBar.setMax(mProgressMax);\r\n            ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\r\n            rootView.addView(mProgressBar);\r\n            mProgressBar.setVisibility(View.VISIBLE);\r\n        });\r\n    }\r\n\r\nI do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don&#39;t have permission to restructure anything.\r\n\r\nAs it stands, I never see the progress bar.  I get no errors or anything, it just never shows.\r\n\r\nWhat do I need to add to make this work?\r\n\r\nExtra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don&#39;t know how to get the progress bar on top of it.\r\n\r\nThis is how that intent is invoked:\r\n\r\n    public void OpenFilePicker(Uri uriToLoad, int theCode) {\r\n        Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\r\n        aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\r\n        //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\r\n        mActivity.startActivityForResult(aIntent, theCode);\r\n    }\r\n\r\n...and then the onActivityResult is where the long process (including the progress bar show) happens.\r\n\r\n","title":"Progress bar never shows","body":"<p>Caveat: I am a bit of a neophyte on Android, working with someone else's code.</p>\n<p>The app I'm working with does a long background process and currently appears to just &quot;hang&quot; while it's working.</p>\n<p>I just want to show a progress bar while it's working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:</p>\n<ol>\n<li>Show progress bar</li>\n<li>Call function that does huge processing and returns when done (and updates progress bar)</li>\n<li>Hide progress bar</li>\n</ol>\n<p>This is the function I came up with:</p>\n<pre><code>int mProgressMax = 0;\nProgressBar mProgressBar = null;\nvoid ShowProgressBar() {\n    mActivity.runOnUiThread(() -&gt; {\n        mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\n        mProgressBar.setMax(mProgressMax);\n        ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\n        rootView.addView(mProgressBar);\n        mProgressBar.setVisibility(View.VISIBLE);\n    });\n}\n</code></pre>\n<p>I do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don't have permission to restructure anything.</p>\n<p>As it stands, I never see the progress bar.  I get no errors or anything, it just never shows.</p>\n<p>What do I need to add to make this work?</p>\n<p>Extra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don't know how to get the progress bar on top of it.</p>\n<p>This is how that intent is invoked:</p>\n<pre><code>public void OpenFilePicker(Uri uriToLoad, int theCode) {\n    Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\n    aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\n    //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\n    mActivity.startActivityForResult(aIntent, theCode);\n}\n</code></pre>\n<p>...and then the onActivityResult is where the long process (including the progress bar show) happens.</p>\n"},{"tags":["java","android-studio","object","bitmap","android-bitmap"],"owner":{"account_id":22766988,"reputation":47,"user_id":16924889,"display_name":"Ablac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598519,"creation_date":1686276352,"question_id":76436748,"body_markdown":"I&#39;m building a game for my Android app studio class, and the game&#39;s objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200\r\n\r\nI removed all imports for simplicity of the files.\r\n\r\n```\r\npublic class Bubble {\r\n    Bitmap bubble[] = new Bitmap[7];\r\n    int bubbleFrame = 0;\r\n    int bubbleX, bubbleY, bubbleV;\r\n    Random random;\r\n\r\n    public Bubble(Context context){\r\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\r\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\r\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\r\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\r\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\r\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\r\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\r\n        random = new Random();\r\n        resetPosition();\r\n    }\r\n\r\n    public Bitmap getBubble(int bubbleFrame){\r\n        return bubble[bubbleFrame];\r\n    }\r\n\r\n    public int getBubbleWidth(){\r\n        return bubble[0].getWidth();\r\n    }\r\n\r\n    public int getBubbleHeight(){\r\n        return bubble[0].getHeight();\r\n    }\r\n\r\n    public void resetPosition() {\r\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\r\n        bubbleY = -200 + random.nextInt(600) * -1;\r\n        bubbleV = 35 + random.nextInt(16);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my Gameview file as well.\r\n\r\n```\r\npublic class GameView extends View {\r\n\r\n    Bitmap background, ground, player;\r\n    Rect rectBackground, rectGround;\r\n    Context context;\r\n    Handler handler;\r\n    final long UPDATE_MILLIS = 30;\r\n    Runnable runnable;\r\n    Paint textPaint = new Paint();\r\n    Paint healthPaint = new Paint();\r\n    float TEXT_SIZE = 120;\r\n    int points = 0;\r\n    int life = 30;\r\n    static int dWidth, dHeight;\r\n    Random random;\r\n    float playerX, playerY;\r\n    float oldX;\r\n    float oldPlayerX;\r\n    ArrayList&lt;Bubble&gt; bubbles;\r\n    ArrayList&lt;Pop&gt; pops;\r\n\r\n    public GameView(Context context){\r\n        super(context);\r\n        this.context = context;\r\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\r\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\r\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\r\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\r\n        Point size = new Point();\r\n        display.getSize(size);\r\n        dWidth = size.x;\r\n        dHeight = size.y;\r\n        rectBackground = new Rect(0,0,dWidth,dHeight);\r\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\r\n        handler = new Handler();\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                invalidate();\r\n            }\r\n        };\r\n        textPaint.setColor(Color.rgb(255,165,0));\r\n        textPaint.setTextSize(TEXT_SIZE);\r\n        textPaint.setTextAlign(Paint.Align.LEFT);\r\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\r\n        healthPaint.setColor(Color.GREEN);\r\n        random = new Random();\r\n        playerX = dWidth / 2 - player.getWidth() / 2;\r\n        playerY = dHeight - ground.getHeight() - player.getHeight();\r\n        bubbles = new ArrayList&lt;&gt;();\r\n        pops = new ArrayList&lt;&gt;();\r\n        // Add First Bubble to game\r\n        Bubble bubble = new Bubble(context);\r\n        bubbles.add(bubble);\r\n    }\r\n\r\n    // Draw Game\r\n    @Override\r\n    protected void onDraw (Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.drawBitmap(background, null, rectBackground, null);\r\n        canvas.drawBitmap(ground, null, rectGround, null);\r\n        canvas.drawBitmap(player, playerX, playerY, null);\r\n\r\n        // Draw Bubbles\r\n        for (int i=0; i&lt;bubbles.size(); i++){\r\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\r\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\r\n\r\n            // Bubble Collision Detection with Ground - Remove Lives.\r\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\r\n                //life --;\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n                \r\n                //Check for Life 0\r\n                if (life == 0){\r\n                    Intent intent = new Intent(context, GameOver.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    context.startActivity(intent);\r\n                    ((Activity) context).finish();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Player Collision Detection with Bubble - Add Points.\r\n        for (int i=0; i &lt; bubbles.size(); i++){\r\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\r\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\r\n                points += 10;\r\n\r\n                // Add more bubbles based on Points value\r\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\r\n                    Bubble bubble = new Bubble(context);\r\n                    bubbles.add(bubble);\r\n                }\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n            }\r\n        }\r\n\r\n        // Remove Pop image after bubble is popped.\r\n        for (int i=0; i&lt;pops.size(); i++){\r\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\r\n                    pops.get(i).popY, null);\r\n            pops.get(i).popFrame++;\r\n            if (pops.get(i).popFrame &gt; 0){\r\n                pops.remove(i);\r\n            }\r\n        }\r\n\r\n        // Player health bar\r\n        if (life == 2){\r\n            healthPaint.setColor(Color.YELLOW);\r\n        } else if (life == 1) {\r\n            healthPaint.setColor(Color.RED);\r\n        }\r\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\r\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\r\n        handler.postDelayed(runnable, UPDATE_MILLIS);\r\n    }\r\n\r\n    // Player movement through touch input.\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float touchX = event.getX();\r\n        float touchY = event.getY();\r\n        if (touchY &gt;= playerY){\r\n            int action = event.getAction();\r\n            if (action == MotionEvent.ACTION_DOWN){\r\n                oldX = event.getX();\r\n                oldPlayerX = playerX;\r\n            }\r\n            if (action == MotionEvent.ACTION_MOVE){\r\n                float shift = oldX - touchX;\r\n                float newPlayerX = oldPlayerX - shift;\r\n                if (newPlayerX &lt;= 0)\r\n                    playerX = 0;\r\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\r\n                    playerX = dWidth - player.getWidth();\r\n                else\r\n                    playerX = newPlayerX;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```","title":"Drawing Bubbles in Android Studio Java","body":"<p>I'm building a game for my Android app studio class, and the game's objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200</p>\n<p>I removed all imports for simplicity of the files.</p>\n<pre><code>public class Bubble {\n    Bitmap bubble[] = new Bitmap[7];\n    int bubbleFrame = 0;\n    int bubbleX, bubbleY, bubbleV;\n    Random random;\n\n    public Bubble(Context context){\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\n        random = new Random();\n        resetPosition();\n    }\n\n    public Bitmap getBubble(int bubbleFrame){\n        return bubble[bubbleFrame];\n    }\n\n    public int getBubbleWidth(){\n        return bubble[0].getWidth();\n    }\n\n    public int getBubbleHeight(){\n        return bubble[0].getHeight();\n    }\n\n    public void resetPosition() {\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\n        bubbleY = -200 + random.nextInt(600) * -1;\n        bubbleV = 35 + random.nextInt(16);\n    }\n\n}\n</code></pre>\n<p>Here is my Gameview file as well.</p>\n<pre><code>public class GameView extends View {\n\n    Bitmap background, ground, player;\n    Rect rectBackground, rectGround;\n    Context context;\n    Handler handler;\n    final long UPDATE_MILLIS = 30;\n    Runnable runnable;\n    Paint textPaint = new Paint();\n    Paint healthPaint = new Paint();\n    float TEXT_SIZE = 120;\n    int points = 0;\n    int life = 30;\n    static int dWidth, dHeight;\n    Random random;\n    float playerX, playerY;\n    float oldX;\n    float oldPlayerX;\n    ArrayList&lt;Bubble&gt; bubbles;\n    ArrayList&lt;Pop&gt; pops;\n\n    public GameView(Context context){\n        super(context);\n        this.context = context;\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        dWidth = size.x;\n        dHeight = size.y;\n        rectBackground = new Rect(0,0,dWidth,dHeight);\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                invalidate();\n            }\n        };\n        textPaint.setColor(Color.rgb(255,165,0));\n        textPaint.setTextSize(TEXT_SIZE);\n        textPaint.setTextAlign(Paint.Align.LEFT);\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\n        healthPaint.setColor(Color.GREEN);\n        random = new Random();\n        playerX = dWidth / 2 - player.getWidth() / 2;\n        playerY = dHeight - ground.getHeight() - player.getHeight();\n        bubbles = new ArrayList&lt;&gt;();\n        pops = new ArrayList&lt;&gt;();\n        // Add First Bubble to game\n        Bubble bubble = new Bubble(context);\n        bubbles.add(bubble);\n    }\n\n    // Draw Game\n    @Override\n    protected void onDraw (Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawBitmap(background, null, rectBackground, null);\n        canvas.drawBitmap(ground, null, rectGround, null);\n        canvas.drawBitmap(player, playerX, playerY, null);\n\n        // Draw Bubbles\n        for (int i=0; i&lt;bubbles.size(); i++){\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\n\n            // Bubble Collision Detection with Ground - Remove Lives.\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\n                //life --;\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n                \n                //Check for Life 0\n                if (life == 0){\n                    Intent intent = new Intent(context, GameOver.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    context.startActivity(intent);\n                    ((Activity) context).finish();\n                }\n            }\n        }\n\n        // Player Collision Detection with Bubble - Add Points.\n        for (int i=0; i &lt; bubbles.size(); i++){\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\n                points += 10;\n\n                // Add more bubbles based on Points value\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\n                    Bubble bubble = new Bubble(context);\n                    bubbles.add(bubble);\n                }\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n            }\n        }\n\n        // Remove Pop image after bubble is popped.\n        for (int i=0; i&lt;pops.size(); i++){\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\n                    pops.get(i).popY, null);\n            pops.get(i).popFrame++;\n            if (pops.get(i).popFrame &gt; 0){\n                pops.remove(i);\n            }\n        }\n\n        // Player health bar\n        if (life == 2){\n            healthPaint.setColor(Color.YELLOW);\n        } else if (life == 1) {\n            healthPaint.setColor(Color.RED);\n        }\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\n        handler.postDelayed(runnable, UPDATE_MILLIS);\n    }\n\n    // Player movement through touch input.\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        float touchX = event.getX();\n        float touchY = event.getY();\n        if (touchY &gt;= playerY){\n            int action = event.getAction();\n            if (action == MotionEvent.ACTION_DOWN){\n                oldX = event.getX();\n                oldPlayerX = playerX;\n            }\n            if (action == MotionEvent.ACTION_MOVE){\n                float shift = oldX - touchX;\n                float newPlayerX = oldPlayerX - shift;\n                if (newPlayerX &lt;= 0)\n                    playerX = 0;\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\n                    playerX = dWidth - player.getWidth();\n                else\n                    playerX = newPlayerX;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","installation","java-home","macos-ventura"],"comments":[{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1686598858,"post_id":76459761,"comment_id":134818182,"body_markdown":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) https://sdkman.io/","body":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686599010,"post_id":76459761,"comment_id":134818203,"body_markdown":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else.","body":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else."},{"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"score":0,"creation_date":1686669099,"post_id":76459761,"comment_id":134829243,"body_markdown":"@AndreyB.Panfilov\nI am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02\nI am using this set up for test automating Flutter mobile app on Android and Apple devices.\n\nBTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest.","body":"@AndreyB.Panfilov I am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02 I am using this set up for test automating Flutter mobile app on Android and Apple devices.  BTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest."}],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686598446,"creation_date":1686598139,"question_id":76459761,"body_markdown":"I am working on Mac Ventura 13.3.1a.\r\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\r\n\r\nEvery thing is working fine. With the [new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)][1]\r\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers","title":"a good way to install a new JDK 15 or higher which is on LTS on Mac Ventura 13.3.1a?","body":"<p>I am working on Mac Ventura 13.3.1a.\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\n</code></pre>\n<p>Every thing is working fine. With the <a href=\"https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers\" rel=\"nofollow noreferrer\">new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)</a>\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1686598553,"post_id":76459107,"comment_id":134818140,"body_markdown":"&quot;This somehow doesn&#39;t seem to apply to existing objects in S3.&quot; How long did you wait? It won&#39;t be applied immediately.","body":"&quot;This somehow doesn&#39;t seem to apply to existing objects in S3.&quot; How long did you wait? It won&#39;t be applied immediately."},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1686604466,"post_id":76459107,"comment_id":134819126,"body_markdown":"It&#39;s been over three hours since the policy&#39;s been applied. I referred to a few other threads that said it could up to 48 hrs.","body":"It&#39;s been over three hours since the policy&#39;s been applied. I referred to a few other threads that said it could up to 48 hrs."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1686605892,"post_id":76459107,"comment_id":134819343,"body_markdown":"For a large S3 bucket, I&#39;ve never seen it take less than 12 hours. I usually just create the policy and check it the next day.","body":"For a large S3 bucket, I&#39;ve never seen it take less than 12 hours. I usually just create the policy and check it the next day."}],"answers":[{"tags":[],"owner":{"account_id":14868509,"reputation":426,"user_id":10736724,"display_name":"Juan Emmanuel Afable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686598189,"creation_date":1686598189,"answer_id":76459770,"question_id":76459107,"body_markdown":"The AWS [documentation][1] says that lifecycle changes would apply to both existing and future objects.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html","title":"Delete files in S3 under a certain prefix using LifeCycle configuration","body":"<p>The AWS <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\" rel=\"nofollow noreferrer\">documentation</a> says that lifecycle changes would apply to both existing and future objects.</p>\n"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686598189,"creation_date":1686591805,"question_id":76459107,"body_markdown":"I have the following folder structure in S3.\r\n\r\n```\r\ndirA/dirB/inputs/\r\ndirA/dirB/outputs/\r\ndirA/dirB/someObject\r\n```\r\n\r\nHere dirA, dirB are just placeholders. They have multiple names. For example, this is how the bucket is organized:\r\n\r\n```\r\nfolder1/subFolder1/inputs/\r\nfolder1/subFolder1/outputs/\r\nfolder1/subFolder1/someobject\r\n \r\nfolder2/subFolder2/inputs/\r\nfolder2/subFolder2/outputs/\r\nfolder2/subFolder2/someobject\r\n```\r\nI am looking to delete the objects under all ```outputs/``` after 1 day. I have the following Java code:\r\n```\r\npublic void addLifeCycleRule() {\r\n        try {\r\n            BucketLifecycleConfiguration.Rule deleteObjectsRule = new BucketLifecycleConfiguration.Rule()\r\n                    .withId(&quot;Delete outputs objects after 1 day&quot;)\r\n                    .withFilter(new LifecycleFilter(new LifecyclePrefixPredicate(&quot;outputs/&quot;)))\r\n                    .withExpirationInDays(1)\r\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n\r\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\r\n                    .withRules(Collections.singletonList(deleteObjectsRule));\r\n\r\n            s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\r\n\r\n        } catch (AmazonServiceException e) {\r\n            log.info(&quot;addLifeCycleRule: Exception occured. ex={}&quot;, e.getErrorMessage());\r\n        } catch (SdkClientException e) {\r\n            log.info(&quot;addLifeCycleRule: SdkClientException ex={}&quot;, e.getMessage());\r\n        }\r\n    }\r\n```\r\nThis somehow doesn&#39;t seem to apply to existing objects in S3. Any suggestions on what can be done here will be greatly appreciated. Thanks!\r\n","title":"Delete files in S3 under a certain prefix using LifeCycle configuration","body":"<p>I have the following folder structure in S3.</p>\n<pre><code>dirA/dirB/inputs/\ndirA/dirB/outputs/\ndirA/dirB/someObject\n</code></pre>\n<p>Here dirA, dirB are just placeholders. They have multiple names. For example, this is how the bucket is organized:</p>\n<pre><code>folder1/subFolder1/inputs/\nfolder1/subFolder1/outputs/\nfolder1/subFolder1/someobject\n \nfolder2/subFolder2/inputs/\nfolder2/subFolder2/outputs/\nfolder2/subFolder2/someobject\n</code></pre>\n<p>I am looking to delete the objects under all <code>outputs/</code> after 1 day. I have the following Java code:</p>\n<pre><code>public void addLifeCycleRule() {\n        try {\n            BucketLifecycleConfiguration.Rule deleteObjectsRule = new BucketLifecycleConfiguration.Rule()\n                    .withId(&quot;Delete outputs objects after 1 day&quot;)\n                    .withFilter(new LifecycleFilter(new LifecyclePrefixPredicate(&quot;outputs/&quot;)))\n                    .withExpirationInDays(1)\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\n                    .withRules(Collections.singletonList(deleteObjectsRule));\n\n            s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\n\n        } catch (AmazonServiceException e) {\n            log.info(&quot;addLifeCycleRule: Exception occured. ex={}&quot;, e.getErrorMessage());\n        } catch (SdkClientException e) {\n            log.info(&quot;addLifeCycleRule: SdkClientException ex={}&quot;, e.getMessage());\n        }\n    }\n</code></pre>\n<p>This somehow doesn't seem to apply to existing objects in S3. Any suggestions on what can be done here will be greatly appreciated. Thanks!</p>\n"},{"tags":["java","json","gson","guava","property-files"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686598119,"post_id":76459740,"comment_id":134818073,"body_markdown":"You can use _gson_ to iterate on the structures, and identify the equal values.","body":"You can use <i>gson</i> to iterate on the structures, and identify the equal values."},{"owner":{"account_id":12506266,"reputation":73,"user_id":9103021,"display_name":"NehaGoswami"},"score":0,"creation_date":1686601226,"post_id":76459740,"comment_id":134818551,"body_markdown":"yeah i thought of that, but creating a map of Map&lt;&quot;envronment&quot; , &quot;JSON&quot; obj&quot; &gt; and then iterating it , comparing all 20 json files with each other, will that not be too cumbersome ? Did i understand your suggestion correctly?","body":"yeah i thought of that, but creating a map of Map&lt;&quot;envronment&quot; , &quot;JSON&quot; obj&quot; &gt; and then iterating it , comparing all 20 json files with each other, will that not be too cumbersome ? Did i understand your suggestion correctly?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686601461,"post_id":76459740,"comment_id":134818597,"body_markdown":"I guess, I can&#39;t imagine any other way to do it.  Possibly, part of the _gson_ documentation?","body":"I guess, I can&#39;t imagine any other way to do it.  Possibly, part of the <i>gson</i> documentation?"}],"owner":{"account_id":12506266,"reputation":73,"user_id":9103021,"display_name":"NehaGoswami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686598621,"answer_count":0,"score":0,"last_activity_date":1686597955,"creation_date":1686597955,"question_id":76459740,"body_markdown":"I have a list of json property files ( around 20 json property files)\r\n\r\nNow, need is to find common properties across these json files.\r\n\r\nI have used guava api json file comparison,  it compares 2 json files.\r\n\r\nPls suggest any other efficient way to achieve this.\r\n\r\n","title":"Compare more than 2 json file for common properties - Java","body":"<p>I have a list of json property files ( around 20 json property files)</p>\n<p>Now, need is to find common properties across these json files.</p>\n<p>I have used guava api json file comparison,  it compares 2 json files.</p>\n<p>Pls suggest any other efficient way to achieve this.</p>\n"},{"tags":["java","spring-data-jpa","entity"],"answers":[{"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686596589,"creation_date":1686596589,"answer_id":76459605,"question_id":76459535,"body_markdown":"The problem was that there were 3 columns in the SQL result with same name `e.name`, `t.name`, `c.name`, and somehow instead of throwing any exception or repeating data inside each column, it returned null. Alias inside @Query resolved this issue.\r\n\r\nSolution\r\n```\r\n@Query(value = &quot;&quot;&quot;\r\n        SELECT E.name, E.amount, C.name as &#39;Category&#39;, E.description, T.name as &#39;Timestamp&#39;\r\n        FROM expense E\r\n        INNER JOIN category C ON C.id = E.category_id\r\n        INNER JOIN timestamp T ON T.id = E.timestamp_id\r\n        &quot;&quot;&quot;, nativeQuery = true)\r\nList&lt;ExpenseDTO&gt; getAll();\r\n```","title":"AbstractJpaQuery$TupleConverter$TupleBackedMap returns null data","body":"<p>The problem was that there were 3 columns in the SQL result with same name <code>e.name</code>, <code>t.name</code>, <code>c.name</code>, and somehow instead of throwing any exception or repeating data inside each column, it returned null. Alias inside @Query resolved this issue.</p>\n<p>Solution</p>\n<pre><code>@Query(value = &quot;&quot;&quot;\n        SELECT E.name, E.amount, C.name as 'Category', E.description, T.name as 'Timestamp'\n        FROM expense E\n        INNER JOIN category C ON C.id = E.category_id\n        INNER JOIN timestamp T ON T.id = E.timestamp_id\n        &quot;&quot;&quot;, nativeQuery = true)\nList&lt;ExpenseDTO&gt; getAll();\n</code></pre>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686596589,"creation_date":1686596239,"question_id":76459535,"body_markdown":"I have an error with missing data that is converted by TupleConverter using `@Query` annotation for SQL statement. I don&#39;t know why, but some columns are null.\r\n\r\n\r\n```\r\n@Repository\r\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt; {\r\n\r\n    @Query(value = &quot;&quot;&quot;\r\n            SELECT E.name, E.amount, C.name, E.description, T.name\r\n            FROM expense E\r\n            INNER JOIN category C ON C.id = E.category_id\r\n            INNER JOIN timestamp T ON T.id = E.timestamp_id\r\n            &quot;&quot;&quot;, nativeQuery = true)\r\n    List&lt;ExpenseDTO&gt; getAll();\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface ExpenseDTO {\r\n    String getName();\r\n    double getAmount();\r\n    String getCategory();\r\n    String getDescription();\r\n    String getTimestamp();\r\n}\r\n```\r\n\r\n\r\n\r\nResults for the code below\r\n```\r\nList&lt;ExpenseDTO&gt; allExpenses = expenseService.getAllExpenses();\r\n        allExpenses.forEach(x -&gt; {\r\n            System.out.println(MessageFormat\r\n                    .format(&quot;{0} {1} {2} {3} {4}&quot;, \r\n                            x.getName(), x.getAmount(), x.getCategory(), x.getTimestamp(), x.getDescription()\r\n                    ));\r\n        });\r\n```\r\n\r\n\r\n\r\n\r\n[![Output][1]][1]\r\n\r\n[![MySql result][2]][2]\r\n\r\nAnother strange thing is that `expense.name` is taken from `timestamp.name` column, but I mentioned the table before selecting column inside SQL statement.\r\n\r\nEntities are generated with Spring JPA and for constraints between tables I used `@ManyToOne` and `@JoinColumn(tableName_id)` annotations inside `Expense` entity. Any help will be great, thanks!\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EH02N.png\r\n  [2]: https://i.stack.imgur.com/oFTnj.png","title":"AbstractJpaQuery$TupleConverter$TupleBackedMap returns null data","body":"<p>I have an error with missing data that is converted by TupleConverter using <code>@Query</code> annotation for SQL statement. I don't know why, but some columns are null.</p>\n<pre><code>@Repository\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt; {\n\n    @Query(value = &quot;&quot;&quot;\n            SELECT E.name, E.amount, C.name, E.description, T.name\n            FROM expense E\n            INNER JOIN category C ON C.id = E.category_id\n            INNER JOIN timestamp T ON T.id = E.timestamp_id\n            &quot;&quot;&quot;, nativeQuery = true)\n    List&lt;ExpenseDTO&gt; getAll();\n\n}\n</code></pre>\n<pre><code>public interface ExpenseDTO {\n    String getName();\n    double getAmount();\n    String getCategory();\n    String getDescription();\n    String getTimestamp();\n}\n</code></pre>\n<p>Results for the code below</p>\n<pre><code>List&lt;ExpenseDTO&gt; allExpenses = expenseService.getAllExpenses();\n        allExpenses.forEach(x -&gt; {\n            System.out.println(MessageFormat\n                    .format(&quot;{0} {1} {2} {3} {4}&quot;, \n                            x.getName(), x.getAmount(), x.getCategory(), x.getTimestamp(), x.getDescription()\n                    ));\n        });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EH02N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EH02N.png\" alt=\"Output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oFTnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFTnj.png\" alt=\"MySql result\" /></a></p>\n<p>Another strange thing is that <code>expense.name</code> is taken from <code>timestamp.name</code> column, but I mentioned the table before selecting column inside SQL statement.</p>\n<p>Entities are generated with Spring JPA and for constraints between tables I used <code>@ManyToOne</code> and <code>@JoinColumn(tableName_id)</code> annotations inside <code>Expense</code> entity. Any help will be great, thanks!</p>\n"},{"tags":["java","pattern-matching","instanceof","java-record"],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672628176,"post_id":74978688,"comment_id":132315418,"body_markdown":"That makes sense. Your answer actually led me to go look at the JLS, and I see the evidence backing up what you are saying. Could you edit your answer to include the following information? I will accept it then -- https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.3.1.5","body":"That makes sense. Your answer actually led me to go look at the JLS, and I see the evidence backing up what you are saying. Could you edit your answer to include the following information? I will accept it then -- <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.3.1.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se19/html/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672628275,"post_id":74978688,"comment_id":132315432,"body_markdown":"Specifically, the part in bold on the JLS site is the exact answer to my question and the evidence for your answer","body":"Specifically, the part in bold on the JLS site is the exact answer to my question and the evidence for your answer"},{"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"score":2,"creation_date":1672628410,"post_id":74978688,"comment_id":132315449,"body_markdown":"@davidalayachew Er, what? I was already checking the JLS myself when I made the new edit. Your comment has the wrong quote.","body":"@davidalayachew Er, what? I was already checking the JLS myself when I made the new edit. Your comment has the wrong quote."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672628519,"post_id":74978688,"comment_id":132315461,"body_markdown":"Right you are, I misread the JLS and thought it was saying something different entirely. My quote was actually talking about variable names, but I thought it was talking about the condition being guaranteed to evaluate to `true`. Either way, you found the right answer. I have accepted this.","body":"Right you are, I misread the JLS and thought it was saying something different entirely. My quote was actually talking about variable names, but I thought it was talking about the condition being guaranteed to evaluate to <code>true</code>. Either way, you found the right answer. I have accepted this."}],"tags":[],"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672628351,"creation_date":1672627971,"answer_id":74978688,"question_id":74978665,"body_markdown":"Java is just being &quot;nice&quot;: it recognizes that the test will *always* succeed (because `input` is known to be a `Triple`, which is already a subtype of the test type `Triple`), so it produces an error telling you that you&#39;re doing something useless (with a roundabout message).\r\n\r\nThis is the same idea that makes\r\n\r\n    void foo() {\r\n      return;\r\n      return; // error: unreachable statement\r\n    }\r\n\r\nan error: there is a useless piece of code that might indicate (serious) programmer error, so the compiler forces you to rethink the code.\r\n\r\nThe relevant section of the JLS is [15.20.2](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2), which says\r\n\r\n&gt; &gt; *InstanceofExpression*:\r\n&gt; &gt; * ...\r\n&gt; &gt; * *RelationalExpression* `instanceof` *Pattern*\r\n&gt;\r\n&gt; ...\r\n&gt; \r\n&gt; The following rules apply when `instanceof` is the pattern match operator:\r\n&gt; * ...\r\n&gt; * If the type of the *RelationalExpression* is a subtype of the type of the *Pattern*, then a compile-time error occurs.\r\n\r\nI.e. this is indeed an intended part of the language and not just a compiler bug or something.","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p>Java is just being &quot;nice&quot;: it recognizes that the test will <em>always</em> succeed (because <code>input</code> is known to be a <code>Triple</code>, which is already a subtype of the test type <code>Triple</code>), so it produces an error telling you that you're doing something useless (with a roundabout message).</p>\n<p>This is the same idea that makes</p>\n<pre><code>void foo() {\n  return;\n  return; // error: unreachable statement\n}\n</code></pre>\n<p>an error: there is a useless piece of code that might indicate (serious) programmer error, so the compiler forces you to rethink the code.</p>\n<p>The relevant section of the JLS is <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">15.20.2</a>, which says</p>\n<blockquote>\n<blockquote>\n<p><em>InstanceofExpression</em>:</p>\n<ul>\n<li>...</li>\n<li><em>RelationalExpression</em> <code>instanceof</code> <em>Pattern</em></li>\n</ul>\n</blockquote>\n<p>...</p>\n<p>The following rules apply when <code>instanceof</code> is the pattern match operator:</p>\n<ul>\n<li>...</li>\n<li>If the type of the <em>RelationalExpression</em> is a subtype of the type of the <em>Pattern</em>, then a compile-time error occurs.</li>\n</ul>\n</blockquote>\n<p>I.e. this is indeed an intended part of the language and not just a compiler bug or something.</p>\n"},{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1686627642,"post_id":76459484,"comment_id":134821350,"body_markdown":"Thanks for your answer! I actually had a chance to talk to the folks making this feature, and they said that this is something being addressed too. Long story short, it&#39;s called something like an **Unconditional Pattern**, and that is something that they are still working on atm. It&#39;s a little confusing because I thought there would be a JEP for unconditional patterns, but I didn&#39;t see one. Either way, once this &quot;Unconditional Pattern&quot; is hammered out, then this should be dealt with too.","body":"Thanks for your answer! I actually had a chance to talk to the folks making this feature, and they said that this is something being addressed too. Long story short, it&#39;s called something like an <b>Unconditional Pattern</b>, and that is something that they are still working on atm. It&#39;s a little confusing because I thought there would be a JEP for unconditional patterns, but I didn&#39;t see one. Either way, once this &quot;Unconditional Pattern&quot; is hammered out, then this should be dealt with too."},{"owner":{"account_id":44334,"reputation":999,"user_id":130077,"accept_rate":86,"display_name":"GeirGrusom"},"score":0,"creation_date":1691135668,"post_id":76459484,"comment_id":135453645,"body_markdown":"But the explanation isn&#39;t correct?\nhttps://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2\nIt&#39;s not failing because the pattern always returns true (it doesn&#39;t per the link above because, null will cause the pattern to fail regardless of the type) but because a type is considered a subtype of itself. Or at least that&#39;s how I read it.","body":"But the explanation isn&#39;t correct? <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se19/html/&hellip;</a> It&#39;s not failing because the pattern always returns true (it doesn&#39;t per the link above because, null will cause the pattern to fail regardless of the type) but because a type is considered a subtype of itself. Or at least that&#39;s how I read it."}],"tags":[],"owner":{"account_id":3726292,"reputation":136,"user_id":3100123,"display_name":"kingds"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686595668,"creation_date":1686595668,"answer_id":76459484,"question_id":74978665,"body_markdown":"[HTNW&#39;s answer](https://stackoverflow.com/a/74978688/3100123) is the correct response but I find this behavior by the compiler to be non-ideal as it doesn&#39;t account for null references. There&#39;s some inconsistency here: \r\n```\r\nString s = null;\r\nif (s instanceof String) {}\r\n``` \r\n\r\n``` \r\nString s = null;\r\nif (s instanceof String string) {}\r\n```   \r\nThe first option will compile, the second one will give the the error &quot;Pattern type &#39;String&#39; is the same as expression type&quot;. This means that `instanceof` can be used as a null check but not if pattern matching is used. Makes no sense.","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p><a href=\"https://stackoverflow.com/a/74978688/3100123\">HTNW's answer</a> is the correct response but I find this behavior by the compiler to be non-ideal as it doesn't account for null references. There's some inconsistency here:</p>\n<pre><code>String s = null;\nif (s instanceof String) {}\n</code></pre>\n<pre><code>String s = null;\nif (s instanceof String string) {}\n</code></pre>\n<p>The first option will compile, the second one will give the the error &quot;Pattern type 'String' is the same as expression type&quot;. This means that <code>instanceof</code> can be used as a null check but not if pattern matching is used. Makes no sense.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74978688,"answer_count":2,"score":3,"last_activity_date":1686595668,"creation_date":1672627572,"question_id":74978665,"body_markdown":"I have Java 19, and I am attempting to do some simple pattern-matching on a record that I created. However, Java is giving me a very confusing compilation error. Here is the simplest example I could make that causes the error.\r\n\r\n```java\r\npublic class ExpressionTypeIsASubsetOfPatternType\r\n{\r\n\r\n   public record Triple(int a, int b, int c) {}\r\n\r\n   public static void main(String[] args)\r\n   {\r\n\r\n      System.out.println(&quot;Java Version = &quot; + System.getProperty(&quot;java.version&quot;));\r\n\r\n      final Triple input = new Triple(1, 2, 3);\r\n\r\n      if (input instanceof Triple t)\r\n      {\r\n\r\n         System.out.println(&quot;Made it here&quot;);\r\n\r\n      }\r\n\r\n   }\r\n\r\n}\r\n```\r\n\r\nAnd here is the error that it gives me when I try to run/compile.\r\n\r\n```\r\n$ java ExpressionTypeIsASubsetOfPatternType.java\r\nExpressionTypeIsASubsetOfPatternType.java:15: error: expression type Triple is a subtype of pattern type Triple\r\n      if (input instanceof Triple t)\r\n                ^\r\n1 error\r\nerror: compilation failed\r\n```\r\n\r\nSurprisingly enough, googling this error showed up nothing useful. I am so used to punching in an error and immediately seeing the problem. I imagine that it is because this feature is so new.\r\n\r\nAnyways, the closest thing I could find is a [bug][1] that is related, but definitely not the same issue that I am dealing with.\r\n\r\nFinally, here is the relevant info about my java version.\r\n\r\n```\r\n$ java --version\r\nopenjdk 19 2022-09-20\r\nOpenJDK Runtime Environment (build 19+36-2238)\r\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\r\n```\r\n\r\n```\r\n$ javac --version\r\njavac 19\r\n```\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8260566","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p>I have Java 19, and I am attempting to do some simple pattern-matching on a record that I created. However, Java is giving me a very confusing compilation error. Here is the simplest example I could make that causes the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExpressionTypeIsASubsetOfPatternType\n{\n\n   public record Triple(int a, int b, int c) {}\n\n   public static void main(String[] args)\n   {\n\n      System.out.println(&quot;Java Version = &quot; + System.getProperty(&quot;java.version&quot;));\n\n      final Triple input = new Triple(1, 2, 3);\n\n      if (input instanceof Triple t)\n      {\n\n         System.out.println(&quot;Made it here&quot;);\n\n      }\n\n   }\n\n}\n</code></pre>\n<p>And here is the error that it gives me when I try to run/compile.</p>\n<pre><code>$ java ExpressionTypeIsASubsetOfPatternType.java\nExpressionTypeIsASubsetOfPatternType.java:15: error: expression type Triple is a subtype of pattern type Triple\n      if (input instanceof Triple t)\n                ^\n1 error\nerror: compilation failed\n</code></pre>\n<p>Surprisingly enough, googling this error showed up nothing useful. I am so used to punching in an error and immediately seeing the problem. I imagine that it is because this feature is so new.</p>\n<p>Anyways, the closest thing I could find is a <a href=\"https://bugs.openjdk.org/browse/JDK-8260566\" rel=\"nofollow noreferrer\">bug</a> that is related, but definitely not the same issue that I am dealing with.</p>\n<p>Finally, here is the relevant info about my java version.</p>\n<pre><code>$ java --version\nopenjdk 19 2022-09-20\nOpenJDK Runtime Environment (build 19+36-2238)\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\n</code></pre>\n<pre><code>$ javac --version\njavac 19\n</code></pre>\n"},{"tags":["java","javascript"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1413971102,"post_id":26504604,"comment_id":41640351,"body_markdown":"Show us some code (function), have you tried something ?","body":"Show us some code (function), have you tried something ?"},{"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"score":0,"creation_date":1413973324,"post_id":26504604,"comment_id":41641444,"body_markdown":"I tried ($(&quot;#field&quot;).val() &gt; 2147483647)...","body":"I tried ($(&quot;#field&quot;).val() &gt; 2147483647)..."}],"answers":[{"comments":[{"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"score":0,"creation_date":1413973428,"post_id":26504674,"comment_id":41641485,"body_markdown":"Thank you for the proposition, that what I have done to resolve the issue temporary... but I&#39;m looking for more effective solution","body":"Thank you for the proposition, that what I have done to resolve the issue temporary... but I&#39;m looking for more effective solution"}],"tags":[],"owner":{"account_id":385703,"reputation":32586,"user_id":743016,"accept_rate":85,"display_name":"Jerodev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1413971252,"creation_date":1413971252,"answer_id":26504674,"question_id":26504604,"body_markdown":"Just test the number in an if?\r\n\r\n    var number = 1234567;\r\n    if (Number.isInteger(number)) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647)\r\n    {\r\n        console.log(&quot;It is a valid integer!&quot;);\r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>Just test the number in an if?</p>\n\n<pre><code>var number = 1234567;\nif (Number.isInteger(number)) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647)\n{\n    console.log(\"It is a valid integer!\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"score":0,"creation_date":1414042700,"post_id":26505572,"comment_id":41672580,"body_markdown":"I checked it in jsconsole.com","body":"I checked it in jsconsole.com"},{"owner":{"account_id":4460829,"reputation":2452,"user_id":3629748,"display_name":"aecend"},"score":0,"creation_date":1686595239,"post_id":26505572,"comment_id":134817557,"body_markdown":"Wouldn&#39;t you want to do the comparison using `===` since the question specified that the value should be a JavaScript Number, not a string? I do like the bitwise method you&#39;re using; I actually came here to add an answer for it if no one else had.","body":"Wouldn&#39;t you want to do the comparison using <code>===</code> since the question specified that the value should be a JavaScript Number, not a string? I do like the bitwise method you&#39;re using; I actually came here to add an answer for it if no one else had."},{"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"score":0,"creation_date":1686715837,"post_id":26505572,"comment_id":134835671,"body_markdown":"Yes, `===` can be used for comparison, if the intent is to also guarantee that the variable was originally of number type, not just representable as int32.","body":"Yes, <code>===</code> can be used for comparison, if the intent is to also guarantee that the variable was originally of number type, not just representable as int32."}],"tags":[],"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413974286,"creation_date":1413974286,"answer_id":26505572,"question_id":26504604,"body_markdown":"Assuming that the range of integers in Java is actually &quot;–2147483648 &lt;= n &lt;= 2147483647&quot;, the expression `((+a)|0) == a` will work as specified.\r\n\r\n -  `+a` evaluates the expression a as a number;\r\n -  `|0` converts the number to 32-bit integer\r\n\r\nThe comparison will fail, when `a` is not exactly representable by an 32-bit integer.\r\n\r\n","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>Assuming that the range of integers in Java is actually \"–2147483648 &lt;= n &lt;= 2147483647\", the expression <code>((+a)|0) == a</code> will work as specified.</p>\n\n<ul>\n<li><code>+a</code> evaluates the expression a as a number;</li>\n<li><code>|0</code> converts the number to 32-bit integer</li>\n</ul>\n\n<p>The comparison will fail, when <code>a</code> is not exactly representable by an 32-bit integer.</p>\n"},{"tags":[],"owner":{"account_id":5312529,"reputation":3620,"user_id":4238323,"display_name":"MSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652872247,"creation_date":1652872247,"answer_id":72288096,"question_id":26504604,"body_markdown":"as a function :\r\n\r\n    function isValidInt32(number){\r\n       return Number.isInteger(number) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647; \r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>as a function :</p>\n<pre><code>function isValidInt32(number){\n   return Number.isInteger(number) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686594801,"creation_date":1653505818,"answer_id":72383003,"question_id":26504604,"body_markdown":"    \r\nFor floating point values, if we want an integer, but allows a value ending in &quot;.0&quot;:\r\n\r\n    isInt32(state) {\r\n        if(!(/^([+-]?[1-9]\\d*|0).[0]$/.test(state))\r\n            &amp;&amp; !(/^([+-]?[1-9]\\d*|0)$/.test(state))) {\r\n            return false;\r\n        }\r\n        const view = new DataView(new ArrayBuffer(32));\r\n        view.setInt32(1, state);\r\n        return Number.parseInt(state) === view.getInt32(1);\r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>For floating point values, if we want an integer, but allows a value ending in &quot;.0&quot;:</p>\n<pre><code>isInt32(state) {\n    if(!(/^([+-]?[1-9]\\d*|0).[0]$/.test(state))\n        &amp;&amp; !(/^([+-]?[1-9]\\d*|0)$/.test(state))) {\n        return false;\n    }\n    const view = new DataView(new ArrayBuffer(32));\n    view.setInt32(1, state);\n    return Number.parseInt(state) === view.getInt32(1);\n}\n</code></pre>\n"}],"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26504674,"answer_count":4,"score":2,"last_activity_date":1686594801,"creation_date":1413970968,"question_id":26504604,"body_markdown":"What&#39;s he correct way to validate JavaScript numbers as Java int?\r\n\r\n      –2147483648 &lt; n &lt; 2147483647\r\n\r\n     IsNumeric(2147483648) --&gt; true: which is &gt; int\r\n     parseInt(&quot;2147483648&quot;) --&gt; 2147483648 : which is &gt; int","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>What's he correct way to validate JavaScript numbers as Java int?</p>\n\n<pre><code>  –2147483648 &lt; n &lt; 2147483647\n\n IsNumeric(2147483648) --&gt; true: which is &gt; int\n parseInt(\"2147483648\") --&gt; 2147483648 : which is &gt; int\n</code></pre>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","solution"],"comments":[{"owner":{"account_id":10351262,"reputation":116,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1687719527,"post_id":76459373,"comment_id":134972369,"body_markdown":"it could be that some operations are not supported yet, can you provide the version of tensorflow lite dependencies that you have on your app (you can find that in gradle file)","body":"it could be that some operations are not supported yet, can you provide the version of tensorflow lite dependencies that you have on your app (you can find that in gradle file)"}],"owner":{"account_id":19524774,"reputation":1,"user_id":14285809,"display_name":"Khirman Saleem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686594608,"creation_date":1686594608,"question_id":76459373,"body_markdown":"I have converted my DenseNet-121 model to model.tflite, and when i am loading it to android app and trying to make predictions, it&#39;s giving following errors : java.lang.IllegalStateException: Internal error: Unexpected failure when preparing tensor allocations: tensorflow/lite/kernels/pad.cc:79 SizeOfDimension(op_context-&gt;paddings, 0) != op_context-&gt;dims (4 != 1) Node number 0 (PAD) failed to prepare.\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensorsIfNeeded(NativeInterpreterWrapper.java:308)\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:248)\r\n    at org.tensorflow.lite.InterpreterImpl.runForMultipleInputsOutputs(InterpreterImpl.java:101)\r\n    at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:77)\r\n    at org.tensorflow.lite.InterpreterImpl.run(InterpreterImpl.java:94)\r\n    at org.tensorflow.lite.Interpreter.run(Interpreter.java:77)\r\n    at com.example.appleleafdiseasedetection.DiseaseDetector$2.onClick(DiseaseDetector.java:72)\r\n    at android.view.View.performClick(View.java:7743)\r\n    at android.view.View.performClickInternal(View.java:7720)\r\n    at android.view.View.access$3700(View.java:854)\r\n    at android.view.View$PerformClick.run(View.java:29111)\r\n    at android.os.Handler.handleCallback(Handler.java:938)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:210)\r\n    at android.os.Looper.loop(Looper.java:299)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8309)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038) \r\n    how can i solve it?\r\n\r\n","title":"Error While Loading tflite Model in My Android App","body":"<p>I have converted my DenseNet-121 model to model.tflite, and when i am loading it to android app and trying to make predictions, it's giving following errors : java.lang.IllegalStateException: Internal error: Unexpected failure when preparing tensor allocations: tensorflow/lite/kernels/pad.cc:79 SizeOfDimension(op_context-&gt;paddings, 0) != op_context-&gt;dims (4 != 1) Node number 0 (PAD) failed to prepare.\nat org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\nat org.tensorflow.lite.NativeInterpreterWrapper.allocateTensorsIfNeeded(NativeInterpreterWrapper.java:308)\nat org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:248)\nat org.tensorflow.lite.InterpreterImpl.runForMultipleInputsOutputs(InterpreterImpl.java:101)\nat org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:77)\nat org.tensorflow.lite.InterpreterImpl.run(InterpreterImpl.java:94)\nat org.tensorflow.lite.Interpreter.run(Interpreter.java:77)\nat com.example.appleleafdiseasedetection.DiseaseDetector$2.onClick(DiseaseDetector.java:72)\nat android.view.View.performClick(View.java:7743)\nat android.view.View.performClickInternal(View.java:7720)\nat android.view.View.access$3700(View.java:854)\nat android.view.View$PerformClick.run(View.java:29111)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:210)\nat android.os.Looper.loop(Looper.java:299)\nat android.app.ActivityThread.main(ActivityThread.java:8309)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\nhow can i solve it?</p>\n"},{"tags":["java","android","service"],"answers":[{"comments":[{"owner":{"account_id":10439876,"reputation":1,"user_id":7696899,"display_name":"gabrielgagz"},"score":0,"creation_date":1503448683,"post_id":45828386,"comment_id":78615590,"body_markdown":"Thanks for your answer but still have the same problem even with the olution you provided...","body":"Thanks for your answer but still have the same problem even with the olution you provided..."},{"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"score":0,"creation_date":1503511217,"post_id":45828386,"comment_id":78651081,"body_markdown":"Updated the answer.","body":"Updated the answer."},{"owner":{"account_id":10439876,"reputation":1,"user_id":7696899,"display_name":"gabrielgagz"},"score":0,"creation_date":1503629933,"post_id":45828386,"comment_id":78706193,"body_markdown":"Well finally i don&#39;t know if your solution works, or this did the trick (i&#39;m writing this for a Lineage custom rom): cyanogenmod.permission.BIND_CORE_SERVICEThanks","body":"Well finally i don&#39;t know if your solution works, or this did the trick (i&#39;m writing this for a Lineage custom rom): cyanogenmod.permission.BIND_CORE_SERVICEThanks"}],"tags":[],"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503511209,"creation_date":1503444280,"answer_id":45828386,"question_id":45828315,"body_markdown":"You need to remove `android:exported=&quot;false&quot;`(by default for receivers with intent filters has android:exported = true) from the `LedPearlynReceiver` declaration in Manifest.\r\n\r\nReference : `https://developer.android.com/guide/topics/manifest/receiver-element.html#exported`\r\n\r\nAlso, try adding the fully qualified name in the manifest.\r\n`android:name=&quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot;`","title":"Own Service: Unable to instantiate receiver","body":"<p>You need to remove <code>android:exported=\"false\"</code>(by default for receivers with intent filters has android:exported = true) from the <code>LedPearlynReceiver</code> declaration in Manifest.</p>\n\n<p>Reference : <code>https://developer.android.com/guide/topics/manifest/receiver-element.html#exported</code></p>\n\n<p>Also, try adding the fully qualified name in the manifest.\n<code>android:name=\"com.gabrielgagz.ledpearlyn.LedPearlynReceiver\"</code></p>\n"}],"owner":{"account_id":10439876,"reputation":1,"user_id":7696899,"display_name":"gabrielgagz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686593879,"creation_date":1503443651,"question_id":45828315,"body_markdown":"First of all I have to say that I&#39;m totally newbie on java.\r\nI wrote this using some tutorials.\r\n\r\nAs you see, the package name is correct in manifest and there aren&#39;t misspelling errors...\r\n\r\nI&#39;m trying to write a service for my device, which controls the led of it. But I&#39;m keep getting this error:\r\n\r\n&gt;AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot; on path: DexPathList[[zip file &quot;/system/app/LedPearlyn/LedPearlyn.apk&quot;],nativeLibraryDirectories=[/system/app/LedPearlyn/lib/arm, /system/app/LedPearlyn/LedPearlyn.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib, /system/lib, /vendor/lib]]\r\n\r\nLedPearlynReceiver:\r\n\r\n    package com.gabrielgagz.ledpearlyn;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import java.io.*;\r\n\r\n    public class LedPearlynReceiver extends BroadcastReceiver {\r\n\r\n    public static boolean wasScreenOn = true;\r\n\r\n    @Override\r\n    public void onReceive(final Context context, final Intent intent) {\r\n        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF) || intent.getAction().equals(Intent.ACTION_DREAMING_STARTED))  {\r\n\t\t\ttry {\r\n            String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 0 &gt; /sys/class/leds/pearlyn/brightness&quot;};\t \t \r\n            Runtime.getRuntime().exec(cmd);\r\n            } catch(IOException ie) {\r\n            ie.printStackTrace();\r\n\t\t\t}\r\n            wasScreenOn = false;\r\n            Log.e(&quot;LedPearlyn&quot;,&quot;OFF&quot;);\r\n        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON) ||  intent.getAction().equals(Intent.ACTION_DREAMING_STOPPED)) {\r\n\t\t\ttry {\r\n            String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 255 &gt; /sys/class/leds/pearlyn/brightness&quot;};\t \t \r\n            Runtime.getRuntime().exec(cmd);\r\n            } catch(IOException ie) {\r\n            ie.printStackTrace();\r\n\t\t\t} \r\n            wasScreenOn = true;\r\n            Log.e(&quot;LedPearlyn&quot;,&quot;ON&quot;);\r\n        }        \r\n    }\r\n    }\r\n\r\nLedPearlynService:\r\n\r\n    package com.gabrielgagz.ledpearlyn;\r\n \r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.Binder;\r\n    import android.os.IBinder;\r\n    import android.content.BroadcastReceiver;\r\n\r\n    public class LedPearlynService extends Service {\r\n\r\n\t@Override\r\n\tpublic IBinder onBind(Intent intent) {\r\n\t\treturn null;\r\n\t\t}\r\n\r\n\t@Override\r\n\t\tpublic void onCreate() {\r\n\t\tsuper.onCreate();\r\n\t\t}\r\n\r\n\t@Override\r\n\tpublic int onStartCommand(Intent intent, int flags, int startId) {\r\n\t\tfinal IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n\t\tfilter.addAction(Intent.ACTION_SCREEN_OFF);\r\n\t\tfilter.addAction(Intent.ACTION_DREAMING_STARTED);\r\n\t\tfilter.addAction(Intent.ACTION_DREAMING_STOPPED);\r\n\t\tfinal BroadcastReceiver mReceiver = new LedPearlynReceiver();\r\n\t\tregisterReceiver(mReceiver, filter);\r\n\t\treturn super.onStartCommand(intent, flags, startId);\r\n\t\t}\r\n\tpublic class LocalBinder extends Binder {\r\n\t\tLedPearlynService getService() {\r\n\t\treturn LedPearlynService.this;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAndroidManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest android:sharedUserId=&quot;android.uid.system&quot; android:versionCode=&quot;1&quot; android:versionName=&quot;1.0&quot; package=&quot;com.gabrielgagz.ledpearlyn&quot; platformBuildVersionCode=&quot;25&quot; platformBuildVersionName=&quot;7.1.2&quot;\r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\r\n    &lt;application&gt;\r\n        &lt;receiver android:label=&quot;LedPearlynReceiver&quot; android:name=&quot;.LedPearlynReceiver&quot; android:exported=&quot;false&quot;&gt; \r\n\t\t&lt;intent-filter&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.SCREEN_ON&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.SCREEN_OFF&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.DREAMING_STARTED&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.DREAMING_STOPPED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n        &lt;service android:name=&quot;.LedPearlynService&quot; android:exported=&quot;false&quot;&gt;&lt;/service&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n","title":"Own Service: Unable to instantiate receiver","body":"<p>First of all I have to say that I'm totally newbie on java.\nI wrote this using some tutorials.</p>\n<p>As you see, the package name is correct in manifest and there aren't misspelling errors...</p>\n<p>I'm trying to write a service for my device, which controls the led of it. But I'm keep getting this error:</p>\n<blockquote>\n<p>AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot; on path: DexPathList[[zip file &quot;/system/app/LedPearlyn/LedPearlyn.apk&quot;],nativeLibraryDirectories=[/system/app/LedPearlyn/lib/arm, /system/app/LedPearlyn/LedPearlyn.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib, /system/lib, /vendor/lib]]</p>\n</blockquote>\n<p>LedPearlynReceiver:</p>\n<pre><code>package com.gabrielgagz.ledpearlyn;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport java.io.*;\n\npublic class LedPearlynReceiver extends BroadcastReceiver {\n\npublic static boolean wasScreenOn = true;\n\n@Override\npublic void onReceive(final Context context, final Intent intent) {\n    if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF) || intent.getAction().equals(Intent.ACTION_DREAMING_STARTED))  {\n        try {\n        String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 0 &gt; /sys/class/leds/pearlyn/brightness&quot;};         \n        Runtime.getRuntime().exec(cmd);\n        } catch(IOException ie) {\n        ie.printStackTrace();\n        }\n        wasScreenOn = false;\n        Log.e(&quot;LedPearlyn&quot;,&quot;OFF&quot;);\n    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON) ||  intent.getAction().equals(Intent.ACTION_DREAMING_STOPPED)) {\n        try {\n        String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 255 &gt; /sys/class/leds/pearlyn/brightness&quot;};       \n        Runtime.getRuntime().exec(cmd);\n        } catch(IOException ie) {\n        ie.printStackTrace();\n        } \n        wasScreenOn = true;\n        Log.e(&quot;LedPearlyn&quot;,&quot;ON&quot;);\n    }        \n}\n}\n</code></pre>\n<p>LedPearlynService:</p>\n<pre><code>package com.gabrielgagz.ledpearlyn;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Binder;\nimport android.os.IBinder;\nimport android.content.BroadcastReceiver;\n\npublic class LedPearlynService extends Service {\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n    }\n\n@Override\n    public void onCreate() {\n    super.onCreate();\n    }\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    final IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\n    filter.addAction(Intent.ACTION_SCREEN_OFF);\n    filter.addAction(Intent.ACTION_DREAMING_STARTED);\n    filter.addAction(Intent.ACTION_DREAMING_STOPPED);\n    final BroadcastReceiver mReceiver = new LedPearlynReceiver();\n    registerReceiver(mReceiver, filter);\n    return super.onStartCommand(intent, flags, startId);\n    }\npublic class LocalBinder extends Binder {\n    LedPearlynService getService() {\n    return LedPearlynService.this;\n    }\n}\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest android:sharedUserId=&quot;android.uid.system&quot; android:versionCode=&quot;1&quot; android:versionName=&quot;1.0&quot; package=&quot;com.gabrielgagz.ledpearlyn&quot; platformBuildVersionCode=&quot;25&quot; platformBuildVersionName=&quot;7.1.2&quot;\n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\n&lt;application&gt;\n    &lt;receiver android:label=&quot;LedPearlynReceiver&quot; android:name=&quot;.LedPearlynReceiver&quot; android:exported=&quot;false&quot;&gt; \n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.SCREEN_ON&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.SCREEN_OFF&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.DREAMING_STARTED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.DREAMING_STOPPED&quot; /&gt;\n    &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n    &lt;service android:name=&quot;.LedPearlynService&quot; android:exported=&quot;false&quot;&gt;&lt;/service&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","json","parsing","opensearch"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686596826,"post_id":76459190,"comment_id":134817827,"body_markdown":"What happens if you execute ```System.out.println(EntityUtils.toString(response.getEntity()));``` twice? Is it possible that the ```getEntity()``` method consumes the underlying data and it is empty on the second run?","body":"What happens if you execute <code>System.out.println(EntityUtils.toString(response.getEntity()&zwnj;&#8203;));</code> twice? Is it possible that the <code>getEntity()</code> method consumes the underlying data and it is empty on the second run?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1686600688,"post_id":76459190,"comment_id":134818460,"body_markdown":"yes, the entity is consumed by the first `EntityUtils.toString()` call and therefore the parse fails.  by saving the response string to a local variable, you can safely reprocess the results multiple times.","body":"yes, the entity is consumed by the first <code>EntityUtils.toString()</code> call and therefore the parse fails.  by saving the response string to a local variable, you can safely reprocess the results multiple times."}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686593861,"creation_date":1686592735,"question_id":76459190,"body_markdown":"I have the following code in Java. I&#39;m trying to query Opensearch and parse the response.\r\n```\r\nResponse response = client.getLowLevelClient().performRequest(request);\r\nSystem.out.println(EntityUtils.toString(response.getEntity()));\r\nJSONObject responseJson = new JSONObject(EntityUtils.toString(response.getEntity()));\r\n```\r\n\r\nThe final line throws the following exception\r\n```\r\nA JSONObject text must begin with &#39;{&#39; at 0 [character 1 line 1]\r\n```\r\n\r\nHere is the output of the println:\r\n```\r\n{&quot;took&quot;:6,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:5,&quot;successful&quot;:5,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}\r\n```\r\n\r\nThis looks like a valid JSON to me. Why is it throwing an error? I also tried to trim the string, still the same error. What am I missing?\r\n\r\nEdit: Alright, I was able to solve it by doing the following:\r\n\r\n```\r\nResponse response = client.getLowLevelClient().performRequest(request);\r\nString responseString = EntityUtils.toString(response.getEntity());\r\nSystem.out.println(responseString);\r\nJSONObject responseJson = new JSONObject(responseString));\r\n```\r\n\r\nI&#39;m not sure why this fixed it. I wonder someone can give an idea.","title":"A JSONObject text must begin with &#39;{&#39; at 0 [character 1 line 1]","body":"<p>I have the following code in Java. I'm trying to query Opensearch and parse the response.</p>\n<pre><code>Response response = client.getLowLevelClient().performRequest(request);\nSystem.out.println(EntityUtils.toString(response.getEntity()));\nJSONObject responseJson = new JSONObject(EntityUtils.toString(response.getEntity()));\n</code></pre>\n<p>The final line throws the following exception</p>\n<pre><code>A JSONObject text must begin with '{' at 0 [character 1 line 1]\n</code></pre>\n<p>Here is the output of the println:</p>\n<pre><code>{&quot;took&quot;:6,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:5,&quot;successful&quot;:5,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}\n</code></pre>\n<p>This looks like a valid JSON to me. Why is it throwing an error? I also tried to trim the string, still the same error. What am I missing?</p>\n<p>Edit: Alright, I was able to solve it by doing the following:</p>\n<pre><code>Response response = client.getLowLevelClient().performRequest(request);\nString responseString = EntityUtils.toString(response.getEntity());\nSystem.out.println(responseString);\nJSONObject responseJson = new JSONObject(responseString));\n</code></pre>\n<p>I'm not sure why this fixed it. I wonder someone can give an idea.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1686440459,"post_id":76446922,"comment_id":134799135,"body_markdown":"Please use the code indentation tools to make it easier to understand.","body":"Please use the code indentation tools to make it easier to understand."}],"answers":[{"comments":[{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1686574446,"post_id":76448565,"comment_id":134812891,"body_markdown":"Hmm. I thought long is a field type? So the phone number is keyword and the supplemental field I want it to be a number so I can later find the ranges of. If I make it into text then how would I do that search later.","body":"Hmm. I thought long is a field type? So the phone number is keyword and the supplemental field I want it to be a number so I can later find the ranges of. If I make it into text then how would I do that search later."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1686588093,"post_id":76448565,"comment_id":134816173,"body_markdown":"I think is possible to use: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html#ranges-on-text-and-keyword","body":"I think is possible to use: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html#ranges-on-text-and-keyword\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1686588287,"post_id":76448565,"comment_id":134816216,"body_markdown":"I think the other problem is removing non numerics as well. I am not seeing the fields I added on my results.","body":"I think the other problem is removing non numerics as well. I am not seeing the fields I added on my results."}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686593741,"creation_date":1686440817,"answer_id":76448565,"question_id":76446922,"body_markdown":"Doc:\r\n\r\n&gt; Each field has a field data type, or field type. This type indicates\r\n&gt; the kind of data the field contains, such as strings or boolean\r\n&gt; values, and its intended use. For example, you can index strings to\r\n&gt; both text and keyword fields. However, text field values are analyzed\r\n&gt; for full-text search while keyword strings are left as-is for\r\n&gt; filtering and sorting.\r\n\r\nChange type long to Text. Only Text type works with analyzer.\r\n\r\nQuery\r\n\r\n    GET idx_test/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;range&quot;: {\r\n          &quot;phoneNumber.numvalue&quot;: {\r\n            &quot;gte&quot;: 55343457\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nMapping \r\n\r\n    \r\n    PUT idx_test\r\n    {\r\n      &quot;settings&quot;: {\r\n        &quot;analysis&quot;: {\r\n          &quot;char_filter&quot;: {\r\n            &quot;phone_number&quot;: {\r\n              &quot;type&quot;: &quot;pattern_replace&quot;,\r\n              &quot;pattern&quot;: &quot;[^0-9]&quot;,\r\n              &quot;replacement&quot;: &quot;&quot;\r\n            }\r\n          },\r\n          &quot;analyzer&quot;: {\r\n            &quot;phone_analyzer&quot;: {\r\n              &quot;tokenizer&quot;: &quot;standard&quot;,\r\n              &quot;char_filter&quot;: [\r\n                &quot;phone_number&quot;\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;phoneNumber&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;,\r\n            &quot;fields&quot;: {\r\n              &quot;numvalue&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;,\r\n                &quot;analyzer&quot;: &quot;phone_analyzer&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    POST idx_test/_doc\r\n    {\r\n      &quot;phoneNumber&quot;:&quot;+553434-56&quot;\r\n    }","title":"Issue with setting up custom analyzer wiith failed to parse mapping error","body":"<p>Doc:</p>\n<blockquote>\n<p>Each field has a field data type, or field type. This type indicates\nthe kind of data the field contains, such as strings or boolean\nvalues, and its intended use. For example, you can index strings to\nboth text and keyword fields. However, text field values are analyzed\nfor full-text search while keyword strings are left as-is for\nfiltering and sorting.</p>\n</blockquote>\n<p>Change type long to Text. Only Text type works with analyzer.</p>\n<p>Query</p>\n<pre><code>GET idx_test/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phoneNumber.numvalue&quot;: {\n        &quot;gte&quot;: 55343457\n      }\n    }\n  }\n}\n</code></pre>\n<p>Mapping</p>\n<pre><code>PUT idx_test\n{\n  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;char_filter&quot;: {\n        &quot;phone_number&quot;: {\n          &quot;type&quot;: &quot;pattern_replace&quot;,\n          &quot;pattern&quot;: &quot;[^0-9]&quot;,\n          &quot;replacement&quot;: &quot;&quot;\n        }\n      },\n      &quot;analyzer&quot;: {\n        &quot;phone_analyzer&quot;: {\n          &quot;tokenizer&quot;: &quot;standard&quot;,\n          &quot;char_filter&quot;: [\n            &quot;phone_number&quot;\n          ]\n        }\n      }\n    }\n  },\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;phoneNumber&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;,\n        &quot;fields&quot;: {\n          &quot;numvalue&quot;: {\n            &quot;type&quot;: &quot;text&quot;,\n            &quot;analyzer&quot;: &quot;phone_analyzer&quot;\n          }\n        }\n      }\n    }\n  }\n}\n\nPOST idx_test/_doc\n{\n  &quot;phoneNumber&quot;:&quot;+553434-56&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686593741,"creation_date":1686411519,"question_id":76446922,"body_markdown":"Issue with setting up custom analyzer with the following:\r\n&quot;phoneNumber&quot; : {\r\n\r\n&quot;type&quot;: &quot;keyword&quot;,\r\n\r\n&quot;fields&quot; : {\r\n\r\n&quot;numvalue&quot; : {\r\n\r\n&quot;type&quot;:&quot;long&quot;,\r\n\r\n&quot;analyzer&quot;: &quot;phone_analyzer&quot;\r\n\r\n}}}\r\n\r\n&quot;phone_analyzer&quot; : {\r\n\r\n&quot;tokenizer&quot;:&quot;standard&quot;,\r\n\r\n&quot;char_filter&quot;: [&quot;phone_number&#39;]}\r\n\r\n&quot;char_filter&quot; :{\r\n\r\n&quot;phone_number&quot;: {\r\n\r\n&quot;type&quot;:&quot;pattern_replace&quot;,\r\n\r\n&quot;pattern&quot;: &quot;[^0-9]&quot;,\r\n\r\n&quot;replacement&quot;:&quot;&quot;\r\n\r\n}}\r\n\r\nSo basically my intention is to have the &quot;raw value&quot; to still be used as keyword while I created a new field called numvalue where it is long and using a custom analyzer with a chat_filter that replaces all non-digit values with &quot;&quot; (no space). So if things work out, my front end will retrieve the raw value - with - or + or whatever and my backend search will use the &quot;numvalue&quot; in the range search.\r\n\r\n\r\n\r\nWhen i ran it i did get &quot;mapper_parsing_exception&quot; &quot;failed to parse mapping [_doc] unknown parameter [analyzer] on mapper [numvalue] of type [long] status 400.\r\n\r\nThere are other analyzers around too. Do you have any idea why? I am using 7.* for Elastic search b","title":"Issue with setting up custom analyzer wiith failed to parse mapping error","body":"<p>Issue with setting up custom analyzer with the following:\n&quot;phoneNumber&quot; : {</p>\n<p>&quot;type&quot;: &quot;keyword&quot;,</p>\n<p>&quot;fields&quot; : {</p>\n<p>&quot;numvalue&quot; : {</p>\n<p>&quot;type&quot;:&quot;long&quot;,</p>\n<p>&quot;analyzer&quot;: &quot;phone_analyzer&quot;</p>\n<p>}}}</p>\n<p>&quot;phone_analyzer&quot; : {</p>\n<p>&quot;tokenizer&quot;:&quot;standard&quot;,</p>\n<p>&quot;char_filter&quot;: [&quot;phone_number']}</p>\n<p>&quot;char_filter&quot; :{</p>\n<p>&quot;phone_number&quot;: {</p>\n<p>&quot;type&quot;:&quot;pattern_replace&quot;,</p>\n<p>&quot;pattern&quot;: &quot;[^0-9]&quot;,</p>\n<p>&quot;replacement&quot;:&quot;&quot;</p>\n<p>}}</p>\n<p>So basically my intention is to have the &quot;raw value&quot; to still be used as keyword while I created a new field called numvalue where it is long and using a custom analyzer with a chat_filter that replaces all non-digit values with &quot;&quot; (no space). So if things work out, my front end will retrieve the raw value - with - or + or whatever and my backend search will use the &quot;numvalue&quot; in the range search.</p>\n<p>When i ran it i did get &quot;mapper_parsing_exception&quot; &quot;failed to parse mapping [_doc] unknown parameter [analyzer] on mapper [numvalue] of type [long] status 400.</p>\n<p>There are other analyzers around too. Do you have any idea why? I am using 7.* for Elastic search b</p>\n"},{"tags":["java","mysql","docker"],"answers":[{"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675509119,"creation_date":1675509119,"answer_id":75344680,"question_id":75344232,"body_markdown":"Is the application referring to the right database ?\r\n\r\n&gt; **No**. Check SPRING_DATASOURCE_URL in docker-compose file, localhost in the url points to your local db. Change it to db (service name you have given in the docker-compose file for mysql).","title":"Run Java application (Spring Boot + MySQL) by Docker compose","body":"<p>Is the application referring to the right database ?</p>\n<blockquote>\n<p><strong>No</strong>. Check SPRING_DATASOURCE_URL in docker-compose file, localhost in the url points to your local db. Change it to db (service name you have given in the docker-compose file for mysql).</p>\n</blockquote>\n"}],"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75344680,"answer_count":1,"score":1,"last_activity_date":1686592455,"creation_date":1675503934,"question_id":75344232,"body_markdown":"I&#39;m trying to run an application on my local machine using Docker. I also want to run the application on a remote server. Without Docker in Intelij Idea everything works fine.\r\n\r\nOn the local machine I installed Docker. Created a Dockerfile and docker-compose.yml in the root folder of the project. Some errors I made in these files. I think, the communication as I understand it between database and my application is not working.\r\n\r\nMaybe something wrong with MYSQL_ROOT_PASSWORD, because i really don&#39;t know what the password from MYSQL_ROOT_PASSWORD. I just know username and password. I run mysql by MySQLWorkbanch, i create here commection named &quot;my_connection&quot;, there is user named &quot;bestuser&quot; and login &quot;bestuser&quot;.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\nThis is my structure of project\r\n\r\n[enter image description here][2]\r\n\r\n\r\nI tried combine ports, 8080:8080, 8081:8080, 3306:3306, 3307:3306.. But nothing.\r\n\r\nMySQL image running well, but app image get alot of errors.\r\n\r\n[enter image description here][3]\r\n\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\r\nspring.datasource.username=bestuser\r\nspring.datasource.password=bestuser\r\n#spring.datasource.password=T#3;jbY7L@m6\r\nspring.sql.init.mode=always\r\n#spring.datasource.initialization-mode=always\r\n#server.port=8080\r\n\r\n\r\n\r\n\r\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n#spring.jms.listener.acknowledge-mode=auto\r\n\r\n\r\n\r\n\r\n\r\ninfo.name=CRM system. Accounting for sales, merchandise, payroll\r\ninfo.description=CRM system. Accounting for sales, merchandise, payroll\r\ninfo.author=Vitaliy Shvetsov\r\n\r\n\r\n#spring.security.user.name=vitaliy\r\n#spring.security.user.password=vitaliy\r\n\r\n\r\n\r\nspring.view.prefix:/WEB-INF/\r\nspring.view.suffix:.jsp\r\nspring.view.view-names:views/*\r\n#spring.thymeleaf.prefix=/webapp/WEB-INF/\r\n#spring.thymeleaf.view-names:views/*\r\n\r\n\r\n\r\n\r\n\r\n#management.endpoints.web.exposure.include=*\r\n\r\n\r\n#spring.mvc.view.prefix: /WEB-INF/views/\r\n#spring.mvc.view.suffix: .jsp\r\n#spring.thymeleaf.suffix=.html\r\n#spring.thymeleaf.prefix=classpath:/templates/\r\n\r\n# ==============================================================\r\n# = Keep the connection alive if idle for a long time (needed in production)\r\n# ==============================================================\r\nspring.datasource.testWhileIdle = true\r\nspring.datasource.validationQuery = SELECT 1\r\n\r\n# ==============================================================\r\n# = Show or not log for each sql query\r\n# ==============================================================\r\n#spring.jpa.show-sql = true\r\n\r\n# ==============================================================\r\n# = Hibernate ddl auto (create, create-drop, update)\r\n# ==============================================================\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\n# ==============================================================\r\n# = The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n# ==============================================================\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.main.allow-circular-references=true\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n**docker-compose.yml**\r\n```\r\nversion: &#39;3.7&#39;\r\n\r\n# Define services\r\nservices:\r\n  # App backend service\r\n  app-server:\r\n    # Configuration for building the docker image for the backend service\r\n    build:\r\n      context: . # Use an image built from the specified dockerfile in the `springboot-app-server` directory.\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8081:8080&quot; # Forward the exposed port 4000 on the container to port 4000 on the host machine\r\n    restart: always\r\n    depends_on:\r\n      - db # This service depends on mysql. Start that first.\r\n    environment: # Pass environment variables to the service\r\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/crm?useSSL=false\r\n      SPRING_DATASOURCE_USERNAME: bestuser\r\n      SPRING_DATASOURCE_PASSWORD: bestuser\r\n\r\n\r\n  # Database Service (Mysql)\r\n  db:\r\n    image: mysql:8.0\r\n    ports:\r\n      - &quot;3307:3306&quot;\r\n    restart: always\r\n    environment:\r\n      MYSQL_DATABASE: crm\r\n      MYSQL_USER: bestuser\r\n      MYSQL_PASSWORD: bestuser\r\n      MYSQL_ROOT_PASSWORD: bestuser\r\n```\r\n\r\n\r\n\r\n**Dockerfile**\r\n```\r\n# Use a Java base image\r\nFROM openjdk:11\r\n\r\n# Set the working directory\r\nWORKDIR /\r\n\r\n# Copy the application jar to the container\r\nCOPY target/crm-0.0.1-SNAPSHOT.war .\r\nEXPOSE 8080\r\n# Set the environment variables\r\nENV JAVA_OPTS=&quot;&quot;\r\n\r\n# Define the command to run the application\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;crm-0.0.1-SNAPSHOT.war&quot;]\r\n```\r\n\r\n\r\nPlease help me figure out what I did wrong, thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vilUO.png\r\n  [2]: https://i.stack.imgur.com/n60eA.png\r\n  [3]: https://i.stack.imgur.com/iHTvd.png","title":"Run Java application (Spring Boot + MySQL) by Docker compose","body":"<p>I'm trying to run an application on my local machine using Docker. I also want to run the application on a remote server. Without Docker in Intelij Idea everything works fine.</p>\n<p>On the local machine I installed Docker. Created a Dockerfile and docker-compose.yml in the root folder of the project. Some errors I made in these files. I think, the communication as I understand it between database and my application is not working.</p>\n<p>Maybe something wrong with MYSQL_ROOT_PASSWORD, because i really don't know what the password from MYSQL_ROOT_PASSWORD. I just know username and password. I run mysql by MySQLWorkbanch, i create here commection named &quot;my_connection&quot;, there is user named &quot;bestuser&quot; and login &quot;bestuser&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/vilUO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my structure of project</p>\n<p><a href=\"https://i.stack.imgur.com/n60eA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried combine ports, 8080:8080, 8081:8080, 3306:3306, 3307:3306.. But nothing.</p>\n<p>MySQL image running well, but app image get alot of errors.</p>\n<p><a href=\"https://i.stack.imgur.com/iHTvd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\nspring.datasource.username=bestuser\nspring.datasource.password=bestuser\n#spring.datasource.password=T#3;jbY7L@m6\nspring.sql.init.mode=always\n#spring.datasource.initialization-mode=always\n#server.port=8080\n\n\n\n\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jms.listener.acknowledge-mode=auto\n\n\n\n\n\ninfo.name=CRM system. Accounting for sales, merchandise, payroll\ninfo.description=CRM system. Accounting for sales, merchandise, payroll\ninfo.author=Vitaliy Shvetsov\n\n\n#spring.security.user.name=vitaliy\n#spring.security.user.password=vitaliy\n\n\n\nspring.view.prefix:/WEB-INF/\nspring.view.suffix:.jsp\nspring.view.view-names:views/*\n#spring.thymeleaf.prefix=/webapp/WEB-INF/\n#spring.thymeleaf.view-names:views/*\n\n\n\n\n\n#management.endpoints.web.exposure.include=*\n\n\n#spring.mvc.view.prefix: /WEB-INF/views/\n#spring.mvc.view.suffix: .jsp\n#spring.thymeleaf.suffix=.html\n#spring.thymeleaf.prefix=classpath:/templates/\n\n# ==============================================================\n# = Keep the connection alive if idle for a long time (needed in production)\n# ==============================================================\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# ==============================================================\n# = Show or not log for each sql query\n# ==============================================================\n#spring.jpa.show-sql = true\n\n# ==============================================================\n# = Hibernate ddl auto (create, create-drop, update)\n# ==============================================================\nspring.jpa.hibernate.ddl-auto = update\n\n# ==============================================================\n# = The SQL dialect makes Hibernate generate better SQL for the chosen database\n# ==============================================================\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\nspring.main.allow-circular-references=true\n\n\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: '3.7'\n\n# Define services\nservices:\n  # App backend service\n  app-server:\n    # Configuration for building the docker image for the backend service\n    build:\n      context: . # Use an image built from the specified dockerfile in the `springboot-app-server` directory.\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8081:8080&quot; # Forward the exposed port 4000 on the container to port 4000 on the host machine\n    restart: always\n    depends_on:\n      - db # This service depends on mysql. Start that first.\n    environment: # Pass environment variables to the service\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/crm?useSSL=false\n      SPRING_DATASOURCE_USERNAME: bestuser\n      SPRING_DATASOURCE_PASSWORD: bestuser\n\n\n  # Database Service (Mysql)\n  db:\n    image: mysql:8.0\n    ports:\n      - &quot;3307:3306&quot;\n    restart: always\n    environment:\n      MYSQL_DATABASE: crm\n      MYSQL_USER: bestuser\n      MYSQL_PASSWORD: bestuser\n      MYSQL_ROOT_PASSWORD: bestuser\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code># Use a Java base image\nFROM openjdk:11\n\n# Set the working directory\nWORKDIR /\n\n# Copy the application jar to the container\nCOPY target/crm-0.0.1-SNAPSHOT.war .\nEXPOSE 8080\n# Set the environment variables\nENV JAVA_OPTS=&quot;&quot;\n\n# Define the command to run the application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;crm-0.0.1-SNAPSHOT.war&quot;]\n</code></pre>\n<p>Please help me figure out what I did wrong, thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","queue","amazon-sqs"],"owner":{"account_id":22227764,"reputation":11,"user_id":16464464,"display_name":"Milton Neto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686592154,"creation_date":1686592154,"question_id":76459135,"body_markdown":"I have an spring app, with two types of beans:\r\n\r\nQueueConsumers&lt;br&gt;\r\nRequestMappings\r\n\r\nAt runtime I would like to spawn two Dockers containers, **with same .JAR**:\r\n\r\nContainer One: Just to serve HTTP calls&lt;br&gt;\r\nContainer Two: Just to consume the queues.&lt;br&gt;\r\n\r\nI don&#39;t want to waste CPU instantiating tomcat or controller beans, in case it&#39;s the instance of queue&#39;s consumer\r\n\r\nWhat would be the best way to structure this?\r\nExample to run app with modes:\r\n\r\n    java -jar -Dmode=queue app.jar\r\n    java -jar -Dmode=http app.jar\r\n\r\n\r\nMy http controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/status&quot;)\r\npublic class StatusController {\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String getStatus() {\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy sqs consumer:\r\n```\r\n@Service\r\npublic class MyQueue {\r\n    @SqsListener(&quot;myQueue&quot;)\r\n    public void update(@Payload String message) throws ServiceException {\r\n        // Some action\r\n    }\r\n}\r\n```\r\n\r\n\r\nI arrived at this bean configuration, but I don&#39;t know how to &quot;filter&quot; the correct beans or remove tomcat:\r\n\r\n``` \r\n\t@Configuration\r\n\t@ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;queue&quot;)\r\n\tpublic static class QueueModeConfiguration {\r\n\t\tpublic QueueModeConfiguration() {\r\n\t\t\tSystem.out.println(&quot;QUEUE MODE!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Configuration\r\n\t@ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;http&quot;)\r\n\tpublic static class HttpModeConfiguration {\r\n\t\tpublic HttpModeConfiguration() {\r\n\t\t\tSystem.out.println(&quot;HTTP MODE!&quot;);\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nMy dependencies:\r\n```\r\ndependencies {\r\n\truntimeOnly \t&quot;com.mysql:mysql-connector-j&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n\timplementation  &quot;org.springframework.cloud:spring-cloud-starter-openfeign&quot;\r\n\timplementation  &quot;io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.1&quot;\r\n}\r\n```\r\n","title":"Hybrid Spring Application: Queue consumer and Http, how to run java -jar with different modes?","body":"<p>I have an spring app, with two types of beans:</p>\n<p>QueueConsumers<br>\nRequestMappings</p>\n<p>At runtime I would like to spawn two Dockers containers, <strong>with same .JAR</strong>:</p>\n<p>Container One: Just to serve HTTP calls<br>\nContainer Two: Just to consume the queues.<br></p>\n<p>I don't want to waste CPU instantiating tomcat or controller beans, in case it's the instance of queue's consumer</p>\n<p>What would be the best way to structure this?\nExample to run app with modes:</p>\n<pre><code>java -jar -Dmode=queue app.jar\njava -jar -Dmode=http app.jar\n</code></pre>\n<p>My http controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/status&quot;)\npublic class StatusController {\n    @RequestMapping(&quot;/&quot;)\n    public String getStatus() {\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n<p>My sqs consumer:</p>\n<pre><code>@Service\npublic class MyQueue {\n    @SqsListener(&quot;myQueue&quot;)\n    public void update(@Payload String message) throws ServiceException {\n        // Some action\n    }\n}\n</code></pre>\n<p>I arrived at this bean configuration, but I don't know how to &quot;filter&quot; the correct beans or remove tomcat:</p>\n<pre><code>    @Configuration\n    @ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;queue&quot;)\n    public static class QueueModeConfiguration {\n        public QueueModeConfiguration() {\n            System.out.println(&quot;QUEUE MODE!&quot;);\n        }\n    }\n\n    @Configuration\n    @ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;http&quot;)\n    public static class HttpModeConfiguration {\n        public HttpModeConfiguration() {\n            System.out.println(&quot;HTTP MODE!&quot;);\n        }\n    }\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>dependencies {\n    runtimeOnly     &quot;com.mysql:mysql-connector-j&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n    implementation  &quot;org.springframework.cloud:spring-cloud-starter-openfeign&quot;\n    implementation  &quot;io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.1&quot;\n}\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1622834224,"post_id":67842836,"comment_id":119914697,"body_markdown":"&quot;*But this is something that I don&#39;t want to use in a production environment as it will not work with nested structures*&quot; can you clarify that (since this is actually correct way to solve your problem - making JSON valid instead of figuring out how to handle invalid one)?","body":"&quot;<i>But this is something that I don&#39;t want to use in a production environment as it will not work with nested structures</i>&quot; can you clarify that (since this is actually correct way to solve your problem - making JSON valid instead of figuring out how to handle invalid one)?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1622835318,"post_id":67842836,"comment_id":119915049,"body_markdown":"Why would you not want to use real *valid* JSON in a production environment? You should strive for using standards, so that statement makes little sense. Using valid JSON syntax *is* the &quot;genuine way&quot;.","body":"Why would you not want to use real <i>valid</i> JSON in a production environment? You should strive for using standards, so that statement makes little sense. Using valid JSON syntax <i>is</i> the &quot;genuine way&quot;."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622834756,"creation_date":1622834756,"answer_id":67842955,"question_id":67842836,"body_markdown":"&gt; I understood the main problem here that because of these special characters I am getting this error.\r\n\r\nNo, it&#39;s not because of &quot;special characters&quot; (whatever that means exactly).\r\n\r\n    {name=Nikhil Gupta,age=23,location=234Niwas@res=34}\r\n\r\nThe string you&#39;re trying to parse is simply not in JSON format, but in some other format that superficially resembles JSON. Your fixes by enclosing values in single quotes still don&#39;t make it JSON.\r\n\r\nIf it were valid JSON, it would look like this:\r\n\r\n    {&quot;name&quot;:&quot;Nikhil Gupta&quot;,&quot;age&quot;:23,&quot;location&quot;:&quot;234Niwas@res=34&quot;}\r\n\r\nNotable differences with your original:\r\n\r\n- Keys must be enclosed in double quotes\r\n- String values must be enclosed in double quotes (numeric values do not)\r\n- Key and value must be separated by a colon `:` instead of an equals sign `=`\r\n\r\nWays to solve this:\r\n\r\n- Use actual JSON format; see [json.org](https://www.json.org/) for the specification\r\n- If you can&#39;t make it real JSON and you must absolutely use the format you are using, then you need to write your own parser for this custom non-JSON format","title":"Conversion of String into Map in Java With Some Special Characters","body":"<blockquote>\n<p>I understood the main problem here that because of these special characters I am getting this error.</p>\n</blockquote>\n<p>No, it's not because of &quot;special characters&quot; (whatever that means exactly).</p>\n<pre><code>{name=Nikhil Gupta,age=23,location=234Niwas@res=34}\n</code></pre>\n<p>The string you're trying to parse is simply not in JSON format, but in some other format that superficially resembles JSON. Your fixes by enclosing values in single quotes still don't make it JSON.</p>\n<p>If it were valid JSON, it would look like this:</p>\n<pre><code>{&quot;name&quot;:&quot;Nikhil Gupta&quot;,&quot;age&quot;:23,&quot;location&quot;:&quot;234Niwas@res=34&quot;}\n</code></pre>\n<p>Notable differences with your original:</p>\n<ul>\n<li>Keys must be enclosed in double quotes</li>\n<li>String values must be enclosed in double quotes (numeric values do not)</li>\n<li>Key and value must be separated by a colon <code>:</code> instead of an equals sign <code>=</code></li>\n</ul>\n<p>Ways to solve this:</p>\n<ul>\n<li>Use actual JSON format; see <a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">json.org</a> for the specification</li>\n<li>If you can't make it real JSON and you must absolutely use the format you are using, then you need to write your own parser for this custom non-JSON format</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5837114,"reputation":136,"user_id":4599784,"display_name":"Shitul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686591719,"creation_date":1686591719,"answer_id":76459092,"question_id":67842836,"body_markdown":"Convert Map to String\r\n             \r\n   \r\n\r\n     public String triggerStringMapToString(Map&lt;String, String&gt; map)\r\n                        {\r\n                            String str = &quot;&quot;;\r\n                            if (map.isEmpty()) return str;\r\n                            \r\n                            for (String key : map.keySet()) {\r\n                                System.out.println(key);\r\n                                str = str.isEmpty() ?\r\n                                     key+&quot;~&quot;+map.get(key):\r\n                                        str+&quot;&amp;&quot;+key+&quot;~&quot;+map.get(key);\r\n                            }\r\n                            return str;\r\n                        }\r\n\r\nConvert String To MAP   \r\n \r\n\r\n    public Map&lt;String, String&gt; triggerStrToTriggerStringMap(String triggerStr)\r\n                    {\r\n                        \r\n                        return Stream.of(triggerStr.split(&quot;&amp;&quot;))\r\n                                .map(str -&gt; str.split(&quot;~&quot;))\r\n                                .collect(Collectors.toMap(trigger -&gt; trigger[0], trigger -&gt; trigger[1]));\r\n                    }","title":"Conversion of String into Map in Java With Some Special Characters","body":"<p>Convert Map to String</p>\n<pre><code> public String triggerStringMapToString(Map&lt;String, String&gt; map)\n                    {\n                        String str = &quot;&quot;;\n                        if (map.isEmpty()) return str;\n                        \n                        for (String key : map.keySet()) {\n                            System.out.println(key);\n                            str = str.isEmpty() ?\n                                 key+&quot;~&quot;+map.get(key):\n                                    str+&quot;&amp;&quot;+key+&quot;~&quot;+map.get(key);\n                        }\n                        return str;\n                    }\n</code></pre>\n<p>Convert String To MAP</p>\n<pre><code>public Map&lt;String, String&gt; triggerStrToTriggerStringMap(String triggerStr)\n                {\n                    \n                    return Stream.of(triggerStr.split(&quot;&amp;&quot;))\n                            .map(str -&gt; str.split(&quot;~&quot;))\n                            .collect(Collectors.toMap(trigger -&gt; trigger[0], trigger -&gt; trigger[1]));\n                }\n</code></pre>\n"}],"owner":{"account_id":11395635,"reputation":384,"user_id":8354130,"accept_rate":60,"display_name":"Nikhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686591719,"creation_date":1622834022,"question_id":67842836,"body_markdown":"I am trying to convert a String into Java Map but getting the following exception\r\n\r\n**com.google.gson.stream.MalformedJsonException**\r\n\r\nThis is the string that I am trying to Map.\r\n\r\n    String myString = &quot;{name=Nikhil Gupta,age=23,location=234Niwas@res=34}&quot;\r\n    Map innerMap = new Gson().fromJson(myString,Map.class);\r\n\r\nI understood the main problem here that because of these special characters I am getting this error. \r\nIf I remove those spaces and special characters then it will work fine.\r\n\r\nIs there any way to do this without removing those spaces and special characters?\r\n\r\nThe approach used so far.\r\n\r\nWrapped those strings with special characters inside a single quote.\r\n\r\n    String myString = &quot;{name=&#39;Nikhil Gupta&#39;,age=&#39;23&#39;,location=&#39;234Niwas@res=34&#39;}&quot;\r\n    \r\nBut this is something that I don&#39;t want to use in a production environment as it will not work with nested structures.\r\n\r\n\r\nIs there some genuine way to approach this in java?\r\n\r\n","title":"Conversion of String into Map in Java With Some Special Characters","body":"<p>I am trying to convert a String into Java Map but getting the following exception</p>\n<p><strong>com.google.gson.stream.MalformedJsonException</strong></p>\n<p>This is the string that I am trying to Map.</p>\n<pre><code>String myString = &quot;{name=Nikhil Gupta,age=23,location=234Niwas@res=34}&quot;\nMap innerMap = new Gson().fromJson(myString,Map.class);\n</code></pre>\n<p>I understood the main problem here that because of these special characters I am getting this error.\nIf I remove those spaces and special characters then it will work fine.</p>\n<p>Is there any way to do this without removing those spaces and special characters?</p>\n<p>The approach used so far.</p>\n<p>Wrapped those strings with special characters inside a single quote.</p>\n<pre><code>String myString = &quot;{name='Nikhil Gupta',age='23',location='234Niwas@res=34'}&quot;\n</code></pre>\n<p>But this is something that I don't want to use in a production environment as it will not work with nested structures.</p>\n<p>Is there some genuine way to approach this in java?</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1491461666,"post_id":43244268,"comment_id":73564877,"body_markdown":"Which kind of informations you need in your report? Are you sure you can&#39;t compose it chunk-by-chunk?","body":"Which kind of informations you need in your report? Are you sure you can&#39;t compose it chunk-by-chunk?"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1491852814,"post_id":43244268,"comment_id":73727220,"body_markdown":"You can implement ItemStreamWriter and build write final report in close() method. That method will be called when all items are written. Please let me know if you need more detail like code ...","body":"You can implement ItemStreamWriter and build write final report in close() method. That method will be called when all items are written. Please let me know if you need more detail like code ..."}],"answers":[{"tags":[],"owner":{"account_id":2535436,"reputation":41,"user_id":2202690,"display_name":"vulh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543595537,"creation_date":1543595537,"answer_id":53561449,"question_id":43244268,"body_markdown":"If you have @JobScope on your writer. You can use @PreDestroy (Spring annotation) to achieve this.\r\nYou can have field to store all of the items needed to be write. On predestroy function, you do your writing.\r\n\r\n    private List&lt;YourItem&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void write(argument here) {\r\n    \titems.addAll(YourItem);\r\n    }    \r\n    \r\n    @PreDestroy\r\n    public void teardown() {\r\n    \t// do the write for all items\r\n    }\r\n\r\n","title":"spring batch itemWriter only write after get all items","body":"<p>If you have @JobScope on your writer. You can use @PreDestroy (Spring annotation) to achieve this.\nYou can have field to store all of the items needed to be write. On predestroy function, you do your writing.</p>\n\n<pre><code>private List&lt;YourItem&gt; items = new ArrayList&lt;&gt;();\n\n@Override\npublic void write(argument here) {\n    items.addAll(YourItem);\n}    \n\n@PreDestroy\npublic void teardown() {\n    // do the write for all items\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686591588,"creation_date":1686591588,"answer_id":76459078,"question_id":43244268,"body_markdown":"I usually create a global bean of the data i&#39;m collecting and then add to that data incrementally as the writer/processor goes. Then i&#39;ll load the global bean of summary data into a JobCompletedNotificationListener and write out my email/summary information there. ","title":"spring batch itemWriter only write after get all items","body":"<p>I usually create a global bean of the data i'm collecting and then add to that data incrementally as the writer/processor goes. Then i'll load the global bean of summary data into a JobCompletedNotificationListener and write out my email/summary information there.</p>\n"}],"owner":{"account_id":214551,"reputation":4879,"user_id":468587,"accept_rate":49,"display_name":"user468587"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686591588,"creation_date":1491442653,"question_id":43244268,"body_markdown":"I have a simple Spring Batch job with couple of steps, the last step is to write report, so i haver ItemReader, ItemProcessor and ItemWriter. ItemWriter write by chunk depends the chunk number defined in the step, but I need to wait until get all items then write final report. how can I do that? \r\n\r\n    public class ReportItemWriter implements ItemWriter&lt;ReportItem&gt; {\r\n        private List&lt;ReportItem&gt; allItems = Lists.newArrayList();\r\n        ... \r\n      \r\n    public void write(List&lt;? extends ReportItem&gt; reportItems) throws Exception {\r\n        allItems.addAll(reportItems);\r\n        writeReport(allItems);  &lt;-- here it only write chunk of items to the report\r\n    }","title":"spring batch itemWriter only write after get all items","body":"<p>I have a simple Spring Batch job with couple of steps, the last step is to write report, so i haver ItemReader, ItemProcessor and ItemWriter. ItemWriter write by chunk depends the chunk number defined in the step, but I need to wait until get all items then write final report. how can I do that? </p>\n\n<pre><code>public class ReportItemWriter implements ItemWriter&lt;ReportItem&gt; {\n    private List&lt;ReportItem&gt; allItems = Lists.newArrayList();\n    ... \n\npublic void write(List&lt;? extends ReportItem&gt; reportItems) throws Exception {\n    allItems.addAll(reportItems);\n    writeReport(allItems);  &lt;-- here it only write chunk of items to the report\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","lazy-loading"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686591500,"post_id":76458991,"comment_id":134816841,"body_markdown":"Add your mapping code. Also consider it is an `@OneToOne` IIRC you need bytecode enhancements for that if you want LAZY loading to be effective.","body":"Add your mapping code. Also consider it is an <code>@OneToOne</code> IIRC you need bytecode enhancements for that if you want LAZY loading to be effective."}],"owner":{"account_id":19364691,"reputation":1,"user_id":14159263,"display_name":"Sebuhi Huseynov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686591580,"creation_date":1686590829,"question_id":76458991,"body_markdown":"My entities:\r\n\r\n`\r\n\r\n     @Getter\r\n     @Setter\r\n     @Entity\r\n     @Table(name = &quot;employees&quot;)\r\n     public class Employee {\r\n\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n \r\n     private String firstName;\r\n     private String lastName;\r\n     private LocalDate birthdate;\r\n\r\n     @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n     @JoinColumn(name = &quot;department_id&quot;)\r\n     private Department department;\r\n\r\n     @OneToOne(cascade = CascadeType.REMOVE, mappedBy = &quot;employee&quot;, fetch = FetchType.LAZY)\r\n     private EmployeeContactInfo employeeContactInfo;\r\n\r\n     @CreationTimestamp\r\n     @Column(updatable = false)\r\n     private LocalDateTime createdAt;\r\n\r\n     @UpdateTimestamp\r\n     private LocalDateTime updatedAt;\r\n  \r\n}\r\n`\r\n\r\n    @Getter\r\n     @Setter\r\n     @Entity\r\n     @Table(name = &quot;employees_contact_details&quot;)\r\n     public class EmployeeContactInfo {\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     private String email;\r\n     private String phone;\r\n     private String address;\r\n\r\n     @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n     @JoinColumn(name = &quot;employee_id&quot;)\r\n     private Employee employee;\r\n \r\n     @CreationTimestamp\r\n     @Column(updatable = false)\r\n     private LocalDateTime createdAt;\r\n \r\n     @UpdateTimestamp\r\n     private LocalDateTime updatedAt;\r\n}\r\n\r\nRepository:\r\n   \r\n\r\n         @EntityGraph(attributePaths = {&quot;department&quot;})\r\n         @Query(&quot;SELECT e from Employee e&quot;)\r\n         List&lt;Employee&gt; findAllWithDepartment(Pageable pageable);\r\n\r\nService:\r\n\r\n    public List&lt;EmployeeCardDTO&gt; getAll(int page, int size) {\r\n            log.info(&quot;Action.getAll.start&quot;);\r\n            return employeeRepository.findAllWithDepartment(PageRequest.of(page, size, Sort.by(&quot;id&quot;)))\r\n                    .stream().map(mapper::toEmployeeCardDTO)\r\n                    .toList();\r\n        }\r\n\r\nDTO:\r\n\r\n    public record EmployeeCardDTO(String firstName,\r\n                                  String lastName,\r\n                                  String department) {\r\n          }\r\nMapper:\r\n\r\n    public EmployeeCardDTO toEmployeeCardDTO(Employee employee) {\r\n            return new EmployeeCardDTO(employee.getFirstName(),\r\n                    employee.getLastName(), employee.getDepartment().getName());\r\n        }\r\n\r\nwhen i call getAll method i get n+1 problem with my EmployeeContactInfo entity. I use fetchType.Lazy and i don&#39;t access fields in EmployeeContactInfo in my mapper. Why i am still facing this n+1 problem. I know i can solve this with adding employeeContactInfo to my EntityGraph but i don&#39;t understand why i get this n+1 problem. ","title":"N+1 problem when not accessed entity&#39;s fields which is fetch type Lazy in OneToOne relation","body":"<p>My entities:</p>\n<p>`</p>\n<pre><code> @Getter\n @Setter\n @Entity\n @Table(name = &quot;employees&quot;)\n public class Employee {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String firstName;\n private String lastName;\n private LocalDate birthdate;\n\n @ManyToOne(fetch = FetchType.LAZY, optional = false)\n @JoinColumn(name = &quot;department_id&quot;)\n private Department department;\n\n @OneToOne(cascade = CascadeType.REMOVE, mappedBy = &quot;employee&quot;, fetch = FetchType.LAZY)\n private EmployeeContactInfo employeeContactInfo;\n\n @CreationTimestamp\n @Column(updatable = false)\n private LocalDateTime createdAt;\n\n @UpdateTimestamp\n private LocalDateTime updatedAt;\n</code></pre>\n<p>}\n`</p>\n<pre><code>@Getter\n @Setter\n @Entity\n @Table(name = &quot;employees_contact_details&quot;)\n public class EmployeeContactInfo {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String email;\n private String phone;\n private String address;\n\n @OneToOne(fetch = FetchType.LAZY, optional = false)\n @JoinColumn(name = &quot;employee_id&quot;)\n private Employee employee;\n\n @CreationTimestamp\n @Column(updatable = false)\n private LocalDateTime createdAt;\n\n @UpdateTimestamp\n private LocalDateTime updatedAt;\n</code></pre>\n<p>}</p>\n<p>Repository:</p>\n<pre><code>     @EntityGraph(attributePaths = {&quot;department&quot;})\n     @Query(&quot;SELECT e from Employee e&quot;)\n     List&lt;Employee&gt; findAllWithDepartment(Pageable pageable);\n</code></pre>\n<p>Service:</p>\n<pre><code>public List&lt;EmployeeCardDTO&gt; getAll(int page, int size) {\n        log.info(&quot;Action.getAll.start&quot;);\n        return employeeRepository.findAllWithDepartment(PageRequest.of(page, size, Sort.by(&quot;id&quot;)))\n                .stream().map(mapper::toEmployeeCardDTO)\n                .toList();\n    }\n</code></pre>\n<p>DTO:</p>\n<pre><code>public record EmployeeCardDTO(String firstName,\n                              String lastName,\n                              String department) {\n      }\n</code></pre>\n<p>Mapper:</p>\n<pre><code>public EmployeeCardDTO toEmployeeCardDTO(Employee employee) {\n        return new EmployeeCardDTO(employee.getFirstName(),\n                employee.getLastName(), employee.getDepartment().getName());\n    }\n</code></pre>\n<p>when i call getAll method i get n+1 problem with my EmployeeContactInfo entity. I use fetchType.Lazy and i don't access fields in EmployeeContactInfo in my mapper. Why i am still facing this n+1 problem. I know i can solve this with adding employeeContactInfo to my EntityGraph but i don't understand why i get this n+1 problem.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-17"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686584944,"post_id":76458287,"comment_id":134815493,"body_markdown":"Class version 61 is Java 17, so you are probably running something older.","body":"Class version 61 is Java 17, so you are probably running something older."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1686585731,"post_id":76458287,"comment_id":134815670,"body_markdown":"https://stackoverflow.com/search?q=Unsupported+class+file+major+version","body":"<a href=\"https://stackoverflow.com/search?q=Unsupported+class+file+major+version\">stackoverflow.com/search?q=Unsupported+class+file+major+vers&zwnj;&#8203;ion</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686591712,"post_id":76458287,"comment_id":134816886,"body_markdown":"Your dependencies want to make me cry... There are too many and there are too many for which you workaround the Spring Boot / Spring Cloud dependency management. Also Spring Cloud Hoxton is for Spring Boot 2.2/2.3 so that will pull in old incompatible stuff. Also adding `javax.validation`/`persistence-api` is the wrong thing you need to migrate to JakartaEE.","body":"Your dependencies want to make me cry... There are too many and there are too many for which you workaround the Spring Boot / Spring Cloud dependency management. Also Spring Cloud Hoxton is for Spring Boot 2.2/2.3 so that will pull in old incompatible stuff. Also adding <code>javax.validation</code>/<code>persistence-api</code> is the wrong thing you need to migrate to JakartaEE."}],"answers":[{"comments":[{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686591414,"post_id":76458372,"comment_id":134816822,"body_markdown":"I have upgrated accordilgly, but still getting the same error","body":"I have upgrated accordilgly, but still getting the same error"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686639369,"post_id":76458372,"comment_id":134822616,"body_markdown":"could you please check the last version of the question. I have upgraded the Asm and Gradle is 7.5, but still getting the same error. Have no idea, why not needed ASM is called during the runtime. See the Gradle dependency output, attached as a screenshot.","body":"could you please check the last version of the question. I have upgraded the Asm and Gradle is 7.5, but still getting the same error. Have no idea, why not needed ASM is called during the runtime. See the Gradle dependency output, attached as a screenshot."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640566,"post_id":76458372,"comment_id":134822846,"body_markdown":"maybe a silly question but sometimes you don&#39;t think of simple solutions: did you clear your build results folder and run a fresh rebuild over all components?","body":"maybe a silly question but sometimes you don&#39;t think of simple solutions: did you clear your build results folder and run a fresh rebuild over all components?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686653696,"post_id":76458372,"comment_id":134825551,"body_markdown":"good question, but not, I checked that. does Gradle dependency tool checks for all Gradle plugins too? Can&#39;t some plugin still use older `asm` under the hood?","body":"good question, but not, I checked that. does Gradle dependency tool checks for all Gradle plugins too? Can&#39;t some plugin still use older <code>asm</code> under the hood?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1686658247,"post_id":76458372,"comment_id":134826528,"body_markdown":"I didn&#39;t try it by myself, but this page on developing Gradle plugins tells how to show plugin dependencies: [Designing Gradle plugins#Minimizing the use of external libraries](https://docs.gradle.org/7.3/userguide/designing_gradle_plugins.html#minimizing_the_use_of_external_libraries)","body":"I didn&#39;t try it by myself, but this page on developing Gradle plugins tells how to show plugin dependencies: <a href=\"https://docs.gradle.org/7.3/userguide/designing_gradle_plugins.html#minimizing_the_use_of_external_libraries\" rel=\"nofollow noreferrer\">Designing Gradle plugins#Minimizing the use of external libraries</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1686658388,"post_id":76458372,"comment_id":134826565,"body_markdown":"A more desperate approach also could be to delete your gradle cache folder - not that I expect anything really helpful, more as an action to work really step by step","body":"A more desperate approach also could be to delete your gradle cache folder - not that I expect anything really helpful, more as an action to work really step by step"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686585833,"creation_date":1686585441,"answer_id":76458372,"question_id":76458287,"body_markdown":"You probably are using a too old version of Java ASM.\r\n\r\nAccording to the [versions](https://asm.ow2.io/versions.html) list you need at least version 9.1 to support Java 17.\r\n\r\nSee answers to this SO question to find out which dependency is using the outdated ASM version: [Using Gradle to find dependency tree](https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree)\r\n\r\nI also saw that you are referring to Gradle version 6, this could also be a problem. Please try to update it to a more recent version, since Gradle itself also is using ASM.\r\nThe [Gradle compatibility chart](https://docs.gradle.org/current/userguide/compatibility.html) shows that you need at least version 7.3 to support Java 17","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61 at org.springframework.asm.ClassReader.&lt;init&gt;ClassReader.java","body":"<p>You probably are using a too old version of Java ASM.</p>\n<p>According to the <a href=\"https://asm.ow2.io/versions.html\" rel=\"nofollow noreferrer\">versions</a> list you need at least version 9.1 to support Java 17.</p>\n<p>See answers to this SO question to find out which dependency is using the outdated ASM version: <a href=\"https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\">Using Gradle to find dependency tree</a></p>\n<p>I also saw that you are referring to Gradle version 6, this could also be a problem. Please try to update it to a more recent version, since Gradle itself also is using ASM.\nThe <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle compatibility chart</a> shows that you need at least version 7.3 to support Java 17</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76458372,"answer_count":1,"score":1,"last_activity_date":1686591512,"creation_date":1686584827,"question_id":76458287,"body_markdown":"I have an app that was migrated to Spring Boot 3.1.0 and Java 17. Now I&#39;m trying to make it working together with Spring 6.0.9 (before that, as you may see in the commented dependencies, it had explicitly downgraded  Spring version because o history of the versions upgrade.\r\n\r\nSo, when I try to run `bootRun` fo rth econfiguration, \r\n\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;3.1.0&#39;\r\n        }\r\n    \r\n        repositories {\r\n            maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\r\n            }\r\n            maven {\r\n                credentials {\r\n                    username &quot;$mavenUser&quot;\r\n                    password &quot;$mavenPassword&quot;\r\n                }\r\n                url &quot;$mavenUrl&quot;\r\n            }       \r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.7.1&quot;\r\n            classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\r\n        }\r\n    \r\n    \r\n        \r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;org.sonarqube&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;com.github.ManifestClasspath&#39;\r\n    \r\n    group = &#39;rf.dom.billing&#39;\r\n    archivesBaseName = &#39;billing-ap&#39;\r\n    version = &#39;1.0.5&#39;\r\n    \r\n    mainClassName = &#39;rf.dom.billing.ap.Application&#39;\r\n    \r\n    sourceCompatibility = 1.17\r\n    targetCompatibility = 1.17\r\n    \r\n    repositories {\r\n        maven {\r\n            url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\r\n        }\r\n        maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\r\n            }\r\n        maven {\r\n            credentials {\r\n                username &quot;$mavenUser&quot;\r\n                password &quot;$mavenPassword&quot;\r\n            }\r\n                url &quot;$mavenUrl&quot;\r\n        }\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-starter-parent:Hoxton.SR10&quot;\r\n        }\r\n    }\r\n    \r\n    //sonarqube {\r\n    //    properties {\r\n    //        property &quot;sonar.host.url&quot;, &quot;https://sonarqube.domoy.ru/sonarqube&quot;\r\n    //        property &quot;sonar.login&quot;, &quot;83f2b4d2c20b87a6f96385bb947d3531dbd4ba8e&quot;\r\n    //        property &quot;sonar.projectKey&quot;, &quot;billing-ap&quot;\r\n    //        property &quot;sonar.projectName&quot;, &quot;BILLING-ap&quot;\r\n    //        property &quot;sonar.exclusions&quot;,  &quot;**/dto/**/*.java&quot;\r\n    //    }\r\n    //}\r\n    \r\n    jacoco {\r\n        toolVersion = &quot;0.8.8&quot;\r\n    }\r\n    \r\n    bootRun {\r\n        systemProperties System.properties\r\n        systemProperties.remove(&quot;java.endorsed.dirs&quot;)\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/main/java&#39;, &#39;src/generated/java&#39;]\r\n            }\r\n        }\r\n    }\r\n    \r\n    configurations {\r\n    \r\n        bouncyCastle\r\n        runtime.exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\r\n        compile.exclude group: &quot;net.sf.ehcache&quot;\r\n    \r\n        all {\r\n            resolutionStrategy {\r\n                // Force jackson 2.4.4 for Spark\r\n                force &#39;com.fasterxml.jackson.core:jackson-core:2.13.5&#39;, &#39;com.fasterxml.jackson.core:jackson-databind:2.13.5&#39;, &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.5&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    task copyCoreJarsToLibs(type: Copy, dependsOn: jar) {\r\n        from &quot;build/libs&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n        exclude &#39;*.original&#39;, &#39;*replicator*&#39;\r\n    }\r\n    \r\n    task copyDockerfiles(type: Copy) {\r\n        from &quot;${rootDir}/dockerfile&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n    }\r\n    \r\n    task copyDockerfilesProd(type: Copy) {\r\n        from &quot;${rootDir}/dockerfile/Dockerfile-prod&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n        rename { String fileName -&gt;\r\n            fileName.replace(&quot;Dockerfile-prod&quot;,\r\n                    &quot;Dockerfile&quot;)\r\n        }\r\n    }\r\n    \r\n    task collectArtifacts {\r\n        dependsOn(build, copyCoreJarsToLibs, copyDockerfiles)\r\n    }\r\n    \r\n    task collectArtifactsProd {\r\n        dependsOn(build, copyCoreJarsToLibs, copyDockerfilesProd)\r\n    }\r\n    \r\n    ext[&#39;elasticsearch.version&#39;] = &#39;7.2.0&#39;\r\n    \r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    \r\n        implementation &quot;org.springframework.boot:spring-boot-starter:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-data-rest:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-mail:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server:${springBootVersion}&quot;\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}&quot;) {\r\n        //    exclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-entitymanager&#39;\r\n        }\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n        //implementation &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\r\n        //implementation &quot;org.springframework.boot:spring-boot-autoconfigure:${springBootVersion}&quot;\r\n    \r\n        runtime &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    \r\n    //    implementation &#39;org.springframework.amqp:spring-amqp:2.3.11&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-jose:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-core:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-core:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-web:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-client:5.7.5&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-resource-server:5.5.7&#39;\r\n    //    implementation &#39;org.springframework:spring-core:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-beans:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-expression:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-webflux:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-webmvc:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-web:6.0.9&#39;\r\n    \r\n    \r\n        implementation &#39;io.projectreactor:reactor-core:3.2.12.RELEASE&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        annotationProcessor &#39;org.hibernate:hibernate-jpamodelgen:5.4.4.Final&#39;\r\n    \r\n        implementation &#39;org.postgresql:postgresql:42.2.8&#39;\r\n        implementation &#39;com.zaxxer:HikariCP:3.4.0&#39;\r\n        //implementation &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    \r\n    \r\n        implementation &#39;org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2&#39;\r\n    \r\n        implementation &#39;net.bull.javamelody:javamelody-spring-boot-starter:1.79.0&#39;\r\n    \r\n        implementation &#39;commons-io:commons-io:2.6&#39;\r\n    \r\n        implementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n    //\r\n    //            {\r\n    //        exclude module: &#39;swagger-annotations&#39;\r\n    //        exclude module: &#39;swagger-models&#39;\r\n    //    }\r\n        //implementation &#39;io.swagger:swagger-annotations:1.5.23&#39;\r\n        //implementation &#39;io.swagger:swagger-models:1.5.23&#39;\r\n        implementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n    \r\n        implementation &#39;rf.dom.billing:billing-model:RELEASE.2.2.49&#39;\r\n        implementation (&#39;rf.dom.billing:billing-common:RELEASE.1.0.6&#39;)\r\n                {\r\n                    exclude group: &#39;bouncycastle&#39;, module: &#39;bcprov-jdk14&#39;\r\n                }\r\n        implementation &#39;rf.dom.billing:billing-tracking:RELEASE.1.1.13&#39;\r\n        implementation &#39;rf.dom.billing:billing-docstore-integration:1.0.3&#39;\r\n    \r\n        /*Cloud start*/\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-config:2.1+&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter:2.1+&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-config-client:2.1+&#39;\r\n        /*Cloud end*/\r\n    \r\n        implementation &#39;org.jxls:jxls-poi:1.2.0&#39;\r\n    \r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n        testImplementation &#39;org.testng:testng:6.14.3&#39;\r\n        testImplementation &#39;org.powermock:powermock-api-mockito2:2.0.2&#39;\r\n        testImplementation &#39;com.opentable.components:otj-pg-embedded:0.13.1&#39;\r\n        testImplementation &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    \r\n        //trivy\r\n    //    implementation &#39;ch.qos.logback:logback-core:1.2.9&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.5&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.5&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.5&#39;\r\n    //    implementation &#39;com.google.guava:guava:30.0-jre&#39;\r\n    //    //implementation &#39;com.nimbusds:nimbus-jose-jwt:7.9&#39;\r\n    //    implementation &#39;com.nimbusds:nimbus-jose-jwt:8.21&#39;\r\n    //    implementation &#39;com.nimbusds:oauth2-oidc-sdk:9.19&#39;\r\n    //    implementation &#39;commons-io:commons-io:2.7&#39;\r\n    //\r\n    //    implementation &#39;io.netty:netty-codec:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-http:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-http2:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-socks:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-handler:4.1.77.Final&#39;\r\n    ////\r\n    //    implementation &#39;io.undertow:undertow-core:2.2.19.Final&#39;\r\n    //    implementation &#39;net.minidev:json-smart:2.4.9&#39;\r\n    //    implementation &#39;org.apache.commons:commons-compress:1.21&#39;\r\n    //    implementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    //    implementation &#39;org.apache.poi:poi:5.2.1&#39;\r\n    //    implementation &#39;org.apache.poi:poi-ooxml:5.2.1&#39;\r\n    //    implementation &#39;org.bouncycastle:bcprov-jdk14:1.73&#39;\r\n    //    //implementation &#39;bouncycastle:bcprov-jdk14:161&#39;\r\n    //    //implementation &#39;bouncycastle:bcprov-jdk14:161&#39;\r\n    //    implementation &#39;org.bouncycastle:bcprov-jdk15on:1.67&#39;\r\n    //    implementation &#39;org.elasticsearch:elasticsearch:7.9.2&#39;\r\n    //    implementation &#39;org.elasticsearch.client:elasticsearch-rest-client:7.9.2&#39;\r\n    //    implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-util:11.0.15&#39;\r\n    ////    implementation &#39;org.dom4j:dom4j:2.1.3&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-http:11.0.15&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-io:11.0.15&#39;\r\n    //    implementation &#39;org.hibernate.validator:hibernate-validator:6.0.20.Final&#39;\r\n    //    implementation &#39;org.postgresql:postgresql:42.5.1&#39;\r\n    //    implementation &#39;org.yaml:snakeyaml:1.33&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n    //    implementation &#39;org.apache.tomcat.embed:tomcat-embed-core:9.0.69&#39;\r\n    \r\n        bouncyCastle &#39;org.bouncycastle:bcprov-jdk14:1.73&#39;\r\n    \r\n        compileOnly &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;\r\n    }\r\n    \r\n    task installBouncyCastleJar {\r\n        doLast {\r\n            def bcFile = file(&#39;build/libs/bcprov-jdk14-1.73.jar&#39;)\r\n            def groupId = &#39;bouncycastle&#39;\r\n            def artifactId = &#39;bcprov-jdk14&#39;\r\n            def version = &#39;173&#39;\r\n            def packaging = &#39;jar&#39;\r\n    \r\n    //        project.repositories.maven.install([\r\n    //                file: bcFile,\r\n    //                groupId: groupId,\r\n    //                artifactId: artifactId,\r\n    //                version: version,\r\n    //                packaging: packaging\r\n    //        ])\r\n        }\r\n    }\r\n    \r\n    project.afterEvaluate {\r\n        build.dependsOn(installBouncyCastleJar)\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.annotationProcessorGeneratedSourcesDirectory = file(&quot;src/generated/java&quot;)\r\n    }\r\n    \r\n    wrapper {\r\n        distributionType = Wrapper.DistributionType.ALL\r\n        gradleVersion = &#39;6.0&#39;\r\n    }\r\n    \r\n    test {\r\n        // enable TestNG support (default is JUnit)\r\n        useTestNG()\r\n        testLogging.showStandardStreams = true\r\n        testLogging.exceptionFormat = &#39;full&#39;\r\n    }\r\n    \r\n    task printName {\r\n        doLast {\r\n            print project.name\r\n        }\r\n    }\r\n    \r\n    task printVersion {\r\n        doLast {\r\n            print project.version\r\n        }\r\n    }\r\n\r\nI&#39;m getting the below problkem, while the app is on 17th kava, gradle is ran on 17th java and nothing may require the above Java version?\r\n\r\n    2023-06-12 18:36:20.466 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    2023-06-12 18:36:20.475 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n    \tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n    \tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n    \tat \r\n    \r\n        org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n        \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n        \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n        \tat rf.dom.billing.ap.Application.main(Application.java:24)\r\n        Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n        \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n        \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n        \t... 21 common frames omitted\r\n        Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n        \t... 25 common frames omitted\r\n        \r\n        Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \r\n        Execution failed for task &#39;:bootRun&#39;.\r\n        &gt; Process &#39;command &#39;D:\\Java\\jdk-17.0.2\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\nUPD after updating ASM to 9.5 still getting the problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9fAX3.png","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61 at org.springframework.asm.ClassReader.&lt;init&gt;ClassReader.java","body":"<p>I have an app that was migrated to Spring Boot 3.1.0 and Java 17. Now I'm trying to make it working together with Spring 6.0.9 (before that, as you may see in the commented dependencies, it had explicitly downgraded  Spring version because o history of the versions upgrade.</p>\n<p>So, when I try to run <code>bootRun</code> fo rth econfiguration,</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '3.1.0'\n    }\n\n    repositories {\n        maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\n        }\n        maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\n        }\n        maven {\n            credentials {\n                username &quot;$mavenUser&quot;\n                password &quot;$mavenPassword&quot;\n            }\n            url &quot;$mavenUrl&quot;\n        }       \n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.7.1&quot;\n        classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\n    }\n\n\n    \n}\n\n\napply plugin: 'java'\napply plugin: 'application'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'org.sonarqube'\napply plugin: 'jacoco'\napply plugin: 'com.github.ManifestClasspath'\n\ngroup = 'rf.dom.billing'\narchivesBaseName = 'billing-ap'\nversion = '1.0.5'\n\nmainClassName = 'rf.dom.billing.ap.Application'\n\nsourceCompatibility = 1.17\ntargetCompatibility = 1.17\n\nrepositories {\n    maven {\n        url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\n    }\n    maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\n        }\n    maven {\n        credentials {\n            username &quot;$mavenUser&quot;\n            password &quot;$mavenPassword&quot;\n        }\n            url &quot;$mavenUrl&quot;\n    }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-starter-parent:Hoxton.SR10&quot;\n    }\n}\n\n//sonarqube {\n//    properties {\n//        property &quot;sonar.host.url&quot;, &quot;https://sonarqube.domoy.ru/sonarqube&quot;\n//        property &quot;sonar.login&quot;, &quot;83f2b4d2c20b87a6f96385bb947d3531dbd4ba8e&quot;\n//        property &quot;sonar.projectKey&quot;, &quot;billing-ap&quot;\n//        property &quot;sonar.projectName&quot;, &quot;BILLING-ap&quot;\n//        property &quot;sonar.exclusions&quot;,  &quot;**/dto/**/*.java&quot;\n//    }\n//}\n\njacoco {\n    toolVersion = &quot;0.8.8&quot;\n}\n\nbootRun {\n    systemProperties System.properties\n    systemProperties.remove(&quot;java.endorsed.dirs&quot;)\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/generated/java']\n        }\n    }\n}\n\nconfigurations {\n\n    bouncyCastle\n    runtime.exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\n    compile.exclude group: &quot;net.sf.ehcache&quot;\n\n    all {\n        resolutionStrategy {\n            // Force jackson 2.4.4 for Spark\n            force 'com.fasterxml.jackson.core:jackson-core:2.13.5', 'com.fasterxml.jackson.core:jackson-databind:2.13.5', 'com.fasterxml.jackson.core:jackson-annotations:2.13.5'\n        }\n    }\n}\n\n\ntask copyCoreJarsToLibs(type: Copy, dependsOn: jar) {\n    from &quot;build/libs&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n    exclude '*.original', '*replicator*'\n}\n\ntask copyDockerfiles(type: Copy) {\n    from &quot;${rootDir}/dockerfile&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n}\n\ntask copyDockerfilesProd(type: Copy) {\n    from &quot;${rootDir}/dockerfile/Dockerfile-prod&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n    rename { String fileName -&gt;\n        fileName.replace(&quot;Dockerfile-prod&quot;,\n                &quot;Dockerfile&quot;)\n    }\n}\n\ntask collectArtifacts {\n    dependsOn(build, copyCoreJarsToLibs, copyDockerfiles)\n}\n\ntask collectArtifactsProd {\n    dependsOn(build, copyCoreJarsToLibs, copyDockerfilesProd)\n}\n\next['elasticsearch.version'] = '7.2.0'\n\n\ndependencies {\n\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n\n    implementation &quot;org.springframework.boot:spring-boot-starter:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-rest:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-mail:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server:${springBootVersion}&quot;\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}&quot;) {\n    //    exclude group: 'org.hibernate', module: 'hibernate-entitymanager'\n    }\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    //implementation &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\n    //implementation &quot;org.springframework.boot:spring-boot-autoconfigure:${springBootVersion}&quot;\n\n    runtime 'io.micrometer:micrometer-registry-prometheus'\n\n//    implementation 'org.springframework.amqp:spring-amqp:2.3.11'\n//    implementation 'org.springframework.boot:spring-boot-starter-undertow'\n//    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n//    implementation 'org.springframework.security:spring-security-oauth2-jose:5.5.7'\n//    implementation 'org.springframework.security:spring-security-oauth2-core:5.5.7'\n//    implementation 'org.springframework.security:spring-security-core:5.5.7'\n//    implementation 'org.springframework.security:spring-security-web:5.5.7'\n//    implementation 'org.springframework.security:spring-security-oauth2-client:5.7.5'\n//    implementation 'org.springframework.security:spring-security-oauth2-resource-server:5.5.7'\n//    implementation 'org.springframework:spring-core:6.0.9'\n//    implementation 'org.springframework:spring-beans:6.0.9'\n//    implementation 'org.springframework:spring-expression:6.0.9'\n//    implementation 'org.springframework:spring-webflux:6.0.9'\n//    implementation 'org.springframework:spring-webmvc:6.0.9'\n//    implementation 'org.springframework:spring-web:6.0.9'\n\n\n    implementation 'io.projectreactor:reactor-core:3.2.12.RELEASE'\n\n    compileOnly 'org.projectlombok:lombok:1.18.22+'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22+'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.22+'\n    annotationProcessor 'org.hibernate:hibernate-jpamodelgen:5.4.4.Final'\n\n    implementation 'org.postgresql:postgresql:42.2.8'\n    implementation 'com.zaxxer:HikariCP:3.4.0'\n    //implementation 'org.flywaydb:flyway-core:5.2.4'\n\n\n    implementation 'org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2'\n\n    implementation 'net.bull.javamelody:javamelody-spring-boot-starter:1.79.0'\n\n    implementation 'commons-io:commons-io:2.6'\n\n    implementation 'io.springfox:springfox-swagger2:3.0.0'\n//\n//            {\n//        exclude module: 'swagger-annotations'\n//        exclude module: 'swagger-models'\n//    }\n    //implementation 'io.swagger:swagger-annotations:1.5.23'\n    //implementation 'io.swagger:swagger-models:1.5.23'\n    implementation 'io.springfox:springfox-swagger-ui:3.0.0'\n\n    implementation 'rf.dom.billing:billing-model:RELEASE.2.2.49'\n    implementation ('rf.dom.billing:billing-common:RELEASE.1.0.6')\n            {\n                exclude group: 'bouncycastle', module: 'bcprov-jdk14'\n            }\n    implementation 'rf.dom.billing:billing-tracking:RELEASE.1.1.13'\n    implementation 'rf.dom.billing:billing-docstore-integration:1.0.3'\n\n    /*Cloud start*/\n    implementation 'org.springframework.cloud:spring-cloud-starter-config:2.1+'\n    implementation 'org.springframework.cloud:spring-cloud-starter:2.1+'\n    implementation 'org.springframework.cloud:spring-cloud-config-client:2.1+'\n    /*Cloud end*/\n\n    implementation 'org.jxls:jxls-poi:1.2.0'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-undertow'\n    testImplementation 'org.testng:testng:6.14.3'\n    testImplementation 'org.powermock:powermock-api-mockito2:2.0.2'\n    testImplementation 'com.opentable.components:otj-pg-embedded:0.13.1'\n    testImplementation 'org.flywaydb:flyway-core:5.2.4'\n\n    //trivy\n//    implementation 'ch.qos.logback:logback-core:1.2.9'\n//    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.5'\n//    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.5'\n//    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.5'\n//    implementation 'com.google.guava:guava:30.0-jre'\n//    //implementation 'com.nimbusds:nimbus-jose-jwt:7.9'\n//    implementation 'com.nimbusds:nimbus-jose-jwt:8.21'\n//    implementation 'com.nimbusds:oauth2-oidc-sdk:9.19'\n//    implementation 'commons-io:commons-io:2.7'\n//\n//    implementation 'io.netty:netty-codec:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-http:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-http2:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-socks:4.1.77.Final'\n//    implementation 'io.netty:netty-handler:4.1.77.Final'\n////\n//    implementation 'io.undertow:undertow-core:2.2.19.Final'\n//    implementation 'net.minidev:json-smart:2.4.9'\n//    implementation 'org.apache.commons:commons-compress:1.21'\n//    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n//    implementation 'org.apache.poi:poi:5.2.1'\n//    implementation 'org.apache.poi:poi-ooxml:5.2.1'\n//    implementation 'org.bouncycastle:bcprov-jdk14:1.73'\n//    //implementation 'bouncycastle:bcprov-jdk14:161'\n//    //implementation 'bouncycastle:bcprov-jdk14:161'\n//    implementation 'org.bouncycastle:bcprov-jdk15on:1.67'\n//    implementation 'org.elasticsearch:elasticsearch:7.9.2'\n//    implementation 'org.elasticsearch.client:elasticsearch-rest-client:7.9.2'\n//    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2'\n//    implementation 'org.eclipse.jetty:jetty-util:11.0.15'\n////    implementation 'org.dom4j:dom4j:2.1.3'\n//    implementation 'org.eclipse.jetty:jetty-http:11.0.15'\n//    implementation 'org.eclipse.jetty:jetty-io:11.0.15'\n//    implementation 'org.hibernate.validator:hibernate-validator:6.0.20.Final'\n//    implementation 'org.postgresql:postgresql:42.5.1'\n//    implementation 'org.yaml:snakeyaml:1.33'\n//    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n//    implementation 'org.apache.tomcat.embed:tomcat-embed-core:9.0.69'\n\n    bouncyCastle 'org.bouncycastle:bcprov-jdk14:1.73'\n\n    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'\n}\n\ntask installBouncyCastleJar {\n    doLast {\n        def bcFile = file('build/libs/bcprov-jdk14-1.73.jar')\n        def groupId = 'bouncycastle'\n        def artifactId = 'bcprov-jdk14'\n        def version = '173'\n        def packaging = 'jar'\n\n//        project.repositories.maven.install([\n//                file: bcFile,\n//                groupId: groupId,\n//                artifactId: artifactId,\n//                version: version,\n//                packaging: packaging\n//        ])\n    }\n}\n\nproject.afterEvaluate {\n    build.dependsOn(installBouncyCastleJar)\n}\n\ntasks.withType(JavaCompile) {\n    options.annotationProcessorGeneratedSourcesDirectory = file(&quot;src/generated/java&quot;)\n}\n\nwrapper {\n    distributionType = Wrapper.DistributionType.ALL\n    gradleVersion = '6.0'\n}\n\ntest {\n    // enable TestNG support (default is JUnit)\n    useTestNG()\n    testLogging.showStandardStreams = true\n    testLogging.exceptionFormat = 'full'\n}\n\ntask printName {\n    doLast {\n        print project.name\n    }\n}\n\ntask printVersion {\n    doLast {\n        print project.version\n    }\n}\n</code></pre>\n<p>I'm getting the below problkem, while the app is on 17th kava, gradle is ran on 17th java and nothing may require the above Java version?</p>\n<pre><code>2023-06-12 18:36:20.466 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n2023-06-12 18:36:20.475 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at \n\n    org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n        at rf.dom.billing.ap.Application.main(Application.java:24)\n    Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    \n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n        at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n        ... 21 common frames omitted\n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n        ... 25 common frames omitted\n    \n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    \n    Execution failed for task ':bootRun'.\n    &gt; Process 'command 'D:\\Java\\jdk-17.0.2\\bin\\java.exe'' finished with non-zero exit value 1\n</code></pre>\n<p>UPD after updating ASM to 9.5 still getting the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/9fAX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fAX3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","stack-overflow"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1686423558,"post_id":76447725,"comment_id":134797773,"body_markdown":"What are you calling so you are getting the error? Does it occur in toString/equals or similar? Can you please share the stack trace?","body":"What are you calling so you are getting the error? Does it occur in toString/equals or similar? Can you please share the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686570223,"creation_date":1686570223,"answer_id":76456328,"question_id":76447725,"body_markdown":"Lombok `@Data` creates a default equals, hashCode and toString implementations that will loop between the 2 entities until you get the overflow. And JPA usually uses one or more of those.\r\n\r\nRemove it (and eventually add `@RequiredArgsConstructor`, `@Getter` and `@Setter`) and implement your own equals, hashCode and toString where you, f.ex., use the ID instead of the whole Object.\r\n\r\nYou need to do this in at least one side of the mapping but it might be better for the future to do both.","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>Lombok <code>@Data</code> creates a default equals, hashCode and toString implementations that will loop between the 2 entities until you get the overflow. And JPA usually uses one or more of those.</p>\n<p>Remove it (and eventually add <code>@RequiredArgsConstructor</code>, <code>@Getter</code> and <code>@Setter</code>) and implement your own equals, hashCode and toString where you, f.ex., use the ID instead of the whole Object.</p>\n<p>You need to do this in at least one side of the mapping but it might be better for the future to do both.</p>\n"},{"tags":[],"owner":{"account_id":12686043,"reputation":41,"user_id":9217805,"display_name":"Pavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686590786,"creation_date":1686590786,"answer_id":76458987,"question_id":76447725,"body_markdown":"Yes that is due to cyclic relation. You need to add @JsonIgnoreProperties annotation on the parent to break the cycle.","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>Yes that is due to cyclic relation. You need to add @JsonIgnoreProperties annotation on the parent to break the cycle.</p>\n"}],"owner":{"account_id":23591193,"reputation":19,"user_id":17629279,"display_name":"Moiap13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686590786,"creation_date":1686423270,"question_id":76447725,"body_markdown":"I have this MySQL script :\r\n```mysql\r\nCREATE TABLE `country`\r\n(\r\n    `id`         int NOT NULL AUTO_INCREMENT,\r\n    `name`       varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `region`\r\n(\r\n    `id`         int NOT NULL AUTO_INCREMENT,\r\n    `id_country` int NOT NULL,\r\n    `name`       varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    CONSTRAINT region_country_foreign FOREIGN KEY (id_country) REFERENCES country (id),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `city`\r\n(\r\n    `id`        int NOT NULL AUTO_INCREMENT,\r\n    `id_region` int NOT NULL,\r\n    `name`      varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    CONSTRAINT city_region_foreign FOREIGN KEY (id_region) REFERENCES region (id),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n```\r\n\r\nand these associated classes :\r\n\r\n```java\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;region&quot;)\r\npublic class Region {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;, nullable = false)\r\n  private String name;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;id_country&quot;, nullable = false)\r\n  private Country country;\r\n\r\n  @JsonIgnore\r\n  @OneToMany(mappedBy = &quot;region&quot;)\r\n  private List&lt;City&gt; cities;\r\n}\r\n---------------------------------------------------\r\n@Data\r\n@Entity\r\n@Table(name = &quot;city&quot;)\r\npublic class City {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;, nullable = false)\r\n  private String name;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;id_region&quot;, nullable = false)\r\n  private Region region;\r\n}\r\n```\r\n\r\nWhen I try to retrieve the Region I have a stack overflow Exception. I think this is because the Region has a list of cities and each city in the list has the region which has the list of the cities and so on. I suspect that the error is due to cyclic relations. ","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>I have this MySQL script :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `country`\n(\n    `id`         int NOT NULL AUTO_INCREMENT,\n    `name`       varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n\nCREATE TABLE `region`\n(\n    `id`         int NOT NULL AUTO_INCREMENT,\n    `id_country` int NOT NULL,\n    `name`       varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    CONSTRAINT region_country_foreign FOREIGN KEY (id_country) REFERENCES country (id),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n\nCREATE TABLE `city`\n(\n    `id`        int NOT NULL AUTO_INCREMENT,\n    `id_region` int NOT NULL,\n    `name`      varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    CONSTRAINT city_region_foreign FOREIGN KEY (id_region) REFERENCES region (id),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n</code></pre>\n<p>and these associated classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Data\n@Entity\n@Table(name = &quot;region&quot;)\npublic class Region {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private int id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;id_country&quot;, nullable = false)\n  private Country country;\n\n  @JsonIgnore\n  @OneToMany(mappedBy = &quot;region&quot;)\n  private List&lt;City&gt; cities;\n}\n---------------------------------------------------\n@Data\n@Entity\n@Table(name = &quot;city&quot;)\npublic class City {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private int id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;id_region&quot;, nullable = false)\n  private Region region;\n}\n</code></pre>\n<p>When I try to retrieve the Region I have a stack overflow Exception. I think this is because the Region has a list of cities and each city in the list has the region which has the list of the cities and so on. I suspect that the error is due to cyclic relations.</p>\n"},{"tags":["java","pdf","itext","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686610691,"post_id":76458895,"comment_id":134819884,"body_markdown":"*&quot;The code is pretty much copy-paste from this entry from two years ago.&quot;* - you are aware that that question was about text not being visible? So if you copied&amp;pasted that code, text is likely to be invisible...","body":"<i>&quot;The code is pretty much copy-paste from this entry from two years ago.&quot;</i> - you are aware that that question was about text not being visible? So if you copied&amp;pasted that code, text is likely to be invisible..."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1686659142,"post_id":76458895,"comment_id":134826766,"body_markdown":"In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.","body":"In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686695927,"post_id":76458895,"comment_id":134834164,"body_markdown":"*&quot;In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.&quot;* - ah, so your case is not *pretty much copy-paste* from that post... then why do you mention it?","body":"<i>&quot;In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.&quot;</i> - ah, so your case is not <i>pretty much copy-paste</i> from that post... then why do you mention it?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686733784,"post_id":76458895,"comment_id":134838490,"body_markdown":"For an analysis please share a PDF edited of your code, both a before and an after copy. From that we can determine whether the paragraph was rendered after all and merely is not visible or whether it really has not been rendered at all.","body":"For an analysis please share a PDF edited of your code, both a before and an after copy. From that we can determine whether the paragraph was rendered after all and merely is not visible or whether it really has not been rendered at all."}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686589831,"creation_date":1686589831,"question_id":76458895,"body_markdown":"Working with the Java version of iText 8, I used to have the following line of code to render text into a page of my report: `document.showTextAligned(p, llx, lly, this.page, txtAlignment, VerticalAlignment.MIDDLE,0);`\r\nwhere p is of type Paragraph, this.page is of type int and txtAlignment is of type TextAlignment. \r\n\r\nNow, I have changed it for this:\r\n\r\n    PdfCanvas pdfCanvas = new PdfCanvas(pdfPage);\r\n    try (Canvas canvas = new Canvas(pdfCanvas, rect, true)) {\r\n    \tcanvas.add(p);\r\n    }\r\nThe reason for this is so that I can fit text inside a rectangle but the problem is that this code fails to render any text into my report, the page is just blank. What could the reason be? The code is pretty much copy-paste from [this entry from two years ago](https://stackoverflow.com/questions/66443713/itext-7-adding-colored-text-and-fill-to-a-rectangle).\r\n\r\nI have already checked all obvious possible causes. The Rectangle rect is within the borders of the page, pdfPage is a valid page of the report (it&#39;s in fact, the current page i&#39;m writing to) and no exceptions occur during the exectution of the method.","title":"iText8 Canvas class is not rendering text to the report","body":"<p>Working with the Java version of iText 8, I used to have the following line of code to render text into a page of my report: <code>document.showTextAligned(p, llx, lly, this.page, txtAlignment, VerticalAlignment.MIDDLE,0);</code>\nwhere p is of type Paragraph, this.page is of type int and txtAlignment is of type TextAlignment.</p>\n<p>Now, I have changed it for this:</p>\n<pre><code>PdfCanvas pdfCanvas = new PdfCanvas(pdfPage);\ntry (Canvas canvas = new Canvas(pdfCanvas, rect, true)) {\n    canvas.add(p);\n}\n</code></pre>\n<p>The reason for this is so that I can fit text inside a rectangle but the problem is that this code fails to render any text into my report, the page is just blank. What could the reason be? The code is pretty much copy-paste from <a href=\"https://stackoverflow.com/questions/66443713/itext-7-adding-colored-text-and-fill-to-a-rectangle\">this entry from two years ago</a>.</p>\n<p>I have already checked all obvious possible causes. The Rectangle rect is within the borders of the page, pdfPage is a valid page of the report (it's in fact, the current page i'm writing to) and no exceptions occur during the exectution of the method.</p>\n"},{"tags":["java","string","loops","methods"],"comments":[{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1686564186,"post_id":76455526,"comment_id":134810690,"body_markdown":"Arrays are indexed `[0...num)`, so `num` is out of bounds. Have a look again range of `i` in `stars` method, notice how it terminates at `i &lt; stars.length`. Why do you return `star[num]` afterwards?","body":"Arrays are indexed <code>[0...num)</code>, so <code>num</code> is out of bounds. Have a look again range of <code>i</code> in <code>stars</code> method, notice how it terminates at <code>i &lt; stars.length</code>. Why do you return <code>star[num]</code> afterwards?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686564438,"post_id":76455526,"comment_id":134810746,"body_markdown":"What is the point of `return star[num];`? Creating a local array and then only returning a single element makes little sense. That method should either return the whole array you created or return nothing at all and just print directly. I would also recommend reading [Differences between System.out.println() and return in Java](https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java)","body":"What is the point of <code>return star[num];</code>? Creating a local array and then only returning a single element makes little sense. That method should either return the whole array you created or return nothing at all and just print directly. I would also recommend reading <a href=\"https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java\">Differences between System.out.println() and return in Java</a>"},{"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"score":0,"creation_date":1686569684,"post_id":76455526,"comment_id":134811783,"body_markdown":"When I was looking for an answer I saw this topic but I didn&#39; found an answer. Now I see my mistakes (Thanks to all who comment). When I back home, I&#39;ll correct the code and paste it again.","body":"When I was looking for an answer I saw this topic but I didn&#39; found an answer. Now I see my mistakes (Thanks to all who comment). When I back home, I&#39;ll correct the code and paste it again."},{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1686570810,"post_id":76455526,"comment_id":134812011,"body_markdown":"@Adix what do you mean? Please **don&#39;t** edit your question to include fixed code. If you feel your question is not a duplicate then please paste revised code alongside some explanation in as an answer.","body":"@Adix what do you mean? Please <b>don&#39;t</b> edit your question to include fixed code. If you feel your question is not a duplicate then please paste revised code alongside some explanation in as an answer."},{"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"score":1,"creation_date":1686571907,"post_id":76455526,"comment_id":134812240,"body_markdown":"@orhtej2 sorry for misleading, I meant exactly what you wrote.","body":"@orhtej2 sorry for misleading, I meant exactly what you wrote."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686590615,"post_id":76455526,"comment_id":134816637,"body_markdown":"Without pre-allocation of the array, you can also  fill the stars using `String[] stars = Stream.generate(() -&gt; &quot;*&quot;).limit(num).toArray(String[]::new);`","body":"Without pre-allocation of the array, you can also  fill the stars using <code>String[] stars = Stream.generate(() -&gt; &quot;*&quot;).limit(num).toArray(String[]::new);</code>"}],"answers":[{"tags":[],"owner":{"account_id":2815186,"reputation":482,"user_id":2420505,"accept_rate":71,"display_name":"Pol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686564390,"creation_date":1686564390,"answer_id":76455574,"question_id":76455526,"body_markdown":"Say your array is 3 of length. You will have stars at star[0], star[1], and star[2]. \r\nIn the stars method, you return star[3] and this doesn&#39;t exist. ","title":"Index X out of bounds for length X","body":"<p>Say your array is 3 of length. You will have stars at star[0], star[1], and star[2].\nIn the stars method, you return star[3] and this doesn't exist.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686589359,"creation_date":1686581343,"answer_id":76457828,"question_id":76455526,"body_markdown":"You&#39;re attempting to access _star[num]_, which would be 1 outside the last indexed value.\r\n\r\n```java\r\nreturn star[num];\r\n```\r\n\r\nAdditionally, you are supplying the return value of the _stars_ method, to a _println_ call, here.\r\n\r\n```java\r\n//Display the stars by &#39;stars&#39; method\r\nSystem.out.println(stars(num));\r\n```\r\n\r\nWhich, isn&#39;t necessary, since _stars_ uses _print_ to display the value.\r\n\r\nThere are two approaches you can take.\r\n\r\nOne, simply call _stars(num)_, without the _println_ call.  \r\nThis would also allow you to remove the return type of _stars_&amp;mdash;by changing it to _void_.\r\n\r\n```java\r\n//method for inputing stars to array and also for displaying them.\r\npublic static void stars(int num){\r\n    String[] star = new String[num];\r\n    for (int i = 0; i &lt; star.length; i++){\r\n        star[i] = &quot;*&quot;;\r\n        System.out.print(star[i]);\r\n    }\r\n}\r\n```\r\n\r\nOr, you can populate a _String_ value within _stars_, and return that.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    String[] star = new String[num];\r\n    String string = &quot;&quot;;\r\n    for (int i = 0; i &lt; star.length; i++){\r\n        star[i] = &quot;*&quot;;\r\n        string += star[i];\r\n    }\r\n    return string;\r\n}\r\n```\r\n\r\nSubsequently, you can reduce the _string_ and _star[i]_ assignment, within the _for-loop_.\r\n\r\n```java\r\nstring += star[i] = &quot;*&quot;;\r\n```\r\n\r\nAnd, since we&#39;re on the topic, you can utilize the _[Arrays#fill](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(java.lang.Object%5B%5D,java.lang.Object))_ method, to populate an array, and the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...))_ method to concatenate the values.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    String[] star = new String[num];\r\n    Arrays.fill(star, &quot;*&quot;);\r\n    return String.join(&quot;&quot;, star);\r\n}\r\n```\r\n\r\nFurthermore, the _[String#repeat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int))_ method, can produce a sequence of repeating characters.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    return &quot;*&quot;.repeat(num);\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nInsert number of stars:\r\n5\r\n*****\r\n```","title":"Index X out of bounds for length X","body":"<p>You're attempting to access <em>star[num]</em>, which would be 1 outside the last indexed value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return star[num];\n</code></pre>\n<p>Additionally, you are supplying the return value of the <em>stars</em> method, to a <em>println</em> call, here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Display the stars by 'stars' method\nSystem.out.println(stars(num));\n</code></pre>\n<p>Which, isn't necessary, since <em>stars</em> uses <em>print</em> to display the value.</p>\n<p>There are two approaches you can take.</p>\n<p>One, simply call <em>stars(num)</em>, without the <em>println</em> call.<br />\nThis would also allow you to remove the return type of <em>stars</em>—by changing it to <em>void</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//method for inputing stars to array and also for displaying them.\npublic static void stars(int num){\n    String[] star = new String[num];\n    for (int i = 0; i &lt; star.length; i++){\n        star[i] = &quot;*&quot;;\n        System.out.print(star[i]);\n    }\n}\n</code></pre>\n<p>Or, you can populate a <em>String</em> value within <em>stars</em>, and return that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    String[] star = new String[num];\n    String string = &quot;&quot;;\n    for (int i = 0; i &lt; star.length; i++){\n        star[i] = &quot;*&quot;;\n        string += star[i];\n    }\n    return string;\n}\n</code></pre>\n<p>Subsequently, you can reduce the <em>string</em> and <em>star[i]</em> assignment, within the <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>string += star[i] = &quot;*&quot;;\n</code></pre>\n<p>And, since we're on the topic, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(java.lang.Object%5B%5D,java.lang.Object)\" rel=\"nofollow noreferrer\">Arrays#fill</a></em> method, to populate an array, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">String#join</a></em> method to concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    String[] star = new String[num];\n    Arrays.fill(star, &quot;*&quot;);\n    return String.join(&quot;&quot;, star);\n}\n</code></pre>\n<p>Furthermore, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">String#repeat</a></em> method, can produce a sequence of repeating characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    return &quot;*&quot;.repeat(num);\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Insert number of stars:\n5\n*****\n</code></pre>\n"}],"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686582203,"accepted_answer_id":76457828,"answer_count":2,"score":0,"last_activity_date":1686589359,"creation_date":1686563982,"question_id":76455526,"body_markdown":"I&#39;m learning Java and while learning methods I came across an error. What&#39;s more, code does what I want, (it displays stars), but it also throws an error. I don&#39;t quite know why.\r\n\r\nHere is code and error below:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TaskMethods {\r\n    \r\n    //Display the stars\r\n    public static void main (String[] args){\r\n        System.out.println(&quot;Insert number of stars:&quot;);\r\n\r\n    //declare numbers of stars\r\n        int num = getInt();\r\n\r\n    //Display the stars by &#39;stars&#39; method\r\n        System.out.println(stars(num));\r\n    }\r\n    //method for input int variables\r\n    public static int getInt(){\r\n        return new Scanner(System.in).nextInt();\r\n    }\r\n\r\n    //method for inputing stars to array and also for displaying them.\r\n    public static String stars(int num){\r\n        String[] star = new String[num];\r\n        for (int i = 0; i &lt; star.length; i++){\r\n            star[i] = &quot;*&quot;;\r\n            System.out.print(star[i]);\r\n        }\r\n        return star[num];\r\n    }\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/cre8H.png)\r\n\r\n\r\nI tried to limit the loop by the array lenght (like always) and It&#39;s nothing.\r\nThere is no line where we declare values ​​outside the range of the array.\r\nIn every post I&#39;ve seen the problem was wrong range.\r\n\r\nThats why I&#39;m looking for help here.\r\n","title":"Index X out of bounds for length X","body":"<p>I'm learning Java and while learning methods I came across an error. What's more, code does what I want, (it displays stars), but it also throws an error. I don't quite know why.</p>\n<p>Here is code and error below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class TaskMethods {\n    \n    //Display the stars\n    public static void main (String[] args){\n        System.out.println(&quot;Insert number of stars:&quot;);\n\n    //declare numbers of stars\n        int num = getInt();\n\n    //Display the stars by 'stars' method\n        System.out.println(stars(num));\n    }\n    //method for input int variables\n    public static int getInt(){\n        return new Scanner(System.in).nextInt();\n    }\n\n    //method for inputing stars to array and also for displaying them.\n    public static String stars(int num){\n        String[] star = new String[num];\n        for (int i = 0; i &lt; star.length; i++){\n            star[i] = &quot;*&quot;;\n            System.out.print(star[i]);\n        }\n        return star[num];\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cre8H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to limit the loop by the array lenght (like always) and It's nothing.\nThere is no line where we declare values ​​outside the range of the array.\nIn every post I've seen the problem was wrong range.</p>\n<p>Thats why I'm looking for help here.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686589059,"creation_date":1686589059,"answer_id":76458800,"question_id":76457073,"body_markdown":"I have removed isIncludeStackTrace method and modified the code as below  \r\n```\r\nErrorAttributeOptions options = ErrorAttributeOptions\r\n    .defaults()\r\n    .including(ErrorAttributeOptions.Include.STACK_TRACE);\r\nMap&lt;String, Object&gt; body = getErrorAttributes(request, options);\r\n```\r\nReference Link - https://stackoverflow.com/questions/63289130/problem-with-cutomizing-errorattributeoptions-in-spring-reactive","title":"Spring Boot Upgrade causing issues with getErrorAttributes","body":"<p>I have removed isIncludeStackTrace method and modified the code as below</p>\n<pre><code>ErrorAttributeOptions options = ErrorAttributeOptions\n    .defaults()\n    .including(ErrorAttributeOptions.Include.STACK_TRACE);\nMap&lt;String, Object&gt; body = getErrorAttributes(request, options);\n</code></pre>\n<p>Reference Link - <a href=\"https://stackoverflow.com/questions/63289130/problem-with-cutomizing-errorattributeoptions-in-spring-reactive\">Problem with cutomizing ErrorAttributeOptions in Spring Reactive</a></p>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686589059,"creation_date":1686575868,"question_id":76457073,"body_markdown":"We are upgrading `springboot` from `2.3.12 RELEASE` to `2.7.12` version. After the upgrade we face the following issues in custom exception controller class named `SampleExceptionController`\r\n```\r\nSampleExceptionController.java:36: error:incompatible types:boolean cannot be converted to ErrorAttributeOptions \r\n```\r\n\r\nThe code snippet from SampleExceptionController is\r\n\r\n```\r\n@RestController\r\npublic class SampleExceptionController extends BasicErrorController{\r\n\r\n@PostMapping\r\nprivate ResponseEntity&lt;ErrorMessage&gt; appExceptionHandler(HttpServletRequest request){\r\n\r\n36: Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request,MediaType.APPLICATION.JSON));\r\n  \r\nString errMsg = String.valueOf(body.get(&quot;message&quot;));\r\nint result = (int)body.get(&quot;status&quot;);\r\n\r\nreturn ResonseEntity.status(HttpStatus.valueOf(result)).body(new ErrorMessage(result,errMsg));\r\n\r\n}\r\n\r\n```\r\nHere isIncludeStackTrace method returns boolean and it is a method present in BasicErrorController class\r\n\r\ngetErrorAttributes method is present in AbstractErrorController class and the implementation is \r\n\r\n```\r\nprotected Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, ErrorAttributeOptions options){ }\r\n```\r\nBut the same code was working fine before springboot upgrade\r\n\r\nI could not get what is the problem, can anyone help here?\r\n\r\nThanks","title":"Spring Boot Upgrade causing issues with getErrorAttributes","body":"<p>We are upgrading <code>springboot</code> from <code>2.3.12 RELEASE</code> to <code>2.7.12</code> version. After the upgrade we face the following issues in custom exception controller class named <code>SampleExceptionController</code></p>\n<pre><code>SampleExceptionController.java:36: error:incompatible types:boolean cannot be converted to ErrorAttributeOptions \n</code></pre>\n<p>The code snippet from SampleExceptionController is</p>\n<pre><code>@RestController\npublic class SampleExceptionController extends BasicErrorController{\n\n@PostMapping\nprivate ResponseEntity&lt;ErrorMessage&gt; appExceptionHandler(HttpServletRequest request){\n\n36: Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request,MediaType.APPLICATION.JSON));\n  \nString errMsg = String.valueOf(body.get(&quot;message&quot;));\nint result = (int)body.get(&quot;status&quot;);\n\nreturn ResonseEntity.status(HttpStatus.valueOf(result)).body(new ErrorMessage(result,errMsg));\n\n}\n\n</code></pre>\n<p>Here isIncludeStackTrace method returns boolean and it is a method present in BasicErrorController class</p>\n<p>getErrorAttributes method is present in AbstractErrorController class and the implementation is</p>\n<pre><code>protected Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, ErrorAttributeOptions options){ }\n</code></pre>\n<p>But the same code was working fine before springboot upgrade</p>\n<p>I could not get what is the problem, can anyone help here?</p>\n<p>Thanks</p>\n"},{"tags":["java","algorithm","set","powerset"],"comments":[{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":7,"creation_date":1257370876,"post_id":1670862,"comment_id":1550648,"body_markdown":"Suppose you have a set of configurations -- say &quot;A&quot;, &quot;B&quot; and &quot;C&quot; --, that can be used to parametrize a model, and you want to see which subset yields the best result -- e.g. just &quot;A&quot;. A possible solution would be to test each member of the powerset.","body":"Suppose you have a set of configurations -- say &quot;A&quot;, &quot;B&quot; and &quot;C&quot; --, that can be used to parametrize a model, and you want to see which subset yields the best result -- e.g. just &quot;A&quot;. A possible solution would be to test each member of the powerset."},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":7,"creation_date":1337117536,"post_id":1670862,"comment_id":13745898,"body_markdown":"It&#39;s a Google interview question for software developers.  It&#39;s a contrived problem to test your agility of mind.","body":"It&#39;s a Google interview question for software developers.  It&#39;s a contrived problem to test your agility of mind."},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":0,"creation_date":1367776714,"post_id":1670862,"comment_id":23487862,"body_markdown":"This is a reasonable question. For instance to implement the scoring function for cribbage, you have to test whether any element of the powerset adds up to 15.","body":"This is a reasonable question. For instance to implement the scoring function for cribbage, you have to test whether any element of the powerset adds up to 15."}],"answers":[{"comments":[{"owner":{"account_id":464752,"reputation":381,"user_id":868456,"accept_rate":75,"display_name":"Dimath"},"score":1,"creation_date":1358027470,"post_id":1670871,"comment_id":19859823,"body_markdown":"Would it be faster to use Iterator instead of using list? E.g.: \n\nSet&lt;T&gt; rest = new HashSet&lt;T&gt;(originalSet);\nIterator&lt;T&gt; i = rest.iterator();\nT head = i.next();\ni.remove(); ?","body":"Would it be faster to use Iterator instead of using list? E.g.:   Set&lt;T&gt; rest = new HashSet&lt;T&gt;(originalSet); Iterator&lt;T&gt; i = rest.iterator(); T head = i.next(); i.remove(); ?"},{"owner":{"account_id":261099,"reputation":1526,"user_id":545061,"accept_rate":55,"display_name":"Cosmin Cosmin"},"score":0,"creation_date":1379543555,"post_id":1670871,"comment_id":27870701,"body_markdown":"this is based on the &#39;side effect&#39; that addAll ignores empty sets","body":"this is based on the &#39;side effect&#39; that addAll ignores empty sets"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1426222473,"post_id":1670871,"comment_id":46292669,"body_markdown":"@CosminVacaroiu ...what else could it possibly do?","body":"@CosminVacaroiu ...what else could it possibly do?"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":4,"creation_date":1432475592,"post_id":1670871,"comment_id":48933895,"body_markdown":"Are you sure it&#39;s `O(2^n)`? That&#39;s the number of sets in the power set, but each set has to be created in memory, which takes time proportional to the set size at least. According to wolfram alpha, it&#39;s in `O(n * 2^n)`: [wolfram alpha query](https://www.wolframalpha.com/input/?i=sum+x+*+%28n+choose+x%29%2C+x%3D0+to+n)","body":"Are you sure it&#39;s <code>O(2^n)</code>? That&#39;s the number of sets in the power set, but each set has to be created in memory, which takes time proportional to the set size at least. According to wolfram alpha, it&#39;s in <code>O(n * 2^n)</code>: <a href=\"https://www.wolframalpha.com/input/?i=sum+x+%2A+%28n+choose+x%29%2C+x%3D0+to+n\" rel=\"nofollow noreferrer\">wolfram alpha query</a>"},{"owner":{"account_id":5727952,"reputation":394,"user_id":4524421,"accept_rate":33,"display_name":"bane19"},"score":1,"creation_date":1436462030,"post_id":1670871,"comment_id":50634650,"body_markdown":"Would this work even if size of the set is in the order of 10^5 ?","body":"Would this work even if size of the set is in the order of 10^5 ?"},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":1,"creation_date":1470665333,"post_id":1670871,"comment_id":65028092,"body_markdown":"@GauravShankar 2^100=2^(10^2) already is larger than 10^30. You&#39;ll not witness the calculation finish on no matter which turing-machine you&#39;re going to calculate it.","body":"@GauravShankar 2^100=2^(10^2) already is larger than 10^30. You&#39;ll not witness the calculation finish on no matter which turing-machine you&#39;re going to calculate it."},{"owner":{"account_id":5924590,"reputation":8476,"user_id":4660897,"accept_rate":89,"display_name":"Tot Zam"},"score":0,"creation_date":1503868927,"post_id":1670871,"comment_id":78777657,"body_markdown":"Would it be better to use `list.remove(0)` over `list.subList(1, list.size())`?","body":"Would it be better to use <code>list.remove(0)</code> over <code>list.subList(1, list.size())</code>?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1523710331,"post_id":1670871,"comment_id":86678481,"body_markdown":"the code works fine but I am unable to understand it. Is it possible to add some comments in the code. Thanks","body":"the code works fine but I am unable to understand it. Is it possible to add some comments in the code. Thanks"},{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":1,"creation_date":1617837450,"post_id":1670871,"comment_id":118422628,"body_markdown":"Oh wow @ManuelAraoz, 11 years have passed since I wrote this answer. I also didn&#39;t realize you worked on OpenZeppelin, I can&#39;t tell you how thankful I am for that, I use it on a daily basis :-)","body":"Oh wow @ManuelAraoz, 11 years have passed since I wrote this answer. I also didn&#39;t realize you worked on OpenZeppelin, I can&#39;t tell you how thankful I am for that, I use it on a daily basis :-)"},{"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"score":0,"creation_date":1617898492,"post_id":1670871,"comment_id":118444495,"body_markdown":"@Jo&#227;oSilva yeah I asked back when I was in college, I ended up using your code for a project so I&#39;m also thankful!","body":"@Jo&#227;oSilva yeah I asked back when I was in college, I ended up using your code for a project so I&#39;m also thankful!"}],"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":10,"down_vote_count":1,"up_vote_count":104,"is_accepted":true,"score":103,"last_activity_date":1257293494,"creation_date":1257291622,"answer_id":1670871,"question_id":1670862,"body_markdown":"Yes, it is `O(2^n)` indeed, since you need to generate, well, `2^n` possible combinations. Here&#39;s a working implementation, using generics and sets:\r\n\r\n    public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(Set&lt;T&gt; originalSet) {\r\n    \tSet&lt;Set&lt;T&gt;&gt; sets = new HashSet&lt;Set&lt;T&gt;&gt;();\r\n    \tif (originalSet.isEmpty()) {\r\n    \t\tsets.add(new HashSet&lt;T&gt;());\r\n    \t\treturn sets;\r\n    \t}\r\n    \tList&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\r\n    \tT head = list.get(0);\r\n    \tSet&lt;T&gt; rest = new HashSet&lt;T&gt;(list.subList(1, list.size())); \r\n    \tfor (Set&lt;T&gt; set : powerSet(rest)) {\r\n    \t\tSet&lt;T&gt; newSet = new HashSet&lt;T&gt;();\r\n    \t\tnewSet.add(head);\r\n    \t\tnewSet.addAll(set);\r\n    \t\tsets.add(newSet);\r\n    \t\tsets.add(set);\r\n    \t}\t\t\r\n    \treturn sets;\r\n    }  \r\n\r\nAnd a test, given your example input:\r\n\r\n     Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\r\n     mySet.add(1);\r\n     mySet.add(2);\r\n     mySet.add(3);\r\n     for (Set&lt;Integer&gt; s : SetUtils.powerSet(mySet)) {\r\n         System.out.println(s);\r\n     }","title":"Obtaining a powerset of a set in Java","body":"<p>Yes, it is <code>O(2^n)</code> indeed, since you need to generate, well, <code>2^n</code> possible combinations. Here's a working implementation, using generics and sets:</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(Set&lt;T&gt; originalSet) {\n    Set&lt;Set&lt;T&gt;&gt; sets = new HashSet&lt;Set&lt;T&gt;&gt;();\n    if (originalSet.isEmpty()) {\n        sets.add(new HashSet&lt;T&gt;());\n        return sets;\n    }\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\n    T head = list.get(0);\n    Set&lt;T&gt; rest = new HashSet&lt;T&gt;(list.subList(1, list.size())); \n    for (Set&lt;T&gt; set : powerSet(rest)) {\n        Set&lt;T&gt; newSet = new HashSet&lt;T&gt;();\n        newSet.add(head);\n        newSet.addAll(set);\n        sets.add(newSet);\n        sets.add(set);\n    }       \n    return sets;\n}  \n</code></pre>\n\n<p>And a test, given your example input:</p>\n\n<pre><code> Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\n mySet.add(1);\n mySet.add(2);\n mySet.add(3);\n for (Set&lt;Integer&gt; s : SetUtils.powerSet(mySet)) {\n     System.out.println(s);\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":224950,"reputation":7903,"user_id":485146,"accept_rate":90,"display_name":"Maggie"},"score":3,"creation_date":1379397221,"post_id":1670878,"comment_id":27798616,"body_markdown":"Isn&#39;t complexity (n*2^n)? Because binary string is of length n, and in each iteration of the main loop we iterate the entire binary string.","body":"Isn&#39;t complexity (n*2^n)? Because binary string is of length n, and in each iteration of the main loop we iterate the entire binary string."},{"owner":{"account_id":7354417,"reputation":505,"user_id":5599580,"accept_rate":50,"display_name":"Eugenia Ozirna"},"score":1,"creation_date":1484209715,"post_id":1670878,"comment_id":70418209,"body_markdown":"Tutorial is great BUT I have used this technique in solving the HackerRank problem: it passed only half of the test cases, and the other half failed due timeout or caused runtime error.","body":"Tutorial is great BUT I have used this technique in solving the HackerRank problem: it passed only half of the test cases, and the other half failed due timeout or caused runtime error."}],"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1257292182,"creation_date":1257291702,"answer_id":1670878,"question_id":1670862,"body_markdown":"[Here][1] is a tutorial describing exactly what you want, including the code.  You&#39;re correct in that the complexity is O(2^n).\r\n\r\n  [1]: http://jvalentino.blogspot.com/2007/02/shortcut-to-calculating-power-set-using.html","title":"Obtaining a powerset of a set in Java","body":"<p><a href=\"http://jvalentino.blogspot.com/2007/02/shortcut-to-calculating-power-set-using.html\" rel=\"noreferrer\">Here</a> is a tutorial describing exactly what you want, including the code.  You're correct in that the complexity is O(2^n).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257292848,"creation_date":1257292848,"answer_id":1670953,"question_id":1670862,"body_markdown":"If S is a finite set with N elements, then the power set of S contains 2^N elements.  The time to simply enumerate the elements of the powerset is 2^N, so `O(2^N)` is a lower bound on the time complexity of (eagerly) constructing the powerset.\r\n\r\nPut simply, any computation that involves creating powersets is not going to scale for large values of N.  No clever algorithm will help you ... apart from avoiding the need to create the powersets!","title":"Obtaining a powerset of a set in Java","body":"<p>If S is a finite set with N elements, then the power set of S contains 2^N elements.  The time to simply enumerate the elements of the powerset is 2^N, so <code>O(2^N)</code> is a lower bound on the time complexity of (eagerly) constructing the powerset.</p>\n\n<p>Put simply, any computation that involves creating powersets is not going to scale for large values of N.  No clever algorithm will help you ... apart from avoiding the need to create the powersets!</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":0,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1478030016,"creation_date":1257294069,"answer_id":1671011,"question_id":1670862,"body_markdown":"Actually, I&#39;ve written code that does what you&#39;re asking for in O(1).  The question is what you plan to *do* with the Set next.  If you&#39;re just going to call `size()` on it, that&#39;s O(1), but if you&#39;re going to iterate it that&#39;s obviously `O(2^n)`.\r\n\r\n`contains()` would be `O(n)`, etc.\r\n\r\nDo you really need this?\r\n\r\n**EDIT:**\r\n\r\nThis code is [now available in Guava][1], exposed through the method [`Sets.powerSet(set)`][2].\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L1257\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#powerSet%28java.util.Set%29","title":"Obtaining a powerset of a set in Java","body":"<p>Actually, I've written code that does what you're asking for in O(1).  The question is what you plan to <em>do</em> with the Set next.  If you're just going to call <code>size()</code> on it, that's O(1), but if you're going to iterate it that's obviously <code>O(2^n)</code>.</p>\n\n<p><code>contains()</code> would be <code>O(n)</code>, etc.</p>\n\n<p>Do you really need this?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This code is <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L1257\" rel=\"noreferrer\">now available in Guava</a>, exposed through the method <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#powerSet%28java.util.Set%29\" rel=\"noreferrer\"><code>Sets.powerSet(set)</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":3132,"reputation":5748,"user_id":4454,"accept_rate":59,"display_name":"Eyal"},"score":0,"creation_date":1395671375,"post_id":3078491,"comment_id":34430764,"body_markdown":"The Guava one works much like this one, but is restricted to 32 elements.  That&#39;s not unreasonable because 2**32 is probably too many iterations.  It uses even less memory than yours because it generates the AbstractSet only when needed.  Try your code against the Guava one where you println only 1 in 10,000 elements, and make a big example.  I bet that the Guava one will be faster.","body":"The Guava one works much like this one, but is restricted to 32 elements.  That&#39;s not unreasonable because 2**32 is probably too many iterations.  It uses even less memory than yours because it generates the AbstractSet only when needed.  Try your code against the Guava one where you println only 1 in 10,000 elements, and make a big example.  I bet that the Guava one will be faster."},{"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"score":0,"creation_date":1396385352,"post_id":3078491,"comment_id":34761447,"body_markdown":"@Eyal, I&#39;m sure it does, I never claimed otherwise. I wrote this myself, it&#39;s not intended for production code. It was an exercise in algorithms.","body":"@Eyal, I&#39;m sure it does, I never claimed otherwise. I wrote this myself, it&#39;s not intended for production code. It was an exercise in algorithms."},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":1,"creation_date":1484696130,"post_id":3078491,"comment_id":70613307,"body_markdown":"Minor remark: your &#39;returnSet&#39; is a TreeSet, which requires that its items are comparable. This may not be the case. Consider swapping it for a HashSet or LinkedHashSet","body":"Minor remark: your &#39;returnSet&#39; is a TreeSet, which requires that its items are comparable. This may not be the case. Consider swapping it for a HashSet or LinkedHashSet"}],"tags":[],"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1401363765,"creation_date":1277018262,"answer_id":3078491,"question_id":1670862,"body_markdown":"Here&#39;s a solution where I use a generator, the advantage being, the entire power set is never stored at once... So you can iterate over it one-by-one without needing it to be stored in memory. I&#39;d like to think it&#39;s a better option... Note the complexity is the same, O(2^n), but the memory requirements are reduced (assuming the garbage collector behaves! ;) )\r\n\r\n    /**\r\n     *\r\n     */\r\n    package org.mechaevil.util.Algorithms;\r\n\r\n    import java.util.BitSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n\r\n    /**\r\n     * @author st0le\r\n     *\r\n     */\r\n    public class PowerSet&lt;E&gt; implements Iterator&lt;Set&lt;E&gt;&gt;,Iterable&lt;Set&lt;E&gt;&gt;{\r\n        private E[] arr = null;\r\n        private BitSet bset = null;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public PowerSet(Set&lt;E&gt; set)\r\n        {\r\n            arr = (E[])set.toArray();\r\n            bset = new BitSet(arr.length + 1);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return !bset.get(arr.length);\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;E&gt; next() {\r\n            Set&lt;E&gt; returnSet = new TreeSet&lt;E&gt;();\r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                if(bset.get(i))\r\n                    returnSet.add(arr[i]);\r\n            }\r\n            //increment bset\r\n            for(int i = 0; i &lt; bset.size(); i++)\r\n            {\r\n                if(!bset.get(i))\r\n                {\r\n                    bset.set(i);\r\n                    break;\r\n                }else\r\n                    bset.clear(i);\r\n            }\r\n\r\n            return returnSet;\r\n        }\r\n\r\n        @Override\r\n        public void remove() {\r\n            throw new UnsupportedOperationException(&quot;Not Supported!&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;Set&lt;E&gt;&gt; iterator() {\r\n            return this;\r\n        }\r\n\r\n    }\r\n\r\nTo call it, use this pattern:\r\n\r\n            Set&lt;Character&gt; set = new TreeSet&lt;Character&gt; ();\r\n            for(int i = 0; i &lt; 5; i++)\r\n                set.add((char) (i + &#39;A&#39;));\r\n\r\n            PowerSet&lt;Character&gt; pset = new PowerSet&lt;Character&gt;(set);\r\n            for(Set&lt;Character&gt; s:pset)\r\n            {\r\n                System.out.println(s);\r\n            }\r\n\r\nIt&#39;s from my Project Euler Library... :)\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>Here's a solution where I use a generator, the advantage being, the entire power set is never stored at once... So you can iterate over it one-by-one without needing it to be stored in memory. I'd like to think it's a better option... Note the complexity is the same, O(2^n), but the memory requirements are reduced (assuming the garbage collector behaves! ;) )</p>\n\n<pre><code>/**\n *\n */\npackage org.mechaevil.util.Algorithms;\n\nimport java.util.BitSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.TreeSet;\n\n/**\n * @author st0le\n *\n */\npublic class PowerSet&lt;E&gt; implements Iterator&lt;Set&lt;E&gt;&gt;,Iterable&lt;Set&lt;E&gt;&gt;{\n    private E[] arr = null;\n    private BitSet bset = null;\n\n    @SuppressWarnings(\"unchecked\")\n    public PowerSet(Set&lt;E&gt; set)\n    {\n        arr = (E[])set.toArray();\n        bset = new BitSet(arr.length + 1);\n    }\n\n    @Override\n    public boolean hasNext() {\n        return !bset.get(arr.length);\n    }\n\n    @Override\n    public Set&lt;E&gt; next() {\n        Set&lt;E&gt; returnSet = new TreeSet&lt;E&gt;();\n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            if(bset.get(i))\n                returnSet.add(arr[i]);\n        }\n        //increment bset\n        for(int i = 0; i &lt; bset.size(); i++)\n        {\n            if(!bset.get(i))\n            {\n                bset.set(i);\n                break;\n            }else\n                bset.clear(i);\n        }\n\n        return returnSet;\n    }\n\n    @Override\n    public void remove() {\n        throw new UnsupportedOperationException(\"Not Supported!\");\n    }\n\n    @Override\n    public Iterator&lt;Set&lt;E&gt;&gt; iterator() {\n        return this;\n    }\n\n}\n</code></pre>\n\n<p>To call it, use this pattern:</p>\n\n<pre><code>        Set&lt;Character&gt; set = new TreeSet&lt;Character&gt; ();\n        for(int i = 0; i &lt; 5; i++)\n            set.add((char) (i + 'A'));\n\n        PowerSet&lt;Character&gt; pset = new PowerSet&lt;Character&gt;(set);\n        for(Set&lt;Character&gt; s:pset)\n        {\n            System.out.println(s);\n        }\n</code></pre>\n\n<p>It's from my Project Euler Library... :)</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1401364036,"post_id":5637478,"comment_id":36860126,"body_markdown":"Isn&#39;t powerSetofNodes() missing a &quot;}&quot; at the end?","body":"Isn&#39;t powerSetofNodes() missing a &quot;}&quot; at the end?"}],"tags":[],"owner":{"account_id":732222,"reputation":41,"user_id":690910,"display_name":"Ben"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401363848,"creation_date":1302621045,"answer_id":5637478,"question_id":1670862,"body_markdown":"I was looking for a solution that wasn&#39;t as huge as the ones posted here. This targets Java 7, so it will require a handful of pastes for versions 5 and 6.\r\n\r\n    Set&lt;Set&lt;Object&gt;&gt; powerSetofNodes(Set&lt;Object&gt; orig) {\r\n        Set&lt;Set&lt;Object&gt;&gt; powerSet = new HashSet&lt;&gt;(),\r\n            runSet = new HashSet&lt;&gt;(),\r\n            thisSet = new HashSet&lt;&gt;();\r\n\r\n        while (powerSet.size() &lt; (Math.pow(2, orig.size())-1)) {\r\n            if (powerSet.isEmpty()) {\r\n                for (Object o : orig) {\r\n                    Set&lt;Object&gt; s = new TreeSet&lt;&gt;();\r\n                    s.add(o);\r\n                    runSet.add(s);\r\n                    powerSet.add(s);\r\n                }\r\n                continue;\r\n            }\r\n            for (Object o : orig) {\r\n                for (Set&lt;Object&gt; s : runSet) {\r\n                    Set&lt;Object&gt; s2 = new TreeSet&lt;&gt;();\r\n                    s2.addAll(s);\r\n                    s2.add(o);\r\n                    powerSet.add(s2);\r\n                    thisSet.add(s2);\r\n                }\r\n            }\r\n            runSet.clear();\r\n            runSet.addAll(thisSet);\r\n            thisSet.clear();\r\n        }\r\n        powerSet.add(new TreeSet());\r\n        return powerSet;\r\n\r\nHere&#39;s some example code to test:\r\n\r\n    Set&lt;Object&gt; hs = new HashSet&lt;&gt;();\r\n    hs.add(1);\r\n    hs.add(2);\r\n    hs.add(3);\r\n    hs.add(4);\r\n    for(Set&lt;Object&gt; s : powerSetofNodes(hs)) {\r\n        System.out.println(Arrays.toString(s.toArray()));\r\n    }\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>I was looking for a solution that wasn't as huge as the ones posted here. This targets Java 7, so it will require a handful of pastes for versions 5 and 6.</p>\n\n<pre><code>Set&lt;Set&lt;Object&gt;&gt; powerSetofNodes(Set&lt;Object&gt; orig) {\n    Set&lt;Set&lt;Object&gt;&gt; powerSet = new HashSet&lt;&gt;(),\n        runSet = new HashSet&lt;&gt;(),\n        thisSet = new HashSet&lt;&gt;();\n\n    while (powerSet.size() &lt; (Math.pow(2, orig.size())-1)) {\n        if (powerSet.isEmpty()) {\n            for (Object o : orig) {\n                Set&lt;Object&gt; s = new TreeSet&lt;&gt;();\n                s.add(o);\n                runSet.add(s);\n                powerSet.add(s);\n            }\n            continue;\n        }\n        for (Object o : orig) {\n            for (Set&lt;Object&gt; s : runSet) {\n                Set&lt;Object&gt; s2 = new TreeSet&lt;&gt;();\n                s2.addAll(s);\n                s2.add(o);\n                powerSet.add(s2);\n                thisSet.add(s2);\n            }\n        }\n        runSet.clear();\n        runSet.addAll(thisSet);\n        thisSet.clear();\n    }\n    powerSet.add(new TreeSet());\n    return powerSet;\n</code></pre>\n\n<p>Here's some example code to test:</p>\n\n<pre><code>Set&lt;Object&gt; hs = new HashSet&lt;&gt;();\nhs.add(1);\nhs.add(2);\nhs.add(3);\nhs.add(4);\nfor(Set&lt;Object&gt; s : powerSetofNodes(hs)) {\n    System.out.println(Arrays.toString(s.toArray()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1182912,"reputation":19,"user_id":1157443,"display_name":"Orestis"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1326933485,"creation_date":1326933485,"answer_id":8919604,"question_id":1670862,"body_markdown":"One way without recursion is the following: Use a binary mask and make all the possible combinations.\r\n\t\r\n\tpublic HashSet&lt;HashSet&gt; createPowerSet(Object[] array)\r\n\t{\r\n\t\tHashSet&lt;HashSet&gt; powerSet=new HashSet();\r\n\t\tboolean[] mask= new boolean[array.length];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;Math.pow(2, array.length);i++)\r\n\t\t{\r\n\t\t\tHashSet set=new HashSet();\r\n\t\t\tfor(int j=0;j&lt;mask.length;j++)\r\n\t\t\t{\r\n\t\t\t\tif(mask[i])\r\n\t\t\t\t\tset.add(array[j]);\r\n\t\t\t}\r\n\t\t\tpowerSet.add(set);\t\t\r\n\t\t\t\r\n\t\t\tincreaseMask(mask);\r\n\t\t}\r\n\t\t\r\n\t\treturn powerSet;\r\n\t}\r\n\r\n    public void increaseMask(boolean[] mask)\r\n\t{\r\n\t\tboolean carry=false;\r\n\t\t\r\n\t\tif(mask[0])\r\n\t\t\t{\r\n\t\t\t\tmask[0]=false;\r\n\t\t\t\tcarry=true;\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tmask[0]=true;\r\n\t\t\r\n\t\tfor(int i=1;i&lt;mask.length;i++)\r\n\t\t{\r\n\t\t\tif(mask[i]==true &amp;&amp; carry==true)\r\n\t\t\tmask[i]=false;\r\n\t\t\telse if (mask[i]==false &amp;&amp; carry==true)\r\n\t\t\t{\r\n\t\t\t\tmask[i]=true;\r\n\t\t\t\tcarry=false;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>One way without recursion is the following: Use a binary mask and make all the possible combinations.</p>\n\n<pre><code>public HashSet&lt;HashSet&gt; createPowerSet(Object[] array)\n{\n    HashSet&lt;HashSet&gt; powerSet=new HashSet();\n    boolean[] mask= new boolean[array.length];\n\n    for(int i=0;i&lt;Math.pow(2, array.length);i++)\n    {\n        HashSet set=new HashSet();\n        for(int j=0;j&lt;mask.length;j++)\n        {\n            if(mask[i])\n                set.add(array[j]);\n        }\n        powerSet.add(set);      \n\n        increaseMask(mask);\n    }\n\n    return powerSet;\n}\n\npublic void increaseMask(boolean[] mask)\n{\n    boolean carry=false;\n\n    if(mask[0])\n        {\n            mask[0]=false;\n            carry=true;\n        }\n    else\n        mask[0]=true;\n\n    for(int i=1;i&lt;mask.length;i++)\n    {\n        if(mask[i]==true &amp;&amp; carry==true)\n        mask[i]=false;\n        else if (mask[i]==false &amp;&amp; carry==true)\n        {\n            mask[i]=true;\n            carry=false;\n        }\n        else \n            break;\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2537889,"reputation":163,"user_id":2290143,"display_name":"BoLe"},"score":0,"creation_date":1486465895,"post_id":14071492,"comment_id":71346737,"body_markdown":"Two things I modified: looping in getCombination, instead of numbers.length (or bits.size()), one can iterate to bits.length(), which speeds-up generation slightly. Finally, I sorted the subsets by size for my problem requires that.","body":"Two things I modified: looping in getCombination, instead of numbers.length (or bits.size()), one can iterate to bits.length(), which speeds-up generation slightly. Finally, I sorted the subsets by size for my problem requires that."}],"tags":[],"owner":{"account_id":1099415,"reputation":1805,"user_id":1092195,"display_name":"Harry He"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361955194,"creation_date":1356707139,"answer_id":14071492,"question_id":1670862,"body_markdown":"The following solution is borrowed from my book &quot;[Coding Interviews: Questions, Analysis &amp; Solutions][1]&quot;:\r\n\r\nSome integers in an array are selected that compose a combination. A set of bits is utilized, where each bit stands for an integer in the array. If the *i-th* character is selected for a combination, the *i-th* bit is 1; otherwise, it is 0. For instance, three bits are used for combinations of the array [1, 2, 3]. If the first two integers 1 and 2 are selected to compose a combination [1, 2], the corresponding bits are {1, 1, 0}. Similarly, bits corresponding to another combination [1, 3] are {1, 0, 1}. We are able to get all combinations of an array with length *n* if we can get all possible combinations of *n* bits.\r\n\r\nA number is composed of a set of bits. All possible combinations of *n* bits correspond to numbers\r\nfrom 1 to 2^*n*-1. Therefore, each number in the range between 1 and 2^*n*-1 corresponds to a combination of an array with length *n*. For example, the number 6 is composed of bits {1, 1, 0}, so the first and second characters are selected in the array [1, 2, 3] to generate the combination [1, 2]. Similarly, the number 5 with bits {1, 0, 1} corresponds to the combination [1, 3].\r\n\r\nThe Java code to implement this solution looks like below:\r\n\r\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet(int[] numbers) {\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; combinations = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); \r\n        BitSet bits = new BitSet(numbers.length);\r\n        do{\r\n            combinations.add(getCombination(numbers, bits));\r\n        }while(increment(bits, numbers.length));\r\n        \r\n        return combinations;\r\n    }\r\n    \r\n    private static boolean increment(BitSet bits, int length) {\r\n        int index = length - 1;\r\n        \r\n        while(index &gt;= 0 &amp;&amp; bits.get(index)) {\r\n            bits.clear(index);\r\n            --index;\r\n        }\r\n        \r\n        if(index &lt; 0)\r\n            return false;\r\n        \r\n        bits.set(index);\r\n        return true;\r\n    }\r\n\r\n    private static ArrayList&lt;Integer&gt; getCombination(int[] numbers, BitSet bits){\r\n        ArrayList&lt;Integer&gt; combination = new ArrayList&lt;Integer&gt;();\r\n        for(int i = 0; i &lt; numbers.length; ++i) {\r\n            if(bits.get(i))\r\n                combination.add(numbers[i]);\r\n        }\r\n        \r\n        return combination;\r\n    }\r\n\r\nThe method increment increases a number represented in a set of bits. The algorithm clears 1 bits\r\nfrom the rightmost bit until a 0 bit is found. It then sets the rightmost 0 bit to 1. For example, in order to increase the number 5 with bits {1, 0, 1}, it clears 1 bits from the right side and sets the rightmost 0 bit to 1. The bits become {1, 1, 0} for the number 6, which is the result of increasing 5 by 1.\r\n\r\n\r\n  [1]: http://www.amazon.com/Coding-Interviews-Questions-Analysis-Solutions/dp/1430247614","title":"Obtaining a powerset of a set in Java","body":"<p>The following solution is borrowed from my book \"<a href=\"https://rads.stackoverflow.com/amzn/click/com/1430247614\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Coding Interviews: Questions, Analysis &amp; Solutions</a>\":</p>\n\n<p>Some integers in an array are selected that compose a combination. A set of bits is utilized, where each bit stands for an integer in the array. If the <em>i-th</em> character is selected for a combination, the <em>i-th</em> bit is 1; otherwise, it is 0. For instance, three bits are used for combinations of the array [1, 2, 3]. If the first two integers 1 and 2 are selected to compose a combination [1, 2], the corresponding bits are {1, 1, 0}. Similarly, bits corresponding to another combination [1, 3] are {1, 0, 1}. We are able to get all combinations of an array with length <em>n</em> if we can get all possible combinations of <em>n</em> bits.</p>\n\n<p>A number is composed of a set of bits. All possible combinations of <em>n</em> bits correspond to numbers\nfrom 1 to 2^<em>n</em>-1. Therefore, each number in the range between 1 and 2^<em>n</em>-1 corresponds to a combination of an array with length <em>n</em>. For example, the number 6 is composed of bits {1, 1, 0}, so the first and second characters are selected in the array [1, 2, 3] to generate the combination [1, 2]. Similarly, the number 5 with bits {1, 0, 1} corresponds to the combination [1, 3].</p>\n\n<p>The Java code to implement this solution looks like below:</p>\n\n<pre><code>public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet(int[] numbers) {\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; combinations = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); \n    BitSet bits = new BitSet(numbers.length);\n    do{\n        combinations.add(getCombination(numbers, bits));\n    }while(increment(bits, numbers.length));\n\n    return combinations;\n}\n\nprivate static boolean increment(BitSet bits, int length) {\n    int index = length - 1;\n\n    while(index &gt;= 0 &amp;&amp; bits.get(index)) {\n        bits.clear(index);\n        --index;\n    }\n\n    if(index &lt; 0)\n        return false;\n\n    bits.set(index);\n    return true;\n}\n\nprivate static ArrayList&lt;Integer&gt; getCombination(int[] numbers, BitSet bits){\n    ArrayList&lt;Integer&gt; combination = new ArrayList&lt;Integer&gt;();\n    for(int i = 0; i &lt; numbers.length; ++i) {\n        if(bits.get(i))\n            combination.add(numbers[i]);\n    }\n\n    return combination;\n}\n</code></pre>\n\n<p>The method increment increases a number represented in a set of bits. The algorithm clears 1 bits\nfrom the rightmost bit until a 0 bit is found. It then sets the rightmost 0 bit to 1. For example, in order to increase the number 5 with bits {1, 0, 1}, it clears 1 bits from the right side and sets the rightmost 0 bit to 1. The bits become {1, 1, 0} for the number 6, which is the result of increasing 5 by 1.</p>\n"},{"tags":[],"owner":{"account_id":202758,"reputation":326,"user_id":450004,"display_name":"George Fairbanks"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359064799,"creation_date":1359064799,"answer_id":14511595,"question_id":1670862,"body_markdown":"Some of the solutions above suffer when the size of the set is large because they are creating a lot of object garbage to be collected and require copying data.  How can we avoid that?  We can take advantage of the fact that we know how big the result set size will be (2^n), preallocate an array that big, and just append to the end of it, never copying.\r\n\r\nThe speedup grows quickly with n.  I compared it to Jo&#227;o Silva&#39;s solution above.  On my machine (all measurements approximate), n=13 is 5x faster, n=14 is 7x, n=15 is 12x, n=16 is 25x, n=17 is 75x, n=18 is 140x.  So that garbage creation/collection and copying is dominating in what otherwise seem to be similar big-O solutions.\r\n\r\nPreallocating the array at the beginning appears to be a win compared to letting it grow dynamically.  With n=18, dynamic growing takes about twice as long overall.\r\n\r\n\tpublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; powerSet(List&lt;T&gt; originalSet) {\r\n\t\t// result size will be 2^n, where n=size(originalset)\r\n\t\t// good to initialize the array size to avoid dynamic growing\r\n\t\tint resultSize = (int) Math.pow(2, originalSet.size());\r\n\t\t// resultPowerSet is what we will return\r\n\t\tList&lt;List&lt;T&gt;&gt; resultPowerSet = new ArrayList&lt;List&lt;T&gt;&gt;(resultSize);\r\n\t\t\r\n\t\t// Initialize result with the empty set, which powersets contain by definition\r\n\t\tresultPowerSet.add(new ArrayList&lt;T&gt;(0)); \r\n\r\n\t\t// for every item in the original list\r\n\t\tfor (T itemFromOriginalSet : originalSet) {\r\n\t\t\t\r\n\t\t\t// iterate through the existing powerset result\r\n\t\t\t// loop through subset and append to the resultPowerset as we go\r\n\t\t\t// must remember size at the beginning, before we append new elements\r\n\t\t\tint startingResultSize = resultPowerSet.size();\r\n\t\t\tfor (int i=0; i&lt;startingResultSize; i++) {\r\n\t\t\t\t// start with an existing element of the powerset\r\n\t\t\t\tList&lt;T&gt; oldSubset = resultPowerSet.get(i);\r\n\t\t\t\t\r\n\t\t\t\t// create a new element by adding a new item from the original list\r\n\t\t\t\tList&lt;T&gt; newSubset = new ArrayList&lt;T&gt;(oldSubset);\r\n\t\t\t\tnewSubset.add(itemFromOriginalSet);\r\n\t\t\t\t\r\n\t\t\t\t// add this element to the result powerset (past startingResultSize)\r\n\t\t\t\tresultPowerSet.add(newSubset);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultPowerSet;\r\n\t}","title":"Obtaining a powerset of a set in Java","body":"<p>Some of the solutions above suffer when the size of the set is large because they are creating a lot of object garbage to be collected and require copying data.  How can we avoid that?  We can take advantage of the fact that we know how big the result set size will be (2^n), preallocate an array that big, and just append to the end of it, never copying.</p>\n\n<p>The speedup grows quickly with n.  I compared it to João Silva's solution above.  On my machine (all measurements approximate), n=13 is 5x faster, n=14 is 7x, n=15 is 12x, n=16 is 25x, n=17 is 75x, n=18 is 140x.  So that garbage creation/collection and copying is dominating in what otherwise seem to be similar big-O solutions.</p>\n\n<p>Preallocating the array at the beginning appears to be a win compared to letting it grow dynamically.  With n=18, dynamic growing takes about twice as long overall.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; powerSet(List&lt;T&gt; originalSet) {\n    // result size will be 2^n, where n=size(originalset)\n    // good to initialize the array size to avoid dynamic growing\n    int resultSize = (int) Math.pow(2, originalSet.size());\n    // resultPowerSet is what we will return\n    List&lt;List&lt;T&gt;&gt; resultPowerSet = new ArrayList&lt;List&lt;T&gt;&gt;(resultSize);\n\n    // Initialize result with the empty set, which powersets contain by definition\n    resultPowerSet.add(new ArrayList&lt;T&gt;(0)); \n\n    // for every item in the original list\n    for (T itemFromOriginalSet : originalSet) {\n\n        // iterate through the existing powerset result\n        // loop through subset and append to the resultPowerset as we go\n        // must remember size at the beginning, before we append new elements\n        int startingResultSize = resultPowerSet.size();\n        for (int i=0; i&lt;startingResultSize; i++) {\n            // start with an existing element of the powerset\n            List&lt;T&gt; oldSubset = resultPowerSet.get(i);\n\n            // create a new element by adding a new item from the original list\n            List&lt;T&gt; newSubset = new ArrayList&lt;T&gt;(oldSubset);\n            newSubset.add(itemFromOriginalSet);\n\n            // add this element to the result powerset (past startingResultSize)\n            resultPowerSet.add(newSubset);\n        }\n    }\n    return resultPowerSet;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":207501,"reputation":574,"user_id":457402,"display_name":"bazeusz"},"score":0,"creation_date":1388830334,"post_id":14818944,"comment_id":31407513,"body_markdown":"The termination condition in a for loop should be i &lt; (2 &lt;&lt; n - 1) instead of i &lt; (1 &lt;&lt; n - 1).","body":"The termination condition in a for loop should be i &lt; (2 &lt;&lt; n - 1) instead of i &lt; (1 &lt;&lt; n - 1)."},{"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"score":0,"creation_date":1397097715,"post_id":14818944,"comment_id":35088144,"body_markdown":"Thanks @bazeusz, I changed it to `i &lt; (1 &lt;&lt; n)` which is equivalent.","body":"Thanks @bazeusz, I changed it to <code>i &lt; (1 &lt;&lt; n)</code> which is equivalent."},{"owner":{"account_id":2535171,"reputation":946,"user_id":3955283,"display_name":"Ravi Tiwari"},"score":0,"creation_date":1604486682,"post_id":14818944,"comment_id":114359951,"body_markdown":"Since bit wise operations are used, I think `((i &gt;&gt; j) &amp;1) == 1` instead of `(i &gt;&gt; j) % 2 == 1`  can be used. \nAlso, `long` are signed, so, do you think check for overflow makes sense?","body":"Since bit wise operations are used, I think <code>((i &gt;&gt; j) &amp;1) == 1</code> instead of <code>(i &gt;&gt; j) % 2 == 1</code>  can be used.  Also, <code>long</code> are signed, so, do you think check for overflow makes sense?"}],"tags":[],"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1397097688,"creation_date":1360609030,"answer_id":14818944,"question_id":1670862,"body_markdown":"If n &lt; 63, which is a reasonable assumption since you&#39;d run out of memory (unless using an iterator implementation) trying to construct the power set anyway, this is a more concise way to do it. Binary operations are way faster than `Math.pow()` and arrays for masks, but somehow Java users are afraid of them...\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\r\n    int n = list.size();\r\n    \r\n    Set&lt;Set&lt;T&gt;&gt; powerSet = new HashSet&lt;Set&lt;T&gt;&gt;();\r\n    \r\n    for( long i = 0; i &lt; (1 &lt;&lt; n); i++) {\r\n        Set&lt;T&gt; element = new HashSet&lt;T&gt;();\r\n        for( int j = 0; j &lt; n; j++ )\r\n            if( (i &gt;&gt; j) % 2 == 1 ) element.add(list.get(j));\r\n        powerSet.add(element); \r\n    }\r\n    \r\n    return powerSet;","title":"Obtaining a powerset of a set in Java","body":"<p>If n &lt; 63, which is a reasonable assumption since you'd run out of memory (unless using an iterator implementation) trying to construct the power set anyway, this is a more concise way to do it. Binary operations are way faster than <code>Math.pow()</code> and arrays for masks, but somehow Java users are afraid of them...</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\nint n = list.size();\n\nSet&lt;Set&lt;T&gt;&gt; powerSet = new HashSet&lt;Set&lt;T&gt;&gt;();\n\nfor( long i = 0; i &lt; (1 &lt;&lt; n); i++) {\n    Set&lt;T&gt; element = new HashSet&lt;T&gt;();\n    for( int j = 0; j &lt; n; j++ )\n        if( (i &gt;&gt; j) % 2 == 1 ) element.add(list.get(j));\n    powerSet.add(element); \n}\n\nreturn powerSet;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365383,"reputation":2844,"user_id":710275,"accept_rate":73,"display_name":"Adolfo Perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1376682635,"creation_date":1376682002,"answer_id":18280926,"question_id":1670862,"body_markdown":"I came up with another solution based on @Harry He&#39;s ideas. Probably not the most elegant but here it goes as I understand it:\r\n\r\nLet&#39;s take the classical simple example PowerSet of S P(S) = {{1},{2},{3}}.\r\nWe know the formula to get the number of subsets is 2^n (7 + empty set). \r\nFor this example 2^3 = 8 subsets.\r\n\r\nIn order to find each subset we need to convert 0-7 decimal to binary representation shown in the conversion table below:\r\n\r\n![ConversionTable][1]\r\n\r\nIf we traverse the table row by row, each row will result in a subset and the values of each subset will come from the enabled bits.  \r\n\r\nEach column in the Bin Value section corresponds to the index position in the original input Set. \r\n\r\nHere my code:\r\n\r\n    public class PowerSet {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tPowerSet ps = new PowerSet();\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\tset.add(1);\r\n\t\tset.add(2);\r\n\t\tset.add(3);\r\n\t\tfor (Set&lt;Integer&gt; s : ps.powerSet(set)) {\r\n\t\t\tSystem.out.println(s);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Set&lt;Set&lt;Integer&gt;&gt; powerSet(Set&lt;Integer&gt; originalSet) {\r\n\t\t// Original set size e.g. 3\r\n\t\tint size = originalSet.size();\r\n\t\t// Number of subsets 2^n, e.g 2^3 = 8\r\n\t\tint numberOfSubSets = (int) Math.pow(2, size);\r\n\t\tSet&lt;Set&lt;Integer&gt;&gt; sets = new HashSet&lt;Set&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;Integer&gt; originalList = new ArrayList&lt;Integer&gt;(originalSet);\r\n\t\tfor (int i = 0; i &lt; numberOfSubSets; i++) {\r\n\t\t\t// Get binary representation of this index e.g. 010 = 2 for n = 3\r\n\t\t\tString bin = getPaddedBinString(i, size);\r\n\t\t\t//Get sub-set\r\n\t\t\tSet&lt;Integer&gt; set = getSet(bin, originalList));\r\n\t\t\tsets.add(set);\r\n\t\t}\r\n\t\treturn sets;\r\n\t}\r\n\r\n\t//Gets a sub-set based on the binary representation. E.g. for 010 where n = 3 it will bring a new Set with value 2\r\n\tprivate Set&lt;Integer&gt; getSet(String bin, List&lt;Integer&gt; origValues){\r\n\t\tSet&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\r\n\t\tfor(int i = bin.length()-1; i &gt;= 0; i--){\r\n\t\t\t//Only get sub-sets where bool flag is on\r\n\t\t\tif(bin.charAt(i) == &#39;1&#39;){\r\n\t\t\t\tint val = origValues.get(i);\r\n\t\t\t\tresult.add(val);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//Converts an int to Bin and adds left padding to zero&#39;s based on size\r\n\tprivate String getPaddedBinString(int i, int size) {\r\n\t\tString bin = Integer.toBinaryString(i);\r\n\t\tbin = String.format(&quot;%0&quot; + size + &quot;d&quot;, Integer.parseInt(bin));\r\n\t\treturn bin;\r\n\t}\r\n\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/KQkBn.png","title":"Obtaining a powerset of a set in Java","body":"<p>I came up with another solution based on @Harry He's ideas. Probably not the most elegant but here it goes as I understand it:</p>\n\n<p>Let's take the classical simple example PowerSet of S P(S) = {{1},{2},{3}}.\nWe know the formula to get the number of subsets is 2^n (7 + empty set). \nFor this example 2^3 = 8 subsets.</p>\n\n<p>In order to find each subset we need to convert 0-7 decimal to binary representation shown in the conversion table below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KQkBn.png\" alt=\"ConversionTable\"></p>\n\n<p>If we traverse the table row by row, each row will result in a subset and the values of each subset will come from the enabled bits.  </p>\n\n<p>Each column in the Bin Value section corresponds to the index position in the original input Set. </p>\n\n<p>Here my code:</p>\n\n<pre><code>public class PowerSet {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    PowerSet ps = new PowerSet();\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    set.add(1);\n    set.add(2);\n    set.add(3);\n    for (Set&lt;Integer&gt; s : ps.powerSet(set)) {\n        System.out.println(s);\n    }\n}\n\npublic Set&lt;Set&lt;Integer&gt;&gt; powerSet(Set&lt;Integer&gt; originalSet) {\n    // Original set size e.g. 3\n    int size = originalSet.size();\n    // Number of subsets 2^n, e.g 2^3 = 8\n    int numberOfSubSets = (int) Math.pow(2, size);\n    Set&lt;Set&lt;Integer&gt;&gt; sets = new HashSet&lt;Set&lt;Integer&gt;&gt;();\n    ArrayList&lt;Integer&gt; originalList = new ArrayList&lt;Integer&gt;(originalSet);\n    for (int i = 0; i &lt; numberOfSubSets; i++) {\n        // Get binary representation of this index e.g. 010 = 2 for n = 3\n        String bin = getPaddedBinString(i, size);\n        //Get sub-set\n        Set&lt;Integer&gt; set = getSet(bin, originalList));\n        sets.add(set);\n    }\n    return sets;\n}\n\n//Gets a sub-set based on the binary representation. E.g. for 010 where n = 3 it will bring a new Set with value 2\nprivate Set&lt;Integer&gt; getSet(String bin, List&lt;Integer&gt; origValues){\n    Set&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\n    for(int i = bin.length()-1; i &gt;= 0; i--){\n        //Only get sub-sets where bool flag is on\n        if(bin.charAt(i) == '1'){\n            int val = origValues.get(i);\n            result.add(val);\n        }\n    }\n    return result;\n}\n\n//Converts an int to Bin and adds left padding to zero's based on size\nprivate String getPaddedBinString(int i, int size) {\n    String bin = Integer.toBinaryString(i);\n    bin = String.format(\"%0\" + size + \"d\", Integer.parseInt(bin));\n    return bin;\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1393153838,"post_id":18498340,"comment_id":33285763,"body_markdown":"Can you share and explain the code of your solution?","body":"Can you share and explain the code of your solution?"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":3,"creation_date":1393273789,"post_id":18498340,"comment_id":33340620,"body_markdown":"You can look through the code here: https://github.com/goldmansachs/gs-collections/blob/2765876efc37cf0f6b450f17d3284398eb013a40/collections/src/main/java/com/gs/collections/impl/utility/internal/SetIterables.java#L136","body":"You can look through the code here: <a href=\"https://github.com/goldmansachs/gs-collections/blob/2765876efc37cf0f6b450f17d3284398eb013a40/collections/src/main/java/com/gs/collections/impl/utility/internal/SetIterables.java#L136\" rel=\"nofollow noreferrer\">github.com/goldmansachs/gs-collections/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473204705,"creation_date":1377724570,"answer_id":18498340,"question_id":1670862,"body_markdown":"If you&#39;re using [Eclipse Collections][1] (formerly [GS Collections][2]), you can use the `powerSet()` method on all SetIterables.\r\n\r\n    MutableSet&lt;Integer&gt; set = UnifiedSet.newSetWith(1, 2, 3);\r\n    System.out.println(&quot;powerSet = &quot; + set.powerSet());\r\n    // prints: powerSet = [[], [1], [2], [1, 2], [3], [1, 3], [2, 3], [1, 2, 3]]\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: https://github.com/goldmansachs/gs-collections","title":"Obtaining a powerset of a set in Java","body":"<p>If you're using <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly <a href=\"https://github.com/goldmansachs/gs-collections\" rel=\"nofollow\">GS Collections</a>), you can use the <code>powerSet()</code> method on all SetIterables.</p>\n\n<pre><code>MutableSet&lt;Integer&gt; set = UnifiedSet.newSetWith(1, 2, 3);\nSystem.out.println(\"powerSet = \" + set.powerSet());\n// prints: powerSet = [[], [1], [2], [1, 2], [3], [1, 3], [2, 3], [1, 2, 3]]\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":3008356,"reputation":31,"user_id":2552353,"display_name":"gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411357349,"creation_date":1411357349,"answer_id":25966397,"question_id":1670862,"body_markdown":"\r\nAlgorithm:\r\n\r\nInput: Set[], set_size\r\n1. Get the size of power set\r\n    powet_set_size = pow(2, set_size)\r\n2  Loop for counter from 0 to pow_set_size\r\n     (a) Loop for i = 0 to set_size\r\n          (i) If ith bit in counter is set\r\n               Print ith element from set for this subset\r\n     (b) Print seperator for subsets i.e., newline\r\n\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n     \r\n    void printPowerSet(char *set, int set_size)\r\n    {\r\n        /*set_size of power set of a set with set_size\r\n          n is (2**n -1)*/\r\n        unsigned int pow_set_size = pow(2, set_size);\r\n        int counter, j;\r\n     \r\n        /*Run from counter 000..0 to 111..1*/\r\n        for(counter = 0; counter &lt; pow_set_size; counter++)\r\n        {\r\n          for(j = 0; j &lt; set_size; j++)\r\n           {\r\n              /* Check if jth bit in the counter is set\r\n                 If set then pront jth element from set */\r\n              if(counter &amp; (1&lt;&lt;j))\r\n                printf(&quot;%c&quot;, set[j]);\r\n           }\r\n           printf(&quot;\\n&quot;);\r\n        }\r\n    }\r\n     \r\n    /*Driver program to test printPowerSet*/\r\n    int main()\r\n    {\r\n        char set[] = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;};\r\n        printPowerSet(set, 3);\r\n     \r\n        getchar();\r\n        return 0;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;","title":"Obtaining a powerset of a set in Java","body":"<p>Algorithm:</p>\n\n<p>Input: Set[], set_size\n1. Get the size of power set\n    powet_set_size = pow(2, set_size)\n2  Loop for counter from 0 to pow_set_size\n     (a) Loop for i = 0 to set_size\n          (i) If ith bit in counter is set\n               Print ith element from set for this subset\n     (b) Print seperator for subsets i.e., newline</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#include &lt;stdio.h&gt;\r\n#include &lt;math.h&gt;\r\n \r\nvoid printPowerSet(char *set, int set_size)\r\n{\r\n    /*set_size of power set of a set with set_size\r\n      n is (2**n -1)*/\r\n    unsigned int pow_set_size = pow(2, set_size);\r\n    int counter, j;\r\n \r\n    /*Run from counter 000..0 to 111..1*/\r\n    for(counter = 0; counter &lt; pow_set_size; counter++)\r\n    {\r\n      for(j = 0; j &lt; set_size; j++)\r\n       {\r\n          /* Check if jth bit in the counter is set\r\n             If set then pront jth element from set */\r\n          if(counter & (1&lt;&lt;j))\r\n            printf(\"%c\", set[j]);\r\n       }\r\n       printf(\"\\n\");\r\n    }\r\n}\r\n \r\n/*Driver program to test printPowerSet*/\r\nint main()\r\n{\r\n    char set[] = {'a','b','c'};\r\n    printPowerSet(set, 3);\r\n \r\n    getchar();\r\n    return 0;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":232459,"reputation":1722,"user_id":497313,"accept_rate":89,"display_name":"rossb83"},"score":1,"creation_date":1442998357,"post_id":26593031,"comment_id":53310946,"body_markdown":"This solution also uses O(2^n) space which would be too much for large input sets. Its better to follow the recursive definition, using a stack or a queue in place of the recursion.","body":"This solution also uses O(2^n) space which would be too much for large input sets. Its better to follow the recursive definition, using a stack or a queue in place of the recursion."}],"tags":[],"owner":{"account_id":3082946,"reputation":161,"user_id":2610780,"accept_rate":40,"display_name":"jump3r"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414430054,"creation_date":1414430054,"answer_id":26593031,"question_id":1670862,"body_markdown":"Here is an easy iterative O(2^n) solution:\r\n    \r\n    public static Set&lt;Set&lt;Integer&gt;&gt; powerSet(List&lt;Integer&gt; intList){\r\n        \r\n        Set&lt;Set&lt;Integer&gt;&gt; result = new HashSet();\r\n        result.add(new HashSet());\r\n        \r\n        for (Integer i : intList){\r\n\r\n            Set&lt;Set&lt;Integer&gt;&gt; temp = new HashSet();\r\n            \r\n            for(Set&lt;Integer&gt; intSet : result){\r\n                \r\n                intSet = new HashSet(intSet);\r\n                intSet.add(i);                \r\n                temp.add(intSet);\r\n            }\r\n            result.addAll(temp);\r\n        }\r\n        return result;\r\n    }\r\n    ","title":"Obtaining a powerset of a set in Java","body":"<p>Here is an easy iterative O(2^n) solution:</p>\n\n<pre><code>public static Set&lt;Set&lt;Integer&gt;&gt; powerSet(List&lt;Integer&gt; intList){\n\n    Set&lt;Set&lt;Integer&gt;&gt; result = new HashSet();\n    result.add(new HashSet());\n\n    for (Integer i : intList){\n\n        Set&lt;Set&lt;Integer&gt;&gt; temp = new HashSet();\n\n        for(Set&lt;Integer&gt; intSet : result){\n\n            intSet = new HashSet(intSet);\n            intSet.add(i);                \n            temp.add(intSet);\n        }\n        result.addAll(temp);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490020,"reputation":272,"user_id":1397333,"display_name":"Hazem Saleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419992072,"creation_date":1419989958,"answer_id":27715094,"question_id":1670862,"body_markdown":"This is my recursive solution which can get the power set of any set using Java Generics. Its main idea is to combine the head of the input array with all the possible solutions of the rest of the array as follows.\r\n \r\n\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n    \r\n    public class SetUtil {\r\n        private static&lt;T&gt;  Set&lt;Set&lt;T&gt;&gt; combine(T head, Set&lt;Set&lt;T&gt;&gt; set) {\r\n            Set&lt;Set&lt;T&gt;&gt; all = new LinkedHashSet&lt;&gt;();\r\n                    \r\n            for (Set&lt;T&gt; currentSet : set) {\r\n                Set&lt;T&gt; outputSet = new LinkedHashSet&lt;&gt;();\r\n                \r\n                outputSet.add(head);\r\n                outputSet.addAll(currentSet);\r\n                \r\n                all.add(outputSet);\r\n            }\r\n            \r\n            all.addAll(set);        \r\n            \r\n            return all;\r\n        }\r\n        \r\n        //Assuming that T[] is an array with no repeated elements ...\r\n        public static&lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] input) {\r\n            if (input.length == 0) {\r\n                Set &lt;Set&lt;T&gt;&gt;emptySet = new LinkedHashSet&lt;&gt;();\r\n        \r\n                emptySet.add(new LinkedHashSet&lt;T&gt;());\r\n        \r\n                return emptySet;\r\n            }\r\n    \r\n            T head = input[0];\r\n            T[] newInputSet = (T[]) new Object[input.length - 1];\r\n    \r\n            for (int i = 1; i &lt; input.length; ++i) {\r\n                newInputSet[i - 1] = input[i];\r\n            }\r\n    \r\n            Set&lt;Set&lt;T&gt;&gt; all = combine(head, powerSet(newInputSet));\r\n    \r\n            return all;\r\n        }\r\n        \r\n        public static void main(String[] args) {            \r\n            Set&lt;Set&lt;Integer&gt;&gt; set = SetUtil.powerSet(new Integer[] {1, 2, 3, 4, 5, 6});\r\n    \r\n            System.out.println(set);\r\n        }\r\n    }\r\n\r\nThis will output:\r\n\r\n    [[1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5], [1, 2, 3, 4, 6], [1, 2, 3, 4], [1, 2, 3, 5, 6], [1, 2, 3, 5], [1, 2, 3, 6], [1, 2, 3], [1, 2, 4, 5, 6], [1, 2, 4, 5], [1, 2, 4, 6], [1, 2, 4], [1, 2, 5, 6], [1, 2, 5], [1, 2, 6], [1, 2], [1, 3, 4, 5, 6], [1, 3, 4, 5], [1, 3, 4, 6], [1, 3, 4], [1, 3, 5, 6], [1, 3, 5], [1, 3, 6], [1, 3], [1, 4, 5, 6], [1, 4, 5], [1, 4, 6], [1, 4], [1, 5, 6], [1, 5], [1, 6], [1], [2, 3, 4, 5, 6], [2, 3, 4, 5], [2, 3, 4, 6], [2, 3, 4], [2, 3, 5, 6], [2, 3, 5], [2, 3, 6], [2, 3], [2, 4, 5, 6], [2, 4, 5], [2, 4, 6], [2, 4], [2, 5, 6], [2, 5], [2, 6], [2], [3, 4, 5, 6], [3, 4, 5], [3, 4, 6], [3, 4], [3, 5, 6], [3, 5], [3, 6], [3], [4, 5, 6], [4, 5], [4, 6], [4], [5, 6], [5], [6], []]\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>This is my recursive solution which can get the power set of any set using Java Generics. Its main idea is to combine the head of the input array with all the possible solutions of the rest of the array as follows.</p>\n\n<pre><code>import java.util.LinkedHashSet;\nimport java.util.Set;\n\npublic class SetUtil {\n    private static&lt;T&gt;  Set&lt;Set&lt;T&gt;&gt; combine(T head, Set&lt;Set&lt;T&gt;&gt; set) {\n        Set&lt;Set&lt;T&gt;&gt; all = new LinkedHashSet&lt;&gt;();\n\n        for (Set&lt;T&gt; currentSet : set) {\n            Set&lt;T&gt; outputSet = new LinkedHashSet&lt;&gt;();\n\n            outputSet.add(head);\n            outputSet.addAll(currentSet);\n\n            all.add(outputSet);\n        }\n\n        all.addAll(set);        \n\n        return all;\n    }\n\n    //Assuming that T[] is an array with no repeated elements ...\n    public static&lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] input) {\n        if (input.length == 0) {\n            Set &lt;Set&lt;T&gt;&gt;emptySet = new LinkedHashSet&lt;&gt;();\n\n            emptySet.add(new LinkedHashSet&lt;T&gt;());\n\n            return emptySet;\n        }\n\n        T head = input[0];\n        T[] newInputSet = (T[]) new Object[input.length - 1];\n\n        for (int i = 1; i &lt; input.length; ++i) {\n            newInputSet[i - 1] = input[i];\n        }\n\n        Set&lt;Set&lt;T&gt;&gt; all = combine(head, powerSet(newInputSet));\n\n        return all;\n    }\n\n    public static void main(String[] args) {            \n        Set&lt;Set&lt;Integer&gt;&gt; set = SetUtil.powerSet(new Integer[] {1, 2, 3, 4, 5, 6});\n\n        System.out.println(set);\n    }\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>[[1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5], [1, 2, 3, 4, 6], [1, 2, 3, 4], [1, 2, 3, 5, 6], [1, 2, 3, 5], [1, 2, 3, 6], [1, 2, 3], [1, 2, 4, 5, 6], [1, 2, 4, 5], [1, 2, 4, 6], [1, 2, 4], [1, 2, 5, 6], [1, 2, 5], [1, 2, 6], [1, 2], [1, 3, 4, 5, 6], [1, 3, 4, 5], [1, 3, 4, 6], [1, 3, 4], [1, 3, 5, 6], [1, 3, 5], [1, 3, 6], [1, 3], [1, 4, 5, 6], [1, 4, 5], [1, 4, 6], [1, 4], [1, 5, 6], [1, 5], [1, 6], [1], [2, 3, 4, 5, 6], [2, 3, 4, 5], [2, 3, 4, 6], [2, 3, 4], [2, 3, 5, 6], [2, 3, 5], [2, 3, 6], [2, 3], [2, 4, 5, 6], [2, 4, 5], [2, 4, 6], [2, 4], [2, 5, 6], [2, 5], [2, 6], [2], [3, 4, 5, 6], [3, 4, 5], [3, 4, 6], [3, 4], [3, 5, 6], [3, 5], [3, 6], [3], [4, 5, 6], [4, 5], [4, 6], [4], [5, 6], [5], [6], []]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4134098,"reputation":1101,"user_id":3724365,"accept_rate":73,"display_name":"Lachlan Goodhew-Cook"},"score":0,"creation_date":1438297760,"post_id":31735519,"comment_id":51406336,"body_markdown":"Welcome to Stack Overflow. You might want to flesh out this answer a little with some text describing what it&#39;s doing and how it solves the question asker&#39;s problem.","body":"Welcome to Stack Overflow. You might want to flesh out this answer a little with some text describing what it&#39;s doing and how it solves the question asker&#39;s problem."}],"tags":[],"owner":{"account_id":1569634,"reputation":19,"user_id":1457608,"display_name":"Neyyadupakkam Sundarasekaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438297421,"creation_date":1438297421,"answer_id":31735519,"question_id":1670862,"body_markdown":"\t// input: S\r\n\t// output: P\r\n\t// S = [1,2]\r\n\t// P = [], [1], [2], [1,2]\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString input = args[0];\r\n\t\tString[] S = input.split(&quot;,&quot;);\r\n\t\tString[] P = getPowerSet(S);\r\n\t\tif (P.length == Math.pow(2, S.length)) {\r\n\t\t\tfor (String s : P) {\r\n\t\t\t\tSystem.out.print(&quot;[&quot; + s + &quot;],&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Results are incorrect&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String[] getPowerSet(String[] s) {\r\n\t\tif (s.length == 1) {\r\n\t\t\treturn new String[] { &quot;&quot;, s[0] };\r\n\t\t} else {\r\n\t\t\tString[] subP1 = getPowerSet(Arrays.copyOfRange(s, 1, s.length));\r\n\t\t\tString[] subP2 = new String[subP1.length];\r\n\t\t\tfor (int i = 0; i &lt; subP1.length; i++) {\r\n\t\t\t\tsubP2[i] = s[0] + subP1[i];\r\n\t\t\t}\r\n\t\t\tString[] P = new String[subP1.length + subP2.length];\r\n\t\t\tSystem.arraycopy(subP1, 0, P, 0, subP1.length);\r\n\t\t\tSystem.arraycopy(subP2, 0, P, subP1.length, subP2.length);\r\n\t\t\treturn P;\r\n\t\t}\r\n\r\n\t}\r\n","title":"Obtaining a powerset of a set in Java","body":"<pre><code>// input: S\n// output: P\n// S = [1,2]\n// P = [], [1], [2], [1,2]\n\npublic static void main(String[] args) {\n    String input = args[0];\n    String[] S = input.split(\",\");\n    String[] P = getPowerSet(S);\n    if (P.length == Math.pow(2, S.length)) {\n        for (String s : P) {\n            System.out.print(\"[\" + s + \"],\");\n        }\n    } else {\n        System.out.println(\"Results are incorrect\");\n    }\n}\n\nprivate static String[] getPowerSet(String[] s) {\n    if (s.length == 1) {\n        return new String[] { \"\", s[0] };\n    } else {\n        String[] subP1 = getPowerSet(Arrays.copyOfRange(s, 1, s.length));\n        String[] subP2 = new String[subP1.length];\n        for (int i = 0; i &lt; subP1.length; i++) {\n            subP2[i] = s[0] + subP1[i];\n        }\n        String[] P = new String[subP1.length + subP2.length];\n        System.arraycopy(subP1, 0, P, 0, subP1.length);\n        System.arraycopy(subP2, 0, P, subP1.length, subP2.length);\n        return P;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6240699,"reputation":41,"user_id":4854411,"display_name":"tijmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442248421,"creation_date":1442248421,"answer_id":32569638,"question_id":1670862,"body_markdown":"I recently had to use something like this, but needed the smallest sublists (with 1 element, then 2 elements, ...) first. I did not want to include the empty nor the whole list.\r\nAlso, I did not need a list of all the sublists returned, I just needed to do some stuff with each. \r\n\r\nWanted to do this without recursion, and came up with the following (with the &quot;doing stuff&quot; abstracted into a functional interface):\r\n\r\n\r\n\r\n    @FunctionalInterface interface ListHandler&lt;T&gt; {\r\n        void handle(List&lt;T&gt; list);\r\n    }\r\n\r\n    \r\n    public static &lt;T&gt; void forAllSubLists(final List&lt;T&gt; list, ListHandler handler) {\r\n        int     ll = list.size();   // Length of original list\r\n        int     ci[] = new int[ll]; // Array for list indices\r\n        List&lt;T&gt; sub = new ArrayList&lt;&gt;(ll);  // The sublist\r\n        List&lt;T&gt; uml = Collections.unmodifiableList(sub);    // For passing to handler\r\n        \r\n        for (int gl = 1, gm; gl &lt;= ll; gl++) {  // Subgroup length 1 .. n-1\r\n            gm = 0; ci[0] = -1; sub.add(null);  // Some inits, and ensure sublist is at least gl items long\r\n\r\n            do {\r\n                    ci[gm]++;                       // Get the next item for this member\r\n                        \r\n                    if (ci[gm] &gt; ll - gl + gm) {    // Exhausted all possibilities for this position\r\n                            gm--; continue;         // Continue with the next value for the previous member\r\n                    }\r\n                    \r\n                    sub.set(gm, list.get(ci[gm]));  // Set the corresponding member in the sublist\r\n\r\n                    if (gm == gl - 1) {             // Ok, a sublist with length gl\r\n                            handler.handle(uml);    // Handle it\r\n                    } else {\r\n                            ci[gm + 1] = ci[gm];    // Starting value for next member is this \r\n                            gm++;                   // Continue with the next member\r\n                    }\r\n            } while (gm &gt;= 0);  // Finished cycling through all possibilities\r\n        }   // Next subgroup length\r\n    }\r\n\r\nIn this way, it&#39;s also easy to limit it to sublists of specific lengths.","title":"Obtaining a powerset of a set in Java","body":"<p>I recently had to use something like this, but needed the smallest sublists (with 1 element, then 2 elements, ...) first. I did not want to include the empty nor the whole list.\nAlso, I did not need a list of all the sublists returned, I just needed to do some stuff with each. </p>\n\n<p>Wanted to do this without recursion, and came up with the following (with the \"doing stuff\" abstracted into a functional interface):</p>\n\n<pre><code>@FunctionalInterface interface ListHandler&lt;T&gt; {\n    void handle(List&lt;T&gt; list);\n}\n\n\npublic static &lt;T&gt; void forAllSubLists(final List&lt;T&gt; list, ListHandler handler) {\n    int     ll = list.size();   // Length of original list\n    int     ci[] = new int[ll]; // Array for list indices\n    List&lt;T&gt; sub = new ArrayList&lt;&gt;(ll);  // The sublist\n    List&lt;T&gt; uml = Collections.unmodifiableList(sub);    // For passing to handler\n\n    for (int gl = 1, gm; gl &lt;= ll; gl++) {  // Subgroup length 1 .. n-1\n        gm = 0; ci[0] = -1; sub.add(null);  // Some inits, and ensure sublist is at least gl items long\n\n        do {\n                ci[gm]++;                       // Get the next item for this member\n\n                if (ci[gm] &gt; ll - gl + gm) {    // Exhausted all possibilities for this position\n                        gm--; continue;         // Continue with the next value for the previous member\n                }\n\n                sub.set(gm, list.get(ci[gm]));  // Set the corresponding member in the sublist\n\n                if (gm == gl - 1) {             // Ok, a sublist with length gl\n                        handler.handle(uml);    // Handle it\n                } else {\n                        ci[gm + 1] = ci[gm];    // Starting value for next member is this \n                        gm++;                   // Continue with the next member\n                }\n        } while (gm &gt;= 0);  // Finished cycling through all possibilities\n    }   // Next subgroup length\n}\n</code></pre>\n\n<p>In this way, it's also easy to limit it to sublists of specific lengths.</p>\n"},{"tags":[],"owner":{"account_id":7145525,"reputation":81,"user_id":5461373,"display_name":"Sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454315058,"creation_date":1454315058,"answer_id":35125892,"question_id":1670862,"body_markdown":"Another sample implementation: \r\n  \r\n\r\n     public static void main(String args[])\r\n        {\r\n            int[] arr = new int[]{1,2,3,4};\r\n            // Assuming that number of sets are in integer range\r\n            int totalSets = (int)Math.pow(2,arr.length);\r\n            for(int i=0;i&lt;totalSets;i++)\r\n            {\r\n                String binaryRep = Integer.toBinaryString(i);      \r\n                for(int j=0;j&lt;binaryRep.length();j++)\r\n                {\r\n                    int index=binaryRep.length()-1-j;\r\n                    if(binaryRep.charAt(index)==&#39;1&#39;)\r\n                    System.out.print(arr[j] +&quot; &quot;);       \r\n                }\r\n                System.out.println();\r\n            }\r\n        }","title":"Obtaining a powerset of a set in Java","body":"<p>Another sample implementation: </p>\n\n<pre><code> public static void main(String args[])\n    {\n        int[] arr = new int[]{1,2,3,4};\n        // Assuming that number of sets are in integer range\n        int totalSets = (int)Math.pow(2,arr.length);\n        for(int i=0;i&lt;totalSets;i++)\n        {\n            String binaryRep = Integer.toBinaryString(i);      \n            for(int j=0;j&lt;binaryRep.length();j++)\n            {\n                int index=binaryRep.length()-1-j;\n                if(binaryRep.charAt(index)=='1')\n                System.out.print(arr[j] +\" \");       \n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457717944,"creation_date":1457717944,"answer_id":35946526,"question_id":1670862,"body_markdown":"    import java.util.Set;\r\n    import com.google.common.collect.*;\r\n\r\n    Set&lt;Set&lt;Integer&gt;&gt; sets = Sets.powerSet(ImmutableSet.of(1, 2, 3));","title":"Obtaining a powerset of a set in Java","body":"<pre><code>import java.util.Set;\nimport com.google.common.collect.*;\n\nSet&lt;Set&lt;Integer&gt;&gt; sets = Sets.powerSet(ImmutableSet.of(1, 2, 3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8934778,"reputation":11,"user_id":6665975,"display_name":"Werner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471353644,"creation_date":1470113957,"answer_id":38712064,"question_id":1670862,"body_markdown":"This is my approach with lambdas.\r\n\r\n    public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] set) {\r\n          return IntStream\r\n\t\t\t\t.range(0, (int) Math.pow(2, set.length))\r\n                .parallel() //performance improvement\r\n\t\t\t\t.mapToObj(e -&gt; IntStream.range(0, set.length).filter(i -&gt; (e &amp; (0b1 &lt;&lt; i)) != 0).mapToObj(i -&gt; set[i]).collect(Collectors.toSet()))\r\n\t\t\t\t.map(Function.identity())\r\n\t\t\t\t.collect(Collectors.toSet());\r\n            }\r\n\r\nOr in parallel (see parallel() comment): \r\n\r\nSize of input set: 18\r\n\r\nLogical processors: 8 &#224; 3.4GHz\r\n\r\nPerformance improvement: 30%\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>This is my approach with lambdas.</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] set) {\n      return IntStream\n            .range(0, (int) Math.pow(2, set.length))\n            .parallel() //performance improvement\n            .mapToObj(e -&gt; IntStream.range(0, set.length).filter(i -&gt; (e &amp; (0b1 &lt;&lt; i)) != 0).mapToObj(i -&gt; set[i]).collect(Collectors.toSet()))\n            .map(Function.identity())\n            .collect(Collectors.toSet());\n        }\n</code></pre>\n\n<p>Or in parallel (see parallel() comment): </p>\n\n<p>Size of input set: 18</p>\n\n<p>Logical processors: 8 à 3.4GHz</p>\n\n<p>Performance improvement: 30%</p>\n"},{"tags":[],"owner":{"account_id":367195,"reputation":529,"user_id":713220,"display_name":"Selim Ekizoglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471012486,"creation_date":1471012486,"answer_id":38920523,"question_id":1670862,"body_markdown":"    public class PowerSet {\r\n        public static List&lt;HashSet&lt;Integer&gt;&gt; powerset(int[] a) {\r\n            LinkedList&lt;HashSet&lt;Integer&gt;&gt; sets = new LinkedList&lt;HashSet&lt;Integer&gt;&gt;();\r\n            int n = a.length;\r\n            for (int i = 0; i &lt; 1 &lt;&lt; n; i++) {\r\n                HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n                for (int j = 0; j &lt; n; j++) {\r\n                    if ((1 &lt;&lt; j &amp; i) &gt; 0)\r\n                        set.add(a[j]);\r\n                }\r\n                sets.add(set);\r\n            }\r\n            return sets;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;HashSet&lt;Integer&gt;&gt; sets = PowerSet.powerset(new int[]{ 1, 2, 3 });\r\n            for (HashSet&lt;Integer&gt; set : sets) {\r\n                for (int i : set)\r\n                    System.out.print(i);\r\n                System.out.println();\r\n            } \r\n        }\r\n    }\r\n","title":"Obtaining a powerset of a set in Java","body":"<pre><code>public class PowerSet {\n    public static List&lt;HashSet&lt;Integer&gt;&gt; powerset(int[] a) {\n        LinkedList&lt;HashSet&lt;Integer&gt;&gt; sets = new LinkedList&lt;HashSet&lt;Integer&gt;&gt;();\n        int n = a.length;\n        for (int i = 0; i &lt; 1 &lt;&lt; n; i++) {\n            HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n            for (int j = 0; j &lt; n; j++) {\n                if ((1 &lt;&lt; j &amp; i) &gt; 0)\n                    set.add(a[j]);\n            }\n            sets.add(set);\n        }\n        return sets;\n    }\n\n    public static void main(String[] args) {\n        List&lt;HashSet&lt;Integer&gt;&gt; sets = PowerSet.powerset(new int[]{ 1, 2, 3 });\n        for (HashSet&lt;Integer&gt; set : sets) {\n            for (int i : set)\n                System.out.print(i);\n            System.out.println();\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3975356,"reputation":1,"user_id":3278669,"display_name":"ekobir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484842371,"creation_date":1484833943,"answer_id":41743480,"question_id":1670862,"body_markdown":"Yet another solution - with java8+ streaming api\r\nIt is lazy and ordered so it returns correct subsets when it is used with &quot;limit()&quot;.  \r\n\r\n     public long bitRangeMin(int size, int bitCount){\r\n        BitSet bs = new BitSet(size);\r\n        bs.set(0, bitCount);\r\n        return bs.toLongArray()[0];\r\n    }\r\n\r\n    public long bitRangeMax(int size, int bitCount){\r\n        BitSet bs = BitSet.valueOf(new long[]{0});\r\n        bs.set(size - bitCount, size);\r\n        return bs.toLongArray()[0];\r\n    }\r\n\r\n    public &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; powerSet(Collection&lt;T&gt; data)\r\n    {\r\n        List&lt;T&gt; list = new LinkedHashSet&lt;&gt;(data).stream().collect(Collectors.toList());\r\n        Stream&lt;BitSet&gt; head = LongStream.of(0).mapToObj( i -&gt; BitSet.valueOf(new long[]{i}));\r\n        Stream&lt;BitSet&gt; tail = IntStream.rangeClosed(1, list.size())\r\n                .boxed()\r\n                .flatMap( v1 -&gt; LongStream.rangeClosed( bitRangeMin(list.size(), v1), bitRangeMax(list.size(), v1))\r\n                        .mapToObj(v2 -&gt; BitSet.valueOf(new long[]{v2}))\r\n                        .filter( bs -&gt; bs.cardinality() == v1));\r\n\r\n        return Stream.concat(head, tail)\r\n                .map( bs -&gt; bs\r\n                        .stream()\r\n                        .mapToObj(list::get)\r\n                        .collect(Collectors.toList()));\r\n    }\r\n\r\n   \r\nAnd the client code is   \r\n\r\n    @Test\r\n    public void testPowerSetOfGivenCollection(){\r\n        List&lt;Character&gt; data = new LinkedList&lt;&gt;();\r\n        for(char i = &#39;a&#39;; i &lt; &#39;a&#39;+5; i++ ){\r\n            data.add(i);\r\n        }\r\n        powerSet(data)\r\n                .limit(9)\r\n                .forEach(System.out::print);\r\n\r\n    }\r\n/* Prints :  [][a][b][c][d][e][a, b][a, c][b, c] */","title":"Obtaining a powerset of a set in Java","body":"<p>Yet another solution - with java8+ streaming api\nIt is lazy and ordered so it returns correct subsets when it is used with \"limit()\".  </p>\n\n<pre><code> public long bitRangeMin(int size, int bitCount){\n    BitSet bs = new BitSet(size);\n    bs.set(0, bitCount);\n    return bs.toLongArray()[0];\n}\n\npublic long bitRangeMax(int size, int bitCount){\n    BitSet bs = BitSet.valueOf(new long[]{0});\n    bs.set(size - bitCount, size);\n    return bs.toLongArray()[0];\n}\n\npublic &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; powerSet(Collection&lt;T&gt; data)\n{\n    List&lt;T&gt; list = new LinkedHashSet&lt;&gt;(data).stream().collect(Collectors.toList());\n    Stream&lt;BitSet&gt; head = LongStream.of(0).mapToObj( i -&gt; BitSet.valueOf(new long[]{i}));\n    Stream&lt;BitSet&gt; tail = IntStream.rangeClosed(1, list.size())\n            .boxed()\n            .flatMap( v1 -&gt; LongStream.rangeClosed( bitRangeMin(list.size(), v1), bitRangeMax(list.size(), v1))\n                    .mapToObj(v2 -&gt; BitSet.valueOf(new long[]{v2}))\n                    .filter( bs -&gt; bs.cardinality() == v1));\n\n    return Stream.concat(head, tail)\n            .map( bs -&gt; bs\n                    .stream()\n                    .mapToObj(list::get)\n                    .collect(Collectors.toList()));\n}\n</code></pre>\n\n<p>And the client code is   </p>\n\n<pre><code>@Test\npublic void testPowerSetOfGivenCollection(){\n    List&lt;Character&gt; data = new LinkedList&lt;&gt;();\n    for(char i = 'a'; i &lt; 'a'+5; i++ ){\n        data.add(i);\n    }\n    powerSet(data)\n            .limit(9)\n            .forEach(System.out::print);\n\n}\n</code></pre>\n\n<p>/* Prints :  [][a][b][c][d][e][a, b][a, c][b, c] */</p>\n"},{"tags":[],"owner":{"account_id":8614990,"reputation":1175,"user_id":6452215,"display_name":"Uday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496378633,"creation_date":1496378633,"answer_id":44320942,"question_id":1670862,"body_markdown":"We could write the power set with or without using recursion. Here is an attempt without recursion:\r\n\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; getPowerSet(List&lt;Integer&gt; set) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tint max = 1 &lt;&lt; set.size();\r\n\t\tfor(int i=0; i &lt; max; i++) {\r\n\t\t\tList&lt;Integer&gt; subSet = getSubSet(i, set);\r\n\t\t\tpowerSet.add(subSet);\r\n\t\t}\r\n\t\treturn powerSet;\r\n\t}\r\n\t\r\n\tprivate List&lt;Integer&gt; getSubSet(int p, List&lt;Integer&gt; set) {\r\n\t\tList&lt;Integer&gt; subSet = new ArrayList&lt;Integer&gt;();\r\n\t\tint position = 0;\r\n\t\tfor(int i=p; i &gt; 0; i &gt;&gt;= 1) {\r\n\t\t\tif((i &amp; 1) == 1) {\r\n\t\t\t\tsubSet.add(set.get(position));\r\n\t\t\t}\r\n\t\t\tposition++;\r\n\t\t}\r\n\t\treturn subSet;\r\n\t}\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>We could write the power set with or without using recursion. Here is an attempt without recursion:</p>\n\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; getPowerSet(List&lt;Integer&gt; set) {\n    List&lt;List&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int max = 1 &lt;&lt; set.size();\n    for(int i=0; i &lt; max; i++) {\n        List&lt;Integer&gt; subSet = getSubSet(i, set);\n        powerSet.add(subSet);\n    }\n    return powerSet;\n}\n\nprivate List&lt;Integer&gt; getSubSet(int p, List&lt;Integer&gt; set) {\n    List&lt;Integer&gt; subSet = new ArrayList&lt;Integer&gt;();\n    int position = 0;\n    for(int i=p; i &gt; 0; i &gt;&gt;= 1) {\n        if((i &amp; 1) == 1) {\n            subSet.add(set.get(position));\n        }\n        position++;\n    }\n    return subSet;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10069067,"reputation":2431,"user_id":7443287,"accept_rate":100,"display_name":"Mirza Sisic"},"score":0,"creation_date":1511755018,"post_id":47503560,"comment_id":81963267,"body_markdown":"Please consider adding a short explanation along the code you provided.","body":"Please consider adding a short explanation along the code you provided."},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1556149278,"post_id":47503560,"comment_id":98343458,"body_markdown":"This doesn&#39;t even compile, seems to be written in some fantasy Java version.   `Set` doesn&#39;t have a `get` method with an index, nor a `subSet` method; `1st` is not a valid identifier (I suppose `lst` was meant).   Change all the sets to lists and it almost compiles...","body":"This doesn&#39;t even compile, seems to be written in some fantasy Java version.   <code>Set</code> doesn&#39;t have a <code>get</code> method with an index, nor a <code>subSet</code> method; <code>1st</code> is not a valid identifier (I suppose <code>lst</code> was meant).   Change all the sets to lists and it almost compiles..."}],"tags":[],"owner":{"account_id":10684198,"reputation":9,"user_id":9011605,"display_name":"Mr. H"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511992485,"creation_date":1511753418,"answer_id":47503560,"question_id":1670862,"body_markdown":"A sub-set of t is any set that can be made by removing zero or more elements of t. The withoutFirst subset adds the subsets of t that are missing the first element and the for loop will deal with adding subsets with the first element. For example, if t contained the elements [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;], missingFirst will add [[&quot;&quot;],\r\n[&quot;2&quot;], [&quot;3&quot;], [&quot;2&quot;,&quot;3&quot;]] and the for loop will stick the &quot;1&quot; in front of these element and add it to the newSet. So we&#39;ll end up with [[&quot;&quot;], [&quot;1&quot;], [&quot;2&quot;], [&quot;3&quot;], [&quot;1&quot;, &quot;2&quot;], [&quot;1&quot;, &quot;3&quot;], [&quot;2&quot;,&quot;3&quot;], [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]].\r\n\r\n    public static Set&lt;Set&lt;String&gt;&gt; allSubsets(Set&lt;String&gt; t) {\r\n    \t\tSet&lt;Set&lt;String&gt;&gt; powerSet = new TreeSet&lt;&gt;();\r\n    \t\tif(t.isEmpty()) {\r\n    \t\t\tpowerSet.add(new TreeSet&lt;&gt;());\r\n    \t\t\treturn powerSet;\r\n    \t\t}\r\n    \t\tString first = t.get(0);\r\n    \t\tSet&lt;Set&lt;String&gt;&gt; withoutFirst = allSubsets(t.subSet(1, t.size()));\r\n    \t\tfor (List&lt;String&gt; 1st : withoutFirst) {\r\n    \t\t\tSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\r\n    \t\t\tnewSet.add(first);\r\n    \t\t\tnewSet.addAll(lst);\r\n    \t\t\tpowerSet.add(newSet);\r\n    \t\t}\r\n    \t\tpowerSet.addAll(withoutFirst);\r\n    \t\treturn powerSet;\r\n    \t}","title":"Obtaining a powerset of a set in Java","body":"<p>A sub-set of t is any set that can be made by removing zero or more elements of t. The withoutFirst subset adds the subsets of t that are missing the first element and the for loop will deal with adding subsets with the first element. For example, if t contained the elements [\"1\", \"2\", \"3\"], missingFirst will add [[\"\"],\n[\"2\"], [\"3\"], [\"2\",\"3\"]] and the for loop will stick the \"1\" in front of these element and add it to the newSet. So we'll end up with [[\"\"], [\"1\"], [\"2\"], [\"3\"], [\"1\", \"2\"], [\"1\", \"3\"], [\"2\",\"3\"], [\"1\", \"2\", \"3\"]].</p>\n\n<pre><code>public static Set&lt;Set&lt;String&gt;&gt; allSubsets(Set&lt;String&gt; t) {\n        Set&lt;Set&lt;String&gt;&gt; powerSet = new TreeSet&lt;&gt;();\n        if(t.isEmpty()) {\n            powerSet.add(new TreeSet&lt;&gt;());\n            return powerSet;\n        }\n        String first = t.get(0);\n        Set&lt;Set&lt;String&gt;&gt; withoutFirst = allSubsets(t.subSet(1, t.size()));\n        for (List&lt;String&gt; 1st : withoutFirst) {\n            Set&lt;String&gt; newSet = new TreeSet&lt;&gt;();\n            newSet.add(first);\n            newSet.addAll(lst);\n            powerSet.add(newSet);\n        }\n        powerSet.addAll(withoutFirst);\n        return powerSet;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3773246"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516128779,"creation_date":1516128779,"answer_id":48287997,"question_id":1670862,"body_markdown":"Here is to generate a power set. The idea is first = `S[0]` and smaller sets be `S[1,...n]`. \r\n\r\nCompute all subsets of smallerSet and put them in allsubsets.\r\n\r\nFor each subsets in allsubsets, clone it and add first to the subset.\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getSubsets(ArrayList&lt;Integer&gt; set, int index){\r\n    \tArrayList&lt;ArrayList&lt;Integer&gt;&gt; allsubsets;\r\n    \tif(set.size() == index){\r\n    \t\tallsubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    \t\tallsubsets.add(new ArrayList&lt;Integer&gt;()); // the empty set \r\n    \t}else{\r\n    \t\tallsubsets = getSubsets(set, index+1);\r\n    \t\tint item = set.get(index);\r\n    \r\n    \t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; moresubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    \r\n    \t\tfor(ArrayList&lt;Integer&gt; subset: allsubsets){\r\n    \t\t\tArrayList&lt;Integer&gt; newsubset = new ArrayList&lt;Integer&gt;();\r\n    \r\n    \t\t\tnewsubset.addAll(subset);\r\n    \t\t\tnewsubset.add(item);\r\n    \t\t\tmoresubsets.add(newsubset);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tmoresubsets.addAll(moresubsets);\r\n    \r\n    \t}\r\n    \r\n    \treturn allsubsets;\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<p>Here is to generate a power set. The idea is first = <code>S[0]</code> and smaller sets be <code>S[1,...n]</code>. </p>\n\n<p>Compute all subsets of smallerSet and put them in allsubsets.</p>\n\n<p>For each subsets in allsubsets, clone it and add first to the subset.</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getSubsets(ArrayList&lt;Integer&gt; set, int index){\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; allsubsets;\n    if(set.size() == index){\n        allsubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        allsubsets.add(new ArrayList&lt;Integer&gt;()); // the empty set \n    }else{\n        allsubsets = getSubsets(set, index+1);\n        int item = set.get(index);\n\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; moresubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for(ArrayList&lt;Integer&gt; subset: allsubsets){\n            ArrayList&lt;Integer&gt; newsubset = new ArrayList&lt;Integer&gt;();\n\n            newsubset.addAll(subset);\n            newsubset.add(item);\n            moresubsets.add(newsubset);\n\n        }\n\n        moresubsets.addAll(moresubsets);\n\n    }\n\n    return allsubsets;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8029320,"reputation":1,"user_id":6054985,"display_name":"Prakash Devta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587673640,"creation_date":1587673640,"answer_id":61396376,"question_id":1670862,"body_markdown":"    package problems;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class SubsetFinderRecursive {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//input\r\n    \t\tint[] input = new int[3];\r\n    \t\tfor(int i=0; i&lt;input.length; i++) {\r\n    \t\t\tinput[i] = i+1;\r\n    \t\t}\r\n    \t\t// root node of the tree\r\n    \t\tNode root = new Node();\r\n    \t\t\r\n    \t\t// insert values into tree\r\n    \t\tfor(int i=0; i&lt;input.length; i++) {\r\n    \t\t\tinsertIntoTree(root, input[i]);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// print leaf nodes for subsets\r\n    \t\tprintLeafNodes(root);\r\n    \t}\r\n    \t\r\n    \tstatic void printLeafNodes(Node root) {\r\n    \t\t\r\n    \t\tif(root == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Its a leaf node\r\n    \t\tif(root.left == null &amp;&amp; root.right == null) {\r\n    \t\t\tSystem.out.println(root.values);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if we are not at a leaf node, then explore left and right\r\n    \t\t\r\n    \t\tif(root.left !=null) {\r\n    \t\t\tprintLeafNodes(root.left);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(root.right != null) {\r\n    \t\t\tprintLeafNodes(root.right);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic void insertIntoTree(Node root, int value) {\r\n    \t\t\r\n    \t\t// Error handling\r\n    \t\tif(root == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if there is a sub tree then go down\r\n    \t\tif(root.left !=null &amp;&amp; root.right != null) {\r\n    \t\t\tinsertIntoTree(root.left, value);\r\n    \t\t\tinsertIntoTree(root.right, value);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if we are at the leaf node, then we have 2 choices\r\n    \t\t// Either exclude or include\r\n    \t\tif(root.left == null &amp;&amp; root.right == null) {\r\n    \t\t\t// exclude\r\n    \t\t\troot.left = new Node();\r\n    \t\t\troot.left.values.addAll(root.values);\r\n    \t\t\t// include\r\n    \t\t\troot.right = new Node();\r\n    \t\t\troot.right.values.addAll(root.values);\r\n    \t\t\troot.right.values.add(value);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Node {\r\n    \tNode left;\r\n    \tNode right;\r\n    \tList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<pre><code>package problems;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SubsetFinderRecursive {\n    public static void main(String[] args) {\n        //input\n        int[] input = new int[3];\n        for(int i=0; i&lt;input.length; i++) {\n            input[i] = i+1;\n        }\n        // root node of the tree\n        Node root = new Node();\n\n        // insert values into tree\n        for(int i=0; i&lt;input.length; i++) {\n            insertIntoTree(root, input[i]);\n        }\n\n        // print leaf nodes for subsets\n        printLeafNodes(root);\n    }\n\n    static void printLeafNodes(Node root) {\n\n        if(root == null) {\n            return;\n        }\n\n        // Its a leaf node\n        if(root.left == null &amp;&amp; root.right == null) {\n            System.out.println(root.values);\n            return;\n        }\n\n        // if we are not at a leaf node, then explore left and right\n\n        if(root.left !=null) {\n            printLeafNodes(root.left);\n        }\n\n        if(root.right != null) {\n            printLeafNodes(root.right);\n        }\n    }\n\n    static void insertIntoTree(Node root, int value) {\n\n        // Error handling\n        if(root == null) {\n            return;\n        }\n\n        // if there is a sub tree then go down\n        if(root.left !=null &amp;&amp; root.right != null) {\n            insertIntoTree(root.left, value);\n            insertIntoTree(root.right, value);\n        }\n\n        // if we are at the leaf node, then we have 2 choices\n        // Either exclude or include\n        if(root.left == null &amp;&amp; root.right == null) {\n            // exclude\n            root.left = new Node();\n            root.left.values.addAll(root.values);\n            // include\n            root.right = new Node();\n            root.right.values.addAll(root.values);\n            root.right.values.add(value);\n            return;\n        }\n    }\n\n}\n\nclass Node {\n    Node left;\n    Node right;\n    List&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23732096,"reputation":1,"user_id":17751197,"display_name":"إسلام أحمد"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640375337,"creation_date":1640292559,"answer_id":70467233,"question_id":1670862,"body_markdown":"This function solved this problem by recursion but make variable named powerset as a Global Variable:\r\n\r\n```\r\nstatic ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;&gt;();\r\n\r\npublic static void getPowerSet(Queue&lt;Integer&gt; a) {\r\n    int n = a.poll();\r\n    if (!a.isEmpty()) {\r\n        getPowerSet(a);\r\n    }\r\n    int s = powerSet.size();\r\n    for (int i = 0; i &lt; s; i++) {\r\n        ArrayList&lt;Integer&gt; ne = new ArrayList&lt;&gt;();\r\n        for (int j = 0; j &lt; powerSet.get(i).size(); j++) {\r\n            ne.add(powerSet.get(i).get(j));\r\n        }\r\n        ne.add(n);\r\n        powerSet.add(ne);\r\n    }\r\n    ArrayList&lt;Integer&gt; p = new ArrayList&lt;&gt;();\r\n    p.add(n);\r\n    powerSet.add(p);\r\n}\r\n```","title":"Obtaining a powerset of a set in Java","body":"<p>This function solved this problem by recursion but make variable named powerset as a Global Variable:</p>\n<pre><code>static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;&gt;();\n\npublic static void getPowerSet(Queue&lt;Integer&gt; a) {\n    int n = a.poll();\n    if (!a.isEmpty()) {\n        getPowerSet(a);\n    }\n    int s = powerSet.size();\n    for (int i = 0; i &lt; s; i++) {\n        ArrayList&lt;Integer&gt; ne = new ArrayList&lt;&gt;();\n        for (int j = 0; j &lt; powerSet.get(i).size(); j++) {\n            ne.add(powerSet.get(i).get(j));\n        }\n        ne.add(n);\n        powerSet.add(ne);\n    }\n    ArrayList&lt;Integer&gt; p = new ArrayList&lt;&gt;();\n    p.add(n);\n    powerSet.add(p);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20197558,"reputation":1,"user_id":16845281,"display_name":"R.Jean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686588870,"creation_date":1686588870,"answer_id":76458781,"question_id":1670862,"body_markdown":"Just use recursion. \r\n\r\n\r\n    public class Combinations {\r\n\r\n    // A recursive method that prints all combinations of any size of the first n elements of an array\r\n        public static void printCombinations(String[] arr, int n, String current) {\r\n        // Base case: if n is 0, print the current combination\r\n            if (n == 0) {\r\n                System.out.println(current);\r\n                return;\r\n            }\r\n        // Recursive case: for each element, either include it or exclude it from the current combination and recursively call printCombinations with n-1\r\n            printCombinations(arr, n-1, current + arr[n-1] + &quot; &quot;); // include\r\n            printCombinations(arr, n-1, current); // exclude\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            // Read in the command line argument\r\n           int n = Integer.parseInt(args[0]);\r\n            // Well my array in this case consists of first 6 letters of the alphabet\r\n            String[] arr = new String[n];\r\n            arr[0] = &quot;a&quot;;\r\n            arr[1] = &quot;b&quot;;\r\n            arr[2] = &quot;c&quot;;\r\n            arr[3] = &quot;d&quot;;\r\n            arr[4] = &quot;e&quot;;\r\n            arr[5] = &quot;f&quot;;\r\n            // Call the recursive method with an empty current combination\r\n            printCombinations(arr, n, &quot;&quot;);\r\n        }\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<p>Just use recursion.</p>\n<pre><code>public class Combinations {\n\n// A recursive method that prints all combinations of any size of the first n elements of an array\n    public static void printCombinations(String[] arr, int n, String current) {\n    // Base case: if n is 0, print the current combination\n        if (n == 0) {\n            System.out.println(current);\n            return;\n        }\n    // Recursive case: for each element, either include it or exclude it from the current combination and recursively call printCombinations with n-1\n        printCombinations(arr, n-1, current + arr[n-1] + &quot; &quot;); // include\n        printCombinations(arr, n-1, current); // exclude\n    }\n\n    public static void main(String[] args) {\n        // Read in the command line argument\n       int n = Integer.parseInt(args[0]);\n        // Well my array in this case consists of first 6 letters of the alphabet\n        String[] arr = new String[n];\n        arr[0] = &quot;a&quot;;\n        arr[1] = &quot;b&quot;;\n        arr[2] = &quot;c&quot;;\n        arr[3] = &quot;d&quot;;\n        arr[4] = &quot;e&quot;;\n        arr[5] = &quot;f&quot;;\n        // Call the recursive method with an empty current combination\n        printCombinations(arr, n, &quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81861,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":1670871,"answer_count":28,"score":86,"last_activity_date":1686588870,"creation_date":1257291476,"question_id":1670862,"body_markdown":"The powerset of `{1, 2, 3}` is:\r\n\r\n`{{}, {2}, {3}, {2, 3}, {1, 2}, {1, 3}, {1, 2, 3}, {1}}`\r\n\r\nLet&#39;s say I have a `Set` in Java:\r\n\r\n    Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\r\n    mySet.add(1);\r\n    mySet.add(2);\r\n    mySet.add(3);\r\n    Set&lt;Set&lt;Integer&gt;&gt; powerSet = getPowerset(mySet);\r\n\r\nHow do I write the function getPowerset, with the best possible order of complexity?\r\n(I think it might be O(2^n).)\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>The powerset of <code>{1, 2, 3}</code> is:</p>\n\n<p><code>{{}, {2}, {3}, {2, 3}, {1, 2}, {1, 3}, {1, 2, 3}, {1}}</code></p>\n\n<p>Let's say I have a <code>Set</code> in Java:</p>\n\n<pre><code>Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\nmySet.add(1);\nmySet.add(2);\nmySet.add(3);\nSet&lt;Set&lt;Integer&gt;&gt; powerSet = getPowerset(mySet);\n</code></pre>\n\n<p>How do I write the function getPowerset, with the best possible order of complexity?\n(I think it might be O(2^n).)</p>\n"},{"tags":["java","android","bluetooth-lowenergy","hid"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1686548249,"post_id":76451356,"comment_id":134807835,"body_markdown":"What Android version? Do you request the runtime BLE permissions in your app? Please also consider adding the error message as text in your question.","body":"What Android version? Do you request the runtime BLE permissions in your app? Please also consider adding the error message as text in your question."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1686575119,"post_id":76451356,"comment_id":134813057,"body_markdown":"Please keep in mind that `setCharacteristicNotification` is not enough to enable notifications since it only prepares your android device to receive them but does not activate them on the BLE device. You need to set the characteristics descriptor as well: https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy","body":"Please keep in mind that <code>setCharacteristicNotification</code> is not enough to enable notifications since it only prepares your android device to receive them but does not activate them on the BLE device. You need to set the characteristics descriptor as well: <a href=\"https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy\" title=\"enabling bluetooth characteristic notification in android bluetooth low energy\">stackoverflow.com/questions/32184536/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7472917,"reputation":19,"user_id":5680243,"display_name":"Alex"},"score":0,"creation_date":1686641056,"post_id":76458700,"comment_id":134822941,"body_markdown":"Sure- I&#39;m trying to capture events from cheap BLE smart rings ([example](https://amazon.com/Bluetooth-Control-Fingertip-Controller-Chargeable/dp/B09X16B2KT)) to be used with smart glasses. It also needs to run in the background, or when the phone&#39;s screen is locked, which would require an accessibility service to read the KeyEvents, as opposed to just reading the BLE data directly. \n\nI actually tried the accessibility approach at first, but the emulated swiping up/down had the same event codes, making it unusable. Perhaps there&#39;s a way to differentiate the direction of &quot;mouse&quot; swipes?","body":"Sure- I&#39;m trying to capture events from cheap BLE smart rings (<a href=\"https://rads.stackoverflow.com/amzn/click/com/B09X16B2KT\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">example</a>) to be used with smart glasses. It also needs to run in the background, or when the phone&#39;s screen is locked, which would require an accessibility service to read the KeyEvents, as opposed to just reading the BLE data directly.   I actually tried the accessibility approach at first, but the emulated swiping up/down had the same event codes, making it unusable. Perhaps there&#39;s a way to differentiate the direction of &quot;mouse&quot; swipes?"}],"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686588210,"creation_date":1686588210,"answer_id":76458700,"question_id":76451356,"body_markdown":"The error message is correct. You need privileged bluetooth permissions in order to receive HID notifications. Otherwise any app using bluetooth could also potentially sniff passwords pressed on a connected bluetooth keyboard.\r\n\r\nThe privileged bluetooth permission is only given to system apps.\r\n\r\nSo what you are trying to achieve is not possible on Android. If you write the reasons why you need to capture BLE HID events, maybe we can give you alternative solutions.","title":"Getting &quot;java.lang.SecurityException: Need BLUETOOTH PRIVILEGED permission&quot; when connecting BLE HID","body":"<p>The error message is correct. You need privileged bluetooth permissions in order to receive HID notifications. Otherwise any app using bluetooth could also potentially sniff passwords pressed on a connected bluetooth keyboard.</p>\n<p>The privileged bluetooth permission is only given to system apps.</p>\n<p>So what you are trying to achieve is not possible on Android. If you write the reasons why you need to capture BLE HID events, maybe we can give you alternative solutions.</p>\n"}],"owner":{"account_id":7472917,"reputation":19,"user_id":5680243,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686588210,"creation_date":1686499956,"question_id":76451356,"body_markdown":"I&#39;m trying to capture events from a BLE HID, and I&#39;ve been getting this error when running `gatt.setCharacteristicNotification(characteristic, true);` inside `onServicesDiscovered`, which can&#39;t be easily resolved as `BLUETOOTH_PRIVILEGED` is reserved for system-level apps. Does anyone know what I&#39;m doing wrong? Here&#39;s my `onServicesDiscovered` function:\r\n\r\n```\r\n@Override\r\npublic void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n        if (status == BluetoothGatt.GATT_SUCCESS) {\r\n            List&lt;BluetoothGattService&gt; services = gatt.getServices();\r\n            for(int i = 0; i &lt; services.size(); i++){\r\n                List&lt;BluetoothGattCharacteristic&gt; characteristics = services.get(i).getCharacteristics();\r\n                for(int j = 0; j &lt; characteristics.size(); j++){\r\n                    //Register all characteristics for all services\r\n\r\n                    BluetoothGattService service = services.get(i);\r\n                    if (service != null) {\r\n                        BluetoothGattCharacteristic characteristic = characteristics.get(j);\r\n                        if (characteristic != null) {\r\n                            try {\r\n                                gatt.setCharacteristicNotification(characteristic, true);\r\n                            }\r\n                            catch(Exception e){\r\n                                Log.d(TAG, &quot;EXCEPTION: &quot; + e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            Log.w(TAG, &quot;onServicesDiscovered received: &quot; + status);\r\n        }\r\n    }\r\n``` \r\n\r\nI&#39;ve made sure Bluetooth + Location are enabled, and have added the following lines to my `AndroidManifest.xml`:\r\n\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n```","title":"Getting &quot;java.lang.SecurityException: Need BLUETOOTH PRIVILEGED permission&quot; when connecting BLE HID","body":"<p>I'm trying to capture events from a BLE HID, and I've been getting this error when running <code>gatt.setCharacteristicNotification(characteristic, true);</code> inside <code>onServicesDiscovered</code>, which can't be easily resolved as <code>BLUETOOTH_PRIVILEGED</code> is reserved for system-level apps. Does anyone know what I'm doing wrong? Here's my <code>onServicesDiscovered</code> function:</p>\n<pre><code>@Override\npublic void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            List&lt;BluetoothGattService&gt; services = gatt.getServices();\n            for(int i = 0; i &lt; services.size(); i++){\n                List&lt;BluetoothGattCharacteristic&gt; characteristics = services.get(i).getCharacteristics();\n                for(int j = 0; j &lt; characteristics.size(); j++){\n                    //Register all characteristics for all services\n\n                    BluetoothGattService service = services.get(i);\n                    if (service != null) {\n                        BluetoothGattCharacteristic characteristic = characteristics.get(j);\n                        if (characteristic != null) {\n                            try {\n                                gatt.setCharacteristicNotification(characteristic, true);\n                            }\n                            catch(Exception e){\n                                Log.d(TAG, &quot;EXCEPTION: &quot; + e);\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            Log.w(TAG, &quot;onServicesDiscovered received: &quot; + status);\n        }\n    }\n</code></pre>\n<p>I've made sure Bluetooth + Location are enabled, and have added the following lines to my <code>AndroidManifest.xml</code>:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","factory-pattern"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686578200,"creation_date":1686578200,"answer_id":76457390,"question_id":76457174,"body_markdown":"You can do so by providing a default implementation for `Base` as such;\r\n\r\n    // no need to annotate it with @service\r\n    class DefaultBase implements Base {\r\n    \r\n    }\r\n\r\nThen in your factory method,\r\n\r\n    private static final Base DEFAULT_BASE = new DefaultBase();\r\n\r\n    public void callingClass(String str) {\r\n      Base base = baseList.stream()\r\n          .filter(baseImpl -&gt; baseImpl.accept(str))\r\n          .findFirst()\r\n          .orElseGet(DEFAULT_BASE);\r\n    }\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>You can do so by providing a default implementation for <code>Base</code> as such;</p>\n<pre><code>// no need to annotate it with @service\nclass DefaultBase implements Base {\n\n}\n</code></pre>\n<p>Then in your factory method,</p>\n<pre><code>private static final Base DEFAULT_BASE = new DefaultBase();\n\npublic void callingClass(String str) {\n  Base base = baseList.stream()\n      .filter(baseImpl -&gt; baseImpl.accept(str))\n      .findFirst()\n      .orElseGet(DEFAULT_BASE);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1686586940,"post_id":76457393,"comment_id":134815952,"body_markdown":"Is there any other way where I don&#39;t need to init DEFAULT_BASE?","body":"Is there any other way where I don&#39;t need to init DEFAULT_BASE?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1686587152,"post_id":76457393,"comment_id":134816005,"body_markdown":"@MohitKumar you can just use `.orElse(new Base() {});` but that would create a new instance of Base every time you call it, so it&#39;s highly recommended to initialize it and use that single instance.","body":"@MohitKumar you can just use <code>.orElse(new Base() {});</code> but that would create a new instance of Base every time you call it, so it&#39;s highly recommended to initialize it and use that single instance."},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1686587419,"post_id":76457393,"comment_id":134816067,"body_markdown":"but I don&#39;t want to create new Base() {} anywhere, can&#39;t we do it using Dependency injection?","body":"but I don&#39;t want to create new Base() {} anywhere, can&#39;t we do it using Dependency injection?"}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686578763,"creation_date":1686578240,"answer_id":76457393,"question_id":76457174,"body_markdown":"Get the list of service classes implementing your interface by autowiring.\r\n\r\nThen, create a single default instance (it can be an anonymous class, or a named class as in atish&#39;s answer). It must not be a Spring service as you don&#39;t want it to be included in your autowired list. In your method, if no service class is found, return this default instance.\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\nclass SomeService {\r\n  private static final Base DEFAULT_BASE = new Base() {};\r\n\r\n  @Autowired\r\n  private List&lt;Base&gt; baseList;\r\n\r\n  public void callingClass(String str) {\r\n\r\n    Base base = baseList.stream()\r\n        .filter(baseImpl -&gt; baseImpl.accept(str))\r\n        .findFirst()\r\n        .orElse(DEFAULT_BASE);\r\n\r\n  }\r\n}\r\n```\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>Get the list of service classes implementing your interface by autowiring.</p>\n<p>Then, create a single default instance (it can be an anonymous class, or a named class as in atish's answer). It must not be a Spring service as you don't want it to be included in your autowired list. In your method, if no service class is found, return this default instance.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\nclass SomeService {\n  private static final Base DEFAULT_BASE = new Base() {};\n\n  @Autowired\n  private List&lt;Base&gt; baseList;\n\n  public void callingClass(String str) {\n\n    Base base = baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst()\n        .orElse(DEFAULT_BASE);\n\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1686640655,"post_id":76458695,"comment_id":134822868,"body_markdown":"What is the import for Precedence.LAST?","body":"What is the import for Precedence.LAST?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1686644696,"post_id":76458695,"comment_id":134823649,"body_markdown":"Looking at the [docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html), it looks like it should be `Ordered.LOWEST_PRECEDENCE`. Also, `default accepts` should be `@Override public boolean accept` or just leave it out so that it uses the default.","body":"Looking at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\">docs</a>, it looks like it should be <code>Ordered.LOWEST_PRECEDENCE</code>. Also, <code>default accepts</code> should be <code>@Override public boolean accept</code> or just leave it out so that it uses the default."}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686588112,"creation_date":1686588112,"answer_id":76458695,"question_id":76457174,"body_markdown":"Combining @k314159 and @atish.s solution and improving on that:\r\n\r\nExpose the DefaultBase class as another bean, but add @Order annotation to put it last in list\r\n\r\n    @Component\r\n    @Order(Precedence.LAST)\r\n    class DefaultBase implements Base {\r\n        default accepts(Object obj){\r\n            return true;\r\n        }\r\n    }\r\n\r\nThen changing the Service method to this:\r\n\r\n    public Base callingClass(String str) { \r\n        return baseList.stream()\r\n            .filter(baseImpl -&gt; baseImpl.accept(str))\r\n            .findFirst()\r\n            .orElseThrow();\r\n    }","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>Combining @k314159 and @atish.s solution and improving on that:</p>\n<p>Expose the DefaultBase class as another bean, but add @Order annotation to put it last in list</p>\n<pre><code>@Component\n@Order(Precedence.LAST)\nclass DefaultBase implements Base {\n    default accepts(Object obj){\n        return true;\n    }\n}\n</code></pre>\n<p>Then changing the Service method to this:</p>\n<pre><code>public Base callingClass(String str) { \n    return baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst()\n        .orElseThrow();\n}\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76458695,"answer_count":3,"score":0,"last_activity_date":1686588112,"creation_date":1686576637,"question_id":76457174,"body_markdown":"I have an interface which extends `java.util.function.Function`, there are 2 further implementation of the interface lets say class A, B which implements the interface Base;\r\n\r\n\r\n```java\r\ninterface Base extends Function&lt;Object, Object&gt; {\r\n\r\n  @Override\r\n  default Object apply(Object object) {\r\n    return object;     // simply do nothing\r\n  }\r\n\r\n  default boolean accept(String str) {\r\n    return true;     // for choosing the right instance\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\nclass A implements Base {\r\n\r\n  String validationString = &quot;some-random-string&quot;;\r\n\r\n  @Override\r\n  public Object apply(Object object) {\r\n    // update the object ....\r\n    return object;\r\n  }\r\n\r\n  @Override\r\n  public boolean accept(String str) {\r\n    return str.equals(validationString);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\nclass B implements Base {\r\n\r\n  String validationString = &quot;some-random-string-2&quot;;\r\n\r\n  @Override\r\n  public Object apply(Object object) {\r\n    // update the object ....\r\n    return object;\r\n  }\r\n\r\n  @Override\r\n  public boolean accept(String str) {\r\n    return str.equals(validationString);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\nclass SomeService {\r\n\r\n  List&lt;Base&gt; baseList;\r\n\r\n  public void callingClass(String str) {\r\n\r\n    // in below \r\n    // I want to order it in such a way that \r\n    // if str matches A.validationString then give back A&#39;s instance\r\n    // else if str matches B.validationString then give back B&#39;s instance\r\n    // else return Base&#39;s instance\r\n    Base base = baseList.stream()\r\n        .filter(baseImpl -&gt; baseImpl.accept(str))\r\n        .findFirst().orElseThrow();\r\n\r\n  }\r\n}\r\n```\r\n\r\nSo, what I am trying to achieve, if there is any way from which I don&#39;t have to manually create a Factory Class (Factory Pattern) and dynamically Filter the instance A, B using accept() and if none find then return instance of Base (as default).\r\n\r\n\r\nCan anybody help with this?\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>I have an interface which extends <code>java.util.function.Function</code>, there are 2 further implementation of the interface lets say class A, B which implements the interface Base;</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Base extends Function&lt;Object, Object&gt; {\n\n  @Override\n  default Object apply(Object object) {\n    return object;     // simply do nothing\n  }\n\n  default boolean accept(String str) {\n    return true;     // for choosing the right instance\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass A implements Base {\n\n  String validationString = &quot;some-random-string&quot;;\n\n  @Override\n  public Object apply(Object object) {\n    // update the object ....\n    return object;\n  }\n\n  @Override\n  public boolean accept(String str) {\n    return str.equals(validationString);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass B implements Base {\n\n  String validationString = &quot;some-random-string-2&quot;;\n\n  @Override\n  public Object apply(Object object) {\n    // update the object ....\n    return object;\n  }\n\n  @Override\n  public boolean accept(String str) {\n    return str.equals(validationString);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\nclass SomeService {\n\n  List&lt;Base&gt; baseList;\n\n  public void callingClass(String str) {\n\n    // in below \n    // I want to order it in such a way that \n    // if str matches A.validationString then give back A's instance\n    // else if str matches B.validationString then give back B's instance\n    // else return Base's instance\n    Base base = baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst().orElseThrow();\n\n  }\n}\n</code></pre>\n<p>So, what I am trying to achieve, if there is any way from which I don't have to manually create a Factory Class (Factory Pattern) and dynamically Filter the instance A, B using accept() and if none find then return instance of Base (as default).</p>\n<p>Can anybody help with this?</p>\n"},{"tags":["java","testing","junit","mockito","test-coverage"],"owner":{"account_id":28793740,"reputation":11,"user_id":22052421,"display_name":"Sayantan Maji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686587849,"creation_date":1686587849,"question_id":76458660,"body_markdown":"I want to write an test class for my controller class\r\n\r\nI have written a test class for my controller class but having 0 coverage. The work is to follow a category and unfollow a category\r\n\r\nThis is my category class\r\n\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String categoryName;\r\n\t@ManyToMany\r\n\t@JoinColumn(name = &quot;userId&quot;)\r\n\tprivate List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n\t\r\n}\r\n\r\nSome how code is not working. Executing everytime and returning nothing\r\n\r\n```\r\npackage com.cts.pack.demojpa.controllertest;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\nimport com.cts.pack.thedailymuse.controller.CategoryController;\r\nimport com.cts.pack.thedailymuse.entity.Category;\r\nimport com.cts.pack.thedailymuse.entity.User;\r\nimport com.cts.pack.thedailymuse.exception.AlreadyFollowedException;\r\nimport com.cts.pack.thedailymuse.exception.CategoryNotFoundException;\r\nimport com.cts.pack.thedailymuse.exception.NotFollowedException;\r\nimport com.cts.pack.thedailymuse.exception.UserNotFoundException;\r\nimport com.cts.pack.thedailymuse.model.FollowUnfollowInputModel;\r\nimport com.cts.pack.thedailymuse.service.CategoryService;\r\nimport com.cts.pack.thedailymuse.service.UserService;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CategoryControllerTest {\r\n\r\n    @Mock\r\n    private CategoryService categoryService;\r\n\r\n    @Mock\r\n    private UserService userService;\r\n\r\n    @InjectMocks\r\n    private CategoryController categoryController;\r\n\r\n\r\n    @Test\r\n    public void testFollowCategory() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        \r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        \r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n        when(categoryService.addCategory(category)).thenReturn(category);\r\n\r\n        ResponseEntity&lt;Category&gt; response = categoryController.followCategory(inputModel);\r\n\r\n        assertEquals(HttpStatus.OK, response.getStatusCode());\r\n        assertEquals(category, response.getBody());\r\n        verify(categoryService, times(1)).addCategory(category);\r\n    }\r\n\r\n    @Test(expected = UserNotFoundException.class)\r\n    public void testFollowCategory_UserNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = CategoryNotFoundException.class)\r\n    public void testFollowCategory_CategoryNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = AlreadyFollowedException.class)\r\n    public void testFollowCategory_AlreadyFollowedException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n        when(categoryService.addCategory(category)).thenReturn(category);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void testUnfollowCategory() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n        verify(categoryService, times(1)).removeCategory(category);\r\n    }\r\n\r\n    @Test(expected = UserNotFoundException.class)\r\n    public void testUnfollowCategory_UserNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = CategoryNotFoundException.class)\r\n    public void testUnfollowCategory_CategoryNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        \r\n    \tFollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = NotFollowedException.class)\r\n    public void testUnfollowCategory_NotFollowedException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/FprBk.png)","title":"Test covergae is showing 0","body":"<p>I want to write an test class for my controller class</p>\n<p>I have written a test class for my controller class but having 0 coverage. The work is to follow a category and unfollow a category</p>\n<p>This is my category class</p>\n<p>public class Category {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\nprivate String categoryName;\n@ManyToMany\n@JoinColumn(name = &quot;userId&quot;)\nprivate List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>}</p>\n<p>Some how code is not working. Executing everytime and returning nothing</p>\n<pre><code>package com.cts.pack.demojpa.controllertest;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\n\nimport com.cts.pack.thedailymuse.controller.CategoryController;\nimport com.cts.pack.thedailymuse.entity.Category;\nimport com.cts.pack.thedailymuse.entity.User;\nimport com.cts.pack.thedailymuse.exception.AlreadyFollowedException;\nimport com.cts.pack.thedailymuse.exception.CategoryNotFoundException;\nimport com.cts.pack.thedailymuse.exception.NotFollowedException;\nimport com.cts.pack.thedailymuse.exception.UserNotFoundException;\nimport com.cts.pack.thedailymuse.model.FollowUnfollowInputModel;\nimport com.cts.pack.thedailymuse.service.CategoryService;\nimport com.cts.pack.thedailymuse.service.UserService;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.*;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class CategoryControllerTest {\n\n    @Mock\n    private CategoryService categoryService;\n\n    @Mock\n    private UserService userService;\n\n    @InjectMocks\n    private CategoryController categoryController;\n\n\n    @Test\n    public void testFollowCategory() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        \n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        \n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n        when(categoryService.addCategory(category)).thenReturn(category);\n\n        ResponseEntity&lt;Category&gt; response = categoryController.followCategory(inputModel);\n\n        assertEquals(HttpStatus.OK, response.getStatusCode());\n        assertEquals(category, response.getBody());\n        verify(categoryService, times(1)).addCategory(category);\n    }\n\n    @Test(expected = UserNotFoundException.class)\n    public void testFollowCategory_UserNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test(expected = CategoryNotFoundException.class)\n    public void testFollowCategory_CategoryNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test(expected = AlreadyFollowedException.class)\n    public void testFollowCategory_AlreadyFollowedException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n        when(categoryService.addCategory(category)).thenReturn(category);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test\n    public void testUnfollowCategory() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n\n        categoryController.unfollowCategory(inputModel);\n\n        verify(categoryService, times(1)).removeCategory(category);\n    }\n\n    @Test(expected = UserNotFoundException.class)\n    public void testUnfollowCategory_UserNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n\n    @Test(expected = CategoryNotFoundException.class)\n    public void testUnfollowCategory_CategoryNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        \n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n\n    @Test(expected = NotFollowedException.class)\n    public void testUnfollowCategory_NotFollowedException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FprBk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1686587764,"post_id":76457629,"comment_id":134816116,"body_markdown":"&lt;s:property value=&quot;%{map[&#39;true&#39;]}&quot;/&gt;, what ideally you should be doing is keep string as key and value boolean. HashMap&lt;String, Boolean&gt;","body":"&lt;s:property value=&quot;%{map[&#39;true&#39;]}&quot;/&gt;, what ideally you should be doing is keep string as key and value boolean. HashMap&lt;String, Boolean&gt;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686588278,"post_id":76457629,"comment_id":134816215,"body_markdown":"Does it make sense to use a map for just two values?","body":"Does it make sense to use a map for just two values?"},{"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"score":0,"creation_date":1686589755,"post_id":76457629,"comment_id":134816472,"body_markdown":"@SuchandraT, that&#39;s accurate for my situation. Many thanks! :)","body":"@SuchandraT, that&#39;s accurate for my situation. Many thanks! :)"},{"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"score":0,"creation_date":1686638045,"post_id":76457629,"comment_id":134822361,"body_markdown":"Yes, @aled, it is for a select tag.","body":"Yes, @aled, it is for a select tag."}],"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686587539,"creation_date":1686579987,"question_id":76457629,"body_markdown":"Related to the questions [How to get map value given a key in a JSP page?](https://stackoverflow.com/questions/5264774/how-to-get-map-value-given-a-key-in-a-jsp) and [Get value of HashMap by specific key in EL without iterating over it](https://stackoverflow.com/questions/5395308/get-value-of-hashmap-by-specific-key-in-el-without-iterating-over-it)\r\n\r\nI have a `HashMap&lt;Boolean, String&gt;` and get always a null in the property tag. How do I get the string value given a Boolean key?\r\n\r\n```\r\n&lt;s:property value=&quot;%{map[&#39;keyValueStack&#39;]}&quot;&gt;&lt;/s:property&gt;\r\n```\r\n\r\n","title":"How to get a Map value if the key is a Boolean data type in JSP?","body":"<p>Related to the questions <a href=\"https://stackoverflow.com/questions/5264774/how-to-get-map-value-given-a-key-in-a-jsp\">How to get map value given a key in a JSP page?</a> and <a href=\"https://stackoverflow.com/questions/5395308/get-value-of-hashmap-by-specific-key-in-el-without-iterating-over-it\">Get value of HashMap by specific key in EL without iterating over it</a></p>\n<p>I have a <code>HashMap&lt;Boolean, String&gt;</code> and get always a null in the property tag. How do I get the string value given a Boolean key?</p>\n<pre><code>&lt;s:property value=&quot;%{map['keyValueStack']}&quot;&gt;&lt;/s:property&gt;\n</code></pre>\n"},{"tags":["java","amazon-kinesis","aws-java-sdk","amazon-kcl"],"answers":[{"tags":[],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686587437,"creation_date":1686587437,"answer_id":76458611,"question_id":76438930,"body_markdown":"I am using two scheduler which are reading from different kinesis stream.\r\n\r\n    //Application.class\r\n     Created HashMap to store the Schedular information.\r\n      public static ConcurrentHashMap&lt;String, Scheduler&gt; schedulerMap = new \r\n    ConcurrentHashMap&lt;&gt;();\r\n\r\n    Scheduler scheduler = schedulerFactory.getScheduler(schedulerConfigBuilder.buildConfiguration(streamConfig \r\n        ));\r\n       \r\n    schedulerMap.put(streamConfig.getLogicalName(), scheduler);\r\n\r\n\r\n    \r\n    //KinesisRecordProcessor class\r\n    @SneakyThrows\r\n    @Override\r\n    public void processRecords(ProcessRecordsInput processRecordsInput) {\r\n\r\n     for (KinesisClientRecord s : processRecordsInput.records()) {\r\n  \r\n     try {\r\n      //some opreations on records\r\n      //doing glue validation\r\n     //then at last saving record to dynamodb \r\n\r\n      } catch (GlueSchemaException e) {\r\n      \r\n      } catch (Exception ex) {\r\n     //And used this information to stop schedular as below in case of error\r\n     Application.schedulerMap.get(streamConfig.getLogicalName()).shutdown();\r\n       \r\n     }\r\n  \r\n     processRecordsInput.checkpointer().checkpoint();\r\n    }\r\n\r\n\r\n","title":"How to shutdown processRecord method of KCL in case of any error?","body":"<p>I am using two scheduler which are reading from different kinesis stream.</p>\n<pre><code>//Application.class\n Created HashMap to store the Schedular information.\n  public static ConcurrentHashMap&lt;String, Scheduler&gt; schedulerMap = new \nConcurrentHashMap&lt;&gt;();\n\nScheduler scheduler = schedulerFactory.getScheduler(schedulerConfigBuilder.buildConfiguration(streamConfig \n    ));\n   \nschedulerMap.put(streamConfig.getLogicalName(), scheduler);\n\n\n\n//KinesisRecordProcessor class\n@SneakyThrows\n@Override\npublic void processRecords(ProcessRecordsInput processRecordsInput) {\n\n for (KinesisClientRecord s : processRecordsInput.records()) {\n\n try {\n  //some opreations on records\n  //doing glue validation\n //then at last saving record to dynamodb \n\n  } catch (GlueSchemaException e) {\n  \n  } catch (Exception ex) {\n //And used this information to stop schedular as below in case of error\n Application.schedulerMap.get(streamConfig.getLogicalName()).shutdown();\n   \n }\n\n processRecordsInput.checkpointer().checkpoint();\n}\n</code></pre>\n"}],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686587437,"creation_date":1686302697,"question_id":76438930,"body_markdown":"I am using multiple Scheduler to process record from multiple kinesis stream. Now, my requirement is, If scheduler I failed during processing, so I want to stop it, and don&#39;t want to stop scheduler II. But currently, processRecord method is not stopping, it is polling even after I have thrown error. And If I am using Thread.currentThread().stop() to stop particular schedular on exception it is giving error\r\n\r\n    Caused by: java.lang.IllegalStateException: Client is closed. No more requests can be made with this client.\r\n\tat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.getOrCreateConnectionPool(AwsCrtAsyncHttpClient.java:208) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\r\n\tat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.execute(AwsCrtAsyncHttpClient.java:235) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.doExecuteHttpRequest(MakeAsyncHttpRequestStage.java:175) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.executeHttpRequest(MakeAsyncHttpRequestStage.java:147) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$execute$1(MakeAsyncHttpRequestStage.java:99) ~[sdk-core-2.17.160.jar:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:753) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:731) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2108) ~[na:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:95) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:60) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206) ~[sdk-core-2.17.160.jar:na]\r\n\r\nMy processRecord Method code:\r\n \r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public void processRecords(ProcessRecordsInput processRecordsInput) {\r\n\r\n    for (KinesisClientRecord s : processRecordsInput.records()) {\r\n      \r\n      try {\r\n       //some opreations on records\r\n\t   //doing glue validation\r\n\t   //then at last saving record to dynamodb \r\n\r\n      } catch (GlueSchemaException e) {\r\n\r\n      } catch (Exception ex) {\r\n        LOGGER.info(&quot;Stopping current thread &quot;+ Thread.currentThread().getName());\r\n        processRecordsInput.checkpointer().checkpoint();\r\n        Thread.currentThread().stop();//you can skip this line, I am trying to stop the further processing\r\n        throw new NullPointerException();\r\n      }\r\n\t  \r\n\t  processRecordsInput.checkpointer().checkpoint();\r\n    }\r\n\r\n  \r\nI am trying to stop KCL by throwing exception also, but that is also not working, it is still not stopping processing.\r\n\r\n ","title":"How to shutdown processRecord method of KCL in case of any error?","body":"<p>I am using multiple Scheduler to process record from multiple kinesis stream. Now, my requirement is, If scheduler I failed during processing, so I want to stop it, and don't want to stop scheduler II. But currently, processRecord method is not stopping, it is polling even after I have thrown error. And If I am using Thread.currentThread().stop() to stop particular schedular on exception it is giving error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Client is closed. No more requests can be made with this client.\nat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.getOrCreateConnectionPool(AwsCrtAsyncHttpClient.java:208) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\nat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.execute(AwsCrtAsyncHttpClient.java:235) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.doExecuteHttpRequest(MakeAsyncHttpRequestStage.java:175) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.executeHttpRequest(MakeAsyncHttpRequestStage.java:147) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$execute$1(MakeAsyncHttpRequestStage.java:99) ~[sdk-core-2.17.160.jar:na]\nat java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:753) ~[na:na]\nat java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:731) ~[na:na]\nat java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2108) ~[na:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:95) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:60) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206) ~[sdk-core-2.17.160.jar:na]\n</code></pre>\n<p>My processRecord Method code:</p>\n<pre><code>@SneakyThrows\n@Override\npublic void processRecords(ProcessRecordsInput processRecordsInput) {\n\nfor (KinesisClientRecord s : processRecordsInput.records()) {\n  \n  try {\n   //some opreations on records\n   //doing glue validation\n   //then at last saving record to dynamodb \n\n  } catch (GlueSchemaException e) {\n\n  } catch (Exception ex) {\n    LOGGER.info(&quot;Stopping current thread &quot;+ Thread.currentThread().getName());\n    processRecordsInput.checkpointer().checkpoint();\n    Thread.currentThread().stop();//you can skip this line, I am trying to stop the further processing\n    throw new NullPointerException();\n  }\n  \n  processRecordsInput.checkpointer().checkpoint();\n}\n</code></pre>\n<p>I am trying to stop KCL by throwing exception also, but that is also not working, it is still not stopping processing.</p>\n"},{"tags":["java","slf4j","graylog2","graylog","gelf"],"answers":[{"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1510921444,"creation_date":1510921444,"answer_id":47350591,"question_id":45734943,"body_markdown":"SLF4J is just a facade for other logging libraries.\r\n\r\nYou have to use a GELF appender for the *specific* logging framework (Log4j, Logback, java.util.logging, etc.) you&#39;re using in your application.\r\n\r\nCheck out the Graylog Marketplace for existing GELF appenders for Java logging frameworks:\r\n\r\nhttps://marketplace.graylog.org/addons?tag=java","title":"Sending logs to Graylog and in Gelf format","body":"<p>SLF4J is just a facade for other logging libraries.</p>\n\n<p>You have to use a GELF appender for the <em>specific</em> logging framework (Log4j, Logback, java.util.logging, etc.) you're using in your application.</p>\n\n<p>Check out the Graylog Marketplace for existing GELF appenders for Java logging frameworks:</p>\n\n<p><a href=\"https://marketplace.graylog.org/addons?tag=java\" rel=\"noreferrer\">https://marketplace.graylog.org/addons?tag=java</a></p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686586606,"creation_date":1686586120,"answer_id":76458459,"question_id":45734943,"body_markdown":"As of 2023 \r\n\r\nSupposing one uses logback,\r\nyou need to add appended to logback config.\r\n\r\nNew marketplace link would be  \r\nhttps://community.graylog.org/search?q=java%20%23marketplace  \r\n(as no so clearly explained in [video](https://community.graylog.org/t/how-to-search-the-new-marketplace/25425) )\r\n\r\nHowever for some time top recommended appender is  \r\nhttps://github.com/mp911de/logstash-gelf -&gt; https://logging.paluch.biz/examples/logback.html\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration&gt;\r\n&lt;configuration&gt;\r\n    &lt;contextName&gt;test&lt;/contextName&gt;\r\n    &lt;jmxConfigurator/&gt;\r\n    &lt;appender name=&quot;gelf&quot; class=&quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot;&gt;\r\n        &lt;host&gt;udp:localhost&lt;/host&gt;\r\n        &lt;port&gt;12201&lt;/port&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;facility&gt;logstash-gelf&lt;/facility&gt;\r\n        &lt;extractStackTrace&gt;true&lt;/extractStackTrace&gt;\r\n        &lt;filterStackTrace&gt;true&lt;/filterStackTrace&gt;\r\n        &lt;includeLocation&gt;true&lt;/includeLocation&gt;\r\n        &lt;mdcProfiling&gt;true&lt;/mdcProfiling&gt;\r\n        &lt;timestampPattern&gt;yyyy-MM-dd HH:mm:ss,SSS&lt;/timestampPattern&gt;\r\n        &lt;maximumMessageSize&gt;8192&lt;/maximumMessageSize&gt;\r\n        &lt;additionalFields&gt;fieldName1=fieldValue1,fieldName2=fieldValue2&lt;/additionalFields&gt;\r\n        &lt;additionalFieldTypes&gt;fieldName1=String,fieldName2=Double,fieldName3=Long&lt;/additionalFieldTypes&gt;\r\n        &lt;mdcFields&gt;mdcField1,mdcField2&lt;/mdcFields&gt;\r\n        &lt;dynamicMdcFields&gt;myMdc.*,[a-z]+Field&lt;/dynamicMdcFields&gt;\r\n        &lt;dynamicMdcFieldTypes&gt;my_field.*=String,business\\..*\\.field=double&lt;/dynamicMdcFieldTypes&gt;\r\n        &lt;includeFullMdc&gt;true&lt;/includeFullMdc&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;gelf&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nRelated\r\n- https://stackoverflow.com/questions/51311188/direct-logback-logs-to-graylog\r\n","title":"Sending logs to Graylog and in Gelf format","body":"<p>As of 2023</p>\n<p>Supposing one uses logback,\nyou need to add appended to logback config.</p>\n<p>New marketplace link would be<br />\n<a href=\"https://community.graylog.org/search?q=java%20%23marketplace\" rel=\"nofollow noreferrer\">https://community.graylog.org/search?q=java%20%23marketplace</a><br />\n(as no so clearly explained in <a href=\"https://community.graylog.org/t/how-to-search-the-new-marketplace/25425\" rel=\"nofollow noreferrer\">video</a> )</p>\n<p>However for some time top recommended appender is<br />\n<a href=\"https://github.com/mp911de/logstash-gelf\" rel=\"nofollow noreferrer\">https://github.com/mp911de/logstash-gelf</a> -&gt; <a href=\"https://logging.paluch.biz/examples/logback.html\" rel=\"nofollow noreferrer\">https://logging.paluch.biz/examples/logback.html</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration&gt;\n&lt;configuration&gt;\n    &lt;contextName&gt;test&lt;/contextName&gt;\n    &lt;jmxConfigurator/&gt;\n    &lt;appender name=&quot;gelf&quot; class=&quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot;&gt;\n        &lt;host&gt;udp:localhost&lt;/host&gt;\n        &lt;port&gt;12201&lt;/port&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;facility&gt;logstash-gelf&lt;/facility&gt;\n        &lt;extractStackTrace&gt;true&lt;/extractStackTrace&gt;\n        &lt;filterStackTrace&gt;true&lt;/filterStackTrace&gt;\n        &lt;includeLocation&gt;true&lt;/includeLocation&gt;\n        &lt;mdcProfiling&gt;true&lt;/mdcProfiling&gt;\n        &lt;timestampPattern&gt;yyyy-MM-dd HH:mm:ss,SSS&lt;/timestampPattern&gt;\n        &lt;maximumMessageSize&gt;8192&lt;/maximumMessageSize&gt;\n        &lt;additionalFields&gt;fieldName1=fieldValue1,fieldName2=fieldValue2&lt;/additionalFields&gt;\n        &lt;additionalFieldTypes&gt;fieldName1=String,fieldName2=Double,fieldName3=Long&lt;/additionalFieldTypes&gt;\n        &lt;mdcFields&gt;mdcField1,mdcField2&lt;/mdcFields&gt;\n        &lt;dynamicMdcFields&gt;myMdc.*,[a-z]+Field&lt;/dynamicMdcFields&gt;\n        &lt;dynamicMdcFieldTypes&gt;my_field.*=String,business\\..*\\.field=double&lt;/dynamicMdcFieldTypes&gt;\n        &lt;includeFullMdc&gt;true&lt;/includeFullMdc&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;INFO&lt;/level&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;gelf&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Related</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51311188/direct-logback-logs-to-graylog\">Direct logback logs to graylog</a></li>\n</ul>\n"}],"owner":{"account_id":11022749,"reputation":167,"user_id":8096492,"accept_rate":50,"display_name":"orcl user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3292,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47350591,"answer_count":2,"score":9,"last_activity_date":1686586606,"creation_date":1502972351,"question_id":45734943,"body_markdown":"I would like to use graylog as central logging server and currently I am just using slf4j Logger &quot;slf4j-api&quot; as Java logging framework for logging in my java application. Can i use SLF4J to send logging to Graylog? or Which additional libraries do i need to send these logs to Graylog?","title":"Sending logs to Graylog and in Gelf format","body":"<p>I would like to use graylog as central logging server and currently I am just using slf4j Logger \"slf4j-api\" as Java logging framework for logging in my java application. Can i use SLF4J to send logging to Graylog? or Which additional libraries do i need to send these logs to Graylog?</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1653405450,"post_id":72310917,"comment_id":127842077,"body_markdown":"I think one of possible solutions is to write custom predicate/filter. Articles for it: https://www.baeldung.com/spring-cloud-custom-gateway-filters and https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories","body":"I think one of possible solutions is to write custom predicate/filter. Articles for it: <a href=\"https://www.baeldung.com/spring-cloud-custom-gateway-filters\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-custom-gateway-filters</a> and <a href=\"https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-gateway-routing-predicate-factorie&zwnj;&#8203;s</a>"}],"answers":[{"comments":[{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1681216077,"post_id":72391864,"comment_id":134017485,"body_markdown":"Hello, where is your JWTUtil class? I would like to know the implementation.","body":"Hello, where is your JWTUtil class? I would like to know the implementation."},{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1681217250,"post_id":72391864,"comment_id":134017767,"body_markdown":"@AbhijitMondalAbhi look into https://github.com/auth0/java-jwt project","body":"@AbhijitMondalAbhi look into <a href=\"https://github.com/auth0/java-jwt\" rel=\"nofollow noreferrer\">github.com/auth0/java-jwt</a> project"},{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1681218838,"post_id":72391864,"comment_id":134018253,"body_markdown":"Thanks for the quick response. Is it the same project which you described above? I did not find the application.yml file. As well as I did not find any Spring Boot Cloud Gateway Project. I basically need the JWTUtil class where you checking the hasRole(). @Babl","body":"Thanks for the quick response. Is it the same project which you described above? I did not find the application.yml file. As well as I did not find any Spring Boot Cloud Gateway Project. I basically need the JWTUtil class where you checking the hasRole(). @Babl"}],"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653568321,"creation_date":1653568321,"answer_id":72391864,"question_id":72310917,"body_markdown":"If you do **not** want and need to create full OAuth 2 Server/Client infrastructure and want to keep it simple just create a custom `GatewayFilter` in which just check if the JWT token extracted from the header has the preconfigured roles.\r\nSo start with a simple `GatewayFilter`\r\n\r\n\r\n    @Component\r\n    public class RoleAuthGatewayFilterFactory extends\r\n            AbstractGatewayFilterFactory&lt;RoleAuthGatewayFilterFactory.Config&gt; {\r\n\r\n        public RoleAuthGatewayFilterFactory() {\r\n            super(Config.class);\r\n        }\r\n\r\n        @Override\r\n        public GatewayFilter apply(Config config) {\r\n            return (exchange, chain) -&gt; {\r\n                var request = exchange.getRequest();\r\n                // JWTUtil can extract the token from the request, parse it and verify if the given role is available\r\n                if(!JWTUtil.hasRole(request, config.getRole())){\r\n                    // seems we miss the auth token\r\n                    var response = exchange.getResponse();\r\n                    response.setStatusCode(HttpStatus.UNAUTHORIZED);\r\n                    return response.setComplete();\r\n                }\r\n                return chain.filter(exchange);\r\n            };\r\n        }\r\n\r\n        @Data\r\n        public static class Config {\r\n            private String role;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; shortcutFieldOrder() {\r\n            // we need this to use shortcuts in the application.yml\r\n            return Arrays.asList(&quot;role&quot;);\r\n        }\r\n    }\r\n\r\nHere we just create a simple filter which receives the required role from the config (application.yml) and checks if the request is authorized to continue. \r\n\r\nTo use the filter just add `filters` into you route config.\r\n\r\n    server:\r\n      port: 9090\r\n    spring:\r\n      application:\r\n      name: &quot;API-GATEWAY&quot;\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: task-service\r\n              uri: &#39;http://localhost:8083&#39;\r\n              filters:\r\n                - RoleAuth=ADMIN\r\n              predicates:\r\n                - Path=/task/**\r\n              \r\n\r\nSo this way the `RoleAuth` filter can be reused over the several routes.","title":"Can I use Spring Cloud Gateway for role based authorization?","body":"<p>If you do <strong>not</strong> want and need to create full OAuth 2 Server/Client infrastructure and want to keep it simple just create a custom <code>GatewayFilter</code> in which just check if the JWT token extracted from the header has the preconfigured roles.\nSo start with a simple <code>GatewayFilter</code></p>\n<pre><code>@Component\npublic class RoleAuthGatewayFilterFactory extends\n        AbstractGatewayFilterFactory&lt;RoleAuthGatewayFilterFactory.Config&gt; {\n\n    public RoleAuthGatewayFilterFactory() {\n        super(Config.class);\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n            var request = exchange.getRequest();\n            // JWTUtil can extract the token from the request, parse it and verify if the given role is available\n            if(!JWTUtil.hasRole(request, config.getRole())){\n                // seems we miss the auth token\n                var response = exchange.getResponse();\n                response.setStatusCode(HttpStatus.UNAUTHORIZED);\n                return response.setComplete();\n            }\n            return chain.filter(exchange);\n        };\n    }\n\n    @Data\n    public static class Config {\n        private String role;\n    }\n\n    @Override\n    public List&lt;String&gt; shortcutFieldOrder() {\n        // we need this to use shortcuts in the application.yml\n        return Arrays.asList(&quot;role&quot;);\n    }\n}\n</code></pre>\n<p>Here we just create a simple filter which receives the required role from the config (application.yml) and checks if the request is authorized to continue.</p>\n<p>To use the filter just add <code>filters</code> into you route config.</p>\n<pre><code>server:\n  port: 9090\nspring:\n  application:\n  name: &quot;API-GATEWAY&quot;\n  cloud:\n    gateway:\n      routes:\n        - id: task-service\n          uri: 'http://localhost:8083'\n          filters:\n            - RoleAuth=ADMIN\n          predicates:\n            - Path=/task/**\n          \n</code></pre>\n<p>So this way the <code>RoleAuth</code> filter can be reused over the several routes.</p>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686585825,"creation_date":1652993416,"question_id":72310917,"body_markdown":"I have several microservices in my architecture. I want to implement an API Gateway to route request to services. To achieve that, I implement `spring-cloud-gateway` and this is my `application.yml`\r\n\r\n\r\n\r\n    server:\r\n      port: 9090\r\n    spring:\r\n      application:\r\n      name: &quot;API-GATEWAY&quot;\r\n      cloud:\r\n       gateway:\r\n        routes:\r\n          - id: task-service\r\n            uri: &#39;http://localhost:8083&#39;\r\n            predicates:\r\n              - Path=/task/**\r\n\r\nSo far everything works as expected. a request `localhost:9090/task/123` is to `localhost:8083/task/123`. Here comes to second part.\r\n\r\nI want some users access to only some endpoints. In my JWT token, I have role field.\r\n \r\n      {\r\n          &quot;accountName&quot;: &quot;erdem.ontas&quot;,\r\n          &quot;surname&quot;: &quot;&#214;ntaş&quot;,\r\n          &quot;roles&quot;: [\r\n            &quot;ADMIN&quot;,\r\n            &quot;USER&quot;\r\n          ],\r\n    }\r\n\r\n\r\nI don&#39;t want specify authorization in every service separately, is there any way to specify role based access in spring-cloud-gateway? For example I want USER role to be able to access to `GET http://localhost:9090/task/` but not to `GET http://localhost:9090/dashboard/`","title":"Can I use Spring Cloud Gateway for role based authorization?","body":"<p>I have several microservices in my architecture. I want to implement an API Gateway to route request to services. To achieve that, I implement <code>spring-cloud-gateway</code> and this is my <code>application.yml</code></p>\n<pre><code>server:\n  port: 9090\nspring:\n  application:\n  name: &quot;API-GATEWAY&quot;\n  cloud:\n   gateway:\n    routes:\n      - id: task-service\n        uri: 'http://localhost:8083'\n        predicates:\n          - Path=/task/**\n</code></pre>\n<p>So far everything works as expected. a request <code>localhost:9090/task/123</code> is to <code>localhost:8083/task/123</code>. Here comes to second part.</p>\n<p>I want some users access to only some endpoints. In my JWT token, I have role field.</p>\n<pre><code>  {\n      &quot;accountName&quot;: &quot;erdem.ontas&quot;,\n      &quot;surname&quot;: &quot;Öntaş&quot;,\n      &quot;roles&quot;: [\n        &quot;ADMIN&quot;,\n        &quot;USER&quot;\n      ],\n}\n</code></pre>\n<p>I don't want specify authorization in every service separately, is there any way to specify role based access in spring-cloud-gateway? For example I want USER role to be able to access to <code>GET http://localhost:9090/task/</code> but not to <code>GET http://localhost:9090/dashboard/</code></p>\n"},{"tags":["java","android","xml","preferencescreen","edittextpreference"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1686618893,"post_id":76458338,"comment_id":134820656,"body_markdown":"Hi there please submit your source code as the plain text format","body":"Hi there please submit your source code as the plain text format"}],"owner":{"account_id":27681402,"reputation":1,"user_id":21130069,"display_name":"Aasann Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686585715,"creation_date":1686585287,"question_id":76458338,"body_markdown":"i need the Underline after every EditTextPreference UI for the separating it .\r\n\r\n**Code**\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\nadding Image for better understanding\r\n[enter image description here](https://i.stack.imgur.com/9fOpY.png)\r\n\r\ni have create layout .xml style and to  EditTextPreference  or PreferenceScreen but it&#39;s did not worked . i also try to add from java side but it did not worked for me \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bi4G0.jpg\r\n  [2]: https://i.stack.imgur.com/idbVq.png","title":"how to create underline in the PreferenceCategory for separating EditTextPreference","body":"<p>i need the Underline after every EditTextPreference UI for the separating it .</p>\n<p><strong>Code</strong>\n<a href=\"https://i.stack.imgur.com/bi4G0.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/idbVq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>adding Image for better understanding\n<a href=\"https://i.stack.imgur.com/9fOpY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i have create layout .xml style and to  EditTextPreference  or PreferenceScreen but it's did not worked . i also try to add from java side but it did not worked for me</p>\n"},{"tags":["java","spring-boot","yaml","jackson-databind"],"owner":{"account_id":4663819,"reputation":31,"user_id":3777385,"display_name":"user3777385"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686585358,"creation_date":1686585358,"question_id":76458355,"body_markdown":"i have a template yaml file with the following content\r\n\r\n     build:\r\n      script:\r\n       - &quot;echo \\&quot;Utilizing external YAML file\\&quot;&quot;.     \r\n       - !reference [ .build_java_gradle, script ]  \r\n       \r\nI am reading this content and setting into another yaml file. But here its getting set with &quot;&quot; added to the reference as follows.\r\n\r\n     build:\r\n      script:\r\n       - &quot;echo \\&quot;Utilizing external YAML file\\&quot;      \r\n       - &quot;!reference [ .build_java_gradle, script ]&quot;.  &lt;=== double quotes\r\n       \r\nI want to retain the same string without double quotes while setting into another yaml file. I am using jackson binding libraries.\r\n\r\n    ObjectNode buildNode = (ObjectNode) templateNode.get(&quot;build&quot;)\r\n    ObjectNode buildGitNode = gitlabCIYmlRootNode.putObject(&quot;build&quot;);\r\n    buildGitNode.setAll(buildNode);\r\n\r\n","title":"jacksonbind objectnode adding extra double quotes while setting in java","body":"<p>i have a template yaml file with the following content</p>\n<pre><code> build:\n  script:\n   - &quot;echo \\&quot;Utilizing external YAML file\\&quot;&quot;.     \n   - !reference [ .build_java_gradle, script ]  \n   \n</code></pre>\n<p>I am reading this content and setting into another yaml file. But here its getting set with &quot;&quot; added to the reference as follows.</p>\n<pre><code> build:\n  script:\n   - &quot;echo \\&quot;Utilizing external YAML file\\&quot;      \n   - &quot;!reference [ .build_java_gradle, script ]&quot;.  &lt;=== double quotes\n   \n</code></pre>\n<p>I want to retain the same string without double quotes while setting into another yaml file. I am using jackson binding libraries.</p>\n<pre><code>ObjectNode buildNode = (ObjectNode) templateNode.get(&quot;build&quot;)\nObjectNode buildGitNode = gitlabCIYmlRootNode.putObject(&quot;build&quot;);\nbuildGitNode.setAll(buildNode);\n</code></pre>\n"},{"tags":["java","spring","oracle","hibernate","nativequery"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":1,"creation_date":1686483894,"post_id":76450227,"comment_id":134801865,"body_markdown":"see this https://stackoverflow.com/a/23218474/9772107","body":"see this <a href=\"https://stackoverflow.com/a/23218474/9772107\">stackoverflow.com/a/23218474/9772107</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1686484605,"post_id":76450227,"comment_id":134801960,"body_markdown":"Not the cause of the error, but a further problem that would lead to unexpected results is that you need to wrap that OR condition in brackets, otherwise all those AND conditions will not apply when:debitTypes is null.","body":"Not the cause of the error, but a further problem that would lead to unexpected results is that you need to wrap that OR condition in brackets, otherwise all those AND conditions will not apply when:debitTypes is null."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1686489982,"post_id":76450227,"comment_id":134802553,"body_markdown":"Absolutely, wrap that OR in parentheses!","body":"Absolutely, wrap that OR in parentheses!"}],"answers":[{"comments":[{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1686484163,"post_id":76450247,"comment_id":134801902,"body_markdown":"but I want to check whether &#39;debitTypes&#39; is null or not! not the FACTOR_TYPE!","body":"but I want to check whether &#39;debitTypes&#39; is null or not! not the FACTOR_TYPE!"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1686490712,"post_id":76450247,"comment_id":134802631,"body_markdown":"when you pass your parameter and it is null it&#39;s like null is null and it isn&#39;t correct.","body":"when you pass your parameter and it is null it&#39;s like null is null and it isn&#39;t correct."}],"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686482286,"creation_date":1686482286,"answer_id":76450247,"question_id":76450227,"body_markdown":"it is because :debitTypes . instead of :debitTypes use your column name ","title":"how to bind null value in native query in spring","body":"<p>it is because :debitTypes . instead of :debitTypes use your column name</p>\n"},{"comments":[{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":1,"creation_date":1686489924,"post_id":76450385,"comment_id":134802543,"body_markdown":"It is perfectly normal to use an expression like `:bindvar IS NULL` in a SQL statement. If the bound value is translated by the database adapter as an Oracle `NULL`, then `NULL IS NULL` will work as intended.","body":"It is perfectly normal to use an expression like <code>:bindvar IS NULL</code> in a SQL statement. If the bound value is translated by the database adapter as an Oracle <code>NULL</code>, then <code>NULL IS NULL</code> will work as intended."},{"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"score":0,"creation_date":1686490523,"post_id":76450385,"comment_id":134802614,"body_markdown":"what i need is something like this:  `where (:field1 is null or table.field1 in :field1)` but when i write something like this, i get error","body":"what i need is something like this:  <code>where (:field1 is null or table.field1 in :field1)</code> but when i write something like this, i get error"}],"tags":[],"owner":{"account_id":16373113,"reputation":352,"user_id":11825939,"display_name":"Mustafa Khalil"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686585161,"creation_date":1686484916,"answer_id":76450385,"question_id":76450227,"body_markdown":"It is not possible to use `:debitTypes IS null` condition, it should be a column name. instead, in order to check if debitTypes list is null, do this check in a higher level (the method that calls getPaidDebtSummary), and use another query for it.\r\n\r\n    @Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\r\n            &quot; FROM PAYMENT  p&quot; +\r\n            &quot; INNER JOIN FACTOR f&quot; +\r\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\r\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\r\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\r\n            &quot; WHERE p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\r\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\r\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\r\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\r\n    Object[] getPaidDebtSummaryNoDebitTypes(@Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\r\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\r\n\r\nUpdate: my answer was not very clear, my idea was to not to add the condition here but in a higher level, adding the condition is correct, thanks for correcting me.","title":"how to bind null value in native query in spring","body":"<p>It is not possible to use <code>:debitTypes IS null</code> condition, it should be a column name. instead, in order to check if debitTypes list is null, do this check in a higher level (the method that calls getPaidDebtSummary), and use another query for it.</p>\n<pre><code>@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\n        &quot; FROM PAYMENT  p&quot; +\n        &quot; INNER JOIN FACTOR f&quot; +\n        &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\n        &quot; JOIN VEHICLE_GATEWAY v&quot; +\n        &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\n        &quot; WHERE p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\n        &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\n        &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\n        &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\nObject[] getPaidDebtSummaryNoDebitTypes(@Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\n                            @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\n</code></pre>\n<p>Update: my answer was not very clear, my idea was to not to add the condition here but in a higher level, adding the condition is correct, thanks for correcting me.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686494341,"creation_date":1686494341,"answer_id":76450996,"question_id":76450227,"body_markdown":"The JDBC driver doesn&#39;t know how to convert a List&lt;&gt; into the parameter of the IN() that&#39;s why you get a BINARY as fallback. ORACLE driver doesn&#39;t support anonymous type in that context: createArrayOf of the JDBC standard is not implemented.\r\n\r\n    f.FACTOR_TYPE IN (:debitTypes) \r\n\r\nshould be \r\n\r\n    f.FACTOR_TYPE IN ( select * from table(:debitTypes) )\r\n\r\nand you should pass a java.sql.Array not a List, that you create with connection.createARRAY, and you need to define a TYPE in your DB, (here a TABLE OF NUMBER), to pass its name to connection.createARRAY and second argument will be an Integer[].\r\nYou may need to unwrap your java.sql.Connection into an oracle.jdbc.driver.OracleConnection.\r\n","title":"how to bind null value in native query in spring","body":"<p>The JDBC driver doesn't know how to convert a List&lt;&gt; into the parameter of the IN() that's why you get a BINARY as fallback. ORACLE driver doesn't support anonymous type in that context: createArrayOf of the JDBC standard is not implemented.</p>\n<pre><code>f.FACTOR_TYPE IN (:debitTypes) \n</code></pre>\n<p>should be</p>\n<pre><code>f.FACTOR_TYPE IN ( select * from table(:debitTypes) )\n</code></pre>\n<p>and you should pass a java.sql.Array not a List, that you create with connection.createARRAY, and you need to define a TYPE in your DB, (here a TABLE OF NUMBER), to pass its name to connection.createARRAY and second argument will be an Integer[].\nYou may need to unwrap your java.sql.Connection into an oracle.jdbc.driver.OracleConnection.</p>\n"}],"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686585161,"creation_date":1686482052,"question_id":76450227,"body_markdown":"```\r\n@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\r\n            &quot; FROM PAYMENT  p&quot; +\r\n            &quot; INNER JOIN FACTOR f&quot; +\r\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\r\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\r\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\r\n            &quot; WHERE :debitTypes IS null OR f.FACTOR_TYPE IN (:debitTypes)&quot; +\r\n            &quot; AND p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\r\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\r\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\r\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\r\n    Object[] getPaidDebtSummary(@Param(&quot;debitTypes&quot;) List&lt;Integer&gt; debitTypes,\r\n                                @Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\r\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\r\n```\r\n\r\nHi\r\n\r\nWhen I run this query through spring boot app I get this error :\r\n*&quot;java.sql.SQLSyntaxErrorException: ORA-00932: inconsistent datatypes: expected NUMBER got BINARY&quot;*\r\n\r\nbut when I run it in database console in intellij it returns the result set!\r\n\r\nDoes Anyone have an idea how to solve this problem?","title":"how to bind null value in native query in spring","body":"<pre><code>@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\n            &quot; FROM PAYMENT  p&quot; +\n            &quot; INNER JOIN FACTOR f&quot; +\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\n            &quot; WHERE :debitTypes IS null OR f.FACTOR_TYPE IN (:debitTypes)&quot; +\n            &quot; AND p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\n    Object[] getPaidDebtSummary(@Param(&quot;debitTypes&quot;) List&lt;Integer&gt; debitTypes,\n                                @Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\n</code></pre>\n<p>Hi</p>\n<p>When I run this query through spring boot app I get this error :\n<em>&quot;java.sql.SQLSyntaxErrorException: ORA-00932: inconsistent datatypes: expected NUMBER got BINARY&quot;</em></p>\n<p>but when I run it in database console in intellij it returns the result set!</p>\n<p>Does Anyone have an idea how to solve this problem?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1668410468,"post_id":74426165,"comment_id":131389362,"body_markdown":"Does this answer your question? [Where should I place my Vaadin 10+ static files?](https://stackoverflow.com/questions/57553973/where-should-i-place-my-vaadin-10-static-files)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57553973/where-should-i-place-my-vaadin-10-static-files\">Where should I place my Vaadin 10+ static files?</a>"},{"owner":{"account_id":12137544,"reputation":174,"user_id":8862555,"display_name":"MrRene"},"score":0,"creation_date":1668968744,"post_id":74426165,"comment_id":131529502,"body_markdown":"Managed to make it work by updating to the latest vaadin, I had another couple of issues with I managed those as well. I don&#39;t know if this could work, but doesn&#39;t hurt to update to the latest","body":"Managed to make it work by updating to the latest vaadin, I had another couple of issues with I managed those as well. I don&#39;t know if this could work, but doesn&#39;t hurt to update to the latest"}],"owner":{"account_id":12137544,"reputation":174,"user_id":8862555,"display_name":"MrRene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584978,"creation_date":1668390388,"question_id":74426165,"body_markdown":"I&#39;m using Spring Boot for a Vaadin Flow 14 app and when I package into a JAR using `mvn clean package -Pproduction` and run it using `java -jar app.jar` it doesn&#39;t show any images or fonts, however the CSS works.\r\n\r\nRunning the app in dev mode works perfectly, and even running it with `mvn spring-boot:run -Pproduction` works perfectly. The problem is after packaging into a JAR.\r\n\r\nI haven&#39;t updated anything or change any major files, I just change some functions in java classes and now after packaging the issues are showing, it wasn&#39;t like this a couple of weeks ago.","title":"Static resouces not loading after packaging JAR of Vaadin 14 app","body":"<p>I'm using Spring Boot for a Vaadin Flow 14 app and when I package into a JAR using <code>mvn clean package -Pproduction</code> and run it using <code>java -jar app.jar</code> it doesn't show any images or fonts, however the CSS works.</p>\n<p>Running the app in dev mode works perfectly, and even running it with <code>mvn spring-boot:run -Pproduction</code> works perfectly. The problem is after packaging into a JAR.</p>\n<p>I haven't updated anything or change any major files, I just change some functions in java classes and now after packaging the issues are showing, it wasn't like this a couple of weeks ago.</p>\n"},{"tags":["java","oracle","etl","google-cloud-dataflow","apache-nifi"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1668545228,"post_id":74449645,"comment_id":131430569,"body_markdown":"You have zero-size input flowfiles (queue size in bytes shown as zero), and back pressure was triggered by the object count. Increase Back pressure Object threshold or filter out empty flow files depending on the producer and your business logic","body":"You have zero-size input flowfiles (queue size in bytes shown as zero), and back pressure was triggered by the object count. Increase Back pressure Object threshold or filter out empty flow files depending on the producer and your business logic"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1668601153,"post_id":74449645,"comment_id":131443975,"body_markdown":"it means executesql much slower then previous processors. maybe you should trigger &quot;generateflowfile&quot; not so often. or give more threads to executesql...","body":"it means executesql much slower then previous processors. maybe you should trigger &quot;generateflowfile&quot; not so often. or give more threads to executesql..."},{"owner":{"account_id":21645559,"reputation":23,"user_id":15966953,"display_name":"Juan Casta&#241;eda"},"score":0,"creation_date":1668608805,"post_id":74449645,"comment_id":131447110,"body_markdown":"The generateflowfile is every 60 seconds and the average per request to the database is 1 or 2 s, and the queue size is zero because it only contains attributes.\nI don&#39;t know if it&#39;s because of load balancing or for all nodes or primary node per processor.","body":"The generateflowfile is every 60 seconds and the average per request to the database is 1 or 2 s, and the queue size is zero because it only contains attributes. I don&#39;t know if it&#39;s because of load balancing or for all nodes or primary node per processor."}],"owner":{"account_id":21645559,"reputation":23,"user_id":15966953,"display_name":"Juan Casta&#241;eda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584952,"creation_date":1668532249,"question_id":74449645,"body_markdown":"I&#39;m building an ETL that first gets the date from the cache to use in the query to pull from a database, transform the content, and send it to the microservice API.\r\n\r\nI have a problem, when I start all the processor, it works fine, but like 40 hours later, the processors stop working, but they are still on, and the queue starts to fill up.\r\n\r\nThis is my flow to extract data:\r\n[![enter image description here](https://i.stack.imgur.com/MYrYF.png)](https://i.stack.imgur.com/MYrYF.png)\r\n[![enter image description here](https://i.stack.imgur.com/D3L5o.png)](https://i.stack.imgur.com/D3L5o.png)\r\n\r\nAnd this is my system to update the date:\r\n[![enter image description here](https://i.stack.imgur.com/m78VL.png)](https://i.stack.imgur.com/m78VL.png)\r\n\r\nI tried restart system and this repeats again.\r\n\r\nI want this system to always work","title":"NIFI queue is full and the processor is running but not executing its function","body":"<p>I'm building an ETL that first gets the date from the cache to use in the query to pull from a database, transform the content, and send it to the microservice API.</p>\n<p>I have a problem, when I start all the processor, it works fine, but like 40 hours later, the processors stop working, but they are still on, and the queue starts to fill up.</p>\n<p>This is my flow to extract data:\n<a href=\"https://i.stack.imgur.com/MYrYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYrYF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/D3L5o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3L5o.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my system to update the date:\n<a href=\"https://i.stack.imgur.com/m78VL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m78VL.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried restart system and this repeats again.</p>\n<p>I want this system to always work</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1950993,"reputation":3277,"user_id":1755083,"accept_rate":58,"display_name":"AbdealiLoKo"},"score":0,"creation_date":1686486296,"post_id":76450391,"comment_id":134802112,"body_markdown":"When I run your code for &quot;()&quot; - it gives a `StringIndexOutOfBoundsException: String index out of range: 2` - not false. Do you have a typo somewhere ?","body":"When I run your code for &quot;()&quot; - it gives a <code>StringIndexOutOfBoundsException: String index out of range: 2</code> - not false. Do you have a typo somewhere ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686493461,"post_id":76450391,"comment_id":134802985,"body_markdown":"what is the expected result for `([])` ?","body":"what is the expected result for <code>([])</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686495735,"post_id":76450391,"comment_id":134803266,"body_markdown":"Have you searched Stack Overflow for [similar questions](https://stackoverflow.com/search?q=valid+parentheses)?  Also, it is on coding practice / challenge sites. There is [one at LeetCode](https://leetcode.com/problems/valid-parentheses/), for example.","body":"Have you searched Stack Overflow for <a href=\"https://stackoverflow.com/search?q=valid+parentheses\">similar questions</a>?  Also, it is on coding practice / challenge sites. There is <a href=\"https://leetcode.com/problems/valid-parentheses/\" rel=\"nofollow noreferrer\">one at LeetCode</a>, for example."}],"answers":[{"comments":[{"owner":{"account_id":1950993,"reputation":3277,"user_id":1755083,"accept_rate":58,"display_name":"AbdealiLoKo"},"score":0,"creation_date":1686733483,"post_id":76450448,"comment_id":134838428,"body_markdown":"Yep, I wrote it wrong - thanks for pointing it out","body":"Yep, I wrote it wrong - thanks for pointing it out"}],"tags":[],"owner":{"account_id":1950993,"reputation":3277,"user_id":1755083,"accept_rate":58,"display_name":"AbdealiLoKo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686584872,"creation_date":1686485893,"answer_id":76450448,"question_id":76450391,"body_markdown":"Looks like you have 2 issues:\r\n\r\n1. Your code assumes `charAt()` takes index values from 1 onwards. It does not - it takes values from 0\r\n\r\n2. Your code assumes there is no nesting. So, it won&#39;t work for cases like `[()]`","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>Looks like you have 2 issues:</p>\n<ol>\n<li><p>Your code assumes <code>charAt()</code> takes index values from 1 onwards. It does not - it takes values from 0</p>\n</li>\n<li><p>Your code assumes there is no nesting. So, it won't work for cases like <code>[()]</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4293270,"reputation":43,"user_id":3509023,"accept_rate":71,"display_name":"MRRPlatinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686493211,"creation_date":1686493211,"answer_id":76450917,"question_id":76450391,"body_markdown":"One additional issue that is not addressed in the first answer is that you are attempting to access a `Map&lt;String, String&gt;` with a `char`. `charAt()` returns a character and the keys in the map are strings. This can be fixed by updating the map to be `Map&lt;Character, Character&gt;`, or by getting the string value of the character (such as by using `String.valueOf()`) wherever you are getting the character at a certain index.\r\n\r\nThis combined with addressing the issues laid out in Abdeali&#39;s answer should fix your issue.","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>One additional issue that is not addressed in the first answer is that you are attempting to access a <code>Map&lt;String, String&gt;</code> with a <code>char</code>. <code>charAt()</code> returns a character and the keys in the map are strings. This can be fixed by updating the map to be <code>Map&lt;Character, Character&gt;</code>, or by getting the string value of the character (such as by using <code>String.valueOf()</code>) wherever you are getting the character at a certain index.</p>\n<p>This combined with addressing the issues laid out in Abdeali's answer should fix your issue.</p>\n"}],"owner":{"account_id":26295826,"reputation":9,"user_id":19962083,"display_name":"frozenyoung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686584872,"creation_date":1686484988,"question_id":76450391,"body_markdown":"I want to write a function that does the following: Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid. A valid string needs to satisfy:\r\n - the opening parenthesis must be closed with the same type of closing parenthesis.\r\n - Opening parentheses must be closed in the correct order.\r\n - Each closing parenthesis has a corresponding opening parenthesis of the same type.\r\n\r\nExample:\r\n\r\nInput: s = &quot;()&quot;  \r\nOutput: true\r\n\r\nInput: s = &quot;()[]{}&quot;  \r\nOutput: true\r\n\r\nInput: s = &quot;(]&quot;  \r\nOutput: false.\r\n\r\nBut when I test the code with:\r\nInput &quot;()&quot;  \r\nOutput is showing as false.\r\n\r\nHere is my code.\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nclass Solution {\r\n    public boolean isValid(String s) {\r\n        Map&lt;String, String&gt; map = Map.of(&quot;(&quot;,&quot;)&quot;,&quot;[&quot;,&quot;]&quot;,&quot;{&quot;,&quot;}&quot;);\r\n\r\n        if (s.length() % 2 != 0) {\r\n            return false;\r\n        }\r\n\r\n        for (int index = 0; index &lt; s.length() / 2; index++) {\r\n            if (!map.containsKey(s.charAt(2 * index + 1))) {\r\n                return false;\r\n            } else {\r\n                if (!map.get(s.charAt(2 * index + 1)).equals(s.charAt(2 * index + 2))) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe function may be realized by using the stack, but the first thing I thought of was my method. Where is the logic error in my method?","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>I want to write a function that does the following: Given a string s that contains only '(', ')', '{', '}', '[', ']', determine whether the string is valid. A valid string needs to satisfy:</p>\n<ul>\n<li>the opening parenthesis must be closed with the same type of closing parenthesis.</li>\n<li>Opening parentheses must be closed in the correct order.</li>\n<li>Each closing parenthesis has a corresponding opening parenthesis of the same type.</li>\n</ul>\n<p>Example:</p>\n<p>Input: s = &quot;()&quot;<br />\nOutput: true</p>\n<p>Input: s = &quot;()[]{}&quot;<br />\nOutput: true</p>\n<p>Input: s = &quot;(]&quot;<br />\nOutput: false.</p>\n<p>But when I test the code with:\nInput &quot;()&quot;<br />\nOutput is showing as false.</p>\n<p>Here is my code.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nclass Solution {\n    public boolean isValid(String s) {\n        Map&lt;String, String&gt; map = Map.of(&quot;(&quot;,&quot;)&quot;,&quot;[&quot;,&quot;]&quot;,&quot;{&quot;,&quot;}&quot;);\n\n        if (s.length() % 2 != 0) {\n            return false;\n        }\n\n        for (int index = 0; index &lt; s.length() / 2; index++) {\n            if (!map.containsKey(s.charAt(2 * index + 1))) {\n                return false;\n            } else {\n                if (!map.get(s.charAt(2 * index + 1)).equals(s.charAt(2 * index + 2))) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>The function may be realized by using the stack, but the first thing I thought of was my method. Where is the logic error in my method?</p>\n"},{"tags":["java","kubernetes","monitoring","spring-boot-admin"],"comments":[{"owner":{"account_id":94568,"reputation":447,"user_id":258115,"display_name":"dushshantha"},"score":0,"creation_date":1668038273,"post_id":73446593,"comment_id":131313490,"body_markdown":"Did you get this to work? I am facing the same issue.","body":"Did you get this to work? I am facing the same issue."},{"owner":{"account_id":26130204,"reputation":31,"user_id":19821040,"display_name":"ed40721"},"score":0,"creation_date":1668154068,"post_id":73446593,"comment_id":131341229,"body_markdown":"I abandoned the problem. In hindsight the problem might be that I didn&#39;t configure any probes (health/readiness/liveliness)","body":"I abandoned the problem. In hindsight the problem might be that I didn&#39;t configure any probes (health/readiness/liveliness)"},{"owner":{"account_id":1287025,"reputation":749,"user_id":1239904,"accept_rate":64,"display_name":"Mahatma_Fatal_Error"},"score":0,"creation_date":1683204628,"post_id":73446593,"comment_id":134332841,"body_markdown":"I am having the same issue, even with readiness and liveness probes","body":"I am having the same issue, even with readiness and liveness probes"}],"answers":[{"comments":[{"owner":{"account_id":26130204,"reputation":31,"user_id":19821040,"display_name":"ed40721"},"score":1,"creation_date":1661185683,"post_id":73447720,"comment_id":129706573,"body_markdown":"tried it and it didn&#39;t work :(","body":"tried it and it didn&#39;t work :("}],"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661182851,"creation_date":1661182851,"answer_id":73447720,"question_id":73446593,"body_markdown":"Please try to activate the reloads.\r\n    \r\n    spring:\r\n      cloud:\r\n        kubernetes:\r\n          reload:\r\n            enabled: true","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>Please try to activate the reloads.</p>\n<pre><code>spring:\n  cloud:\n    kubernetes:\n      reload:\n        enabled: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24121769,"reputation":19,"user_id":18090829,"display_name":"Frederic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686584617,"creation_date":1686584617,"answer_id":76458260,"question_id":73446593,"body_markdown":"Have you tried to use the dependency `org.springframework.cloud:spring-cloud-kubernetes-fabric8-discovery` instead of `org.springframework.cloud:spring-cloud-starter-kubernetes-client-all`? \r\nThis is where I found it: https://github.com/codecentric/spring-boot-admin/issues/1788\r\nAnd according to this: https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042, it should be solved with Spring Cloud 2022.0.1.","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>Have you tried to use the dependency <code>org.springframework.cloud:spring-cloud-kubernetes-fabric8-discovery</code> instead of <code>org.springframework.cloud:spring-cloud-starter-kubernetes-client-all</code>?\nThis is where I found it: <a href=\"https://github.com/codecentric/spring-boot-admin/issues/1788\" rel=\"nofollow noreferrer\">https://github.com/codecentric/spring-boot-admin/issues/1788</a>\nAnd according to this: <a href=\"https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042</a>, it should be solved with Spring Cloud 2022.0.1.</p>\n"}],"owner":{"account_id":26130204,"reputation":31,"user_id":19821040,"display_name":"ed40721"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1686584617,"creation_date":1661177832,"question_id":73446593,"body_markdown":"I deployed Spring Boot Admin on an Azure Kubernetes Cluster. At first I get the pods of my app displayed as &quot;UP&quot;. After restarting the deployment of the pods all pods are down and the new pods aren&#39;t recognized by Spring Boot Admin server. Is there anything I am missing?\r\n\r\n[Pods are UP as they should][1]\r\n\r\n\r\n[New pods don&#39;t get registered and old are still on the dashboard][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OZjCS.png\r\n  [2]: https://i.stack.imgur.com/XQMyh.png\r\n\r\nMy application.yml\r\n```\r\nspring:\r\n  boot:\r\n    admin:\r\n      discovery:\r\n        enabled: true\r\n      monitor:\r\n        status-interval: 3s\r\n        status-lifetime: 3s\r\n  application:\r\n    name: monitoring-server\r\n  cloud:\r\n    kubernetes:\r\n      discovery:\r\n        primary-port-name: health\r\n        enabled: true\r\n        service-labels:\r\n          spring.boot: middleware\r\n      enabled: true\r\n```\r\n\r\nMain Class with annotations\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAdminServer\r\n@EnableDiscoveryClient\r\n@EnableScheduling\r\npublic class MonitoringApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MonitoringApplication.class, args);\r\n    }\r\n}\r\n```\r\nAdded dependencies\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-all&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nEdit:\r\n```\r\nspring boot version: 2.6.6\r\nspring boot admin version: 2.6.3\r\nspring cloud version: 2021.0.1\r\n```","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>I deployed Spring Boot Admin on an Azure Kubernetes Cluster. At first I get the pods of my app displayed as &quot;UP&quot;. After restarting the deployment of the pods all pods are down and the new pods aren't recognized by Spring Boot Admin server. Is there anything I am missing?</p>\n<p><a href=\"https://i.stack.imgur.com/OZjCS.png\" rel=\"nofollow noreferrer\">Pods are UP as they should</a></p>\n<p><a href=\"https://i.stack.imgur.com/XQMyh.png\" rel=\"nofollow noreferrer\">New pods don't get registered and old are still on the dashboard</a></p>\n<p>My application.yml</p>\n<pre><code>spring:\n  boot:\n    admin:\n      discovery:\n        enabled: true\n      monitor:\n        status-interval: 3s\n        status-lifetime: 3s\n  application:\n    name: monitoring-server\n  cloud:\n    kubernetes:\n      discovery:\n        primary-port-name: health\n        enabled: true\n        service-labels:\n          spring.boot: middleware\n      enabled: true\n</code></pre>\n<p>Main Class with annotations</p>\n<pre><code>@SpringBootApplication\n@EnableAdminServer\n@EnableDiscoveryClient\n@EnableScheduling\npublic class MonitoringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MonitoringApplication.class, args);\n    }\n}\n</code></pre>\n<p>Added dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-all&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Edit:</p>\n<pre><code>spring boot version: 2.6.6\nspring boot admin version: 2.6.3\nspring cloud version: 2021.0.1\n</code></pre>\n"},{"tags":["java","spring-boot","rest","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675843474,"post_id":75382724,"comment_id":133012870,"body_markdown":"Can you provide your complete code\nFor example, upload it to github","body":"Can you provide your complete code For example, upload it to github"},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675844313,"post_id":75382724,"comment_id":133013090,"body_markdown":"@Jilliss: Unfortunately I cannot provide the whole code due to company regulations, so I edited my post and added the application.properties and SecurityConfiguration. There are no other places in the project where anything should tamper with the configuration.","body":"@Jilliss: Unfortunately I cannot provide the whole code due to company regulations, so I edited my post and added the application.properties and SecurityConfiguration. There are no other places in the project where anything should tamper with the configuration."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1675844486,"post_id":75382724,"comment_id":133013142,"body_markdown":"POST requests are by default secured by CSRF. Please configure it appropriate.","body":"POST requests are by default secured by CSRF. Please configure it appropriate."},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675851124,"post_id":75382724,"comment_id":133015211,"body_markdown":"Ok I read some articles about Spring Boot and CSRF attacks. I understand that I do not necessarily need csrf protection if I have my endpoints secured through for Example authentication data inside my request body (for post). So when I define an abstract RequestBody, that has username + password, or any arbitrary token sent inside a json body and I check with my own services that username + password or the token is correct, then I can just disable csrf, am I right?","body":"Ok I read some articles about Spring Boot and CSRF attacks. I understand that I do not necessarily need csrf protection if I have my endpoints secured through for Example authentication data inside my request body (for post). So when I define an abstract RequestBody, that has username + password, or any arbitrary token sent inside a json body and I check with my own services that username + password or the token is correct, then I can just disable csrf, am I right?"},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675851473,"post_id":75382724,"comment_id":133015315,"body_markdown":"The part that I don&#39;t understand is, what about my ui part? I guess my ui still needs some sort of csrf protection?","body":"The part that I don&#39;t understand is, what about my ui part? I guess my ui still needs some sort of csrf protection?"}],"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584605,"creation_date":1675842685,"question_id":75382724,"body_markdown":"I managed to set up a basic RequestController in Spring Boot using Vaadin 23 with help from [here](https://stackoverflow.com/questions/75372808/vaadin-23-rest-api-and-ui-in-spring-boot-app). \r\nGet Requests get through like intended, but for whatever reason, no POST request connects.\r\n\r\nAll I get is a response like this:\r\n\r\n```\r\n&lt;!doctype html&gt;&lt;!--\r\nThis file is auto-generated by Vaadin.\r\n--&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n &lt;head&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+&#39;:&#39;+lineno+&#39;:&#39;+colno;window.Vaadin.ConsoleErrors.push([message, &#39;(&#39;+location+&#39;)&#39;]);};window.addEventListener(&#39;unhandledrejection&#39;, e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\r\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\r\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\r\n  &lt;meta name=&quot;_csrf&quot; content=&quot;6b25f646-7020-473e-a73e-74719d95d6e2&quot;&gt;&lt;base href=&quot;.&quot;&gt;\r\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\r\ninject({\r\n  overlayConfig: {},\r\n  base: &quot;/project/ui/VAADIN/&quot;,\r\n});&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n  &lt;style&gt;\r\n    body, #outlet {\r\n      height: 100vh;\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\r\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\r\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\r\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;script&gt;if (&#39;serviceWorker&#39; in navigator) {\r\n  window.addEventListener(&#39;load&#39;, function() {\r\n    navigator.serviceWorker.register(&#39;sw.js&#39;)\r\n  });\r\n}&lt;/script&gt;\r\n &lt;/head&gt;\r\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\r\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\r\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\r\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\r\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;VAADIN/push&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nMy RequestController:\r\n\r\n```\r\n@RequestMapping(&quot;/api/test&quot;)\r\n@RestController\r\npublic class TestRestController {\r\n    \r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/secondget&quot;)\r\n    public String secondGet() {\r\n        return &quot;Hello World #2!&quot;;\r\n    }\r\n\r\n    @PostMapping(\r\n        value = &quot;/postbody&quot;)\r\n    public String post(@RequestBody String body) {\r\n        return &quot;Received: &quot; + body;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried setting &quot;consumes&quot; and &quot;produces&quot; in @PostMapping to various types, but none work. For whatever reason the method is never called. I tried using Postman on this to send my request. When trying to send a GET-Request I get the error, that the method is not allowed, so I guess that my application has registered this endpoint as POST method...\r\n\r\nMy goal is to send json to my method. So I already tried including &#39;Content-Type&#39;: &#39;application/json&#39; in my request header (Postman does that automatically)\r\n\r\nCould someone please help?\r\n\r\n\r\n**EDIT**\r\n\r\napplication.properties:\r\n```\r\nserver.servlet.context-path=/project\r\nserver.port=${PORT:8080}\r\n\r\nvaadin.urlMapping=/ui/*\r\n```\r\n\r\nSecurityConfiguration:\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    public static final String LOGOUT_URL = &quot;/project&quot;;\r\n    public static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    /**\r\n     * userDetailsService is required for the Remember Me\r\n     * https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/remember-me.html\r\n     * \r\n     * @param userDetailsService\r\n     */\r\n    public SecurityConfiguration(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        \r\n        http.authorizeRequests()\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;))\r\n            .permitAll();\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n}\r\n```","title":"Vaadin 23 POST-Request does not connect","body":"<p>I managed to set up a basic RequestController in Spring Boot using Vaadin 23 with help from <a href=\"https://stackoverflow.com/questions/75372808/vaadin-23-rest-api-and-ui-in-spring-boot-app\">here</a>.\nGet Requests get through like intended, but for whatever reason, no POST request connects.</p>\n<p>All I get is a response like this:</p>\n<pre><code>&lt;!doctype html&gt;&lt;!--\nThis file is auto-generated by Vaadin.\n--&gt;\n&lt;html lang=&quot;en&quot;&gt;\n &lt;head&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+':'+lineno+':'+colno;window.Vaadin.ConsoleErrors.push([message, '('+location+')']);};window.addEventListener('unhandledrejection', e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\n  &lt;meta name=&quot;_csrf&quot; content=&quot;6b25f646-7020-473e-a73e-74719d95d6e2&quot;&gt;&lt;base href=&quot;.&quot;&gt;\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\ninject({\n  overlayConfig: {},\n  base: &quot;/project/ui/VAADIN/&quot;,\n});&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;style&gt;\n    body, #outlet {\n      height: 100vh;\n      width: 100%;\n      margin: 0;\n    }\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\n  &lt;script&gt;if ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker.register('sw.js')\n  });\n}&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;VAADIN/push&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My RequestController:</p>\n<pre><code>@RequestMapping(&quot;/api/test&quot;)\n@RestController\npublic class TestRestController {\n    \n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello World!&quot;;\n    }\n\n    @GetMapping(&quot;/secondget&quot;)\n    public String secondGet() {\n        return &quot;Hello World #2!&quot;;\n    }\n\n    @PostMapping(\n        value = &quot;/postbody&quot;)\n    public String post(@RequestBody String body) {\n        return &quot;Received: &quot; + body;\n    }\n}\n\n</code></pre>\n<p>I tried setting &quot;consumes&quot; and &quot;produces&quot; in @PostMapping to various types, but none work. For whatever reason the method is never called. I tried using Postman on this to send my request. When trying to send a GET-Request I get the error, that the method is not allowed, so I guess that my application has registered this endpoint as POST method...</p>\n<p>My goal is to send json to my method. So I already tried including 'Content-Type': 'application/json' in my request header (Postman does that automatically)</p>\n<p>Could someone please help?</p>\n<p><strong>EDIT</strong></p>\n<p>application.properties:</p>\n<pre><code>server.servlet.context-path=/project\nserver.port=${PORT:8080}\n\nvaadin.urlMapping=/ui/*\n</code></pre>\n<p>SecurityConfiguration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurity {\n\n    public static final String LOGOUT_URL = &quot;/project&quot;;\n    public static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\n\n    private final UserDetailsService userDetailsService;\n\n    /**\n     * userDetailsService is required for the Remember Me\n     * https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/remember-me.html\n     * \n     * @param userDetailsService\n     */\n    public SecurityConfiguration(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.authorizeRequests()\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;))\n            .permitAll();\n\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n\n        http.rememberMe().key(&quot;ABC&quot;)\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\n            .userDetailsService(this.userDetailsService);\n\n        http.logout()\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","runtimeexception","serialversionuid"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1507268803,"post_id":46599012,"comment_id":80149999,"body_markdown":"https://stackoverflow.com/questions/3429921/what-does-serializable-mean","body":"<a href=\"https://stackoverflow.com/questions/3429921/what-does-serializable-mean\" title=\"what does serializable mean\">stackoverflow.com/questions/3429921/what-does-serializable-m&zwnj;&#8203;ean</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507269934,"post_id":46599012,"comment_id":80150378,"body_markdown":"Have you considered consulting the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html)?","body":"Have you considered consulting the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\">Javadoc</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507336903,"creation_date":1507269039,"answer_id":46599072,"question_id":46599012,"body_markdown":"`RuntimeException` extends `Exception`. `Exception` extends `Throwable`. `Throwable` implements `Serializable`. So `DataNotFoundException` is `Serializable` too","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p><code>RuntimeException</code> extends <code>Exception</code>. <code>Exception</code> extends <code>Throwable</code>. <code>Throwable</code> implements <code>Serializable</code>. So <code>DataNotFoundException</code> is <code>Serializable</code> too</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686584543,"creation_date":1507338527,"answer_id":46615727,"question_id":46599012,"body_markdown":"Yes, Throwables are Serializable. Serializable means that objects of that class can be converted into a sequence of bytes, which can be reassembled by another jvm. Making an exception serializable means it can be transferred across the network between tiers of a distributed application. ","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Yes, Throwables are Serializable. Serializable means that objects of that class can be converted into a sequence of bytes, which can be reassembled by another jvm. Making an exception serializable means it can be transferred across the network between tiers of a distributed application.</p>\n"},{"tags":[],"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550630158,"creation_date":1550630158,"answer_id":54778002,"question_id":46599012,"body_markdown":"Exceptions Classes or any classes which implements `Serializable` would need to have `SerialUID`, so that class that has do be serialized at the time of compiling, and `de-serialized` at the time of recompiling, `JVM` will do version matching which version of serialized class is being `de-serialized`.  \r\n`Serialisation` is implemented for following reasons.  \r\n\r\n 1. Support bidirectional communication between different versions of a class operating in different virtual machines by:\r\n- Defining a mechanism that allows `JavaTM` classes to read streams written by older versions of the same class.\r\n- Defining a mechanism that allows `JavaTM` classes to write streams intended to be read by older versions of the same class.\r\n- Provide default serialization for persistence and for `RMI`.\r\n- Perform well and produce compact streams in simple cases, so that `RMI` can use serialization.\r\n- Be able to identify and load classes that match the exact class used to write the stream.\r\n- Keep the overhead low for non-versioned classes.\r\nUse a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Exceptions Classes or any classes which implements <code>Serializable</code> would need to have <code>SerialUID</code>, so that class that has do be serialized at the time of compiling, and <code>de-serialized</code> at the time of recompiling, <code>JVM</code> will do version matching which version of serialized class is being <code>de-serialized</code>.<br>\n<code>Serialisation</code> is implemented for following reasons.  </p>\n\n<ol>\n<li>Support bidirectional communication between different versions of a class operating in different virtual machines by:\n\n<ul>\n<li>Defining a mechanism that allows <code>JavaTM</code> classes to read streams written by older versions of the same class.</li>\n<li>Defining a mechanism that allows <code>JavaTM</code> classes to write streams intended to be read by older versions of the same class.</li>\n<li>Provide default serialization for persistence and for <code>RMI</code>.</li>\n<li>Perform well and produce compact streams in simple cases, so that <code>RMI</code> can use serialization.</li>\n<li>Be able to identify and load classes that match the exact class used to write the stream.</li>\n<li>Keep the overhead low for non-versioned classes.\nUse a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.</li>\n</ul></li>\n</ol>\n"}],"owner":{"account_id":11930356,"reputation":111,"user_id":8730392,"display_name":"yogesh sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5892,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":3,"score":9,"last_activity_date":1686584543,"creation_date":1507268682,"question_id":46599012,"body_markdown":"Why do we need serialVersionUID when extending RuntimeException?  Is RuntimeException a serializable class?\r\n\r\n    public class DataNotFoundException extends RuntimeException {    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n        private static final long serialVersionUID = 1;\r\n    \r\n    \tpublic DataNotFoundException(String str)\r\n    \t{\r\n    \t\tsuper(str);\r\n    \t}\r\n    }","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Why do we need serialVersionUID when extending RuntimeException?  Is RuntimeException a serializable class?</p>\n\n<pre><code>public class DataNotFoundException extends RuntimeException {       \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1;\n\n    public DataNotFoundException(String str)\n    {\n        super(str);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","r2dbc","r2dbc-mysql"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686606190,"post_id":76458128,"comment_id":134819384,"body_markdown":"`exclude = R2dbcAutoConfiguration.class` why have you removed the R2dbcAutoConfiguration? this is exactly what sets up your repos","body":"<code>exclude = R2dbcAutoConfiguration.class</code> why have you removed the R2dbcAutoConfiguration? this is exactly what sets up your repos"},{"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"score":0,"creation_date":1686620310,"post_id":76458128,"comment_id":134820773,"body_markdown":"I didn&#39;t add this at first, but it would report an exception like this.to fix it, so I added this, which then led to the above problem","body":"I didn&#39;t add this at first, but it would report an exception like this.to fix it, so I added this, which then led to the above problem"},{"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"score":0,"creation_date":1686620517,"post_id":76458128,"comment_id":134820803,"body_markdown":"---------------------------------\nAPPLICATION FAILED TO START\n---------------------------------\n\n*Description*:\n\nFailed to configure a ConnectionFactory: &#39;url&#39; attribute is not specified and no embedded database could be configured.\n\n*Reason*: Failed to determine a suitable R2DBC Connection URL\n\n\n*Action*:\n\nConsider the following:\n\tIf you want an embedded database (H2), please put it on the classpath.\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).","body":"--------------------------------- APPLICATION FAILED TO START ---------------------------------  <i>Description</i>:  Failed to configure a ConnectionFactory: &#39;url&#39; attribute is not specified and no embedded database could be configured.  <i>Reason</i>: Failed to determine a suitable R2DBC Connection URL   <i>Action</i>:  Consider the following: \tIf you want an embedded database (H2), please put it on the classpath. \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active)."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686635331,"post_id":76458128,"comment_id":134822005,"body_markdown":"Read that error message, its crystal clear","body":"Read that error message, its crystal clear"}],"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686583547,"creation_date":1686583547,"question_id":76458128,"body_markdown":"When I first tried to use webflux and r2dbc-mysql, I encountered a strange problem.This is my project structure diagram:\r\n[![enter image description here][1]][1]\r\n\r\n**package com.example.r2dbcdemo.controller**;\r\n```\r\npackage com.example.r2dbcdemo.controller;\r\n\r\nimport com.example.r2dbcdemo.entity.User;\r\nimport com.example.r2dbcdemo.repo.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping(path = &quot;/getAllUsers&quot;)\r\n    public Flux&lt;User&gt; getAllUsers() {\r\n        Flux&lt;User&gt; users = userRepository.findAll();\r\n        return users;\r\n    }\r\n\r\n}\r\n\r\n```\r\n**com/example/r2dbcdemo/entity**\r\n```\r\npackage com.example.r2dbcdemo.entity;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\n\r\n@Data\r\n@Table(&quot;user&quot;)\r\npublic class User {\r\n    private Long id;\r\n    private String name;\r\n\r\n}\r\n```\r\n**com/example/r2dbcdemo/repo**\r\n```\r\npackage com.example.r2dbcdemo.repo;\r\n\r\nimport com.example.r2dbcdemo.entity.User;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\r\n}\r\n```\r\n**And the application.yml**\r\n```\r\nspring:\r\n    r2dbc:\r\n        url: r2dbc:mysql://localhost:3306/my_blog_db?useSSL=false\r\n        username:root\r\n        password:root\r\n```\r\nThis is the main funcation:\r\n```\r\npackage com.example.r2dbcdemo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.reactive.config.EnableWebFlux;\r\n\r\n@SpringBootApplication(exclude = R2dbcAutoConfiguration.class, scanBasePackages = {&quot;com.example.r2dbcdemo&quot;})\r\npublic class R2dbcDemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(R2dbcDemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nThis is the first time for me to use webflux and r2bdc. I thought this demo could run normally, but the following error was thrown during startup. This operation result has troubled me for a long time, please help me!\r\n&gt;2023-06-12T22:49:11.533+08:00 ERROR 27576 --- [           main] \r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter   : \r\n&gt; \r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field userRepository in\r\n&gt; com.example.r2dbcdemo.controller.UserController required a bean of\r\n&gt; type &#39;com.example.r2dbcdemo.repo.UserRepository&#39; that could not be\r\n&gt; found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.example.r2dbcdemo.repo.UserRepository&#39; in your configuration.\r\n&gt; \r\n&gt; \r\n&gt; Process finished with exit code 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2NdDK.png\r\n\r\nps:\r\njdk17,springboot3.1.0,r2dbc-mysql:0.8.2.RELEASE,webflux:3.1.0.pom","title":"Webflux and R2dbc-mysql demo, run failed","body":"<p>When I first tried to use webflux and r2dbc-mysql, I encountered a strange problem.This is my project structure diagram:\n<a href=\"https://i.stack.imgur.com/2NdDK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NdDK.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>package com.example.r2dbcdemo.controller</strong>;</p>\n<pre><code>package com.example.r2dbcdemo.controller;\n\nimport com.example.r2dbcdemo.entity.User;\nimport com.example.r2dbcdemo.repo.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Flux;\n\n@RestController\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping(path = &quot;/getAllUsers&quot;)\n    public Flux&lt;User&gt; getAllUsers() {\n        Flux&lt;User&gt; users = userRepository.findAll();\n        return users;\n    }\n\n}\n\n</code></pre>\n<p><strong>com/example/r2dbcdemo/entity</strong></p>\n<pre><code>package com.example.r2dbcdemo.entity;\n\nimport lombok.Data;\nimport org.springframework.data.relational.core.mapping.Table;\n\n@Data\n@Table(&quot;user&quot;)\npublic class User {\n    private Long id;\n    private String name;\n\n}\n</code></pre>\n<p><strong>com/example/r2dbcdemo/repo</strong></p>\n<pre><code>package com.example.r2dbcdemo.repo;\n\nimport com.example.r2dbcdemo.entity.User;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p><strong>And the application.yml</strong></p>\n<pre><code>spring:\n    r2dbc:\n        url: r2dbc:mysql://localhost:3306/my_blog_db?useSSL=false\n        username:root\n        password:root\n</code></pre>\n<p>This is the main funcation:</p>\n<pre><code>package com.example.r2dbcdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.reactive.config.EnableWebFlux;\n\n@SpringBootApplication(exclude = R2dbcAutoConfiguration.class, scanBasePackages = {&quot;com.example.r2dbcdemo&quot;})\npublic class R2dbcDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(R2dbcDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is the first time for me to use webflux and r2bdc. I thought this demo could run normally, but the following error was thrown during startup. This operation result has troubled me for a long time, please help me!</p>\n<blockquote>\n<p>2023-06-12T22:49:11.533+08:00 ERROR 27576 --- [           main]\no.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<p>*************************** APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field userRepository in\ncom.example.r2dbcdemo.controller.UserController required a bean of\ntype 'com.example.r2dbcdemo.repo.UserRepository' that could not be\nfound.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.example.r2dbcdemo.repo.UserRepository' in your configuration.</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n<p>ps:\njdk17,springboot3.1.0,r2dbc-mysql:0.8.2.RELEASE,webflux:3.1.0.pom</p>\n"},{"tags":["java","database","string","substring"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686544580,"post_id":76453497,"comment_id":134807549,"body_markdown":"_I am just trying to ... take any of those strings and store the opening hours for each day in a variable_ What is the type of the variable? Is it `String`?","body":"<i>I am just trying to ... take any of those strings and store the opening hours for each day in a variable</i> What is the type of the variable? Is it <code>String</code>?"},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":0,"creation_date":1686545105,"post_id":76453497,"comment_id":134807582,"body_markdown":"There are many ways to do so. But, in principle, I would rely on a specific date/time type being returned by a string parsing method dealing with all the input formats. For example, you could stick to days + times and use LocalDateTime. And, in the given parsing method, you would be creating new LocalDateTime variables by looking at both time and the day of week. You can easily account for the different variations via simple conditions. You could have different arrays for opening/closing or even a custom class with a boolean telling whether it is open/close.","body":"There are many ways to do so. But, in principle, I would rely on a specific date/time type being returned by a string parsing method dealing with all the input formats. For example, you could stick to days + times and use LocalDateTime. And, in the given parsing method, you would be creating new LocalDateTime variables by looking at both time and the day of week. You can easily account for the different variations via simple conditions. You could have different arrays for opening/closing or even a custom class with a boolean telling whether it is open/close."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686545671,"post_id":76453497,"comment_id":134807621,"body_markdown":"Anything &quot;Human readable&quot; is String (sub parts of charsets is primitive type char, but to use for human reading is String whether one single character or more or in computer terms line breaks and tabs and spaces. See also class Number, and java.time.* package for coherent transfer between human readable and underlying values representational purpose such as math and Date time geography and time measurement and it&#39;s human readable formatting. Also watch out for M T W T F S S on lines and NA or  N/A rather than closed.","body":"Anything &quot;Human readable&quot; is String (sub parts of charsets is primitive type char, but to use for human reading is String whether one single character or more or in computer terms line breaks and tabs and spaces. See also class Number, and java.time.* package for coherent transfer between human readable and underlying values representational purpose such as math and Date time geography and time measurement and it&#39;s human readable formatting. Also watch out for M T W T F S S on lines and NA or  N/A rather than closed."},{"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"score":0,"creation_date":1686546700,"post_id":76453497,"comment_id":134807692,"body_markdown":"@Abra Yes the data type is a string","body":"@Abra Yes the data type is a string"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686547094,"post_id":76453497,"comment_id":134807713,"body_markdown":"Can you post an example value for a variable that you expect to get from a sample value in the spreadsheet?","body":"Can you post an example value for a variable that you expect to get from a sample value in the spreadsheet?"},{"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"score":0,"creation_date":1686548659,"post_id":76453497,"comment_id":134807872,"body_markdown":"@abra For example if I had an entry of a String like &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;, I would create an array of Strings like [&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;]. The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it","body":"@abra For example if I had an entry of a String like &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;, I would create an array of Strings like [&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;]. The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686551659,"post_id":76453497,"comment_id":134808203,"body_markdown":"Question details should be in the question itself and not in a comment. I have added your comment to the question.","body":"Question details should be in the question itself and not in a comment. I have added your comment to the question."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686542607,"post_id":76453556,"comment_id":134807426,"body_markdown":"[Chain-of-responsibility pattern](https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern)","body":"<a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">Chain-of-responsibility pattern</a>"}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686542025,"creation_date":1686542025,"answer_id":76453556,"question_id":76453497,"body_markdown":"I would suggest to implement a method for each of expected formats. Each method would try to parse a string as it formatted in a corresponding way. If the parsing was successful - return the result, otherwise throws an exception (or return null, or whatever you like). Then write as many methods as there are formats you expect and execute them one by one until some method would return successfully parsed value.","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>I would suggest to implement a method for each of expected formats. Each method would try to parse a string as it formatted in a corresponding way. If the parsing was successful - return the result, otherwise throws an exception (or return null, or whatever you like). Then write as many methods as there are formats you expect and execute them one by one until some method would return successfully parsed value.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686545080,"creation_date":1686543161,"answer_id":76453608,"question_id":76453497,"body_markdown":"It&#39;s a complex parse.&amp;nbsp; You can start by delimiting the _strings_ on the comma.\r\n\r\n```java\r\nString[] strings = {\r\n    &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;,\r\n    &quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;,\r\n    &quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;,\r\n    &quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;,\r\n    &quot;24/7&quot;\r\n};\r\nString[] values;\r\nfor (String string : strings) {\r\n    values = string.split(&quot;, &quot;);\r\n    for (String value : values) System.out.println(value);\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nMonday – Friday: 8am – 5pm\r\nSaturday Closed\r\nSunday Closed\r\n\r\nMon 7:15 AM - 4:00 PM\r\nTue 7:15 AM - 4:00 PM\r\nWed 7:15 AM - 4:00 PM\r\nThu 7:15 AM - 4:00 PM\r\nFri Closed\r\nSat Closed\r\nSun Closed\r\n\r\nMonday 4AM-8PM-Saturday 4AM-8PM\r\nSunday Closed\r\n\r\nMon Closed\r\nTue Closed\r\nWed 7 - 9:00 AM\r\nThu Closed\r\nFri Closed\r\nSat 7 - 9:00 AM\r\nSun Closed\r\n\r\n24/7\r\n```\r\n\r\n&gt; _&quot;Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable&quot;_\r\n\r\nYou can use a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_, although I wouldn&#39;t recommend it if the format is _too_ arbitrary.\r\n\r\nFor example, this is specific to matching only the formats you&#39;ve provided.\r\n\r\n```none\r\n(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\d?\\d(?::\\d\\d)?(?: ?[ap]m)?))\r\n```\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\\\d?\\\\d(?::\\\\d\\\\d)?(?: ?[ap]m)?))&quot;);\r\nMatcher matcher;\r\nfor (String string : strings) {\r\n    matcher = pattern.matcher(string);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group());\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nFriday: 8am\r\nMon 7:15 AM\r\nTue 7:15 AM\r\nWed 7:15 AM\r\nThu 7:15 AM\r\nMonday 4AM\r\nSaturday 4AM\r\nWed 7\r\nSat 7\r\n```","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>It's a complex parse.  You can start by delimiting the <em>strings</em> on the comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = {\n    &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;,\n    &quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;,\n    &quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;,\n    &quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;,\n    &quot;24/7&quot;\n};\nString[] values;\nfor (String string : strings) {\n    values = string.split(&quot;, &quot;);\n    for (String value : values) System.out.println(value);\n    System.out.println();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Monday – Friday: 8am – 5pm\nSaturday Closed\nSunday Closed\n\nMon 7:15 AM - 4:00 PM\nTue 7:15 AM - 4:00 PM\nWed 7:15 AM - 4:00 PM\nThu 7:15 AM - 4:00 PM\nFri Closed\nSat Closed\nSun Closed\n\nMonday 4AM-8PM-Saturday 4AM-8PM\nSunday Closed\n\nMon Closed\nTue Closed\nWed 7 - 9:00 AM\nThu Closed\nFri Closed\nSat 7 - 9:00 AM\nSun Closed\n\n24/7\n</code></pre>\n<blockquote>\n<p><em>&quot;Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable&quot;</em></p>\n</blockquote>\n<p>You can use a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>, although I wouldn't recommend it if the format is <em>too</em> arbitrary.</p>\n<p>For example, this is specific to matching only the formats you've provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\d?\\d(?::\\d\\d)?(?: ?[ap]m)?))\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\\\d?\\\\d(?::\\\\d\\\\d)?(?: ?[ap]m)?))&quot;);\nMatcher matcher;\nfor (String string : strings) {\n    matcher = pattern.matcher(string);\n    while (matcher.find()) {\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Friday: 8am\nMon 7:15 AM\nTue 7:15 AM\nWed 7:15 AM\nThu 7:15 AM\nMonday 4AM\nSaturday 4AM\nWed 7\nSat 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686583407,"creation_date":1686583407,"answer_id":76458108,"question_id":76453497,"body_markdown":"Parsing is another issue, but I would create a proper data model to hold your opening times, perhaps something like the below:\r\n\r\n    import java.time.*;\r\n    import java.util.*;\r\n    \r\n    public class DaySchedule {\r\n        record FromTo(LocalTime from, LocalTime to) {}\r\n        public static void main(String[] args) {\r\n            try {\r\n                Map&lt;DayOfWeek, List&lt;FromTo&gt;&gt; openingTimes = new HashMap&lt;&gt;();\r\n                // Make mutable List\r\n                openingTimes.put(DayOfWeek.MONDAY, new ArrayList&lt;&gt;(List.of(new FromTo(LocalTime.of(14, 20), LocalTime.of(16,20)))));\r\n                // Add an evening opening period to the short afternoon one\r\n                openingTimes.get(DayOfWeek.MONDAY).add(new FromTo(LocalTime.of(17, 0), LocalTime.of(19, 0)));\r\n    \r\n                System.out.println(openingTimes);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>Parsing is another issue, but I would create a proper data model to hold your opening times, perhaps something like the below:</p>\n<pre><code>import java.time.*;\nimport java.util.*;\n\npublic class DaySchedule {\n    record FromTo(LocalTime from, LocalTime to) {}\n    public static void main(String[] args) {\n        try {\n            Map&lt;DayOfWeek, List&lt;FromTo&gt;&gt; openingTimes = new HashMap&lt;&gt;();\n            // Make mutable List\n            openingTimes.put(DayOfWeek.MONDAY, new ArrayList&lt;&gt;(List.of(new FromTo(LocalTime.of(14, 20), LocalTime.of(16,20)))));\n            // Add an evening opening period to the short afternoon one\n            openingTimes.get(DayOfWeek.MONDAY).add(new FromTo(LocalTime.of(17, 0), LocalTime.of(19, 0)));\n\n            System.out.println(openingTimes);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686583407,"creation_date":1686540643,"question_id":76453497,"body_markdown":"I have a column of a spreadsheet that contains data on opening hours for different establishments. Using Java I am trying to store that data in variables (monHours, tuesHours, etc.) but the roadblock I am trying to figure out how to deal with is that there are many different ways each element is formatted. Here are some examples of variations:\r\n\r\n&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;\r\n\r\n&quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;\r\n\r\n&quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;\r\n\r\n&quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;\r\n\r\n&quot;24/7&quot;\r\n\r\nAgain, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable. I should also note that I can&#39;t change the data to one singular format as there are hundreds of entries.\r\n\r\nI know that it probably has something to do with string methods, specifically substrings. I have already figured that removing whitespace and commas would probably help, but I am overall struggling to find an algorithm that works for all cases.\r\n\r\n#### EDIT\r\nFor example if I had an entry of a String like\r\n&gt; &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;\r\n\r\nI would create an array of Strings like\r\n```\r\n[&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;].\r\n```\r\nThe specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it.","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>I have a column of a spreadsheet that contains data on opening hours for different establishments. Using Java I am trying to store that data in variables (monHours, tuesHours, etc.) but the roadblock I am trying to figure out how to deal with is that there are many different ways each element is formatted. Here are some examples of variations:</p>\n<p>&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;</p>\n<p>&quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;</p>\n<p>&quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;</p>\n<p>&quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;</p>\n<p>&quot;24/7&quot;</p>\n<p>Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable. I should also note that I can't change the data to one singular format as there are hundreds of entries.</p>\n<p>I know that it probably has something to do with string methods, specifically substrings. I have already figured that removing whitespace and commas would probably help, but I am overall struggling to find an algorithm that works for all cases.</p>\n<h4>EDIT</h4>\n<p>For example if I had an entry of a String like</p>\n<blockquote>\n<p>&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;</p>\n</blockquote>\n<p>I would create an array of Strings like</p>\n<pre><code>[&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;].\n</code></pre>\n<p>The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1498560859,"post_id":12750681,"comment_id":76537444,"body_markdown":"Another discussion on a similar case is done at https://stackoverflow.com/a/32777371/873282. Especially interesting is the comment stating to use `@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)`. In that way, the JSON is a bit larger, but it is explicit, which type should be used.","body":"Another discussion on a similar case is done at <a href=\"https://stackoverflow.com/a/32777371/873282\">stackoverflow.com/a/32777371/873282</a>. Especially interesting is the comment stating to use <code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)</code>. In that way, the JSON is a bit larger, but it is explicit, which type should be used."}],"answers":[{"comments":[{"owner":{"account_id":1672550,"reputation":1452,"user_id":1538732,"accept_rate":65,"display_name":"Danilo M."},"score":3,"creation_date":1349469940,"post_id":12751959,"comment_id":17231884,"body_markdown":"Thanks for help, I resolved with:\n\n`JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;class&quot;)`\n\nthe `property = &quot;class&quot;`, is coming in my JSON informing what child class will be used.","body":"Thanks for help, I resolved with:  <code>JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;class&quot;)</code>  the <code>property = &quot;class&quot;</code>, is coming in my JSON informing what child class will be used."},{"owner":{"account_id":1281856,"reputation":1196,"user_id":1347554,"display_name":"andres.riancho"},"score":1,"creation_date":1450801484,"post_id":12751959,"comment_id":56581763,"body_markdown":"Beware, allowing users to specify which class to use during deserialization might lead to vulnerabilities such as [this](http://fishbowl.pastiche.org/2015/11/09/java_serialization_bug/).","body":"Beware, allowing users to specify which class to use during deserialization might lead to vulnerabilities such as <a href=\"http://fishbowl.pastiche.org/2015/11/09/java_serialization_bug/\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":57405,"reputation":3587,"user_id":171956,"accept_rate":19,"display_name":"99Sono"},"score":2,"creation_date":1467646505,"post_id":12751959,"comment_id":63802004,"body_markdown":"Thanks for the reference: @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;@class&quot;) does the trick. Like the JPA table descriminator value. Thanks.","body":"Thanks for the reference: @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;@class&quot;) does the trick. Like the JPA table descriminator value. Thanks."}],"tags":[],"owner":{"account_id":1671277,"reputation":1136,"user_id":1537710,"display_name":"jlabedo"},"comment_count":3,"down_vote_count":2,"up_vote_count":76,"is_accepted":true,"score":74,"last_activity_date":1542031619,"creation_date":1349461433,"answer_id":12751959,"question_id":12750681,"body_markdown":"You cannot instantiate an abstract class, Jackson neither.\r\nYou should give Jackson information on how to instantiate MyAbstractClass with a concrete type.\r\n\r\nSee this answer on stackoverflow: [https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields][1]\r\n\r\nAnd maybe also see [Jackson Polymorphic Deserialization][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields\r\n  [2]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization","title":"Cannot construct instance of - Jackson","body":"<p>You cannot instantiate an abstract class, Jackson neither.\nYou should give Jackson information on how to instantiate MyAbstractClass with a concrete type.</p>\n\n<p>See this answer on stackoverflow: <a href=\"https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields\">Jackson JSON library: how to instantiate a class that contains abstract fields</a></p>\n\n<p>And maybe also see <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"noreferrer\">Jackson Polymorphic Deserialization</a></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1349549691,"creation_date":1349549691,"answer_id":12762832,"question_id":12750681,"body_markdown":"Your `@JsonSubTypes` declaration does not make sense: it needs to list implementation (sub-) classes, NOT the class itself (which would be pointless). So you need to modify that entry to list sub-class(es) there are; or use some other mechanism to register sub-classes (`SimpleModule` has something like `addAbstractTypeMapping`).\r\n","title":"Cannot construct instance of - Jackson","body":"<p>Your <code>@JsonSubTypes</code> declaration does not make sense: it needs to list implementation (sub-) classes, NOT the class itself (which would be pointless). So you need to modify that entry to list sub-class(es) there are; or use some other mechanism to register sub-classes (<code>SimpleModule</code> has something like <code>addAbstractTypeMapping</code>).</p>\n"},{"comments":[{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":2,"creation_date":1580240077,"post_id":59955498,"comment_id":106030627,"body_markdown":"Maybe add an example for that could help people in the future &#128077;","body":"Maybe add an example for that could help people in the future 👍"}],"tags":[],"owner":{"account_id":10774740,"reputation":119,"user_id":7927181,"display_name":"ZIA UR REHMAN"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1580293063,"creation_date":1580238578,"answer_id":59955498,"question_id":12750681,"body_markdown":"For me there was no default constructor defined for the POJOs I was trying to use. creating default constructor fixed it.\r\n\r\n```\r\npublic class TeamCode {\r\n\r\n    @Expose\r\n    private String value;\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    **public TeamCode() {\r\n    }**\r\n\r\n    public TeamCode(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TeamCode{&quot; +\r\n                &quot;value=&#39;&quot; + value + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n}\r\n```","title":"Cannot construct instance of - Jackson","body":"<p>For me there was no default constructor defined for the POJOs I was trying to use. creating default constructor fixed it.</p>\n\n<pre><code>public class TeamCode {\n\n    @Expose\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    **public TeamCode() {\n    }**\n\n    public TeamCode(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return \"TeamCode{\" +\n                \"value='\" + value + '\\'' +\n                '}';\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4015651,"reputation":1323,"user_id":5504607,"display_name":"finx"},"score":0,"creation_date":1608654945,"post_id":62299710,"comment_id":115646473,"body_markdown":"Worked for me here. Important to mention that `Vehicle` has a field `type`, which will create the correct object depending on the `name` defined of it.","body":"Worked for me here. Important to mention that <code>Vehicle</code> has a field <code>type</code>, which will create the correct object depending on the <code>name</code> defined of it."},{"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"score":0,"creation_date":1639726569,"post_id":62299710,"comment_id":124427075,"body_markdown":"Does this work with resteasy? To me - not!","body":"Does this work with resteasy? To me - not!"}],"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1591779834,"creation_date":1591779834,"answer_id":62299710,"question_id":12750681,"body_markdown":"You need to use a concrete class and not an Abstract class while deserializing.\r\nif the Abstract class has several implementations then, in that case, you can use it as below- \r\n  \r\n\r\n      @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n        @JsonSubTypes({ \r\n          @Type(value = Bike.class, name = &quot;bike&quot;), \r\n          @Type(value = Auto.class, name = &quot;auto&quot;), \r\n          @Type(value = Car.class, name = &quot;car&quot;)\r\n        })\r\n        public abstract class Vehicle {\r\n            // fields, constructors, getters, setters\r\n        }\r\n\r\n","title":"Cannot construct instance of - Jackson","body":"<p>You need to use a concrete class and not an Abstract class while deserializing.\nif the Abstract class has several implementations then, in that case, you can use it as below- </p>\n\n<pre><code>  @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type\")\n    @JsonSubTypes({ \n      @Type(value = Bike.class, name = \"bike\"), \n      @Type(value = Auto.class, name = \"auto\"), \n      @Type(value = Car.class, name = \"car\")\n    })\n    public abstract class Vehicle {\n        // fields, constructors, getters, setters\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16310335,"reputation":485,"user_id":11779147,"display_name":"maggle"},"score":0,"creation_date":1619904971,"post_id":64977270,"comment_id":119046284,"body_markdown":"Nice explanation. Had to put ```include = JsonTypeInfo.As.EXTERNAL_PROPERTY,``` to make it work for me.","body":"Nice explanation. Had to put <code>include = JsonTypeInfo.As.EXTERNAL_PROPERTY,</code> to make it work for me."},{"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"score":1,"creation_date":1639726594,"post_id":64977270,"comment_id":124427082,"body_markdown":"Does this work with resteasy? To me - not!","body":"Does this work with resteasy? To me - not!"}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606169417,"creation_date":1606169417,"answer_id":64977270,"question_id":12750681,"body_markdown":"In your concrete example the problem is that you don&#39;t use this construct correctly:\r\n\r\n```\r\n@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\r\n```\r\n\r\n`@JsonSubTypes.Type` should contain the actual non-abstract subtypes of your abstract class.\r\n\r\nTherefore if you have:\r\n\r\n`abstract class Parent` and the concrete subclasses\r\n\r\n`Ch1 extends Parent` and\r\n`Ch2 extends Parent`\r\n\r\nThen your annotation should look like:\r\n\r\n    @JsonSubTypes({ \r\n              @JsonSubTypes.Type(value = Ch1.class, name = &quot;ch1&quot;),\r\n              @JsonSubTypes.Type(value = Ch2.class, name = &quot;ch2&quot;)\r\n    })\r\n\r\n\r\nHere `name` should match the value of your &#39;discriminator&#39;:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \r\ninclude = JsonTypeInfo.As.WRAPPER_OBJECT, \r\nproperty = &quot;type&quot;)\r\n```\r\n\r\nin the `property` field, here it is equal to `type`. So `type` will be the key and the value you set in `name` will be the value.\r\n\r\nTherefore, when the json string comes if it has this form:\r\n\r\n    {\r\n     &quot;type&quot;: &quot;ch1&quot;,\r\n     &quot;other&quot;:&quot;fields&quot;\r\n    }\r\n\r\nJackson will automatically convert this to a `Ch1` class.\r\n\r\nIf you send this:\r\n\r\n    {\r\n     &quot;type&quot;: &quot;ch2&quot;,\r\n     &quot;other&quot;:&quot;fields&quot;\r\n    }\r\n\r\nYou would get a `Ch2` instance.","title":"Cannot construct instance of - Jackson","body":"<p>In your concrete example the problem is that you don't use this construct correctly:</p>\n<pre><code>@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\n</code></pre>\n<p><code>@JsonSubTypes.Type</code> should contain the actual non-abstract subtypes of your abstract class.</p>\n<p>Therefore if you have:</p>\n<p><code>abstract class Parent</code> and the concrete subclasses</p>\n<p><code>Ch1 extends Parent</code> and\n<code>Ch2 extends Parent</code></p>\n<p>Then your annotation should look like:</p>\n<pre><code>@JsonSubTypes({ \n          @JsonSubTypes.Type(value = Ch1.class, name = &quot;ch1&quot;),\n          @JsonSubTypes.Type(value = Ch2.class, name = &quot;ch2&quot;)\n})\n</code></pre>\n<p>Here <code>name</code> should match the value of your 'discriminator':</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \ninclude = JsonTypeInfo.As.WRAPPER_OBJECT, \nproperty = &quot;type&quot;)\n</code></pre>\n<p>in the <code>property</code> field, here it is equal to <code>type</code>. So <code>type</code> will be the key and the value you set in <code>name</code> will be the value.</p>\n<p>Therefore, when the json string comes if it has this form:</p>\n<pre><code>{\n &quot;type&quot;: &quot;ch1&quot;,\n &quot;other&quot;:&quot;fields&quot;\n}\n</code></pre>\n<p>Jackson will automatically convert this to a <code>Ch1</code> class.</p>\n<p>If you send this:</p>\n<pre><code>{\n &quot;type&quot;: &quot;ch2&quot;,\n &quot;other&quot;:&quot;fields&quot;\n}\n</code></pre>\n<p>You would get a <code>Ch2</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":5910504,"reputation":1,"user_id":4650929,"display_name":"Roheet Kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625595646,"creation_date":1625595646,"answer_id":68275618,"question_id":12750681,"body_markdown":"Use lombok annotation.\r\n\r\n\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @JsonPropertyOrder({&quot;name&quot;, &quot;id&quot;})\r\n    public class CreationUser {\r\n        @Builder.Default\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name = &quot;&quot;;\r\n\r\n        @Builder.Default\r\n        @JsonProperty(&quot;id&quot;)\r\n        String id = &quot;&quot;;\r\n    }","title":"Cannot construct instance of - Jackson","body":"<p>Use lombok annotation.</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonPropertyOrder({&quot;name&quot;, &quot;id&quot;})\npublic class CreationUser {\n    @Builder.Default\n    @JsonProperty(&quot;name&quot;)\n    String name = &quot;&quot;;\n\n    @Builder.Default\n    @JsonProperty(&quot;id&quot;)\n    String id = &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627912262,"creation_date":1627912262,"answer_id":68622765,"question_id":12750681,"body_markdown":"Use `@JsonDeserialize(contentAs= ConcreteCLass.class)`","title":"Cannot construct instance of - Jackson","body":"<p>Use <code>@JsonDeserialize(contentAs= ConcreteCLass.class)</code></p>\n"},{"tags":[],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1638892086,"creation_date":1638887155,"answer_id":70261901,"question_id":12750681,"body_markdown":"\r\nI was having this issue using lombok&#39;s ```@Data``` and ```@Builder``` annotations alone, which I replaced with:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n```\r\nAnd it solved my problem.","title":"Cannot construct instance of - Jackson","body":"<p>I was having this issue using lombok's <code>@Data</code> and <code>@Builder</code> annotations alone, which I replaced with:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n</code></pre>\n<p>And it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":26780346,"reputation":1,"user_id":20375285,"display_name":"Jean-Claude MBENG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677845589,"creation_date":1677845589,"answer_id":75626935,"question_id":12750681,"body_markdown":"Using lombok I had the same issue, I have tried this to solve  \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n\r\n","title":"Cannot construct instance of - Jackson","body":"<p>Using lombok I had the same issue, I have tried this to solve</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11318804,"reputation":161,"user_id":8299708,"display_name":"sudha mosalikanti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686582927,"creation_date":1686582927,"answer_id":76458044,"question_id":12750681,"body_markdown":"Setting a default constructor helped to resolve","title":"Cannot construct instance of - Jackson","body":"<p>Setting a default constructor helped to resolve</p>\n"}],"owner":{"account_id":1672550,"reputation":1452,"user_id":1538732,"accept_rate":65,"display_name":"Danilo M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330396,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":12751959,"answer_count":10,"score":108,"last_activity_date":1686582927,"creation_date":1349455857,"question_id":12750681,"body_markdown":"I am using Jackson and I&#39;m having problems, when I try to deserialize an Object I get the following error:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: \r\n        Can not construct instance of net.MyAbstractClass, \r\n        problem: abstract types either need to be mapped to concrete types, \r\n            have custom deserializer, or be instantiated with additional type information\r\n\r\nI am having problems in the attribute:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT, property = &quot;@id&quot;)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\r\n    @ManyToOne\r\n    private MyAbstractClass object;\r\n\r\n\r\nCould anyone help me?","title":"Cannot construct instance of - Jackson","body":"<p>I am using Jackson and I'm having problems, when I try to deserialize an Object I get the following error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: \n    Can not construct instance of net.MyAbstractClass, \n    problem: abstract types either need to be mapped to concrete types, \n        have custom deserializer, or be instantiated with additional type information\n</code></pre>\n\n<p>I am having problems in the attribute:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT, property = \"@id\")\n@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = \"MyAbstractClass\") })\n@ManyToOne\nprivate MyAbstractClass object;\n</code></pre>\n\n<p>Could anyone help me?</p>\n"},{"tags":["java","networking"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686588396,"post_id":76457984,"comment_id":134816240,"body_markdown":"maybe your server is just not capable of serving the responses quick enough? Or you have a firewall active that blocks off too many subsequent requests, but it is not probable for localhost interface. Btw: did you try to target `127.0.0.1` instead of `localhost`, so name resolution can be ruled out as source of problems?","body":"maybe your server is just not capable of serving the responses quick enough? Or you have a firewall active that blocks off too many subsequent requests, but it is not probable for localhost interface. Btw: did you try to target <code>127.0.0.1</code> instead of <code>localhost</code>, so name resolution can be ruled out as source of problems?"},{"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"score":0,"creation_date":1686628818,"post_id":76457984,"comment_id":134821442,"body_markdown":"Good thoughts, thanks. I tried 127.0.0.1; no effect. I&#39;ve got the standard macos firewall enabled and I can&#39;t disable it, but I haven&#39;t found any reference suggesting that it might rate-limit connections.","body":"Good thoughts, thanks. I tried 127.0.0.1; no effect. I&#39;ve got the standard macos firewall enabled and I can&#39;t disable it, but I haven&#39;t found any reference suggesting that it might rate-limit connections."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640350,"post_id":76457984,"comment_id":134822797,"body_markdown":"Can you log the `clientSocket.getLocalPort()` to see if it&#39;s actually using different ports for the incoming connections or maybe reusing the same port over and over again?","body":"Can you log the <code>clientSocket.getLocalPort()</code> to see if it&#39;s actually using different ports for the incoming connections or maybe reusing the same port over and over again?"}],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686582461,"creation_date":1686582461,"question_id":76457984,"body_markdown":"I&#39;m trying to set up a framework to let me experiment with the new Project Loom virtual threads. As part of that, I wrote a very very basic web server with the following code:\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        try (ServerSocket serverSocket = new ServerSocket(9000)) {\r\n            while (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                Thread.ofVirtual().start(() -&gt; {\r\n                    try {\r\n                        handleRequest(clientSocket);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void handleRequest(Socket clientSocket) throws IOException {\r\n        PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n        out.println(&quot;HTTP/1.1 200 OK&quot;);\r\n        out.println(&quot;Content-Type: text/html&quot;);\r\n        out.println(&quot;&quot;);\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        clientSocket.close();\r\n    }\r\n}\r\n```\r\nI used [Locust](https://locust.io/) to generate some load on it, using the following `locustfile.py`:\r\n```\r\nfrom locust import HttpUser, task\r\n\r\n\r\nclass HelloWorldUser(HttpUser):\r\n    @task\r\n    def hello_world(self):\r\n        self.client.get(&quot;/&quot;)\r\n``` \r\n\r\nWhen I point Locust at the running server, both running locally on my M1 MacBook Pro running macOS Moneterey (12.5.1), it generates about 1,000 RPS, but about 99% of those tests fail with, according to Locust, `ChunkedEncodingError(ProtocolError(&quot;Connection broken: ConnectionResetError(54, &#39;Connection reset by peer&#39;)&quot;, ConnectionResetError(54, &#39;Connection reset by peer&#39;)))` -- in my most recent run, 16,636 requests got generated, and 16,490 of them failed, leaving 146 successes total in about 17 seconds (so fewer than 10 successes per second). Manually going to http://localhost:9000 gives me the page I expect. \r\n\r\nA few things I&#39;ve tried:\r\n* Using the alternate `ServerSocket` constructor that takes a max queue length. I changed this from the default 50 to `new ServerSocket(9000, 2000)`; no effect.\r\n* I ran `ulimit -n 2048` on the theory that I was getting throttled by file descriptors. Changing this setting didn&#39;t seem to have any effect.\r\n* Switching from virtual threads to platform threads. I didn&#39;t really expect this to have an effect, and indeed it did not.\r\n* Asking ChatGPT :-) It had no idea, though it sounded pretty confident.\r\n\r\nAny ideas what could be going wrong? It seems very surprising that such a simple web server would top out at ~10 requests per second.","title":"Why is my load tester reporting 99% &quot;connection reset by peer&quot; errors when testing against my dummy server?","body":"<p>I'm trying to set up a framework to let me experiment with the new Project Loom virtual threads. As part of that, I wrote a very very basic web server with the following code:</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        try (ServerSocket serverSocket = new ServerSocket(9000)) {\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                Thread.ofVirtual().start(() -&gt; {\n                    try {\n                        handleRequest(clientSocket);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n            }\n        }\n    }\n\n    private static void handleRequest(Socket clientSocket) throws IOException {\n        PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n        out.println(&quot;HTTP/1.1 200 OK&quot;);\n        out.println(&quot;Content-Type: text/html&quot;);\n        out.println(&quot;&quot;);\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n        clientSocket.close();\n    }\n}\n</code></pre>\n<p>I used <a href=\"https://locust.io/\" rel=\"nofollow noreferrer\">Locust</a> to generate some load on it, using the following <code>locustfile.py</code>:</p>\n<pre><code>from locust import HttpUser, task\n\n\nclass HelloWorldUser(HttpUser):\n    @task\n    def hello_world(self):\n        self.client.get(&quot;/&quot;)\n</code></pre>\n<p>When I point Locust at the running server, both running locally on my M1 MacBook Pro running macOS Moneterey (12.5.1), it generates about 1,000 RPS, but about 99% of those tests fail with, according to Locust, <code>ChunkedEncodingError(ProtocolError(&quot;Connection broken: ConnectionResetError(54, 'Connection reset by peer')&quot;, ConnectionResetError(54, 'Connection reset by peer')))</code> -- in my most recent run, 16,636 requests got generated, and 16,490 of them failed, leaving 146 successes total in about 17 seconds (so fewer than 10 successes per second). Manually going to http://localhost:9000 gives me the page I expect.</p>\n<p>A few things I've tried:</p>\n<ul>\n<li>Using the alternate <code>ServerSocket</code> constructor that takes a max queue length. I changed this from the default 50 to <code>new ServerSocket(9000, 2000)</code>; no effect.</li>\n<li>I ran <code>ulimit -n 2048</code> on the theory that I was getting throttled by file descriptors. Changing this setting didn't seem to have any effect.</li>\n<li>Switching from virtual threads to platform threads. I didn't really expect this to have an effect, and indeed it did not.</li>\n<li>Asking ChatGPT :-) It had no idea, though it sounded pretty confident.</li>\n</ul>\n<p>Any ideas what could be going wrong? It seems very surprising that such a simple web server would top out at ~10 requests per second.</p>\n"},{"tags":["java","spring-boot","maven","nullpointerexception","filesystemwatcher"],"answers":[{"comments":[{"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"score":0,"creation_date":1686075478,"post_id":76417349,"comment_id":134748739,"body_markdown":"Thank you Zeng Feng, I did so and tested it now. I get same exact result unfortunately.","body":"Thank you Zeng Feng, I did so and tested it now. I get same exact result unfortunately."},{"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"score":0,"creation_date":1686076296,"post_id":76417349,"comment_id":134748900,"body_markdown":"I have to add a note though, since in my code I instantiate the object with its fields, it inserts into db from the ProcessCcFile.class using the service that fails! But this is only done for one time when starting up the application, after that, the very same call fails while application is running.","body":"I have to add a note though, since in my code I instantiate the object with its fields, it inserts into db from the ProcessCcFile.class using the service that fails! But this is only done for one time when starting up the application, after that, the very same call fails while application is running."}],"tags":[],"owner":{"account_id":27347189,"reputation":1,"user_id":20856905,"display_name":"Zeng Feng"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686075046,"creation_date":1686075046,"answer_id":76417349,"question_id":76417024,"body_markdown":"You inject the `CcfileService` object into the `ProcessCcFile.class`. Therefore, your `ProcessCcFile.class` must be managed by Spring. Try adding the `@Component` annotation to this class.\r\n","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p>You inject the <code>CcfileService</code> object into the <code>ProcessCcFile.class</code>. Therefore, your <code>ProcessCcFile.class</code> must be managed by Spring. Try adding the <code>@Component</code> annotation to this class.</p>\n"},{"tags":[],"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686581623,"creation_date":1686581567,"answer_id":76457852,"question_id":76417024,"body_markdown":"I found an answer to my issue for the sake if anyone is facing this issue.\r\n\r\nThe solution I got was from coderanch at the following link [https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot][1]\r\n\r\n\r\n  [1]: https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p>I found an answer to my issue for the sake if anyone is facing this issue.</p>\n<p>The solution I got was from coderanch at the following link <a href=\"https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot\" rel=\"nofollow noreferrer\">https://coderanch.com/t/773360/frameworks/File-Watcher-Spring-Boot</a></p>\n"}],"owner":{"account_id":27885315,"reputation":1,"user_id":21292935,"display_name":"Yaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686581623,"creation_date":1686072035,"question_id":76417024,"body_markdown":"**Introduction**\r\nIn my spring boot application, I need a feature to read files from a monitored directory with a listener on it, then parse/upload into postgresql database once it finds a file.\r\nClient will upload files into this directory daily, and the application should parse and insert into DB.\r\n\r\n**The problem**\r\nI get nullpointer exception on the service that saves into database.\r\n`java.lang.NullPointerException: Cannot invoke &quot;my.app.service.CcFileService.saveCcFile(my.app.model.CcFile)&quot; because &quot;this.ccFileService&quot; is null`\r\n\r\n**Code structure**\r\nThe application class structure is as the following,\r\n\r\n- Classes 1 and 2 are for monitoring directory for new files.\r\n- Classes 3 and 4 are for processing the read file then parsing it then inserting it into database.\r\n- Classes 5 and 6 are the service interface and its implementation that handle the model Entity class of the file object.\r\n\r\n**The Code**\r\n\r\n**1. FileWatcherConfig.java**\r\n```\r\n@Configuration\r\npublic class FileWatcherConfig \r\n{\r\n\r\n    public FileSystemWatcher fileSystemWatcher()\r\n    {\r\n\r\n    \tFileSystemWatcher fileSystemWatcher = new FileSystemWatcher( true, Duration.ofMillis( 2000L ) , Duration.ofMillis( 1000L ) ) ;\r\n    \t\r\n        fileSystemWatcher.addSourceDirectory( new File(&quot;C://TMS//inputs//&quot;) ) ;\r\n        \r\n        fileSystemWatcher.addListener( new MyFileChangeListener() ) ;\r\n        \r\n        fileSystemWatcher.start() ;\r\n        \r\n        System.out.println( &quot;started fileSystemWatcher&quot; ) ;\r\n        \r\n        return fileSystemWatcher ;\r\n    }\r\n```\r\n\r\n**2. MyFileChangeListener.java**\r\n```\r\npublic class MyFileChangeListener implements FileChangeListener\r\n{\r\n    @Override\r\n    public void onChange( Set&lt; ChangedFiles &gt; changeSet )\r\n    {\r\n    \t\r\n    \tString mainPath = changeSet.iterator().next().getSourceDirectory().toString() ;\r\n    \t\r\n    \tfor( ChangedFiles cfiles : changeSet )\r\n        {\r\n            for( ChangedFile cfile: cfiles.getFiles() )\r\n            {\r\n                if(\t\t//cfile.getType().equals(Type.MODIFY) || \r\n                \t\tcfile.getType().equals(Type.ADD) //|| \r\n                \t\t//cfile.getType().equals(Type.DELETE) ) \r\n                \t\t&amp;&amp; !isLocked( cfile.getFile().toPath() ) )\r\n                {\r\n                \t\r\n                    String filePath = cfile.getFile().getAbsolutePath() ;\r\n                    \r\n                    ProcessFile processFile = new ProcessFile() ;\r\n                    \r\n                    System.out.println( &quot;processing the file &quot; ) ;\r\n                    processFile.analyzeFile( filePath , mainPath ) ;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n**3. ProcessFile.java**\r\n```\r\npublic class ProcessFile\r\n{\r\n\tprivate String fileName = &quot;&quot; ;\r\n\t\r\n\t\r\n\tpublic void analyzeFile( String filePath , String mainPath )\r\n\t{\r\n\t\tString[] pathArray = this.splitPath( filePath ) ;\r\n\t\t\r\n\t\tfileName = filePath.substring( filePath.lastIndexOf( &quot;\\\\&quot; ) + 1 ) ;\r\n\t\t\r\n\t\tswitch ( fileName )\r\n\t\t{\r\n\t\t  case &quot;CCFile.LOG&quot; :\r\n\t\t\t  \r\n\t\t\t  ProcessCcfile procCcfile = new ProcessCcfile() ;\r\n\t\t\t  \r\n\t\t\t  procCcfile.parseFile( filePath , fileName , mainPath ) ;\r\n\t\t\t  \r\n\t\t\t  break ;\r\n```\r\n\r\n**4. ProcessCCFile.java**\r\n```\r\n//@ApplicationScope\r\n//@ApplicationScope\r\n//@ControllerAdvice\r\n//@PersistenceContext\r\n//@Component\r\n//@Configuration\r\n//@Configurable\r\n//@ApplicationScope\r\n//@Controller\r\npublic class ProcessCcFile\r\n{\r\n\t\r\n\t@Autowired\r\n\tprivate CcfileService ccfileService ;   &lt;== //this remains null( the problem )\r\n\r\n\tCcfile ccfileTxn = new Ccfile( 1 , 2 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , 3 , &quot;a&quot; , &quot;a&quot; , 4 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , true ) ;\r\n\r\n\r\n\tpublic void parseFile( String filePath , String fileName , String mainPath )\r\n\t{\r\n\t\tBufferedReader reader;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\treader = new BufferedReader( new FileReader( filePath ) ) ;\r\n\t\t\t\r\n\t\t\tString line = reader.readLine() ;\r\n\t\t\t\r\n\t\t\tint count1 = 0 ;\r\n\t\t\t\r\n\t\t\twhile( line != null )\r\n\t\t\t{\t\r\n\t\t\t\t// read next line\r\n\t\t\t\tline = reader.readLine() ;\r\n\t\t\t\t\r\n\t\t\t\t// parse logic here then send to entity repo class\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\treader.close() ;\r\n\t\t\t\r\n\r\n\t\t        saveFile() ;\r\n\t\t\r\n\t\t}\r\n\t\tcatch( IOException e )\r\n\t\t{\r\n\t\t\te.printStackTrace() ;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic void saveFile()\r\n\t{\r\n\t\ttry\r\n\t\t{\t\t\r\n\t\t\tccfileService.saveCcfile( ccfileTxn ) ;   &lt;== //and here the application fails\r\n\t\t}\r\n\t\tcatch( Exception e )\r\n\t\t{\r\n\t\t\te.printStackTrace() ;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**5. CcfileService.java**\r\n```\r\npublic interface CcfileService\r\n{\r\n\r\n\tvoid saveCcfile( @Valid Ccfile ccfile ) ;\r\n}\r\n```\r\n\r\n\r\n**6. CcfileServiceImpl.java**\r\n```\r\n@Service\r\npublic class CcFileServiceImpl implements CcFileService\r\n{\r\n\t\r\n\t@Autowired\r\n\tprivate CcfileRepository ccfileRepo ;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void saveCcfile( @Valid Ccfile ccfile )\r\n\t{\r\n\t\r\n\t\tccfileRepo.save( ccfile ) ;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**Note,** if I make the call &quot;ccfileService.saveCcfile( ccfileTxn ) ;&quot; from the controller classes( which are were the web pages are handled ), then service runs fine and inserts into database.\r\nI believe as I read and tried, the issue lies with the spring boot context not having this service registered in its context.\r\n\r\nAppreciate your help, as this issue has taken me a good while and still not solved, also please note this is my first spring boot application.\r\n\r\nThank you\r\n\r\nI tried to play with annotations in different classes and methods to no avail, I fail to see the issue.","title":"Spring Boot application with File Change Listener cannot initiate repository service","body":"<p><strong>Introduction</strong>\nIn my spring boot application, I need a feature to read files from a monitored directory with a listener on it, then parse/upload into postgresql database once it finds a file.\nClient will upload files into this directory daily, and the application should parse and insert into DB.</p>\n<p><strong>The problem</strong>\nI get nullpointer exception on the service that saves into database.\n<code>java.lang.NullPointerException: Cannot invoke &quot;my.app.service.CcFileService.saveCcFile(my.app.model.CcFile)&quot; because &quot;this.ccFileService&quot; is null</code></p>\n<p><strong>Code structure</strong>\nThe application class structure is as the following,</p>\n<ul>\n<li>Classes 1 and 2 are for monitoring directory for new files.</li>\n<li>Classes 3 and 4 are for processing the read file then parsing it then inserting it into database.</li>\n<li>Classes 5 and 6 are the service interface and its implementation that handle the model Entity class of the file object.</li>\n</ul>\n<p><strong>The Code</strong></p>\n<p><strong>1. FileWatcherConfig.java</strong></p>\n<pre><code>@Configuration\npublic class FileWatcherConfig \n{\n\n    public FileSystemWatcher fileSystemWatcher()\n    {\n\n        FileSystemWatcher fileSystemWatcher = new FileSystemWatcher( true, Duration.ofMillis( 2000L ) , Duration.ofMillis( 1000L ) ) ;\n        \n        fileSystemWatcher.addSourceDirectory( new File(&quot;C://TMS//inputs//&quot;) ) ;\n        \n        fileSystemWatcher.addListener( new MyFileChangeListener() ) ;\n        \n        fileSystemWatcher.start() ;\n        \n        System.out.println( &quot;started fileSystemWatcher&quot; ) ;\n        \n        return fileSystemWatcher ;\n    }\n</code></pre>\n<p><strong>2. MyFileChangeListener.java</strong></p>\n<pre><code>public class MyFileChangeListener implements FileChangeListener\n{\n    @Override\n    public void onChange( Set&lt; ChangedFiles &gt; changeSet )\n    {\n        \n        String mainPath = changeSet.iterator().next().getSourceDirectory().toString() ;\n        \n        for( ChangedFiles cfiles : changeSet )\n        {\n            for( ChangedFile cfile: cfiles.getFiles() )\n            {\n                if(     //cfile.getType().equals(Type.MODIFY) || \n                        cfile.getType().equals(Type.ADD) //|| \n                        //cfile.getType().equals(Type.DELETE) ) \n                        &amp;&amp; !isLocked( cfile.getFile().toPath() ) )\n                {\n                    \n                    String filePath = cfile.getFile().getAbsolutePath() ;\n                    \n                    ProcessFile processFile = new ProcessFile() ;\n                    \n                    System.out.println( &quot;processing the file &quot; ) ;\n                    processFile.analyzeFile( filePath , mainPath ) ;\n                }\n            }\n        }\n    }\n</code></pre>\n<p><strong>3. ProcessFile.java</strong></p>\n<pre><code>public class ProcessFile\n{\n    private String fileName = &quot;&quot; ;\n    \n    \n    public void analyzeFile( String filePath , String mainPath )\n    {\n        String[] pathArray = this.splitPath( filePath ) ;\n        \n        fileName = filePath.substring( filePath.lastIndexOf( &quot;\\\\&quot; ) + 1 ) ;\n        \n        switch ( fileName )\n        {\n          case &quot;CCFile.LOG&quot; :\n              \n              ProcessCcfile procCcfile = new ProcessCcfile() ;\n              \n              procCcfile.parseFile( filePath , fileName , mainPath ) ;\n              \n              break ;\n</code></pre>\n<p><strong>4. ProcessCCFile.java</strong></p>\n<pre><code>//@ApplicationScope\n//@ApplicationScope\n//@ControllerAdvice\n//@PersistenceContext\n//@Component\n//@Configuration\n//@Configurable\n//@ApplicationScope\n//@Controller\npublic class ProcessCcFile\n{\n    \n    @Autowired\n    private CcfileService ccfileService ;   &lt;== //this remains null( the problem )\n\n    Ccfile ccfileTxn = new Ccfile( 1 , 2 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , 3 , &quot;a&quot; , &quot;a&quot; , 4 , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , &quot;a&quot; , true ) ;\n\n\n    public void parseFile( String filePath , String fileName , String mainPath )\n    {\n        BufferedReader reader;\n\n        try\n        {\n            reader = new BufferedReader( new FileReader( filePath ) ) ;\n            \n            String line = reader.readLine() ;\n            \n            int count1 = 0 ;\n            \n            while( line != null )\n            {   \n                // read next line\n                line = reader.readLine() ;\n                \n                // parse logic here then send to entity repo class\n                \n                \n            }\n\n            reader.close() ;\n            \n\n                saveFile() ;\n        \n        }\n        catch( IOException e )\n        {\n            e.printStackTrace() ;\n        }\n    }\n    \n    \n    public void saveFile()\n    {\n        try\n        {       \n            ccfileService.saveCcfile( ccfileTxn ) ;   &lt;== //and here the application fails\n        }\n        catch( Exception e )\n        {\n            e.printStackTrace() ;\n        }\n    }\n}\n</code></pre>\n<p><strong>5. CcfileService.java</strong></p>\n<pre><code>public interface CcfileService\n{\n\n    void saveCcfile( @Valid Ccfile ccfile ) ;\n}\n</code></pre>\n<p><strong>6. CcfileServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class CcFileServiceImpl implements CcFileService\n{\n    \n    @Autowired\n    private CcfileRepository ccfileRepo ;\n    \n    \n    @Override\n    public void saveCcfile( @Valid Ccfile ccfile )\n    {\n    \n        ccfileRepo.save( ccfile ) ;\n    }\n    \n}\n</code></pre>\n<p><strong>Note,</strong> if I make the call &quot;ccfileService.saveCcfile( ccfileTxn ) ;&quot; from the controller classes( which are were the web pages are handled ), then service runs fine and inserts into database.\nI believe as I read and tried, the issue lies with the spring boot context not having this service registered in its context.</p>\n<p>Appreciate your help, as this issue has taken me a good while and still not solved, also please note this is my first spring boot application.</p>\n<p>Thank you</p>\n<p>I tried to play with annotations in different classes and methods to no avail, I fail to see the issue.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675146017,"creation_date":1675146017,"answer_id":75293332,"question_id":75292193,"body_markdown":"Try adding an `@Controller` with a `@GetMapping` for `/login`. This is required when customizing the login page as you have done. If you don’t wish to customize the login page, you can remove that line. ","title":"Spring Security -&gt; SecurityConfig causes ERR_TOO_MANY_REDIRECTS","body":"<p>Try adding an <code>@Controller</code> with a <code>@GetMapping</code> for <code>/login</code>. This is required when customizing the login page as you have done. If you don’t wish to customize the login page, you can remove that line.</p>\n"}],"owner":{"account_id":27662328,"reputation":37,"user_id":21114881,"display_name":"TKur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75293332,"answer_count":1,"score":0,"last_activity_date":1686581520,"creation_date":1675132669,"question_id":75292193,"body_markdown":"What is causing **&quot;ERROR_TOO_MANY_REDIRECTS&quot;** when trying to access the **login page** in my Spring SecurityConfig? I am not sure if the Problem lies within the **SecurityConfig** but that&#39;s what I assume.\r\n\r\nI am using Spring Boot 3.0.2 with the IntelliJ IDE Community Edition.\r\n\r\n\r\nI have set up my SecurityConfig for my Spring application and it allows users to register successfully. However, when I try to access the login page, I am faced with the &quot;ERROR_TOO_MANY_REDIRECTS&quot; error. I have tried to troubleshoot the issue, but have been unable to find a solution.\r\n\r\nI have provided my SecurityConfig code below. Can someone help me identify what is causing this issue and how to resolve it?\r\n\r\n```\r\npackage com.fbwgame.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/register&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\n1. Note that if I remove `.loginPage(&quot;/login&quot;)` I can access the built-in login-form.  \r\n2. My UserController Class has no Mappings including /login","title":"Spring Security -&gt; SecurityConfig causes ERR_TOO_MANY_REDIRECTS","body":"<p>What is causing <strong>&quot;ERROR_TOO_MANY_REDIRECTS&quot;</strong> when trying to access the <strong>login page</strong> in my Spring SecurityConfig? I am not sure if the Problem lies within the <strong>SecurityConfig</strong> but that's what I assume.</p>\n<p>I am using Spring Boot 3.0.2 with the IntelliJ IDE Community Edition.</p>\n<p>I have set up my SecurityConfig for my Spring application and it allows users to register successfully. However, when I try to access the login page, I am faced with the &quot;ERROR_TOO_MANY_REDIRECTS&quot; error. I have tried to troubleshoot the issue, but have been unable to find a solution.</p>\n<p>I have provided my SecurityConfig code below. Can someone help me identify what is causing this issue and how to resolve it?</p>\n<pre><code>package com.fbwgame.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/register&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<ol>\n<li>Note that if I remove <code>.loginPage(&quot;/login&quot;)</code> I can access the built-in login-form.</li>\n<li>My UserController Class has no Mappings including /login</li>\n</ol>\n"},{"tags":["java","spring-security","graphql","integration-testing","keycloak"],"comments":[{"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"score":0,"creation_date":1677875357,"post_id":75597806,"comment_id":133430440,"body_markdown":"As of the current version: `1.2.0` of Spring GraphQL (March 2023) and listed in their documentation https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#testing.httpgraphqltester WebGraphQLTester only supports basic and/or bearer authentication headers. Thus using `@WithMockUser` does not change the security context.\n\nCurrent solution is to wait for Spring GraphQL to implement support for this.\n\nIf I find any workarounds that work with my stack, I&#39;ll report it here.","body":"As of the current version: <code>1.2.0</code> of Spring GraphQL (March 2023) and listed in their documentation <a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#testing.httpgraphqltester\" rel=\"nofollow noreferrer\">docs.spring.io/spring-graphql/docs/current-SNAPSHOT/referenc&zwnj;&#8203;e/&hellip;</a> WebGraphQLTester only supports basic and/or bearer authentication headers. Thus using <code>@WithMockUser</code> does not change the security context.  Current solution is to wait for Spring GraphQL to implement support for this.  If I find any workarounds that work with my stack, I&#39;ll report it here."}],"answers":[{"tags":[],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686580167,"creation_date":1686580167,"answer_id":76457659,"question_id":75597806,"body_markdown":"For testing custom roles (or any advanced security setup) I have resorted to simply inserting a mock/test implementation of `Authentication` into `SecurityContextHolder`. E.g. I&#39;m using JWT so I build the token as follows:\r\n```\r\nprivate fun buildAuthentication(user: User): JwtAuthenticationToken {\r\n    val unusedAttributes = mapOf(&quot;some&quot; to &quot;attribute&quot;)\r\n    val unusedHeaders = mapOf(&quot;some&quot; to &quot;header&quot;)\r\n    val claims = mapOf(&quot;sub&quot; to user.subject, &quot;email&quot; to user.email)\r\n    val authorities = listOf(OAuth2UserAuthority(&quot;ROLE_CLIENT&quot;, unusedAttributes))\r\n    val jwt = Jwt(&quot;token&quot;, null, null, unusedHeaders, claims)\r\n    return JwtAuthenticationToken(jwt, authorities)\r\n}\r\n```\r\nInstead of `ROLE_CLIENT` you can put there any role(s) your test wants to assume.\r\n\r\nYou can even create your own annotation resulting in a similar usage to `@WithMockUser`:\r\n```\r\n@WithSecurityContext(factory = TestUserSecurityContextFactory::class)\r\nannotation class WithTestUserSecurityContext\r\n\r\n\r\nclass TestUserSecurityContextFactory : WithSecurityContextFactory&lt;WithTestUserSecurityContext&gt; {\r\n    override fun createSecurityContext(annotation: WithTestUserSecurityContext) =\r\n        SecurityContextHolder.createEmptyContext().apply { authentication = buildAuthentication(TEST_USER) }\r\n    }\r\n}\r\n```","title":"Java - Integration testing GraphQL mutations secured methods with @PreAuthorize roles from Keycloak","body":"<p>For testing custom roles (or any advanced security setup) I have resorted to simply inserting a mock/test implementation of <code>Authentication</code> into <code>SecurityContextHolder</code>. E.g. I'm using JWT so I build the token as follows:</p>\n<pre><code>private fun buildAuthentication(user: User): JwtAuthenticationToken {\n    val unusedAttributes = mapOf(&quot;some&quot; to &quot;attribute&quot;)\n    val unusedHeaders = mapOf(&quot;some&quot; to &quot;header&quot;)\n    val claims = mapOf(&quot;sub&quot; to user.subject, &quot;email&quot; to user.email)\n    val authorities = listOf(OAuth2UserAuthority(&quot;ROLE_CLIENT&quot;, unusedAttributes))\n    val jwt = Jwt(&quot;token&quot;, null, null, unusedHeaders, claims)\n    return JwtAuthenticationToken(jwt, authorities)\n}\n</code></pre>\n<p>Instead of <code>ROLE_CLIENT</code> you can put there any role(s) your test wants to assume.</p>\n<p>You can even create your own annotation resulting in a similar usage to <code>@WithMockUser</code>:</p>\n<pre><code>@WithSecurityContext(factory = TestUserSecurityContextFactory::class)\nannotation class WithTestUserSecurityContext\n\n\nclass TestUserSecurityContextFactory : WithSecurityContextFactory&lt;WithTestUserSecurityContext&gt; {\n    override fun createSecurityContext(annotation: WithTestUserSecurityContext) =\n        SecurityContextHolder.createEmptyContext().apply { authentication = buildAuthentication(TEST_USER) }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686580167,"creation_date":1677622294,"question_id":75597806,"body_markdown":"__What I&#39;ve got so far:__\r\n- I have working unit tests that return access denied by Spring Security which verifies that my roles are set up correctly with Keycloak.\r\n- I have successfully tested a controller that does not have Spring Security implemented and gives the expected result.\r\n- I have also tried to run the GraphQl mutation via Insomnia with a service account that has no roles get a 403 forbidden\r\n- I have also tried to run the same GraphQl mutation via Insomnia with a service account that has admin role and no role, both mutations carry out successfully. (Screenshots included)\r\n\r\n__Goal:__\r\n- I am trying to write an integration test for my Java Spring project that uses `@WithMockUser` to simulate a role from Keycloak.\r\n\r\nMethod from controller:\r\n```java\r\n  @MutationMapping\r\n  @PreAuthorize(&quot;hasRole(admin)&quot;)\r\n  public Entity addEntity(@Valid @Argument EntityInput input) {\r\n    var entity =\r\n        Entity.builder()\r\n            .name(input.getName())\r\n            .description(input.getDescription() != null ? input.getDescription() : &quot;&quot;)\r\n            .customId(input.getCustomId() != null ? input.getCustomId() : &quot;&quot;)\r\n            .notBefore(input.getNotBefore().toInstant())\r\n            .expires(input.getExpires() != null ? input.getExpires().toInstant() : null)\r\n            .entityType(input.getEntityType())\r\n            .archived(false)\r\n            .build();\r\n\r\n    return entityRepository.persistAndFlush(entity);\r\n  }\r\n```\r\n\r\nmy GraphQl Schema for testing\r\n```graphql\r\nmutation AddEntity($input: EntityInput!) {\r\n  addEntityl(input: $input) {\r\n    name\r\n    description\r\n    customId\r\n    entityType\r\n    notBefore\r\n    expires\r\n    archived\r\n  }\r\n}\r\n```\r\n\r\nMy test\r\n```java\r\n@Autowired private WebGraphQlTester graphQlTester;\r\n\r\n@WithMockUser(username = &quot;Test&quot;, roles={&quot;read_only&quot;})\r\n@Test\r\nvoid addEntity_with_readonly_role_return_403_forbidden() {\r\n var entityInput =\r\n Map.of(\r\n  &quot;customId&quot;,\r\n  &quot;Testing&quot;,\r\n  &quot;name&quot;,\r\n  &quot;Test name&quot;,\r\n  &quot;description&quot;,\r\n  &quot;Test description&quot;,\r\n  &quot;entityType&quot;,\r\n  &quot;MANUAL&quot;,\r\n  &quot;notBefore&quot;,\r\n  &quot;2023-06-28T13:37:00Z&quot;,\r\n  &quot;expires&quot;,\r\n  &quot;2023-07-04T13:37:00Z&quot;);\r\n\r\n  graphQlTester\r\n   .documentName(&quot;entities&quot;)\r\n   .operationName(&quot;AddEntity&quot;)\r\n   .variable(&quot;input&quot;, entityInput)\r\n   .execute()\r\n   .errors()\r\n   .satisfy(\r\n     errors -&gt; {\r\n      assertThat(errors).hasSize(1);\r\n      assertThat(errors.get(0).getErrorType()).isEqualTo(ErrorType.FORBIDDEN);\r\n });\r\n}\r\n```\r\n\r\nResults from Insomnia:\r\n\r\n[![With roles][1]][1]\r\n[![With no role][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/SZx1m.png\r\n  [2]: https://i.stack.imgur.com/DCGbe.png\r\n\r\nEdit:\r\n\r\nI&#39;ve also dug a little deeper and found that WebGraphQlTester does not support @WithMockUser as it does not update the security context. If anybody has a workaround or other solution, please post.","title":"Java - Integration testing GraphQL mutations secured methods with @PreAuthorize roles from Keycloak","body":"<p><strong>What I've got so far:</strong></p>\n<ul>\n<li>I have working unit tests that return access denied by Spring Security which verifies that my roles are set up correctly with Keycloak.</li>\n<li>I have successfully tested a controller that does not have Spring Security implemented and gives the expected result.</li>\n<li>I have also tried to run the GraphQl mutation via Insomnia with a service account that has no roles get a 403 forbidden</li>\n<li>I have also tried to run the same GraphQl mutation via Insomnia with a service account that has admin role and no role, both mutations carry out successfully. (Screenshots included)</li>\n</ul>\n<p><strong>Goal:</strong></p>\n<ul>\n<li>I am trying to write an integration test for my Java Spring project that uses <code>@WithMockUser</code> to simulate a role from Keycloak.</li>\n</ul>\n<p>Method from controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @MutationMapping\n  @PreAuthorize(&quot;hasRole(admin)&quot;)\n  public Entity addEntity(@Valid @Argument EntityInput input) {\n    var entity =\n        Entity.builder()\n            .name(input.getName())\n            .description(input.getDescription() != null ? input.getDescription() : &quot;&quot;)\n            .customId(input.getCustomId() != null ? input.getCustomId() : &quot;&quot;)\n            .notBefore(input.getNotBefore().toInstant())\n            .expires(input.getExpires() != null ? input.getExpires().toInstant() : null)\n            .entityType(input.getEntityType())\n            .archived(false)\n            .build();\n\n    return entityRepository.persistAndFlush(entity);\n  }\n</code></pre>\n<p>my GraphQl Schema for testing</p>\n<pre><code>mutation AddEntity($input: EntityInput!) {\n  addEntityl(input: $input) {\n    name\n    description\n    customId\n    entityType\n    notBefore\n    expires\n    archived\n  }\n}\n</code></pre>\n<p>My test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired private WebGraphQlTester graphQlTester;\n\n@WithMockUser(username = &quot;Test&quot;, roles={&quot;read_only&quot;})\n@Test\nvoid addEntity_with_readonly_role_return_403_forbidden() {\n var entityInput =\n Map.of(\n  &quot;customId&quot;,\n  &quot;Testing&quot;,\n  &quot;name&quot;,\n  &quot;Test name&quot;,\n  &quot;description&quot;,\n  &quot;Test description&quot;,\n  &quot;entityType&quot;,\n  &quot;MANUAL&quot;,\n  &quot;notBefore&quot;,\n  &quot;2023-06-28T13:37:00Z&quot;,\n  &quot;expires&quot;,\n  &quot;2023-07-04T13:37:00Z&quot;);\n\n  graphQlTester\n   .documentName(&quot;entities&quot;)\n   .operationName(&quot;AddEntity&quot;)\n   .variable(&quot;input&quot;, entityInput)\n   .execute()\n   .errors()\n   .satisfy(\n     errors -&gt; {\n      assertThat(errors).hasSize(1);\n      assertThat(errors.get(0).getErrorType()).isEqualTo(ErrorType.FORBIDDEN);\n });\n}\n</code></pre>\n<p>Results from Insomnia:</p>\n<p><a href=\"https://i.stack.imgur.com/SZx1m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SZx1m.png\" alt=\"With roles\" /></a>\n<a href=\"https://i.stack.imgur.com/DCGbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCGbe.png\" alt=\"With no role\" /></a></p>\n<p>Edit:</p>\n<p>I've also dug a little deeper and found that WebGraphQlTester does not support @WithMockUser as it does not update the security context. If anybody has a workaround or other solution, please post.</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1686580574,"post_id":76453682,"comment_id":134814404,"body_markdown":"Does this answer your question? [Sort API methods in Swagger-UI](https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\">Sort API methods in Swagger-UI</a>"},{"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"score":0,"creation_date":1686637080,"post_id":76453682,"comment_id":134822217,"body_markdown":"@Ahbishek, this sort operation by alphabetics, what I want is to sort, on custom arrange (Get, Post, Patch, Delete)","body":"@Ahbishek, this sort operation by alphabetics, what I want is to sort, on custom arrange (Get, Post, Patch, Delete)"}],"owner":{"account_id":12013090,"reputation":288,"user_id":8789080,"display_name":"Mostafa Hassan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686579986,"creation_date":1686544655,"question_id":76453682,"body_markdown":"I want to sort rest api based on custom sorter depending on the rest verb, so it will be (Get, Post, Patch, and delete) under any path, How I could achieve that programmatically or via yaml configuration\r\n\r\nTech:\r\norg.springframework.boot version &#39;3.0.6&#39;\r\n\r\norg.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0","title":"Sort rest api operation - Swagger spring doc","body":"<p>I want to sort rest api based on custom sorter depending on the rest verb, so it will be (Get, Post, Patch, and delete) under any path, How I could achieve that programmatically or via yaml configuration</p>\n<p>Tech:\norg.springframework.boot version '3.0.6'</p>\n<p>org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0</p>\n"},{"tags":["java","caching","redis","micronaut"],"comments":[{"owner":{"account_id":8351307,"reputation":344,"user_id":6273371,"accept_rate":83,"display_name":"Olesia Ilchuk"},"score":1,"creation_date":1686306202,"post_id":76439158,"comment_id":134784017,"body_markdown":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the notify-keyspace-events configuration directive in your Redis configuration file (redis.conf) and make sure it includes the Ex flag. For example, notify-keyspace-events Ex.","body":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the notify-keyspace-events configuration directive in your Redis configuration file (redis.conf) and make sure it includes the Ex flag. For example, notify-keyspace-events Ex."},{"owner":{"account_id":14982951,"reputation":188,"user_id":10816443,"display_name":"Ole"},"score":1,"creation_date":1686567495,"post_id":76439158,"comment_id":134811357,"body_markdown":"@OlesiaIlchuk  Thanks, it worked! If you add you comment as an answer, I will mark it as the accepted answer","body":"@OlesiaIlchuk  Thanks, it worked! If you add you comment as an answer, I will mark it as the accepted answer"}],"answers":[{"tags":[],"owner":{"account_id":8351307,"reputation":344,"user_id":6273371,"accept_rate":83,"display_name":"Olesia Ilchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686579951,"creation_date":1686579951,"answer_id":76457623,"question_id":76439158,"body_markdown":"Check your Redis server configuration to ensure that key expiration is enabled. Look for the `notify-keyspace-events` configuration directive in your Redis configuration file (`redis.conf`) and make sure it includes the Ex flag. For example, `notify-keyspace-events Ex`.","title":"Why don&#39;t items expire in my Micronaut/Redis cache?","body":"<p>Check your Redis server configuration to ensure that key expiration is enabled. Look for the <code>notify-keyspace-events</code> configuration directive in your Redis configuration file (<code>redis.conf</code>) and make sure it includes the Ex flag. For example, <code>notify-keyspace-events Ex</code>.</p>\n"}],"owner":{"account_id":14982951,"reputation":188,"user_id":10816443,"display_name":"Ole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76457623,"answer_count":1,"score":3,"last_activity_date":1686579951,"creation_date":1686304594,"question_id":76439158,"body_markdown":"I have a Micronaut cache in Redis configured like this:\r\n\r\n```yaml\r\nredis:\r\n  uri: ${REDIS_URL:`redis://localhost`}\r\n  caches:\r\n    kyc-fenergo-service-token:\r\n      expire-after-write: 14m\r\n```\r\nI have a method annotated like this: `@Cacheable(value = &quot;kyc-fenergo-service-token&quot;)`\r\n\r\nAfter the first call, the value is cached as expected, but it never expires. Any idea why this is the case?\r\n","title":"Why don&#39;t items expire in my Micronaut/Redis cache?","body":"<p>I have a Micronaut cache in Redis configured like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>redis:\n  uri: ${REDIS_URL:`redis://localhost`}\n  caches:\n    kyc-fenergo-service-token:\n      expire-after-write: 14m\n</code></pre>\n<p>I have a method annotated like this: <code>@Cacheable(value = &quot;kyc-fenergo-service-token&quot;)</code></p>\n<p>After the first call, the value is cached as expected, but it never expires. Any idea why this is the case?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681403639,"post_id":76007162,"comment_id":134054443,"body_markdown":"can you post the complete error also have you tried the scenarios you have posted","body":"can you post the complete error also have you tried the scenarios you have posted"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681406728,"post_id":76007162,"comment_id":134055067,"body_markdown":"Here you are...","body":"Here you are..."},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681415983,"post_id":76007162,"comment_id":134057109,"body_markdown":"I&#39;m not getting any errors with your code","body":"I&#39;m not getting any errors with your code"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681463539,"post_id":76007162,"comment_id":134063799,"body_markdown":"Oh fine... so how can we find out, what I do &#39;wrong&#39; and you do &#39;right&#39;?\nWhich version of JPA do you use? Which version of DB/2 driver and database engine do you use? Which Java version do you use? (I add my pom above)","body":"Oh fine... so how can we find out, what I do &#39;wrong&#39; and you do &#39;right&#39;? Which version of JPA do you use? Which version of DB/2 driver and database engine do you use? Which Java version do you use? (I add my pom above)"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1681477674,"post_id":76007162,"comment_id":134067037,"body_markdown":"issue is use you can&#39;t use default value 0 for foreign key column, because there is no entry with 0 in other table, one way to fix the issue is you can update your db schema to allow null values","body":"issue is use you can&#39;t use default value 0 for foreign key column, because there is no entry with 0 in other table, one way to fix the issue is you can update your db schema to allow null values"},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681491723,"post_id":76007162,"comment_id":134070643,"body_markdown":"cite from above:\n&quot;The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.&quot;\nSorry.","body":"cite from above: &quot;The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.&quot; Sorry."},{"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"score":0,"creation_date":1681491887,"post_id":76007162,"comment_id":134070682,"body_markdown":"Could you reproduce it now?\nIf yes, which versions did you use before, when you had no errors?","body":"Could you reproduce it now? If yes, which versions did you use before, when you had no errors?"}],"answers":[{"tags":[],"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686579640,"creation_date":1681407185,"answer_id":76008319,"question_id":76007162,"body_markdown":"I found a solution... but don&#39;t like it very much... is there a better (shorter, clearer) one?\r\n\r\nI changed my ProcessDTO:\r\n```\r\n@Entity\r\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\r\npublic class ProcessDTO\r\n{\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id = null;\r\n\r\n  @ManyToOne\r\n  @NotFound(action = NotFoundAction.IGNORE)\r\n  @JoinColumn(name = &quot;CONTRACTIDX&quot;,\r\n      insertable = false,\r\n      updatable = false,\r\n      foreignKey = @ForeignKey(ConstraintMode.NO_CONSTRAINT))\r\n  private ContractDTO contract = null;\r\n\r\n  @Column(name = &quot;CONTRACTIDX&quot;)\r\n  private Long contractId = null;\r\n\r\n  @Column(name = &quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n\r\n  @PrePersist\r\n  @PreUpdate\r\n  void beforeSave()\r\n  {\r\n    if (contract != null)\r\n    {\r\n      contractId = contract.getId();\r\n    }\r\n    else\r\n    {\r\n      contractId = 0L;\r\n    }\r\n  }\r\n\r\n  @PostLoad\r\n  void afterLoad()\r\n  {\r\n    if (contractId == 0L)\r\n    {\r\n      contractId = 0L;\r\n      contract = null;\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nOne more &#39;bad thing&#39; on it is, that I need hibernate-native annotations: NotFound and NotFoundAction...\r\n\r\nI would prefer something from the jpa-interface...","title":"How can I get JPA hibernate to not adding a value NULL, when field is not set (null), when inserting into a db/2 default value field","body":"<p>I found a solution... but don't like it very much... is there a better (shorter, clearer) one?</p>\n<p>I changed my ProcessDTO:</p>\n<pre><code>@Entity\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\npublic class ProcessDTO\n{\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id = null;\n\n  @ManyToOne\n  @NotFound(action = NotFoundAction.IGNORE)\n  @JoinColumn(name = &quot;CONTRACTIDX&quot;,\n      insertable = false,\n      updatable = false,\n      foreignKey = @ForeignKey(ConstraintMode.NO_CONSTRAINT))\n  private ContractDTO contract = null;\n\n  @Column(name = &quot;CONTRACTIDX&quot;)\n  private Long contractId = null;\n\n  @Column(name = &quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n\n  @PrePersist\n  @PreUpdate\n  void beforeSave()\n  {\n    if (contract != null)\n    {\n      contractId = contract.getId();\n    }\n    else\n    {\n      contractId = 0L;\n    }\n  }\n\n  @PostLoad\n  void afterLoad()\n  {\n    if (contractId == 0L)\n    {\n      contractId = 0L;\n      contract = null;\n    }\n  }\n}\n\n</code></pre>\n<p>One more 'bad thing' on it is, that I need hibernate-native annotations: NotFound and NotFoundAction...</p>\n<p>I would prefer something from the jpa-interface...</p>\n"}],"owner":{"account_id":5614670,"reputation":357,"user_id":4446448,"accept_rate":75,"display_name":"Markus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76008319,"answer_count":1,"score":0,"last_activity_date":1686579640,"creation_date":1681399130,"question_id":76007162,"body_markdown":"I am using Java and Hibernate JPA (5.6.15.Final) to write an application to store/change/delete contracts and processing data.\r\n\r\n- two database tables in a IBM DB/2 database (simplified):\r\n```\r\nCREATE TABLE &quot;Schema1&quot;.&quot;Contracts&quot; (\r\n\t\t&quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \r\n\t\t&quot;DATA&quot; varchar(255));\r\n\r\nCREATE TABLE &quot;Schema1&quot;.&quot;Processes&quot; (\r\n\t\t&quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \r\n\t\t&quot;CONTRACTIDX&quot; INTEGER NOT NULL DEFAULT 0, \r\n\t\t&quot;DATA&quot; varchar(255));\r\n```\r\nThe database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.\r\n\r\nThe reason, why CONTRACTIDX may be 0 by default is, that it should be possible to process before there is a contract here (that means: we could also be processing, when we are in long-running contract negotiations, and we could be processing, when we already have a contract)\r\nSo valid values for CONTRACTIDX should be an existing contract id or 0 for no contract.\r\n\r\n- the entities:\r\n\r\nsrc/main/java/mypackage/ProcessDTO.java\r\n```\r\n@Entity\r\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\r\npublic class ProcessDTO\r\n{\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id = null;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;CONTRACTIDX&quot; /* , nullable=true or nullable=false: I&#39;ve already tried that... it has no effect on the problem */)\r\n  private ContractDTO contract = null;\r\n\r\n  @Column(name=&quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n}\r\n```\r\nsrc/main/java/mypackage/ContractDTO.java\r\n```\r\n@Entity\r\n@Table(schema = &quot;SCHEMA1&quot;, name = &quot;Contracts&quot;)\r\npublic class ContractDTO {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;IDX&quot;)\r\n  private Long id;\r\n\r\n  @Column(name=&quot;DATA&quot;)\r\n  private String data;\r\n\r\n  // getters and setters\r\n}\r\n```\r\nsrc/main/resources/META-INF/persistence.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n  version=&quot;2.0&quot;&gt;\r\n  &lt;persistence-unit name=&quot;myPu&quot;&gt;\r\n    &lt;jta-data-source&gt;jdbc/myDb&lt;/jta-data-source&gt;\r\n    \r\n    &lt;class&gt;mypackage.ProcessDTO&lt;/class&gt;\r\n    &lt;class&gt;mypackage.ContractDTO&lt;/class&gt;\r\n   \r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot; value= &quot;org.hibernate.dialect.DB2Dialect&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nNow comes my problem:\r\nWhen running this with code like this:\r\n\r\nsrc/main/java/mypackage/Main.java:\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args)\r\n  {\r\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPu&quot;);\r\n    EntityManager em = emf.createEntityManager();\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      // case 1: there is no contract\r\n      ProcessDTO process = new ProcessDTO();\r\n      process.setData(&quot;XYZ&quot;);\r\n      em.merge(process);\r\n\r\n      // case 2: there is a contract\r\n      ContractDTO contract = new ContractDTO();\r\n      contract.setData(&quot;abc&quot;);\r\n      contract = em.merge(contract);\r\n\r\n      ProcessDTO process2 = new ProcessDTO();\r\n      process2.setContract(contract);\r\n      process2.setData(&quot;def&quot;);\r\n\r\n      em.merge(process2);\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      ProcessDTO process1 = new ProcessDTO();\r\n      process1.setData(&quot;abc&quot;);\r\n      em.merge(process1);\r\n\r\n      ProcessDTO process2 = new ProcessDTO();\r\n      process2.setData(&quot;def&quot;);\r\n      em.merge(process2);\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n\r\n    em.getTransaction()\r\n        .begin();\r\n    try\r\n    {\r\n      TypedQuery&lt;ProcessDTO&gt; query =\r\n          em.createQuery(&quot;from ProcessDTO where data=&#39;abc&#39;&quot;, ProcessDTO.class);\r\n\r\n      List&lt;ProcessDTO&gt; processes = query.getResultList();\r\n      if (!processes.isEmpty())\r\n      {\r\n        ProcessDTO process = processes.get(0);\r\n        process.setData(&quot;abcdef&quot;);\r\n        process = em.merge(process);\r\n      }\r\n\r\n      TypedQuery&lt;ProcessDTO&gt; queryToDelete =\r\n          em.createQuery(&quot;from ProcessDTO where data=&#39;def&#39;&quot;, ProcessDTO.class);\r\n      List&lt;ProcessDTO&gt; processesToDelete = queryToDelete.getResultList();\r\n      if (!processesToDelete.isEmpty())\r\n      {\r\n        ProcessDTO process = processesToDelete.get(0);\r\n\r\n        em.remove(process);\r\n      }\r\n    }\r\n    finally\r\n    {\r\n      em.getTransaction()\r\n          .commit();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nDB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=3, TABLEID=24, COLNO=1, DRIVER=4.19.66\r\nThe reason for this error is, that JPA tries a statement like this:\r\n```\r\nINSERT INTO Processes(CONTRACTIDX, DATA) values (NULL, &#39;XYZ&#39;);\r\n```\r\nwhich the database doesn&#39;t allow.\r\n\r\nCase 1: &#39;there is no contract&#39; should generate something like\r\n```\r\nINSERT INTO Processes(DATA) values (&#39;XYZ&#39;);\r\n```\r\nCase 2: &#39;there is a contract&#39; should generate something like\r\n```\r\nINSERT INTO Contracts(DATA) values (&#39;abc&#39;);\r\nINSERT INTO Processes(CONTRACTIDX, DATA) values (&lt;the id value of that contract&gt;, &#39;def&#39;);\r\n```\r\n\r\nA related question: I then need a solution for the problem of processes, that have CONTRACTIX==0.\r\nThey should be accepted as if they were NULL;\r\n\r\n\r\nComplete Stacktrace of Case 1:\r\n```\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat de.continentale.mvp.jpatest001.Main.main(Main.java:39)\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:273)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:246)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:74)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\r\n\t... 2 more\r\nCaused by: com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=2, TABLEID=265, COLNO=1, DRIVER=4.19.66\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:743)\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:66)\r\n\tat com.ibm.db2.jcc.am.kd.a(kd.java:135)\r\n\tat com.ibm.db2.jcc.am.fp.c(fp.java:2788)\r\n\tat com.ibm.db2.jcc.am.fp.a(fp.java:2236)\r\n\tat com.ibm.db2.jcc.t4.bb.o(bb.java:908)\r\n\tat com.ibm.db2.jcc.t4.bb.j(bb.java:267)\r\n\tat com.ibm.db2.jcc.t4.bb.d(bb.java:55)\r\n\tat com.ibm.db2.jcc.t4.p.c(p.java:44)\r\n\tat com.ibm.db2.jcc.t4.vb.j(vb.java:157)\r\n\tat com.ibm.db2.jcc.am.fp.nb(fp.java:2231)\r\n\tat com.ibm.db2.jcc.am.gp.b(gp.java:4542)\r\n\tat com.ibm.db2.jcc.am.gp.mc(gp.java:815)\r\n\tat com.ibm.db2.jcc.am.gp.executeUpdate(gp.java:789)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n\t... 21 more\r\n```\r\n\r\nMaven dependencies from pom.xml:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.narayana.jta&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;narayana-jta&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.12.7.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nJava: openjdk version &quot;1.8.0_222&quot;\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get JPA hibernate to not adding a value NULL, when field is not set (null), when inserting into a db/2 default value field","body":"<p>I am using Java and Hibernate JPA (5.6.15.Final) to write an application to store/change/delete contracts and processing data.</p>\n<ul>\n<li>two database tables in a IBM DB/2 database (simplified):</li>\n</ul>\n<pre><code>CREATE TABLE &quot;Schema1&quot;.&quot;Contracts&quot; (\n        &quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \n        &quot;DATA&quot; varchar(255));\n\nCREATE TABLE &quot;Schema1&quot;.&quot;Processes&quot; (\n        &quot;IDX&quot; INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY, \n        &quot;CONTRACTIDX&quot; INTEGER NOT NULL DEFAULT 0, \n        &quot;DATA&quot; varchar(255));\n</code></pre>\n<p>The database that is used, is already existing, it is very old and other software is using it also (for one of the apps, we do not even have source code), so we cannot easily make changes to the tables and field definitions.</p>\n<p>The reason, why CONTRACTIDX may be 0 by default is, that it should be possible to process before there is a contract here (that means: we could also be processing, when we are in long-running contract negotiations, and we could be processing, when we already have a contract)\nSo valid values for CONTRACTIDX should be an existing contract id or 0 for no contract.</p>\n<ul>\n<li>the entities:</li>\n</ul>\n<p>src/main/java/mypackage/ProcessDTO.java</p>\n<pre><code>@Entity\n@Table(schema = &quot;Schema1&quot;, name = &quot;Processes&quot;)\npublic class ProcessDTO\n{\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id = null;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;CONTRACTIDX&quot; /* , nullable=true or nullable=false: I've already tried that... it has no effect on the problem */)\n  private ContractDTO contract = null;\n\n  @Column(name=&quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n}\n</code></pre>\n<p>src/main/java/mypackage/ContractDTO.java</p>\n<pre><code>@Entity\n@Table(schema = &quot;SCHEMA1&quot;, name = &quot;Contracts&quot;)\npublic class ContractDTO {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;IDX&quot;)\n  private Long id;\n\n  @Column(name=&quot;DATA&quot;)\n  private String data;\n\n  // getters and setters\n}\n</code></pre>\n<p>src/main/resources/META-INF/persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n  version=&quot;2.0&quot;&gt;\n  &lt;persistence-unit name=&quot;myPu&quot;&gt;\n    &lt;jta-data-source&gt;jdbc/myDb&lt;/jta-data-source&gt;\n    \n    &lt;class&gt;mypackage.ProcessDTO&lt;/class&gt;\n    &lt;class&gt;mypackage.ContractDTO&lt;/class&gt;\n   \n    &lt;properties&gt;\n      &lt;property name=&quot;hibernate.dialect&quot; value= &quot;org.hibernate.dialect.DB2Dialect&quot; /&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Now comes my problem:\nWhen running this with code like this:</p>\n<p>src/main/java/mypackage/Main.java:</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args)\n  {\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPu&quot;);\n    EntityManager em = emf.createEntityManager();\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      // case 1: there is no contract\n      ProcessDTO process = new ProcessDTO();\n      process.setData(&quot;XYZ&quot;);\n      em.merge(process);\n\n      // case 2: there is a contract\n      ContractDTO contract = new ContractDTO();\n      contract.setData(&quot;abc&quot;);\n      contract = em.merge(contract);\n\n      ProcessDTO process2 = new ProcessDTO();\n      process2.setContract(contract);\n      process2.setData(&quot;def&quot;);\n\n      em.merge(process2);\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      ProcessDTO process1 = new ProcessDTO();\n      process1.setData(&quot;abc&quot;);\n      em.merge(process1);\n\n      ProcessDTO process2 = new ProcessDTO();\n      process2.setData(&quot;def&quot;);\n      em.merge(process2);\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n\n    em.getTransaction()\n        .begin();\n    try\n    {\n      TypedQuery&lt;ProcessDTO&gt; query =\n          em.createQuery(&quot;from ProcessDTO where data='abc'&quot;, ProcessDTO.class);\n\n      List&lt;ProcessDTO&gt; processes = query.getResultList();\n      if (!processes.isEmpty())\n      {\n        ProcessDTO process = processes.get(0);\n        process.setData(&quot;abcdef&quot;);\n        process = em.merge(process);\n      }\n\n      TypedQuery&lt;ProcessDTO&gt; queryToDelete =\n          em.createQuery(&quot;from ProcessDTO where data='def'&quot;, ProcessDTO.class);\n      List&lt;ProcessDTO&gt; processesToDelete = queryToDelete.getResultList();\n      if (!processesToDelete.isEmpty())\n      {\n        ProcessDTO process = processesToDelete.get(0);\n\n        em.remove(process);\n      }\n    }\n    finally\n    {\n      em.getTransaction()\n          .commit();\n    }\n  }\n}\n</code></pre>\n<p>DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=3, TABLEID=24, COLNO=1, DRIVER=4.19.66\nThe reason for this error is, that JPA tries a statement like this:</p>\n<pre><code>INSERT INTO Processes(CONTRACTIDX, DATA) values (NULL, 'XYZ');\n</code></pre>\n<p>which the database doesn't allow.</p>\n<p>Case 1: 'there is no contract' should generate something like</p>\n<pre><code>INSERT INTO Processes(DATA) values ('XYZ');\n</code></pre>\n<p>Case 2: 'there is a contract' should generate something like</p>\n<pre><code>INSERT INTO Contracts(DATA) values ('abc');\nINSERT INTO Processes(CONTRACTIDX, DATA) values (&lt;the id value of that contract&gt;, 'def');\n</code></pre>\n<p>A related question: I then need a solution for the problem of processes, that have CONTRACTIX==0.\nThey should be accepted as if they were NULL;</p>\n<p>Complete Stacktrace of Case 1:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at de.continentale.mvp.jpatest001.Main.main(Main.java:39)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3914)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:329)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:286)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122)\n    at org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:273)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:246)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:74)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\n    ... 2 more\nCaused by: com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=2, TABLEID=265, COLNO=1, DRIVER=4.19.66\n    at com.ibm.db2.jcc.am.kd.a(kd.java:743)\n    at com.ibm.db2.jcc.am.kd.a(kd.java:66)\n    at com.ibm.db2.jcc.am.kd.a(kd.java:135)\n    at com.ibm.db2.jcc.am.fp.c(fp.java:2788)\n    at com.ibm.db2.jcc.am.fp.a(fp.java:2236)\n    at com.ibm.db2.jcc.t4.bb.o(bb.java:908)\n    at com.ibm.db2.jcc.t4.bb.j(bb.java:267)\n    at com.ibm.db2.jcc.t4.bb.d(bb.java:55)\n    at com.ibm.db2.jcc.t4.p.c(p.java:44)\n    at com.ibm.db2.jcc.t4.vb.j(vb.java:157)\n    at com.ibm.db2.jcc.am.fp.nb(fp.java:2231)\n    at com.ibm.db2.jcc.am.gp.b(gp.java:4542)\n    at com.ibm.db2.jcc.am.gp.mc(gp.java:815)\n    at com.ibm.db2.jcc.am.gp.executeUpdate(gp.java:789)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 21 more\n</code></pre>\n<p>Maven dependencies from pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.narayana.jta&lt;/groupId&gt;\n            &lt;artifactId&gt;narayana-jta&lt;/artifactId&gt;\n            &lt;version&gt;5.12.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Java: openjdk version &quot;1.8.0_222&quot;</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1685698125,"post_id":76388049,"comment_id":134700537,"body_markdown":"FWIW: recent updates of Java 8 (and all of 11 up) _by default_ don&#39;t support TLS1.0, but you _can_ re-enable it. However, good practice nowadays calls for _servers_ not to allow you to connect using it (or SSL3), and while not all servers follow good practice quickly, some do by now and more will over time, so upgrading your client remains a good idea.","body":"FWIW: recent updates of Java 8 (and all of 11 up) <i>by default</i> don&#39;t support TLS1.0, but you <i>can</i> re-enable it. However, good practice nowadays calls for <i>servers</i> not to allow you to connect using it (or SSL3), and while not all servers follow good practice quickly, some do by now and more will over time, so upgrading your client remains a good idea."}],"answers":[{"comments":[{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1685691942,"post_id":76388104,"comment_id":134699289,"body_markdown":"thanks using the wrong dependecy this helps","body":"thanks using the wrong dependecy this helps"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685708598,"creation_date":1685691532,"answer_id":76388104,"question_id":76388049,"body_markdown":"You&#39;re using the wrong dependency. You have only added the JakartaMail **API**. You should use the JakartaMail 1.6.x **implementation**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis dependency does include `com.sun.mail.util.BASE64DecoderStream`.\r\n\r\nAs an aside, instead of what you&#39;re doing now (using `getContent()` and casting to an implementation-specific class), you could also use `Part.getInputStream()`:\r\n\r\n```java\r\ntry (var in = p.getInputStream()) {\r\n    in.transferTo(output);\r\n}\r\n```\r\n\r\nAlso, your use of `DataOutputStream` is suspect, as you don&#39;t seem to be using any `DataOutputStream` specific methods, so using the `BufferedOutputStream` directly should be sufficient.","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<p>You're using the wrong dependency. You have only added the JakartaMail <strong>API</strong>. You should use the JakartaMail 1.6.x <strong>implementation</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This dependency does include <code>com.sun.mail.util.BASE64DecoderStream</code>.</p>\n<p>As an aside, instead of what you're doing now (using <code>getContent()</code> and casting to an implementation-specific class), you could also use <code>Part.getInputStream()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var in = p.getInputStream()) {\n    in.transferTo(output);\n}\n</code></pre>\n<p>Also, your use of <code>DataOutputStream</code> is suspect, as you don't seem to be using any <code>DataOutputStream</code> specific methods, so using the <code>BufferedOutputStream</code> directly should be sufficient.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1686579060,"post_id":76390249,"comment_id":134814000,"body_markdown":"`getContent()` returns `Object`, so the type of the value would need to be checked and cast, and depending on the Jakarta Activation providers on the classpath, `getContent()` might return something else. I recommend to use `p.getInputStream()` instead.","body":"<code>getContent()</code> returns <code>Object</code>, so the type of the value would need to be checked and cast, and depending on the Jakarta Activation providers on the classpath, <code>getContent()</code> might return something else. I recommend to use <code>p.getInputStream()</code> instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686579549,"post_id":76390249,"comment_id":134814129,"body_markdown":"Ah right thanks. Will adjust","body":"Ah right thanks. Will adjust"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686579591,"creation_date":1685709735,"answer_id":76390249,"question_id":76388049,"body_markdown":"    if (p.getContentType().contains(&quot;image/&quot;)) {\r\n        Path imageFile  = Path.of(&quot;image&quot; + Instant.now().toEpochMilli() + &quot;.jpg&quot;);\r\n        try(OutputStream out = Files.newOutputStream(imageFile)) {\r\n            p.getInputStream().transferTo(out);\r\n        }\r\n    }\r\nwould illustrate the comments between me and @Mark Rotteveel. Essentially what Mark has already posted, with further adjustments to the date handling and try-with-resources","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<pre><code>if (p.getContentType().contains(&quot;image/&quot;)) {\n    Path imageFile  = Path.of(&quot;image&quot; + Instant.now().toEpochMilli() + &quot;.jpg&quot;);\n    try(OutputStream out = Files.newOutputStream(imageFile)) {\n        p.getInputStream().transferTo(out);\n    }\n}\n</code></pre>\n<p>would illustrate the comments between me and @Mark Rotteveel. Essentially what Mark has already posted, with further adjustments to the date handling and try-with-resources</p>\n"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76388104,"answer_count":2,"score":1,"last_activity_date":1686579591,"creation_date":1685691039,"question_id":76388049,"body_markdown":"I recently changed the dependency \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nto \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbecause Java 8 doesn&#39;t support 1.4 version as it uses TLS 1.0.\r\n\r\n\r\nAfter changing the dependency this code starts giving error.\r\nError code:\r\n\r\n```java\r\nif (p.getContentType().contains(&quot;image/&quot;)) {\r\n    File f = new File(&quot;image&quot; + new Date().getTime() + &quot;.jpg&quot;);\r\n    DataOutputStream output = new DataOutputStream(\r\n    \t\tnew BufferedOutputStream(new FileOutputStream(f)));\r\n    \r\n    com.sun.mail.util.BASE64DecoderStream test = (com.sun.mail.util.BASE64DecoderStream) p\r\n    \t\t.getContent();\r\n    byte[] buffer = new byte[1024];\r\n    int bytesRead;\r\n    while ((bytesRead = test.read(buffer)) != -1) {\r\n    \toutput.write(buffer, 0, bytesRead);\r\n    }\r\n```\r\n\r\nEclipse suggestion error:\r\n\r\n```none\r\nMultiple markers at this line\r\n\t- com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\r\n\t- com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\r\n```","title":"&quot;BASE64DecoderStream&quot; gives error for javax-mail dependency","body":"<p>I recently changed the dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>because Java 8 doesn't support 1.4 version as it uses TLS 1.0.</p>\n<p>After changing the dependency this code starts giving error.\nError code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (p.getContentType().contains(&quot;image/&quot;)) {\n    File f = new File(&quot;image&quot; + new Date().getTime() + &quot;.jpg&quot;);\n    DataOutputStream output = new DataOutputStream(\n            new BufferedOutputStream(new FileOutputStream(f)));\n    \n    com.sun.mail.util.BASE64DecoderStream test = (com.sun.mail.util.BASE64DecoderStream) p\n            .getContent();\n    byte[] buffer = new byte[1024];\n    int bytesRead;\n    while ((bytesRead = test.read(buffer)) != -1) {\n        output.write(buffer, 0, bytesRead);\n    }\n</code></pre>\n<p>Eclipse suggestion error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Multiple markers at this line\n    - com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\n    - com.sun.mail.util.BASE64DecoderStream cannot be resolved to a type\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","jaxb"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686551355,"post_id":76454069,"comment_id":134808145,"body_markdown":"Is this a question or an assignment?","body":"Is this a question or an assignment?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686578162,"post_id":76454069,"comment_id":134813776,"body_markdown":"What is attribute namespace? To declare the default namespace you should use xmlns=&quot;...&quot;.","body":"What is attribute namespace? To declare the default namespace you should use xmlns=&quot;...&quot;."}],"answers":[{"comments":[{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1686635313,"post_id":76457565,"comment_id":134822002,"body_markdown":"But I want B inside the document element","body":"But I want B inside the document element"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686657383,"post_id":76457565,"comment_id":134826347,"body_markdown":"Then you should adjust the code a little bit. First find document a&#39;s Document element. Then call `appendChild()` for it.","body":"Then you should adjust the code a little bit. First find document a&#39;s Document element. Then call <code>appendChild()</code> for it."}],"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686579504,"creation_date":1686579504,"answer_id":76457565,"question_id":76454069,"body_markdown":"You should use the document element instead of the document for `importNode()`.\r\nAlso for the target element.\r\nHere a full example with `xmlns=&quot;...&quot;` as the correct attribute to denote the default namespace.\r\n\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n\r\n    public class ImportNode {\r\n      private static final String XML_A = &quot;&lt;A namespace=\\&quot;http://a.example.com\\&quot;&gt;\\n&quot; +\r\n        &quot;&lt;Document&gt;\\n&quot; +\r\n        &quot;&lt;Header&gt;...&lt;/Header&gt;\\n&quot; +\r\n        &quot;&lt;Body&gt;\\n&quot; +\r\n        &quot;&lt;/Body&gt;\\n&quot; +\r\n        &quot;&lt;/Document&gt;\\n&quot; +\r\n        &quot;&lt;/A&gt;&quot;;\r\n      private static final String XML_B = &quot;&lt;B xmlns=\\&quot;http://b.example.com\\&quot;&gt;\\n&quot; +\r\n        &quot;    &lt;BusinessHeader&gt;\\n&quot; +\r\n        &quot;    ....\\n&quot; +\r\n        &quot;    &lt;/BusinessHeader&gt;\\n&quot; +\r\n        &quot;    &lt;/B&gt;&quot;;\r\n\r\n      private static Document convertStringToXml(String xmlString) throws ParserConfigurationException, IOException, SAXException {\r\n        DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\r\n        fac.setNamespaceAware(true);\r\n        StringReader reader = new StringReader(xmlString);\r\n        InputSource source = new InputSource(reader);\r\n        return fac.newDocumentBuilder().parse(source);\r\n      }\r\n\r\n      public static void main(String[] args) throws TransformerException, IOException, SAXException, ParserConfigurationException {\r\n        Document a = convertStringToXml(XML_A);\r\n        Document b = convertStringToXml(XML_B);\r\n\r\n        Node firstDocImportedNode = (Node) a.importNode(b.getDocumentElement(), true);\r\n        a.getDocumentElement().appendChild(firstDocImportedNode );\r\n\r\n        StringWriter writer = new StringWriter();\r\n\r\n        // print results\r\n        TransformerFactory.newInstance()\r\n            .newTransformer()\r\n            .transform(new DOMSource(a), new StreamResult(writer));\r\n\r\n        System.out.println(writer.toString());\r\n      }\r\n    }\r\n\r\nOutput is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;A namespace=&quot;http://a.example.com&quot;&gt;\r\n    &lt;Document&gt;\r\n    &lt;Header&gt;...&lt;/Header&gt;\r\n    &lt;Body&gt;\r\n    &lt;/Body&gt;\r\n    &lt;/Document&gt;\r\n    &lt;B xmlns=&quot;http://b.example.com&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;&lt;/A&gt;\r\n","title":"Merge three xml document with different name spaces into one in Java","body":"<p>You should use the document element instead of the document for <code>importNode()</code>.\nAlso for the target element.\nHere a full example with <code>xmlns=&quot;...&quot;</code> as the correct attribute to denote the default namespace.</p>\n<pre><code>import javax.xml.transform.stream.StreamResult;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\npublic class ImportNode {\n  private static final String XML_A = &quot;&lt;A namespace=\\&quot;http://a.example.com\\&quot;&gt;\\n&quot; +\n    &quot;&lt;Document&gt;\\n&quot; +\n    &quot;&lt;Header&gt;...&lt;/Header&gt;\\n&quot; +\n    &quot;&lt;Body&gt;\\n&quot; +\n    &quot;&lt;/Body&gt;\\n&quot; +\n    &quot;&lt;/Document&gt;\\n&quot; +\n    &quot;&lt;/A&gt;&quot;;\n  private static final String XML_B = &quot;&lt;B xmlns=\\&quot;http://b.example.com\\&quot;&gt;\\n&quot; +\n    &quot;    &lt;BusinessHeader&gt;\\n&quot; +\n    &quot;    ....\\n&quot; +\n    &quot;    &lt;/BusinessHeader&gt;\\n&quot; +\n    &quot;    &lt;/B&gt;&quot;;\n\n  private static Document convertStringToXml(String xmlString) throws ParserConfigurationException, IOException, SAXException {\n    DocumentBuilderFactory fac = DocumentBuilderFactory.newInstance();\n    fac.setNamespaceAware(true);\n    StringReader reader = new StringReader(xmlString);\n    InputSource source = new InputSource(reader);\n    return fac.newDocumentBuilder().parse(source);\n  }\n\n  public static void main(String[] args) throws TransformerException, IOException, SAXException, ParserConfigurationException {\n    Document a = convertStringToXml(XML_A);\n    Document b = convertStringToXml(XML_B);\n\n    Node firstDocImportedNode = (Node) a.importNode(b.getDocumentElement(), true);\n    a.getDocumentElement().appendChild(firstDocImportedNode );\n\n    StringWriter writer = new StringWriter();\n\n    // print results\n    TransformerFactory.newInstance()\n        .newTransformer()\n        .transform(new DOMSource(a), new StreamResult(writer));\n\n    System.out.println(writer.toString());\n  }\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;A namespace=&quot;http://a.example.com&quot;&gt;\n&lt;Document&gt;\n&lt;Header&gt;...&lt;/Header&gt;\n&lt;Body&gt;\n&lt;/Body&gt;\n&lt;/Document&gt;\n&lt;B xmlns=&quot;http://b.example.com&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;&lt;/A&gt;\n</code></pre>\n"}],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686579504,"creation_date":1686551290,"question_id":76454069,"body_markdown":"I have 3 different xml Strings(Not Files Strings in JVM). Sample Given below\r\n\r\n**A.xml**\r\n\r\n    &lt;A namespace=&quot;A..&quot;&gt;\r\n    &lt;Document&gt;\r\n    &lt;Header&gt;...&lt;/Header&gt;\r\n    &lt;Body&gt;\r\n    &lt;/Body&gt;\r\n    &lt;/Document&gt;\r\n    &lt;/A&gt;\r\n\r\n\r\n**B.xml**\r\n\r\n      &lt;B namespace=&quot;B...&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;\r\n\r\n**C.xml**\r\n\r\n    &lt;C namespace=&quot;C..&quot;&gt;\r\n    &lt;BusinessBody&gt;\r\n    \r\n    &lt;/BusinessBody&gt;\r\n    &lt;/C&gt;\r\n\r\n\r\nI want the content of B and C to go inside the `&lt;Body&gt;` tag of A along with the namespaces. See `Result.xml`\r\n\r\n**Result.xml**\r\n\r\n      &lt;A namespace=&quot;A..&quot;&gt;\r\n        &lt;Document&gt;\r\n        &lt;Header&gt;...&lt;/Header&gt;\r\n        &lt;Body&gt;\r\n        &lt;B namespace=&quot;B...&quot;&gt;\r\n        &lt;BusinessHeader&gt;\r\n        ....\r\n        &lt;/BusinessHeader&gt;\r\n        &lt;/B&gt;\r\n        &lt;C namespace=&quot;C..&quot;&gt;\r\n        &lt;BusinessBody&gt;\r\n    \r\n        &lt;/BusinessBody&gt;\r\n        &lt;/C&gt;\r\n        &lt;/Body&gt;\r\n        &lt;/Document&gt;\r\n        &lt;/A&gt;\r\n\r\nI tried doing this but I get the following error.\r\n\r\n    org.w3c.dom.Document a = convertStringToXml(transmissionReportPayload);\r\n    org.w3c.dom.Document b = convertStringToXml(headerPayLoad);\r\n    org.w3c.dom.Document c = convertStringToXml(documentPayload);\r\n    \r\n\r\n    Node firstDocImportedNode = (Node) a.importNode(b, true);\r\n    a.appendChild(firstDocImportedNode );\r\n\r\n\r\n    StringWriter writer = new StringWriter();\r\n\r\n    // print results\r\n    TransformerFactory.newInstance()\r\n            .newTransformer()\r\n            .transform(new DOMSource(a), new StreamResult(writer));\r\n\r\n    return  writer.toString();\r\n\r\n\r\n\r\nI get the following the error. \r\n\r\n    org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation. \r\n    \r\n    \tat com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1767)\r\n    \tat com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1533)\r\n    \tat za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.createXML(Pacs002ResponseConverter.java:89)\r\n    \tat za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.convertPacs002ResponseToPayload(Pacs002ResponseConverter.java:73)\r\n","title":"Merge three xml document with different name spaces into one in Java","body":"<p>I have 3 different xml Strings(Not Files Strings in JVM). Sample Given below</p>\n<p><strong>A.xml</strong></p>\n<pre><code>&lt;A namespace=&quot;A..&quot;&gt;\n&lt;Document&gt;\n&lt;Header&gt;...&lt;/Header&gt;\n&lt;Body&gt;\n&lt;/Body&gt;\n&lt;/Document&gt;\n&lt;/A&gt;\n</code></pre>\n<p><strong>B.xml</strong></p>\n<pre><code>  &lt;B namespace=&quot;B...&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;\n</code></pre>\n<p><strong>C.xml</strong></p>\n<pre><code>&lt;C namespace=&quot;C..&quot;&gt;\n&lt;BusinessBody&gt;\n\n&lt;/BusinessBody&gt;\n&lt;/C&gt;\n</code></pre>\n<p>I want the content of B and C to go inside the <code>&lt;Body&gt;</code> tag of A along with the namespaces. See <code>Result.xml</code></p>\n<p><strong>Result.xml</strong></p>\n<pre><code>  &lt;A namespace=&quot;A..&quot;&gt;\n    &lt;Document&gt;\n    &lt;Header&gt;...&lt;/Header&gt;\n    &lt;Body&gt;\n    &lt;B namespace=&quot;B...&quot;&gt;\n    &lt;BusinessHeader&gt;\n    ....\n    &lt;/BusinessHeader&gt;\n    &lt;/B&gt;\n    &lt;C namespace=&quot;C..&quot;&gt;\n    &lt;BusinessBody&gt;\n\n    &lt;/BusinessBody&gt;\n    &lt;/C&gt;\n    &lt;/Body&gt;\n    &lt;/Document&gt;\n    &lt;/A&gt;\n</code></pre>\n<p>I tried doing this but I get the following error.</p>\n<pre><code>org.w3c.dom.Document a = convertStringToXml(transmissionReportPayload);\norg.w3c.dom.Document b = convertStringToXml(headerPayLoad);\norg.w3c.dom.Document c = convertStringToXml(documentPayload);\n\n\nNode firstDocImportedNode = (Node) a.importNode(b, true);\na.appendChild(firstDocImportedNode );\n\n\nStringWriter writer = new StringWriter();\n\n// print results\nTransformerFactory.newInstance()\n        .newTransformer()\n        .transform(new DOMSource(a), new StreamResult(writer));\n\nreturn  writer.toString();\n</code></pre>\n<p>I get the following the error.</p>\n<pre><code>org.w3c.dom.DOMException: NOT_SUPPORTED_ERR: The implementation does not support the requested type of object or operation. \n\n    at com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1767)\n    at com.sun.org.apache.xerces.internal.dom.CoreDocumentImpl.importNode(CoreDocumentImpl.java:1533)\n    at za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.createXML(Pacs002ResponseConverter.java:89)\n    at za.co.fnb.gts.iso.simulator.pacs002.Pacs002ResponseConverter.convertPacs002ResponseToPayload(Pacs002ResponseConverter.java:73)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","noclassdeffounderror"],"answers":[{"comments":[{"owner":{"account_id":28710894,"reputation":1,"user_id":21986412,"display_name":"lalexa"},"score":0,"creation_date":1687178016,"post_id":76457339,"comment_id":134896089,"body_markdown":"Thank you but this is not working for me. It is resulting in java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException","body":"Thank you but this is not working for me. It is resulting in java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686578224,"creation_date":1686577841,"answer_id":76457339,"question_id":76456839,"body_markdown":"Using _Firefox_ and _GeckoDriver_\r\n---------------------------------\r\nUsing [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.10.0**_, [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) _**v0.33.0**_ and [tag:firefox] _**v114.0.1**_ you can use the minimum code block:\r\n\r\n\tWebDriver driver = new FirefoxDriver();\r\n\tdriver.get(&quot;https://www.selenium.dev/&quot;);\r\n\t\r\nConsole Output:\r\n\r\n\tJun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\n\tINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nUsing _Chrome_ and _ChromeDriver_\r\n---------------------------------\r\nUsing [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.10.0**_, [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) _**v114.0**_ and [tag:google-chrome] _**v114.0**_ you can use the minimum code block:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://www.selenium.dev/&quot;);\r\n\t\r\nConsole Output:\r\n\r\n\tJun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\n\tINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output","title":"Upgrading Selenium version to 4.8.3 throws java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException","body":"<h2>Using <em>Firefox</em> and <em>GeckoDriver</em></h2>\n<p>Using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.10.0</strong></em>, <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> <em><strong>v0.33.0</strong></em> and <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> <em><strong>v114.0.1</strong></em> you can use the minimum code block:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.get(&quot;https://www.selenium.dev/&quot;);\n</code></pre>\n<p>Console Output:</p>\n<pre><code>Jun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\n</code></pre>\n<hr />\n<h2>Using <em>Chrome</em> and <em>ChromeDriver</em></h2>\n<p>Using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.10.0</strong></em>, <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> <em><strong>v114.0</strong></em> and <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> <em><strong>v114.0</strong></em> you can use the minimum code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.selenium.dev/&quot;);\n</code></pre>\n<p>Console Output:</p>\n<pre><code>Jun 11, 2023 3:58:24 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\n</code></pre>\n"}],"owner":{"account_id":28710894,"reputation":1,"user_id":21986412,"display_name":"lalexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686579174,"creation_date":1686574190,"question_id":76456839,"body_markdown":"After I&#39;ve upgraded Selenium version to `4.8.3` I&#39;m no longer able to run my tests as I receive the following error: \r\n````\r\njava.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException\r\n````\r\nHas anyone encountered this issue and knows a fix? I&#39;m using Intelij.\r\n\r\nIt is definitely something related to the Selenium version. I want to upgrade so I am able to run the tests locally again as with old selenium versions I&#39;m receiving the `java.io.IOException: Invalid Status code=403 text=Forbidden`","title":"Upgrading Selenium version to 4.8.3 throws java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException","body":"<p>After I've upgraded Selenium version to <code>4.8.3</code> I'm no longer able to run my tests as I receive the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/openqa/selenium/ElementNotVisibleException\n</code></pre>\n<p>Has anyone encountered this issue and knows a fix? I'm using Intelij.</p>\n<p>It is definitely something related to the Selenium version. I want to upgrade so I am able to run the tests locally again as with old selenium versions I'm receiving the <code>java.io.IOException: Invalid Status code=403 text=Forbidden</code></p>\n"},{"tags":["java","spring-test"],"answers":[{"comments":[{"owner":{"account_id":468218,"reputation":2281,"user_id":874076,"accept_rate":84,"display_name":"Kilokahn"},"score":0,"creation_date":1340795550,"post_id":11210513,"comment_id":14742419,"body_markdown":"Thanks Sam. Logged [SPR-9548](https://jira.springsource.org/browse/SPR-9548) with what I could think of.","body":"Thanks Sam. Logged <a href=\"https://jira.springsource.org/browse/SPR-9548\" rel=\"nofollow noreferrer\">SPR-9548</a> with what I could think of."}],"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340723736,"creation_date":1340723736,"answer_id":11210513,"question_id":11202535,"body_markdown":"No, there is currently no way to have `ApplicationContext` loading aborted on the first failure with existing hook-ins.\r\n\r\nFeel free to [create a JIRA issue][1] against the **SPR** project and the **Test** component with your suggestions.\r\n\r\nRegards,\r\n\r\nSam (author of the Spring TestContext Framework)\r\n\r\n\r\n  [1]: https://jira.springsource.org/secure/CreateIssue.jspa?pid=10000&amp;issuetype=4","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p>No, there is currently no way to have <code>ApplicationContext</code> loading aborted on the first failure with existing hook-ins.</p>\n\n<p>Feel free to <a href=\"https://jira.springsource.org/secure/CreateIssue.jspa?pid=10000&amp;issuetype=4\" rel=\"nofollow\">create a JIRA issue</a> against the <strong>SPR</strong> project and the <strong>Test</strong> component with your suggestions.</p>\n\n<p>Regards,</p>\n\n<p>Sam (author of the Spring TestContext Framework)</p>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686577970,"creation_date":1686577970,"answer_id":76457354,"question_id":11202535,"body_markdown":"*(This answer supersedes my previous, outdated answer)*\r\n\r\nI just implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.\r\n\r\n&gt; As of Spring Framework 6.1, a context *failure threshold* policy is in place which helps avoid repeated attempts to load a failing `ApplicationContext`. By default, the failure threshold is set to `1` which means that only one attempt will be made to load an `ApplicationContext` for a given context cache key. Any subsequent attempt to load the `ApplicationContext` for the same context cache key will result in an immediate `IllegalStateException` with an error message which explains that the attempt was preemptively skipped.\r\n\r\nFor further details, consult the Spring Framework [reference manual][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p><em>(This answer supersedes my previous, outdated answer)</em></p>\n<p>I just implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.</p>\n<blockquote>\n<p>As of Spring Framework 6.1, a context <em>failure threshold</em> policy is in place which helps avoid repeated attempts to load a failing <code>ApplicationContext</code>. By default, the failure threshold is set to <code>1</code> which means that only one attempt will be made to load an <code>ApplicationContext</code> for a given context cache key. Any subsequent attempt to load the <code>ApplicationContext</code> for the same context cache key will result in an immediate <code>IllegalStateException</code> with an error message which explains that the attempt was preemptively skipped.</p>\n</blockquote>\n<p>For further details, consult the Spring Framework <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html\" rel=\"nofollow noreferrer\">reference manual</a>.</p>\n"}],"owner":{"account_id":468218,"reputation":2281,"user_id":874076,"accept_rate":84,"display_name":"Kilokahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11210513,"answer_count":2,"score":4,"last_activity_date":1686577970,"creation_date":1340695535,"question_id":11202535,"body_markdown":"Lets say I have a test class called ServiceTest with three test methods test1, test2 and test3. All three methods use some resources which are provided by spring. In the current state of affairs, if there is a problem with the loading of the spring context, the context load is retried for each test method. Is there a way that I can have it aborted on the first failure itself with existing hook-ins? There might be good reasons behind it - but I fail to appreciate it. Any pointers would be helpful. The real problem is that the context load takes a few minutes and is useless to keep reattempting to load context if it has already failed for the first time and only seeks to prolong the time that the CI engine takes to report failures.\r\n\r\nI was thinking of proposing a patch to spring guys that can maintain an attempt map in org.springframework.test.context.TestContext which can be used to track attempts made and refrain from trying over and over again. Thoughts?\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;classpath:com/kilo/spring/test-context.xml&quot; })\r\n    public class ServiceTest {\r\n\r\n    @Resource(name = &quot;fibonacciService&quot;)\r\n    private FibonacciService fibonacciService;\r\n\r\n    @Test\r\n    public void test1() {\r\n        long fibonacci = fibonacciService.getFibonacci(5);\r\n    }\r\n\r\n    @Test\r\n    public void test2() {\r\n        long fibonacci = fibonacciService.getFibonacci(4);\r\n    }\r\n\r\n    @Test\r\n    public void test3() {\r\n        long fibonacci = fibonacciService.getFibonacci(6);\r\n    }\r\n","title":"Ability to avoid repeated load of application context in spring TestContext via DependencyInjectionTestExecutionListener","body":"<p>Lets say I have a test class called ServiceTest with three test methods test1, test2 and test3. All three methods use some resources which are provided by spring. In the current state of affairs, if there is a problem with the loading of the spring context, the context load is retried for each test method. Is there a way that I can have it aborted on the first failure itself with existing hook-ins? There might be good reasons behind it - but I fail to appreciate it. Any pointers would be helpful. The real problem is that the context load takes a few minutes and is useless to keep reattempting to load context if it has already failed for the first time and only seeks to prolong the time that the CI engine takes to report failures.</p>\n\n<p>I was thinking of proposing a patch to spring guys that can maintain an attempt map in org.springframework.test.context.TestContext which can be used to track attempts made and refrain from trying over and over again. Thoughts?</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"classpath:com/kilo/spring/test-context.xml\" })\npublic class ServiceTest {\n\n@Resource(name = \"fibonacciService\")\nprivate FibonacciService fibonacciService;\n\n@Test\npublic void test1() {\n    long fibonacci = fibonacciService.getFibonacci(5);\n}\n\n@Test\npublic void test2() {\n    long fibonacci = fibonacciService.getFibonacci(4);\n}\n\n@Test\npublic void test3() {\n    long fibonacci = fibonacciService.getFibonacci(6);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","microservices"],"comments":[{"owner":{"account_id":1515381,"reputation":958,"user_id":1416490,"accept_rate":72,"display_name":"zt9788"},"score":0,"creation_date":1686557905,"post_id":76454676,"comment_id":134809315,"body_markdown":"javax package ===&gt; jakarta","body":"javax package ===&gt; jakarta"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686558702,"post_id":76454676,"comment_id":134809482,"body_markdown":"SpringBoot 3.x supports Jakarta-EE rather than Java-EE.  You need to change the code that is using the `javax.servlet.*` classes to use `jakarta.servlet.*` instead.","body":"SpringBoot 3.x supports Jakarta-EE rather than Java-EE.  You need to change the code that is using the <code>javax.servlet.*</code> classes to use <code>jakarta.servlet.*</code> instead."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686559070,"post_id":76454676,"comment_id":134809561,"body_markdown":"If you are using SpringBoot 3.x (Jakarta-EE) you also need to upgrade to Spring Framework 6.0.","body":"If you are using SpringBoot 3.x (Jakarta-EE) you also need to upgrade to Spring Framework 6.0."},{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1686559963,"post_id":76454676,"comment_id":134809744,"body_markdown":"Thanks for the reply, I see @EnableWebSecurity internally calling WebSecurityConfiguration class, which has following package :org.springframework.security.config.annotation.web.configuration;\nimport javax.servlet.Filter;\nso how to change here javax .servlet.Filter to Jakarta?","body":"Thanks for the reply, I see @EnableWebSecurity internally calling WebSecurityConfiguration class, which has following package :org.springframework.security.config.annotation.web.configur&zwnj;&#8203;ation; import javax.servlet.Filter; so how to change here javax .servlet.Filter to Jakarta?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686561737,"post_id":76454676,"comment_id":134810158,"body_markdown":"Replace your SpringSecurity 5.x dependencies with 6.x","body":"Replace your SpringSecurity 5.x dependencies with 6.x"},{"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"score":0,"creation_date":1686576157,"post_id":76454676,"comment_id":134813314,"body_markdown":"thanks updating springSecurity dependencies with 6.x worked but cors(), csrf(), httpBasic shows  &quot;deprecated and marked for removal&quot; for below method:\n\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests().anyRequest().authenticated()\n                .and().cors().disable()\n                .httpBasic();","body":"thanks updating springSecurity dependencies with 6.x worked but cors(), csrf(), httpBasic shows  &quot;deprecated and marked for removal&quot; for below method:  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {         http                 .csrf().disable()                 .authorizeRequests().anyRequest().authenticated()                 .and().cors().disable()                 .httpBasic();"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686584543,"post_id":76454676,"comment_id":134815394,"body_markdown":"So rewrite the code that uses the deprecated methods.  Start by reading the deprecation notices (in the javadocs) to see if they suggest alternatives.","body":"So rewrite the code that uses the deprecated methods.  Start by reading the deprecation notices (in the javadocs) to see if they suggest alternatives."},{"owner":{"account_id":434398,"reputation":473,"user_id":820345,"display_name":"Lokesh Gupta"},"score":0,"creation_date":1686660434,"post_id":76454676,"comment_id":134827086,"body_markdown":"This change will require you to rename all javax.* imports to jakarta.* imports. https://howtodoinjava.com/java/whats-new-spring-6-spring-boot-3/","body":"This change will require you to rename all javax.* imports to jakarta.* imports. <a href=\"https://howtodoinjava.com/java/whats-new-spring-6-spring-boot-3/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/whats-new-spring-6-spring-boot-3</a>"}],"owner":{"account_id":22069594,"reputation":11,"user_id":16330827,"display_name":"suresh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686577855,"creation_date":1686557332,"question_id":76454676,"body_markdown":"I am using java17 with spring boot 3.0.0 version in my application. I have done the following configuration for spring security in web application. I have migrated java11 to java17 and using spring boot version as 3 and after that getting those errors.\r\n\r\nI migrated java11 to java 17 and using updated spring boot version and after that upgradation I got the below errors.\r\n\r\npackage com.book.config;\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.web.SecurityFilterChain;\r\n\r\n@EnableWebSecurity @Configuration public class WebSecurityConfig { @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http .csrf().disable() .authorizeRequests().anyRequest().authenticated() .and().cors().disable() .httpBasic(); return http.build(); } }\r\n```\r\nFollowing are the gradle dependencies, we are using:\r\n```\r\nplugins { id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39; id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39; id &#39;java&#39; }\r\n\r\nsourceCompatibility = &#39;17&#39;\r\n\r\ndependencies { implementation (&#39;org.springframework.boot:spring-boot-starter-actuator&#39;) implementation (&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;) implementation (&#39;org.springframework.boot:spring-boot-starter-web&#39;) implementation &#39;org.springframework.security:spring-security-config:5.5.7&#39; implementation &#39;org.springframework.security:spring-security-web:5.5.7&#39; implementation &#39;org.springframework.security:spring-security-crypto:5.7.0&#39; implementation &#39;org.springframework.data:spring-data-mongodb&#39; }\r\n```\r\nError description:\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter at java.base/java.lang.Class.getDeclaredMethods0(Native Method) \\~\\[na:na\\] at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) \\~\\[na:na\\] at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) \\~\\[na:na\\] at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) \\~\\[spring-core-6.0.4.jar:6.0.4\\] ... 21 common frames omitted Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) \\~\\[na:na\\] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) \\~\\[na:na\\] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\] ... 25 common frames omitted\r\n\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter&#39;\r\n```\r\nI have tried to add javax-servlet dependency, that did not work. what is the issue and what can be update to fix the error?","title":"Spring Security error java.lang.NoClassDefFoundError: javax/servlet/Filter","body":"<p>I am using java17 with spring boot 3.0.0 version in my application. I have done the following configuration for spring security in web application. I have migrated java11 to java17 and using spring boot version as 3 and after that getting those errors.</p>\n<p>I migrated java11 to java 17 and using updated spring boot version and after that upgradation I got the below errors.</p>\n<p>package com.book.config;</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity @Configuration public class WebSecurityConfig { @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http .csrf().disable() .authorizeRequests().anyRequest().authenticated() .and().cors().disable() .httpBasic(); return http.build(); } }\n</code></pre>\n<p>Following are the gradle dependencies, we are using:</p>\n<pre><code>plugins { id 'org.springframework.boot' version '3.0.1' id 'io.spring.dependency-management' version '1.1.0' id 'java' }\n\nsourceCompatibility = '17'\n\ndependencies { implementation ('org.springframework.boot:spring-boot-starter-actuator') implementation (&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;) implementation ('org.springframework.boot:spring-boot-starter-web') implementation 'org.springframework.security:spring-security-config:5.5.7' implementation 'org.springframework.security:spring-security-web:5.5.7' implementation 'org.springframework.security:spring-security-crypto:5.7.0' implementation 'org.springframework.data:spring-data-mongodb' }\n</code></pre>\n<p>Error description:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/servlet/Filter at java.base/java.lang.Class.getDeclaredMethods0(Native Method) \\~\\[na:na\\] at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) \\~\\[na:na\\] at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) \\~\\[na:na\\] at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) \\~\\[spring-core-6.0.4.jar:6.0.4\\] ... 21 common frames omitted Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) \\~\\[na:na\\] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) \\~\\[na:na\\] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) \\~\\[na:na\\] ... 25 common frames omitted\n\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter'\n</code></pre>\n<p>I have tried to add javax-servlet dependency, that did not work. what is the issue and what can be update to fix the error?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","database-partitioning"],"answers":[{"tags":[],"owner":{"account_id":23045737,"reputation":1,"user_id":17163319,"display_name":"Yago"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686577274,"creation_date":1686577274,"answer_id":76457258,"question_id":76341826,"body_markdown":"I managed to solve it by updating Spring Boot to the latest version and adding the following dependency in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Problem involving partitioned table + Spring Boot: GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table","body":"<p>I managed to solve it by updating Spring Boot to the latest version and adding the following dependency in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23045737,"reputation":1,"user_id":17163319,"display_name":"Yago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76457258,"answer_count":1,"score":0,"last_activity_date":1686577274,"creation_date":1685111758,"question_id":76341826,"body_markdown":"I&#39;m working with partitioned tables using Postgres and Spring Boot. I managed to create the partition, and in the tests I performed, the GET and POST methods are working as intended. \r\n\r\nHowever, I need help resolving the following error that occurs when I start the application:\r\n\r\n\r\n**GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name \r\nvarchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) \r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]**\r\n\r\nThe step-by-step of what I did before the error appeared:\r\n\r\nI created the main Model, which will reference the partitioned table:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;example&quot;)\r\n@IdClass(ExampleId.class)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Example {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;example_id_seq&quot;)\r\n    @SequenceGenerator(name = &quot;example_id_seq&quot;, sequenceName = &quot;example_id_seq&quot;, initialValue = 1, allocationSize = 1)\r\n    private int id;\r\n\r\n    @Id\r\n    private LocalDate date_cd;\r\n\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\nI created the composite ID class.\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\npublic class ExampleId implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private int id;\r\n\r\n    private LocalDate date_cd;\r\n\r\n}\r\n```\r\n\r\n\r\nAnd then I started the application, everything ran normally.\r\n\r\nAfter that I paused the application and partitioned the &#39;example&#39; table following the Postgres documentation: https://www.postgresql.org/docs/current/ddl-partitioning.html Thread: 5.11.2.1. Example\r\n\r\nAnd my table looks like this:\r\n\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS public.example\r\n(\r\n    date_cd date NOT NULL,\r\n    id integer NOT NULL,\r\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n    CONSTRAINT example_pkey PRIMARY KEY (date_cd, id)\r\n) PARTITION BY RANGE (date_cd);)\r\n```\r\n\r\nSo I started the application again, and the following error was printed in the Spring Boot log:\r\n\r\n\r\n```\r\nWARN 20616 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl: \r\nGenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example \r\n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example \r\n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd , id))&quot; via JDBC Statement\r\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final] at\r\norg.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)\r\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n```\r\n\r\n\r\nMy application.properties looks like this:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/example\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI know that changing &#39;spring.jpa.hibernate.ddl-auto&#39; to &#39;none&#39; would solve the problem, however it&#39;s not the solution I want as I don&#39;t want to manually manage all the database changes.\r\n","title":"Problem involving partitioned table + Spring Boot: GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table","body":"<p>I'm working with partitioned tables using Postgres and Spring Boot. I managed to create the partition, and in the tests I performed, the GET and POST methods are working as intended.</p>\n<p>However, I need help resolving the following error that occurs when I start the application:</p>\n<p><strong>GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name\nvarchar(255), primary key (date_cd, id))&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example (date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]</strong></p>\n<p>The step-by-step of what I did before the error appeared:</p>\n<p>I created the main Model, which will reference the partitioned table:</p>\n<pre><code>@Entity\n@Table(name = &quot;example&quot;)\n@IdClass(ExampleId.class)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Example {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;example_id_seq&quot;)\n    @SequenceGenerator(name = &quot;example_id_seq&quot;, sequenceName = &quot;example_id_seq&quot;, initialValue = 1, allocationSize = 1)\n    private int id;\n\n    @Id\n    private LocalDate date_cd;\n\n    private String name;\n\n}\n\n</code></pre>\n<p>I created the composite ID class.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\npublic class ExampleId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private int id;\n\n    private LocalDate date_cd;\n\n}\n</code></pre>\n<p>And then I started the application, everything ran normally.</p>\n<p>After that I paused the application and partitioned the 'example' table following the Postgres documentation: <a href=\"https://www.postgresql.org/docs/current/ddl-partitioning.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/ddl-partitioning.html</a> Thread: 5.11.2.1. Example</p>\n<p>And my table looks like this:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.example\n(\n    date_cd date NOT NULL,\n    id integer NOT NULL,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT example_pkey PRIMARY KEY (date_cd, id)\n) PARTITION BY RANGE (date_cd);)\n</code></pre>\n<p>So I started the application again, and the following error was printed in the Spring Boot log:</p>\n<pre><code>WARN 20616 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl: \nGenerationTarget encountered exception accepting command : Error executing DDL &quot;create table example \n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd, id))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table example \n(date_cd date not null, id int4 not null, name varchar(255), primary key (date_cd , id))&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final] at\norg.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507)\n~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n</code></pre>\n<p>My application.properties looks like this:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/example\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>I know that changing 'spring.jpa.hibernate.ddl-auto' to 'none' would solve the problem, however it's not the solution I want as I don't want to manually manage all the database changes.</p>\n"},{"tags":["java","guava","glassfish-4","minio"],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686577207,"creation_date":1686291381,"question_id":76437672,"body_markdown":"I have a maven project with an EJB and a war. For my use case, I have to use [minIO](https://min.io/) which uses `guava-30.1.1-jre`. \r\nI am using GlassFish version 4 and inside the modules of GlassFish, an older version of Guava can be found.\r\nFor war, I can use \r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE glassfish-web-app PUBLIC &quot;-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN&quot; &quot;http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd&quot;&gt;\r\n&lt;glassfish-web-app error-url=&quot;&quot;&gt;\r\n  &lt;class-loader delegate=&quot;false&quot;/&gt;\r\n  &lt;jsp-config&gt;\r\n    &lt;property name=&quot;keepgenerated&quot; value=&quot;true&quot;&gt;\r\n      &lt;description&gt;Keep a copy of the generated servlet class java code.&lt;/description&gt;\r\n    &lt;/property&gt;\r\n  &lt;/jsp-config&gt;\r\n&lt;/glassfish-web-app&gt;\r\n```\r\nSetting `delegate=&quot;false&quot;`, there is no conflict of guava in the war project and I can use minIO but I want this in my EJB. \r\nHow can I force my  container to use guava from the ear and not from inside Glassfish&gt; modules? \r\n ","title":"Force Glassfish4 to use Guava from ear","body":"<p>I have a maven project with an EJB and a war. For my use case, I have to use <a href=\"https://min.io/\" rel=\"nofollow noreferrer\">minIO</a> which uses <code>guava-30.1.1-jre</code>.\nI am using GlassFish version 4 and inside the modules of GlassFish, an older version of Guava can be found.\nFor war, I can use</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE glassfish-web-app PUBLIC &quot;-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN&quot; &quot;http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd&quot;&gt;\n&lt;glassfish-web-app error-url=&quot;&quot;&gt;\n  &lt;class-loader delegate=&quot;false&quot;/&gt;\n  &lt;jsp-config&gt;\n    &lt;property name=&quot;keepgenerated&quot; value=&quot;true&quot;&gt;\n      &lt;description&gt;Keep a copy of the generated servlet class java code.&lt;/description&gt;\n    &lt;/property&gt;\n  &lt;/jsp-config&gt;\n&lt;/glassfish-web-app&gt;\n</code></pre>\n<p>Setting <code>delegate=&quot;false&quot;</code>, there is no conflict of guava in the war project and I can use minIO but I want this in my EJB.\nHow can I force my  container to use guava from the ear and not from inside Glassfish&gt; modules?</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":0,"creation_date":1687084849,"post_id":76457232,"comment_id":134885101,"body_markdown":"If you want to cancel the event just do: `event.preventDefault(); event.stopPropagation();`.","body":"If you want to cancel the event just do: <code>event.preventDefault(); event.stopPropagation();</code>."}],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686577090,"creation_date":1686577090,"question_id":76457232,"body_markdown":"is there any way to watch the paste handler and sanitize the HTML before paste occurs..\r\n\r\nSome event : \r\n```\r\n        getView().getRichEditor().addPasteHandler(new PasteEvent.PasteEventHandler() {\r\n            @Override\r\n            public void onPasteEvent(PasteEvent event) {\r\n                //howto cancel the event ? to sanitize pasted String\r\n            }\r\n        });\r\n```","title":"GWT Java MaterialRichEditor addPasteHandler","body":"<p>is there any way to watch the paste handler and sanitize the HTML before paste occurs..</p>\n<p>Some event :</p>\n<pre><code>        getView().getRichEditor().addPasteHandler(new PasteEvent.PasteEventHandler() {\n            @Override\n            public void onPasteEvent(PasteEvent event) {\n                //howto cancel the event ? to sanitize pasted String\n            }\n        });\n</code></pre>\n"},{"tags":["java","maven","build","maven-compiler-plugin"],"comments":[{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":8,"creation_date":1488354815,"post_id":42525139,"comment_id":72188020,"body_markdown":"Do you have the dependency:\n`&lt;dependency&gt;\n    &lt;groupId&gt;com.apple&lt;/groupId&gt;\n    &lt;artifactId&gt;AppleJavaExtensions&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;` in your pom.xml?","body":"Do you have the dependency: <code>&lt;dependency&gt;     &lt;groupId&gt;com.apple&lt;&#47;groupId&gt;     &lt;artifactId&gt;AppleJavaExtensions&lt;&#47;artifactId&gt;     &lt;version&gt;1.4&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code> in your pom.xml?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1488355143,"post_id":42525139,"comment_id":72188203,"body_markdown":"No. Let me try.","body":"No. Let me try."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":1,"creation_date":1488355219,"post_id":42525139,"comment_id":72188244,"body_markdown":"Brilliant. It worked. But how? Why was that error?","body":"Brilliant. It worked. But how? Why was that error?"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1488355282,"post_id":42525139,"comment_id":72188278,"body_markdown":"Because you were obviously using that library. For maven to know to add the classes in there to the classpath you have to define the dependencies accordingly.","body":"Because you were obviously using that library. For maven to know to add the classes in there to the classpath you have to define the dependencies accordingly."},{"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"score":0,"creation_date":1512020064,"post_id":42525139,"comment_id":82090709,"body_markdown":"What is AppleJavaExtensions here?Is that your java class name","body":"What is AppleJavaExtensions here?Is that your java class name"},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1574530286,"post_id":42525139,"comment_id":104268623,"body_markdown":"@DrHopfen Chamzz.dot would like to ask you but forgot to address the question to you. Please answer to him!","body":"@DrHopfen Chamzz.dot would like to ask you but forgot to address the question to you. Please answer to him!"},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1574679039,"post_id":42525139,"comment_id":104304157,"body_markdown":"@chamzz.dot In the snippet I posted above it ist the artifactId of a library provided by apple: https://developer.apple.com/library/archive/samplecode/AppleJavaExtensions/Introduction/Intro.html#//apple_ref/doc/uid/DTS10000677-Intro-DontLinkElementID_2","body":"@chamzz.dot In the snippet I posted above it ist the artifactId of a library provided by apple: <a href=\"https://developer.apple.com/library/archive/samplecode/AppleJavaExtensions/Introduction/Intro.html#//apple_ref/doc/uid/DTS10000677-Intro-DontLinkElementID_2\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/samplecode/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"score":1,"creation_date":1579369076,"post_id":42525742,"comment_id":105746689,"body_markdown":"This works perfectly. No need of anything else to be added to fix the error.","body":"This works perfectly. No need of anything else to be added to fix the error."},{"owner":{"account_id":10877629,"reputation":1286,"user_id":7997600,"display_name":"Daksh Patel"},"score":0,"creation_date":1668991441,"post_id":42525742,"comment_id":131533991,"body_markdown":"Yeah not relevant to IDE just add compiler as you mention its work only if we add manually.","body":"Yeah not relevant to IDE just add compiler as you mention its work only if we add manually."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1592218802,"creation_date":1488353587,"answer_id":42525742,"question_id":42525139,"body_markdown":"I don&#39;t think that IDE is relevant here. After all you&#39;re running a Maven and Maven doesn&#39;t have a source that will allow to compile the diamond operators.\r\nSo, I think you should configure maven-compiler-plugin itself.\r\n\r\nYou can read about this [here][1]. But in general try to add the following properties:\r\n\r\n\r\n    &lt;properties&gt;\r\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nand see whether it compiles now in Maven only.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I don't think that IDE is relevant here. After all you're running a Maven and Maven doesn't have a source that will allow to compile the diamond operators.\nSo, I think you should configure maven-compiler-plugin itself.</p>\n\n<p>You can read about this <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">here</a>. But in general try to add the following properties:</p>\n\n<pre><code>&lt;properties&gt;\n &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>and see whether it compiles now in Maven only.</p>\n"},{"comments":[{"owner":{"account_id":2124627,"reputation":354,"user_id":3915610,"accept_rate":100,"display_name":"Elango Mani"},"score":1,"creation_date":1524050628,"post_id":42525941,"comment_id":86812284,"body_markdown":"also please make sure that eclipse.ini file has correct JRE version which you have set as project JDK","body":"also please make sure that eclipse.ini file has correct JRE version which you have set as project JDK"},{"owner":{"account_id":4700383,"reputation":453,"user_id":3804093,"accept_rate":57,"display_name":"Uzi"},"score":5,"creation_date":1557110122,"post_id":42525941,"comment_id":98643119,"body_markdown":"`source` and `target` are these JDK versions?","body":"<code>source</code> and <code>target</code> are these JDK versions?"},{"owner":{"account_id":2700799,"reputation":139,"user_id":5089205,"accept_rate":100,"display_name":"user2331566"},"score":0,"creation_date":1578928489,"post_id":42525941,"comment_id":105589086,"body_markdown":"to upgrade to 3.6+ refer to the valid versions: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin","body":"to upgrade to 3.6+ refer to the valid versions: <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.maven.plugins/&hellip;</a>"},{"owner":{"account_id":4696494,"reputation":143,"user_id":3801230,"display_name":"user3801230"},"score":3,"creation_date":1587422672,"post_id":42525941,"comment_id":108501639,"body_markdown":"addings this to my pom file worked for me... but I still don&#39;t really understand why. Using java 12, I am able to do clean package on my simple project via the command line. But when I try to do the same though maven, I get the error described in this post. When you say &quot;the code is not for the default compiler used there&quot;, are you referring to the code of maven, or code in the project itself? I similarly have set my java compiler to version 12 in eclipse, so it should be using the same java version as far as I&#39;m aware...","body":"addings this to my pom file worked for me... but I still don&#39;t really understand why. Using java 12, I am able to do clean package on my simple project via the command line. But when I try to do the same though maven, I get the error described in this post. When you say &quot;the code is not for the default compiler used there&quot;, are you referring to the code of maven, or code in the project itself? I similarly have set my java compiler to version 12 in eclipse, so it should be using the same java version as far as I&#39;m aware..."}],"tags":[],"owner":{"account_id":10358799,"reputation":1749,"user_id":7639880,"display_name":"user7639880"},"comment_count":4,"down_vote_count":1,"up_vote_count":175,"is_accepted":false,"score":174,"last_activity_date":1614624832,"creation_date":1488354325,"answer_id":42525941,"question_id":42525139,"body_markdown":"The error occurred because the code is not for the default compiler used there. Paste this code in effective POM before the root element ends, after declaring dependencies, to change the compiler used. Adjust version as you need.\r\n\r\n\r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>The error occurred because the code is not for the default compiler used there. Paste this code in effective POM before the root element ends, after declaring dependencies, to change the compiler used. Adjust version as you need.</p>\n<pre><code>&lt;dependencies&gt;\n...\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5169548,"reputation":560,"user_id":4138535,"accept_rate":43,"display_name":"Akshay Mathur"},"score":1,"creation_date":1569231136,"post_id":47111269,"comment_id":102515881,"body_markdown":"Indeed this was the issue. Thanks","body":"Indeed this was the issue. Thanks"}],"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509802110,"creation_date":1509802110,"answer_id":47111269,"question_id":42525139,"body_markdown":"In my case, it was caused from an incompatibility with OpenJDK 9 (which I haven&#39;t investigated).\r\n\r\nIf you don&#39;t need JDK 9, a temporary work-around would be to purge it from your machine:\r\n\r\n    sudo apt-get remove --purge openjdk-9-jdk openjdk-9-jre \r\n    sudo apt-get remove --purge openjdk-9-jdk-headless openjdk-9-jre-headless\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, it was caused from an incompatibility with OpenJDK 9 (which I haven't investigated).</p>\n\n<p>If you don't need JDK 9, a temporary work-around would be to purge it from your machine:</p>\n\n<pre><code>sudo apt-get remove --purge openjdk-9-jdk openjdk-9-jre \nsudo apt-get remove --purge openjdk-9-jdk-headless openjdk-9-jre-headless\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7922657,"reputation":647,"user_id":5983136,"accept_rate":80,"display_name":"chamzz.dot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512020619,"creation_date":1512020619,"answer_id":47566618,"question_id":42525139,"body_markdown":"I had the same problem and I Changed this\r\n\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.7&lt;/source&gt;\r\n        &lt;target&gt;1.7&lt;/target&gt;\r\n     &lt;/configuration&gt;\r\n\r\n\r\nhere 1.7 is my JDK version.it was solved.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I had the same problem and I Changed this</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;source&gt;1.7&lt;/source&gt;\n    &lt;target&gt;1.7&lt;/target&gt;\n &lt;/configuration&gt;\n</code></pre>\n\n<p>here 1.7 is my JDK version.it was solved.</p>\n"},{"tags":[],"owner":{"account_id":7957138,"reputation":378,"user_id":6006020,"display_name":"nityanarayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512125579,"creation_date":1512125579,"answer_id":47591844,"question_id":42525139,"body_markdown":"Buddy,&lt;br/&gt;\r\nIf every this is up-to-date, even then you are having this problem, then &lt;br/&gt;\r\ntry running this command from the terminal directly instead of running from eclipse.&lt;br/&gt;\r\n`$ mvn clean install` &lt;br/&gt;&lt;br/&gt;\r\nand make sure these things:\r\n&lt;ul&gt;\r\n&lt;li&gt; maven is in system path &lt;/li&gt;\r\n&lt;li&gt; all maven dependencies are avaialble at `.m2/repository` &lt;/li&gt;\r\n&lt;li&gt; java is in system path &lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;br/&gt;\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Buddy,<br/>\nIf every this is up-to-date, even then you are having this problem, then <br/>\ntry running this command from the terminal directly instead of running from eclipse.<br/>\n<code>$ mvn clean install</code> <br/><br/>\nand make sure these things:</p>\n\n<ul>\n<li> maven is in system path </li>\n<li> all maven dependencies are avaialble at `.m2/repository` </li>\n<li> java is in system path </li>\n</ul>\n\n<p><br/></p>\n"},{"tags":[],"owner":{"account_id":10624820,"reputation":31,"user_id":7824760,"display_name":"Rajib Naik From CGI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521116116,"creation_date":1521116116,"answer_id":49299241,"question_id":42525139,"body_markdown":"for it was comming because of java version mismatch ,so I have corrected it and i am able to build the war file.hope it will help someone\r\n\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>for it was comming because of java version mismatch ,so I have corrected it and i am able to build the war file.hope it will help someone</p>\n\n<pre><code>    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13250822,"reputation":43,"user_id":9568371,"display_name":"Sushovan Mallick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523270217,"creation_date":1523269400,"answer_id":49730711,"question_id":42525139,"body_markdown":"Doing this in pom.xml file and after updating the project, the problem is gone.\r\n\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n1. Update the pom.xml under `&lt;plugin&gt;&lt;/plugin&gt;`.\r\n\r\n2. Update your project.\r\n\r\n3. Then clean maven and install maven.\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Doing this in pom.xml file and after updating the project, the problem is gone.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<ol>\n<li><p>Update the pom.xml under <code>&lt;plugin&gt;&lt;/plugin&gt;</code>.</p></li>\n<li><p>Update your project.</p></li>\n<li><p>Then clean maven and install maven.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4890276,"reputation":744,"user_id":3941604,"display_name":"mrun"},"score":0,"creation_date":1524057806,"post_id":49900476,"comment_id":86817130,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. [How do I write a good answer? ](https://stackoverflow.com/help/how-to-answer)","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. [How do I write a good answer? ](<a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>)"}],"tags":[],"owner":{"account_id":13392297,"reputation":11,"user_id":9664344,"display_name":"Srinivas Avasarala"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524056648,"creation_date":1524056648,"answer_id":49900476,"question_id":42525139,"body_markdown":"The below pom.xml configuration is making the build successful and make sure project buildpath JRE System library should point to Java8.\r\n\r\n&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&lt;version&gt;3.7.0&lt;/version&gt;&lt;configuration&gt;\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;&lt;target&gt;1.8&lt;/target&gt;&lt;/configuration&gt;&lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>The below pom.xml configuration is making the build successful and make sure project buildpath JRE System library should point to Java8.</p>\n\n<p>org.apache.maven.pluginsmaven-compiler-plugin3.7.0                    1.81.8</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532981919,"creation_date":1532981919,"answer_id":51601714,"question_id":42525139,"body_markdown":"Jdk 9 and 10 solution\r\n\r\n\r\n\t\r\n\r\n    &lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-compiler.version}&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;6.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;/dependencies&gt;\r\n    \t\t&lt;/plugin&gt;\r\n\r\n\r\nand make sure your maven is pointing to JDK 10 or 9.\r\nmvn -v\r\n\r\n    Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\r\n    Maven home: C:\\devplay\\apache-maven-3.5.3\\bin\\..\r\n    Java version: 10.0.1, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk-10.0.1\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Jdk 9 and 10 solution</p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;debug&gt;true&lt;/debug&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                    &lt;version&gt;6.2&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>and make sure your maven is pointing to JDK 10 or 9.\nmvn -v</p>\n\n<pre><code>Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\nMaven home: C:\\devplay\\apache-maven-3.5.3\\bin\\..\nJava version: 10.0.1, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk-10.0.1\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11587291,"reputation":149,"user_id":8488979,"display_name":"Matheus Popst de Campos"},"score":1,"creation_date":1570642971,"post_id":52215743,"comment_id":102980587,"body_markdown":"Solved for me. But I don&#39;t know why.","body":"Solved for me. But I don&#39;t know why."}],"tags":[],"owner":{"account_id":10985703,"reputation":91,"user_id":8961607,"display_name":"growdu"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536297518,"creation_date":1536297518,"answer_id":52215743,"question_id":42525139,"body_markdown":"You should add the code into pom.xml like:\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>You should add the code into pom.xml like:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7813124,"reputation":715,"user_id":5908729,"accept_rate":48,"display_name":"sql_dummy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538447040,"creation_date":1538447040,"answer_id":52601211,"question_id":42525139,"body_markdown":"In case if you are able to compile `mvn compile` the project successful from terminal but not from Eclipse check out Window &gt; Preferences &gt;Installed JREs, make sure you have selected JRE that is under JDK (check out the paths of 2 different JRE&#39;s in pic), as Maven needs JDK to compile you need to add it.\r\n\r\n\r\n\r\n[![Installed JREs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BBRV8.gif","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In case if you are able to compile <code>mvn compile</code> the project successful from terminal but not from Eclipse check out Window > Preferences >Installed JREs, make sure you have selected JRE that is under JDK (check out the paths of 2 different JRE's in pic), as Maven needs JDK to compile you need to add it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BBRV8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBRV8.gif\" alt=\"Installed JREs\"></a></p>\n"},{"tags":[],"owner":{"account_id":13981368,"reputation":31,"user_id":10097429,"display_name":"Rohit Bhatnagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540449308,"creation_date":1540449308,"answer_id":52982796,"question_id":42525139,"body_markdown":"Go to the file location where the POM is stored and open cmd.\r\nThen type &quot;mvn --v&quot; to check the maven version and java runtime provided.\r\nCheck runtime attribute and if it is &quot;C:\\Program Files\\Java\\jre1.8.0_191&quot; or even close to a JRE, go to environment variables and add a new &quot;system variable&quot; called &quot;JAVA_HOME&quot; with a value &quot;C:\\Program Files\\Java\\jdk1.8.0_191&quot;.\r\n\r\nReopen the cmd and then &quot;clean install&quot; the project.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Go to the file location where the POM is stored and open cmd.\nThen type \"mvn --v\" to check the maven version and java runtime provided.\nCheck runtime attribute and if it is \"C:\\Program Files\\Java\\jre1.8.0_191\" or even close to a JRE, go to environment variables and add a new \"system variable\" called \"JAVA_HOME\" with a value \"C:\\Program Files\\Java\\jdk1.8.0_191\".</p>\n\n<p>Reopen the cmd and then \"clean install\" the project.</p>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550808997,"creation_date":1550808997,"answer_id":54819984,"question_id":42525139,"body_markdown":"make sure java home path is correct. for my case, java home path is wrong in pom file.\r\n\r\n      &lt;properties&gt;\r\n    \t\t&lt;java.home&gt;/usr/java/jdk1.8.0_45/bin/javac&lt;/java.home&gt;\r\n      &lt;/properties&gt;\r\n\r\n\r\n\r\n\t\t\r\n                  &lt;plugin&gt;\r\n     \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    \t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t          &lt;verbose&gt;true&lt;/verbose&gt;\r\n    \t\t\t          &lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t          &lt;executable&gt;${java.home}&lt;/executable&gt;\r\n    \t\t\t\t   &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\r\n    \t\t\t\t   &lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t   &lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t       \t &lt;/configuration&gt;\r\n    \t       \t &lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>make sure java home path is correct. for my case, java home path is wrong in pom file.</p>\n\n<pre><code>  &lt;properties&gt;\n        &lt;java.home&gt;/usr/java/jdk1.8.0_45/bin/javac&lt;/java.home&gt;\n  &lt;/properties&gt;\n\n\n\n\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                      &lt;verbose&gt;true&lt;/verbose&gt;\n                      &lt;fork&gt;true&lt;/fork&gt;\n                      &lt;executable&gt;${java.home}&lt;/executable&gt;\n                   &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\n                   &lt;source&gt;1.8&lt;/source&gt;\n                   &lt;target&gt;1.8&lt;/target&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7483044,"reputation":410,"user_id":5687254,"display_name":"wui"},"score":0,"creation_date":1592338329,"post_id":56963642,"comment_id":110389333,"body_markdown":"it helped me in building the swagger plugin on windows 10 successfully","body":"it helped me in building the swagger plugin on windows 10 successfully"}],"tags":[],"owner":{"account_id":13145379,"reputation":403,"user_id":9495573,"display_name":"pvma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562734701,"creation_date":1562734701,"answer_id":56963642,"question_id":42525139,"body_markdown":"I am not able to run my own build on the other suggestions here. I even tried different versions of maven-compiler-plugin: 3.1, 3.7.0, etc.\r\n\r\nI made it work adding this:\r\n\r\n    &lt;testSourceDirectory&gt;/src/test/java&lt;/testSourceDirectory&gt;\r\n\r\nI tried this approach because it seems like the /src/test/java directory is considered a java class that is why it is compiled the same time as /src/test/java. So my hunch were right in my case.\r\n\r\nMaybe it is to others too, so just try this one.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I am not able to run my own build on the other suggestions here. I even tried different versions of maven-compiler-plugin: 3.1, 3.7.0, etc.</p>\n\n<p>I made it work adding this:</p>\n\n<pre><code>&lt;testSourceDirectory&gt;/src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n\n<p>I tried this approach because it seems like the /src/test/java directory is considered a java class that is why it is compiled the same time as /src/test/java. So my hunch were right in my case.</p>\n\n<p>Maybe it is to others too, so just try this one.</p>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1680984718,"post_id":58707236,"comment_id":133987416,"body_markdown":"This cmd will do what?","body":"This cmd will do what?"},{"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"score":0,"creation_date":1681746479,"post_id":58707236,"comment_id":134102905,"body_markdown":"Yes , this command works , I had used it before putting this answer.","body":"Yes , this command works , I had used it before putting this answer."}],"tags":[],"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1572942475,"creation_date":1572942475,"answer_id":58707236,"question_id":42525139,"body_markdown":"**This is an irritating error that pops up once in a while , jotting down some steps which help:**\r\n\r\n*Writing answer from eclipse perspective as base logic will remain the\r\nsame whether done by Intellij or command line*\r\n\r\n 1. Rt click your project -&gt; Maven -&gt; Update project -&gt; Select Force\r\n    update -&gt; Click OK \r\n 2. Under properties tag , add : \r\n\r\n&gt;     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \r\n&gt;     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\n 3. In some instances, you will start seeing error as we tried force update saying ,\r\n    ***failure to transfer X dependency from Y path , resolutions will not\r\n    be reattempted , bla bla bla*** \r\n\r\n    In such case quickly fix it by cd to .m2/repository folder and run following command :\r\n\r\n&gt;     \r\n&gt;     for /r %i in (*.lastUpdated) do del %i\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p><strong>This is an irritating error that pops up once in a while , jotting down some steps which help:</strong></p>\n\n<p><em>Writing answer from eclipse perspective as base logic will remain the\nsame whether done by Intellij or command line</em></p>\n\n<ol>\n<li>Rt click your project -> Maven -> Update project -> Select Force\nupdate -> Click OK </li>\n<li>Under properties tag , add : </li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li><p>In some instances, you will start seeing error as we tried force update saying ,\n<strong><em>failure to transfer X dependency from Y path , resolutions will not\nbe reattempted , bla bla bla</em></strong> </p>\n\n<p>In such case quickly fix it by cd to .m2/repository folder and run following command :</p></li>\n</ol>\n\n<blockquote>\n<pre><code>for /r %i in (*.lastUpdated) do del %i\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617725778,"creation_date":1582128765,"answer_id":60304665,"question_id":42525139,"body_markdown":"My issues was that I was running ```mvn compile``` from a child project directory instead of the parent project.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>My issues was that I was running <code>mvn compile</code> from a child project directory instead of the parent project.</p>\n"},{"comments":[{"owner":{"account_id":7252533,"reputation":2850,"user_id":5532266,"display_name":"DevMJ"},"score":0,"creation_date":1633091335,"post_id":61137675,"comment_id":122674513,"body_markdown":"Solved my problem too. thanks","body":"Solved my problem too. thanks"},{"owner":{"account_id":12794613,"reputation":131,"user_id":9258037,"display_name":"Gurbaksh Singh"},"score":0,"creation_date":1697790567,"post_id":61137675,"comment_id":136326605,"body_markdown":"It worked for me, thanks.","body":"It worked for me, thanks."}],"tags":[],"owner":{"account_id":5159656,"reputation":4414,"user_id":4131775,"display_name":"Feiyu Zhou"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1588042938,"creation_date":1586511836,"answer_id":61137675,"question_id":42525139,"body_markdown":"If your local jdk version is 11 or 9, 10, and your project&#39;s java source/target version is 1.8, and you are using `org.projectlombok:lombok` package, then you can try to update its version to 1.16.22 or 1.18.12, like this:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nIt just solved my issue.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>If your local jdk version is 11 or 9, 10, and your project's java source/target version is 1.8, and you are using <code>org.projectlombok:lombok</code> package, then you can try to update its version to 1.16.22 or 1.18.12, like this:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.16.22&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>It just solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1598359617,"creation_date":1598359617,"answer_id":63579182,"question_id":42525139,"body_markdown":"I had the same problem, the solution was set JAVA_HOME in environment variables.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I had the same problem, the solution was set JAVA_HOME in environment variables.</p>\n"},{"tags":[],"owner":{"account_id":16294368,"reputation":161,"user_id":11767052,"display_name":"Mihai Vlasceanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605124336,"creation_date":1605124336,"answer_id":64793241,"question_id":42525139,"body_markdown":"Worked by adding this in pom.xml:\r\n\r\n    &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nEven you have SDK 13 or 14.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Worked by adding this in pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Even you have SDK 13 or 14.</p>\n"},{"comments":[{"owner":{"account_id":13352813,"reputation":91,"user_id":9637505,"display_name":"archit agarwal"},"score":0,"creation_date":1607879917,"post_id":65278419,"comment_id":115405219,"body_markdown":"&lt;plugin&gt;\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\n\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\n\t\t\t\t&lt;/configuration&gt;\n\t\t\t&lt;/plugin&gt;","body":"&lt;plugin&gt; \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt; \t\t\t\t&lt;configuration&gt; \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt; \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt; \t\t\t\t&lt;/configuration&gt; \t\t\t&lt;/plugin&gt;"}],"tags":[],"owner":{"account_id":13352813,"reputation":91,"user_id":9637505,"display_name":"archit agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607940940,"creation_date":1607879642,"answer_id":65278419,"question_id":42525139,"body_markdown":"Add the following in your pom.xml and do CTRL+S, it will automatically build the project.\r\n```\r\n&lt;plugin&gt; \r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n    &lt;version&gt;3.5.1&lt;/version&gt; \r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt; \r\n        &lt;target&gt;1.8&lt;/target&gt; \r\n    &lt;/configuration&gt; \r\n&lt;/plugin&gt;\r\n```\r\nNow click on Run as &gt;Maven Test.\r\n\r\nThis error will definitely get solved.\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Add the following in your pom.xml and do CTRL+S, it will automatically build the project.</p>\n<pre><code>&lt;plugin&gt; \n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n    &lt;version&gt;3.5.1&lt;/version&gt; \n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt; \n        &lt;target&gt;1.8&lt;/target&gt; \n    &lt;/configuration&gt; \n&lt;/plugin&gt;\n</code></pre>\n<p>Now click on Run as &gt;Maven Test.</p>\n<p>This error will definitely get solved.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609555461,"creation_date":1609555461,"answer_id":65535605,"question_id":42525139,"body_markdown":"# `&lt;maven.compiler.release&gt;` (not `source` &amp; `target`)\r\n\r\nSeveral of the other Answers show `&lt;maven.compiler.source&gt;` &amp; `&lt;maven.compiler.target&gt;`. Both of these are now supplanted by the simpler single element: `&lt;maven.compiler.release&gt;`.\r\n\r\n```xml\r\n&lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nSo this:\r\n\r\n```xml\r\n  &lt;!--old-school--&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\n…becomes:\r\n\r\n```xml\r\n  &lt;!--modern--&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nSee Question, [*“maven.compiler.release” as an replacement for source and target?*](https://stackoverflow.com/q/59049980/642706)","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<h1><code>&lt;maven.compiler.release&gt;</code> (not <code>source</code> &amp; <code>target</code>)</h1>\n<p>Several of the other Answers show <code>&lt;maven.compiler.source&gt;</code> &amp; <code>&lt;maven.compiler.target&gt;</code>. Both of these are now supplanted by the simpler single element: <code>&lt;maven.compiler.release&gt;</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>So this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!--old-school--&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>…becomes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!--modern--&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.release&gt;15&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>See Question, <a href=\"https://stackoverflow.com/q/59049980/642706\"><em>“maven.compiler.release” as an replacement for source and target?</em></a></p>\n"},{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623925104,"creation_date":1621255025,"answer_id":67569804,"question_id":42525139,"body_markdown":"Go to: File -&gt; Project Structure -&gt; Project -&gt; Switch Project SDK &amp; Project language level to Java version 1.8\r\n\r\nHere is example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1892y.png","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Go to: File -&gt; Project Structure -&gt; Project -&gt; Switch Project SDK &amp; Project language level to Java version 1.8</p>\n<p>Here is example:</p>\n<p><a href=\"https://i.stack.imgur.com/1892y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1892y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629143219,"creation_date":1629138453,"answer_id":68807632,"question_id":42525139,"body_markdown":"For me it seemed to be all the answers on this page, plus the right JDK. I added the properties:\r\n\r\n    \t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\nand the JDK 1.8 plug-in pointing to my open JDK from Redhat:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;executable&gt;C:\\java\\java-1.8.0-openjdk\\bin\\javac.exe&lt;/executable&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nand ran\r\n\r\n    mvn clean verify\r\n\r\nand got build success. Yay.\r\n\r\nEdit:\r\nI think this is actually what made the difference: https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>For me it seemed to be all the answers on this page, plus the right JDK. I added the properties:</p>\n<pre><code>    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>and the JDK 1.8 plug-in pointing to my open JDK from Redhat:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;executable&gt;C:\\java\\java-1.8.0-openjdk\\bin\\javac.exe&lt;/executable&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>and ran</p>\n<pre><code>mvn clean verify\n</code></pre>\n<p>and got build success. Yay.</p>\n<p>Edit:\nI think this is actually what made the difference: <a href=\"https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/\" rel=\"nofollow noreferrer\">https://mkyong.com/eclipse/eclipse-ide-no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-rather-than-a-jdk/</a></p>\n"},{"tags":[],"owner":{"account_id":6756373,"reputation":138,"user_id":5204623,"display_name":"Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629238839,"creation_date":1629238839,"answer_id":68824633,"question_id":42525139,"body_markdown":"In my case, I set the JAVA_HOME correctly but still had problem for hours!\r\nFinally I found out that I had settings.xml in .m2 directory and the java home was set there and pointed to another path. I ran the following command to find out what java path the maven is using:\r\n\r\n    mvn clean install -X | grep -i &quot;executable&quot;\r\n\r\nThen I corrected the java home path in the settings.xml in .m2 directory and problem solved!","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, I set the JAVA_HOME correctly but still had problem for hours!\nFinally I found out that I had settings.xml in .m2 directory and the java home was set there and pointed to another path. I ran the following command to find out what java path the maven is using:</p>\n<pre><code>mvn clean install -X | grep -i &quot;executable&quot;\n</code></pre>\n<p>Then I corrected the java home path in the settings.xml in .m2 directory and problem solved!</p>\n"},{"tags":[],"owner":{"display_name":"user1853517"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641398498,"creation_date":1641398498,"answer_id":70595923,"question_id":42525139,"body_markdown":"Note: if you have your project under File-&gt;Project Structure setup for one specific version of Java and you have your Pom.xml setup for a different version of Java, you will get this error.   For example, running Java 8 under Project Structure and Java 11 in your pom.xml.","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Note: if you have your project under File-&gt;Project Structure setup for one specific version of Java and you have your Pom.xml setup for a different version of Java, you will get this error.   For example, running Java 8 under Project Structure and Java 11 in your pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654626097,"creation_date":1654626097,"answer_id":72535918,"question_id":42525139,"body_markdown":"I have tried to solve it manually many times, but every time error occurs in maven.\r\n\r\nLast I left it to maven to solve this,\r\n\r\nFirst use Maven clean,\r\n\r\n    Right-click on project -&gt; Run as -&gt; Maven Clean\r\n\r\nSecond use Maven Install,\r\n\r\n    Right-click on project -&gt; Run as -&gt; Maven Install\r\n\r\nThird use Maven Update,\r\n\r\n    Right-click on project -&gt; Maven -&gt; Update Project\r\n\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I have tried to solve it manually many times, but every time error occurs in maven.</p>\n<p>Last I left it to maven to solve this,</p>\n<p>First use Maven clean,</p>\n<pre><code>Right-click on project -&gt; Run as -&gt; Maven Clean\n</code></pre>\n<p>Second use Maven Install,</p>\n<pre><code>Right-click on project -&gt; Run as -&gt; Maven Install\n</code></pre>\n<p>Third use Maven Update,</p>\n<pre><code>Right-click on project -&gt; Maven -&gt; Update Project\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655681426,"creation_date":1655681426,"answer_id":72680967,"question_id":42525139,"body_markdown":"For Java 11 this plugin should work.\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>For Java 11 this plugin should work.</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380223,"creation_date":1659380223,"answer_id":73198356,"question_id":42525139,"body_markdown":"In my case, it was because I had set the `&lt;packaging&gt;` to `war` instead of `jar`\r\nin my pom.xml while using javafx.\r\n```xml\r\n&lt;packaging&gt;jar&lt;/packaging&gt;\r\n```","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>In my case, it was because I had set the <code>&lt;packaging&gt;</code> to <code>war</code> instead of <code>jar</code>\nin my pom.xml while using javafx.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663562235,"creation_date":1663562235,"answer_id":73768559,"question_id":42525139,"body_markdown":"Try to restart you IDE and exec mvn clean.\r\nAnd setting jdk full path in maven.\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;JAVA_HOME&gt;/home/jdk-17&lt;/JAVA_HOME&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        &lt;/plugins&gt;\r\n\r\n    &lt;/build&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Try to restart you IDE and exec mvn clean.\nAnd setting jdk full path in maven.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;JAVA_HOME&gt;/home/jdk-17&lt;/JAVA_HOME&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\n            &lt;/configuration&gt;\n\n        &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22860492,"reputation":51,"user_id":17004662,"display_name":"p-wel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671226885,"creation_date":1671226885,"answer_id":74830016,"question_id":42525139,"body_markdown":"That was really painful 2 hours...\r\n\r\nHere&#39;s what worked for me (while creating a new project):\r\n\r\n- Check what Java version you&#39;ve got installed (I&#39;ve used Java 11. Older versions may not be compatible with some Maven versions)\r\n- Environment variables - check if you&#39;ve got proper Java version applied\r\n- Use https://start.spring.io/, instead of IntelliJ&#39;s initializator\r\n- Name your project in &quot;Artifact&quot; field. Do not use any uppercase letters. Do not rename any other fields\r\n [![spring.io][1]][1]\r\n- Do not rename a directory name of unpacked .zip file\r\n- IntelliJ: Ctrl+Alt+S and check if you are using proper Java version\r\n- If any changes applied -&gt; Reload Maven -&gt; Clean -&gt; Install\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pd08h.png","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>That was really painful 2 hours...</p>\n<p>Here's what worked for me (while creating a new project):</p>\n<ul>\n<li>Check what Java version you've got installed (I've used Java 11. Older versions may not be compatible with some Maven versions)</li>\n<li>Environment variables - check if you've got proper Java version applied</li>\n<li>Use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>, instead of IntelliJ's initializator</li>\n<li>Name your project in &quot;Artifact&quot; field. Do not use any uppercase letters. Do not rename any other fields\n<a href=\"https://i.stack.imgur.com/Pd08h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pd08h.png\" alt=\"spring.io\" /></a></li>\n<li>Do not rename a directory name of unpacked .zip file</li>\n<li>IntelliJ: Ctrl+Alt+S and check if you are using proper Java version</li>\n<li>If any changes applied -&gt; Reload Maven -&gt; Clean -&gt; Install</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678260707,"creation_date":1678260707,"answer_id":75670338,"question_id":42525139,"body_markdown":"Try upgrade your version of Maven, that&#39;s what fixed this for me.  \r\n\r\n    export M2_HOME=/.../java/Maven/apache-maven-3.9.0\r\n    echo | mvn -v\r\n\r\nOlder versions of mvn don&#39;t work with later versions of java","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>Try upgrade your version of Maven, that's what fixed this for me.</p>\n<pre><code>export M2_HOME=/.../java/Maven/apache-maven-3.9.0\necho | mvn -v\n</code></pre>\n<p>Older versions of mvn don't work with later versions of java</p>\n"},{"tags":[],"owner":{"account_id":3800101,"reputation":21,"user_id":6463231,"display_name":"crix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686576605,"creation_date":1686576605,"answer_id":76457169,"question_id":42525139,"body_markdown":"I solved with adding this to the active profile in settings.xml\r\n\r\n    &lt;properties&gt;\r\n       &lt;JAVA_1_8_HOME&gt;c:\\Program Files\\Java\\jdk-1.8\\&lt;/JAVA_1_8_HOME&gt;\r\n    &lt;/properties&gt;","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I solved with adding this to the active profile in settings.xml</p>\n<pre><code>&lt;properties&gt;\n   &lt;JAVA_1_8_HOME&gt;c:\\Program Files\\Java\\jdk-1.8\\&lt;/JAVA_1_8_HOME&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092151,"favorite_count":0,"down_vote_count":1,"up_vote_count":133,"answer_count":32,"score":132,"last_activity_date":1686576605,"creation_date":1488351378,"question_id":42525139,"body_markdown":"I have a maven project forked and cloned from a git repo onto my eclipse. It is build on Java 8. The first thing i do is perform a    \r\n\r\n    mvn clean install\r\n\r\nBut I get following failure message:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\r\n    [INFO] Deleting /Users/vshukla/git/Prism/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\r\n      (use -source 7 or higher to enable diamond operator)\r\n    [INFO] 3 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.266 s\r\n    [INFO] Finished at: 2017-03-01T12:11:27+05:30\r\n    [INFO] Final Memory: 13M/309M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\r\n    [ERROR] (use -source 7 or higher to enable diamond operator)\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1]   http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nHowever, below is the build path details of the project which clearly has JRE - 8 set up:\r\n[![build path][1]][1]\r\n\r\nand the compilation set up:\r\n\r\n[![Compliance level][2]][2]\r\n\r\nNo matter how many times I build the project, i get the same error. Even after cleaning the project and refreshing it from eclipse doesn&#39;t help. Please guide.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nAfter adding the properties to set maven compiler plugin\r\n\r\n    &lt;properties&gt;\r\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n, \r\n\r\nam getting the below error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\r\n    [INFO] Deleting /Users/vshukla/git/Prism/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [WARNING] COMPILATION WARNING : \r\n    [INFO] -------------------------------------------------------------\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java uses or overrides a deprecated API.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:deprecation for details.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Some input files use unchecked or unsafe operations.\r\n    [WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:unchecked for details.\r\n    [INFO] 4 warnings \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\r\n      symbol: class Application\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\r\n      symbol: variable Application\r\n    [INFO] 3 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.591 s\r\n    [INFO] Finished at: 2017-03-01T13:09:47+05:30\r\n    [INFO] Final Memory: 21M/347M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\r\n    [ERROR] symbol: class Application\r\n    [ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\r\n    [ERROR] symbol: variable Application\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nAnd here is the code snippet giving the compilation error from MainUITabbed class:\r\n\r\n    import com.apple.eawt.Application;\r\n    public static void main(String[] args) {\r\n    \tEventQueue.invokeLater(new Runnable() {\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tApplication application = Application.getApplication(); // line 93\r\n    \t\t\t\r\n    \t\t\t\tImageIcon imgicon = new ImageIcon(getClass().getResource(\r\n    \t\t\t\t\t\t&quot;ICON.jpg&quot;));\r\n    \t\t\t\tImage img = imgicon.getImage();\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\tapplication.setDockIconImage(img);\r\n    \t\t\t\t\r\n    \t\t\t\tMainUITabbed frame = new MainUITabbed();\r\n    \t\t\t\tframe.setVisible(true);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    }\r\n     \r\n\r\n  [1]: https://i.stack.imgur.com/kz3U7.png\r\n  [2]: https://i.stack.imgur.com/kkZmb.png\r\n","title":"Maven build Compilation error : Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven","body":"<p>I have a maven project forked and cloned from a git repo onto my eclipse. It is build on Java 8. The first thing i do is perform a    </p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>But I get following failure message:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\n[INFO] Deleting /Users/vshukla/git/Prism/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\n  (use -source 7 or higher to enable diamond operator)\n[INFO] 3 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.266 s\n[INFO] Finished at: 2017-03-01T12:11:27+05:30\n[INFO] Final Memory: 13M/309M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/scanUtility.java:[54,52] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/AppUtility.java:[87,86] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] /Users/vshukla/git/Prism/src/main/java/PrenPost/ComparisionUtility.java:[58,52] diamond operator is not supported in -source 1.5\n[ERROR] (use -source 7 or higher to enable diamond operator)\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1]   http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>However, below is the build path details of the project which clearly has JRE - 8 set up:\n<a href=\"https://i.stack.imgur.com/kz3U7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kz3U7.png\" alt=\"build path\"></a></p>\n\n<p>and the compilation set up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kkZmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kkZmb.png\" alt=\"Compliance level\"></a></p>\n\n<p>No matter how many times I build the project, i get the same error. Even after cleaning the project and refreshing it from eclipse doesn't help. Please guide.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>After adding the properties to set maven compiler plugin</p>\n\n<pre><code>&lt;properties&gt;\n &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>, </p>\n\n<p>am getting the below error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ Maven ---\n[INFO] Deleting /Users/vshukla/git/Prism/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ Maven ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/vshukla/git/Prism/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ Maven ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 66 source files to /Users/vshukla/git/Prism/target/classes\n[INFO] -------------------------------------------------------------\n[WARNING] COMPILATION WARNING : \n[INFO] -------------------------------------------------------------\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java uses or overrides a deprecated API.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:deprecation for details.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Some input files use unchecked or unsafe operations.\n[WARNING] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java: Recompile with -Xlint:unchecked for details.\n[INFO] 4 warnings \n[INFO] -------------------------------------------------------------\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\n  symbol: class Application\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\n  symbol: variable Application\n[INFO] 3 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.591 s\n[INFO] Finished at: 2017-03-01T13:09:47+05:30\n[INFO] Final Memory: 21M/347M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project Maven: Compilation failure: Compilation failure:\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[26,22] package com.apple.eawt does not exist\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,41] cannot find symbol\n[ERROR] symbol: class Application\n[ERROR] /Users/vshukla/git/Prism/src/main/java/main/MainUITabbed.java:[93,67] cannot find symbol\n[ERROR] symbol: variable Application\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>And here is the code snippet giving the compilation error from MainUITabbed class:</p>\n\n<pre><code>import com.apple.eawt.Application;\npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n\n\n                Application application = Application.getApplication(); // line 93\n\n                ImageIcon imgicon = new ImageIcon(getClass().getResource(\n                        \"ICON.jpg\"));\n                Image img = imgicon.getImage();\n\n\n                application.setDockIconImage(img);\n\n                MainUITabbed frame = new MainUITabbed();\n                frame.setVisible(true);\n            } catch (Exception e) {\n                e.printStackTrace();\n\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","r","excel","overwrite","r-xlsx"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1421780698,"post_id":28053185,"comment_id":44488261,"body_markdown":"Here is example, go to bottom of the article: https://danganothererror.wordpress.com/2012/02/12/write-data-frame-to-excel-file/","body":"Here is example, go to bottom of the article: <a href=\"https://danganothererror.wordpress.com/2012/02/12/write-data-frame-to-excel-file/\" rel=\"nofollow noreferrer\">danganothererror.wordpress.com/2012/02/12/&hellip;</a>"},{"owner":{"account_id":5287362,"reputation":3248,"user_id":4351030,"accept_rate":85,"display_name":"Steven"},"score":0,"creation_date":1421781270,"post_id":28053185,"comment_id":44488568,"body_markdown":"I don&#39;t think `write.xlsx()` will overwrite an existing worksheet.  Can you read the entire `.xlsx` file in and re-write all of the worksheets, including whatever the new sheet you need?","body":"I don&#39;t think <code>write.xlsx()</code> will overwrite an existing worksheet.  Can you read the entire <code>.xlsx</code> file in and re-write all of the worksheets, including whatever the new sheet you need?"},{"owner":{"account_id":474597,"reputation":20710,"user_id":884372,"accept_rate":95,"display_name":"Carl Witthoft"},"score":0,"creation_date":1421785958,"post_id":28053185,"comment_id":44491080,"body_markdown":"We don&#39;t usually support &quot;fixing&quot; things on obsolete versions of R.  Any reason you can&#39;t update to 3.1.2 and matching packages?","body":"We don&#39;t usually support &quot;fixing&quot; things on obsolete versions of R.  Any reason you can&#39;t update to 3.1.2 and matching packages?"},{"owner":{"account_id":14795440,"reputation":371,"user_id":11012216,"display_name":"David"},"score":0,"creation_date":1559559847,"post_id":28053185,"comment_id":99446659,"body_markdown":"@CarlWitthoft A few versions later, the &quot;problem&quot; still exists. It&#39;s not a bug, but a desired behaiviour that prevents you from overriding your sheets","body":"@CarlWitthoft A few versions later, the &quot;problem&quot; still exists. It&#39;s not a bug, but a desired behaiviour that prevents you from overriding your sheets"}],"answers":[{"comments":[{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":0,"creation_date":1626155946,"post_id":28561911,"comment_id":120810194,"body_markdown":"wouldn&#39;t it be easier to just use openxlsx as it provides functions to edit an existing sheet?","body":"wouldn&#39;t it be easier to just use openxlsx as it provides functions to edit an existing sheet?"}],"tags":[],"owner":{"account_id":5801494,"reputation":251,"user_id":4575534,"display_name":"solmonta"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1424177358,"creation_date":1424177358,"answer_id":28561911,"question_id":28053185,"body_markdown":"If you want to save your new dataframe in an existing excel file, you first have to load the xlsx-file:\r\n\r\n    wb &lt;- loadWorkbook(file)\r\n\r\nwhich sheets you have you&#39;ll get like this:\r\n\r\n    sheets &lt;- getSheets(wb)\r\n\r\nyou can easily remove and add (and thus replace) sheets with:\r\n\r\n    removeSheet(wb, sheetName=&quot;Sheet1&quot;)\r\n    yourSheet &lt;- createSheet(wb, sheetName=&quot;Sheet1&quot;)\r\n\r\nthan you can fill the sheets with dataframes:\r\n\r\n    addDataFrame(yourDataFrame, yourSheet, &lt;options&gt;)\r\n    addDataFrame(anotherDataFrame, yourSheet, startRow=nrow(yourDataFrame)+2)\r\n\r\nand last step is saving the whole workbook as .xlsx:\r\n\r\n    saveWorkbook(wb, file)\r\n\r\n\r\nbtw: the documentation of the xlsx-package is really good and helpful on such questions :) \r\nhttp://cran.r-project.org/web/packages/xlsx/xlsx.pdf\r\n","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>If you want to save your new dataframe in an existing excel file, you first have to load the xlsx-file:</p>\n\n<pre><code>wb &lt;- loadWorkbook(file)\n</code></pre>\n\n<p>which sheets you have you'll get like this:</p>\n\n<pre><code>sheets &lt;- getSheets(wb)\n</code></pre>\n\n<p>you can easily remove and add (and thus replace) sheets with:</p>\n\n<pre><code>removeSheet(wb, sheetName=\"Sheet1\")\nyourSheet &lt;- createSheet(wb, sheetName=\"Sheet1\")\n</code></pre>\n\n<p>than you can fill the sheets with dataframes:</p>\n\n<pre><code>addDataFrame(yourDataFrame, yourSheet, &lt;options&gt;)\naddDataFrame(anotherDataFrame, yourSheet, startRow=nrow(yourDataFrame)+2)\n</code></pre>\n\n<p>and last step is saving the whole workbook as .xlsx:</p>\n\n<pre><code>saveWorkbook(wb, file)\n</code></pre>\n\n<p>btw: the documentation of the xlsx-package is really good and helpful on such questions :) \n<a href=\"http://cran.r-project.org/web/packages/xlsx/xlsx.pdf\">http://cran.r-project.org/web/packages/xlsx/xlsx.pdf</a></p>\n"},{"comments":[{"owner":{"account_id":2604610,"reputation":2447,"user_id":2256028,"accept_rate":89,"display_name":"dckuehn"},"score":1,"creation_date":1472765606,"post_id":39280908,"comment_id":65896781,"body_markdown":"Please consider adding more details to your post.  In the event that your links change or become unavailable, your answer will not be helpful.","body":"Please consider adding more details to your post.  In the event that your links change or become unavailable, your answer will not be helpful."}],"tags":[],"owner":{"account_id":8002439,"reputation":1984,"user_id":6036809,"display_name":"David C."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472764242,"creation_date":1472764242,"answer_id":39280908,"question_id":28053185,"body_markdown":"It may be that the Java installed on your computer is incompatible with the xlsx library. The following thread discusses a similar issue with regard to the same package:\r\n[enter link description here][1]\r\n\r\n\r\nAlternatively, your issue may be solved by a different Excel-related package, such as XLConnect. See this post:\r\n[enter link description here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28325744/r-xlsx-package-error\r\n  [2]: https://stackoverflow.com/questions/27713310/r-easy-way-to-export-multiple-data-frame-to-multiple-excel-worksheets","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>It may be that the Java installed on your computer is incompatible with the xlsx library. The following thread discusses a similar issue with regard to the same package:\n<a href=\"https://stackoverflow.com/questions/28325744/r-xlsx-package-error\">enter link description here</a></p>\n\n<p>Alternatively, your issue may be solved by a different Excel-related package, such as XLConnect. See this post:\n<a href=\"https://stackoverflow.com/questions/27713310/r-easy-way-to-export-multiple-data-frame-to-multiple-excel-worksheets\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":8662781,"reputation":386,"user_id":11918475,"display_name":"Rolando Gonzales"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686576601,"creation_date":1686576601,"answer_id":76457166,"question_id":28053185,"body_markdown":"Not with R package xlsx but with the alternative R package **openxlsx**, which has an &quot;overwrite&quot; option:\r\n\r\n    library(openxlsx)\r\n    write.xlsx(yourdataframe, file = &quot;~/yourexcelfile.xlsx&quot;,\r\n    sheetName = &quot;yourexcelsheetname&quot;, overwrite = TRUE)","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>Not with R package xlsx but with the alternative R package <strong>openxlsx</strong>, which has an &quot;overwrite&quot; option:</p>\n<pre><code>library(openxlsx)\nwrite.xlsx(yourdataframe, file = &quot;~/yourexcelfile.xlsx&quot;,\nsheetName = &quot;yourexcelsheetname&quot;, overwrite = TRUE)\n</code></pre>\n"}],"owner":{"account_id":4174226,"reputation":329,"user_id":3570800,"display_name":"Filippo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29852,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1686576601,"creation_date":1421780476,"question_id":28053185,"body_markdown":"I am using  package `xlsx` Version:0.5.7 Date: 2014-08-01. in R version 3.0.1 (2013-05-16) -- &quot;Good Sport&quot; Platform: i386-w64-mingw32/i386 (32-bit).\r\n\r\nI have an xlsx file with at least 2 sheets (say A and B). I need to read data from A, edit them and save them in B. This has to be done on a periodical base.\r\n\r\nI am able to read data from A with `read.xlsx`. After editing the data frame I want to save it in an existing sheet B in the same xlsx file. \r\n\r\nI try with this line \r\n\r\n    write.xlsx(down, paste0(root,&#39;/registration reports/registration complete_WK.xlsx&#39;), sheet=&quot;data_final&quot;, col.names=T, row.names=F, append=T, showNA=F)\r\n\r\nbut it give me this error:\r\n\r\n\r\n    Error in `.jcall(wb, &quot;Lorg/apache/poi/ss/usermodel/Sheet;&quot;, &quot;createSheet&quot;, ` : \r\n      java.lang.IllegalArgumentException: The workbook already contains a sheet of this name\r\n\r\nI need to replace that existing sheet multiple times. How can I do that?  \r\n\r\n","title":"Using write.xlsx to replace an existing sheet with R package xlsx","body":"<p>I am using  package <code>xlsx</code> Version:0.5.7 Date: 2014-08-01. in R version 3.0.1 (2013-05-16) -- &quot;Good Sport&quot; Platform: i386-w64-mingw32/i386 (32-bit).</p>\n<p>I have an xlsx file with at least 2 sheets (say A and B). I need to read data from A, edit them and save them in B. This has to be done on a periodical base.</p>\n<p>I am able to read data from A with <code>read.xlsx</code>. After editing the data frame I want to save it in an existing sheet B in the same xlsx file.</p>\n<p>I try with this line</p>\n<pre><code>write.xlsx(down, paste0(root,'/registration reports/registration complete_WK.xlsx'), sheet=&quot;data_final&quot;, col.names=T, row.names=F, append=T, showNA=F)\n</code></pre>\n<p>but it give me this error:</p>\n<pre><code>Error in `.jcall(wb, &quot;Lorg/apache/poi/ss/usermodel/Sheet;&quot;, &quot;createSheet&quot;, ` : \n  java.lang.IllegalArgumentException: The workbook already contains a sheet of this name\n</code></pre>\n<p>I need to replace that existing sheet multiple times. How can I do that?</p>\n"},{"tags":["java","android","debugging","android-camera"],"comments":[{"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"score":1,"creation_date":1422512803,"post_id":28207123,"comment_id":44781296,"body_markdown":"updated, added source code.","body":"updated, added source code."},{"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"score":0,"creation_date":1422515882,"post_id":28207123,"comment_id":44782635,"body_markdown":"there can be only one connection at time. that&#39;s why if session is connected, then socket will be closed. It&#39;s wifi p2p connection. but anr is showing even if i remove this code and connect via bluetooth","body":"there can be only one connection at time. that&#39;s why if session is connected, then socket will be closed. It&#39;s wifi p2p connection. but anr is showing even if i remove this code and connect via bluetooth"},{"owner":{"account_id":9910635,"reputation":762,"user_id":7337499,"accept_rate":100,"display_name":"Ebrahim Karimi"},"score":0,"creation_date":1686078888,"post_id":28207123,"comment_id":134749346,"body_markdown":"I&#39;m facing the same problem please update your pastebin link","body":"I&#39;m facing the same problem please update your pastebin link"}],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686576440,"creation_date":1686576440,"answer_id":76457148,"question_id":28207123,"body_markdown":"Try to use the JConsole -&gt; Threads (the tab) -&gt; Detect deadlock (button on bottom left). The thread list on the side may also be an easier way to detect the threads that may be conflicting.","title":"Debugging Android ANR. The Worst","body":"<p>Try to use the JConsole -&gt; Threads (the tab) -&gt; Detect deadlock (button on bottom left). The thread list on the side may also be an easier way to detect the threads that may be conflicting.</p>\n"}],"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1686576440,"creation_date":1422506427,"question_id":28207123,"body_markdown":"After some updates, my applications started to show ANR dialog. Specifically it&#39;s showing it once per 30 seconds and doesn&#39;t stop before process is killed. I&#39;ve reviewed whole code and didn&#39;t find UI file/network access. So i&#39;ve googled and found out that it could be a deadlock. i&#39;ve pulled traces.txt file from device, but this information gave me nothing. There is traces:\r\n\r\n    ----- pid 15756 at 2015-01-28 17:53:32 -----\r\n    Cmd line: com.sapphire.microphone:CameraServiceProcess\r\n    ABI: arm\r\n    Build type: optimized\r\n    Loaded classes: 3647 allocated classes\r\n    Intern table: 4694 strong; 312 weak\r\n    JNI: CheckJNI is on; globals=249 (plus 1 weak)\r\n    Libraries: /data/app/com.sapphire.microphone-1/lib/arm/libspeex.so /system/lib/libandroid.so /system/lib/libaudioeffect_jni.so /system/lib/libcompiler_rt.so /system/lib/libjavacrypto.so /system/lib/libjnigraphics.so /system/lib/libmedia_jni.so /system/lib/librs_jni.so /system/lib/libsoundpool.so /system/lib/libwebviewchromium_loader.so libjavacore.so (11)\r\n    Heap: 12% free, 18MB/21MB; 51428 objects\r\n    Dumping cumulative Gc timings\r\n    Start Dumping histograms for 1 iterations for sticky concurrent mark sweep\r\n    MarkRootsCheckpoint:\tSum: 7.194ms 99% C.I. 0.362ms-6.832ms Avg: 3.597ms Max: 6.832ms\r\n    ScanGrayImageSpaceObjects:\tSum: 2.213ms 99% C.I. 0.095ms-2.118ms Avg: 1.106ms Max: 2.118ms\r\n    FreeList:\tSum: 2.008ms 99% C.I. 112us-178us Avg: 167.333us Max: 178us\r\n    MarkConcurrentRoots:\tSum: 1.711ms 99% C.I. 6us-1705us Avg: 855.500us Max: 1705us\r\n    ScanGrayZygoteSpaceObjects:\tSum: 1.048ms 99% C.I. 137us-911us Avg: 524us Max: 911us\r\n    ScanGrayAllocSpaceObjects:\tSum: 929us 99% C.I. 2us-835us Avg: 232.250us Max: 847us\r\n    ZygoteModUnionClearCards:\tSum: 477us 99% C.I. 233us-244us Avg: 238.500us Max: 244us\r\n    MarkingPhase:\tSum: 400us 99% C.I. 400us-400us Avg: 400us Max: 400us\r\n    SweepArray:\tSum: 360us 99% C.I. 360us-360us Avg: 360us Max: 360us\r\n    ImageModUnionClearCards:\tSum: 288us 99% C.I. 119us-169us Avg: 144us Max: 169us\r\n    AllocSpaceClearCards:\tSum: 225us 99% C.I. 2us-114us Avg: 56.250us Max: 114us\r\n    (Paused)ScanGrayZygoteSpaceObjects:\tSum: 135us 99% C.I. 135us-135us Avg: 135us Max: 135us\r\n    ReMarkRoots:\tSum: 133us 99% C.I. 133us-133us Avg: 133us Max: 133us\r\n    (Paused)ScanGrayImageSpaceObjects:\tSum: 92us 99% C.I. 92us-92us Avg: 92us Max: 92us\r\n    (Paused)ScanGrayAllocSpaceObjects:\tSum: 71us 99% C.I. 2us-69us Avg: 35.500us Max: 69us\r\n    MarkNonThreadRoots:\tSum: 58us 99% C.I. 20us-38us Avg: 29us Max: 38us\r\n    FinishPhase:\tSum: 52us 99% C.I. 52us-52us Avg: 52us Max: 52us\r\n    SweepSystemWeaks:\tSum: 38us 99% C.I. 38us-38us Avg: 38us Max: 38us\r\n    (Paused)PausePhase:\tSum: 26us 99% C.I. 26us-26us Avg: 26us Max: 26us\r\n    ProcessCards:\tSum: 21us 99% C.I. 8us-13us Avg: 10.500us Max: 13us\r\n    PreCleanCards:\tSum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\r\n    ProcessMarkStack:\tSum: 11us 99% C.I. 0.250us-8us Avg: 2.750us Max: 8us\r\n    EnqueueFinalizerReferences:\tSum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\r\n    BindBitmaps:\tSum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\r\n    InitializePhase:\tSum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\r\n    MarkRoots:\tSum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\r\n    ProcessReferences:\tSum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\r\n    SwapStacks:\tSum: 3us 99% C.I. 3us-3us Avg: 3us Max: 3us\r\n    FindDefaultSpaceBitmap:\tSum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\r\n    (Paused)ProcessMarkStack:\tSum: 1us 99% C.I. 1us-1us Avg: 1us Max: 1us\r\n    Done Dumping histograms \r\n    sticky concurrent mark sweep paused:\tSum: 510us 99% C.I. 510us-510us Avg: 510us Max: 510us\r\n    sticky concurrent mark sweep total time: 17.647ms mean time: 17.647ms\r\n    sticky concurrent mark sweep freed: 11846 objects with total size 5MB\r\n    sticky concurrent mark sweep throughput: 696824/s / 304MB/s\r\n    Start Dumping histograms for 1 iterations for marksweep + semispace\r\n    ProcessMarkStack:\tSum: 8.984ms 99% C.I. 0.001ms-8.911ms Avg: 4.492ms Max: 8.983ms\r\n    ClearCardTable:\tSum: 6.088ms 99% C.I. 6.088ms-6.088ms Avg: 6.088ms Max: 6.088ms\r\n    MarkRoots:\tSum: 2.112ms 99% C.I. 2.112ms-2.112ms Avg: 2.112ms Max: 2.112ms\r\n    UpdateAndMarkImageModUnionTable:\tSum: 1.172ms 99% C.I. 1.172ms-1.172ms Avg: 1.172ms Max: 1.172ms\r\n    SweepLargeObjects:\tSum: 338us 99% C.I. 338us-338us Avg: 338us Max: 338us\r\n    RevokeAllThreadLocalBuffers:\tSum: 224us 99% C.I. 106us-118us Avg: 112us Max: 118us\r\n    ZygoteModUnionClearCards:\tSum: 171us 99% C.I. 171us-171us Avg: 171us Max: 171us\r\n    MarkStackAsLive:\tSum: 134us 99% C.I. 134us-134us Avg: 134us Max: 134us\r\n    ImageModUnionClearCards:\tSum: 120us 99% C.I. 120us-120us Avg: 120us Max: 120us\r\n    FinishPhase:\tSum: 118us 99% C.I. 118us-118us Avg: 118us Max: 118us\r\n    UpdateAndMarkZygoteModUnionTable:\tSum: 117us 99% C.I. 117us-117us Avg: 117us Max: 117us\r\n    AllocSpaceClearCards:\tSum: 86us 99% C.I. 1us-77us Avg: 28.666us Max: 77us\r\n    SweepSystemWeaks:\tSum: 50us 99% C.I. 50us-50us Avg: 50us Max: 50us\r\n    SweepAllocSpace:\tSum: 17us 99% C.I. 17us-17us Avg: 17us Max: 17us\r\n    RevokeAllThreadLocalAllocationStacks:\tSum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\r\n    MarkReachableObjects:\tSum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\r\n    ProcessCards:\tSum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\r\n    (Paused)EnqueueFinalizerReferences:\tSum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\r\n    ReclaimPhase:\tSum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\r\n    (Paused)ProcessReferences:\tSum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\r\n    InitializePhase:\tSum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\r\n    PostGcVerificationPaused:\tSum: 0 99% C.I. 0ns-0ns Avg: 0ns Max: 0ns\r\n    Done Dumping histograms \r\n    marksweep + semispace paused:\tSum: 20.169ms 99% C.I. 20.169ms-20.169ms Avg: 20.169ms Max: 20.169ms\r\n    marksweep + semispace total time: 19.822ms mean time: 19.822ms\r\n    marksweep + semispace freed: 3469 objects with total size 1548KB\r\n    marksweep + semispace throughput: 182579/s / 79MB/s\r\n    Total time spent in GC: 37.469ms\r\n    Mean GC size throughput: 2GB/s\r\n    Mean GC object throughput: 5.86439e+07 objects/s\r\n    Total number of allocations 2248758\r\n    Total bytes allocated 129MB\r\n    Free memory 2MB\r\n    Free memory until GC 2MB\r\n    Free memory until OOME 493MB\r\n    Total memory 21MB\r\n    Max memory 512MB\r\n    Total mutator paused time: 20.679ms\r\n    Total time waiting for GC to complete: 3.583ms\r\n    \r\n    DALVIK THREADS (16):\r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x734f2ec0 self=0xb5007800\r\n      | sysTid=15756 nice=0 cgrp=apps sched=0/0 handle=0xb6f69ec8\r\n      | state=S schedstat=( 51635212 97304004 262 ) utm=3 stm=2 core=0 HZ=100\r\n      | stack=0xbe033000-0xbe035000 stackSize=8MB\r\n      | held mutexes=\r\n      native: #00 pc 0003a97c  /system/lib/libc.so (__epoll_pwait+20)\r\n      native: #01 pc 00014571  /system/lib/libc.so (epoll_pwait+26)\r\n      native: #02 pc 0001457f  /system/lib/libc.so (epoll_wait+6)\r\n      native: #03 pc 000123c3  /system/lib/libutils.so (android::Looper::pollInner(int)+98)\r\n      native: #04 pc 000125ed  /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+92)\r\n      native: #05 pc 0007fb61  /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)\r\n      native: #06 pc 000b0da7  /data/dalvik-cache/arm/system@framework@boot.oat (Java_android_os_MessageQueue_nativePollOnce__JI+102)\r\n      at android.os.MessageQueue.nativePollOnce(Native method)\r\n      at android.os.MessageQueue.next(MessageQueue.java:143)\r\n      at android.os.Looper.loop(Looper.java:122)\r\n      at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n      at java.lang.reflect.Method.invoke!(Native method)\r\n      at java.lang.reflect.Method.invoke(Method.java:372)\r\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n    \r\n    &quot;Heap thread pool worker thread 0&quot; prio=5 tid=2 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xaff0e400\r\n      | sysTid=15762 nice=0 cgrp=apps sched=0/0 handle=0xb50e9e80\r\n      | state=S schedstat=( 906615 183647 10 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb487f000-0xb4881000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Heap thread pool worker thread 1&quot; prio=5 tid=3 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xafc0e400\r\n      | sysTid=15763 nice=0 cgrp=apps sched=0/0 handle=0xb50ea100\r\n      | state=S schedstat=( 721771 777396 6 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb477d000-0xb477f000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Heap thread pool worker thread 2&quot; prio=5 tid=4 Native (still starting up)\r\n      | group=&quot;&quot; sCount=1 dsCount=0 obj=0x0 self=0xaf90e400\r\n      | sysTid=15764 nice=0 cgrp=apps sched=0/0 handle=0xb50ea380\r\n      | state=S schedstat=( 721614 1358022 4 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb467d000-0xb467f000 stackSize=1020KB\r\n      | held mutexes=\r\n      native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\r\n      native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\r\n      native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\r\n      native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\r\n      native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Signal Catcher&quot; daemon prio=5 tid=5 Runnable\r\n      | group=&quot;system&quot; sCount=0 dsCount=0 obj=0x12c07080 self=0xaf60e400\r\n      | sysTid=15765 nice=0 cgrp=apps sched=0/0 handle=0xb50ea600\r\n      | state=R schedstat=( 246452811 74434949 189 ) utm=13 stm=11 core=0 HZ=100\r\n      | stack=0xb456f000-0xb4571000 stackSize=1012KB\r\n      | held mutexes= &quot;thread list lock&quot; &quot;mutator lock&quot;(exclusive held)\r\n      native: #00 pc 00004c58  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int, ucontext*)+23)\r\n      native: #01 pc 000034c1  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int, ucontext*)+8)\r\n      native: #02 pc 002526ad  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, char const*, art::mirror::ArtMethod*)+84)\r\n      native: #03 pc 0023618b  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;) const+162)\r\n      native: #04 pc 0023f585  /system/lib/libart.so (art::ThreadList::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+160)\r\n      native: #05 pc 00224563  /system/lib/libart.so (art::Runtime::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+74)\r\n      native: #06 pc 0022a803  /system/lib/libart.so (art::SignalCatcher::HandleSigQuit()+782)\r\n      native: #07 pc 0022aeeb  /system/lib/libart.so (art::SignalCatcher::Run(void*)+338)\r\n      native: #08 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #09 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;JDWP&quot; daemon prio=5 tid=6 WaitingInMainDebuggerLoop\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c070e0 self=0xaf30e400\r\n      | sysTid=15766 nice=0 cgrp=apps sched=0/0 handle=0xb50ea880\r\n      | state=S schedstat=( 1983127 2565363 18 ) utm=0 stm=0 core=0 HZ=100\r\n      | stack=0xb446b000-0xb446d000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 000395b4  /system/lib/libc.so (__pselect6+20)\r\n      native: #01 pc 00015abb  /system/lib/libc.so (select+60)\r\n      native: #02 pc 00296d8f  /system/lib/libart.so (art::JDWP::JdwpAdbState::ProcessIncoming()+202)\r\n      native: #03 pc 00195f95  /system/lib/libart.so (art::JDWP::JdwpState::Run()+356)\r\n      native: #04 pc 001974e1  /system/lib/libart.so (art::JDWP::StartJdwpThread(void*)+16)\r\n      native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;ReferenceQueueDaemon&quot; daemon prio=5 tid=7 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07140 self=0xac3b1400\r\n      | sysTid=15767 nice=0 cgrp=apps sched=0/0 handle=0xb50eab00\r\n      | state=S schedstat=( 2369793 692187 57 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb4361000-0xb4363000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\r\n      at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:133)\r\n      - locked &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;FinalizerWatchdogDaemon&quot; daemon prio=5 tid=8 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c071a0 self=0xac3b1c00\r\n      | sysTid=15769 nice=0 cgrp=apps sched=0/0 handle=0xac3b2080\r\n      | state=S schedstat=( 1485313 5042237 30 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb3ffa000-0xb3ffc000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\r\n      at java.lang.Daemons$FinalizerWatchdogDaemon.waitForObject(Daemons.java:239)\r\n      - locked &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\r\n      at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:211)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;FinalizerDaemon&quot; daemon prio=5 tid=9 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07200 self=0xac3b1800\r\n      | sysTid=15768 nice=0 cgrp=apps sched=0/0 handle=0xb50ead80\r\n      | state=S schedstat=( 3546042 3716407 27 ) utm=0 stm=0 core=1 HZ=100\r\n      | stack=0xb40fe000-0xb4100000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\r\n      at java.lang.Object.wait(Object.java:422)\r\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:101)\r\n      - locked &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\r\n      at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:72)\r\n      at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;HeapTrimmerDaemon&quot; daemon prio=5 tid=10 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c07260 self=0xac87b800\r\n      | sysTid=15770 nice=0 cgrp=apps sched=0/0 handle=0xac3b2300\r\n      | state=S schedstat=( 82113595 48777811 138 ) utm=3 stm=5 core=1 HZ=100\r\n      | stack=0xb3bfe000-0xb3c00000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\r\n      at java.lang.Daemons$HeapTrimmerDaemon.run(Daemons.java:310)\r\n      - locked &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;GCDaemon&quot; daemon prio=5 tid=11 Waiting\r\n      | group=&quot;system&quot; sCount=1 dsCount=0 obj=0x12c072c0 self=0xac87bc00\r\n      | sysTid=15771 nice=0 cgrp=apps sched=0/0 handle=0xac3b2580\r\n      | state=S schedstat=( 42271611 38934533 101 ) utm=3 stm=1 core=1 HZ=100\r\n      | stack=0xb3afa000-0xb3afc000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\r\n      at java.lang.Daemons$GCDaemon.run(Daemons.java:341)\r\n      - locked &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;Binder_1&quot; prio=5 tid=12 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07320 self=0xaf806400\r\n      | sysTid=15772 nice=0 cgrp=apps sched=0/0 handle=0xac3b2800\r\n      | state=S schedstat=( 14070157 51598488 38 ) utm=1 stm=0 core=0 HZ=100\r\n      | stack=0xafe04000-0xafe06000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Binder_2&quot; prio=5 tid=13 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07380 self=0xa4106400\r\n      | sysTid=15774 nice=0 cgrp=apps sched=0/0 handle=0xaf826080\r\n      | state=S schedstat=( 12279324 16626666 31 ) utm=0 stm=1 core=2 HZ=100\r\n      | stack=0xaf504000-0xaf506000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;Binder_3&quot; prio=5 tid=14 Native\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c073e0 self=0xa3f06400\r\n      | sysTid=15775 nice=0 cgrp=apps sched=0/0 handle=0xa4126080\r\n      | state=S schedstat=( 8225574 1019739 17 ) utm=0 stm=0 core=0 HZ=100\r\n      | stack=0xa4004000-0xa4006000 stackSize=1012KB\r\n      | held mutexes=\r\n      native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\r\n      native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\r\n      native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\r\n      native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\r\n      native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\r\n      native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\r\n      native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\r\n      native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\r\n      native: #08 pc 00010045  /system/lib/libutils.so (???)\r\n      native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\r\n      native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\r\n      (no managed stack frames)\r\n    \r\n    &quot;pool-1-thread-1&quot; prio=5 tid=15 Waiting\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07440 self=0xac87c400\r\n      | sysTid=15785 nice=0 cgrp=apps sched=0/0 handle=0xac3b2d00\r\n      | state=S schedstat=( 846302 2156146 3 ) utm=0 stm=0 core=3 HZ=100\r\n      | stack=0xa35e1000-0xa35e3000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x2f7a0a5e&gt; (a java.lang.Object)\r\n      at java.lang.Thread.parkFor(Thread.java:1220)\r\n      - locked &lt;0x2f7a0a5e&gt; (a java.lang.Object)\r\n      at sun.misc.Unsafe.park(Unsafe.java:299)\r\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\r\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\r\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\r\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    &quot;ActionsThreadPool-Thread&quot; prio=4 tid=17 Waiting\r\n      | group=&quot;main&quot; sCount=1 dsCount=0 obj=0x12c07500 self=0xac3a2800\r\n      | sysTid=15787 nice=0 cgrp=apps sched=0/0 handle=0xac3b3200\r\n      | state=S schedstat=( 295066775 148488168 375 ) utm=25 stm=4 core=1 HZ=100\r\n      | stack=0xa2ffe000-0xa3000000 stackSize=1036KB\r\n      | held mutexes=\r\n      at java.lang.Object.wait!(Native method)\r\n      - waiting on &lt;0x08d33e3f&gt; (a java.lang.Object)\r\n      at java.lang.Thread.parkFor(Thread.java:1220)\r\n      - locked &lt;0x08d33e3f&gt; (a java.lang.Object)\r\n      at sun.misc.Unsafe.park(Unsafe.java:299)\r\n      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\r\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\r\n      at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\r\n      at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n      at java.lang.Thread.run(Thread.java:818)\r\n    \r\n    ----- end 15756 -----\r\n\r\n\r\nThe application is capturing video from camera and audio stream from socket (TCP or Bluetooth) simultaneously. ANR is showing up when I start to capture.\r\n\r\nThe code of service, that receives audio data is there:\r\nhttp://pastebin.com/HRJDQwfe","title":"Debugging Android ANR. The Worst","body":"<p>After some updates, my applications started to show ANR dialog. Specifically it's showing it once per 30 seconds and doesn't stop before process is killed. I've reviewed whole code and didn't find UI file/network access. So i've googled and found out that it could be a deadlock. i've pulled traces.txt file from device, but this information gave me nothing. There is traces:</p>\n\n<pre><code>----- pid 15756 at 2015-01-28 17:53:32 -----\nCmd line: com.sapphire.microphone:CameraServiceProcess\nABI: arm\nBuild type: optimized\nLoaded classes: 3647 allocated classes\nIntern table: 4694 strong; 312 weak\nJNI: CheckJNI is on; globals=249 (plus 1 weak)\nLibraries: /data/app/com.sapphire.microphone-1/lib/arm/libspeex.so /system/lib/libandroid.so /system/lib/libaudioeffect_jni.so /system/lib/libcompiler_rt.so /system/lib/libjavacrypto.so /system/lib/libjnigraphics.so /system/lib/libmedia_jni.so /system/lib/librs_jni.so /system/lib/libsoundpool.so /system/lib/libwebviewchromium_loader.so libjavacore.so (11)\nHeap: 12% free, 18MB/21MB; 51428 objects\nDumping cumulative Gc timings\nStart Dumping histograms for 1 iterations for sticky concurrent mark sweep\nMarkRootsCheckpoint:    Sum: 7.194ms 99% C.I. 0.362ms-6.832ms Avg: 3.597ms Max: 6.832ms\nScanGrayImageSpaceObjects:  Sum: 2.213ms 99% C.I. 0.095ms-2.118ms Avg: 1.106ms Max: 2.118ms\nFreeList:   Sum: 2.008ms 99% C.I. 112us-178us Avg: 167.333us Max: 178us\nMarkConcurrentRoots:    Sum: 1.711ms 99% C.I. 6us-1705us Avg: 855.500us Max: 1705us\nScanGrayZygoteSpaceObjects: Sum: 1.048ms 99% C.I. 137us-911us Avg: 524us Max: 911us\nScanGrayAllocSpaceObjects:  Sum: 929us 99% C.I. 2us-835us Avg: 232.250us Max: 847us\nZygoteModUnionClearCards:   Sum: 477us 99% C.I. 233us-244us Avg: 238.500us Max: 244us\nMarkingPhase:   Sum: 400us 99% C.I. 400us-400us Avg: 400us Max: 400us\nSweepArray: Sum: 360us 99% C.I. 360us-360us Avg: 360us Max: 360us\nImageModUnionClearCards:    Sum: 288us 99% C.I. 119us-169us Avg: 144us Max: 169us\nAllocSpaceClearCards:   Sum: 225us 99% C.I. 2us-114us Avg: 56.250us Max: 114us\n(Paused)ScanGrayZygoteSpaceObjects: Sum: 135us 99% C.I. 135us-135us Avg: 135us Max: 135us\nReMarkRoots:    Sum: 133us 99% C.I. 133us-133us Avg: 133us Max: 133us\n(Paused)ScanGrayImageSpaceObjects:  Sum: 92us 99% C.I. 92us-92us Avg: 92us Max: 92us\n(Paused)ScanGrayAllocSpaceObjects:  Sum: 71us 99% C.I. 2us-69us Avg: 35.500us Max: 69us\nMarkNonThreadRoots: Sum: 58us 99% C.I. 20us-38us Avg: 29us Max: 38us\nFinishPhase:    Sum: 52us 99% C.I. 52us-52us Avg: 52us Max: 52us\nSweepSystemWeaks:   Sum: 38us 99% C.I. 38us-38us Avg: 38us Max: 38us\n(Paused)PausePhase: Sum: 26us 99% C.I. 26us-26us Avg: 26us Max: 26us\nProcessCards:   Sum: 21us 99% C.I. 8us-13us Avg: 10.500us Max: 13us\nPreCleanCards:  Sum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\nProcessMarkStack:   Sum: 11us 99% C.I. 0.250us-8us Avg: 2.750us Max: 8us\nEnqueueFinalizerReferences: Sum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\nBindBitmaps:    Sum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\nInitializePhase:    Sum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\nMarkRoots:  Sum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\nProcessReferences:  Sum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\nSwapStacks: Sum: 3us 99% C.I. 3us-3us Avg: 3us Max: 3us\nFindDefaultSpaceBitmap: Sum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\n(Paused)ProcessMarkStack:   Sum: 1us 99% C.I. 1us-1us Avg: 1us Max: 1us\nDone Dumping histograms \nsticky concurrent mark sweep paused:    Sum: 510us 99% C.I. 510us-510us Avg: 510us Max: 510us\nsticky concurrent mark sweep total time: 17.647ms mean time: 17.647ms\nsticky concurrent mark sweep freed: 11846 objects with total size 5MB\nsticky concurrent mark sweep throughput: 696824/s / 304MB/s\nStart Dumping histograms for 1 iterations for marksweep + semispace\nProcessMarkStack:   Sum: 8.984ms 99% C.I. 0.001ms-8.911ms Avg: 4.492ms Max: 8.983ms\nClearCardTable: Sum: 6.088ms 99% C.I. 6.088ms-6.088ms Avg: 6.088ms Max: 6.088ms\nMarkRoots:  Sum: 2.112ms 99% C.I. 2.112ms-2.112ms Avg: 2.112ms Max: 2.112ms\nUpdateAndMarkImageModUnionTable:    Sum: 1.172ms 99% C.I. 1.172ms-1.172ms Avg: 1.172ms Max: 1.172ms\nSweepLargeObjects:  Sum: 338us 99% C.I. 338us-338us Avg: 338us Max: 338us\nRevokeAllThreadLocalBuffers:    Sum: 224us 99% C.I. 106us-118us Avg: 112us Max: 118us\nZygoteModUnionClearCards:   Sum: 171us 99% C.I. 171us-171us Avg: 171us Max: 171us\nMarkStackAsLive:    Sum: 134us 99% C.I. 134us-134us Avg: 134us Max: 134us\nImageModUnionClearCards:    Sum: 120us 99% C.I. 120us-120us Avg: 120us Max: 120us\nFinishPhase:    Sum: 118us 99% C.I. 118us-118us Avg: 118us Max: 118us\nUpdateAndMarkZygoteModUnionTable:   Sum: 117us 99% C.I. 117us-117us Avg: 117us Max: 117us\nAllocSpaceClearCards:   Sum: 86us 99% C.I. 1us-77us Avg: 28.666us Max: 77us\nSweepSystemWeaks:   Sum: 50us 99% C.I. 50us-50us Avg: 50us Max: 50us\nSweepAllocSpace:    Sum: 17us 99% C.I. 17us-17us Avg: 17us Max: 17us\nRevokeAllThreadLocalAllocationStacks:   Sum: 15us 99% C.I. 15us-15us Avg: 15us Max: 15us\nMarkReachableObjects:   Sum: 10us 99% C.I. 10us-10us Avg: 10us Max: 10us\nProcessCards:   Sum: 8us 99% C.I. 8us-8us Avg: 8us Max: 8us\n(Paused)EnqueueFinalizerReferences: Sum: 7us 99% C.I. 7us-7us Avg: 7us Max: 7us\nReclaimPhase:   Sum: 6us 99% C.I. 6us-6us Avg: 6us Max: 6us\n(Paused)ProcessReferences:  Sum: 5us 99% C.I. 5us-5us Avg: 5us Max: 5us\nInitializePhase:    Sum: 2us 99% C.I. 2us-2us Avg: 2us Max: 2us\nPostGcVerificationPaused:   Sum: 0 99% C.I. 0ns-0ns Avg: 0ns Max: 0ns\nDone Dumping histograms \nmarksweep + semispace paused:   Sum: 20.169ms 99% C.I. 20.169ms-20.169ms Avg: 20.169ms Max: 20.169ms\nmarksweep + semispace total time: 19.822ms mean time: 19.822ms\nmarksweep + semispace freed: 3469 objects with total size 1548KB\nmarksweep + semispace throughput: 182579/s / 79MB/s\nTotal time spent in GC: 37.469ms\nMean GC size throughput: 2GB/s\nMean GC object throughput: 5.86439e+07 objects/s\nTotal number of allocations 2248758\nTotal bytes allocated 129MB\nFree memory 2MB\nFree memory until GC 2MB\nFree memory until OOME 493MB\nTotal memory 21MB\nMax memory 512MB\nTotal mutator paused time: 20.679ms\nTotal time waiting for GC to complete: 3.583ms\n\nDALVIK THREADS (16):\n\"main\" prio=5 tid=1 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x734f2ec0 self=0xb5007800\n  | sysTid=15756 nice=0 cgrp=apps sched=0/0 handle=0xb6f69ec8\n  | state=S schedstat=( 51635212 97304004 262 ) utm=3 stm=2 core=0 HZ=100\n  | stack=0xbe033000-0xbe035000 stackSize=8MB\n  | held mutexes=\n  native: #00 pc 0003a97c  /system/lib/libc.so (__epoll_pwait+20)\n  native: #01 pc 00014571  /system/lib/libc.so (epoll_pwait+26)\n  native: #02 pc 0001457f  /system/lib/libc.so (epoll_wait+6)\n  native: #03 pc 000123c3  /system/lib/libutils.so (android::Looper::pollInner(int)+98)\n  native: #04 pc 000125ed  /system/lib/libutils.so (android::Looper::pollOnce(int, int*, int*, void**)+92)\n  native: #05 pc 0007fb61  /system/lib/libandroid_runtime.so (android::NativeMessageQueue::pollOnce(_JNIEnv*, int)+22)\n  native: #06 pc 000b0da7  /data/dalvik-cache/arm/system@framework@boot.oat (Java_android_os_MessageQueue_nativePollOnce__JI+102)\n  at android.os.MessageQueue.nativePollOnce(Native method)\n  at android.os.MessageQueue.next(MessageQueue.java:143)\n  at android.os.Looper.loop(Looper.java:122)\n  at android.app.ActivityThread.main(ActivityThread.java:5221)\n  at java.lang.reflect.Method.invoke!(Native method)\n  at java.lang.reflect.Method.invoke(Method.java:372)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n\n\"Heap thread pool worker thread 0\" prio=5 tid=2 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xaff0e400\n  | sysTid=15762 nice=0 cgrp=apps sched=0/0 handle=0xb50e9e80\n  | state=S schedstat=( 906615 183647 10 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb487f000-0xb4881000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Heap thread pool worker thread 1\" prio=5 tid=3 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xafc0e400\n  | sysTid=15763 nice=0 cgrp=apps sched=0/0 handle=0xb50ea100\n  | state=S schedstat=( 721771 777396 6 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb477d000-0xb477f000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Heap thread pool worker thread 2\" prio=5 tid=4 Native (still starting up)\n  | group=\"\" sCount=1 dsCount=0 obj=0x0 self=0xaf90e400\n  | sysTid=15764 nice=0 cgrp=apps sched=0/0 handle=0xb50ea380\n  | state=S schedstat=( 721614 1358022 4 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb467d000-0xb467f000 stackSize=1020KB\n  | held mutexes=\n  native: #00 pc 00012e98  /system/lib/libc.so (syscall+28)\n  native: #01 pc 000aa023  /system/lib/libart.so (art::ConditionVariable::Wait(art::Thread*)+98)\n  native: #02 pc 002405c5  /system/lib/libart.so (art::ThreadPool::GetTask(art::Thread*)+64)\n  native: #03 pc 0024055f  /system/lib/libart.so (art::ThreadPoolWorker::Run()+62)\n  native: #04 pc 00240e4d  /system/lib/libart.so (art::ThreadPoolWorker::Callback(void*)+60)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Signal Catcher\" daemon prio=5 tid=5 Runnable\n  | group=\"system\" sCount=0 dsCount=0 obj=0x12c07080 self=0xaf60e400\n  | sysTid=15765 nice=0 cgrp=apps sched=0/0 handle=0xb50ea600\n  | state=R schedstat=( 246452811 74434949 189 ) utm=13 stm=11 core=0 HZ=100\n  | stack=0xb456f000-0xb4571000 stackSize=1012KB\n  | held mutexes= \"thread list lock\" \"mutator lock\"(exclusive held)\n  native: #00 pc 00004c58  /system/lib/libbacktrace_libc++.so (UnwindCurrent::Unwind(unsigned int, ucontext*)+23)\n  native: #01 pc 000034c1  /system/lib/libbacktrace_libc++.so (Backtrace::Unwind(unsigned int, ucontext*)+8)\n  native: #02 pc 002526ad  /system/lib/libart.so (art::DumpNativeStack(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;, int, char const*, art::mirror::ArtMethod*)+84)\n  native: #03 pc 0023618b  /system/lib/libart.so (art::Thread::Dump(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;) const+162)\n  native: #04 pc 0023f585  /system/lib/libart.so (art::ThreadList::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+160)\n  native: #05 pc 00224563  /system/lib/libart.so (art::Runtime::DumpForSigQuit(std::__1::basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&amp;)+74)\n  native: #06 pc 0022a803  /system/lib/libart.so (art::SignalCatcher::HandleSigQuit()+782)\n  native: #07 pc 0022aeeb  /system/lib/libart.so (art::SignalCatcher::Run(void*)+338)\n  native: #08 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #09 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"JDWP\" daemon prio=5 tid=6 WaitingInMainDebuggerLoop\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c070e0 self=0xaf30e400\n  | sysTid=15766 nice=0 cgrp=apps sched=0/0 handle=0xb50ea880\n  | state=S schedstat=( 1983127 2565363 18 ) utm=0 stm=0 core=0 HZ=100\n  | stack=0xb446b000-0xb446d000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 000395b4  /system/lib/libc.so (__pselect6+20)\n  native: #01 pc 00015abb  /system/lib/libc.so (select+60)\n  native: #02 pc 00296d8f  /system/lib/libart.so (art::JDWP::JdwpAdbState::ProcessIncoming()+202)\n  native: #03 pc 00195f95  /system/lib/libart.so (art::JDWP::JdwpState::Run()+356)\n  native: #04 pc 001974e1  /system/lib/libart.so (art::JDWP::StartJdwpThread(void*)+16)\n  native: #05 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #06 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"ReferenceQueueDaemon\" daemon prio=5 tid=7 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07140 self=0xac3b1400\n  | sysTid=15767 nice=0 cgrp=apps sched=0/0 handle=0xb50eab00\n  | state=S schedstat=( 2369793 692187 57 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb4361000-0xb4363000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\n  at java.lang.Daemons$ReferenceQueueDaemon.run(Daemons.java:133)\n  - locked &lt;0x371b1e9d&gt; (a java.lang.Class&lt;java.lang.ref.ReferenceQueue&gt;)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"FinalizerWatchdogDaemon\" daemon prio=5 tid=8 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c071a0 self=0xac3b1c00\n  | sysTid=15769 nice=0 cgrp=apps sched=0/0 handle=0xac3b2080\n  | state=S schedstat=( 1485313 5042237 30 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb3ffa000-0xb3ffc000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\n  at java.lang.Daemons$FinalizerWatchdogDaemon.waitForObject(Daemons.java:239)\n  - locked &lt;0x044e0f12&gt; (a java.lang.Daemons$FinalizerWatchdogDaemon)\n  at java.lang.Daemons$FinalizerWatchdogDaemon.run(Daemons.java:211)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"FinalizerDaemon\" daemon prio=5 tid=9 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07200 self=0xac3b1800\n  | sysTid=15768 nice=0 cgrp=apps sched=0/0 handle=0xb50ead80\n  | state=S schedstat=( 3546042 3716407 27 ) utm=0 stm=0 core=1 HZ=100\n  | stack=0xb40fe000-0xb4100000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\n  at java.lang.Object.wait(Object.java:422)\n  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:101)\n  - locked &lt;0x17c016e3&gt; (a java.lang.ref.ReferenceQueue)\n  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:72)\n  at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:173)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"HeapTrimmerDaemon\" daemon prio=5 tid=10 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c07260 self=0xac87b800\n  | sysTid=15770 nice=0 cgrp=apps sched=0/0 handle=0xac3b2300\n  | state=S schedstat=( 82113595 48777811 138 ) utm=3 stm=5 core=1 HZ=100\n  | stack=0xb3bfe000-0xb3c00000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\n  at java.lang.Daemons$HeapTrimmerDaemon.run(Daemons.java:310)\n  - locked &lt;0x3a5518e0&gt; (a java.lang.Daemons$HeapTrimmerDaemon)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"GCDaemon\" daemon prio=5 tid=11 Waiting\n  | group=\"system\" sCount=1 dsCount=0 obj=0x12c072c0 self=0xac87bc00\n  | sysTid=15771 nice=0 cgrp=apps sched=0/0 handle=0xac3b2580\n  | state=S schedstat=( 42271611 38934533 101 ) utm=3 stm=1 core=1 HZ=100\n  | stack=0xb3afa000-0xb3afc000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\n  at java.lang.Daemons$GCDaemon.run(Daemons.java:341)\n  - locked &lt;0x21100799&gt; (a java.lang.Daemons$GCDaemon)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"Binder_1\" prio=5 tid=12 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07320 self=0xaf806400\n  | sysTid=15772 nice=0 cgrp=apps sched=0/0 handle=0xac3b2800\n  | state=S schedstat=( 14070157 51598488 38 ) utm=1 stm=0 core=0 HZ=100\n  | stack=0xafe04000-0xafe06000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Binder_2\" prio=5 tid=13 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07380 self=0xa4106400\n  | sysTid=15774 nice=0 cgrp=apps sched=0/0 handle=0xaf826080\n  | state=S schedstat=( 12279324 16626666 31 ) utm=0 stm=1 core=2 HZ=100\n  | stack=0xaf504000-0xaf506000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"Binder_3\" prio=5 tid=14 Native\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c073e0 self=0xa3f06400\n  | sysTid=15775 nice=0 cgrp=apps sched=0/0 handle=0xa4126080\n  | state=S schedstat=( 8225574 1019739 17 ) utm=0 stm=0 core=0 HZ=100\n  | stack=0xa4004000-0xa4006000 stackSize=1012KB\n  | held mutexes=\n  native: #00 pc 0003ac04  /system/lib/libc.so (__ioctl+8)\n  native: #01 pc 00051775  /system/lib/libc.so (ioctl+14)\n  native: #02 pc 0001f39b  /system/lib/libbinder.so (android::IPCThreadState::talkWithDriver(bool)+138)\n  native: #03 pc 0001f88b  /system/lib/libbinder.so (android::IPCThreadState::getAndExecuteCommand()+6)\n  native: #04 pc 0001f8ed  /system/lib/libbinder.so (android::IPCThreadState::joinThreadPool(bool)+48)\n  native: #05 pc 00023a5b  /system/lib/libbinder.so (???)\n  native: #06 pc 000104d5  /system/lib/libutils.so (android::Thread::_threadLoop(void*)+112)\n  native: #07 pc 0005df4d  /system/lib/libandroid_runtime.so (android::AndroidRuntime::javaThreadShell(void*)+72)\n  native: #08 pc 00010045  /system/lib/libutils.so (???)\n  native: #09 pc 000162e3  /system/lib/libc.so (__pthread_start(void*)+30)\n  native: #10 pc 000142d3  /system/lib/libc.so (__start_thread+6)\n  (no managed stack frames)\n\n\"pool-1-thread-1\" prio=5 tid=15 Waiting\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07440 self=0xac87c400\n  | sysTid=15785 nice=0 cgrp=apps sched=0/0 handle=0xac3b2d00\n  | state=S schedstat=( 846302 2156146 3 ) utm=0 stm=0 core=3 HZ=100\n  | stack=0xa35e1000-0xa35e3000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x2f7a0a5e&gt; (a java.lang.Object)\n  at java.lang.Thread.parkFor(Thread.java:1220)\n  - locked &lt;0x2f7a0a5e&gt; (a java.lang.Object)\n  at sun.misc.Unsafe.park(Unsafe.java:299)\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\n  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\n  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\n  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n  at java.lang.Thread.run(Thread.java:818)\n\n\"ActionsThreadPool-Thread\" prio=4 tid=17 Waiting\n  | group=\"main\" sCount=1 dsCount=0 obj=0x12c07500 self=0xac3a2800\n  | sysTid=15787 nice=0 cgrp=apps sched=0/0 handle=0xac3b3200\n  | state=S schedstat=( 295066775 148488168 375 ) utm=25 stm=4 core=1 HZ=100\n  | stack=0xa2ffe000-0xa3000000 stackSize=1036KB\n  | held mutexes=\n  at java.lang.Object.wait!(Native method)\n  - waiting on &lt;0x08d33e3f&gt; (a java.lang.Object)\n  at java.lang.Thread.parkFor(Thread.java:1220)\n  - locked &lt;0x08d33e3f&gt; (a java.lang.Object)\n  at sun.misc.Unsafe.park(Unsafe.java:299)\n  at java.util.concurrent.locks.LockSupport.park(LockSupport.java:157)\n  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2016)\n  at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:410)\n  at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1035)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1097)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n  at java.lang.Thread.run(Thread.java:818)\n\n----- end 15756 -----\n</code></pre>\n\n<p>The application is capturing video from camera and audio stream from socket (TCP or Bluetooth) simultaneously. ANR is showing up when I start to capture.</p>\n\n<p>The code of service, that receives audio data is there:\n<a href=\"http://pastebin.com/HRJDQwfe\" rel=\"nofollow\">http://pastebin.com/HRJDQwfe</a></p>\n"},{"tags":["java","javac","javaexe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685703369,"post_id":76389506,"comment_id":134701591,"body_markdown":"If you&#39;re going to experiment, I wouldn&#39;t mess up your project tree, so: `D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d &quot;%TEMP%&quot; pkg\\Manager_1.java;java -cp &quot;%TEMP%&quot; pkg.Manager_1`","body":"If you&#39;re going to experiment, I wouldn&#39;t mess up your project tree, so: <code>D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d &quot;%TEMP%&quot; pkg\\Manager_1.java;java -cp &quot;%TEMP%&quot; pkg.Manager_1</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685704375,"post_id":76389506,"comment_id":134701765,"body_markdown":"Nothing. You can use literally what I typed","body":"Nothing. You can use literally what I typed"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685705344,"post_id":76389506,"comment_id":134701978,"body_markdown":"You didn&#39;t change up to the directory showing at the prompt in my command (though that&#39;s a bit of a weird error message)","body":"You didn&#39;t change up to the directory showing at the prompt in my command (though that&#39;s a bit of a weird error message)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685706306,"post_id":76389506,"comment_id":134702157,"body_markdown":"That&#39;s very strange. Unfortunately I&#39;ve no Windows to test that on at the moment. You could do `D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d bin pkg\\Manager_1.java; java -cp bin pkg.Manager_1` and remove that bin dir under src later maybe. Note the switch is `-d` and *not* `-D`","body":"That&#39;s very strange. Unfortunately I&#39;ve no Windows to test that on at the moment. You could do <code>D:\\eclipse-workspace-ghj2\\ExecJava\\src&gt;javac -d bin pkg\\Manager_1.java; java -cp bin pkg.Manager_1</code> and remove that bin dir under src later maybe. Note the switch is <code>-d</code> and <i>not</i> <code>-D</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685708217,"post_id":76389506,"comment_id":134702558,"body_markdown":"Good. Of course, it&#39;s not good to be mixing class files and source files (the reason for my first form)","body":"Good. Of course, it&#39;s not good to be mixing class files and source files (the reason for my first form)"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685704409,"creation_date":1685704409,"answer_id":76389657,"question_id":76389506,"body_markdown":"You are in directory `pkg` so `java` can not find the package `pkg` there. You need to be in the top directory of your packages (`D:\\eclipse-workspace-ghj2\\ExecJava\\src\\` in your case) to execute the command so Java can find the package and then the class.","title":"How to Run a java compiled file from a package in the Windows Command Prompt?","body":"<p>You are in directory <code>pkg</code> so <code>java</code> can not find the package <code>pkg</code> there. You need to be in the top directory of your packages (<code>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\</code> in your case) to execute the command so Java can find the package and then the class.</p>\n"}],"owner":{"display_name":"user7208250"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686576237,"creation_date":1685703150,"question_id":76389506,"body_markdown":"How to Run a java compiled file from a package in the Windows Command Prompt?\r\n\r\nD:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;javac Manager_1.java\r\n\r\nD:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;java pkg.Manager_1\r\n\r\nError: Could not find or load main class pkg.Manager_1\r\nCaused by: java.lang.ClassNotFoundException: pkg.Manager_1\r\n\r\nI tried to run a java compiled class from a package.  \r\nError: Could not find or load main class pkg.Manager_1\r\n\r\n\r\n\r\n","title":"How to Run a java compiled file from a package in the Windows Command Prompt?","body":"<p>How to Run a java compiled file from a package in the Windows Command Prompt?</p>\n<p>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;javac Manager_1.java</p>\n<p>D:\\eclipse-workspace-ghj2\\ExecJava\\src\\pkg&gt;java pkg.Manager_1</p>\n<p>Error: Could not find or load main class pkg.Manager_1\nCaused by: java.lang.ClassNotFoundException: pkg.Manager_1</p>\n<p>I tried to run a java compiled class from a package.<br />\nError: Could not find or load main class pkg.Manager_1</p>\n"},{"tags":["java","kotlin","static","mockito"],"answers":[{"comments":[{"owner":{"account_id":1282892,"reputation":965,"user_id":1236581,"accept_rate":42,"display_name":"fergdev"},"score":0,"creation_date":1686621429,"post_id":76457075,"comment_id":134820887,"body_markdown":"Solved my problem, thank you so much :)","body":"Solved my problem, thank you so much :)"}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686575874,"creation_date":1686575874,"answer_id":76457075,"question_id":76453879,"body_markdown":"The difference stems from the fact that Kotlin adds null-checking code.\r\nCheck the decompiled source of your test class:\r\n\r\n```lang-java\r\npublic final class TextUtilsWrapperTest {\r\n  @Test\r\n  public final void testWrapperStatic() {\r\n    Parcel parcel = (Parcel)Mockito.mock(Parcel.class);\r\n    MockedStatic textUtilsWrapperMockedStatic = Mockito.mockStatic(TextUtilsWrapper.class);\r\n    textUtilsWrapperMockedStatic.when(TextUtilsWrapperTest::testWrapperStatic$lambda$0)\r\n      .thenReturn(&quot;hello&quot;);\r\n    Intrinsics.checkNotNullExpressionValue(parcel, &quot;parcel&quot;);\r\n    Assertions.assertEquals(&quot;hello&quot;, TextUtilsWrapper.createFromParcel(parcel));\r\n  }\r\n  \r\n  private static final void testWrapperStatic$lambda$0() {\r\n    Intrinsics.checkNotNullExpressionValue(ArgumentMatchers.any(), &quot;any()&quot;);\r\n    TextUtilsWrapper.createFromParcel((Parcel)ArgumentMatchers.any());\r\n  }\r\n}\r\n```\r\n\r\nThe expected event sequence is:\r\n- argument matcher is called and registered on stack\r\n- mocked method call is intercepted and `MockMethodAdvice.handleStatic` is called\r\n- this calls `ArgumentMatcherStorageImpl.pullLocalizedMatchers` and clears the matchers stack.\r\n\r\nSee: https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work\r\n\r\nUnfortunately, `Intrinsics.checkNotNullExpressionValue` throws a NullPointerExeption, as `ArgumentMatchers.any()` returnes null.\r\n\r\nThis NPE is silently ignored, but mocked method is not called, and thus handleStatic is not called - the matchers stack is not cleared.\r\n\r\nThe matchers stack is checked upon `MockedStaticImpl.when` call, and the `InvalidUseOfMatchersException` is reported.\r\n\r\nTo solve, use `mockito-kotlin` provided argument matchers:\r\n\r\n```\r\n/** Matches any object, excluding nulls. */\r\ninline fun &lt;reified T : Any&gt; any(): T {\r\n    return ArgumentMatchers.any(T::class.java) ?: createInstance()\r\n}\r\n\r\n/** Matches anything, including nulls. */\r\ninline fun &lt;reified T : Any&gt; anyOrNull(): T {\r\n    return ArgumentMatchers.any&lt;T&gt;() ?: createInstance()\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Mock static java and kotlin","body":"<p>The difference stems from the fact that Kotlin adds null-checking code.\nCheck the decompiled source of your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class TextUtilsWrapperTest {\n  @Test\n  public final void testWrapperStatic() {\n    Parcel parcel = (Parcel)Mockito.mock(Parcel.class);\n    MockedStatic textUtilsWrapperMockedStatic = Mockito.mockStatic(TextUtilsWrapper.class);\n    textUtilsWrapperMockedStatic.when(TextUtilsWrapperTest::testWrapperStatic$lambda$0)\n      .thenReturn(&quot;hello&quot;);\n    Intrinsics.checkNotNullExpressionValue(parcel, &quot;parcel&quot;);\n    Assertions.assertEquals(&quot;hello&quot;, TextUtilsWrapper.createFromParcel(parcel));\n  }\n  \n  private static final void testWrapperStatic$lambda$0() {\n    Intrinsics.checkNotNullExpressionValue(ArgumentMatchers.any(), &quot;any()&quot;);\n    TextUtilsWrapper.createFromParcel((Parcel)ArgumentMatchers.any());\n  }\n}\n</code></pre>\n<p>The expected event sequence is:</p>\n<ul>\n<li>argument matcher is called and registered on stack</li>\n<li>mocked method call is intercepted and <code>MockMethodAdvice.handleStatic</code> is called</li>\n<li>this calls <code>ArgumentMatcherStorageImpl.pullLocalizedMatchers</code> and clears the matchers stack.</li>\n</ul>\n<p>See: <a href=\"https://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work\">How do Mockito matchers work?</a></p>\n<p>Unfortunately, <code>Intrinsics.checkNotNullExpressionValue</code> throws a NullPointerExeption, as <code>ArgumentMatchers.any()</code> returnes null.</p>\n<p>This NPE is silently ignored, but mocked method is not called, and thus handleStatic is not called - the matchers stack is not cleared.</p>\n<p>The matchers stack is checked upon <code>MockedStaticImpl.when</code> call, and the <code>InvalidUseOfMatchersException</code> is reported.</p>\n<p>To solve, use <code>mockito-kotlin</code> provided argument matchers:</p>\n<pre><code>/** Matches any object, excluding nulls. */\ninline fun &lt;reified T : Any&gt; any(): T {\n    return ArgumentMatchers.any(T::class.java) ?: createInstance()\n}\n\n/** Matches anything, including nulls. */\ninline fun &lt;reified T : Any&gt; anyOrNull(): T {\n    return ArgumentMatchers.any&lt;T&gt;() ?: createInstance()\n}\n</code></pre>\n"}],"owner":{"account_id":1282892,"reputation":965,"user_id":1236581,"accept_rate":42,"display_name":"fergdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76457075,"answer_count":1,"score":0,"last_activity_date":1686575874,"creation_date":1686548577,"question_id":76453879,"body_markdown":"I have a static class that I want to mock, I can do this successfully in java. But when I convert to kotlin and tests now fail with the error\r\n\r\n    Misplaced or misused argument matcher detected here: -&gt; at TestTest.testWrapperStatic$lambda$0(TestTest.kt:19)\r\n\r\nAny ideas on what is different when mocking static in kotlin?\r\n\r\nClass to mock,\r\n\r\n    object TextUtilsWrapper {\r\n        @JvmStatic\r\n        fun createFromParcel(p: Parcel): CharSequence {\r\n            return TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(p)\r\n        }\r\n    }\r\n\r\nPassing Java test case,\r\n\r\n    public class TestTest extends BaseMockingUnitTest {\r\n    \r\n        @Test\r\n        public void testWrapperStatic() {\r\n            Parcel parcel = Mockito.mock(Parcel.class);\r\n    \r\n            final MockedStatic&lt;TextUtilsWrapper&gt; textUtilsWrapperMockedStatic = mockStatic(\r\n                    TextUtilsWrapper.class);\r\n            textUtilsWrapperMockedStatic.when(\r\n                    () -&gt; TextUtilsWrapper.createFromParcel(any())).thenReturn(&quot;hello&quot;);\r\n    \r\n            assertThat(TextUtilsWrapper.createFromParcel(parcel), is(&quot;hello&quot;));\r\n        }\r\n    }\r\n\r\nFailing kotlin test case,\r\n\r\n    class TestTest : BaseMockingUnitTest() {\r\n        @Test\r\n        fun testWrapperStatic() {\r\n            val parcel = Mockito.mock(Parcel::class.java)\r\n            val textUtilsWrapperMockedStatic = Mockito.mockStatic(\r\n                TextUtilsWrapper::class.java\r\n            )\r\n            textUtilsWrapperMockedStatic.`when`&lt;Any&gt; { createFromParcel(ArgumentMatchers.any()) }\r\n                .thenReturn(&quot;hello&quot;)\r\n            MatcherAssert.assertThat(createFromParcel(parcel), Matchers.`is`(&quot;hello&quot;))\r\n        }\r\n    }\r\n\r\n","title":"Mock static java and kotlin","body":"<p>I have a static class that I want to mock, I can do this successfully in java. But when I convert to kotlin and tests now fail with the error</p>\n<pre><code>Misplaced or misused argument matcher detected here: -&gt; at TestTest.testWrapperStatic$lambda$0(TestTest.kt:19)\n</code></pre>\n<p>Any ideas on what is different when mocking static in kotlin?</p>\n<p>Class to mock,</p>\n<pre><code>object TextUtilsWrapper {\n    @JvmStatic\n    fun createFromParcel(p: Parcel): CharSequence {\n        return TextUtils.CHAR_SEQUENCE_CREATOR.createFromParcel(p)\n    }\n}\n</code></pre>\n<p>Passing Java test case,</p>\n<pre><code>public class TestTest extends BaseMockingUnitTest {\n\n    @Test\n    public void testWrapperStatic() {\n        Parcel parcel = Mockito.mock(Parcel.class);\n\n        final MockedStatic&lt;TextUtilsWrapper&gt; textUtilsWrapperMockedStatic = mockStatic(\n                TextUtilsWrapper.class);\n        textUtilsWrapperMockedStatic.when(\n                () -&gt; TextUtilsWrapper.createFromParcel(any())).thenReturn(&quot;hello&quot;);\n\n        assertThat(TextUtilsWrapper.createFromParcel(parcel), is(&quot;hello&quot;));\n    }\n}\n</code></pre>\n<p>Failing kotlin test case,</p>\n<pre><code>class TestTest : BaseMockingUnitTest() {\n    @Test\n    fun testWrapperStatic() {\n        val parcel = Mockito.mock(Parcel::class.java)\n        val textUtilsWrapperMockedStatic = Mockito.mockStatic(\n            TextUtilsWrapper::class.java\n        )\n        textUtilsWrapperMockedStatic.`when`&lt;Any&gt; { createFromParcel(ArgumentMatchers.any()) }\n            .thenReturn(&quot;hello&quot;)\n        MatcherAssert.assertThat(createFromParcel(parcel), Matchers.`is`(&quot;hello&quot;))\n    }\n}\n</code></pre>\n"},{"tags":["java","security","x509certificate","tpm"],"owner":{"account_id":25678947,"reputation":13,"user_id":19441984,"display_name":"Anusha Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686575804,"creation_date":1686575804,"question_id":76457062,"body_markdown":"I am relatively new here and exploring different functionalities of TPM.\r\nThere is a use case in which I am going to receive digital root certificate from one API and I have to save that certificate in TPM. To test with java implementation of TSS, I generated X509Certificate using keyPairGenerator with RSA algorithm and defined signatureAlgorithm as SHA256WithRSAEncryption in X509V3CertificateGenerator object. After that I have converted that certificate to the TPMT_PUBLIC object and have called LoadExternal function of tpm to save it in TPM.\r\nI am receiving TPM ERROR: {HASH} from the TPM and I am unable to find the root cause of it. I will be grateful if any of you can pin point what I am doing wrong. I have attatched relevant code snippets below,\r\n\r\n\r\n```\r\nprivate static final String CERTIFICATE_ALGORITHM = &quot;RSA&quot;;\r\nprivate static final String CERTIFICATE_DN = &quot;CN=cn, O=o, L=L, ST=il, C= c&quot;;\r\nprivate static final String CERTIFICATE_NAME = &quot;keystore.test&quot;;\r\nprivate static final int CERTIFICATE_BITS = 1024;\r\npublic static void  saveCertificateInTPM(X509Certificate csr) throws IOException, CertificateEncodingException {\r\n    Tpm tpm = TpmFactory.platformTpm();\r\n    tpm.Startup(TPM_SU.CLEAR);\r\n    TPMT_PUBLIC cert = convertCertificateToTPMPublic(csr);\r\n    TPM_HANDLE certHandler = tpm.LoadExternal(null, cert, TPM_HANDLE.from(TPM_RH.NULL));\r\n    tpm.FlushContext(certHandler);\r\n    tpm.close();\r\n\r\n}\r\n  private static TPMT_PUBLIC convertCertificateToTPMPublic(X509Certificate certificate) {\r\n    // Convert the X.509 certificate to a TPMT_PUBLIC object compatible with the TPM\r\n    // Extract the necessary information from the certificate (e.g., public key, algorithm) and set it in the TPMT_PUBLIC object\r\n    // Return the TPMT_PUBLIC object\r\n    // Example:\r\n    TPMT_PUBLIC publicArea = new TPMT_PUBLIC();\r\n    Map&lt;String, TPM_ALG_ID&gt; algorithmMap = new HashMap&lt;&gt;();\r\n    algorithmMap.put(&quot;RSA&quot;, TPM_ALG_ID.RSA);\r\n    algorithmMap.put(&quot;EC&quot;, TPM_ALG_ID.ECC);\r\n    algorithmMap.put(&quot;SHA&quot;, TPM_ALG_ID.SHA256);\r\n    TPM_ALG_ID tpmAlgorithm = algorithmMap.getOrDefault(certificate.getPublicKey().getAlgorithm(), TPM_ALG_ID.NULL);\r\n    TPM2B_PUBLIC_KEY_RSA unique = new TPM2B_PUBLIC_KEY_RSA();\r\n    System.out.println(certificate.getSigAlgName());\r\n    unique.buffer=  certificate.getPublicKey().getEncoded();\r\n    TPMS_RSA_PARMS params=new TPMS_RSA_PARMS();\r\n    params.symmetric=new TPMT_SYM_DEF_OBJECT();\r\n    params.symmetric.algorithm=TPM_ALG_ID.NULL;\r\n    params.scheme=new TPMS_SIG_SCHEME_RSASSA(TPM_ALG_ID.SHA256);\r\n    return new TPMT_PUBLIC(tpmAlgorithm, TPMA_OBJECT.fixedTPM, null, params, unique);\r\n}\r\n\r\n public static X509Certificate generateSelfSignedCertificate() throws SignatureException, InvalidKeyException, \r\n    NoSuchAlgorithmException {\r\n    X509Certificate cert = null;\r\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(CERTIFICATE_ALGORITHM);\r\n    keyPairGenerator.initialize(CERTIFICATE_BITS, new SecureRandom());\r\n    KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n\r\n    // GENERATE THE X509 CERTIFICATE\r\n    X509V3CertificateGenerator v3CertGen =  new X509V3CertificateGenerator();\r\n    v3CertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n    v3CertGen.setIssuerDN(new X509Principal(CERTIFICATE_DN));\r\n    v3CertGen.setNotBefore(new Date(System.currentTimeMillis() - 1000L * 60 * 60 * 24));\r\n    v3CertGen.setNotAfter(new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 365*10)));\r\n    v3CertGen.setSubjectDN(new X509Principal(CERTIFICATE_DN));\r\n    v3CertGen.setPublicKey(keyPair.getPublic());\r\n    v3CertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n    cert = v3CertGen.generateX509Certificate(keyPair.getPrivate());\r\n    return cert;\r\n}\r\n```\r\n","title":"Saving external certificate in tpm in java","body":"<p>I am relatively new here and exploring different functionalities of TPM.\nThere is a use case in which I am going to receive digital root certificate from one API and I have to save that certificate in TPM. To test with java implementation of TSS, I generated X509Certificate using keyPairGenerator with RSA algorithm and defined signatureAlgorithm as SHA256WithRSAEncryption in X509V3CertificateGenerator object. After that I have converted that certificate to the TPMT_PUBLIC object and have called LoadExternal function of tpm to save it in TPM.\nI am receiving TPM ERROR: {HASH} from the TPM and I am unable to find the root cause of it. I will be grateful if any of you can pin point what I am doing wrong. I have attatched relevant code snippets below,</p>\n<pre><code>private static final String CERTIFICATE_ALGORITHM = &quot;RSA&quot;;\nprivate static final String CERTIFICATE_DN = &quot;CN=cn, O=o, L=L, ST=il, C= c&quot;;\nprivate static final String CERTIFICATE_NAME = &quot;keystore.test&quot;;\nprivate static final int CERTIFICATE_BITS = 1024;\npublic static void  saveCertificateInTPM(X509Certificate csr) throws IOException, CertificateEncodingException {\n    Tpm tpm = TpmFactory.platformTpm();\n    tpm.Startup(TPM_SU.CLEAR);\n    TPMT_PUBLIC cert = convertCertificateToTPMPublic(csr);\n    TPM_HANDLE certHandler = tpm.LoadExternal(null, cert, TPM_HANDLE.from(TPM_RH.NULL));\n    tpm.FlushContext(certHandler);\n    tpm.close();\n\n}\n  private static TPMT_PUBLIC convertCertificateToTPMPublic(X509Certificate certificate) {\n    // Convert the X.509 certificate to a TPMT_PUBLIC object compatible with the TPM\n    // Extract the necessary information from the certificate (e.g., public key, algorithm) and set it in the TPMT_PUBLIC object\n    // Return the TPMT_PUBLIC object\n    // Example:\n    TPMT_PUBLIC publicArea = new TPMT_PUBLIC();\n    Map&lt;String, TPM_ALG_ID&gt; algorithmMap = new HashMap&lt;&gt;();\n    algorithmMap.put(&quot;RSA&quot;, TPM_ALG_ID.RSA);\n    algorithmMap.put(&quot;EC&quot;, TPM_ALG_ID.ECC);\n    algorithmMap.put(&quot;SHA&quot;, TPM_ALG_ID.SHA256);\n    TPM_ALG_ID tpmAlgorithm = algorithmMap.getOrDefault(certificate.getPublicKey().getAlgorithm(), TPM_ALG_ID.NULL);\n    TPM2B_PUBLIC_KEY_RSA unique = new TPM2B_PUBLIC_KEY_RSA();\n    System.out.println(certificate.getSigAlgName());\n    unique.buffer=  certificate.getPublicKey().getEncoded();\n    TPMS_RSA_PARMS params=new TPMS_RSA_PARMS();\n    params.symmetric=new TPMT_SYM_DEF_OBJECT();\n    params.symmetric.algorithm=TPM_ALG_ID.NULL;\n    params.scheme=new TPMS_SIG_SCHEME_RSASSA(TPM_ALG_ID.SHA256);\n    return new TPMT_PUBLIC(tpmAlgorithm, TPMA_OBJECT.fixedTPM, null, params, unique);\n}\n\n public static X509Certificate generateSelfSignedCertificate() throws SignatureException, InvalidKeyException, \n    NoSuchAlgorithmException {\n    X509Certificate cert = null;\n    KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(CERTIFICATE_ALGORITHM);\n    keyPairGenerator.initialize(CERTIFICATE_BITS, new SecureRandom());\n    KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n    // GENERATE THE X509 CERTIFICATE\n    X509V3CertificateGenerator v3CertGen =  new X509V3CertificateGenerator();\n    v3CertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n    v3CertGen.setIssuerDN(new X509Principal(CERTIFICATE_DN));\n    v3CertGen.setNotBefore(new Date(System.currentTimeMillis() - 1000L * 60 * 60 * 24));\n    v3CertGen.setNotAfter(new Date(System.currentTimeMillis() + (1000L * 60 * 60 * 24 * 365*10)));\n    v3CertGen.setSubjectDN(new X509Principal(CERTIFICATE_DN));\n    v3CertGen.setPublicKey(keyPair.getPublic());\n    v3CertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\n    cert = v3CertGen.generateX509Certificate(keyPair.getPrivate());\n    return cert;\n}\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","keytool"],"comments":[{"owner":{"account_id":1119319,"reputation":10590,"user_id":1107999,"accept_rate":83,"display_name":"Alex"},"score":0,"creation_date":1335379159,"post_id":10321211,"comment_id":13288532,"body_markdown":"could you post the exact `keytool` command that you&#39;ve executed, and it&#39;s output? some of the obvious issues here are the typo of `-keystore` argument, and the fact that keytool was unable to find the keystore to import the key into","body":"could you post the exact <code>keytool</code> command that you&#39;ve executed, and it&#39;s output? some of the obvious issues here are the typo of <code>-keystore</code> argument, and the fact that keytool was unable to find the keystore to import the key into"},{"owner":{"account_id":1242486,"reputation":2892,"user_id":1204749,"accept_rate":62,"display_name":"cyber101"},"score":0,"creation_date":1335402167,"post_id":10321211,"comment_id":13295281,"body_markdown":"I meant to write:                                           keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer                                          I also mentioned the command executed without errors, so obviously this is just spelling mistake in my question!!! Thanks anyways","body":"I meant to write:                                           keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer                                          I also mentioned the command executed without errors, so obviously this is just spelling mistake in my question!!! Thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":96022,"reputation":861,"user_id":261210,"display_name":"Daniel N."},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1336036026,"creation_date":1336036026,"answer_id":10428260,"question_id":10321211,"body_markdown":"I had the same problem under Windows and could solve it by *running cmd.exe as administrator* (right-click in start menu, then &quot;Run as administrator).","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I had the same problem under Windows and could solve it by <em>running cmd.exe as administrator</em> (right-click in start menu, then \"Run as administrator).</p>\n"},{"comments":[{"owner":{"account_id":3687913,"reputation":6970,"user_id":3071284,"accept_rate":83,"display_name":"user3071284"},"score":2,"creation_date":1491403014,"post_id":11231280,"comment_id":73538711,"body_markdown":"If anyone can expand on this, just checking the permissions won&#39;t change anything.","body":"If anyone can expand on this, just checking the permissions won&#39;t change anything."},{"owner":{"account_id":1507404,"reputation":9617,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"score":0,"creation_date":1511036730,"post_id":11231280,"comment_id":81693924,"body_markdown":"setting the tomcat directory to read-only will cause this exception","body":"setting the tomcat directory to read-only will cause this exception"},{"owner":{"account_id":1072639,"reputation":4508,"user_id":1071545,"accept_rate":60,"display_name":"Ahmad Arslan"},"score":0,"creation_date":1539254040,"post_id":11231280,"comment_id":92438976,"body_markdown":"how to chek the weite permission?","body":"how to chek the weite permission?"}],"tags":[],"owner":{"account_id":1606334,"reputation":147,"user_id":1486372,"display_name":"partha saradhi"},"comment_count":3,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1342974618,"creation_date":1340815881,"answer_id":11231280,"question_id":10321211,"body_markdown":"Check the write permissions on the keystore.\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Check the write permissions on the keystore.</p>\n"},{"comments":[{"owner":{"account_id":1718667,"reputation":94,"user_id":1575185,"accept_rate":100,"display_name":"truthful_ness"},"score":19,"creation_date":1401124483,"post_id":11349888,"comment_id":36750425,"body_markdown":"For Mac users, a simple sudo will fix this issue.","body":"For Mac users, a simple sudo will fix this issue."},{"owner":{"account_id":404549,"reputation":311,"user_id":772936,"accept_rate":75,"display_name":"skword"},"score":22,"creation_date":1421843685,"post_id":11349888,"comment_id":44514357,"body_markdown":"running as admin is not the right solution. Most companies are locking down admin access. Better to fix the reason as to why access is denied rather than elevating the previlages.","body":"running as admin is not the right solution. Most companies are locking down admin access. Better to fix the reason as to why access is denied rather than elevating the previlages."},{"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"score":1,"creation_date":1486705991,"post_id":11349888,"comment_id":71470861,"body_markdown":"type cmd and hit Ctrl+Shift+enter and added certificate successfully- Its worked for me","body":"type cmd and hit Ctrl+Shift+enter and added certificate successfully- Its worked for me"},{"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"score":0,"creation_date":1574743644,"post_id":11349888,"comment_id":104329629,"body_markdown":"Thanks. control-shift CMD was the only way I could alter cacerts store.","body":"Thanks. control-shift CMD was the only way I could alter cacerts store."},{"owner":{"account_id":4211074,"reputation":471,"user_id":3448748,"accept_rate":25,"display_name":"Rajan Chauhan"},"score":0,"creation_date":1585654830,"post_id":11349888,"comment_id":107831383,"body_markdown":"@Afshar thanks a lot i have been struggling with this for quite a long time.","body":"@Afshar thanks a lot i have been struggling with this for quite a long time."},{"owner":{"account_id":7084092,"reputation":473,"user_id":5421408,"display_name":"quantumferret"},"score":4,"creation_date":1612955614,"post_id":11349888,"comment_id":116925958,"body_markdown":"Seriously, I keep on getting this error and it&#39;s a company laptop, no chance in hell of me being able to run anything as admin. The fact that most of the answers here rely on being able to run as administrator is frustrating.","body":"Seriously, I keep on getting this error and it&#39;s a company laptop, no chance in hell of me being able to run anything as admin. The fact that most of the answers here rely on being able to run as administrator is frustrating."}],"tags":[],"owner":{"account_id":156936,"reputation":3579,"user_id":374532,"display_name":"Sharan Rajendran"},"comment_count":6,"down_vote_count":2,"up_vote_count":333,"is_accepted":false,"score":331,"last_activity_date":1525240078,"creation_date":1341511115,"answer_id":11349888,"question_id":10321211,"body_markdown":"This could happen if you are not running the command prompt in administrator mode. \r\nIf you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode. If not, you can also go to start -&gt; all programs -&gt; accessories -&gt; right click command prompt and click &#39;run as administrator&#39;. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>This could happen if you are not running the command prompt in administrator mode. \nIf you are using windows 7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode. If not, you can also go to start -> all programs -> accessories -> right click command prompt and click 'run as administrator'. </p>\n"},{"tags":[],"owner":{"account_id":8059249,"reputation":21,"user_id":6075277,"display_name":"arungopal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458196431,"creation_date":1458195362,"answer_id":36052951,"question_id":10321211,"body_markdown":"If you are using windows8:\r\n\r\n 1. Click start button\r\n 2. In the search box, type `command prompt`\r\n 3. From the result, right-click `command prompt` and click `Run as administrator`. Then execute the keytool command.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>If you are using windows8:</p>\n\n<ol>\n<li>Click start button</li>\n<li>In the search box, type <code>command prompt</code></li>\n<li>From the result, right-click <code>command prompt</code> and click <code>Run as administrator</code>. Then execute the keytool command.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8424768,"reputation":39,"user_id":6322431,"display_name":"goyalshub1509"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1464734077,"creation_date":1464734077,"answer_id":37556735,"question_id":10321211,"body_markdown":"You can give yourself permissions to fix this problem. \r\n\r\nRight click on cacerts &gt; choose properties &gt; select Securit tab &gt; Allow all permissions to all the Group and user names.\r\n\r\nThis worked for me.\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>You can give yourself permissions to fix this problem. </p>\n\n<p>Right click on cacerts > choose properties > select Securit tab > Allow all permissions to all the Group and user names.</p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9430396,"reputation":1,"user_id":7014130,"display_name":"maithanhduyan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1476436945,"creation_date":1476366494,"answer_id":40022877,"question_id":10321211,"body_markdown":"You can store orther disk or path (not C) EX : D\\\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_101\\bin&gt;keytool -genkey -alias server -keyalg RSA -keysize 2048 -keystore D:\\myserver.jks -dname &quot;CN=myserver,OU=IT-WebDev, O=TIACHOP, L=HCM, ST=0753, C=VN&quot; &amp;&amp; keytool -certreq -alias server -file D:\\myserver.csr -keystore D:\\myserver.jks\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Hdht.png","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>You can store orther disk or path (not C) EX : D\\</p>\n\n<pre><code>C:\\Program Files\\Java\\jre1.8.0_101\\bin&gt;keytool -genkey -alias server -keyalg RSA -keysize 2048 -keystore D:\\myserver.jks -dname \"CN=myserver,OU=IT-WebDev, O=TIACHOP, L=HCM, ST=0753, C=VN\" &amp;&amp; keytool -certreq -alias server -file D:\\myserver.csr -keystore D:\\myserver.jks\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6Hdht.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/6Hdht.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2812858,"reputation":607,"user_id":2418723,"accept_rate":56,"display_name":"sher17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487077158,"creation_date":1487077158,"answer_id":42226851,"question_id":10321211,"body_markdown":"I even run the command prompt as Administrator but it didn&#39;t work for me with the below error.\r\n \r\n    &#39;keytool&#39; is not recognized as an internal or external command,\r\n     operable program or batch file.\r\n\r\nIf the path to the keytool is not in your System paths then you will need to use the full path to use the keytool, which is \r\n\r\n    C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\r\n\r\nSo, the command should be like\r\n\r\n    &quot;C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\\keytool.exe&quot; -importcert -alias certificateFileAlias -file CertificateFileName.cer -keystore cacerts\r\n\r\nthat worked for me.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I even run the command prompt as Administrator but it didn't work for me with the below error.</p>\n\n<pre><code>'keytool' is not recognized as an internal or external command,\n operable program or batch file.\n</code></pre>\n\n<p>If the path to the keytool is not in your System paths then you will need to use the full path to use the keytool, which is </p>\n\n<pre><code>C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\n</code></pre>\n\n<p>So, the command should be like</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jre&lt;version&gt;\\bin\\keytool.exe\" -importcert -alias certificateFileAlias -file CertificateFileName.cer -keystore cacerts\n</code></pre>\n\n<p>that worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5152616,"reputation":87,"user_id":4126759,"display_name":"V K"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1498072630,"creation_date":1498072630,"answer_id":44684536,"question_id":10321211,"body_markdown":"For Mac users make sure to sudo and when prompted first give your administrator password and that will be followed by keystore password which typically should be &quot;changeit&quot; unless you actually changed it. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>For Mac users make sure to sudo and when prompted first give your administrator password and that will be followed by keystore password which typically should be \"changeit\" unless you actually changed it. </p>\n"},{"tags":[],"owner":{"account_id":7619039,"reputation":573,"user_id":5777565,"display_name":"Ismael ozil"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1505287944,"creation_date":1505287944,"answer_id":46191488,"question_id":10321211,"body_markdown":"**SOLVED**\r\n\r\n1. Just run CMD as an administrator.\r\n2. Make sure your using the correct truststore password\r\n","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p><strong>SOLVED</strong></p>\n\n<ol>\n<li>Just run CMD as an administrator.</li>\n<li>Make sure your using the correct truststore password</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":191390,"reputation":1824,"user_id":431941,"accept_rate":75,"display_name":"risingTide"},"score":2,"creation_date":1545321354,"post_id":47669565,"comment_id":94591236,"body_markdown":"As mentioned here, being actually _in_ the security directory and _only_ giving the &quot;cacerts&quot; name of the cert instead of the full path was what worked for me.","body":"As mentioned here, being actually <i>in</i> the security directory and <i>only</i> giving the &quot;cacerts&quot; name of the cert instead of the full path was what worked for me."},{"owner":{"account_id":13028881,"reputation":335,"user_id":9415921,"display_name":"Chigozie A."},"score":0,"creation_date":1561652575,"post_id":47669565,"comment_id":100144985,"body_markdown":"I used sudo -i to make myself the superuser in the first step on Mac and followed the steps and it worked. I opened up carets file as a text file and found my certificate by doing command f to search for its name (or anything else relating to the certificate).","body":"I used sudo -i to make myself the superuser in the first step on Mac and followed the steps and it worked. I opened up carets file as a text file and found my certificate by doing command f to search for its name (or anything else relating to the certificate)."},{"owner":{"account_id":416971,"reputation":2663,"user_id":792700,"accept_rate":75,"display_name":"AO_"},"score":2,"creation_date":1599213808,"post_id":47669565,"comment_id":112711219,"body_markdown":"doing a `cd $JAVA_HOME/jre/lib/security` and then making sure to only pass `-keystore cacerts` without the path fixed the problem for me..","body":"doing a <code>cd $JAVA_HOME&#47;jre&#47;lib&#47;security</code> and then making sure to only pass <code>-keystore cacerts</code> without the path fixed the problem for me.."}],"tags":[],"owner":{"account_id":1251757,"reputation":4861,"user_id":1212046,"accept_rate":38,"display_name":"Waqas Ahmed"},"comment_count":3,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1512547653,"creation_date":1512547653,"answer_id":47669565,"question_id":10321211,"body_markdown":"I was having the same problem while importing the certificate in local keystore. Whenever i issue the keytool command i got the following error.\r\n\r\nCertificate was added to keystore\r\nkeytool error: java.io.FileNotFoundException: C:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security (Access is denied)\r\n\r\nFollowing solution work for me.\r\n\r\n1) make sure you are running command prompt in Rus as Administrator mode\r\n\r\n2) Change your current directory to %JAVA_HOME%\\jre\\lib\\security\r\n\r\n3) then Issue the below command\r\n\r\nkeytool -import -alias &quot;mycertificatedemo&quot; -file &quot;C:\\Users\\name\\Downloads\\abc.crt&quot; -keystore cacerts\r\n\r\n3) give the password changeit\r\n\r\n4) enter y\r\n\r\n5) you will see the following message on successful\r\n&quot;Certificate was added to keystore&quot;\r\n\r\nMake sure you are giving the &quot;**cacerts**&quot; only in -keystore param value , as i was giving the full path like &quot;C**:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security**&quot;.\r\n\r\nHope this will work","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I was having the same problem while importing the certificate in local keystore. Whenever i issue the keytool command i got the following error.</p>\n\n<p>Certificate was added to keystore\nkeytool error: java.io.FileNotFoundException: C:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security (Access is denied)</p>\n\n<p>Following solution work for me.</p>\n\n<p>1) make sure you are running command prompt in Rus as Administrator mode</p>\n\n<p>2) Change your current directory to %JAVA_HOME%\\jre\\lib\\security</p>\n\n<p>3) then Issue the below command</p>\n\n<p>keytool -import -alias \"mycertificatedemo\" -file \"C:\\Users\\name\\Downloads\\abc.crt\" -keystore cacerts</p>\n\n<p>3) give the password changeit</p>\n\n<p>4) enter y</p>\n\n<p>5) you will see the following message on successful\n\"Certificate was added to keystore\"</p>\n\n<p>Make sure you are giving the \"<strong>cacerts</strong>\" only in -keystore param value , as i was giving the full path like \"C**:\\Program Files\\Java\\jdk1.8.0_151\\jre\\lib\\security**\".</p>\n\n<p>Hope this will work</p>\n"},{"comments":[{"owner":{"account_id":100086,"reputation":346,"user_id":269984,"display_name":"Jesse"},"score":0,"creation_date":1683153210,"post_id":62399390,"comment_id":134324618,"body_markdown":"Wow.  This with the other solutions works for me.  Thanks!","body":"Wow.  This with the other solutions works for me.  Thanks!"}],"tags":[],"owner":{"account_id":3653236,"reputation":61,"user_id":3044861,"display_name":"Schroeder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592270661,"creation_date":1592269266,"answer_id":62399390,"question_id":10321211,"body_markdown":"I got this error too even I ran cmd as an Administrator. \r\n\r\nThe root cause is: The file is from VCS(subversion, perforce, etc.), and when I checked the properties of this file, its&#39; Attributes is ***Read-only***.\r\n\r\nSo the solution is:\r\n\r\n* (1) disable the &#39;Read-only&#39; Attribute;\r\n* (2) check out from VCS, let the file under the status of read&amp;write.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I got this error too even I ran cmd as an Administrator. </p>\n\n<p>The root cause is: The file is from VCS(subversion, perforce, etc.), and when I checked the properties of this file, its' Attributes is <strong><em>Read-only</em></strong>.</p>\n\n<p>So the solution is:</p>\n\n<ul>\n<li>(1) disable the 'Read-only' Attribute;</li>\n<li>(2) check out from VCS, let the file under the status of read&amp;write.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19163037,"reputation":11,"user_id":13998414,"display_name":"Newbie10"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644586278,"creation_date":1644586278,"answer_id":71080932,"question_id":10321211,"body_markdown":"Make sure you running as Administrator.\r\nIn Mac terminal:-\r\n\r\n1. Run sudo -i\r\n2. Then execute the commands","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Make sure you running as Administrator.\nIn Mac terminal:-</p>\n<ol>\n<li>Run sudo -i</li>\n<li>Then execute the commands</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15922144,"reputation":97,"user_id":11488835,"display_name":"Ahmed Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663274743,"creation_date":1663274743,"answer_id":73737249,"question_id":10321211,"body_markdown":"To solve this Problem you have to access as Admin or give full Control for user privileges. It solved that Problem with me.","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>To solve this Problem you have to access as Admin or give full Control for user privileges. It solved that Problem with me.</p>\n"},{"tags":[],"owner":{"account_id":151212,"reputation":196,"user_id":364931,"display_name":"Tuula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686575250,"creation_date":1686575250,"answer_id":76456984,"question_id":10321211,"body_markdown":"Our keystore was stored in SCM, and for some reason downloading the file directly from the SCM service again, enabled modifying the keystore.  Probably the earlier download of the file didn&#39;t bring it in binary format. ","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>Our keystore was stored in SCM, and for some reason downloading the file directly from the SCM service again, enabled modifying the keystore.  Probably the earlier download of the file didn't bring it in binary format.</p>\n"}],"owner":{"account_id":1242486,"reputation":2892,"user_id":1204749,"accept_rate":62,"display_name":"cyber101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412020,"favorite_count":0,"down_vote_count":1,"up_vote_count":181,"accepted_answer_id":47669565,"answer_count":14,"score":180,"last_activity_date":1686575250,"creation_date":1335376964,"question_id":10321211,"body_markdown":"I&#39;m trying to connect a Java Web API via HTTPS; however, an exception is thrown:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException\r\n\r\nI followed these steps which I learned from online keytool &amp; SSL cert tutorials:\r\n\r\n1. I copied the HTTPS URL into the browser, downloaded the SSL certificates &amp; Installed them in the browser using Internet Explorer.\r\n\r\n2. Exported the certificates to a path on my computer, the certificates were saved as `.cer`\r\n\r\n3. Used the keytool&#39;s import option. The command below executed without any errors.\r\n\r\n        keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer\r\n\r\n\r\n4. I was prompted for a password at the command prompt, which I entered then I was authenticated. \r\n\r\n5. The `cmd` window printed some certificate data &amp; signatures and I was prompted with the question:  \r\n\r\n    &gt; Trust this certificate?\r\n\r\n I answered yes.\r\n\r\n6. The cmd prompt displayed \r\n  \r\n    &gt; Certificate was added to keystore\r\n\r\n  However after that message, another exception was displayed:\r\n\r\n        keytool error: java.io.FileNotFoundException: C:\\Program files\\...\\cacerts &lt;Access Denied&gt;\r\n\r\nFinally when I checked the keystore , the SSL certificate was not added and my application gives the same exception I was getting earlier when trying to connect:\r\n\r\n    (javax.net.ssl.SSLHandshakeException:sun.security.validator.ValidatorException)","title":"Java Keytool error after importing certificate , &quot;keytool error: java.io.FileNotFoundException &amp; Access Denied&quot;","body":"<p>I'm trying to connect a Java Web API via HTTPS; however, an exception is thrown:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException\n</code></pre>\n\n<p>I followed these steps which I learned from online keytool &amp; SSL cert tutorials:</p>\n\n<ol>\n<li><p>I copied the HTTPS URL into the browser, downloaded the SSL certificates &amp; Installed them in the browser using Internet Explorer.</p></li>\n<li><p>Exported the certificates to a path on my computer, the certificates were saved as <code>.cer</code></p></li>\n<li><p>Used the keytool's import option. The command below executed without any errors.</p>\n\n<pre><code>keytool -import -alias downloadedCertAlias -keystore C:\\path\\to\\my\\keystore\\cacerts.file -file C:\\path\\of\\exportedCert.cer\n</code></pre></li>\n<li><p>I was prompted for a password at the command prompt, which I entered then I was authenticated. </p></li>\n<li><p>The <code>cmd</code> window printed some certificate data &amp; signatures and I was prompted with the question:  </p>\n\n<blockquote>\n  <p>Trust this certificate?</p>\n</blockquote>\n\n<p>I answered yes.</p></li>\n<li><p>The cmd prompt displayed </p>\n\n<blockquote>\n  <p>Certificate was added to keystore</p>\n</blockquote>\n\n<p>However after that message, another exception was displayed:</p>\n\n<pre><code>keytool error: java.io.FileNotFoundException: C:\\Program files\\...\\cacerts &lt;Access Denied&gt;\n</code></pre></li>\n</ol>\n\n<p>Finally when I checked the keystore , the SSL certificate was not added and my application gives the same exception I was getting earlier when trying to connect:</p>\n\n<pre><code>(javax.net.ssl.SSLHandshakeException:sun.security.validator.ValidatorException)\n</code></pre>\n"},{"tags":["java","kotlin","javadoc","kdoc"],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1522939148,"post_id":49675020,"comment_id":86361050,"body_markdown":"It&#39;s a pity that IntelliJ Idea does *not* generate the skeleton when I type `/**` in front of the class - in a similar way as it *does* for method parameters. It is a lost chance to educate us :)","body":"It&#39;s a pity that IntelliJ Idea does <i>not</i> generate the skeleton when I type <code>&#47;**</code> in front of the class - in a similar way as it <i>does</i> for method parameters. It is a lost chance to educate us :)"},{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":4,"creation_date":1522939199,"post_id":49675020,"comment_id":86361097,"body_markdown":"It&#39;s intentional. See http://kotlinlang.org/docs/reference/coding-conventions.html#documentation-comments for an explanation why.","body":"It&#39;s intentional. See <a href=\"http://kotlinlang.org/docs/reference/coding-conventions.html#documentation-comments\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> for an explanation why."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1522939291,"post_id":49675020,"comment_id":86361166,"body_markdown":"That&#39;s a valid point. Please consider enhancing your answer with this information, this *is* educational. I mean that it is intentional and why - you have already touched this reason anyway.","body":"That&#39;s a valid point. Please consider enhancing your answer with this information, this <i>is</i> educational. I mean that it is intentional and why - you have already touched this reason anyway."}],"tags":[],"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1522938934,"creation_date":1522938934,"answer_id":49675020,"question_id":49674951,"body_markdown":"As described in the [documentation](http://kotlinlang.org/docs/reference/kotlin-doc.html), you can use the `@property` tag for this:\r\n\r\n    /**\r\n     * Represents a person.\r\n     * @property firstName The first name.\r\n     * @property lastName The last name.\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n\r\nAlternatively, simply mention the property names in the description of the class, if you don&#39;t have much to say about them in the docs:\r\n\r\n    /**\r\n     * Represents a person, with the given [firstName] and [lastName].\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n ","title":"How to document attributes in Kotlin data class?","body":"<p>As described in the <a href=\"http://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"noreferrer\">documentation</a>, you can use the <code>@property</code> tag for this:</p>\n\n<pre><code>/**\n * Represents a person.\n * @property firstName The first name.\n * @property lastName The last name.\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n\n<p>Alternatively, simply mention the property names in the description of the class, if you don't have much to say about them in the docs:</p>\n\n<pre><code>/**\n * Represents a person, with the given [firstName] and [lastName].\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6572,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":49675020,"answer_count":1,"score":27,"last_activity_date":1686574959,"creation_date":1522938663,"question_id":49674951,"body_markdown":"Where shall I put Javadoc analogy for attributes in KDoc in Kotlin data class?\r\n\r\nIn other words, how to write in Kotlin KDoc the following Java code Javadoc:\r\n\r\n      \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    /**\r\n     * Represents a person.\r\n     */\r\n    public class Person {\r\n        /**\r\n         * First name. -- where to place this documentation in Kotlin?\r\n         */\r\n        private final String firstName;\r\n        /**\r\n         * Last name. -- where to place this documentation in Kotlin?\r\n         */\r\n        private final String lastName;\r\n\r\n        // a lot of boilerplate Java code - getters, equals, hashCode, ...\r\n    }\r\n\r\nIn Kotlin it looks like this:\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    /**\r\n     * Represents a person.\r\n     */\r\n    data class Person(val firstName: String, val lastName: String)\r\n\r\nbut where to put the attributes&#39; documentation?","title":"How to document attributes in Kotlin data class?","body":"<p>Where shall I put Javadoc analogy for attributes in KDoc in Kotlin data class?</p>\n<p>In other words, how to write in Kotlin KDoc the following Java code Javadoc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Represents a person.\n */\npublic class Person {\n    /**\n     * First name. -- where to place this documentation in Kotlin?\n     */\n    private final String firstName;\n    /**\n     * Last name. -- where to place this documentation in Kotlin?\n     */\n    private final String lastName;\n\n    // a lot of boilerplate Java code - getters, equals, hashCode, ...\n}\n</code></pre>\n<p>In Kotlin it looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Represents a person.\n */\ndata class Person(val firstName: String, val lastName: String)\n</code></pre>\n<p>but where to put the attributes' documentation?</p>\n"},{"tags":["java","optaplanner","vehicle-routing","timefold"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1686574384,"post_id":76456731,"comment_id":134812865,"body_markdown":"You can pretend that one vehicle is two vehicles.  You can convert time into distance by assuming an average speed for your rounds.","body":"You can pretend that one vehicle is two vehicles.  You can convert time into distance by assuming an average speed for your rounds."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1686577449,"post_id":76456731,"comment_id":134813610,"body_markdown":"This might be closer to OptaPlanner/Timefold&#39;s [order-picking quickstart](https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/order-picking) than the vehicle routing example.","body":"This might be closer to OptaPlanner/Timefold&#39;s <a href=\"https://github.com/TimefoldAI/timefold-quickstarts/tree/stable/use-cases/order-picking\" rel=\"nofollow noreferrer\">order-picking quickstart</a> than the vehicle routing example."}],"answers":[{"comments":[{"owner":{"account_id":28804601,"reputation":1,"user_id":22060752,"display_name":"Amine El Harchaoui"},"score":0,"creation_date":1686649248,"post_id":76456889,"comment_id":134824634,"body_markdown":"we know travel times and we want to minimize delays, so we don&#39;t have coordinates of our mission but only time departure and arrival time","body":"we know travel times and we want to minimize delays, so we don&#39;t have coordinates of our mission but only time departure and arrival time"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1686652261,"post_id":76456889,"comment_id":134825218,"body_markdown":"For the solver, travel time is effectively the same thing as distance. It is a number that defines how far two places are from one another.","body":"For the solver, travel time is effectively the same thing as distance. It is a number that defines how far two places are from one another."},{"owner":{"account_id":28804601,"reputation":1,"user_id":22060752,"display_name":"Amine El Harchaoui"},"score":0,"creation_date":1686656786,"post_id":76456889,"comment_id":134826231,"body_markdown":"but how can we use our data on OptaPlanner with only travel time ? we tried but without coordinates we can&#39;t have location for our vehicles","body":"but how can we use our data on OptaPlanner with only travel time ? we tried but without coordinates we can&#39;t have location for our vehicles"}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686574632,"creation_date":1686574632,"answer_id":76456889,"question_id":76456731,"body_markdown":"There is a misconception here. OptaPlanner doesn&#39;t require any particular format. (Neither does [Timefold][1], for that matter.) What you are probably describing is the VRP example, which has indeed been designed as you say. That doesn&#39;t mean, however, that the tool does not support anything else.\r\n\r\nIf a &quot;mission&quot; requires 2 vehicles, that can easily be handled using a constraint. If one vehicle is missing on the mission, penalize it. If both are missing, penalize it even more.\r\n\r\nOn the question of coordinates, I am confused. How can you have a vehicle routing problem, and not know where your stops are in relation to one another? Maybe this is not a VRP model after all, but rather task assigning / job shop scheduling? I can not answer that question without understanding your domain.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/","title":"How to create a Vehicle Routing Problem adapted to a stretcher-bearers rounds optimization","body":"<p>There is a misconception here. OptaPlanner doesn't require any particular format. (Neither does <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a>, for that matter.) What you are probably describing is the VRP example, which has indeed been designed as you say. That doesn't mean, however, that the tool does not support anything else.</p>\n<p>If a &quot;mission&quot; requires 2 vehicles, that can easily be handled using a constraint. If one vehicle is missing on the mission, penalize it. If both are missing, penalize it even more.</p>\n<p>On the question of coordinates, I am confused. How can you have a vehicle routing problem, and not know where your stops are in relation to one another? Maybe this is not a VRP model after all, but rather task assigning / job shop scheduling? I can not answer that question without understanding your domain.</p>\n"}],"owner":{"account_id":28804601,"reputation":1,"user_id":22060752,"display_name":"Amine El Harchaoui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574642,"creation_date":1686573343,"question_id":76456731,"body_markdown":"We are a group of French students that work on OptaPlanner to optimize stretcher-bearers rounds for hospital utilization.\r\n\r\nBut OptaPlanner code seems to not be optimized for our problem, let&#39;s suppose the class vehicle corresponds to stretcher-bearers and customer to patients :\r\n- Some missions needs 2 vehicles, OptaPlanner does not offer this possibility\r\n- We have no coordinates for our missions (from CPLEX), only arrival and departure times, while optaplanner simulations require coordinates, and there&#39;s no function for converting time into distance or coordinates\r\n\r\nIs there a way to adapt our problem to OptaPlanner conditions ? Our goal is to have a json file or a .vrptw file including our data and run it on OptaPlanner to simulate stretcher-bearers rounds.\r\n\r\nThanks ! ","title":"How to create a Vehicle Routing Problem adapted to a stretcher-bearers rounds optimization","body":"<p>We are a group of French students that work on OptaPlanner to optimize stretcher-bearers rounds for hospital utilization.</p>\n<p>But OptaPlanner code seems to not be optimized for our problem, let's suppose the class vehicle corresponds to stretcher-bearers and customer to patients :</p>\n<ul>\n<li>Some missions needs 2 vehicles, OptaPlanner does not offer this possibility</li>\n<li>We have no coordinates for our missions (from CPLEX), only arrival and departure times, while optaplanner simulations require coordinates, and there's no function for converting time into distance or coordinates</li>\n</ul>\n<p>Is there a way to adapt our problem to OptaPlanner conditions ? Our goal is to have a json file or a .vrptw file including our data and run it on OptaPlanner to simulate stretcher-bearers rounds.</p>\n<p>Thanks !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1686573984,"post_id":76456782,"comment_id":134812773,"body_markdown":"You are using the Java &quot;script&quot;/&quot;interpreter&quot; mode available since Java 11.","body":"You are using the Java &quot;script&quot;/&quot;interpreter&quot; mode available since Java 11."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686574070,"post_id":76456782,"comment_id":134812791,"body_markdown":"`*.java` is the source file and `*.class` is the file that the JVM runs.  I don&#39;t understand the rest of your statements.  You can&#39;t execute a source file.  It always has to be compiled into a class file.  It may happen dynamically under the covers of an IDE, but it has to happen.","body":"<code>*.java</code> is the source file and <code>*.class</code> is the file that the JVM runs.  I don&#39;t understand the rest of your statements.  You can&#39;t execute a source file.  It always has to be compiled into a class file.  It may happen dynamically under the covers of an IDE, but it has to happen."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1686574290,"post_id":76456782,"comment_id":134812844,"body_markdown":"@GilbertLeBlanc since Java 11 you can start simple java programs using the so called source mode (https://openjdk.org/jeps/330, https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE) with `java source.java`","body":"@GilbertLeBlanc since Java 11 you can start simple java programs using the so called source mode (<a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">openjdk.org/jeps/330</a>, <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/tools/&hellip;</a>) with <code>java source.java</code>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686574537,"post_id":76456782,"comment_id":134812923,"body_markdown":"@ThomasKl&#228;ger: The Java script/interpreter creates class code under the covers.  Okay, it doesn&#39;t create a class &quot;file&quot;.","body":"@ThomasKl&#228;ger: The Java script/interpreter creates class code under the covers.  Okay, it doesn&#39;t create a class &quot;file&quot;."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1686574839,"post_id":76456827,"comment_id":134812985,"body_markdown":"&quot;directly run&quot; should be replaced by &quot;compiled and run&quot; - from the [documentation](https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs): &quot;The source file is then compiled and run.&quot; (nothing about &quot;interpret the source code directly&quot;)","body":"&quot;directly run&quot; should be replaced by &quot;compiled and run&quot; - from the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs\" rel=\"nofollow noreferrer\">documentation</a>: &quot;The source file is then compiled and run.&quot; (nothing about &quot;interpret the source code directly&quot;)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686576221,"post_id":76456827,"comment_id":134813327,"body_markdown":"*&quot;... but it may not always be successful or produce the expected results ...&quot;* - Actually, assuming that all of the dependencies have already been compiled and can be found, `java Main.java` will produce the same results (or errors) as `javac Main.java; java Main` ... except that `Main.class` is not written to the file system.","body":"<i>&quot;... but it may not always be successful or produce the expected results ...&quot;</i> - Actually, assuming that all of the dependencies have already been compiled and can be found, <code>java Main.java</code> will produce the same results (or errors) as <code>javac Main.java; java Main</code> ... except that <code>Main.class</code> is not written to the file system."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":3,"creation_date":1686585751,"post_id":76456827,"comment_id":134815675,"body_markdown":"It&#39;s impressive you managed to read the OP&#39;s post, understand it, and then write all this in 6 minutes (by &quot;you&quot;, I mean ChatGPT).","body":"It&#39;s impressive you managed to read the OP&#39;s post, understand it, and then write all this in 6 minutes (by &quot;you&quot;, I mean ChatGPT)."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1686753026,"post_id":76456827,"comment_id":134842837,"body_markdown":"Welcome to Stack Overflow! Both of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!","body":"Welcome to Stack Overflow! Both of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1686753032,"post_id":76456827,"comment_id":134842839,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1686825351,"post_id":76456827,"comment_id":134853975,"body_markdown":"@user16320675 Thanks - In &quot;Normal times&quot; (from sometime in April to May 31st), I flagged over 1,200 posts, most of which were removed by moderators.  But that changed with the new policy, and then the moderators went on strike (and I&#39;ve joined them).  Several of the SO moderators here have approved my comments as an alternative in the meantime.  When moderators are allowed to take direct action again, I&#39;ll definitely switch back to flagging ;-).","body":"@user16320675 Thanks - In &quot;Normal times&quot; (from sometime in April to May 31st), I flagged over 1,200 posts, most of which were removed by moderators.  But that changed with the new policy, and then the moderators went on strike (and I&#39;ve joined them).  Several of the SO moderators here have approved my comments as an alternative in the meantime.  When moderators are allowed to take direct action again, I&#39;ll definitely switch back to flagging ;-)."}],"tags":[],"owner":{"account_id":28804815,"reputation":36,"user_id":22060922,"display_name":"AnswerMe"},"comment_count":6,"down_vote_count":5,"up_vote_count":3,"is_accepted":true,"score":-2,"last_activity_date":1686574088,"creation_date":1686574088,"answer_id":76456827,"question_id":76456782,"body_markdown":"When you execute the command &quot;java Main.java&quot; in the terminal, it attempts to directly run the Java source file without explicitly compiling it first. The Java Virtual Machine (JVM) responsible for executing Java programs can understand and interpret Java source code directly in certain cases.\r\n\r\nHowever, in most cases, the JVM expects the Java source code to be compiled into bytecode before execution. The bytecode is stored in a separate file with a &quot;.class&quot; extension, such as &quot;Main.class&quot;. This bytecode file is generated by the Java compiler (javac) when you compile the Java source code using the command &quot;javac Main.java&quot;.\r\n\r\nSo, when you execute &quot;java Main.java&quot; without explicitly compiling it, the JVM tries to interpret the source code directly, but it may not always be successful or produce the expected results. It&#39;s generally recommended to compile the Java source code using &quot;javac&quot; to generate the bytecode file and then use &quot;java&quot; to execute the bytecode (e.g., &quot;java Main&quot;).\r\n\r\nIn your case, since you&#39;re experiencing a delay when executing &quot;java Main.java&quot; instead of &quot;java Main&quot;, it&#39;s possible that the JVM is attempting to dynamically compile the source code at runtime, which adds some overhead and additional time for the execution process. However, this behavior may vary depending on the Java implementation and version you&#39;re using.\r\n","title":"What is the difference between java *.java and java *.class","body":"<p>When you execute the command &quot;java Main.java&quot; in the terminal, it attempts to directly run the Java source file without explicitly compiling it first. The Java Virtual Machine (JVM) responsible for executing Java programs can understand and interpret Java source code directly in certain cases.</p>\n<p>However, in most cases, the JVM expects the Java source code to be compiled into bytecode before execution. The bytecode is stored in a separate file with a &quot;.class&quot; extension, such as &quot;Main.class&quot;. This bytecode file is generated by the Java compiler (javac) when you compile the Java source code using the command &quot;javac Main.java&quot;.</p>\n<p>So, when you execute &quot;java Main.java&quot; without explicitly compiling it, the JVM tries to interpret the source code directly, but it may not always be successful or produce the expected results. It's generally recommended to compile the Java source code using &quot;javac&quot; to generate the bytecode file and then use &quot;java&quot; to execute the bytecode (e.g., &quot;java Main&quot;).</p>\n<p>In your case, since you're experiencing a delay when executing &quot;java Main.java&quot; instead of &quot;java Main&quot;, it's possible that the JVM is attempting to dynamically compile the source code at runtime, which adds some overhead and additional time for the execution process. However, this behavior may vary depending on the Java implementation and version you're using.</p>\n"},{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574264,"creation_date":1686574264,"answer_id":76456853,"question_id":76456782,"body_markdown":"The `.java` files are source files, whereas `.class` files are the bytecode generated by `javac` - the Java Compiler.\r\n\r\nBy doing\r\n\r\n    javac HelloWorld.java\r\n\r\nThe compiler generates the bytecode.\r\n\r\nIn general, you do not run the `.java` files without compiling it. If you&#39;re running the project from a IDE, the IDE is *probably* compiling your code and then executing it. It&#39;s a two-step process where the code gets compiled and then executed. You do not see the `.class` compiled files if they were generated by the IDE, because they&#39;re *typically* located in a temporary hidden directory and not in the project directory.","title":"What is the difference between java *.java and java *.class","body":"<p>The <code>.java</code> files are source files, whereas <code>.class</code> files are the bytecode generated by <code>javac</code> - the Java Compiler.</p>\n<p>By doing</p>\n<pre><code>javac HelloWorld.java\n</code></pre>\n<p>The compiler generates the bytecode.</p>\n<p>In general, you do not run the <code>.java</code> files without compiling it. If you're running the project from a IDE, the IDE is <em>probably</em> compiling your code and then executing it. It's a two-step process where the code gets compiled and then executed. You do not see the <code>.class</code> compiled files if they were generated by the IDE, because they're <em>typically</em> located in a temporary hidden directory and not in the project directory.</p>\n"}],"owner":{"account_id":23381261,"reputation":21,"user_id":17447840,"display_name":"PatrickYoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76456827,"answer_count":2,"score":-1,"last_activity_date":1686574264,"creation_date":1686573746,"question_id":76456782,"body_markdown":"Hello Here is very simple code and I&#39;m curious about the difference between &#39;java Main.java and Main.class\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World&quot;);\r\n    }\r\n}\r\n```\r\n\r\nwhen I compile the Main.java source it creates the Main.class and then I know the proccess of the JVM Work but I just got to know That I can execute Main source without compiling\r\n\r\nand it takes a little bit more time when I execute java Main.java \r\n\r\nso why it doesn&#39;t create Main.class when I execute `java Main.java` and how it is possible to execute without creating Main.class file?\r\n\r\n\r\nI expected no Result and error occurs but not..","title":"What is the difference between java *.java and java *.class","body":"<p>Hello Here is very simple code and I'm curious about the difference between 'java Main.java and Main.class</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World&quot;);\n    }\n}\n</code></pre>\n<p>when I compile the Main.java source it creates the Main.class and then I know the proccess of the JVM Work but I just got to know That I can execute Main source without compiling</p>\n<p>and it takes a little bit more time when I execute java Main.java</p>\n<p>so why it doesn't create Main.class when I execute <code>java Main.java</code> and how it is possible to execute without creating Main.class file?</p>\n<p>I expected no Result and error occurs but not..</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":1,"creation_date":1686573737,"post_id":76456757,"comment_id":134812698,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686579443,"post_id":76456757,"comment_id":134814084,"body_markdown":"Let me guess, you are &quot;following&quot; a tutorial for some Spring Boot 2.x version and decided to go with Spring Boot 3.x. Ran into issues with classes not being found, added the `persistence-api` dependency and now things don&#39;t work? Spring Boot 3 is for JakartaEE not JavaEE. Remove said dependency (and maybe some hibernate one you added in the mix) and use the `jakarta.persistence` annotation instead of `javax.persistence`.","body":"Let me guess, you are &quot;following&quot; a tutorial for some Spring Boot 2.x version and decided to go with Spring Boot 3.x. Ran into issues with classes not being found, added the <code>persistence-api</code> dependency and now things don&#39;t work? Spring Boot 3 is for JakartaEE not JavaEE. Remove said dependency (and maybe some hibernate one you added in the mix) and use the <code>jakarta.persistence</code> annotation instead of <code>javax.persistence</code>."},{"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"score":0,"creation_date":1686582792,"post_id":76456757,"comment_id":134814963,"body_markdown":"I changed jakarta.persistence to javax.persistence. But a new error has appeared: Unknown access type record","body":"I changed jakarta.persistence to javax.persistence. But a new error has appeared: Unknown access type record"}],"answers":[{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574147,"creation_date":1686574147,"answer_id":76456838,"question_id":76456757,"body_markdown":"Check if there are any exceptions or error messages in the application logs that can provide insight into the issue. Look for any database-related errors, transaction failures, or constraint violations.\r\n\r\nIf you&#39;re using an existing database schema, ensure that the table structure matches your entity class definitions. If there are any inconsistencies, you may need to update your entity class or perform database schema migrations.\r\n\r\nalso try:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop","title":"I can&#39;t add an object to the database. JPA","body":"<p>Check if there are any exceptions or error messages in the application logs that can provide insight into the issue. Look for any database-related errors, transaction failures, or constraint violations.</p>\n<p>If you're using an existing database schema, ensure that the table structure matches your entity class definitions. If there are any inconsistencies, you may need to update your entity class or perform database schema migrations.</p>\n<p>also try:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n"}],"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574147,"creation_date":1686573562,"question_id":76456757,"body_markdown":"I have a Weather object that I want to add to a postgresql database using JpaRepository.\r\nError code: Not a managed type: class com.example.weather.model.Weather\r\nAlthough there are all dependencies for entering an object into the database.\r\nThe Service class was created with the @Service annotation, through which I tried to enter the object into the database, but the problem remains the same.\r\n\r\n```\r\npackage com.example.weather;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class WeatherApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WeatherApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.weather.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;weather&quot;)\r\npublic class Weather implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n    @Column(name = &quot;temp&quot;)\r\n    @JsonProperty(&quot;temp&quot;)\r\n    private int temp;\r\n    @Column(name = &quot;wind_speed&quot;)\r\n    @JsonProperty(&quot;wind_speed&quot;)\r\n    private double wind_speed;\r\n    @Column(name = &quot;wind_degrees&quot;)\r\n    @JsonProperty(&quot;wind_degrees&quot;)\r\n    private double wind_degrees;\r\n    @Column(name = &quot;humidity&quot;)\r\n    @JsonProperty(&quot;humidity&quot;)\r\n    private int humidity;\r\n    @Column(name = &quot;sunset&quot;)\r\n    @JsonProperty(&quot;sunset&quot;)\r\n    private int sunset;\r\n    @Column(name = &quot;min_temp&quot;)\r\n    @JsonProperty(&quot;min_temp&quot;)\r\n    private int min_temp;\r\n    @Column(name = &quot;cloud_pct&quot;)\r\n    @JsonProperty(&quot;cloud_pct&quot;)\r\n    private int cloud_pct;\r\n    @Column(name = &quot;feels_like&quot;)\r\n    @JsonProperty(&quot;feels_like&quot;)\r\n    private int feels_like;\r\n    @Column(name = &quot;sunrise&quot;)\r\n    @JsonProperty(&quot;sunrise&quot;)\r\n    private int sunrise;\r\n    @Column(name = &quot;max_temp&quot;)\r\n    @JsonProperty(&quot;max_temp&quot;)\r\n    private int max_temp;\r\n\r\n    public void Print(){\r\n        System.out.println(String.format(&quot;id = %s\\ncity = %s\\ntemp = %s\\nwind_speed = %s\\nwind_degrees = %s\\n&quot; +\r\n                &quot;humidity = %s\\nsunset = %s\\nmin_temp = %s\\ncloud_pct = %s\\nfeels_like = %s\\nsunrise = %s\\nmax_temp = %s&quot;,\r\n                id, city, temp, wind_speed, wind_degrees, humidity, sunset, min_temp, cloud_pct, feels_like, sunrise, max_temp));\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.weather.controller;\r\n\r\nimport com.example.weather.jms.WeatherListener;\r\nimport com.example.weather.jms.WeatherProducer;\r\nimport com.example.weather.model.Weather;\r\nimport com.example.weather.repository.WeatherRepository;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/weather&quot;)\r\npublic class WeatherController {\r\n\r\n    private final WeatherProducer weatherProducer;\r\n    private final WeatherListener weatherListener;\r\n    private final WeatherRepository weatherRepository;\r\n\r\n    @Autowired\r\n    public WeatherController(WeatherProducer weatherProducer, WeatherListener weatherListener, WeatherRepository weatherRepository) {\r\n        this.weatherProducer = weatherProducer;\r\n        this.weatherListener = weatherListener;\r\n        this.weatherRepository = weatherRepository;\r\n    }\r\n\r\n    @GetMapping(&quot;{city}&quot;)\r\n    public int getWeather(@PathVariable String city) throws Exception{\r\n        URL url = new URL(&quot;https://api.api-ninjas.com/v1/weather?city=&quot; + city);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.addRequestProperty(&quot;X-Api-Key&quot;, &quot;aCQf5mYIfKNIhy2etdORbQ==4lC2SUpMjyg9CTpq&quot;);\r\n        InputStream responseStream = connection.getInputStream();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode root = mapper.readTree(responseStream);\r\n        Weather weather = mapper.readValue(root.toString(), Weather.class);\r\n        weather.setCity(city);\r\n\r\n        //weatherProducer.sendWeather(weather);\r\n        weatherRepository.save(weather);\r\n\r\n        int currentTemperature = weather.getTemp();\r\n\r\n        return currentTemperature;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.weather.repository;\r\n\r\nimport com.example.weather.model.Weather;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/weather\r\nspring.datasource.username=postgres\r\nspring.datasource.password=12345\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nspring.jpa.database=postgresql\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n```\r\n\r\nI added annotations @EntityScan and @EnableJpaRepositories, but it didn&#39;t solve the problem.","title":"I can&#39;t add an object to the database. JPA","body":"<p>I have a Weather object that I want to add to a postgresql database using JpaRepository.\nError code: Not a managed type: class com.example.weather.model.Weather\nAlthough there are all dependencies for entering an object into the database.\nThe Service class was created with the @Service annotation, through which I tried to enter the object into the database, but the problem remains the same.</p>\n<pre><code>package com.example.weather;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class WeatherApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(WeatherApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.example.weather.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;weather&quot;)\npublic class Weather implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n    @Column(name = &quot;temp&quot;)\n    @JsonProperty(&quot;temp&quot;)\n    private int temp;\n    @Column(name = &quot;wind_speed&quot;)\n    @JsonProperty(&quot;wind_speed&quot;)\n    private double wind_speed;\n    @Column(name = &quot;wind_degrees&quot;)\n    @JsonProperty(&quot;wind_degrees&quot;)\n    private double wind_degrees;\n    @Column(name = &quot;humidity&quot;)\n    @JsonProperty(&quot;humidity&quot;)\n    private int humidity;\n    @Column(name = &quot;sunset&quot;)\n    @JsonProperty(&quot;sunset&quot;)\n    private int sunset;\n    @Column(name = &quot;min_temp&quot;)\n    @JsonProperty(&quot;min_temp&quot;)\n    private int min_temp;\n    @Column(name = &quot;cloud_pct&quot;)\n    @JsonProperty(&quot;cloud_pct&quot;)\n    private int cloud_pct;\n    @Column(name = &quot;feels_like&quot;)\n    @JsonProperty(&quot;feels_like&quot;)\n    private int feels_like;\n    @Column(name = &quot;sunrise&quot;)\n    @JsonProperty(&quot;sunrise&quot;)\n    private int sunrise;\n    @Column(name = &quot;max_temp&quot;)\n    @JsonProperty(&quot;max_temp&quot;)\n    private int max_temp;\n\n    public void Print(){\n        System.out.println(String.format(&quot;id = %s\\ncity = %s\\ntemp = %s\\nwind_speed = %s\\nwind_degrees = %s\\n&quot; +\n                &quot;humidity = %s\\nsunset = %s\\nmin_temp = %s\\ncloud_pct = %s\\nfeels_like = %s\\nsunrise = %s\\nmax_temp = %s&quot;,\n                id, city, temp, wind_speed, wind_degrees, humidity, sunset, min_temp, cloud_pct, feels_like, sunrise, max_temp));\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.weather.controller;\n\nimport com.example.weather.jms.WeatherListener;\nimport com.example.weather.jms.WeatherProducer;\nimport com.example.weather.model.Weather;\nimport com.example.weather.repository.WeatherRepository;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\n@RestController\n@RequestMapping(&quot;/weather&quot;)\npublic class WeatherController {\n\n    private final WeatherProducer weatherProducer;\n    private final WeatherListener weatherListener;\n    private final WeatherRepository weatherRepository;\n\n    @Autowired\n    public WeatherController(WeatherProducer weatherProducer, WeatherListener weatherListener, WeatherRepository weatherRepository) {\n        this.weatherProducer = weatherProducer;\n        this.weatherListener = weatherListener;\n        this.weatherRepository = weatherRepository;\n    }\n\n    @GetMapping(&quot;{city}&quot;)\n    public int getWeather(@PathVariable String city) throws Exception{\n        URL url = new URL(&quot;https://api.api-ninjas.com/v1/weather?city=&quot; + city);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.addRequestProperty(&quot;X-Api-Key&quot;, &quot;aCQf5mYIfKNIhy2etdORbQ==4lC2SUpMjyg9CTpq&quot;);\n        InputStream responseStream = connection.getInputStream();\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode root = mapper.readTree(responseStream);\n        Weather weather = mapper.readValue(root.toString(), Weather.class);\n        weather.setCity(city);\n\n        //weatherProducer.sendWeather(weather);\n        weatherRepository.save(weather);\n\n        int currentTemperature = weather.getTemp();\n\n        return currentTemperature;\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.weather.repository;\n\nimport com.example.weather.model.Weather;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface WeatherRepository extends JpaRepository&lt;Weather, Long&gt; {\n\n}\n\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/weather\nspring.datasource.username=postgres\nspring.datasource.password=12345\nspring.datasource.driver-class-name=org.postgresql.Driver\n\nspring.jpa.database=postgresql\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n</code></pre>\n<p>I added annotations @EntityScan and @EnableJpaRepositories, but it didn't solve the problem.</p>\n"},{"tags":["java","android","kotlin","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574136,"creation_date":1686574136,"answer_id":76456836,"question_id":76454867,"body_markdown":"The [documentation](https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicChanged(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte[])) for the `onCharacteristicChanged` callback states:\r\n\r\n&gt; Callback **triggered as a result of a remote characteristic notification**. Note that the value within the characteristic object may have changed since receiving the remote characteristic notification, so check the parameter value for the value at the time of notification.\r\n\r\nThis means that the characteristic you want this callback to work on must allow notifications and notifications need to be activated. This is a question that handles the activation of BLE notifications:\r\n\r\n[Enabling Bluetooth characteristic Notification in Android (Bluetooth Low Energy ) Not Working](https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy)","title":"onCharacteristicChanged is not called","body":"<p>The <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback#onCharacteristicChanged(android.bluetooth.BluetoothGatt,%20android.bluetooth.BluetoothGattCharacteristic,%20byte%5B%5D)\" rel=\"nofollow noreferrer\">documentation</a> for the <code>onCharacteristicChanged</code> callback states:</p>\n<blockquote>\n<p>Callback <strong>triggered as a result of a remote characteristic notification</strong>. Note that the value within the characteristic object may have changed since receiving the remote characteristic notification, so check the parameter value for the value at the time of notification.</p>\n</blockquote>\n<p>This means that the characteristic you want this callback to work on must allow notifications and notifications need to be activated. This is a question that handles the activation of BLE notifications:</p>\n<p><a href=\"https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy\">Enabling Bluetooth characteristic Notification in Android (Bluetooth Low Energy ) Not Working</a></p>\n"}],"owner":{"account_id":27105255,"reputation":1,"user_id":20651184,"display_name":"Yujin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686574136,"creation_date":1686559061,"question_id":76454867,"body_markdown":"```\r\noverride fun onConnectionStateChange(gatt: BluetoothGatt?, status: Int, newState: Int) {\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                Log.d(TAG,&quot;success&quot;)\r\n                if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\r\n                mGatt?.discoverServices()\r\n            }\r\n            else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                Log.d(TAG,&quot;fale&quot;)\r\n            }\r\n        }\r\n\r\noverride fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\r\n            when(status){\r\n                BluetoothGatt.GATT_SUCCESS -&gt; {\r\n                    if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\r\n\r\n                    for (service in gatt.services) {\r\n                        for (characteristic in service.getCharacteristics()) {\r\n                            if(hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_READ)) {\r\n                                Log.d(TAG + &quot;Read &quot;, characteristic.uuid.toString())\r\n                                gatt.readCharacteristic(characteristic)\r\n                            }\r\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_NOTIFY)) {\r\n                                Log.d(TAG + &quot;NOTIFY &quot;, characteristic.uuid.toString())\r\n                                gatt.setCharacteristicNotification(characteristic, true)\r\n\r\n                                val descriptor = characteristic.getDescriptor(UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;))\r\n                                descriptor.value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\r\n                                gatt.writeDescriptor(descriptor)\r\n                            }\r\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_WRITE)){\r\n                                Log.d(TAG + &quot;Write &quot;, characteristic.uuid.toString())\r\n                                gatt.writeCharacteristic(characteristic)\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\noverride fun onCharacteristicChanged(gatt: BluetoothGatt, characteristic: BluetoothGattCharacteristic, value: ByteArray) {\r\n            super.onCharacteristicChanged(gatt, characteristic, value)\r\n            Log.d(TAG,&quot;onCharacteristicChanged&quot;)\r\n        }\r\n```\r\n\r\nIn onConnectionStateChange, success log is output normally\r\n\r\nCalled normally from onServicesDiscovered to GATT_SUCCESS.\r\n\r\nBut onCharacteristicChanged is not called.\r\n\r\nWhich part is wrong or need to be added?\r\n\r\n\r\n\r\n\r\nIn the nRF Connect app, the value is normally displayed with the same Bluetooth module.","title":"onCharacteristicChanged is not called","body":"<pre><code>override fun onConnectionStateChange(gatt: BluetoothGatt?, status: Int, newState: Int) {\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                Log.d(TAG,&quot;success&quot;)\n                if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\n                mGatt?.discoverServices()\n            }\n            else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                Log.d(TAG,&quot;fale&quot;)\n            }\n        }\n\noverride fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\n            when(status){\n                BluetoothGatt.GATT_SUCCESS -&gt; {\n                    if (ActivityCompat.checkSelfPermission(this@MainActivity, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {  }\n\n                    for (service in gatt.services) {\n                        for (characteristic in service.getCharacteristics()) {\n                            if(hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_READ)) {\n                                Log.d(TAG + &quot;Read &quot;, characteristic.uuid.toString())\n                                gatt.readCharacteristic(characteristic)\n                            }\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_NOTIFY)) {\n                                Log.d(TAG + &quot;NOTIFY &quot;, characteristic.uuid.toString())\n                                gatt.setCharacteristicNotification(characteristic, true)\n\n                                val descriptor = characteristic.getDescriptor(UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;))\n                                descriptor.value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\n                                gatt.writeDescriptor(descriptor)\n                            }\n                            if( hasProperty(characteristic.properties, BluetoothGattCharacteristic.PROPERTY_WRITE)){\n                                Log.d(TAG + &quot;Write &quot;, characteristic.uuid.toString())\n                                gatt.writeCharacteristic(characteristic)\n                            }\n\n                        }\n                    }\n                }\n            }\n        }\n\noverride fun onCharacteristicChanged(gatt: BluetoothGatt, characteristic: BluetoothGattCharacteristic, value: ByteArray) {\n            super.onCharacteristicChanged(gatt, characteristic, value)\n            Log.d(TAG,&quot;onCharacteristicChanged&quot;)\n        }\n</code></pre>\n<p>In onConnectionStateChange, success log is output normally</p>\n<p>Called normally from onServicesDiscovered to GATT_SUCCESS.</p>\n<p>But onCharacteristicChanged is not called.</p>\n<p>Which part is wrong or need to be added?</p>\n<p>In the nRF Connect app, the value is normally displayed with the same Bluetooth module.</p>\n"},{"tags":["java","guava","apache-commons-collection"],"comments":[{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":1,"creation_date":1348046942,"post_id":12490955,"comment_id":16808262,"body_markdown":"If you want `subList` from your collection, you shouldn&#39;t use `Set` in first place since its iteration order is **undefined** and your implementation can yield different results depending on... phase of the moon.","body":"If you want <code>subList</code> from your collection, you shouldn&#39;t use <code>Set</code> in first place since its iteration order is <b>undefined</b> and your implementation can yield different results depending on... phase of the moon."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348054823,"post_id":12490955,"comment_id":16811393,"body_markdown":"How do you know that order of elements in my `Set` is undefined?","body":"How do you know that order of elements in my <code>Set</code> is undefined?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":0,"creation_date":1348055293,"post_id":12490955,"comment_id":16811582,"body_markdown":"From Java Collections API - see [iterator() description in `Set`](http://docs.oracle.com/javase/6/docs/api/java/util/Set.html#iterator()). The `Set` interface itself makes adds nothing to `Collection` contract about iteration order; Set implementations on the other hand [_can_ order its elements somehow](http://docs.oracle.com/javase/tutorial/collections/interfaces/set.html) (TreeSet and LinkedHashSet does).","body":"From Java Collections API - see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Set.html#iterator()\" rel=\"nofollow noreferrer\">iterator() description in <code>Set</code></a>. The <code>Set</code> interface itself makes adds nothing to <code>Collection</code> contract about iteration order; Set implementations on the other hand <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/set.html\" rel=\"nofollow noreferrer\"><i>can</i> order its elements somehow</a> (TreeSet and LinkedHashSet does)."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348071711,"post_id":12490955,"comment_id":16819396,"body_markdown":"How do you know that my `Set` implementation is not adding iteration order to it?","body":"How do you know that my <code>Set</code> implementation is not adding iteration order to it?"},{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":1,"creation_date":1348072746,"post_id":12490955,"comment_id":16819874,"body_markdown":"I don&#39;t know your impl, but in method signature there&#39;s no `YourSet` but `Set` parameter and thus method can (you don&#39;t forbid it) be invoked as `sublist(new HashSet(Arrays.asList(2,3,1), 2)` which _can_ yeild different result than `sublist(new LinkedHashSet(Arrays.asList(2,3,1), 2)`.","body":"I don&#39;t know your impl, but in method signature there&#39;s no <code>YourSet</code> but <code>Set</code> parameter and thus method can (you don&#39;t forbid it) be invoked as <code>sublist(new HashSet(Arrays.asList(2,3,1), 2)</code> which <i>can</i> yeild different result than <code>sublist(new LinkedHashSet(Arrays.asList(2,3,1), 2)</code>."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348074619,"post_id":12490955,"comment_id":16820624,"body_markdown":"`Set` iteration order is not undefined, as you said above. It may be defined by `Set` interface in any possible way. Keep in mind that `HashSet` and `LinkedHashSet` are just a few possible implementations.","body":"<code>Set</code> iteration order is not undefined, as you said above. It may be defined by <code>Set</code> interface in any possible way. Keep in mind that <code>HashSet</code> and <code>LinkedHashSet</code> are just a few possible implementations."}],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348043338,"creation_date":1348043338,"answer_id":12490999,"question_id":12490955,"body_markdown":"This should do it:\r\n\r\n    return (new LinkedList&lt;T&gt;(set)).subList(0, count);\r\n\r\nBut ensure, that `count` isn&#39;t larger than the size of `set`.","title":"One liner for getting a sublist from a Set","body":"<p>This should do it:</p>\n\n<pre><code>return (new LinkedList&lt;T&gt;(set)).subList(0, count);\n</code></pre>\n\n<p>But ensure, that <code>count</code> isn't larger than the size of <code>set</code>.</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1348043347,"creation_date":1348043347,"answer_id":12491002,"question_id":12490955,"body_markdown":"    (new LinkedList&lt;Object&gt;(mySet)).sublist(0, Math.min(count, mySet.size()))\r\n\r\nBut please note: the code (even your original code) is a little bit smelly, since iteration order of sets depends on the actual set implementation in question (it&#39;s totally undefined in `HashSet` and the key order for `TreeSet`s). So, it is actually an open question, which elements make it into the final sublist.","title":"One liner for getting a sublist from a Set","body":"<pre><code>(new LinkedList&lt;Object&gt;(mySet)).sublist(0, Math.min(count, mySet.size()))\n</code></pre>\n\n<p>But please note: the code (even your original code) is a little bit smelly, since iteration order of sets depends on the actual set implementation in question (it's totally undefined in <code>HashSet</code> and the key order for <code>TreeSet</code>s). So, it is actually an open question, which elements make it into the final sublist.</p>\n"},{"comments":[{"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"score":0,"creation_date":1348090339,"post_id":12491006,"comment_id":16826903,"body_markdown":"This concrete snippet would give `IndexOutOfBoundsException` ;)","body":"This concrete snippet would give <code>IndexOutOfBoundsException</code> ;)"},{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1348126349,"post_id":12491006,"comment_id":16834227,"body_markdown":"@Xaerxess ah yes you are correct. Let me update the code sample. Thanks","body":"@Xaerxess ah yes you are correct. Let me update the code sample. Thanks"}],"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348126373,"creation_date":1348043357,"answer_id":12491006,"question_id":12490955,"body_markdown":"What about this\r\n\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;();\r\n    // add at least two items to the set \r\n    Set&lt;String&gt; subSet = new HashSet(new ArrayList&lt;String&gt;(s).subList(1, 2));\r\n\r\nThis would sublist between 1 and 2","title":"One liner for getting a sublist from a Set","body":"<p>What about this</p>\n\n<pre><code>Set&lt;String&gt; s = new HashSet&lt;String&gt;();\n// add at least two items to the set \nSet&lt;String&gt; subSet = new HashSet(new ArrayList&lt;String&gt;(s).subList(1, 2));\n</code></pre>\n\n<p>This would sublist between 1 and 2</p>\n"},{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1348046419,"post_id":12491012,"comment_id":16808067,"body_markdown":"that&#39;s against the requirements explained above. I don&#39;t know the values of elements, I just need to get a number of them","body":"that&#39;s against the requirements explained above. I don&#39;t know the values of elements, I just need to get a number of them"},{"owner":{"account_id":1765615,"reputation":925,"user_id":1611568,"display_name":"Chris B"},"score":0,"creation_date":1348047956,"post_id":12491012,"comment_id":16808678,"body_markdown":"@yegor256 I do apoligise. I have added a method onto the end which I think may be more along the lines of what you wanted?","body":"@yegor256 I do apoligise. I have added a method onto the end which I think may be more along the lines of what you wanted?"}],"tags":[],"owner":{"account_id":1765615,"reputation":925,"user_id":1611568,"display_name":"Chris B"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348047825,"creation_date":1348043376,"answer_id":12491012,"question_id":12490955,"body_markdown":"You could use a [TreeSet][1] and use it&#39;s [subSet][2] method:\r\n\r\n&gt; Returns a view of the portion of this set whose elements range from fromElement to toElement. If fromElement and toElement are equal, the returned set is empty unless fromExclusive and toExclusive are both true. The returned set is backed by this set, so changes in the returned set are reflected in this set, and vice-versa. The returned set supports all optional set operations that this set supports.\r\n\r\n**EXAMPLE USING INTEGER:**\r\n\r\n    TreeSet&lt;Integer&gt; t = new TreeSet&lt;Integer&gt;();\r\n    t.add(1);\r\n    t.add(2);\r\n    t.add(3);\r\n    t.add(4);\r\n    t.add(5);\r\n    \r\n    System.out.println(&quot;Before SubSet:&quot;);\r\n        \r\n    for(Integer s : t){\r\n        System.out.println(s);\r\n    }\r\n    \r\n    System.out.println(&quot;\\nAfter SubSet:&quot;);\r\n    \r\n\r\n    for(Integer s : t.subSet(2,false,5,true)){\r\n        System.out.println(s);\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    Before SubSet:\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    \r\n    After SubSet:\r\n    3\r\n    4\r\n    5\r\n\r\nAlternatively, If you do not know the elements and want to return the elements between two points you can use an ArrayList constructed with the Set and use the [subList][3] method.\r\n    \r\n    System.out.println(&quot;\\nAfter SubSet:&quot;);\r\n    \r\n    t = new TreeSet(new ArrayList(t).subList(2, 5));\r\n\r\n    for(Integer s : t){\r\n        System.out.println(s);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html#subSet%28E,%20boolean,%20E,%20boolean%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29","title":"One liner for getting a sublist from a Set","body":"<p>You could use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"nofollow\">TreeSet</a> and use it's <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html#subSet%28E,%20boolean,%20E,%20boolean%29\" rel=\"nofollow\">subSet</a> method:</p>\n\n<blockquote>\n  <p>Returns a view of the portion of this set whose elements range from fromElement to toElement. If fromElement and toElement are equal, the returned set is empty unless fromExclusive and toExclusive are both true. The returned set is backed by this set, so changes in the returned set are reflected in this set, and vice-versa. The returned set supports all optional set operations that this set supports.</p>\n</blockquote>\n\n<p><strong>EXAMPLE USING INTEGER:</strong></p>\n\n<pre><code>TreeSet&lt;Integer&gt; t = new TreeSet&lt;Integer&gt;();\nt.add(1);\nt.add(2);\nt.add(3);\nt.add(4);\nt.add(5);\n\nSystem.out.println(\"Before SubSet:\");\n\nfor(Integer s : t){\n    System.out.println(s);\n}\n\nSystem.out.println(\"\\nAfter SubSet:\");\n\n\nfor(Integer s : t.subSet(2,false,5,true)){\n    System.out.println(s);\n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>Before SubSet:\n1\n2\n3\n4\n5\n\nAfter SubSet:\n3\n4\n5\n</code></pre>\n\n<p>Alternatively, If you do not know the elements and want to return the elements between two points you can use an ArrayList constructed with the Set and use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29\" rel=\"nofollow\">subList</a> method.</p>\n\n<pre><code>System.out.println(\"\\nAfter SubSet:\");\n\nt = new TreeSet(new ArrayList(t).subList(2, 5));\n\nfor(Integer s : t){\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1348048687,"creation_date":1348044065,"answer_id":12491184,"question_id":12490955,"body_markdown":"Without creating a copy of the `Set` beforehand, you can do (using Guava) :\r\n\r\n    Lists.newLinkedList(Iterables.getFirst(Iterables.partition(mySet, count), ImmutableList.of()))\r\n\r\nIt&#39;s a real `LinkedList` containing only (up to) the first `count` elements, not a view on a larger list.","title":"One liner for getting a sublist from a Set","body":"<p>Without creating a copy of the <code>Set</code> beforehand, you can do (using Guava) :</p>\n\n<pre><code>Lists.newLinkedList(Iterables.getFirst(Iterables.partition(mySet, count), ImmutableList.of()))\n</code></pre>\n\n<p>It's a real <code>LinkedList</code> containing only (up to) the first <code>count</code> elements, not a view on a larger list.</p>\n"},{"comments":[{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":0,"creation_date":1348107324,"post_id":12503613,"comment_id":16830138,"body_markdown":"+1 &#39;new XXXList(set)&#39; processes ALL elements in Set, FluentIterable does not.","body":"+1 &#39;new XXXList(set)&#39; processes ALL elements in Set, FluentIterable does not."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1416567806,"post_id":12503613,"comment_id":42634260,"body_markdown":"Starting from Guava 3.0, it&#39;s possible to do it as `Iterables.limit(set, count);`. Simpler API, IMHO.","body":"Starting from Guava 3.0, it&#39;s possible to do it as <code>Iterables.limit(set, count);</code>. Simpler API, IMHO."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1416583718,"post_id":12503613,"comment_id":42643235,"body_markdown":"@XtremeBiker: This approach converts it to a `List`, which I believed was part of the question.","body":"@XtremeBiker: This approach converts it to a <code>List</code>, which I believed was part of the question."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1348092554,"creation_date":1348092554,"answer_id":12503613,"question_id":12490955,"body_markdown":"With Guava:\r\n\r\n    return FluentIterable.from(set) \r\n      .limit(count)\r\n      .toImmutableList();\r\n\r\n(Also, this won&#39;t actually iterate over the whole set, in contrast to most of these other solutions -- it&#39;ll _actually_ only iterate through the first `count` elements and then stop.)","title":"One liner for getting a sublist from a Set","body":"<p>With Guava:</p>\n\n<pre><code>return FluentIterable.from(set) \n  .limit(count)\n  .toImmutableList();\n</code></pre>\n\n<p>(Also, this won't actually iterate over the whole set, in contrast to most of these other solutions -- it'll <em>actually</em> only iterate through the first <code>count</code> elements and then stop.)</p>\n"},{"tags":[],"owner":{"account_id":362620,"reputation":216,"user_id":705908,"display_name":"Adil Kara&#246;z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686573301,"creation_date":1686573301,"answer_id":76456724,"question_id":12490955,"body_markdown":"with java 8\r\n\r\n    set.stream().limit(limit).collect(Collectors.toList());","title":"One liner for getting a sublist from a Set","body":"<p>with java 8</p>\n<pre><code>set.stream().limit(limit).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12503613,"answer_count":7,"score":5,"last_activity_date":1686573301,"creation_date":1348043128,"question_id":12490955,"body_markdown":"Is there a one-liner (maybe from Guava or Apache Collections) that gets a sublist from a set. Internally it should do something like this:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; sublist(Set&lt;T&gt; set, int count) {\r\n      Iterator&lt;T&gt; iterator = set.iterator();\r\n      List&lt;T&gt; sublist = new LinkedList&lt;T&gt;();\r\n      int pos = 0;\r\n      while (iterator.hasNext() &amp;&amp; pos++ &lt; count) {\r\n        sublist.add(iterator.next());\r\n      }\r\n      return sublist;\r\n    }\r\n\r\nObviously, if there are not enough elements it has to return as many as possible.","title":"One liner for getting a sublist from a Set","body":"<p>Is there a one-liner (maybe from Guava or Apache Collections) that gets a sublist from a set. Internally it should do something like this:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; sublist(Set&lt;T&gt; set, int count) {\n  Iterator&lt;T&gt; iterator = set.iterator();\n  List&lt;T&gt; sublist = new LinkedList&lt;T&gt;();\n  int pos = 0;\n  while (iterator.hasNext() &amp;&amp; pos++ &lt; count) {\n    sublist.add(iterator.next());\n  }\n  return sublist;\n}\n</code></pre>\n\n<p>Obviously, if there are not enough elements it has to return as many as possible.</p>\n"},{"tags":["java","android","android-studio","mpchart"],"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686573197,"creation_date":1686573197,"question_id":76456711,"body_markdown":"I&#39;ve implemented a line chart from mp chart android but the thing is there are two buttons full view and a yearly view, in full view, I&#39;m setting zoom to x 0,y 0. but in yearly view, I am zooming in the graph. this is working fine \r\nbut the problem is when I scroll the graph and press the button full view while the graph is scrolling zooming out does not work. but when the graph scrolls idle both yearly and full-view functionalities are working fine.\r\n\r\n```\r\nprivate void changeSelectionOfView(int i) {\r\n        switch (i) {\r\n            case 1:\r\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\r\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                lineChart.zoom(10f, 1, hightligh.getX(), hightligh.getY(), YAxis.AxisDependency.LEFT);\r\n                llYearly.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\r\n                llFullView.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\r\n                    popupWindow.dismiss();\r\n                }\r\n                break;\r\n            case 2:\r\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\r\n                llFullView.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\r\n                llYearly.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\r\n                lineChart.fitScreen();\r\n//              lineChart.zoomToCenter(0, 0);\r\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\r\n                    popupWindow.dismiss();\r\n                }\r\n                break;\r\n        }\r\n        lineChart.invalidate();\r\n}\r\n```\r\n\r\nthis is the code i&#39;m using case 1 is for yearly view and case 2 is for full view. i&#39;ve tried fit screen but it does not work either.","title":"Scroll and zooming does not work simultaneously in MpChart android","body":"<p>I've implemented a line chart from mp chart android but the thing is there are two buttons full view and a yearly view, in full view, I'm setting zoom to x 0,y 0. but in yearly view, I am zooming in the graph. this is working fine\nbut the problem is when I scroll the graph and press the button full view while the graph is scrolling zooming out does not work. but when the graph scrolls idle both yearly and full-view functionalities are working fine.</p>\n<pre><code>private void changeSelectionOfView(int i) {\n        switch (i) {\n            case 1:\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\n                lineChart.zoom(10f, 1, hightligh.getX(), hightligh.getY(), YAxis.AxisDependency.LEFT);\n                llYearly.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\n                llFullView.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\n                    popupWindow.dismiss();\n                }\n                break;\n            case 2:\n                txvFullView.setTextColor(ContextCompat.getColor(requireContext(), R.color.white));\n                txvYearly.setTextColor(ContextCompat.getColor(requireContext(), R.color.Pennyworthgray1));\n                llFullView.setBackground(ContextCompat.getDrawable(requireContext(), R.drawable.primary_btnn_shape_app_generic_selected));\n                llYearly.setBackgroundColor(ContextCompat.getColor(requireContext(), R.color.white));\n                lineChart.fitScreen();\n//              lineChart.zoomToCenter(0, 0);\n                if (popupWindow != null &amp;&amp; popupWindow.isShowing()) {\n                    popupWindow.dismiss();\n                }\n                break;\n        }\n        lineChart.invalidate();\n}\n</code></pre>\n<p>this is the code i'm using case 1 is for yearly view and case 2 is for full view. i've tried fit screen but it does not work either.</p>\n"},{"tags":["java","owasp"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685477214,"post_id":76367726,"comment_id":134664914,"body_markdown":"OWASP is an organization. What library are you using exactly?","body":"OWASP is an organization. What library are you using exactly?"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1685903841,"post_id":76367726,"comment_id":134722677,"body_markdown":"https://owasp.org/www-project-java-html-sanitizer/","body":"<a href=\"https://owasp.org/www-project-java-html-sanitizer/\" rel=\"nofollow noreferrer\">owasp.org/www-project-java-html-sanitizer</a>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1686087869,"post_id":76367726,"comment_id":134750742,"body_markdown":"Please, could you provide a failing test case? `HtmlPolicyBuilder builder = new HtmlPolicyBuilder()\n        .allowStyling()\n        .allowElements(&quot;div&quot;, &quot;span)\n        .toFactory();` doesn&#39;t work? Please, consider review the [tests cases](https://github.com/OWASP/java-html-sanitizer/blob/main/src/test/java/org/owasp/html/HtmlPolicyBuilderTest.java) and [this example policy](https://github.com/OWASP/java-html-sanitizer/blob/35c506cfd452dba634202f13a7cc2e2a63ad7ee0/src/main/java/org/owasp/html/examples/EbayPolicyExample.java#L124) provided for the library, I think they will be of help.","body":"Please, could you provide a failing test case? <code>HtmlPolicyBuilder builder = new HtmlPolicyBuilder()         .allowStyling()         .allowElements(&quot;div&quot;, &quot;span)         .toFactory();</code> doesn&#39;t work? Please, consider review the <a href=\"https://github.com/OWASP/java-html-sanitizer/blob/main/src/test/java/org/owasp/html/HtmlPolicyBuilderTest.java\" rel=\"nofollow noreferrer\">tests cases</a> and <a href=\"https://github.com/OWASP/java-html-sanitizer/blob/35c506cfd452dba634202f13a7cc2e2a63ad7ee0/src/main/java/org/owasp/html/examples/EbayPolicyExample.java#L124\" rel=\"nofollow noreferrer\">this example policy</a> provided for the library, I think they will be of help."}],"answers":[{"tags":[],"owner":{"account_id":8034641,"reputation":123,"user_id":6058222,"display_name":"tscz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686499415,"creation_date":1686499415,"answer_id":76451326,"question_id":76367726,"body_markdown":"If you want to allow styling overall you have to specify the allowed elements like `&lt;span&gt;`,`&lt;div&gt;` or `&lt;p&gt;` explicitly because the OWASP Sanitizer is white-list filter and not a blacklist filter based. Only then you can use `.allowStyling()` properly.\r\n\r\nThere are some convenience helpers like `.allowCommonInlineFormattingElements()` in the factory builder such that you do not have to list the element names. You should be able to allow styling for all elements with:       \r\n\r\n    var POLICY_DEFINITION = new HtmlPolicyBuilder()\r\n                    .allowCommonBlockElements()\r\n                    .allowCommonInlineFormattingElements()\r\n                    .allowStyling()\r\n                    .toFactory();","title":"How can I allow &lt;span&gt; and &lt;div&gt; with styling using OWASP?","body":"<p>If you want to allow styling overall you have to specify the allowed elements like <code>&lt;span&gt;</code>,<code>&lt;div&gt;</code> or <code>&lt;p&gt;</code> explicitly because the OWASP Sanitizer is white-list filter and not a blacklist filter based. Only then you can use <code>.allowStyling()</code> properly.</p>\n<p>There are some convenience helpers like <code>.allowCommonInlineFormattingElements()</code> in the factory builder such that you do not have to list the element names. You should be able to allow styling for all elements with:</p>\n<pre><code>var POLICY_DEFINITION = new HtmlPolicyBuilder()\n                .allowCommonBlockElements()\n                .allowCommonInlineFormattingElements()\n                .allowStyling()\n                .toFactory();\n</code></pre>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686573035,"creation_date":1685472028,"question_id":76367726,"body_markdown":"In the following code:\r\n\r\n    private static final PolicyFactory POLICY_DEFINITION = new HtmlPolicyBuilder()\r\n        .allowElements(&quot;span&quot;)\r\n        .allowWithoutAttributes(&quot;span&quot;)\r\n        .allowAttributes(&quot;style&quot;).onElements(&quot;span&quot;)\r\n    //    .allowStyling()\r\n         .toFactory()\r\n\r\nThe second I add `allowStyling()` then any span element immediately fails. In other words I want to allow styling overall but the only way I could get it to work with `&lt;span&gt;` or `&lt;div&gt;` was to add them manually like the above. However when I want to add styling to other elements such as `&lt;p&gt;` then it all has to be done manually and cannot just be called through `allowStyling()`. \r\n\r\nI did find this report but it&#39;s some years old and the solution doesn&#39;t work (what inspired the above code). Even if you put `allowStyling()` before or after the above code block.\r\n\r\nThe library I&#39;m using is: https://owasp.org/www-project-java-html-sanitizer/\r\n\r\n\r\n\r\n\r\n","title":"How can I allow &lt;span&gt; and &lt;div&gt; with styling using OWASP?","body":"<p>In the following code:</p>\n<pre><code>private static final PolicyFactory POLICY_DEFINITION = new HtmlPolicyBuilder()\n    .allowElements(&quot;span&quot;)\n    .allowWithoutAttributes(&quot;span&quot;)\n    .allowAttributes(&quot;style&quot;).onElements(&quot;span&quot;)\n//    .allowStyling()\n     .toFactory()\n</code></pre>\n<p>The second I add <code>allowStyling()</code> then any span element immediately fails. In other words I want to allow styling overall but the only way I could get it to work with <code>&lt;span&gt;</code> or <code>&lt;div&gt;</code> was to add them manually like the above. However when I want to add styling to other elements such as <code>&lt;p&gt;</code> then it all has to be done manually and cannot just be called through <code>allowStyling()</code>.</p>\n<p>I did find this report but it's some years old and the solution doesn't work (what inspired the above code). Even if you put <code>allowStyling()</code> before or after the above code block.</p>\n<p>The library I'm using is: <a href=\"https://owasp.org/www-project-java-html-sanitizer/\" rel=\"nofollow noreferrer\">https://owasp.org/www-project-java-html-sanitizer/</a></p>\n"},{"tags":["java","spring-boot","api","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686570828,"post_id":76456289,"comment_id":134812016,"body_markdown":"And what should it render? Just suggesting it to render a page doesn&#39;t automagically make a page appear. You will need a `login.html` (if you are using Thymeleaf) or whatever the equivalent is for your view technology in use.","body":"And what should it render? Just suggesting it to render a page doesn&#39;t automagically make a page appear. You will need a <code>login.html</code> (if you are using Thymeleaf) or whatever the equivalent is for your view technology in use."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1686572327,"post_id":76456289,"comment_id":134812343,"body_markdown":"Share servlet configuration please.","body":"Share servlet configuration please."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1686572431,"post_id":76456289,"comment_id":134812368,"body_markdown":"And if you can, give link to the git. It will show all info.","body":"And if you can, give link to the git. It will show all info."}],"answers":[{"tags":[],"owner":{"account_id":8368854,"reputation":11,"user_id":6284588,"display_name":"Ashutosh Dwivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686572070,"creation_date":1686572070,"answer_id":76456585,"question_id":76456289,"body_markdown":"I see slash is missing , There is two ways we can define slash in the Request Mapping URL . \r\n\r\n1) Either end class level URL with slash , so in your case @RequestMapping(&quot;/api/auth/&quot;)\r\n\r\nand in the getMapping or PostMapping start without slash so that when the code compile and run , the correct URL path can be generated . \r\n\r\n2) Leave the class level URL as it is without end with slash , so in your case @RequestMapping(&quot;/api/auth&quot;)\r\n\r\nand in the getMapping or PostMapping start with slash so that when the code compile and run , the correct URL path can be generated. \r\n\r\n\r\n\r\nIn the current code there is a issue which can be corrected by accepting either point 1 or point 2 . \r\n\r\nThanks , \r\nAshutosh ","title":"Java Springboot Multiple rest controllers dont work, why?","body":"<p>I see slash is missing , There is two ways we can define slash in the Request Mapping URL .</p>\n<ol>\n<li>Either end class level URL with slash , so in your case @RequestMapping(&quot;/api/auth/&quot;)</li>\n</ol>\n<p>and in the getMapping or PostMapping start without slash so that when the code compile and run , the correct URL path can be generated .</p>\n<ol start=\"2\">\n<li>Leave the class level URL as it is without end with slash , so in your case @RequestMapping(&quot;/api/auth&quot;)</li>\n</ol>\n<p>and in the getMapping or PostMapping start with slash so that when the code compile and run , the correct URL path can be generated.</p>\n<p>In the current code there is a issue which can be corrected by accepting either point 1 or point 2 .</p>\n<p>Thanks ,\nAshutosh</p>\n"}],"owner":{"account_id":26901976,"reputation":1,"user_id":20478976,"display_name":"el merrre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686572070,"creation_date":1686569897,"question_id":76456289,"body_markdown":"Im trying to write 2 rest controllers in separate files.\r\n\r\nhere is one controller:\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class AuthController {\r\n@PostMapping(&quot;login&quot;)\r\n    public ResponseEntity&lt;JwtAuthResponeDto&gt; login(@RequestBody LoginDto loginDto){\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                loginDto.getUsername(),\r\n                loginDto.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        String token = jwtTokenProvider.generateToken(authentication);\r\n        return new ResponseEntity&lt;&gt;(new JwtAuthResponeDto(token), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;register&quot;)\r\n    public ResponseEntity&lt;String&gt; register(@RequestBody RegisterDto registerDto) {\r\n        if (userRepository.existsByUsername(registerDto.getUsername())) {\r\n            return new ResponseEntity&lt;&gt;(&quot;Username is taken!&quot;, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        UserEntity user = new UserEntity();\r\n        user.setUsername(registerDto.getUsername());\r\n        user.setPassword(passwordEncoder.encode((registerDto.getPassword())));\r\n\r\n        RoleEntity role = roleRepository.findByName(&quot;role_user&quot;).get();\r\n        user.setRoles(Collections.singletonList(role));\r\n\r\n        userRepository.save(user);\r\n\r\n        return new ResponseEntity&lt;&gt;(&quot;User registered success!&quot;, HttpStatus.OK);\r\n    }}\r\n```\r\n\r\n\r\nhere is second:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/views&quot;)\r\npublic class ViewController {\r\n \r\n    @GetMapping(&quot;login&quot;)\r\n    public ModelAndView login(){\r\n        return new ModelAndView(&quot;login&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe View Controller dont show the view, Why?  But when i put this GetMapping to first controller then it works fine, Why?\r\n\r\nApp is running and when i put /views/login  webbrowser dont hsow anything and i get on terminal:\r\n2023-06-12 13:20:59.994  INFO 10516 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-06-12 13:20:59.995  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-06-12 13:21:00.003  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms","title":"Java Springboot Multiple rest controllers dont work, why?","body":"<p>Im trying to write 2 rest controllers in separate files.</p>\n<p>here is one controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n@PostMapping(&quot;login&quot;)\n    public ResponseEntity&lt;JwtAuthResponeDto&gt; login(@RequestBody LoginDto loginDto){\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                loginDto.getUsername(),\n                loginDto.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String token = jwtTokenProvider.generateToken(authentication);\n        return new ResponseEntity&lt;&gt;(new JwtAuthResponeDto(token), HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;register&quot;)\n    public ResponseEntity&lt;String&gt; register(@RequestBody RegisterDto registerDto) {\n        if (userRepository.existsByUsername(registerDto.getUsername())) {\n            return new ResponseEntity&lt;&gt;(&quot;Username is taken!&quot;, HttpStatus.BAD_REQUEST);\n        }\n\n        UserEntity user = new UserEntity();\n        user.setUsername(registerDto.getUsername());\n        user.setPassword(passwordEncoder.encode((registerDto.getPassword())));\n\n        RoleEntity role = roleRepository.findByName(&quot;role_user&quot;).get();\n        user.setRoles(Collections.singletonList(role));\n\n        userRepository.save(user);\n\n        return new ResponseEntity&lt;&gt;(&quot;User registered success!&quot;, HttpStatus.OK);\n    }}\n</code></pre>\n<p>here is second:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/views&quot;)\npublic class ViewController {\n \n    @GetMapping(&quot;login&quot;)\n    public ModelAndView login(){\n        return new ModelAndView(&quot;login&quot;);\n    }\n}\n</code></pre>\n<p>The View Controller dont show the view, Why?  But when i put this GetMapping to first controller then it works fine, Why?</p>\n<p>App is running and when i put /views/login  webbrowser dont hsow anything and i get on terminal:\n2023-06-12 13:20:59.994  INFO 10516 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-06-12 13:20:59.995  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-06-12 13:21:00.003  INFO 10516 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms</p>\n"},{"tags":["java","selenium","junit"],"comments":[{"owner":{"account_id":8405309,"reputation":31,"user_id":6308958,"display_name":"Tushar Likhar"},"score":0,"creation_date":1591336745,"post_id":62209034,"comment_id":110022158,"body_markdown":"Also if i have to group them in TestNG then i will face challenges as i need to update each @Test annotation","body":"Also if i have to group them in TestNG then i will face challenges as i need to update each @Test annotation"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1591340821,"post_id":62209034,"comment_id":110023716,"body_markdown":"_Suppose I have to write @Test for 1000 methods again then it will be very tedious_ can you elaborate in detail how this will become tedious for you ?","body":"<i>Suppose I have to write @Test for 1000 methods again then it will be very tedious</i> can you elaborate in detail how this will become tedious for you ?"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1591340963,"post_id":62209034,"comment_id":110023775,"body_markdown":"_i need to update each `@Test` annotation_ this is one time activity that you need to add suitable group name in your all test method. Ideally this should happen at the time you create test method and implement your code.","body":"<i>i need to update each <code>@Test</code> annotation</i> this is one time activity that you need to add suitable group name in your all test method. Ideally this should happen at the time you create test method and implement your code."}],"answers":[{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1674197656,"post_id":62210891,"comment_id":132666468,"body_markdown":"Note that in JUnit5 `@Test` methods don&#39;t need to be public anymore; in fact &quot;[i]t is generally recommended to omit the public modifier for test classes, test methods, and lifecycle methods&quot; according to the [user guide](https://junit.org/junit5/docs/current/user-guide/#writing-tests-classes-and-methods).","body":"Note that in JUnit5 <code>@Test</code> methods don&#39;t need to be public anymore; in fact &quot;[i]t is generally recommended to omit the public modifier for test classes, test methods, and lifecycle methods&quot; according to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-classes-and-methods\" rel=\"nofollow noreferrer\">user guide</a>."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686571832,"creation_date":1591344730,"answer_id":62210891,"question_id":62209034,"body_markdown":"JUnit&#39;s Annotation Type Test\r\n----------------------------\r\nThe `@Test` annotation tells [JUnit](https://junit.org/junit5/) that the `public void` method to which it is attached can be run as a _test case_. To run the method, [_JUnit_](http://junit.sourceforge.net/javadoc/org/junit/Test.html) first constructs a fresh instance of the class then invokes the annotated method. Any exceptions thrown by the test will be reported by _JUnit_ as a failure. If no exceptions are thrown, the test is assumed to have succeeded.\r\n\r\nExample of a basic JUnit test:\r\n\r\n\tpublic class Example {\r\n\t   @Test \r\n\t   public void method() {\r\n\t       org.junit.Assert.assertTrue( new ArrayList().isEmpty() );\r\n\t   }\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nConclusion\r\n----------\r\nSo if you have to write 1000 tests for 1000 methods, ideally you have to annotate each method with `@Test` annotation.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [Selenium test cannot be run from Eclipse IDE as console remains empty using JUnit5](https://stackoverflow.com/a/76443138/7429447)","title":"I have 100 methods to test using Java selenium Junit. How do i write the methods without using @test annotation","body":"<h2>JUnit's Annotation Type Test</h2>\n<p>The <code>@Test</code> annotation tells <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit</a> that the <code>public void</code> method to which it is attached can be run as a <em>test case</em>. To run the method, <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Test.html\" rel=\"nofollow noreferrer\"><em>JUnit</em></a> first constructs a fresh instance of the class then invokes the annotated method. Any exceptions thrown by the test will be reported by <em>JUnit</em> as a failure. If no exceptions are thrown, the test is assumed to have succeeded.</p>\n<p>Example of a basic JUnit test:</p>\n<pre><code>public class Example {\n   @Test \n   public void method() {\n       org.junit.Assert.assertTrue( new ArrayList().isEmpty() );\n   }\n}\n</code></pre>\n<hr />\n<h2>Conclusion</h2>\n<p>So if you have to write 1000 tests for 1000 methods, ideally you have to annotate each method with <code>@Test</code> annotation.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76443138/7429447\">Selenium test cannot be run from Eclipse IDE as console remains empty using JUnit5</a></li>\n</ul>\n"}],"owner":{"account_id":8405309,"reputation":31,"user_id":6308958,"display_name":"Tushar Likhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62210891,"answer_count":1,"score":1,"last_activity_date":1686571832,"creation_date":1591336662,"question_id":62209034,"body_markdown":"It&#39;s not feasible for me to write `@Test` annotation for each and every method in Selenium. Suppose I have to write `@Test` for 1000 methods again then it will be very tedious. \r\nHow can I avoid this? ","title":"I have 100 methods to test using Java selenium Junit. How do i write the methods without using @test annotation","body":"<p>It's not feasible for me to write <code>@Test</code> annotation for each and every method in Selenium. Suppose I have to write <code>@Test</code> for 1000 methods again then it will be very tedious. \nHow can I avoid this? </p>\n"},{"tags":["java","gradle","groovy","dsl"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1686567548,"post_id":76455700,"comment_id":134811367,"body_markdown":"I’m not sure what you’re asking. There a few “well-known” repos. Any repo that supports Maven can be used, including your own.","body":"I’m not sure what you’re asking. There a few “well-known” repos. Any repo that supports Maven can be used, including your own."},{"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"score":0,"creation_date":1686578062,"post_id":76455700,"comment_id":134813749,"body_markdown":"&quot;Repo, that supports Maven&quot; - already this definition needs explanation :)","body":"&quot;Repo, that supports Maven&quot; - already this definition needs explanation :)"}],"answers":[{"comments":[{"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"score":0,"creation_date":1686579535,"post_id":76456540,"comment_id":134814119,"body_markdown":"&quot;Wide range of sources&quot; regarding Maven/Ant?) Cause there are only Maven, Ivy and flatDir. Just modest three :))","body":"&quot;Wide range of sources&quot; regarding Maven/Ant?) Cause there are only Maven, Ivy and flatDir. Just modest three :))"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686571751,"creation_date":1686571751,"answer_id":76456540,"question_id":76455700,"body_markdown":"For Gradle to fetch dependencies for you it must know how to translate a dependency notation like `com.google.guava:guava:31.0.1-jre` into the actual URLs where it can find the required artefact (and additional information about that artefact).\r\n\r\nIn principle every repository vendor (Maven, Nexus, Artifactory, ...) could have invented their own scheme for doing this and Gradle would have a hard time to support all of them.\r\n\r\nFortunately the repository vendors have converged (at least in the Java landscape) on mostly two formats:\r\n\r\n* Maven: https://maven.apache.org/repository/layout.html\r\n* Ivy: https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories\r\n\r\nAnd these two repository formats are what Gradle supports ([Supported repository types](https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-types)):\r\n\r\n&gt; Gradle supports a wide range of sources for dependencies, both in terms of format and in terms of connectivity. You may resolve dependencies from:\r\n&gt;\r\n&gt; * Different formats\r\n&gt;\r\n&gt;   * a Maven compatible artifact repository (e.g: Maven Central)\r\n&gt;   * an Ivy compatible artifact repository (including custom layouts)\r\n&gt;   * local (flat) directories\r\n\r\nWhen you specify a repository in the form\r\n\r\n    repositories {\r\n        maven {\r\n            //any repos\r\n        }\r\n    }\r\n\r\nYou are actually telling Gradle that the &quot;any repos&quot; repository uses the Maven compatible format.","title":"Why an arbitrary repository, such as nexus/artifactory, defines in maven block in Gradle?","body":"<p>For Gradle to fetch dependencies for you it must know how to translate a dependency notation like <code>com.google.guava:guava:31.0.1-jre</code> into the actual URLs where it can find the required artefact (and additional information about that artefact).</p>\n<p>In principle every repository vendor (Maven, Nexus, Artifactory, ...) could have invented their own scheme for doing this and Gradle would have a hard time to support all of them.</p>\n<p>Fortunately the repository vendors have converged (at least in the Java landscape) on mostly two formats:</p>\n<ul>\n<li>Maven: <a href=\"https://maven.apache.org/repository/layout.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/repository/layout.html</a></li>\n<li>Ivy: <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:ivy_repositories</a></li>\n</ul>\n<p>And these two repository formats are what Gradle supports (<a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-types\" rel=\"nofollow noreferrer\">Supported repository types</a>):</p>\n<blockquote>\n<p>Gradle supports a wide range of sources for dependencies, both in terms of format and in terms of connectivity. You may resolve dependencies from:</p>\n<ul>\n<li><p>Different formats</p>\n<ul>\n<li>a Maven compatible artifact repository (e.g: Maven Central)</li>\n<li>an Ivy compatible artifact repository (including custom layouts)</li>\n<li>local (flat) directories</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>When you specify a repository in the form</p>\n<pre><code>repositories {\n    maven {\n        //any repos\n    }\n}\n</code></pre>\n<p>You are actually telling Gradle that the &quot;any repos&quot; repository uses the Maven compatible format.</p>\n"}],"owner":{"account_id":20392426,"reputation":7,"user_id":20232843,"display_name":"Rostik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76456540,"answer_count":1,"score":0,"last_activity_date":1686571751,"creation_date":1686565360,"question_id":76455700,"body_markdown":"\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        //any repos\r\n    }\r\n}\r\n```\r\n\r\nWhy an arbitrary repository, such as Nexus, Artifactory, e.t.c defines in maven {} block in **Gradle**.  \r\nIt&#39;s obviously another repositories.  \r\nOr we do similarly just because such DSL provided by build tool&#39;s authors?  \r\nCan assume, that &quot;maven-repository&quot; is just a specific binary repo structure followed by Nexus, Artifactory, e.t.c. ","title":"Why an arbitrary repository, such as nexus/artifactory, defines in maven block in Gradle?","body":"<pre><code>repositories {\n    mavenCentral()\n    maven {\n        //any repos\n    }\n}\n</code></pre>\n<p>Why an arbitrary repository, such as Nexus, Artifactory, e.t.c defines in maven {} block in <strong>Gradle</strong>.<br />\nIt's obviously another repositories.<br />\nOr we do similarly just because such DSL provided by build tool's authors?<br />\nCan assume, that &quot;maven-repository&quot; is just a specific binary repo structure followed by Nexus, Artifactory, e.t.c.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1638955675,"post_id":70272608,"comment_id":124222773,"body_markdown":"&quot;can you help me to resolve your code&quot; - who are you addressing here?","body":"&quot;can you help me to resolve your code&quot; - who are you addressing here?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638956409,"post_id":70272608,"comment_id":124223031,"body_markdown":"`Arrays.sort(box2);` I don&#39;t think you need to do this. Try removing that line.","body":"<code>Arrays.sort(box2);</code> I don&#39;t think you need to do this. Try removing that line."}],"answers":[{"comments":[{"owner":{"account_id":1716518,"reputation":871,"user_id":1573464,"accept_rate":72,"display_name":"Superman"},"score":0,"creation_date":1686367730,"post_id":70274322,"comment_id":134792932,"body_markdown":"I&#39;m trying to understand your logic. But somehow, not able to. Can you assist me in understanding it? \n\nspecifically this part.\n\nbox A: 1, 3, 7\nbox B: 2, 8, 3\n1&lt;2, 3&lt;8, !7&lt;9 -&gt; Incompatible","body":"I&#39;m trying to understand your logic. But somehow, not able to. Can you assist me in understanding it?   specifically this part.  box A: 1, 3, 7 box B: 2, 8, 3 1&lt;2, 3&lt;8, !7&lt;9 -&gt; Incompatible"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1686571797,"post_id":70274322,"comment_id":134812219,"body_markdown":"There was a typo in this answer, which I fixed now.  !7&lt;9 should be !7&lt;3. So in the second example box A does not fit inside box B because there is no ordering of the dimensions (=rotations of the box) that makes each value of A smaller than a matching value of B.","body":"There was a typo in this answer, which I fixed now.  !7&lt;9 should be !7&lt;3. So in the second example box A does not fit inside box B because there is no ordering of the dimensions (=rotations of the box) that makes each value of A smaller than a matching value of B."}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686571748,"creation_date":1638963304,"answer_id":70274322,"question_id":70272608,"body_markdown":"I think it&#39;s always good to start off by formulating the requirement you want to solve. So you want to determine for two boxes with dimensions x, y, z which box will fit into the other, if any. I am assuming that boxes with equal dimensions will not fit into each other.\r\n\r\nBy sorting the dimensions in ascending order you will compare the two smallest dimensions first, then the second smallest and so on.\r\n\r\nA box for which all these sorted dimensions are smaller than those of the other, will fit into the other:\r\n\r\n    box A: 1, 4, 8\r\n    box B: 2, 5, 9\r\n    1&lt;2, 4&lt;5, 8&lt;9 -&gt; A &lt; B\r\n\r\nIf the sorted dimensions have contradictory rankings, the boxes are incompatible:\r\n\r\n    box A: 1, 3, 7\r\n    box B: 2, 8, 3\r\n    1&lt;2, 3&lt;8, !7&lt;3 -&gt; Incompatible\r\n\r\nSo I think your code could be much simpler:\r\n\r\n    if (x1 &lt; y1 &amp;&amp; x2 &lt; y2 &amp;&amp; x3 &lt; y3) {\r\n        System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n    }\r\n    else if (x1 &gt; y1 &amp;&amp; x2 &gt; y2 &amp;&amp; x3 &gt; y3) {\r\n        System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;Incompatible&quot;);\r\n    }\r\n","title":"Iterating over arrays Boxes","body":"<p>I think it's always good to start off by formulating the requirement you want to solve. So you want to determine for two boxes with dimensions x, y, z which box will fit into the other, if any. I am assuming that boxes with equal dimensions will not fit into each other.</p>\n<p>By sorting the dimensions in ascending order you will compare the two smallest dimensions first, then the second smallest and so on.</p>\n<p>A box for which all these sorted dimensions are smaller than those of the other, will fit into the other:</p>\n<pre><code>box A: 1, 4, 8\nbox B: 2, 5, 9\n1&lt;2, 4&lt;5, 8&lt;9 -&gt; A &lt; B\n</code></pre>\n<p>If the sorted dimensions have contradictory rankings, the boxes are incompatible:</p>\n<pre><code>box A: 1, 3, 7\nbox B: 2, 8, 3\n1&lt;2, 3&lt;8, !7&lt;3 -&gt; Incompatible\n</code></pre>\n<p>So I think your code could be much simpler:</p>\n<pre><code>if (x1 &lt; y1 &amp;&amp; x2 &lt; y2 &amp;&amp; x3 &lt; y3) {\n    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n}\nelse if (x1 &gt; y1 &amp;&amp; x2 &gt; y2 &amp;&amp; x3 &gt; y3) {\n    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n}\nelse {\n    System.out.println(&quot;Incompatible&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23493659,"reputation":1,"user_id":17544368,"display_name":"Olivier Boudigue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686571748,"creation_date":1638955466,"question_id":70272608,"body_markdown":"```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Box 1 dimensions\r\n        int x1 = scanner.nextInt();\r\n        int y1 = scanner.nextInt();\r\n        int z1 = scanner.nextInt();\r\n        int[] box1 = {x1, y1, z1};\r\n        Arrays.sort(box1);\r\n        x1 = box1[0];\r\n        y1 = box1[1];\r\n        z1 = box1[2];\r\n        // Box 2 dimensions\r\n        int x2 = scanner.nextInt();\r\n        int y2 = scanner.nextInt();\r\n        int z2 = scanner.nextInt();\r\n        int[] box2 = {x2, y2, z2};\r\n        Arrays.sort(box2);\r\n        x2 = box2[0];\r\n        y2 = box2[1];\r\n        z2 = box2[2];\r\n        if (x1 &lt; x2) {\r\n            if (y1 &lt;= y2) {\r\n                if (z1 &lt;= z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;Incompatible&quot;);\r\n            }\r\n        }\r\n        else if (x1 &gt; x2) {\r\n            if (y1 &gt;= y2) {\r\n                if (z1 &gt;= z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;Incompatible&quot;);\r\n            }\r\n        }\r\n        else if (x1 == x2) {\r\n            if (y1 &lt; y2) {\r\n                if (z1 &lt;= z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else if (y1 &gt; y2) {\r\n                if (z1 &gt;= z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incompatible&quot;);\r\n                }\r\n            }\r\n            else {\r\n                if (z1 &lt; z2) {\r\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\r\n                }\r\n                else if (z1 &gt; z2) {\r\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Box 1 = Box 2&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nCan you help me to resolve your code? \r\nI think there are a little mistakes because :\r\n&gt;Failed test #3 of 7. Wrong answer\r\n\r\nThis is a sample test from the problem statement!\r\n\r\nTest input:\r\n```none\r\n1 3 7\r\n2 8 3\r\n```\r\nCorrect output:  \r\n`Incompatible`\r\n\r\nYour code output:  \r\n`Box 1 &lt; Box 2`","title":"Iterating over arrays Boxes","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        // Box 1 dimensions\n        int x1 = scanner.nextInt();\n        int y1 = scanner.nextInt();\n        int z1 = scanner.nextInt();\n        int[] box1 = {x1, y1, z1};\n        Arrays.sort(box1);\n        x1 = box1[0];\n        y1 = box1[1];\n        z1 = box1[2];\n        // Box 2 dimensions\n        int x2 = scanner.nextInt();\n        int y2 = scanner.nextInt();\n        int z2 = scanner.nextInt();\n        int[] box2 = {x2, y2, z2};\n        Arrays.sort(box2);\n        x2 = box2[0];\n        y2 = box2[1];\n        z2 = box2[2];\n        if (x1 &lt; x2) {\n            if (y1 &lt;= y2) {\n                if (z1 &lt;= z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                System.out.println(&quot;Incompatible&quot;);\n            }\n        }\n        else if (x1 &gt; x2) {\n            if (y1 &gt;= y2) {\n                if (z1 &gt;= z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                System.out.println(&quot;Incompatible&quot;);\n            }\n        }\n        else if (x1 == x2) {\n            if (y1 &lt; y2) {\n                if (z1 &lt;= z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else if (y1 &gt; y2) {\n                if (z1 &gt;= z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Incompatible&quot;);\n                }\n            }\n            else {\n                if (z1 &lt; z2) {\n                    System.out.println(&quot;Box 1 &lt; Box 2&quot;);\n                }\n                else if (z1 &gt; z2) {\n                    System.out.println(&quot;Box 1 &gt; Box 2&quot;);\n                }\n                else {\n                    System.out.println(&quot;Box 1 = Box 2&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Can you help me to resolve your code?\nI think there are a little mistakes because :</p>\n<blockquote>\n<p>Failed test #3 of 7. Wrong answer</p>\n</blockquote>\n<p>This is a sample test from the problem statement!</p>\n<p>Test input:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 3 7\n2 8 3\n</code></pre>\n<p>Correct output:<br />\n<code>Incompatible</code></p>\n<p>Your code output:<br />\n<code>Box 1 &lt; Box 2</code></p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677081482,"post_id":75535203,"comment_id":133267926,"body_markdown":"Ctrl+Shift+O doesnt import new classes, just reformats the input statements. Alt+Enter usually suggests fixes.","body":"Ctrl+Shift+O doesnt import new classes, just reformats the input statements. Alt+Enter usually suggests fixes."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677081547,"post_id":75535203,"comment_id":133267955,"body_markdown":"In Eclipse Ctrl+Shift+O does indeed import new classes if you have a statement referring to an unknown type.","body":"In Eclipse Ctrl+Shift+O does indeed import new classes if you have a statement referring to an unknown type."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677083267,"post_id":75535203,"comment_id":133268523,"body_markdown":"`Alt + Shift + O` is what I use and it is the same behavior as `Ctrl + Shift + O` in STS 4.15, a flavor of Eclipse. You can look at it by using `Ctrl + K - S` (That is, hold Ctrl and then input K, then S. Doesn&#39;t need to be super quick) and filter by &#39;organize&#39;. The one you look for is `editor.action.organizeImports`. It is odd that is not working for you, assuming both of your editors are updated.","body":"<code>Alt + Shift + O</code> is what I use and it is the same behavior as <code>Ctrl + Shift + O</code> in STS 4.15, a flavor of Eclipse. You can look at it by using <code>Ctrl + K - S</code> (That is, hold Ctrl and then input K, then S. Doesn&#39;t need to be super quick) and filter by &#39;organize&#39;. The one you look for is <code>editor.action.organizeImports</code>. It is odd that is not working for you, assuming both of your editors are updated."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677084236,"post_id":75535203,"comment_id":133268881,"body_markdown":"@JettoMart&#237;nez I dont know. The ArrayList line is red, I press Alt+Shift+O over and over but it never imports it.","body":"@JettoMart&#237;nez I dont know. The ArrayList line is red, I press Alt+Shift+O over and over but it never imports it."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677084716,"post_id":75535203,"comment_id":133269040,"body_markdown":"Well, other than the version of VsCode, I can&#39;t really think of anything in particular. I tried with `ArrayList` in the three LTS versions (Just in case they changed something that could not be resolved to a Collection/List) and it worked fine. If anything, I had to wait a bit between JDK changes. I mention the version since some package managers have older versions of VsCode (Manjaro&#39;s pacman, for example), but I highly doubt they didn&#39;t include such a universal keybinding early.","body":"Well, other than the version of VsCode, I can&#39;t really think of anything in particular. I tried with <code>ArrayList</code> in the three LTS versions (Just in case they changed something that could not be resolved to a Collection/List) and it worked fine. If anything, I had to wait a bit between JDK changes. I mention the version since some package managers have older versions of VsCode (Manjaro&#39;s pacman, for example), but I highly doubt they didn&#39;t include such a universal keybinding early."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1677085116,"post_id":75535203,"comment_id":133269168,"body_markdown":"@JettoMart&#237;nez To clarify, you can write like &quot;Dimension d = new Dimension();&quot; get the red line over &quot;Dimension&quot; press Alt+Shift+O and it imports java.awt.Dimension; automatically? Without any need for hovering over the actual line?","body":"@JettoMart&#237;nez To clarify, you can write like &quot;Dimension d = new Dimension();&quot; get the red line over &quot;Dimension&quot; press Alt+Shift+O and it imports java.awt.Dimension; automatically? Without any need for hovering over the actual line?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677089937,"post_id":75535203,"comment_id":133270599,"body_markdown":"Yes. It can remove unused imports as well.","body":"Yes. It can remove unused imports as well."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1677812571,"post_id":75535203,"comment_id":133415701,"body_markdown":"Can you show your operation process? It would be nice to be able to make a GIF or video.","body":"Can you show your operation process? It would be nice to be able to make a GIF or video."}],"answers":[{"tags":[],"owner":{"account_id":24257326,"reputation":9,"user_id":18207483,"display_name":"X O"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686571723,"creation_date":1677088416,"answer_id":75536443,"question_id":75535203,"body_markdown":"You can go to the line then press Ctrl+. then you can choose to add all the imports needed or just java.util.ArrayList. If you just want to add java.util.ArrayList you can press Ctrl+. and . again while you are pressing Ctrl.(If that&#39;s what you&#39;re asking.)","title":"Keyboard shortcut for missing imports in Java, VSCode?","body":"<p>You can go to the line then press Ctrl+. then you can choose to add all the imports needed or just java.util.ArrayList. If you just want to add java.util.ArrayList you can press Ctrl+. and . again while you are pressing Ctrl.(If that's what you're asking.)</p>\n"}],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686571723,"creation_date":1677081387,"question_id":75535203,"body_markdown":"So, first off. The Shift + Alt + O does not solve my problem. \r\n\r\nIn Eclipse I can type like\r\n\r\n```\r\nArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n```\r\nThen press Ctrl + Shift + O and the import statement is automatically added up top. \r\n\r\n\r\nI tried finding a similar command for VSCode and thought the Organize Imports would do it, but it doesn&#39;t, it just removes unused imports and removes extra lines. It&#39;s weird because the quick fix option lets you import if you hover over the redline.\r\n\r\nSo is there a way to sort of create a keyboard shortcut to import missing files?","title":"Keyboard shortcut for missing imports in Java, VSCode?","body":"<p>So, first off. The Shift + Alt + O does not solve my problem.</p>\n<p>In Eclipse I can type like</p>\n<pre><code>ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Then press Ctrl + Shift + O and the import statement is automatically added up top.</p>\n<p>I tried finding a similar command for VSCode and thought the Organize Imports would do it, but it doesn't, it just removes unused imports and removes extra lines. It's weird because the quick fix option lets you import if you hover over the redline.</p>\n<p>So is there a way to sort of create a keyboard shortcut to import missing files?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9849,"page":376,"page_size":100}
